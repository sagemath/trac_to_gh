# Issue 24137: Upgrade to NetworkX 2.1

archive/issues_024137.json:
```json
{
    "body": "CC:  @kiwifb @slel @antonio-rojas\n\nKeywords: upgrade, networkx\n\nSage ships NetworkX 1.11. Version 2.1 has been [released on PyPI.](https://pypi.python.org/pypi/networkx/)\n\nWe also take this occasion to drop deprecated in #18375 NetworkXGraphBackend.\n\nThe upstream zip is here: https://files.pythonhosted.org/packages/11/42/f951cc6838a4dff6ce57211c4d7f8444809ccbe2134179950301e5c4c83c/networkx-2.1.zip\n\nIssue created by migration from https://trac.sagemath.org/ticket/24374\n\n",
    "closed_at": "2018-06-29T22:34:12Z",
    "created_at": "2017-12-14T11:48:15Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Upgrade to NetworkX 2.1",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24137",
    "user": "https://github.com/dimpase"
}
```
CC:  @kiwifb @slel @antonio-rojas

Keywords: upgrade, networkx

Sage ships NetworkX 1.11. Version 2.1 has been [released on PyPI.](https://pypi.python.org/pypi/networkx/)

We also take this occasion to drop deprecated in #18375 NetworkXGraphBackend.

The upstream zip is here: https://files.pythonhosted.org/packages/11/42/f951cc6838a4dff6ce57211c4d7f8444809ccbe2134179950301e5c4c83c/networkx-2.1.zip

Issue created by migration from https://trac.sagemath.org/ticket/24374





---

archive/issue_comments_337950.json:
```json
{
    "body": "reported at https://github.com/networkx/networkx/issues/2799",
    "created_at": "2017-12-15T09:32:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337950",
    "user": "https://github.com/dimpase"
}
```

reported at https://github.com/networkx/networkx/issues/2799



---

archive/issue_comments_337951.json:
```json
{
    "body": "the problem is in `networkx` code a test for `isinstance(n2,int)` should be by right for\n`isinstance(n2,numbers.Integral)`\n\nWith the appropriate change in `algorithms/bipartite/generators.py`, line 67 in master (2.1), everything works\n\n```\nimport numbers\nif isinstance(n2,numbers.Integral):\n```",
    "created_at": "2017-12-15T11:14:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337951",
    "user": "https://github.com/dimpase"
}
```

the problem is in `networkx` code a test for `isinstance(n2,int)` should be by right for
`isinstance(n2,numbers.Integral)`

With the appropriate change in `algorithms/bipartite/generators.py`, line 67 in master (2.1), everything works

```
import numbers
if isinstance(n2,numbers.Integral):
```



---

archive/issue_comments_337952.json:
```json
{
    "body": "Since a new release of NetworkX has the fix to the observed problems, this could move forward.",
    "created_at": "2018-02-14T11:15:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337952",
    "user": "https://github.com/slel"
}
```

Since a new release of NetworkX has the fix to the observed problems, this could move forward.



---

archive/issue_comments_337953.json:
```json
{
    "body": "I'll make an update.",
    "created_at": "2018-02-15T12:28:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337953",
    "user": "https://github.com/dimpase"
}
```

I'll make an update.



---

archive/issue_comments_337954.json:
```json
{
    "body": "Let me know if I can help.",
    "created_at": "2018-03-28T18:42:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337954",
    "user": "https://github.com/dcoudert"
}
```

Let me know if I can help.



---

archive/issue_comments_337955.json:
```json
{
    "body": "I'll try to work on the actual upgrade if nobody objects.",
    "created_at": "2018-06-21T17:12:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337955",
    "user": "https://github.com/saraedum"
}
```

I'll try to work on the actual upgrade if nobody objects.



---

archive/issue_comments_337956.json:
```json
{
    "body": "Oh, another ticket I forgot about. Sorry. Please have a go at it - I am marking exams this week...",
    "created_at": "2018-06-21T17:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337956",
    "user": "https://github.com/dimpase"
}
```

Oh, another ticket I forgot about. Sorry. Please have a go at it - I am marking exams this week...



---

archive/issue_comments_337957.json:
```json
{
    "body": "Attachment [networkx-2.1.tar.gz](tarball://root/attachments/some-uuid/ticket24374/networkx-2.1.tar.gz) by @saraedum created at 2018-06-21 23:18:43\n\nrenamed tarball from github",
    "created_at": "2018-06-21T23:18:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337957",
    "user": "https://github.com/saraedum"
}
```

Attachment [networkx-2.1.tar.gz](tarball://root/attachments/some-uuid/ticket24374/networkx-2.1.tar.gz) by @saraedum created at 2018-06-21 23:18:43

renamed tarball from github



---

archive/issue_comments_337958.json:
```json
{
    "body": "I pushed a branch that passes long doctests in `sage/graph/`. I am now running long doctests for all of sage.\n\n---\nNew commits:",
    "created_at": "2018-06-21T23:20:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337958",
    "user": "https://github.com/saraedum"
}
```

I pushed a branch that passes long doctests in `sage/graph/`. I am now running long doctests for all of sage.

---
New commits:



---

archive/issue_comments_337959.json:
```json
{
    "body": "The zip archive from pypi is acceptable as a source and we probably should use it instead over renaming the github tarball.",
    "created_at": "2018-06-21T23:21:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337959",
    "user": "https://github.com/kiwifb"
}
```

The zip archive from pypi is acceptable as a source and we probably should use it instead over renaming the github tarball.



---

archive/issue_comments_337960.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-06-21T23:23:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337960",
    "user": "https://github.com/saraedum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_337961.json:
```json
{
    "body": "I would not be surprised if some things are broken now. There are a lot of subtle changes in networkx and not all code paths are doctested I believe.\n\nSome more comments for potential reviewers:\n* I simplified the SPKG.txt as the changelog has not been mantained for a few years it seems. Also, I am not sure whether the dependencies section is actually useful; numpy and scipy are not hard dependencies. Furthermore, I did not drop src/doc/data as mentioned in the SPKG.txt as I do not see why we should remove that from the source package.\n* I upgraded copyright headers. When there were no copyright headers at all, I added new ones and seeded them with everyone in the git history of the file. The lists of authors are really lengthy but a lot of people have made little changes to these files.\n* I dropped NetworkXGraphBackend as it is not used anywhere. There might still be some pickles around that use this? If so, then we should try to upgrade them on unpickling.\n* The recursive topsort has disappeared it seems.\n* The balanced tree implementation now raises errors if you feed it invalid heights or degrees.",
    "created_at": "2018-06-21T23:23:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337961",
    "user": "https://github.com/saraedum"
}
```

I would not be surprised if some things are broken now. There are a lot of subtle changes in networkx and not all code paths are doctested I believe.

Some more comments for potential reviewers:
* I simplified the SPKG.txt as the changelog has not been mantained for a few years it seems. Also, I am not sure whether the dependencies section is actually useful; numpy and scipy are not hard dependencies. Furthermore, I did not drop src/doc/data as mentioned in the SPKG.txt as I do not see why we should remove that from the source package.
* I upgraded copyright headers. When there were no copyright headers at all, I added new ones and seeded them with everyone in the git history of the file. The lists of authors are really lengthy but a lot of people have made little changes to these files.
* I dropped NetworkXGraphBackend as it is not used anywhere. There might still be some pickles around that use this? If so, then we should try to upgrade them on unpickling.
* The recursive topsort has disappeared it seems.
* The balanced tree implementation now raises errors if you feed it invalid heights or degrees.



---

archive/issue_comments_337962.json:
```json
{
    "body": "It is totally not kosher to just drop functionality like NetworkXGraphBackend. Why,\nwhat's wrong with it?\nThat it is not used in the Sage library does not mean it is not used by users.\n\nAnd even if you did that it would require a deprecation rather than outright removal...",
    "created_at": "2018-06-22T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337962",
    "user": "https://github.com/dimpase"
}
```

It is totally not kosher to just drop functionality like NetworkXGraphBackend. Why,
what's wrong with it?
That it is not used in the Sage library does not mean it is not used by users.

And even if you did that it would require a deprecation rather than outright removal...



---

archive/issue_comments_337963.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-06-22T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337963",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_337964.json:
```json
{
    "body": "NetworkXGraphBackend does not seem to be accessible without explicitly importing it. I do not think that things that are internal need to be deprecated before removal.",
    "created_at": "2018-06-22T00:49:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337964",
    "user": "https://github.com/saraedum"
}
```

NetworkXGraphBackend does not seem to be accessible without explicitly importing it. I do not think that things that are internal need to be deprecated before removal.



---

archive/issue_comments_337965.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-06-22T00:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337965",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_337966.json:
```json
{
    "body": "Btw., it had been deprecated in #18375 it seems.",
    "created_at": "2018-06-22T00:53:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337966",
    "user": "https://github.com/saraedum"
}
```

Btw., it had been deprecated in #18375 it seems.



---

archive/issue_comments_337967.json:
```json
{
    "body": "Note that some of the NetworkXGraphBackend \"doctests\" start like this:\n\n```\nsage: G = DiGraph(digraphs.Path(5),implementation=\"networkx\")\n/usr/bin/sage-ipython:1: DeprecationWarning: The 'implementation' keyword is deprecated, and the graphs has been stored as a 'c_graph'\nSee http://trac.sagemath.org/18375 for details.\n  #!/usr/bin/env python2\nsage: G = G._backend\n```\n\nHowever, `G` is not a `NetworkXGraphBackend`:\n\n```\nsage: type(G).mro()\n[<type 'sage.graphs.base.sparse_graph.SparseGraphBackend'>,\n <type 'sage.graphs.base.c_graph.CGraphBackend'>,\n <type 'sage.graphs.base.graph_backends.GenericGraphBackend'>,\n <type 'sage.structure.sage_object.SageObject'>,\n <type 'object'>]\n```",
    "created_at": "2018-06-22T00:57:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337967",
    "user": "https://github.com/saraedum"
}
```

Note that some of the NetworkXGraphBackend "doctests" start like this:

```
sage: G = DiGraph(digraphs.Path(5),implementation="networkx")
/usr/bin/sage-ipython:1: DeprecationWarning: The 'implementation' keyword is deprecated, and the graphs has been stored as a 'c_graph'
See http://trac.sagemath.org/18375 for details.
  #!/usr/bin/env python2
sage: G = G._backend
```

However, `G` is not a `NetworkXGraphBackend`:

```
sage: type(G).mro()
[<type 'sage.graphs.base.sparse_graph.SparseGraphBackend'>,
 <type 'sage.graphs.base.c_graph.CGraphBackend'>,
 <type 'sage.graphs.base.graph_backends.GenericGraphBackend'>,
 <type 'sage.structure.sage_object.SageObject'>,
 <type 'object'>]
```



---

archive/issue_comments_337968.json:
```json
{
    "body": "Replying to [comment:13 fbissey]:\n> The zip archive from pypi is acceptable as a source and we probably should use it instead over renaming the github tarball.\n\n\nOk. I don't really mind (except for recomputing the checksums.) I just thought renaming is nice because the archive was named `NetworkX-NetworkX-2.1.tar.gz` or something like that. I also wouldn't mind to use this weird name instead. Is there some reason to prefer pypi over github?",
    "created_at": "2018-06-22T01:02:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337968",
    "user": "https://github.com/saraedum"
}
```

Replying to [comment:13 fbissey]:
> The zip archive from pypi is acceptable as a source and we probably should use it instead over renaming the github tarball.


Ok. I don't really mind (except for recomputing the checksums.) I just thought renaming is nice because the archive was named `NetworkX-NetworkX-2.1.tar.gz` or something like that. I also wouldn't mind to use this weird name instead. Is there some reason to prefer pypi over github?



---

archive/issue_comments_337969.json:
```json
{
    "body": "OK, it's fine then. I've modified the ticket description to this effect.\n(Still needs review).\n\nBy the way, I was going to propose more upstream changes, so that it respects integral function arguments in the Python numerical tower, rather than starting screaming any time it's not `int()`. I only did so in a very minimal way, to fix all the uses in Sage library.\nSee https://github.com/networkx/networkx/pull/2800",
    "created_at": "2018-06-22T01:04:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337969",
    "user": "https://github.com/dimpase"
}
```

OK, it's fine then. I've modified the ticket description to this effect.
(Still needs review).

By the way, I was going to propose more upstream changes, so that it respects integral function arguments in the Python numerical tower, rather than starting screaming any time it's not `int()`. I only did so in a very minimal way, to fix all the uses in Sage library.
See https://github.com/networkx/networkx/pull/2800



---

archive/issue_comments_337970.json:
```json
{
    "body": "Replying to [comment:20 saraedum]:\n> Replying to [comment:13 fbissey]:\n> > The zip archive from pypi is acceptable as a source and we probably should use it instead over renaming the github tarball.\n\n> \n> Ok. I don't really mind (except for recomputing the checksums.) I just thought renaming is nice because the archive was named `NetworkX-NetworkX-2.1.tar.gz` or something like that. I also wouldn't mind to use this weird name instead. Is there some reason to prefer pypi over github?\n\n\nWell pypi ship distribution archives rather than raw tarballs. It is a bit like the difference between a sdist and a raw tarball for an autoconf project. Except that usually the python raw stuff is a bit more easily usable than the raw autoconf stuff where `configure` and friends haven't been generated.",
    "created_at": "2018-06-22T01:06:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337970",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:20 saraedum]:
> Replying to [comment:13 fbissey]:
> > The zip archive from pypi is acceptable as a source and we probably should use it instead over renaming the github tarball.

> 
> Ok. I don't really mind (except for recomputing the checksums.) I just thought renaming is nice because the archive was named `NetworkX-NetworkX-2.1.tar.gz` or something like that. I also wouldn't mind to use this weird name instead. Is there some reason to prefer pypi over github?


Well pypi ship distribution archives rather than raw tarballs. It is a bit like the difference between a sdist and a raw tarball for an autoconf project. Except that usually the python raw stuff is a bit more easily usable than the raw autoconf stuff where `configure` and friends haven't been generated.



---

archive/issue_comments_337971.json:
```json
{
    "body": "About github tarballs vs pypi tarballs: similar discussion on another ticket:\n- #25083#comment:3",
    "created_at": "2018-06-22T01:38:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337971",
    "user": "https://github.com/slel"
}
```

About github tarballs vs pypi tarballs: similar discussion on another ticket:
- #25083#comment:3



---

archive/issue_comments_337972.json:
```json
{
    "body": "Changing keywords from \"\" to \"upgrade, networkx\".",
    "created_at": "2018-06-22T01:38:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337972",
    "user": "https://github.com/slel"
}
```

Changing keywords from "" to "upgrade, networkx".



---

archive/issue_comments_337973.json:
```json
{
    "body": "Replying to [comment:22 fbissey]:\n> Replying to [comment:20 saraedum]:\n> > Replying to [comment:13 fbissey]:\n> > > The zip archive from pypi is acceptable as a source and we probably should use it instead over renaming the github tarball.\n\n> > \n> > Ok. I don't really mind (except for recomputing the checksums.) I just thought renaming is nice because the archive was named `NetworkX-NetworkX-2.1.tar.gz` or something like that. I also wouldn't mind to use this weird name instead. Is there some reason to prefer pypi over github?\n  \n> \n> Well pypi ship distribution archives rather than raw tarballs. It is a bit like the difference between a sdist and a raw tarball for an autoconf project. Except that usually the python raw stuff is a bit more easily usable than the raw autoconf stuff where `configure` and friends haven't been generated.\n\n\nI think the general practice is to upload distribution tarballs for github releases as well, that's at least what I do ;)",
    "created_at": "2018-06-25T13:32:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337973",
    "user": "https://github.com/saraedum"
}
```

Replying to [comment:22 fbissey]:
> Replying to [comment:20 saraedum]:
> > Replying to [comment:13 fbissey]:
> > > The zip archive from pypi is acceptable as a source and we probably should use it instead over renaming the github tarball.

> > 
> > Ok. I don't really mind (except for recomputing the checksums.) I just thought renaming is nice because the archive was named `NetworkX-NetworkX-2.1.tar.gz` or something like that. I also wouldn't mind to use this weird name instead. Is there some reason to prefer pypi over github?
  
> 
> Well pypi ship distribution archives rather than raw tarballs. It is a bit like the difference between a sdist and a raw tarball for an autoconf project. Except that usually the python raw stuff is a bit more easily usable than the raw autoconf stuff where `configure` and friends haven't been generated.


I think the general practice is to upload distribution tarballs for github releases as well, that's at least what I do ;)



---

archive/issue_comments_337974.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-25T13:37:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337974",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_337975.json:
```json
{
    "body": "Everything seems to work now.",
    "created_at": "2018-06-25T14:02:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337975",
    "user": "https://github.com/saraedum"
}
```

Everything seems to work now.



---

archive/issue_comments_337976.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-06-25T14:02:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337976",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_337977.json:
```json
{
    "body": "There is something wrong with this patch. It is about upgrading NetworkX to version 2.1 (clearly needed), but it also includes modifications to various parts of the code: modifying copyright descriptions in some files (`digraph.py`, `bipartite_graph.py`, `degree_sequence.py`, etc.), droping implicit assumption about vertex ordering, removing an input parameter in `cliques_get_max_clique_graph`, etc. Why ?\n\nIf you want to correct an error like in you last commit [9553d85](https://git.sagemath.org/sage.git/commit/?id=9553d85e804047b65ce218645563b2140c2d0b0c), you can open a specific ticket.\n\nThe proposed modification of copyright in `digraph.py` is really nice and I don't know how you get the data, but it should not be done here.",
    "created_at": "2018-06-25T17:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337977",
    "user": "https://github.com/dcoudert"
}
```

There is something wrong with this patch. It is about upgrading NetworkX to version 2.1 (clearly needed), but it also includes modifications to various parts of the code: modifying copyright descriptions in some files (`digraph.py`, `bipartite_graph.py`, `degree_sequence.py`, etc.), droping implicit assumption about vertex ordering, removing an input parameter in `cliques_get_max_clique_graph`, etc. Why ?

If you want to correct an error like in you last commit [9553d85](https://git.sagemath.org/sage.git/commit/?id=9553d85e804047b65ce218645563b2140c2d0b0c), you can open a specific ticket.

The proposed modification of copyright in `digraph.py` is really nice and I don't know how you get the data, but it should not be done here.



---

archive/issue_comments_337978.json:
```json
{
    "body": "Please see #24374#comment:14 about the compilation of the copyrights. Sure the copyright changes are not part of the upgrade but it is imo customary here to add such small non-functional changes, e.g., we recently do this for pyflakes changes.\n\nAll the changes (except the copyright) in these tickets were necessary to make doctests pass after the networkx upgrade. In particular this is the case for the clique (the parameter does not exist in networkx anymore) and matching changes (there apparently was an implicit ordering before.)",
    "created_at": "2018-06-25T17:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337978",
    "user": "https://github.com/saraedum"
}
```

Please see #24374#comment:14 about the compilation of the copyrights. Sure the copyright changes are not part of the upgrade but it is imo customary here to add such small non-functional changes, e.g., we recently do this for pyflakes changes.

All the changes (except the copyright) in these tickets were necessary to make doctests pass after the networkx upgrade. In particular this is the case for the clique (the parameter does not exist in networkx anymore) and matching changes (there apparently was an implicit ordering before.)



---

archive/issue_comments_337979.json:
```json
{
    "body": "That said, if you want to split this up, feel free to do so.",
    "created_at": "2018-06-25T17:14:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337979",
    "user": "https://github.com/saraedum"
}
```

That said, if you want to split this up, feel free to do so.



---

archive/issue_comments_337980.json:
```json
{
    "body": "I see. I checked all the changes in the codes, and I agree it's \"minor\". So go for it.",
    "created_at": "2018-06-25T17:27:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337980",
    "user": "https://github.com/dcoudert"
}
```

I see. I checked all the changes in the codes, and I agree it's "minor". So go for it.



---

archive/issue_comments_337981.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-06-26T22:25:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337981",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_337982.json:
```json
{
    "body": "looks good to me.",
    "created_at": "2018-06-26T22:25:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337982",
    "user": "https://github.com/dimpase"
}
```

looks good to me.



---

archive/issue_events_061629.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-29T22:34:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24137#event-61629"
}
```



---

archive/issue_comments_337983.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-06-29T22:34:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24137#issuecomment-337983",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
