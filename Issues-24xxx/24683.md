# Issue 24683: fix various issues in for weighted Hamiltonian path.

archive/issues_024446.json:
```json
{
    "body": "It says \"minimal\", but computes \"maximal\". The latter actually makes sense, as the unweighted case by right computes a longest path.\n\nThis was reported on [sage-devel](https://groups.google.com/d/msg/sage-devel/QLSPBLK4fek/rjdtNhcUCAAJ).\n\nThis patch introduces a new implementation of the hamiltonian path method that fixes several bugs and enables to compute both a minimum or maximum weight hamiltonian path.\n\nCC:  @jm58660\n\nBranch/Commit: 235e38b4091001da1289ca51365a4bd6d3b3f66a\n\nReviewer: Jori M\u00e4ntysalo\n\nAuthor: David Coudert\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24683\n\n",
    "closed_at": "2018-02-15T22:46:16Z",
    "created_at": "2018-02-07T14:42:18Z",
    "labels": [
        "component: graph theory",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "fix various issues in for weighted Hamiltonian path.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24683",
    "user": "https://github.com/dimpase"
}
```
It says "minimal", but computes "maximal". The latter actually makes sense, as the unweighted case by right computes a longest path.

This was reported on [sage-devel](https://groups.google.com/d/msg/sage-devel/QLSPBLK4fek/rjdtNhcUCAAJ).

This patch introduces a new implementation of the hamiltonian path method that fixes several bugs and enables to compute both a minimum or maximum weight hamiltonian path.

CC:  @jm58660

Branch/Commit: 235e38b4091001da1289ca51365a4bd6d3b3f66a

Reviewer: Jori Mäntysalo

Author: David Coudert

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24683





---

archive/issue_comments_462671.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,4 @@\n It says \"minimal\", but computes \"maximal\". The latter actually makes sense, as the unweighted case by right computes a longest path.\n \n+This was reported on [sage-devel](https://groups.google.com/d/msg/sage-devel/QLSPBLK4fek/rjdtNhcUCAAJ).\n+\n``````\n",
    "created_at": "2018-02-07T14:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462671",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,4 @@
 It says "minimal", but computes "maximal". The latter actually makes sense, as the unweighted case by right computes a longest path.
 
+This was reported on [sage-devel](https://groups.google.com/d/msg/sage-devel/QLSPBLK4fek/rjdtNhcUCAAJ).
+
``````




---

archive/issue_comments_462672.json:
```json
{
    "body": "<a id='comment:2'></a>\nWhile playing with the `hamiltonian_path` method, I found the following bug:\n\n```\nsage: H = Graph([(0, 1, 1), (0, 2, 3), (1, 3, 1), (2, 3, 1)])\nsage: H.hamiltonian_path(use_edge_labels=1, s=0, t=2)\n(0, None)\nsage: H.longest_path(use_edge_labels=1, s=0, t=2)\n(3, Subgraph of (): Graph on 2 vertices)\n```\nA hamiltonian path in H is `[0, 1, 3, 2]` and has weight 3. The `longest_path` method also finds a path between 0 to 2 of weight 3, but it has only 1 edge and so is not hamiltonian.\n\nGiven this bug, I propose to stop calling longest path when searching for a hamiltonian path.\n\nThis way, it will also be easier to find a hamiltonian path of minimum or maximum weight.\nI will push a branch soon.",
    "created_at": "2018-02-11T16:53:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462672",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:2'></a>
While playing with the `hamiltonian_path` method, I found the following bug:

```
sage: H = Graph([(0, 1, 1), (0, 2, 3), (1, 3, 1), (2, 3, 1)])
sage: H.hamiltonian_path(use_edge_labels=1, s=0, t=2)
(0, None)
sage: H.longest_path(use_edge_labels=1, s=0, t=2)
(3, Subgraph of (): Graph on 2 vertices)
```
A hamiltonian path in H is `[0, 1, 3, 2]` and has weight 3. The `longest_path` method also finds a path between 0 to 2 of weight 3, but it has only 1 edge and so is not hamiltonian.

Given this bug, I propose to stop calling longest path when searching for a hamiltonian path.

This way, it will also be easier to find a hamiltonian path of minimum or maximum weight.
I will push a branch soon.



---

archive/issue_comments_462673.json:
```json
{
    "body": "Changing author from \"\" to \"David Coudert\"",
    "created_at": "2018-02-11T19:06:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462673",
    "user": "https://github.com/dcoudert"
}
```

Changing author from "" to "David Coudert"



---

archive/issue_comments_462674.json:
```json
{
    "body": "Changing branch from \"\" to \"public/24683_hamiltonian_path\"",
    "created_at": "2018-02-11T19:06:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462674",
    "user": "https://github.com/dcoudert"
}
```

Changing branch from "" to "public/24683_hamiltonian_path"



---

archive/issue_comments_462675.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,3 +2,4 @@\n \n This was reported on [sage-devel](https://groups.google.com/d/msg/sage-devel/QLSPBLK4fek/rjdtNhcUCAAJ).\n \n+This patch introduces a new implementation of the hamiltonian path method that fixes several bugs and enables to compute both a minimum or maximum weight hamiltonian path.\n``````\n",
    "created_at": "2018-02-11T19:06:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462675",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,3 +2,4 @@
 
 This was reported on [sage-devel](https://groups.google.com/d/msg/sage-devel/QLSPBLK4fek/rjdtNhcUCAAJ).
 
+This patch introduces a new implementation of the hamiltonian path method that fixes several bugs and enables to compute both a minimum or maximum weight hamiltonian path.
``````




---

archive/issue_comments_462676.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-02-11T19:06:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462676",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_events_078500.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "rename": {
        "from": "fix docs for weighted Hamiltonian path.",
        "to": "fix various issues in for weighted Hamiltonian path."
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24683#event-78500"
}
```



---

archive/issue_comments_462677.json:
```json
{
    "body": "<a id='comment:3'></a>\nNew commits:\n|                                                                                                                                          |                                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|\n|[6f42457](https://github.com/sagemath/sagetrac-mirror/commit/6f42457a8c14573156dae50aff0965d5f767a982)|`trac #24683: add parameter maximize to TSP and clean the method`|\n|[02bab0f](https://github.com/sagemath/sagetrac-mirror/commit/02bab0f65a3c2b53ca1184460ef811f1d44b347e)|`trac #24683: new implementation of hamiltonian path`|",
    "created_at": "2018-02-11T19:06:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462677",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:3'></a>
New commits:
|                                                                                                                                          |                                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|
|[6f42457](https://github.com/sagemath/sagetrac-mirror/commit/6f42457a8c14573156dae50aff0965d5f767a982)|`trac #24683: add parameter maximize to TSP and clean the method`|
|[02bab0f](https://github.com/sagemath/sagetrac-mirror/commit/02bab0f65a3c2b53ca1184460ef811f1d44b347e)|`trac #24683: new implementation of hamiltonian path`|



---

archive/issue_comments_462678.json:
```json
{
    "body": "Changing commit from \"\" to \"02bab0f65a3c2b53ca1184460ef811f1d44b347e\"",
    "created_at": "2018-02-11T19:06:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462678",
    "user": "https://github.com/dcoudert"
}
```

Changing commit from "" to "02bab0f65a3c2b53ca1184460ef811f1d44b347e"



---

archive/issue_comments_462679.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[2014769](https://github.com/sagemath/sagetrac-mirror/commit/2014769fc55baaaf47dc5d9f775c2659b2f6955a)|`trac #24683: remove trailing spaces`|",
    "created_at": "2018-02-11T19:09:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462679",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[2014769](https://github.com/sagemath/sagetrac-mirror/commit/2014769fc55baaaf47dc5d9f775c2659b2f6955a)|`trac #24683: remove trailing spaces`|



---

archive/issue_comments_462680.json:
```json
{
    "body": "Changing commit from \"02bab0f65a3c2b53ca1184460ef811f1d44b347e\" to \"2014769fc55baaaf47dc5d9f775c2659b2f6955a\"",
    "created_at": "2018-02-11T19:09:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462680",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "02bab0f65a3c2b53ca1184460ef811f1d44b347e" to "2014769fc55baaaf47dc5d9f775c2659b2f6955a"



---

archive/issue_comments_462681.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-02-12T08:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462681",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_462682.json:
```json
{
    "body": "<a id='comment:5'></a>\nAt least\n\n```\nsage: g = Graph()\nsage: g.allow_multiple_edges(True)\nsage: g.add_edges([(0, 1, 10), (0, 1, 11), (0, 1, 12)])\nsage: g.hamiltonian_path()\n```\n\nraises an error `NameError: global name 'use_edge_label' is not defined`.\n\nI did not look the code yet.",
    "created_at": "2018-02-12T08:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462682",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:5'></a>
At least

```
sage: g = Graph()
sage: g.allow_multiple_edges(True)
sage: g.add_edges([(0, 1, 10), (0, 1, 11), (0, 1, 12)])
sage: g.hamiltonian_path()
```

raises an error `NameError: global name 'use_edge_label' is not defined`.

I did not look the code yet.



---

archive/issue_comments_462683.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[2e7b61f](https://github.com/sagemath/sagetrac-mirror/commit/2e7b61fef9cdebed5a29a815fe8b1fcdb919b84a)|`trac #24683: add s to use_edge_labels`|",
    "created_at": "2018-02-12T08:08:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462683",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[2e7b61f](https://github.com/sagemath/sagetrac-mirror/commit/2e7b61fef9cdebed5a29a815fe8b1fcdb919b84a)|`trac #24683: add s to use_edge_labels`|



---

archive/issue_comments_462684.json:
```json
{
    "body": "Changing commit from \"2014769fc55baaaf47dc5d9f775c2659b2f6955a\" to \"2e7b61fef9cdebed5a29a815fe8b1fcdb919b84a\"",
    "created_at": "2018-02-12T08:08:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462684",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2014769fc55baaaf47dc5d9f775c2659b2f6955a" to "2e7b61fef9cdebed5a29a815fe8b1fcdb919b84a"



---

archive/issue_comments_462685.json:
```json
{
    "body": "<a id='comment:7'></a>\ndone.",
    "created_at": "2018-02-12T08:09:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462685",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:7'></a>
done.



---

archive/issue_comments_462686.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-02-12T08:09:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462686",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_462687.json:
```json
{
    "body": "<a id='comment:8'></a>\nThe correction works, and I did not found more bugs by fast search. However, it might take time until I will do a real review.",
    "created_at": "2018-02-12T08:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462687",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:8'></a>
The correction works, and I did not found more bugs by fast search. However, it might take time until I will do a real review.



---

archive/issue_comments_462688.json:
```json
{
    "body": "<a id='comment:9'></a>\nThank you for your help.",
    "created_at": "2018-02-12T09:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462688",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:9'></a>
Thank you for your help.



---

archive/issue_comments_462689.json:
```json
{
    "body": "<a id='comment:10'></a>\nValue of `algorithm` is not tested, so `g.hamiltonian_path(algorithm=\"junk\")` is accepted. I don't know if this makes an error now, but it is kind of time-bomb for future changes.\n\n(Not the only place in [SageMath](SageMath) with missing test like this...)\n\nE: Also \"We modify the graph to search for a Hamiltonian Cycle starting from\" should be Hamiltonian path, not cycle.\n\nE2: Typo \"paramter\".",
    "created_at": "2018-02-13T10:40:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462689",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:10'></a>
Value of `algorithm` is not tested, so `g.hamiltonian_path(algorithm="junk")` is accepted. I don't know if this makes an error now, but it is kind of time-bomb for future changes.

(Not the only place in [SageMath](SageMath) with missing test like this...)

E: Also "We modify the graph to search for a Hamiltonian Cycle starting from" should be Hamiltonian path, not cycle.

E2: Typo "paramter".



---

archive/issue_comments_462690.json:
```json
{
    "body": "<a id='comment:11'></a>\nOK, I think I understood this. Was simpler than seen by first. Apart from those minor things I think this is good to go.",
    "created_at": "2018-02-13T13:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462690",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:11'></a>
OK, I think I understood this. Was simpler than seen by first. Apart from those minor things I think this is good to go.



---

archive/issue_comments_462691.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[cd61fef](https://github.com/sagemath/sagetrac-mirror/commit/cd61fefc2a81c279e4521f65231477541fcfe242)|`trac #24683: check input parameter algorithm`|\n|[3d8b37d](https://github.com/sagemath/sagetrac-mirror/commit/3d8b37de22947d50c8a1ba1a64ca2d1f3f56a051)|`trac #24683: document the transformation from hamiltonian path to hamiltonian cycle`|",
    "created_at": "2018-02-13T14:17:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462691",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[cd61fef](https://github.com/sagemath/sagetrac-mirror/commit/cd61fefc2a81c279e4521f65231477541fcfe242)|`trac #24683: check input parameter algorithm`|
|[3d8b37d](https://github.com/sagemath/sagetrac-mirror/commit/3d8b37de22947d50c8a1ba1a64ca2d1f3f56a051)|`trac #24683: document the transformation from hamiltonian path to hamiltonian cycle`|



---

archive/issue_comments_462692.json:
```json
{
    "body": "Changing commit from \"2e7b61fef9cdebed5a29a815fe8b1fcdb919b84a\" to \"3d8b37de22947d50c8a1ba1a64ca2d1f3f56a051\"",
    "created_at": "2018-02-13T14:17:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462692",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2e7b61fef9cdebed5a29a815fe8b1fcdb919b84a" to "3d8b37de22947d50c8a1ba1a64ca2d1f3f56a051"



---

archive/issue_comments_462693.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[235e38b](https://github.com/sagemath/sagetrac-mirror/commit/235e38b4091001da1289ca51365a4bd6d3b3f66a)|`trac #24683: fix typo paramter -> parameter`|",
    "created_at": "2018-02-13T14:19:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462693",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[235e38b](https://github.com/sagemath/sagetrac-mirror/commit/235e38b4091001da1289ca51365a4bd6d3b3f66a)|`trac #24683: fix typo paramter -> parameter`|



---

archive/issue_comments_462694.json:
```json
{
    "body": "Changing commit from \"3d8b37de22947d50c8a1ba1a64ca2d1f3f56a051\" to \"235e38b4091001da1289ca51365a4bd6d3b3f66a\"",
    "created_at": "2018-02-13T14:19:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462694",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3d8b37de22947d50c8a1ba1a64ca2d1f3f56a051" to "235e38b4091001da1289ca51365a4bd6d3b3f66a"



---

archive/issue_comments_462695.json:
```json
{
    "body": "<a id='comment:14'></a>\nI tried to better explain how I turn the hamiltonian path problem into a hamiltonian cycle problem. Hope it's easier to understand now.\n\nRoughly, If the source (resp. destination) is not given, I add a fake source (resp. destination) and an arc from it to each vertex in the (di)graph (resp. from each vertex of the (di)graph to it). Then I add an extra vertex to force in the cycle the subpath [source, extra vertex, destination] in this order. Given the cycle, it remains to remove the added vertices to get the requested hamiltonian path.",
    "created_at": "2018-02-13T14:28:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462695",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:14'></a>
I tried to better explain how I turn the hamiltonian path problem into a hamiltonian cycle problem. Hope it's easier to understand now.

Roughly, If the source (resp. destination) is not given, I add a fake source (resp. destination) and an arc from it to each vertex in the (di)graph (resp. from each vertex of the (di)graph to it). Then I add an extra vertex to force in the cycle the subpath [source, extra vertex, destination] in this order. Given the cycle, it remains to remove the added vertices to get the requested hamiltonian path.



---

archive/issue_comments_462696.json:
```json
{
    "body": "<a id='comment:15'></a>\nSeems to be good now. Thanks.",
    "created_at": "2018-02-13T14:42:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462696",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:15'></a>
Seems to be good now. Thanks.



---

archive/issue_comments_462697.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-02-13T14:42:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462697",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_462698.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jori M\u00e4ntysalo\"",
    "created_at": "2018-02-13T14:42:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462698",
    "user": "https://github.com/jm58660"
}
```

Changing reviewer from "" to "Jori Mäntysalo"



---

archive/issue_comments_462699.json:
```json
{
    "body": "<a id='comment:16'></a>\nThanks you for the review.",
    "created_at": "2018-02-13T14:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462699",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:16'></a>
Thanks you for the review.



---

archive/issue_events_078501.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-02-15T22:46:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24683#event-78501"
}
```



---

archive/issue_comments_462700.json:
```json
{
    "body": "Changing branch from \"public/24683_hamiltonian_path\" to \"235e38b4091001da1289ca51365a4bd6d3b3f66a\"",
    "created_at": "2018-02-15T22:46:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462700",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/24683_hamiltonian_path" to "235e38b4091001da1289ca51365a4bd6d3b3f66a"



---

archive/issue_comments_462701.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-02-15T22:46:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24683#issuecomment-462701",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
