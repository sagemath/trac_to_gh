# Issue 24214: Upgrade to givaro-4.0.4 fflas-ffpack-2.3.2 and LinBox-1.5.2

archive/issues_023977.json:
```json
{
    "body": "Releases can be found at \n- https://github.com/linbox-team/givaro/releases/download/v4.0.4/givaro-4.0.4.tar.gz\n- https://github.com/linbox-team/fflas-ffpack/releases/download/v2.3.2/fflas_ffpack-2.3.2.tar.bz2\n- https://github.com/linbox-team/linbox/releases/download/v1.5.2/linbox-1.5.2.tar.gz\n\nThis ticket fixes:\n- #23391\n- #23158\n- #23056\n- #21579\n- #15535\n\n\nCC:  dlucas @kiwifb\n\nKeywords: linear algebra, linbox, givaro, fflas-ffpack\n\nReviewer: Volker Braun\n\nAuthor: Cl\u00e9ment Pernet\n\nBranch: 3aad376429ee4b3658cbb3d28617fd67988694a1\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24214\n\n",
    "closed_at": "2017-12-25T18:21:47Z",
    "created_at": "2017-11-14T09:16:11Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Upgrade to givaro-4.0.4 fflas-ffpack-2.3.2 and LinBox-1.5.2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24214",
    "user": "https://github.com/ClementPernet"
}
```
Releases can be found at 
- https://github.com/linbox-team/givaro/releases/download/v4.0.4/givaro-4.0.4.tar.gz
- https://github.com/linbox-team/fflas-ffpack/releases/download/v2.3.2/fflas_ffpack-2.3.2.tar.bz2
- https://github.com/linbox-team/linbox/releases/download/v1.5.2/linbox-1.5.2.tar.gz

This ticket fixes:
- #23391
- #23158
- #23056
- #21579
- #15535


CC:  dlucas @kiwifb

Keywords: linear algebra, linbox, givaro, fflas-ffpack

Reviewer: Volker Braun

Author: Cl√©ment Pernet

Branch: 3aad376429ee4b3658cbb3d28617fd67988694a1

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24214





---

archive/issue_comments_335481.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2017-11-15T17:11:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335481",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_335482.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-17T15:16:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335482",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_335483.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-17T15:39:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335483",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_335484.json:
```json
{
    "body": "<a id='comment:10'></a>All three libraries have been released.\nThe code in this ticket's branch works fine for me with these new releases.\nI still need to do one cleanup pass on the spkg-install's and document SPKG.txt before opening it for review.",
    "created_at": "2017-11-17T17:04:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335484",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:10'></a>All three libraries have been released.
The code in this ticket's branch works fine for me with these new releases.
I still need to do one cleanup pass on the spkg-install's and document SPKG.txt before opening it for review.



---

archive/issue_comments_335485.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-22T16:02:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335485",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_335486.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-22T17:04:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335486",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_335487.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-23T13:42:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335487",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_335488.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-23T13:52:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335488",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_335489.json:
```json
{
    "body": "<a id='comment:17'></a>Note for the reviewer: after some discussions, we (LinBox dev) decided not to merge the patch fixing #21579 and #15535 (replacing the probabilistic early terminated Chinese Remainder Algorithm for charpoly by a deterministic one) in the release and we therefore add the patch in sage.\nThis is because there was no consensus that  LinBox should default to the deterministic version of the algorithm.\nWe will rework the interface to allow a switch between the two variants, and the option to pass a bound on the probability of failure for the probabilistic algorithm, but meanwhile, the decision was to not change the default (probabilistic) in release 1.5.1.",
    "created_at": "2017-11-23T14:09:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335489",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:17'></a>Note for the reviewer: after some discussions, we (LinBox dev) decided not to merge the patch fixing #21579 and #15535 (replacing the probabilistic early terminated Chinese Remainder Algorithm for charpoly by a deterministic one) in the release and we therefore add the patch in sage.
This is because there was no consensus that  LinBox should default to the deterministic version of the algorithm.
We will rework the interface to allow a switch between the two variants, and the option to pass a bound on the probability of failure for the probabilistic algorithm, but meanwhile, the decision was to not change the default (probabilistic) in release 1.5.1.



---

archive/issue_comments_335490.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-23T14:47:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335490",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_335491.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-11-23T15:13:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335491",
    "user": "https://github.com/ClementPernet"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_335492.json:
```json
{
    "body": "<a id='comment:22'></a>Replying to [comment:17 cpernet]:\n> Note for the reviewer: after some discussions, we (LinBox dev) decided not to merge the patch fixing #21579 and #15535 (replacing the probabilistic early terminated Chinese Remainder Algorithm for charpoly by a deterministic one) in the release and we therefore add the patch in sage.\n> This is because there was no consensus that  LinBox should default to the deterministic version of the algorithm.\n> We will rework the interface to allow a switch between the two variants, and the option to pass a bound on the probability of failure for the probabilistic algorithm, but meanwhile, the decision was to not change the default (probabilistic) in release 1.5.1.\n\n\nRight. It is not completely unreasonable. However it has consequence for sage-on-distro, where the linbox maintainer may prefer to leave linbox \"vanilla\" instead of patching it the sage way. Is there an issue opened for the switching version or a branch open where I and my fellow sage-on-distro maintainer can follow progress on that work?",
    "created_at": "2017-11-23T17:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335492",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:22'></a>Replying to [comment:17 cpernet]:
> Note for the reviewer: after some discussions, we (LinBox dev) decided not to merge the patch fixing #21579 and #15535 (replacing the probabilistic early terminated Chinese Remainder Algorithm for charpoly by a deterministic one) in the release and we therefore add the patch in sage.
> This is because there was no consensus that  LinBox should default to the deterministic version of the algorithm.
> We will rework the interface to allow a switch between the two variants, and the option to pass a bound on the probability of failure for the probabilistic algorithm, but meanwhile, the decision was to not change the default (probabilistic) in release 1.5.1.


Right. It is not completely unreasonable. However it has consequence for sage-on-distro, where the linbox maintainer may prefer to leave linbox "vanilla" instead of patching it the sage way. Is there an issue opened for the switching version or a branch open where I and my fellow sage-on-distro maintainer can follow progress on that work?



---

archive/issue_comments_335493.json:
```json
{
    "body": "<a id='comment:23'></a>For the moment there is this issue https://github.com/linbox-team/linbox/issues/69 but still no working branch. It will very likely be addressed in the next LinBox meeting mid-december.",
    "created_at": "2017-11-23T20:39:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335493",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:23'></a>For the moment there is this issue https://github.com/linbox-team/linbox/issues/69 but still no working branch. It will very likely be addressed in the next LinBox meeting mid-december.



---

archive/issue_comments_335494.json:
```json
{
    "body": "Attachment [matrix_integer_dense.log](tarball://root/attachments/some-uuid/ticket24214/matrix_integer_dense.log) by @videlec created at 2017-12-04 07:52:54",
    "created_at": "2017-12-04T07:52:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335494",
    "user": "https://github.com/videlec"
}
```

Attachment [matrix_integer_dense.log](tarball://root/attachments/some-uuid/ticket24214/matrix_integer_dense.log) by @videlec created at 2017-12-04 07:52:54



---

archive/issue_comments_335495.json:
```json
{
    "body": "Attachment [graph.log](tarball://root/attachments/some-uuid/ticket24214/graph.log) by @videlec created at 2017-12-04 07:53:11",
    "created_at": "2017-12-04T07:53:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335495",
    "user": "https://github.com/videlec"
}
```

Attachment [graph.log](tarball://root/attachments/some-uuid/ticket24214/graph.log) by @videlec created at 2017-12-04 07:53:11



---

archive/issue_comments_335496.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-12-04T07:56:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335496",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_335497.json:
```json
{
    "body": "<a id='comment:24'></a>You introduced a TAB in `linbox_flint_interface.pyx`.\n\nMore dramatic, on the following doctests my computer get stuck and finally segfault\n\n- `src/sage/matrix/matrix_integer_dense.pyx` line 1212 ([This is the Trac macro *attachment:matrix_integer_dense.log* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:matrix_integer_dense.log-macro))\n\n```\nmatrix([]).charpoly('y', 'linbox')\n```\n- `src/sage/matrix/matrix_rational_dense.pyx` line 1034 ([This is the Trac macro *attachment:matrix_rational_dense.log* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:matrix_rational_dense.log-macro))\n\n```\nfor _ in range(100):\n    dim = randint(0, 10)\n    m = random_matrix(QQ, dim, num_bound=8, den_bound=8)\n    p_flint = m.charpoly(algorithm='flint'); m._clear_cache()\n    p_linbox = m.charpoly(algorithm='linbox'); m._clear_cache()\n    p_generic = m.charpoly(algorithm='generic')\n    assert p_flint == p_linbox == p_generic\n```\n- `src/sage/graphs/graph.py` line 7717  ([This is the Trac macro *attachment:graph.log* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:graph.log-macro))\n\n```\nG = graphs.RandomTree(10)\nG.ihara_zeta_function_inverse()\n```\n\n\nFor each problematic file, the log is the output of `sage -t` (stdout+stderr).",
    "created_at": "2017-12-04T07:56:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335497",
    "user": "https://github.com/videlec"
}
```

<a id='comment:24'></a>You introduced a TAB in `linbox_flint_interface.pyx`.

More dramatic, on the following doctests my computer get stuck and finally segfault

- `src/sage/matrix/matrix_integer_dense.pyx` line 1212 ([This is the Trac macro *attachment:matrix_integer_dense.log* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:matrix_integer_dense.log-macro))

```
matrix([]).charpoly('y', 'linbox')
```
- `src/sage/matrix/matrix_rational_dense.pyx` line 1034 ([This is the Trac macro *attachment:matrix_rational_dense.log* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:matrix_rational_dense.log-macro))

```
for _ in range(100):
    dim = randint(0, 10)
    m = random_matrix(QQ, dim, num_bound=8, den_bound=8)
    p_flint = m.charpoly(algorithm='flint'); m._clear_cache()
    p_linbox = m.charpoly(algorithm='linbox'); m._clear_cache()
    p_generic = m.charpoly(algorithm='generic')
    assert p_flint == p_linbox == p_generic
```
- `src/sage/graphs/graph.py` line 7717  ([This is the Trac macro *attachment:graph.log* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:graph.log-macro))

```
G = graphs.RandomTree(10)
G.ihara_zeta_function_inverse()
```


For each problematic file, the log is the output of `sage -t` (stdout+stderr).



---

archive/issue_events_061351.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-12-04T07:56:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24214#event-61351"
}
```



---

archive/issue_comments_335498.json:
```json
{
    "body": "<a id='comment:25'></a>As each time it looks like an error on 0x0 characteristic polynomials, I believe that the cause is around\n\n```diff\n--- a/src/sage/libs/linbox/linbox_flint_interface.pyx\n+++ b/src/sage/libs/linbox/linbox_flint_interface.pyx\n-    # FIXME: bug in LinBox\n-    # see https://github.com/linbox-team/linbox/issues/51\n-    if fmpz_mat_nrows(A) == 0:\n-        fmpz_poly_one(mp)\n-        return\n```",
    "created_at": "2017-12-04T08:08:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335498",
    "user": "https://github.com/videlec"
}
```

<a id='comment:25'></a>As each time it looks like an error on 0x0 characteristic polynomials, I believe that the cause is around

```diff
--- a/src/sage/libs/linbox/linbox_flint_interface.pyx
+++ b/src/sage/libs/linbox/linbox_flint_interface.pyx
-    # FIXME: bug in LinBox
-    # see https://github.com/linbox-team/linbox/issues/51
-    if fmpz_mat_nrows(A) == 0:
-        fmpz_poly_one(mp)
-        return
```



---

archive/issue_comments_335499.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-12-04T10:25:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335499",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_335500.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-12-04T13:05:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335500",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_335501.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-12-04T13:14:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335501",
    "user": "https://github.com/ClementPernet"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_335502.json:
```json
{
    "body": "<a id='comment:28'></a>Apologies for these 2 mistakes. I have fixed the tab and added a fix to the 0x0 charpoly bug in the linbox patch which is on the branch of this ticket.\nIt fixes all three bugs you listed, on the a box where I could reproduce them.",
    "created_at": "2017-12-04T13:14:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335502",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:28'></a>Apologies for these 2 mistakes. I have fixed the tab and added a fix to the 0x0 charpoly bug in the linbox patch which is on the branch of this ticket.
It fixes all three bugs you listed, on the a box where I could reproduce them.



---

archive/issue_comments_335503.json:
```json
{
    "body": "<a id='comment:29'></a>I seem to be getting a consistent timeout on `src/sage/modular/modform/ambient.py`\n\nI'll investigate further...",
    "created_at": "2017-12-04T16:36:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335503",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:29'></a>I seem to be getting a consistent timeout on `src/sage/modular/modform/ambient.py`

I'll investigate further...



---

archive/issue_comments_335504.json:
```json
{
    "body": "Attachment [install.log.gz](tarball://root/attachments/some-uuid/ticket24214/install.log.gz) by @videlec created at 2017-12-04 19:36:00",
    "created_at": "2017-12-04T19:36:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335504",
    "user": "https://github.com/videlec"
}
```

Attachment [install.log.gz](tarball://root/attachments/some-uuid/ticket24214/install.log.gz) by @videlec created at 2017-12-04 19:36:00



---

archive/issue_comments_335505.json:
```json
{
    "body": "<a id='comment:30'></a>Twice trying to build from scratch on 8.1.rc4 with this branch applied I faced the same trouble with boost... weird. Full log is [This is the Trac macro *attachment:install.log.gz* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:install.log.gz-macro).",
    "created_at": "2017-12-04T19:37:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335505",
    "user": "https://github.com/videlec"
}
```

<a id='comment:30'></a>Twice trying to build from scratch on 8.1.rc4 with this branch applied I faced the same trouble with boost... weird. Full log is [This is the Trac macro *attachment:install.log.gz* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:install.log.gz-macro).



---

archive/issue_comments_335506.json:
```json
{
    "body": "<a id='comment:31'></a>`boost` is a red herring. \n\n```\n[sagelib-8.1.rc4] In file included from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:647:0:\n[sagelib-8.1.rc4] /home/vdelecro/sage_patchbot/local/include/linbox/linbox-config.h:31:27: fatal error: linbox/config.h: No such file or directory\n[sagelib-8.1.rc4] compilation terminated.\n```",
    "created_at": "2017-12-04T20:13:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335506",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:31'></a>`boost` is a red herring. 

```
[sagelib-8.1.rc4] In file included from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:647:0:
[sagelib-8.1.rc4] /home/vdelecro/sage_patchbot/local/include/linbox/linbox-config.h:31:27: fatal error: linbox/config.h: No such file or directory
[sagelib-8.1.rc4] compilation terminated.
```



---

archive/issue_comments_335507.json:
```json
{
    "body": "<a id='comment:32'></a>good catch :-)",
    "created_at": "2017-12-04T20:16:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335507",
    "user": "https://github.com/videlec"
}
```

<a id='comment:32'></a>good catch :-)



---

archive/issue_comments_335508.json:
```json
{
    "body": "<a id='comment:33'></a>It helps to do serial build of the package in that case.",
    "created_at": "2017-12-04T20:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335508",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:33'></a>It helps to do serial build of the package in that case.



---

archive/issue_comments_335509.json:
```json
{
    "body": "<a id='comment:34'></a>How is this even possible? Do you know which parallel build is broken? Is it a simple dependency problem (I see `$(inst_linbox)` in `build/make/deps`)?",
    "created_at": "2017-12-04T20:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335509",
    "user": "https://github.com/videlec"
}
```

<a id='comment:34'></a>How is this even possible? Do you know which parallel build is broken? Is it a simple dependency problem (I see `$(inst_linbox)` in `build/make/deps`)?



---

archive/issue_comments_335510.json:
```json
{
    "body": "<a id='comment:35'></a>Sorry I did not make myself clear. I meant when you meet the error, restart the build serially. That way you have a clear idea of where the failure is. Which file is the culprit. Here I found the error message but I don't know where the associated compilation line is.",
    "created_at": "2017-12-04T20:38:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335510",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:35'></a>Sorry I did not make myself clear. I meant when you meet the error, restart the build serially. That way you have a clear idea of where the failure is. Which file is the culprit. Here I found the error message but I don't know where the associated compilation line is.



---

archive/issue_comments_335511.json:
```json
{
    "body": "<a id='comment:36'></a>Ok, sorry again. This is indeed a bug, that config.h no longer gets installed. I pushed a patch fixing it to get this ticket rolling, but it is annoying enough, that I'll try to cut a bug fix release in a day or two with this fix.",
    "created_at": "2017-12-04T21:31:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335511",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:36'></a>Ok, sorry again. This is indeed a bug, that config.h no longer gets installed. I pushed a patch fixing it to get this ticket rolling, but it is annoying enough, that I'll try to cut a bug fix release in a day or two with this fix.



---

archive/issue_comments_335512.json:
```json
{
    "body": "<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-12-04T21:31:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335512",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_335513.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-12-05T09:06:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335513",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_335514.json:
```json
{
    "body": "<a id='comment:38'></a>Replying to [comment:29 jdemeyer]:\n> I seem to be getting a consistent timeout on `src/sage/modular/modform/ambient.py`\n\n\nConfirmed. This seems to hang forever:\n\n```\nsage: t = ModularForms(1, 512)._compute_hecke_matrix(5); t.charpoly()\n```\nNote: the matrix has size only 43x43 but it has very large coefficients.",
    "created_at": "2017-12-05T09:06:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335514",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:38'></a>Replying to [comment:29 jdemeyer]:
> I seem to be getting a consistent timeout on `src/sage/modular/modform/ambient.py`


Confirmed. This seems to hang forever:

```
sage: t = ModularForms(1, 512)._compute_hecke_matrix(5); t.charpoly()
```
Note: the matrix has size only 43x43 but it has very large coefficients.



---

archive/issue_comments_335515.json:
```json
{
    "body": "<a id='comment:39'></a>Much simpler hang (a 1x1 matrix with a single huge entry):\n\n```\nsage: Matrix(1, 1, [2^2000]).charpoly()\n```",
    "created_at": "2017-12-05T09:17:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335515",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:39'></a>Much simpler hang (a 1x1 matrix with a single huge entry):

```
sage: Matrix(1, 1, [2^2000]).charpoly()
```



---

archive/issue_comments_335516.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-12-06T10:03:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335516",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_335517.json:
```json
{
    "body": "<a id='comment:41'></a>I pushed a fix for this bug. I fixes both instances of #comment:38 and #comment:39 for me.",
    "created_at": "2017-12-06T10:07:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335517",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:41'></a>I pushed a fix for this bug. I fixes both instances of #comment:38 and #comment:39 for me.



---

archive/issue_comments_335518.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-12-06T10:09:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335518",
    "user": "https://github.com/ClementPernet"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_335519.json:
```json
{
    "body": "<a id='comment:43'></a>At least all tests pass on quasar (`make ptestlong`)!",
    "created_at": "2017-12-06T20:59:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335519",
    "user": "https://github.com/videlec"
}
```

<a id='comment:43'></a>At least all tests pass on quasar (`make ptestlong`)!



---

archive/issue_comments_335520.json:
```json
{
    "body": "<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-12-08T16:50:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335520",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_335521.json:
```json
{
    "body": "<a id='comment:45'></a>I released linbox-1.5.2 which includes the fix to the missing config.h file, and updated the branch accordingly.\nEverything is now fine on my side.",
    "created_at": "2017-12-08T16:51:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335521",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:45'></a>I released linbox-1.5.2 which includes the fix to the missing config.h file, and updated the branch accordingly.
Everything is now fine on my side.



---

archive/issue_comments_335522.json:
```json
{
    "body": "<a id='comment:46'></a>Merge conflicts on 8.2.beta0",
    "created_at": "2017-12-13T23:24:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335522",
    "user": "https://github.com/videlec"
}
```

<a id='comment:46'></a>Merge conflicts on 8.2.beta0



---

archive/issue_comments_335523.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-12-13T23:24:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335523",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_335524.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-12-16T19:41:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335524",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_335525.json:
```json
{
    "body": "<a id='comment:48'></a>New commits:",
    "created_at": "2017-12-16T19:41:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335525",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:48'></a>New commits:



---

archive/issue_comments_335526.json:
```json
{
    "body": "<a id='comment:49'></a>all tests pass for me (excepted #24396 that also fails on develop)",
    "created_at": "2017-12-16T21:44:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335526",
    "user": "https://github.com/videlec"
}
```

<a id='comment:49'></a>all tests pass for me (excepted #24396 that also fails on develop)



---

archive/issue_comments_335527.json:
```json
{
    "body": "<a id='comment:50'></a>On Debian 8 64-bit:\n\n```\nlibtool: compile:  g++ -DHAVE_CONFIG_H -I. -I../.. -DDISABLE_COMMENTATOR -I../.. -DFFLAS_COMPILED -DFFPACK_COMPILED -I/home/buildbot/slave/sage_git/build/local/include -std=gnu++11 -fabi-version=6 -I/home/buildbot/slave/sage_git/build/local/include -I/home/buildbot/slave/sage_git/build/local/include -I/home/buildbot/slave/sage_git/build/local/include -I/home/buildbot/slave/sage_git/build/local/include -O2 -Wall -g -DNDEBUG -U_LB_DEBUG -DDISABLE_COMMENTATOR -std=gnu++11 -msse -msse2 -msse3 -mssse3 -msse4.1 -msse4.2 -mavx -mavx2 -mfma -MT linbox-sage.lo -MD -MP -MF .deps/linbox-sage.Tpo -c linbox-sage.C  -fPIC -DPIC -o .libs/linbox-sage.o\nIn file included from /home/buildbot/slave/sage_git/build/local/include/fflas-ffpack/fflas/fflas_simd.h:208:0,\n                 from /home/buildbot/slave/sage_git/build/local/include/fflas-ffpack/fflas/fflas_freduce.h:33,\n                 from /home/buildbot/slave/sage_git/build/local/include/fflas-ffpack/fflas/fflas.h:104,\n                 from /home/buildbot/slave/sage_git/build/local/include/fflas-ffpack/ffpack/ffpack.h:47,\n                 from ../../linbox/matrix/matrixdomain/blas-matrix-domain.h:45,\n                 from ../../linbox/matrix/matrix-domain.h:68,\n                 from ../../linbox/matrix/sparsematrix/sparse-generic.h:80,\n                 from ../../linbox/matrix/sparse-matrix.h:70,\n                 from linbox-sage.C:35:\n/home/buildbot/slave/sage_git/build/local/include/fflas-ffpack/fflas/fflas_simd/simd256.inl: In static member function 'static Simd256i_base::vect_t Simd256i_base::sll128(Simd256i_base::vect_t)':\n/home/buildbot/slave/sage_git/build/local/include/fflas-ffpack/fflas/fflas_simd/simd256.inl:102:85: error: there are no arguments to '_mm256_bslli_epi128' that depend on a template parameter, so a declaration of '_mm256_bslli_epi128' must be available [-fpermissive]\n  static INLINE CONST vect_t sll128(const vect_t a) { return _mm256_bslli_epi128(a, s); }\n                                                                                     ^\n/home/buildbot/slave/sage_git/build/local/include/fflas-ffpack/fflas/fflas_simd/simd256.inl:102:85: note: (if you use '-fpermissive', G++ will accept your code, but allowing the use of an undeclared name is deprecated)\n/home/buildbot/slave/sage_git/build/local/include/fflas-ffpack/fflas/fflas_simd/simd256.inl: In static member function 'static Simd256i_base::vect_t Simd256i_base::srl128(Simd256i_base::vect_t)':\n/home/buildbot/slave/sage_git/build/local/include/fflas-ffpack/fflas/fflas_simd/simd256.inl:110:85: error: there are no arguments to '_mm256_bsrli_epi128' that depend on a template parameter, so a declaration of '_mm256_bsrli_epi128' must be available [-fpermissive]\n  static INLINE CONST vect_t srl128(const vect_t a) { return _mm256_bsrli_epi128(a, s); }\n                                                                                     ^\nMakefile:535: recipe for target 'linbox-sage.lo' failed\n```",
    "created_at": "2017-12-17T10:47:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335527",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:50'></a>On Debian 8 64-bit:

```
libtool: compile:  g++ -DHAVE_CONFIG_H -I. -I../.. -DDISABLE_COMMENTATOR -I../.. -DFFLAS_COMPILED -DFFPACK_COMPILED -I/home/buildbot/slave/sage_git/build/local/include -std=gnu++11 -fabi-version=6 -I/home/buildbot/slave/sage_git/build/local/include -I/home/buildbot/slave/sage_git/build/local/include -I/home/buildbot/slave/sage_git/build/local/include -I/home/buildbot/slave/sage_git/build/local/include -O2 -Wall -g -DNDEBUG -U_LB_DEBUG -DDISABLE_COMMENTATOR -std=gnu++11 -msse -msse2 -msse3 -mssse3 -msse4.1 -msse4.2 -mavx -mavx2 -mfma -MT linbox-sage.lo -MD -MP -MF .deps/linbox-sage.Tpo -c linbox-sage.C  -fPIC -DPIC -o .libs/linbox-sage.o
In file included from /home/buildbot/slave/sage_git/build/local/include/fflas-ffpack/fflas/fflas_simd.h:208:0,
                 from /home/buildbot/slave/sage_git/build/local/include/fflas-ffpack/fflas/fflas_freduce.h:33,
                 from /home/buildbot/slave/sage_git/build/local/include/fflas-ffpack/fflas/fflas.h:104,
                 from /home/buildbot/slave/sage_git/build/local/include/fflas-ffpack/ffpack/ffpack.h:47,
                 from ../../linbox/matrix/matrixdomain/blas-matrix-domain.h:45,
                 from ../../linbox/matrix/matrix-domain.h:68,
                 from ../../linbox/matrix/sparsematrix/sparse-generic.h:80,
                 from ../../linbox/matrix/sparse-matrix.h:70,
                 from linbox-sage.C:35:
/home/buildbot/slave/sage_git/build/local/include/fflas-ffpack/fflas/fflas_simd/simd256.inl: In static member function 'static Simd256i_base::vect_t Simd256i_base::sll128(Simd256i_base::vect_t)':
/home/buildbot/slave/sage_git/build/local/include/fflas-ffpack/fflas/fflas_simd/simd256.inl:102:85: error: there are no arguments to '_mm256_bslli_epi128' that depend on a template parameter, so a declaration of '_mm256_bslli_epi128' must be available [-fpermissive]
  static INLINE CONST vect_t sll128(const vect_t a) { return _mm256_bslli_epi128(a, s); }
                                                                                     ^
/home/buildbot/slave/sage_git/build/local/include/fflas-ffpack/fflas/fflas_simd/simd256.inl:102:85: note: (if you use '-fpermissive', G++ will accept your code, but allowing the use of an undeclared name is deprecated)
/home/buildbot/slave/sage_git/build/local/include/fflas-ffpack/fflas/fflas_simd/simd256.inl: In static member function 'static Simd256i_base::vect_t Simd256i_base::srl128(Simd256i_base::vect_t)':
/home/buildbot/slave/sage_git/build/local/include/fflas-ffpack/fflas/fflas_simd/simd256.inl:110:85: error: there are no arguments to '_mm256_bsrli_epi128' that depend on a template parameter, so a declaration of '_mm256_bsrli_epi128' must be available [-fpermissive]
  static INLINE CONST vect_t srl128(const vect_t a) { return _mm256_bsrli_epi128(a, s); }
                                                                                     ^
Makefile:535: recipe for target 'linbox-sage.lo' failed
```



---

archive/issue_comments_335528.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-12-17T10:47:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335528",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_335529.json:
```json
{
    "body": "<a id='comment:51'></a>Isn't it the same problem as in ticket:17635#comment:178 : a bug in debian gcc ?\nIt was fixed in the previous fflas-ffpack spkg. Maybe the fix was removed in the refactorization of the spkg commands ?\nThe fix could be to either pass -fpermissive to gcc or require to use sage's gcc (version >4.9.2)",
    "created_at": "2017-12-17T12:31:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335529",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:51'></a>Isn't it the same problem as in ticket:17635#comment:178 : a bug in debian gcc ?
It was fixed in the previous fflas-ffpack spkg. Maybe the fix was removed in the refactorization of the spkg commands ?
The fix could be to either pass -fpermissive to gcc or require to use sage's gcc (version >4.9.2)



---

archive/issue_comments_335530.json:
```json
{
    "body": "<a id='comment:52'></a>Well you removed the -fpermissive from spkg-install in 99f46017a5cd93084c3cb30a41c29b4a8b99c1fd...",
    "created_at": "2017-12-17T23:24:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335530",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:52'></a>Well you removed the -fpermissive from spkg-install in 99f46017a5cd93084c3cb30a41c29b4a8b99c1fd...



---

archive/issue_comments_335531.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-12-18T09:44:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335531",
    "user": "https://github.com/ClementPernet"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_335532.json:
```json
{
    "body": "<a id='comment:54'></a>Ok, sorry, I got confused.\nIndeed I removed this section from `fflas_ffpack/spkg-install` since the fix upstream now fixes it.\nHowever, the `-fpermissive` flag was not exported to the `pkgconfig --cflags` list, hence LinBox did not see use it.\nI pushed a patch in this branch and this is fixed upstream too.\n\n---\nNew commits:",
    "created_at": "2017-12-18T09:44:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335532",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:54'></a>Ok, sorry, I got confused.
Indeed I removed this section from `fflas_ffpack/spkg-install` since the fix upstream now fixes it.
However, the `-fpermissive` flag was not exported to the `pkgconfig --cflags` list, hence LinBox did not see use it.
I pushed a patch in this branch and this is fixed upstream too.

---
New commits:



---

archive/issue_comments_335533.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-12-21T01:00:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335533",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_335534.json:
```json
{
    "body": "<a id='comment:55'></a>That then triggers an autoconf which we don't depend on:\n\n```\n[fflas_ffpack-2.3.1] config.status: executing depfiles commands\n[fflas_ffpack-2.3.1] config.status: executing libtool commands\n[fflas_ffpack-2.3.1] Building fflas_ffpack-2.3.1\n[fflas_ffpack-2.3.1] make[3]: Entering directory `/home/buildbot/slave/sage_git/build/local/var/tmp/sage/build/fflas_ffpack-2.3.1/src'\n[fflas_ffpack-2.3.1] CDPATH=\"${ZSH_VERSION+.}:\" && cd . && /bin/bash /home/buildbot/slave/sage_git/build/local/var/tmp/sage/build/fflas_ffpack-2.3.1/src/build-aux/missing aclocal-1.15 -I macros\n[fflas_ffpack-2.3.1] /home/buildbot/slave/sage_git/build/local/var/tmp/sage/build/fflas_ffpack-2.3.1/src/build-aux/missing: line 81: aclocal-1.15: command not found\n[fflas_ffpack-2.3.1] WARNING: 'aclocal-1.15' is missing on your system.\n[fflas_ffpack-2.3.1]          You should only need it if you modified 'acinclude.m4' or\n[fflas_ffpack-2.3.1]          'configure.ac' or m4 files included by 'configure.ac'.\n[fflas_ffpack-2.3.1]          The 'aclocal' program is part of the GNU Automake package:\n[fflas_ffpack-2.3.1]          <http://www.gnu.org/software/automake>\n[fflas_ffpack-2.3.1]          It also requires GNU Autoconf, GNU m4 and Perl in order to run:\n[fflas_ffpack-2.3.1]          <http://www.gnu.org/software/autoconf>\n[fflas_ffpack-2.3.1]          <http://www.gnu.org/software/m4/>\n[fflas_ffpack-2.3.1]          <http://www.perl.org/>\n[fflas_ffpack-2.3.1] make[3]: *** [aclocal.m4] Error 127\n[fflas_ffpack-2.3.1] make[3]: Failed to remake makefile `Makefile'.\n[fflas_ffpack-2.3.1] make[3]: Target `all' not remade because of errors.\n[fflas_ffpack-2.3.1] make[3]: Leaving directory `/home/buildbot/slave/sage_git/build/local/var/tmp/sage/build/fflas_ffpack-2.3.1/src'\n[fflas_ffpack-2.3.1] ********************************************************************************\n[fflas_ffpack-2.3.1] Error building fflas_ffpack-2.3.1\n[fflas_ffpack-2.3.1] ********************************************************************************\n```",
    "created_at": "2017-12-21T01:00:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335534",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:55'></a>That then triggers an autoconf which we don't depend on:

```
[fflas_ffpack-2.3.1] config.status: executing depfiles commands
[fflas_ffpack-2.3.1] config.status: executing libtool commands
[fflas_ffpack-2.3.1] Building fflas_ffpack-2.3.1
[fflas_ffpack-2.3.1] make[3]: Entering directory `/home/buildbot/slave/sage_git/build/local/var/tmp/sage/build/fflas_ffpack-2.3.1/src'
[fflas_ffpack-2.3.1] CDPATH="${ZSH_VERSION+.}:" && cd . && /bin/bash /home/buildbot/slave/sage_git/build/local/var/tmp/sage/build/fflas_ffpack-2.3.1/src/build-aux/missing aclocal-1.15 -I macros
[fflas_ffpack-2.3.1] /home/buildbot/slave/sage_git/build/local/var/tmp/sage/build/fflas_ffpack-2.3.1/src/build-aux/missing: line 81: aclocal-1.15: command not found
[fflas_ffpack-2.3.1] WARNING: 'aclocal-1.15' is missing on your system.
[fflas_ffpack-2.3.1]          You should only need it if you modified 'acinclude.m4' or
[fflas_ffpack-2.3.1]          'configure.ac' or m4 files included by 'configure.ac'.
[fflas_ffpack-2.3.1]          The 'aclocal' program is part of the GNU Automake package:
[fflas_ffpack-2.3.1]          <http://www.gnu.org/software/automake>
[fflas_ffpack-2.3.1]          It also requires GNU Autoconf, GNU m4 and Perl in order to run:
[fflas_ffpack-2.3.1]          <http://www.gnu.org/software/autoconf>
[fflas_ffpack-2.3.1]          <http://www.gnu.org/software/m4/>
[fflas_ffpack-2.3.1]          <http://www.perl.org/>
[fflas_ffpack-2.3.1] make[3]: *** [aclocal.m4] Error 127
[fflas_ffpack-2.3.1] make[3]: Failed to remake makefile `Makefile'.
[fflas_ffpack-2.3.1] make[3]: Target `all' not remade because of errors.
[fflas_ffpack-2.3.1] make[3]: Leaving directory `/home/buildbot/slave/sage_git/build/local/var/tmp/sage/build/fflas_ffpack-2.3.1/src'
[fflas_ffpack-2.3.1] ********************************************************************************
[fflas_ffpack-2.3.1] Error building fflas_ffpack-2.3.1
[fflas_ffpack-2.3.1] ********************************************************************************
```



---

archive/issue_comments_335535.json:
```json
{
    "body": "<a id='comment:56'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-12-21T10:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335535",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:56'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_335536.json:
```json
{
    "body": "<a id='comment:57'></a>Ok, this would be too tedious to patch the automatically generated configure scripts and makefiles.\nInstead, I just released a minor bug fix release of fflas-ffpack (v2.3.2), and updated the branch, and the link to the tarball in this ticket accordingly.",
    "created_at": "2017-12-21T10:05:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335536",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:57'></a>Ok, this would be too tedious to patch the automatically generated configure scripts and makefiles.
Instead, I just released a minor bug fix release of fflas-ffpack (v2.3.2), and updated the branch, and the link to the tarball in this ticket accordingly.



---

archive/issue_comments_335537.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-12-21T10:05:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335537",
    "user": "https://github.com/ClementPernet"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_335538.json:
```json
{
    "body": "<a id='comment:58'></a>OK, back for another spin.",
    "created_at": "2017-12-21T10:28:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335538",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:58'></a>OK, back for another spin.



---

archive/issue_comments_335539.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-12-21T10:28:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335539",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_061352.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-12-25T18:21:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24214#event-61352"
}
```



---

archive/issue_comments_335540.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-12-25T18:21:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335540",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_335541.json:
```json
{
    "body": "<a id='comment:60'></a>`@`cpernet if I understand it correctly you are one of the main contributors of linbox. Is there a reason you added `linbox_charpoly_fullCRA.patch` as a patch in sages build system instead of applying it upstream? I'm currently building a separate linbox version with that patch just for sage and would like to unify those two.",
    "created_at": "2018-08-06T10:22:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335541",
    "user": "https://github.com/timokau"
}
```

<a id='comment:60'></a>`@`cpernet if I understand it correctly you are one of the main contributors of linbox. Is there a reason you added `linbox_charpoly_fullCRA.patch` as a patch in sages build system instead of applying it upstream? I'm currently building a separate linbox version with that patch just for sage and would like to unify those two.



---

archive/issue_comments_335542.json:
```json
{
    "body": "<a id='comment:61'></a>I'm not sure what the commit deleted message means. At least I didn't consciously delete anything.",
    "created_at": "2018-08-06T10:23:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335542",
    "user": "https://github.com/timokau"
}
```

<a id='comment:61'></a>I'm not sure what the commit deleted message means. At least I didn't consciously delete anything.



---

archive/issue_comments_335543.json:
```json
{
    "body": "<a id='comment:62'></a>Replying to [comment:61 gh-timokau]:\n> I'm not sure what the commit deleted message means. At least I didn't consciously delete anything.\n\n\nDon't worry about that. It is a trac strange behavior but it has no impact. For your earlier question look at comment 17, 22 and 23 in this ticket.",
    "created_at": "2018-08-06T10:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335543",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:62'></a>Replying to [comment:61 gh-timokau]:
> I'm not sure what the commit deleted message means. At least I didn't consciously delete anything.


Don't worry about that. It is a trac strange behavior but it has no impact. For your earlier question look at comment 17, 22 and 23 in this ticket.



---

archive/issue_comments_335544.json:
```json
{
    "body": "<a id='comment:63'></a>Replying to [comment:62 fbissey]:\n> Replying to [comment:61 gh-timokau]:\n> > I'm not sure what the commit deleted message means. At least I didn't consciously delete anything.\n\n> \n> Don't worry about that. It is a trac strange behavior but it has no impact. For your earlier question look at comment 17, 22 and 23 in this ticket.\n\n\nThank you, I should've read the whole thing, I only started reading at comment 40. \n\nReplying to [comment:23 cpernet]:\n> For the moment there is this issue https://github.com/linbox-team/linbox/issues/69 but still no working branch. It will very likely be addressed in the next LinBox meeting mid-december.\n\n\nWas there any progress in that meeting or in general?",
    "created_at": "2018-08-06T10:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335544",
    "user": "https://github.com/timokau"
}
```

<a id='comment:63'></a>Replying to [comment:62 fbissey]:
> Replying to [comment:61 gh-timokau]:
> > I'm not sure what the commit deleted message means. At least I didn't consciously delete anything.

> 
> Don't worry about that. It is a trac strange behavior but it has no impact. For your earlier question look at comment 17, 22 and 23 in this ticket.


Thank you, I should've read the whole thing, I only started reading at comment 40. 

Replying to [comment:23 cpernet]:
> For the moment there is this issue https://github.com/linbox-team/linbox/issues/69 but still no working branch. It will very likely be addressed in the next LinBox meeting mid-december.


Was there any progress in that meeting or in general?



---

archive/issue_comments_335545.json:
```json
{
    "body": "<a id='comment:64'></a>Replying to [comment:63 gh-timokau]:\n> Replying to [comment:23 cpernet]:\n> > For the moment there is this issue https://github.com/linbox-team/linbox/issues/69 but still no working branch. It will very likely be addressed in the next LinBox meeting mid-december.\n\n> \n> Was there any progress in that meeting or in general?\n\n\nNo idea, I'll leave it to Clement to answer.",
    "created_at": "2018-08-06T10:54:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24214#issuecomment-335545",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:64'></a>Replying to [comment:63 gh-timokau]:
> Replying to [comment:23 cpernet]:
> > For the moment there is this issue https://github.com/linbox-team/linbox/issues/69 but still no working branch. It will very likely be addressed in the next LinBox meeting mid-december.

> 
> Was there any progress in that meeting or in general?


No idea, I'll leave it to Clement to answer.
