# Issue 24017: Add sdh_die helper function--report an error message and exit

archive/issues_023780.json:
```json
{
    "body": "As brought up in #23160, a lot of the `spkg-install` scripts define a helper function like this, so this adds one that they can share.\n\nIn many cases this won't even be needed because error messaging is already handled in the `sdh_make` helpers and the like.  But occasionally it's still useful.  This can be used like:\n\n```\ncommand || sdh_die \"Error message\"\n```\n\nmuch like the `die` command in perl.\n\nBranch/Commit: 6f7ed494ab39f2c726a4fe2808a9696a4ac40f01\n\nReviewer: Jeroen Demeyer\n\nAuthor: Erik Bray\n\nDependencies: #24092\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24017\n\n",
    "closed_at": "2017-10-30T07:41:19Z",
    "created_at": "2017-10-12T08:14:11Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Add sdh_die helper function--report an error message and exit",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24017",
    "user": "https://github.com/embray"
}
```
As brought up in #23160, a lot of the `spkg-install` scripts define a helper function like this, so this adds one that they can share.

In many cases this won't even be needed because error messaging is already handled in the `sdh_make` helpers and the like.  But occasionally it's still useful.  This can be used like:

```
command || sdh_die "Error message"
```

much like the `die` command in perl.

Branch/Commit: 6f7ed494ab39f2c726a4fe2808a9696a4ac40f01

Reviewer: Jeroen Demeyer

Author: Erik Bray

Dependencies: #24092

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24017





---

archive/issue_comments_453772.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-10-12T08:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453772",
    "user": "https://github.com/embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_453773.json:
```json
{
    "body": "<a id='comment:2'></a>Oops--accidentally pulled in some unrelated changes from #22509.",
    "created_at": "2017-10-12T08:24:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453773",
    "user": "https://github.com/embray"
}
```

<a id='comment:2'></a>Oops--accidentally pulled in some unrelated changes from #22509.



---

archive/issue_comments_453774.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-10-12T08:24:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453774",
    "user": "https://github.com/embray"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_453775.json:
```json
{
    "body": "Changing commit from \"be09dfcfe8cd8969823b3cb924ba859ae96c0514\" to \"18e1757cb5b875c9488dd9fe42ee72ed9d90e8a3\"",
    "created_at": "2017-10-12T08:31:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453775",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "be09dfcfe8cd8969823b3cb924ba859ae96c0514" to "18e1757cb5b875c9488dd9fe42ee72ed9d90e8a3"



---

archive/issue_comments_453776.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-10-12T08:31:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453776",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_453777.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-10-12T08:31:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453777",
    "user": "https://github.com/embray"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_453778.json:
```json
{
    "body": "<a id='comment:4'></a>Cleaned up.",
    "created_at": "2017-10-12T08:31:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453778",
    "user": "https://github.com/embray"
}
```

<a id='comment:4'></a>Cleaned up.



---

archive/issue_comments_453779.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#24014\"",
    "created_at": "2017-10-12T10:58:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453779",
    "user": "https://github.com/embray"
}
```

Changing dependencies from "" to "#24014"



---

archive/issue_comments_453780.json:
```json
{
    "body": "<a id='comment:5'></a>This will conflict with #24014, so better to add that as a dependency and make the required changes here to make them compatible.",
    "created_at": "2017-10-12T10:58:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453780",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>This will conflict with #24014, so better to add that as a dependency and make the required changes here to make them compatible.



---

archive/issue_comments_453781.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-10-12T10:58:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453781",
    "user": "https://github.com/embray"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_453782.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-10-12T13:44:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453782",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_453783.json:
```json
{
    "body": "Changing commit from \"18e1757cb5b875c9488dd9fe42ee72ed9d90e8a3\" to \"caf2698decb2f44521922f9f04a6d494877f4be7\"",
    "created_at": "2017-10-12T13:44:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453783",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "18e1757cb5b875c9488dd9fe42ee72ed9d90e8a3" to "caf2698decb2f44521922f9f04a6d494877f4be7"



---

archive/issue_comments_453784.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-10-12T13:47:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453784",
    "user": "https://github.com/embray"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_453785.json:
```json
{
    "body": "<a id='comment:8'></a>The `$(_sdh_cols)` thing seems over-engineered to me. In particular, I have doubts about\n\n```\necho \"$msg\" | fmt -s -w $(_sdh_cols)\n```\nbecause it means that we have to worry about the portability of the `fmt` program. I think it would be much better to just echo the message as-is. Also, there is a typo in a comment: `90` should be `80`.\n\nI like your `sdh_die << _EOF_` trick but then that should be documented too at the top of `sage-dist-helpers`.",
    "created_at": "2017-10-25T09:35:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453785",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>The `$(_sdh_cols)` thing seems over-engineered to me. In particular, I have doubts about

```
echo "$msg" | fmt -s -w $(_sdh_cols)
```
because it means that we have to worry about the portability of the `fmt` program. I think it would be much better to just echo the message as-is. Also, there is a typo in a comment: `90` should be `80`.

I like your `sdh_die << _EOF_` trick but then that should be documented too at the top of `sage-dist-helpers`.



---

archive/issue_comments_453786.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-10-25T09:35:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453786",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_453787.json:
```json
{
    "body": "Changing dependencies from \"#24014\" to \"\"",
    "created_at": "2017-10-25T09:36:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453787",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#24014" to ""



---

archive/issue_comments_453788.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [jdemeyer](#comment%3A8):\n> The `$(_sdh_cols)` thing seems over-engineered to me.\n\n\nThat's fair in general :)\n\n> In particular, I have doubts about\n> \n> ```\n> echo \"$msg\" | fmt -s -w $(_sdh_cols)\n> ```\n> because it means that we have to worry about the portability of the `fmt` program.\n\n\n`fmt` is actually very portable, moreso even than grep.  It's a sadly little-known, but very widely installed program and hasn't changed much over the ages.  See for yourself--it's on OSX, openbsd, freebsd, pretty much any linux, and it's the same everywhere.\n\nI'm not married to having it here, but I think the end result is nicer-looking error messages almost everywhere.\n\n> I think it would be much better to just echo the message as-is. Also, there is a typo in a comment: `90` should be `80`.\n> \n> I like your `sdh_die << _EOF_` trick but then that should be documented too at the top of `sage-dist-helpers`.\n\n\nOh you're right--I thought i did write docs about that but apparently not.",
    "created_at": "2017-10-25T10:13:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453788",
    "user": "https://github.com/embray"
}
```

<a id='comment:10'></a>Replying to [jdemeyer](#comment%3A8):
> The `$(_sdh_cols)` thing seems over-engineered to me.


That's fair in general :)

> In particular, I have doubts about
> 
> ```
> echo "$msg" | fmt -s -w $(_sdh_cols)
> ```
> because it means that we have to worry about the portability of the `fmt` program.


`fmt` is actually very portable, moreso even than grep.  It's a sadly little-known, but very widely installed program and hasn't changed much over the ages.  See for yourself--it's on OSX, openbsd, freebsd, pretty much any linux, and it's the same everywhere.

I'm not married to having it here, but I think the end result is nicer-looking error messages almost everywhere.

> I think it would be much better to just echo the message as-is. Also, there is a typo in a comment: `90` should be `80`.
> 
> I like your `sdh_die << _EOF_` trick but then that should be documented too at the top of `sage-dist-helpers`.


Oh you're right--I thought i did write docs about that but apparently not.



---

archive/issue_comments_453789.json:
```json
{
    "body": "Changing commit from \"caf2698decb2f44521922f9f04a6d494877f4be7\" to \"c00425b6281a137c90c4ea67de5b95a8d0ee2b11\"",
    "created_at": "2017-10-25T10:22:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453789",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "caf2698decb2f44521922f9f04a6d494877f4be7" to "c00425b6281a137c90c4ea67de5b95a8d0ee2b11"



---

archive/issue_comments_453790.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-25T10:22:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453790",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_453791.json:
```json
{
    "body": "<a id='comment:12'></a>Replying to [embray](#comment%3A10):\n> `fmt` is actually very portable, moreso even than grep.  It's a sadly little-known, but very widely installed program and hasn't changed much over the ages.  See for yourself--it's on OSX, openbsd, freebsd, pretty much any linux, and it's the same everywhere.\n\n\nFair enough. I give you the benefit of the doubt. It still feels over-engineered to me, but I won't block this ticket because of it.\n\nRemember to set this back to needs_review when you are done.",
    "created_at": "2017-10-25T12:19:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453791",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>Replying to [embray](#comment%3A10):
> `fmt` is actually very portable, moreso even than grep.  It's a sadly little-known, but very widely installed program and hasn't changed much over the ages.  See for yourself--it's on OSX, openbsd, freebsd, pretty much any linux, and it's the same everywhere.


Fair enough. I give you the benefit of the doubt. It still feels over-engineered to me, but I won't block this ticket because of it.

Remember to set this back to needs_review when you are done.



---

archive/issue_comments_453792.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-10-25T12:30:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453792",
    "user": "https://github.com/embray"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_453793.json:
```json
{
    "body": "<a id='comment:13'></a>I don't disagree with the \"over-engineered\" assessment--there's more going on there than is needed for the bare-minimum functionality.  But let's try it out for a bit.  I think it is a nice little \"quality of life\" touch.",
    "created_at": "2017-10-25T12:30:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453793",
    "user": "https://github.com/embray"
}
```

<a id='comment:13'></a>I don't disagree with the "over-engineered" assessment--there's more going on there than is needed for the bare-minimum functionality.  But let's try it out for a bit.  I think it is a nice little "quality of life" touch.



---

archive/issue_comments_453794.json:
```json
{
    "body": "<a id='comment:14'></a>Concerning\n\n```\nIf the last command run exited with an error,\n```\n\nWhy this condition? It means that you couldn't do something like\n\n```\nif some_condition; then\n    sdh_die \"bla bla bla\"\nfi\n```",
    "created_at": "2017-10-25T13:21:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453794",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>Concerning

```
If the last command run exited with an error,
```

Why this condition? It means that you couldn't do something like

```
if some_condition; then
    sdh_die "bla bla bla"
fi
```



---

archive/issue_comments_453795.json:
```json
{
    "body": "<a id='comment:15'></a>This could be written something like\n\n```\n[ some_condition ] || sdh_die ...\n```\n\nthough I realize in your example `some_condition` need not be the `test` command either.\n\nHmm--I think the original logic was that it was a failsafe of sorts; it would not \"die\" unless the previous command actually exited with an error.  For example, although it's typically used with `||`, if one ran `command; sdh_die ...` it would only \"die\" if the command returned a non-zero exit status.\n\nBut maybe sometimes you'd also want to \"die\" if some command succeeded.  So I think ultimately this restriction is not well-justified.  I'll remove it.",
    "created_at": "2017-10-25T13:45:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453795",
    "user": "https://github.com/embray"
}
```

<a id='comment:15'></a>This could be written something like

```
[ some_condition ] || sdh_die ...
```

though I realize in your example `some_condition` need not be the `test` command either.

Hmm--I think the original logic was that it was a failsafe of sorts; it would not "die" unless the previous command actually exited with an error.  For example, although it's typically used with `||`, if one ran `command; sdh_die ...` it would only "die" if the command returned a non-zero exit status.

But maybe sometimes you'd also want to "die" if some command succeeded.  So I think ultimately this restriction is not well-justified.  I'll remove it.



---

archive/issue_comments_453796.json:
```json
{
    "body": "Changing commit from \"c00425b6281a137c90c4ea67de5b95a8d0ee2b11\" to \"43e618a8cbd41366d457674cee37e4ba2b989b5b\"",
    "created_at": "2017-10-25T13:51:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453796",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c00425b6281a137c90c4ea67de5b95a8d0ee2b11" to "43e618a8cbd41366d457674cee37e4ba2b989b5b"



---

archive/issue_comments_453797.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-25T13:51:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453797",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_453798.json:
```json
{
    "body": "<a id='comment:17'></a>In\n\n```\nif [ $ret -ne 0 ]; then\n```\ndid you mean\n\n```\nif [ $ret -eq 0 ]; then\n```",
    "created_at": "2017-10-26T08:08:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453798",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>In

```
if [ $ret -ne 0 ]; then
```
did you mean

```
if [ $ret -eq 0 ]; then
```



---

archive/issue_comments_453799.json:
```json
{
    "body": "<a id='comment:18'></a>Replying to [jdemeyer](#comment%3A17):\n> In\n> \n> ```\n> if [ $ret -ne 0 ]; then\n> ```\n> did you mean\n> \n> ```\n> if [ $ret -eq 0 ]; then\n> ```\n\n\nYes, thank you for catching that.",
    "created_at": "2017-10-26T10:03:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453799",
    "user": "https://github.com/embray"
}
```

<a id='comment:18'></a>Replying to [jdemeyer](#comment%3A17):
> In
> 
> ```
> if [ $ret -ne 0 ]; then
> ```
> did you mean
> 
> ```
> if [ $ret -eq 0 ]; then
> ```


Yes, thank you for catching that.



---

archive/issue_comments_453800.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-26T10:04:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453800",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_453801.json:
```json
{
    "body": "Changing commit from \"43e618a8cbd41366d457674cee37e4ba2b989b5b\" to \"883df1141b64322b57f9b1393d455c2908fe76c3\"",
    "created_at": "2017-10-26T10:04:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453801",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "43e618a8cbd41366d457674cee37e4ba2b989b5b" to "883df1141b64322b57f9b1393d455c2908fe76c3"



---

archive/issue_comments_453802.json:
```json
{
    "body": "<a id='comment:20'></a>Is there a good place to put miscellaneous tests that aren't for an actual module in the `sage` package?  Under `src/sage/tests`, maybe?\n\nI would like to add a test suite for these functions (in a separate ticket).",
    "created_at": "2017-10-26T10:05:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453802",
    "user": "https://github.com/embray"
}
```

<a id='comment:20'></a>Is there a good place to put miscellaneous tests that aren't for an actual module in the `sage` package?  Under `src/sage/tests`, maybe?

I would like to add a test suite for these functions (in a separate ticket).



---

archive/issue_comments_453803.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [embray](#comment%3A20):\n> Under `src/sage/tests`, maybe?\n\n\nSince it's about building Sage, it would better be in `src/sage_setup`.",
    "created_at": "2017-10-26T10:16:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453803",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'></a>Replying to [embray](#comment%3A20):
> Under `src/sage/tests`, maybe?


Since it's about building Sage, it would better be in `src/sage_setup`.



---

archive/issue_comments_453804.json:
```json
{
    "body": "<a id='comment:22'></a>There's not a `sage_setup.tests` package yet to speak of, but I guess there could/should be.",
    "created_at": "2017-10-26T10:19:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453804",
    "user": "https://github.com/embray"
}
```

<a id='comment:22'></a>There's not a `sage_setup.tests` package yet to speak of, but I guess there could/should be.



---

archive/issue_comments_453805.json:
```json
{
    "body": "<a id='comment:23'></a>Works for me.",
    "created_at": "2017-10-27T09:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453805",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'></a>Works for me.



---

archive/issue_comments_453806.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2017-10-27T09:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453806",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_453807.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-27T09:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453807",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_453808.json:
```json
{
    "body": "<a id='comment:24'></a>FWIW the recent patchbot failure is due to the issue fixed by #24092, though it might be good the make that a dependency of this...",
    "created_at": "2017-10-27T12:26:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453808",
    "user": "https://github.com/embray"
}
```

<a id='comment:24'></a>FWIW the recent patchbot failure is due to the issue fixed by #24092, though it might be good the make that a dependency of this...



---

archive/issue_comments_453809.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-10-27T12:26:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453809",
    "user": "https://github.com/embray"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_453810.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-27T12:27:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453810",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_453811.json:
```json
{
    "body": "Changing commit from \"883df1141b64322b57f9b1393d455c2908fe76c3\" to \"6f7ed494ab39f2c726a4fe2808a9696a4ac40f01\"",
    "created_at": "2017-10-27T12:27:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453811",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "883df1141b64322b57f9b1393d455c2908fe76c3" to "6f7ed494ab39f2c726a4fe2808a9696a4ac40f01"



---

archive/issue_comments_453812.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#24092\"",
    "created_at": "2017-10-27T12:28:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453812",
    "user": "https://github.com/embray"
}
```

Changing dependencies from "" to "#24092"



---

archive/issue_comments_453813.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2017-10-27T12:28:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453813",
    "user": "https://github.com/embray"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_453814.json:
```json
{
    "body": "<a id='comment:26'></a>Added #24092 as a dependency in the hopes of getting better patchbot feedback.",
    "created_at": "2017-10-27T12:28:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453814",
    "user": "https://github.com/embray"
}
```

<a id='comment:26'></a>Added #24092 as a dependency in the hopes of getting better patchbot feedback.



---

archive/issue_comments_453815.json:
```json
{
    "body": "<a id='comment:27'></a>Replying to [embray](#comment%3A26):\n> Added #24092 as a dependency in the hopes of getting better patchbot feedback.\n\n\nDoes the patchbot even look at the dependencies?",
    "created_at": "2017-10-27T12:38:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453815",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:27'></a>Replying to [embray](#comment%3A26):
> Added #24092 as a dependency in the hopes of getting better patchbot feedback.


Does the patchbot even look at the dependencies?



---

archive/issue_comments_453816.json:
```json
{
    "body": "<a id='comment:28'></a>I don't think so, but it still makes sense to track doesn't it?\n\n(I am also trying to update the trac plugin to better diff branches against their dependencies, but that's a moot point for now...)",
    "created_at": "2017-10-27T12:50:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453816",
    "user": "https://github.com/embray"
}
```

<a id='comment:28'></a>I don't think so, but it still makes sense to track doesn't it?

(I am also trying to update the trac plugin to better diff branches against their dependencies, but that's a moot point for now...)



---

archive/issue_comments_453817.json:
```json
{
    "body": "Changing branch from \"u/embray/build/sdh_die\" to \"6f7ed494ab39f2c726a4fe2808a9696a4ac40f01\"",
    "created_at": "2017-10-30T07:41:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453817",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/embray/build/sdh_die" to "6f7ed494ab39f2c726a4fe2808a9696a4ac40f01"



---

archive/issue_comments_453818.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-10-30T07:41:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24017#issuecomment-453818",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_061044.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-10-30T07:41:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24017",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24017#event-61044"
}
```
