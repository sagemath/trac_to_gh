# Issue 24966: package primecount 4.3

archive/issues_024729.json:
```json
{
    "assignees": [],
    "body": "The goal of this ticket is to\n\n- package Kim Walish's `primecount` package (the version of `prime_pi`\n  in Sage has bugs, see #24960)\n- provide an experimental interface to it in `arith/prime_pi.pyx` (that will\n  be merged with the current `prime_pi` in Sage in #25009).\n\nNote that\n\n- `primecount`'s build system uses cmake, which needs an upgrade (see #25109)\n- the latest release of `primecount` should work on both big-endian and little-indian\n  processors but has been tested successfully\n- linking on Mac OSX looks fishy but seems to work fine\n\nTarball (to be renamed `primecount-4.3.tar.gz` in Sage):\n\n- https://github.com/kimwalisch/primecount/archive/v4.3.tar.gz\n\nThis ticket led to opening and solving an upstream issue,\nleading to improvements in the build and documentation:\n\n- https://github.com/kimwalisch/primecount/issues/11\n\nDepends on #25109\n\nCC:  @jpflori @kiwifb @vinklein @slel\n\nKeywords: **thursdaysbdx**\n\nBranch/Commit: **[6f73fad](https://github.com/sagemath/sagetrac-mirror/commit/6f73fadc7b7ca1a903246ffe0c552d677bb8b602)**\n\nReviewer: **Vincent Klein, Fran\u00e7ois Bissey**\n\nAuthor: **Vincent Delecroix**\n\nComponent: **packages: optional**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24966_\n\n",
    "closed_at": "2018-05-14T17:36:04Z",
    "created_at": "2018-03-13T16:20:05Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "package primecount 4.3",
    "type": "issue",
    "updated_at": "2018-05-14T17:36:04Z",
    "url": "https://github.com/sagemath/sage/issues/24966",
    "user": "https://github.com/videlec"
}
```
The goal of this ticket is to

- package Kim Walish's `primecount` package (the version of `prime_pi`
  in Sage has bugs, see #24960)
- provide an experimental interface to it in `arith/prime_pi.pyx` (that will
  be merged with the current `prime_pi` in Sage in #25009).

Note that

- `primecount`'s build system uses cmake, which needs an upgrade (see #25109)
- the latest release of `primecount` should work on both big-endian and little-indian
  processors but has been tested successfully
- linking on Mac OSX looks fishy but seems to work fine

Tarball (to be renamed `primecount-4.3.tar.gz` in Sage):

- https://github.com/kimwalisch/primecount/archive/v4.3.tar.gz

This ticket led to opening and solving an upstream issue,
leading to improvements in the build and documentation:

- https://github.com/kimwalisch/primecount/issues/11

Depends on #25109

CC:  @jpflori @kiwifb @vinklein @slel

Keywords: **thursdaysbdx**

Branch/Commit: **[6f73fad](https://github.com/sagemath/sagetrac-mirror/commit/6f73fadc7b7ca1a903246ffe0c552d677bb8b602)**

Reviewer: **Vincent Klein, Fran√ßois Bissey**

Author: **Vincent Delecroix**

Component: **packages: optional**

_Issue created by migration from https://trac.sagemath.org/ticket/24966_





---

archive/issue_events_345357.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-13T16:20:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345357"
}
```



---

archive/issue_events_345358.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-13T16:20:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345358"
}
```



---

archive/issue_events_345359.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-13T16:20:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345359"
}
```



---

archive/issue_events_345360.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-13T16:20:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345360"
}
```



---

archive/issue_events_345361.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-13T16:20:13Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "title_is": "package primecount",
    "title_was": "package prime count",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345361"
}
```



---

archive/issue_comments_380178.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nWe are [told](https://groups.google.com/d/msg/sage-support/hXZmkYwOvfg/4k5TbhGYCAAJ) that this is little-endian only. So this in its present form can at best become an experimental package, AFAIK.",
    "created_at": "2018-03-13T22:11:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380178",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:2" align="right">comment:2</div>

We are [told](https://groups.google.com/d/msg/sage-support/hXZmkYwOvfg/4k5TbhGYCAAJ) that this is little-endian only. So this in its present form can at best become an experimental package, AFAIK.



---

archive/issue_comments_380179.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n-Package Kim Walish prime count package (the Sage version of prime_pi is boggus, #24960). Note that the build system is using cmake.\n+Package Kim Walish prime count package (the Sage version of prime_pi is boggus, #24960). Note that\n \n-Upstream issue https://github.com/kimwalisch/primecount/issues/11\n+- the build system is using cmake\n+- the library only works on big-endian architecture\n+\n+Upstream issue for building https://github.com/kimwalisch/primecount/issues/11\n``````\n",
    "created_at": "2018-03-14T04:30:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380179",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
-Package Kim Walish prime count package (the Sage version of prime_pi is boggus, #24960). Note that the build system is using cmake.
+Package Kim Walish prime count package (the Sage version of prime_pi is boggus, #24960). Note that
 
-Upstream issue https://github.com/kimwalisch/primecount/issues/11
+- the build system is using cmake
+- the library only works on big-endian architecture
+
+Upstream issue for building https://github.com/kimwalisch/primecount/issues/11
``````




---

archive/issue_comments_380180.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThanks for the clarification Dima. It was actually a question that Kim Walish asked on github.",
    "created_at": "2018-03-14T04:30:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380180",
    "user": "https://github.com/videlec"
}
```

<div id="comment:3" align="right">comment:3</div>

Thanks for the clarification Dima. It was actually a question that Kim Walish asked on github.



---

archive/issue_events_345362.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-14T04:30:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345362"
}
```



---

archive/issue_events_345363.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-14T04:30:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20experimental",
    "label_color": "000080",
    "label_name": "c: packages: experimental",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345363"
}
```



---

archive/issue_comments_380181.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Package Kim Walish prime count package (the Sage version of prime_pi is boggus, #24960). Note that\n \n - the build system is using cmake\n-- the library only works on big-endian architecture\n+- the library only works on little-endian processors\n \n Upstream issue for building https://github.com/kimwalisch/primecount/issues/11\n``````\n",
    "created_at": "2018-03-14T08:31:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380181",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Package Kim Walish prime count package (the Sage version of prime_pi is boggus, #24960). Note that
 
 - the build system is using cmake
-- the library only works on big-endian architecture
+- the library only works on little-endian processors
 
 Upstream issue for building https://github.com/kimwalisch/primecount/issues/11
``````




---

archive/issue_comments_380182.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIt appears that Kim has put out a new release of primecount with big-endian support.",
    "created_at": "2018-03-14T22:45:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380182",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:5" align="right">comment:5</div>

It appears that Kim has put out a new release of primecount with big-endian support.



---

archive/issue_comments_380183.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Package Kim Walish prime count package (the Sage version of prime_pi is boggus, #24960). Note that\n \n - the build system is using cmake\n-- the library only works on little-endian processors\n+- the latest release appears to work on big-endian processors as well\n \n Upstream issue for building https://github.com/kimwalisch/primecount/issues/11\n``````\n",
    "created_at": "2018-03-15T00:51:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380183",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Package Kim Walish prime count package (the Sage version of prime_pi is boggus, #24960). Note that
 
 - the build system is using cmake
-- the library only works on little-endian processors
+- the latest release appears to work on big-endian processors as well
 
 Upstream issue for building https://github.com/kimwalisch/primecount/issues/11
``````




---

archive/issue_comments_380184.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI just checked the latest release on (big-endian) SPARC, it appears to work.\n(I tried ./primecount 1e11 with different algorithms, it worked)\n\nI didn't test with OpenMP. Should I?",
    "created_at": "2018-03-15T00:51:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380184",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:6" align="right">comment:6</div>

I just checked the latest release on (big-endian) SPARC, it appears to work.
(I tried ./primecount 1e11 with different algorithms, it worked)

I didn't test with OpenMP. Should I?



---

archive/issue_comments_380185.json:
```json
{
    "body": "Commit: **[c5bcc9e](https://github.com/sagemath/sagetrac-mirror/commit/c5bcc9e8377d8a424232d55c7573618355069972)**",
    "created_at": "2018-03-18T09:19:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380185",
    "user": "https://github.com/videlec"
}
```

Commit: **[c5bcc9e](https://github.com/sagemath/sagetrac-mirror/commit/c5bcc9e8377d8a424232d55c7573618355069972)**



---

archive/issue_events_345364.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-18T09:19:43Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "title_is": "package primecount 4.3",
    "title_was": "package primecount",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345364"
}
```



---

archive/issue_events_345365.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-18T09:19:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20experimental",
    "label_color": "000080",
    "label_name": "c: packages: experimental",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345365"
}
```



---

archive/issue_events_345366.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-18T09:19:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345366"
}
```



---

archive/issue_comments_380186.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5bcc9e8377d8a424232d55c7573618355069972\">c5bcc9e</a></td><td><code>package primecount</code></td></tr></table>\n",
    "created_at": "2018-03-18T09:19:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380186",
    "user": "https://github.com/videlec"
}
```

<div id="comment:7"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5bcc9e8377d8a424232d55c7573618355069972">c5bcc9e</a></td><td><code>package primecount</code></td></tr></table>




---

archive/issue_events_345367.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-18T09:19:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345367"
}
```



---

archive/issue_comments_380187.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,8 @@\n Package Kim Walish prime count package (the Sage version of prime_pi is boggus, #24960). Note that\n \n - the build system is using cmake\n-- the latest release appears to work on big-endian processors as well\n+- the latest release should work on both big-endian and little-indian processors but should be tested\n+\n+Release at https://github.com/kimwalisch/primecount/archive/v4.3.tar.gz (has to be renamed `primecount-4.3.tar.gz`).\n \n Upstream issue for building https://github.com/kimwalisch/primecount/issues/11\n``````\n",
    "created_at": "2018-03-18T09:19:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380187",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,8 @@
 Package Kim Walish prime count package (the Sage version of prime_pi is boggus, #24960). Note that
 
 - the build system is using cmake
-- the latest release appears to work on big-endian processors as well
+- the latest release should work on both big-endian and little-indian processors but should be tested
+
+Release at https://github.com/kimwalisch/primecount/archive/v4.3.tar.gz (has to be renamed `primecount-4.3.tar.gz`).
 
 Upstream issue for building https://github.com/kimwalisch/primecount/issues/11
``````




---

archive/issue_comments_380188.json:
```json
{
    "body": "Branch: **[u/vdelecroix/24966](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24966)**",
    "created_at": "2018-03-18T09:19:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380188",
    "user": "https://github.com/videlec"
}
```

Branch: **[u/vdelecroix/24966](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24966)**



---

archive/issue_comments_380189.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/559ef72c101e64680eb17ddd0e19e9238f67a634\">559ef72</a></td><td><code>package primecount</code></td></tr></table>\n",
    "created_at": "2018-03-18T16:18:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380189",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/559ef72c101e64680eb17ddd0e19e9238f67a634">559ef72</a></td><td><code>package primecount</code></td></tr></table>




---

archive/issue_comments_380190.json:
```json
{
    "body": "Changed commit from **[c5bcc9e](https://github.com/sagemath/sagetrac-mirror/commit/c5bcc9e8377d8a424232d55c7573618355069972)** to **[559ef72](https://github.com/sagemath/sagetrac-mirror/commit/559ef72c101e64680eb17ddd0e19e9238f67a634)**",
    "created_at": "2018-03-18T16:18:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380190",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c5bcc9e](https://github.com/sagemath/sagetrac-mirror/commit/c5bcc9e8377d8a424232d55c7573618355069972)** to **[559ef72](https://github.com/sagemath/sagetrac-mirror/commit/559ef72c101e64680eb17ddd0e19e9238f67a634)**



---

archive/issue_comments_380191.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThis should use the modern style `spkg-install` script with the `sdh_` functions.",
    "created_at": "2018-03-18T16:37:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380191",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

This should use the modern style `spkg-install` script with the `sdh_` functions.



---

archive/issue_events_345368.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-18T16:37:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345368"
}
```



---

archive/issue_events_345369.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-18T16:37:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345369"
}
```



---

archive/issue_comments_380192.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nIn `spkg-check` one needs `$MAKE test` rather than `$MAKE check`. \n\nMust be another cmake-ism... :-)",
    "created_at": "2018-03-18T16:58:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380192",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

In `spkg-check` one needs `$MAKE test` rather than `$MAKE check`. 

Must be another cmake-ism... :-)



---

archive/issue_comments_380193.json:
```json
{
    "body": "Changed commit from **[559ef72](https://github.com/sagemath/sagetrac-mirror/commit/559ef72c101e64680eb17ddd0e19e9238f67a634)** to **[1297aba](https://github.com/sagemath/sagetrac-mirror/commit/1297abafb22446d85864691738cbcaa7117b4ec5)**",
    "created_at": "2018-03-18T21:13:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380193",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[559ef72](https://github.com/sagemath/sagetrac-mirror/commit/559ef72c101e64680eb17ddd0e19e9238f67a634)** to **[1297aba](https://github.com/sagemath/sagetrac-mirror/commit/1297abafb22446d85864691738cbcaa7117b4ec5)**



---

archive/issue_comments_380194.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1297abafb22446d85864691738cbcaa7117b4ec5\">1297aba</a></td><td><code>package primecount</code></td></tr></table>\n",
    "created_at": "2018-03-18T21:13:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380194",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1297abafb22446d85864691738cbcaa7117b4ec5">1297aba</a></td><td><code>package primecount</code></td></tr></table>




---

archive/issue_events_345370.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-18T21:14:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345370"
}
```



---

archive/issue_events_345371.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-18T21:14:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345371"
}
```



---

archive/issue_comments_380195.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nIt is indeed a cmake-ism. And sadly you have to pass the option at configure time in order to enable the test... it is kind of annoying.",
    "created_at": "2018-03-18T21:14:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380195",
    "user": "https://github.com/videlec"
}
```

<div id="comment:12" align="right">comment:12</div>

It is indeed a cmake-ism. And sadly you have to pass the option at configure time in order to enable the test... it is kind of annoying.



---

archive/issue_comments_380196.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nBuild and passes its test suite on power7 - not inside a sage install, I assume I was requested to see if it was working on the hardware.\n\nI sniffed the `CMakeList.txt` and I want someone to test it inside sage on a mac. I suspect the `install_name` are not set properly but I could miss something, so the proof is in the pudding.",
    "created_at": "2018-03-18T21:29:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380196",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:13" align="right">comment:13</div>

Build and passes its test suite on power7 - not inside a sage install, I assume I was requested to see if it was working on the hardware.

I sniffed the `CMakeList.txt` and I want someone to test it inside sage on a mac. I suspect the `install_name` are not set properly but I could miss something, so the proof is in the pudding.



---

archive/issue_comments_380197.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@kiwifb](#comment:13):\n> I sniffed the `CMakeList.txt` and I want someone to test it inside sage on a mac. I suspect the `install_name` are not set properly but I could miss something, so the proof is in the pudding. \n\nIs there no `libtool` equivalent in the cmake world?",
    "created_at": "2018-03-19T06:25:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380197",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@kiwifb](#comment:13):
> I sniffed the `CMakeList.txt` and I want someone to test it inside sage on a mac. I suspect the `install_name` are not set properly but I could miss something, so the proof is in the pudding. 

Is there no `libtool` equivalent in the cmake world?



---

archive/issue_comments_380198.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\ncmake knows about OS X but you have to be sure to tell it to do the right thing for a proper install. I didn't see what I think should be there but I could have missed something. `install_name` is not necessary when you just produce an executable, things can get funny when you produce dynamic libraries.",
    "created_at": "2018-03-19T06:29:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380198",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:15" align="right">comment:15</div>

cmake knows about OS X but you have to be sure to tell it to do the right thing for a proper install. I didn't see what I think should be there but I could have missed something. `install_name` is not necessary when you just produce an executable, things can get funny when you produce dynamic libraries.



---

archive/issue_comments_380199.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThough I am not sure that `make test` actually test the linking. I should perhaps start writing #25009 for proper testing within Sage.",
    "created_at": "2018-03-19T08:57:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380199",
    "user": "https://github.com/videlec"
}
```

<div id="comment:16" align="right">comment:16</div>

Though I am not sure that `make test` actually test the linking. I should perhaps start writing #25009 for proper testing within Sage.



---

archive/issue_comments_380200.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@videlec](#comment:16):\n> Though I am not sure that `make test` actually test the linking. I should perhaps start writing #25009 for proper testing within Sage.\n\nYes, it would be good to have a minimal test (even just a `%%cython` command) to check that the linking works.",
    "created_at": "2018-03-19T08:59:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380200",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@videlec](#comment:16):
> Though I am not sure that `make test` actually test the linking. I should perhaps start writing #25009 for proper testing within Sage.

Yes, it would be good to have a minimal test (even just a `%%cython` command) to check that the linking works.



---

archive/issue_comments_380201.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@videlec](#comment:16):\n> Though I am not sure that `make test` actually test the linking.\n\nIt does - however because test executable are not installed they are not actually linked with the same options as the final installed executable. In fact your executables and libraries may be re-linked at install time.",
    "created_at": "2018-03-19T09:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380201",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@videlec](#comment:16):
> Though I am not sure that `make test` actually test the linking.

It does - however because test executable are not installed they are not actually linked with the same options as the final installed executable. In fact your executables and libraries may be re-linked at install time.



---

archive/issue_comments_380202.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nPerhaps testing the installed libs is worth upstream's attention?",
    "created_at": "2018-03-19T09:10:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380202",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:19" align="right">comment:19</div>

Perhaps testing the installed libs is worth upstream's attention?



---

archive/issue_comments_380203.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@dimpase](#comment:19):\n> Perhaps testing the installed libs is worth upstream's attention?\n\nSure but it is up to us to check that it integrates properly within Sage.",
    "created_at": "2018-03-19T09:12:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380203",
    "user": "https://github.com/videlec"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@dimpase](#comment:19):
> Perhaps testing the installed libs is worth upstream's attention?

Sure but it is up to us to check that it integrates properly within Sage.



---

archive/issue_comments_380204.json:
```json
{
    "body": "Changed commit from **[1297aba](https://github.com/sagemath/sagetrac-mirror/commit/1297abafb22446d85864691738cbcaa7117b4ec5)** to **[0311d77](https://github.com/sagemath/sagetrac-mirror/commit/0311d77f620e20ba3aee180f29c8aa184dec4392)**",
    "created_at": "2018-03-19T11:11:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380204",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1297aba](https://github.com/sagemath/sagetrac-mirror/commit/1297abafb22446d85864691738cbcaa7117b4ec5)** to **[0311d77](https://github.com/sagemath/sagetrac-mirror/commit/0311d77f620e20ba3aee180f29c8aa184dec4392)**



---

archive/issue_comments_380205.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0311d77f620e20ba3aee180f29c8aa184dec4392\">0311d77</a></td><td><code>Add experimental prime_pi module</code></td></tr></table>\n",
    "created_at": "2018-03-19T11:11:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380205",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0311d77f620e20ba3aee180f29c8aa184dec4392">0311d77</a></td><td><code>Add experimental prime_pi module</code></td></tr></table>




---

archive/issue_comments_380206.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI introduced in the last commit an experimental module `sage.arith.prime_pi` that will be clean up in #25009.",
    "created_at": "2018-03-19T11:12:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380206",
    "user": "https://github.com/videlec"
}
```

<div id="comment:22" align="right">comment:22</div>

I introduced in the last commit an experimental module `sage.arith.prime_pi` that will be clean up in #25009.



---

archive/issue_comments_380207.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nDidn't read the last comment, sorry.",
    "created_at": "2018-03-19T14:16:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380207",
    "user": "https://github.com/rwst"
}
```

<div id="comment:24" align="right">comment:24</div>

Didn't read the last comment, sorry.



---

archive/issue_comments_380208.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d44099fa17ed37bed33244da75582b0fd4dd2a6e\">d44099f</a></td><td><code>Add experimental prime_pi module</code></td></tr></table>\n",
    "created_at": "2018-03-19T17:15:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380208",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d44099fa17ed37bed33244da75582b0fd4dd2a6e">d44099f</a></td><td><code>Add experimental prime_pi module</code></td></tr></table>




---

archive/issue_comments_380209.json:
```json
{
    "body": "Changed commit from **[0311d77](https://github.com/sagemath/sagetrac-mirror/commit/0311d77f620e20ba3aee180f29c8aa184dec4392)** to **[d44099f](https://github.com/sagemath/sagetrac-mirror/commit/d44099fa17ed37bed33244da75582b0fd4dd2a6e)**",
    "created_at": "2018-03-19T17:15:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380209",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0311d77](https://github.com/sagemath/sagetrac-mirror/commit/0311d77f620e20ba3aee180f29c8aa184dec4392)** to **[d44099f](https://github.com/sagemath/sagetrac-mirror/commit/d44099fa17ed37bed33244da75582b0fd4dd2a6e)**



---

archive/issue_comments_380210.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,10 @@\n-Package Kim Walish prime count package (the Sage version of prime_pi is boggus, #24960). Note that\n+Package Kim Walish prime count package (the Sage version of prime_pi is boggus, #24960) and provide an experimental interface to it in `arith/prime_pi.pyx` (that will be merged with the current `prime_pi` in Sage in #25009).\n \n-- the build system is using cmake\n+Note that\n+\n+- primecount build system is using cmake\n - the latest release should work on both big-endian and little-indian processors but should be tested\n+- linking on Mac OSX looks fishy\n \n Release at https://github.com/kimwalisch/primecount/archive/v4.3.tar.gz (has to be renamed `primecount-4.3.tar.gz`).\n \n``````\n",
    "created_at": "2018-03-19T17:17:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380210",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,10 @@
-Package Kim Walish prime count package (the Sage version of prime_pi is boggus, #24960). Note that
+Package Kim Walish prime count package (the Sage version of prime_pi is boggus, #24960) and provide an experimental interface to it in `arith/prime_pi.pyx` (that will be merged with the current `prime_pi` in Sage in #25009).
 
-- the build system is using cmake
+Note that
+
+- primecount build system is using cmake
 - the latest release should work on both big-endian and little-indian processors but should be tested
+- linking on Mac OSX looks fishy
 
 Release at https://github.com/kimwalisch/primecount/archive/v4.3.tar.gz (has to be renamed `primecount-4.3.tar.gz`).
 
``````




---

archive/issue_comments_380211.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI'll test in on OSX, building now...",
    "created_at": "2018-03-19T17:18:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380211",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:27" align="right">comment:27</div>

I'll test in on OSX, building now...



---

archive/issue_comments_380212.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@dimpase](#comment:27):\n> I'll test in on OSX, building now...\n\nThanks! (running `$ sage -t arith/prime_pi.pyx` should be enough but check that the tests indeed appears with `sage -t --verbose arith/prime_pi.pyx`).",
    "created_at": "2018-03-19T17:21:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380212",
    "user": "https://github.com/videlec"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@dimpase](#comment:27):
> I'll test in on OSX, building now...

Thanks! (running `$ sage -t arith/prime_pi.pyx` should be enough but check that the tests indeed appears with `sage -t --verbose arith/prime_pi.pyx`).



---

archive/issue_comments_380213.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nTested under macOS 10.10.5. The package installs fine, and `sage -t` gives \"All tests passed!\".",
    "created_at": "2018-03-19T19:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380213",
    "user": "https://github.com/slel"
}
```

<div id="comment:29" align="right">comment:29</div>

Tested under macOS 10.10.5. The package installs fine, and `sage -t` gives "All tests passed!".



---

archive/issue_comments_380214.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Package Kim Walish prime count package (the Sage version of prime_pi is boggus, #24960) and provide an experimental interface to it in `arith/prime_pi.pyx` (that will be merged with the current `prime_pi` in Sage in #25009).\n+Package Kim Walish prime count package (the Sage version of prime_pi has bugs, see #24960) and provide an experimental interface to it in `arith/prime_pi.pyx` (that will be merged with the current `prime_pi` in Sage in #25009).\n \n Note that\n \n``````\n",
    "created_at": "2018-03-19T19:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380214",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Package Kim Walish prime count package (the Sage version of prime_pi is boggus, #24960) and provide an experimental interface to it in `arith/prime_pi.pyx` (that will be merged with the current `prime_pi` in Sage in #25009).
+Package Kim Walish prime count package (the Sage version of prime_pi has bugs, see #24960) and provide an experimental interface to it in `arith/prime_pi.pyx` (that will be merged with the current `prime_pi` in Sage in #25009).
 
 Note that
 
``````




---

archive/issue_comments_380215.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI'm not so happy to abuse `compile_time_env` for every optional package. First of all, it leads to ugly code (`IF`s all over the place) and second, it requires a complete reinstallation of the Sage library whenever a new package is installed.\n\nWhy not use the `OptionalExtension` mechanism for this?",
    "created_at": "2018-03-19T20:02:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380215",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

I'm not so happy to abuse `compile_time_env` for every optional package. First of all, it leads to ugly code (`IF`s all over the place) and second, it requires a complete reinstallation of the Sage library whenever a new package is installed.

Why not use the `OptionalExtension` mechanism for this?



---

archive/issue_comments_380216.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@jdemeyer](#comment:30):\n> I'm not so happy to abuse `compile_time_env` for every optional package. First of all, it leads to ugly code (`IF`s all over the place) and second, it requires a complete reinstallation of the Sage library whenever a new package is installed.\n> \n> Why not use the `OptionalExtension` mechanism for this?\n\nFurther I am opposed to any introduction of that sage-on-distro annoyance that is `is_package_installed` in `setup.py`. We want less of it, not more.",
    "created_at": "2018-03-19T20:08:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380216",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@jdemeyer](#comment:30):
> I'm not so happy to abuse `compile_time_env` for every optional package. First of all, it leads to ugly code (`IF`s all over the place) and second, it requires a complete reinstallation of the Sage library whenever a new package is installed.
> 
> Why not use the `OptionalExtension` mechanism for this?

Further I am opposed to any introduction of that sage-on-distro annoyance that is `is_package_installed` in `setup.py`. We want less of it, not more.



---

archive/issue_comments_380217.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@slel](#comment:29):\n> Tested under macOS 10.10.5. The package installs fine, and `sage -t` gives \"All tests passed!\".\n\nCan you give the output of `otool -L local/lib/libprimecount.dylib` (or whatever is the correct name for that library).",
    "created_at": "2018-03-19T20:10:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380217",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@slel](#comment:29):
> Tested under macOS 10.10.5. The package installs fine, and `sage -t` gives "All tests passed!".

Can you give the output of `otool -L local/lib/libprimecount.dylib` (or whatever is the correct name for that library).



---

archive/issue_events_345372.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-19T20:14:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345372"
}
```



---

archive/issue_events_345373.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-19T20:14:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345373"
}
```



---

archive/issue_comments_380218.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nThis is what I get:\n\n```\n$ otool -L local/lib/libprimecount.dylib \nlocal/lib/libprimecount.dylib:\n\t@rpath/libprimecount.4.dylib (compatibility version 4.0.0, current version 4.3.0)\n\t@rpath/libprimesieve.8.dylib (compatibility version 8.0.0, current version 8.4.0)\n\t/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 120.1.0)\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1226.10.1)\n```",
    "created_at": "2018-03-20T00:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380218",
    "user": "https://github.com/slel"
}
```

<div id="comment:34" align="right">comment:34</div>

This is what I get:

```
$ otool -L local/lib/libprimecount.dylib 
local/lib/libprimecount.dylib:
	@rpath/libprimecount.4.dylib (compatibility version 4.0.0, current version 4.3.0)
	@rpath/libprimesieve.8.dylib (compatibility version 8.0.0, current version 8.4.0)
	/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 120.1.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1226.10.1)
```



---

archive/issue_comments_380219.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nInteresting the `@rpath` bit is probably helping. What about `otool -D local/lib/libprimecount.dylib`?",
    "created_at": "2018-03-20T01:02:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380219",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:35" align="right">comment:35</div>

Interesting the `@rpath` bit is probably helping. What about `otool -D local/lib/libprimecount.dylib`?



---

archive/issue_comments_380220.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nHere is what I get:\n\n```\n$ otool -D local/lib/libprimecount.dylib\nlocal/lib/libprimecount.dylib:\n@rpath/libprimecount.4.dylib\n```",
    "created_at": "2018-03-20T01:05:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380220",
    "user": "https://github.com/slel"
}
```

<div id="comment:36" align="right">comment:36</div>

Here is what I get:

```
$ otool -D local/lib/libprimecount.dylib
local/lib/libprimecount.dylib:
@rpath/libprimecount.4.dylib
```



---

archive/issue_comments_380221.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nThat's unusual but good enough if I believe `ld`'s documentation.",
    "created_at": "2018-03-20T01:07:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380221",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:37" align="right">comment:37</div>

That's unusual but good enough if I believe `ld`'s documentation.



---

archive/issue_comments_380222.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@jdemeyer](#comment:30):\n> I'm not so happy to abuse `compile_time_env` for every optional package. First of all, it leads to ugly code (`IF`s all over the place) and second, it requires a complete reinstallation of the Sage library whenever a new package is installed.\n> \n> Why not use the `OptionalExtension` mechanism for this?\n\nTo avoid\n- writing two modules instead of one\n- indirect calls to primecount via a cython wrapped function",
    "created_at": "2018-03-20T21:33:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380222",
    "user": "https://github.com/videlec"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@jdemeyer](#comment:30):
> I'm not so happy to abuse `compile_time_env` for every optional package. First of all, it leads to ugly code (`IF`s all over the place) and second, it requires a complete reinstallation of the Sage library whenever a new package is installed.
> 
> Why not use the `OptionalExtension` mechanism for this?

To avoid
- writing two modules instead of one
- indirect calls to primecount via a cython wrapped function



---

archive/issue_comments_380223.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@kiwifb](#comment:31):\n> Replying to [@jdemeyer](#comment:30):\n> > I'm not so happy to abuse `compile_time_env` for every optional package. First of all, it leads to ugly code (`IF`s all over the place) and second, it requires a complete reinstallation of the Sage library whenever a new package is installed.\n> > \n> > Why not use the `OptionalExtension` mechanism for this?\n\n> \n> Further I am opposed to any introduction of that sage-on-distro annoyance that is `is_package_installed` in `setup.py`. We want less of it, not more.\n\nWhat do you propose then?",
    "created_at": "2018-03-20T21:33:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380223",
    "user": "https://github.com/videlec"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@kiwifb](#comment:31):
> Replying to [@jdemeyer](#comment:30):
> > I'm not so happy to abuse `compile_time_env` for every optional package. First of all, it leads to ugly code (`IF`s all over the place) and second, it requires a complete reinstallation of the Sage library whenever a new package is installed.
> > 
> > Why not use the `OptionalExtension` mechanism for this?

> 
> Further I am opposed to any introduction of that sage-on-distro annoyance that is `is_package_installed` in `setup.py`. We want less of it, not more.

What do you propose then?



---

archive/issue_comments_380224.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@videlec](#comment:39):\n> Replying to [@kiwifb](#comment:31):\n> > Replying to [@jdemeyer](#comment:30):\n> > > I'm not so happy to abuse `compile_time_env` for every optional package. First of all, it leads to ugly code (`IF`s all over the place) and second, it requires a complete reinstallation of the Sage library whenever a new package is installed.\n> > > \n> > > Why not use the `OptionalExtension` mechanism for this?\n\n> > \n> > Further I am opposed to any introduction of that sage-on-distro annoyance that is `is_package_installed` in `setup.py`. We want less of it, not more.\n\n> \n> What do you propose then?\n\nExactly what Jeroen suggests, like 99% of optional packages that build a binding, put a `OptionalExtension` in `module_list_list.py`. We already deal with that particular instance of `is_package_installed` and that's not adding a new one. Look in `module_list.py` for examples of it.",
    "created_at": "2018-03-21T07:24:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380224",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@videlec](#comment:39):
> Replying to [@kiwifb](#comment:31):
> > Replying to [@jdemeyer](#comment:30):
> > > I'm not so happy to abuse `compile_time_env` for every optional package. First of all, it leads to ugly code (`IF`s all over the place) and second, it requires a complete reinstallation of the Sage library whenever a new package is installed.
> > > 
> > > Why not use the `OptionalExtension` mechanism for this?

> > 
> > Further I am opposed to any introduction of that sage-on-distro annoyance that is `is_package_installed` in `setup.py`. We want less of it, not more.

> 
> What do you propose then?

Exactly what Jeroen suggests, like 99% of optional packages that build a binding, put a `OptionalExtension` in `module_list_list.py`. We already deal with that particular instance of `is_package_installed` and that's not adding a new one. Look in `module_list.py` for examples of it.



---

archive/issue_comments_380225.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nReplying to [@kiwifb](#comment:40):\n> Replying to [@videlec](#comment:39):\n> > Replying to [@kiwifb](#comment:31):\n> > > Replying to [@jdemeyer](#comment:30):\n> > > > I'm not so happy to abuse `compile_time_env` for every optional package. First of all, it leads to ugly code (`IF`s all over the place) and second, it requires a complete reinstallation of the Sage library whenever a new package is installed.\n> > > > \n> > > > Why not use the `OptionalExtension` mechanism for this?\n\n> > > \n> > > Further I am opposed to any introduction of that sage-on-distro annoyance that is `is_package_installed` in `setup.py`. We want less of it, not more.\n\n> > \n> > What do you propose then?\n\n> \n> Exactly what Jeroen suggests, like 99% of optional packages that build a binding, put a `OptionalExtension` in `module_list_list.py`. We already deal with that particular instance of `is_package_installed` and that's not adding a new one. Look in `module_list.py` for examples of it.\n\nAs I wrote this is a nonsense. This oblige to have a function `prime_pi` in let say `interfaces/primecount.pyx` to provide bindings for primecount and a `prime_pi` in `arith/prime_pi.pyx` calling the former (because we do have other `prime_pi` implementations around). primecount is made of straightforward C++ functions and it should possible to call them directly without the optional extension that you propose.",
    "created_at": "2018-03-21T08:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380225",
    "user": "https://github.com/videlec"
}
```

<div id="comment:41" align="right">comment:41</div>

Replying to [@kiwifb](#comment:40):
> Replying to [@videlec](#comment:39):
> > Replying to [@kiwifb](#comment:31):
> > > Replying to [@jdemeyer](#comment:30):
> > > > I'm not so happy to abuse `compile_time_env` for every optional package. First of all, it leads to ugly code (`IF`s all over the place) and second, it requires a complete reinstallation of the Sage library whenever a new package is installed.
> > > > 
> > > > Why not use the `OptionalExtension` mechanism for this?

> > > 
> > > Further I am opposed to any introduction of that sage-on-distro annoyance that is `is_package_installed` in `setup.py`. We want less of it, not more.

> > 
> > What do you propose then?

> 
> Exactly what Jeroen suggests, like 99% of optional packages that build a binding, put a `OptionalExtension` in `module_list_list.py`. We already deal with that particular instance of `is_package_installed` and that's not adding a new one. Look in `module_list.py` for examples of it.

As I wrote this is a nonsense. This oblige to have a function `prime_pi` in let say `interfaces/primecount.pyx` to provide bindings for primecount and a `prime_pi` in `arith/prime_pi.pyx` calling the former (because we do have other `prime_pi` implementations around). primecount is made of straightforward C++ functions and it should possible to call them directly without the optional extension that you propose.



---

archive/issue_comments_380226.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nI see. Well, I call what you do a bit of a band aid. But then we all have to start somewhere before learning better. Of course what I am about to suggest will require a significant rewrite.\n\nYou should isolate the binding to primecount in its own optional pyx/pxd files. Then, instead of having all those `HAVE_PRIMECOUNT` conditional you use a more pythonic construct \n\n```\ntry:\n  import primcount_binding\nexcept ....\n```\nand so on. There may be a case for using stuff from #20382, once it is merged, for this.",
    "created_at": "2018-03-21T08:56:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380226",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:42" align="right">comment:42</div>

I see. Well, I call what you do a bit of a band aid. But then we all have to start somewhere before learning better. Of course what I am about to suggest will require a significant rewrite.

You should isolate the binding to primecount in its own optional pyx/pxd files. Then, instead of having all those `HAVE_PRIMECOUNT` conditional you use a more pythonic construct 

```
try:
  import primcount_binding
except ....
```
and so on. There may be a case for using stuff from #20382, once it is merged, for this.



---

archive/issue_comments_380227.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nI don't mind significant rewrite. This is about 10 lines of code anyway.\n\nI want to avoid `primecount_binding`. The primecount library is made of C functions `int the_function(int)` that can be directly used without any intermediate useless Python module. Such Python module would look like\n\n```\ndef the_python_function(int x):\n   r\"\"\"\n   A doctest\n   \"\"\"\"\n   return the_C_function(x)\n```\nand calling any of `the_python_function` wil be an extra Python call overhead.",
    "created_at": "2018-03-21T16:17:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380227",
    "user": "https://github.com/videlec"
}
```

<div id="comment:43" align="right">comment:43</div>

I don't mind significant rewrite. This is about 10 lines of code anyway.

I want to avoid `primecount_binding`. The primecount library is made of C functions `int the_function(int)` that can be directly used without any intermediate useless Python module. Such Python module would look like

```
def the_python_function(int x):
   r"""
   A doctest
   """"
   return the_C_function(x)
```
and calling any of `the_python_function` wil be an extra Python call overhead.



---

archive/issue_comments_380228.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nI know, it's bikeshedding, but an alternative would be to have a fake `libprimecount` which is always installed, and where every callable by Sage function is a no-op...",
    "created_at": "2018-03-21T18:08:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380228",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:44" align="right">comment:44</div>

I know, it's bikeshedding, but an alternative would be to have a fake `libprimecount` which is always installed, and where every callable by Sage function is a no-op...



---

archive/issue_comments_380229.json:
```json
{
    "body": "Changed commit from **[d44099f](https://github.com/sagemath/sagetrac-mirror/commit/d44099fa17ed37bed33244da75582b0fd4dd2a6e)** to **[e60448c](https://github.com/sagemath/sagetrac-mirror/commit/e60448cd3f18b2a8ee3ed3811ee4018662f7a55d)**",
    "created_at": "2018-03-30T13:50:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380229",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d44099f](https://github.com/sagemath/sagetrac-mirror/commit/d44099fa17ed37bed33244da75582b0fd4dd2a6e)** to **[e60448c](https://github.com/sagemath/sagetrac-mirror/commit/e60448cd3f18b2a8ee3ed3811ee4018662f7a55d)**



---

archive/issue_comments_380230.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/074106d5dde82dbf7ee61fb8a53f28fc3f658e89\">074106d</a></td><td><code>package primecount</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e60448cd3f18b2a8ee3ed3811ee4018662f7a55d\">e60448c</a></td><td><code>primecount interface as an optional Cython module</code></td></tr></table>\n",
    "created_at": "2018-03-30T13:50:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380230",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/074106d5dde82dbf7ee61fb8a53f28fc3f658e89">074106d</a></td><td><code>package primecount</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e60448cd3f18b2a8ee3ed3811ee4018662f7a55d">e60448c</a></td><td><code>primecount interface as an optional Cython module</code></td></tr></table>




---

archive/issue_events_345374.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-30T13:51:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345374"
}
```



---

archive/issue_events_345375.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-30T13:51:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345375"
}
```



---

archive/issue_comments_380231.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\n- rebased\n- now an optional module (no more compilation constant)",
    "created_at": "2018-03-30T13:51:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380231",
    "user": "https://github.com/videlec"
}
```

<div id="comment:46" align="right">comment:46</div>

- rebased
- now an optional module (no more compilation constant)



---

archive/issue_comments_380232.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nCurrently building on macOS 10.12.6",
    "created_at": "2018-04-03T15:55:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380232",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:48" align="right">comment:48</div>

Currently building on macOS 10.12.6



---

archive/issue_comments_380233.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nI get an error during `sage -i prime count`.\n\n```\nFound local metadata for primecount-4.3\nUsing cached file /Users/admin/sage/upstream/primecount-4.3.tar.gz\nprimecount-4.3\n====================================================\nSetting up build directory for primecount-4.3\nFinished extraction\nNo patch files found in ../patches\n****************************************************\nHost system:\nDarwin laptop-147-210-128-202.labri.fr 16.7.0 Darwin Kernel Version 16.7.0: Mon Nov 13 21:56:25 PST 2017; root:xnu-3789.72.11~1/RELEASE_X86_64 x86_64\n****************************************************\nC compiler: gcc\nC compiler version:\nConfigured with: --prefix=/Library/Developer/CommandLineTools/usr --with-gxx-include-dir=/usr/include/c++/4.2.1\nApple LLVM version 9.0.0 (clang-900.0.39.2)\nTarget: x86_64-apple-darwin16.7.0\nThread model: posix\nInstalledDir: /Library/Developer/CommandLineTools/usr/bin\n****************************************************\nConfiguring primecount.\n-- The CXX compiler identification is AppleClang 9.0.0.9000039\n-- Check for working CXX compiler: /Library/Developer/CommandLineTools/usr/bin/g++\n-- Check for working CXX compiler: /Library/Developer/CommandLineTools/usr/bin/g++ -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Performing Test Wno_fallthrough\n-- Performing Test Wno_fallthrough - Success\n-- Performing Test atomic64\n-- Performing Test atomic64 - Success\n-- Looking for C++ include pthread.h\n-- Looking for C++ include pthread.h - found\n-- Looking for pthread_create\n-- Looking for pthread_create - found\n-- Found Threads: TRUE  \n-- Performing Test libdivide\n-- Performing Test libdivide - Success\n-- Performing Test mpopcnt\n-- Performing Test mpopcnt - Success\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src\nBuilding primecount-4.3\nScanning dependencies of target libprimesieve\n[  4%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/EratBig.cpp.o\n[  4%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/CpuInfo.cpp.o\n[  4%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/api-c.cpp.o\n[  4%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/api.cpp.o\n[  6%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/EratMedium.cpp.o\n[  6%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/EratSmall.cpp.o\n[  7%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/iterator-c.cpp.o\n[  7%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/iterator.cpp.o\n[  8%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/nthPrime.cpp.o\n[  9%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/ParallelPrimeSieve.cpp.o\n[ 10%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/popcount.cpp.o\n[ 11%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/PreSieve.cpp.o\n[ 12%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/PrimeGenerator.cpp.o\n[ 13%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/PrimeSieve.cpp.o\n[ 14%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/SieveOfEratosthenes.cpp.o\n[ 15%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/SievingPrimes.cpp.o\n[ 16%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/Wheel.cpp.o\n[ 16%] Linking CXX shared library libprimesieve.dylib\ndyld: lazy symbol binding failed: Symbol not found: _utimensat\n  Referenced from: /Users/admin/sage/local/bin/cmake\n  Expected in: /usr/lib/libSystem.B.dylib\n\ndyld: Symbol not found: _utimensat\n  Referenced from: /Users/admin/sage/local/bin/cmake\n  Expected in: /usr/lib/libSystem.B.dylib\n\nmake[4]: *** [lib/primesieve/libprimesieve.dylib] Abort trap: 6\nmake[4]: *** Deleting file `lib/primesieve/libprimesieve.dylib'\nmake[3]: *** [lib/primesieve/CMakeFiles/libprimesieve.dir/all] Error 2\nmake[2]: *** [all] Error 2\n********************************************************************************\nError building primecount-4.3\n********************************************************************************\n\nreal\t0m12.842s\nuser\t0m15.293s\nsys\t0m3.012s\n************************************************************************\nError installing package primecount-4.3\n************************************************************************\nPlease email sage-devel (http://groups.google.com/group/sage-devel)\nexplaining the problem and including the log file\n  /Users/admin/sage/logs/pkgs/primecount-4.3.log\nDescribe your computer, operating system, etc.\nIf you want to try to fix the problem yourself, *don't* just cd to\n/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3 and type 'make' or whatever is appropriate.\nInstead, the following commands setup all environment variables\ncorrectly and load a subshell for you to debug the error:\n  (cd '/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3' && '/Users/admin/sage/sage' --sh)\nWhen you are done debugging, you can type \"exit\" to leave the subshell.\n************************************************************************\n\n```",
    "created_at": "2018-04-04T07:14:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380233",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:49" align="right">comment:49</div>

I get an error during `sage -i prime count`.

```
Found local metadata for primecount-4.3
Using cached file /Users/admin/sage/upstream/primecount-4.3.tar.gz
primecount-4.3
====================================================
Setting up build directory for primecount-4.3
Finished extraction
No patch files found in ../patches
****************************************************
Host system:
Darwin laptop-147-210-128-202.labri.fr 16.7.0 Darwin Kernel Version 16.7.0: Mon Nov 13 21:56:25 PST 2017; root:xnu-3789.72.11~1/RELEASE_X86_64 x86_64
****************************************************
C compiler: gcc
C compiler version:
Configured with: --prefix=/Library/Developer/CommandLineTools/usr --with-gxx-include-dir=/usr/include/c++/4.2.1
Apple LLVM version 9.0.0 (clang-900.0.39.2)
Target: x86_64-apple-darwin16.7.0
Thread model: posix
InstalledDir: /Library/Developer/CommandLineTools/usr/bin
****************************************************
Configuring primecount.
-- The CXX compiler identification is AppleClang 9.0.0.9000039
-- Check for working CXX compiler: /Library/Developer/CommandLineTools/usr/bin/g++
-- Check for working CXX compiler: /Library/Developer/CommandLineTools/usr/bin/g++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Performing Test Wno_fallthrough
-- Performing Test Wno_fallthrough - Success
-- Performing Test atomic64
-- Performing Test atomic64 - Success
-- Looking for C++ include pthread.h
-- Looking for C++ include pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - found
-- Found Threads: TRUE  
-- Performing Test libdivide
-- Performing Test libdivide - Success
-- Performing Test mpopcnt
-- Performing Test mpopcnt - Success
-- Configuring done
-- Generating done
-- Build files have been written to: /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src
Building primecount-4.3
Scanning dependencies of target libprimesieve
[  4%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/EratBig.cpp.o
[  4%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/CpuInfo.cpp.o
[  4%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/api-c.cpp.o
[  4%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/api.cpp.o
[  6%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/EratMedium.cpp.o
[  6%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/EratSmall.cpp.o
[  7%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/iterator-c.cpp.o
[  7%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/iterator.cpp.o
[  8%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/nthPrime.cpp.o
[  9%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/ParallelPrimeSieve.cpp.o
[ 10%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/popcount.cpp.o
[ 11%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/PreSieve.cpp.o
[ 12%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/PrimeGenerator.cpp.o
[ 13%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/PrimeSieve.cpp.o
[ 14%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/SieveOfEratosthenes.cpp.o
[ 15%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/SievingPrimes.cpp.o
[ 16%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/Wheel.cpp.o
[ 16%] Linking CXX shared library libprimesieve.dylib
dyld: lazy symbol binding failed: Symbol not found: _utimensat
  Referenced from: /Users/admin/sage/local/bin/cmake
  Expected in: /usr/lib/libSystem.B.dylib

dyld: Symbol not found: _utimensat
  Referenced from: /Users/admin/sage/local/bin/cmake
  Expected in: /usr/lib/libSystem.B.dylib

make[4]: *** [lib/primesieve/libprimesieve.dylib] Abort trap: 6
make[4]: *** Deleting file `lib/primesieve/libprimesieve.dylib'
make[3]: *** [lib/primesieve/CMakeFiles/libprimesieve.dir/all] Error 2
make[2]: *** [all] Error 2
********************************************************************************
Error building primecount-4.3
********************************************************************************

real	0m12.842s
user	0m15.293s
sys	0m3.012s
************************************************************************
Error installing package primecount-4.3
************************************************************************
Please email sage-devel (http://groups.google.com/group/sage-devel)
explaining the problem and including the log file
  /Users/admin/sage/logs/pkgs/primecount-4.3.log
Describe your computer, operating system, etc.
If you want to try to fix the problem yourself, *don't* just cd to
/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3 and type 'make' or whatever is appropriate.
Instead, the following commands setup all environment variables
correctly and load a subshell for you to debug the error:
  (cd '/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3' && '/Users/admin/sage/sage' --sh)
When you are done debugging, you can type "exit" to leave the subshell.
************************************************************************

```



---

archive/issue_comments_380234.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nIt looks like _ultimensat is not available on macOS version < 10.13. I am currently on macOS 10.12.6.",
    "created_at": "2018-04-04T07:20:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380234",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:50" align="right">comment:50</div>

It looks like _ultimensat is not available on macOS version < 10.13. I am currently on macOS 10.12.6.



---

archive/issue_events_345376.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-04-04T15:20:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345376"
}
```



---

archive/issue_events_345377.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-04-04T15:20:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345377"
}
```



---

archive/issue_comments_380235.json:
```json
{
    "body": "Reviewer: **Vincent Klein**",
    "created_at": "2018-04-04T15:20:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380235",
    "user": "https://github.com/vinklein"
}
```

Reviewer: **Vincent Klein**



---

archive/issue_comments_380236.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nInstall and tests works on macOS High Sierra (10.13.4), but i don't have managed to make it work on Sierra (10.12.6)",
    "created_at": "2018-04-04T15:20:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380236",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:51" align="right">comment:51</div>

Install and tests works on macOS High Sierra (10.13.4), but i don't have managed to make it work on Sierra (10.12.6)



---

archive/issue_comments_380237.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nThat symbol is not quoted directly in the source code. So it has to be generated, I think something may select the wrong version of OS X as the target. What version of xcode do you actually use? This is probably fixable.\n\nAlso and I should have mentioned that earlier can you pass the following option to cmake ` -DCMAKE_VERBOSE_MAKEFILE=ON` so we have a verbose output and see what it is doing during make.",
    "created_at": "2018-04-04T22:00:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380237",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:52" align="right">comment:52</div>

That symbol is not quoted directly in the source code. So it has to be generated, I think something may select the wrong version of OS X as the target. What version of xcode do you actually use? This is probably fixable.

Also and I should have mentioned that earlier can you pass the following option to cmake ` -DCMAKE_VERBOSE_MAKEFILE=ON` so we have a verbose output and see what it is doing during make.



---

archive/issue_comments_380238.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nOn Sierra it was xcode 8.3.1.\n\nAs i have upgraded to High Sierra i can't do the tests with the verbose option right now. I need to set up a new Sierra environment first.",
    "created_at": "2018-04-05T08:02:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380238",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:53" align="right">comment:53</div>

On Sierra it was xcode 8.3.1.

As i have upgraded to High Sierra i can't do the tests with the verbose option right now. I need to set up a new Sierra environment first.



---

archive/issue_comments_380239.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nJust for future reference, verbose building is the prefered default. So all packages using cmake should have this option set.",
    "created_at": "2018-04-05T08:05:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380239",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:54" align="right">comment:54</div>

Just for future reference, verbose building is the prefered default. So all packages using cmake should have this option set.



---

archive/issue_comments_380240.json:
```json
{
    "body": "Changed keywords from none to **thursdaysbdx**",
    "created_at": "2018-04-05T09:05:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380240",
    "user": "https://github.com/vinklein"
}
```

Changed keywords from none to **thursdaysbdx**



---

archive/issue_comments_380241.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nTrace for `sage -i primecount` with `-DCMAKE_VERBOSE_MAKEFILE=ON` on sierra (xcode 8.3.1) \n\n```\nFound local metadata for primecount-4.3\nUsing cached file /Users/admin/sage/upstream/primecount-4.3.tar.gz\nprimecount-4.3\n====================================================\nSetting up build directory for primecount-4.3\nFinished extraction\nNo patch files found in ../patches\n****************************************************\nHost system:\nDarwin laptop-147-210-128-61.labri.fr 16.7.0 Darwin Kernel Version 16.7.0: Thu Jan 11 22:59:40 PST 2018; root:xnu-3789.73.8~1/RELEASE_X86_64 x86_64\n****************************************************\nC compiler: gcc\nC compiler version:\nConfigured with: --prefix=/Library/Developer/CommandLineTools/usr --with-gxx-include-dir=/usr/include/c++/4.2.1\nApple LLVM version 9.0.0 (clang-900.0.39.2)\nTarget: x86_64-apple-darwin16.7.0\nThread model: posix\nInstalledDir: /Library/Developer/CommandLineTools/usr/bin\n****************************************************\nConfiguring primecount.\n-- The CXX compiler identification is AppleClang 9.0.0.9000039\n-- Check for working CXX compiler: /Library/Developer/CommandLineTools/usr/bin/g++\n-- Check for working CXX compiler: /Library/Developer/CommandLineTools/usr/bin/g++ -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Performing Test Wno_fallthrough\n-- Performing Test Wno_fallthrough - Success\n-- Performing Test atomic64\n-- Performing Test atomic64 - Success\n-- Looking for C++ include pthread.h\n-- Looking for C++ include pthread.h - found\n-- Looking for pthread_create\n-- Looking for pthread_create - found\n-- Found Threads: TRUE  \n-- Performing Test libdivide\n-- Performing Test libdivide - Success\n-- Performing Test mpopcnt\n-- Performing Test mpopcnt - Success\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src\nBuilding primecount-4.3\n/Users/admin/sage/local/bin/cmake -H/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src -B/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src --check-build-system CMakeFiles/Makefile.cmake 0\n/Users/admin/sage/local/bin/cmake -E cmake_progress_start /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/CMakeFiles /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/CMakeFiles/progress.marks\nmake -f CMakeFiles/Makefile2 all\nmake -f lib/primesieve/CMakeFiles/libprimesieve.dir/build.make lib/primesieve/CMakeFiles/libprimesieve.dir/depend\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src && /Users/admin/sage/local/bin/cmake -E cmake_depends \"Unix Makefiles\" /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/CMakeFiles/libprimesieve.dir/DependInfo.cmake --color=\nScanning dependencies of target libprimesieve\nmake -f lib/primesieve/CMakeFiles/libprimesieve.dir/build.make lib/primesieve/CMakeFiles/libprimesieve.dir/build\n[  3%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/CpuInfo.cpp.o\n[  3%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/EratBig.cpp.o\n[  3%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/api.cpp.o\n[  4%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/api-c.cpp.o\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/EratBig.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/EratBig.cpp\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/CpuInfo.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/CpuInfo.cpp\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/api.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/api.cpp\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/api-c.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/api-c.cpp\n[  5%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/EratMedium.cpp.o\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/EratMedium.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/EratMedium.cpp\n[  6%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/EratSmall.cpp.o\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -Wno-implicit-fallthrough -o CMakeFiles/libprimesieve.dir/src/EratSmall.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/EratSmall.cpp\n[  7%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/iterator-c.cpp.o\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/iterator-c.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/iterator-c.cpp\n[  7%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/iterator.cpp.o\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/iterator.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/iterator.cpp\n[  8%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/nthPrime.cpp.o\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/nthPrime.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/nthPrime.cpp\n[  9%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/ParallelPrimeSieve.cpp.o\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/ParallelPrimeSieve.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/ParallelPrimeSieve.cpp\n[ 10%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/popcount.cpp.o\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/popcount.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/popcount.cpp\n[ 11%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/PreSieve.cpp.o\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/PreSieve.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/PreSieve.cpp\n[ 12%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/PrimeGenerator.cpp.o\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/PrimeGenerator.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/PrimeGenerator.cpp\n[ 13%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/PrimeSieve.cpp.o\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/PrimeSieve.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/PrimeSieve.cpp\n[ 14%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/SieveOfEratosthenes.cpp.o\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/SieveOfEratosthenes.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/SieveOfEratosthenes.cpp\n[ 15%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/SievingPrimes.cpp.o\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/SievingPrimes.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/SievingPrimes.cpp\n[ 16%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/Wheel.cpp.o\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/Wheel.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/Wheel.cpp\n[ 16%] Linking CXX shared library libprimesieve.dylib\ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Users/admin/sage/local/bin/cmake -E cmake_link_script CMakeFiles/libprimesieve.dir/link.txt --verbose=1\n/Library/Developer/CommandLineTools/usr/bin/g++ -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -dynamiclib -Wl,-headerpad_max_install_names -L/Users/admin/sage/local/lib -Wl,-rpath,/Users/admin/sage/local/lib -compatibility_version 8.0.0 -current_version 8.4.0 -o libprimesieve.8.4.0.dylib -install_name @rpath/libprimesieve.8.dylib CMakeFiles/libprimesieve.dir/src/api-c.cpp.o CMakeFiles/libprimesieve.dir/src/api.cpp.o CMakeFiles/libprimesieve.dir/src/CpuInfo.cpp.o CMakeFiles/libprimesieve.dir/src/EratBig.cpp.o CMakeFiles/libprimesieve.dir/src/EratMedium.cpp.o CMakeFiles/libprimesieve.dir/src/EratSmall.cpp.o CMakeFiles/libprimesieve.dir/src/iterator-c.cpp.o CMakeFiles/libprimesieve.dir/src/iterator.cpp.o CMakeFiles/libprimesieve.dir/src/nthPrime.cpp.o CMakeFiles/libprimesieve.dir/src/ParallelPrimeSieve.cpp.o CMakeFiles/libprimesieve.dir/src/popcount.cpp.o CMakeFiles/libprimesieve.dir/src/PreSieve.cpp.o CMakeFiles/libprimesieve.dir/src/PrimeGenerator.cpp.o CMakeFiles/libprimesieve.dir/src/PrimeSieve.cpp.o CMakeFiles/libprimesieve.dir/src/SieveOfEratosthenes.cpp.o CMakeFiles/libprimesieve.dir/src/SievingPrimes.cpp.o CMakeFiles/libprimesieve.dir/src/Wheel.cpp.o \ncd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Users/admin/sage/local/bin/cmake -E cmake_symlink_library libprimesieve.8.4.0.dylib libprimesieve.8.dylib libprimesieve.dylib\ndyld: lazy symbol binding failed: Symbol not found: _utimensat\n  Referenced from: /Users/admin/sage/local/bin/cmake\n  Expected in: /usr/lib/libSystem.B.dylib\n\ndyld: Symbol not found: _utimensat\n  Referenced from: /Users/admin/sage/local/bin/cmake\n  Expected in: /usr/lib/libSystem.B.dylib\n\nmake[4]: *** [lib/primesieve/libprimesieve.dylib] Abort trap: 6\nmake[4]: *** Deleting file `lib/primesieve/libprimesieve.dylib'\nmake[3]: *** [lib/primesieve/CMakeFiles/libprimesieve.dir/all] Error 2\nmake[2]: *** [all] Error 2\n********************************************************************************\nError building primecount-4.3\n********************************************************************************\n\nreal\t0m9.857s\nuser\t0m16.100s\nsys\t0m2.490s\n************************************************************************\nError installing package primecount-4.3\n************************************************************************\nPlease email sage-devel (http://groups.google.com/group/sage-devel)\nexplaining the problem and including the log file\n  /Users/admin/sage/logs/pkgs/primecount-4.3.log\nDescribe your computer, operating system, etc.\nIf you want to try to fix the problem yourself, *don't* just cd to\n/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3 and type 'make' or whatever is appropriate.\nInstead, the following commands setup all environment variables\ncorrectly and load a subshell for you to debug the error:\n  (cd '/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3' && '/Users/admin/sage/sage' --sh)\nWhen you are done debugging, you can type \"exit\" to leave the subshell.\n************************************************************************\n```",
    "created_at": "2018-04-05T14:50:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380241",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:56" align="right">comment:56</div>

Trace for `sage -i primecount` with `-DCMAKE_VERBOSE_MAKEFILE=ON` on sierra (xcode 8.3.1) 

```
Found local metadata for primecount-4.3
Using cached file /Users/admin/sage/upstream/primecount-4.3.tar.gz
primecount-4.3
====================================================
Setting up build directory for primecount-4.3
Finished extraction
No patch files found in ../patches
****************************************************
Host system:
Darwin laptop-147-210-128-61.labri.fr 16.7.0 Darwin Kernel Version 16.7.0: Thu Jan 11 22:59:40 PST 2018; root:xnu-3789.73.8~1/RELEASE_X86_64 x86_64
****************************************************
C compiler: gcc
C compiler version:
Configured with: --prefix=/Library/Developer/CommandLineTools/usr --with-gxx-include-dir=/usr/include/c++/4.2.1
Apple LLVM version 9.0.0 (clang-900.0.39.2)
Target: x86_64-apple-darwin16.7.0
Thread model: posix
InstalledDir: /Library/Developer/CommandLineTools/usr/bin
****************************************************
Configuring primecount.
-- The CXX compiler identification is AppleClang 9.0.0.9000039
-- Check for working CXX compiler: /Library/Developer/CommandLineTools/usr/bin/g++
-- Check for working CXX compiler: /Library/Developer/CommandLineTools/usr/bin/g++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Performing Test Wno_fallthrough
-- Performing Test Wno_fallthrough - Success
-- Performing Test atomic64
-- Performing Test atomic64 - Success
-- Looking for C++ include pthread.h
-- Looking for C++ include pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - found
-- Found Threads: TRUE  
-- Performing Test libdivide
-- Performing Test libdivide - Success
-- Performing Test mpopcnt
-- Performing Test mpopcnt - Success
-- Configuring done
-- Generating done
-- Build files have been written to: /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src
Building primecount-4.3
/Users/admin/sage/local/bin/cmake -H/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src -B/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src --check-build-system CMakeFiles/Makefile.cmake 0
/Users/admin/sage/local/bin/cmake -E cmake_progress_start /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/CMakeFiles /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/CMakeFiles/progress.marks
make -f CMakeFiles/Makefile2 all
make -f lib/primesieve/CMakeFiles/libprimesieve.dir/build.make lib/primesieve/CMakeFiles/libprimesieve.dir/depend
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src && /Users/admin/sage/local/bin/cmake -E cmake_depends "Unix Makefiles" /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/CMakeFiles/libprimesieve.dir/DependInfo.cmake --color=
Scanning dependencies of target libprimesieve
make -f lib/primesieve/CMakeFiles/libprimesieve.dir/build.make lib/primesieve/CMakeFiles/libprimesieve.dir/build
[  3%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/CpuInfo.cpp.o
[  3%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/EratBig.cpp.o
[  3%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/api.cpp.o
[  4%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/api-c.cpp.o
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/EratBig.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/EratBig.cpp
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/CpuInfo.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/CpuInfo.cpp
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/api.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/api.cpp
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/api-c.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/api-c.cpp
[  5%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/EratMedium.cpp.o
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/EratMedium.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/EratMedium.cpp
[  6%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/EratSmall.cpp.o
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -Wno-implicit-fallthrough -o CMakeFiles/libprimesieve.dir/src/EratSmall.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/EratSmall.cpp
[  7%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/iterator-c.cpp.o
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/iterator-c.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/iterator-c.cpp
[  7%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/iterator.cpp.o
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/iterator.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/iterator.cpp
[  8%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/nthPrime.cpp.o
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/nthPrime.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/nthPrime.cpp
[  9%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/ParallelPrimeSieve.cpp.o
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/ParallelPrimeSieve.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/ParallelPrimeSieve.cpp
[ 10%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/popcount.cpp.o
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/popcount.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/popcount.cpp
[ 11%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/PreSieve.cpp.o
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/PreSieve.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/PreSieve.cpp
[ 12%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/PrimeGenerator.cpp.o
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/PrimeGenerator.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/PrimeGenerator.cpp
[ 13%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/PrimeSieve.cpp.o
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/PrimeSieve.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/PrimeSieve.cpp
[ 14%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/SieveOfEratosthenes.cpp.o
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/SieveOfEratosthenes.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/SieveOfEratosthenes.cpp
[ 15%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/SievingPrimes.cpp.o
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/SievingPrimes.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/SievingPrimes.cpp
[ 16%] Building CXX object lib/primesieve/CMakeFiles/libprimesieve.dir/src/Wheel.cpp.o
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Library/Developer/CommandLineTools/usr/bin/g++  -Dlibprimesieve_EXPORTS -I/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/include  -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -fPIC   -std=gnu++11 -o CMakeFiles/libprimesieve.dir/src/Wheel.cpp.o -c /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve/src/Wheel.cpp
[ 16%] Linking CXX shared library libprimesieve.dylib
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Users/admin/sage/local/bin/cmake -E cmake_link_script CMakeFiles/libprimesieve.dir/link.txt --verbose=1
/Library/Developer/CommandLineTools/usr/bin/g++ -O3 -DNDEBUG -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.13.sdk -mmacosx-version-min=10.9 -dynamiclib -Wl,-headerpad_max_install_names -L/Users/admin/sage/local/lib -Wl,-rpath,/Users/admin/sage/local/lib -compatibility_version 8.0.0 -current_version 8.4.0 -o libprimesieve.8.4.0.dylib -install_name @rpath/libprimesieve.8.dylib CMakeFiles/libprimesieve.dir/src/api-c.cpp.o CMakeFiles/libprimesieve.dir/src/api.cpp.o CMakeFiles/libprimesieve.dir/src/CpuInfo.cpp.o CMakeFiles/libprimesieve.dir/src/EratBig.cpp.o CMakeFiles/libprimesieve.dir/src/EratMedium.cpp.o CMakeFiles/libprimesieve.dir/src/EratSmall.cpp.o CMakeFiles/libprimesieve.dir/src/iterator-c.cpp.o CMakeFiles/libprimesieve.dir/src/iterator.cpp.o CMakeFiles/libprimesieve.dir/src/nthPrime.cpp.o CMakeFiles/libprimesieve.dir/src/ParallelPrimeSieve.cpp.o CMakeFiles/libprimesieve.dir/src/popcount.cpp.o CMakeFiles/libprimesieve.dir/src/PreSieve.cpp.o CMakeFiles/libprimesieve.dir/src/PrimeGenerator.cpp.o CMakeFiles/libprimesieve.dir/src/PrimeSieve.cpp.o CMakeFiles/libprimesieve.dir/src/SieveOfEratosthenes.cpp.o CMakeFiles/libprimesieve.dir/src/SievingPrimes.cpp.o CMakeFiles/libprimesieve.dir/src/Wheel.cpp.o 
cd /Users/admin/sage/local/var/tmp/sage/build/primecount-4.3/src/lib/primesieve && /Users/admin/sage/local/bin/cmake -E cmake_symlink_library libprimesieve.8.4.0.dylib libprimesieve.8.dylib libprimesieve.dylib
dyld: lazy symbol binding failed: Symbol not found: _utimensat
  Referenced from: /Users/admin/sage/local/bin/cmake
  Expected in: /usr/lib/libSystem.B.dylib

dyld: Symbol not found: _utimensat
  Referenced from: /Users/admin/sage/local/bin/cmake
  Expected in: /usr/lib/libSystem.B.dylib

make[4]: *** [lib/primesieve/libprimesieve.dylib] Abort trap: 6
make[4]: *** Deleting file `lib/primesieve/libprimesieve.dylib'
make[3]: *** [lib/primesieve/CMakeFiles/libprimesieve.dir/all] Error 2
make[2]: *** [all] Error 2
********************************************************************************
Error building primecount-4.3
********************************************************************************

real	0m9.857s
user	0m16.100s
sys	0m2.490s
************************************************************************
Error installing package primecount-4.3
************************************************************************
Please email sage-devel (http://groups.google.com/group/sage-devel)
explaining the problem and including the log file
  /Users/admin/sage/logs/pkgs/primecount-4.3.log
Describe your computer, operating system, etc.
If you want to try to fix the problem yourself, *don't* just cd to
/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3 and type 'make' or whatever is appropriate.
Instead, the following commands setup all environment variables
correctly and load a subshell for you to debug the error:
  (cd '/Users/admin/sage/local/var/tmp/sage/build/primecount-4.3' && '/Users/admin/sage/sage' --sh)
When you are done debugging, you can type "exit" to leave the subshell.
************************************************************************
```



---

archive/issue_comments_380242.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nOK I have read other reports. Did you run `xcode-select --install` after installing/upgrading xcode? This unfortunately has to be done regularly after upgrades otherwise some stuff is missing at the root level.",
    "created_at": "2018-04-05T23:41:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380242",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:57" align="right">comment:57</div>

OK I have read other reports. Did you run `xcode-select --install` after installing/upgrading xcode? This unfortunately has to be done regularly after upgrades otherwise some stuff is missing at the root level.



---

archive/issue_comments_380243.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nReplying to [@kiwifb](#comment:57):\n> OK I have read other reports. Did you run `xcode-select --install` after installing/upgrading xcode?\n\nYes i tried this one. It just say command line tools are already installed. And xcode doesn't appear with `softwareupdate --list`",
    "created_at": "2018-04-06T07:23:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380243",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:58" align="right">comment:58</div>

Replying to [@kiwifb](#comment:57):
> OK I have read other reports. Did you run `xcode-select --install` after installing/upgrading xcode?

Yes i tried this one. It just say command line tools are already installed. And xcode doesn't appear with `softwareupdate --list`



---

archive/issue_comments_380244.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nHum... could be the way cmake is built and installed https://github.com/Homebrew/homebrew-core/issues/15232 https://github.com/Homebrew/homebrew-core/pull/19372 it looks like we need to upgrade cmake to fix this.",
    "created_at": "2018-04-06T07:49:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380244",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:59" align="right">comment:59</div>

Hum... could be the way cmake is built and installed https://github.com/Homebrew/homebrew-core/issues/15232 https://github.com/Homebrew/homebrew-core/pull/19372 it looks like we need to upgrade cmake to fix this.



---

archive/issue_comments_380245.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nIndeed it works fine after upgrading sage's cmake package to 3.11.0",
    "created_at": "2018-04-06T09:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380245",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:60" align="right">comment:60</div>

Indeed it works fine after upgrading sage's cmake package to 3.11.0



---

archive/issue_events_345378.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-04-06T15:24:20Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "subject": "https://github.com/vinklein",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345378"
}
```



---

archive/issue_comments_380246.json:
```json
{
    "body": "Dependencies: **25109**",
    "created_at": "2018-04-06T15:24:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380246",
    "user": "https://github.com/vinklein"
}
```

Dependencies: **25109**



---

archive/issue_events_345379.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-04-06T15:24:55Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "subject": "https://github.com/vinklein",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345379"
}
```



---

archive/issue_comments_380247.json:
```json
{
    "body": "Changed dependencies from **25109** to **#25109**",
    "created_at": "2018-04-06T15:27:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380247",
    "user": "https://github.com/vinklein"
}
```

Changed dependencies from **25109** to **#25109**



---

archive/issue_events_345380.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-04-13T08:26:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345380"
}
```



---

archive/issue_events_345381.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-04-13T08:26:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345381"
}
```



---

archive/issue_comments_380248.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,9 +2,9 @@\n \n Note that\n \n-- primecount build system is using cmake\n-- the latest release should work on both big-endian and little-indian processors but should be tested\n-- linking on Mac OSX looks fishy\n+- primecount build system is using cmake which needs an upgrade (see #25109)\n+- the latest release should work on both big-endian and little-indian processors but has been tested successfully\n+- linking on Mac OSX looks fishy but seems to work fine\n \n Release at https://github.com/kimwalisch/primecount/archive/v4.3.tar.gz (has to be renamed `primecount-4.3.tar.gz`).\n \n``````\n",
    "created_at": "2018-04-13T08:26:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380248",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,9 +2,9 @@
 
 Note that
 
-- primecount build system is using cmake
-- the latest release should work on both big-endian and little-indian processors but should be tested
-- linking on Mac OSX looks fishy
+- primecount build system is using cmake which needs an upgrade (see #25109)
+- the latest release should work on both big-endian and little-indian processors but has been tested successfully
+- linking on Mac OSX looks fishy but seems to work fine
 
 Release at https://github.com/kimwalisch/primecount/archive/v4.3.tar.gz (has to be renamed `primecount-4.3.tar.gz`).
 
``````




---

archive/issue_comments_380249.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\ntests are currently runnings on MacOS 10.13.4 and on Ubuntu 16.04",
    "created_at": "2018-04-13T14:59:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380249",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:65" align="right">comment:65</div>

tests are currently runnings on MacOS 10.13.4 and on Ubuntu 16.04



---

archive/issue_events_345382.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-04-17T03:45:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345382"
}
```



---

archive/issue_events_345383.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-04-17T03:45:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345383"
}
```



---

archive/issue_comments_380250.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nI really want to see `-DCMAKE_VERBOSE_MAKEFILE=ON` in `spkg-install`. Once it is done, it is a positive review from me.",
    "created_at": "2018-04-17T03:45:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380250",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:66" align="right">comment:66</div>

I really want to see `-DCMAKE_VERBOSE_MAKEFILE=ON` in `spkg-install`. Once it is done, it is a positive review from me.



---

archive/issue_events_345384.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-04-17T03:45:46Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345384"
}
```



---

archive/issue_events_345385.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-04-17T03:45:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345385"
}
```



---

archive/issue_comments_380251.json:
```json
{
    "body": "Changed reviewer from **Vincent Klein** to **Vincent Klein, Fran\u00e7ois Bissey**",
    "created_at": "2018-04-17T03:45:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380251",
    "user": "https://github.com/kiwifb"
}
```

Changed reviewer from **Vincent Klein** to **Vincent Klein, Fran√ßois Bissey**



---

archive/issue_comments_380252.json:
```json
{
    "body": "<div id=\"comment:67\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f73fadc7b7ca1a903246ffe0c552d677bb8b602\">6f73fad</a></td><td><code>CMAKE_VERBOSE_MAKEFILE=ON</code></td></tr></table>\n",
    "created_at": "2018-04-17T07:38:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380252",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:67"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f73fadc7b7ca1a903246ffe0c552d677bb8b602">6f73fad</a></td><td><code>CMAKE_VERBOSE_MAKEFILE=ON</code></td></tr></table>




---

archive/issue_comments_380253.json:
```json
{
    "body": "Changed commit from **[e60448c](https://github.com/sagemath/sagetrac-mirror/commit/e60448cd3f18b2a8ee3ed3811ee4018662f7a55d)** to **[6f73fad](https://github.com/sagemath/sagetrac-mirror/commit/6f73fadc7b7ca1a903246ffe0c552d677bb8b602)**",
    "created_at": "2018-04-17T07:38:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380253",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e60448c](https://github.com/sagemath/sagetrac-mirror/commit/e60448cd3f18b2a8ee3ed3811ee4018662f7a55d)** to **[6f73fad](https://github.com/sagemath/sagetrac-mirror/commit/6f73fadc7b7ca1a903246ffe0c552d677bb8b602)**



---

archive/issue_comments_380254.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\ngreat",
    "created_at": "2018-04-17T07:40:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380254",
    "user": "https://github.com/videlec"
}
```

<div id="comment:68" align="right">comment:68</div>

great



---

archive/issue_events_345386.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-04-17T07:40:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345386"
}
```



---

archive/issue_events_345387.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-04-17T07:40:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345387"
}
```



---

archive/issue_comments_380255.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nThe ticket description has this somewhat puzzling statement:\n\n> should work on both big-endian and little-indian\n> processors but has been tested successfully\n\nCan someone clarify?",
    "created_at": "2018-04-17T08:26:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380255",
    "user": "https://github.com/slel"
}
```

<div id="comment:69" align="right">comment:69</div>

The ticket description has this somewhat puzzling statement:

> should work on both big-endian and little-indian
> processors but has been tested successfully

Can someone clarify?



---

archive/issue_comments_380256.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,11 +1,22 @@\n-Package Kim Walish prime count package (the Sage version of prime_pi has bugs, see #24960) and provide an experimental interface to it in `arith/prime_pi.pyx` (that will be merged with the current `prime_pi` in Sage in #25009).\n+The goal of this ticket is to\n+\n+- package Kim Walish's `primecount` package (the version of `prime_pi`\n+  in Sage has bugs, see #24960)\n+- provide an experimental interface to it in `arith/prime_pi.pyx` (that will\n+  be merged with the current `prime_pi` in Sage in #25009).\n \n Note that\n \n-- primecount build system is using cmake which needs an upgrade (see #25109)\n-- the latest release should work on both big-endian and little-indian processors but has been tested successfully\n+- `primecount`'s build system uses cmake, which needs an upgrade (see #25109)\n+- the latest release of `primecount` should work on both big-endian and little-indian\n+  processors but has been tested successfully\n - linking on Mac OSX looks fishy but seems to work fine\n \n-Release at https://github.com/kimwalisch/primecount/archive/v4.3.tar.gz (has to be renamed `primecount-4.3.tar.gz`).\n+Tarball (to be renamed `primecount-4.3.tar.gz` in Sage):\n \n-Upstream issue for building https://github.com/kimwalisch/primecount/issues/11\n+- https://github.com/kimwalisch/primecount/archive/v4.3.tar.gz\n+\n+This ticket led to opening and solving an upstream issue,\n+leading to improvements in the build and documentation:\n+\n+- https://github.com/kimwalisch/primecount/issues/11\n``````\n",
    "created_at": "2018-04-17T08:26:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380256",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,11 +1,22 @@
-Package Kim Walish prime count package (the Sage version of prime_pi has bugs, see #24960) and provide an experimental interface to it in `arith/prime_pi.pyx` (that will be merged with the current `prime_pi` in Sage in #25009).
+The goal of this ticket is to
+
+- package Kim Walish's `primecount` package (the version of `prime_pi`
+  in Sage has bugs, see #24960)
+- provide an experimental interface to it in `arith/prime_pi.pyx` (that will
+  be merged with the current `prime_pi` in Sage in #25009).
 
 Note that
 
-- primecount build system is using cmake which needs an upgrade (see #25109)
-- the latest release should work on both big-endian and little-indian processors but has been tested successfully
+- `primecount`'s build system uses cmake, which needs an upgrade (see #25109)
+- the latest release of `primecount` should work on both big-endian and little-indian
+  processors but has been tested successfully
 - linking on Mac OSX looks fishy but seems to work fine
 
-Release at https://github.com/kimwalisch/primecount/archive/v4.3.tar.gz (has to be renamed `primecount-4.3.tar.gz`).
+Tarball (to be renamed `primecount-4.3.tar.gz` in Sage):
 
-Upstream issue for building https://github.com/kimwalisch/primecount/issues/11
+- https://github.com/kimwalisch/primecount/archive/v4.3.tar.gz
+
+This ticket led to opening and solving an upstream issue,
+leading to improvements in the build and documentation:
+
+- https://github.com/kimwalisch/primecount/issues/11
``````




---

archive/issue_events_345388.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-14T17:36:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345388"
}
```



---

archive/issue_events_345389.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "41c9fffbe1bb5740302b74b5c77ecde3ae4186d9",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-05-14T17:36:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24966#event-345389"
}
```



---

archive/issue_comments_380257.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/24966](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24966)** to **[6f73fad](https://github.com/sagemath/sagetrac-mirror/commit/6f73fadc7b7ca1a903246ffe0c552d677bb8b602)**",
    "created_at": "2018-05-14T17:36:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24966#issuecomment-380257",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vdelecroix/24966](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24966)** to **[6f73fad](https://github.com/sagemath/sagetrac-mirror/commit/6f73fadc7b7ca1a903246ffe0c552d677bb8b602)**
