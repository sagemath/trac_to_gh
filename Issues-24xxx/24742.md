# Issue 24742: New MatrixArgs object to deal with constructing matrices

archive/issues_024505.json:
```json
{
    "body": "Constructing matrices is a mess currently. There is a lot of code duplication between\n\nA. The global `matrix()` constructor\n\nB. `MatrixSpace.__call__`\n\nC. The various `Matrix.__init__` methods\n\nSince a lot of parameters are involved (matrix space, matrix size, entries, ring, sparseness, implementation), I decided to create a new class `MatrixArgs` just for dealing with inputting matrices. This also makes matrices more consistent: because the same code is used everywhere, constructing matrices should now behave the same independently of the implementation (base ring, sparseness).\n\nThese are the changes in this branch:\n\n1. A completely new module `sage.matrix.args`. This module concentrates in one place everything which was scattered in various places before. I tried to reproduce the existing functionality, except where it didn't make sense. I took care to be efficient where efficiency matters, for example by avoiding copies.\n\n2. Enormous simplifications to A, B and C above, typically replacing them with just a few lines of code. In a few cases where the original code was particularly ugly, I mostly left the ugly code in place to be fixed later.\n\n3. Various minor changes here and there. Note that most of these were separated in dependent tickets, but a few are left for this ticket.\n\nThis fixes: #8277, #10613, #12778, #20211, #19134, #25076\n\nFollow-up tickets: #23719, #25061\n\nCC:  @tscrim @videlec @embray\n\nBranch/Commit: bf9cefd138bb9fbb19c3c43a778ab230bf962902\n\nReviewer: Marc Mezzarobba\n\nAuthor: Jeroen Demeyer\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24742\n\n",
    "closed_at": "2018-05-09T09:49:54Z",
    "created_at": "2018-02-15T15:17:26Z",
    "labels": [
        "component: linear algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "New MatrixArgs object to deal with constructing matrices",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24742",
    "user": "https://github.com/jdemeyer"
}
```
Constructing matrices is a mess currently. There is a lot of code duplication between

A. The global `matrix()` constructor

B. `MatrixSpace.__call__`

C. The various `Matrix.__init__` methods

Since a lot of parameters are involved (matrix space, matrix size, entries, ring, sparseness, implementation), I decided to create a new class `MatrixArgs` just for dealing with inputting matrices. This also makes matrices more consistent: because the same code is used everywhere, constructing matrices should now behave the same independently of the implementation (base ring, sparseness).

These are the changes in this branch:

1. A completely new module `sage.matrix.args`. This module concentrates in one place everything which was scattered in various places before. I tried to reproduce the existing functionality, except where it didn't make sense. I took care to be efficient where efficiency matters, for example by avoiding copies.

2. Enormous simplifications to A, B and C above, typically replacing them with just a few lines of code. In a few cases where the original code was particularly ugly, I mostly left the ugly code in place to be fixed later.

3. Various minor changes here and there. Note that most of these were separated in dependent tickets, but a few are left for this ticket.

This fixes: #8277, #10613, #12778, #20211, #19134, #25076

Follow-up tickets: #23719, #25061

CC:  @tscrim @videlec @embray

Branch/Commit: bf9cefd138bb9fbb19c3c43a778ab230bf962902

Reviewer: Marc Mezzarobba

Author: Jeroen Demeyer

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24742





---

archive/issue_comments_470005.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,4 +8,4 @@\n \n Since a lot of parameters are involved (matrix size, entries, ring, sparseness, implementation), I decided to create a new class just for dealing with inputting matrices.\n \n-Related: #20211, #19134\n+Related: #20211, #19134, #23719\n``````\n",
    "created_at": "2018-02-15T15:20:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470005",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,4 +8,4 @@
 
 Since a lot of parameters are involved (matrix size, entries, ring, sparseness, implementation), I decided to create a new class just for dealing with inputting matrices.
 
-Related: #20211, #19134
+Related: #20211, #19134, #23719
``````




---

archive/issue_comments_470006.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,4 +8,4 @@\n \n Since a lot of parameters are involved (matrix size, entries, ring, sparseness, implementation), I decided to create a new class just for dealing with inputting matrices.\n \n-Related: #20211, #19134, #23719\n+Related tickets: #20211, #19134, #23719, #15160, #23336, #12778\n``````\n",
    "created_at": "2018-02-15T15:29:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470006",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,4 +8,4 @@
 
 Since a lot of parameters are involved (matrix size, entries, ring, sparseness, implementation), I decided to create a new class just for dealing with inputting matrices.
 
-Related: #20211, #19134, #23719
+Related tickets: #20211, #19134, #23719, #15160, #23336, #12778
``````




---

archive/issue_comments_470007.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/new_matrixinput_object_to_deal_with_constructing_matrices\"",
    "created_at": "2018-02-15T19:14:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470007",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/new_matrixinput_object_to_deal_with_constructing_matrices"



---

archive/issue_comments_470008.json:
```json
{
    "body": "Changing commit from \"\" to \"de8775b89e49cccf4893ef515b50eea3afd9d375\"",
    "created_at": "2018-02-16T18:08:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470008",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "de8775b89e49cccf4893ef515b50eea3afd9d375"



---

archive/issue_comments_470009.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-16T18:08:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470009",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470010.json:
```json
{
    "body": "Changing commit from \"de8775b89e49cccf4893ef515b50eea3afd9d375\" to \"e02c31aebd10b85b016bbcf1536330c59685fa29\"",
    "created_at": "2018-02-17T11:33:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470010",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "de8775b89e49cccf4893ef515b50eea3afd9d375" to "e02c31aebd10b85b016bbcf1536330c59685fa29"



---

archive/issue_comments_470011.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-17T11:33:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470011",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470012.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-19T14:13:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470012",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470013.json:
```json
{
    "body": "Changing commit from \"e02c31aebd10b85b016bbcf1536330c59685fa29\" to \"399b2bbee6c63b71c537087a8af1d59e80890947\"",
    "created_at": "2018-02-19T14:13:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470013",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e02c31aebd10b85b016bbcf1536330c59685fa29" to "399b2bbee6c63b71c537087a8af1d59e80890947"



---

archive/issue_comments_470014.json:
```json
{
    "body": "Changing commit from \"399b2bbee6c63b71c537087a8af1d59e80890947\" to \"7f18749fd1c45eab5b3c2ca2633233d76e2d7e6a\"",
    "created_at": "2018-02-20T13:39:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470014",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "399b2bbee6c63b71c537087a8af1d59e80890947" to "7f18749fd1c45eab5b3c2ca2633233d76e2d7e6a"



---

archive/issue_comments_470015.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-20T13:39:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470015",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470016.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-20T16:28:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470016",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470017.json:
```json
{
    "body": "Changing commit from \"7f18749fd1c45eab5b3c2ca2633233d76e2d7e6a\" to \"83c09c35b606df47b451bbfe938bc79148220e38\"",
    "created_at": "2018-02-20T16:28:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470017",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7f18749fd1c45eab5b3c2ca2633233d76e2d7e6a" to "83c09c35b606df47b451bbfe938bc79148220e38"



---

archive/issue_comments_470018.json:
```json
{
    "body": "Changing commit from \"83c09c35b606df47b451bbfe938bc79148220e38\" to \"6d91682a1c80f7f83ea86e3b6018ae2a5e4ab5b5\"",
    "created_at": "2018-02-21T15:31:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470018",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "83c09c35b606df47b451bbfe938bc79148220e38" to "6d91682a1c80f7f83ea86e3b6018ae2a5e4ab5b5"



---

archive/issue_comments_470019.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-21T15:31:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470019",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470020.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,6 +6,6 @@\n \n 3. The various `Matrix.__init__` methods\n \n-Since a lot of parameters are involved (matrix size, entries, ring, sparseness, implementation), I decided to create a new class just for dealing with inputting matrices.\n+Since a lot of parameters are involved (matrix space, matrix size, entries, ring, sparseness, implementation), I decided to create a new class `MatrixArgs` just for dealing with inputting matrices. By concentrating all code in this one class, the functions/methods mentioned above become essentially one-liners.\n \n Related tickets: #20211, #19134, #23719, #15160, #23336, #12778\n``````\n",
    "created_at": "2018-02-21T16:16:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470020",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,6 +6,6 @@
 
 3. The various `Matrix.__init__` methods
 
-Since a lot of parameters are involved (matrix size, entries, ring, sparseness, implementation), I decided to create a new class just for dealing with inputting matrices.
+Since a lot of parameters are involved (matrix space, matrix size, entries, ring, sparseness, implementation), I decided to create a new class `MatrixArgs` just for dealing with inputting matrices. By concentrating all code in this one class, the functions/methods mentioned above become essentially one-liners.
 
 Related tickets: #20211, #19134, #23719, #15160, #23336, #12778
``````




---

archive/issue_comments_470021.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-21T16:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470021",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470022.json:
```json
{
    "body": "Changing commit from \"6d91682a1c80f7f83ea86e3b6018ae2a5e4ab5b5\" to \"1ed6a49b23be9a7fd4a25cbcaa98b178ba49756f\"",
    "created_at": "2018-02-21T16:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470022",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6d91682a1c80f7f83ea86e3b6018ae2a5e4ab5b5" to "1ed6a49b23be9a7fd4a25cbcaa98b178ba49756f"



---

archive/issue_comments_470023.json:
```json
{
    "body": "Changing commit from \"1ed6a49b23be9a7fd4a25cbcaa98b178ba49756f\" to \"0ce108f00fd94b71a8e384c98c9e96db30eaae92\"",
    "created_at": "2018-02-21T16:19:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470023",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1ed6a49b23be9a7fd4a25cbcaa98b178ba49756f" to "0ce108f00fd94b71a8e384c98c9e96db30eaae92"



---

archive/issue_comments_470024.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-21T16:19:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470024",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470025.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-22T08:47:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470025",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470026.json:
```json
{
    "body": "Changing commit from \"0ce108f00fd94b71a8e384c98c9e96db30eaae92\" to \"ddff20fd1b009e38b9337031882c9c89d362fc62\"",
    "created_at": "2018-02-22T08:47:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470026",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0ce108f00fd94b71a8e384c98c9e96db30eaae92" to "ddff20fd1b009e38b9337031882c9c89d362fc62"



---

archive/issue_comments_470027.json:
```json
{
    "body": "Changing commit from \"ddff20fd1b009e38b9337031882c9c89d362fc62\" to \"ec0c619abda3a2fe16c6cd3e36c0b38210ae59d2\"",
    "created_at": "2018-02-22T11:06:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470027",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ddff20fd1b009e38b9337031882c9c89d362fc62" to "ec0c619abda3a2fe16c6cd3e36c0b38210ae59d2"



---

archive/issue_comments_470028.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-22T11:06:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470028",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470029.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,4 +8,4 @@\n \n Since a lot of parameters are involved (matrix space, matrix size, entries, ring, sparseness, implementation), I decided to create a new class `MatrixArgs` just for dealing with inputting matrices. By concentrating all code in this one class, the functions/methods mentioned above become essentially one-liners.\n \n-Related tickets: #20211, #19134, #23719, #15160, #23336, #12778\n+Related tickets: #20211, #19134, #23719, #23336, #12778\n``````\n",
    "created_at": "2018-02-22T13:16:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470029",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,4 +8,4 @@
 
 Since a lot of parameters are involved (matrix space, matrix size, entries, ring, sparseness, implementation), I decided to create a new class `MatrixArgs` just for dealing with inputting matrices. By concentrating all code in this one class, the functions/methods mentioned above become essentially one-liners.
 
-Related tickets: #20211, #19134, #23719, #15160, #23336, #12778
+Related tickets: #20211, #19134, #23719, #23336, #12778
``````




---

archive/issue_comments_470030.json:
```json
{
    "body": "<a id='comment:17'></a>Haven't ready it 100% yet but I get the idea.  Definitely looks like an improvement.",
    "created_at": "2018-02-22T15:08:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470030",
    "user": "https://github.com/embray"
}
```

<a id='comment:17'></a>Haven't ready it 100% yet but I get the idea.  Definitely looks like an improvement.



---

archive/issue_comments_470031.json:
```json
{
    "body": "<a id='comment:18'></a>One very minor comment:\n\n```\n+    def __repr__(self):\n+        \"\"\"\n+        Print representation for debugging\n+        \"\"\"\n+        t = \"???\"\n```\n\nI know this is mainly just for debugging, but I think instead of \"???\" as the default something more explicit like \"<unfinalized>\" or \"<invalid>\" would be clearer.",
    "created_at": "2018-02-22T15:10:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470031",
    "user": "https://github.com/embray"
}
```

<a id='comment:18'></a>One very minor comment:

```
+    def __repr__(self):
+        """
+        Print representation for debugging
+        """
+        t = "???"
```

I know this is mainly just for debugging, but I think instead of "???" as the default something more explicit like "<unfinalized>" or "<invalid>" would be clearer.



---

archive/issue_comments_470032.json:
```json
{
    "body": "Changing commit from \"ec0c619abda3a2fe16c6cd3e36c0b38210ae59d2\" to \"a0f37724d92c0810c4b37c00625e9e404d728de3\"",
    "created_at": "2018-02-22T15:51:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470032",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ec0c619abda3a2fe16c6cd3e36c0b38210ae59d2" to "a0f37724d92c0810c4b37c00625e9e404d728de3"



---

archive/issue_comments_470033.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-22T15:51:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470033",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470034.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#24814\"",
    "created_at": "2018-02-22T15:52:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470034",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "" to "#24814"



---

archive/issue_comments_470035.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-23T14:30:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470035",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470036.json:
```json
{
    "body": "Changing commit from \"a0f37724d92c0810c4b37c00625e9e404d728de3\" to \"769af020c25a7dc4f997289e8fdc759a0469c02a\"",
    "created_at": "2018-02-23T14:30:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470036",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a0f37724d92c0810c4b37c00625e9e404d728de3" to "769af020c25a7dc4f997289e8fdc759a0469c02a"



---

archive/issue_comments_470037.json:
```json
{
    "body": "Changing commit from \"769af020c25a7dc4f997289e8fdc759a0469c02a\" to \"6b8aed036ea1e844ae9b6716ec180dde29a873e4\"",
    "created_at": "2018-02-23T14:42:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470037",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "769af020c25a7dc4f997289e8fdc759a0469c02a" to "6b8aed036ea1e844ae9b6716ec180dde29a873e4"



---

archive/issue_comments_470038.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-23T14:42:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470038",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470039.json:
```json
{
    "body": "Changing commit from \"6b8aed036ea1e844ae9b6716ec180dde29a873e4\" to \"9a1d7b0fbdfd9ed6b20db7e62433d797b953ed33\"",
    "created_at": "2018-02-23T16:11:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470039",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6b8aed036ea1e844ae9b6716ec180dde29a873e4" to "9a1d7b0fbdfd9ed6b20db7e62433d797b953ed33"



---

archive/issue_comments_470040.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-23T16:11:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470040",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470041.json:
```json
{
    "body": "Changing dependencies from \"#24814\" to \"#24814, #24828\"",
    "created_at": "2018-02-23T20:39:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470041",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#24814" to "#24814, #24828"



---

archive/issue_comments_470042.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-23T21:50:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470042",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470043.json:
```json
{
    "body": "Changing commit from \"9a1d7b0fbdfd9ed6b20db7e62433d797b953ed33\" to \"3b77656e2a0ced9b6a25fd837bd1ace8ee47cf0e\"",
    "created_at": "2018-02-23T21:50:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470043",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9a1d7b0fbdfd9ed6b20db7e62433d797b953ed33" to "3b77656e2a0ced9b6a25fd837bd1ace8ee47cf0e"



---

archive/issue_comments_470044.json:
```json
{
    "body": "Changing dependencies from \"#24814, #24828\" to \"#24814, #24828, #24829\"",
    "created_at": "2018-02-23T21:54:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470044",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#24814, #24828" to "#24814, #24828, #24829"



---

archive/issue_comments_470045.json:
```json
{
    "body": "Changing commit from \"3b77656e2a0ced9b6a25fd837bd1ace8ee47cf0e\" to \"51105fb09a9daaef4aa82f32b97d3347d655f83c\"",
    "created_at": "2018-02-26T16:42:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470045",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3b77656e2a0ced9b6a25fd837bd1ace8ee47cf0e" to "51105fb09a9daaef4aa82f32b97d3347d655f83c"



---

archive/issue_comments_470046.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-26T16:42:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470046",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470047.json:
```json
{
    "body": "Changing commit from \"51105fb09a9daaef4aa82f32b97d3347d655f83c\" to \"333173b4fe37a049d835bb7353b9d124045f99cf\"",
    "created_at": "2018-02-27T06:34:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470047",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "51105fb09a9daaef4aa82f32b97d3347d655f83c" to "333173b4fe37a049d835bb7353b9d124045f99cf"



---

archive/issue_comments_470048.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-27T06:34:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470048",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470049.json:
```json
{
    "body": "Changing commit from \"333173b4fe37a049d835bb7353b9d124045f99cf\" to \"a7146ce1f3ca556bb9ded20e0c7c0a04ace0f40a\"",
    "created_at": "2018-02-27T15:56:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470049",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "333173b4fe37a049d835bb7353b9d124045f99cf" to "a7146ce1f3ca556bb9ded20e0c7c0a04ace0f40a"



---

archive/issue_comments_470050.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-27T15:56:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470050",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470051.json:
```json
{
    "body": "Changing commit from \"a7146ce1f3ca556bb9ded20e0c7c0a04ace0f40a\" to \"ddf4b98a76b8bc867ae957bd786fba7a50654c0d\"",
    "created_at": "2018-02-27T16:25:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470051",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a7146ce1f3ca556bb9ded20e0c7c0a04ace0f40a" to "ddf4b98a76b8bc867ae957bd786fba7a50654c0d"



---

archive/issue_comments_470052.json:
```json
{
    "body": "<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-27T16:25:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470052",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470053.json:
```json
{
    "body": "Changing commit from \"ddf4b98a76b8bc867ae957bd786fba7a50654c0d\" to \"eff01197b87fba2ff81f85de4351ee67df8cbe79\"",
    "created_at": "2018-02-27T21:08:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470053",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ddf4b98a76b8bc867ae957bd786fba7a50654c0d" to "eff01197b87fba2ff81f85de4351ee67df8cbe79"



---

archive/issue_comments_470054.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-27T21:08:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470054",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470055.json:
```json
{
    "body": "Changing dependencies from \"#24814, #24828, #24829\" to \"#24814, #24828, #24829, #24863\"",
    "created_at": "2018-02-28T09:18:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470055",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#24814, #24828, #24829" to "#24814, #24828, #24829, #24863"



---

archive/issue_comments_470056.json:
```json
{
    "body": "Changing dependencies from \"#24814, #24828, #24829, #24863\" to \"#24814, #24828, #24829, #24863, #24865\"",
    "created_at": "2018-02-28T10:17:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470056",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#24814, #24828, #24829, #24863" to "#24814, #24828, #24829, #24863, #24865"



---

archive/issue_comments_470057.json:
```json
{
    "body": "Changing commit from \"eff01197b87fba2ff81f85de4351ee67df8cbe79\" to \"390e49e328296309a4a4736f97d49c6a8cbc4e43\"",
    "created_at": "2018-02-28T10:18:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470057",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "eff01197b87fba2ff81f85de4351ee67df8cbe79" to "390e49e328296309a4a4736f97d49c6a8cbc4e43"



---

archive/issue_comments_470058.json:
```json
{
    "body": "<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-28T10:18:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470058",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470059.json:
```json
{
    "body": "<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-28T11:47:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470059",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470060.json:
```json
{
    "body": "Changing commit from \"390e49e328296309a4a4736f97d49c6a8cbc4e43\" to \"ce371891a6d80333ed4e502b472d8597230ca031\"",
    "created_at": "2018-02-28T11:47:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470060",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "390e49e328296309a4a4736f97d49c6a8cbc4e43" to "ce371891a6d80333ed4e502b472d8597230ca031"



---

archive/issue_comments_470061.json:
```json
{
    "body": "Changing commit from \"ce371891a6d80333ed4e502b472d8597230ca031\" to \"b024a7ebfa89bac922c129f29139b3265212c75a\"",
    "created_at": "2018-02-28T16:31:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470061",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ce371891a6d80333ed4e502b472d8597230ca031" to "b024a7ebfa89bac922c129f29139b3265212c75a"



---

archive/issue_comments_470062.json:
```json
{
    "body": "<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-28T16:31:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470062",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470063.json:
```json
{
    "body": "Changing commit from \"b024a7ebfa89bac922c129f29139b3265212c75a\" to \"6bdfb8112bfbf99b6368e7268eb548761ffea2fe\"",
    "created_at": "2018-02-28T19:37:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470063",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b024a7ebfa89bac922c129f29139b3265212c75a" to "6bdfb8112bfbf99b6368e7268eb548761ffea2fe"



---

archive/issue_comments_470064.json:
```json
{
    "body": "<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-28T19:37:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470064",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470065.json:
```json
{
    "body": "Changing dependencies from \"#24814, #24828, #24829, #24863, #24865\" to \"#24814, #24828, #24829, #24863, #24865, #24874\"",
    "created_at": "2018-03-01T11:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470065",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#24814, #24828, #24829, #24863, #24865" to "#24814, #24828, #24829, #24863, #24865, #24874"



---

archive/issue_comments_470066.json:
```json
{
    "body": "Changing commit from \"6bdfb8112bfbf99b6368e7268eb548761ffea2fe\" to \"4944cd47e704c58554fde0a198084651266cdc8c\"",
    "created_at": "2018-03-01T14:21:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470066",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6bdfb8112bfbf99b6368e7268eb548761ffea2fe" to "4944cd47e704c58554fde0a198084651266cdc8c"



---

archive/issue_comments_470067.json:
```json
{
    "body": "<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-03-01T14:21:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470067",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470068.json:
```json
{
    "body": "Changing commit from \"4944cd47e704c58554fde0a198084651266cdc8c\" to \"4ef5dc20076d91fdd84fd6ee6a37e50d258a4ee9\"",
    "created_at": "2018-03-01T16:19:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470068",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4944cd47e704c58554fde0a198084651266cdc8c" to "4ef5dc20076d91fdd84fd6ee6a37e50d258a4ee9"



---

archive/issue_comments_470069.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-03-01T16:19:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470069",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470070.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,4 +8,6 @@\n \n Since a lot of parameters are involved (matrix space, matrix size, entries, ring, sparseness, implementation), I decided to create a new class `MatrixArgs` just for dealing with inputting matrices. By concentrating all code in this one class, the functions/methods mentioned above become essentially one-liners.\n \n-Related tickets: #20211, #19134, #23719, #23336, #12778\n+This fixes: #8277, #10613, #12778, #20211, #19134\n+\n+Related tickets: #23719, #23336\n``````\n",
    "created_at": "2018-03-01T16:22:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470070",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,4 +8,6 @@
 
 Since a lot of parameters are involved (matrix space, matrix size, entries, ring, sparseness, implementation), I decided to create a new class `MatrixArgs` just for dealing with inputting matrices. By concentrating all code in this one class, the functions/methods mentioned above become essentially one-liners.
 
-Related tickets: #20211, #19134, #23719, #23336, #12778
+This fixes: #8277, #10613, #12778, #20211, #19134
+
+Related tickets: #23719, #23336
``````




---

archive/issue_comments_470071.json:
```json
{
    "body": "<a id='comment:41'></a>New commits:",
    "created_at": "2018-03-01T16:22:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470071",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:41'></a>New commits:



---

archive/issue_comments_470072.json:
```json
{
    "body": "Changing commit from \"4ef5dc20076d91fdd84fd6ee6a37e50d258a4ee9\" to \"d5c9ee0593755e3effad20b02b8f920ea2c799f3\"",
    "created_at": "2018-03-01T19:07:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470072",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4ef5dc20076d91fdd84fd6ee6a37e50d258a4ee9" to "d5c9ee0593755e3effad20b02b8f920ea2c799f3"



---

archive/issue_comments_470073.json:
```json
{
    "body": "<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-03-01T19:07:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470073",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470074.json:
```json
{
    "body": "Changing commit from \"d5c9ee0593755e3effad20b02b8f920ea2c799f3\" to \"3f722cfe6b66631a20e9872d3a3db2515849a670\"",
    "created_at": "2018-03-01T19:13:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470074",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d5c9ee0593755e3effad20b02b8f920ea2c799f3" to "3f722cfe6b66631a20e9872d3a3db2515849a670"



---

archive/issue_comments_470075.json:
```json
{
    "body": "<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-03-01T19:13:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470075",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470076.json:
```json
{
    "body": "Changing dependencies from \"#24814, #24828, #24829, #24863, #24865, #24874\" to \"#24814, #24828, #24829, #24863, #24865, #24874, #24881\"",
    "created_at": "2018-03-01T19:22:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470076",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#24814, #24828, #24829, #24863, #24865, #24874" to "#24814, #24828, #24829, #24863, #24865, #24874, #24881"



---

archive/issue_comments_470077.json:
```json
{
    "body": "Changing commit from \"3f722cfe6b66631a20e9872d3a3db2515849a670\" to \"f190e72c0c8a487469a41321dcff31a01f733c82\"",
    "created_at": "2018-03-02T11:43:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470077",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3f722cfe6b66631a20e9872d3a3db2515849a670" to "f190e72c0c8a487469a41321dcff31a01f733c82"



---

archive/issue_comments_470078.json:
```json
{
    "body": "<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-03-02T11:43:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470078",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470079.json:
```json
{
    "body": "Changing dependencies from \"#24814, #24828, #24829, #24863, #24865, #24874, #24881\" to \"#24814, #24828, #24829, #24863, #24865, #24874, #24881, #24884\"",
    "created_at": "2018-03-02T15:45:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470079",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#24814, #24828, #24829, #24863, #24865, #24874, #24881" to "#24814, #24828, #24829, #24863, #24865, #24874, #24881, #24884"



---

archive/issue_comments_470080.json:
```json
{
    "body": "<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-03-02T15:47:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470080",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470081.json:
```json
{
    "body": "Changing commit from \"f190e72c0c8a487469a41321dcff31a01f733c82\" to \"b9ee50f3dd0b20ae8bd26606ad63363b05033350\"",
    "created_at": "2018-03-02T15:47:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470081",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f190e72c0c8a487469a41321dcff31a01f733c82" to "b9ee50f3dd0b20ae8bd26606ad63363b05033350"



---

archive/issue_comments_470082.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,12 +1,26 @@\n Constructing matrices is a mess currently. There is a lot of code duplication between\n \n-1. The global `matrix()` constructor\n+A. The global `matrix()` constructor\n \n-2. `MatrixSpace.__call__`\n+B. `MatrixSpace.__call__`\n \n-3. The various `Matrix.__init__` methods\n+C. The various `Matrix.__init__` methods\n \n-Since a lot of parameters are involved (matrix space, matrix size, entries, ring, sparseness, implementation), I decided to create a new class `MatrixArgs` just for dealing with inputting matrices. By concentrating all code in this one class, the functions/methods mentioned above become essentially one-liners.\n+Since a lot of parameters are involved (matrix space, matrix size, entries, ring, sparseness, implementation), I decided to create a new class `MatrixArgs` just for dealing with inputting matrices. This also makes matrices more consistent: because the same code is used everywhere, constructing matrices should now behave the same independently of the implementation (base ring, sparseness).\n+\n+These are the changes in this branch:\n+\n+1. A completely new module `sage.matrix.args`. This module concentrates in one place everything which was scattered in various places before. I tried to reproduce the existing functionality, except where it didn't make sense. I took care to be efficient where efficiency matters, for example by avoiding copies.\n+\n+2. Enormous simplifications to A, B and C above, typically replacing them with just a few lines of code. In a few cases where the original code was particularly ugly, I mostly left the ugly code in place to be fixed later.\n+\n+3. Various minor changes here and there. Note that most of these were separated in dependent tickets, but a few are left for this ticket.\n+\n+NOTES for reviewers:\n+\n+- Only the top commit belongs to this ticket, the others are cherry-picked (to avoid huge merges) from the dependencies.\n+\n+- This ticket is not meant to fix all bugs involving matrices. I would appreciate no reviews of the form \"this is good, but you should also fix X\". It's already big enough and follow-up tickets are cheap.\n \n This fixes: #8277, #10613, #12778, #20211, #19134\n \n``````\n",
    "created_at": "2018-03-02T16:11:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470082",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,12 +1,26 @@
 Constructing matrices is a mess currently. There is a lot of code duplication between
 
-1. The global `matrix()` constructor
+A. The global `matrix()` constructor
 
-2. `MatrixSpace.__call__`
+B. `MatrixSpace.__call__`
 
-3. The various `Matrix.__init__` methods
+C. The various `Matrix.__init__` methods
 
-Since a lot of parameters are involved (matrix space, matrix size, entries, ring, sparseness, implementation), I decided to create a new class `MatrixArgs` just for dealing with inputting matrices. By concentrating all code in this one class, the functions/methods mentioned above become essentially one-liners.
+Since a lot of parameters are involved (matrix space, matrix size, entries, ring, sparseness, implementation), I decided to create a new class `MatrixArgs` just for dealing with inputting matrices. This also makes matrices more consistent: because the same code is used everywhere, constructing matrices should now behave the same independently of the implementation (base ring, sparseness).
+
+These are the changes in this branch:
+
+1. A completely new module `sage.matrix.args`. This module concentrates in one place everything which was scattered in various places before. I tried to reproduce the existing functionality, except where it didn't make sense. I took care to be efficient where efficiency matters, for example by avoiding copies.
+
+2. Enormous simplifications to A, B and C above, typically replacing them with just a few lines of code. In a few cases where the original code was particularly ugly, I mostly left the ugly code in place to be fixed later.
+
+3. Various minor changes here and there. Note that most of these were separated in dependent tickets, but a few are left for this ticket.
+
+NOTES for reviewers:
+
+- Only the top commit belongs to this ticket, the others are cherry-picked (to avoid huge merges) from the dependencies.
+
+- This ticket is not meant to fix all bugs involving matrices. I would appreciate no reviews of the form "this is good, but you should also fix X". It's already big enough and follow-up tickets are cheap.
 
 This fixes: #8277, #10613, #12778, #20211, #19134
 
``````




---

archive/issue_comments_470083.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-03-02T16:11:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470083",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_470084.json:
```json
{
    "body": "Changing commit from \"b9ee50f3dd0b20ae8bd26606ad63363b05033350\" to \"0cc0d5d2392ae97ebb0a28608a0c8494a3f0f64a\"",
    "created_at": "2018-03-03T08:56:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470084",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b9ee50f3dd0b20ae8bd26606ad63363b05033350" to "0cc0d5d2392ae97ebb0a28608a0c8494a3f0f64a"



---

archive/issue_comments_470085.json:
```json
{
    "body": "<a id='comment:49'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-03-03T08:56:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470085",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:49'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470086.json:
```json
{
    "body": "Changing dependencies from \"#24814, #24828, #24829, #24863, #24865, #24874, #24881, #24884\" to \"#24828, #24863, #24865, #24874, #24881, #24884\"",
    "created_at": "2018-03-03T09:02:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470086",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#24814, #24828, #24829, #24863, #24865, #24874, #24881, #24884" to "#24828, #24863, #24865, #24874, #24881, #24884"



---

archive/issue_comments_470087.json:
```json
{
    "body": "<a id='comment:51'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-03-06T10:13:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470087",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:51'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470088.json:
```json
{
    "body": "Changing commit from \"0cc0d5d2392ae97ebb0a28608a0c8494a3f0f64a\" to \"850a2fae83a3b15edae004ac85695130c76a31b3\"",
    "created_at": "2018-03-06T10:13:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470088",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0cc0d5d2392ae97ebb0a28608a0c8494a3f0f64a" to "850a2fae83a3b15edae004ac85695130c76a31b3"



---

archive/issue_comments_470089.json:
```json
{
    "body": "Changing commit from \"850a2fae83a3b15edae004ac85695130c76a31b3\" to \"f5a7ddbabed7da0e983e80250073d7dfcf56b601\"",
    "created_at": "2018-03-11T08:28:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470089",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "850a2fae83a3b15edae004ac85695130c76a31b3" to "f5a7ddbabed7da0e983e80250073d7dfcf56b601"



---

archive/issue_comments_470090.json:
```json
{
    "body": "<a id='comment:52'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-03-11T08:28:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470090",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:52'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470091.json:
```json
{
    "body": "<a id='comment:53'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-03-11T08:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470091",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:53'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470092.json:
```json
{
    "body": "Changing commit from \"f5a7ddbabed7da0e983e80250073d7dfcf56b601\" to \"1ba4b76970b0f3d63404a7c4f28d026f08e7bcec\"",
    "created_at": "2018-03-11T08:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470092",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f5a7ddbabed7da0e983e80250073d7dfcf56b601" to "1ba4b76970b0f3d63404a7c4f28d026f08e7bcec"



---

archive/issue_comments_470093.json:
```json
{
    "body": "Changing dependencies from \"#24828, #24863, #24865, #24874, #24881, #24884\" to \"#24828, #24945\"",
    "created_at": "2018-03-11T09:08:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470093",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#24828, #24863, #24865, #24874, #24881, #24884" to "#24828, #24945"



---

archive/issue_comments_470094.json:
```json
{
    "body": "<a id='comment:55'></a>Very nice work! Though I honestly don't understand the new code in detail, it looks reasonable and I trust the tests more than my own judgment to check that it does the right thing. Even if there are small issues, I think it can only be an improvement compared to what we had before.\n\nI have one significant concern with this ticket though: several simple cases of `matrix(...)` apparently became a lot slower. Compare in particular:\n\nSage 8.1:\n\n```\nsage: %timeit matrix(ZZ,3,3)[0,0] = 1 # used to be a fast way to construct a new mutable matrix\nThe slowest run took 62.41 times longer than the fastest. This could mean that an intermediate result is being cached.\n100000 loops, best of 3: 7 \u00b5s per loop\nsage: c = vector(ZZ, [1,2,3])\nsage: %timeit matrix([c])\nThe slowest run took 4.77 times longer than the fastest. This could mean that an intermediate result is being cached.\n10000 loops, best of 3: 33.7 \u00b5s per loop\n```\nThis ticket:\n\n```\nsage: %timeit matrix(ZZ,3,3)[0,0] = 1\n10000 loops, best of 3: 110 \u00b5s per loop\nsage: c = vector(ZZ, [1,2,3])\nsage: %timeit matrix([c])\n10000 loops, best of 3: 101 \u00b5s per loop\n```\n\nSome nitpicking while I'm at it: it is perhaps not ideal that\n\n```\nsage: matrix(1,1,[[1,2]])\nValueError: inconsistent number of columns: should be 1 but got 2\n```\nand\n\n```\nsage: matrix(ZZ,1,1,[[1,2]])\nValueError: sequence too long (expected length 1, got more)\n```\nyield different errors.",
    "created_at": "2018-03-11T15:00:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470094",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:55'></a>Very nice work! Though I honestly don't understand the new code in detail, it looks reasonable and I trust the tests more than my own judgment to check that it does the right thing. Even if there are small issues, I think it can only be an improvement compared to what we had before.

I have one significant concern with this ticket though: several simple cases of `matrix(...)` apparently became a lot slower. Compare in particular:

Sage 8.1:

```
sage: %timeit matrix(ZZ,3,3)[0,0] = 1 # used to be a fast way to construct a new mutable matrix
The slowest run took 62.41 times longer than the fastest. This could mean that an intermediate result is being cached.
100000 loops, best of 3: 7 µs per loop
sage: c = vector(ZZ, [1,2,3])
sage: %timeit matrix([c])
The slowest run took 4.77 times longer than the fastest. This could mean that an intermediate result is being cached.
10000 loops, best of 3: 33.7 µs per loop
```
This ticket:

```
sage: %timeit matrix(ZZ,3,3)[0,0] = 1
10000 loops, best of 3: 110 µs per loop
sage: c = vector(ZZ, [1,2,3])
sage: %timeit matrix([c])
10000 loops, best of 3: 101 µs per loop
```

Some nitpicking while I'm at it: it is perhaps not ideal that

```
sage: matrix(1,1,[[1,2]])
ValueError: inconsistent number of columns: should be 1 but got 2
```
and

```
sage: matrix(ZZ,1,1,[[1,2]])
ValueError: sequence too long (expected length 1, got more)
```
yield different errors.



---

archive/issue_comments_470095.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-03-12T00:20:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470095",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_470096.json:
```json
{
    "body": "<a id='comment:56'></a>There is something very strange going on with the timings:\n\nWith this ticket, constructing a matrix and storing it is an order of magnitude faster than constructing a matrix and *not* storing it:\n\n```\nsage: timeit('matrix(3, 3)', repeat=5, number=10000)\n10000 loops, best of 5: 117 \u00b5s per loop\nsage: timeit('a=matrix(3, 3)', repeat=5, number=10000)\n10000 loops, best of 5: 10.7 \u00b5s per loop\n```\nIt doesn't matter if the storing happens inside the `timeit()` or not:\n\n```\nsage: M = matrix(3,3)\nsage: timeit('matrix(3, 3)', repeat=5, number=10000)\n10000 loops, best of 5: 10.5 \u00b5s per loop\nsage: del M\nsage: timeit('matrix(3, 3)', repeat=5, number=10000)\n10000 loops, best of 5: 115 \u00b5s per loop\n```\nThere must be some caching issue here...\n\nThe current behaviour (without #24742) does not have this.",
    "created_at": "2018-03-12T00:20:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470096",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:56'></a>There is something very strange going on with the timings:

With this ticket, constructing a matrix and storing it is an order of magnitude faster than constructing a matrix and *not* storing it:

```
sage: timeit('matrix(3, 3)', repeat=5, number=10000)
10000 loops, best of 5: 117 µs per loop
sage: timeit('a=matrix(3, 3)', repeat=5, number=10000)
10000 loops, best of 5: 10.7 µs per loop
```
It doesn't matter if the storing happens inside the `timeit()` or not:

```
sage: M = matrix(3,3)
sage: timeit('matrix(3, 3)', repeat=5, number=10000)
10000 loops, best of 5: 10.5 µs per loop
sage: del M
sage: timeit('matrix(3, 3)', repeat=5, number=10000)
10000 loops, best of 5: 115 µs per loop
```
There must be some caching issue here...

The current behaviour (without #24742) does not have this.



---

archive/issue_comments_470097.json:
```json
{
    "body": "<a id='comment:57'></a>When a previous matrix is \"cached\", the timings with this ticket are actually better than before.\n\n**Before** (8.2.beta8):\n\n```\nsage: M = matrix(ZZ,3,3)\nsage: timeit('matrix(ZZ,3,3)', repeat=5, number=10000)\n10000 loops, best of 5: 13.2 \u00b5s per loop\n```\n\n```\nsage: c = vector(ZZ, [1,2,3]); matrix([c])\n[1 2 3]\nsage: timeit('matrix([c])', repeat=5, number=10000)\n10000 loops, best of 5: 46.3 \u00b5s per loop\n```\n\n**After** (#24742):\n\n```\nsage: M = matrix(ZZ,3,3)\nsage: timeit('matrix(ZZ,3,3)', repeat=5, number=10000)\n10000 loops, best of 5: 10.7 \u00b5s per loop\n```\n\n```\nsage: c = vector(ZZ, [1,2,3]); matrix([c])\n[1 2 3]\nsage: timeit('matrix([c])', repeat=5, number=10000)\n10000 loops, best of 5: 14.5 \u00b5s per loop\n```",
    "created_at": "2018-03-12T00:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470097",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:57'></a>When a previous matrix is "cached", the timings with this ticket are actually better than before.

**Before** (8.2.beta8):

```
sage: M = matrix(ZZ,3,3)
sage: timeit('matrix(ZZ,3,3)', repeat=5, number=10000)
10000 loops, best of 5: 13.2 µs per loop
```

```
sage: c = vector(ZZ, [1,2,3]); matrix([c])
[1 2 3]
sage: timeit('matrix([c])', repeat=5, number=10000)
10000 loops, best of 5: 46.3 µs per loop
```

**After** (#24742):

```
sage: M = matrix(ZZ,3,3)
sage: timeit('matrix(ZZ,3,3)', repeat=5, number=10000)
10000 loops, best of 5: 10.7 µs per loop
```

```
sage: c = vector(ZZ, [1,2,3]); matrix([c])
[1 2 3]
sage: timeit('matrix([c])', repeat=5, number=10000)
10000 loops, best of 5: 14.5 µs per loop
```



---

archive/issue_comments_470098.json:
```json
{
    "body": "<a id='comment:58'></a>The slowdown within `timeit()` is tracked at #24954.",
    "created_at": "2018-03-13T16:39:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470098",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:58'></a>The slowdown within `timeit()` is tracked at #24954.



---

archive/issue_comments_470099.json:
```json
{
    "body": "<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-03-15T10:08:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470099",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_470100.json:
```json
{
    "body": "Changing commit from \"1ba4b76970b0f3d63404a7c4f28d026f08e7bcec\" to \"fac3f5e2aec876cfae4ec8c0bc18879a19cd001d\"",
    "created_at": "2018-03-15T10:08:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470100",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1ba4b76970b0f3d63404a7c4f28d026f08e7bcec" to "fac3f5e2aec876cfae4ec8c0bc18879a19cd001d"



---

archive/issue_comments_470101.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-03-15T10:10:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470101",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_470102.json:
```json
{
    "body": "Changing dependencies from \"#24828, #24945\" to \"#24828, #24947, #24945\"",
    "created_at": "2018-03-15T10:10:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470102",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#24828, #24945" to "#24828, #24947, #24945"



---

archive/issue_comments_470103.json:
```json
{
    "body": "<a id='comment:61'></a>Replying to [mmezzarobba](#comment%3A55):\n> Some nitpicking while I'm at it: it is perhaps not ideal that\n> \n> ```\n> sage: matrix(1,1,[[1,2]])\n> ValueError: inconsistent number of columns: should be 1 but got 2\n> ```\n> and\n> \n> ```\n> sage: matrix(ZZ,1,1,[[1,2]])\n> ValueError: sequence too long (expected length 1, got more)\n> ```\n> yield different errors.\n\n\nNot ideal, but it's not clear what the best solution is. The problem is that I'm using different code paths for the case where everything (base ring + matrix dimensions) is known and for when it's not known. In order to determine the base ring, I have to iterate over the entries anyway. It's there that the error \"inconsistent number of columns\" is raised.",
    "created_at": "2018-03-15T10:13:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470103",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:61'></a>Replying to [mmezzarobba](#comment%3A55):
> Some nitpicking while I'm at it: it is perhaps not ideal that
> 
> ```
> sage: matrix(1,1,[[1,2]])
> ValueError: inconsistent number of columns: should be 1 but got 2
> ```
> and
> 
> ```
> sage: matrix(ZZ,1,1,[[1,2]])
> ValueError: sequence too long (expected length 1, got more)
> ```
> yield different errors.


Not ideal, but it's not clear what the best solution is. The problem is that I'm using different code paths for the case where everything (base ring + matrix dimensions) is known and for when it's not known. In order to determine the base ring, I have to iterate over the entries anyway. It's there that the error "inconsistent number of columns" is raised.



---

archive/issue_comments_470104.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Marc Mezzarobba\"",
    "created_at": "2018-03-23T13:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470104",
    "user": "https://github.com/mezzarobba"
}
```

Changing reviewer from "" to "Marc Mezzarobba"



---

archive/issue_comments_470105.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-03-23T13:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470105",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_470106.json:
```json
{
    "body": "<a id='comment:63'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:",
    "created_at": "2018-03-29T13:13:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470106",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:63'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:



---

archive/issue_comments_470107.json:
```json
{
    "body": "Changing commit from \"fac3f5e2aec876cfae4ec8c0bc18879a19cd001d\" to \"bf9cefd138bb9fbb19c3c43a778ab230bf962902\"",
    "created_at": "2018-03-29T13:13:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470107",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "fac3f5e2aec876cfae4ec8c0bc18879a19cd001d" to "bf9cefd138bb9fbb19c3c43a778ab230bf962902"



---

archive/issue_comments_470108.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2018-03-29T13:13:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470108",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_470109.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-03-29T13:13:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470109",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_470110.json:
```json
{
    "body": "<a id='comment:64'></a>Trivially rebased.",
    "created_at": "2018-03-29T13:13:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470110",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:64'></a>Trivially rebased.



---

archive/issue_comments_470111.json:
```json
{
    "body": "Changing dependencies from \"#24828, #24947, #24945\" to \"\"",
    "created_at": "2018-03-29T13:13:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470111",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#24828, #24947, #24945" to ""



---

archive/issue_comments_470112.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,12 +16,6 @@\n \n 3. Various minor changes here and there. Note that most of these were separated in dependent tickets, but a few are left for this ticket.\n \n-NOTES for reviewers:\n-\n-- Only the top commit belongs to this ticket, the others are cherry-picked (to avoid huge merges) from the dependencies.\n-\n-- This ticket is not meant to fix all bugs involving matrices. I would appreciate no reviews of the form \"this is good, but you should also fix X\". It's already big enough and follow-up tickets are cheap.\n-\n This fixes: #8277, #10613, #12778, #20211, #19134\n \n Related tickets: #23719, #23336\n``````\n",
    "created_at": "2018-03-29T13:13:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470112",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,12 +16,6 @@
 
 3. Various minor changes here and there. Note that most of these were separated in dependent tickets, but a few are left for this ticket.
 
-NOTES for reviewers:
-
-- Only the top commit belongs to this ticket, the others are cherry-picked (to avoid huge merges) from the dependencies.
-
-- This ticket is not meant to fix all bugs involving matrices. I would appreciate no reviews of the form "this is good, but you should also fix X". It's already big enough and follow-up tickets are cheap.
-
 This fixes: #8277, #10613, #12778, #20211, #19134
 
 Related tickets: #23719, #23336
``````




---

archive/issue_comments_470113.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -18,4 +18,4 @@\n \n This fixes: #8277, #10613, #12778, #20211, #19134\n \n-Related tickets: #23719, #23336\n+Follow-up tickets: #23719, #25061\n``````\n",
    "created_at": "2018-03-29T13:55:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470113",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -18,4 +18,4 @@
 
 This fixes: #8277, #10613, #12778, #20211, #19134
 
-Related tickets: #23719, #23336
+Follow-up tickets: #23719, #25061
``````




---

archive/issue_comments_470114.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,6 +16,6 @@\n \n 3. Various minor changes here and there. Note that most of these were separated in dependent tickets, but a few are left for this ticket.\n \n-This fixes: #8277, #10613, #12778, #20211, #19134\n+This fixes: #8277, #10613, #12778, #20211, #19134, #25076\n \n Follow-up tickets: #23719, #25061\n``````\n",
    "created_at": "2018-04-02T13:53:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470114",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,6 +16,6 @@
 
 3. Various minor changes here and there. Note that most of these were separated in dependent tickets, but a few are left for this ticket.
 
-This fixes: #8277, #10613, #12778, #20211, #19134
+This fixes: #8277, #10613, #12778, #20211, #19134, #25076
 
 Follow-up tickets: #23719, #25061
``````




---

archive/issue_comments_470115.json:
```json
{
    "body": "<a id='comment:67'></a>Failures in src/sage/schemes/riemann_surfaces/riemann_surface.py, possibly due to 24370",
    "created_at": "2018-05-07T17:19:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470115",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:67'></a>Failures in src/sage/schemes/riemann_surfaces/riemann_surface.py, possibly due to 24370



---

archive/issue_comments_470116.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-05-07T17:19:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470116",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_470117.json:
```json
{
    "body": "<a id='comment:68'></a>Replying to [vbraun](#comment%3A67):\n> Failures in src/sage/schemes/riemann_surfaces/riemann_surface.py, possibly due to 24370\n\n\nIf #24370 and #24742 conflict, can we instead set #24370 to needs_work?",
    "created_at": "2018-05-07T17:57:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470117",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:68'></a>Replying to [vbraun](#comment%3A67):
> Failures in src/sage/schemes/riemann_surfaces/riemann_surface.py, possibly due to 24370


If #24370 and #24742 conflict, can we instead set #24370 to needs_work?



---

archive/issue_comments_470118.json:
```json
{
    "body": "<a id='comment:69'></a>I think that #24370 is the ticket that deserved to be set to needs_work, but I'll hear from you if you disagree.",
    "created_at": "2018-05-07T18:05:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470118",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:69'></a>I think that #24370 is the ticket that deserved to be set to needs_work, but I'll hear from you if you disagree.



---

archive/issue_comments_470119.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2018-05-07T18:05:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470119",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_470120.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-05-07T19:41:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470120",
    "user": "https://github.com/nbruin"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_470121.json:
```json
{
    "body": "<a id='comment:70'></a>Apparently a conflict with #24370. These tickets just need to be calibrated. The fix is clear either way.",
    "created_at": "2018-05-07T19:41:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470121",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:70'></a>Apparently a conflict with #24370. These tickets just need to be calibrated. The fix is clear either way.



---

archive/issue_comments_470122.json:
```json
{
    "body": "<a id='comment:71'></a>With the updated version of #24370, everything works fine! So *both* tickets can get positive review.",
    "created_at": "2018-05-07T21:55:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470122",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:71'></a>With the updated version of #24370, everything works fine! So *both* tickets can get positive review.



---

archive/issue_comments_470123.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2018-05-07T21:56:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470123",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_470124.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/new_matrixinput_object_to_deal_with_constructing_matrices\" to \"bf9cefd138bb9fbb19c3c43a778ab230bf962902\"",
    "created_at": "2018-05-09T09:49:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470124",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jdemeyer/new_matrixinput_object_to_deal_with_constructing_matrices" to "bf9cefd138bb9fbb19c3c43a778ab230bf962902"



---

archive/issue_comments_470125.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-05-09T09:49:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24742#issuecomment-470125",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_062241.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-09T09:49:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24742",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24742#event-62241"
}
```
