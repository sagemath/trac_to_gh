# Issue 24729: Add --with-python=3 configure flag to replace SAGE_PYTHON3=yes

archive/issues_024492.json:
```json
{
    "assignees": [],
    "body": "\n\nCC:  @embray @fchapoton @mkoeppe\n\nComponent: **build: configure**\n\nAuthor: **Jeroen Demeyer**\n\nBranch: **[`8af9c37`](https://github.com/sagemath/sagetrac-mirror/commit/8af9c37152ef40a71238966e54e245ff86cd2bf3)**\n\nReviewer: **Erik Bray**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24729_\n\n",
    "closed_at": "2018-02-20T23:08:17Z",
    "created_at": "2018-02-14T12:51:26Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build%3A%20configure",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add --with-python=3 configure flag to replace SAGE_PYTHON3=yes",
    "type": "issue",
    "updated_at": "2018-03-03T09:08:42Z",
    "url": "https://github.com/sagemath/sage/issues/24729",
    "user": "https://github.com/jdemeyer"
}
```


CC:  @embray @fchapoton @mkoeppe

Component: **build: configure**

Author: **Jeroen Demeyer**

Branch: **[`8af9c37`](https://github.com/sagemath/sagetrac-mirror/commit/8af9c37152ef40a71238966e54e245ff86cd2bf3)**

Reviewer: **Erik Bray**

_Issue created by migration from https://trac.sagemath.org/ticket/24729_





---

archive/issue_events_339383.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-14T12:51:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339383"
}
```



---

archive/issue_events_339384.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-14T12:51:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build%3A%20configure",
    "label_color": "0000b0",
    "label_name": "c: build: configure",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339384"
}
```



---

archive/issue_events_339385.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-14T12:51:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339385"
}
```



---

archive/issue_events_339386.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-14T12:51:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339386"
}
```



---

archive/issue_comments_375804.json:
```json
{
    "body": "Branch: **[u/jdemeyer/add___with_python_3_configure_flag_to_replace_sage_python3_yes](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add___with_python_3_configure_flag_to_replace_sage_python3_yes)**",
    "created_at": "2018-02-14T13:07:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375804",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/add___with_python_3_configure_flag_to_replace_sage_python3_yes](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add___with_python_3_configure_flag_to_replace_sage_python3_yes)**



---

archive/issue_comments_375805.json:
```json
{
    "body": "Commit: **[`4b4f40e`](https://github.com/sagemath/sagetrac-mirror/commit/4b4f40ee915f683991cb4ece6314c9a242b5792c)**",
    "created_at": "2018-02-14T13:19:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375805",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[`4b4f40e`](https://github.com/sagemath/sagetrac-mirror/commit/4b4f40ee915f683991cb4ece6314c9a242b5792c)**



---

archive/issue_comments_375806.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b4f40ee915f683991cb4ece6314c9a242b5792c\"><code>4b4f40e</code></a></td><td><code>Add --with-python=3 configure flag to replace SAGE_PYTHON3=yes</code></td></tr></table>\n",
    "created_at": "2018-02-14T13:19:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375806",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b4f40ee915f683991cb4ece6314c9a242b5792c"><code>4b4f40e</code></a></td><td><code>Add --with-python=3 configure flag to replace SAGE_PYTHON3=yes</code></td></tr></table>




---

archive/issue_events_339387.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-14T14:46:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339387"
}
```



---

archive/issue_comments_375807.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\n+1 Been meaning to do the same for a while (actually already did once in an old branch that I abandoned).  Though as written this will obviously conflict with #21524.",
    "created_at": "2018-02-14T15:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375807",
    "user": "https://github.com/embray"
}
```

<div id="comment:4" align="right">comment:4</div>

+1 Been meaning to do the same for a while (actually already did once in an old branch that I abandoned).  Though as written this will obviously conflict with #21524.



---

archive/issue_comments_375808.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nwhat is the advantage ?",
    "created_at": "2018-02-14T15:33:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375808",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">comment:5</div>

what is the advantage ?



---

archive/issue_comments_375809.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@fchapoton](#comment%3A5):\n> what is the advantage ?\n\nFirst of all, it's a more standard way to configure things. But one real advantage is that you only need to set this once when running `./configure` initially. With this ticket, once you ran `./configure --with-python=2` you can just run `make` without needing to remember to set `SAGE_PYTHON3=yes`.",
    "created_at": "2018-02-14T15:50:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375809",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@fchapoton](#comment%3A5):
> what is the advantage ?

First of all, it's a more standard way to configure things. But one real advantage is that you only need to set this once when running `./configure` initially. With this ticket, once you ran `./configure --with-python=2` you can just run `make` without needing to remember to set `SAGE_PYTHON3=yes`.



---

archive/issue_comments_375810.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nok. Great.\n\nStupid question maybe: in\n\n```\n+export SAGE_PYTHON_VERSION=@SAGE_PYTHON_VERSION@\n```\nshould there be `\"` around `@SAGE_PYTHON_VERSION@` ?",
    "created_at": "2018-02-14T15:52:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375810",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">comment:7</div>

ok. Great.

Stupid question maybe: in

```
+export SAGE_PYTHON_VERSION=@SAGE_PYTHON_VERSION@
```
should there be `"` around `@SAGE_PYTHON_VERSION@` ?



---

archive/issue_comments_375811.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@fchapoton](#comment%3A7):\n> ok. Great.\n> \n> Stupid question maybe: in\n> \n> ```\n> +export SAGE_PYTHON_VERSION=@SAGE_PYTHON_VERSION@\n> ```\n> should there be `\"` around `@SAGE_PYTHON_VERSION@` ?\n\nThat's not needed in shell scripts.",
    "created_at": "2018-02-14T15:53:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375811",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@fchapoton](#comment%3A7):
> ok. Great.
> 
> Stupid question maybe: in
> 
> ```
> +export SAGE_PYTHON_VERSION=@SAGE_PYTHON_VERSION@
> ```
> should there be `"` around `@SAGE_PYTHON_VERSION@` ?

That's not needed in shell scripts.



---

archive/issue_comments_375812.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nWhen I see a configure option `--with-python=...`, I would expect that I can do ` ./configure --with-python=/usr/bin/python3.5.77 `. How about having options `--with-python2`, `--with-python3` instead?",
    "created_at": "2018-02-14T20:03:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375812",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

When I see a configure option `--with-python=...`, I would expect that I can do ` ./configure --with-python=/usr/bin/python3.5.77 `. How about having options `--with-python2`, `--with-python3` instead?



---

archive/issue_comments_375813.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThat's a fair comment. Let me just say that I chose the option analogous to `--with-mp=gmp|mpir`",
    "created_at": "2018-02-14T21:15:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375813",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

That's a fair comment. Let me just say that I chose the option analogous to `--with-mp=gmp|mpir`



---

archive/issue_comments_375814.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nActually, this shouldn't be a `--with` option at all since those typically indicate components of the system which should be used. For example, mpfr has a `--with-gmp` option to indicate which GMP it should use. So it should be an `--enable` option.\n\nI don't like `--enable-python2` and `--enable-python3` so much because it's not obvious that they are mutually exclusive. So I would prefer `--enable-python=2` and `--enable-python=3`.\n\nAre you willing to give positive review if I change the option to `--enable-python` instead of `--with-python`?",
    "created_at": "2018-02-15T06:29:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375814",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

Actually, this shouldn't be a `--with` option at all since those typically indicate components of the system which should be used. For example, mpfr has a `--with-gmp` option to indicate which GMP it should use. So it should be an `--enable` option.

I don't like `--enable-python2` and `--enable-python3` so much because it's not obvious that they are mutually exclusive. So I would prefer `--enable-python=2` and `--enable-python=3`.

Are you willing to give positive review if I change the option to `--enable-python` instead of `--with-python`?



---

archive/issue_events_339388.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-15T06:37:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339388"
}
```



---

archive/issue_events_339389.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-15T06:37:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339389"
}
```



---

archive/issue_comments_375815.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nNo, I would say that `--with...` is the right thing to use, because Python is a dependency, rather than a feature of Sage. `--with...` does not require an argument. And we can reserve the use of an argument for future use (such as working with a distribution's Python rather than our own).\n\nAnd a help string can make clear that two options are mutually exclusive (as well as signalling an error if both are provided.)",
    "created_at": "2018-02-15T18:58:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375815",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

No, I would say that `--with...` is the right thing to use, because Python is a dependency, rather than a feature of Sage. `--with...` does not require an argument. And we can reserve the use of an argument for future use (such as working with a distribution's Python rather than our own).

And a help string can make clear that two options are mutually exclusive (as well as signalling an error if both are provided.)



---

archive/issue_comments_375816.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@mkoeppe](#comment%3A13):\n> No, I would say that `--with...` is the right thing to use, because Python is a dependency, rather than a feature of Sage.\n\nHuh? Maybe you are confusing Sage-the-library with Sage-the-distribution. I would argue that `./configure` is really the configuration script for Sage-the-distribution and that the Python-in-Sage is a feature (not a dependency) of Sage-the-distribution. Python is a dependency of Sage-the-library but I don't think that is relevant here.\n\nApart from this, there is also the unrelated Python-used-by-the-build-system which is a dependency. In fact, that is what we should use the `--with-python` option for.",
    "created_at": "2018-02-15T19:04:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375816",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@mkoeppe](#comment%3A13):
> No, I would say that `--with...` is the right thing to use, because Python is a dependency, rather than a feature of Sage.

Huh? Maybe you are confusing Sage-the-library with Sage-the-distribution. I would argue that `./configure` is really the configuration script for Sage-the-distribution and that the Python-in-Sage is a feature (not a dependency) of Sage-the-distribution. Python is a dependency of Sage-the-library but I don't think that is relevant here.

Apart from this, there is also the unrelated Python-used-by-the-build-system which is a dependency. In fact, that is what we should use the `--with-python` option for.



---

archive/issue_comments_375817.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@jdemeyer](#comment%3A14):\n> Replying to [@mkoeppe](#comment%3A13):\n> > No, I would say that `--with...` is the right thing to use, because Python is a dependency, rather than a feature of Sage.\n\n> \n> Huh? Maybe you are confusing Sage-the-library with Sage-the-distribution. I would argue that `./configure` is really the configuration script for Sage-the-distribution and that the Python-in-Sage is a feature (not a dependency) of Sage-the-distribution. Python is a dependency of Sage-the-library but I don't think that is relevant here.\n\nHm, well, I thought you might say that. But the configuration of sage-the-distribution does also affect sagelib (configuration is somehow passed through); it does not just make one or the other version of python available for sagelib to find.\n\nAlso, in light of various efforts to use system packages when available I could imagine that one day sage-the-distribution could skip installing its copy of Python and then `--with-python3=/usr/bin/python3.5.77` would make sense.\n\n> \n> Apart from this, there is also the unrelated Python-used-by-the-build-system which is a dependency. In fact, that is what we should use the `--with-python` option for.\n\nFor that one I would suggest something like `--with-build-python` to disambiguate.",
    "created_at": "2018-02-15T19:24:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375817",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@jdemeyer](#comment%3A14):
> Replying to [@mkoeppe](#comment%3A13):
> > No, I would say that `--with...` is the right thing to use, because Python is a dependency, rather than a feature of Sage.

> 
> Huh? Maybe you are confusing Sage-the-library with Sage-the-distribution. I would argue that `./configure` is really the configuration script for Sage-the-distribution and that the Python-in-Sage is a feature (not a dependency) of Sage-the-distribution. Python is a dependency of Sage-the-library but I don't think that is relevant here.

Hm, well, I thought you might say that. But the configuration of sage-the-distribution does also affect sagelib (configuration is somehow passed through); it does not just make one or the other version of python available for sagelib to find.

Also, in light of various efforts to use system packages when available I could imagine that one day sage-the-distribution could skip installing its copy of Python and then `--with-python3=/usr/bin/python3.5.77` would make sense.

> 
> Apart from this, there is also the unrelated Python-used-by-the-build-system which is a dependency. In fact, that is what we should use the `--with-python` option for.

For that one I would suggest something like `--with-build-python` to disambiguate.



---

archive/issue_comments_375818.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nOK, I see your point of using `--with-python` instead of `--enable-python`. Still, I see no reason for separate `--with-python2` and `--with-python3` options. Why do you prefer that over `--with-python`? We already have `--with-blas=atlas` and not `--with-atlas`, so an option `--with-python=2` seems more consistent.",
    "created_at": "2018-02-15T19:49:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375818",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

OK, I see your point of using `--with-python` instead of `--enable-python`. Still, I see no reason for separate `--with-python2` and `--with-python3` options. Why do you prefer that over `--with-python`? We already have `--with-blas=atlas` and not `--with-atlas`, so an option `--with-python=2` seems more consistent.



---

archive/issue_comments_375819.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nFirst of all, I'd say `--with-python=2`  just looks odd to the trained configure-user's eye, one would expect to see `--with-python=python2` or perhaps `--with-python-version=2`.\nAnd as I explained, `--with-python2` and `--with-python3`  allows for future, compatible extensions.\n\nNot sure if the following will make sense, but perhaps a difference to BLAS is that Python exists as an executable. So `--with-python3=/usr/bin/python3.5.77` makes sense; whereas one would perhaps see `--with-blas=atlas --with-atlas-lib=/usr/lib/dfdkfldkflkdlfk --with-atlas-include=/usr/include/fjdkfjkdjfkjd`.\n\nBut obviously all of this is not exact science; so I don't insist.",
    "created_at": "2018-02-15T20:05:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375819",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

First of all, I'd say `--with-python=2`  just looks odd to the trained configure-user's eye, one would expect to see `--with-python=python2` or perhaps `--with-python-version=2`.
And as I explained, `--with-python2` and `--with-python3`  allows for future, compatible extensions.

Not sure if the following will make sense, but perhaps a difference to BLAS is that Python exists as an executable. So `--with-python3=/usr/bin/python3.5.77` makes sense; whereas one would perhaps see `--with-blas=atlas --with-atlas-lib=/usr/lib/dfdkfldkflkdlfk --with-atlas-include=/usr/include/fjdkfjkdjfkjd`.

But obviously all of this is not exact science; so I don't insist.



---

archive/issue_comments_375820.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI like `--with-python=2`.  I think it would be more consistent to be `--with-python=python2` but that's obviously redundant and more likely to clash with a future use of `--with-python=<path-to-python-executabe>`.  So I think in this case we could make an exception.",
    "created_at": "2018-02-16T10:25:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375820",
    "user": "https://github.com/embray"
}
```

<div id="comment:18" align="right">comment:18</div>

I like `--with-python=2`.  I think it would be more consistent to be `--with-python=python2` but that's obviously redundant and more likely to clash with a future use of `--with-python=<path-to-python-executabe>`.  So I think in this case we could make an exception.



---

archive/issue_comments_375821.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nNot an expert at all on this kind of things, but I agree with `--with-python=2`.",
    "created_at": "2018-02-16T10:27:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375821",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:19" align="right">comment:19</div>

Not an expert at all on this kind of things, but I agree with `--with-python=2`.



---

archive/issue_comments_375822.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@mkoeppe](#comment%3A17):\n> First of all, I'd say `--with-python=2`  just looks odd to the trained configure-user's eye, one would expect to see `--with-python=python2` or perhaps `--with-python-version=2`.\n\nI mainly used `--with-python=2` because it's the shortest of those alternatives.",
    "created_at": "2018-02-16T13:49:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375822",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@mkoeppe](#comment%3A17):
> First of all, I'd say `--with-python=2`  just looks odd to the trained configure-user's eye, one would expect to see `--with-python=python2` or perhaps `--with-python-version=2`.

I mainly used `--with-python=2` because it's the shortest of those alternatives.



---

archive/issue_comments_375823.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nGiven that nobody really objects, is somebody willing to give positive review?",
    "created_at": "2018-02-16T13:50:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375823",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Given that nobody really objects, is somebody willing to give positive review?



---

archive/issue_events_339390.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-16T14:19:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339390"
}
```



---

archive/issue_events_339391.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-16T14:19:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339391"
}
```



---

archive/issue_comments_375824.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nUnless mkoeppe still objects, +1 from me.  I will just make this a dependency of #21524 (even though it came first, I don't mind).",
    "created_at": "2018-02-16T16:28:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375824",
    "user": "https://github.com/embray"
}
```

<div id="comment:23" align="right">comment:23</div>

Unless mkoeppe still objects, +1 from me.  I will just make this a dependency of #21524 (even though it came first, I don't mind).



---

archive/issue_events_339392.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-16T16:28:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339392"
}
```



---

archive/issue_events_339393.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-16T16:28:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339393"
}
```



---

archive/issue_comments_375825.json:
```json
{
    "body": "Reviewer: **Erik Bray**",
    "created_at": "2018-02-16T16:28:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375825",
    "user": "https://github.com/embray"
}
```

Reviewer: **Erik Bray**



---

archive/issue_comments_375826.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\n\n```\nRunning the test suite for scipy-0.19.1...\n  File \"spkg-check.py\", line 9\n    print r\n          ^\nSyntaxError: Missing parentheses in call to 'print'\n```",
    "created_at": "2018-02-17T23:37:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375826",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:25" align="right">comment:25</div>


```
Running the test suite for scipy-0.19.1...
  File "spkg-check.py", line 9
    print r
          ^
SyntaxError: Missing parentheses in call to 'print'
```



---

archive/issue_events_339394.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-02-17T23:37:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339394"
}
```



---

archive/issue_events_339395.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-02-17T23:37:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339395"
}
```



---

archive/issue_comments_375827.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8af9c37152ef40a71238966e54e245ff86cd2bf3\"><code>8af9c37</code></a></td><td><code>Safer enabling of SAGE_PYTHON3=yes</code></td></tr></table>\n",
    "created_at": "2018-02-18T08:51:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375827",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8af9c37152ef40a71238966e54e245ff86cd2bf3"><code>8af9c37</code></a></td><td><code>Safer enabling of SAGE_PYTHON3=yes</code></td></tr></table>




---

archive/issue_comments_375828.json:
```json
{
    "body": "Changed commit from **[`4b4f40e`](https://github.com/sagemath/sagetrac-mirror/commit/4b4f40ee915f683991cb4ece6314c9a242b5792c)** to **[`8af9c37`](https://github.com/sagemath/sagetrac-mirror/commit/8af9c37152ef40a71238966e54e245ff86cd2bf3)**",
    "created_at": "2018-02-18T08:51:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375828",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4b4f40e`](https://github.com/sagemath/sagetrac-mirror/commit/4b4f40ee915f683991cb4ece6314c9a242b5792c)** to **[`8af9c37`](https://github.com/sagemath/sagetrac-mirror/commit/8af9c37152ef40a71238966e54e245ff86cd2bf3)**



---

archive/issue_comments_375829.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nRight, let's play the make-this-work-without-patching-configure game again :-)",
    "created_at": "2018-02-18T08:56:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375829",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

Right, let's play the make-this-work-without-patching-configure game again :-)



---

archive/issue_events_339396.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-18T08:57:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339396"
}
```



---

archive/issue_events_339397.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-18T08:57:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339397"
}
```



---

archive/issue_comments_375830.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nshouldn't we fix the scipy print also, in passing ?",
    "created_at": "2018-02-18T09:45:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375830",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:29" align="right">comment:29</div>

shouldn't we fix the scipy print also, in passing ?



---

archive/issue_comments_375831.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@fchapoton](#comment%3A29):\n> shouldn't we fix the scipy print also, in passing ?\n\nSee #24766 for that.",
    "created_at": "2018-02-18T09:49:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375831",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@fchapoton](#comment%3A29):
> shouldn't we fix the scipy print also, in passing ?

See #24766 for that.



---

archive/issue_events_339398.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-19T16:44:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339398"
}
```



---

archive/issue_events_339399.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-19T16:44:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339399"
}
```



---

archive/issue_events_339400.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-02-20T23:08:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339400"
}
```



---

archive/issue_events_339401.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3d5cc7aed2462fce9f934b9647282ac136c5d2bb",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-02-20T23:08:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24729#event-339401"
}
```



---

archive/issue_comments_375832.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/add___with_python_3_configure_flag_to_replace_sage_python3_yes](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add___with_python_3_configure_flag_to_replace_sage_python3_yes)** to **[`8af9c37`](https://github.com/sagemath/sagetrac-mirror/commit/8af9c37152ef40a71238966e54e245ff86cd2bf3)**",
    "created_at": "2018-02-20T23:08:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375832",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/add___with_python_3_configure_flag_to_replace_sage_python3_yes](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add___with_python_3_configure_flag_to_replace_sage_python3_yes)** to **[`8af9c37`](https://github.com/sagemath/sagetrac-mirror/commit/8af9c37152ef40a71238966e54e245ff86cd2bf3)**



---

archive/issue_comments_375833.json:
```json
{
    "body": "Changed commit from **[`8af9c37`](https://github.com/sagemath/sagetrac-mirror/commit/8af9c37152ef40a71238966e54e245ff86cd2bf3)** to none",
    "created_at": "2018-03-03T07:46:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375833",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`8af9c37`](https://github.com/sagemath/sagetrac-mirror/commit/8af9c37152ef40a71238966e54e245ff86cd2bf3)** to none



---

archive/issue_comments_375834.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nWell.. On 8.2.b7 I get\n\n```\n./configure --with-python=3\nconfigure: WARNING: unrecognized options: --with-python\n```",
    "created_at": "2018-03-03T07:46:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375834",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:33" align="right">comment:33</div>

Well.. On 8.2.b7 I get

```
./configure --with-python=3
configure: WARNING: unrecognized options: --with-python
```



---

archive/issue_comments_375835.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nTry running `make configure` first.",
    "created_at": "2018-03-03T09:08:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24729#issuecomment-375835",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:34" align="right">comment:34</div>

Try running `make configure` first.
