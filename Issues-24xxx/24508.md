# Issue 24508: py3: problems with tests that use random_element

archive/issues_024271.json:
```json
{
    "assignees": [],
    "body": "Lots and lots of tests fail on Python 3 due to the use of `random_element`s in tests.\n\nThe problem, I've found, is not to do with seeding the RNG.  Python's `random` produces the same sequence with the same seed on Python 2 and 3.  However, there is a slight difference in the implementation of `random.randint`, such that it does produce different values, annoyingly.\n\nI'm not sure how we want to deal with this.  In Sage there's a `sage.misc.prandom` that for some reason provides wrappers around functions from Python's `random` module.  Perhaps one thing we could do is ensure that `sage.misc.prandom` is always used, and modify its wrapper to `randint` (actually `randrange`, which `randint` is implemented on top of), to provide consistent results.\n\n\n\nBranch/Commit: **[4ac044a](https://github.com/sagemath/sagetrac-mirror/commit/4ac044a839a48b145dc61c2085ca9f48d4c350b3)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Erik Bray**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24508_\n\n",
    "closed_at": "2018-05-08T17:26:48Z",
    "created_at": "2018-01-10T13:58:57Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20python3",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: problems with tests that use random_element",
    "type": "issue",
    "updated_at": "2018-05-08T17:26:48Z",
    "url": "https://github.com/sagemath/sage/issues/24508",
    "user": "https://github.com/embray"
}
```
Lots and lots of tests fail on Python 3 due to the use of `random_element`s in tests.

The problem, I've found, is not to do with seeding the RNG.  Python's `random` produces the same sequence with the same seed on Python 2 and 3.  However, there is a slight difference in the implementation of `random.randint`, such that it does produce different values, annoyingly.

I'm not sure how we want to deal with this.  In Sage there's a `sage.misc.prandom` that for some reason provides wrappers around functions from Python's `random` module.  Perhaps one thing we could do is ensure that `sage.misc.prandom` is always used, and modify its wrapper to `randint` (actually `randrange`, which `randint` is implemented on top of), to provide consistent results.



Branch/Commit: **[4ac044a](https://github.com/sagemath/sagetrac-mirror/commit/4ac044a839a48b145dc61c2085ca9f48d4c350b3)**

Reviewer: **Jeroen Demeyer**

Author: **Erik Bray**

_Issue created by migration from https://trac.sagemath.org/ticket/24508_





---

archive/issue_events_321440.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-01-10T13:58:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24508#event-321440"
}
```



---

archive/issue_events_321441.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-01-10T13:58:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20python3",
    "label_color": "000080",
    "label_name": "component: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24508#event-321441"
}
```



---

archive/issue_events_321442.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-01-10T13:58:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24508#event-321442"
}
```



---

archive/issue_events_321443.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-01-10T13:58:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24508#event-321443"
}
```



---

archive/issue_comments_373728.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nAlso worth pointing out: There were good reasons to change the implementation, AFAICT, as some bugs were addressed.  So using the Python 3 implementation might be better.  However, that would mean fixing hundreds, possibly thousands of tests, so maybe it's not such a good idea (or maybe the Python 2 implementation should be used only in testing or something).",
    "created_at": "2018-01-10T14:06:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373728",
    "user": "https://github.com/embray"
}
```

<a id='comment:1'>Comment 1:</a>
Also worth pointing out: There were good reasons to change the implementation, AFAICT, as some bugs were addressed.  So using the Python 3 implementation might be better.  However, that would mean fixing hundreds, possibly thousands of tests, so maybe it's not such a good idea (or maybe the Python 2 implementation should be used only in testing or something).



---

archive/issue_comments_373729.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nthere is also an issue about\n\n```\nsrc/sage/interfaces/interface.py: \n       return long(randstate().seed()&0x1FFFFFFF)\n```\nthat I have already point out elsewhere",
    "created_at": "2018-01-10T15:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373729",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'>Comment 2:</a>
there is also an issue about

```
src/sage/interfaces/interface.py: 
       return long(randstate().seed()&0x1FFFFFFF)
```
that I have already point out elsewhere



---

archive/issue_comments_373730.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nWhat's really the problem there?  I think the `long()` can just be dropped.",
    "created_at": "2018-01-10T15:40:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373730",
    "user": "https://github.com/embray"
}
```

<a id='comment:3'>Comment 3:</a>
What's really the problem there?  I think the `long()` can just be dropped.



---

archive/issue_comments_373731.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nwell, nobody tried to drop it (not me at least)",
    "created_at": "2018-01-10T15:50:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373731",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'>Comment 4:</a>
well, nobody tried to drop it (not me at least)



---

archive/issue_comments_373732.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nIt's gone in my branch. I don't think it has anything to do with this problem.",
    "created_at": "2018-01-10T16:35:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373732",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'>Comment 5:</a>
It's gone in my branch. I don't think it has anything to do with this problem.



---

archive/issue_comments_373733.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nHere's a possible workaround for this issue.  This is far from ideal in that it wholesale copy/pastes the Python 2 implementation of `random.Random`.  Hypothetically we could get away with copying only smaller sections, but this seemed like the most practical and sure to be consistent solution.\n\nThis is also not great since we should be testing against the real `random.Random` implementation being used at runtime.  I think that for the sake of initial porting of Python 3 this is acceptable, however, and the likelihood of bugs specific to the `Random` implementation are low.  This can be removed once Sage drops Python 2 support, whenever that happens...\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3a0c8b13c361d16fc2bf966dfa5aa99c908e085\">c3a0c8b</a></td><td><code>fix indentation--the entire randstate class body has an extra space of indentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc707b2ec3629bd27f8c1873695146c5363aeee3\">bc707b2</a></td><td><code>Update randstate.python_random to allow passing in an optional alternative to random.Random to use as the Python RNG.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d098e42fd0d1415df0230bb182ae93af93a477e9\">d098e42</a></td><td><code>Provide a workaround for #24508</code></td></tr></table>\n",
    "created_at": "2018-02-20T12:53:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373733",
    "user": "https://github.com/embray"
}
```

<a id='comment:6'>Comment 6:</a>
Here's a possible workaround for this issue.  This is far from ideal in that it wholesale copy/pastes the Python 2 implementation of `random.Random`.  Hypothetically we could get away with copying only smaller sections, but this seemed like the most practical and sure to be consistent solution.

This is also not great since we should be testing against the real `random.Random` implementation being used at runtime.  I think that for the sake of initial porting of Python 3 this is acceptable, however, and the likelihood of bugs specific to the `Random` implementation are low.  This can be removed once Sage drops Python 2 support, whenever that happens...

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3a0c8b13c361d16fc2bf966dfa5aa99c908e085">c3a0c8b</a></td><td><code>fix indentation--the entire randstate class body has an extra space of indentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc707b2ec3629bd27f8c1873695146c5363aeee3">bc707b2</a></td><td><code>Update randstate.python_random to allow passing in an optional alternative to random.Random to use as the Python RNG.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d098e42fd0d1415df0230bb182ae93af93a477e9">d098e42</a></td><td><code>Provide a workaround for #24508</code></td></tr></table>




---

archive/issue_comments_373734.json:
```json
{
    "body": "Branch: **[u/embray/python3/ticket-24508](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/python3/ticket-24508)**",
    "created_at": "2018-02-20T12:53:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373734",
    "user": "https://github.com/embray"
}
```

Branch: **[u/embray/python3/ticket-24508](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/python3/ticket-24508)**



---

archive/issue_comments_373735.json:
```json
{
    "body": "Dependencies: **#24787**",
    "created_at": "2018-02-20T12:53:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373735",
    "user": "https://github.com/embray"
}
```

Dependencies: **#24787**



---

archive/issue_events_321444.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-20T12:53:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24508#event-321444"
}
```



---

archive/issue_comments_373736.json:
```json
{
    "body": "Author: **Erik Bray**",
    "created_at": "2018-02-20T12:53:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373736",
    "user": "https://github.com/embray"
}
```

Author: **Erik Bray**



---

archive/issue_comments_373737.json:
```json
{
    "body": "Commit: **[d098e42](https://github.com/sagemath/sagetrac-mirror/commit/d098e42fd0d1415df0230bb182ae93af93a477e9)**",
    "created_at": "2018-02-20T12:53:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373737",
    "user": "https://github.com/embray"
}
```

Commit: **[d098e42](https://github.com/sagemath/sagetrac-mirror/commit/d098e42fd0d1415df0230bb182ae93af93a477e9)**



---

archive/issue_comments_373738.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nI confirmed that this fixed most tests that were known to be failing due to this issue (of which there were quite a lot).",
    "created_at": "2018-02-20T12:53:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373738",
    "user": "https://github.com/embray"
}
```

<a id='comment:7'>Comment 7:</a>
I confirmed that this fixed most tests that were known to be failing due to this issue (of which there were quite a lot).



---

archive/issue_comments_373739.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\n1. Shouldn't you use `_py2_random.py` also on Python 2? Then you are sure that doctests will remain consistent, independently of any future changes to the upstream `random` module.\n\n2. You can optimize `if self._python_random is not None and type(self._python_random) is cls:` to `type(self._python_random) is cls:`",
    "created_at": "2018-03-12T00:01:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373739",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'>Comment 8:</a>
1. Shouldn't you use `_py2_random.py` also on Python 2? Then you are sure that doctests will remain consistent, independently of any future changes to the upstream `random` module.

2. You can optimize `if self._python_random is not None and type(self._python_random) is cls:` to `type(self._python_random) is cls:`



---

archive/issue_events_321445.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-12T00:01:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24508#event-321445"
}
```



---

archive/issue_events_321446.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-12T00:01:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24508#event-321446"
}
```



---

archive/issue_comments_373740.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nReplying to [@jdemeyer](#comment%3A8):\n> 1. Shouldn't you use `_py2_random.py` also on Python 2? Then you are sure that doctests will remain consistent, independently of any future changes to the upstream `random` module.\n\nI considered that--it seemed unlikely considering that through Python 2.7.14 this has never been an issue, and most non-essential fixes are not being backported to Python 2.\n\nThen again, Python 2 will still be receiving security-related fixes for a while, and the `random` module is definitely a potential target for security fixes, so indeed it might be worth pinning even for Python 2.\n\n> 2. You can optimize `if self._python_random is not None and type(self._python_random) is cls:` to `type(self._python_random) is cls:`\n\nA minor point but true.",
    "created_at": "2018-03-12T13:31:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373740",
    "user": "https://github.com/embray"
}
```

<a id='comment:9'>Comment 9:</a>
Replying to [@jdemeyer](#comment%3A8):
> 1. Shouldn't you use `_py2_random.py` also on Python 2? Then you are sure that doctests will remain consistent, independently of any future changes to the upstream `random` module.

I considered that--it seemed unlikely considering that through Python 2.7.14 this has never been an issue, and most non-essential fixes are not being backported to Python 2.

Then again, Python 2 will still be receiving security-related fixes for a while, and the `random` module is definitely a potential target for security fixes, so indeed it might be worth pinning even for Python 2.

> 2. You can optimize `if self._python_random is not None and type(self._python_random) is cls:` to `type(self._python_random) is cls:`

A minor point but true.



---

archive/issue_events_321447.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-12T13:31:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24508#event-321447"
}
```



---

archive/issue_events_321448.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-12T13:31:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24508#event-321448"
}
```



---

archive/issue_comments_373741.json:
```json
{
    "body": "Changed commit from **[d098e42](https://github.com/sagemath/sagetrac-mirror/commit/d098e42fd0d1415df0230bb182ae93af93a477e9)** to **[4ac044a](https://github.com/sagemath/sagetrac-mirror/commit/4ac044a839a48b145dc61c2085ca9f48d4c350b3)**",
    "created_at": "2018-03-13T22:15:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373741",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d098e42](https://github.com/sagemath/sagetrac-mirror/commit/d098e42fd0d1415df0230bb182ae93af93a477e9)** to **[4ac044a](https://github.com/sagemath/sagetrac-mirror/commit/4ac044a839a48b145dc61c2085ca9f48d4c350b3)**



---

archive/issue_comments_373742.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9bf350e6f7021ff89fb6ae2dd880276be729eb0\">c9bf350</a></td><td><code>Small simplification</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ac044a839a48b145dc61c2085ca9f48d4c350b3\">4ac044a</a></td><td><code>Use the baked-in copy of the random module even on Python 2</code></td></tr></table>\n",
    "created_at": "2018-03-13T22:15:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373742",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9bf350e6f7021ff89fb6ae2dd880276be729eb0">c9bf350</a></td><td><code>Small simplification</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ac044a839a48b145dc61c2085ca9f48d4c350b3">4ac044a</a></td><td><code>Use the baked-in copy of the random module even on Python 2</code></td></tr></table>




---

archive/issue_events_321449.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-13T22:15:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24508#event-321449"
}
```



---

archive/issue_events_321450.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-13T22:15:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24508#event-321450"
}
```



---

archive/issue_comments_373743.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9bf350e6f7021ff89fb6ae2dd880276be729eb0\">c9bf350</a></td><td><code>Small simplification</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ac044a839a48b145dc61c2085ca9f48d4c350b3\">4ac044a</a></td><td><code>Use the baked-in copy of the random module even on Python 2</code></td></tr></table>\n",
    "created_at": "2018-03-13T22:15:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373743",
    "user": "https://github.com/embray"
}
```

<a id='comment:12'>Comment 12:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9bf350e6f7021ff89fb6ae2dd880276be729eb0">c9bf350</a></td><td><code>Small simplification</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ac044a839a48b145dc61c2085ca9f48d4c350b3">4ac044a</a></td><td><code>Use the baked-in copy of the random module even on Python 2</code></td></tr></table>




---

archive/issue_comments_373744.json:
```json
{
    "body": "Changed dependencies from **#24787** to none",
    "created_at": "2018-04-23T13:40:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373744",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#24787** to none



---

archive/issue_comments_373745.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2018-04-23T13:46:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373745",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_321451.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-23T13:46:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24508#event-321451"
}
```



---

archive/issue_events_321452.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-23T13:46:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24508#event-321452"
}
```



---

archive/issue_events_321453.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-04-26T12:13:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24508#event-321453"
}
```



---

archive/issue_events_321454.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-04-26T12:13:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24508#event-321454"
}
```



---

archive/issue_comments_373746.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nPatchbot suggests that \"plugins failed\" but it's completely non-obvious from the output what plugins failed...",
    "created_at": "2018-05-02T18:22:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373746",
    "user": "https://github.com/embray"
}
```

<a id='comment:16'>Comment 16:</a>
Patchbot suggests that "plugins failed" but it's completely non-obvious from the output what plugins failed...



---

archive/issue_comments_373747.json:
```json
{
    "body": "Changed branch from **[u/embray/python3/ticket-24508](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/python3/ticket-24508)** to **[4ac044a](https://github.com/sagemath/sagetrac-mirror/commit/4ac044a839a48b145dc61c2085ca9f48d4c350b3)**",
    "created_at": "2018-05-08T17:26:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24508#issuecomment-373747",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/embray/python3/ticket-24508](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/python3/ticket-24508)** to **[4ac044a](https://github.com/sagemath/sagetrac-mirror/commit/4ac044a839a48b145dc61c2085ca9f48d4c350b3)**



---

archive/issue_events_321455.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-08T17:26:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24508#event-321455"
}
```



---

archive/issue_events_321456.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "52ab02ee18176843d99a858f9481423620d1d574",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-05-08T17:26:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24508",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24508#event-321456"
}
```
