# Issue 24521: Abelian Groups with Gap

archive/issues_024284.json:
```json
{
    "body": "Interface our abelian groups with the abelian groups in gap through \nlibgap. \n\n\nCC:  @vbraun @tscrim\n\nBranch/Commit: 477b66d14b8eceb0ab2d91a6aa36be646dd16526\n\nReviewer: Travis Scrimshaw\n\nAuthor: Simon Brandhorst\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24521\n\n",
    "closed_at": "2018-02-11T13:04:08Z",
    "created_at": "2018-01-11T17:01:34Z",
    "labels": [
        "component: group theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Abelian Groups with Gap",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24521",
    "user": "https://github.com/simonbrandhorst"
}
```
Interface our abelian groups with the abelian groups in gap through 
libgap. 


CC:  @vbraun @tscrim

Branch/Commit: 477b66d14b8eceb0ab2d91a6aa36be646dd16526

Reviewer: Travis Scrimshaw

Author: Simon Brandhorst

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24521





---

archive/issue_comments_464179.json:
```json
{
    "body": "Changing branch from \"\" to \"u/sbrandhorst/abelian_groups_with_gap\"",
    "created_at": "2018-01-11T17:04:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464179",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing branch from "" to "u/sbrandhorst/abelian_groups_with_gap"



---

archive/issue_comments_464180.json:
```json
{
    "body": "Changing commit from \"\" to \"f9af766f54b7bf3200c7fe55f7da2304bd56a856\"",
    "created_at": "2018-01-11T19:15:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464180",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "" to "f9af766f54b7bf3200c7fe55f7da2304bd56a856"



---

archive/issue_comments_464181.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2018-01-11T19:15:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464181",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_464182.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-12T16:06:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464182",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_464183.json:
```json
{
    "body": "Changing commit from \"f9af766f54b7bf3200c7fe55f7da2304bd56a856\" to \"0b13ad7861cddf55f6a5de067ef7541f7d2cac52\"",
    "created_at": "2018-01-12T16:06:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464183",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f9af766f54b7bf3200c7fe55f7da2304bd56a856" to "0b13ad7861cddf55f6a5de067ef7541f7d2cac52"



---

archive/issue_comments_464184.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-01-12T16:06:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464184",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_464185.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-01-12T19:21:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464185",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_464186.json:
```json
{
    "body": "<a id='comment:5'></a>Some comments:\n\n- A number of your 1-line descriptions are missing periods/full-stops at the end.\n- `AbelianGroupElement_gap.__reduce__` is missing `EXAMPLES::` or `TESTS::`. (Is this method necessary?)\n- Your `INPUT:` and `OUTPUT:` blocks are over-indented.\n- `AbelianGroup_gap.__init__` is missing documentation. I would recommend having the `TestSuite` test there and in the class-level doc having an actual example(s) of how to construct and use the class.\n- the `- ``A`` -- an `AbelianGroup`` means that \"AbelianGroup\" is latex formatting (needs 2 backticks on both sides), but I don't understand why you do not link to the specific class (or construction function) in Sage.\n- There should not be a `__hash__` function because that should be handled by `UniqueRepresentation`.\n- `_coerce_map_from_` is missing documentation.\n- I do not understand the `sage` method.\n- The `OUTPUT:` of `subgroup` is strange. I understand why you are saying that (most subgroups do not keep track of their ambient group(s)), but it reads very awkwardly.\n- `elementary_divisors` does not have any doctests.",
    "created_at": "2018-01-12T19:21:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464186",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>Some comments:

- A number of your 1-line descriptions are missing periods/full-stops at the end.
- `AbelianGroupElement_gap.__reduce__` is missing `EXAMPLES::` or `TESTS::`. (Is this method necessary?)
- Your `INPUT:` and `OUTPUT:` blocks are over-indented.
- `AbelianGroup_gap.__init__` is missing documentation. I would recommend having the `TestSuite` test there and in the class-level doc having an actual example(s) of how to construct and use the class.
- the `- ``A`` -- an `AbelianGroup`` means that "AbelianGroup" is latex formatting (needs 2 backticks on both sides), but I don't understand why you do not link to the specific class (or construction function) in Sage.
- There should not be a `__hash__` function because that should be handled by `UniqueRepresentation`.
- `_coerce_map_from_` is missing documentation.
- I do not understand the `sage` method.
- The `OUTPUT:` of `subgroup` is strange. I understand why you are saying that (most subgroups do not keep track of their ambient group(s)), but it reads very awkwardly.
- `elementary_divisors` does not have any doctests.



---

archive/issue_comments_464187.json:
```json
{
    "body": "Changing commit from \"0b13ad7861cddf55f6a5de067ef7541f7d2cac52\" to \"74234d4de9bf109ded91c74c0657678317de7bb3\"",
    "created_at": "2018-01-12T21:02:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464187",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0b13ad7861cddf55f6a5de067ef7541f7d2cac52" to "74234d4de9bf109ded91c74c0657678317de7bb3"



---

archive/issue_comments_464188.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-12T21:02:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464188",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_464189.json:
```json
{
    "body": "<a id='comment:7'></a>Thank you for your comments. \n\nI guess you are right the .sage method makes little sense. I will replace it by a coercion to the sage implementation.",
    "created_at": "2018-01-12T21:05:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464189",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:7'></a>Thank you for your comments. 

I guess you are right the .sage method makes little sense. I will replace it by a coercion to the sage implementation.



---

archive/issue_comments_464190.json:
```json
{
    "body": "Changing commit from \"74234d4de9bf109ded91c74c0657678317de7bb3\" to \"7ad95eaececd29f7198a7be267f85312e788c25f\"",
    "created_at": "2018-01-16T17:50:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464190",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "74234d4de9bf109ded91c74c0657678317de7bb3" to "7ad95eaececd29f7198a7be267f85312e788c25f"



---

archive/issue_comments_464191.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-16T17:50:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464191",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_464192.json:
```json
{
    "body": "Changing commit from \"7ad95eaececd29f7198a7be267f85312e788c25f\" to \"99296dc97b86b476760e19f7acabbac2c992c6ed\"",
    "created_at": "2018-01-17T10:42:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464192",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7ad95eaececd29f7198a7be267f85312e788c25f" to "99296dc97b86b476760e19f7acabbac2c992c6ed"



---

archive/issue_comments_464193.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-17T10:42:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464193",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_464194.json:
```json
{
    "body": "Changing commit from \"99296dc97b86b476760e19f7acabbac2c992c6ed\" to \"c3bd7a1652a0022efcf999a84ace4282019cb5f2\"",
    "created_at": "2018-01-17T10:46:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464194",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "99296dc97b86b476760e19f7acabbac2c992c6ed" to "c3bd7a1652a0022efcf999a84ace4282019cb5f2"



---

archive/issue_comments_464195.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-17T10:46:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464195",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_464196.json:
```json
{
    "body": "Changing commit from \"c3bd7a1652a0022efcf999a84ace4282019cb5f2\" to \"4d2fbe04419a9eed0da4f2a1ccc8ecb5fc7b9256\"",
    "created_at": "2018-01-17T11:21:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464196",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c3bd7a1652a0022efcf999a84ace4282019cb5f2" to "4d2fbe04419a9eed0da4f2a1ccc8ecb5fc7b9256"



---

archive/issue_comments_464197.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-17T11:21:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464197",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_464198.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-01-17T11:22:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464198",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_464199.json:
```json
{
    "body": "<a id='comment:13'></a>the `__reduce__` methods are necessary. In sage.groups.libgap_wrapper:\n\"\n   Your implementation definitely needs to supply\n\n* ``__reduce__()``: serialize the LibGAP group. Since GAP does not\n  support Python pickles natively, you need to figure out yourself\n  how you can recreate the group from a pickle.\n\"",
    "created_at": "2018-01-17T11:25:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464199",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:13'></a>the `__reduce__` methods are necessary. In sage.groups.libgap_wrapper:
"
   Your implementation definitely needs to supply

* ``__reduce__()``: serialize the LibGAP group. Since GAP does not
  support Python pickles natively, you need to figure out yourself
  how you can recreate the group from a pickle.
"



---

archive/issue_comments_464200.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-17T17:49:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464200",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_464201.json:
```json
{
    "body": "Changing commit from \"4d2fbe04419a9eed0da4f2a1ccc8ecb5fc7b9256\" to \"1695bd8153a5e00107d3bccdeb5e09c7d2b14660\"",
    "created_at": "2018-01-17T17:49:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464201",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4d2fbe04419a9eed0da4f2a1ccc8ecb5fc7b9256" to "1695bd8153a5e00107d3bccdeb5e09c7d2b14660"



---

archive/issue_comments_464202.json:
```json
{
    "body": "<a id='comment:15'></a>If you look at the diff you can see\n\n```\n\\ No newline at end of file\n```\nThat needs to be fixed",
    "created_at": "2018-01-17T18:50:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464202",
    "user": "https://github.com/videlec"
}
```

<a id='comment:15'></a>If you look at the diff you can see

```
\ No newline at end of file
```
That needs to be fixed



---

archive/issue_comments_464203.json:
```json
{
    "body": "<a id='comment:16'></a>what about the related #2153 (just resurrected from long ago) ?",
    "created_at": "2018-01-17T20:21:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464203",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>what about the related #2153 (just resurrected from long ago) ?



---

archive/issue_comments_464204.json:
```json
{
    "body": "<a id='comment:17'></a>Interesting I was not aware of that. Do you suggest introducing homsets?",
    "created_at": "2018-01-18T07:15:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464204",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:17'></a>Interesting I was not aware of that. Do you suggest introducing homsets?



---

archive/issue_comments_464205.json:
```json
{
    "body": "Changing commit from \"1695bd8153a5e00107d3bccdeb5e09c7d2b14660\" to \"c846a0ebcfb29f9bcabc8a333e201e474b983950\"",
    "created_at": "2018-01-18T18:05:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464205",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1695bd8153a5e00107d3bccdeb5e09c7d2b14660" to "c846a0ebcfb29f9bcabc8a333e201e474b983950"



---

archive/issue_comments_464206.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-18T18:05:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464206",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_464207.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-18T18:19:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464207",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_464208.json:
```json
{
    "body": "Changing commit from \"c846a0ebcfb29f9bcabc8a333e201e474b983950\" to \"ec2c0116c41fc4755f4ecd2376f96e8db1e98d49\"",
    "created_at": "2018-01-18T18:19:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464208",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c846a0ebcfb29f9bcabc8a333e201e474b983950" to "ec2c0116c41fc4755f4ecd2376f96e8db1e98d49"



---

archive/issue_comments_464209.json:
```json
{
    "body": "Changing commit from \"ec2c0116c41fc4755f4ecd2376f96e8db1e98d49\" to \"42182d097cac024a2fad1f784efcce8b0a6f54ef\"",
    "created_at": "2018-01-28T08:53:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464209",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ec2c0116c41fc4755f4ecd2376f96e8db1e98d49" to "42182d097cac024a2fad1f784efcce8b0a6f54ef"



---

archive/issue_comments_464210.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-28T08:53:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464210",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_464211.json:
```json
{
    "body": "<a id='comment:21'></a>I finally found some time to make it through this ticket. Here is a synopsis of my changes:\n\n- I simplified the overall logic by renaming `AbelianGroupAmbient_gap` to `AbelianGroupGap` and made this is the main entry point as `UniqueRepresentation` can handle processing input.\n- I got rid of the `_with_pc` flag that was basically unused except for defining the behavior of `exponents`, but that is much better handled by a subclass IMO.\n- I only use `Polycyclic` when it is necessary and error out when unable to import. Previously, there was a subtle change of a behavior only really noticeable because `Polycyclic` generators are `g1` whereas the usual libgap's are `f1` once `gap_packages` was installed.\n- I fixed a bug where finite subgroups were placed in the category of infinite groups.\n- Other misc doc and formatting changes.\n \n---\nNew commits:",
    "created_at": "2018-02-04T09:18:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464211",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:21'></a>I finally found some time to make it through this ticket. Here is a synopsis of my changes:

- I simplified the overall logic by renaming `AbelianGroupAmbient_gap` to `AbelianGroupGap` and made this is the main entry point as `UniqueRepresentation` can handle processing input.
- I got rid of the `_with_pc` flag that was basically unused except for defining the behavior of `exponents`, but that is much better handled by a subclass IMO.
- I only use `Polycyclic` when it is necessary and error out when unable to import. Previously, there was a subtle change of a behavior only really noticeable because `Polycyclic` generators are `g1` whereas the usual libgap's are `f1` once `gap_packages` was installed.
- I fixed a bug where finite subgroups were placed in the category of infinite groups.
- Other misc doc and formatting changes.
 
---
New commits:



---

archive/issue_comments_464212.json:
```json
{
    "body": "Changing branch from \"u/sbrandhorst/abelian_groups_with_gap\" to \"public/groups/abelian_groups_with_gap-24521\"",
    "created_at": "2018-02-04T09:18:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464212",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "u/sbrandhorst/abelian_groups_with_gap" to "public/groups/abelian_groups_with_gap-24521"



---

archive/issue_comments_464213.json:
```json
{
    "body": "Changing commit from \"42182d097cac024a2fad1f784efcce8b0a6f54ef\" to \"4e2897ad539a42bbc0a60281ef43f3b1bdd82683\"",
    "created_at": "2018-02-04T09:18:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464213",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "42182d097cac024a2fad1f784efcce8b0a6f54ef" to "4e2897ad539a42bbc0a60281ef43f3b1bdd82683"



---

archive/issue_comments_464214.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2018-02-04T09:18:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464214",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_464215.json:
```json
{
    "body": "<a id='comment:22'></a>If my changes are good to you, then positive review.",
    "created_at": "2018-02-04T09:18:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464215",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:22'></a>If my changes are good to you, then positive review.



---

archive/issue_comments_464216.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-02-04T15:25:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464216",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_464217.json:
```json
{
    "body": "Changing commit from \"4e2897ad539a42bbc0a60281ef43f3b1bdd82683\" to \"23f489a3a09fd2b94edd994f93bd941ecdaa3db6\"",
    "created_at": "2018-02-04T15:25:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464217",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4e2897ad539a42bbc0a60281ef43f3b1bdd82683" to "23f489a3a09fd2b94edd994f93bd941ecdaa3db6"



---

archive/issue_comments_464218.json:
```json
{
    "body": "<a id='comment:24'></a>Thank you for the careful review. I did not know about `__classcall_private__`.\nYour changes look good.\n\nPositive review from my side if you are happy with my changes in `exponents`.\n\nA question: what is the purpose of \n`return super(AbelianGroup_gap, self)._coerce_map_from_(S)`\nin `_coerce_map_from_` ? I do not quite understand it.",
    "created_at": "2018-02-04T15:30:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464218",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:24'></a>Thank you for the careful review. I did not know about `__classcall_private__`.
Your changes look good.

Positive review from my side if you are happy with my changes in `exponents`.

A question: what is the purpose of 
`return super(AbelianGroup_gap, self)._coerce_map_from_(S)`
in `_coerce_map_from_` ? I do not quite understand it.



---

archive/issue_comments_464219.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:24 sbrandhorst]:\n> Positive review from my side if you are happy with my changes in `exponents`.\n\n\nLGTM. Thanks.\n\n> A question: what is the purpose of \n> `return super(AbelianGroup_gap, self)._coerce_map_from_(S)`\n> in `_coerce_map_from_` ? I do not quite understand it.\n\n\nIt makes a call up to the closest base class's implementation of `_coerce_map_from_`. In this case, it is most likely calling the default one from `Parent`, which simply returns `None`. Yet, perhaps at some point in the future, one of the base classes will implement a more generic coercion check that this class can benefit from.",
    "created_at": "2018-02-04T20:23:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464219",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:25'></a>Replying to [comment:24 sbrandhorst]:
> Positive review from my side if you are happy with my changes in `exponents`.


LGTM. Thanks.

> A question: what is the purpose of 
> `return super(AbelianGroup_gap, self)._coerce_map_from_(S)`
> in `_coerce_map_from_` ? I do not quite understand it.


It makes a call up to the closest base class's implementation of `_coerce_map_from_`. In this case, it is most likely calling the default one from `Parent`, which simply returns `None`. Yet, perhaps at some point in the future, one of the base classes will implement a more generic coercion check that this class can benefit from.



---

archive/issue_comments_464220.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-02-04T20:23:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464220",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_464221.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-02-06T08:04:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464221",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_464222.json:
```json
{
    "body": "<a id='comment:26'></a>\n```\nsage -t --long src/sage/groups/abelian_gps/abelian_group_gap.py\n**********************************************************************\nFile \"src/sage/groups/abelian_gps/abelian_group_gap.py\", line 701, in sage.groups.abelian_gps.abelian_group_gap.AbelianGroupSubgroup_gap.__init__\nFailed example:\n    G = AbelianGroupGap([2,3,0])\nException raised:\n    Traceback (most recent call last):\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 534, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 937, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.groups.abelian_gps.abelian_group_gap.AbelianGroupSubgroup_gap.__init__[5]>\", line 1, in <module>\n        G = AbelianGroupGap([Integer(2),Integer(3),Integer(0)])\n      File \"sage/misc/classcall_metaclass.pyx\", line 330, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)\n        return cls.classcall(cls, *args, **kwds)\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/groups/abelian_gps/abelian_group_gap.py\", line 599, in __classcall_private__\n        return super(AbelianGroupGap, cls).__classcall__(cls, generator_orders)\n      File \"sage/misc/cachefunc.pyx\", line 1059, in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6246)\n        w = self.f(*args, **kwds)\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/structure/unique_representation.py\", line 1021, in __classcall__\n        instance = typecall(cls, *args, **options)\n      File \"sage/misc/classcall_metaclass.pyx\", line 497, in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2040)\n        return (<PyTypeObject*>type).tp_call(cls, args, kwds)\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/groups/abelian_gps/abelian_group_gap.py\", line 614, in __init__\n        raise ImportError(\"unable to import polycyclic package\")\n    ImportError: unable to import polycyclic package\n**********************************************************************\n```",
    "created_at": "2018-02-06T08:04:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464222",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:26'></a>
```
sage -t --long src/sage/groups/abelian_gps/abelian_group_gap.py
**********************************************************************
File "src/sage/groups/abelian_gps/abelian_group_gap.py", line 701, in sage.groups.abelian_gps.abelian_group_gap.AbelianGroupSubgroup_gap.__init__
Failed example:
    G = AbelianGroupGap([2,3,0])
Exception raised:
    Traceback (most recent call last):
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 534, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 937, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.groups.abelian_gps.abelian_group_gap.AbelianGroupSubgroup_gap.__init__[5]>", line 1, in <module>
        G = AbelianGroupGap([Integer(2),Integer(3),Integer(0)])
      File "sage/misc/classcall_metaclass.pyx", line 330, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)
        return cls.classcall(cls, *args, **kwds)
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/groups/abelian_gps/abelian_group_gap.py", line 599, in __classcall_private__
        return super(AbelianGroupGap, cls).__classcall__(cls, generator_orders)
      File "sage/misc/cachefunc.pyx", line 1059, in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6246)
        w = self.f(*args, **kwds)
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/structure/unique_representation.py", line 1021, in __classcall__
        instance = typecall(cls, *args, **options)
      File "sage/misc/classcall_metaclass.pyx", line 497, in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2040)
        return (<PyTypeObject*>type).tp_call(cls, args, kwds)
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/groups/abelian_gps/abelian_group_gap.py", line 614, in __init__
        raise ImportError("unable to import polycyclic package")
    ImportError: unable to import polycyclic package
**********************************************************************
```



---

archive/issue_comments_464223.json:
```json
{
    "body": "Changing commit from \"23f489a3a09fd2b94edd994f93bd941ecdaa3db6\" to \"59b11eda5656ffb0fb61c99f493718521a6fcea6\"",
    "created_at": "2018-02-06T08:21:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464223",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "23f489a3a09fd2b94edd994f93bd941ecdaa3db6" to "59b11eda5656ffb0fb61c99f493718521a6fcea6"



---

archive/issue_comments_464224.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-02-06T08:21:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464224",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_464225.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-02-06T08:21:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464225",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_464226.json:
```json
{
    "body": "<a id='comment:29'></a>Thank you Volker. Let us see what the bot has to say.",
    "created_at": "2018-02-06T08:23:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464226",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:29'></a>Thank you Volker. Let us see what the bot has to say.



---

archive/issue_comments_464227.json:
```json
{
    "body": "<a id='comment:30'></a>Whoops, my bad. Forgot to add those. Green patchbot => positive review.",
    "created_at": "2018-02-06T08:28:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464227",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:30'></a>Whoops, my bad. Forgot to add those. Green patchbot => positive review.



---

archive/issue_comments_464228.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-02-06T12:22:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464228",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_464229.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2018-02-09T14:17:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464229",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_464230.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2018-02-09T14:17:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464230",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_464231.json:
```json
{
    "body": "Changing commit from \"59b11eda5656ffb0fb61c99f493718521a6fcea6\" to \"477b66d14b8eceb0ab2d91a6aa36be646dd16526\"",
    "created_at": "2018-02-09T14:17:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464231",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "59b11eda5656ffb0fb61c99f493718521a6fcea6" to "477b66d14b8eceb0ab2d91a6aa36be646dd16526"



---

archive/issue_comments_464232.json:
```json
{
    "body": "<a id='comment:33'></a>I'm guessing there was a merge conflict? Otherwise you did not have to merge in the latest `develop`.",
    "created_at": "2018-02-09T20:49:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464232",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:33'></a>I'm guessing there was a merge conflict? Otherwise you did not have to merge in the latest `develop`.



---

archive/issue_comments_464233.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-02-09T20:49:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464233",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_464234.json:
```json
{
    "body": "<a id='comment:34'></a>I am just tired to switch between different versions of sage all the time and recompile everything for hours. So I just keep all my branches up to date with the newest beta.",
    "created_at": "2018-02-10T08:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464234",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:34'></a>I am just tired to switch between different versions of sage all the time and recompile everything for hours. So I just keep all my branches up to date with the newest beta.



---

archive/issue_comments_464235.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-02-11T13:04:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464235",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_464236.json:
```json
{
    "body": "Changing branch from \"public/groups/abelian_groups_with_gap-24521\" to \"477b66d14b8eceb0ab2d91a6aa36be646dd16526\"",
    "created_at": "2018-02-11T13:04:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24521#issuecomment-464236",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/groups/abelian_groups_with_gap-24521" to "477b66d14b8eceb0ab2d91a6aa36be646dd16526"



---

archive/issue_events_061838.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-02-11T13:04:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24521",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24521#event-61838"
}
```
