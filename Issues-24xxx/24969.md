# Issue 24969: Upgrade to R 3.4.4

archive/issues_024732.json:
```json
{
    "body": "... for the usual reasons.\n\nTicket open for test purposes with the RC candidate.\n\nUpstream source tarball:\n\n- [https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz](https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz)\n\n**CC:**  @dimpase @embray @slel\n\n**Keywords:** r-project, upgrade\n\n**Branch/Commit:** [e55994100b4671c47215b544ff46f21db7f597f6](https://github.com/sagemath/sagetrac-mirror/commit/e55994100b4671c47215b544ff46f21db7f597f6)\n\n**Reviewer:** Dima Pasechnik\n\n**Author:** Emmanuel Charpentier\n\nIssue created by migration from https://trac.sagemath.org/ticket/24969\n\n",
    "closed_at": "2018-05-12T11:47:38Z",
    "created_at": "2018-03-13T20:20:51Z",
    "labels": [
        "component: packages: standard",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Upgrade to R 3.4.4",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24969",
    "user": "https://github.com/EmmanuelCharpentier"
}
```
... for the usual reasons.

Ticket open for test purposes with the RC candidate.

Upstream source tarball:

- [https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz](https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz)

**CC:**  @dimpase @embray @slel

**Keywords:** r-project, upgrade

**Branch/Commit:** [e55994100b4671c47215b544ff46f21db7f597f6](https://github.com/sagemath/sagetrac-mirror/commit/e55994100b4671c47215b544ff46f21db7f597f6)

**Reviewer:** Dima Pasechnik

**Author:** Emmanuel Charpentier

Issue created by migration from https://trac.sagemath.org/ticket/24969





---

archive/issue_comments_382797.json:
```json
{
    "body": "**Branch:** [u/charpent/upgrade_r_to_3_4_4](https://github.com/sagemath/sagetrac-mirror/tree/u/charpent/upgrade_r_to_3_4_4)",
    "created_at": "2018-03-15T13:55:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382797",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

**Branch:** [u/charpent/upgrade_r_to_3_4_4](https://github.com/sagemath/sagetrac-mirror/tree/u/charpent/upgrade_r_to_3_4_4)



---

archive/issue_comments_382798.json:
```json
{
    "body": "<a id='comment:2'></a>\nThis version\n* Passes ptest long.\n* Sort-of passes its own testsuite (expected failures in internet).\n\n==> `needs_review`.\n\nAs usual, attention welcome on Cygwin and Macintoshes.",
    "created_at": "2018-03-15T13:57:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382798",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:2'></a>
This version
* Passes ptest long.
* Sort-of passes its own testsuite (expected failures in internet).

==> `needs_review`.

As usual, attention welcome on Cygwin and Macintoshes.



---

archive/issue_comments_382799.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n ... for the usual reasons.\n \n-Ticcket open for test purposes with the RC candidate. The upstream source will be added when available.\n+Ticcket open for test purposes with the RC candidate.\n+\n+The upstream source tarball here : [https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz](https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz)\n``````\n",
    "created_at": "2018-03-15T13:57:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382799",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 ... for the usual reasons.
 
-Ticcket open for test purposes with the RC candidate. The upstream source will be added when available.
+Ticcket open for test purposes with the RC candidate.
+
+The upstream source tarball here : [https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz](https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz)
``````




---

archive/issue_comments_382800.json:
```json
{
    "body": "**Changing branch** from \"[u/charpent/upgrade_r_to_3_4_4](https://github.com/sagemath/sagetrac-mirror/tree/u/charpent/upgrade_r_to_3_4_4)\" to \"\".",
    "created_at": "2018-03-15T13:57:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382800",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

**Changing branch** from "[u/charpent/upgrade_r_to_3_4_4](https://github.com/sagemath/sagetrac-mirror/tree/u/charpent/upgrade_r_to_3_4_4)" to "".



---

archive/issue_events_221239.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2018-03-15T13:59:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24969#event-221239"
}
```



---

archive/issue_comments_382801.json:
```json
{
    "body": "**Branch:** [u/charpent/upgrade_r_to_3_4_4](https://github.com/sagemath/sagetrac-mirror/tree/u/charpent/upgrade_r_to_3_4_4)",
    "created_at": "2018-03-15T13:59:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382801",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

**Branch:** [u/charpent/upgrade_r_to_3_4_4](https://github.com/sagemath/sagetrac-mirror/tree/u/charpent/upgrade_r_to_3_4_4)



---

archive/issue_comments_382802.json:
```json
{
    "body": "<a id='comment:5'></a>\nAuthor Name field is empty ==> no patchbot\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e55994100b4671c47215b544ff46f21db7f597f6\">e559941</a></td><td><code>R 3.4.4 : New tarball, rebased patches, updated checksums.</code></td></tr></table>\n",
    "created_at": "2018-03-16T10:58:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382802",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
Author Name field is empty ==> no patchbot

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e55994100b4671c47215b544ff46f21db7f597f6">e559941</a></td><td><code>R 3.4.4 : New tarball, rebased patches, updated checksums.</code></td></tr></table>




---

archive/issue_comments_382803.json:
```json
{
    "body": "**Commit:** [e55994100b4671c47215b544ff46f21db7f597f6](https://github.com/sagemath/sagetrac-mirror/commit/e55994100b4671c47215b544ff46f21db7f597f6)",
    "created_at": "2018-03-16T10:58:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382803",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [e55994100b4671c47215b544ff46f21db7f597f6](https://github.com/sagemath/sagetrac-mirror/commit/e55994100b4671c47215b544ff46f21db7f597f6)



---

archive/issue_comments_382804.json:
```json
{
    "body": "<a id='comment:6'></a>\nand spkg ticket mean patchbot will not test anything, just the sha of the spkg",
    "created_at": "2018-03-16T10:59:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382804",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
and spkg ticket mean patchbot will not test anything, just the sha of the spkg



---

archive/issue_comments_382805.json:
```json
{
    "body": "**Author:** Emmauel Charpentier",
    "created_at": "2018-03-16T11:02:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382805",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

**Author:** Emmauel Charpentier



---

archive/issue_comments_382806.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [chapoton](#comment%3A5):\n> Author Name field is empty ==> no patchbot\n\n\nThanks. I am a multirecidivist about this one...\n\n> ---\n> **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e55994100b4671c47215b544ff46f21db7f597f6\">e559941</a></td><td><code>R 3.4.4 : New tarball, rebased patches, updated checksums.</code></td></tr></table>\n\n\nHuh ? What does that means ?",
    "created_at": "2018-03-16T11:05:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382806",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:8'></a>
Replying to [chapoton](#comment%3A5):
> Author Name field is empty ==> no patchbot


Thanks. I am a multirecidivist about this one...

> ---
> **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e55994100b4671c47215b544ff46f21db7f597f6">e559941</a></td><td><code>R 3.4.4 : New tarball, rebased patches, updated checksums.</code></td></tr></table>


Huh ? What does that means ?



---

archive/issue_comments_382807.json:
```json
{
    "body": "<a id='comment:9'></a>\nThe \"new commit\" line is not by me, it was added automatically by trac",
    "created_at": "2018-03-16T12:08:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382807",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
The "new commit" line is not by me, it was added automatically by trac



---

archive/issue_events_221240.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-04-08T07:12:11Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "rename": {
        "from": "Upgrade R to 3.4.4",
        "to": "Upgrade to R 3.4.4"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24969#event-221240"
}
```



---

archive/issue_comments_382808.json:
```json
{
    "body": "**Changing keywords** from \"r-projects\" to \"r-project\".",
    "created_at": "2018-04-08T07:12:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382808",
    "user": "https://github.com/slel"
}
```

**Changing keywords** from "r-projects" to "r-project".



---

archive/issue_comments_382809.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,7 @@\n ... for the usual reasons.\n \n-Ticcket open for test purposes with the RC candidate.\n+Ticket open for test purposes with the RC candidate.\n \n-The upstream source tarball here : [https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz](https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz)\n+Upstream source tarball:\n+\n+- [https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz](https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz)\n``````\n",
    "created_at": "2018-04-08T07:12:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382809",
    "user": "https://github.com/slel"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,7 @@
 ... for the usual reasons.
 
-Ticcket open for test purposes with the RC candidate.
+Ticket open for test purposes with the RC candidate.
 
-The upstream source tarball here : [https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz](https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz)
+Upstream source tarball:
+
+- [https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz](https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz)
``````




---

archive/issue_comments_382810.json:
```json
{
    "body": "**Changing author** from \"Emmauel Charpentier\" to \"Emmanuel Charpentier\".",
    "created_at": "2018-04-08T07:12:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382810",
    "user": "https://github.com/slel"
}
```

**Changing author** from "Emmauel Charpentier" to "Emmanuel Charpentier".



---

archive/issue_comments_382811.json:
```json
{
    "body": "<a id='comment:11'></a>\nlet me test this on OSX.",
    "created_at": "2018-04-08T07:25:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382811",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>
let me test this on OSX.



---

archive/issue_comments_382812.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2018-04-08T08:14:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382812",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_events_221241.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-04-08T08:14:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24969#event-221241"
}
```



---

archive/issue_events_221242.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-04-08T08:14:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24969#event-221242"
}
```



---

archive/issue_comments_382813.json:
```json
{
    "body": "<a id='comment:12'></a>\nlooks good to me.",
    "created_at": "2018-04-08T08:14:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382813",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>
looks good to me.



---

archive/issue_comments_382814.json:
```json
{
    "body": "<a id='comment:13'></a>\nR 3.5.0 is released: https://stat.ethz.ch/pipermail/r-announce/2018/000628.html",
    "created_at": "2018-05-07T11:52:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382814",
    "user": "https://github.com/timokau"
}
```

<a id='comment:13'></a>
R 3.5.0 is released: https://stat.ethz.ch/pipermail/r-announce/2018/000628.html



---

archive/issue_comments_382815.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [gh-timokau](#comment%3A13):\n> R 3.5.0 is released: https://stat.ethz.ch/pipermail/r-announce/2018/000628.html\n\n\nUpgrading there is tempting, indeed. But...\n\nFrom the announcement :\n\n\n>    * chooseCRANmirror() and chooseBioCmirror() no longer have a\n>      useHTTPS argument, not needed now all R builds support https://\n>      downloads.\n\n\nThis currently implies OpenSSL. But we can't include it (its relicensing isn't yet isn't yet complete).\n\nTherefore, we have to implement #24107. Doing this \"brutally\" is easy. I've tried to find a way to allow for the wish of some developers to be able to compile without OpenSSL. This turns out to be hard...\n\nI'm tempted to explicitly depend on a systemwide  OpenSSL (stageb 1, as described in #24107), keeping in mind to add the possibility to add it in the Sage tree if necessary when relicensing is complete (stage 2, not yet started). This ignores the wish to compile sage without OpenSSL support.\n\nIn any case, having 3.4.4 in R is useful., I'm tempted to lobby for inclusion of the present ticket as it is in 8.3beta1, and to open a new ticket, depending on #24107, to upgrade to 3.5.0.\n\nAdvice ?",
    "created_at": "2018-05-10T05:58:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382815",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:14'></a>
Replying to [gh-timokau](#comment%3A13):
> R 3.5.0 is released: https://stat.ethz.ch/pipermail/r-announce/2018/000628.html


Upgrading there is tempting, indeed. But...

From the announcement :


>    * chooseCRANmirror() and chooseBioCmirror() no longer have a
>      useHTTPS argument, not needed now all R builds support https://
>      downloads.


This currently implies OpenSSL. But we can't include it (its relicensing isn't yet isn't yet complete).

Therefore, we have to implement #24107. Doing this "brutally" is easy. I've tried to find a way to allow for the wish of some developers to be able to compile without OpenSSL. This turns out to be hard...

I'm tempted to explicitly depend on a systemwide  OpenSSL (stageb 1, as described in #24107), keeping in mind to add the possibility to add it in the Sage tree if necessary when relicensing is complete (stage 2, not yet started). This ignores the wish to compile sage without OpenSSL support.

In any case, having 3.4.4 in R is useful., I'm tempted to lobby for inclusion of the present ticket as it is in 8.3beta1, and to open a new ticket, depending on #24107, to upgrade to 3.5.0.

Advice ?



---

archive/issue_comments_382816.json:
```json
{
    "body": "**Changing keywords** from \"r-project\" to \"r-project, upgrade\".",
    "created_at": "2018-05-10T10:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382816",
    "user": "https://github.com/slel"
}
```

**Changing keywords** from "r-project" to "r-project, upgrade".



---

archive/issue_comments_382817.json:
```json
{
    "body": "<a id='comment:15'></a>\nI agree with Emmanuel: let's get R 3.4.4 in Sage now,\nby merging it in Sage 8.3.beta1 if possible.\n\nThen let's open another ticket for upgrading to R 3.5.0.",
    "created_at": "2018-05-10T10:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382817",
    "user": "https://github.com/slel"
}
```

<a id='comment:15'></a>
I agree with Emmanuel: let's get R 3.4.4 in Sage now,
by merging it in Sage 8.3.beta1 if possible.

Then let's open another ticket for upgrading to R 3.5.0.



---

archive/issue_events_221243.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-12T11:47:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24969#event-221243"
}
```



---

archive/issue_events_221244.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-12T11:47:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24969#event-221244"
}
```



---

archive/issue_comments_382818.json:
```json
{
    "body": "**Changing branch** from \"[u/charpent/upgrade_r_to_3_4_4](https://github.com/sagemath/sagetrac-mirror/tree/u/charpent/upgrade_r_to_3_4_4)\" to \"[e55994100b4671c47215b544ff46f21db7f597f6](https://github.com/sagemath/sagetrac-mirror/commit/e55994100b4671c47215b544ff46f21db7f597f6)\".",
    "created_at": "2018-05-12T11:47:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-382818",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/charpent/upgrade_r_to_3_4_4](https://github.com/sagemath/sagetrac-mirror/tree/u/charpent/upgrade_r_to_3_4_4)" to "[e55994100b4671c47215b544ff46f21db7f597f6](https://github.com/sagemath/sagetrac-mirror/commit/e55994100b4671c47215b544ff46f21db7f597f6)".
