# Issue 24969: Upgrade to R 3.4.4

archive/issues_024732.json:
```json
{
    "body": "... for the usual reasons.\n\nTicket open for test purposes with the RC candidate.\n\nUpstream source tarball:\n\n- [https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz](https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz)\n\nCC:  @dimpase @embray @slel\n\nKeywords: r-project, upgrade\n\nBranch/Commit: e55994100b4671c47215b544ff46f21db7f597f6\n\nReviewer: Dima Pasechnik\n\nAuthor: Emmanuel Charpentier\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24969\n\n",
    "closed_at": "2018-05-12T11:47:38Z",
    "created_at": "2018-03-13T20:20:51Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Upgrade to R 3.4.4",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24969",
    "user": "https://github.com/EmmanuelCharpentier"
}
```
... for the usual reasons.

Ticket open for test purposes with the RC candidate.

Upstream source tarball:

- [https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz](https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz)

CC:  @dimpase @embray @slel

Keywords: r-project, upgrade

Branch/Commit: e55994100b4671c47215b544ff46f21db7f597f6

Reviewer: Dima Pasechnik

Author: Emmanuel Charpentier

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24969





---

archive/issue_comments_369667.json:
```json
{
    "body": "<a id='comment:2'></a>This version\n* Passes ptest long.\n* Sort-of passes its own testsuite (expected failures in internet).\n\n==> `needs_review`.\n\nAs usual, attention welcome on Cygwin and Macintoshes.",
    "created_at": "2018-03-15T13:57:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-369667",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:2'></a>This version
* Passes ptest long.
* Sort-of passes its own testsuite (expected failures in internet).

==> `needs_review`.

As usual, attention welcome on Cygwin and Macintoshes.



---

archive/issue_comments_369668.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n ... for the usual reasons.\n \n-Ticcket open for test purposes with the RC candidate. The upstream source will be added when available.\n+Ticcket open for test purposes with the RC candidate.\n \n-Keywords: r-projects\n+The upstream source tarball here : [https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz](https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz)\n \n Comment: 1\n \n``````\n",
    "created_at": "2018-03-15T13:57:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-369668",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
 ... for the usual reasons.
 
-Ticcket open for test purposes with the RC candidate. The upstream source will be added when available.
+Ticcket open for test purposes with the RC candidate.
 
-Keywords: r-projects
+The upstream source tarball here : [https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz](https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz)
 
 Comment: 1
 
``````




---

archive/issue_comments_369669.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-03-15T13:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-369669",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_369670.json:
```json
{
    "body": "<a id='comment:5'></a>Author Name field is empty ==> no patchbot\n\n---\nNew commits:",
    "created_at": "2018-03-16T10:58:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-369670",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>Author Name field is empty ==> no patchbot

---
New commits:



---

archive/issue_comments_369671.json:
```json
{
    "body": "<a id='comment:6'></a>and spkg ticket mean patchbot will not test anything, just the sha of the spkg",
    "created_at": "2018-03-16T10:59:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-369671",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>and spkg ticket mean patchbot will not test anything, just the sha of the spkg



---

archive/issue_comments_369672.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:5 chapoton]:\n> Author Name field is empty ==> no patchbot\n\n\nThanks. I am a multirecidivist about this one...\n\n> ---\n> New commits:\n> |                                                                                                                                          |                                                            |\n> |------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|\n> |[e559941](https://git.sagemath.org/sage.git/commit?id=e55994100b4671c47215b544ff46f21db7f597f6)|`R 3.4.4 : New tarball, rebased patches, updated checksums.`|\n\n\nHuh ? What does that means ?",
    "created_at": "2018-03-16T11:05:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-369672",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:8'></a>Replying to [comment:5 chapoton]:
> Author Name field is empty ==> no patchbot


Thanks. I am a multirecidivist about this one...

> ---
> New commits:
> |                                                                                                                                          |                                                            |
> |------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|
> |[e559941](https://git.sagemath.org/sage.git/commit?id=e55994100b4671c47215b544ff46f21db7f597f6)|`R 3.4.4 : New tarball, rebased patches, updated checksums.`|


Huh ? What does that means ?



---

archive/issue_comments_369673.json:
```json
{
    "body": "<a id='comment:9'></a>The \"new commit\" line is not by me, it was added automatically by trac",
    "created_at": "2018-03-16T12:08:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-369673",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>The "new commit" line is not by me, it was added automatically by trac



---

archive/issue_comments_369674.json:
```json
{
    "body": "Changing keywords from \"r-projects\" to \"r-project\".",
    "created_at": "2018-04-08T07:12:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-369674",
    "user": "https://github.com/slel"
}
```

Changing keywords from "r-projects" to "r-project".



---

archive/issue_comments_369675.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,10 @@\n+... for the usual reasons.\n \n+Ticket open for test purposes with the RC candidate.\n+\n+Upstream source tarball:\n+\n+- [https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz](https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz)\n \n Comment: 1\n \n``````\n",
    "created_at": "2018-04-08T07:12:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-369675",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,10 @@
+... for the usual reasons.
 
+Ticket open for test purposes with the RC candidate.
+
+Upstream source tarball:
+
+- [https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz](https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz)
 
 Comment: 1
 
``````




---

archive/issue_comments_369676.json:
```json
{
    "body": "<a id='comment:11'></a>let me test this on OSX.",
    "created_at": "2018-04-08T07:25:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-369676",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>let me test this on OSX.



---

archive/issue_comments_369677.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-04-08T08:14:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-369677",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_369678.json:
```json
{
    "body": "<a id='comment:12'></a>looks good to me.",
    "created_at": "2018-04-08T08:14:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-369678",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>looks good to me.



---

archive/issue_comments_369679.json:
```json
{
    "body": "<a id='comment:13'></a>R 3.5.0 is released: https://stat.ethz.ch/pipermail/r-announce/2018/000628.html",
    "created_at": "2018-05-07T11:52:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-369679",
    "user": "https://github.com/timokau"
}
```

<a id='comment:13'></a>R 3.5.0 is released: https://stat.ethz.ch/pipermail/r-announce/2018/000628.html



---

archive/issue_comments_369680.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:13 gh-timokau]:\n> R 3.5.0 is released: https://stat.ethz.ch/pipermail/r-announce/2018/000628.html\n\n\nUpgrading there is tempting, indeed. But...\n\nFrom the announcement :\n\n\n>    * chooseCRANmirror() and chooseBioCmirror() no longer have a\n>      useHTTPS argument, not needed now all R builds support https://\n>      downloads.\n\n\nThis currently implies OpenSSL. But we can't include it (its relicensing isn't yet isn't yet complete).\n\nTherefore, we have to implement #24107. Doing this \"brutally\" is easy. I've tried to find a way to allow for the wish of some developers to be able to compile without OpenSSL. This turns out to be hard...\n\nI'm tempted to explicitly depend on a systemwide  OpenSSL (stageb 1, as described in #24107), keeping in mind to add the possibility to add it in the Sage tree if necessary when relicensing is complete (stage 2, not yet started). This ignores the wish to compile sage without OpenSSL support.\n\nIn any case, having 3.4.4 in R is useful., I'm tempted to lobby for inclusion of the present ticket as it is in 8.3beta1, and to open a new ticket, depending on #24107, to upgrade to 3.5.0.\n\nAdvice ?",
    "created_at": "2018-05-10T05:58:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-369680",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:14'></a>Replying to [comment:13 gh-timokau]:
> R 3.5.0 is released: https://stat.ethz.ch/pipermail/r-announce/2018/000628.html


Upgrading there is tempting, indeed. But...

From the announcement :


>    * chooseCRANmirror() and chooseBioCmirror() no longer have a
>      useHTTPS argument, not needed now all R builds support https://
>      downloads.


This currently implies OpenSSL. But we can't include it (its relicensing isn't yet isn't yet complete).

Therefore, we have to implement #24107. Doing this "brutally" is easy. I've tried to find a way to allow for the wish of some developers to be able to compile without OpenSSL. This turns out to be hard...

I'm tempted to explicitly depend on a systemwide  OpenSSL (stageb 1, as described in #24107), keeping in mind to add the possibility to add it in the Sage tree if necessary when relicensing is complete (stage 2, not yet started). This ignores the wish to compile sage without OpenSSL support.

In any case, having 3.4.4 in R is useful., I'm tempted to lobby for inclusion of the present ticket as it is in 8.3beta1, and to open a new ticket, depending on #24107, to upgrade to 3.5.0.

Advice ?



---

archive/issue_comments_369681.json:
```json
{
    "body": "Changing keywords from \"r-project\" to \"r-project, upgrade\".",
    "created_at": "2018-05-10T10:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-369681",
    "user": "https://github.com/slel"
}
```

Changing keywords from "r-project" to "r-project, upgrade".



---

archive/issue_comments_369682.json:
```json
{
    "body": "<a id='comment:15'></a>I agree with Emmanuel: let's get R 3.4.4 in Sage now,\nby merging it in Sage 8.3.beta1 if possible.\n\nThen let's open another ticket for upgrading to R 3.5.0.",
    "created_at": "2018-05-10T10:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-369682",
    "user": "https://github.com/slel"
}
```

<a id='comment:15'></a>I agree with Emmanuel: let's get R 3.4.4 in Sage now,
by merging it in Sage 8.3.beta1 if possible.

Then let's open another ticket for upgrading to R 3.5.0.



---

archive/issue_events_062650.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-12T11:47:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24969#event-62650"
}
```



---

archive/issue_comments_369683.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-05-12T11:47:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24969#issuecomment-369683",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
