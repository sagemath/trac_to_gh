# Issue 24034: py3 : bad imports and QQ(string)

archive/issues_023797.json:
```json
{
    "body": "as another step\n\n**CC:**  @tscrim @jhpalmieri @a-andre @kiwifb\n\n**Branch/Commit:** [d75000decc97b67d356792c22c7d1da2ecbc2174](https://github.com/sagemath/sagetrac-mirror/commit/d75000decc97b67d356792c22c7d1da2ecbc2174)\n\n**Reviewer:** Jeroen Demeyer, John Palmieri\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24034\n\n",
    "closed_at": "2017-10-21T19:01:34Z",
    "created_at": "2017-10-13T14:14:23Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "py3 : bad imports and QQ(string)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24034",
    "user": "https://github.com/fchapoton"
}
```
as another step

**CC:**  @tscrim @jhpalmieri @a-andre @kiwifb

**Branch/Commit:** [d75000decc97b67d356792c22c7d1da2ecbc2174](https://github.com/sagemath/sagetrac-mirror/commit/d75000decc97b67d356792c22c7d1da2ecbc2174)

**Reviewer:** Jeroen Demeyer, John Palmieri

**Author:** Frédéric Chapoton

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/24034





---

archive/issue_comments_456402.json:
```json
{
    "body": "**Branch:** [u/chapoton/24034](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/24034)",
    "created_at": "2017-10-13T14:15:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456402",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/24034](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/24034)



---

archive/issue_comments_456403.json:
```json
{
    "body": "**Commit:** [a6ec38570b2f05403c7cdaf4ff1c5c14a29c011a](https://github.com/sagemath/sagetrac-mirror/commit/a6ec38570b2f05403c7cdaf4ff1c5c14a29c011a)",
    "created_at": "2017-10-13T14:15:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456403",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [a6ec38570b2f05403c7cdaf4ff1c5c14a29c011a](https://github.com/sagemath/sagetrac-mirror/commit/a6ec38570b2f05403c7cdaf4ff1c5c14a29c011a)



---

archive/issue_comments_456404.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6ec38570b2f05403c7cdaf4ff1c5c14a29c011a\">a6ec385</a></td><td><code>py3: some bad imports, and QQ calls on strings</code></td></tr></table>\n",
    "created_at": "2017-10-13T14:15:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456404",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6ec38570b2f05403c7cdaf4ff1c5c14a29c011a">a6ec385</a></td><td><code>py3: some bad imports, and QQ calls on strings</code></td></tr></table>




---

archive/issue_comments_456405.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2017-10-13T14:15:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456405",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_456406.json:
```json
{
    "body": "<a id='comment:2'></a>\nWhat's wrong with `QQ(string)`? Are we going to disallow that?",
    "created_at": "2017-10-13T14:39:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456406",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>
What's wrong with `QQ(string)`? Are we going to disallow that?



---

archive/issue_comments_456407.json:
```json
{
    "body": "**Changing status** from needs_review to needs_info.",
    "created_at": "2017-10-13T14:39:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456407",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_review to needs_info.



---

archive/issue_comments_456408.json:
```json
{
    "body": "<a id='comment:4'></a>\nwell, this screams (in the experimental python3 build that nobody seems to care about) that bytes is expected and str is given. I am just trying to move forward to more serious issues.\n\nMaybe the call QQ('string') will need to be fixed, but not now and here.",
    "created_at": "2017-10-13T14:41:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456408",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
well, this screams (in the experimental python3 build that nobody seems to care about) that bytes is expected and str is given. I am just trying to move forward to more serious issues.

Maybe the call QQ('string') will need to be fixed, but not now and here.



---

archive/issue_comments_456409.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [chapoton](#comment%3A4):\n> well, this screams (in the experimental python3 build that nobody seems to care about)\n\n\nThen just fix it in your experimental branch instead of an official Sage Trac ticket.",
    "created_at": "2017-10-13T14:45:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456409",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
Replying to [chapoton](#comment%3A4):
> well, this screams (in the experimental python3 build that nobody seems to care about)


Then just fix it in your experimental branch instead of an official Sage Trac ticket.



---

archive/issue_comments_456410.json:
```json
{
    "body": "<a id='comment:6'></a>\nThis I did for sure. But the change is so small that I assumed it would meet no objection.",
    "created_at": "2017-10-13T14:46:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456410",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
This I did for sure. But the change is so small that I assumed it would meet no objection.



---

archive/issue_comments_456411.json:
```json
{
    "body": "**Changing status** from needs_info to needs_review.",
    "created_at": "2017-10-13T14:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456411",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_info to needs_review.



---

archive/issue_comments_456412.json:
```json
{
    "body": "<a id='comment:8'></a>\nIn `lie_algebras/all.py`, could we change\n\n```\nfrom .import examples as lie_algebras\n```\nto\n\n```\nfrom . import examples as lie_algebras\n```",
    "created_at": "2017-10-13T18:06:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456412",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:8'></a>
In `lie_algebras/all.py`, could we change

```
from .import examples as lie_algebras
```
to

```
from . import examples as lie_algebras
```



---

archive/issue_comments_456413.json:
```json
{
    "body": "<a id='comment:9'></a>\nWhy don't other instances of `QQ(str)` fail? There are some for example in `rings/rational.pyx`.",
    "created_at": "2017-10-13T18:08:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456413",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:9'></a>
Why don't other instances of `QQ(str)` fail? There are some for example in `rings/rational.pyx`.



---

archive/issue_comments_456414.json:
```json
{
    "body": "<a id='comment:10'></a>\nI don't mind the QQ changes on this ticket, since it is not changing any doctests and not changing any functionality of Sage, just changing how a few rational numbers are initialized in the Sage code.",
    "created_at": "2017-10-13T18:12:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456414",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:10'></a>
I don't mind the QQ changes on this ticket, since it is not changing any doctests and not changing any functionality of Sage, just changing how a few rational numbers are initialized in the Sage code.



---

archive/issue_comments_456415.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d75000decc97b67d356792c22c7d1da2ecbc2174\">d75000d</a></td><td><code>trac 24034 detail</code></td></tr></table>\n",
    "created_at": "2017-10-13T18:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456415",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d75000decc97b67d356792c22c7d1da2ecbc2174">d75000d</a></td><td><code>trac 24034 detail</code></td></tr></table>




---

archive/issue_comments_456416.json:
```json
{
    "body": "**Changing commit** from \"[a6ec38570b2f05403c7cdaf4ff1c5c14a29c011a](https://github.com/sagemath/sagetrac-mirror/commit/a6ec38570b2f05403c7cdaf4ff1c5c14a29c011a)\" to \"[d75000decc97b67d356792c22c7d1da2ecbc2174](https://github.com/sagemath/sagetrac-mirror/commit/d75000decc97b67d356792c22c7d1da2ecbc2174)\".",
    "created_at": "2017-10-13T18:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456416",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a6ec38570b2f05403c7cdaf4ff1c5c14a29c011a](https://github.com/sagemath/sagetrac-mirror/commit/a6ec38570b2f05403c7cdaf4ff1c5c14a29c011a)" to "[d75000decc97b67d356792c22c7d1da2ecbc2174](https://github.com/sagemath/sagetrac-mirror/commit/d75000decc97b67d356792c22c7d1da2ecbc2174)".



---

archive/issue_comments_456417.json:
```json
{
    "body": "<a id='comment:12'></a>\nThanks.\n\nThis ticket is part of the effort to make sage start when built with python3. It turns out that one of these QQ(string) was sitting on the road. It does not pretend to fix anything else.\n\nReady to go, if patchbots say green ?",
    "created_at": "2017-10-13T18:34:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456417",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>
Thanks.

This ticket is part of the effort to make sage start when built with python3. It turns out that one of these QQ(string) was sitting on the road. It does not pretend to fix anything else.

Ready to go, if patchbots say green ?



---

archive/issue_comments_456418.json:
```json
{
    "body": "**Reviewer:** Jeroen Demeyer, John Palmieri",
    "created_at": "2017-10-13T19:00:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456418",
    "user": "https://github.com/jhpalmieri"
}
```

**Reviewer:** Jeroen Demeyer, John Palmieri



---

archive/issue_comments_456419.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2017-10-13T19:00:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456419",
    "user": "https://github.com/jhpalmieri"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_events_069491.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-10-21T19:01:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24034#event-69491"
}
```



---

archive/issue_comments_456420.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/24034](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/24034)\" to \"[d75000decc97b67d356792c22c7d1da2ecbc2174](https://github.com/sagemath/sagetrac-mirror/commit/d75000decc97b67d356792c22c7d1da2ecbc2174)\".",
    "created_at": "2017-10-21T19:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456420",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/24034](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/24034)" to "[d75000decc97b67d356792c22c7d1da2ecbc2174](https://github.com/sagemath/sagetrac-mirror/commit/d75000decc97b67d356792c22c7d1da2ecbc2174)".



---

archive/issue_comments_456421.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2017-10-21T19:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24034#issuecomment-456421",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed
