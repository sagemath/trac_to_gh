# Issue 24481: Replace PARI stackwarn.patch with upstream version

archive/issues_024244.json:
```json
{
    "assignees": [],
    "body": "Upstream PARI has finally accepted the patch `stackwarn.patch` which has been in Sage since about 2 years. However, the version which was accepted upstream is not exactly the patch from Sage. In this ticket, we replace `stackwarn.patch` by the version which was accepted upstream.\n\nCC:  @infinity0 @tobihan @videlec @defeo @embray @kiwifb\n\nBranch/Commit: **[8341087](https://github.com/sagemath/sagetrac-mirror/commit/83410877bbea2744794485d896c7d55ac37763ee)**\n\nReviewer: **Julian R\u00fcth**\n\nAuthor: **Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24481_\n\n",
    "closed_at": "2018-05-08T17:26:50Z",
    "created_at": "2018-01-07T09:11:52Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Replace PARI stackwarn.patch with upstream version",
    "type": "issue",
    "updated_at": "2018-05-08T17:26:50Z",
    "url": "https://github.com/sagemath/sage/issues/24481",
    "user": "https://github.com/jdemeyer"
}
```
Upstream PARI has finally accepted the patch `stackwarn.patch` which has been in Sage since about 2 years. However, the version which was accepted upstream is not exactly the patch from Sage. In this ticket, we replace `stackwarn.patch` by the version which was accepted upstream.

CC:  @infinity0 @tobihan @videlec @defeo @embray @kiwifb

Branch/Commit: **[8341087](https://github.com/sagemath/sagetrac-mirror/commit/83410877bbea2744794485d896c7d55ac37763ee)**

Reviewer: **Julian RÃ¼th**

Author: **Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/24481_





---

archive/issue_events_321117.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-07T09:11:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24481#event-321117"
}
```



---

archive/issue_events_321118.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-07T09:11:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24481#event-321118"
}
```



---

archive/issue_events_321119.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-07T09:11:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24481#event-321119"
}
```



---

archive/issue_events_321120.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-07T09:11:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24481#event-321120"
}
```



---

archive/issue_comments_373285.json:
```json
{
    "body": "Branch: **[u/jdemeyer/replace_pari_stackwarn_patch_with_upstream_version](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/replace_pari_stackwarn_patch_with_upstream_version)**",
    "created_at": "2018-01-07T09:43:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373285",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/replace_pari_stackwarn_patch_with_upstream_version](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/replace_pari_stackwarn_patch_with_upstream_version)**



---

archive/issue_comments_373286.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83410877bbea2744794485d896c7d55ac37763ee\">8341087</a></td><td><code>Replace PARI stackwarn.patch with upstream version</code></td></tr></table>\n",
    "created_at": "2018-01-07T09:47:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373286",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2" align="right">Comment 2</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83410877bbea2744794485d896c7d55ac37763ee">8341087</a></td><td><code>Replace PARI stackwarn.patch with upstream version</code></td></tr></table>




---

archive/issue_comments_373287.json:
```json
{
    "body": "Commit: **[8341087](https://github.com/sagemath/sagetrac-mirror/commit/83410877bbea2744794485d896c7d55ac37763ee)**",
    "created_at": "2018-01-07T09:47:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373287",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[8341087](https://github.com/sagemath/sagetrac-mirror/commit/83410877bbea2744794485d896c7d55ac37763ee)**



---

archive/issue_comments_373288.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Upstream PARI has finally accepted the patch `stackwarn.patch` which has been in Sage since about 2 years. Unfortunately, they decide to revert of that patch again. In this ticket, we replace `stackwarn.patch` by the version which was accepted upstream.\n+Upstream PARI has finally accepted the patch `stackwarn.patch` which has been in Sage since about 2 years. However, the version which was accepted upstream is not exactly the patch from Sage. In this ticket, we replace `stackwarn.patch` by the version which was accepted upstream.\n``````\n",
    "created_at": "2018-01-07T09:47:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373288",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Upstream PARI has finally accepted the patch `stackwarn.patch` which has been in Sage since about 2 years. Unfortunately, they decide to revert of that patch again. In this ticket, we replace `stackwarn.patch` by the version which was accepted upstream.
+Upstream PARI has finally accepted the patch `stackwarn.patch` which has been in Sage since about 2 years. However, the version which was accepted upstream is not exactly the patch from Sage. In this ticket, we replace `stackwarn.patch` by the version which was accepted upstream.
``````




---

archive/issue_events_321121.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-07T10:28:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24481#event-321121"
}
```



---

archive/issue_comments_373289.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nGenuine breakage on the Cygwin buildbot.",
    "created_at": "2018-01-10T09:58:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373289",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">Comment 5</div>

Genuine breakage on the Cygwin buildbot.



---

archive/issue_events_321122.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-10T09:58:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24481#event-321122"
}
```



---

archive/issue_events_321123.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-10T09:58:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24481#event-321123"
}
```



---

archive/issue_comments_373290.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nThe problem is that `lcalc` is run in a different process so it is not affected by the change in the `debugmem` default.",
    "created_at": "2018-01-10T10:01:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373290",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">Comment 6</div>

The problem is that `lcalc` is run in a different process so it is not affected by the change in the `debugmem` default.



---

archive/issue_comments_373291.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Upstream PARI has finally accepted the patch `stackwarn.patch` which has been in Sage since about 2 years. However, the version which was accepted upstream is not exactly the patch from Sage. In this ticket, we replace `stackwarn.patch` by the version which was accepted upstream.\n+Upstream PARI has finally accepted the patch `stackwarn.patch` which has been in Sage since about 2 years. However, the version which was accepted upstream is not exactly the patch from Sage. In this ticket, we replace `stackwarn.patch` by the version which was accepted upstream. Unfortunately, this requires a patch to lcalc instead.\n``````\n",
    "created_at": "2018-01-10T10:01:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373291",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Upstream PARI has finally accepted the patch `stackwarn.patch` which has been in Sage since about 2 years. However, the version which was accepted upstream is not exactly the patch from Sage. In this ticket, we replace `stackwarn.patch` by the version which was accepted upstream.
+Upstream PARI has finally accepted the patch `stackwarn.patch` which has been in Sage since about 2 years. However, the version which was accepted upstream is not exactly the patch from Sage. In this ticket, we replace `stackwarn.patch` by the version which was accepted upstream. Unfortunately, this requires a patch to lcalc instead.
``````




---

archive/issue_comments_373292.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Upstream PARI has finally accepted the patch `stackwarn.patch` which has been in Sage since about 2 years. However, the version which was accepted upstream is not exactly the patch from Sage. In this ticket, we replace `stackwarn.patch` by the version which was accepted upstream. Unfortunately, this requires a patch to lcalc instead.\n+Upstream PARI has finally accepted the patch `stackwarn.patch` which has been in Sage since about 2 years. However, the version which was accepted upstream is not exactly the patch from Sage. In this ticket, we replace `stackwarn.patch` by the version which was accepted upstream. Unfortunately, this requires a patch to lcalc instead (at least on Cygwin).\n``````\n",
    "created_at": "2018-01-10T10:03:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373292",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Upstream PARI has finally accepted the patch `stackwarn.patch` which has been in Sage since about 2 years. However, the version which was accepted upstream is not exactly the patch from Sage. In this ticket, we replace `stackwarn.patch` by the version which was accepted upstream. Unfortunately, this requires a patch to lcalc instead.
+Upstream PARI has finally accepted the patch `stackwarn.patch` which has been in Sage since about 2 years. However, the version which was accepted upstream is not exactly the patch from Sage. In this ticket, we replace `stackwarn.patch` by the version which was accepted upstream. Unfortunately, this requires a patch to lcalc instead (at least on Cygwin).
``````




---

archive/issue_comments_373293.json:
```json
{
    "body": "Changed commit from **[8341087](https://github.com/sagemath/sagetrac-mirror/commit/83410877bbea2744794485d896c7d55ac37763ee)** to **[f0856ab](https://github.com/sagemath/sagetrac-mirror/commit/f0856abe6692da610c0bec9f7a8ba2c130a9244f)**",
    "created_at": "2018-01-10T10:08:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373293",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8341087](https://github.com/sagemath/sagetrac-mirror/commit/83410877bbea2744794485d896c7d55ac37763ee)** to **[f0856ab](https://github.com/sagemath/sagetrac-mirror/commit/f0856abe6692da610c0bec9f7a8ba2c130a9244f)**



---

archive/issue_comments_373294.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0856abe6692da610c0bec9f7a8ba2c130a9244f\">f0856ab</a></td><td><code>Set DEBUGMEM=0 in lcalc</code></td></tr></table>\n",
    "created_at": "2018-01-10T10:08:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373294",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8" align="right">Comment 8</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0856abe6692da610c0bec9f7a8ba2c130a9244f">f0856ab</a></td><td><code>Set DEBUGMEM=0 in lcalc</code></td></tr></table>




---

archive/issue_events_321124.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-10T10:09:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24481#event-321124"
}
```



---

archive/issue_events_321125.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-10T10:09:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24481#event-321125"
}
```



---

archive/issue_comments_373295.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nI'm not sure I understand the connection to Cygwin--is it just because memory debugging messages are more likely to arise there?",
    "created_at": "2018-01-10T12:46:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373295",
    "user": "https://github.com/embray"
}
```

<div id="comment:11" align="right">Comment 11</div>

I'm not sure I understand the connection to Cygwin--is it just because memory debugging messages are more likely to arise there?



---

archive/issue_comments_373296.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nReplying to [@embray](#comment%3A11):\n> I'm not sure I understand the connection to Cygwin--is it just because memory debugging messages are more likely to arise there?\n\nI have no idea why... I just noticed failures on the Cygwin patchbot and not on others.\n\nIn any case, the current branch should be tested on Cygwin before positive review can be given.",
    "created_at": "2018-01-10T12:57:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373296",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">Comment 12</div>

Replying to [@embray](#comment%3A11):
> I'm not sure I understand the connection to Cygwin--is it just because memory debugging messages are more likely to arise there?

I have no idea why... I just noticed failures on the Cygwin patchbot and not on others.

In any case, the current branch should be tested on Cygwin before positive review can be given.



---

archive/issue_comments_373297.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nOh I see--neat.  I've been having so many problems with the patchbot lately I was sort of surprised to see that it produced a useful result.  That's good to know...",
    "created_at": "2018-01-10T13:01:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373297",
    "user": "https://github.com/embray"
}
```

<div id="comment:13" align="right">Comment 13</div>

Oh I see--neat.  I've been having so many problems with the patchbot lately I was sort of surprised to see that it produced a useful result.  That's good to know...



---

archive/issue_comments_373298.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nSee related #24516",
    "created_at": "2018-01-11T15:35:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373298",
    "user": "https://github.com/embray"
}
```

<div id="comment:14" align="right">Comment 14</div>

See related #24516



---

archive/issue_comments_373299.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nActually, #24516 is unrelated. I *thought* that it was related because both this and #24516 deal with memory allocation warnings in PARI. But the warnings are different. This ticket deals with debug messages which are shown whenever the PARI stack size changes (and which can be disabled). The other ticket #24516 deals with messages which are shown when an allocation failed (and which cannot be disabled)",
    "created_at": "2018-01-11T15:44:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373299",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">Comment 15</div>

Actually, #24516 is unrelated. I *thought* that it was related because both this and #24516 deal with memory allocation warnings in PARI. But the warnings are different. This ticket deals with debug messages which are shown whenever the PARI stack size changes (and which can be disabled). The other ticket #24516 deals with messages which are shown when an allocation failed (and which cannot be disabled)



---

archive/issue_comments_373300.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-01-11T15:53:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373300",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16" align="right">Comment 16</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_373301.json:
```json
{
    "body": "Changed commit from **[f0856ab](https://github.com/sagemath/sagetrac-mirror/commit/f0856abe6692da610c0bec9f7a8ba2c130a9244f)** to **[8341087](https://github.com/sagemath/sagetrac-mirror/commit/83410877bbea2744794485d896c7d55ac37763ee)**",
    "created_at": "2018-01-11T15:53:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373301",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f0856ab](https://github.com/sagemath/sagetrac-mirror/commit/f0856abe6692da610c0bec9f7a8ba2c130a9244f)** to **[8341087](https://github.com/sagemath/sagetrac-mirror/commit/83410877bbea2744794485d896c7d55ac37763ee)**



---

archive/issue_comments_373302.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nI removed the last commit because it is not needed for this ticket.",
    "created_at": "2018-01-11T15:54:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373302",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">Comment 17</div>

I removed the last commit because it is not needed for this ticket.



---

archive/issue_comments_373303.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Upstream PARI has finally accepted the patch `stackwarn.patch` which has been in Sage since about 2 years. However, the version which was accepted upstream is not exactly the patch from Sage. In this ticket, we replace `stackwarn.patch` by the version which was accepted upstream. Unfortunately, this requires a patch to lcalc instead (at least on Cygwin).\n+Upstream PARI has finally accepted the patch `stackwarn.patch` which has been in Sage since about 2 years. However, the version which was accepted upstream is not exactly the patch from Sage. In this ticket, we replace `stackwarn.patch` by the version which was accepted upstream.\n``````\n",
    "created_at": "2018-01-11T15:54:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373303",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Upstream PARI has finally accepted the patch `stackwarn.patch` which has been in Sage since about 2 years. However, the version which was accepted upstream is not exactly the patch from Sage. In this ticket, we replace `stackwarn.patch` by the version which was accepted upstream. Unfortunately, this requires a patch to lcalc instead (at least on Cygwin).
+Upstream PARI has finally accepted the patch `stackwarn.patch` which has been in Sage since about 2 years. However, the version which was accepted upstream is not exactly the patch from Sage. In this ticket, we replace `stackwarn.patch` by the version which was accepted upstream.
``````




---

archive/issue_comments_373304.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nJust a quick question, is there a particular reason for updating the patch rather than updating the snapshot of pari?",
    "created_at": "2018-01-23T20:58:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373304",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:19" align="right">Comment 19</div>

Just a quick question, is there a particular reason for updating the patch rather than updating the snapshot of pari?



---

archive/issue_comments_373305.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nReplying to [@kiwifb](#comment%3A19):\n> Just a quick question, is there a particular reason for updating the patch rather than updating the snapshot of pari?\n\nUpdating the patch is trivially simple compared to updating PARI as a whole. That is the reason.",
    "created_at": "2018-01-23T21:24:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373305",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">Comment 20</div>

Replying to [@kiwifb](#comment%3A19):
> Just a quick question, is there a particular reason for updating the patch rather than updating the snapshot of pari?

Updating the patch is trivially simple compared to updating PARI as a whole. That is the reason.



---

archive/issue_comments_373306.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nThe last time the cygwin patchbot seemed to be happy. Has this been fixed now?",
    "created_at": "2018-04-03T20:25:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373306",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:21" align="right">Comment 21</div>

The last time the cygwin patchbot seemed to be happy. Has this been fixed now?



---

archive/issue_events_321126.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-04-03T20:25:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24481#event-321126"
}
```



---

archive/issue_events_321127.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-04-03T20:25:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24481#event-321127"
}
```



---

archive/issue_comments_373307.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nReplying to [@saraedum](#comment%3A21):\n> Has *this* been fixed now?\n\nHas what been fixed?",
    "created_at": "2018-04-03T20:29:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373307",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">Comment 22</div>

Replying to [@saraedum](#comment%3A21):
> Has *this* been fixed now?

Has what been fixed?



---

archive/issue_comments_373308.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nReplying to [@jdemeyer](#comment%3A22):\n> Replying to [@saraedum](#comment%3A21):\n> > Has *this* been fixed now?\n\n> \n> Has what been fixed?\n\nSorry: Have the cygwin issues mentioned above been fixed now? i.e., could this be merged now?",
    "created_at": "2018-04-03T21:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373308",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:23" align="right">Comment 23</div>

Replying to [@jdemeyer](#comment%3A22):
> Replying to [@saraedum](#comment%3A21):
> > Has *this* been fixed now?

> 
> Has what been fixed?

Sorry: Have the cygwin issues mentioned above been fixed now? i.e., could this be merged now?



---

archive/issue_comments_373309.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nReplying to [@saraedum](#comment%3A23):\n> Have the cygwin issues mentioned above been fixed now?\n\nYes, they turned out to be unrelated to this ticket (that is also why I did not understand your question).",
    "created_at": "2018-04-04T05:27:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373309",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">Comment 24</div>

Replying to [@saraedum](#comment%3A23):
> Have the cygwin issues mentioned above been fixed now?

Yes, they turned out to be unrelated to this ticket (that is also why I did not understand your question).



---

archive/issue_events_321128.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-04T05:27:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24481#event-321128"
}
```



---

archive/issue_events_321129.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-04T05:27:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24481#event-321129"
}
```



---

archive/issue_events_321130.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-04-04T20:28:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24481#event-321130"
}
```



---

archive/issue_events_321131.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-04-04T20:28:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24481#event-321131"
}
```



---

archive/issue_comments_373310.json:
```json
{
    "body": "Reviewer: **Julian R\u00fcth**",
    "created_at": "2018-04-04T20:28:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373310",
    "user": "https://github.com/saraedum"
}
```

Reviewer: **Julian RÃ¼th**



---

archive/issue_events_321132.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-08T17:26:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24481#event-321132"
}
```



---

archive/issue_events_321133.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "87dcf8209dd8b546de353c7eb3cf61b53c5d1a74",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-05-08T17:26:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24481#event-321133"
}
```



---

archive/issue_comments_373311.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/replace_pari_stackwarn_patch_with_upstream_version](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/replace_pari_stackwarn_patch_with_upstream_version)** to **[8341087](https://github.com/sagemath/sagetrac-mirror/commit/83410877bbea2744794485d896c7d55ac37763ee)**",
    "created_at": "2018-05-08T17:26:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24481#issuecomment-373311",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/replace_pari_stackwarn_patch_with_upstream_version](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/replace_pari_stackwarn_patch_with_upstream_version)** to **[8341087](https://github.com/sagemath/sagetrac-mirror/commit/83410877bbea2744794485d896c7d55ac37763ee)**
