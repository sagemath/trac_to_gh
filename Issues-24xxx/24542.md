# Issue 24542: Binary relations in Sage implemented

archive/issues_024305.json:
```json
{
    "body": "I have implemented binary relations (including composition of relations, set theoretic operations, conversion back/forth to graphs and to posets, etc.)\n\nBranch: [public/relations](https://github.com/sagemath/sagetrac-mirror/tree/public/relations)\n\nCommit: [aa1564c771854f43d4c5dc4a0fbab97ffb448c03](https://github.com/sagemath/sagetrac-mirror/commit/aa1564c771854f43d4c5dc4a0fbab97ffb448c03)\n\nAuthor: Victor Porton\n\nStatus: needs_work\n\nIssue created by migration from https://trac.sagemath.org/ticket/24542\n\n",
    "created_at": "2018-01-14T23:41:50Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-feature",
    "title": "Binary relations in Sage implemented",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24542",
    "user": "https://trac.sagemath.org/admin/accounts/users/porton"
}
```
I have implemented binary relations (including composition of relations, set theoretic operations, conversion back/forth to graphs and to posets, etc.)

Branch: [public/relations](https://github.com/sagemath/sagetrac-mirror/tree/public/relations)

Commit: [aa1564c771854f43d4c5dc4a0fbab97ffb448c03](https://github.com/sagemath/sagetrac-mirror/commit/aa1564c771854f43d4c5dc4a0fbab97ffb448c03)

Author: Victor Porton

Status: needs_work

Issue created by migration from https://trac.sagemath.org/ticket/24542





---

archive/issue_comments_466816.json:
```json
{
    "body": "Attachment [relations.patch](tarball://root/attachments/some-uuid/ticket24542/relations.patch) by porton created at 2018-01-14 23:42:16\n\nPatch for Sage \"develop\" branch",
    "created_at": "2018-01-14T23:42:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466816",
    "user": "https://trac.sagemath.org/admin/accounts/users/porton"
}
```

Attachment [relations.patch](tarball://root/attachments/some-uuid/ticket24542/relations.patch) by porton created at 2018-01-14 23:42:16

Patch for Sage "develop" branch



---

archive/issue_comments_466817.json:
```json
{
    "body": "Changing branch from \"[develop](https://github.com/sagemath/sagetrac-mirror/tree/develop)\" to \"\"",
    "created_at": "2018-01-15T18:38:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466817",
    "user": "https://trac.sagemath.org/admin/accounts/users/porton"
}
```

Changing branch from "[develop](https://github.com/sagemath/sagetrac-mirror/tree/develop)" to ""



---

archive/issue_comments_466818.json:
```json
{
    "body": "Changing commit from \"[a1782046e2b38388649678926edf093edad867f8](https://github.com/sagemath/sagetrac-mirror/commit/a1782046e2b38388649678926edf093edad867f8)\" to \"\"",
    "created_at": "2018-01-15T18:38:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466818",
    "user": "https://trac.sagemath.org/admin/accounts/users/porton"
}
```

Changing commit from "[a1782046e2b38388649678926edf093edad867f8](https://github.com/sagemath/sagetrac-mirror/commit/a1782046e2b38388649678926edf093edad867f8)" to ""



---

archive/issue_comments_466819.json:
```json
{
    "body": "Branch: [public/relations](https://github.com/sagemath/sagetrac-mirror/tree/public/relations)",
    "created_at": "2018-01-15T18:42:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466819",
    "user": "https://trac.sagemath.org/admin/accounts/users/porton"
}
```

Branch: [public/relations](https://github.com/sagemath/sagetrac-mirror/tree/public/relations)



---

archive/issue_comments_466820.json:
```json
{
    "body": "Changing branch from \"[public/relations](https://github.com/sagemath/sagetrac-mirror/tree/public/relations)\" to \"[develop](https://github.com/sagemath/sagetrac-mirror/tree/develop)\"",
    "created_at": "2018-01-15T18:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466820",
    "user": "https://trac.sagemath.org/admin/accounts/users/porton"
}
```

Changing branch from "[public/relations](https://github.com/sagemath/sagetrac-mirror/tree/public/relations)" to "[develop](https://github.com/sagemath/sagetrac-mirror/tree/develop)"



---

archive/issue_comments_466821.json:
```json
{
    "body": "Commit: [a1782046e2b38388649678926edf093edad867f8](https://github.com/sagemath/sagetrac-mirror/commit/a1782046e2b38388649678926edf093edad867f8)",
    "created_at": "2018-01-15T18:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466821",
    "user": "https://trac.sagemath.org/admin/accounts/users/porton"
}
```

Commit: [a1782046e2b38388649678926edf093edad867f8](https://github.com/sagemath/sagetrac-mirror/commit/a1782046e2b38388649678926edf093edad867f8)



---

archive/issue_comments_466822.json:
```json
{
    "body": "Changing branch from \"[develop](https://github.com/sagemath/sagetrac-mirror/tree/develop)\" to \"[public/relations](https://github.com/sagemath/sagetrac-mirror/tree/public/relations)\"",
    "created_at": "2018-01-15T18:50:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466822",
    "user": "https://trac.sagemath.org/admin/accounts/users/porton"
}
```

Changing branch from "[develop](https://github.com/sagemath/sagetrac-mirror/tree/develop)" to "[public/relations](https://github.com/sagemath/sagetrac-mirror/tree/public/relations)"



---

archive/issue_comments_466823.json:
```json
{
    "body": "Changing commit from \"[a1782046e2b38388649678926edf093edad867f8](https://github.com/sagemath/sagetrac-mirror/commit/a1782046e2b38388649678926edf093edad867f8)\" to \"\"",
    "created_at": "2018-01-15T18:50:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466823",
    "user": "https://trac.sagemath.org/admin/accounts/users/porton"
}
```

Changing commit from "[a1782046e2b38388649678926edf093edad867f8](https://github.com/sagemath/sagetrac-mirror/commit/a1782046e2b38388649678926edf093edad867f8)" to ""



---

archive/issue_comments_466824.json:
```json
{
    "body": "Commit: [bdf75491bc8944111a8c2b6f66d589f4253b59d0](https://github.com/sagemath/sagetrac-mirror/commit/bdf75491bc8944111a8c2b6f66d589f4253b59d0)",
    "created_at": "2018-01-15T18:52:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466824",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Commit: [bdf75491bc8944111a8c2b6f66d589f4253b59d0](https://github.com/sagemath/sagetrac-mirror/commit/bdf75491bc8944111a8c2b6f66d589f4253b59d0)



---

archive/issue_comments_466825.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                           |                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[0ff39ae](https://github.com/sagemath/sagetrac-mirror/commit/0ff39ae47fd45ea70375f6fae86afbc3f2825d4d)|`to_graph() -> to_digraph()`|\n|[fc900dc](https://github.com/sagemath/sagetrac-mirror/commit/fc900dc572b717fee220d335a14475c091cd391d)|`methods made properties`|\n|[73e5c98](https://github.com/sagemath/sagetrac-mirror/commit/73e5c986d4b45ef35ccea1e286bb4eeff59f797d)|`transitive_closure`|\n|[ef76125](https://github.com/sagemath/sagetrac-mirror/commit/ef761254d4dae7de08dc6eb3b668e3f7adc76a4f)|`removed a `@`property`|\n|[72628f5](https://github.com/sagemath/sagetrac-mirror/commit/72628f50b18f969463e8dae0c83bcc6b335e4b45)|`binary relations to/from (di)graphs`|\n|[f5a9be2](https://github.com/sagemath/sagetrac-mirror/commit/f5a9be2baa5570b5c43db83a9d3afbeec5a7b253)|`(pre)order tests`|\n|[bcd24cd](https://github.com/sagemath/sagetrac-mirror/commit/bcd24cd0f033b53338282fc09d529be1e7e276cd)|`TODO comment`|\n|[43d743a](https://github.com/sagemath/sagetrac-mirror/commit/43d743af61b459070e1269f132a7ed06019a73cb)|`added cartesian product and identity relation`|\n|[7714732](https://github.com/sagemath/sagetrac-mirror/commit/771473231414ad0f89d909aac4ed52c33b3f10af)|`integration of posets with binary relations`|\n|[bdf7549](https://github.com/sagemath/sagetrac-mirror/commit/bdf75491bc8944111a8c2b6f66d589f4253b59d0)|`doc comments changes`|",
    "created_at": "2018-01-15T18:52:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466825",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                           |                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[0ff39ae](https://github.com/sagemath/sagetrac-mirror/commit/0ff39ae47fd45ea70375f6fae86afbc3f2825d4d)|`to_graph() -> to_digraph()`|
|[fc900dc](https://github.com/sagemath/sagetrac-mirror/commit/fc900dc572b717fee220d335a14475c091cd391d)|`methods made properties`|
|[73e5c98](https://github.com/sagemath/sagetrac-mirror/commit/73e5c986d4b45ef35ccea1e286bb4eeff59f797d)|`transitive_closure`|
|[ef76125](https://github.com/sagemath/sagetrac-mirror/commit/ef761254d4dae7de08dc6eb3b668e3f7adc76a4f)|`removed a `@`property`|
|[72628f5](https://github.com/sagemath/sagetrac-mirror/commit/72628f50b18f969463e8dae0c83bcc6b335e4b45)|`binary relations to/from (di)graphs`|
|[f5a9be2](https://github.com/sagemath/sagetrac-mirror/commit/f5a9be2baa5570b5c43db83a9d3afbeec5a7b253)|`(pre)order tests`|
|[bcd24cd](https://github.com/sagemath/sagetrac-mirror/commit/bcd24cd0f033b53338282fc09d529be1e7e276cd)|`TODO comment`|
|[43d743a](https://github.com/sagemath/sagetrac-mirror/commit/43d743af61b459070e1269f132a7ed06019a73cb)|`added cartesian product and identity relation`|
|[7714732](https://github.com/sagemath/sagetrac-mirror/commit/771473231414ad0f89d909aac4ed52c33b3f10af)|`integration of posets with binary relations`|
|[bdf7549](https://github.com/sagemath/sagetrac-mirror/commit/bdf75491bc8944111a8c2b6f66d589f4253b59d0)|`doc comments changes`|



---

archive/issue_comments_466826.json:
```json
{
    "body": "Author: Victor Porton",
    "created_at": "2018-01-15T18:54:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466826",
    "user": "https://trac.sagemath.org/admin/accounts/users/porton"
}
```

Author: Victor Porton



---

archive/issue_comments_466827.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1 @@\n I have implemented binary relations (including composition of relations, set theoretic operations, conversion back/forth to graphs and to posets, etc.)\n-\n-The patch is attached.\n``````\n",
    "created_at": "2018-01-15T18:54:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466827",
    "user": "https://trac.sagemath.org/admin/accounts/users/porton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1 @@
 I have implemented binary relations (including composition of relations, set theoretic operations, conversion back/forth to graphs and to posets, etc.)
-
-The patch is attached.
``````




---

archive/issue_comments_466828.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-01-15T18:55:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466828",
    "user": "https://trac.sagemath.org/admin/accounts/users/porton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_466829.json:
```json
{
    "body": "<a id='comment:8'></a>\nThis could be quite useful.  It looks like you need quite a bit of documentation/examples for the many methods involved.    Especially the back/forth with posets, if robust, would be great - see e.g. [this stack overflow question](https://stackoverflow.com/questions/48198902/how-to-compose-two-partial-orders-in-sage).",
    "created_at": "2018-02-13T16:39:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466829",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>
This could be quite useful.  It looks like you need quite a bit of documentation/examples for the many methods involved.    Especially the back/forth with posets, if robust, would be great - see e.g. [this stack overflow question](https://stackoverflow.com/questions/48198902/how-to-compose-two-partial-orders-in-sage).



---

archive/issue_comments_466830.json:
```json
{
    "body": "Changing commit from \"[bdf75491bc8944111a8c2b6f66d589f4253b59d0](https://github.com/sagemath/sagetrac-mirror/commit/bdf75491bc8944111a8c2b6f66d589f4253b59d0)\" to \"[5fc5429bdbc56937b8b5839f40e4b0ee4ff93dc1](https://github.com/sagemath/sagetrac-mirror/commit/5fc5429bdbc56937b8b5839f40e4b0ee4ff93dc1)\"",
    "created_at": "2018-05-22T23:59:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466830",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[bdf75491bc8944111a8c2b6f66d589f4253b59d0](https://github.com/sagemath/sagetrac-mirror/commit/bdf75491bc8944111a8c2b6f66d589f4253b59d0)" to "[5fc5429bdbc56937b8b5839f40e4b0ee4ff93dc1](https://github.com/sagemath/sagetrac-mirror/commit/5fc5429bdbc56937b8b5839f40e4b0ee4ff93dc1)"



---

archive/issue_comments_466831.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[5fc5429](https://github.com/sagemath/sagetrac-mirror/commit/5fc5429bdbc56937b8b5839f40e4b0ee4ff93dc1)|`added FiniteBinaryRelation.{image,reverse_image`}|",
    "created_at": "2018-05-22T23:59:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466831",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[5fc5429](https://github.com/sagemath/sagetrac-mirror/commit/5fc5429bdbc56937b8b5839f40e4b0ee4ff93dc1)|`added FiniteBinaryRelation.{image,reverse_image`}|



---

archive/issue_comments_466832.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[aa1564c](https://github.com/sagemath/sagetrac-mirror/commit/aa1564c771854f43d4c5dc4a0fbab97ffb448c03)|`added FiniteBinaryRelation.enumerate_all()`|",
    "created_at": "2018-05-23T01:19:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466832",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[aa1564c](https://github.com/sagemath/sagetrac-mirror/commit/aa1564c771854f43d4c5dc4a0fbab97ffb448c03)|`added FiniteBinaryRelation.enumerate_all()`|



---

archive/issue_comments_466833.json:
```json
{
    "body": "Changing commit from \"[5fc5429bdbc56937b8b5839f40e4b0ee4ff93dc1](https://github.com/sagemath/sagetrac-mirror/commit/5fc5429bdbc56937b8b5839f40e4b0ee4ff93dc1)\" to \"[aa1564c771854f43d4c5dc4a0fbab97ffb448c03](https://github.com/sagemath/sagetrac-mirror/commit/aa1564c771854f43d4c5dc4a0fbab97ffb448c03)\"",
    "created_at": "2018-05-23T01:19:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466833",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[5fc5429bdbc56937b8b5839f40e4b0ee4ff93dc1](https://github.com/sagemath/sagetrac-mirror/commit/5fc5429bdbc56937b8b5839f40e4b0ee4ff93dc1)" to "[aa1564c771854f43d4c5dc4a0fbab97ffb448c03](https://github.com/sagemath/sagetrac-mirror/commit/aa1564c771854f43d4c5dc4a0fbab97ffb448c03)"



---

archive/issue_comments_466834.json:
```json
{
    "body": "<a id='comment:11'></a>\nI'm surprised something like this isn't already in Sage though that's not something I'm really qualified to comment on.  I suspect there's also probably a better place to put this than starting a new top-level package.\n\nI can make some minor nitpicks on the code itself if you think that would be helpful.",
    "created_at": "2018-05-23T12:52:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466834",
    "user": "https://github.com/embray"
}
```

<a id='comment:11'></a>
I'm surprised something like this isn't already in Sage though that's not something I'm really qualified to comment on.  I suspect there's also probably a better place to put this than starting a new top-level package.

I can make some minor nitpicks on the code itself if you think that would be helpful.



---

archive/issue_comments_466835.json:
```json
{
    "body": "<a id='comment:12'></a>\n`@`embray I don't know if your nitpicks are good. After all, I know nothing about you. You decide if you do the work.\n\nI am going to add yet one feature: Converting a function into a binary relation. However I will be busy today. I have not yet dived into details of this feature.",
    "created_at": "2018-05-23T14:36:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466835",
    "user": "https://trac.sagemath.org/admin/accounts/users/porton"
}
```

<a id='comment:12'></a>
`@`embray I don't know if your nitpicks are good. After all, I know nothing about you. You decide if you do the work.

I am going to add yet one feature: Converting a function into a binary relation. However I will be busy today. I have not yet dived into details of this feature.



---

archive/issue_comments_466836.json:
```json
{
    "body": "<a id='comment:13'></a>\nThere is interest for this, see\n\n- [Ask Sage question 45079: Binary relations](https://ask.sagemath.org/question/45079)",
    "created_at": "2019-01-21T09:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466836",
    "user": "https://github.com/slel"
}
```

<a id='comment:13'></a>
There is interest for this, see

- [Ask Sage question 45079: Binary relations](https://ask.sagemath.org/question/45079)



---

archive/issue_comments_466837.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [embray](#comment%3A11):\n> I suspect there's also probably a better place to put this than starting a new top-level package.\n\n\nI agree. A top-level package is supposed to contain many modules and/or packages. \n\nI suggest to put this module into `sage.combinat.relations`. \n\nOn the other hand, `sage.sets.relations` would be a bad choice as `sage.sets` is concerned with generic sets.",
    "created_at": "2019-02-18T06:48:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466837",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:14'></a>
Replying to [embray](#comment%3A11):
> I suspect there's also probably a better place to put this than starting a new top-level package.


I agree. A top-level package is supposed to contain many modules and/or packages. 

I suggest to put this module into `sage.combinat.relations`. 

On the other hand, `sage.sets.relations` would be a bad choice as `sage.sets` is concerned with generic sets.



---

archive/issue_comments_466838.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-03-01T00:56:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-466838",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to needs_work.
