# Issue 24322: Use new-style GlobalOptions

archive/issues_024085.json:
```json
{
    "body": "The syntax\n\n```\noptions=GlobalOptions(...\n    doc=\"\"\"\n    EXAMPLES::\n\n        sage: #doctest here\n    \"\"\"\n)\n```\nhas the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.\n\nThis ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some trivial ones are fixed, others are marked as `# known bug` with the following tickets opened: #24323, #24324, #24325. #24326\n\nCC:  @AndrewAtLarge @tscrim\n\nBranch/Commit: 577504b4686476efe14cd193c22cdbd0031f9a40\n\nReviewer: Travis Scrimshaw\n\nAuthor: Jeroen Demeyer\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24322\n\n",
    "closed_at": "2017-12-13T17:37:29Z",
    "created_at": "2017-12-04T10:44:57Z",
    "labels": [
        "component: doctest coverage"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Use new-style GlobalOptions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24322",
    "user": "https://github.com/jdemeyer"
}
```
The syntax

```
options=GlobalOptions(...
    doc="""
    EXAMPLES::

        sage: #doctest here
    """
)
```
has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.

This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some trivial ones are fixed, others are marked as `# known bug` with the following tickets opened: #24323, #24324, #24325. #24326

CC:  @AndrewAtLarge @tscrim

Branch/Commit: 577504b4686476efe14cd193c22cdbd0031f9a40

Reviewer: Travis Scrimshaw

Author: Jeroen Demeyer

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24322





---

archive/issue_comments_460383.json:
```json
{
    "body": "Changing component from combinatorics to doctest coverage.",
    "created_at": "2017-12-04T11:12:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24322#issuecomment-460383",
    "user": "https://github.com/jdemeyer"
}
```

Changing component from combinatorics to doctest coverage.



---

archive/issue_comments_460384.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,17 @@\n-Apply #23238\n+The syntax\n+\n+```\n+options=GlobalOptions(...\n+    doc=\"\"\"\n+    EXAMPLES::\n+\n+        sage: #doctest here\n+    \"\"\"\n+)\n+```\n+has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.\n+\n+This ticket uses the new syntax in all cases where the `GlobalOptions` has doctests.\n \n Author: Jeroen Demeyer\n \n``````\n",
    "created_at": "2017-12-04T11:12:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24322#issuecomment-460384",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,17 @@
-Apply #23238
+The syntax
+
+```
+options=GlobalOptions(...
+    doc="""
+    EXAMPLES::
+
+        sage: #doctest here
+    """
+)
+```
+has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.
+
+This ticket uses the new syntax in all cases where the `GlobalOptions` has doctests.
 
 Author: Jeroen Demeyer
 
``````




---

archive/issue_comments_460385.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,17 @@\n+The syntax\n \n+```\n+options=GlobalOptions(...\n+    doc=\"\"\"\n+    EXAMPLES::\n+\n+        sage: #doctest here\n+    \"\"\"\n+)\n+```\n+has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.\n+\n+This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures: #24323, #24324, #24325.\n \n Author: Jeroen Demeyer\n \n``````\n",
    "created_at": "2017-12-04T11:29:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24322#issuecomment-460385",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,17 @@
+The syntax
 
+```
+options=GlobalOptions(...
+    doc="""
+    EXAMPLES::
+
+        sage: #doctest here
+    """
+)
+```
+has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.
+
+This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures: #24323, #24324, #24325.
 
 Author: Jeroen Demeyer
 
``````




---

archive/issue_comments_460386.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,17 @@\n+The syntax\n \n+```\n+options=GlobalOptions(...\n+    doc=\"\"\"\n+    EXAMPLES::\n+\n+        sage: #doctest here\n+    \"\"\"\n+)\n+```\n+has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.\n+\n+This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some easy ones are fixed, others are postponed to other tickets: #24323, #24324, #24325.\n \n Author: Jeroen Demeyer\n \n``````\n",
    "created_at": "2017-12-04T12:43:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24322#issuecomment-460386",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,17 @@
+The syntax
 
+```
+options=GlobalOptions(...
+    doc="""
+    EXAMPLES::
+
+        sage: #doctest here
+    """
+)
+```
+has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.
+
+This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some easy ones are fixed, others are postponed to other tickets: #24323, #24324, #24325.
 
 Author: Jeroen Demeyer
 
``````




---

archive/issue_comments_460387.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,17 @@\n+The syntax\n \n+```\n+options=GlobalOptions(...\n+    doc=\"\"\"\n+    EXAMPLES::\n+\n+        sage: #doctest here\n+    \"\"\"\n+)\n+```\n+has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.\n+\n+This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some trivial ones are fixed, others are postponed to other tickets: #24323, #24324, #24325. #24326\n \n Author: Jeroen Demeyer\n \n``````\n",
    "created_at": "2017-12-04T12:50:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24322#issuecomment-460387",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,17 @@
+The syntax
 
+```
+options=GlobalOptions(...
+    doc="""
+    EXAMPLES::
+
+        sage: #doctest here
+    """
+)
+```
+has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.
+
+This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some trivial ones are fixed, others are postponed to other tickets: #24323, #24324, #24325. #24326
 
 Author: Jeroen Demeyer
 
``````




---

archive/issue_comments_460388.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/use_new_style_globaloptions_in_combinat\"",
    "created_at": "2017-12-04T12:52:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24322#issuecomment-460388",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/use_new_style_globaloptions_in_combinat"



---

archive/issue_comments_460389.json:
```json
{
    "body": "Changing commit from \"\" to \"577504b4686476efe14cd193c22cdbd0031f9a40\"",
    "created_at": "2017-12-04T12:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24322#issuecomment-460389",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "577504b4686476efe14cd193c22cdbd0031f9a40"



---

archive/issue_comments_460390.json:
```json
{
    "body": "<a id='comment:6'></a>New commits:",
    "created_at": "2017-12-04T12:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24322#issuecomment-460390",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>New commits:



---

archive/issue_comments_460391.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-12-04T12:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24322#issuecomment-460391",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_460392.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,17 @@\n+The syntax\n \n+```\n+options=GlobalOptions(...\n+    doc=\"\"\"\n+    EXAMPLES::\n+\n+        sage: #doctest here\n+    \"\"\"\n+)\n+```\n+has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.\n+\n+This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some trivial ones are fixed, others are marked as `# known bug` with the following tickets opened: #24323, #24324, #24325. #24326\n \n Author: Jeroen Demeyer\n \n``````\n",
    "created_at": "2017-12-05T08:59:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24322#issuecomment-460392",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,17 @@
+The syntax
 
+```
+options=GlobalOptions(...
+    doc="""
+    EXAMPLES::
+
+        sage: #doctest here
+    """
+)
+```
+has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.
+
+This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some trivial ones are fixed, others are marked as `# known bug` with the following tickets opened: #24323, #24324, #24325. #24326
 
 Author: Jeroen Demeyer
 
``````




---

archive/issue_comments_460393.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-12-06T14:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24322#issuecomment-460393",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_460394.json:
```json
{
    "body": "<a id='comment:8'></a>Now to fix all of those follow-up tickets. `:)`",
    "created_at": "2017-12-06T14:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24322#issuecomment-460394",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>Now to fix all of those follow-up tickets. `:)`



---

archive/issue_comments_460395.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2017-12-06T14:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24322#issuecomment-460395",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_460396.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/use_new_style_globaloptions_in_combinat\" to \"577504b4686476efe14cd193c22cdbd0031f9a40\"",
    "created_at": "2017-12-13T17:37:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24322#issuecomment-460396",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jdemeyer/use_new_style_globaloptions_in_combinat" to "577504b4686476efe14cd193c22cdbd0031f9a40"



---

archive/issue_events_061535.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-12-13T17:37:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24322",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24322#event-61535"
}
```



---

archive/issue_comments_460397.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-12-13T17:37:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24322#issuecomment-460397",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
