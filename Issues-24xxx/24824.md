# Issue 24824: Update GLPK to 4.65

archive/issues_024587.json:
```json
{
    "assignees": [],
    "body": "GLPK 4.65 was released recently and it prints the warning \"Long-step dual simplex will be used\" all over the place, leading to many failing sagemath doctests in Debian (they fixed it by backporting\nan upstream patch)\n\nWe backport the corresponding patch to GLPK 4.65.\nHaving this in will have the tack of #28459 easier.\n\ntarball: http://users.ox.ac.uk/~coml0531/sage/glpk-4.65.tar.bz2\n\nCC:  @kiwifb @timokau @isuruf @mkoeppe\n\nBranch: **[`655aad0`](https://github.com/sagemath/sagetrac-mirror/commit/655aad05f8268ee1c58a23e98d2455d2f6965759)**\n\nUpstream: **Fixed upstream, but not in a stable release.**\n\nReviewer: **Fran\u00e7ois Bissey**\n\nAuthor: **Dima Pasechnik**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24824_\n\n",
    "closed_at": "2019-10-03T17:58:28Z",
    "created_at": "2018-02-23T09:51:13Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Update GLPK to 4.65",
    "type": "issue",
    "updated_at": "2020-03-12T02:10:01Z",
    "url": "https://github.com/sagemath/sage/issues/24824",
    "user": "https://github.com/tobihan"
}
```
GLPK 4.65 was released recently and it prints the warning "Long-step dual simplex will be used" all over the place, leading to many failing sagemath doctests in Debian (they fixed it by backporting
an upstream patch)

We backport the corresponding patch to GLPK 4.65.
Having this in will have the tack of #28459 easier.

tarball: http://users.ox.ac.uk/~coml0531/sage/glpk-4.65.tar.bz2

CC:  @kiwifb @timokau @isuruf @mkoeppe

Branch: **[`655aad0`](https://github.com/sagemath/sagetrac-mirror/commit/655aad05f8268ee1c58a23e98d2455d2f6965759)**

Upstream: **Fixed upstream, but not in a stable release.**

Reviewer: **François Bissey**

Author: **Dima Pasechnik**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/24824_





---

archive/issue_events_340608.json:
```json
{
    "actor": "https://github.com/tobihan",
    "created_at": "2018-02-23T09:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24824#event-340608"
}
```



---

archive/issue_events_340609.json:
```json
{
    "actor": "https://github.com/tobihan",
    "created_at": "2018-02-23T09:51:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24824#event-340609"
}
```



---

archive/issue_events_340610.json:
```json
{
    "actor": "https://github.com/tobihan",
    "created_at": "2018-02-23T09:51:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24824#event-340610"
}
```



---

archive/issue_events_340611.json:
```json
{
    "actor": "https://github.com/tobihan",
    "created_at": "2018-02-23T09:51:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24824#event-340611"
}
```



---

archive/issue_comments_377267.json:
```json
{
    "body": "Replying to [ticket:24824 thansen]:\n> or if glpk just shouldn't print these warnings.\n\nReminds me of #20876.\n\nI have no idea what the message \"Long-step dual simplex will be used\" means. Is it supposed to be a warning?",
    "created_at": "2018-02-23T11:18:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377267",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [ticket:24824 thansen]:
> or if glpk just shouldn't print these warnings.

Reminds me of #20876.

I have no idea what the message "Long-step dual simplex will be used" means. Is it supposed to be a warning?



---

archive/issue_comments_377268.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nIt's this change in src/draft/glpios03.c:\n\n```\n+ #if 0 /* 20/I-2018 */\n           xprintf(\"WARNING: LONG-STEP DUAL SIMPLEX WILL BE USED\\n\");\n+ #else\n+          xprintf(\"Long-step dual simplex will be used\\n\");\n+ #endif\n```\n\nSo it seems that just the text of the message was changed. Does the content of the message influence whether it's printed?",
    "created_at": "2018-02-23T11:26:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377268",
    "user": "https://github.com/tobihan"
}
```

<div id="comment:2" align="right">comment:2</div>

It's this change in src/draft/glpios03.c:

```
+ #if 0 /* 20/I-2018 */
           xprintf("WARNING: LONG-STEP DUAL SIMPLEX WILL BE USED\n");
+ #else
+          xprintf("Long-step dual simplex will be used\n");
+ #endif
```

So it seems that just the text of the message was changed. Does the content of the message influence whether it's printed?



---

archive/issue_comments_377269.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nNo idea...",
    "created_at": "2018-02-23T14:30:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377269",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">comment:3</div>

No idea...



---

archive/issue_comments_377270.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nUpstream (Andrew Makhorin) says this:\n\nGLP_MSG_OFF is not a relevant option to disable terminal/stdout output. \nPlease use glp_term_out(GLP_OFF) and glp_term_out(GLP_ON) instead--these\ncalls disable/enable terminal output on a lower level independently on\noptions passed to the solvers.\n\nSee https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=891465#21",
    "created_at": "2018-02-28T10:44:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377270",
    "user": "https://github.com/tobihan"
}
```

<div id="comment:5" align="right">comment:5</div>

Upstream (Andrew Makhorin) says this:

GLP_MSG_OFF is not a relevant option to disable terminal/stdout output. 
Please use glp_term_out(GLP_OFF) and glp_term_out(GLP_ON) instead--these
calls disable/enable terminal output on a lower level independently on
options passed to the solvers.

See https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=891465#21



---

archive/issue_comments_377271.json:
```json
{
    "body": "Upstream: **Reported upstream. Developers deny it's a bug.**",
    "created_at": "2018-02-28T10:55:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377271",
    "user": "https://github.com/tobihan"
}
```

Upstream: **Reported upstream. Developers deny it's a bug.**



---

archive/issue_comments_377272.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@tobihan](#comment%3A5):\n> GLP_MSG_OFF is not a relevant option to disable terminal/stdout output.\n\nIt's not our goal to completely disable terminal output. We still want to see error messages for example.",
    "created_at": "2018-02-28T10:56:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377272",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@tobihan](#comment%3A5):
> GLP_MSG_OFF is not a relevant option to disable terminal/stdout output.

It's not our goal to completely disable terminal output. We still want to see error messages for example.



---

archive/issue_comments_377273.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nIt would also be good to know what the message \"Long-step dual simplex will be used\" means. Is it supposed to be a warning to say that we are doing something wrong?",
    "created_at": "2018-02-28T10:57:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377273",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

It would also be good to know what the message "Long-step dual simplex will be used" means. Is it supposed to be a warning to say that we are doing something wrong?



---

archive/issue_comments_377274.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThis suggestion from https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=891465#20 is obviously the right thing to do:\n\n> It would be very helpful if GLP_MSG_OFF suppressed this message as it does with other messages.\n\nThat would be essentially a one-line patch.",
    "created_at": "2018-02-28T11:05:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377274",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

This suggestion from https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=891465#20 is obviously the right thing to do:

> It would be very helpful if GLP_MSG_OFF suppressed this message as it does with other messages.

That would be essentially a one-line patch.



---

archive/issue_comments_377275.json:
```json
{
    "body": "Changed upstream from **Reported upstream. Developers deny it's a bug.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2018-03-02T09:34:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377275",
    "user": "https://github.com/tobihan"
}
```

Changed upstream from **Reported upstream. Developers deny it's a bug.** to **Fixed upstream, but not in a stable release.**



---

archive/issue_comments_377276.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nShould be fixed in the next release. The patch is here:\n\nhttps://bugs.debian.org/cgi-bin/bugreport.cgi?bug=891465#24",
    "created_at": "2018-03-02T09:38:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377276",
    "user": "https://github.com/tobihan"
}
```

<div id="comment:11" align="right">comment:11</div>

Should be fixed in the next release. The patch is here:

https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=891465#24



---

archive/issue_events_340612.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-21T09:33:28Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "title_is": "Update GLPK to 4.66",
    "title_was": "Update GLPK to 4.65",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24824#event-340612"
}
```



---

archive/issue_comments_377277.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-GLPK 4.65 was released recently and it prints the warning \"Long-step dual simplex will be used\" all over the place, leading to many failing sagemath doctests in Debian. I'm not sure if sagemath already has a way to deal with such warnings from glpk, or if glpk just shouldn't print these warnings.\n+GLPK 4.65 was released recently and it prints the warning \"Long-step dual simplex will be used\" all over the place, leading to many failing sagemath doctests in Debian.\n \n-tarball: https://ftp.gnu.org/gnu/glpk/glpk-4.65.tar.gz\n+For that reason, we should skip GLPK 4.65 and wait until the next release.\n``````\n",
    "created_at": "2019-01-21T09:33:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377277",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-GLPK 4.65 was released recently and it prints the warning "Long-step dual simplex will be used" all over the place, leading to many failing sagemath doctests in Debian. I'm not sure if sagemath already has a way to deal with such warnings from glpk, or if glpk just shouldn't print these warnings.
+GLPK 4.65 was released recently and it prints the warning "Long-step dual simplex will be used" all over the place, leading to many failing sagemath doctests in Debian.
 
-tarball: https://ftp.gnu.org/gnu/glpk/glpk-4.65.tar.gz
+For that reason, we should skip GLPK 4.65 and wait until the next release.
``````




---

archive/issue_events_340613.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-09-09T10:12:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24824#event-340613"
}
```



---

archive/issue_events_340614.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-09-09T10:12:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24824#event-340614"
}
```



---

archive/issue_comments_377278.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n-GLPK 4.65 was released recently and it prints the warning \"Long-step dual simplex will be used\" all over the place, leading to many failing sagemath doctests in Debian.\n+GLPK 4.65 was released recently and it prints the warning \"Long-step dual simplex will be used\" all over the place, leading to many failing sagemath doctests in Debian (they fixed it by backporting\n+an upstream patch)\n \n-For that reason, we should skip GLPK 4.65 and wait until the next release.\n+We backport the corresponding patch to GLPK 4.65.\n+Having this in will have the tack of #28459 easier.\n+\n+tarball: http://users.ox.ac.uk/~coml0531/sage/glpk-4.65.tar.bz2\n``````\n",
    "created_at": "2019-09-09T10:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377278",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
-GLPK 4.65 was released recently and it prints the warning "Long-step dual simplex will be used" all over the place, leading to many failing sagemath doctests in Debian.
+GLPK 4.65 was released recently and it prints the warning "Long-step dual simplex will be used" all over the place, leading to many failing sagemath doctests in Debian (they fixed it by backporting
+an upstream patch)
 
-For that reason, we should skip GLPK 4.65 and wait until the next release.
+We backport the corresponding patch to GLPK 4.65.
+Having this in will have the tack of #28459 easier.
+
+tarball: http://users.ox.ac.uk/~coml0531/sage/glpk-4.65.tar.bz2
``````




---

archive/issue_comments_377279.json:
```json
{
    "body": "Author: **Dima Pasechnik**",
    "created_at": "2019-09-09T10:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377279",
    "user": "https://github.com/dimpase"
}
```

Author: **Dima Pasechnik**



---

archive/issue_comments_377280.json:
```json
{
    "body": "Commit: **[`36e1ac5`](https://github.com/sagemath/sagetrac-mirror/commit/36e1ac5d91a7bb7f5cb581441f8516138f869be5)**",
    "created_at": "2019-09-09T10:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377280",
    "user": "https://github.com/dimpase"
}
```

Commit: **[`36e1ac5`](https://github.com/sagemath/sagetrac-mirror/commit/36e1ac5d91a7bb7f5cb581441f8516138f869be5)**



---

archive/issue_events_340615.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-09-09T10:12:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24824#event-340615"
}
```



---

archive/issue_comments_377281.json:
```json
{
    "body": "Branch: **[u/dimpase/packages/glpk465](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/glpk465)**",
    "created_at": "2019-09-09T10:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377281",
    "user": "https://github.com/dimpase"
}
```

Branch: **[u/dimpase/packages/glpk465](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/glpk465)**



---

archive/issue_events_340616.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-09-09T10:12:06Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "title_is": "Update GLPK to 4.65",
    "title_was": "Update GLPK to 4.66",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24824#event-340616"
}
```



---

archive/issue_comments_377282.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36e1ac5d91a7bb7f5cb581441f8516138f869be5\"><code>36e1ac5</code></a></td><td><code>update glpk to 4.65</code></td></tr></table>\n",
    "created_at": "2019-09-09T10:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377282",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:14"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36e1ac5d91a7bb7f5cb581441f8516138f869be5"><code>36e1ac5</code></a></td><td><code>update glpk to 4.65</code></td></tr></table>




---

archive/issue_comments_377283.json:
```json
{
    "body": "Changed commit from **[`36e1ac5`](https://github.com/sagemath/sagetrac-mirror/commit/36e1ac5d91a7bb7f5cb581441f8516138f869be5)** to **[`8f1bda0`](https://github.com/sagemath/sagetrac-mirror/commit/8f1bda09e42fa886973635eb64016f276b0a999a)**",
    "created_at": "2019-09-09T10:19:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377283",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`36e1ac5`](https://github.com/sagemath/sagetrac-mirror/commit/36e1ac5d91a7bb7f5cb581441f8516138f869be5)** to **[`8f1bda0`](https://github.com/sagemath/sagetrac-mirror/commit/8f1bda09e42fa886973635eb64016f276b0a999a)**



---

archive/issue_comments_377284.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f1bda09e42fa886973635eb64016f276b0a999a\"><code>8f1bda0</code></a></td><td><code>update glpk to 4.65</code></td></tr></table>\n",
    "created_at": "2019-09-09T10:19:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377284",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f1bda09e42fa886973635eb64016f276b0a999a"><code>8f1bda0</code></a></td><td><code>update glpk to 4.65</code></td></tr></table>




---

archive/issue_comments_377285.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nmade the version 4.65.p0, not merely 4.65",
    "created_at": "2019-09-09T10:20:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377285",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:16" align="right">comment:16</div>

made the version 4.65.p0, not merely 4.65



---

archive/issue_comments_377286.json:
```json
{
    "body": "Changed commit from **[`8f1bda0`](https://github.com/sagemath/sagetrac-mirror/commit/8f1bda09e42fa886973635eb64016f276b0a999a)** to **[`655aad0`](https://github.com/sagemath/sagetrac-mirror/commit/655aad05f8268ee1c58a23e98d2455d2f6965759)**",
    "created_at": "2019-09-09T12:39:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377286",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8f1bda0`](https://github.com/sagemath/sagetrac-mirror/commit/8f1bda09e42fa886973635eb64016f276b0a999a)** to **[`655aad0`](https://github.com/sagemath/sagetrac-mirror/commit/655aad05f8268ee1c58a23e98d2455d2f6965759)**



---

archive/issue_comments_377287.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/655aad05f8268ee1c58a23e98d2455d2f6965759\"><code>655aad0</code></a></td><td><code>make tests less sensitive to output formatting</code></td></tr></table>\n",
    "created_at": "2019-09-09T12:39:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377287",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/655aad05f8268ee1c58a23e98d2455d2f6965759"><code>655aad0</code></a></td><td><code>make tests less sensitive to output formatting</code></td></tr></table>




---

archive/issue_comments_377288.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nw.r.t. the error_recovery patch, [#20710 comment:18](https://github.com/sagemath/sage/issues/20710#comment:18) - one can ask upstream, instead of uncondionally applying our patch, make it conditional, on some new parameter that may be manipulated at runtime, how about this?",
    "created_at": "2019-09-09T13:40:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377288",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:18" align="right">comment:18</div>

w.r.t. the error_recovery patch, [#20710 comment:18](https://github.com/sagemath/sage/issues/20710#comment:18) - one can ask upstream, instead of uncondionally applying our patch, make it conditional, on some new parameter that may be manipulated at runtime, how about this?



---

archive/issue_comments_377289.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nIt's not that applying the patch upstream will break anything, they refused the patch on principle: they simply don't want to officially support the way how Sage is absusing their error handler. I highly doubt that making the patch conditional will convince upstream. We could ask again to apply the same patch, just in case that they changed their mind.",
    "created_at": "2019-09-09T15:48:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377289",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">comment:19</div>

It's not that applying the patch upstream will break anything, they refused the patch on principle: they simply don't want to officially support the way how Sage is absusing their error handler. I highly doubt that making the patch conditional will convince upstream. We could ask again to apply the same patch, just in case that they changed their mind.



---

archive/issue_comments_377290.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nIt's one thing to ask to unconditionlly change the default mode of operation, and quite another to ask to accept a patch for a possibility to manipulate the default mode.\n\nAsking to apply the same patch again would be not welcome, I think, and might lessen our chances to get what I propose in.\n\nCould you ask a question whether they'd welcome such a patch, before we spend time working on it?",
    "created_at": "2019-09-09T16:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377290",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:20" align="right">comment:20</div>

It's one thing to ask to unconditionlly change the default mode of operation, and quite another to ask to accept a patch for a possibility to manipulate the default mode.

Asking to apply the same patch again would be not welcome, I think, and might lessen our chances to get what I propose in.

Could you ask a question whether they'd welcome such a patch, before we spend time working on it?



---

archive/issue_comments_377291.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nYour strategy to remove blank lines doesn't work. At least with python2.7.",
    "created_at": "2019-09-10T02:53:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377291",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:21" align="right">comment:21</div>

Your strategy to remove blank lines doesn't work. At least with python2.7.



---

archive/issue_comments_377292.json:
```json
{
    "body": "Reviewer: **Fran\u00e7ois Bissey**",
    "created_at": "2019-09-10T02:53:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377292",
    "user": "https://github.com/kiwifb"
}
```

Reviewer: **François Bissey**



---

archive/issue_comments_377293.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI only tested with python3. Surely it's a quirk that can be fixed.",
    "created_at": "2019-09-10T06:55:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377293",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:22" align="right">comment:22</div>

I only tested with python3. Surely it's a quirk that can be fixed.



---

archive/issue_comments_377294.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@dimpase](#comment%3A22):\n> I only tested with python3. Surely it's a quirk that can be fixed.\n\nI just tested this branch with python 2.7, all good, too. I have no idea what's not working for you.",
    "created_at": "2019-09-10T08:20:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377294",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@dimpase](#comment%3A22):
> I only tested with python3. Surely it's a quirk that can be fixed.

I just tested this branch with python 2.7, all good, too. I have no idea what's not working for you.



---

archive/issue_events_340617.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-09-10T08:37:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24824#event-340617"
}
```



---

archive/issue_events_340618.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-09-10T08:37:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24824#event-340618"
}
```



---

archive/issue_comments_377295.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nIndeed I had made a mistake! It is all good.",
    "created_at": "2019-09-10T08:37:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377295",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:24" align="right">comment:24</div>

Indeed I had made a mistake! It is all good.



---

archive/issue_comments_377296.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nmoving milestone to 9.0 (after release of 8.9)",
    "created_at": "2019-09-30T08:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377296",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:25" align="right">comment:25</div>

moving milestone to 9.0 (after release of 8.9)



---

archive/issue_events_340619.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-30T08:12:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24824#event-340619"
}
```



---

archive/issue_events_340620.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-30T08:12:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24824#event-340620"
}
```



---

archive/issue_comments_377297.json:
```json
{
    "body": "Changed branch from **[u/dimpase/packages/glpk465](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/glpk465)** to **[`655aad0`](https://github.com/sagemath/sagetrac-mirror/commit/655aad05f8268ee1c58a23e98d2455d2f6965759)**",
    "created_at": "2019-10-03T17:58:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377297",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dimpase/packages/glpk465](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/glpk465)** to **[`655aad0`](https://github.com/sagemath/sagetrac-mirror/commit/655aad05f8268ee1c58a23e98d2455d2f6965759)**



---

archive/issue_events_340621.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-10-03T17:58:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24824#event-340621"
}
```



---

archive/issue_events_340622.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "93b86bfad30a7447d979f4941e39cb495c143ea8",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-10-03T17:58:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24824#event-340622"
}
```



---

archive/issue_comments_377298.json:
```json
{
    "body": "Changed commit from **[`655aad0`](https://github.com/sagemath/sagetrac-mirror/commit/655aad05f8268ee1c58a23e98d2455d2f6965759)** to none",
    "created_at": "2019-10-28T23:11:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377298",
    "user": "https://github.com/slel"
}
```

Changed commit from **[`655aad0`](https://github.com/sagemath/sagetrac-mirror/commit/655aad05f8268ee1c58a23e98d2455d2f6965759)** to none



---

archive/issue_comments_377299.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nThis breaks building [SageMath](../wiki/SageMath) on Cygwin64 on Windows 7:\n\n- https://groups.google.com/d/msg/sage-release/oDwzJ8wzbGE/wSLXPQwpCAAJ",
    "created_at": "2019-10-28T23:11:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377299",
    "user": "https://github.com/slel"
}
```

<div id="comment:27" align="right">comment:27</div>

This breaks building [SageMath](../wiki/SageMath) on Cygwin64 on Windows 7:

- https://groups.google.com/d/msg/sage-release/oDwzJ8wzbGE/wSLXPQwpCAAJ



---

archive/issue_comments_377300.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI'm seeing the message \"Long-step dual simplex will be used\" using a system installation of glpk, thereby causing lots of failed tests. Is there anything to be done about this? Refuse to use the system installation if it's version 4.65? Block the message somehow?",
    "created_at": "2020-03-10T18:11:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377300",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:28" align="right">comment:28</div>

I'm seeing the message "Long-step dual simplex will be used" using a system installation of glpk, thereby causing lots of failed tests. Is there anything to be done about this? Refuse to use the system installation if it's version 4.65? Block the message somehow?



---

archive/issue_comments_377301.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nFor GLPK 4.65, some package distributions ship a patched version\nthat removes these \"Long-step dual simplex will be used\" messages,\nbut some don't. Ideally when deciding whether to install GLPK or use\nthe system one, our install scripts should take that into account.",
    "created_at": "2020-03-10T18:54:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377301",
    "user": "https://github.com/slel"
}
```

<div id="comment:29" align="right">comment:29</div>

For GLPK 4.65, some package distributions ship a patched version
that removes these "Long-step dual simplex will be used" messages,
but some don't. Ideally when deciding whether to install GLPK or use
the system one, our install scripts should take that into account.



---

archive/issue_comments_377302.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nIs there a good way to detect that? Is there a standard patch-level or some other indication in the version number that this change has been made?",
    "created_at": "2020-03-10T20:37:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377302",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:30" align="right">comment:30</div>

Is there a good way to detect that? Is there a standard patch-level or some other indication in the version number that this change has been made?



---

archive/issue_comments_377303.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nIn Debian we patched the doctest parser to ignore these warnings:\n\nhttps://salsa.debian.org/science-team/sagemath/-/blob/master/debian/patches/dt-version-glpk-4.65-ignore-warnings.patch",
    "created_at": "2020-03-11T09:58:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377303",
    "user": "https://github.com/tobihan"
}
```

<div id="comment:31" align="right">comment:31</div>

In Debian we patched the doctest parser to ignore these warnings:

https://salsa.debian.org/science-team/sagemath/-/blob/master/debian/patches/dt-version-glpk-4.65-ignore-warnings.patch



---

archive/issue_comments_377304.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@jhpalmieri](#comment%3A30):\n> Is there a good way to detect that? Is there a standard patch-level or some other indication in the version number that this change has been made?\n\nCouldn't we just run something that would print the warnings and check if the warnings are printed?",
    "created_at": "2020-03-11T10:25:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377304",
    "user": "https://github.com/timokau"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@jhpalmieri](#comment%3A30):
> Is there a good way to detect that? Is there a standard patch-level or some other indication in the version number that this change has been made?

Couldn't we just run something that would print the warnings and check if the warnings are printed?



---

archive/issue_comments_377305.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@tobihan](#comment%3A31):\n> In Debian we patched the doctest parser to ignore these warnings:\n> \n> https://salsa.debian.org/science-team/sagemath/-/blob/master/debian/patches/dt-version-glpk-4.65-ignore-warnings.patch\n\nThis looks good. Why don't we add this to Sage?",
    "created_at": "2020-03-11T23:06:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377305",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@tobihan](#comment%3A31):
> In Debian we patched the doctest parser to ignore these warnings:
> 
> https://salsa.debian.org/science-team/sagemath/-/blob/master/debian/patches/dt-version-glpk-4.65-ignore-warnings.patch

This looks good. Why don't we add this to Sage?



---

archive/issue_comments_377306.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@jhpalmieri](#comment%3A33):\n> Replying to [@tobihan](#comment%3A31):\n> > In Debian we patched the doctest parser to ignore these warnings:\n> > \n> > https://salsa.debian.org/science-team/sagemath/-/blob/master/debian/patches/dt-version-glpk-4.65-ignore-warnings.patch\n\n> \n> This looks good. Why don't we add this to Sage?\n\n+1",
    "created_at": "2020-03-11T23:38:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377306",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@jhpalmieri](#comment%3A33):
> Replying to [@tobihan](#comment%3A31):
> > In Debian we patched the doctest parser to ignore these warnings:
> > 
> > https://salsa.debian.org/science-team/sagemath/-/blob/master/debian/patches/dt-version-glpk-4.65-ignore-warnings.patch

> 
> This looks good. Why don't we add this to Sage?

+1



---

archive/issue_comments_377307.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@dimpase](#comment%3A34):\n> Replying to [@jhpalmieri](#comment%3A33):\n> > Replying to [@tobihan](#comment%3A31):\n> > > In Debian we patched the doctest parser to ignore these warnings:\n> > > \n> > > https://salsa.debian.org/science-team/sagemath/-/blob/master/debian/patches/dt-version-glpk-4.65-ignore-warnings.patch\n\n> > \n> > This looks good. Why don't we add this to Sage?\n\n> \n> +1\n\nSee #29317.",
    "created_at": "2020-03-12T02:10:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24824",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24824#issuecomment-377307",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@dimpase](#comment%3A34):
> Replying to [@jhpalmieri](#comment%3A33):
> > Replying to [@tobihan](#comment%3A31):
> > > In Debian we patched the doctest parser to ignore these warnings:
> > > 
> > > https://salsa.debian.org/science-team/sagemath/-/blob/master/debian/patches/dt-version-glpk-4.65-ignore-warnings.patch

> > 
> > This looks good. Why don't we add this to Sage?

> 
> +1

See #29317.
