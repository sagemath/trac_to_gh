# Issue 24528: py3: wrap parameter of islice with int

archive/issues_024291.json:
```json
{
    "body": "to work around an upstream Python bug https://bugs.python.org/issue30537\n\n**CC:**  @dimpase @embray @tscrim @jdemeyer\n\n**Branch:** [3ea05e416d78f70196357cd157904da68daa5d1a](https://github.com/sagemath/sagetrac-mirror/commit/3ea05e416d78f70196357cd157904da68daa5d1a)\n\n**Upstream:** Fixed upstream, but not in a stable release.\n\n**Reviewer:** Dima Pasechnik\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/24528\n\n",
    "closed_at": "2018-01-15T22:29:02Z",
    "created_at": "2018-01-12T12:49:49Z",
    "labels": [
        "component: python3",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "title": "py3: wrap parameter of islice with int",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/24528",
    "user": "https://github.com/fchapoton"
}
```
to work around an upstream Python bug https://bugs.python.org/issue30537

**CC:**  @dimpase @embray @tscrim @jdemeyer

**Branch:** [3ea05e416d78f70196357cd157904da68daa5d1a](https://github.com/sagemath/sagetrac-mirror/commit/3ea05e416d78f70196357cd157904da68daa5d1a)

**Upstream:** Fixed upstream, but not in a stable release.

**Reviewer:** Dima Pasechnik

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/24528





---

archive/issue_comments_373961.json:
```json
{
    "body": "**Commit:** [3ea05e416d78f70196357cd157904da68daa5d1a](https://github.com/sagemath/sagetrac-mirror/commit/3ea05e416d78f70196357cd157904da68daa5d1a)",
    "created_at": "2018-01-12T12:50:07Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373961",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [3ea05e416d78f70196357cd157904da68daa5d1a](https://github.com/sagemath/sagetrac-mirror/commit/3ea05e416d78f70196357cd157904da68daa5d1a)



---

archive/issue_comments_373962.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ea05e416d78f70196357cd157904da68daa5d1a\">3ea05e4</a></td><td><code>py3: one detail in block designs</code></td></tr></table>\n",
    "created_at": "2018-01-12T12:50:07Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373962",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ea05e416d78f70196357cd157904da68daa5d1a">3ea05e4</a></td><td><code>py3: one detail in block designs</code></td></tr></table>




---

archive/issue_events_217474.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-12T12:50:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24528#event-217474"
}
```



---

archive/issue_comments_373963.json:
```json
{
    "body": "**Branch:** [u/chapoton/24528](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/24528)",
    "created_at": "2018-01-12T12:50:07Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373963",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/24528](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/24528)



---

archive/issue_events_217475.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-01-12T13:20:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24528#event-217475"
}
```



---

archive/issue_events_217476.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-01-12T13:20:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24528#event-217476"
}
```



---

archive/issue_comments_373964.json:
```json
{
    "body": "<a id='comment:2'></a>\nlooks good to me. \n\nI cannot help thinking that this is actually a Python bug, for they should accept\nanything in `numbers.Integral` as input, and not only `int`.\nMaybe someone with more insight into Python guts can comment. Jeroen?",
    "created_at": "2018-01-12T13:20:47Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373964",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:2'></a>
looks good to me. 

I cannot help thinking that this is actually a Python bug, for they should accept
anything in `numbers.Integral` as input, and not only `int`.
Maybe someone with more insight into Python guts can comment. Jeroen?



---

archive/issue_comments_373965.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2018-01-12T13:20:47Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373965",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_comments_373966.json:
```json
{
    "body": "<a id='comment:3'></a>\n[Traceback please](https://groups.google.com/d/msg/sage-devel/H0t9l6XdfPI/5ss5I5A4CAAJ)",
    "created_at": "2018-01-12T13:22:06Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373966",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>
[Traceback please](https://groups.google.com/d/msg/sage-devel/H0t9l6XdfPI/5ss5I5A4CAAJ)



---

archive/issue_comments_373967.json:
```json
{
    "body": "<a id='comment:4'></a>\n\n```\nsage: designs.AffineGeometryDesign(4,3,2)\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-2-7ddfea1de362> in <module>()\n----> 1 designs.AffineGeometryDesign(Integer(4),Integer(3),Integer(2))\n\n/home/chapoton/sage3/local/lib/python3.6/site-packages/sage/combinat/designs/block_design.py in AffineGeometryDesign(n, d, F, point_coordinates, check)\n    861     l1 = q_binomial(n+1, d+1, q) - q_binomial(n, d+1, q)\n    862     l2 = q**d\n--> 863     for m1 in islice(reduced_echelon_matrix_iterator(F,d+1,n+1,copy=False), l1):\n    864         b = []\n    865         for m2 in islice(reduced_echelon_matrix_iterator(F,1,d+1,copy=False), l2):\n\nValueError: Stop argument for islice() must be None or an integer: 0 <= x <= sys.maxsize.\n```\n\nEDIT: and yes, this is the full traceback",
    "created_at": "2018-01-12T13:24:00Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373967",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>

```
sage: designs.AffineGeometryDesign(4,3,2)
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-2-7ddfea1de362> in <module>()
----> 1 designs.AffineGeometryDesign(Integer(4),Integer(3),Integer(2))

/home/chapoton/sage3/local/lib/python3.6/site-packages/sage/combinat/designs/block_design.py in AffineGeometryDesign(n, d, F, point_coordinates, check)
    861     l1 = q_binomial(n+1, d+1, q) - q_binomial(n, d+1, q)
    862     l2 = q**d
--> 863     for m1 in islice(reduced_echelon_matrix_iterator(F,d+1,n+1,copy=False), l1):
    864         b = []
    865         for m2 in islice(reduced_echelon_matrix_iterator(F,1,d+1,copy=False), l2):

ValueError: Stop argument for islice() must be None or an integer: 0 <= x <= sys.maxsize.
```

EDIT: and yes, this is the full traceback



---

archive/issue_comments_373968.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-as apparently python3 requires an int there.\n+to work around an upstream Python bug https://bugs.python.org/issue30537\n``````\n",
    "created_at": "2018-01-12T13:37:45Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373968",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-as apparently python3 requires an int there.
+to work around an upstream Python bug https://bugs.python.org/issue30537
``````




---

archive/issue_comments_373969.json:
```json
{
    "body": "**Upstream:** Fixed upstream, but not in a stable release.",
    "created_at": "2018-01-12T13:37:45Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373969",
    "user": "https://github.com/jdemeyer"
}
```

**Upstream:** Fixed upstream, but not in a stable release.



---

archive/issue_comments_373970.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [dimpase](#comment%3A2):\n> looks good to me. \n> \n> I cannot help thinking that this is actually a Python bug, for they should accept\n> anything in `numbers.Integral` as input, and not only `int`.\n> Maybe someone with more insight into Python guts can comment. Jeroen?\n\nIt's sort of a bug.  I brought this up here: https://mail.python.org/pipermail/python-ideas/2017-December/048411.html",
    "created_at": "2018-01-12T15:01:05Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373970",
    "user": "https://github.com/embray"
}
```

<a id='comment:6'></a>
Replying to [dimpase](#comment%3A2):
> looks good to me. 
> 
> I cannot help thinking that this is actually a Python bug, for they should accept
> anything in `numbers.Integral` as input, and not only `int`.
> Maybe someone with more insight into Python guts can comment. Jeroen?

It's sort of a bug.  I brought this up here: https://mail.python.org/pipermail/python-ideas/2017-December/048411.html



---

archive/issue_comments_373971.json:
```json
{
    "body": "<a id='comment:7'></a>\nI fixed a bunch more examples like this in my python 3 branch, although not this specific one.  It seems silly to me to have a ticket for just one line of this, but what's done is done.\n\nI need to make more tickets for all the fixes I already have in order to save duplicate effort.  It's just...a lot...and I need to think of logical ways to break it up.",
    "created_at": "2018-01-12T15:03:48Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373971",
    "user": "https://github.com/embray"
}
```

<a id='comment:7'></a>
I fixed a bunch more examples like this in my python 3 branch, although not this specific one.  It seems silly to me to have a ticket for just one line of this, but what's done is done.

I need to make more tickets for all the fixes I already have in order to save duplicate effort.  It's just...a lot...and I need to think of logical ways to break it up.



---

archive/issue_comments_373972.json:
```json
{
    "body": "<a id='comment:8'></a>\nBasically if you're thinking of fixing any little issue in any of the following modules, chances are I've already fixed it:\n\n```\n        modified:   src/sage/algebras/clifford_algebra.py\n        modified:   src/sage/algebras/free_algebra.py\n        modified:   src/sage/algebras/free_algebra_quotient.py\n        modified:   src/sage/algebras/letterplace/free_algebra_element_letterplace.pyx\n        modified:   src/sage/algebras/orlik_solomon.py\n        modified:   src/sage/algebras/quatalg/quaternion_algebra.py\n        modified:   src/sage/algebras/steenrod/steenrod_algebra.py\n        modified:   src/sage/algebras/steenrod/steenrod_algebra_bases.py\n        modified:   src/sage/arith/long.pxd\n        modified:   src/sage/arith/misc.py\n        modified:   src/sage/calculus/integration.pyx\n        modified:   src/sage/calculus/ode.pyx\n        modified:   src/sage/categories/finite_dimensional_algebras_with_basis.py\n        modified:   src/sage/categories/functor.pyx\n        modified:   src/sage/categories/magmas.py\n        modified:   src/sage/categories/morphism.pyx\n        modified:   src/sage/categories/pushout.py\n        modified:   src/sage/categories/sets_cat.py\n        modified:   src/sage/categories/unital_algebras.py\n        modified:   src/sage/coding/decoder.py\n        modified:   src/sage/coding/hamming_code.py\n        modified:   src/sage/coding/linear_code.py\n        modified:   src/sage/coding/subfield_subcode.py\n        modified:   src/sage/combinat/combinat.py\n        modified:   src/sage/combinat/crystals/generalized_young_walls.py\n        modified:   src/sage/combinat/finite_state_machine.py\n        modified:   src/sage/combinat/free_module.py\n        modified:   src/sage/combinat/gray_codes.py\n        modified:   src/sage/combinat/integer_lists/base.pyx\n        modified:   src/sage/combinat/integer_lists/invlex.pyx\n        modified:   src/sage/combinat/integer_matrices.py\n        modified:   src/sage/combinat/integer_vector.py\n        modified:   src/sage/combinat/multichoose_nk.py\n        modified:   src/sage/combinat/permutation.py\n        modified:   src/sage/combinat/ribbon_shaped_tableau.py\n        modified:   src/sage/combinat/rigged_configurations/rigged_partition.py\n        modified:   src/sage/combinat/root_system/type_dual.py\n        modified:   src/sage/combinat/sf/k_dual.py\n        modified:   src/sage/combinat/sf/new_kschur.py\n        modified:   src/sage/combinat/sidon_sets.py\n        modified:   src/sage/combinat/skew_tableau.py\n        modified:   src/sage/combinat/species/series.py\n        modified:   src/sage/combinat/subset.py\n        modified:   src/sage/combinat/subword_complex.py\n        modified:   src/sage/combinat/tiling.py\n        modified:   src/sage/combinat/words/word_datatypes.pyx\n        modified:   src/sage/combinat/words/word_infinite_datatypes.py\n        modified:   src/sage/cpython/cython_metaclass.pyx\n        modified:   src/sage/cpython/dict_del_by_value.pyx\n        modified:   src/sage/cpython/getattr.pyx\n        modified:   src/sage/cpython/string.pxd\n        modified:   src/sage/cpython/wrapperdescr.pxd\n        modified:   src/sage/cpython/wrapperdescr.pyx\n        modified:   src/sage/data_structures/bitset.pxi\n        modified:   src/sage/databases/conway.py\n        modified:   src/sage/databases/cremona.py\n        modified:   src/sage/doctest/forker.py\n        modified:   src/sage/ext/fast_callable.pyx\n        modified:   src/sage/finance/stock.py\n        modified:   src/sage/finance/time_series.pyx\n        modified:   src/sage/functions/min_max.py\n        modified:   src/sage/functions/other.py\n        modified:   src/sage/functions/wigner.py\n        modified:   src/sage/geometry/polyhedron/backend_cdd.py\n        modified:   src/sage/graphs/bipartite_graph.py\n        modified:   src/sage/graphs/generators/degree_sequence.py\n        modified:   src/sage/graphs/generic_graph.py\n        modified:   src/sage/graphs/generic_graph_pyx.pyx\n        modified:   src/sage/graphs/graph_list.py\n        modified:   src/sage/graphs/hypergraph_generators.py\n        modified:   src/sage/graphs/tutte_polynomial.py\n        modified:   src/sage/groups/abelian_gps/abelian_group.py\n        modified:   src/sage/groups/perm_gps/permgroup_named.py\n        modified:   src/sage/homology/chain_complex.py\n        modified:   src/sage/homology/chain_complex_morphism.py\n        modified:   src/sage/homology/examples.py\n        modified:   src/sage/homology/simplicial_complex.py\n        modified:   src/sage/homology/simplicial_complex_morphism.py\n        modified:   src/sage/interacts/debugger.py\n        modified:   src/sage/interfaces/ecm.py\n        modified:   src/sage/interfaces/expect.py\n        modified:   src/sage/interfaces/gap.py\n        modified:   src/sage/interfaces/interface.py\n        modified:   src/sage/interfaces/maxima.py\n        modified:   src/sage/interfaces/maxima_abstract.py\n        modified:   src/sage/interfaces/process.pyx\n        modified:   src/sage/interfaces/qsieve.py\n        modified:   src/sage/interfaces/quit.py\n        modified:   src/sage/interfaces/rubik.py\n        modified:   src/sage/interfaces/sage0.py\n        modified:   src/sage/interfaces/singular.py\n        modified:   src/sage/interfaces/tachyon.py\n        modified:   src/sage/interfaces/tides.py\n        modified:   src/sage/knots/link.py\n        modified:   src/sage/libs/ecl.pyx\n        modified:   src/sage/libs/eclib/mwrank.pyx\n        modified:   src/sage/libs/glpk/error.pyx\n        modified:   src/sage/libs/mpmath/ext_impl.pyx\n        modified:   src/sage/libs/mpmath/ext_libmp.pyx\n        modified:   src/sage/libs/mpmath/ext_main.pyx\n        modified:   src/sage/libs/ntl/error.pyx\n        modified:   src/sage/libs/ntl/ntl_GF2X.pyx\n        modified:   src/sage/libs/ntl/ntl_ZZ.pyx\n        modified:   src/sage/libs/ntl/ntl_ZZX.pyx\n        modified:   src/sage/libs/ntl/ntl_ZZ_p.pyx\n        modified:   src/sage/libs/ntl/ntl_ZZ_pE.pyx\n        modified:   src/sage/libs/ntl/ntl_ZZ_pX.pyx\n        modified:   src/sage/logic/logic.py\n        modified:   src/sage/logic/logicparser.py\n        modified:   src/sage/manifolds/continuous_map.py\n        modified:   src/sage/matrix/matrix2.pyx\n        modified:   src/sage/matrix/matrix_cyclo_dense.pyx\n        modified:   src/sage/matrix/matrix_generic_sparse.pyx\n        modified:   src/sage/matrix/matrix_integer_dense.pyx\n        modified:   src/sage/matrix/matrix_rational_dense.pyx\n        modified:   src/sage/matrix/misc.pyx\n        modified:   src/sage/misc/banner.py\n        modified:   src/sage/misc/c3.pyx\n        modified:   src/sage/misc/constant_function.pyx\n        modified:   src/sage/misc/explain_pickle.py\n        modified:   src/sage/misc/function_mangling.pyx\n        modified:   src/sage/misc/lazy_attribute.pyx\n        modified:   src/sage/misc/lazy_import.pyx\n        modified:   src/sage/misc/misc.py\n        modified:   src/sage/misc/object_multiplexer.py\n        modified:   src/sage/misc/parser.pyx\n        modified:   src/sage/misc/prandom.py\n        modified:   src/sage/misc/reset.pyx\n        modified:   src/sage/misc/rest_index_of_methods.py\n        modified:   src/sage/misc/session.pyx\n        modified:   src/sage/misc/stopgap.pyx\n        modified:   src/sage/misc/superseded.py\n        modified:   src/sage/misc/test_class_pickling.py\n        modified:   src/sage/misc/trace.py\n        modified:   src/sage/misc/unknown.py\n        modified:   src/sage/modular/arithgroup/congroup_generic.py\n        modified:   src/sage/modular/modsym/ambient.py\n        modified:   src/sage/modules/free_module_element.pyx\n        modified:   src/sage/modules/module.pyx\n        modified:   src/sage/modules/with_basis/indexed_element.pyx\n        modified:   src/sage/monoids/automatic_semigroup.py\n        modified:   src/sage/monoids/free_monoid.py\n        modified:   src/sage/numerical/backends/coin_backend.pyx\n        modified:   src/sage/numerical/backends/cplex_backend.pyx\n        modified:   src/sage/numerical/backends/cvxopt_backend.pyx\n        modified:   src/sage/numerical/backends/generic_backend.pxd\n        modified:   src/sage/numerical/backends/generic_backend.pyx\n        modified:   src/sage/numerical/backends/glpk_backend.pyx\n        modified:   src/sage/numerical/backends/gurobi_backend.pyx\n        modified:   src/sage/numerical/backends/interactivelp_backend.pyx\n        modified:   src/sage/numerical/backends/ppl_backend.pyx\n        modified:   src/sage/parallel/multiprocessing_sage.py\n        modified:   src/sage/parallel/use_fork.py\n        modified:   src/sage/plot/plot3d/base.pyx\n        modified:   src/sage/plot/plot3d/index_face_set.pyx\n        modified:   src/sage/probability/random_variable.py\n        modified:   src/sage/quadratic_forms/extras.py\n        modified:   src/sage/quadratic_forms/quadratic_form__siegel_product.py\n        modified:   src/sage/repl/attach.py\n        modified:   src/sage/repl/ipython_kernel/interact.py\n        modified:   src/sage/repl/load.py\n        modified:   src/sage/repl/preparse.py\n        modified:   src/sage/repl/rich_output/backend_doctest.py\n        modified:   src/sage/repl/rich_output/buffer.py\n        modified:   src/sage/repl/rich_output/output_basic.py\n        modified:   src/sage/repl/rich_output/output_browser.py\n        modified:   src/sage/repl/rich_output/output_graphics.py\n        modified:   src/sage/repl/rich_output/output_graphics3d.py\n        modified:   src/sage/rings/continued_fraction.py\n        modified:   src/sage/rings/finite_rings/element_givaro.pyx\n        modified:   src/sage/rings/finite_rings/finite_field_base.pyx\n        modified:   src/sage/rings/finite_rings/integer_mod.pyx\n        modified:   src/sage/rings/fraction_field.py\n        modified:   src/sage/rings/fraction_field_element.pyx\n        modified:   src/sage/rings/ideal_monoid.py\n        modified:   src/sage/rings/integer.pyx\n        modified:   src/sage/rings/number_field/number_field.py\n        modified:   src/sage/rings/number_field/order.py\n        modified:   src/sage/rings/number_field/small_primes_of_degree_one.py\n        modified:   src/sage/rings/number_field/unit_group.py\n        modified:   src/sage/rings/padics/padic_extension_generic.py\n        modified:   src/sage/rings/polynomial/infinite_polynomial_ring.py\n        modified:   src/sage/rings/polynomial/laurent_polynomial_ring.py\n        modified:   src/sage/rings/polynomial/multi_polynomial_element.py\n        modified:   src/sage/rings/polynomial/multi_polynomial_ideal.py\n        modified:   src/sage/rings/polynomial/multi_polynomial_libsingular.pyx\n        modified:   src/sage/rings/polynomial/multi_polynomial_ring.py\n        modified:   src/sage/rings/polynomial/multi_polynomial_ring_generic.pyx\n        modified:   src/sage/rings/polynomial/plural.pyx\n        modified:   src/sage/rings/polynomial/polydict.pyx\n        modified:   src/sage/rings/polynomial/polynomial_complex_arb.pyx\n        modified:   src/sage/rings/polynomial/polynomial_element.pyx\n        modified:   src/sage/rings/polynomial/polynomial_element_generic.py\n        modified:   src/sage/rings/polynomial/polynomial_quotient_ring.py\n        modified:   src/sage/rings/polynomial/polynomial_rational_flint.pyx\n        modified:   src/sage/rings/polynomial/polynomial_ring.py\n        modified:   src/sage/rings/quotient_ring_element.py\n        modified:   src/sage/rings/rational.pyx\n        modified:   src/sage/rings/real_double.pyx\n        modified:   src/sage/rings/real_mpfi.pyx\n        modified:   src/sage/rings/real_mpfr.pyx\n        modified:   src/sage/rings/sum_of_squares.pyx\n        modified:   src/sage/schemes/elliptic_curves/ec_database.py\n        modified:   src/sage/schemes/toric/points.py\n        modified:   src/sage/sets/disjoint_set.pyx\n        modified:   src/sage/sets/set.py\n        modified:   src/sage/sets/totally_ordered_finite_set.py\n        modified:   src/sage/stats/basic_stats.py\n        modified:   src/sage/stats/intlist.pyx\n        modified:   src/sage/structure/coerce.pyx\n        modified:   src/sage/structure/element_wrapper.pyx\n        modified:   src/sage/structure/proof/proof.py\n        modified:   src/sage/structure/sage_object.pyx\n        modified:   src/sage/structure/test_factory.py\n        modified:   src/sage/symbolic/expression.pyx\n        modified:   src/sage/symbolic/operators.py\n        modified:   src/sage/symbolic/ring.pyx\n        modified:   src/sage/tensor/modules/comp.py\n        modified:   src/sage/tests/french_book/nonlinear_doctest.py\n        modified:   src/sage/typeset/character_art_factory.py\n        modified:   src/sage_setup/autogen/interpreters/__init__.py\n        modified:   src/sage_setup/autogen/interpreters/generator.py\n        modified:   src/sage_setup/autogen/interpreters/specs/cdf.py\n        modified:   src/sage_setup/autogen/interpreters/specs/element.py\n        modified:   src/sage_setup/autogen/interpreters/specs/python.py\n        modified:   src/sage_setup/autogen/interpreters/utils.py\n```",
    "created_at": "2018-01-12T15:04:57Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373972",
    "user": "https://github.com/embray"
}
```

<a id='comment:8'></a>
Basically if you're thinking of fixing any little issue in any of the following modules, chances are I've already fixed it:

```
        modified:   src/sage/algebras/clifford_algebra.py
        modified:   src/sage/algebras/free_algebra.py
        modified:   src/sage/algebras/free_algebra_quotient.py
        modified:   src/sage/algebras/letterplace/free_algebra_element_letterplace.pyx
        modified:   src/sage/algebras/orlik_solomon.py
        modified:   src/sage/algebras/quatalg/quaternion_algebra.py
        modified:   src/sage/algebras/steenrod/steenrod_algebra.py
        modified:   src/sage/algebras/steenrod/steenrod_algebra_bases.py
        modified:   src/sage/arith/long.pxd
        modified:   src/sage/arith/misc.py
        modified:   src/sage/calculus/integration.pyx
        modified:   src/sage/calculus/ode.pyx
        modified:   src/sage/categories/finite_dimensional_algebras_with_basis.py
        modified:   src/sage/categories/functor.pyx
        modified:   src/sage/categories/magmas.py
        modified:   src/sage/categories/morphism.pyx
        modified:   src/sage/categories/pushout.py
        modified:   src/sage/categories/sets_cat.py
        modified:   src/sage/categories/unital_algebras.py
        modified:   src/sage/coding/decoder.py
        modified:   src/sage/coding/hamming_code.py
        modified:   src/sage/coding/linear_code.py
        modified:   src/sage/coding/subfield_subcode.py
        modified:   src/sage/combinat/combinat.py
        modified:   src/sage/combinat/crystals/generalized_young_walls.py
        modified:   src/sage/combinat/finite_state_machine.py
        modified:   src/sage/combinat/free_module.py
        modified:   src/sage/combinat/gray_codes.py
        modified:   src/sage/combinat/integer_lists/base.pyx
        modified:   src/sage/combinat/integer_lists/invlex.pyx
        modified:   src/sage/combinat/integer_matrices.py
        modified:   src/sage/combinat/integer_vector.py
        modified:   src/sage/combinat/multichoose_nk.py
        modified:   src/sage/combinat/permutation.py
        modified:   src/sage/combinat/ribbon_shaped_tableau.py
        modified:   src/sage/combinat/rigged_configurations/rigged_partition.py
        modified:   src/sage/combinat/root_system/type_dual.py
        modified:   src/sage/combinat/sf/k_dual.py
        modified:   src/sage/combinat/sf/new_kschur.py
        modified:   src/sage/combinat/sidon_sets.py
        modified:   src/sage/combinat/skew_tableau.py
        modified:   src/sage/combinat/species/series.py
        modified:   src/sage/combinat/subset.py
        modified:   src/sage/combinat/subword_complex.py
        modified:   src/sage/combinat/tiling.py
        modified:   src/sage/combinat/words/word_datatypes.pyx
        modified:   src/sage/combinat/words/word_infinite_datatypes.py
        modified:   src/sage/cpython/cython_metaclass.pyx
        modified:   src/sage/cpython/dict_del_by_value.pyx
        modified:   src/sage/cpython/getattr.pyx
        modified:   src/sage/cpython/string.pxd
        modified:   src/sage/cpython/wrapperdescr.pxd
        modified:   src/sage/cpython/wrapperdescr.pyx
        modified:   src/sage/data_structures/bitset.pxi
        modified:   src/sage/databases/conway.py
        modified:   src/sage/databases/cremona.py
        modified:   src/sage/doctest/forker.py
        modified:   src/sage/ext/fast_callable.pyx
        modified:   src/sage/finance/stock.py
        modified:   src/sage/finance/time_series.pyx
        modified:   src/sage/functions/min_max.py
        modified:   src/sage/functions/other.py
        modified:   src/sage/functions/wigner.py
        modified:   src/sage/geometry/polyhedron/backend_cdd.py
        modified:   src/sage/graphs/bipartite_graph.py
        modified:   src/sage/graphs/generators/degree_sequence.py
        modified:   src/sage/graphs/generic_graph.py
        modified:   src/sage/graphs/generic_graph_pyx.pyx
        modified:   src/sage/graphs/graph_list.py
        modified:   src/sage/graphs/hypergraph_generators.py
        modified:   src/sage/graphs/tutte_polynomial.py
        modified:   src/sage/groups/abelian_gps/abelian_group.py
        modified:   src/sage/groups/perm_gps/permgroup_named.py
        modified:   src/sage/homology/chain_complex.py
        modified:   src/sage/homology/chain_complex_morphism.py
        modified:   src/sage/homology/examples.py
        modified:   src/sage/homology/simplicial_complex.py
        modified:   src/sage/homology/simplicial_complex_morphism.py
        modified:   src/sage/interacts/debugger.py
        modified:   src/sage/interfaces/ecm.py
        modified:   src/sage/interfaces/expect.py
        modified:   src/sage/interfaces/gap.py
        modified:   src/sage/interfaces/interface.py
        modified:   src/sage/interfaces/maxima.py
        modified:   src/sage/interfaces/maxima_abstract.py
        modified:   src/sage/interfaces/process.pyx
        modified:   src/sage/interfaces/qsieve.py
        modified:   src/sage/interfaces/quit.py
        modified:   src/sage/interfaces/rubik.py
        modified:   src/sage/interfaces/sage0.py
        modified:   src/sage/interfaces/singular.py
        modified:   src/sage/interfaces/tachyon.py
        modified:   src/sage/interfaces/tides.py
        modified:   src/sage/knots/link.py
        modified:   src/sage/libs/ecl.pyx
        modified:   src/sage/libs/eclib/mwrank.pyx
        modified:   src/sage/libs/glpk/error.pyx
        modified:   src/sage/libs/mpmath/ext_impl.pyx
        modified:   src/sage/libs/mpmath/ext_libmp.pyx
        modified:   src/sage/libs/mpmath/ext_main.pyx
        modified:   src/sage/libs/ntl/error.pyx
        modified:   src/sage/libs/ntl/ntl_GF2X.pyx
        modified:   src/sage/libs/ntl/ntl_ZZ.pyx
        modified:   src/sage/libs/ntl/ntl_ZZX.pyx
        modified:   src/sage/libs/ntl/ntl_ZZ_p.pyx
        modified:   src/sage/libs/ntl/ntl_ZZ_pE.pyx
        modified:   src/sage/libs/ntl/ntl_ZZ_pX.pyx
        modified:   src/sage/logic/logic.py
        modified:   src/sage/logic/logicparser.py
        modified:   src/sage/manifolds/continuous_map.py
        modified:   src/sage/matrix/matrix2.pyx
        modified:   src/sage/matrix/matrix_cyclo_dense.pyx
        modified:   src/sage/matrix/matrix_generic_sparse.pyx
        modified:   src/sage/matrix/matrix_integer_dense.pyx
        modified:   src/sage/matrix/matrix_rational_dense.pyx
        modified:   src/sage/matrix/misc.pyx
        modified:   src/sage/misc/banner.py
        modified:   src/sage/misc/c3.pyx
        modified:   src/sage/misc/constant_function.pyx
        modified:   src/sage/misc/explain_pickle.py
        modified:   src/sage/misc/function_mangling.pyx
        modified:   src/sage/misc/lazy_attribute.pyx
        modified:   src/sage/misc/lazy_import.pyx
        modified:   src/sage/misc/misc.py
        modified:   src/sage/misc/object_multiplexer.py
        modified:   src/sage/misc/parser.pyx
        modified:   src/sage/misc/prandom.py
        modified:   src/sage/misc/reset.pyx
        modified:   src/sage/misc/rest_index_of_methods.py
        modified:   src/sage/misc/session.pyx
        modified:   src/sage/misc/stopgap.pyx
        modified:   src/sage/misc/superseded.py
        modified:   src/sage/misc/test_class_pickling.py
        modified:   src/sage/misc/trace.py
        modified:   src/sage/misc/unknown.py
        modified:   src/sage/modular/arithgroup/congroup_generic.py
        modified:   src/sage/modular/modsym/ambient.py
        modified:   src/sage/modules/free_module_element.pyx
        modified:   src/sage/modules/module.pyx
        modified:   src/sage/modules/with_basis/indexed_element.pyx
        modified:   src/sage/monoids/automatic_semigroup.py
        modified:   src/sage/monoids/free_monoid.py
        modified:   src/sage/numerical/backends/coin_backend.pyx
        modified:   src/sage/numerical/backends/cplex_backend.pyx
        modified:   src/sage/numerical/backends/cvxopt_backend.pyx
        modified:   src/sage/numerical/backends/generic_backend.pxd
        modified:   src/sage/numerical/backends/generic_backend.pyx
        modified:   src/sage/numerical/backends/glpk_backend.pyx
        modified:   src/sage/numerical/backends/gurobi_backend.pyx
        modified:   src/sage/numerical/backends/interactivelp_backend.pyx
        modified:   src/sage/numerical/backends/ppl_backend.pyx
        modified:   src/sage/parallel/multiprocessing_sage.py
        modified:   src/sage/parallel/use_fork.py
        modified:   src/sage/plot/plot3d/base.pyx
        modified:   src/sage/plot/plot3d/index_face_set.pyx
        modified:   src/sage/probability/random_variable.py
        modified:   src/sage/quadratic_forms/extras.py
        modified:   src/sage/quadratic_forms/quadratic_form__siegel_product.py
        modified:   src/sage/repl/attach.py
        modified:   src/sage/repl/ipython_kernel/interact.py
        modified:   src/sage/repl/load.py
        modified:   src/sage/repl/preparse.py
        modified:   src/sage/repl/rich_output/backend_doctest.py
        modified:   src/sage/repl/rich_output/buffer.py
        modified:   src/sage/repl/rich_output/output_basic.py
        modified:   src/sage/repl/rich_output/output_browser.py
        modified:   src/sage/repl/rich_output/output_graphics.py
        modified:   src/sage/repl/rich_output/output_graphics3d.py
        modified:   src/sage/rings/continued_fraction.py
        modified:   src/sage/rings/finite_rings/element_givaro.pyx
        modified:   src/sage/rings/finite_rings/finite_field_base.pyx
        modified:   src/sage/rings/finite_rings/integer_mod.pyx
        modified:   src/sage/rings/fraction_field.py
        modified:   src/sage/rings/fraction_field_element.pyx
        modified:   src/sage/rings/ideal_monoid.py
        modified:   src/sage/rings/integer.pyx
        modified:   src/sage/rings/number_field/number_field.py
        modified:   src/sage/rings/number_field/order.py
        modified:   src/sage/rings/number_field/small_primes_of_degree_one.py
        modified:   src/sage/rings/number_field/unit_group.py
        modified:   src/sage/rings/padics/padic_extension_generic.py
        modified:   src/sage/rings/polynomial/infinite_polynomial_ring.py
        modified:   src/sage/rings/polynomial/laurent_polynomial_ring.py
        modified:   src/sage/rings/polynomial/multi_polynomial_element.py
        modified:   src/sage/rings/polynomial/multi_polynomial_ideal.py
        modified:   src/sage/rings/polynomial/multi_polynomial_libsingular.pyx
        modified:   src/sage/rings/polynomial/multi_polynomial_ring.py
        modified:   src/sage/rings/polynomial/multi_polynomial_ring_generic.pyx
        modified:   src/sage/rings/polynomial/plural.pyx
        modified:   src/sage/rings/polynomial/polydict.pyx
        modified:   src/sage/rings/polynomial/polynomial_complex_arb.pyx
        modified:   src/sage/rings/polynomial/polynomial_element.pyx
        modified:   src/sage/rings/polynomial/polynomial_element_generic.py
        modified:   src/sage/rings/polynomial/polynomial_quotient_ring.py
        modified:   src/sage/rings/polynomial/polynomial_rational_flint.pyx
        modified:   src/sage/rings/polynomial/polynomial_ring.py
        modified:   src/sage/rings/quotient_ring_element.py
        modified:   src/sage/rings/rational.pyx
        modified:   src/sage/rings/real_double.pyx
        modified:   src/sage/rings/real_mpfi.pyx
        modified:   src/sage/rings/real_mpfr.pyx
        modified:   src/sage/rings/sum_of_squares.pyx
        modified:   src/sage/schemes/elliptic_curves/ec_database.py
        modified:   src/sage/schemes/toric/points.py
        modified:   src/sage/sets/disjoint_set.pyx
        modified:   src/sage/sets/set.py
        modified:   src/sage/sets/totally_ordered_finite_set.py
        modified:   src/sage/stats/basic_stats.py
        modified:   src/sage/stats/intlist.pyx
        modified:   src/sage/structure/coerce.pyx
        modified:   src/sage/structure/element_wrapper.pyx
        modified:   src/sage/structure/proof/proof.py
        modified:   src/sage/structure/sage_object.pyx
        modified:   src/sage/structure/test_factory.py
        modified:   src/sage/symbolic/expression.pyx
        modified:   src/sage/symbolic/operators.py
        modified:   src/sage/symbolic/ring.pyx
        modified:   src/sage/tensor/modules/comp.py
        modified:   src/sage/tests/french_book/nonlinear_doctest.py
        modified:   src/sage/typeset/character_art_factory.py
        modified:   src/sage_setup/autogen/interpreters/__init__.py
        modified:   src/sage_setup/autogen/interpreters/generator.py
        modified:   src/sage_setup/autogen/interpreters/specs/cdf.py
        modified:   src/sage_setup/autogen/interpreters/specs/element.py
        modified:   src/sage_setup/autogen/interpreters/specs/python.py
        modified:   src/sage_setup/autogen/interpreters/utils.py
```



---

archive/issue_comments_373973.json:
```json
{
    "body": "<a id='comment:9'></a>\nmaybe it is better not to split, but just bite the bullet and get it in? Perhaps in a dedicated beta?",
    "created_at": "2018-01-12T18:04:44Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373973",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
maybe it is better not to split, but just bite the bullet and get it in? Perhaps in a dedicated beta?



---

archive/issue_comments_373974.json:
```json
{
    "body": "<a id='comment:10'></a>\nWell, it still needs to be reviewed and that works better in small pieces.",
    "created_at": "2018-01-12T18:16:15Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373974",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>
Well, it still needs to be reviewed and that works better in small pieces.



---

archive/issue_comments_373975.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [embray](#comment%3A6):\n> Replying to [dimpase](#comment%3A2):\n> > looks good to me. \n> > \n> > I cannot help thinking that this is actually a Python bug, for they should accept\n> > anything in `numbers.Integral` as input, and not only `int`.\n> > Maybe someone with more insight into Python guts can comment. Jeroen?\n\n> \n> It's sort of a bug.  I brought this up here: https://mail.python.org/pipermail/python-ideas/2017-December/048411.html\n\nIt seems unfortunate and short-sighted that instead of understanding the need for `numbers.Integral`-parameters to be accepted by the standard library functions throughout, \npython devs start lamenting about loss in efficiency in cpython...",
    "created_at": "2018-01-12T18:18:29Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373975",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>
Replying to [embray](#comment%3A6):
> Replying to [dimpase](#comment%3A2):
> > looks good to me. 
> > 
> > I cannot help thinking that this is actually a Python bug, for they should accept
> > anything in `numbers.Integral` as input, and not only `int`.
> > Maybe someone with more insight into Python guts can comment. Jeroen?

> 
> It's sort of a bug.  I brought this up here: https://mail.python.org/pipermail/python-ideas/2017-December/048411.html

It seems unfortunate and short-sighted that instead of understanding the need for `numbers.Integral`-parameters to be accepted by the standard library functions throughout, 
python devs start lamenting about loss in efficiency in cpython...



---

archive/issue_comments_373976.json:
```json
{
    "body": "<a id='comment:12'></a>\nI would rather review one limited in scope patchbomb like this than 20 tickets fixing the same issue in different files.",
    "created_at": "2018-01-12T18:20:03Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373976",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>
I would rather review one limited in scope patchbomb like this than 20 tickets fixing the same issue in different files.



---

archive/issue_events_217477.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-01-15T22:29:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24528#event-217477"
}
```



---

archive/issue_events_217478.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f0ec00d4df308c6fb1f059d491653c679ce104cb",
    "created_at": "2018-01-15T22:29:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24528#event-217478"
}
```



---

archive/issue_comments_373977.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/24528](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/24528)\" to \"[3ea05e416d78f70196357cd157904da68daa5d1a](https://github.com/sagemath/sagetrac-mirror/commit/3ea05e416d78f70196357cd157904da68daa5d1a)\".",
    "created_at": "2018-01-15T22:29:02Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373977",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/24528](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/24528)" to "[3ea05e416d78f70196357cd157904da68daa5d1a](https://github.com/sagemath/sagetrac-mirror/commit/3ea05e416d78f70196357cd157904da68daa5d1a)".



---

archive/issue_comments_373978.json:
```json
{
    "body": "**Changing commit** from \"[3ea05e416d78f70196357cd157904da68daa5d1a](https://github.com/sagemath/sagetrac-mirror/commit/3ea05e416d78f70196357cd157904da68daa5d1a)\" to \"\".",
    "created_at": "2018-01-16T16:28:54Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373978",
    "user": "https://github.com/embray"
}
```

**Changing commit** from "[3ea05e416d78f70196357cd157904da68daa5d1a](https://github.com/sagemath/sagetrac-mirror/commit/3ea05e416d78f70196357cd157904da68daa5d1a)" to "".



---

archive/issue_comments_373979.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [dimpase](#comment%3A12):\n> I would rather review one limited in scope patchbomb like this than 20 tickets fixing the same issue in different files.\n\nUnfortunately it's not limited scope.  Well many of the changes could be organized into a few basic categories (the majority are either dealing with str/bytes or `__hash__` and `__cmp__` issues, I think), it's way too much to look at all at once.  Also the reason I'm so behind on opening tickets for all these changes is that many of them are incomplete or only temporary hacks to get other tests passing.  So I have a lot of work to do in organizing all this.  I'm trying my best to catch up.",
    "created_at": "2018-01-16T16:28:54Z",
    "issue": "https://github.com/sagemath/sage/issues/24528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24528#issuecomment-373979",
    "user": "https://github.com/embray"
}
```

<a id='comment:14'></a>
Replying to [dimpase](#comment%3A12):
> I would rather review one limited in scope patchbomb like this than 20 tickets fixing the same issue in different files.

Unfortunately it's not limited scope.  Well many of the changes could be organized into a few basic categories (the majority are either dealing with str/bytes or `__hash__` and `__cmp__` issues, I think), it's way too much to look at all at once.  Also the reason I'm so behind on opening tickets for all these changes is that many of them are incomplete or only temporary hacks to get other tests passing.  So I have a lot of work to do in organizing all this.  I'm trying my best to catch up.
