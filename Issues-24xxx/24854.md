# Issue 24854: Run doctests in CI

archive/issues_024617.json:
```json
{
    "body": "This ticket proposes to run the doctests on [GitLab](GitLab).\n\nOn GitLab, I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on GitLab CI.)\n\n[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://gitlab.com/sagemath/dev/trac/badges/u/saraedum/24854/pipeline.svg,link=https://gitlab.com/sagemath/dev/trac/commits/u/saraedum/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)\n\nCC:  @embray @nthiery @roed314\n\nKeywords: docker, ContinuousIntegration\n\nAuthor: Julian R\u00fcth\n\nBranch: u/mkoeppe/24854\n\nStatus: new\n\nCommit: 24e292c362d0b4736b1cb4abd065745d219a4c12\n\nIssue created by migration from https://trac.sagemath.org/ticket/24854\n\n",
    "created_at": "2018-02-27T10:36:42Z",
    "labels": [
        "component: build",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Run doctests in CI",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24854",
    "user": "https://github.com/saraedum"
}
```
This ticket proposes to run the doctests on [GitLab](GitLab).

On GitLab, I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on GitLab CI.)

[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://gitlab.com/sagemath/dev/trac/badges/u/saraedum/24854/pipeline.svg,link=https://gitlab.com/sagemath/dev/trac/commits/u/saraedum/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)

CC:  @embray @nthiery @roed314

Keywords: docker, ContinuousIntegration

Author: Julian RÃ¼th

Branch: u/mkoeppe/24854

Status: new

Commit: 24e292c362d0b4736b1cb4abd065745d219a4c12

Issue created by migration from https://trac.sagemath.org/ticket/24854





---

archive/issue_comments_367687.json:
```json
{
    "body": "<a id='comment:1'></a>There were some issues with building the documentation (namely building the German \"A Tour of Sage\".) Apparently some package is missing, see https://github.com/cschwan/sage-on-gentoo/issues/338#issuecomment-370908709.",
    "created_at": "2018-03-17T19:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367687",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:1'></a>There were some issues with building the documentation (namely building the German "A Tour of Sage".) Apparently some package is missing, see https://github.com/cschwan/sage-on-gentoo/issues/338#issuecomment-370908709.



---

archive/issue_comments_367688.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n-Let's see how run the non-long tests take on the CIs.\n+on CircleCI we run the non-long doctests always the about half an hour, if I recall correctly. On [GitLab](GitLab) the non-long doctests take about 90 minutes on the\n+shared runners which is too much to run them always. The --long doctests takes\n+ages on the shared runners, so we only run them when they were triggered\n+manually.\n+\n \n Dependencies: #24655\n \n```\n",
    "created_at": "2018-04-29T00:55:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367688",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,8 @@
-Let's see how run the non-long tests take on the CIs.
+on CircleCI we run the non-long doctests always the about half an hour, if I recall correctly. On [GitLab](GitLab) the non-long doctests take about 90 minutes on the
+shared runners which is too much to run them always. The --long doctests takes
+ages on the shared runners, so we only run them when they were triggered
+manually.
+
 
 Dependencies: #24655
 
```




---

archive/issue_comments_367689.json:
```json
{
    "body": "<a id='comment:3'></a>Last 10 new commits:",
    "created_at": "2018-04-29T00:55:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367689",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:3'></a>Last 10 new commits:



---

archive/issue_comments_367690.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n+on CircleCI we run the non-long doctests always (they take about half an hour, if I recall correctly.) On [GitLab](GitLab) the non-long doctests take about 90 minutes on the free shared runners which is too much to run them always. The --long doctests takes ages on the shared runners, so we only run them when they were triggered manually.\n \n \n Dependencies: #24655\n```\n",
    "created_at": "2018-04-29T00:56:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367690",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,4 @@
+on CircleCI we run the non-long doctests always (they take about half an hour, if I recall correctly.) On [GitLab](GitLab) the non-long doctests take about 90 minutes on the free shared runners which is too much to run them always. The --long doctests takes ages on the shared runners, so we only run them when they were triggered manually.
 
 
 Dependencies: #24655
```




---

archive/issue_comments_367691.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+on CircleCI we run the non-long doctests always (they take about half an hour, if I recall correctly.) On [GitLab](GitLab) the non-long doctests take about 90 minutes on the free shared runners which is too much to run them always. The --long doctests takes ages on the shared runners, so we only run them when they were triggered manually.\n \n+To see this branch on CircleCI: https://circleci.com/gh/saraedum/sage/tree/doctest-ci\n+\n+and on [GitLab](GitLab) CI: https://gitlab.com/saraedum/sage/commits/doctest-ci\n \n Dependencies: #24655\n \n```\n",
    "created_at": "2018-04-29T00:57:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367691",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,8 @@
+on CircleCI we run the non-long doctests always (they take about half an hour, if I recall correctly.) On [GitLab](GitLab) the non-long doctests take about 90 minutes on the free shared runners which is too much to run them always. The --long doctests takes ages on the shared runners, so we only run them when they were triggered manually.
 
+To see this branch on CircleCI: https://circleci.com/gh/saraedum/sage/tree/doctest-ci
+
+and on [GitLab](GitLab) CI: https://gitlab.com/saraedum/sage/commits/doctest-ci
 
 Dependencies: #24655
 
```




---

archive/issue_comments_367692.json:
```json
{
    "body": "<a id='comment:6'></a>One thing Sage desperately needs is a \"short\" test suite for quick smoke tests--maybe not achieving quite as high coverage but still a lot.\n\nActually what we really need is better (any) coverage analysis.  That's something that's been high on my TODO list (among other things high on that list), and is probably a bit challenging to get working right.",
    "created_at": "2018-04-29T09:05:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367692",
    "user": "https://github.com/embray"
}
```

<a id='comment:6'></a>One thing Sage desperately needs is a "short" test suite for quick smoke tests--maybe not achieving quite as high coverage but still a lot.

Actually what we really need is better (any) coverage analysis.  That's something that's been high on my TODO list (among other things high on that list), and is probably a bit challenging to get working right.



---

archive/issue_comments_367693.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,12 @@\n+It would be nice to (at least optionally) run doctests through the CI framework.\n \n+The non-long doctests take 100 minutes on CircleCI and 80 minutes on GitLab's shared runners.\n+\n+The long doctests take ? minutes.\n+\n+To see this branch on CircleCI: https://circleci.com/gh/saraedum/workflows/sage\n+\n+and on [GitLab](GitLab) CI: https://gitlab.com/saraedum/sage/commits/doctest-ci\n \n Dependencies: #24655\n \n```\n",
    "created_at": "2018-04-29T17:47:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367693",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,12 @@
+It would be nice to (at least optionally) run doctests through the CI framework.
 
+The non-long doctests take 100 minutes on CircleCI and 80 minutes on GitLab's shared runners.
+
+The long doctests take ? minutes.
+
+To see this branch on CircleCI: https://circleci.com/gh/saraedum/workflows/sage
+
+and on [GitLab](GitLab) CI: https://gitlab.com/saraedum/sage/commits/doctest-ci
 
 Dependencies: #24655
 
```




---

archive/issue_comments_367694.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,12 @@\n+It would be nice to (at least optionally) run doctests through the CI framework.\n \n+The non-long doctests take 100 minutes on CircleCI and 120 minutes on GitLab's shared runners.\n+\n+The long doctests take ? minutes.\n+\n+To see this branch on CircleCI: https://circleci.com/gh/saraedum/workflows/sage\n+\n+and on [GitLab](GitLab) CI: https://gitlab.com/saraedum/sage/commits/doctest-ci\n \n Dependencies: #24655\n \n```\n",
    "created_at": "2018-04-29T19:04:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367694",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,12 @@
+It would be nice to (at least optionally) run doctests through the CI framework.
 
+The non-long doctests take 100 minutes on CircleCI and 120 minutes on GitLab's shared runners.
+
+The long doctests take ? minutes.
+
+To see this branch on CircleCI: https://circleci.com/gh/saraedum/workflows/sage
+
+and on [GitLab](GitLab) CI: https://gitlab.com/saraedum/sage/commits/doctest-ci
 
 Dependencies: #24655
 
```




---

archive/issue_comments_367695.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2018-04-30T10:59:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367695",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_367696.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,15 @@\n+This ticket proposes to run the doctests on CircleCI/GitLab.\n \n+On CircleCI, I would like to run the normal doctests always and the --long ones only if explicitly askes for by the user.\n+\n+On [GitLab](GitLab), I would like to run the normal doctests always and the --long ones if the non-long ones passed. (Without explicit confirmation, as it is easier to get additional runners on [GitLab](GitLab) CI.)\n+\n+On CircleCI, the doctests (without --long) take about 100 minutes, the --long tests take 145 minutes.\n+On [GitLab](GitLab) CI, these are 150 and  173 minutes.\n+\n+To see this branch on CircleCI: https://circleci.com/gh/saraedum/workflows/sage\n+\n+and on [GitLab](GitLab) CI: https://gitlab.com/saraedum/sage/commits/doctest-ci\n \n Dependencies: #24655\n \n```\n",
    "created_at": "2018-04-30T22:22:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367696",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,15 @@
+This ticket proposes to run the doctests on CircleCI/GitLab.
 
+On CircleCI, I would like to run the normal doctests always and the --long ones only if explicitly askes for by the user.
+
+On [GitLab](GitLab), I would like to run the normal doctests always and the --long ones if the non-long ones passed. (Without explicit confirmation, as it is easier to get additional runners on [GitLab](GitLab) CI.)
+
+On CircleCI, the doctests (without --long) take about 100 minutes, the --long tests take 145 minutes.
+On [GitLab](GitLab) CI, these are 150 and  173 minutes.
+
+To see this branch on CircleCI: https://circleci.com/gh/saraedum/workflows/sage
+
+and on [GitLab](GitLab) CI: https://gitlab.com/saraedum/sage/commits/doctest-ci
 
 Dependencies: #24655
 
```




---

archive/issue_comments_367697.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-01T16:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367697",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367698.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-01T17:01:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367698",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367699.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-01T20:40:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367699",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367700.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-05-01T20:52:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367700",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_367701.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,14 @@\n+This ticket proposes to run the doctests on CircleCI/GitLab.\n \n+On CircleCI, I would like to run the --new doctests and the --short doctests always. And the --long ones only if explicitly askes for by the user.\n+\n+On [GitLab](GitLab), I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on [GitLab](GitLab) CI.)\n+\n+On CircleCI, the doctests (without --long) take about 100 minutes, the --long tests take 145 minutes; so there is no point in not running them without --long. The --short tests take about 10 minutes (or whatever #25270 defines --short to be.) The --new ones take a few seconds normally.\n+\n+To see this branch on CircleCI: https://circleci.com/gh/saraedum/workflows/sage\n+\n+and on [GitLab](GitLab) CI: https://gitlab.com/saraedum/sage/commits/doctest-ci\n \n Dependencies: #24655\n \n```\n",
    "created_at": "2018-05-02T13:28:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367701",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,14 @@
+This ticket proposes to run the doctests on CircleCI/GitLab.
 
+On CircleCI, I would like to run the --new doctests and the --short doctests always. And the --long ones only if explicitly askes for by the user.
+
+On [GitLab](GitLab), I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on [GitLab](GitLab) CI.)
+
+On CircleCI, the doctests (without --long) take about 100 minutes, the --long tests take 145 minutes; so there is no point in not running them without --long. The --short tests take about 10 minutes (or whatever #25270 defines --short to be.) The --new ones take a few seconds normally.
+
+To see this branch on CircleCI: https://circleci.com/gh/saraedum/workflows/sage
+
+and on [GitLab](GitLab) CI: https://gitlab.com/saraedum/sage/commits/doctest-ci
 
 Dependencies: #24655
 
```




---

archive/issue_comments_367702.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2018-05-20T22:19:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367702",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_367703.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-20T22:26:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367703",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367704.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,13 @@\n+This ticket proposes to run the doctests on CircleCI/GitLab.\n \n+On CircleCI, I would like to run the --new doctests and the --short doctests always. And the --long ones only if explicitly askes for by the user.\n+\n+On [GitLab](GitLab), I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on [GitLab](GitLab) CI.)\n+\n+On CircleCI, the doctests (without --long) take about 100 minutes, the --long tests take 145 minutes; so there is no point in not running them without --long. The --short tests take about 10 minutes (or whatever #25270 defines --short to be.) The --new ones take a few seconds normally.\n+\n+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://circleci.com/gh/saraedum/sage/tree/24854.svg?style=svg,link=https://circleci.com/gh/saraedum/sage/tree/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)\n+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://gitlab.com/sagemath/dev/trac/badges/24854/pipeline.svg,link=https://gitlab.com/sagemath/dev/trac/commits/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)\n \n Dependencies: #24655\n \n```\n",
    "created_at": "2018-05-20T22:32:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367704",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,13 @@
+This ticket proposes to run the doctests on CircleCI/GitLab.
 
+On CircleCI, I would like to run the --new doctests and the --short doctests always. And the --long ones only if explicitly askes for by the user.
+
+On [GitLab](GitLab), I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on [GitLab](GitLab) CI.)
+
+On CircleCI, the doctests (without --long) take about 100 minutes, the --long tests take 145 minutes; so there is no point in not running them without --long. The --short tests take about 10 minutes (or whatever #25270 defines --short to be.) The --new ones take a few seconds normally.
+
+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://circleci.com/gh/saraedum/sage/tree/24854.svg?style=svg,link=https://circleci.com/gh/saraedum/sage/tree/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)
+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://gitlab.com/sagemath/dev/trac/badges/24854/pipeline.svg,link=https://gitlab.com/sagemath/dev/trac/commits/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)
 
 Dependencies: #24655
 
```




---

archive/issue_comments_367705.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-22T20:37:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367705",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367706.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,13 @@\n+This ticket proposes to run the doctests on CircleCI/GitLab.\n \n+On CircleCI, I would like to run the --new doctests and the --short doctests always. And the --long ones only if explicitly askes for by the user.\n+\n+On [GitLab](GitLab), I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on [GitLab](GitLab) CI.)\n+\n+On CircleCI, the doctests (without --long) take about 100 minutes, the --long tests take 145 minutes; so there is no point in not running them without --long. The --short tests take about 10 minutes (or whatever #25270 defines --short to be.) The --new ones take a few seconds normally.\n+\n+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://circleci.com/gh/saraedum/sage/tree/24854.svg?style=svg,link=https://circleci.com/gh/saraedum/sage/tree/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)\n+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://gitlab.com/sagemath/dev/trac/badges/u/saraedum/24854/pipeline.svg,link=https://gitlab.com/sagemath/dev/trac/commits/u/saraedum/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)\n \n Dependencies: #24655\n \n```\n",
    "created_at": "2018-05-22T20:38:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367706",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,13 @@
+This ticket proposes to run the doctests on CircleCI/GitLab.
 
+On CircleCI, I would like to run the --new doctests and the --short doctests always. And the --long ones only if explicitly askes for by the user.
+
+On [GitLab](GitLab), I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on [GitLab](GitLab) CI.)
+
+On CircleCI, the doctests (without --long) take about 100 minutes, the --long tests take 145 minutes; so there is no point in not running them without --long. The --short tests take about 10 minutes (or whatever #25270 defines --short to be.) The --new ones take a few seconds normally.
+
+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://circleci.com/gh/saraedum/sage/tree/24854.svg?style=svg,link=https://circleci.com/gh/saraedum/sage/tree/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)
+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://gitlab.com/sagemath/dev/trac/badges/u/saraedum/24854/pipeline.svg,link=https://gitlab.com/sagemath/dev/trac/commits/u/saraedum/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)
 
 Dependencies: #24655
 
```




---

archive/issue_comments_367707.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-22T20:38:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367707",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367708.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-31T23:19:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367708",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367709.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-01T00:39:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367709",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367710.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-01T00:42:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367710",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367711.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-09T10:53:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367711",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367712.json:
```json
{
    "body": "<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-13T21:09:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367712",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367713.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-21T10:09:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367713",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367714.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2018-07-06T11:31:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367714",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_367715.json:
```json
{
    "body": "<a id='comment:33'></a>Slightly related (prompted by #25809): Could we make the sage installation read-only before running the doctests on CI?",
    "created_at": "2018-07-10T12:02:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367715",
    "user": "https://github.com/timokau"
}
```

<a id='comment:33'></a>Slightly related (prompted by #25809): Could we make the sage installation read-only before running the doctests on CI?



---

archive/issue_comments_367716.json:
```json
{
    "body": "<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-11T05:11:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367716",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367717.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,13 @@\n+This ticket proposes to run the doctests on CircleCI/GitLab.\n \n+On CircleCI, I would like to run the --new doctests and the --short doctests always. And the --long ones only if explicitly asked for by the user.\n+\n+On [GitLab](GitLab), I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on [GitLab](GitLab) CI.)\n+\n+On CircleCI, the doctests (without --long) take about 100 minutes, the --long tests take 145 minutes; so there is no point in not running them without --long. The --short tests take about 10 minutes (or whatever #25270 defines --short to be.) The --new ones take a few seconds normally.\n+\n+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://circleci.com/gh/saraedum/sage/tree/24854.svg?style=svg,link=https://circleci.com/gh/saraedum/sage/tree/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)\n+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://gitlab.com/sagemath/dev/trac/badges/u/saraedum/24854/pipeline.svg,link=https://gitlab.com/sagemath/dev/trac/commits/u/saraedum/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)\n \n Dependencies: #24655\n \n```\n",
    "created_at": "2018-07-11T05:14:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367717",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,13 @@
+This ticket proposes to run the doctests on CircleCI/GitLab.
 
+On CircleCI, I would like to run the --new doctests and the --short doctests always. And the --long ones only if explicitly asked for by the user.
+
+On [GitLab](GitLab), I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on [GitLab](GitLab) CI.)
+
+On CircleCI, the doctests (without --long) take about 100 minutes, the --long tests take 145 minutes; so there is no point in not running them without --long. The --short tests take about 10 minutes (or whatever #25270 defines --short to be.) The --new ones take a few seconds normally.
+
+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://circleci.com/gh/saraedum/sage/tree/24854.svg?style=svg,link=https://circleci.com/gh/saraedum/sage/tree/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)
+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://gitlab.com/sagemath/dev/trac/badges/u/saraedum/24854/pipeline.svg,link=https://gitlab.com/sagemath/dev/trac/commits/u/saraedum/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)
 
 Dependencies: #24655
 
```




---

archive/issue_comments_367718.json:
```json
{
    "body": "<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-11T08:53:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367718",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367719.json:
```json
{
    "body": "Changing keywords from \"\" to \"docker, CI\".",
    "created_at": "2018-07-19T11:26:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367719",
    "user": "https://github.com/saraedum"
}
```

Changing keywords from "" to "docker, CI".



---

archive/issue_comments_367720.json:
```json
{
    "body": "<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2018-07-20T07:36:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367720",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_367721.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,13 @@\n+This ticket proposes to run the doctests on CircleCI/GitLab.\n \n+On CircleCI, I would like to run the --new doctests and the --short doctests always. And the --long ones only if explicitly asked for by the user.\n+\n+On [GitLab](GitLab), I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on [GitLab](GitLab) CI.)\n+\n+On CircleCI, the doctests (without --long) take about 100 minutes, the --long tests take 145 minutes; so there is no point in not running them without --long. The --short tests take about 5 minutes. The --new ones take a few seconds normally.\n+\n+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://circleci.com/gh/saraedum/sage/tree/24854.svg?style=svg,link=https://circleci.com/gh/saraedum/sage/tree/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)\n+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://gitlab.com/sagemath/dev/trac/badges/u/saraedum/24854/pipeline.svg,link=https://gitlab.com/sagemath/dev/trac/commits/u/saraedum/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)\n \n Dependencies: #24655\n \n```\n",
    "created_at": "2018-07-20T07:36:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367721",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,13 @@
+This ticket proposes to run the doctests on CircleCI/GitLab.
 
+On CircleCI, I would like to run the --new doctests and the --short doctests always. And the --long ones only if explicitly asked for by the user.
+
+On [GitLab](GitLab), I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on [GitLab](GitLab) CI.)
+
+On CircleCI, the doctests (without --long) take about 100 minutes, the --long tests take 145 minutes; so there is no point in not running them without --long. The --short tests take about 5 minutes. The --new ones take a few seconds normally.
+
+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://circleci.com/gh/saraedum/sage/tree/24854.svg?style=svg,link=https://circleci.com/gh/saraedum/sage/tree/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)
+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://gitlab.com/sagemath/dev/trac/badges/u/saraedum/24854/pipeline.svg,link=https://gitlab.com/sagemath/dev/trac/commits/u/saraedum/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)
 
 Dependencies: #24655
 
```




---

archive/issue_comments_367722.json:
```json
{
    "body": "<a id='comment:39'></a>Last 10 new commits:",
    "created_at": "2018-07-20T07:36:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367722",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:39'></a>Last 10 new commits:



---

archive/issue_comments_367723.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,13 @@\n+This ticket proposes to run the doctests on CircleCI/GitLab.\n \n+On CircleCI, I would like to run the --new doctests and the --short doctests always. And the --long ones only if explicitly asked for by the user.\n+\n+On GitLab, I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on [GitLab](GitLab) CI.)\n+\n+On CircleCI, the doctests (without --long) take about 100 minutes, the --long tests take 145 minutes; so there is no point in not running them without --long. The --short tests take about 5 minutes. The --new ones take a few seconds normally.\n+\n+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://circleci.com/gh/saraedum/sage/tree/24854.svg?style=svg,link=https://circleci.com/gh/saraedum/sage/tree/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)\n+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://gitlab.com/sagemath/dev/trac/badges/u/saraedum/24854/pipeline.svg,link=https://gitlab.com/sagemath/dev/trac/commits/u/saraedum/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)\n \n Dependencies: #24655\n \n```\n",
    "created_at": "2018-07-20T07:36:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367723",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,13 @@
+This ticket proposes to run the doctests on CircleCI/GitLab.
 
+On CircleCI, I would like to run the --new doctests and the --short doctests always. And the --long ones only if explicitly asked for by the user.
+
+On GitLab, I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on [GitLab](GitLab) CI.)
+
+On CircleCI, the doctests (without --long) take about 100 minutes, the --long tests take 145 minutes; so there is no point in not running them without --long. The --short tests take about 5 minutes. The --new ones take a few seconds normally.
+
+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://circleci.com/gh/saraedum/sage/tree/24854.svg?style=svg,link=https://circleci.com/gh/saraedum/sage/tree/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)
+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://gitlab.com/sagemath/dev/trac/badges/u/saraedum/24854/pipeline.svg,link=https://gitlab.com/sagemath/dev/trac/commits/u/saraedum/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)
 
 Dependencies: #24655
 
```




---

archive/issue_comments_367724.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,13 @@\n+This ticket proposes to run the doctests on CircleCI/GitLab.\n \n+On CircleCI, I would like to run the --new doctests and the --short doctests always. And the --long ones only if explicitly asked for by the user.\n+\n+On GitLab, I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on GitLab CI.)\n+\n+On CircleCI, the doctests (without --long) take about 100 minutes, the --long tests take 145 minutes; so there is no point in not running them without --long. The --short tests take about 5 minutes. The --new ones take a few seconds normally.\n+\n+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://circleci.com/gh/saraedum/sage/tree/24854.svg?style=svg,link=https://circleci.com/gh/saraedum/sage/tree/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)\n+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://gitlab.com/sagemath/dev/trac/badges/u/saraedum/24854/pipeline.svg,link=https://gitlab.com/sagemath/dev/trac/commits/u/saraedum/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)\n \n Dependencies: #24655\n \n```\n",
    "created_at": "2018-07-20T07:37:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367724",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,13 @@
+This ticket proposes to run the doctests on CircleCI/GitLab.
 
+On CircleCI, I would like to run the --new doctests and the --short doctests always. And the --long ones only if explicitly asked for by the user.
+
+On GitLab, I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on GitLab CI.)
+
+On CircleCI, the doctests (without --long) take about 100 minutes, the --long tests take 145 minutes; so there is no point in not running them without --long. The --short tests take about 5 minutes. The --new ones take a few seconds normally.
+
+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://circleci.com/gh/saraedum/sage/tree/24854.svg?style=svg,link=https://circleci.com/gh/saraedum/sage/tree/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)
+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://gitlab.com/sagemath/dev/trac/badges/u/saraedum/24854/pipeline.svg,link=https://gitlab.com/sagemath/dev/trac/commits/u/saraedum/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)
 
 Dependencies: #24655
 
```




---

archive/issue_comments_367725.json:
```json
{
    "body": "<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-28T12:33:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367725",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367726.json:
```json
{
    "body": "<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-28T12:34:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367726",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367727.json:
```json
{
    "body": "<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-29T10:03:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367727",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367728.json:
```json
{
    "body": "<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-31T12:10:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367728",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367729.json:
```json
{
    "body": "<a id='comment:46'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-07-31T12:12:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367729",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:46'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_367730.json:
```json
{
    "body": "<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-07T16:38:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367730",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367731.json:
```json
{
    "body": "<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-09T00:22:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367731",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367732.json:
```json
{
    "body": "<a id='comment:49'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-16T22:34:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367732",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:49'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367733.json:
```json
{
    "body": "<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-21T01:46:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367733",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367734.json:
```json
{
    "body": "<a id='comment:51'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-21T17:55:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367734",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:51'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367735.json:
```json
{
    "body": "<a id='comment:52'></a>Something you can remind me about `--short`: Does it randomize the order the order or otherwise somehow cycle the order in which the tests were run?\n\nI was also thinking maybe it would help, for advisory test runs, to have a few other heuristics, such as definitely run the tests in any files that were modified by a commit.  It's also reasonably easy most of the time to build a graph of other modules that depend on the modified modules, and maybe walk that graph breadth-first.\n\nJust some thoughts as to how to minimize the number of tests run, while still catching the majority (though certainly not all) failures.",
    "created_at": "2018-08-22T09:07:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367735",
    "user": "https://github.com/embray"
}
```

<a id='comment:52'></a>Something you can remind me about `--short`: Does it randomize the order the order or otherwise somehow cycle the order in which the tests were run?

I was also thinking maybe it would help, for advisory test runs, to have a few other heuristics, such as definitely run the tests in any files that were modified by a commit.  It's also reasonably easy most of the time to build a graph of other modules that depend on the modified modules, and maybe walk that graph breadth-first.

Just some thoughts as to how to minimize the number of tests run, while still catching the majority (though certainly not all) failures.



---

archive/issue_comments_367736.json:
```json
{
    "body": "<a id='comment:53'></a>I also forgot about `--new`.  That's good too.",
    "created_at": "2018-08-22T09:08:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367736",
    "user": "https://github.com/embray"
}
```

<a id='comment:53'></a>I also forgot about `--new`.  That's good too.



---

archive/issue_comments_367737.json:
```json
{
    "body": "<a id='comment:54'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-22T22:48:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367737",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:54'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367738.json:
```json
{
    "body": "<a id='comment:55'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-22T23:43:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367738",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:55'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367739.json:
```json
{
    "body": "<a id='comment:56'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-23T00:52:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367739",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:56'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367740.json:
```json
{
    "body": "<a id='comment:57'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-23T01:47:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367740",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:57'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367741.json:
```json
{
    "body": "<a id='comment:58'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-23T02:08:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367741",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:58'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367742.json:
```json
{
    "body": "<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-23T03:01:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367742",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367743.json:
```json
{
    "body": "<a id='comment:60'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-23T03:46:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367743",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:60'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367744.json:
```json
{
    "body": "<a id='comment:61'></a>Replying to [comment:52 embray]:\n> Something you can remind me about `--short`: Does it randomize the order the order or otherwise somehow cycle the order in which the tests were run?\n\nNo, except for variations in timing which make the system run more or less doctest, this is deterministic.\n\n> I was also thinking maybe it would help, for advisory test runs, to have a few other heuristics, such as definitely run the tests in any files that were modified by a commit.  It's also reasonably easy most of the time to build a graph of other modules that depend on the modified modules, and maybe walk that graph breadth-first.\n\nYes, I already run --new. A dependency graph would be awesome of course and much more relevant.",
    "created_at": "2018-08-23T04:25:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367744",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:61'></a>Replying to [comment:52 embray]:
> Something you can remind me about `--short`: Does it randomize the order the order or otherwise somehow cycle the order in which the tests were run?

No, except for variations in timing which make the system run more or less doctest, this is deterministic.

> I was also thinking maybe it would help, for advisory test runs, to have a few other heuristics, such as definitely run the tests in any files that were modified by a commit.  It's also reasonably easy most of the time to build a graph of other modules that depend on the modified modules, and maybe walk that graph breadth-first.

Yes, I already run --new. A dependency graph would be awesome of course and much more relevant.



---

archive/issue_comments_367745.json:
```json
{
    "body": "<a id='comment:62'></a>Oh, this was really complicated to make work everywhere. I should definitely squash the commit history here. But let's wait for the dependencies to be merged first.",
    "created_at": "2018-08-23T04:26:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367745",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:62'></a>Oh, this was really complicated to make work everywhere. I should definitely squash the commit history here. But let's wait for the dependencies to be merged first.



---

archive/issue_comments_367746.json:
```json
{
    "body": "<a id='comment:63'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-23T14:22:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367746",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:63'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367747.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,13 @@\n+This ticket proposes to run the doctests on CircleCI/GitLab.\n \n+On CircleCI, I would like to run the --new doctests and the --short doctests always. And the --long ones only if explicitly asked for by the user.\n+\n+On GitLab, I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on GitLab CI.)\n+\n+On CircleCI, the doctests (without --long) take about 100 minutes, the --long tests take 145 minutes; so there is no point in not running them without --long. The --short tests take about 5 minutes. The --new ones take a few seconds normally.\n+\n+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://circleci.com/gh/saraedum/sage/tree/24854.svg?style=svg,link=https://circleci.com/gh/saraedum/workflows/sage/tree/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)\n+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://gitlab.com/sagemath/dev/trac/badges/u/saraedum/24854/pipeline.svg,link=https://gitlab.com/sagemath/dev/trac/commits/u/saraedum/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)\n \n Dependencies: #24655\n \n```\n",
    "created_at": "2018-08-23T17:56:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367747",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,13 @@
+This ticket proposes to run the doctests on CircleCI/GitLab.
 
+On CircleCI, I would like to run the --new doctests and the --short doctests always. And the --long ones only if explicitly asked for by the user.
+
+On GitLab, I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on GitLab CI.)
+
+On CircleCI, the doctests (without --long) take about 100 minutes, the --long tests take 145 minutes; so there is no point in not running them without --long. The --short tests take about 5 minutes. The --new ones take a few seconds normally.
+
+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://circleci.com/gh/saraedum/sage/tree/24854.svg?style=svg,link=https://circleci.com/gh/saraedum/workflows/sage/tree/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)
+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://gitlab.com/sagemath/dev/trac/badges/u/saraedum/24854/pipeline.svg,link=https://gitlab.com/sagemath/dev/trac/commits/u/saraedum/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)
 
 Dependencies: #24655
 
```




---

archive/issue_comments_367748.json:
```json
{
    "body": "<a id='comment:65'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-31T09:12:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367748",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:65'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367749.json:
```json
{
    "body": "<a id='comment:66'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-02T12:24:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367749",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:66'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367750.json:
```json
{
    "body": "<a id='comment:67'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-02T12:54:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367750",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:67'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367751.json:
```json
{
    "body": "<a id='comment:68'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-02T13:09:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367751",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:68'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367752.json:
```json
{
    "body": "<a id='comment:69'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-10-24T21:14:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367752",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:69'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_367753.json:
```json
{
    "body": "<a id='comment:71'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-11-13T16:29:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367753",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:71'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367754.json:
```json
{
    "body": "<a id='comment:72'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-11-25T16:06:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367754",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:72'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367755.json:
```json
{
    "body": "<a id='comment:73'></a>New commits:",
    "created_at": "2018-11-25T16:08:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367755",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:73'></a>New commits:



---

archive/issue_comments_367756.json:
```json
{
    "body": "<a id='comment:74'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2019-09-13T08:37:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367756",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:74'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_367757.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+This ticket proposes to run the doctests on [GitLab](GitLab).\n \n+On GitLab, I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on GitLab CI.)\n+\n+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://gitlab.com/sagemath/dev/trac/badges/u/saraedum/24854/pipeline.svg,link=https://gitlab.com/sagemath/dev/trac/commits/u/saraedum/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)\n \n Dependencies: #24655\n \n```\n",
    "created_at": "2019-09-13T08:49:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367757",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,8 @@
+This ticket proposes to run the doctests on [GitLab](GitLab).
 
+On GitLab, I would like to run the --new and --short doctests and if these pass also run the --long ones (Without explicit confirmation, as it is easier to get additional runners on GitLab CI.)
+
+[This is the Trac macro *Image* that was inherited from the migration called with arguments (https://gitlab.com/sagemath/dev/trac/badges/u/saraedum/24854/pipeline.svg,link=https://gitlab.com/sagemath/dev/trac/commits/u/saraedum/24854))](https://trac.sagemath.org/wiki/WikiMacros#Image-macro)
 
 Dependencies: #24655
 
```




---

archive/issue_comments_367758.json:
```json
{
    "body": "<a id='comment:76'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-09-13T08:57:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367758",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:76'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367759.json:
```json
{
    "body": "Changing keywords from \"docker, CI\" to \"docker, ContinuousIntegration\".",
    "created_at": "2020-01-21T16:04:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367759",
    "user": "https://github.com/saraedum"
}
```

Changing keywords from "docker, CI" to "docker, ContinuousIntegration".



---

archive/issue_comments_367760.json:
```json
{
    "body": "<a id='comment:80'></a>Rebased, just to see what changes are on this old branch\n\n---\nNew commits:",
    "created_at": "2020-09-11T22:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24854",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24854#issuecomment-367760",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:80'></a>Rebased, just to see what changes are on this old branch

---
New commits:
