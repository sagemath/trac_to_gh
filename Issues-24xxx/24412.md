# Issue 24412: wrap arb elliptic functions

archive/issues_024175.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nNew functions available in arb\n- header acb_elliptic.h\n- doc at http://arblib.org/acb_elliptic.html\n\nCC:  @mezzarobba @cheuberg\n\nComponent: **basic arithmetic**\n\nAuthor: **Vincent Delecroix**\n\nBranch/Commit: **[`c6456e4`](https://github.com/sagemath/sagetrac-mirror/commit/c6456e44e5e1ba91b17329c46be35c3284abda49)**\n\nReviewer: **Marc Mezzarobba**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24412_\n\n",
    "closed_at": "2018-03-21T06:18:58Z",
    "created_at": "2017-12-21T08:48:55Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "wrap arb elliptic functions",
    "type": "issue",
    "updated_at": "2018-03-21T06:18:58Z",
    "url": "https://github.com/sagemath/sage/issues/24412",
    "user": "https://github.com/videlec"
}
```
<div id="comment:0"></div>

New functions available in arb
- header acb_elliptic.h
- doc at http://arblib.org/acb_elliptic.html

CC:  @mezzarobba @cheuberg

Component: **basic arithmetic**

Author: **Vincent Delecroix**

Branch/Commit: **[`c6456e4`](https://github.com/sagemath/sagetrac-mirror/commit/c6456e44e5e1ba91b17329c46be35c3284abda49)**

Reviewer: **Marc Mezzarobba**

_Issue created by migration from https://trac.sagemath.org/ticket/24412_





---

archive/issue_events_335403.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-12-21T08:48:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24412#event-335403"
}
```



---

archive/issue_events_335404.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-12-21T08:48:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
    "label_color": "0000ff",
    "label_name": "c: basic arithmetic",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24412#event-335404"
}
```



---

archive/issue_events_335405.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-12-21T08:48:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24412#event-335405"
}
```



---

archive/issue_events_335406.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-12-21T08:48:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24412#event-335406"
}
```



---

archive/issue_comments_369540.json:
```json
{
    "body": "Branch: **[u/vdelecroix/24412](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24412)**",
    "created_at": "2018-03-16T15:00:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24412#issuecomment-369540",
    "user": "https://github.com/videlec"
}
```

Branch: **[u/vdelecroix/24412](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24412)**



---

archive/issue_events_335407.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-16T15:00:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24412#event-335407"
}
```



---

archive/issue_comments_369541.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d190800fbde9669e87e641c6f1c5fc0ddaabfb89\"><code>d190800</code></a></td><td><code>wrap arb elliptic functions</code></td></tr></table>\n",
    "created_at": "2018-03-16T15:00:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24412#issuecomment-369541",
    "user": "https://github.com/videlec"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d190800fbde9669e87e641c6f1c5fc0ddaabfb89"><code>d190800</code></a></td><td><code>wrap arb elliptic functions</code></td></tr></table>




---

archive/issue_comments_369542.json:
```json
{
    "body": "Commit: **[`d190800`](https://github.com/sagemath/sagetrac-mirror/commit/d190800fbde9669e87e641c6f1c5fc0ddaabfb89)**",
    "created_at": "2018-03-16T15:00:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24412#issuecomment-369542",
    "user": "https://github.com/videlec"
}
```

Commit: **[`d190800`](https://github.com/sagemath/sagetrac-mirror/commit/d190800fbde9669e87e641c6f1c5fc0ddaabfb89)**



---

archive/issue_comments_369543.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI'm not sure that wrapping the `pi=...` option is useful, but if you want to do it, then I guess it should be tested...",
    "created_at": "2018-03-16T16:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24412#issuecomment-369543",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:2" align="right">comment:2</div>

I'm not sure that wrapping the `pi=...` option is useful, but if you want to do it, then I guess it should be tested...



---

archive/issue_comments_369544.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6456e44e5e1ba91b17329c46be35c3284abda49\"><code>c6456e4</code></a></td><td><code>remove pi option</code></td></tr></table>\n",
    "created_at": "2018-03-16T22:02:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24412#issuecomment-369544",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6456e44e5e1ba91b17329c46be35c3284abda49"><code>c6456e4</code></a></td><td><code>remove pi option</code></td></tr></table>




---

archive/issue_comments_369545.json:
```json
{
    "body": "Changed commit from **[`d190800`](https://github.com/sagemath/sagetrac-mirror/commit/d190800fbde9669e87e641c6f1c5fc0ddaabfb89)** to **[`c6456e4`](https://github.com/sagemath/sagetrac-mirror/commit/c6456e44e5e1ba91b17329c46be35c3284abda49)**",
    "created_at": "2018-03-16T22:02:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24412#issuecomment-369545",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d190800`](https://github.com/sagemath/sagetrac-mirror/commit/d190800fbde9669e87e641c6f1c5fc0ddaabfb89)** to **[`c6456e4`](https://github.com/sagemath/sagetrac-mirror/commit/c6456e44e5e1ba91b17329c46be35c3284abda49)**



---

archive/issue_comments_369546.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nNo more pi option.",
    "created_at": "2018-03-16T22:02:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24412#issuecomment-369546",
    "user": "https://github.com/videlec"
}
```

<div id="comment:4" align="right">comment:4</div>

No more pi option.



---

archive/issue_comments_369547.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nLGTM. I wonder though why you chose to introduce separate `..._inc()` methods for incomplete elliptic integrals rather than having two-argument variants of `elliptic_e()` and `elliptic_pi()`.",
    "created_at": "2018-03-18T20:09:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24412#issuecomment-369547",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:5" align="right">comment:5</div>

LGTM. I wonder though why you chose to introduce separate `..._inc()` methods for incomplete elliptic integrals rather than having two-argument variants of `elliptic_e()` and `elliptic_pi()`.



---

archive/issue_events_335408.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-03-18T20:09:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24412#event-335408"
}
```



---

archive/issue_events_335409.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-03-18T20:09:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24412#event-335409"
}
```



---

archive/issue_comments_369548.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThanks for the review.\n\nReplying to [@mezzarobba](#comment%3A5):\n> LGTM. I wonder though why you chose to introduce separate `..._inc()` methods for incomplete elliptic integrals rather than having two-argument variants of `elliptic_e()` and `elliptic_pi()`.\n\nThis would have been inconvenient as the incomplete function has an extra argument (the point up to which you integrate).",
    "created_at": "2018-03-18T21:08:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24412#issuecomment-369548",
    "user": "https://github.com/videlec"
}
```

<div id="comment:6" align="right">comment:6</div>

Thanks for the review.

Replying to [@mezzarobba](#comment%3A5):
> LGTM. I wonder though why you chose to introduce separate `..._inc()` methods for incomplete elliptic integrals rather than having two-argument variants of `elliptic_e()` and `elliptic_pi()`.

This would have been inconvenient as the incomplete function has an extra argument (the point up to which you integrate).



---

archive/issue_comments_369549.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAuthor / reviewer name?",
    "created_at": "2018-03-19T22:48:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24412#issuecomment-369549",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:7" align="right">comment:7</div>

Author / reviewer name?



---

archive/issue_events_335410.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-19T22:48:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24412#event-335410"
}
```



---

archive/issue_events_335411.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-19T22:48:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24412#event-335411"
}
```



---

archive/issue_comments_369550.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nsorry",
    "created_at": "2018-03-19T22:49:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24412#issuecomment-369550",
    "user": "https://github.com/videlec"
}
```

<div id="comment:8" align="right">comment:8</div>

sorry



---

archive/issue_comments_369551.json:
```json
{
    "body": "Reviewer: **Marc Mezzarobba**",
    "created_at": "2018-03-19T22:49:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24412#issuecomment-369551",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Marc Mezzarobba**



---

archive/issue_comments_369552.json:
```json
{
    "body": "Author: **Vincent Delecroix**",
    "created_at": "2018-03-19T22:49:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24412#issuecomment-369552",
    "user": "https://github.com/videlec"
}
```

Author: **Vincent Delecroix**



---

archive/issue_events_335412.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-19T22:49:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24412#event-335412"
}
```



---

archive/issue_events_335413.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-19T22:49:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24412#event-335413"
}
```



---

archive/issue_comments_369553.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@videlec](#comment%3A6):\n> This would have been inconvenient as the incomplete function has an extra argument (the point up to which you integrate).\n\nI don't understand. I was thinking of something similar to\n\n```\n    def gamma(self, z=None):\n        \"\"\"\n        Return the image of this ball by the Euler Gamma function (if\n        ``z = None``) or the incomplete Gamma function (otherwise).\n\n        EXAMPLES::\n\n            sage: CBF(1, 1).gamma()\n            [0.498015668118356 +/- 9.16e-16] + [-0.154949828301811 +/- 7.08e-16]*I\n            sage: CBF(-1).gamma()\n            nan\n            sage: CBF(1, 1).gamma(0)\n            [0.498015668118356 +/- 9.16e-16] + [-0.154949828301811 +/- 7.08e-16]*I\n            sage: CBF(1, 1).gamma(100)\n            [-3.6143867454139e-45 +/- 6.88e-59] + [-3.7022961377791e-44 +/- 4.41e-58]*I\n            sage: CBF(1, 1).gamma(CLF(i))\n            [0.32886684193500 +/- 5.04e-15] + [-0.18974945045621 +/- 1.26e-15]*I\n        \"\"\"\n        cdef ComplexBall my_z\n        cdef ComplexBall res = self._new()\n        if z is None:\n            if _do_sig(prec(self)): sig_on()\n            acb_gamma(res.value, self.value, prec(self))\n            if _do_sig(prec(self)): sig_off()\n        else:\n            my_z = self._parent.coerce(z)\n            if _do_sig(prec(self)): sig_on()\n            acb_hypgeom_gamma_upper(res.value, self.value, my_z.value, 0, prec(self))\n            if _do_sig(prec(self)): sig_off()\n        return res\n```",
    "created_at": "2018-03-20T09:28:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24412#issuecomment-369553",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@videlec](#comment%3A6):
> This would have been inconvenient as the incomplete function has an extra argument (the point up to which you integrate).

I don't understand. I was thinking of something similar to

```
    def gamma(self, z=None):
        """
        Return the image of this ball by the Euler Gamma function (if
        ``z = None``) or the incomplete Gamma function (otherwise).

        EXAMPLES::

            sage: CBF(1, 1).gamma()
            [0.498015668118356 +/- 9.16e-16] + [-0.154949828301811 +/- 7.08e-16]*I
            sage: CBF(-1).gamma()
            nan
            sage: CBF(1, 1).gamma(0)
            [0.498015668118356 +/- 9.16e-16] + [-0.154949828301811 +/- 7.08e-16]*I
            sage: CBF(1, 1).gamma(100)
            [-3.6143867454139e-45 +/- 6.88e-59] + [-3.7022961377791e-44 +/- 4.41e-58]*I
            sage: CBF(1, 1).gamma(CLF(i))
            [0.32886684193500 +/- 5.04e-15] + [-0.18974945045621 +/- 1.26e-15]*I
        """
        cdef ComplexBall my_z
        cdef ComplexBall res = self._new()
        if z is None:
            if _do_sig(prec(self)): sig_on()
            acb_gamma(res.value, self.value, prec(self))
            if _do_sig(prec(self)): sig_off()
        else:
            my_z = self._parent.coerce(z)
            if _do_sig(prec(self)): sig_on()
            acb_hypgeom_gamma_upper(res.value, self.value, my_z.value, 0, prec(self))
            if _do_sig(prec(self)): sig_off()
        return res
```



---

archive/issue_comments_369554.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@mezzarobba](#comment%3A9):\n> Replying to [@videlec](#comment%3A6):\n> > This would have been inconvenient as the incomplete function has an extra argument (the point up to which you integrate).\n> \n> \n> I don't understand. I was thinking of something similar to\n> \n> ```\n> SNIP\n> ```\n\nIndeed, that would have been a solution. On the plus side: less methods. On the minus side: less consistent with arb names... I don't have a strong opinion.",
    "created_at": "2018-03-20T12:51:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24412#issuecomment-369554",
    "user": "https://github.com/videlec"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@mezzarobba](#comment%3A9):
> Replying to [@videlec](#comment%3A6):
> > This would have been inconvenient as the incomplete function has an extra argument (the point up to which you integrate).
> 
> 
> I don't understand. I was thinking of something similar to
> 
> ```
> SNIP
> ```

Indeed, that would have been a solution. On the plus side: less methods. On the minus side: less consistent with arb names... I don't have a strong opinion.



---

archive/issue_events_335414.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-21T06:18:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24412#event-335414"
}
```



---

archive/issue_events_335415.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "5ba00af04b9480d0f60c9737f9b4d096bebc18ee",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-03-21T06:18:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24412#event-335415"
}
```



---

archive/issue_comments_369555.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/24412](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24412)** to **[`c6456e4`](https://github.com/sagemath/sagetrac-mirror/commit/c6456e44e5e1ba91b17329c46be35c3284abda49)**",
    "created_at": "2018-03-21T06:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24412#issuecomment-369555",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vdelecroix/24412](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24412)** to **[`c6456e4`](https://github.com/sagemath/sagetrac-mirror/commit/c6456e44e5e1ba91b17329c46be35c3284abda49)**
