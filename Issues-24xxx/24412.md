# Issue 24412: wrap arb elliptic functions

archive/issues_024175.json:
```json
{
    "body": "New functions available in arb\n- header acb_elliptic.h\n- doc at http://arblib.org/acb_elliptic.html\n\nCC:  @mezzarobba @cheuberg\n\nBranch/Commit: [c6456e44e5e1ba91b17329c46be35c3284abda49](https://github.com/sagemath/sagetrac-mirror/commit/c6456e44e5e1ba91b17329c46be35c3284abda49)\n\nReviewer: Marc Mezzarobba\n\nAuthor: Vincent Delecroix\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24412\n\n",
    "closed_at": "2018-03-21T06:18:58Z",
    "created_at": "2017-12-21T08:48:55Z",
    "labels": [
        "component: basic arithmetic"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "wrap arb elliptic functions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24412",
    "user": "https://github.com/videlec"
}
```
New functions available in arb
- header acb_elliptic.h
- doc at http://arblib.org/acb_elliptic.html

CC:  @mezzarobba @cheuberg

Branch/Commit: [c6456e44e5e1ba91b17329c46be35c3284abda49](https://github.com/sagemath/sagetrac-mirror/commit/c6456e44e5e1ba91b17329c46be35c3284abda49)

Reviewer: Marc Mezzarobba

Author: Vincent Delecroix

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24412





---

archive/issue_comments_464334.json:
```json
{
    "body": "Branch: [u/vdelecroix/24412](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24412)",
    "created_at": "2018-03-16T15:00:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464334",
    "user": "https://github.com/videlec"
}
```

Branch: [u/vdelecroix/24412](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24412)



---

archive/issue_comments_464335.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-03-16T15:00:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464335",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_464336.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[d190800](https://github.com/sagemath/sagetrac-mirror/commit/d190800fbde9669e87e641c6f1c5fc0ddaabfb89)|`wrap arb elliptic functions`|",
    "created_at": "2018-03-16T15:00:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464336",
    "user": "https://github.com/videlec"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[d190800](https://github.com/sagemath/sagetrac-mirror/commit/d190800fbde9669e87e641c6f1c5fc0ddaabfb89)|`wrap arb elliptic functions`|



---

archive/issue_comments_464337.json:
```json
{
    "body": "Commit: [d190800fbde9669e87e641c6f1c5fc0ddaabfb89](https://github.com/sagemath/sagetrac-mirror/commit/d190800fbde9669e87e641c6f1c5fc0ddaabfb89)",
    "created_at": "2018-03-16T15:00:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464337",
    "user": "https://github.com/videlec"
}
```

Commit: [d190800fbde9669e87e641c6f1c5fc0ddaabfb89](https://github.com/sagemath/sagetrac-mirror/commit/d190800fbde9669e87e641c6f1c5fc0ddaabfb89)



---

archive/issue_comments_464338.json:
```json
{
    "body": "<a id='comment:2'></a>\nI'm not sure that wrapping the `pi=...` option is useful, but if you want to do it, then I guess it should be tested...",
    "created_at": "2018-03-16T16:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464338",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:2'></a>
I'm not sure that wrapping the `pi=...` option is useful, but if you want to do it, then I guess it should be tested...



---

archive/issue_comments_464339.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[c6456e4](https://github.com/sagemath/sagetrac-mirror/commit/c6456e44e5e1ba91b17329c46be35c3284abda49)|`remove pi option`|",
    "created_at": "2018-03-16T22:02:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464339",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[c6456e4](https://github.com/sagemath/sagetrac-mirror/commit/c6456e44e5e1ba91b17329c46be35c3284abda49)|`remove pi option`|



---

archive/issue_comments_464340.json:
```json
{
    "body": "Changing commit from \"[d190800fbde9669e87e641c6f1c5fc0ddaabfb89](https://github.com/sagemath/sagetrac-mirror/commit/d190800fbde9669e87e641c6f1c5fc0ddaabfb89)\" to \"[c6456e44e5e1ba91b17329c46be35c3284abda49](https://github.com/sagemath/sagetrac-mirror/commit/c6456e44e5e1ba91b17329c46be35c3284abda49)\"",
    "created_at": "2018-03-16T22:02:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464340",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[d190800fbde9669e87e641c6f1c5fc0ddaabfb89](https://github.com/sagemath/sagetrac-mirror/commit/d190800fbde9669e87e641c6f1c5fc0ddaabfb89)" to "[c6456e44e5e1ba91b17329c46be35c3284abda49](https://github.com/sagemath/sagetrac-mirror/commit/c6456e44e5e1ba91b17329c46be35c3284abda49)"



---

archive/issue_comments_464341.json:
```json
{
    "body": "<a id='comment:4'></a>\nNo more pi option.",
    "created_at": "2018-03-16T22:02:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464341",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'></a>
No more pi option.



---

archive/issue_comments_464342.json:
```json
{
    "body": "<a id='comment:5'></a>\nLGTM. I wonder though why you chose to introduce separate `..._inc()` methods for incomplete elliptic integrals rather than having two-argument variants of `elliptic_e()` and `elliptic_pi()`.",
    "created_at": "2018-03-18T20:09:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464342",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:5'></a>
LGTM. I wonder though why you chose to introduce separate `..._inc()` methods for incomplete elliptic integrals rather than having two-argument variants of `elliptic_e()` and `elliptic_pi()`.



---

archive/issue_comments_464343.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-03-18T20:09:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464343",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_464344.json:
```json
{
    "body": "<a id='comment:6'></a>\nThanks for the review.\n\nReplying to [mmezzarobba](#comment%3A5):\n> LGTM. I wonder though why you chose to introduce separate `..._inc()` methods for incomplete elliptic integrals rather than having two-argument variants of `elliptic_e()` and `elliptic_pi()`.\n\n\nThis would have been inconvenient as the incomplete function has an extra argument (the point up to which you integrate).",
    "created_at": "2018-03-18T21:08:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464344",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>
Thanks for the review.

Replying to [mmezzarobba](#comment%3A5):
> LGTM. I wonder though why you chose to introduce separate `..._inc()` methods for incomplete elliptic integrals rather than having two-argument variants of `elliptic_e()` and `elliptic_pi()`.


This would have been inconvenient as the incomplete function has an extra argument (the point up to which you integrate).



---

archive/issue_comments_464345.json:
```json
{
    "body": "<a id='comment:7'></a>\nAuthor / reviewer name?",
    "created_at": "2018-03-19T22:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464345",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'></a>
Author / reviewer name?



---

archive/issue_comments_464346.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-03-19T22:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464346",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_464347.json:
```json
{
    "body": "<a id='comment:8'></a>\nsorry",
    "created_at": "2018-03-19T22:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464347",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'></a>
sorry



---

archive/issue_comments_464348.json:
```json
{
    "body": "Reviewer: Marc Mezzarobba",
    "created_at": "2018-03-19T22:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464348",
    "user": "https://github.com/videlec"
}
```

Reviewer: Marc Mezzarobba



---

archive/issue_comments_464349.json:
```json
{
    "body": "Author: Vincent Delecroix",
    "created_at": "2018-03-19T22:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464349",
    "user": "https://github.com/videlec"
}
```

Author: Vincent Delecroix



---

archive/issue_comments_464350.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2018-03-19T22:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464350",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_464351.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [vdelecroix](#comment%3A6):\n> This would have been inconvenient as the incomplete function has an extra argument (the point up to which you integrate).\n\n\nI don't understand. I was thinking of something similar to\n\n```\n    def gamma(self, z=None):\n        \"\"\"\n        Return the image of this ball by the Euler Gamma function (if\n        ``z = None``) or the incomplete Gamma function (otherwise).\n\n        EXAMPLES::\n\n            sage: CBF(1, 1).gamma()\n            [0.498015668118356 +/- 9.16e-16] + [-0.154949828301811 +/- 7.08e-16]*I\n            sage: CBF(-1).gamma()\n            nan\n            sage: CBF(1, 1).gamma(0)\n            [0.498015668118356 +/- 9.16e-16] + [-0.154949828301811 +/- 7.08e-16]*I\n            sage: CBF(1, 1).gamma(100)\n            [-3.6143867454139e-45 +/- 6.88e-59] + [-3.7022961377791e-44 +/- 4.41e-58]*I\n            sage: CBF(1, 1).gamma(CLF(i))\n            [0.32886684193500 +/- 5.04e-15] + [-0.18974945045621 +/- 1.26e-15]*I\n        \"\"\"\n        cdef ComplexBall my_z\n        cdef ComplexBall res = self._new()\n        if z is None:\n            if _do_sig(prec(self)): sig_on()\n            acb_gamma(res.value, self.value, prec(self))\n            if _do_sig(prec(self)): sig_off()\n        else:\n            my_z = self._parent.coerce(z)\n            if _do_sig(prec(self)): sig_on()\n            acb_hypgeom_gamma_upper(res.value, self.value, my_z.value, 0, prec(self))\n            if _do_sig(prec(self)): sig_off()\n        return res\n```",
    "created_at": "2018-03-20T09:28:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464351",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:9'></a>
Replying to [vdelecroix](#comment%3A6):
> This would have been inconvenient as the incomplete function has an extra argument (the point up to which you integrate).


I don't understand. I was thinking of something similar to

```
    def gamma(self, z=None):
        """
        Return the image of this ball by the Euler Gamma function (if
        ``z = None``) or the incomplete Gamma function (otherwise).

        EXAMPLES::

            sage: CBF(1, 1).gamma()
            [0.498015668118356 +/- 9.16e-16] + [-0.154949828301811 +/- 7.08e-16]*I
            sage: CBF(-1).gamma()
            nan
            sage: CBF(1, 1).gamma(0)
            [0.498015668118356 +/- 9.16e-16] + [-0.154949828301811 +/- 7.08e-16]*I
            sage: CBF(1, 1).gamma(100)
            [-3.6143867454139e-45 +/- 6.88e-59] + [-3.7022961377791e-44 +/- 4.41e-58]*I
            sage: CBF(1, 1).gamma(CLF(i))
            [0.32886684193500 +/- 5.04e-15] + [-0.18974945045621 +/- 1.26e-15]*I
        """
        cdef ComplexBall my_z
        cdef ComplexBall res = self._new()
        if z is None:
            if _do_sig(prec(self)): sig_on()
            acb_gamma(res.value, self.value, prec(self))
            if _do_sig(prec(self)): sig_off()
        else:
            my_z = self._parent.coerce(z)
            if _do_sig(prec(self)): sig_on()
            acb_hypgeom_gamma_upper(res.value, self.value, my_z.value, 0, prec(self))
            if _do_sig(prec(self)): sig_off()
        return res
```



---

archive/issue_comments_464352.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [mmezzarobba](#comment%3A9):\n> Replying to [vdelecroix](#comment%3A6):\n> > This would have been inconvenient as the incomplete function has an extra argument (the point up to which you integrate).\n\n> \n> I don't understand. I was thinking of something similar to\n> \n> ```\n> SNIP\n> ```\n\n\nIndeed, that would have been a solution. On the plus side: less methods. On the minus side: less consistent with arb names... I don't have a strong opinion.",
    "created_at": "2018-03-20T12:51:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464352",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>
Replying to [mmezzarobba](#comment%3A9):
> Replying to [vdelecroix](#comment%3A6):
> > This would have been inconvenient as the incomplete function has an extra argument (the point up to which you integrate).

> 
> I don't understand. I was thinking of something similar to
> 
> ```
> SNIP
> ```


Indeed, that would have been a solution. On the plus side: less methods. On the minus side: less consistent with arb names... I don't have a strong opinion.



---

archive/issue_events_070164.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-21T06:18:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24412#event-70164"
}
```



---

archive/issue_comments_464353.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-03-21T06:18:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464353",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_464354.json:
```json
{
    "body": "Changing branch from \"[u/vdelecroix/24412](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24412)\" to \"[c6456e44e5e1ba91b17329c46be35c3284abda49](https://github.com/sagemath/sagetrac-mirror/commit/c6456e44e5e1ba91b17329c46be35c3284abda49)\"",
    "created_at": "2018-03-21T06:18:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24412#issuecomment-464354",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[u/vdelecroix/24412](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24412)" to "[c6456e44e5e1ba91b17329c46be35c3284abda49](https://github.com/sagemath/sagetrac-mirror/commit/c6456e44e5e1ba91b17329c46be35c3284abda49)"
