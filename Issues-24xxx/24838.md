# Issue 24838: Upgrade to pynac-0.7.22

archive/issues_024601.json:
```json
{
    "assignees": [],
    "body": "In the new version:\n* fast and working versons of quo_rem and rational decomposition (#25644, #25645)\n* fix power inconsistency\n* internal fix of another power inconsistency (#25639)\n* `(x<sup>a)</sup>b --> x^(ab)` IF x real, a odd integer, ab integer\n* add `ex::treesize()` as complexity metric (#25643)\n* information for packagers\n\n* implement commutative matching; fix GiNaC's matching deficiencies (#25168)\n* substitute patternless if no wildcards present\n* remove some compiler warnings\n* update AX_CXX_COMPILE_STDCXX.m4 \n\n* fix `exp(c*f(x))` simplification\n* fix `cases(...).subs(...)`\n* `function::info` for `min/max_symbolic`(#21945)\n* performance and readability improvements\n\n* correct `sinh/cosh/tanh` return type (#24299)\n* `atan2` fixes\n* potential memleaks fixed\n* fixes in Giac interface\n* `subs` can now substitute numeric terms (#23964)\n\n* fix memleak in in-place PyObject numerics (#24745)\n* fix endless computation (#24883)\n* Python interface / Py3 fixes and improvements (thx Erik Bray, #24561, #24752, #24522)\n* fix internal `asin`/`acos` of complex balls\n* draw factors out of `add^rational` (#24768, #25251, #25252)\n* `exp(f(x))`, `exp(c*f(x))`, f inv. hyperbolic simplifications (#24841)\n* always extend trig/hyperbolic functions to complex domain (#24428)\n* extensive code readability improvements\n\nhttps://github.com/pynac/pynac/releases/download/pynac-0.7.22/pynac-0.7.22.tar.bz2\n\nDepends on #24927\n\nCC:  @kiwifb @timokau\n\nBranch: **[e324b64](https://github.com/sagemath/sagetrac-mirror/commit/e324b642c1f7c7cb98eea400abfe7c9a4296fcca)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Ralf Stephan**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24838_\n\n",
    "closed_at": "2018-06-29T22:33:33Z",
    "created_at": "2018-02-26T14:06:03Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20symbolics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade to pynac-0.7.22",
    "type": "issue",
    "updated_at": "2018-06-30T11:41:47Z",
    "url": "https://github.com/sagemath/sage/issues/24838",
    "user": "https://github.com/rwst"
}
```
In the new version:
* fast and working versons of quo_rem and rational decomposition (#25644, #25645)
* fix power inconsistency
* internal fix of another power inconsistency (#25639)
* `(x<sup>a)</sup>b --> x^(ab)` IF x real, a odd integer, ab integer
* add `ex::treesize()` as complexity metric (#25643)
* information for packagers

* implement commutative matching; fix GiNaC's matching deficiencies (#25168)
* substitute patternless if no wildcards present
* remove some compiler warnings
* update AX_CXX_COMPILE_STDCXX.m4 

* fix `exp(c*f(x))` simplification
* fix `cases(...).subs(...)`
* `function::info` for `min/max_symbolic`(#21945)
* performance and readability improvements

* correct `sinh/cosh/tanh` return type (#24299)
* `atan2` fixes
* potential memleaks fixed
* fixes in Giac interface
* `subs` can now substitute numeric terms (#23964)

* fix memleak in in-place PyObject numerics (#24745)
* fix endless computation (#24883)
* Python interface / Py3 fixes and improvements (thx Erik Bray, #24561, #24752, #24522)
* fix internal `asin`/`acos` of complex balls
* draw factors out of `add^rational` (#24768, #25251, #25252)
* `exp(f(x))`, `exp(c*f(x))`, f inv. hyperbolic simplifications (#24841)
* always extend trig/hyperbolic functions to complex domain (#24428)
* extensive code readability improvements

https://github.com/pynac/pynac/releases/download/pynac-0.7.22/pynac-0.7.22.tar.bz2

Depends on #24927

CC:  @kiwifb @timokau

Branch: **[e324b64](https://github.com/sagemath/sagetrac-mirror/commit/e324b642c1f7c7cb98eea400abfe7c9a4296fcca)**

Reviewer: **Frédéric Chapoton**

Author: **Ralf Stephan**

_Issue created by migration from https://trac.sagemath.org/ticket/24838_





---

archive/issue_events_313976.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-02-26T14:06:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313976"
}
```



---

archive/issue_events_313977.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-02-26T14:06:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "component: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313977"
}
```



---

archive/issue_events_313978.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-02-26T14:06:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313978"
}
```



---

archive/issue_events_313979.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-02-26T14:06:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313979"
}
```



---

archive/issue_comments_380262.json:
```json
{
    "body": "Branch: **[u/rws/upgrade_to_pynac_0_7_17](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/upgrade_to_pynac_0_7_17)**",
    "created_at": "2018-02-26T14:14:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380262",
    "user": "https://github.com/rwst"
}
```

Branch: **[u/rws/upgrade_to_pynac_0_7_17](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/upgrade_to_pynac_0_7_17)**



---

archive/issue_comments_380263.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e470685fb618bb3df3e67d786127a930b2a28287\">e470685</a></td><td><code>version / chkum / rm patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3511ce1cbd35b9d625b0f4215ee014e6cc99931\">d3511ce</a></td><td><code>24838: doctest fixes</code></td></tr></table>\n",
    "created_at": "2018-02-26T14:14:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380263",
    "user": "https://github.com/rwst"
}
```

<a id='comment:2'>Comment 2:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e470685fb618bb3df3e67d786127a930b2a28287">e470685</a></td><td><code>version / chkum / rm patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3511ce1cbd35b9d625b0f4215ee014e6cc99931">d3511ce</a></td><td><code>24838: doctest fixes</code></td></tr></table>




---

archive/issue_events_313980.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-02-26T14:14:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313980"
}
```



---

archive/issue_comments_380264.json:
```json
{
    "body": "Commit: **[d3511ce](https://github.com/sagemath/sagetrac-mirror/commit/d3511ce1cbd35b9d625b0f4215ee014e6cc99931)**",
    "created_at": "2018-02-26T14:14:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380264",
    "user": "https://github.com/rwst"
}
```

Commit: **[d3511ce](https://github.com/sagemath/sagetrac-mirror/commit/d3511ce1cbd35b9d625b0f4215ee014e6cc99931)**



---

archive/issue_comments_380265.json:
```json
{
    "body": "Author: **Ralf Stephan**",
    "created_at": "2018-02-26T14:14:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380265",
    "user": "https://github.com/rwst"
}
```

Author: **Ralf Stephan**



---

archive/issue_comments_380266.json:
```json
{
    "body": "Description changed:\n``````diff\n\n``````\n",
    "created_at": "2018-02-26T14:14:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380266",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff

``````




---

archive/issue_comments_380267.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,7 +3,7 @@\n * Python interface / Py3 fixes and improvements (thx Erik Bray, #24561, #24752)\n * fix internal `asin`/`acos` of complex balls\n * draw factors out of `add^rational` (#24768)\n-* `exp(f(x))`, `exp(c*f(x))`, f inv. hyperbolic simplifications\n+* `exp(f(x))`, `exp(c*f(x))`, f inv. hyperbolic simplifications (#24841)\n * always extend trig/hyperbolic functions to complex domain (#24428)\n * extensive code readability improvements\n \n``````\n",
    "created_at": "2018-02-27T08:48:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380267",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,7 +3,7 @@
 * Python interface / Py3 fixes and improvements (thx Erik Bray, #24561, #24752)
 * fix internal `asin`/`acos` of complex balls
 * draw factors out of `add^rational` (#24768)
-* `exp(f(x))`, `exp(c*f(x))`, f inv. hyperbolic simplifications
+* `exp(f(x))`, `exp(c*f(x))`, f inv. hyperbolic simplifications (#24841)
 * always extend trig/hyperbolic functions to complex domain (#24428)
 * extensive code readability improvements
 
``````




---

archive/issue_comments_380268.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nJust a question: is this supposed to fix #24522 too?",
    "created_at": "2018-03-02T13:57:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380268",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'>Comment 5:</a>
Just a question: is this supposed to fix #24522 too?



---

archive/issue_comments_380269.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n In the new version:\n * fix memleak in in-place PyObject numerics (#24745)\n-* Python interface / Py3 fixes and improvements (thx Erik Bray, #24561, #24752)\n+* Python interface / Py3 fixes and improvements (thx Erik Bray, #24561, #24752, #24522)\n * fix internal `asin`/`acos` of complex balls\n * draw factors out of `add^rational` (#24768)\n * `exp(f(x))`, `exp(c*f(x))`, f inv. hyperbolic simplifications (#24841)\n``````\n",
    "created_at": "2018-03-02T14:06:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380269",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 In the new version:
 * fix memleak in in-place PyObject numerics (#24745)
-* Python interface / Py3 fixes and improvements (thx Erik Bray, #24561, #24752)
+* Python interface / Py3 fixes and improvements (thx Erik Bray, #24561, #24752, #24522)
 * fix internal `asin`/`acos` of complex balls
 * draw factors out of `add^rational` (#24768)
 * `exp(f(x))`, `exp(c*f(x))`, f inv. hyperbolic simplifications (#24841)
``````




---

archive/issue_comments_380270.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nYes, that PR is merged. I'll probably add a hotfix for #24883 here as patch, too.",
    "created_at": "2018-03-02T14:06:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380270",
    "user": "https://github.com/rwst"
}
```

<a id='comment:6'>Comment 6:</a>
Yes, that PR is merged. I'll probably add a hotfix for #24883 here as patch, too.



---

archive/issue_comments_380271.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@rwst](#comment%3A6):\n> I'll probably add a hotfix for #24883 here as patch, too. \n\nThen I'm setting this to needs_work. If you change your mind, feel free to set this back to needs_review.",
    "created_at": "2018-03-02T14:15:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380271",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@rwst](#comment%3A6):
> I'll probably add a hotfix for #24883 here as patch, too. 

Then I'm setting this to needs_work. If you change your mind, feel free to set this back to needs_review.



---

archive/issue_comments_380272.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nThe issue is no longer there. Please review.",
    "created_at": "2018-03-02T14:20:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380272",
    "user": "https://github.com/rwst"
}
```

<a id='comment:8'>Comment 8:</a>
The issue is no longer there. Please review.



---

archive/issue_events_313981.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-02T16:16:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313981"
}
```



---

archive/issue_events_313982.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-02T16:16:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313982"
}
```



---

archive/issue_comments_380273.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nThis used to return a purely imaginary number, now there is a small real part:\n\n```\nsage: arccosh(x).subs(x=0.9)\n-9.66146955461936e-22 + 0.451026811796262*I\n```",
    "created_at": "2018-03-02T16:16:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380273",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'>Comment 9:</a>
This used to return a purely imaginary number, now there is a small real part:

```
sage: arccosh(x).subs(x=0.9)
-9.66146955461936e-22 + 0.451026811796262*I
```



---

archive/issue_comments_380274.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nThis is an artifact of conversion to CC:\n\n```\nsage: CC(ComplexBallField(68)(0.9).arccosh())\n-9.66146955461936e-22 + 0.451026811796262*I\n```\nWe use arb with precision+15 and convert back to parent, all to make up for missing or limited (in the calculus sense, not the algebraic, note recent discussion) member functions of parent (RR in this case). Before this pynac version we had specific logic to zero the real part but this was error-prone. IMHO CC conversion of complex balls should be fixed.",
    "created_at": "2018-03-03T09:12:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380274",
    "user": "https://github.com/rwst"
}
```

<a id='comment:10'>Comment 10:</a>
This is an artifact of conversion to CC:

```
sage: CC(ComplexBallField(68)(0.9).arccosh())
-9.66146955461936e-22 + 0.451026811796262*I
```
We use arb with precision+15 and convert back to parent, all to make up for missing or limited (in the calculus sense, not the algebraic, note recent discussion) member functions of parent (RR in this case). Before this pynac version we had specific logic to zero the real part but this was error-prone. IMHO CC conversion of complex balls should be fixed.



---

archive/issue_comments_380275.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nSee also https://github.com/fredrik-johansson/arb/issues/198",
    "created_at": "2018-03-03T09:27:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380275",
    "user": "https://github.com/rwst"
}
```

<a id='comment:11'>Comment 11:</a>
See also https://github.com/fredrik-johansson/arb/issues/198



---

archive/issue_comments_380276.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nYou may also want to know why I'm using arb and not mpfr:\n\n```\nsage: r=srange(-2.5,2.5,.01)\nsage: rr = [CC(i) for i in r]\nsage: %timeit for x in rr: _=x.arccosh()\n100 loops, best of 3: 11.9 ms per loop\nsage: rr = [CBF(i) for i in r]\nsage: %timeit for x in rr: _=x.arccosh()\n1000 loops, best of 3: 649 \u00b5s per loop\n```",
    "created_at": "2018-03-03T14:31:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380276",
    "user": "https://github.com/rwst"
}
```

<a id='comment:12'>Comment 12:</a>
You may also want to know why I'm using arb and not mpfr:

```
sage: r=srange(-2.5,2.5,.01)
sage: rr = [CC(i) for i in r]
sage: %timeit for x in rr: _=x.arccosh()
100 loops, best of 3: 11.9 ms per loop
sage: rr = [CBF(i) for i in r]
sage: %timeit for x in rr: _=x.arccosh()
1000 loops, best of 3: 649 µs per loop
```



---

archive/issue_comments_380277.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nWhat do you prefer, patching arb or the arb interface?",
    "created_at": "2018-03-04T07:23:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380277",
    "user": "https://github.com/rwst"
}
```

<a id='comment:13'>Comment 13:</a>
What do you prefer, patching arb or the arb interface?



---

archive/issue_comments_380278.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nSee https://github.com/fredrik-johansson/arb/pull/210",
    "created_at": "2018-03-04T08:20:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380278",
    "user": "https://github.com/rwst"
}
```

<a id='comment:14'>Comment 14:</a>
See https://github.com/fredrik-johansson/arb/pull/210



---

archive/issue_comments_380279.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nReplying to [@rwst](#comment%3A12):\n> You may also want to know why I'm using arb and not mpfr:\n\nDespite what you think, you are not using mpfr, but PARI:\n\n```python\n    def arccosh(self):\n        \"\"\"\n        Return the hyperbolic arccosine of ``self``.\n\n        EXAMPLES::\n\n            sage: (1+CC(I)).arccosh()\n            1.06127506190504 + 0.904556894302381*I\n        \"\"\"\n        return self._parent(self.__pari__().acosh())\n```\n\nIf you want to compare with something, it should be mpc (in Sage: `CC = MPComplexField(53)`)",
    "created_at": "2018-03-04T08:39:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380279",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'>Comment 15:</a>
Replying to [@rwst](#comment%3A12):
> You may also want to know why I'm using arb and not mpfr:

Despite what you think, you are not using mpfr, but PARI:

```python
    def arccosh(self):
        """
        Return the hyperbolic arccosine of ``self``.

        EXAMPLES::

            sage: (1+CC(I)).arccosh()
            1.06127506190504 + 0.904556894302381*I
        """
        return self._parent(self.__pari__().acosh())
```

If you want to compare with something, it should be mpc (in Sage: `CC = MPComplexField(53)`)



---

archive/issue_comments_380280.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nInterestingly,\n\n```\nsage: arccosh(x).subs(x=MPComplexField(53)(0.9))\n...\nTypeError: no canonical coercion from Complex Field with 53 bits of precision to Symbolic Ring\n```",
    "created_at": "2018-03-04T09:46:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380280",
    "user": "https://github.com/rwst"
}
```

<a id='comment:16'>Comment 16:</a>
Interestingly,

```
sage: arccosh(x).subs(x=MPComplexField(53)(0.9))
...
TypeError: no canonical coercion from Complex Field with 53 bits of precision to Symbolic Ring
```



---

archive/issue_comments_380281.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nReplying to [@rwst](#comment%3A14):\n> See https://github.com/fredrik-johansson/arb/pull/210\n\nThis is now merged. Do we want that patch in this ticket? If not, anything else?",
    "created_at": "2018-03-05T15:17:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380281",
    "user": "https://github.com/rwst"
}
```

<a id='comment:17'>Comment 17:</a>
Replying to [@rwst](#comment%3A14):
> See https://github.com/fredrik-johansson/arb/pull/210

This is now merged. Do we want that patch in this ticket? If not, anything else?



---

archive/issue_events_313983.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-03-10T08:33:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313983"
}
```



---

archive/issue_events_313984.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-03-10T08:33:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313984"
}
```



---

archive/issue_comments_380282.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e85fa6c92e0633cfcc77c17d928fbb033504be46\">e85fa6c</a></td><td><code>Merge branch 'develop' into t/24838/upgrade_to_pynac_0_7_17</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f86eb7b725b44939f22df4cb7f5a6b05935a6c8\">9f86eb7</a></td><td><code>24838: pynac-0.7.18 doctest fixes</code></td></tr></table>\n",
    "created_at": "2018-03-22T07:33:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380282",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'>Comment 19:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e85fa6c92e0633cfcc77c17d928fbb033504be46">e85fa6c</a></td><td><code>Merge branch 'develop' into t/24838/upgrade_to_pynac_0_7_17</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f86eb7b725b44939f22df4cb7f5a6b05935a6c8">9f86eb7</a></td><td><code>24838: pynac-0.7.18 doctest fixes</code></td></tr></table>




---

archive/issue_comments_380283.json:
```json
{
    "body": "Changed commit from **[d3511ce](https://github.com/sagemath/sagetrac-mirror/commit/d3511ce1cbd35b9d625b0f4215ee014e6cc99931)** to **[9f86eb7](https://github.com/sagemath/sagetrac-mirror/commit/9f86eb7b725b44939f22df4cb7f5a6b05935a6c8)**",
    "created_at": "2018-03-22T07:33:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380283",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d3511ce](https://github.com/sagemath/sagetrac-mirror/commit/d3511ce1cbd35b9d625b0f4215ee014e6cc99931)** to **[9f86eb7](https://github.com/sagemath/sagetrac-mirror/commit/9f86eb7b725b44939f22df4cb7f5a6b05935a6c8)**



---

archive/issue_events_313985.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-03-22T07:35:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313985"
}
```



---

archive/issue_events_313986.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-03-22T07:35:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313986"
}
```



---

archive/issue_comments_380284.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nNew release incoming.",
    "created_at": "2018-03-22T07:35:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380284",
    "user": "https://github.com/rwst"
}
```

<a id='comment:20'>Comment 20:</a>
New release incoming.



---

archive/issue_events_313987.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-03-23T07:20:38Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "title_is": "Upgrade to pynac-0.7.18",
    "title_was": "Upgrade to pynac-0.7.17",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313987"
}
```



---

archive/issue_comments_380285.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,10 @@\n In the new version:\n+* correct `sinh/cosh/tanh` return type (#24299)\n+* `atan2` fixes\n+* potential memleaks fixed\n+* fixes in Giac interface\n+* `subs` can now substitute numeric terms (#23964)\n+\n * fix memleak in in-place PyObject numerics (#24745)\n * Python interface / Py3 fixes and improvements (thx Erik Bray, #24561, #24752, #24522)\n * fix internal `asin`/`acos` of complex balls\n@@ -7,4 +13,4 @@\n * always extend trig/hyperbolic functions to complex domain (#24428)\n * extensive code readability improvements\n \n-https://github.com/pynac/pynac/releases/download/pynac-0.7.17/pynac-0.7.17.tar.bz2\n+https://github.com/pynac/pynac/releases/download/pynac-0.7.18/pynac-0.7.18.tar.bz2\n``````\n",
    "created_at": "2018-03-23T07:20:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380285",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,10 @@
 In the new version:
+* correct `sinh/cosh/tanh` return type (#24299)
+* `atan2` fixes
+* potential memleaks fixed
+* fixes in Giac interface
+* `subs` can now substitute numeric terms (#23964)
+
 * fix memleak in in-place PyObject numerics (#24745)
 * Python interface / Py3 fixes and improvements (thx Erik Bray, #24561, #24752, #24522)
 * fix internal `asin`/`acos` of complex balls
@@ -7,4 +13,4 @@
 * always extend trig/hyperbolic functions to complex domain (#24428)
 * extensive code readability improvements
 
-https://github.com/pynac/pynac/releases/download/pynac-0.7.17/pynac-0.7.17.tar.bz2
+https://github.com/pynac/pynac/releases/download/pynac-0.7.18/pynac-0.7.18.tar.bz2
``````




---

archive/issue_comments_380286.json:
```json
{
    "body": "Changed commit from **[9f86eb7](https://github.com/sagemath/sagetrac-mirror/commit/9f86eb7b725b44939f22df4cb7f5a6b05935a6c8)** to **[ae5eac7](https://github.com/sagemath/sagetrac-mirror/commit/ae5eac77131fca0266d63ee7c9b9f2b8ecf72ee8)**",
    "created_at": "2018-03-23T07:25:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380286",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9f86eb7](https://github.com/sagemath/sagetrac-mirror/commit/9f86eb7b725b44939f22df4cb7f5a6b05935a6c8)** to **[ae5eac7](https://github.com/sagemath/sagetrac-mirror/commit/ae5eac77131fca0266d63ee7c9b9f2b8ecf72ee8)**



---

archive/issue_comments_380287.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae5eac77131fca0266d63ee7c9b9f2b8ecf72ee8\">ae5eac7</a></td><td><code>24838: version/chksum</code></td></tr></table>\n",
    "created_at": "2018-03-23T07:25:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380287",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:22'>Comment 22:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae5eac77131fca0266d63ee7c9b9f2b8ecf72ee8">ae5eac7</a></td><td><code>24838: version/chksum</code></td></tr></table>




---

archive/issue_events_313988.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-03-23T07:26:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313988"
}
```



---

archive/issue_events_313989.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-03-23T07:26:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313989"
}
```



---

archive/issue_comments_380288.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,6 +6,7 @@\n * `subs` can now substitute numeric terms (#23964)\n \n * fix memleak in in-place PyObject numerics (#24745)\n+* fix endless computation (#24883)\n * Python interface / Py3 fixes and improvements (thx Erik Bray, #24561, #24752, #24522)\n * fix internal `asin`/`acos` of complex balls\n * draw factors out of `add^rational` (#24768)\n``````\n",
    "created_at": "2018-03-25T08:06:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380288",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,6 +6,7 @@
 * `subs` can now substitute numeric terms (#23964)
 
 * fix memleak in in-place PyObject numerics (#24745)
+* fix endless computation (#24883)
 * Python interface / Py3 fixes and improvements (thx Erik Bray, #24561, #24752, #24522)
 * fix internal `asin`/`acos` of complex balls
 * draw factors out of `add^rational` (#24768)
``````




---

archive/issue_comments_380289.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\n0.7.17 introduced a bug in `exp(ex*log(x))` simplification, and we need a new release, anyway.",
    "created_at": "2018-04-07T16:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380289",
    "user": "https://github.com/rwst"
}
```

<a id='comment:25'>Comment 25:</a>
0.7.17 introduced a bug in `exp(ex*log(x))` simplification, and we need a new release, anyway.



---

archive/issue_events_313990.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-04-07T16:07:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313990"
}
```



---

archive/issue_events_313991.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-04-07T16:07:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313991"
}
```



---

archive/issue_events_313992.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-04-08T09:01:02Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "title_is": "Upgrade to pynac-0.7.19",
    "title_was": "Upgrade to pynac-0.7.18",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313992"
}
```



---

archive/issue_comments_380290.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n In the new version:\n+* fix `exp(c*f(x))` simplification\n+* fix `cases(...).subs(...)`\n+* `function::info` for `min/max_symbolic`(#21945)\n+* performance and readability improvements\n+\n * correct `sinh/cosh/tanh` return type (#24299)\n * `atan2` fixes\n * potential memleaks fixed\n@@ -14,4 +19,4 @@\n * always extend trig/hyperbolic functions to complex domain (#24428)\n * extensive code readability improvements\n \n-https://github.com/pynac/pynac/releases/download/pynac-0.7.18/pynac-0.7.18.tar.bz2\n+https://github.com/pynac/pynac/releases/download/pynac-0.7.19/pynac-0.7.19.tar.bz2\n``````\n",
    "created_at": "2018-04-08T09:01:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380290",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,9 @@
 In the new version:
+* fix `exp(c*f(x))` simplification
+* fix `cases(...).subs(...)`
+* `function::info` for `min/max_symbolic`(#21945)
+* performance and readability improvements
+
 * correct `sinh/cosh/tanh` return type (#24299)
 * `atan2` fixes
 * potential memleaks fixed
@@ -14,4 +19,4 @@
 * always extend trig/hyperbolic functions to complex domain (#24428)
 * extensive code readability improvements
 
-https://github.com/pynac/pynac/releases/download/pynac-0.7.18/pynac-0.7.18.tar.bz2
+https://github.com/pynac/pynac/releases/download/pynac-0.7.19/pynac-0.7.19.tar.bz2
``````




---

archive/issue_comments_380291.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79d54eacfa91b1bf28fb0764c6e981a5d33211a2\">79d54ea</a></td><td><code>Merge branch 'develop' into t/24838/upgrade_to_pynac_0_7_17</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75b2f8580353638132ba358a87c0ea5bcf7696eb\">75b2f85</a></td><td><code>fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88782837071d956743e49fb64ef972c1ee163db1\">8878283</a></td><td><code>24838: version/chksum</code></td></tr></table>\n",
    "created_at": "2018-04-08T12:50:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380291",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:27'>Comment 27:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79d54eacfa91b1bf28fb0764c6e981a5d33211a2">79d54ea</a></td><td><code>Merge branch 'develop' into t/24838/upgrade_to_pynac_0_7_17</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75b2f8580353638132ba358a87c0ea5bcf7696eb">75b2f85</a></td><td><code>fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88782837071d956743e49fb64ef972c1ee163db1">8878283</a></td><td><code>24838: version/chksum</code></td></tr></table>




---

archive/issue_comments_380292.json:
```json
{
    "body": "Changed commit from **[ae5eac7](https://github.com/sagemath/sagetrac-mirror/commit/ae5eac77131fca0266d63ee7c9b9f2b8ecf72ee8)** to **[8878283](https://github.com/sagemath/sagetrac-mirror/commit/88782837071d956743e49fb64ef972c1ee163db1)**",
    "created_at": "2018-04-08T12:50:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380292",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ae5eac7](https://github.com/sagemath/sagetrac-mirror/commit/ae5eac77131fca0266d63ee7c9b9f2b8ecf72ee8)** to **[8878283](https://github.com/sagemath/sagetrac-mirror/commit/88782837071d956743e49fb64ef972c1ee163db1)**



---

archive/issue_events_313993.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-04-08T12:51:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313993"
}
```



---

archive/issue_events_313994.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-04-08T12:51:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313994"
}
```



---

archive/issue_comments_380293.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nThis looks fishy:\n\n```diff\n-            sage: SR(CDF(1/2)).arccosh()  # rel tol 1e-15\n+            sage: SR(CDF(1/2)).arccosh() # abs tol 1e-15\n```",
    "created_at": "2018-04-23T13:53:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380293",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:29'>Comment 29:</a>
This looks fishy:

```diff
-            sage: SR(CDF(1/2)).arccosh()  # rel tol 1e-15
+            sage: SR(CDF(1/2)).arccosh() # abs tol 1e-15
```



---

archive/issue_events_313995.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-23T14:52:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313995"
}
```



---

archive/issue_events_313996.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-23T14:52:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313996"
}
```



---

archive/issue_comments_380294.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nThe analogous thing as [comment:9] should be fixed for pure imaginary results:\n\n```\nsage: CDF(1/2).arccosh()\n1.0471975511965979*I\nsage: SR(CDF(1/2)).arccosh()\n-6.372599439108525e-21 + 1.0471975511965979*I\n```\nThen you also revert [comment:29]",
    "created_at": "2018-04-23T14:52:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380294",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'>Comment 30:</a>
The analogous thing as [comment:9] should be fixed for pure imaginary results:

```
sage: CDF(1/2).arccosh()
1.0471975511965979*I
sage: SR(CDF(1/2)).arccosh()
-6.372599439108525e-21 + 1.0471975511965979*I
```
Then you also revert [comment:29]



---

archive/issue_comments_380295.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,7 +14,7 @@\n * fix endless computation (#24883)\n * Python interface / Py3 fixes and improvements (thx Erik Bray, #24561, #24752, #24522)\n * fix internal `asin`/`acos` of complex balls\n-* draw factors out of `add^rational` (#24768)\n+* draw factors out of `add^rational` (#24768, #25251, #25252)\n * `exp(f(x))`, `exp(c*f(x))`, f inv. hyperbolic simplifications (#24841)\n * always extend trig/hyperbolic functions to complex domain (#24428)\n * extensive code readability improvements\n``````\n",
    "created_at": "2018-04-27T05:56:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380295",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,7 +14,7 @@
 * fix endless computation (#24883)
 * Python interface / Py3 fixes and improvements (thx Erik Bray, #24561, #24752, #24522)
 * fix internal `asin`/`acos` of complex balls
-* draw factors out of `add^rational` (#24768)
+* draw factors out of `add^rational` (#24768, #25251, #25252)
 * `exp(f(x))`, `exp(c*f(x))`, f inv. hyperbolic simplifications (#24841)
 * always extend trig/hyperbolic functions to complex domain (#24428)
 * extensive code readability improvements
``````




---

archive/issue_comments_380296.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nReplying to [@jdemeyer](#comment%3A30):\n> The analogous thing as [comment:9] should be fixed for pure imaginary results:\n> \n> ```\n> sage: CDF(1/2).arccosh()\n> 1.0471975511965979*I\n> sage: SR(CDF(1/2)).arccosh()\n> -6.372599439108525e-21 + 1.0471975511965979*I\n> ```\n\nAs explained in [comment:10] missing FP functionality is gained using arb. But there was that bug in arb which is now fixed. Consequentially we need that fix or a recent arb to get the right result, see [comment:14].\n\n> Then you also revert [comment:29]\n\nWill re-revert.",
    "created_at": "2018-04-30T13:08:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380296",
    "user": "https://github.com/rwst"
}
```

<a id='comment:32'>Comment 32:</a>
Replying to [@jdemeyer](#comment%3A30):
> The analogous thing as [comment:9] should be fixed for pure imaginary results:
> 
> ```
> sage: CDF(1/2).arccosh()
> 1.0471975511965979*I
> sage: SR(CDF(1/2)).arccosh()
> -6.372599439108525e-21 + 1.0471975511965979*I
> ```

As explained in [comment:10] missing FP functionality is gained using arb. But there was that bug in arb which is now fixed. Consequentially we need that fix or a recent arb to get the right result, see [comment:14].

> Then you also revert [comment:29]

Will re-revert.



---

archive/issue_comments_380297.json:
```json
{
    "body": "Dependencies: **#24927**",
    "created_at": "2018-04-30T13:16:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380297",
    "user": "https://github.com/rwst"
}
```

Dependencies: **#24927**



---

archive/issue_comments_380298.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nI confirm that this works with https://github.com/fredrik-johansson/arb/commit/7afd3bfaf1697739751d96d3665ef83e78c76820 applied, which is in arb-2.13.0 (#24927).",
    "created_at": "2018-04-30T13:20:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380298",
    "user": "https://github.com/rwst"
}
```

<a id='comment:34'>Comment 34:</a>
I confirm that this works with https://github.com/fredrik-johansson/arb/commit/7afd3bfaf1697739751d96d3665ef83e78c76820 applied, which is in arb-2.13.0 (#24927).



---

archive/issue_comments_380299.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a2217ad2cc92de3fdef30af3431b38e9f5f250a\">8a2217a</a></td><td><code>Merge branch 'develop' into t/24838/upgrade_to_pynac_0_7_17</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3efba1a6f9dd67401716dfdc56eb9bafa61e8963\">3efba1a</a></td><td><code>fix doctest</code></td></tr></table>\n",
    "created_at": "2018-04-30T14:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380299",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:35'>Comment 35:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a2217ad2cc92de3fdef30af3431b38e9f5f250a">8a2217a</a></td><td><code>Merge branch 'develop' into t/24838/upgrade_to_pynac_0_7_17</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3efba1a6f9dd67401716dfdc56eb9bafa61e8963">3efba1a</a></td><td><code>fix doctest</code></td></tr></table>




---

archive/issue_comments_380300.json:
```json
{
    "body": "Changed commit from **[8878283](https://github.com/sagemath/sagetrac-mirror/commit/88782837071d956743e49fb64ef972c1ee163db1)** to **[3efba1a](https://github.com/sagemath/sagetrac-mirror/commit/3efba1a6f9dd67401716dfdc56eb9bafa61e8963)**",
    "created_at": "2018-04-30T14:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380300",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8878283](https://github.com/sagemath/sagetrac-mirror/commit/88782837071d956743e49fb64ef972c1ee163db1)** to **[3efba1a](https://github.com/sagemath/sagetrac-mirror/commit/3efba1a6f9dd67401716dfdc56eb9bafa61e8963)**



---

archive/issue_comments_380301.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nSome recent Sage commit makes doctests (involving powers of `I`) fail together with pynac-0.7.17 so we'll need a fix in 0.7.20.",
    "created_at": "2018-05-29T05:46:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380301",
    "user": "https://github.com/rwst"
}
```

<a id='comment:36'>Comment 36:</a>
Some recent Sage commit makes doctests (involving powers of `I`) fail together with pynac-0.7.17 so we'll need a fix in 0.7.20.



---

archive/issue_comments_380302.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nActually it's not our fault: #25458.",
    "created_at": "2018-05-29T06:03:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380302",
    "user": "https://github.com/rwst"
}
```

<a id='comment:37'>Comment 37:</a>
Actually it's not our fault: #25458.



---

archive/issue_events_313997.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-05-29T07:27:51Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "title_is": "Upgrade to pynac-0.7.20",
    "title_was": "Upgrade to pynac-0.7.19",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313997"
}
```



---

archive/issue_comments_380303.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n In the new version:\n+* implement commutative matching; fix GiNaC's matching deficiencies (#25168)\n+* substitute patternless if no wildcards present\n+* remove some compiler warnings\n+* update AX_CXX_COMPILE_STDCXX.m4 \n+\n * fix `exp(c*f(x))` simplification\n * fix `cases(...).subs(...)`\n * `function::info` for `min/max_symbolic`(#21945)\n@@ -19,4 +24,4 @@\n * always extend trig/hyperbolic functions to complex domain (#24428)\n * extensive code readability improvements\n \n-https://github.com/pynac/pynac/releases/download/pynac-0.7.19/pynac-0.7.19.tar.bz2\n+https://github.com/pynac/pynac/releases/download/pynac-0.7.20/pynac-0.7.20.tar.bz2\n``````\n",
    "created_at": "2018-05-29T07:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380303",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,9 @@
 In the new version:
+* implement commutative matching; fix GiNaC's matching deficiencies (#25168)
+* substitute patternless if no wildcards present
+* remove some compiler warnings
+* update AX_CXX_COMPILE_STDCXX.m4 
+
 * fix `exp(c*f(x))` simplification
 * fix `cases(...).subs(...)`
 * `function::info` for `min/max_symbolic`(#21945)
@@ -19,4 +24,4 @@
 * always extend trig/hyperbolic functions to complex domain (#24428)
 * extensive code readability improvements
 
-https://github.com/pynac/pynac/releases/download/pynac-0.7.19/pynac-0.7.19.tar.bz2
+https://github.com/pynac/pynac/releases/download/pynac-0.7.20/pynac-0.7.20.tar.bz2
``````




---

archive/issue_comments_380304.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed360701a57702e53ace58e8c31115349dc98b4b\">ed36070</a></td><td><code>Merge branch 'develop' into t/24838/upgrade_to_pynac_0_7_17</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3278103b03cb12feefbb2eeb6ce75c6328199a19\">3278103</a></td><td><code>Merge branch 'develop' into t/24838/upgrade_to_pynac_0_7_17</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca69aefddbccd02e7d8689405b35fdfba42fa352\">ca69aef</a></td><td><code>Merge branch 'develop' into t/24838/upgrade_to_pynac_0_7_17</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/97bf3b786392b866c8788f73dce538b4cd31fc7b\">97bf3b7</a></td><td><code>24838: doctest fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6b01df9c5a2099498882bf54b89502ed96815c1\">e6b01df</a></td><td><code>doctest fix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fdb42107d9ae25e76fa2100cc1038e874c5c96d4\">fdb4210</a></td><td><code>Merge branch 'develop' into t/24838/upgrade_to_pynac_0_7_17</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad07cd5c0b8789b768d23b93db4a4004467ed5df\">ad07cd5</a></td><td><code>24838: 0.7.20 version/chksum</code></td></tr></table>\n",
    "created_at": "2018-05-29T07:36:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380304",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:39'>Comment 39:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed360701a57702e53ace58e8c31115349dc98b4b">ed36070</a></td><td><code>Merge branch 'develop' into t/24838/upgrade_to_pynac_0_7_17</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3278103b03cb12feefbb2eeb6ce75c6328199a19">3278103</a></td><td><code>Merge branch 'develop' into t/24838/upgrade_to_pynac_0_7_17</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca69aefddbccd02e7d8689405b35fdfba42fa352">ca69aef</a></td><td><code>Merge branch 'develop' into t/24838/upgrade_to_pynac_0_7_17</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/97bf3b786392b866c8788f73dce538b4cd31fc7b">97bf3b7</a></td><td><code>24838: doctest fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6b01df9c5a2099498882bf54b89502ed96815c1">e6b01df</a></td><td><code>doctest fix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fdb42107d9ae25e76fa2100cc1038e874c5c96d4">fdb4210</a></td><td><code>Merge branch 'develop' into t/24838/upgrade_to_pynac_0_7_17</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad07cd5c0b8789b768d23b93db4a4004467ed5df">ad07cd5</a></td><td><code>24838: 0.7.20 version/chksum</code></td></tr></table>




---

archive/issue_comments_380305.json:
```json
{
    "body": "Changed commit from **[3efba1a](https://github.com/sagemath/sagetrac-mirror/commit/3efba1a6f9dd67401716dfdc56eb9bafa61e8963)** to **[ad07cd5](https://github.com/sagemath/sagetrac-mirror/commit/ad07cd5c0b8789b768d23b93db4a4004467ed5df)**",
    "created_at": "2018-05-29T07:36:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380305",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3efba1a](https://github.com/sagemath/sagetrac-mirror/commit/3efba1a6f9dd67401716dfdc56eb9bafa61e8963)** to **[ad07cd5](https://github.com/sagemath/sagetrac-mirror/commit/ad07cd5c0b8789b768d23b93db4a4004467ed5df)**



---

archive/issue_events_313998.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-06-24T07:32:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313998"
}
```



---

archive/issue_events_313999.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-06-24T07:32:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-313999"
}
```



---

archive/issue_comments_380306.json:
```json
{
    "body": "Changed branch from **[u/rws/upgrade_to_pynac_0_7_17](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/upgrade_to_pynac_0_7_17)** to none",
    "created_at": "2018-06-24T07:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380306",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/rws/upgrade_to_pynac_0_7_17](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/upgrade_to_pynac_0_7_17)** to none



---

archive/issue_comments_380307.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,12 @@\n In the new version:\n+* fix matching\n+* fast and working versons of quo_rem and rational decomposition\n+* fix power inconsistency\n+* internal fix of another power inconsistency (Sage 25639)\n+* `(x<sup>a)</sup>b --> x^(ab)` IF x real, a odd integer, ab integer\n+* add ex::treesize() as complexity metric\n+* information for packagers\n+\n * implement commutative matching; fix GiNaC's matching deficiencies (#25168)\n * substitute patternless if no wildcards present\n * remove some compiler warnings\n@@ -24,4 +32,4 @@\n * always extend trig/hyperbolic functions to complex domain (#24428)\n * extensive code readability improvements\n \n-https://github.com/pynac/pynac/releases/download/pynac-0.7.20/pynac-0.7.20.tar.bz2\n+https://github.com/pynac/pynac/releases/download/pynac-0.7.22/pynac-0.7.22.tar.bz2\n``````\n",
    "created_at": "2018-06-24T07:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380307",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,12 @@
 In the new version:
+* fix matching
+* fast and working versons of quo_rem and rational decomposition
+* fix power inconsistency
+* internal fix of another power inconsistency (Sage 25639)
+* `(x<sup>a)</sup>b --> x^(ab)` IF x real, a odd integer, ab integer
+* add ex::treesize() as complexity metric
+* information for packagers
+
 * implement commutative matching; fix GiNaC's matching deficiencies (#25168)
 * substitute patternless if no wildcards present
 * remove some compiler warnings
@@ -24,4 +32,4 @@
 * always extend trig/hyperbolic functions to complex domain (#24428)
 * extensive code readability improvements
 
-https://github.com/pynac/pynac/releases/download/pynac-0.7.20/pynac-0.7.20.tar.bz2
+https://github.com/pynac/pynac/releases/download/pynac-0.7.22/pynac-0.7.22.tar.bz2
``````




---

archive/issue_events_314000.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-06-24T07:32:24Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "title_is": "Upgrade to pynac-0.7.22",
    "title_was": "Upgrade to pynac-0.7.20",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-314000"
}
```



---

archive/issue_comments_380308.json:
```json
{
    "body": "Changed commit from **[ad07cd5](https://github.com/sagemath/sagetrac-mirror/commit/ad07cd5c0b8789b768d23b93db4a4004467ed5df)** to none",
    "created_at": "2018-06-24T07:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380308",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[ad07cd5](https://github.com/sagemath/sagetrac-mirror/commit/ad07cd5c0b8789b768d23b93db4a4004467ed5df)** to none



---

archive/issue_comments_380309.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,7 @@\n In the new version:\n-* fix matching\n * fast and working versons of quo_rem and rational decomposition\n * fix power inconsistency\n-* internal fix of another power inconsistency (Sage 25639)\n+* internal fix of another power inconsistency (#25639)\n * `(x<sup>a)</sup>b --> x^(ab)` IF x real, a odd integer, ab integer\n * add ex::treesize() as complexity metric\n * information for packagers\n``````\n",
    "created_at": "2018-06-24T07:33:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380309",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,7 @@
 In the new version:
-* fix matching
 * fast and working versons of quo_rem and rational decomposition
 * fix power inconsistency
-* internal fix of another power inconsistency (Sage 25639)
+* internal fix of another power inconsistency (#25639)
 * `(x<sup>a)</sup>b --> x^(ab)` IF x real, a odd integer, ab integer
 * add ex::treesize() as complexity metric
 * information for packagers
``````




---

archive/issue_comments_380310.json:
```json
{
    "body": "Branch: **[u/rws/24838](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24838)**",
    "created_at": "2018-06-24T07:45:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380310",
    "user": "https://github.com/rwst"
}
```

Branch: **[u/rws/24838](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24838)**



---

archive/issue_comments_380311.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nThe dependency is now in. Here a fresh branch with the newest Pynac.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f6c08e94a50bf6f0299b1efab2d243dd6c50f7c\">5f6c08e</a></td><td><code>24838: pkg version / chksum / remove old patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b244e94f2b9bced8249d5abefb206bd419f8f43\">3b244e9</a></td><td><code>24838: doctest fixes</code></td></tr></table>\n",
    "created_at": "2018-06-24T07:46:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380311",
    "user": "https://github.com/rwst"
}
```

<a id='comment:43'>Comment 43:</a>
The dependency is now in. Here a fresh branch with the newest Pynac.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f6c08e94a50bf6f0299b1efab2d243dd6c50f7c">5f6c08e</a></td><td><code>24838: pkg version / chksum / remove old patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b244e94f2b9bced8249d5abefb206bd419f8f43">3b244e9</a></td><td><code>24838: doctest fixes</code></td></tr></table>




---

archive/issue_comments_380312.json:
```json
{
    "body": "Commit: **[3b244e9](https://github.com/sagemath/sagetrac-mirror/commit/3b244e94f2b9bced8249d5abefb206bd419f8f43)**",
    "created_at": "2018-06-24T07:46:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380312",
    "user": "https://github.com/rwst"
}
```

Commit: **[3b244e9](https://github.com/sagemath/sagetrac-mirror/commit/3b244e94f2b9bced8249d5abefb206bd419f8f43)**



---

archive/issue_events_314001.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-06-24T07:46:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-314001"
}
```



---

archive/issue_events_314002.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-06-24T07:46:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-314002"
}
```



---

archive/issue_comments_380313.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,9 +1,9 @@\n In the new version:\n-* fast and working versons of quo_rem and rational decomposition\n+* fast and working versons of quo_rem and rational decomposition (#25644, #25645)\n * fix power inconsistency\n * internal fix of another power inconsistency (#25639)\n * `(x<sup>a)</sup>b --> x^(ab)` IF x real, a odd integer, ab integer\n-* add ex::treesize() as complexity metric\n+* add `ex::treesize()` as complexity metric (#25643)\n * information for packagers\n \n * implement commutative matching; fix GiNaC's matching deficiencies (#25168)\n``````\n",
    "created_at": "2018-06-24T08:01:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380313",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,9 +1,9 @@
 In the new version:
-* fast and working versons of quo_rem and rational decomposition
+* fast and working versons of quo_rem and rational decomposition (#25644, #25645)
 * fix power inconsistency
 * internal fix of another power inconsistency (#25639)
 * `(x<sup>a)</sup>b --> x^(ab)` IF x real, a odd integer, ab integer
-* add ex::treesize() as complexity metric
+* add `ex::treesize()` as complexity metric (#25643)
 * information for packagers
 
 * implement commutative matching; fix GiNaC's matching deficiencies (#25168)
``````




---

archive/issue_comments_380314.json:
```json
{
    "body": "<a id='comment:45'>Comment 45:</a>\nI got \"invalid checksum\"",
    "created_at": "2018-06-24T12:54:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380314",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:45'>Comment 45:</a>
I got "invalid checksum"



---

archive/issue_comments_380315.json:
```json
{
    "body": "<a id='comment:46'>Comment 46:</a>\nPlease check again, I just now did not get any error with the file linked in the ticket. Did you reload the branch?",
    "created_at": "2018-06-24T14:18:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380315",
    "user": "https://github.com/rwst"
}
```

<a id='comment:46'>Comment 46:</a>
Please check again, I just now did not get any error with the file linked in the ticket. Did you reload the branch?



---

archive/issue_comments_380316.json:
```json
{
    "body": "<a id='comment:47'>Comment 47:</a>\nIndeed. Works now. I must have made some mistake in my previous attempt.",
    "created_at": "2018-06-24T14:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380316",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:47'>Comment 47:</a>
Indeed. Works now. I must have made some mistake in my previous attempt.



---

archive/issue_comments_380317.json:
```json
{
    "body": "<a id='comment:48'>Comment 48:</a>\ngot\n\n```\nsage -t --long src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py  # 2 doctests failed\nsage -t --long src/sage/symbolic/expression.pyx  # 1 doctest failed\n```",
    "created_at": "2018-06-24T16:29:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380317",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:48'>Comment 48:</a>
got

```
sage -t --long src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py  # 2 doctests failed
sage -t --long src/sage/symbolic/expression.pyx  # 1 doctest failed
```



---

archive/issue_comments_380318.json:
```json
{
    "body": "<a id='comment:49'>Comment 49:</a>\n\n```\nDoctesting 2 files.\nsage -t --long src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py\n**********************************************************************\nFile \"src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py\", line 153, in sage.rings.asymptotic.asymptotics_multivariate_generating_functions\nFailed example:\n    F1.asymptotics(p, alpha, 2)\nExpected:\n    (-3*((2*a^2 - 5*a*b + 2*b^2)*r^2 + (a + b)*r + 3)*((1/3)^(-a)*(1/3)^(-b))^r,\n     (1/3)^(-a)*(1/3)^(-b), -3*(2*a^2 - 5*a*b + 2*b^2)*r^2 - 3*(a + b)*r - 9)\nGot:\n    (-3*((2*a^2 - 5*a*b + 2*b^2)*r^2 + (a + b)*r + 3)*(1/((1/3)^a*(1/3)^b))^r,\n     1/((1/3)^a*(1/3)^b),\n     -3*(2*a^2 - 5*a*b + 2*b^2)*r^2 - 3*(a + b)*r - 9)\n**********************************************************************\nFile \"src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py\", line 2161, in sage.rings.asymptotic.asymptotics_multivariate_generating_functions.FractionWithFactoredDenominator.?\nFailed example:\n    F.asymptotics_multiple(p, alpha, 2, var('r')) # long time\nExpected:\n    (3*((1/3)^(-a)*(1/3)^(-b))^r*e^(2/3), (1/3)^(-a)*(1/3)^(-b), 3*e^(2/3))\nGot:\n    (3*(1/((1/3)^a*(1/3)^b))^r*e^(2/3), 1/((1/3)^a*(1/3)^b), 3*e^(2/3))\n**********************************************************************\n2 items had failures:\n   1 of  77 in sage.rings.asymptotic.asymptotics_multivariate_generating_functions\n```\nand\n\n```\nFailed example:\n    SR(CDF(1/2)).arccosh() #  rel tol 1e-15\nExpected:\n    1.0471975511965976*I\nGot:\n    -6.372599439108525e-21 + 1.0471975511965979*I\n```",
    "created_at": "2018-06-24T16:31:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380318",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:49'>Comment 49:</a>

```
Doctesting 2 files.
sage -t --long src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py
**********************************************************************
File "src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py", line 153, in sage.rings.asymptotic.asymptotics_multivariate_generating_functions
Failed example:
    F1.asymptotics(p, alpha, 2)
Expected:
    (-3*((2*a^2 - 5*a*b + 2*b^2)*r^2 + (a + b)*r + 3)*((1/3)^(-a)*(1/3)^(-b))^r,
     (1/3)^(-a)*(1/3)^(-b), -3*(2*a^2 - 5*a*b + 2*b^2)*r^2 - 3*(a + b)*r - 9)
Got:
    (-3*((2*a^2 - 5*a*b + 2*b^2)*r^2 + (a + b)*r + 3)*(1/((1/3)^a*(1/3)^b))^r,
     1/((1/3)^a*(1/3)^b),
     -3*(2*a^2 - 5*a*b + 2*b^2)*r^2 - 3*(a + b)*r - 9)
**********************************************************************
File "src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py", line 2161, in sage.rings.asymptotic.asymptotics_multivariate_generating_functions.FractionWithFactoredDenominator.?
Failed example:
    F.asymptotics_multiple(p, alpha, 2, var('r')) # long time
Expected:
    (3*((1/3)^(-a)*(1/3)^(-b))^r*e^(2/3), (1/3)^(-a)*(1/3)^(-b), 3*e^(2/3))
Got:
    (3*(1/((1/3)^a*(1/3)^b))^r*e^(2/3), 1/((1/3)^a*(1/3)^b), 3*e^(2/3))
**********************************************************************
2 items had failures:
   1 of  77 in sage.rings.asymptotic.asymptotics_multivariate_generating_functions
```
and

```
Failed example:
    SR(CDF(1/2)).arccosh() #  rel tol 1e-15
Expected:
    1.0471975511965976*I
Got:
    -6.372599439108525e-21 + 1.0471975511965979*I
```



---

archive/issue_comments_380319.json:
```json
{
    "body": "<a id='comment:50'>Comment 50:</a>\nReplying to [@fchapoton](#comment%3A49):\n> \n> ```\n> Failed example:\n>     SR(CDF(1/2)).arccosh() #  rel tol 1e-15\n> Expected:\n>     1.0471975511965976*I\n> Got:\n>     -6.372599439108525e-21 + 1.0471975511965979*I\n> ```\n\nNot confirmed. You apparently don't have the dependency installed, the newest arb.",
    "created_at": "2018-06-25T05:14:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380319",
    "user": "https://github.com/rwst"
}
```

<a id='comment:50'>Comment 50:</a>
Replying to [@fchapoton](#comment%3A49):
> 
> ```
> Failed example:
>     SR(CDF(1/2)).arccosh() #  rel tol 1e-15
> Expected:
>     1.0471975511965976*I
> Got:
>     -6.372599439108525e-21 + 1.0471975511965979*I
> ```

Not confirmed. You apparently don't have the dependency installed, the newest arb.



---

archive/issue_comments_380320.json:
```json
{
    "body": "<a id='comment:51'>Comment 51:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/814e54994ad4ef7fa456638bf7c7e6c82aad347f\">814e549</a></td><td><code>24838: fix to doctests</code></td></tr></table>\n",
    "created_at": "2018-06-25T05:38:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380320",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:51'>Comment 51:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/814e54994ad4ef7fa456638bf7c7e6c82aad347f">814e549</a></td><td><code>24838: fix to doctests</code></td></tr></table>




---

archive/issue_comments_380321.json:
```json
{
    "body": "Changed commit from **[3b244e9](https://github.com/sagemath/sagetrac-mirror/commit/3b244e94f2b9bced8249d5abefb206bd419f8f43)** to **[814e549](https://github.com/sagemath/sagetrac-mirror/commit/814e54994ad4ef7fa456638bf7c7e6c82aad347f)**",
    "created_at": "2018-06-25T05:38:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380321",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3b244e9](https://github.com/sagemath/sagetrac-mirror/commit/3b244e94f2b9bced8249d5abefb206bd419f8f43)** to **[814e549](https://github.com/sagemath/sagetrac-mirror/commit/814e54994ad4ef7fa456638bf7c7e6c82aad347f)**



---

archive/issue_comments_380322.json:
```json
{
    "body": "<a id='comment:52'>Comment 52:</a>\nThe second doctest is still failing for me.\n\n```\nsage: version()\n'SageMath version 8.3.beta7, Release Date: 2018-06-23'\nsage: package_versions('standard')['arb']\n('2.13.0', '2.13.0')\n```",
    "created_at": "2018-06-25T08:17:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380322",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:52'>Comment 52:</a>
The second doctest is still failing for me.

```
sage: version()
'SageMath version 8.3.beta7, Release Date: 2018-06-23'
sage: package_versions('standard')['arb']
('2.13.0', '2.13.0')
```



---

archive/issue_comments_380323.json:
```json
{
    "body": "<a id='comment:53'>Comment 53:</a>\nReplying to [@fchapoton](#comment%3A52):\n> The second doctest is still failing for me.\n\nCan you please give the output of:\n\n```\nsage: CDF(1/2).arccosh()\n1.0471975511965979*I\nsage: CBF(1/2).arccosh()\n[1.047197551196598 +/- 7.94e-16]*I\n```",
    "created_at": "2018-06-25T12:46:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380323",
    "user": "https://github.com/rwst"
}
```

<a id='comment:53'>Comment 53:</a>
Replying to [@fchapoton](#comment%3A52):
> The second doctest is still failing for me.

Can you please give the output of:

```
sage: CDF(1/2).arccosh()
1.0471975511965979*I
sage: CBF(1/2).arccosh()
[1.047197551196598 +/- 7.94e-16]*I
```



---

archive/issue_comments_380324.json:
```json
{
    "body": "<a id='comment:54'>Comment 54:</a>\n\n```\nsage: CDF(1/2).arccosh()\n1.0471975511965979*I\nsage: CBF(1/2).arccosh()\n[+/- 4.90e-16] + [1.047197551196598 +/- 7.94e-16]*I\n```",
    "created_at": "2018-06-25T12:48:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380324",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:54'>Comment 54:</a>

```
sage: CDF(1/2).arccosh()
1.0471975511965979*I
sage: CBF(1/2).arccosh()
[+/- 4.90e-16] + [1.047197551196598 +/- 7.94e-16]*I
```



---

archive/issue_comments_380325.json:
```json
{
    "body": "<a id='comment:55'>Comment 55:</a>\nThis is peculiar. I was under the impression that this fix: https://github.com/fredrik-johansson/arb/commit/7afd3bfaf1697739751d96d3665ef83e78c76820 would be in arb-2.13.0. I just found out that it was committed Mar 5, while the release was Feb 23. I should have actively propagated that patch into our arb upgrade ticket.\n\nShould I open a separate ticket for the arb patch or just put it into this branch?\n\nI would have noticed earlier but for some reason I don't get the error with 2.13.0.",
    "created_at": "2018-06-25T13:11:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380325",
    "user": "https://github.com/rwst"
}
```

<a id='comment:55'>Comment 55:</a>
This is peculiar. I was under the impression that this fix: https://github.com/fredrik-johansson/arb/commit/7afd3bfaf1697739751d96d3665ef83e78c76820 would be in arb-2.13.0. I just found out that it was committed Mar 5, while the release was Feb 23. I should have actively propagated that patch into our arb upgrade ticket.

Should I open a separate ticket for the arb patch or just put it into this branch?

I would have noticed earlier but for some reason I don't get the error with 2.13.0.



---

archive/issue_comments_380326.json:
```json
{
    "body": "<a id='comment:56'>Comment 56:</a>\nAh, I had the patch still in the patches directory. New files are not deleted when changing branches.",
    "created_at": "2018-06-25T13:39:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380326",
    "user": "https://github.com/rwst"
}
```

<a id='comment:56'>Comment 56:</a>
Ah, I had the patch still in the patches directory. New files are not deleted when changing branches.



---

archive/issue_comments_380327.json:
```json
{
    "body": "Changed commit from **[814e549](https://github.com/sagemath/sagetrac-mirror/commit/814e54994ad4ef7fa456638bf7c7e6c82aad347f)** to **[6645f79](https://github.com/sagemath/sagetrac-mirror/commit/6645f7923ee5bdd97219b0a475e3ae98e03de4e8)**",
    "created_at": "2018-06-25T14:15:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380327",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[814e549](https://github.com/sagemath/sagetrac-mirror/commit/814e54994ad4ef7fa456638bf7c7e6c82aad347f)** to **[6645f79](https://github.com/sagemath/sagetrac-mirror/commit/6645f7923ee5bdd97219b0a475e3ae98e03de4e8)**



---

archive/issue_comments_380328.json:
```json
{
    "body": "<a id='comment:57'>Comment 57:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6645f7923ee5bdd97219b0a475e3ae98e03de4e8\">6645f79</a></td><td><code>24838: add arb commit 7afd3afbf</code></td></tr></table>\n",
    "created_at": "2018-06-25T14:15:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380328",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:57'>Comment 57:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6645f7923ee5bdd97219b0a475e3ae98e03de4e8">6645f79</a></td><td><code>24838: add arb commit 7afd3afbf</code></td></tr></table>




---

archive/issue_comments_380329.json:
```json
{
    "body": "<a id='comment:58'>Comment 58:</a>\nThis is reviewed by Fredrik in https://github.com/fredrik-johansson/arb/pull/210",
    "created_at": "2018-06-25T14:17:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380329",
    "user": "https://github.com/rwst"
}
```

<a id='comment:58'>Comment 58:</a>
This is reviewed by Fredrik in https://github.com/fredrik-johansson/arb/pull/210



---

archive/issue_comments_380330.json:
```json
{
    "body": "<a id='comment:59'>Comment 59:</a>\nThis should bump the arb version by `.p0`",
    "created_at": "2018-06-25T15:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380330",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:59'>Comment 59:</a>
This should bump the arb version by `.p0`



---

archive/issue_comments_380331.json:
```json
{
    "body": "<a id='comment:60'>Comment 60:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e4e081d09ff059a8f192ec57ba0443587da3900\">8e4e081</a></td><td><code>24838: bump arb version</code></td></tr></table>\n",
    "created_at": "2018-06-25T15:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380331",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:60'>Comment 60:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e4e081d09ff059a8f192ec57ba0443587da3900">8e4e081</a></td><td><code>24838: bump arb version</code></td></tr></table>




---

archive/issue_comments_380332.json:
```json
{
    "body": "Changed commit from **[6645f79](https://github.com/sagemath/sagetrac-mirror/commit/6645f7923ee5bdd97219b0a475e3ae98e03de4e8)** to **[8e4e081](https://github.com/sagemath/sagetrac-mirror/commit/8e4e081d09ff059a8f192ec57ba0443587da3900)**",
    "created_at": "2018-06-25T15:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380332",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6645f79](https://github.com/sagemath/sagetrac-mirror/commit/6645f7923ee5bdd97219b0a475e3ae98e03de4e8)** to **[8e4e081](https://github.com/sagemath/sagetrac-mirror/commit/8e4e081d09ff059a8f192ec57ba0443587da3900)**



---

archive/issue_comments_380333.json:
```json
{
    "body": "<a id='comment:61'>Comment 61:</a>\nThanks. This should be ready to go.\n\nLaunching now \"make ptestlong\" once again, just to be sure.",
    "created_at": "2018-06-25T15:45:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380333",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:61'>Comment 61:</a>
Thanks. This should be ready to go.

Launching now "make ptestlong" once again, just to be sure.



---

archive/issue_comments_380334.json:
```json
{
    "body": "<a id='comment:62'>Comment 62:</a>\nok, all tests pass",
    "created_at": "2018-06-25T16:55:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380334",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:62'>Comment 62:</a>
ok, all tests pass



---

archive/issue_comments_380335.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2018-06-25T16:55:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380335",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_events_314003.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-25T16:55:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-314003"
}
```



---

archive/issue_events_314004.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-25T16:55:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-314004"
}
```



---

archive/issue_comments_380336.json:
```json
{
    "body": "<a id='comment:63'>Comment 63:</a>\nThanks for the review!",
    "created_at": "2018-06-26T05:10:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380336",
    "user": "https://github.com/rwst"
}
```

<a id='comment:63'>Comment 63:</a>
Thanks for the review!



---

archive/issue_comments_380337.json:
```json
{
    "body": "<a id='comment:64'>Comment 64:</a>\nOn 32-bit:\n\n```\nFile \"src/sage/functions/hypergeometric.py\", line 148, in sage.functions.hypergeometric\nFailed example:\n    hypergeometric_U(2, 2, x).series(x == 3, 100).subs(x=1).n()\nExpected:\n    0.403652637676806\nGot:\n    0.403651580752398\n```",
    "created_at": "2018-06-27T06:02:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380337",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:64'>Comment 64:</a>
On 32-bit:

```
File "src/sage/functions/hypergeometric.py", line 148, in sage.functions.hypergeometric
Failed example:
    hypergeometric_U(2, 2, x).series(x == 3, 100).subs(x=1).n()
Expected:
    0.403652637676806
Got:
    0.403651580752398
```



---

archive/issue_events_314005.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-27T06:02:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-314005"
}
```



---

archive/issue_events_314006.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-27T06:02:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-314006"
}
```



---

archive/issue_comments_380338.json:
```json
{
    "body": "<a id='comment:65'>Comment 65:</a>\nReplying to [@vbraun](#comment%3A64):\n> On 32-bit:\n> \n> ```\n> File \"src/sage/functions/hypergeometric.py\", line 148, in sage.functions.hypergeometric\n> Failed example:\n>     hypergeometric_U(2, 2, x).series(x == 3, 100).subs(x=1).n()\n> Expected:\n>     0.403652637676806\n> Got:\n>     0.403651580752398\n> ```\n\nPynac is not involved in the numerics (`hypergeometric_U` is not a `GinacFunction`), so the hypothesis is that the expression before `.n()` is different with 32bit pynac-0.7.22.",
    "created_at": "2018-06-27T15:23:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380338",
    "user": "https://github.com/rwst"
}
```

<a id='comment:65'>Comment 65:</a>
Replying to [@vbraun](#comment%3A64):
> On 32-bit:
> 
> ```
> File "src/sage/functions/hypergeometric.py", line 148, in sage.functions.hypergeometric
> Failed example:
>     hypergeometric_U(2, 2, x).series(x == 3, 100).subs(x=1).n()
> Expected:
>     0.403652637676806
> Got:
>     0.403651580752398
> ```

Pynac is not involved in the numerics (`hypergeometric_U` is not a `GinacFunction`), so the hypothesis is that the expression before `.n()` is different with 32bit pynac-0.7.22.



---

archive/issue_comments_380339.json:
```json
{
    "body": "<a id='comment:67'>Comment 67:</a>\nReplying to [@rwst](#comment%3A65):\n> Replying to [@vbraun](#comment%3A64):\n> > On 32-bit:\n\n> \n> Pynac is not involved in the numerics (`hypergeometric_U` is not a `GinacFunction`), so the hypothesis is that the expression before `.n()` is different with 32bit pynac-0.7.22.\n\nWe will never know. I failed to install 32bit versions of CentOS and ArchLinux in a VM, and I will not try again. There will be a ticket for this doctest failure, and the test marked \"known bug (see ...\".",
    "created_at": "2018-06-28T14:15:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380339",
    "user": "https://github.com/rwst"
}
```

<a id='comment:67'>Comment 67:</a>
Replying to [@rwst](#comment%3A65):
> Replying to [@vbraun](#comment%3A64):
> > On 32-bit:

> 
> Pynac is not involved in the numerics (`hypergeometric_U` is not a `GinacFunction`), so the hypothesis is that the expression before `.n()` is different with 32bit pynac-0.7.22.

We will never know. I failed to install 32bit versions of CentOS and ArchLinux in a VM, and I will not try again. There will be a ticket for this doctest failure, and the test marked "known bug (see ...".



---

archive/issue_comments_380340.json:
```json
{
    "body": "<a id='comment:68'>Comment 68:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f6c08e94a50bf6f0299b1efab2d243dd6c50f7c\">5f6c08e</a></td><td><code>24838: pkg version / chksum / remove old patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b244e94f2b9bced8249d5abefb206bd419f8f43\">3b244e9</a></td><td><code>24838: doctest fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/814e54994ad4ef7fa456638bf7c7e6c82aad347f\">814e549</a></td><td><code>24838: fix to doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6645f7923ee5bdd97219b0a475e3ae98e03de4e8\">6645f79</a></td><td><code>24838: add arb commit 7afd3afbf</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e4e081d09ff059a8f192ec57ba0443587da3900\">8e4e081</a></td><td><code>24838: bump arb version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e324b642c1f7c7cb98eea400abfe7c9a4296fcca\">e324b64</a></td><td><code>24838: mark 32-bit fail as known bug, see 25688</code></td></tr></table>\n",
    "created_at": "2018-06-28T14:39:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380340",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:68'>Comment 68:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f6c08e94a50bf6f0299b1efab2d243dd6c50f7c">5f6c08e</a></td><td><code>24838: pkg version / chksum / remove old patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b244e94f2b9bced8249d5abefb206bd419f8f43">3b244e9</a></td><td><code>24838: doctest fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/814e54994ad4ef7fa456638bf7c7e6c82aad347f">814e549</a></td><td><code>24838: fix to doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6645f7923ee5bdd97219b0a475e3ae98e03de4e8">6645f79</a></td><td><code>24838: add arb commit 7afd3afbf</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e4e081d09ff059a8f192ec57ba0443587da3900">8e4e081</a></td><td><code>24838: bump arb version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e324b642c1f7c7cb98eea400abfe7c9a4296fcca">e324b64</a></td><td><code>24838: mark 32-bit fail as known bug, see 25688</code></td></tr></table>




---

archive/issue_comments_380341.json:
```json
{
    "body": "Changed commit from **[8e4e081](https://github.com/sagemath/sagetrac-mirror/commit/8e4e081d09ff059a8f192ec57ba0443587da3900)** to **[e324b64](https://github.com/sagemath/sagetrac-mirror/commit/e324b642c1f7c7cb98eea400abfe7c9a4296fcca)**",
    "created_at": "2018-06-28T14:39:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380341",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8e4e081](https://github.com/sagemath/sagetrac-mirror/commit/8e4e081d09ff059a8f192ec57ba0443587da3900)** to **[e324b64](https://github.com/sagemath/sagetrac-mirror/commit/e324b642c1f7c7cb98eea400abfe7c9a4296fcca)**



---

archive/issue_events_314007.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-06-28T14:41:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-314007"
}
```



---

archive/issue_events_314008.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-06-28T14:41:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-314008"
}
```



---

archive/issue_comments_380342.json:
```json
{
    "body": "<a id='comment:70'>Comment 70:</a>\nThis isn't really about this specific ticket (thanks for putting in the work for the upgrade), but is there a reason everybody seems to make seperate \"pkg version / chksum\" and \"doctest fixes\" patches?\n\nShouldn't each commit be one unit of changes for which the doctests still pass?",
    "created_at": "2018-06-28T20:40:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380342",
    "user": "https://github.com/timokau"
}
```

<a id='comment:70'>Comment 70:</a>
This isn't really about this specific ticket (thanks for putting in the work for the upgrade), but is there a reason everybody seems to make seperate "pkg version / chksum" and "doctest fixes" patches?

Shouldn't each commit be one unit of changes for which the doctests still pass?



---

archive/issue_comments_380343.json:
```json
{
    "body": "<a id='comment:71'>Comment 71:</a>\nReplying to [@timokau](#comment%3A70):\n> Shouldn't each commit be one unit of changes for which the doctests still pass?\n\nThe only reason I see for this is to make statistics based on number of commits meaningful. By splitting commits into parts (if there is such a natural split, maybe here it's less needed) I make the job of reviewing easier.",
    "created_at": "2018-06-29T05:36:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380343",
    "user": "https://github.com/rwst"
}
```

<a id='comment:71'>Comment 71:</a>
Replying to [@timokau](#comment%3A70):
> Shouldn't each commit be one unit of changes for which the doctests still pass?

The only reason I see for this is to make statistics based on number of commits meaningful. By splitting commits into parts (if there is such a natural split, maybe here it's less needed) I make the job of reviewing easier.



---

archive/issue_comments_380344.json:
```json
{
    "body": "<a id='comment:72'>Comment 72:</a>\nReplying to [@rwst](#comment%3A71):\n> Replying to [@timokau](#comment%3A70):\n> > Shouldn't each commit be one unit of changes for which the doctests still pass?\n\n> \n> The only reason I see for this is to make statistics based on number of commits meaningful. By splitting commits into parts (if there is such a natural split, maybe here it's less needed) I make the job of reviewing easier.\n\nA much more practical reason is the use of `git-bisect` or just generally being able to check out some interesting commit and build from it.",
    "created_at": "2018-06-29T13:53:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380344",
    "user": "https://github.com/timokau"
}
```

<a id='comment:72'>Comment 72:</a>
Replying to [@rwst](#comment%3A71):
> Replying to [@timokau](#comment%3A70):
> > Shouldn't each commit be one unit of changes for which the doctests still pass?

> 
> The only reason I see for this is to make statistics based on number of commits meaningful. By splitting commits into parts (if there is such a natural split, maybe here it's less needed) I make the job of reviewing easier.

A much more practical reason is the use of `git-bisect` or just generally being able to check out some interesting commit and build from it.



---

archive/issue_events_314009.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-29T22:33:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-314009"
}
```



---

archive/issue_events_314010.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0e076ce0d5705ae036f276a6d8d369ec7a8afcdc",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-06-29T22:33:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24838#event-314010"
}
```



---

archive/issue_comments_380345.json:
```json
{
    "body": "Changed branch from **[u/rws/24838](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24838)** to **[e324b64](https://github.com/sagemath/sagetrac-mirror/commit/e324b642c1f7c7cb98eea400abfe7c9a4296fcca)**",
    "created_at": "2018-06-29T22:33:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380345",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/rws/24838](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24838)** to **[e324b64](https://github.com/sagemath/sagetrac-mirror/commit/e324b642c1f7c7cb98eea400abfe7c9a4296fcca)**



---

archive/issue_comments_380346.json:
```json
{
    "body": "<a id='comment:74'>Comment 74:</a>\nReplying to [git](#comment%3A57):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6645f7923ee5bdd97219b0a475e3ae98e03de4e8\">6645f79</a></td><td><code>24838: add arb commit 7afd3afbf</code></td></tr></table>\n\nFor the future it would greatly simplify packaging if you would add some documentation when adding a patch. A link to the github issue/pr and maybe a sentence about what it does would be sufficient. (The commit is actually 7afd3bfaf)",
    "created_at": "2018-06-30T11:39:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380346",
    "user": "https://github.com/timokau"
}
```

<a id='comment:74'>Comment 74:</a>
Replying to [git](#comment%3A57):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6645f7923ee5bdd97219b0a475e3ae98e03de4e8">6645f79</a></td><td><code>24838: add arb commit 7afd3afbf</code></td></tr></table>

For the future it would greatly simplify packaging if you would add some documentation when adding a patch. A link to the github issue/pr and maybe a sentence about what it does would be sufficient. (The commit is actually 7afd3bfaf)



---

archive/issue_comments_380347.json:
```json
{
    "body": "Changed commit from **[e324b64](https://github.com/sagemath/sagetrac-mirror/commit/e324b642c1f7c7cb98eea400abfe7c9a4296fcca)** to none",
    "created_at": "2018-06-30T11:39:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380347",
    "user": "https://github.com/timokau"
}
```

Changed commit from **[e324b64](https://github.com/sagemath/sagetrac-mirror/commit/e324b642c1f7c7cb98eea400abfe7c9a4296fcca)** to none



---

archive/issue_comments_380348.json:
```json
{
    "body": "<a id='comment:75'>Comment 75:</a>\nReplying to [@timokau](#comment%3A74):\n> For the future it would greatly simplify packaging if you would add some documentation when adding a patch. A link to the github issue/pr and maybe a sentence about what it does would be sufficient. (The commit is actually 7afd3bfaf)\n\n+1\n\nPatches without any documentation or links should be rejected.",
    "created_at": "2018-06-30T11:41:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24838#issuecomment-380348",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:75'>Comment 75:</a>
Replying to [@timokau](#comment%3A74):
> For the future it would greatly simplify packaging if you would add some documentation when adding a patch. A link to the github issue/pr and maybe a sentence about what it does would be sufficient. (The commit is actually 7afd3bfaf)

+1

Patches without any documentation or links should be rejected.
