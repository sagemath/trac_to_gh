# Issue 24171: Formal set membership function

archive/issues_023934.json:
```json
{
    "body": "To express solution sets from solvers an expression-is-element-of-set relation is needed. For ease of implementation this can be made a formal function `element_of`. \n\nIt depends on sets being made coercible into SR.  The present ticket plays safe and only does this for finite sets and a few standard infinite sets: `NN`, `ZZ`, `QQ`, `AA`; and `RealSet`s.\n\n`element_of` converts to SymPy's `Contains`. This is useful in combination with #31931, which adds SymPy conversions to some of the above sets.\n\n\n\n\n**CC:**  @videlec\n\n**Branch/Commit:** [a8c94cab974c8983dad63c2c6e989936984de49a](https://github.com/sagemath/sagetrac-mirror/commit/a8c94cab974c8983dad63c2c6e989936984de49a)\n\n**Reviewer:** Travis Scrimshaw, Matthias Koeppe\n\n**Author:** Ralf Stephan, Matthias Koeppe\n\n**Dependencies:** #31877\n\nIssue created by migration from https://trac.sagemath.org/ticket/24171\n\n",
    "closed_at": "2021-07-01T20:45:14Z",
    "created_at": "2017-11-07T07:43:02Z",
    "labels": [
        "component: symbolics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Formal set membership function",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24171",
    "user": "https://github.com/rwst"
}
```
To express solution sets from solvers an expression-is-element-of-set relation is needed. For ease of implementation this can be made a formal function `element_of`. 

It depends on sets being made coercible into SR.  The present ticket plays safe and only does this for finite sets and a few standard infinite sets: `NN`, `ZZ`, `QQ`, `AA`; and `RealSet`s.

`element_of` converts to SymPy's `Contains`. This is useful in combination with #31931, which adds SymPy conversions to some of the above sets.




**CC:**  @videlec

**Branch/Commit:** [a8c94cab974c8983dad63c2c6e989936984de49a](https://github.com/sagemath/sagetrac-mirror/commit/a8c94cab974c8983dad63c2c6e989936984de49a)

**Reviewer:** Travis Scrimshaw, Matthias Koeppe

**Author:** Ralf Stephan, Matthias Koeppe

**Dependencies:** #31877

Issue created by migration from https://trac.sagemath.org/ticket/24171





---

archive/issue_comments_436968.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-To express solution sets from solvers an expression-is-element-of-set relation is needed. For ease of implementation this can be made a formal function, likely named \"contains\". It would depend on sets being made coercible into SR.\n+To express solution sets from solvers an expression-is-element-of-set relation is needed. For ease of implementation this can be made a formal function, likely named \"contains\" or \"element_of\". It would depend on sets being made coercible into SR.\n``````\n",
    "created_at": "2017-11-07T13:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436968",
    "user": "https://github.com/rwst"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-To express solution sets from solvers an expression-is-element-of-set relation is needed. For ease of implementation this can be made a formal function, likely named "contains". It would depend on sets being made coercible into SR.
+To express solution sets from solvers an expression-is-element-of-set relation is needed. For ease of implementation this can be made a formal function, likely named "contains" or "element_of". It would depend on sets being made coercible into SR.
``````




---

archive/issue_comments_436969.json:
```json
{
    "body": "**Branch:** [u/rws/formal_set_membership_function](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/formal_set_membership_function)",
    "created_at": "2017-11-07T15:08:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436969",
    "user": "https://github.com/rwst"
}
```

**Branch:** [u/rws/formal_set_membership_function](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/formal_set_membership_function)



---

archive/issue_comments_436970.json:
```json
{
    "body": "**Author:** Ralf Stephan",
    "created_at": "2017-11-07T15:09:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436970",
    "user": "https://github.com/rwst"
}
```

**Author:** Ralf Stephan



---

archive/issue_comments_436971.json:
```json
{
    "body": "<a id='comment:3'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/669ea22318ab33f23f727626eb30e59fa138d253\">669ea22</a></td><td><code>24171: Formal set membership function</code></td></tr></table>\n",
    "created_at": "2017-11-07T15:09:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436971",
    "user": "https://github.com/rwst"
}
```

<a id='comment:3'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/669ea22318ab33f23f727626eb30e59fa138d253">669ea22</a></td><td><code>24171: Formal set membership function</code></td></tr></table>




---

archive/issue_comments_436972.json:
```json
{
    "body": "**Commit:** [669ea22318ab33f23f727626eb30e59fa138d253](https://github.com/sagemath/sagetrac-mirror/commit/669ea22318ab33f23f727626eb30e59fa138d253)",
    "created_at": "2017-11-07T15:09:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436972",
    "user": "https://github.com/rwst"
}
```

**Commit:** [669ea22318ab33f23f727626eb30e59fa138d253](https://github.com/sagemath/sagetrac-mirror/commit/669ea22318ab33f23f727626eb30e59fa138d253)



---

archive/issue_comments_436973.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2017-11-07T15:09:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436973",
    "user": "https://github.com/rwst"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_436974.json:
```json
{
    "body": "<a id='comment:4'></a>\nI can reproduce this error\n\n```\n**********************************************************************\nFile \"src/sage/misc/dev_tools.py\", line 438, in sage.misc.dev_tools.import_statements\nFailed example:\n    load_submodules(sage.sets)\nExpected:\n    load sage.sets.real_set... succeeded\n    load sage.sets.set_from_iterator... succeeded\nGot:\n    load sage.sets.set_from_iterator... succeeded\n```\nI think why this now fails is because `real_set` is now loaded on startup.",
    "created_at": "2017-11-07T23:20:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436974",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>
I can reproduce this error

```
**********************************************************************
File "src/sage/misc/dev_tools.py", line 438, in sage.misc.dev_tools.import_statements
Failed example:
    load_submodules(sage.sets)
Expected:
    load sage.sets.real_set... succeeded
    load sage.sets.set_from_iterator... succeeded
Got:
    load sage.sets.set_from_iterator... succeeded
```
I think why this now fails is because `real_set` is now loaded on startup.



---

archive/issue_comments_436975.json:
```json
{
    "body": "<a id='comment:5'></a>\nI think it would be good if `RealSet` answered positive to `is_Set`, I'm just not sure how to accomplish it correctly. If done it wouldn't need to be loaded at start.",
    "created_at": "2017-11-08T06:42:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436975",
    "user": "https://github.com/rwst"
}
```

<a id='comment:5'></a>
I think it would be good if `RealSet` answered positive to `is_Set`, I'm just not sure how to accomplish it correctly. If done it wouldn't need to be loaded at start.



---

archive/issue_comments_436976.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2017-11-08T06:42:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436976",
    "user": "https://github.com/rwst"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_436977.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/34c977315e33d373ca8e622f5d502f4d7554c0ff\">34c9773</a></td><td><code>24171: make RealSet inherit from Set_generic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af82717b1bfeffbe6fc972686882916b0525b149\">af82717</a></td><td><code>24171: remove RealSet import; SR set coercion doctests</code></td></tr></table>\n",
    "created_at": "2017-11-08T08:24:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436977",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/34c977315e33d373ca8e622f5d502f4d7554c0ff">34c9773</a></td><td><code>24171: make RealSet inherit from Set_generic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af82717b1bfeffbe6fc972686882916b0525b149">af82717</a></td><td><code>24171: remove RealSet import; SR set coercion doctests</code></td></tr></table>




---

archive/issue_comments_436978.json:
```json
{
    "body": "**Changing commit** from \"[669ea22318ab33f23f727626eb30e59fa138d253](https://github.com/sagemath/sagetrac-mirror/commit/669ea22318ab33f23f727626eb30e59fa138d253)\" to \"[af82717b1bfeffbe6fc972686882916b0525b149](https://github.com/sagemath/sagetrac-mirror/commit/af82717b1bfeffbe6fc972686882916b0525b149)\".",
    "created_at": "2017-11-08T08:24:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436978",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[669ea22318ab33f23f727626eb30e59fa138d253](https://github.com/sagemath/sagetrac-mirror/commit/669ea22318ab33f23f727626eb30e59fa138d253)" to "[af82717b1bfeffbe6fc972686882916b0525b149](https://github.com/sagemath/sagetrac-mirror/commit/af82717b1bfeffbe6fc972686882916b0525b149)".



---

archive/issue_comments_436979.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2017-11-08T08:25:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436979",
    "user": "https://github.com/rwst"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_436980.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/592ce8745028ec0659b952e872dfff0a85ef5a5d\">592ce87</a></td><td><code>24171: Py3 fixes</code></td></tr></table>\n",
    "created_at": "2017-11-08T14:06:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436980",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/592ce8745028ec0659b952e872dfff0a85ef5a5d">592ce87</a></td><td><code>24171: Py3 fixes</code></td></tr></table>




---

archive/issue_comments_436981.json:
```json
{
    "body": "**Changing commit** from \"[af82717b1bfeffbe6fc972686882916b0525b149](https://github.com/sagemath/sagetrac-mirror/commit/af82717b1bfeffbe6fc972686882916b0525b149)\" to \"[592ce8745028ec0659b952e872dfff0a85ef5a5d](https://github.com/sagemath/sagetrac-mirror/commit/592ce8745028ec0659b952e872dfff0a85ef5a5d)\".",
    "created_at": "2017-11-08T14:06:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436981",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[af82717b1bfeffbe6fc972686882916b0525b149](https://github.com/sagemath/sagetrac-mirror/commit/af82717b1bfeffbe6fc972686882916b0525b149)" to "[592ce8745028ec0659b952e872dfff0a85ef5a5d](https://github.com/sagemath/sagetrac-mirror/commit/592ce8745028ec0659b952e872dfff0a85ef5a5d)".



---

archive/issue_comments_436982.json:
```json
{
    "body": "<a id='comment:9'></a>\nLGTM. Thanks.",
    "created_at": "2017-11-08T22:55:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436982",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
LGTM. Thanks.



---

archive/issue_comments_436983.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2017-11-08T22:55:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436983",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_436984.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2017-11-08T22:55:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436984",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_436985.json:
```json
{
    "body": "<a id='comment:10'></a>\nThanks for the review.",
    "created_at": "2017-11-09T06:08:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436985",
    "user": "https://github.com/rwst"
}
```

<a id='comment:10'></a>
Thanks for the review.



---

archive/issue_comments_436986.json:
```json
{
    "body": "<a id='comment:11'></a>\nMerge conflictw",
    "created_at": "2017-12-08T00:06:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436986",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>
Merge conflictw



---

archive/issue_comments_436987.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2017-12-08T00:06:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436987",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_436988.json:
```json
{
    "body": "**Changing commit** from \"[592ce8745028ec0659b952e872dfff0a85ef5a5d](https://github.com/sagemath/sagetrac-mirror/commit/592ce8745028ec0659b952e872dfff0a85ef5a5d)\" to \"[aa11a3ee31cb75f5acf2e5cef1db52fd2092893b](https://github.com/sagemath/sagetrac-mirror/commit/aa11a3ee31cb75f5acf2e5cef1db52fd2092893b)\".",
    "created_at": "2017-12-14T06:53:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436988",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[592ce8745028ec0659b952e872dfff0a85ef5a5d](https://github.com/sagemath/sagetrac-mirror/commit/592ce8745028ec0659b952e872dfff0a85ef5a5d)" to "[aa11a3ee31cb75f5acf2e5cef1db52fd2092893b](https://github.com/sagemath/sagetrac-mirror/commit/aa11a3ee31cb75f5acf2e5cef1db52fd2092893b)".



---

archive/issue_comments_436989.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa11a3ee31cb75f5acf2e5cef1db52fd2092893b\">aa11a3e</a></td><td><code>Merge branch 'develop' into t/24171/formal_set_membership_function</code></td></tr></table>\n",
    "created_at": "2017-12-14T06:53:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436989",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa11a3ee31cb75f5acf2e5cef1db52fd2092893b">aa11a3e</a></td><td><code>Merge branch 'develop' into t/24171/formal_set_membership_function</code></td></tr></table>




---

archive/issue_comments_436990.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2017-12-14T06:54:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436990",
    "user": "https://github.com/rwst"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_comments_436991.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2017-12-14T23:34:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436991",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_436992.json:
```json
{
    "body": "<a id='comment:14'></a>\nSee patchbot",
    "created_at": "2017-12-14T23:34:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436992",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:14'></a>
See patchbot



---

archive/issue_comments_436993.json:
```json
{
    "body": "<a id='comment:15'></a>\nActually the fails are due to the blockers #24284 and #24378 but they are not reviewed yet.",
    "created_at": "2017-12-18T08:09:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436993",
    "user": "https://github.com/rwst"
}
```

<a id='comment:15'></a>
Actually the fails are due to the blockers #24284 and #24378 but they are not reviewed yet.



---

archive/issue_comments_436994.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/formal_set_membership_function](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/formal_set_membership_function)\" to \"[u/rws/24171](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24171)\".",
    "created_at": "2017-12-18T08:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436994",
    "user": "https://github.com/rwst"
}
```

**Changing branch** from "[u/rws/formal_set_membership_function](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/formal_set_membership_function)" to "[u/rws/24171](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24171)".



---

archive/issue_comments_436995.json:
```json
{
    "body": "<a id='comment:17'></a>\nOK, I added junk to the branch, so what Volker means are the patchbot plugin fails. Also, the rare random fails are now happening frequently so patchbot pass depend on the blockers.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac6af264cb8beed2c7196691003ff93552a9f5b9\">ac6af26</a></td><td><code>24171: Formal set memberhzip function</code></td></tr></table>\n",
    "created_at": "2017-12-18T08:32:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436995",
    "user": "https://github.com/rwst"
}
```

<a id='comment:17'></a>
OK, I added junk to the branch, so what Volker means are the patchbot plugin fails. Also, the rare random fails are now happening frequently so patchbot pass depend on the blockers.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac6af264cb8beed2c7196691003ff93552a9f5b9">ac6af26</a></td><td><code>24171: Formal set memberhzip function</code></td></tr></table>




---

archive/issue_comments_436996.json:
```json
{
    "body": "**Changing commit** from \"[aa11a3ee31cb75f5acf2e5cef1db52fd2092893b](https://github.com/sagemath/sagetrac-mirror/commit/aa11a3ee31cb75f5acf2e5cef1db52fd2092893b)\" to \"[ac6af264cb8beed2c7196691003ff93552a9f5b9](https://github.com/sagemath/sagetrac-mirror/commit/ac6af264cb8beed2c7196691003ff93552a9f5b9)\".",
    "created_at": "2017-12-18T08:32:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436996",
    "user": "https://github.com/rwst"
}
```

**Changing commit** from "[aa11a3ee31cb75f5acf2e5cef1db52fd2092893b](https://github.com/sagemath/sagetrac-mirror/commit/aa11a3ee31cb75f5acf2e5cef1db52fd2092893b)" to "[ac6af264cb8beed2c7196691003ff93552a9f5b9](https://github.com/sagemath/sagetrac-mirror/commit/ac6af264cb8beed2c7196691003ff93552a9f5b9)".



---

archive/issue_comments_436997.json:
```json
{
    "body": "**Dependencies:** #24284  #24378",
    "created_at": "2017-12-18T09:56:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436997",
    "user": "https://github.com/vbraun"
}
```

**Dependencies:** #24284  #24378



---

archive/issue_comments_436998.json:
```json
{
    "body": "<a id='comment:19'></a>\nActually the reason why #24171 fails the random expression tests is because the here introduced function is yet another function that fails that test.",
    "created_at": "2017-12-18T14:10:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436998",
    "user": "https://github.com/rwst"
}
```

<a id='comment:19'></a>
Actually the reason why #24171 fails the random expression tests is because the here introduced function is yet another function that fails that test.



---

archive/issue_comments_436999.json:
```json
{
    "body": "**Changing commit** from \"[ac6af264cb8beed2c7196691003ff93552a9f5b9](https://github.com/sagemath/sagetrac-mirror/commit/ac6af264cb8beed2c7196691003ff93552a9f5b9)\" to \"[365ea784a37f3a99202ce2f801ce901d29d36cca](https://github.com/sagemath/sagetrac-mirror/commit/365ea784a37f3a99202ce2f801ce901d29d36cca)\".",
    "created_at": "2017-12-18T14:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-436999",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ac6af264cb8beed2c7196691003ff93552a9f5b9](https://github.com/sagemath/sagetrac-mirror/commit/ac6af264cb8beed2c7196691003ff93552a9f5b9)" to "[365ea784a37f3a99202ce2f801ce901d29d36cca](https://github.com/sagemath/sagetrac-mirror/commit/365ea784a37f3a99202ce2f801ce901d29d36cca)".



---

archive/issue_comments_437000.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6559c5edcd92b640d6b2c74e0cf670d6cbc4d3fb\">6559c5e</a></td><td><code>24282: Exclude some functions with arg restrictions from random testing</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5db62d3b820b249e0ea5955c49d45840e19da0a2\">5db62d3</a></td><td><code>Merge branch 'u/rws/exclude_some_functions_with_arg_restrictions_from_random_testing' of git://trac.sagemath.org/sage into tmp17</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/365ea784a37f3a99202ce2f801ce901d29d36cca\">365ea78</a></td><td><code>24171: exclude element_of from random testing too</code></td></tr></table>\n",
    "created_at": "2017-12-18T14:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437000",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6559c5edcd92b640d6b2c74e0cf670d6cbc4d3fb">6559c5e</a></td><td><code>24282: Exclude some functions with arg restrictions from random testing</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5db62d3b820b249e0ea5955c49d45840e19da0a2">5db62d3</a></td><td><code>Merge branch 'u/rws/exclude_some_functions_with_arg_restrictions_from_random_testing' of git://trac.sagemath.org/sage into tmp17</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/365ea784a37f3a99202ce2f801ce901d29d36cca">365ea78</a></td><td><code>24171: exclude element_of from random testing too</code></td></tr></table>




---

archive/issue_comments_437001.json:
```json
{
    "body": "**Changing dependencies** from \"#24284  #24378\" to \"#24284  #24378 #24443\".",
    "created_at": "2017-12-29T07:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437001",
    "user": "https://github.com/rwst"
}
```

**Changing dependencies** from "#24284  #24378" to "#24284  #24378 #24443".



---

archive/issue_comments_437002.json:
```json
{
    "body": "<a id='comment:22'></a>\nThe following problem appeared: to be able to use a symbolic `element_of` function its arguments (1. expression, 2. set/domain) must be convertible to the symbolic ring. One doctest in `symbolic/ring.pyx` tests that `r` (the R interpreter) does not convert to symbolic. But `r` is `in Sets()` and so we cannot simply test for `x in Sets()` and allow conversion of `x` because `r` would then be allowed.\n\nSo we must test for all kinds of sets, e.g. `ZZ in InfiniteEnumeratedSets()`, `RR in Fields()`, `RealSet(0,1) in SetsWithPartialMaps()`, and `Set(range(0,5)) in FiniteSets()`, because we need to catch all of these but cannot use the catch-all `in Sets()`. Is the R interpreter really in the sets category? Is there a better catch-all?",
    "created_at": "2017-12-30T08:32:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437002",
    "user": "https://github.com/rwst"
}
```

<a id='comment:22'></a>
The following problem appeared: to be able to use a symbolic `element_of` function its arguments (1. expression, 2. set/domain) must be convertible to the symbolic ring. One doctest in `symbolic/ring.pyx` tests that `r` (the R interpreter) does not convert to symbolic. But `r` is `in Sets()` and so we cannot simply test for `x in Sets()` and allow conversion of `x` because `r` would then be allowed.

So we must test for all kinds of sets, e.g. `ZZ in InfiniteEnumeratedSets()`, `RR in Fields()`, `RealSet(0,1) in SetsWithPartialMaps()`, and `Set(range(0,5)) in FiniteSets()`, because we need to catch all of these but cannot use the catch-all `in Sets()`. Is the R interpreter really in the sets category? Is there a better catch-all?



---

archive/issue_comments_437003.json:
```json
{
    "body": "**Changing status** from needs_work to needs_info.",
    "created_at": "2017-12-30T08:32:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437003",
    "user": "https://github.com/rwst"
}
```

**Changing status** from needs_work to needs_info.



---

archive/issue_comments_437004.json:
```json
{
    "body": "<a id='comment:23'></a>\nBTW `RealSet(-oo,oo) in Fields()` is False which looks like a bug, right?",
    "created_at": "2017-12-30T08:38:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437004",
    "user": "https://github.com/rwst"
}
```

<a id='comment:23'></a>
BTW `RealSet(-oo,oo) in Fields()` is False which looks like a bug, right?



---

archive/issue_comments_437005.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [rws](#comment%3A23):\n> BTW `RealSet(-oo,oo) in Fields()` is False which looks like a bug, right?\n\n\nNot to me. `RealSet(-oo,oo)` or `RealSet(0,1)` act as a facade (like in `Sets().Facade()`). That is to say, it does not have any proper elements. Making it a field would be rather artificial because the operation `+` and `*` that might (or might not) exist on the elements is obtained from other parts of Sage.",
    "created_at": "2017-12-30T09:16:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437005",
    "user": "https://github.com/videlec"
}
```

<a id='comment:24'></a>
Replying to [rws](#comment%3A23):
> BTW `RealSet(-oo,oo) in Fields()` is False which looks like a bug, right?


Not to me. `RealSet(-oo,oo)` or `RealSet(0,1)` act as a facade (like in `Sets().Facade()`). That is to say, it does not have any proper elements. Making it a field would be rather artificial because the operation `+` and `*` that might (or might not) exist on the elements is obtained from other parts of Sage.



---

archive/issue_comments_437006.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [vdelecroix](#comment%3A24):\n> ... `RealSet(-oo,oo)` or `RealSet(0,1)` act as a facade ...\n\n\nIs there an object that can act as the set of real numbers in Sage?",
    "created_at": "2017-12-31T07:19:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437006",
    "user": "https://github.com/rwst"
}
```

<a id='comment:25'></a>
Replying to [vdelecroix](#comment%3A24):
> ... `RealSet(-oo,oo)` or `RealSet(0,1)` act as a facade ...


Is there an object that can act as the set of real numbers in Sage?



---

archive/issue_comments_437007.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [rws](#comment%3A25):\n> Replying to [vdelecroix](#comment%3A24):\n> > ... `RealSet(-oo,oo)` or `RealSet(0,1)` act as a facade ...\n  \n> \n> Is there an object that can act as the set of real numbers in Sage?\n\n\nVery sadly, no!\n\nMy dream is:\n\n1. rename `RealField(prec)` -> `RealFloatingPointField_mpfr(prec)`\n2. rename `RealLazyField` -> `RealComputableField` and `RLF -> RCF`\n3. create a class `RealField()` to model (abstractly) the set of real numbers\n4. rename `RR` -> `RFPF`\n\nThe reason for 2./3. is that we want to distinguish between the field of all real numbers (denoted `RR` in math literature) and the field of [computable numbers](https://en.wikipedia.org/wiki/Computable_number) (which is a countable subfield). An element of `RCF` would simply be a computer program that gives access to the digit expansion of a number. It should provide access to all mathematical constants like `pi`, `e`, etc and most transcendental functions. A serious problem about `RCF` is that the equality is not decidable... but we can not avoid it.\n\nThe set of real numbers (my number 3. in the list) would not implement anything serious. It would only act as an abstract set that can be obtained as the metric completion of `QQ`. It could be used as a building block for more advanced structures (like manfiolds).\n\nI put 4. apart as it is a serious backward incompatibility.reasons.",
    "created_at": "2017-12-31T09:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437007",
    "user": "https://github.com/videlec"
}
```

<a id='comment:26'></a>
Replying to [rws](#comment%3A25):
> Replying to [vdelecroix](#comment%3A24):
> > ... `RealSet(-oo,oo)` or `RealSet(0,1)` act as a facade ...
  
> 
> Is there an object that can act as the set of real numbers in Sage?


Very sadly, no!

My dream is:

1. rename `RealField(prec)` -> `RealFloatingPointField_mpfr(prec)`
2. rename `RealLazyField` -> `RealComputableField` and `RLF -> RCF`
3. create a class `RealField()` to model (abstractly) the set of real numbers
4. rename `RR` -> `RFPF`

The reason for 2./3. is that we want to distinguish between the field of all real numbers (denoted `RR` in math literature) and the field of [computable numbers](https://en.wikipedia.org/wiki/Computable_number) (which is a countable subfield). An element of `RCF` would simply be a computer program that gives access to the digit expansion of a number. It should provide access to all mathematical constants like `pi`, `e`, etc and most transcendental functions. A serious problem about `RCF` is that the equality is not decidable... but we can not avoid it.

The set of real numbers (my number 3. in the list) would not implement anything serious. It would only act as an abstract set that can be obtained as the metric completion of `QQ`. It could be used as a building block for more advanced structures (like manfiolds).

I put 4. apart as it is a serious backward incompatibility.reasons.



---

archive/issue_comments_437008.json:
```json
{
    "body": "**Changing status** from needs_info to needs_work.",
    "created_at": "2018-01-02T07:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437008",
    "user": "https://github.com/rwst"
}
```

**Changing status** from needs_info to needs_work.



---

archive/issue_comments_437009.json:
```json
{
    "body": "**Changing dependencies** from \"#24284  #24378 #24443\" to \"#24284  #24378 #24456\".",
    "created_at": "2018-01-02T07:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437009",
    "user": "https://github.com/rwst"
}
```

**Changing dependencies** from "#24284  #24378 #24443" to "#24284  #24378 #24456".



---

archive/issue_comments_437010.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/24171](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24171)\" to \"[u/rws/24171-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24171-1)\".",
    "created_at": "2018-01-02T09:21:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437010",
    "user": "https://github.com/rwst"
}
```

**Changing branch** from "[u/rws/24171](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24171)" to "[u/rws/24171-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24171-1)".



---

archive/issue_comments_437011.json:
```json
{
    "body": "<a id='comment:29'></a>\nThis now depends on #24456 and has sufficiently changed to need a new review. Could you please?\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62d2d219c661a375f86ed6fd7c4f90f782fdf11d\">62d2d21</a></td><td><code>24456: class for the field of real numbers</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/628f9220672280b526134311efdab819aa3f05c5\">628f922</a></td><td><code>24171: Formal set membership function</code></td></tr></table>\n",
    "created_at": "2018-01-02T09:24:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437011",
    "user": "https://github.com/rwst"
}
```

<a id='comment:29'></a>
This now depends on #24456 and has sufficiently changed to need a new review. Could you please?

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62d2d219c661a375f86ed6fd7c4f90f782fdf11d">62d2d21</a></td><td><code>24456: class for the field of real numbers</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/628f9220672280b526134311efdab819aa3f05c5">628f922</a></td><td><code>24171: Formal set membership function</code></td></tr></table>




---

archive/issue_comments_437012.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2018-01-02T09:24:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437012",
    "user": "https://github.com/rwst"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_437013.json:
```json
{
    "body": "**Changing commit** from \"[365ea784a37f3a99202ce2f801ce901d29d36cca](https://github.com/sagemath/sagetrac-mirror/commit/365ea784a37f3a99202ce2f801ce901d29d36cca)\" to \"[628f9220672280b526134311efdab819aa3f05c5](https://github.com/sagemath/sagetrac-mirror/commit/628f9220672280b526134311efdab819aa3f05c5)\".",
    "created_at": "2018-01-02T09:24:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437013",
    "user": "https://github.com/rwst"
}
```

**Changing commit** from "[365ea784a37f3a99202ce2f801ce901d29d36cca](https://github.com/sagemath/sagetrac-mirror/commit/365ea784a37f3a99202ce2f801ce901d29d36cca)" to "[628f9220672280b526134311efdab819aa3f05c5](https://github.com/sagemath/sagetrac-mirror/commit/628f9220672280b526134311efdab819aa3f05c5)".



---

archive/issue_comments_437014.json:
```json
{
    "body": "<a id='comment:30'></a>\nNote that we have no proper check for if something is a subset of the complexes. I ended up allowing conversion of all finite sets and `(NN, ZZ, QQ, RealField, RealSet, AA)` to symbolic.",
    "created_at": "2018-01-02T09:28:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437014",
    "user": "https://github.com/rwst"
}
```

<a id='comment:30'></a>
Note that we have no proper check for if something is a subset of the complexes. I ended up allowing conversion of all finite sets and `(NN, ZZ, QQ, RealField, RealSet, AA)` to symbolic.



---

archive/issue_comments_437015.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2018-01-27T07:59:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437015",
    "user": "https://github.com/rwst"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_437016.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/24171-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24171-1)\" to \"[u/mkoeppe/24171-1](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/24171-1)\".",
    "created_at": "2021-06-09T02:21:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437016",
    "user": "https://github.com/mkoeppe"
}
```

**Changing branch** from "[u/rws/24171-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24171-1)" to "[u/mkoeppe/24171-1](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/24171-1)".



---

archive/issue_comments_437017.json:
```json
{
    "body": "**Changing dependencies** from \"#24284  #24378 #24456\" to \"\".",
    "created_at": "2021-06-09T02:22:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437017",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#24284  #24378 #24456" to "".



---

archive/issue_comments_437018.json:
```json
{
    "body": "**Changing commit** from \"[628f9220672280b526134311efdab819aa3f05c5](https://github.com/sagemath/sagetrac-mirror/commit/628f9220672280b526134311efdab819aa3f05c5)\" to \"[72565f2720115475272c030db26b1144b87377bb](https://github.com/sagemath/sagetrac-mirror/commit/72565f2720115475272c030db26b1144b87377bb)\".",
    "created_at": "2021-06-09T02:22:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437018",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[628f9220672280b526134311efdab819aa3f05c5](https://github.com/sagemath/sagetrac-mirror/commit/628f9220672280b526134311efdab819aa3f05c5)" to "[72565f2720115475272c030db26b1144b87377bb](https://github.com/sagemath/sagetrac-mirror/commit/72565f2720115475272c030db26b1144b87377bb)".



---

archive/issue_events_070000.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-09T02:22:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24171#event-70000"
}
```



---

archive/issue_comments_437019.json:
```json
{
    "body": "<a id='comment:33'></a>\nrebased away from stalled dependency #24456\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72565f2720115475272c030db26b1144b87377bb\">72565f2</a></td><td><code>24171: Formal set membership function</code></td></tr></table>\n",
    "created_at": "2021-06-09T02:22:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437019",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>
rebased away from stalled dependency #24456

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72565f2720115475272c030db26b1144b87377bb">72565f2</a></td><td><code>24171: Formal set membership function</code></td></tr></table>




---

archive/issue_comments_437020.json:
```json
{
    "body": "<a id='comment:34'></a>\nThe `is_finite` method added here will not be necessary any more with #31877",
    "created_at": "2021-06-09T03:14:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437020",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'></a>
The `is_finite` method added here will not be necessary any more with #31877



---

archive/issue_comments_437021.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b09685667a8dddec24847dd14067abbe2d50076\">4b09685</a></td><td><code>RealSet: Put it in a suitable subcategory of TopologicalSpaces()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46eed0eeb3fc4e9509b7c55df967455ae49984d0\">46eed0e</a></td><td><code>RealSet.ambient: Change to a normal method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/51c81526f88eb37462cf604d00a1cff2a029a7a7\">51c8152</a></td><td><code>Merge branch 't/31877/refine_category_of_realset' into t/24171/set-membership-rebased</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e623bb508d45a0ac79538c93bc115562b6269e0\">5e623bb</a></td><td><code>RealSet.is_finite: Remove, inherited from category</code></td></tr></table>\n",
    "created_at": "2021-06-09T03:22:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437021",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b09685667a8dddec24847dd14067abbe2d50076">4b09685</a></td><td><code>RealSet: Put it in a suitable subcategory of TopologicalSpaces()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46eed0eeb3fc4e9509b7c55df967455ae49984d0">46eed0e</a></td><td><code>RealSet.ambient: Change to a normal method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/51c81526f88eb37462cf604d00a1cff2a029a7a7">51c8152</a></td><td><code>Merge branch 't/31877/refine_category_of_realset' into t/24171/set-membership-rebased</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e623bb508d45a0ac79538c93bc115562b6269e0">5e623bb</a></td><td><code>RealSet.is_finite: Remove, inherited from category</code></td></tr></table>




---

archive/issue_comments_437022.json:
```json
{
    "body": "**Changing commit** from \"[72565f2720115475272c030db26b1144b87377bb](https://github.com/sagemath/sagetrac-mirror/commit/72565f2720115475272c030db26b1144b87377bb)\" to \"[5e623bb508d45a0ac79538c93bc115562b6269e0](https://github.com/sagemath/sagetrac-mirror/commit/5e623bb508d45a0ac79538c93bc115562b6269e0)\".",
    "created_at": "2021-06-09T03:22:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437022",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[72565f2720115475272c030db26b1144b87377bb](https://github.com/sagemath/sagetrac-mirror/commit/72565f2720115475272c030db26b1144b87377bb)" to "[5e623bb508d45a0ac79538c93bc115562b6269e0](https://github.com/sagemath/sagetrac-mirror/commit/5e623bb508d45a0ac79538c93bc115562b6269e0)".



---

archive/issue_comments_437023.json:
```json
{
    "body": "**Dependencies:** #31877",
    "created_at": "2021-06-09T03:22:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437023",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #31877



---

archive/issue_comments_437024.json:
```json
{
    "body": "<a id='comment:37'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d19916c0fbf2bf76054401df372fbedde7cdbb6\">7d19916</a></td><td><code>Do not use QQ.completion(oo,oo) - not implemented</code></td></tr></table>\n",
    "created_at": "2021-06-09T03:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437024",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d19916c0fbf2bf76054401df372fbedde7cdbb6">7d19916</a></td><td><code>Do not use QQ.completion(oo,oo) - not implemented</code></td></tr></table>




---

archive/issue_comments_437025.json:
```json
{
    "body": "**Changing commit** from \"[5e623bb508d45a0ac79538c93bc115562b6269e0](https://github.com/sagemath/sagetrac-mirror/commit/5e623bb508d45a0ac79538c93bc115562b6269e0)\" to \"[7d19916c0fbf2bf76054401df372fbedde7cdbb6](https://github.com/sagemath/sagetrac-mirror/commit/7d19916c0fbf2bf76054401df372fbedde7cdbb6)\".",
    "created_at": "2021-06-09T03:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437025",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5e623bb508d45a0ac79538c93bc115562b6269e0](https://github.com/sagemath/sagetrac-mirror/commit/5e623bb508d45a0ac79538c93bc115562b6269e0)" to "[7d19916c0fbf2bf76054401df372fbedde7cdbb6](https://github.com/sagemath/sagetrac-mirror/commit/7d19916c0fbf2bf76054401df372fbedde7cdbb6)".



---

archive/issue_comments_437026.json:
```json
{
    "body": "**Changing commit** from \"[7d19916c0fbf2bf76054401df372fbedde7cdbb6](https://github.com/sagemath/sagetrac-mirror/commit/7d19916c0fbf2bf76054401df372fbedde7cdbb6)\" to \"[5310e04bae60c574eafe491ebcea366e57513822](https://github.com/sagemath/sagetrac-mirror/commit/5310e04bae60c574eafe491ebcea366e57513822)\".",
    "created_at": "2021-06-09T03:55:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437026",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7d19916c0fbf2bf76054401df372fbedde7cdbb6](https://github.com/sagemath/sagetrac-mirror/commit/7d19916c0fbf2bf76054401df372fbedde7cdbb6)" to "[5310e04bae60c574eafe491ebcea366e57513822](https://github.com/sagemath/sagetrac-mirror/commit/5310e04bae60c574eafe491ebcea366e57513822)".



---

archive/issue_comments_437027.json:
```json
{
    "body": "<a id='comment:38'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b4e2246708b683b3bbcee95eef1a96223a250c3\">9b4e224</a></td><td><code>24176: check set argument of element_of()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5310e04bae60c574eafe491ebcea366e57513822\">5310e04</a></td><td><code>Function_elementof: Remove use of is_Set</code></td></tr></table>\n",
    "created_at": "2021-06-09T03:55:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437027",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b4e2246708b683b3bbcee95eef1a96223a250c3">9b4e224</a></td><td><code>24176: check set argument of element_of()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5310e04bae60c574eafe491ebcea366e57513822">5310e04</a></td><td><code>Function_elementof: Remove use of is_Set</code></td></tr></table>




---

archive/issue_comments_437028.json:
```json
{
    "body": "<a id='comment:39'></a>\nThis branch works now as advertised, but a careful review of this design is needed",
    "created_at": "2021-06-09T04:16:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437028",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>
This branch works now as advertised, but a careful review of this design is needed



---

archive/issue_comments_437029.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2021-06-09T04:16:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437029",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_437030.json:
```json
{
    "body": "<a id='comment:40'></a>\nWe could add more support for other infinite sets later on (e.g., number fields), but this would be good for most (perhaps all?) use-cases. I think everything else is good except I don't understand why this line is added (see the diff):\n\n```\noo = infinity\n```",
    "created_at": "2021-06-09T04:46:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437030",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:40'></a>
We could add more support for other infinite sets later on (e.g., number fields), but this would be good for most (perhaps all?) use-cases. I think everything else is good except I don't understand why this line is added (see the diff):

```
oo = infinity
```



---

archive/issue_comments_437031.json:
```json
{
    "body": "<a id='comment:41'></a>\nthat's just a leftover, I'll get rid of it",
    "created_at": "2021-06-09T04:48:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437031",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:41'></a>
that's just a leftover, I'll get rid of it



---

archive/issue_comments_437032.json:
```json
{
    "body": "**Changing commit** from \"[5310e04bae60c574eafe491ebcea366e57513822](https://github.com/sagemath/sagetrac-mirror/commit/5310e04bae60c574eafe491ebcea366e57513822)\" to \"[43cabe82529c55b1ab3add68304f3b2b73971cba](https://github.com/sagemath/sagetrac-mirror/commit/43cabe82529c55b1ab3add68304f3b2b73971cba)\".",
    "created_at": "2021-06-09T04:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437032",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5310e04bae60c574eafe491ebcea366e57513822](https://github.com/sagemath/sagetrac-mirror/commit/5310e04bae60c574eafe491ebcea366e57513822)" to "[43cabe82529c55b1ab3add68304f3b2b73971cba](https://github.com/sagemath/sagetrac-mirror/commit/43cabe82529c55b1ab3add68304f3b2b73971cba)".



---

archive/issue_comments_437033.json:
```json
{
    "body": "<a id='comment:42'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/43cabe82529c55b1ab3add68304f3b2b73971cba\">43cabe8</a></td><td><code>Do not use QQ.completion(oo,oo) - not implemented (fixup)</code></td></tr></table>\n",
    "created_at": "2021-06-09T04:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437033",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/43cabe82529c55b1ab3add68304f3b2b73971cba">43cabe8</a></td><td><code>Do not use QQ.completion(oo,oo) - not implemented (fixup)</code></td></tr></table>




---

archive/issue_comments_437034.json:
```json
{
    "body": "<a id='comment:43'></a>\nThank you. Green bot => positive review. Please add yourself whether you think you are an author and/or reviewer.",
    "created_at": "2021-06-09T04:51:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437034",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:43'></a>
Thank you. Green bot => positive review. Please add yourself whether you think you are an author and/or reviewer.



---

archive/issue_comments_437035.json:
```json
{
    "body": "**Changing commit** from \"[43cabe82529c55b1ab3add68304f3b2b73971cba](https://github.com/sagemath/sagetrac-mirror/commit/43cabe82529c55b1ab3add68304f3b2b73971cba)\" to \"[c793fcc4f9def7070c36785603958c48cf2710b0](https://github.com/sagemath/sagetrac-mirror/commit/c793fcc4f9def7070c36785603958c48cf2710b0)\".",
    "created_at": "2021-06-09T04:55:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437035",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[43cabe82529c55b1ab3add68304f3b2b73971cba](https://github.com/sagemath/sagetrac-mirror/commit/43cabe82529c55b1ab3add68304f3b2b73971cba)" to "[c793fcc4f9def7070c36785603958c48cf2710b0](https://github.com/sagemath/sagetrac-mirror/commit/c793fcc4f9def7070c36785603958c48cf2710b0)".



---

archive/issue_comments_437036.json:
```json
{
    "body": "<a id='comment:44'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c793fcc4f9def7070c36785603958c48cf2710b0\">c793fcc</a></td><td><code>Function_elementof: Remove use of is_Set (fixup)</code></td></tr></table>\n",
    "created_at": "2021-06-09T04:55:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437036",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:44'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c793fcc4f9def7070c36785603958c48cf2710b0">c793fcc</a></td><td><code>Function_elementof: Remove use of is_Set (fixup)</code></td></tr></table>




---

archive/issue_comments_437037.json:
```json
{
    "body": "**Changing reviewer** from \"Travis Scrimshaw\" to \"Travis Scrimshaw, Matthias Koeppe\".",
    "created_at": "2021-06-09T04:57:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437037",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "Travis Scrimshaw" to "Travis Scrimshaw, Matthias Koeppe".



---

archive/issue_comments_437038.json:
```json
{
    "body": "**Changing commit** from \"[c793fcc4f9def7070c36785603958c48cf2710b0](https://github.com/sagemath/sagetrac-mirror/commit/c793fcc4f9def7070c36785603958c48cf2710b0)\" to \"[a8c94cab974c8983dad63c2c6e989936984de49a](https://github.com/sagemath/sagetrac-mirror/commit/a8c94cab974c8983dad63c2c6e989936984de49a)\".",
    "created_at": "2021-06-09T05:04:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437038",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c793fcc4f9def7070c36785603958c48cf2710b0](https://github.com/sagemath/sagetrac-mirror/commit/c793fcc4f9def7070c36785603958c48cf2710b0)" to "[a8c94cab974c8983dad63c2c6e989936984de49a](https://github.com/sagemath/sagetrac-mirror/commit/a8c94cab974c8983dad63c2c6e989936984de49a)".



---

archive/issue_comments_437039.json:
```json
{
    "body": "<a id='comment:46'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a8c94cab974c8983dad63c2c6e989936984de49a\">a8c94ca</a></td><td><code>Function_elementof: Add conversion to sympy</code></td></tr></table>\n",
    "created_at": "2021-06-09T05:04:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437039",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:46'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a8c94cab974c8983dad63c2c6e989936984de49a">a8c94ca</a></td><td><code>Function_elementof: Add conversion to sympy</code></td></tr></table>




---

archive/issue_comments_437040.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,8 @@\n-To express solution sets from solvers an expression-is-element-of-set relation is needed. For ease of implementation this can be made a formal function, likely named \"contains\" or \"element_of\". It would depend on sets being made coercible into SR.\n+To express solution sets from solvers an expression-is-element-of-set relation is needed. For ease of implementation this can be made a formal function `element_of`. \n+\n+It depends on sets being made coercible into SR.  The present ticket plays safe and only does this for finite sets and a few standard infinite sets: `NN`, `ZZ`, `QQ`, `AA`; and `RealSet`s.\n+\n+`element_of` converts to SymPy's `Contains`. This is useful in combination with #31931, which adds SymPy conversions to some of the above sets.\n+\n+\n+\n``````\n",
    "created_at": "2021-06-09T05:10:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437040",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,8 @@
-To express solution sets from solvers an expression-is-element-of-set relation is needed. For ease of implementation this can be made a formal function, likely named "contains" or "element_of". It would depend on sets being made coercible into SR.
+To express solution sets from solvers an expression-is-element-of-set relation is needed. For ease of implementation this can be made a formal function `element_of`. 
+
+It depends on sets being made coercible into SR.  The present ticket plays safe and only does this for finite sets and a few standard infinite sets: `NN`, `ZZ`, `QQ`, `AA`; and `RealSet`s.
+
+`element_of` converts to SymPy's `Contains`. This is useful in combination with #31931, which adds SymPy conversions to some of the above sets.
+
+
+
``````




---

archive/issue_comments_437041.json:
```json
{
    "body": "**Changing author** from \"Ralf Stephan\" to \"Ralf Stephan, Matthias Koeppe\".",
    "created_at": "2021-06-09T05:10:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437041",
    "user": "https://github.com/mkoeppe"
}
```

**Changing author** from "Ralf Stephan" to "Ralf Stephan, Matthias Koeppe".



---

archive/issue_comments_437042.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2021-06-09T23:31:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437042",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_437043.json:
```json
{
    "body": "<a id='comment:49'></a>\nThanks!",
    "created_at": "2021-06-09T23:36:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437043",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:49'></a>
Thanks!



---

archive/issue_comments_437044.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/24171-1](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/24171-1)\" to \"[a8c94cab974c8983dad63c2c6e989936984de49a](https://github.com/sagemath/sagetrac-mirror/commit/a8c94cab974c8983dad63c2c6e989936984de49a)\".",
    "created_at": "2021-07-01T20:45:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24171#issuecomment-437044",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/24171-1](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/24171-1)" to "[a8c94cab974c8983dad63c2c6e989936984de49a](https://github.com/sagemath/sagetrac-mirror/commit/a8c94cab974c8983dad63c2c6e989936984de49a)".



---

archive/issue_events_070001.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-01T20:45:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24171",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24171#event-70001"
}
```
