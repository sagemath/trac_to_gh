# Issue 24921: Add optional package "ninja_build" (build system for polymake)

archive/issues_024684.json:
```json
{
    "body": "polymake 3.2r2 requires ninja-build. \n\nhttps://ninja-build.org/\n\n```\n(cd upstream && wget https://github.com/ninja-build/ninja/archive/v1.8.2.tar.gz -O ninja_build-1.8.2.tar.gz)\n```\n\n\nKeywords: IMA-PolyGeom\n\nBranch/Commit: 3d6ae67e05645f325bfdeb75be4ec8020a2d8dc5\n\nReviewer: Jeroen Demeyer\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24921\n\n",
    "closed_at": "2018-05-09T09:49:34Z",
    "created_at": "2018-03-06T18:30:19Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Add optional package \"ninja_build\" (build system for polymake)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24921",
    "user": "https://github.com/mkoeppe"
}
```
polymake 3.2r2 requires ninja-build. 

https://ninja-build.org/

```
(cd upstream && wget https://github.com/ninja-build/ninja/archive/v1.8.2.tar.gz -O ninja_build-1.8.2.tar.gz)
```


Keywords: IMA-PolyGeom

Branch/Commit: 3d6ae67e05645f325bfdeb75be4ec8020a2d8dc5

Reviewer: Jeroen Demeyer

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24921





---

archive/issue_comments_473904.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n-polymake 3.2r2 requires ninja\n+polymake 3.2r2 requires ninja-build. \n \n https://ninja-build.org/\n \n+```\n+(cd upstream && wget https://github.com/ninja-build/ninja/archive/v1.8.2.tar.gz -O ninja_build-1.8.2.tar.gz)\n+```\n+\n``````\n",
    "created_at": "2018-03-06T19:05:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473904",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
-polymake 3.2r2 requires ninja
+polymake 3.2r2 requires ninja-build. 
 
 https://ninja-build.org/
 
+```
+(cd upstream && wget https://github.com/ninja-build/ninja/archive/v1.8.2.tar.gz -O ninja_build-1.8.2.tar.gz)
+```
+
``````




---

archive/issue_comments_473905.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/add_optional_package__ninja_build___build_system_for_polymake_\"",
    "created_at": "2018-04-05T19:25:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473905",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/add_optional_package__ninja_build___build_system_for_polymake_"



---

archive/issue_comments_473906.json:
```json
{
    "body": "Changing commit from \"\" to \"ee2b4a0a9595d1ff1daf277f4a056a734188861a\"",
    "created_at": "2018-04-05T19:29:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473906",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "ee2b4a0a9595d1ff1daf277f4a056a734188861a"



---

archive/issue_comments_473907.json:
```json
{
    "body": "Replying to [ticket:24921 mkoeppe]:\n> {{{\n> (cd upstream && wget https://github.com/ninja-build/ninja/archive/v1.8.2.tar.gz -O ninja_build-1.8.2.tar.gz)\n> }}}\n\n\nThey don't have official release tarballs? Not sure whether the release manager will accept this.\n\n---\nNew commits:",
    "created_at": "2018-04-05T19:29:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473907",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [ticket:24921 mkoeppe]:
> {{{
> (cd upstream && wget https://github.com/ninja-build/ninja/archive/v1.8.2.tar.gz -O ninja_build-1.8.2.tar.gz)
> }}}


They don't have official release tarballs? Not sure whether the release manager will accept this.

---
New commits:



---

archive/issue_comments_473908.json:
```json
{
    "body": "<a id='comment:4'></a>Doesn't look like they do, but it doesn't stop Debian or other distributions to package it.",
    "created_at": "2018-04-05T19:31:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473908",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>Doesn't look like they do, but it doesn't stop Debian or other distributions to package it.



---

archive/issue_comments_473909.json:
```json
{
    "body": "<a id='comment:5'></a>Use `sage-python23` to run Python scripts.",
    "created_at": "2018-04-05T19:34:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473909",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>Use `sage-python23` to run Python scripts.



---

archive/issue_comments_473910.json:
```json
{
    "body": "<a id='comment:6'></a>And this should probably depend on `$(PYTHON)`.",
    "created_at": "2018-04-05T19:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473910",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>And this should probably depend on `$(PYTHON)`.



---

archive/issue_comments_473911.json:
```json
{
    "body": "<a id='comment:7'></a>There is some filename mismatch between `ninja-1.8.2.tar.gz` and `ninja_build-1.8.2.tar.gz`",
    "created_at": "2018-04-05T19:37:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473911",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>There is some filename mismatch between `ninja-1.8.2.tar.gz` and `ninja_build-1.8.2.tar.gz`



---

archive/issue_comments_473912.json:
```json
{
    "body": "<a id='comment:8'></a>Can you please use the `./configure --verbose` option? Otherwise you get meaningless logs like\n\n```\n[ninja_build-1.8.2] [1/26] INLINE build/browse_py.h\n[ninja_build-1.8.2] [2/26] CXX build/debug_flags.o\n[ninja_build-1.8.2] [3/26] CXX build/edit_distance.o\n[ninja_build-1.8.2] [4/26] CXX build/depfile_parser.o\n[ninja_build-1.8.2] [5/26] CXX build/version.o\n[ninja_build-1.8.2] [6/26] CXX build/browse.o\n[ninja_build-1.8.2] [7/26] CXX build/string_piece_util.o\n[ninja_build-1.8.2] [8/26] CXX build/metrics.o\n[ninja_build-1.8.2] [9/26] CXX build/line_printer.o\n[ninja_build-1.8.2] [10/26] CXX build/clparser.o\n[ninja_build-1.8.2] [11/26] CXX build/graphviz.o\n[ninja_build-1.8.2] [12/26] CXX build/util.o\n[ninja_build-1.8.2] [13/26] CXX build/disk_interface.o\n[ninja_build-1.8.2] [14/26] CXX build/subprocess-posix.o\n[ninja_build-1.8.2] [15/26] CXX build/lexer.o\n[ninja_build-1.8.2] [16/26] CXX build/deps_log.o\n[ninja_build-1.8.2] [17/26] CXX build/build_log.o\n[ninja_build-1.8.2] [18/26] CXX build/clean.o\n[ninja_build-1.8.2] [19/26] CXX build/eval_env.o\n[ninja_build-1.8.2] [20/26] CXX build/graph.o\n[ninja_build-1.8.2] [21/26] CXX build/manifest_parser.o\n[ninja_build-1.8.2] [22/26] CXX build/state.o\n[ninja_build-1.8.2] [23/26] CXX build/ninja.o\n[ninja_build-1.8.2] [24/26] CXX build/build.o\n[ninja_build-1.8.2] [25/26] AR build/libninja.a\n[ninja_build-1.8.2] [26/26] LINK ninja\n```",
    "created_at": "2018-04-05T19:40:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473912",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>Can you please use the `./configure --verbose` option? Otherwise you get meaningless logs like

```
[ninja_build-1.8.2] [1/26] INLINE build/browse_py.h
[ninja_build-1.8.2] [2/26] CXX build/debug_flags.o
[ninja_build-1.8.2] [3/26] CXX build/edit_distance.o
[ninja_build-1.8.2] [4/26] CXX build/depfile_parser.o
[ninja_build-1.8.2] [5/26] CXX build/version.o
[ninja_build-1.8.2] [6/26] CXX build/browse.o
[ninja_build-1.8.2] [7/26] CXX build/string_piece_util.o
[ninja_build-1.8.2] [8/26] CXX build/metrics.o
[ninja_build-1.8.2] [9/26] CXX build/line_printer.o
[ninja_build-1.8.2] [10/26] CXX build/clparser.o
[ninja_build-1.8.2] [11/26] CXX build/graphviz.o
[ninja_build-1.8.2] [12/26] CXX build/util.o
[ninja_build-1.8.2] [13/26] CXX build/disk_interface.o
[ninja_build-1.8.2] [14/26] CXX build/subprocess-posix.o
[ninja_build-1.8.2] [15/26] CXX build/lexer.o
[ninja_build-1.8.2] [16/26] CXX build/deps_log.o
[ninja_build-1.8.2] [17/26] CXX build/build_log.o
[ninja_build-1.8.2] [18/26] CXX build/clean.o
[ninja_build-1.8.2] [19/26] CXX build/eval_env.o
[ninja_build-1.8.2] [20/26] CXX build/graph.o
[ninja_build-1.8.2] [21/26] CXX build/manifest_parser.o
[ninja_build-1.8.2] [22/26] CXX build/state.o
[ninja_build-1.8.2] [23/26] CXX build/ninja.o
[ninja_build-1.8.2] [24/26] CXX build/build.o
[ninja_build-1.8.2] [25/26] AR build/libninja.a
[ninja_build-1.8.2] [26/26] LINK ninja
```



---

archive/issue_comments_473913.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:3 jdemeyer]:\n> Replying to [ticket:24921 mkoeppe]:\n> > {{{\n> > (cd upstream && wget https://github.com/ninja-build/ninja/archive/v1.8.2.tar.gz -O ninja_build-1.8.2.tar.gz)\n> > }}}\n\n> \n> They don't have official release tarballs?\n\n\nThe page https://github.com/ninja-build/ninja/releases has a source code link (the same one mkoeppe posted. I guess that is the official release.",
    "created_at": "2018-04-05T19:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473913",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:9'></a>Replying to [comment:3 jdemeyer]:
> Replying to [ticket:24921 mkoeppe]:
> > {{{
> > (cd upstream && wget https://github.com/ninja-build/ninja/archive/v1.8.2.tar.gz -O ninja_build-1.8.2.tar.gz)
> > }}}

> 
> They don't have official release tarballs?


The page https://github.com/ninja-build/ninja/releases has a source code link (the same one mkoeppe posted. I guess that is the official release.



---

archive/issue_comments_473914.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-05T19:50:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473914",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_473915.json:
```json
{
    "body": "Changing commit from \"ee2b4a0a9595d1ff1daf277f4a056a734188861a\" to \"85f8d18d558263d4667525e26e1a54ec85b7cfa4\"",
    "created_at": "2018-04-05T19:50:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473915",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ee2b4a0a9595d1ff1daf277f4a056a734188861a" to "85f8d18d558263d4667525e26e1a54ec85b7cfa4"



---

archive/issue_comments_473916.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2018-04-05T21:30:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473916",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_473917.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-04-05T21:30:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473917",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_473918.json:
```json
{
    "body": "Changing keywords from \"\" to \"IMA-PolyGeom\".",
    "created_at": "2018-04-05T21:32:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473918",
    "user": "https://github.com/mkoeppe"
}
```

Changing keywords from "" to "IMA-PolyGeom".



---

archive/issue_comments_473919.json:
```json
{
    "body": "Changing commit from \"85f8d18d558263d4667525e26e1a54ec85b7cfa4\" to \"4fc26ffa7fa7bc1887b7abe65ee1fca8ed65b593\"",
    "created_at": "2018-04-05T22:03:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473919",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "85f8d18d558263d4667525e26e1a54ec85b7cfa4" to "4fc26ffa7fa7bc1887b7abe65ee1fca8ed65b593"



---

archive/issue_comments_473920.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-05T22:03:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473920",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_473921.json:
```json
{
    "body": "<a id='comment:14'></a>Seems to work fine. However, Python seems to be used only for build system, so Python should be an order-only dependency (after the `|` symbol).\n\nPositive review if you make that change.",
    "created_at": "2018-04-06T10:39:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473921",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>Seems to work fine. However, Python seems to be used only for build system, so Python should be an order-only dependency (after the `|` symbol).

Positive review if you make that change.



---

archive/issue_comments_473922.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2018-04-06T12:37:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473922",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_473923.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-04-06T12:37:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473923",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_473924.json:
```json
{
    "body": "Changing commit from \"4fc26ffa7fa7bc1887b7abe65ee1fca8ed65b593\" to \"3d6ae67e05645f325bfdeb75be4ec8020a2d8dc5\"",
    "created_at": "2018-04-06T16:29:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473924",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4fc26ffa7fa7bc1887b7abe65ee1fca8ed65b593" to "3d6ae67e05645f325bfdeb75be4ec8020a2d8dc5"



---

archive/issue_comments_473925.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-06T16:29:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473925",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_473926.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-04-06T16:30:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473926",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_473927.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-04-07T08:33:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473927",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_473928.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-05-09T09:49:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473928",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_062563.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-09T09:49:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24921#event-62563"
}
```



---

archive/issue_comments_473929.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/add_optional_package__ninja_build___build_system_for_polymake_\" to \"3d6ae67e05645f325bfdeb75be4ec8020a2d8dc5\"",
    "created_at": "2018-05-09T09:49:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24921#issuecomment-473929",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/add_optional_package__ninja_build___build_system_for_polymake_" to "3d6ae67e05645f325bfdeb75be4ec8020a2d8dc5"
