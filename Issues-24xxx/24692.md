# Issue 24692: Upgrade GDB

archive/issues_024455.json:
```json
{
    "body": "**Tarball**: https://ftp.gnu.org/gnu/gdb/gdb-8.2.tar.xz\n\nCC:  @kiwifb\n\nBranch/Commit: 6769112217df0b829130a66adc08886928ecf8fa\n\nReviewer: Dima Pasechnik\n\nAuthor: Jeroen Demeyer\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24692\n\n",
    "closed_at": "2018-10-20T11:59:11Z",
    "created_at": "2018-02-09T09:43:26Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "Upgrade GDB",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24692",
    "user": "https://github.com/jdemeyer"
}
```
**Tarball**: https://ftp.gnu.org/gnu/gdb/gdb-8.2.tar.xz

CC:  @kiwifb

Branch/Commit: 6769112217df0b829130a66adc08886928ecf8fa

Reviewer: Dima Pasechnik

Author: Jeroen Demeyer

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24692





---

archive/issue_comments_365284.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-09T09:58:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24692#issuecomment-365284",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_365285.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-02-09T09:59:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24692#issuecomment-365285",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_365286.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-09T10:02:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24692#issuecomment-365286",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_365287.json:
```json
{
    "body": "<a id='comment:6'></a>I am not convinced that the `--with-gmp...` stuff is useful.It just happens that the top configure file is shared with gcc so the top options are the same. Do we want to add some configuration options for the python used? Is this picked up automagically?",
    "created_at": "2018-02-28T09:09:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24692#issuecomment-365287",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:6'></a>I am not convinced that the `--with-gmp...` stuff is useful.It just happens that the top configure file is shared with gcc so the top options are the same. Do we want to add some configuration options for the python used? Is this picked up automagically?



---

archive/issue_comments_365288.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 fbissey]:\n> I am not convinced that the `--with-gmp...` stuff is useful.\n\n\nAt least it doesn't hurt, right?\n\n> Do we want to add some configuration options for the python used? Is this picked up automagically?\n\n\nLet me have a look.",
    "created_at": "2018-02-28T09:11:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24692#issuecomment-365288",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>Replying to [comment:6 fbissey]:
> I am not convinced that the `--with-gmp...` stuff is useful.


At least it doesn't hurt, right?

> Do we want to add some configuration options for the python used? Is this picked up automagically?


Let me have a look.



---

archive/issue_comments_365289.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:6 fbissey]:\n> Do we want to add some configuration options for the python used? Is this picked up automagically?\n\n\nSeems to work automagically:\n\n```\nchecking whether to use python... auto\nchecking for python... /usr/local/src/sage-config/local/bin/python\nchecking for python2.7... yes\n```",
    "created_at": "2018-03-30T12:07:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24692#issuecomment-365289",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>Replying to [comment:6 fbissey]:
> Do we want to add some configuration options for the python used? Is this picked up automagically?


Seems to work automagically:

```
checking whether to use python... auto
checking for python... /usr/local/src/sage-config/local/bin/python
checking for python2.7... yes
```



---

archive/issue_comments_365290.json:
```json
{
    "body": "<a id='comment:9'></a>And I don't see any `configure` options regarding Python.",
    "created_at": "2018-03-30T12:08:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24692#issuecomment-365290",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>And I don't see any `configure` options regarding Python.



---

archive/issue_comments_365291.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:9 jdemeyer]:\n> And I don't see any `configure` options regarding Python.\n\n\nOk full automagic or, more likely, possibly it is actually in one of the \"sub-configure\". It looks like standard autotools detection, so setting `PYTHON` would change the result.",
    "created_at": "2018-03-30T19:22:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24692#issuecomment-365291",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:10'></a>Replying to [comment:9 jdemeyer]:
> And I don't see any `configure` options regarding Python.


Ok full automagic or, more likely, possibly it is actually in one of the "sub-configure". It looks like standard autotools detection, so setting `PYTHON` would change the result.



---

archive/issue_comments_365292.json:
```json
{
    "body": "<a id='comment:11'></a>Just fyi, for nixos I noticed that the cysignals tests fail for reasons that appear to be related with gdb 8. I didn't look into it any further.",
    "created_at": "2018-07-11T17:33:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24692#issuecomment-365292",
    "user": "https://github.com/timokau"
}
```

<a id='comment:11'></a>Just fyi, for nixos I noticed that the cysignals tests fail for reasons that appear to be related with gdb 8. I didn't look into it any further.



---

archive/issue_comments_365293.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-**Tarball**: http://ftp.gnu.org/gnu/gdb/gdb-8.1.tar.xz\n+**Tarball**: https://ftp.gnu.org/gnu/gdb/gdb-8.2.tar.xz\n \n Author: Jeroen Demeyer\n \n```\n",
    "created_at": "2018-10-16T10:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24692#issuecomment-365293",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,4 @@
-**Tarball**: http://ftp.gnu.org/gnu/gdb/gdb-8.1.tar.xz
+**Tarball**: https://ftp.gnu.org/gnu/gdb/gdb-8.2.tar.xz
 
 Author: Jeroen Demeyer
 
```




---

archive/issue_comments_365294.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-10-16T10:17:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24692#issuecomment-365294",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_365295.json:
```json
{
    "body": "<a id='comment:14'></a>does this work without `makeinfo` installed?",
    "created_at": "2018-10-16T10:20:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24692#issuecomment-365295",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>does this work without `makeinfo` installed?



---

archive/issue_comments_365296.json:
```json
{
    "body": "<a id='comment:15'></a>In fact it fails (on stable x86_64 Debian, nothing special)\n\n```\n...\n[gdb-8.2] mv GDBvn.new GDBvn.texi\n[gdb-8.2] /home/dimpase/sage/local/var/tmp/sage/build/gdb-8.2/src/missing makeinfo --split-size=5000000 --split-size=5000000   -I ./../../readline/doc -I ./../mi -I . \\\n[gdb-8.2]       -o gdb.info ./gdb.texinfo\n[gdb-8.2] /home/dimpase/sage/local/var/tmp/sage/build/gdb-8.2/src/missing: 81: /home/dimpase/sage/local/var/tmp/sage/build/gdb-8.2/src/missing: makeinfo: not found\n[gdb-8.2] WARNING: 'makeinfo' is missing on your system.\n[gdb-8.2]          You should only need it if you modified a '.texi' file, or\n[gdb-8.2]          any other file indirectly affecting the aspect of the manual.\n[gdb-8.2]          You might want to install the Texinfo package:\n[gdb-8.2]          <http://www.gnu.org/software/texinfo/>\n[gdb-8.2]          The spurious makeinfo call might also be the consequence of\n[gdb-8.2]          using a buggy 'make' (AIX, DU, IRIX), in which case you might\n[gdb-8.2]          want to install GNU make:\n[gdb-8.2]          <http://www.gnu.org/software/make/>\n[gdb-8.2] Makefile:486: recipe for target 'gdb.info' failed\n[gdb-8.2] Makefile:1741: recipe for target 'install-only' failed\n[gdb-8.2] make[5]: *** [install-only] Error 2\n[gdb-8.2] make[5]: Leaving directory '/home/dimpase/sage/local/var/tmp/sage/build/gdb-8.2/src/gdb'\n[gdb-8.2] Makefile:1738: recipe for target 'install' failed\n[gdb-8.2] make[4]: *** [install] Error 2\n[gdb-8.2] make[4]: Leaving directory '/home/dimpase/sage/local/var/tmp/sage/build/gdb-8.2/src/gdb'\n[gdb-8.2] Makefile:9155: recipe for target 'install-gdb' failed\n[gdb-8.2] make[3]: *** [install-gdb] Error 2\n[gdb-8.2] make[3]: Leaving directory '/home/dimpase/sage/local/var/tmp/sage/build/gdb-8.2/src'\n[gdb-8.2] Makefile:2222: recipe for target 'install' failed\n[gdb-8.2] make[2]: *** [install] Error 2\n[gdb-8.2] make[2]: Leaving directory '/home/dimpase/sage/local/var/tmp/sage/build/gdb-8.2/src'\n[gdb-8.2] ********************************************************************************\n[gdb-8.2] Error installing gdb-8.2\n[gdb-8.2] ********************************************************************************\n[gdb-8.2]\n[gdb-8.2] real  10m22.381s\n[gdb-8.2] user  8m18.012s\n[gdb-8.2] sys   1m5.912s\n[gdb-8.2] ************************************************************************\n[gdb-8.2] Error installing package gdb-8.2\n[gdb-8.2] ************************************************************************\n[gdb-8.2] Please email sage-devel (http://groups.google.com/group/sage-devel)\n[gdb-8.2] explaining the problem and including the log file\n[gdb-8.2]   /home/dimpase/sage/logs/pkgs/gdb-8.2.log\n[gdb-8.2] Describe your computer, operating system, etc.\n[gdb-8.2] If you want to try to fix the problem yourself, *don't* just cd to\n[gdb-8.2] /home/dimpase/sage/local/var/tmp/sage/build/gdb-8.2 and type 'make' or whatever is appropriate.\n[gdb-8.2] Instead, the following commands setup all environment variables\n[gdb-8.2] correctly and load a subshell for you to debug the error:\n[gdb-8.2]   (cd '/home/dimpase/sage/local/var/tmp/sage/build/gdb-8.2' && '/home/dimpase/sage/sage' --sh)\n[gdb-8.2] When you are done debugging, you can type \"exit\" to leave the subshell.\n[gdb-8.2] ************************************************************************\nMakefile:2109: recipe for target '/home/dimpase/sage/local/var/lib/sage/installed/gdb-8.2' failed\nmake[1]: *** [/home/dimpase/sage/local/var/lib/sage/installed/gdb-8.2] Error 1\nmake[1]: Leaving directory '/home/dimpase/sage/build/make'\n```\n\nit is annoying, as e.g. I have no clue how people can get `makeinfo` on OSX.\nHowever, I'd be OK if it was mentioned in SPKG.txt that `makeinfo` is needed.",
    "created_at": "2018-10-16T11:16:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24692#issuecomment-365296",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>In fact it fails (on stable x86_64 Debian, nothing special)

```
...
[gdb-8.2] mv GDBvn.new GDBvn.texi
[gdb-8.2] /home/dimpase/sage/local/var/tmp/sage/build/gdb-8.2/src/missing makeinfo --split-size=5000000 --split-size=5000000   -I ./../../readline/doc -I ./../mi -I . \
[gdb-8.2]       -o gdb.info ./gdb.texinfo
[gdb-8.2] /home/dimpase/sage/local/var/tmp/sage/build/gdb-8.2/src/missing: 81: /home/dimpase/sage/local/var/tmp/sage/build/gdb-8.2/src/missing: makeinfo: not found
[gdb-8.2] WARNING: 'makeinfo' is missing on your system.
[gdb-8.2]          You should only need it if you modified a '.texi' file, or
[gdb-8.2]          any other file indirectly affecting the aspect of the manual.
[gdb-8.2]          You might want to install the Texinfo package:
[gdb-8.2]          <http://www.gnu.org/software/texinfo/>
[gdb-8.2]          The spurious makeinfo call might also be the consequence of
[gdb-8.2]          using a buggy 'make' (AIX, DU, IRIX), in which case you might
[gdb-8.2]          want to install GNU make:
[gdb-8.2]          <http://www.gnu.org/software/make/>
[gdb-8.2] Makefile:486: recipe for target 'gdb.info' failed
[gdb-8.2] Makefile:1741: recipe for target 'install-only' failed
[gdb-8.2] make[5]: *** [install-only] Error 2
[gdb-8.2] make[5]: Leaving directory '/home/dimpase/sage/local/var/tmp/sage/build/gdb-8.2/src/gdb'
[gdb-8.2] Makefile:1738: recipe for target 'install' failed
[gdb-8.2] make[4]: *** [install] Error 2
[gdb-8.2] make[4]: Leaving directory '/home/dimpase/sage/local/var/tmp/sage/build/gdb-8.2/src/gdb'
[gdb-8.2] Makefile:9155: recipe for target 'install-gdb' failed
[gdb-8.2] make[3]: *** [install-gdb] Error 2
[gdb-8.2] make[3]: Leaving directory '/home/dimpase/sage/local/var/tmp/sage/build/gdb-8.2/src'
[gdb-8.2] Makefile:2222: recipe for target 'install' failed
[gdb-8.2] make[2]: *** [install] Error 2
[gdb-8.2] make[2]: Leaving directory '/home/dimpase/sage/local/var/tmp/sage/build/gdb-8.2/src'
[gdb-8.2] ********************************************************************************
[gdb-8.2] Error installing gdb-8.2
[gdb-8.2] ********************************************************************************
[gdb-8.2]
[gdb-8.2] real  10m22.381s
[gdb-8.2] user  8m18.012s
[gdb-8.2] sys   1m5.912s
[gdb-8.2] ************************************************************************
[gdb-8.2] Error installing package gdb-8.2
[gdb-8.2] ************************************************************************
[gdb-8.2] Please email sage-devel (http://groups.google.com/group/sage-devel)
[gdb-8.2] explaining the problem and including the log file
[gdb-8.2]   /home/dimpase/sage/logs/pkgs/gdb-8.2.log
[gdb-8.2] Describe your computer, operating system, etc.
[gdb-8.2] If you want to try to fix the problem yourself, *don't* just cd to
[gdb-8.2] /home/dimpase/sage/local/var/tmp/sage/build/gdb-8.2 and type 'make' or whatever is appropriate.
[gdb-8.2] Instead, the following commands setup all environment variables
[gdb-8.2] correctly and load a subshell for you to debug the error:
[gdb-8.2]   (cd '/home/dimpase/sage/local/var/tmp/sage/build/gdb-8.2' && '/home/dimpase/sage/sage' --sh)
[gdb-8.2] When you are done debugging, you can type "exit" to leave the subshell.
[gdb-8.2] ************************************************************************
Makefile:2109: recipe for target '/home/dimpase/sage/local/var/lib/sage/installed/gdb-8.2' failed
make[1]: *** [/home/dimpase/sage/local/var/lib/sage/installed/gdb-8.2] Error 1
make[1]: Leaving directory '/home/dimpase/sage/build/make'
```

it is annoying, as e.g. I have no clue how people can get `makeinfo` on OSX.
However, I'd be OK if it was mentioned in SPKG.txt that `makeinfo` is needed.



---

archive/issue_comments_365297.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-10-17T14:22:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24692#issuecomment-365297",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_062158.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-10-17T14:22:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24692#event-62158"
}
```



---

archive/issue_comments_365298.json:
```json
{
    "body": "<a id='comment:16'></a>I added a note in SPKG.txt about makeinfo. \nGood to go otherwise.",
    "created_at": "2018-10-17T14:22:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24692#issuecomment-365298",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:16'></a>I added a note in SPKG.txt about makeinfo. 
Good to go otherwise.



---

archive/issue_events_062159.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-10-20T11:59:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24692#event-62159"
}
```



---

archive/issue_comments_365299.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-10-20T11:59:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24692#issuecomment-365299",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_062160.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-10-28T14:52:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24692#event-62160"
}
```



---

archive/issue_events_062161.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-10-28T14:52:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24692#event-62161"
}
```



---

archive/issue_comments_365300.json:
```json
{
    "body": "<a id='comment:18'></a>This should be re-targeted for 8.5.",
    "created_at": "2018-10-28T14:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24692#issuecomment-365300",
    "user": "https://github.com/embray"
}
```

<a id='comment:18'></a>This should be re-targeted for 8.5.
