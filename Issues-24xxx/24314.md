# Issue 24314: rootfinding for polynomials with complex ball coefficients using arb

archive/issues_024077.json:
```json
{
    "assignees": [],
    "body": "\n\nCC:  @fredrik-johansson @videlec @cheuberg\n\nBranch/Commit: **[6ad027b](https://github.com/sagemath/sagetrac-mirror/commit/6ad027bb82d9b119956c42d8f9f249117612208c)**\n\nReviewer: **Vincent Delecroix**\n\nAuthor: **Marc Mezzarobba**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24314_\n\n",
    "closed_at": "2018-05-08T17:27:00Z",
    "created_at": "2017-12-02T10:02:35Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20numerical",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "rootfinding for polynomials with complex ball coefficients using arb",
    "type": "issue",
    "updated_at": "2018-05-08T17:27:00Z",
    "url": "https://github.com/sagemath/sage/issues/24314",
    "user": "https://github.com/mezzarobba"
}
```


CC:  @fredrik-johansson @videlec @cheuberg

Branch/Commit: **[6ad027b](https://github.com/sagemath/sagetrac-mirror/commit/6ad027bb82d9b119956c42d8f9f249117612208c)**

Reviewer: **Vincent Delecroix**

Author: **Marc Mezzarobba**

_Issue created by migration from https://trac.sagemath.org/ticket/24314_





---

archive/issue_events_307720.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2017-12-02T10:02:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24314#event-307720"
}
```



---

archive/issue_events_307721.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2017-12-02T10:02:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20numerical",
    "label_color": "0000ff",
    "label_name": "component: numerical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24314#event-307721"
}
```



---

archive/issue_events_307722.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2017-12-02T10:02:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24314#event-307722"
}
```



---

archive/issue_events_307723.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2017-12-02T10:02:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24314#event-307723"
}
```



---

archive/issue_comments_370771.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26e633467eba6124075e525113f8cdd26d8e78e2\">26e6334</a></td><td><code>rootfinding for polynomials with complex ball coefficients using arb</code></td></tr></table>\n",
    "created_at": "2017-12-02T10:04:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370771",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:1'>Comment 1:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26e633467eba6124075e525113f8cdd26d8e78e2">26e6334</a></td><td><code>rootfinding for polynomials with complex ball coefficients using arb</code></td></tr></table>




---

archive/issue_comments_370772.json:
```json
{
    "body": "Changed commit from **[862df2c](https://github.com/sagemath/sagetrac-mirror/commit/862df2c9a8c6b1f59affa3e1228b5e3263279a99)** to **[26e6334](https://github.com/sagemath/sagetrac-mirror/commit/26e633467eba6124075e525113f8cdd26d8e78e2)**",
    "created_at": "2017-12-02T10:04:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370772",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[862df2c](https://github.com/sagemath/sagetrac-mirror/commit/862df2c9a8c6b1f59affa3e1228b5e3263279a99)** to **[26e6334](https://github.com/sagemath/sagetrac-mirror/commit/26e633467eba6124075e525113f8cdd26d8e78e2)**



---

archive/issue_events_307724.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2017-12-02T10:05:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24314#event-307724"
}
```



---

archive/issue_comments_370773.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nIt is best not to call acb_poly_find_roots once with the final precision but to use a loop like\n\nhttps://github.com/fredrik-johansson/python-flint/blob/master/src/acb_poly.pyx#L331",
    "created_at": "2017-12-02T16:01:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370773",
    "user": "https://github.com/fredrik-johansson"
}
```

<a id='comment:4'>Comment 4:</a>
It is best not to call acb_poly_find_roots once with the final precision but to use a loop like

https://github.com/fredrik-johansson/python-flint/blob/master/src/acb_poly.pyx#L331



---

archive/issue_comments_370774.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nRelated to this ticket, an interface to arb_fmpz_poly_complex_roots would also be useful.",
    "created_at": "2017-12-02T17:22:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370774",
    "user": "https://github.com/fredrik-johansson"
}
```

<a id='comment:5'>Comment 5:</a>
Related to this ticket, an interface to arb_fmpz_poly_complex_roots would also be useful.



---

archive/issue_comments_370775.json:
```json
{
    "body": "Changed commit from **[26e6334](https://github.com/sagemath/sagetrac-mirror/commit/26e633467eba6124075e525113f8cdd26d8e78e2)** to **[b007bde](https://github.com/sagemath/sagetrac-mirror/commit/b007bdedd55979840d30e45bbcfffbf3e31c0d35)**",
    "created_at": "2017-12-03T12:19:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370775",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[26e6334](https://github.com/sagemath/sagetrac-mirror/commit/26e633467eba6124075e525113f8cdd26d8e78e2)** to **[b007bde](https://github.com/sagemath/sagetrac-mirror/commit/b007bdedd55979840d30e45bbcfffbf3e31c0d35)**



---

archive/issue_comments_370776.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b007bdedd55979840d30e45bbcfffbf3e31c0d35\">b007bde</a></td><td><code>rootfinding for polynomials with complex ball coefficients using arb</code></td></tr></table>\n",
    "created_at": "2017-12-03T12:19:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370776",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>Comment 6:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b007bdedd55979840d30e45bbcfffbf3e31c0d35">b007bde</a></td><td><code>rootfinding for polynomials with complex ball coefficients using arb</code></td></tr></table>




---

archive/issue_comments_370777.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@fredrik-johansson](#comment%3A4):\n> It is best not to call acb_poly_find_roots once with the final precision but to use a loop like\n> \n> https://github.com/fredrik-johansson/python-flint/blob/master/src/acb_poly.pyx#L331\n\nThanks for the hint. Is it better now? (I also made the version with `proof=False` return all the roots instead of only the isolated ones.)\n\nI have doubts about the choice of refusing to run with `multiplicities=True`, any thoughts?",
    "created_at": "2017-12-03T12:25:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370777",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@fredrik-johansson](#comment%3A4):
> It is best not to call acb_poly_find_roots once with the final precision but to use a loop like
> 
> https://github.com/fredrik-johansson/python-flint/blob/master/src/acb_poly.pyx#L331

Thanks for the hint. Is it better now? (I also made the version with `proof=False` return all the roots instead of only the isolated ones.)

I have doubts about the choice of refusing to run with `multiplicities=True`, any thoughts?



---

archive/issue_comments_370778.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nIt looks reasonable to me (without having actually tested the code).\n\nIs multiplicities=True the default? For an interval polynomial, returning certified root clusters would be a reasonable interpretation, although it's a bit dangerous since a user might expect (naively) to obtain the true multiplicities for the intended exact polynomial. It doesn't really matter right now since the algorithm in Arb doesn't support certifiable isolating all root clusters, anyway...",
    "created_at": "2017-12-03T13:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370778",
    "user": "https://github.com/fredrik-johansson"
}
```

<a id='comment:8'>Comment 8:</a>
It looks reasonable to me (without having actually tested the code).

Is multiplicities=True the default? For an interval polynomial, returning certified root clusters would be a reasonable interpretation, although it's a bit dangerous since a user might expect (naively) to obtain the true multiplicities for the intended exact polynomial. It doesn't really matter right now since the algorithm in Arb doesn't support certifiable isolating all root clusters, anyway...



---

archive/issue_comments_370779.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nReplying to [@fredrik-johansson](#comment%3A8):\n> Is multiplicities=True the default?\n\nYes.\n\n> For an interval polynomial, returning certified root clusters would be a reasonable interpretation, although it's a bit dangerous since a user might expect (naively) to obtain the true multiplicities for the intended exact polynomial.\n\nYes, it would probably be clearer to have a separate method for that case. But we could also simply return all the roots with multiplicity one (since, unless it was called with `proof=False`, the function always fails on multiple roots).\n\nUnless someone objects, I suggest we keep the exception for now. It will be easier to change it later if it proves too inconvenient than to go the other way.",
    "created_at": "2017-12-04T15:49:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370779",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:9'>Comment 9:</a>
Replying to [@fredrik-johansson](#comment%3A8):
> Is multiplicities=True the default?

Yes.

> For an interval polynomial, returning certified root clusters would be a reasonable interpretation, although it's a bit dangerous since a user might expect (naively) to obtain the true multiplicities for the intended exact polynomial.

Yes, it would probably be clearer to have a separate method for that case. But we could also simply return all the roots with multiplicity one (since, unless it was called with `proof=False`, the function always fails on multiple roots).

Unless someone objects, I suggest we keep the exception for now. It will be easier to change it later if it proves too inconvenient than to go the other way.



---

archive/issue_comments_370780.json:
```json
{
    "body": "Changed commit from **[b007bde](https://github.com/sagemath/sagetrac-mirror/commit/b007bdedd55979840d30e45bbcfffbf3e31c0d35)** to **[8474ea3](https://github.com/sagemath/sagetrac-mirror/commit/8474ea3c302e87aceb0b6362ce9e183e3ebf6b1a)**",
    "created_at": "2018-01-31T15:03:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370780",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b007bde](https://github.com/sagemath/sagetrac-mirror/commit/b007bdedd55979840d30e45bbcfffbf3e31c0d35)** to **[8474ea3](https://github.com/sagemath/sagetrac-mirror/commit/8474ea3c302e87aceb0b6362ce9e183e3ebf6b1a)**



---

archive/issue_comments_370781.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8474ea3c302e87aceb0b6362ce9e183e3ebf6b1a\">8474ea3</a></td><td><code>Fix up 75c75e9 (#24285)</code></td></tr></table>\n",
    "created_at": "2018-01-31T15:03:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370781",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8474ea3c302e87aceb0b6362ce9e183e3ebf6b1a">8474ea3</a></td><td><code>Fix up 75c75e9 (#24285)</code></td></tr></table>




---

archive/issue_comments_370782.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38d4c2c21275216936aa6c9d6f8b72559d941caf\">38d4c2c</a></td><td><code>rootfinding for polynomials with complex ball coefficients using arb</code></td></tr></table>\n",
    "created_at": "2018-01-31T15:43:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370782",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38d4c2c21275216936aa6c9d6f8b72559d941caf">38d4c2c</a></td><td><code>rootfinding for polynomials with complex ball coefficients using arb</code></td></tr></table>




---

archive/issue_comments_370783.json:
```json
{
    "body": "Changed commit from **[8474ea3](https://github.com/sagemath/sagetrac-mirror/commit/8474ea3c302e87aceb0b6362ce9e183e3ebf6b1a)** to **[38d4c2c](https://github.com/sagemath/sagetrac-mirror/commit/38d4c2c21275216936aa6c9d6f8b72559d941caf)**",
    "created_at": "2018-01-31T15:43:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370783",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8474ea3](https://github.com/sagemath/sagetrac-mirror/commit/8474ea3c302e87aceb0b6362ce9e183e3ebf6b1a)** to **[38d4c2c](https://github.com/sagemath/sagetrac-mirror/commit/38d4c2c21275216936aa6c9d6f8b72559d941caf)**



---

archive/issue_comments_370784.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nReplying to [git](#comment%3A10):\n> Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8474ea3c302e87aceb0b6362ce9e183e3ebf6b1a\">8474ea3</a></td><td><code>Fix up 75c75e9 (#24285)</code></td></tr></table>\n\nWrong branch, sorry.",
    "created_at": "2018-01-31T15:45:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370784",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:12'>Comment 12:</a>
Replying to [git](#comment%3A10):
> Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8474ea3c302e87aceb0b6362ce9e183e3ebf6b1a">8474ea3</a></td><td><code>Fix up 75c75e9 (#24285)</code></td></tr></table>

Wrong branch, sorry.



---

archive/issue_comments_370785.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53015517e4ae207eff680a759bb17d5e5958c6ef\">5301551</a></td><td><code>rootfinding for polynomials with complex ball coefficients using arb</code></td></tr></table>\n",
    "created_at": "2018-03-03T12:24:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370785",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'>Comment 14:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53015517e4ae207eff680a759bb17d5e5958c6ef">5301551</a></td><td><code>rootfinding for polynomials with complex ball coefficients using arb</code></td></tr></table>




---

archive/issue_comments_370786.json:
```json
{
    "body": "Changed commit from **[38d4c2c](https://github.com/sagemath/sagetrac-mirror/commit/38d4c2c21275216936aa6c9d6f8b72559d941caf)** to **[5301551](https://github.com/sagemath/sagetrac-mirror/commit/53015517e4ae207eff680a759bb17d5e5958c6ef)**",
    "created_at": "2018-03-03T12:24:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370786",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[38d4c2c](https://github.com/sagemath/sagetrac-mirror/commit/38d4c2c21275216936aa6c9d6f8b72559d941caf)** to **[5301551](https://github.com/sagemath/sagetrac-mirror/commit/53015517e4ae207eff680a759bb17d5e5958c6ef)**



---

archive/issue_comments_370787.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nrebased on develop",
    "created_at": "2018-03-03T12:24:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370787",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:15'>Comment 15:</a>
rebased on develop



---

archive/issue_comments_370788.json:
```json
{
    "body": "Changed commit from **[5301551](https://github.com/sagemath/sagetrac-mirror/commit/53015517e4ae207eff680a759bb17d5e5958c6ef)** to **[520399a](https://github.com/sagemath/sagetrac-mirror/commit/520399af3edfbab9c72703de22c221ef182767f0)**",
    "created_at": "2018-03-20T09:24:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370788",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5301551](https://github.com/sagemath/sagetrac-mirror/commit/53015517e4ae207eff680a759bb17d5e5958c6ef)** to **[520399a](https://github.com/sagemath/sagetrac-mirror/commit/520399af3edfbab9c72703de22c221ef182767f0)**



---

archive/issue_comments_370789.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/520399af3edfbab9c72703de22c221ef182767f0\">520399a</a></td><td><code>rootfinding for polynomials with complex ball coefficients using arb</code></td></tr></table>\n",
    "created_at": "2018-03-20T09:24:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370789",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'>Comment 16:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/520399af3edfbab9c72703de22c221ef182767f0">520399a</a></td><td><code>rootfinding for polynomials with complex ball coefficients using arb</code></td></tr></table>




---

archive/issue_comments_370790.json:
```json
{
    "body": "Changed commit from **[520399a](https://github.com/sagemath/sagetrac-mirror/commit/520399af3edfbab9c72703de22c221ef182767f0)** to **[5f210a4](https://github.com/sagemath/sagetrac-mirror/commit/5f210a4d1f8f602efd2ead6693b17b68ed90784b)**",
    "created_at": "2018-03-30T09:47:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370790",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[520399a](https://github.com/sagemath/sagetrac-mirror/commit/520399af3edfbab9c72703de22c221ef182767f0)** to **[5f210a4](https://github.com/sagemath/sagetrac-mirror/commit/5f210a4d1f8f602efd2ead6693b17b68ed90784b)**



---

archive/issue_comments_370791.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f210a4d1f8f602efd2ead6693b17b68ed90784b\">5f210a4</a></td><td><code>rootfinding for polynomials with complex ball coefficients using arb</code></td></tr></table>\n",
    "created_at": "2018-03-30T09:47:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370791",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'>Comment 17:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f210a4d1f8f602efd2ead6693b17b68ed90784b">5f210a4</a></td><td><code>rootfinding for polynomials with complex ball coefficients using arb</code></td></tr></table>




---

archive/issue_comments_370792.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nfixed trivial merge conflicts",
    "created_at": "2018-03-30T09:48:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370792",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:18'>Comment 18:</a>
fixed trivial merge conflicts



---

archive/issue_comments_370793.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nYou have included a lot of example but they are right now unreachable from the documentation. It would be better to have a sample of it directly in the generic `roots` method. It is good to advertise it at this generic level since someone might want to use this even with polynomial with integer coefficients.\n\n```\nsage: x = polygen(ZZ)\nsage: (x^3 + 3).roots(CBF, multiplicities=False)\n[[-1.442249570307408 +/- 3.83e-16] + [+/- 3.59e-19]*I,\n [0.7211247851537042 +/- 9.34e-18] + [1.249024766483406 +/- 4.80e-16]*I,\n [0.7211247851537042 +/- 9.30e-18] + [-1.249024766483406 +/- 4.80e-16]*I]\n```\n\nIt is sad that the following is not working\n\n```\nsage: x = polygen(ZZ)\nsage: (x^3 + 3).roots(RBF, multiplicities=False)\nTraceback (most recent call last):\n...\nNotImplementedError: root finding for this polynomial not implemented\n```\n\nThe variable `i` is implicit. Might be good to declare it as `size_t`.\n\nWhy did you decide to not include the while loop in the `try`/`finally`?",
    "created_at": "2018-03-30T12:48:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370793",
    "user": "https://github.com/videlec"
}
```

<a id='comment:19'>Comment 19:</a>
You have included a lot of example but they are right now unreachable from the documentation. It would be better to have a sample of it directly in the generic `roots` method. It is good to advertise it at this generic level since someone might want to use this even with polynomial with integer coefficients.

```
sage: x = polygen(ZZ)
sage: (x^3 + 3).roots(CBF, multiplicities=False)
[[-1.442249570307408 +/- 3.83e-16] + [+/- 3.59e-19]*I,
 [0.7211247851537042 +/- 9.34e-18] + [1.249024766483406 +/- 4.80e-16]*I,
 [0.7211247851537042 +/- 9.30e-18] + [-1.249024766483406 +/- 4.80e-16]*I]
```

It is sad that the following is not working

```
sage: x = polygen(ZZ)
sage: (x^3 + 3).roots(RBF, multiplicities=False)
Traceback (most recent call last):
...
NotImplementedError: root finding for this polynomial not implemented
```

The variable `i` is implicit. Might be good to declare it as `size_t`.

Why did you decide to not include the while loop in the `try`/`finally`?



---

archive/issue_comments_370794.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2018-03-30T12:48:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370794",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_events_307725.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-30T12:48:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24314#event-307725"
}
```



---

archive/issue_events_307726.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-30T12:48:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24314#event-307726"
}
```



---

archive/issue_events_307727.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-30T12:48:57Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24314#event-307727"
}
```



---

archive/issue_events_307728.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-30T12:48:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24314#event-307728"
}
```



---

archive/issue_comments_370795.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/733ce3f3b2bc6fa1f01397d8f39dcb908f330120\">733ce3f</a></td><td><code>#24314 rootfinding for polynomials with complex ball coefficients using arb</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/521310016dc489e0677dfa37535d2d9266ff3202\">5213100</a></td><td><code>#24314 more documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ad027bb82d9b119956c42d8f9f249117612208c\">6ad027b</a></td><td><code>#24314 address reviewer's request</code></td></tr></table>\n",
    "created_at": "2018-03-30T14:50:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370795",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'>Comment 20:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/733ce3f3b2bc6fa1f01397d8f39dcb908f330120">733ce3f</a></td><td><code>#24314 rootfinding for polynomials with complex ball coefficients using arb</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/521310016dc489e0677dfa37535d2d9266ff3202">5213100</a></td><td><code>#24314 more documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ad027bb82d9b119956c42d8f9f249117612208c">6ad027b</a></td><td><code>#24314 address reviewer's request</code></td></tr></table>




---

archive/issue_comments_370796.json:
```json
{
    "body": "Changed commit from **[5f210a4](https://github.com/sagemath/sagetrac-mirror/commit/5f210a4d1f8f602efd2ead6693b17b68ed90784b)** to **[6ad027b](https://github.com/sagemath/sagetrac-mirror/commit/6ad027bb82d9b119956c42d8f9f249117612208c)**",
    "created_at": "2018-03-30T14:50:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370796",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5f210a4](https://github.com/sagemath/sagetrac-mirror/commit/5f210a4d1f8f602efd2ead6693b17b68ed90784b)** to **[6ad027b](https://github.com/sagemath/sagetrac-mirror/commit/6ad027bb82d9b119956c42d8f9f249117612208c)**



---

archive/issue_comments_370797.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nReplying to [@videlec](#comment%3A19):\n> You have included a lot of example but they are right now unreachable from the documentation. It would be better to have a sample of it directly in the generic `roots` method. It is good to advertise it at this generic level since someone might want to use this even with polynomial with integer coefficients.\n\nDone... But this is really a symptom of deeper design issues (of the documentation framework, and of the `_root_univariate_polynomial` mechanism)...\n\n> It is sad that the following is not working\n> \n> ```\n> sage: x = polygen(ZZ)\n> sage: (x^3 + 3).roots(RBF, multiplicities=False)\n> Traceback (most recent call last):\n> ...\n> NotImplementedError: root finding for this polynomial not implemented\n> ```\n\nI have some work in progress to interface the `arb_fmpz_poly` module, but I'm waiting for some other tickets to get merged to avoid conflicts.\n\n> The variable `i` is implicit. Might be good to declare it as `size_t`.\n\nWhy?\n\n> Why did you decide to not include the while loop in the `try`/`finally`?\n\nI don't know. Must have been because of the `sig_on()`/`sig_off()` block. But neither solution is perfect, I can move it in the `try` block if that's more to your taste.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/733ce3f3b2bc6fa1f01397d8f39dcb908f330120\">733ce3f</a></td><td><code>#24314 rootfinding for polynomials with complex ball coefficients using arb</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/521310016dc489e0677dfa37535d2d9266ff3202\">5213100</a></td><td><code>#24314 more documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ad027bb82d9b119956c42d8f9f249117612208c\">6ad027b</a></td><td><code>#24314 address reviewer's request</code></td></tr></table>\n",
    "created_at": "2018-03-30T14:52:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370797",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:21'>Comment 21:</a>
Replying to [@videlec](#comment%3A19):
> You have included a lot of example but they are right now unreachable from the documentation. It would be better to have a sample of it directly in the generic `roots` method. It is good to advertise it at this generic level since someone might want to use this even with polynomial with integer coefficients.

Done... But this is really a symptom of deeper design issues (of the documentation framework, and of the `_root_univariate_polynomial` mechanism)...

> It is sad that the following is not working
> 
> ```
> sage: x = polygen(ZZ)
> sage: (x^3 + 3).roots(RBF, multiplicities=False)
> Traceback (most recent call last):
> ...
> NotImplementedError: root finding for this polynomial not implemented
> ```

I have some work in progress to interface the `arb_fmpz_poly` module, but I'm waiting for some other tickets to get merged to avoid conflicts.

> The variable `i` is implicit. Might be good to declare it as `size_t`.

Why?

> Why did you decide to not include the while loop in the `try`/`finally`?

I don't know. Must have been because of the `sig_on()`/`sig_off()` block. But neither solution is perfect, I can move it in the `try` block if that's more to your taste.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/733ce3f3b2bc6fa1f01397d8f39dcb908f330120">733ce3f</a></td><td><code>#24314 rootfinding for polynomials with complex ball coefficients using arb</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/521310016dc489e0677dfa37535d2d9266ff3202">5213100</a></td><td><code>#24314 more documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ad027bb82d9b119956c42d8f9f249117612208c">6ad027b</a></td><td><code>#24314 address reviewer's request</code></td></tr></table>




---

archive/issue_events_307729.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-03-30T14:52:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24314#event-307729"
}
```



---

archive/issue_events_307730.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-03-30T14:52:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24314#event-307730"
}
```



---

archive/issue_comments_370798.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nReplying to [@mezzarobba](#comment%3A21):\n> Replying to [@videlec](#comment%3A19):\n> > The variable `i` is implicit. Might be good to declare it as `size_t`.\n\n> \n> Why?\n\nTo not let Cython decide what it should be... Maybe not important.",
    "created_at": "2018-04-03T07:19:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370798",
    "user": "https://github.com/videlec"
}
```

<a id='comment:23'>Comment 23:</a>
Replying to [@mezzarobba](#comment%3A21):
> Replying to [@videlec](#comment%3A19):
> > The variable `i` is implicit. Might be good to declare it as `size_t`.

> 
> Why?

To not let Cython decide what it should be... Maybe not important.



---

archive/issue_events_307731.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-04-03T07:20:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24314#event-307731"
}
```



---

archive/issue_events_307732.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-04-03T07:20:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24314#event-307732"
}
```



---

archive/issue_comments_370799.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nThanks!",
    "created_at": "2018-04-03T10:50:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370799",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:25'>Comment 25:</a>
Thanks!



---

archive/issue_events_307733.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-08T17:27:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24314#event-307733"
}
```



---

archive/issue_events_307734.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e4ec2f62091a53f9eb32827ccb2f08e72a8f3db8",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-05-08T17:27:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24314#event-307734"
}
```



---

archive/issue_comments_370800.json:
```json
{
    "body": "Changed branch from **[u/mmezzarobba/arb_roots](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/arb_roots)** to **[6ad027b](https://github.com/sagemath/sagetrac-mirror/commit/6ad027bb82d9b119956c42d8f9f249117612208c)**",
    "created_at": "2018-05-08T17:27:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24314",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24314#issuecomment-370800",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mmezzarobba/arb_roots](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/arb_roots)** to **[6ad027b](https://github.com/sagemath/sagetrac-mirror/commit/6ad027bb82d9b119956c42d8f9f249117612208c)**
