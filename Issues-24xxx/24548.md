# Issue 24548: py3: various details

archive/issues_024311.json:
```json
{
    "assignees": [],
    "body": "* deprecate some comparison-related methods in free modules\nbecause the cmp keyword will go away in python3\n\n* various changes about division\n\nCC:  @tscrim @embray @jdemeyer\n\nBranch/Commit: **[691e9de](https://github.com/sagemath/sagetrac-mirror/commit/691e9de0f194e5928a41c750891b5ebd1d0d7007)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24548_\n\n",
    "closed_at": "2018-01-27T15:59:52Z",
    "created_at": "2018-01-16T12:36:29Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20python3",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: various details",
    "type": "issue",
    "updated_at": "2018-01-27T15:59:52Z",
    "url": "https://github.com/sagemath/sage/issues/24548",
    "user": "https://github.com/fchapoton"
}
```
* deprecate some comparison-related methods in free modules
because the cmp keyword will go away in python3

* various changes about division

CC:  @tscrim @embray @jdemeyer

Branch/Commit: **[691e9de](https://github.com/sagemath/sagetrac-mirror/commit/691e9de0f194e5928a41c750891b5ebd1d0d7007)**

Reviewer: **Travis Scrimshaw**

Author: **Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/24548_





---

archive/issue_events_321951.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-16T12:36:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24548#event-321951"
}
```



---

archive/issue_events_321952.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-16T12:36:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20python3",
    "label_color": "000080",
    "label_name": "component: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24548#event-321952"
}
```



---

archive/issue_events_321953.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-16T12:36:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24548#event-321953"
}
```



---

archive/issue_events_321954.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-16T12:36:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24548#event-321954"
}
```



---

archive/issue_comments_374420.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n+* deprecate some comparison-related methods in free modules\n because the cmp keyword will go away in python3\n+\n+* various changes about division\n``````\n",
    "created_at": "2018-01-16T13:25:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24548#issuecomment-374420",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
+* deprecate some comparison-related methods in free modules
 because the cmp keyword will go away in python3
+
+* various changes about division
``````




---

archive/issue_events_321955.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-16T13:25:43Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "title_is": "py3: various details",
    "title_was": "py3: deprecate some comparison-related methods in free modules",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24548#event-321955"
}
```



---

archive/issue_comments_374421.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/691e9de0f194e5928a41c750891b5ebd1d0d7007\">691e9de</a></td><td><code>py#; various fixes, mostly about division</code></td></tr></table>\n",
    "created_at": "2018-01-16T13:26:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24548#issuecomment-374421",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:2" align="right">Comment 2</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/691e9de0f194e5928a41c750891b5ebd1d0d7007">691e9de</a></td><td><code>py#; various fixes, mostly about division</code></td></tr></table>




---

archive/issue_comments_374422.json:
```json
{
    "body": "Commit: **[691e9de](https://github.com/sagemath/sagetrac-mirror/commit/691e9de0f194e5928a41c750891b5ebd1d0d7007)**",
    "created_at": "2018-01-16T13:26:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24548#issuecomment-374422",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[691e9de](https://github.com/sagemath/sagetrac-mirror/commit/691e9de0f194e5928a41c750891b5ebd1d0d7007)**



---

archive/issue_comments_374423.json:
```json
{
    "body": "Branch: **[u/chapoton/24548](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/24548)**",
    "created_at": "2018-01-16T13:26:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24548#issuecomment-374423",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/24548](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/24548)**



---

archive/issue_events_321956.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-16T13:26:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24548#event-321956"
}
```



---

archive/issue_comments_374424.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nI haven't studied the math in these cases but just to be sure, are you sure these are supposed to be integer division in all these cases?  It looks like most of them want integer results, but I'd want to be sure.  Have you tested these changes?",
    "created_at": "2018-01-16T13:46:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24548#issuecomment-374424",
    "user": "https://github.com/embray"
}
```

<div id="comment:3" align="right">Comment 3</div>

I haven't studied the math in these cases but just to be sure, are you sure these are supposed to be integer division in all these cases?  It looks like most of them want integer results, but I'd want to be sure.  Have you tested these changes?



---

archive/issue_comments_374425.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nThere could be some slight doubts only in\n\n* \tsrc/sage/algebras/steenrod/steenrod_algebra_bases.py\n* \tsrc/sage/modular/btquotients/pautomorphicform.py\n\nbut all tests pass in these files. And in these files, the cases of possible doubt are all wrapped with ZZ() or range().\n\nSo, this leaves me pretty confident that the math is ok.",
    "created_at": "2018-01-16T13:55:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24548#issuecomment-374425",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">Comment 4</div>

There could be some slight doubts only in

* 	src/sage/algebras/steenrod/steenrod_algebra_bases.py
* 	src/sage/modular/btquotients/pautomorphicform.py

but all tests pass in these files. And in these files, the cases of possible doubt are all wrapped with ZZ() or range().

So, this leaves me pretty confident that the math is ok.



---

archive/issue_comments_374426.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nReplying to [@embray](#comment%3A3):\n> I haven't studied the math in these cases but just to be sure, are you sure these are supposed to be integer division in all these cases?  It looks like most of them want integer results, but I'd want to be sure.  Have you tested these changes?\n\nAlso: adding `from `__future__` import division` affects *all* divisions in that file. In general, I think that adding `from `__future__` import division` is a good idea. But it does mean that one should verify all divisions.",
    "created_at": "2018-01-16T14:11:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24548#issuecomment-374426",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">Comment 5</div>

Replying to [@embray](#comment%3A3):
> I haven't studied the math in these cases but just to be sure, are you sure these are supposed to be integer division in all these cases?  It looks like most of them want integer results, but I'd want to be sure.  Have you tested these changes?

Also: adding `from `__future__` import division` affects *all* divisions in that file. In general, I think that adding `from `__future__` import division` is a good idea. But it does mean that one should verify all divisions.



---

archive/issue_comments_374427.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\ngreen bot",
    "created_at": "2018-01-16T16:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24548#issuecomment-374427",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">Comment 6</div>

green bot



---

archive/issue_comments_374428.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nping ?",
    "created_at": "2018-01-19T16:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24548#issuecomment-374428",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">Comment 7</div>

ping ?



---

archive/issue_comments_374429.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nApply failed?",
    "created_at": "2018-01-22T13:47:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24548#issuecomment-374429",
    "user": "https://github.com/embray"
}
```

<div id="comment:8" align="right">Comment 8</div>

Apply failed?



---

archive/issue_comments_374430.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nbut `TestsPassed` on another patchbot..",
    "created_at": "2018-01-22T15:48:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24548#issuecomment-374430",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">Comment 9</div>

but `TestsPassed` on another patchbot..



---

archive/issue_comments_374431.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nLGTM.",
    "created_at": "2018-01-23T13:43:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24548#issuecomment-374431",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">Comment 10</div>

LGTM.



---

archive/issue_comments_374432.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2018-01-23T13:43:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24548#issuecomment-374432",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_321957.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-01-23T13:43:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24548#event-321957"
}
```



---

archive/issue_events_321958.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-01-23T13:43:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24548#event-321958"
}
```



---

archive/issue_events_321959.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-01-27T15:59:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24548#event-321959"
}
```



---

archive/issue_events_321960.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "cb4e6a68ce77818b03a9e56bebd7a0ba8f70cf29",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-01-27T15:59:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24548#event-321960"
}
```



---

archive/issue_comments_374433.json:
```json
{
    "body": "Changed branch from **[u/chapoton/24548](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/24548)** to **[691e9de](https://github.com/sagemath/sagetrac-mirror/commit/691e9de0f194e5928a41c750891b5ebd1d0d7007)**",
    "created_at": "2018-01-27T15:59:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24548#issuecomment-374433",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/24548](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/24548)** to **[691e9de](https://github.com/sagemath/sagetrac-mirror/commit/691e9de0f194e5928a41c750891b5ebd1d0d7007)**
