# Issue 24703: Everything should be rebuilt after GCC upgrade

archive/issues_024466.json:
```json
{
    "assignees": [],
    "body": "Due to C++ ABI incompatibilities, problems occur if code built with earlier versions of GCC is linked against code built with newer versions of GCC. This leads for example to patchbot failures mentioned below.\n\nThe simplest solution is to make *every* package depend on the GCC executable. This way, a GCC upgrade will force everything to be rebuilt. This may be overkill, but it's not a big problem in practice since GCC is upgraded rarely (unlikely other Sage packages, it is never automatically rebuilt except if absolutely needed, see for example #24599).\n\n---\n\nSee [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log) for a crash log from the arando i686 patchbot with Sage 8.2.beta5 using GCC 7.2.0. It involves brial and C++ strings.\n\nThe following doctests fail:\n\n```\nsage -t --warn-long 67.1 src/sage/rings/polynomial/multi_polynomial_sequence.py  # Killed due to abort\nsage -t --warn-long 67.1 src/sage/rings/polynomial/pbori.pyx  # Killed due to abort\nsage -t --warn-long 67.1 src/sage/rings/polynomial/multi_polynomial_libsingular.pyx  # Killed due to abort\nsage -t --warn-long 67.1 src/sage/rings/polynomial/polynomial_ring_constructor.py  # Killed due to abort\n```\n\nCC:  @kiwifb @embray\n\nBranch: **[`70ff832`](https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d)**\n\nReviewer: **Fran\u00e7ois Bissey**\n\nAuthor: **Jeroen Demeyer**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24703_\n\n",
    "closed_at": "2018-03-02T22:07:32Z",
    "created_at": "2018-02-10T11:32:21Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Everything should be rebuilt after GCC upgrade",
    "type": "issue",
    "updated_at": "2018-03-13T15:05:08Z",
    "url": "https://github.com/sagemath/sage/issues/24703",
    "user": "https://github.com/jdemeyer"
}
```
Due to C++ ABI incompatibilities, problems occur if code built with earlier versions of GCC is linked against code built with newer versions of GCC. This leads for example to patchbot failures mentioned below.

The simplest solution is to make *every* package depend on the GCC executable. This way, a GCC upgrade will force everything to be rebuilt. This may be overkill, but it's not a big problem in practice since GCC is upgraded rarely (unlikely other Sage packages, it is never automatically rebuilt except if absolutely needed, see for example #24599).

---

See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log) for a crash log from the arando i686 patchbot with Sage 8.2.beta5 using GCC 7.2.0. It involves brial and C++ strings.

The following doctests fail:

```
sage -t --warn-long 67.1 src/sage/rings/polynomial/multi_polynomial_sequence.py  # Killed due to abort
sage -t --warn-long 67.1 src/sage/rings/polynomial/pbori.pyx  # Killed due to abort
sage -t --warn-long 67.1 src/sage/rings/polynomial/multi_polynomial_libsingular.pyx  # Killed due to abort
sage -t --warn-long 67.1 src/sage/rings/polynomial/polynomial_ring_constructor.py  # Killed due to abort
```

CC:  @kiwifb @embray

Branch: **[`70ff832`](https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d)**

Reviewer: **François Bissey**

Author: **Jeroen Demeyer**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/24703_





---

archive/issue_events_342023.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-10T11:32:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342023"
}
```



---

archive/issue_events_342024.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-10T11:32:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342024"
}
```



---

archive/issue_events_342025.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-10T11:32:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342025"
}
```



---

archive/issue_events_342026.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-10T11:32:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342026"
}
```



---

archive/issue_comments_375448.json:
```json
{
    "body": "Attachment: **[crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log)**",
    "created_at": "2018-02-10T11:32:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375448",
    "user": "https://github.com/jdemeyer"
}
```

Attachment: **[crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log)**



---

archive/issue_comments_375449.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log)\n``````\n",
    "created_at": "2018-02-10T11:32:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375449",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log)
``````




---

archive/issue_comments_375450.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log)\n+See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log) for a crash log from the arando patchbot.\n``````\n",
    "created_at": "2018-02-10T11:33:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375450",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log)
+See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log) for a crash log from the arando patchbot.
``````




---

archive/issue_comments_375451.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,8 @@\n-See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log) for a crash log from the arando patchbot.\n+See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log) for a crash log from the arando i686 patchbot. The following doctests fail:\n+\n+```\n+sage -t --warn-long 67.1 src/sage/rings/polynomial/multi_polynomial_sequence.py  # Killed due to abort\n+sage -t --warn-long 67.1 src/sage/rings/polynomial/pbori.pyx  # Killed due to abort\n+sage -t --warn-long 67.1 src/sage/rings/polynomial/multi_polynomial_libsingular.pyx  # Killed due to abort\n+sage -t --warn-long 67.1 src/sage/rings/polynomial/polynomial_ring_constructor.py  # Killed due to abort\n+```\n``````\n",
    "created_at": "2018-02-10T11:57:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375451",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,8 @@
-See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log) for a crash log from the arando patchbot.
+See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log) for a crash log from the arando i686 patchbot. The following doctests fail:
+
+```
+sage -t --warn-long 67.1 src/sage/rings/polynomial/multi_polynomial_sequence.py  # Killed due to abort
+sage -t --warn-long 67.1 src/sage/rings/polynomial/pbori.pyx  # Killed due to abort
+sage -t --warn-long 67.1 src/sage/rings/polynomial/multi_polynomial_libsingular.pyx  # Killed due to abort
+sage -t --warn-long 67.1 src/sage/rings/polynomial/polynomial_ring_constructor.py  # Killed due to abort
+```
``````




---

archive/issue_comments_375452.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n-See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log) for a crash log from the arando i686 patchbot. The following doctests fail:\n+See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log) for a crash log from the arando i686 patchbot with Sage 8.2.beta5 using GCC 7.2.0.\n+\n+The following doctests fail:\n \n ```\n sage -t --warn-long 67.1 src/sage/rings/polynomial/multi_polynomial_sequence.py  # Killed due to abort\n``````\n",
    "created_at": "2018-02-10T12:48:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375452",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
-See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log) for a crash log from the arando i686 patchbot. The following doctests fail:
+See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log) for a crash log from the arando i686 patchbot with Sage 8.2.beta5 using GCC 7.2.0.
+
+The following doctests fail:
 
 ```
 sage -t --warn-long 67.1 src/sage/rings/polynomial/multi_polynomial_sequence.py  # Killed due to abort
``````




---

archive/issue_events_342027.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-10T12:48:50Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "title_is": "SIGABRT on i686 involving polybori and C++ strings",
    "title_was": "SIGABRT on i686 involving polybori and strings",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342027"
}
```



---

archive/issue_comments_375453.json:
```json
{
    "body": "Author: **Jeroen Demeyer**",
    "created_at": "2018-02-12T09:58:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375453",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Jeroen Demeyer**



---

archive/issue_comments_375454.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,9 @@\n+Due to C++ ABI incompatibilities, problems occur if code built with earlier versions of GCC is linked against code built with newer versions of GCC. This leads for example to patchbot failures mentioned below.\n+\n+The simplest solution is to make *every* package depend on GCC. This way, a GCC upgrade will force everything to be rebuilt. This may be overkill, but it's not a huge problem in practice since GCC is upgraded rarely (unlikely other Sage packages, it is never automatically rebuilt except if absolutely needed, see for example #24599).\n+\n+---\n+\n See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log) for a crash log from the arando i686 patchbot with Sage 8.2.beta5 using GCC 7.2.0.\n \n The following doctests fail:\n``````\n",
    "created_at": "2018-02-12T09:58:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375454",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,9 @@
+Due to C++ ABI incompatibilities, problems occur if code built with earlier versions of GCC is linked against code built with newer versions of GCC. This leads for example to patchbot failures mentioned below.
+
+The simplest solution is to make *every* package depend on GCC. This way, a GCC upgrade will force everything to be rebuilt. This may be overkill, but it's not a huge problem in practice since GCC is upgraded rarely (unlikely other Sage packages, it is never automatically rebuilt except if absolutely needed, see for example #24599).
+
+---
+
 See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log) for a crash log from the arando i686 patchbot with Sage 8.2.beta5 using GCC 7.2.0.
 
 The following doctests fail:
``````




---

archive/issue_events_342028.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-12T09:58:09Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "title_is": "Everything should be rebuilt after GCC upgrade",
    "title_was": "SIGABRT on i686 involving polybori and C++ strings",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342028"
}
```



---

archive/issue_comments_375455.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n \n ---\n \n-See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log) for a crash log from the arando i686 patchbot with Sage 8.2.beta5 using GCC 7.2.0.\n+See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log) for a crash log from the arando i686 patchbot with Sage 8.2.beta5 using GCC 7.2.0. It involves brial and C++ strings.\n \n The following doctests fail:\n \n``````\n",
    "created_at": "2018-02-12T09:59:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375455",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 
 ---
 
-See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log) for a crash log from the arando i686 patchbot with Sage 8.2.beta5 using GCC 7.2.0.
+See [attachment: crash_zrVXNw.log](https://github.com/sagemath/sage/files/ticket24703/crash_zrVXNw.log) for a crash log from the arando i686 patchbot with Sage 8.2.beta5 using GCC 7.2.0. It involves brial and C++ strings.
 
 The following doctests fail:
 
``````




---

archive/issue_comments_375456.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nYup, pretty much anything that use C++ has to be rebuilt when you move to gcc-5. gcc dev have made some commitments to ABI stability for the time being. But then you also have the change of ABI for gfortran at gcc-7. The only thing that's rock solid for almost ever is C.",
    "created_at": "2018-02-12T10:03:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375456",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:7" align="right">comment:7</div>

Yup, pretty much anything that use C++ has to be rebuilt when you move to gcc-5. gcc dev have made some commitments to ABI stability for the time being. But then you also have the change of ABI for gfortran at gcc-7. The only thing that's rock solid for almost ever is C.



---

archive/issue_comments_375457.json:
```json
{
    "body": "Branch: **[u/jdemeyer/everything_should_be_rebuilt_after_gcc_upgrade](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/everything_should_be_rebuilt_after_gcc_upgrade)**",
    "created_at": "2018-02-14T10:31:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375457",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/everything_should_be_rebuilt_after_gcc_upgrade](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/everything_should_be_rebuilt_after_gcc_upgrade)**



---

archive/issue_comments_375458.json:
```json
{
    "body": "Commit: **[`c59430d`](https://github.com/sagemath/sagetrac-mirror/commit/c59430df6ba5b9e7b6ba0c29aa077a12a97e748e)**",
    "created_at": "2018-02-14T11:30:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375458",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`c59430d`](https://github.com/sagemath/sagetrac-mirror/commit/c59430df6ba5b9e7b6ba0c29aa077a12a97e748e)**



---

archive/issue_comments_375459.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c59430df6ba5b9e7b6ba0c29aa077a12a97e748e\">c59430d</a></td><td><code>Everything should be rebuilt after GCC upgrade</code></td></tr></table>\n",
    "created_at": "2018-02-14T11:30:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375459",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c59430df6ba5b9e7b6ba0c29aa077a12a97e748e">c59430d</a></td><td><code>Everything should be rebuilt after GCC upgrade</code></td></tr></table>




---

archive/issue_comments_375460.json:
```json
{
    "body": "Changed commit from **[`c59430d`](https://github.com/sagemath/sagetrac-mirror/commit/c59430df6ba5b9e7b6ba0c29aa077a12a97e748e)** to **[`057b434`](https://github.com/sagemath/sagetrac-mirror/commit/057b434babb6ec6eaa7bae4afad4255a7481b1af)**",
    "created_at": "2018-02-14T11:32:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375460",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c59430d`](https://github.com/sagemath/sagetrac-mirror/commit/c59430df6ba5b9e7b6ba0c29aa077a12a97e748e)** to **[`057b434`](https://github.com/sagemath/sagetrac-mirror/commit/057b434babb6ec6eaa7bae4afad4255a7481b1af)**



---

archive/issue_comments_375461.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/057b434babb6ec6eaa7bae4afad4255a7481b1af\">057b434</a></td><td><code>Everything should be rebuilt after GCC upgrade</code></td></tr></table>\n",
    "created_at": "2018-02-14T11:32:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375461",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/057b434babb6ec6eaa7bae4afad4255a7481b1af">057b434</a></td><td><code>Everything should be rebuilt after GCC upgrade</code></td></tr></table>




---

archive/issue_events_342029.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-14T12:44:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342029"
}
```



---

archive/issue_comments_375462.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Due to C++ ABI incompatibilities, problems occur if code built with earlier versions of GCC is linked against code built with newer versions of GCC. This leads for example to patchbot failures mentioned below.\n \n-The simplest solution is to make *every* package depend on GCC. This way, a GCC upgrade will force everything to be rebuilt. This may be overkill, but it's not a huge problem in practice since GCC is upgraded rarely (unlikely other Sage packages, it is never automatically rebuilt except if absolutely needed, see for example #24599).\n+The simplest solution is to make *every* package depend on the GCC executable. This way, a GCC upgrade will force everything to be rebuilt. This may be overkill, but it's not a big problem in practice since GCC is upgraded rarely (unlikely other Sage packages, it is never automatically rebuilt except if absolutely needed, see for example #24599).\n \n ---\n \n``````\n",
    "created_at": "2018-02-16T19:03:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375462",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Due to C++ ABI incompatibilities, problems occur if code built with earlier versions of GCC is linked against code built with newer versions of GCC. This leads for example to patchbot failures mentioned below.
 
-The simplest solution is to make *every* package depend on GCC. This way, a GCC upgrade will force everything to be rebuilt. This may be overkill, but it's not a huge problem in practice since GCC is upgraded rarely (unlikely other Sage packages, it is never automatically rebuilt except if absolutely needed, see for example #24599).
+The simplest solution is to make *every* package depend on the GCC executable. This way, a GCC upgrade will force everything to be rebuilt. This may be overkill, but it's not a big problem in practice since GCC is upgraded rarely (unlikely other Sage packages, it is never automatically rebuilt except if absolutely needed, see for example #24599).
 
 ---
 
``````




---

archive/issue_events_342030.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-02-18T21:15:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342030"
}
```



---

archive/issue_events_342031.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-02-18T21:15:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342031"
}
```



---

archive/issue_comments_375463.json:
```json
{
    "body": "Reviewer: **Fran\u00e7ois Bissey**",
    "created_at": "2018-02-18T21:15:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375463",
    "user": "https://github.com/kiwifb"
}
```

Reviewer: **François Bissey**



---

archive/issue_comments_375464.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nNot sure why the patchbot is failing but the stuff looks good me, and we should include it ASAP.",
    "created_at": "2018-02-18T21:15:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375464",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:13" align="right">comment:13</div>

Not sure why the patchbot is failing but the stuff looks good me, and we should include it ASAP.



---

archive/issue_comments_375465.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@kiwifb](#comment:13):\n> Not sure why the patchbot is failing but the stuff looks good me, and we should include it ASAP.\n\nI need to upgrade that patchbot.  It's running an old version of the patchbot package that has a bug when testing \"unsafe\" tickets.",
    "created_at": "2018-02-19T16:40:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375465",
    "user": "https://github.com/embray"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@kiwifb](#comment:13):
> Not sure why the patchbot is failing but the stuff looks good me, and we should include it ASAP.

I need to upgrade that patchbot.  It's running an old version of the patchbot package that has a bug when testing "unsafe" tickets.



---

archive/issue_comments_375466.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nOkay, I don't really care since I'm not in the habit of building gcc anyways, but I would appreciate if someone sign off on #21524 so I don't have to keep upgrading it to incorporate changes like this.",
    "created_at": "2018-02-19T16:43:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375466",
    "user": "https://github.com/embray"
}
```

<div id="comment:15" align="right">comment:15</div>

Okay, I don't really care since I'm not in the habit of building gcc anyways, but I would appreciate if someone sign off on #21524 so I don't have to keep upgrading it to incorporate changes like this.



---

archive/issue_comments_375467.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/everything_should_be_rebuilt_after_gcc_upgrade](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/everything_should_be_rebuilt_after_gcc_upgrade)** to **[`057b434`](https://github.com/sagemath/sagetrac-mirror/commit/057b434babb6ec6eaa7bae4afad4255a7481b1af)**",
    "created_at": "2018-02-20T23:08:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375467",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/everything_should_be_rebuilt_after_gcc_upgrade](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/everything_should_be_rebuilt_after_gcc_upgrade)** to **[`057b434`](https://github.com/sagemath/sagetrac-mirror/commit/057b434babb6ec6eaa7bae4afad4255a7481b1af)**



---

archive/issue_events_342032.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-02-20T23:08:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342032"
}
```



---

archive/issue_events_342033.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-02-20T23:08:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342033"
}
```



---

archive/issue_comments_375468.json:
```json
{
    "body": "Changed commit from **[`057b434`](https://github.com/sagemath/sagetrac-mirror/commit/057b434babb6ec6eaa7bae4afad4255a7481b1af)** to none",
    "created_at": "2018-02-28T07:50:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375468",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[`057b434`](https://github.com/sagemath/sagetrac-mirror/commit/057b434babb6ec6eaa7bae4afad4255a7481b1af)** to none



---

archive/issue_comments_375469.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nBreaks full build on Debian 7 (both 32 and 64 bit)\n\nPPL: \n\n```\nconfigure: error: Cannot find GMP version 4.1.3 or higher.\nGMP is the GNU Multi-Precision library:\nsee http://www.swox.com/gmp/ for more information.\nWhen compiling the GMP library, do not forget to enable the C++ interface:\nadd --enable-cxx to the configuration options.\nError configuring the Parma Polyhedra Library.\n```\n\nGivaro:\n\n```\nchecking for GMP library... yes\nchecking gmpxx.h usability... no\nchecking gmpxx.h presence... no\nchecking for gmpxx.h... no\nyour GMP does not have c++ support. Compile GMP with --enable-cxx\n********************************************************************************\nError configuring givaro-4.0.4\n********************************************************************************\n```",
    "created_at": "2018-02-28T07:50:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375469",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:17" align="right">comment:17</div>

Breaks full build on Debian 7 (both 32 and 64 bit)

PPL: 

```
configure: error: Cannot find GMP version 4.1.3 or higher.
GMP is the GNU Multi-Precision library:
see http://www.swox.com/gmp/ for more information.
When compiling the GMP library, do not forget to enable the C++ interface:
add --enable-cxx to the configuration options.
Error configuring the Parma Polyhedra Library.
```

Givaro:

```
checking for GMP library... yes
checking gmpxx.h usability... no
checking gmpxx.h presence... no
checking for gmpxx.h... no
your GMP does not have c++ support. Compile GMP with --enable-cxx
********************************************************************************
Error configuring givaro-4.0.4
********************************************************************************
```



---

archive/issue_comments_375470.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nDo you happen to have the `install.log` file?",
    "created_at": "2018-02-28T08:38:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375470",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Do you happen to have the `install.log` file?



---

archive/issue_comments_375471.json:
```json
{
    "body": "Changed branch from **[`057b434`](https://github.com/sagemath/sagetrac-mirror/commit/057b434babb6ec6eaa7bae4afad4255a7481b1af)** to **[u/jdemeyer/057b434babb6ec6eaa7bae4afad4255a7481b1af](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/057b434babb6ec6eaa7bae4afad4255a7481b1af)**",
    "created_at": "2018-02-28T13:25:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375471",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[`057b434`](https://github.com/sagemath/sagetrac-mirror/commit/057b434babb6ec6eaa7bae4afad4255a7481b1af)** to **[u/jdemeyer/057b434babb6ec6eaa7bae4afad4255a7481b1af](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/057b434babb6ec6eaa7bae4afad4255a7481b1af)**



---

archive/issue_comments_375472.json:
```json
{
    "body": "Commit: **[`70ff832`](https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d)**",
    "created_at": "2018-02-28T13:28:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375472",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[`70ff832`](https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d)**



---

archive/issue_events_342034.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-28T13:28:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342034"
}
```



---

archive/issue_comments_375473.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReverted this:\n\n```diff\n--- a/build/pkgs/gcc/spkg-install\n+++ b/build/pkgs/gcc/spkg-install\n@@ -124,7 +124,7 @@ $MAKE install\n \n # Mark gfortran as not installed in case gfortran was installed earlier\n cd \"$SAGE_SPKG_INST\"\n-rm -f gmp-* mpir-* mpfr-* mpc-* gfortran-*\n+rm -f gfortran-*\n \n # Force re-configuration: the next time that \"make\" is run, we need to\n # rebuild all packages (#24703) but we should not rebuild gcc (#19324)\n```\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d\">70ff832</a></td><td><code>Everything should be rebuilt after GCC upgrade</code></td></tr></table>\n",
    "created_at": "2018-02-28T13:28:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375473",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Reverted this:

```diff
--- a/build/pkgs/gcc/spkg-install
+++ b/build/pkgs/gcc/spkg-install
@@ -124,7 +124,7 @@ $MAKE install
 
 # Mark gfortran as not installed in case gfortran was installed earlier
 cd "$SAGE_SPKG_INST"
-rm -f gmp-* mpir-* mpfr-* mpc-* gfortran-*
+rm -f gfortran-*
 
 # Force re-configuration: the next time that "make" is run, we need to
 # rebuild all packages (#24703) but we should not rebuild gcc (#19324)
```

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d">70ff832</a></td><td><code>Everything should be rebuilt after GCC upgrade</code></td></tr></table>




---

archive/issue_events_342035.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-28T13:28:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342035"
}
```



---

archive/issue_events_342036.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-28T13:28:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342036"
}
```



---

archive/issue_events_342037.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-02-28T22:53:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342037"
}
```



---

archive/issue_events_342038.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "c6fc4193d4359967f60759501cbf30aaa648ba05",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-02-28T22:53:09Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342038"
}
```



---

archive/issue_comments_375474.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/057b434babb6ec6eaa7bae4afad4255a7481b1af](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/057b434babb6ec6eaa7bae4afad4255a7481b1af)** to **[`70ff832`](https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d)**",
    "created_at": "2018-02-28T22:53:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375474",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/057b434babb6ec6eaa7bae4afad4255a7481b1af](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/057b434babb6ec6eaa7bae4afad4255a7481b1af)** to **[`70ff832`](https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d)**



---

archive/issue_comments_375475.json:
```json
{
    "body": "Changed commit from **[`70ff832`](https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d)** to none",
    "created_at": "2018-03-01T23:10:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375475",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[`70ff832`](https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d)** to none



---

archive/issue_comments_375476.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nhttp://build.sagemath.org/#/builders/30/builds/6/steps/6/logs/matplotlib\n\nBuilding matplotlib still fails on Debian 7 64-bit with \n\n```\n    gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -DPY_ARRAY_UNIQUE_SYMBOL=MPL_matplotlib__image_ARRAY_API -DNPY_NO_DEPRECATED_API=NPY_1_7_API_VERSION -D__STDC_FORMAT_MACROS=1 -I/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include -I/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include -I/home/buildbot/slave/sage_git/build/local/include -I. -Iextern/agg24-svn/include -I/home/buildbot/slave/sage_git/build/local/include/python2.7 -c src/py_converters.cpp -o build/temp.linux-x86_64-2.7/src/py_converters.o\n    In file included from /home/buildbot/slave/sage_git/build/local/include/python2.7/Python.h:19:0,\n                     from src/py_converters.h:16,\n                     from src/py_converters.cpp:3:\n    /usr/include/limits.h:125:26: error: no include path in which to search for limits.h\n     # include_next <limits.h>\n                              ^\n    In file included from src/py_converters.h:16:0,\n                     from src/py_converters.cpp:3:\n    /home/buildbot/slave/sage_git/build/local/include/python2.7/Python.h:22:2: error: #error \"Something's broken.  UCHAR_MAX should be defined in limits.h.\"\n     #error \"Something's broken.  UCHAR_MAX should be defined in limits.h.\"\n```",
    "created_at": "2018-03-01T23:10:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375476",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:24" align="right">comment:24</div>

http://build.sagemath.org/#/builders/30/builds/6/steps/6/logs/matplotlib

Building matplotlib still fails on Debian 7 64-bit with 

```
    gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -DPY_ARRAY_UNIQUE_SYMBOL=MPL_matplotlib__image_ARRAY_API -DNPY_NO_DEPRECATED_API=NPY_1_7_API_VERSION -D__STDC_FORMAT_MACROS=1 -I/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include -I/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include -I/home/buildbot/slave/sage_git/build/local/include -I. -Iextern/agg24-svn/include -I/home/buildbot/slave/sage_git/build/local/include/python2.7 -c src/py_converters.cpp -o build/temp.linux-x86_64-2.7/src/py_converters.o
    In file included from /home/buildbot/slave/sage_git/build/local/include/python2.7/Python.h:19:0,
                     from src/py_converters.h:16,
                     from src/py_converters.cpp:3:
    /usr/include/limits.h:125:26: error: no include path in which to search for limits.h
     # include_next <limits.h>
                              ^
    In file included from src/py_converters.h:16:0,
                     from src/py_converters.cpp:3:
    /home/buildbot/slave/sage_git/build/local/include/python2.7/Python.h:22:2: error: #error "Something's broken.  UCHAR_MAX should be defined in limits.h."
     #error "Something's broken.  UCHAR_MAX should be defined in limits.h."
```



---

archive/issue_comments_375477.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI don't see how that error is related to this ticket.",
    "created_at": "2018-03-02T09:01:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375477",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

I don't see how that error is related to this ticket.



---

archive/issue_comments_375478.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nApparently the build was interleaved with gcc, which shouldn't happen. This also happens after backing out the ticket so its either a preexisting issue or the makefile isn't regenerated. This is the second build of gcc, it builds in parallel with everything else.",
    "created_at": "2018-03-02T10:49:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375478",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:26" align="right">comment:26</div>

Apparently the build was interleaved with gcc, which shouldn't happen. This also happens after backing out the ticket so its either a preexisting issue or the makefile isn't regenerated. This is the second build of gcc, it builds in parallel with everything else.



---

archive/issue_comments_375479.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@vbraun](#comment:26):\n> This also happens after backing out the ticket\n\nI think it's a bug in the *previous* version of this ticket then.\n\n> This is the second build of gcc\n\nThere shouldn't be a second build of gcc.\n\nIt would be very useful to see the auto-generated `build/make/Makefile` from the failed build to understand what is happening.",
    "created_at": "2018-03-02T12:36:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375479",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@vbraun](#comment:26):
> This also happens after backing out the ticket

I think it's a bug in the *previous* version of this ticket then.

> This is the second build of gcc

There shouldn't be a second build of gcc.

It would be very useful to see the auto-generated `build/make/Makefile` from the failed build to understand what is happening.



---

archive/issue_events_342039.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-02T12:36:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342039"
}
```



---

archive/issue_events_342040.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-02T12:36:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342040"
}
```



---

archive/issue_events_342041.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-02T12:36:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342041"
}
```



---

archive/issue_comments_375480.json:
```json
{
    "body": "Attachment: **[Makefile.gz](https://github.com/sagemath/sage/files/ticket24703/Makefile.gz)**",
    "created_at": "2018-03-02T13:55:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375480",
    "user": "https://github.com/vbraun"
}
```

Attachment: **[Makefile.gz](https://github.com/sagemath/sage/files/ticket24703/Makefile.gz)**



---

archive/issue_comments_375481.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI attached the makefile...",
    "created_at": "2018-03-02T13:56:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375481",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:29" align="right">comment:29</div>

I attached the makefile...



---

archive/issue_comments_375482.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI checked out just this ticket and ran `make distclean && make` and gcc builds twice\n\n```\nbuildbot@sagebd07_64s02:~/slave/sage_git/build$ grep 'Found local metadata for gcc' logs/install.log \n[gcc-7.2.0] Found local metadata for gcc-7.2.0\n[gcc-7.2.0] Found local metadata for gcc-7.2.0\n```\nand the second time is in parallel with lots of other stuff...",
    "created_at": "2018-03-02T14:42:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375482",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:30" align="right">comment:30</div>

I checked out just this ticket and ran `make distclean && make` and gcc builds twice

```
buildbot@sagebd07_64s02:~/slave/sage_git/build$ grep 'Found local metadata for gcc' logs/install.log 
[gcc-7.2.0] Found local metadata for gcc-7.2.0
[gcc-7.2.0] Found local metadata for gcc-7.2.0
```
and the second time is in parallel with lots of other stuff...



---

archive/issue_comments_375483.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nOK, I think I know what happened: there is indeed a serious bug that GCC is installed twice.\n\nBut that bug is not because of this ticket, it is most likely happening since #24599. I think you are just unlucky to hit this bug now and not before.",
    "created_at": "2018-03-02T19:35:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375483",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:31" align="right">comment:31</div>

OK, I think I know what happened: there is indeed a serious bug that GCC is installed twice.

But that bug is not because of this ticket, it is most likely happening since #24599. I think you are just unlucky to hit this bug now and not before.



---

archive/issue_comments_375484.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nI would rather prefer to merge this ticket anyway and then deal with further fixes to the GCC build process in a future ticket.",
    "created_at": "2018-03-02T19:37:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375484",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

I would rather prefer to merge this ticket anyway and then deal with further fixes to the GCC build process in a future ticket.



---

archive/issue_comments_375485.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nSure, did you open a followup ticket?",
    "created_at": "2018-03-02T22:04:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375485",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:33" align="right">comment:33</div>

Sure, did you open a followup ticket?



---

archive/issue_comments_375486.json:
```json
{
    "body": "Changed branch from **[`70ff832`](https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d)** to **[u/jdemeyer/everything_should_be_rebuilt_after_gcc_upgrade](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/everything_should_be_rebuilt_after_gcc_upgrade)**",
    "created_at": "2018-03-02T22:05:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375486",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[`70ff832`](https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d)** to **[u/jdemeyer/everything_should_be_rebuilt_after_gcc_upgrade](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/everything_should_be_rebuilt_after_gcc_upgrade)**



---

archive/issue_comments_375487.json:
```json
{
    "body": "Commit: **[`057b434`](https://github.com/sagemath/sagetrac-mirror/commit/057b434babb6ec6eaa7bae4afad4255a7481b1af)**",
    "created_at": "2018-03-02T22:05:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375487",
    "user": "https://github.com/vbraun"
}
```

Commit: **[`057b434`](https://github.com/sagemath/sagetrac-mirror/commit/057b434babb6ec6eaa7bae4afad4255a7481b1af)**



---

archive/issue_comments_375488.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/057b434babb6ec6eaa7bae4afad4255a7481b1af\">057b434</a></td><td><code>Everything should be rebuilt after GCC upgrade</code></td></tr></table>\n",
    "created_at": "2018-03-02T22:05:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375488",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:34"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/057b434babb6ec6eaa7bae4afad4255a7481b1af">057b434</a></td><td><code>Everything should be rebuilt after GCC upgrade</code></td></tr></table>




---

archive/issue_comments_375489.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d\">70ff832</a></td><td><code>Everything should be rebuilt after GCC upgrade</code></td></tr></table>\n",
    "created_at": "2018-03-02T22:06:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375489",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:35"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d">70ff832</a></td><td><code>Everything should be rebuilt after GCC upgrade</code></td></tr></table>




---

archive/issue_comments_375490.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/everything_should_be_rebuilt_after_gcc_upgrade](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/everything_should_be_rebuilt_after_gcc_upgrade)** to **[u/jdemeyer/057b434babb6ec6eaa7bae4afad4255a7481b1af](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/057b434babb6ec6eaa7bae4afad4255a7481b1af)**",
    "created_at": "2018-03-02T22:06:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375490",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/everything_should_be_rebuilt_after_gcc_upgrade](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/everything_should_be_rebuilt_after_gcc_upgrade)** to **[u/jdemeyer/057b434babb6ec6eaa7bae4afad4255a7481b1af](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/057b434babb6ec6eaa7bae4afad4255a7481b1af)**



---

archive/issue_comments_375491.json:
```json
{
    "body": "Changed commit from **[`057b434`](https://github.com/sagemath/sagetrac-mirror/commit/057b434babb6ec6eaa7bae4afad4255a7481b1af)** to **[`70ff832`](https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d)**",
    "created_at": "2018-03-02T22:06:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375491",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[`057b434`](https://github.com/sagemath/sagetrac-mirror/commit/057b434babb6ec6eaa7bae4afad4255a7481b1af)** to **[`70ff832`](https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d)**



---

archive/issue_events_342042.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-02T22:07:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342042"
}
```



---

archive/issue_events_342043.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-02T22:07:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24703#event-342043"
}
```



---

archive/issue_comments_375492.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/057b434babb6ec6eaa7bae4afad4255a7481b1af](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/057b434babb6ec6eaa7bae4afad4255a7481b1af)** to **[`70ff832`](https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d)**",
    "created_at": "2018-03-02T22:07:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375492",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/057b434babb6ec6eaa7bae4afad4255a7481b1af](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/057b434babb6ec6eaa7bae4afad4255a7481b1af)** to **[`70ff832`](https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d)**



---

archive/issue_comments_375493.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nA question related to #24961: should we be checking that `x$SAGE_INSTALL_GCC = xexists` or that `x$SAGE_INSTALL_GCC = xyes`? On an OS X machine, I have Sage's gcc installed (from a few betas ago), but now Sage uses clang instead of gcc, so Sage's gcc will not be rebuilt as I upgraded Sage.",
    "created_at": "2018-03-12T23:42:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375493",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:37" align="right">comment:37</div>

A question related to #24961: should we be checking that `x$SAGE_INSTALL_GCC = xexists` or that `x$SAGE_INSTALL_GCC = xyes`? On an OS X machine, I have Sage's gcc installed (from a few betas ago), but now Sage uses clang instead of gcc, so Sage's gcc will not be rebuilt as I upgraded Sage.



---

archive/issue_comments_375494.json:
```json
{
    "body": "Changed commit from **[`70ff832`](https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d)** to none",
    "created_at": "2018-03-12T23:42:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375494",
    "user": "https://github.com/jhpalmieri"
}
```

Changed commit from **[`70ff832`](https://github.com/sagemath/sagetrac-mirror/commit/70ff832bc5ca84610c1b3b8fab34c4564ea6cc3d)** to none



---

archive/issue_comments_375495.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@jhpalmieri](#comment:37):\n> A question related to #24961: should we be checking that `x$SAGE_INSTALL_GCC = xexists` or that `x$SAGE_INSTALL_GCC = xyes`? On an OS X machine, I have Sage's gcc installed (from a few betas ago), but now Sage uses clang instead of gcc, so Sage's gcc will not be rebuilt as I upgraded Sage.\n\nReally, you need to check both, with the caveat that if you installed with clang and want to switch to gcc you will break your install. So, unfortunately, a not so stupid user could break things.",
    "created_at": "2018-03-13T00:02:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375495",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@jhpalmieri](#comment:37):
> A question related to #24961: should we be checking that `x$SAGE_INSTALL_GCC = xexists` or that `x$SAGE_INSTALL_GCC = xyes`? On an OS X machine, I have Sage's gcc installed (from a few betas ago), but now Sage uses clang instead of gcc, so Sage's gcc will not be rebuilt as I upgraded Sage.

Really, you need to check both, with the caveat that if you installed with clang and want to switch to gcc you will break your install. So, unfortunately, a not so stupid user could break things.



---

archive/issue_comments_375496.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nIn my case, I switched from gcc (the default) to clang (the new default), and upgrading to the most recent beta broke things, because this test ended up adding bad stuff to `build/make/Makefile`, as reported in sage-release and #21524, and now being fixed in #24961.",
    "created_at": "2018-03-13T02:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375496",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:39" align="right">comment:39</div>

In my case, I switched from gcc (the default) to clang (the new default), and upgrading to the most recent beta broke things, because this test ended up adding bad stuff to `build/make/Makefile`, as reported in sage-release and #21524, and now being fixed in #24961.



---

archive/issue_comments_375497.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@jhpalmieri](#comment:39):\n> In my case, I switched from gcc (the default) to clang (the new default)\n\nAre you sure? If the GCC spkg is installed, it should be used by Sage. If this is not the case, I consider that a bug.",
    "created_at": "2018-03-13T09:02:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375497",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@jhpalmieri](#comment:39):
> In my case, I switched from gcc (the default) to clang (the new default)

Are you sure? If the GCC spkg is installed, it should be used by Sage. If this is not the case, I consider that a bug.



---

archive/issue_comments_375498.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nReplying to [@kiwifb](#comment:38):\n> Replying to [@jhpalmieri](#comment:37):\n> > A question related to #24961: should we be checking that `x$SAGE_INSTALL_GCC = xexists` or that `x$SAGE_INSTALL_GCC = xyes`? On an OS X machine, I have Sage's gcc installed (from a few betas ago), but now Sage uses clang instead of gcc, so Sage's gcc will not be rebuilt as I upgraded Sage.\n\n> \n> Really, you need to check both\n\nI don't see why, but maybe I'm missing something?",
    "created_at": "2018-03-13T09:04:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375498",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:41" align="right">comment:41</div>

Replying to [@kiwifb](#comment:38):
> Replying to [@jhpalmieri](#comment:37):
> > A question related to #24961: should we be checking that `x$SAGE_INSTALL_GCC = xexists` or that `x$SAGE_INSTALL_GCC = xyes`? On an OS X machine, I have Sage's gcc installed (from a few betas ago), but now Sage uses clang instead of gcc, so Sage's gcc will not be rebuilt as I upgraded Sage.

> 
> Really, you need to check both

I don't see why, but maybe I'm missing something?



---

archive/issue_comments_375499.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [@jdemeyer](#comment:40):\n> Replying to [@jhpalmieri](#comment:39):\n> > In my case, I switched from gcc (the default) to clang (the new default)\n\n> \n> Are you sure? If the GCC spkg is installed, it should be used by Sage. If this is not the case, I consider that a bug.\n\nI guess you're right, gcc is used, but `configure` tells me that `gcc` will not be installed.",
    "created_at": "2018-03-13T14:45:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375499",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [@jdemeyer](#comment:40):
> Replying to [@jhpalmieri](#comment:39):
> > In my case, I switched from gcc (the default) to clang (the new default)

> 
> Are you sure? If the GCC spkg is installed, it should be used by Sage. If this is not the case, I consider that a bug.

I guess you're right, gcc is used, but `configure` tells me that `gcc` will not be installed.



---

archive/issue_comments_375500.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@jhpalmieri](#comment:42):\n> `configure` tells me that `gcc` will not be installed.\n\nIt won't be installed if it's already installed. Consider that a feature.",
    "created_at": "2018-03-13T14:51:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375500",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@jhpalmieri](#comment:42):
> `configure` tells me that `gcc` will not be installed.

It won't be installed if it's already installed. Consider that a feature.



---

archive/issue_comments_375501.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nI also consider it a feature if it's not installed because clang is going to be used instead. `configure` does not give a reason for it not being installed, leaving me to guess as to what's going on.",
    "created_at": "2018-03-13T15:02:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375501",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:44" align="right">comment:44</div>

I also consider it a feature if it's not installed because clang is going to be used instead. `configure` does not give a reason for it not being installed, leaving me to guess as to what's going on.



---

archive/issue_comments_375502.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@jhpalmieri](#comment:44):\n> I also consider it a feature if it's not installed because clang is going to be used instead.\n\nOf course. But that should work now, right?",
    "created_at": "2018-03-13T15:05:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24703#issuecomment-375502",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@jhpalmieri](#comment:44):
> I also consider it a feature if it's not installed because clang is going to be used instead.

Of course. But that should work now, right?
