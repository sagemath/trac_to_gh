# Issue 24622: Pseudo-Riemannian manifods

archive/issues_024385.json:
```json
{
    "assignees": [],
    "body": "This ticket implements pseudo-Riemannian manifolds, i.e. real differentiable manifolds equipped with a metric tensor. Important subcases are of course Riemannian manifolds and Lorentzian manifolds. Taking into account that pseudo-Riemannian metric tensors are already implemented in Sage (see [here](http://doc.sagemath.org/html/en/reference/manifolds/sage/manifolds/differentiable/metric.html)), this ticket introduces\n\n- the parent class `PseudoRiemannianManifold`, as a subclass of the existing class `DifferentiableManifold`, with the specific methods `metric` and `volume_form`\n- new methods `gradient`, `laplacian` and `dalembertian` for scalar fields\n- new methods `divergence`, `laplacian` and `dalembertian` for tensor fields \n- new methods `curl`, `dot_product`, `cross_product` and `norm` for vector fields\n\nFor a greater generality, all these methods have an optional argument `metric`; if it is omitted, the metric of the underlying pseudo-Riemannian manifold is assumed. \n\nTo match with the standard functional notation, functions `grad`, `div`, `curl`, `laplacian` and `dalembertian` have been implemented in `src/sage/manifolds/differentiable/operators.py`. Their role is simply to call the corresponding methods on their arguments. In order not to clutter the global namespace in a standard Sage session, these functions are imported only if some pseudo-Riemannian manifold is constructed, via the call to  `sage.repl.user_globals.set_global` in `PseudoRiemannianManifold.__init__`. \n\nSome vector calculus functionalities introduced by this ticket are\ndemonstrated in this [Jupyter worksheet](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calculus.ipynb).\n\nThe follow-up ticket #24623 implements Euclidean spaces.\n\nThis work is part of the [SageManifolds project](http://sagemanifolds.obspm.fr/), see #18528 for an overview.\n\nCC:  @tscrim\n\nKeywords: **pseudo-Riemannian, Riemannian, manifold, gradient, divergence, Laplacian**\n\nBranch/Commit: **[185e438](https://github.com/sagemath/sagetrac-mirror/commit/185e438b808c204dbf7b1f7b838fb43e40c100d2)**\n\nReviewer: **Travis Scrimshaw, John Palmieri**\n\nAuthor: **Eric Gourgoulhon**\n\nComponent: **geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24622_\n\n",
    "closed_at": "2018-03-19T07:57:58Z",
    "created_at": "2018-01-31T09:56:13Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Pseudo-Riemannian manifods",
    "type": "issue",
    "updated_at": "2018-03-19T07:57:58Z",
    "url": "https://github.com/sagemath/sage/issues/24622",
    "user": "https://github.com/egourgoulhon"
}
```
This ticket implements pseudo-Riemannian manifolds, i.e. real differentiable manifolds equipped with a metric tensor. Important subcases are of course Riemannian manifolds and Lorentzian manifolds. Taking into account that pseudo-Riemannian metric tensors are already implemented in Sage (see [here](http://doc.sagemath.org/html/en/reference/manifolds/sage/manifolds/differentiable/metric.html)), this ticket introduces

- the parent class `PseudoRiemannianManifold`, as a subclass of the existing class `DifferentiableManifold`, with the specific methods `metric` and `volume_form`
- new methods `gradient`, `laplacian` and `dalembertian` for scalar fields
- new methods `divergence`, `laplacian` and `dalembertian` for tensor fields 
- new methods `curl`, `dot_product`, `cross_product` and `norm` for vector fields

For a greater generality, all these methods have an optional argument `metric`; if it is omitted, the metric of the underlying pseudo-Riemannian manifold is assumed. 

To match with the standard functional notation, functions `grad`, `div`, `curl`, `laplacian` and `dalembertian` have been implemented in `src/sage/manifolds/differentiable/operators.py`. Their role is simply to call the corresponding methods on their arguments. In order not to clutter the global namespace in a standard Sage session, these functions are imported only if some pseudo-Riemannian manifold is constructed, via the call to  `sage.repl.user_globals.set_global` in `PseudoRiemannianManifold.__init__`. 

Some vector calculus functionalities introduced by this ticket are
demonstrated in this [Jupyter worksheet](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calculus.ipynb).

The follow-up ticket #24623 implements Euclidean spaces.

This work is part of the [SageManifolds project](http://sagemanifolds.obspm.fr/), see #18528 for an overview.

CC:  @tscrim

Keywords: **pseudo-Riemannian, Riemannian, manifold, gradient, divergence, Laplacian**

Branch/Commit: **[185e438](https://github.com/sagemath/sagetrac-mirror/commit/185e438b808c204dbf7b1f7b838fb43e40c100d2)**

Reviewer: **Travis Scrimshaw, John Palmieri**

Author: **Eric Gourgoulhon**

Component: **geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/24622_





---

archive/issue_events_340918.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-01-31T09:56:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24622#event-340918"
}
```



---

archive/issue_events_340919.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-01-31T09:56:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24622#event-340919"
}
```



---

archive/issue_events_340920.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-01-31T09:56:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24622#event-340920"
}
```



---

archive/issue_events_340921.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-01-31T09:56:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24622#event-340921"
}
```



---

archive/issue_comments_373325.json:
```json
{
    "body": "Commit: **[06f8fd3](https://github.com/sagemath/sagetrac-mirror/commit/06f8fd34981fb8b201134439a55ecf79f962a5c9)**",
    "created_at": "2018-01-31T09:58:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373325",
    "user": "https://github.com/egourgoulhon"
}
```

Commit: **[06f8fd3](https://github.com/sagemath/sagetrac-mirror/commit/06f8fd34981fb8b201134439a55ecf79f962a5c9)**



---

archive/issue_comments_373326.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nThis is work in progress...\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e1148ce22586b32e334b6a0c4efe04827b6dfc8\">8e1148c</a></td><td><code>First version of pseudo-Riemannian manifold class</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e56cf301f83e98b79f803db842d14762acdb0f3\">8e56cf3</a></td><td><code>Pseudo-Riemannian manifolds constructed by the generic function Manifold</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce3a617e859ab8dc0e981815fc64e9af08ce83de\">ce3a617</a></td><td><code>Divergence of a tensor field + new section on pseudo-Riemannian manifolds in the reference manual</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06f8fd34981fb8b201134439a55ecf79f962a5c9\">06f8fd3</a></td><td><code>Add doctests for pseudo-Riemannian manifolds</code></td></tr></table>\n",
    "created_at": "2018-01-31T09:58:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373326",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:1" align="right">comment:1</div>

This is work in progress...

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e1148ce22586b32e334b6a0c4efe04827b6dfc8">8e1148c</a></td><td><code>First version of pseudo-Riemannian manifold class</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e56cf301f83e98b79f803db842d14762acdb0f3">8e56cf3</a></td><td><code>Pseudo-Riemannian manifolds constructed by the generic function Manifold</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce3a617e859ab8dc0e981815fc64e9af08ce83de">ce3a617</a></td><td><code>Divergence of a tensor field + new section on pseudo-Riemannian manifolds in the reference manual</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06f8fd34981fb8b201134439a55ecf79f962a5c9">06f8fd3</a></td><td><code>Add doctests for pseudo-Riemannian manifolds</code></td></tr></table>




---

archive/issue_comments_373327.json:
```json
{
    "body": "Branch: **[public/manifolds/pseudoRiemannian](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/pseudoRiemannian)**",
    "created_at": "2018-01-31T09:58:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373327",
    "user": "https://github.com/egourgoulhon"
}
```

Branch: **[public/manifolds/pseudoRiemannian](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/pseudoRiemannian)**



---

archive/issue_comments_373328.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,3 +6,5 @@\n - new methods `curl`, `dot_product`, `cross_product` and `norm` for vector fields\n \n For a greater generality, all these methods have an optional argument `metric`; if it is omitted, the metric of the underlying pseudo-Riemannian manifold is assumed. \n+\n+This work is part of the [SageManifolds project](http://sagemanifolds.obspm.fr/), see #18528 for an overview.\n``````\n",
    "created_at": "2018-01-31T10:17:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373328",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,3 +6,5 @@
 - new methods `curl`, `dot_product`, `cross_product` and `norm` for vector fields
 
 For a greater generality, all these methods have an optional argument `metric`; if it is omitted, the metric of the underlying pseudo-Riemannian manifold is assumed. 
+
+This work is part of the [SageManifolds project](http://sagemanifolds.obspm.fr/), see #18528 for an overview.
``````




---

archive/issue_comments_373329.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,6 +5,6 @@\n - new methods `divergence`, `laplacian` for tensor fields \n - new methods `curl`, `dot_product`, `cross_product` and `norm` for vector fields\n \n-For a greater generality, all these methods have an optional argument `metric`; if it is omitted, the metric of the underlying pseudo-Riemannian manifold is assumed. \n+For a greater generality, all these methods have an optional argument `metric`; if it is omitted, the metric of the underlying pseudo-Riemannian manifold is assumed. The follow-up ticket #24623 implements Euclidean spaces.\n \n This work is part of the [SageManifolds project](http://sagemanifolds.obspm.fr/), see #18528 for an overview.\n``````\n",
    "created_at": "2018-01-31T10:19:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373329",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,6 +5,6 @@
 - new methods `divergence`, `laplacian` for tensor fields 
 - new methods `curl`, `dot_product`, `cross_product` and `norm` for vector fields
 
-For a greater generality, all these methods have an optional argument `metric`; if it is omitted, the metric of the underlying pseudo-Riemannian manifold is assumed. 
+For a greater generality, all these methods have an optional argument `metric`; if it is omitted, the metric of the underlying pseudo-Riemannian manifold is assumed. The follow-up ticket #24623 implements Euclidean spaces.
 
 This work is part of the [SageManifolds project](http://sagemanifolds.obspm.fr/), see #18528 for an overview.
``````




---

archive/issue_comments_373330.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55f356c2ee79026349a821dccd409d0d5a76718c\">55f356c</a></td><td><code>Improve documentation of pseudo-Riemannian manifolds</code></td></tr></table>\n",
    "created_at": "2018-01-31T16:56:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373330",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55f356c2ee79026349a821dccd409d0d5a76718c">55f356c</a></td><td><code>Improve documentation of pseudo-Riemannian manifolds</code></td></tr></table>




---

archive/issue_comments_373331.json:
```json
{
    "body": "Changed commit from **[06f8fd3](https://github.com/sagemath/sagetrac-mirror/commit/06f8fd34981fb8b201134439a55ecf79f962a5c9)** to **[55f356c](https://github.com/sagemath/sagetrac-mirror/commit/55f356c2ee79026349a821dccd409d0d5a76718c)**",
    "created_at": "2018-01-31T16:56:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373331",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[06f8fd3](https://github.com/sagemath/sagetrac-mirror/commit/06f8fd34981fb8b201134439a55ecf79f962a5c9)** to **[55f356c](https://github.com/sagemath/sagetrac-mirror/commit/55f356c2ee79026349a821dccd409d0d5a76718c)**



---

archive/issue_comments_373332.json:
```json
{
    "body": "Changed commit from **[55f356c](https://github.com/sagemath/sagetrac-mirror/commit/55f356c2ee79026349a821dccd409d0d5a76718c)** to **[0fc661a](https://github.com/sagemath/sagetrac-mirror/commit/0fc661a5beaf076fdf67e0d4f45b546ed8e23e8e)**",
    "created_at": "2018-01-31T22:42:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373332",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[55f356c](https://github.com/sagemath/sagetrac-mirror/commit/55f356c2ee79026349a821dccd409d0d5a76718c)** to **[0fc661a](https://github.com/sagemath/sagetrac-mirror/commit/0fc661a5beaf076fdf67e0d4f45b546ed8e23e8e)**



---

archive/issue_comments_373333.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fc661a5beaf076fdf67e0d4f45b546ed8e23e8e\">0fc661a</a></td><td><code>Remove method set_metric and improve doc of pseudo-Riemannian manifolds</code></td></tr></table>\n",
    "created_at": "2018-01-31T22:42:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373333",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fc661a5beaf076fdf67e0d4f45b546ed8e23e8e">0fc661a</a></td><td><code>Remove method set_metric and improve doc of pseudo-Riemannian manifolds</code></td></tr></table>




---

archive/issue_comments_373334.json:
```json
{
    "body": "Changed commit from **[0fc661a](https://github.com/sagemath/sagetrac-mirror/commit/0fc661a5beaf076fdf67e0d4f45b546ed8e23e8e)** to **[b4dddf7](https://github.com/sagemath/sagetrac-mirror/commit/b4dddf74279a21aa9cc645f959c8cd6b513a8d48)**",
    "created_at": "2018-02-02T17:37:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373334",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0fc661a](https://github.com/sagemath/sagetrac-mirror/commit/0fc661a5beaf076fdf67e0d4f45b546ed8e23e8e)** to **[b4dddf7](https://github.com/sagemath/sagetrac-mirror/commit/b4dddf74279a21aa9cc645f959c8cd6b513a8d48)**



---

archive/issue_comments_373335.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4dddf74279a21aa9cc645f959c8cd6b513a8d48\">b4dddf7</a></td><td><code>Add operators Laplacian, d'Alembertian and curl on pseudo-Riemannian manifolds</code></td></tr></table>\n",
    "created_at": "2018-02-02T17:37:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373335",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4dddf74279a21aa9cc645f959c8cd6b513a8d48">b4dddf7</a></td><td><code>Add operators Laplacian, d'Alembertian and curl on pseudo-Riemannian manifolds</code></td></tr></table>




---

archive/issue_comments_373336.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/040b01c35f3082b4788bdeefea9d28aa1f96d3bc\">040b01c</a></td><td><code>Add dot product and cross product of vector fields</code></td></tr></table>\n",
    "created_at": "2018-02-06T15:59:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373336",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/040b01c35f3082b4788bdeefea9d28aa1f96d3bc">040b01c</a></td><td><code>Add dot product and cross product of vector fields</code></td></tr></table>




---

archive/issue_comments_373337.json:
```json
{
    "body": "Changed commit from **[b4dddf7](https://github.com/sagemath/sagetrac-mirror/commit/b4dddf74279a21aa9cc645f959c8cd6b513a8d48)** to **[040b01c](https://github.com/sagemath/sagetrac-mirror/commit/040b01c35f3082b4788bdeefea9d28aa1f96d3bc)**",
    "created_at": "2018-02-06T15:59:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373337",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b4dddf7](https://github.com/sagemath/sagetrac-mirror/commit/b4dddf74279a21aa9cc645f959c8cd6b513a8d48)** to **[040b01c](https://github.com/sagemath/sagetrac-mirror/commit/040b01c35f3082b4788bdeefea9d28aa1f96d3bc)**



---

archive/issue_comments_373338.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46b8f66385cd1c34e5310d627a0e44983f87cc4a\">46b8f66</a></td><td><code>Add norm of vector fields.</code></td></tr></table>\n",
    "created_at": "2018-02-07T18:00:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373338",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46b8f66385cd1c34e5310d627a0e44983f87cc4a">46b8f66</a></td><td><code>Add norm of vector fields.</code></td></tr></table>




---

archive/issue_comments_373339.json:
```json
{
    "body": "Changed commit from **[040b01c](https://github.com/sagemath/sagetrac-mirror/commit/040b01c35f3082b4788bdeefea9d28aa1f96d3bc)** to **[46b8f66](https://github.com/sagemath/sagetrac-mirror/commit/46b8f66385cd1c34e5310d627a0e44983f87cc4a)**",
    "created_at": "2018-02-07T18:00:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373339",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[040b01c](https://github.com/sagemath/sagetrac-mirror/commit/040b01c35f3082b4788bdeefea9d28aa1f96d3bc)** to **[46b8f66](https://github.com/sagemath/sagetrac-mirror/commit/46b8f66385cd1c34e5310d627a0e44983f87cc4a)**



---

archive/issue_comments_373340.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,9 +1,9 @@\n-This ticket implements pseudo-Riemannian manifolds, i.e. real differentiable manifolds equipped with a metric tensor. Important subcases are of course Riemannian manifolds and Lorentzian manifolds. Taking into account that generic metric tensors are already implemented in Sage (see [here](http://doc.sagemath.org/html/en/reference/manifolds/sage/manifolds/differentiable/metric.html)), this ticket introduces\n+This ticket implements pseudo-Riemannian manifolds, i.e. real differentiable manifolds equipped with a metric tensor. Important subcases are of course Riemannian manifolds and Lorentzian manifolds. Taking into account that pseudo-Riemannian metric tensors are already implemented in Sage (see [here](http://doc.sagemath.org/html/en/reference/manifolds/sage/manifolds/differentiable/metric.html)), this ticket introduces\n \n-- the parent class `PseudoRiemannianManifold`, as a subclass of the existing class `DifferentiableManifold`\n-- new methods `gradient` and `laplacian` for scalar fields\n-- new methods `divergence`, `laplacian` for tensor fields \n-- new methods `curl`, `dot_product`, `cross_product` and `norm` for vector fields\n+- the parent class `PseudoRiemannianManifold`, as a subclass of the existing class `DifferentiableManifold`, with the specific methods `metric` and `volume_form`\n+- new methods `gradient`, `laplacian` and `dalembertian` for scalar fields\n+- new methods `divergence`, `laplacian` and `dalembertian` for tensor fields \n+- new methods `curl`, `dot`, `cross` and `norm` for vector fields\n \n For a greater generality, all these methods have an optional argument `metric`; if it is omitted, the metric of the underlying pseudo-Riemannian manifold is assumed. The follow-up ticket #24623 implements Euclidean spaces.\n \n``````\n",
    "created_at": "2018-02-07T19:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373340",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,9 +1,9 @@
-This ticket implements pseudo-Riemannian manifolds, i.e. real differentiable manifolds equipped with a metric tensor. Important subcases are of course Riemannian manifolds and Lorentzian manifolds. Taking into account that generic metric tensors are already implemented in Sage (see [here](http://doc.sagemath.org/html/en/reference/manifolds/sage/manifolds/differentiable/metric.html)), this ticket introduces
+This ticket implements pseudo-Riemannian manifolds, i.e. real differentiable manifolds equipped with a metric tensor. Important subcases are of course Riemannian manifolds and Lorentzian manifolds. Taking into account that pseudo-Riemannian metric tensors are already implemented in Sage (see [here](http://doc.sagemath.org/html/en/reference/manifolds/sage/manifolds/differentiable/metric.html)), this ticket introduces
 
-- the parent class `PseudoRiemannianManifold`, as a subclass of the existing class `DifferentiableManifold`
-- new methods `gradient` and `laplacian` for scalar fields
-- new methods `divergence`, `laplacian` for tensor fields 
-- new methods `curl`, `dot_product`, `cross_product` and `norm` for vector fields
+- the parent class `PseudoRiemannianManifold`, as a subclass of the existing class `DifferentiableManifold`, with the specific methods `metric` and `volume_form`
+- new methods `gradient`, `laplacian` and `dalembertian` for scalar fields
+- new methods `divergence`, `laplacian` and `dalembertian` for tensor fields 
+- new methods `curl`, `dot`, `cross` and `norm` for vector fields
 
 For a greater generality, all these methods have an optional argument `metric`; if it is omitted, the metric of the underlying pseudo-Riemannian manifold is assumed. The follow-up ticket #24623 implements Euclidean spaces.
 
``````




---

archive/issue_comments_373341.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/135af976131baf0d1551806a7be1be25ef0e06c0\">135af97</a></td><td><code>Add method volume_form() to class PseudoRiemannianManifold</code></td></tr></table>\n",
    "created_at": "2018-02-08T21:58:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373341",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/135af976131baf0d1551806a7be1be25ef0e06c0">135af97</a></td><td><code>Add method volume_form() to class PseudoRiemannianManifold</code></td></tr></table>




---

archive/issue_comments_373342.json:
```json
{
    "body": "Changed commit from **[46b8f66](https://github.com/sagemath/sagetrac-mirror/commit/46b8f66385cd1c34e5310d627a0e44983f87cc4a)** to **[135af97](https://github.com/sagemath/sagetrac-mirror/commit/135af976131baf0d1551806a7be1be25ef0e06c0)**",
    "created_at": "2018-02-08T21:58:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373342",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[46b8f66](https://github.com/sagemath/sagetrac-mirror/commit/46b8f66385cd1c34e5310d627a0e44983f87cc4a)** to **[135af97](https://github.com/sagemath/sagetrac-mirror/commit/135af976131baf0d1551806a7be1be25ef0e06c0)**



---

archive/issue_comments_373343.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38e8fd3d9ab08783ec58dc973b3fb5575a3b79a2\">38e8fd3</a></td><td><code>Add global functions grad, div, curl, etc. for vector/tensor operators on pseudo-Riemannian manifolds</code></td></tr></table>\n",
    "created_at": "2018-02-09T17:48:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373343",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38e8fd3d9ab08783ec58dc973b3fb5575a3b79a2">38e8fd3</a></td><td><code>Add global functions grad, div, curl, etc. for vector/tensor operators on pseudo-Riemannian manifolds</code></td></tr></table>




---

archive/issue_comments_373344.json:
```json
{
    "body": "Changed commit from **[135af97](https://github.com/sagemath/sagetrac-mirror/commit/135af976131baf0d1551806a7be1be25ef0e06c0)** to **[38e8fd3](https://github.com/sagemath/sagetrac-mirror/commit/38e8fd3d9ab08783ec58dc973b3fb5575a3b79a2)**",
    "created_at": "2018-02-09T17:48:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373344",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[135af97](https://github.com/sagemath/sagetrac-mirror/commit/135af976131baf0d1551806a7be1be25ef0e06c0)** to **[38e8fd3](https://github.com/sagemath/sagetrac-mirror/commit/38e8fd3d9ab08783ec58dc973b3fb5575a3b79a2)**



---

archive/issue_comments_373345.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8309fdd68066fd62b180f95be415f02ff2f7895e\">8309fdd</a></td><td><code>Improve documentation for operators on pseudo-Riemannian manifolds</code></td></tr></table>\n",
    "created_at": "2018-02-11T16:47:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373345",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8309fdd68066fd62b180f95be415f02ff2f7895e">8309fdd</a></td><td><code>Improve documentation for operators on pseudo-Riemannian manifolds</code></td></tr></table>




---

archive/issue_comments_373346.json:
```json
{
    "body": "Changed commit from **[38e8fd3](https://github.com/sagemath/sagetrac-mirror/commit/38e8fd3d9ab08783ec58dc973b3fb5575a3b79a2)** to **[8309fdd](https://github.com/sagemath/sagetrac-mirror/commit/8309fdd68066fd62b180f95be415f02ff2f7895e)**",
    "created_at": "2018-02-11T16:47:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373346",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[38e8fd3](https://github.com/sagemath/sagetrac-mirror/commit/38e8fd3d9ab08783ec58dc973b3fb5575a3b79a2)** to **[8309fdd](https://github.com/sagemath/sagetrac-mirror/commit/8309fdd68066fd62b180f95be415f02ff2f7895e)**



---

archive/issue_comments_373347.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,8 +3,15 @@\n - the parent class `PseudoRiemannianManifold`, as a subclass of the existing class `DifferentiableManifold`, with the specific methods `metric` and `volume_form`\n - new methods `gradient`, `laplacian` and `dalembertian` for scalar fields\n - new methods `divergence`, `laplacian` and `dalembertian` for tensor fields \n-- new methods `curl`, `dot`, `cross` and `norm` for vector fields\n+- new methods `curl`, `dot_product`, `cross_product` and `norm` for vector fields\n \n-For a greater generality, all these methods have an optional argument `metric`; if it is omitted, the metric of the underlying pseudo-Riemannian manifold is assumed. The follow-up ticket #24623 implements Euclidean spaces.\n+For a greater generality, all these methods have an optional argument `metric`; if it is omitted, the metric of the underlying pseudo-Riemannian manifold is assumed. \n+\n+To match with the standard functional notation, functions `grad`, `div`, `curl`, `laplacian` and `dalembertian` have been implemented in `src/sage/manifolds/differentiable/operators.py`. Their role is simply to call the corresponding methods on their arguments. In order not to clutter the global namespace in a standard Sage session, these functions are imported only if some pseudo-Riemannian manifold is constructed, via the call to  `sage.repl.user_globals.set_global` in `PseudoRiemannianManifold.__init__`. \n+\n+Some vector calculus functionalities introduced by this ticket are\n+demonstrated in this [Jupyter worksheet](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calculus.ipynb).\n+\n+The follow-up ticket #24623 implements Euclidean spaces.\n \n This work is part of the [SageManifolds project](http://sagemanifolds.obspm.fr/), see #18528 for an overview.\n``````\n",
    "created_at": "2018-02-11T17:04:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373347",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,8 +3,15 @@
 - the parent class `PseudoRiemannianManifold`, as a subclass of the existing class `DifferentiableManifold`, with the specific methods `metric` and `volume_form`
 - new methods `gradient`, `laplacian` and `dalembertian` for scalar fields
 - new methods `divergence`, `laplacian` and `dalembertian` for tensor fields 
-- new methods `curl`, `dot`, `cross` and `norm` for vector fields
+- new methods `curl`, `dot_product`, `cross_product` and `norm` for vector fields
 
-For a greater generality, all these methods have an optional argument `metric`; if it is omitted, the metric of the underlying pseudo-Riemannian manifold is assumed. The follow-up ticket #24623 implements Euclidean spaces.
+For a greater generality, all these methods have an optional argument `metric`; if it is omitted, the metric of the underlying pseudo-Riemannian manifold is assumed. 
+
+To match with the standard functional notation, functions `grad`, `div`, `curl`, `laplacian` and `dalembertian` have been implemented in `src/sage/manifolds/differentiable/operators.py`. Their role is simply to call the corresponding methods on their arguments. In order not to clutter the global namespace in a standard Sage session, these functions are imported only if some pseudo-Riemannian manifold is constructed, via the call to  `sage.repl.user_globals.set_global` in `PseudoRiemannianManifold.__init__`. 
+
+Some vector calculus functionalities introduced by this ticket are
+demonstrated in this [Jupyter worksheet](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calculus.ipynb).
+
+The follow-up ticket #24623 implements Euclidean spaces.
 
 This work is part of the [SageManifolds project](http://sagemanifolds.obspm.fr/), see #18528 for an overview.
``````




---

archive/issue_events_340922.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-02-11T17:06:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24622#event-340922"
}
```



---

archive/issue_comments_373348.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThe biggest issue I have with this ticket is the addition of functions to the global namespace. `curl`, `laplacian`, and `dalembertian` I think are okay. `grad` over `gradient` I am not sure about. `div` looks too much like it is coming from \"divide\" or \"division\". I think you should ask on sage-devel to see if anyone has any objections with adding these to the global namespace and about them being a simple re-direct. (Ralf may want to have them interact with the symbolics in some way.)\n\nIn the same vein, this is bad to me:\n\n```python\n        # Import differential operators in the user global namespace:\n        if 'grad' not in get_globals():\n            from sage.manifolds.differentiable.operators import (grad, div,\n                                                 curl, laplacian, dalembertian)\n            set_global('grad', grad)\n            set_global('div', div)\n            set_global('curl', curl)\n            set_global('rot', curl)\n            set_global('laplacian', laplacian)\n            set_global('dalembertian', dalembertian)\n```\nI think a much better way is just to either have them all in the global namespace at start or having some function `inject_functions()`, but with some better name than I can come up with in 5 seconds.\n\n---\n\nOther small comments:\n\nThis is under-indetented:\n\n```diff\ndiff --git a/src/sage/manifolds/differentiable/tensorfield.py b/src/sage/manifolds/differentiable/tensorfield.py\nindex 63ace1d..d8d173c 100644\n--- a/src/sage/manifolds/differentiable/tensorfield.py\n+++ b/src/sage/manifolds/differentiable/tensorfield.py\n@@ -3087,9 +3087,9 @@ class TensorField(ModuleElement):\n \n         .. MATH::\n \n-            (T^\\sharp)^{a_1\\ldots a_{k+1}}_{\\qquad\\ \\ b_1 \\ldots b_{l-1}}\n-            = g^{a_{k+1} i} \\,\n-            T^{a_1\\ldots a_k}_{\\qquad\\   b_1 \\ldots b_{p-k} \\, i \\, b_{p-k+1}\\ldots b_{l-1}},\n+          (T^\\sharp)^{a_1\\ldots a_{k+1}}_{\\phantom{a_1\\ldots a_{k+1}}\\, b_1 \\ldots b_{l-1}}\n+          = g^{a_{k+1} i} \\,\n+          T^{a_1\\ldots a_k}_{\\phantom{a_1\\ldots a_k}\\, b_1 \\ldots b_{p-k} \\, i \\, b_{p-k+1}\\ldots b_{l-1}},\n \n         `g^{ab}` being the components of the inverse metric.\n \n@@ -3235,9 +3235,9 @@ class TensorField(ModuleElement):\n \n         .. MATH::\n \n-            (T^\\flat)^{a_1\\ldots a_{k-1}}_{\\qquad\\ \\  b_1 \\ldots b_{l+1}}\n-            = g_{b_1 i} \\,\n-            T^{a_1\\ldots a_{p} \\, i \\, a_{p+1}\\ldots a_{k-1}}_{\\qquad\\qquad\\quad\\; b_2 \\ldots b_{l+1}},\n+          (T^\\flat)^{a_1\\ldots a_{k-1}}_{\\phantom{a_1\\ldots a_{k-1}}\\, b_1 \\ldots b_{l+1}}\n+          = g_{b_1 i} \\,\n+          T^{a_1\\ldots a_{p} \\, i \\, a_{p+1}\\ldots a_{k-1}}_{\\phantom{a_1\\ldots a_{p} \\, i \\, a_{p+1}\\ldots a_{k-1}}\\, b_2 \\ldots b_{l+1}},\n \n         `g_{ab}` being the components of the metric tensor.\n \n```\n(It's okay that not everything in a `.. MATH::` block, but I do prefer the >= 4 spaces indentation visually.)\n\nEverything else LGTM.",
    "created_at": "2018-02-28T10:05:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373348",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:15" align="right">comment:15</div>

The biggest issue I have with this ticket is the addition of functions to the global namespace. `curl`, `laplacian`, and `dalembertian` I think are okay. `grad` over `gradient` I am not sure about. `div` looks too much like it is coming from "divide" or "division". I think you should ask on sage-devel to see if anyone has any objections with adding these to the global namespace and about them being a simple re-direct. (Ralf may want to have them interact with the symbolics in some way.)

In the same vein, this is bad to me:

```python
        # Import differential operators in the user global namespace:
        if 'grad' not in get_globals():
            from sage.manifolds.differentiable.operators import (grad, div,
                                                 curl, laplacian, dalembertian)
            set_global('grad', grad)
            set_global('div', div)
            set_global('curl', curl)
            set_global('rot', curl)
            set_global('laplacian', laplacian)
            set_global('dalembertian', dalembertian)
```
I think a much better way is just to either have them all in the global namespace at start or having some function `inject_functions()`, but with some better name than I can come up with in 5 seconds.

---

Other small comments:

This is under-indetented:

```diff
diff --git a/src/sage/manifolds/differentiable/tensorfield.py b/src/sage/manifolds/differentiable/tensorfield.py
index 63ace1d..d8d173c 100644
--- a/src/sage/manifolds/differentiable/tensorfield.py
+++ b/src/sage/manifolds/differentiable/tensorfield.py
@@ -3087,9 +3087,9 @@ class TensorField(ModuleElement):
 
         .. MATH::
 
-            (T^\sharp)^{a_1\ldots a_{k+1}}_{\qquad\ \ b_1 \ldots b_{l-1}}
-            = g^{a_{k+1} i} \,
-            T^{a_1\ldots a_k}_{\qquad\   b_1 \ldots b_{p-k} \, i \, b_{p-k+1}\ldots b_{l-1}},
+          (T^\sharp)^{a_1\ldots a_{k+1}}_{\phantom{a_1\ldots a_{k+1}}\, b_1 \ldots b_{l-1}}
+          = g^{a_{k+1} i} \,
+          T^{a_1\ldots a_k}_{\phantom{a_1\ldots a_k}\, b_1 \ldots b_{p-k} \, i \, b_{p-k+1}\ldots b_{l-1}},
 
         `g^{ab}` being the components of the inverse metric.
 
@@ -3235,9 +3235,9 @@ class TensorField(ModuleElement):
 
         .. MATH::
 
-            (T^\flat)^{a_1\ldots a_{k-1}}_{\qquad\ \  b_1 \ldots b_{l+1}}
-            = g_{b_1 i} \,
-            T^{a_1\ldots a_{p} \, i \, a_{p+1}\ldots a_{k-1}}_{\qquad\qquad\quad\; b_2 \ldots b_{l+1}},
+          (T^\flat)^{a_1\ldots a_{k-1}}_{\phantom{a_1\ldots a_{k-1}}\, b_1 \ldots b_{l+1}}
+          = g_{b_1 i} \,
+          T^{a_1\ldots a_{p} \, i \, a_{p+1}\ldots a_{k-1}}_{\phantom{a_1\ldots a_{p} \, i \, a_{p+1}\ldots a_{k-1}}\, b_2 \ldots b_{l+1}},
 
         `g_{ab}` being the components of the metric tensor.
 
```
(It's okay that not everything in a `.. MATH::` block, but I do prefer the >= 4 spaces indentation visually.)

Everything else LGTM.



---

archive/issue_comments_373349.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@tscrim](#comment:15):\n\nThanks for looking to this ticket and for your comments.\n> The biggest issue I have with this ticket is the addition of functions to the global namespace. `curl`, `laplacian`, and `dalembertian` I think are okay. `grad` over `gradient` I am not sure about. `div` looks too much like it is coming from \"divide\" or \"division\". \n\nI agree that `div` may evoke \"division\", however `grad` and `div` are pretty much standard notations in both elementary vector calculus and differential geometry, see e.g. \n- https://en.wikipedia.org/wiki/Vector_calculus#Differential_operators\n- https://en.wikipedia.org/wiki/Vector_calculus_identities#Operator_notations\n- https://en.wikipedia.org/wiki/Divergence\n\nAs a side note, neither `grad` nor `div` is already used as a global function in Sage, so the slot is free.\n\n>I think you should ask on sage-devel to see if anyone has any objections with adding these to the global namespace and about them being a simple re-direct. \n\nOK I will.\n> \n> In the same vein, this is bad to me:\n> \n> ```python\n>         # Import differential operators in the user global namespace:\n>         if 'grad' not in get_globals():\n>             from sage.manifolds.differentiable.operators import (grad, div,\n>                                                  curl, laplacian, dalembertian)\n>             set_global('grad', grad)\n>             set_global('div', div)\n>             set_global('curl', curl)\n>             set_global('rot', curl)\n>             set_global('laplacian', laplacian)\n>             set_global('dalembertian', dalembertian)\n> ```\n> I think a much better way is just to either have them all in the global namespace at start or having some function `inject_functions()`, but with some better name than I can come up with in 5 seconds.\n\nWhy is it bad? Is it because it prevents the user from discovering the grad function with the TAB key and/or `grad?` before having set up any pseudo-Riemannian manifold? This would indeed be a good reason to have the operators in the global namespace at start.\n> \n> This is under-indetented:\n> (It's okay that not everything in a `.. MATH::` block, but I do prefer the >= 4 spaces indentation visually.)\n> \n\nOK, I will correct this.",
    "created_at": "2018-03-03T16:32:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373349",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@tscrim](#comment:15):

Thanks for looking to this ticket and for your comments.
> The biggest issue I have with this ticket is the addition of functions to the global namespace. `curl`, `laplacian`, and `dalembertian` I think are okay. `grad` over `gradient` I am not sure about. `div` looks too much like it is coming from "divide" or "division". 

I agree that `div` may evoke "division", however `grad` and `div` are pretty much standard notations in both elementary vector calculus and differential geometry, see e.g. 
- https://en.wikipedia.org/wiki/Vector_calculus#Differential_operators
- https://en.wikipedia.org/wiki/Vector_calculus_identities#Operator_notations
- https://en.wikipedia.org/wiki/Divergence

As a side note, neither `grad` nor `div` is already used as a global function in Sage, so the slot is free.

>I think you should ask on sage-devel to see if anyone has any objections with adding these to the global namespace and about them being a simple re-direct. 

OK I will.
> 
> In the same vein, this is bad to me:
> 
> ```python
>         # Import differential operators in the user global namespace:
>         if 'grad' not in get_globals():
>             from sage.manifolds.differentiable.operators import (grad, div,
>                                                  curl, laplacian, dalembertian)
>             set_global('grad', grad)
>             set_global('div', div)
>             set_global('curl', curl)
>             set_global('rot', curl)
>             set_global('laplacian', laplacian)
>             set_global('dalembertian', dalembertian)
> ```
> I think a much better way is just to either have them all in the global namespace at start or having some function `inject_functions()`, but with some better name than I can come up with in 5 seconds.

Why is it bad? Is it because it prevents the user from discovering the grad function with the TAB key and/or `grad?` before having set up any pseudo-Riemannian manifold? This would indeed be a good reason to have the operators in the global namespace at start.
> 
> This is under-indetented:
> (It's okay that not everything in a `.. MATH::` block, but I do prefer the >= 4 spaces indentation visually.)
> 

OK, I will correct this.



---

archive/issue_comments_373350.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@egourgoulhon](#comment:16):\n> Replying to [@tscrim](#comment:15):\n> \n> Thanks for looking to this ticket and for your comments.\n> > The biggest issue I have with this ticket is the addition of functions to the global namespace. `curl`, `laplacian`, and `dalembertian` I think are okay. `grad` over `gradient` I am not sure about. `div` looks too much like it is coming from \"divide\" or \"division\". \n\n> \n> I agree that `div` may evoke \"division\", however `grad` and `div` are pretty much standard notations in both elementary vector calculus and differential geometry, see e.g. \n> - https://en.wikipedia.org/wiki/Vector_calculus#Differential_operators\n> - https://en.wikipedia.org/wiki/Vector_calculus_identities#Operator_notations\n> - https://en.wikipedia.org/wiki/Divergence\n> \n> As a side note, neither `grad` nor `div` is already used as a global function in Sage, so the slot is free.\n\nThe difference is that in those links, you know you are doing vector calculus, whereas in Python you have `operator.div`.\n\n> > In the same vein, this is bad to me:\n> > \n> > ```python\n> >         # Import differential operators in the user global namespace:\n> >         if 'grad' not in get_globals():\n> >             from sage.manifolds.differentiable.operators import (grad, div,\n> >                                                  curl, laplacian, dalembertian)\n> >             set_global('grad', grad)\n> >             set_global('div', div)\n> >             set_global('curl', curl)\n> >             set_global('rot', curl)\n> >             set_global('laplacian', laplacian)\n> >             set_global('dalembertian', dalembertian)\n> > ```\n> > I think a much better way is just to either have them all in the global namespace at start or having some function `inject_functions()`, but with some better name than I can come up with in 5 seconds.\n\n> \n> Why is it bad? Is it because it prevents the user from discovering the grad function with the TAB key and/or `grad?` before having set up any pseudo-Riemannian manifold? This would indeed be a good reason to have the operators in the global namespace at start.\n\nYou should not inject them without the user knowing. In particular, what if you have `rot = some expensive computation`, then you create your manifold (with not having created a `grad`) and all of a sudden, your `rot` computation is gone. On the other side, what if we add a different `grad` to the global namespace, something I think could happen, then you will not get these injections.\n\nI agree that they should be in the global namespace from the start and would making this issue moot. Some other thoughts that come to my mind is a function like `setup_manifolds_environment` and/or getting people who use SageManifolds to have a specific section to their `.sage/init.sage` file.",
    "created_at": "2018-03-03T22:16:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373350",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@egourgoulhon](#comment:16):
> Replying to [@tscrim](#comment:15):
> 
> Thanks for looking to this ticket and for your comments.
> > The biggest issue I have with this ticket is the addition of functions to the global namespace. `curl`, `laplacian`, and `dalembertian` I think are okay. `grad` over `gradient` I am not sure about. `div` looks too much like it is coming from "divide" or "division". 

> 
> I agree that `div` may evoke "division", however `grad` and `div` are pretty much standard notations in both elementary vector calculus and differential geometry, see e.g. 
> - https://en.wikipedia.org/wiki/Vector_calculus#Differential_operators
> - https://en.wikipedia.org/wiki/Vector_calculus_identities#Operator_notations
> - https://en.wikipedia.org/wiki/Divergence
> 
> As a side note, neither `grad` nor `div` is already used as a global function in Sage, so the slot is free.

The difference is that in those links, you know you are doing vector calculus, whereas in Python you have `operator.div`.

> > In the same vein, this is bad to me:
> > 
> > ```python
> >         # Import differential operators in the user global namespace:
> >         if 'grad' not in get_globals():
> >             from sage.manifolds.differentiable.operators import (grad, div,
> >                                                  curl, laplacian, dalembertian)
> >             set_global('grad', grad)
> >             set_global('div', div)
> >             set_global('curl', curl)
> >             set_global('rot', curl)
> >             set_global('laplacian', laplacian)
> >             set_global('dalembertian', dalembertian)
> > ```
> > I think a much better way is just to either have them all in the global namespace at start or having some function `inject_functions()`, but with some better name than I can come up with in 5 seconds.

> 
> Why is it bad? Is it because it prevents the user from discovering the grad function with the TAB key and/or `grad?` before having set up any pseudo-Riemannian manifold? This would indeed be a good reason to have the operators in the global namespace at start.

You should not inject them without the user knowing. In particular, what if you have `rot = some expensive computation`, then you create your manifold (with not having created a `grad`) and all of a sudden, your `rot` computation is gone. On the other side, what if we add a different `grad` to the global namespace, something I think could happen, then you will not get these injections.

I agree that they should be in the global namespace from the start and would making this issue moot. Some other thoughts that come to my mind is a function like `setup_manifolds_environment` and/or getting people who use SageManifolds to have a specific section to their `.sage/init.sage` file.



---

archive/issue_comments_373351.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@tscrim](#comment:17):\n> \n> The difference is that in those links, you know you are doing vector calculus, whereas in Python you have `operator.div`.\n\nYes I agree, this depends on the context.\n\n> \n> You should not inject them without the user knowing. In particular, what if you have `rot = some expensive computation`, then you create your manifold (with not having created a `grad`) and all of a sudden, your `rot` computation is gone. On the other side, what if we add a different `grad` to the global namespace, something I think could happen, then you will not get these injections.\n> \n\nThanks for these explanations. I totally overlooked this point... I am now 100% convinced that injecting silently names in the global namespace is a very bad thing.\n\n\n> I agree that they should be in the global namespace from the start and would making this issue moot. Some other thoughts that come to my mind is a function like `setup_manifolds_environment` and/or getting people who use SageManifolds to have a specific section to their `.sage/init.sage` file.\n\nI'll think about this, given that the discussion on sage-devel leans toward not adding new stuff in the global namespace.",
    "created_at": "2018-03-04T10:51:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373351",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@tscrim](#comment:17):
> 
> The difference is that in those links, you know you are doing vector calculus, whereas in Python you have `operator.div`.

Yes I agree, this depends on the context.

> 
> You should not inject them without the user knowing. In particular, what if you have `rot = some expensive computation`, then you create your manifold (with not having created a `grad`) and all of a sudden, your `rot` computation is gone. On the other side, what if we add a different `grad` to the global namespace, something I think could happen, then you will not get these injections.
> 

Thanks for these explanations. I totally overlooked this point... I am now 100% convinced that injecting silently names in the global namespace is a very bad thing.


> I agree that they should be in the global namespace from the start and would making this issue moot. Some other thoughts that come to my mind is a function like `setup_manifolds_environment` and/or getting people who use SageManifolds to have a specific section to their `.sage/init.sage` file.

I'll think about this, given that the discussion on sage-devel leans toward not adding new stuff in the global namespace.



---

archive/issue_comments_373352.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18b63a6de6dcceed8b29edc339d8e301785b5a03\">18b63a6</a></td><td><code>Differential operators are no longer imported in the global namespace by PseudoRiemannianManifold.__init__</code></td></tr></table>\n",
    "created_at": "2018-03-06T12:21:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373352",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18b63a6de6dcceed8b29edc339d8e301785b5a03">18b63a6</a></td><td><code>Differential operators are no longer imported in the global namespace by PseudoRiemannianManifold.__init__</code></td></tr></table>




---

archive/issue_comments_373353.json:
```json
{
    "body": "Changed commit from **[8309fdd](https://github.com/sagemath/sagetrac-mirror/commit/8309fdd68066fd62b180f95be415f02ff2f7895e)** to **[18b63a6](https://github.com/sagemath/sagetrac-mirror/commit/18b63a6de6dcceed8b29edc339d8e301785b5a03)**",
    "created_at": "2018-03-06T12:21:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373353",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8309fdd](https://github.com/sagemath/sagetrac-mirror/commit/8309fdd68066fd62b180f95be415f02ff2f7895e)** to **[18b63a6](https://github.com/sagemath/sagetrac-mirror/commit/18b63a6de6dcceed8b29edc339d8e301785b5a03)**



---

archive/issue_comments_373354.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nFollowing the conclusions of the [sage-devel thread](https://groups.google.com/d/msg/sage-devel/iSFwyR2E1f8/_rssKxleAQAJ), the above commit allows only explicit imports of the type:\n\n```\nsage: from sage.manifolds.operators import *\n```\nto inject the differential operators in the global namespace (the [demo worksheet](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calculus.ipynb) has been updated accordingly).\nBesides, this commit corrects the indentation of `.. MATH` blocks mentioned in [comment:15](#comment:15).",
    "created_at": "2018-03-06T12:35:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373354",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:20" align="right">comment:20</div>

Following the conclusions of the [sage-devel thread](https://groups.google.com/d/msg/sage-devel/iSFwyR2E1f8/_rssKxleAQAJ), the above commit allows only explicit imports of the type:

```
sage: from sage.manifolds.operators import *
```
to inject the differential operators in the global namespace (the [demo worksheet](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calculus.ipynb) has been updated accordingly).
Besides, this commit corrects the indentation of `.. MATH` blocks mentioned in [comment:15](#comment:15).



---

archive/issue_comments_373355.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nOne little trivial thing: the functions are no longer global (at least, I am interpreting that as being in the global namespace):\n\n```diff\n-        The function :func:`~sage.manifolds.operators.laplacian` can be\n+        The global function :func:`~sage.manifolds.operators.laplacian` can be\n+        used instead of the method ``laplacian()``::\n```\nand similar for `div` and `curl`, etc.\nAlso, do you want to link `laplacition()` to a (the?) corresponding method via `:meth:`?",
    "created_at": "2018-03-06T22:15:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373355",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:21" align="right">comment:21</div>

One little trivial thing: the functions are no longer global (at least, I am interpreting that as being in the global namespace):

```diff
-        The function :func:`~sage.manifolds.operators.laplacian` can be
+        The global function :func:`~sage.manifolds.operators.laplacian` can be
+        used instead of the method ``laplacian()``::
```
and similar for `div` and `curl`, etc.
Also, do you want to link `laplacition()` to a (the?) corresponding method via `:meth:`?



---

archive/issue_comments_373356.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nA few typos with proposed corrections:\n\n```diff\ndiff --git a/src/sage/manifolds/differentiable/pseudo_riemannian.py b/src/sage/manifolds/differentiable/pseudo_riemannian.py\nindex fcfbe500e1..d68d797096 100644\n--- a/src/sage/manifolds/differentiable/pseudo_riemannian.py\n+++ b/src/sage/manifolds/differentiable/pseudo_riemannian.py\n@@ -4,7 +4,7 @@ Pseudo-Riemannian Manifolds\n A *pseudo-Riemannian manifold* is a pair `(M,g)` where `M` is a real\n differentiable manifold `M` (see\n :class:`~sage.manifolds.differentiable.manifold.DifferentiableManifold`)\n-and `g` is a field non-degenerate symmetric bilinear forms on `M`, which is\n+and `g` is a field of non-degenerate symmetric bilinear forms on `M`, which is\n called the *metric tensor*, or simply the *metric* (see\n :class:`~sage.manifolds.differentiable.metric.PseudoRiemannianMetric`).\n \n@@ -58,7 +58,7 @@ We get the metric defining the Riemannian structure by::\n     sage: g\n     Riemannian metric g on the 2-dimensional Riemannian manifold S^2\n \n-At this stage, the metric `g` is defined a Python object but there remains to\n+At this stage, the metric `g` is defined as a Python object but there remains to\n initialize it by setting its components with respect to the vector frames\n associated with the stereographic coordinates. Let us begin with the frame\n of chart ``stereoN``::\n@@ -145,7 +145,7 @@ manifold, we can get the metric on it via the method ``metric()``::\n     sage: gU.display()\n     g = 4/(x^2 + y^2 + 1)^2 dx*dx + 4/(x^2 + y^2 + 1)^2 dy*dy\n \n-On course, ``gU`` is nothing but the restriction of `g` to `U`::\n+Of course, ``gU`` is nothing but the restriction of `g` to `U`::\n \n     sage: gU is g.restrict(U)\n     True\n@@ -153,7 +153,7 @@ On course, ``gU`` is nothing but the restriction of `g` to `U`::\n .. RUBRIC:: Example 2: Minkowski spacetime as a Lorentzian manifold of\n   dimension 4\n \n-We start by declaring 4-dimensional Lorentzian manifold::\n+We start by declaring a 4-dimensional Lorentzian manifold::\n \n     sage: M = Manifold(4, 'M', structure='Lorentzian')\n     sage: M\n@@ -223,7 +223,7 @@ class PseudoRiemannianManifold(DifferentiableManifold):\n     A *pseudo-Riemannian manifold* is a pair `(M,g)` where `M` is a real\n     differentiable manifold `M` (see\n     :class:`~sage.manifolds.differentiable.manifold.DifferentiableManifold`)\n-    and `g` is a field non-degenerate symmetric bilinear forms on `M`, which is\n+    and `g` is a field of non-degenerate symmetric bilinear forms on `M`, which is\n     called the *metric tensor*, or simply the *metric* (see\n     :class:`~sage.manifolds.differentiable.metric.PseudoRiemannianMetric`).\n \n@@ -405,7 +405,7 @@ class PseudoRiemannianManifold(DifferentiableManifold):\n                dest_map=None):\n         r\"\"\"\n         Return the metric giving the pseudo-Riemannian structure to the\n-        manifold, or defines a new metric tensor on the manifold.\n+        manifold, or define a new metric tensor on the manifold.\n \n         INPUT:\n \n```",
    "created_at": "2018-03-06T22:45:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373356",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:22" align="right">comment:22</div>

A few typos with proposed corrections:

```diff
diff --git a/src/sage/manifolds/differentiable/pseudo_riemannian.py b/src/sage/manifolds/differentiable/pseudo_riemannian.py
index fcfbe500e1..d68d797096 100644
--- a/src/sage/manifolds/differentiable/pseudo_riemannian.py
+++ b/src/sage/manifolds/differentiable/pseudo_riemannian.py
@@ -4,7 +4,7 @@ Pseudo-Riemannian Manifolds
 A *pseudo-Riemannian manifold* is a pair `(M,g)` where `M` is a real
 differentiable manifold `M` (see
 :class:`~sage.manifolds.differentiable.manifold.DifferentiableManifold`)
-and `g` is a field non-degenerate symmetric bilinear forms on `M`, which is
+and `g` is a field of non-degenerate symmetric bilinear forms on `M`, which is
 called the *metric tensor*, or simply the *metric* (see
 :class:`~sage.manifolds.differentiable.metric.PseudoRiemannianMetric`).
 
@@ -58,7 +58,7 @@ We get the metric defining the Riemannian structure by::
     sage: g
     Riemannian metric g on the 2-dimensional Riemannian manifold S^2
 
-At this stage, the metric `g` is defined a Python object but there remains to
+At this stage, the metric `g` is defined as a Python object but there remains to
 initialize it by setting its components with respect to the vector frames
 associated with the stereographic coordinates. Let us begin with the frame
 of chart ``stereoN``::
@@ -145,7 +145,7 @@ manifold, we can get the metric on it via the method ``metric()``::
     sage: gU.display()
     g = 4/(x^2 + y^2 + 1)^2 dx*dx + 4/(x^2 + y^2 + 1)^2 dy*dy
 
-On course, ``gU`` is nothing but the restriction of `g` to `U`::
+Of course, ``gU`` is nothing but the restriction of `g` to `U`::
 
     sage: gU is g.restrict(U)
     True
@@ -153,7 +153,7 @@ On course, ``gU`` is nothing but the restriction of `g` to `U`::
 .. RUBRIC:: Example 2: Minkowski spacetime as a Lorentzian manifold of
   dimension 4
 
-We start by declaring 4-dimensional Lorentzian manifold::
+We start by declaring a 4-dimensional Lorentzian manifold::
 
     sage: M = Manifold(4, 'M', structure='Lorentzian')
     sage: M
@@ -223,7 +223,7 @@ class PseudoRiemannianManifold(DifferentiableManifold):
     A *pseudo-Riemannian manifold* is a pair `(M,g)` where `M` is a real
     differentiable manifold `M` (see
     :class:`~sage.manifolds.differentiable.manifold.DifferentiableManifold`)
-    and `g` is a field non-degenerate symmetric bilinear forms on `M`, which is
+    and `g` is a field of non-degenerate symmetric bilinear forms on `M`, which is
     called the *metric tensor*, or simply the *metric* (see
     :class:`~sage.manifolds.differentiable.metric.PseudoRiemannianMetric`).
 
@@ -405,7 +405,7 @@ class PseudoRiemannianManifold(DifferentiableManifold):
                dest_map=None):
         r"""
         Return the metric giving the pseudo-Riemannian structure to the
-        manifold, or defines a new metric tensor on the manifold.
+        manifold, or define a new metric tensor on the manifold.
 
         INPUT:
 
```



---

archive/issue_comments_373357.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/185e438b808c204dbf7b1f7b838fb43e40c100d2\">185e438</a></td><td><code>Improve documentation of pseudo-Riemannian manifolds</code></td></tr></table>\n",
    "created_at": "2018-03-07T10:17:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373357",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/185e438b808c204dbf7b1f7b838fb43e40c100d2">185e438</a></td><td><code>Improve documentation of pseudo-Riemannian manifolds</code></td></tr></table>




---

archive/issue_comments_373358.json:
```json
{
    "body": "Changed commit from **[18b63a6](https://github.com/sagemath/sagetrac-mirror/commit/18b63a6de6dcceed8b29edc339d8e301785b5a03)** to **[185e438](https://github.com/sagemath/sagetrac-mirror/commit/185e438b808c204dbf7b1f7b838fb43e40c100d2)**",
    "created_at": "2018-03-07T10:17:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373358",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[18b63a6](https://github.com/sagemath/sagetrac-mirror/commit/18b63a6de6dcceed8b29edc339d8e301785b5a03)** to **[185e438](https://github.com/sagemath/sagetrac-mirror/commit/185e438b808c204dbf7b1f7b838fb43e40c100d2)**



---

archive/issue_comments_373359.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@tscrim](#comment:21):\n> One little trivial thing: the functions are no longer global (at least, I am interpreting that as being in the global namespace):\n\n>\n> and similar for `div` and `curl`, etc.\n> Also, do you want to link `laplacition()` to a (the?) corresponding method via `:meth:`?\n\nThanks for pointing this. This is corrected in the above commit. I have also added some simple vector fields in the Minkowski spacetime example (example 2 at the top of `pseudo_riemannian.py`).",
    "created_at": "2018-03-07T10:22:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373359",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@tscrim](#comment:21):
> One little trivial thing: the functions are no longer global (at least, I am interpreting that as being in the global namespace):

>
> and similar for `div` and `curl`, etc.
> Also, do you want to link `laplacition()` to a (the?) corresponding method via `:meth:`?

Thanks for pointing this. This is corrected in the above commit. I have also added some simple vector fields in the Minkowski spacetime example (example 2 at the top of `pseudo_riemannian.py`).



---

archive/issue_comments_373360.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@jhpalmieri](#comment:22):\n> A few typos with proposed corrections:\n\nThank you very much for these corrections. They are effective in the above commit.",
    "created_at": "2018-03-07T10:23:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373360",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@jhpalmieri](#comment:22):
> A few typos with proposed corrections:

Thank you very much for these corrections. They are effective in the above commit.



---

archive/issue_events_340923.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-03-08T01:35:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24622#event-340923"
}
```



---

archive/issue_events_340924.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-03-08T01:35:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24622#event-340924"
}
```



---

archive/issue_comments_373361.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw, John Palmieri**",
    "created_at": "2018-03-08T01:35:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373361",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw, John Palmieri**



---

archive/issue_comments_373362.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nLGTM. Thank you.",
    "created_at": "2018-03-08T01:35:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373362",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:26" align="right">comment:26</div>

LGTM. Thank you.



---

archive/issue_comments_373363.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nThank you very much for the review!",
    "created_at": "2018-03-08T09:02:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373363",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:27" align="right">comment:27</div>

Thank you very much for the review!



---

archive/issue_comments_373364.json:
```json
{
    "body": "Changed branch from **[public/manifolds/pseudoRiemannian](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/pseudoRiemannian)** to **[185e438](https://github.com/sagemath/sagetrac-mirror/commit/185e438b808c204dbf7b1f7b838fb43e40c100d2)**",
    "created_at": "2018-03-19T07:57:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24622#issuecomment-373364",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/manifolds/pseudoRiemannian](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/pseudoRiemannian)** to **[185e438](https://github.com/sagemath/sagetrac-mirror/commit/185e438b808c204dbf7b1f7b838fb43e40c100d2)**



---

archive/issue_events_340925.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-19T07:57:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24622#event-340925"
}
```



---

archive/issue_events_340926.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "764df4c0fd4c8d0a0bab641ce42a79ec108f933a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-03-19T07:57:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24622",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24622#event-340926"
}
```
