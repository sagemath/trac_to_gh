# Issue 24246: Add a Cython compile time constant for PY_MAJOR_VERSION

archive/issues_024009.json:
```json
{
    "body": "As discussed in #24222.\n\nWe already have `PY_VERSION_HEX` which can be useful for more fine-grained version comparisons, but `PY_MAJOR_VERSION` is easier to use and read in particular for general checks of Python 2 vs. Python >= 3.\n\nBranch/Commit: 3ac146c17ccabbaf53918f874f516909041e82c5\n\nReviewer: Jeroen Demeyer\n\nAuthor: Erik Bray\n\nDependencies: #24215\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24246\n\n",
    "closed_at": "2017-12-13T17:38:38Z",
    "created_at": "2017-11-20T08:45:41Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Add a Cython compile time constant for PY_MAJOR_VERSION",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24246",
    "user": "https://github.com/embray"
}
```
As discussed in #24222.

We already have `PY_VERSION_HEX` which can be useful for more fine-grained version comparisons, but `PY_MAJOR_VERSION` is easier to use and read in particular for general checks of Python 2 vs. Python >= 3.

Branch/Commit: 3ac146c17ccabbaf53918f874f516909041e82c5

Reviewer: Jeroen Demeyer

Author: Erik Bray

Dependencies: #24215

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24246





---

archive/issue_comments_461098.json:
```json
{
    "body": "Changing commit from \"\" to \"3ac146c17ccabbaf53918f874f516909041e82c5\"",
    "created_at": "2017-11-20T08:45:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24246#issuecomment-461098",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "3ac146c17ccabbaf53918f874f516909041e82c5"



---

archive/issue_comments_461099.json:
```json
{
    "body": "<a id='comment:1'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[34ef6dc](https://github.com/sagemath/sagetrac-mirror/commit/34ef6dc08de5f11a74e83c6707d6dd4f5e2563be)|`Add HAVE_GMPY2 compile-time constant`|\n|[158d984](https://github.com/sagemath/sagetrac-mirror/commit/158d984a1263978ce941172c775238afbc32ad65)|`Force absolute import in have_module()`|\n|[7f06e71](https://github.com/sagemath/sagetrac-mirror/commit/7f06e71efb3fdc5f91fcf4b0b3ef761c72d9a8c2)|`Fix documentation`|\n|[3ac146c](https://github.com/sagemath/sagetrac-mirror/commit/3ac146c17ccabbaf53918f874f516909041e82c5)|`Add a Cython compile-time constant for Python major version.`|",
    "created_at": "2017-11-20T08:45:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24246#issuecomment-461099",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[34ef6dc](https://github.com/sagemath/sagetrac-mirror/commit/34ef6dc08de5f11a74e83c6707d6dd4f5e2563be)|`Add HAVE_GMPY2 compile-time constant`|
|[158d984](https://github.com/sagemath/sagetrac-mirror/commit/158d984a1263978ce941172c775238afbc32ad65)|`Force absolute import in have_module()`|
|[7f06e71](https://github.com/sagemath/sagetrac-mirror/commit/7f06e71efb3fdc5f91fcf4b0b3ef761c72d9a8c2)|`Fix documentation`|
|[3ac146c](https://github.com/sagemath/sagetrac-mirror/commit/3ac146c17ccabbaf53918f874f516909041e82c5)|`Add a Cython compile-time constant for Python major version.`|



---

archive/issue_comments_461100.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-11-20T17:22:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24246#issuecomment-461100",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_461101.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2017-11-20T17:22:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24246#issuecomment-461101",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_461102.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-11-20T17:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24246#issuecomment-461102",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_069833.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-12-12T08:27:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24246",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24246#event-69833"
}
```



---

archive/issue_events_069834.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-12-13T17:38:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24246",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24246#event-69834"
}
```



---

archive/issue_comments_461103.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-12-13T17:38:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24246#issuecomment-461103",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_461104.json:
```json
{
    "body": "Changing branch from \"u/embray/python3/compile-time-pyversion\" to \"3ac146c17ccabbaf53918f874f516909041e82c5\"",
    "created_at": "2017-12-13T17:38:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24246#issuecomment-461104",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/embray/python3/compile-time-pyversion" to "3ac146c17ccabbaf53918f874f516909041e82c5"
