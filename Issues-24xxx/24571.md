# Issue 24571: Orthogonal groups of TorsionQuadraticModules

archive/issues_024334.json:
```json
{
    "assignees": [],
    "body": "If `T` is a torsion quadratic module, then the orthogonal group consists of those group automorphisms that preserve the torsion quadratic form and bilinear form.\n\n- We can derive this from `sage.groups.abelian_gps.abelian_aut.AbelianGroupAutomorphismGroup_generic`#24087.\n- The class should interact well with `FGP_module_homomorphisms`,\n- If `T` is the discrimiant group of an `IntegralLattice` then there should be a coercion from the orthogonal group of the lattice. \n- Of course there `O(T)` must act consistently on elements of `T`.\n\nGenerators are hard to come by though ... \n\nDepends on #24036\nDepends on #24035\nDepends on #24087\nDepends on #24521\n\nCC:  @tscrim @videlec\n\nBranch: **[c488580](https://github.com/sagemath/sagetrac-mirror/commit/c4885805e7fe8589975a25d0e7e3587197b7e47f)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Simon Brandhorst**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24571_\n\n",
    "closed_at": "2020-02-26T20:35:39Z",
    "created_at": "2018-01-19T15:44:54Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20group%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Orthogonal groups of TorsionQuadraticModules",
    "type": "issue",
    "updated_at": "2020-03-05T13:08:30Z",
    "url": "https://github.com/sagemath/sage/issues/24571",
    "user": "https://github.com/simonbrandhorst"
}
```
If `T` is a torsion quadratic module, then the orthogonal group consists of those group automorphisms that preserve the torsion quadratic form and bilinear form.

- We can derive this from `sage.groups.abelian_gps.abelian_aut.AbelianGroupAutomorphismGroup_generic`#24087.
- The class should interact well with `FGP_module_homomorphisms`,
- If `T` is the discrimiant group of an `IntegralLattice` then there should be a coercion from the orthogonal group of the lattice. 
- Of course there `O(T)` must act consistently on elements of `T`.

Generators are hard to come by though ... 

Depends on #24036
Depends on #24035
Depends on #24087
Depends on #24521

CC:  @tscrim @videlec

Branch: **[c488580](https://github.com/sagemath/sagetrac-mirror/commit/c4885805e7fe8589975a25d0e7e3587197b7e47f)**

Reviewer: **Travis Scrimshaw**

Author: **Simon Brandhorst**

_Issue created by migration from https://trac.sagemath.org/ticket/24571_





---

archive/issue_events_322285.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-01-19T15:44:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24571#event-322285"
}
```



---

archive/issue_events_322286.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-01-19T15:44:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24571#event-322286"
}
```



---

archive/issue_events_322287.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-01-24T08:30:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20group%20theory",
    "label_color": "0000ff",
    "label_name": "component: group theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24571#event-322287"
}
```



---

archive/issue_events_322288.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-01-24T08:30:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24571#event-322288"
}
```



---

archive/issue_comments_374885.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n - We can derive this from `sage.groups.abelian_gps.abelian_aut.AbelianGroupAutomorphismGroup_generic`#24087.\n - The class should interact well with `FGP_module_homomorphisms`,\n-- If `T` is the discrimiant group of an IntegralLattice then there should be a coercion from the orthogonal group of the lattice. \n+- If `T` is the discrimiant group of an `IntegralLattice` then there should be a coercion from the orthogonal group of the lattice. \n - Of course there `O(T)` must act consistently on elements of `T`.\n \n Generators are hard to come by though ... \n``````\n",
    "created_at": "2018-01-24T08:31:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374885",
    "user": "https://github.com/simonbrandhorst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 - We can derive this from `sage.groups.abelian_gps.abelian_aut.AbelianGroupAutomorphismGroup_generic`#24087.
 - The class should interact well with `FGP_module_homomorphisms`,
-- If `T` is the discrimiant group of an IntegralLattice then there should be a coercion from the orthogonal group of the lattice. 
+- If `T` is the discrimiant group of an `IntegralLattice` then there should be a coercion from the orthogonal group of the lattice. 
 - Of course there `O(T)` must act consistently on elements of `T`.
 
 Generators are hard to come by though ... 
``````




---

archive/issue_comments_374886.json:
```json
{
    "body": "Branch: **[u/sbrandhorst/orthogonal_groups_of_torsionquadraticmodules](https://github.com/sagemath/sagetrac-mirror/tree/u/sbrandhorst/orthogonal_groups_of_torsionquadraticmodules)**",
    "created_at": "2018-01-26T16:07:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374886",
    "user": "https://github.com/simonbrandhorst"
}
```

Branch: **[u/sbrandhorst/orthogonal_groups_of_torsionquadraticmodules](https://github.com/sagemath/sagetrac-mirror/tree/u/sbrandhorst/orthogonal_groups_of_torsionquadraticmodules)**



---

archive/issue_comments_374887.json:
```json
{
    "body": "Commit: **[9afb095](https://github.com/sagemath/sagetrac-mirror/commit/9afb095df81a404428d1e688ebb42d27adb5184b)**",
    "created_at": "2018-01-28T08:55:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374887",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[9afb095](https://github.com/sagemath/sagetrac-mirror/commit/9afb095df81a404428d1e688ebb42d27adb5184b)**



---

archive/issue_comments_374888.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3d20be2e2ae5262259594a23a7d91517a9b50a8\">c3d20be</a></td><td><code>generators at odd primes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9afb095df81a404428d1e688ebb42d27adb5184b\">9afb095</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr></table>\n",
    "created_at": "2018-01-28T08:55:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374888",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4" align="right">Comment 4</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3d20be2e2ae5262259594a23a7d91517a9b50a8">c3d20be</a></td><td><code>generators at odd primes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9afb095df81a404428d1e688ebb42d27adb5184b">9afb095</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr></table>




---

archive/issue_comments_374889.json:
```json
{
    "body": "Changed commit from **[9afb095](https://github.com/sagemath/sagetrac-mirror/commit/9afb095df81a404428d1e688ebb42d27adb5184b)** to **[5307bf0](https://github.com/sagemath/sagetrac-mirror/commit/5307bf0bfba1902383ff29d089ac03a03453d110)**",
    "created_at": "2018-01-29T08:41:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374889",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9afb095](https://github.com/sagemath/sagetrac-mirror/commit/9afb095df81a404428d1e688ebb42d27adb5184b)** to **[5307bf0](https://github.com/sagemath/sagetrac-mirror/commit/5307bf0bfba1902383ff29d089ac03a03453d110)**



---

archive/issue_comments_374890.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5307bf0bfba1902383ff29d089ac03a03453d110\">5307bf0</a></td><td><code>towards p=2</code></td></tr></table>\n",
    "created_at": "2018-01-29T08:41:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374890",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5" align="right">Comment 5</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5307bf0bfba1902383ff29d089ac03a03453d110">5307bf0</a></td><td><code>towards p=2</code></td></tr></table>




---

archive/issue_comments_374891.json:
```json
{
    "body": "Changed commit from **[5307bf0](https://github.com/sagemath/sagetrac-mirror/commit/5307bf0bfba1902383ff29d089ac03a03453d110)** to **[a373aad](https://github.com/sagemath/sagetrac-mirror/commit/a373aadf0cae235151d637a38418838db3ba3f50)**",
    "created_at": "2018-01-31T18:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374891",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5307bf0](https://github.com/sagemath/sagetrac-mirror/commit/5307bf0bfba1902383ff29d089ac03a03453d110)** to **[a373aad](https://github.com/sagemath/sagetrac-mirror/commit/a373aadf0cae235151d637a38418838db3ba3f50)**



---

archive/issue_comments_374892.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a373aadf0cae235151d637a38418838db3ba3f50\">a373aad</a></td><td><code>generators of finite orthogonal groups - first prototype.</code></td></tr></table>\n",
    "created_at": "2018-01-31T18:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374892",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6" align="right">Comment 6</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a373aadf0cae235151d637a38418838db3ba3f50">a373aad</a></td><td><code>generators of finite orthogonal groups - first prototype.</code></td></tr></table>




---

archive/issue_comments_374893.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f02df25392273155c88d54c1f64003d4db6b815\">3f02df2</a></td><td><code>Merge branch 't/24035/orthogonal_jordan_decomposition_for_torsionquadraticmodules' into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30b404d8cbae6cd4de4b0889107e42b332b308d5\">30b404d</a></td><td><code>Merge branch 't/24035/orthogonal_jordan_decomposition_for_torsionquadraticmodules' into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61236d7258da36403d1367edb5dbaa4a508636d9\">61236d7</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/24087/automorphism_group_of_finite_abelian_groups_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/707824cbad9d3db6fb2466d988e021d9952d676b\">707824c</a></td><td><code>replaced is_endomorphism in conversions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c778e4ab6420dcd78eaa8395a210e8478f331197\">c778e4a</a></td><td><code>Merge branch 't/24087/endomorphisms_ring_and_automorphism_group_of_finite__additive__abelian_groups_' into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dded6c0ec90e9fc98c5a8715abeb2417422c0c2\">7dded6c</a></td><td><code>new code for orthogonal_group()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5e62b9203093b54d53ac22f923b080403e1ae66\">f5e62b9</a></td><td><code>Merge branch 'develop' into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f4ca67c684dd30307e45e3a518ba388d597d761\">8f4ca67</a></td><td><code>First version.</code></td></tr></table>\n",
    "created_at": "2018-02-14T09:55:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374893",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7" align="right">Comment 7</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f02df25392273155c88d54c1f64003d4db6b815">3f02df2</a></td><td><code>Merge branch 't/24035/orthogonal_jordan_decomposition_for_torsionquadraticmodules' into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30b404d8cbae6cd4de4b0889107e42b332b308d5">30b404d</a></td><td><code>Merge branch 't/24035/orthogonal_jordan_decomposition_for_torsionquadraticmodules' into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61236d7258da36403d1367edb5dbaa4a508636d9">61236d7</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/24087/automorphism_group_of_finite_abelian_groups_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/707824cbad9d3db6fb2466d988e021d9952d676b">707824c</a></td><td><code>replaced is_endomorphism in conversions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c778e4ab6420dcd78eaa8395a210e8478f331197">c778e4a</a></td><td><code>Merge branch 't/24087/endomorphisms_ring_and_automorphism_group_of_finite__additive__abelian_groups_' into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dded6c0ec90e9fc98c5a8715abeb2417422c0c2">7dded6c</a></td><td><code>new code for orthogonal_group()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5e62b9203093b54d53ac22f923b080403e1ae66">f5e62b9</a></td><td><code>Merge branch 'develop' into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f4ca67c684dd30307e45e3a518ba388d597d761">8f4ca67</a></td><td><code>First version.</code></td></tr></table>




---

archive/issue_comments_374894.json:
```json
{
    "body": "Changed commit from **[a373aad](https://github.com/sagemath/sagetrac-mirror/commit/a373aadf0cae235151d637a38418838db3ba3f50)** to **[8f4ca67](https://github.com/sagemath/sagetrac-mirror/commit/8f4ca67c684dd30307e45e3a518ba388d597d761)**",
    "created_at": "2018-02-14T09:55:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374894",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a373aad](https://github.com/sagemath/sagetrac-mirror/commit/a373aadf0cae235151d637a38418838db3ba3f50)** to **[8f4ca67](https://github.com/sagemath/sagetrac-mirror/commit/8f4ca67c684dd30307e45e3a518ba388d597d761)**



---

archive/issue_comments_374895.json:
```json
{
    "body": "Changed commit from **[8f4ca67](https://github.com/sagemath/sagetrac-mirror/commit/8f4ca67c684dd30307e45e3a518ba388d597d761)** to **[6ce71ae](https://github.com/sagemath/sagetrac-mirror/commit/6ce71aee0c104aa845c979008773790aaf65da23)**",
    "created_at": "2018-02-14T18:13:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374895",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8f4ca67](https://github.com/sagemath/sagetrac-mirror/commit/8f4ca67c684dd30307e45e3a518ba388d597d761)** to **[6ce71ae](https://github.com/sagemath/sagetrac-mirror/commit/6ce71aee0c104aa845c979008773790aaf65da23)**



---

archive/issue_comments_374896.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ce71aee0c104aa845c979008773790aaf65da23\">6ce71ae</a></td><td><code>Fixed a bug in _mod_2_gens</code></td></tr></table>\n",
    "created_at": "2018-02-14T18:13:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374896",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8" align="right">Comment 8</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ce71aee0c104aa845c979008773790aaf65da23">6ce71ae</a></td><td><code>Fixed a bug in _mod_2_gens</code></td></tr></table>




---

archive/issue_comments_374897.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1bd241766144befc041ba2a467e2feecfb23785a\">1bd2417</a></td><td><code>Removed a leftover of the merge</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d65e99b03760174955ea25124e2ad47f33d67d68\">d65e99b</a></td><td><code>Merge branch 'develop' into t/24087/endomorphisms_ring_and_automorphism_group_of_finite__additive__abelian_groups_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/884ad23b877933fedb5ecdfeda14e0e6ab73e67a\">884ad23</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/24087/automorphism_group_of_finite_abelian_groups_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fda9cdcfcb552ae5d1d33cf248bc6a077aa5e802\">fda9cdc</a></td><td><code>Merge commit '477b66d14b8eceb0ab2d91a6aa36be646dd16526' of git://trac.sagemath.org/sage into t/24087/automorphism_group_of_finite_abelian_groups_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a554f99e3d805bd4870a7bc9e0466aa529efe3af\">a554f99</a></td><td><code>Small changes.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39a3d39a56af2ee0c386eae8bc20d23db36c919e\">39a3d39</a></td><td><code>Merge branch 'u/sbrandhorst/endomorphisms_ring_and_automorphism_group_of_finite__additive__abelian_groups_' of git://trac.sagemath.org/sage into t/24087/endomorphisms_ring_and_automorphism_group_of_finite__additive__abelian_groups_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f410a8abebc1021fb6f78b3797479b7d47a801d\">3f410a8</a></td><td><code>Cosmetics</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f4bec63e8d059551559382681f28ad0ebd820ea\">4f4bec6</a></td><td><code>Merge branch 't/24087/endomorphisms_ring_and_automorphism_group_of_finite__additive__abelian_groups_' into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr></table>\n",
    "created_at": "2018-03-06T15:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374897",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9" align="right">Comment 9</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1bd241766144befc041ba2a467e2feecfb23785a">1bd2417</a></td><td><code>Removed a leftover of the merge</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d65e99b03760174955ea25124e2ad47f33d67d68">d65e99b</a></td><td><code>Merge branch 'develop' into t/24087/endomorphisms_ring_and_automorphism_group_of_finite__additive__abelian_groups_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/884ad23b877933fedb5ecdfeda14e0e6ab73e67a">884ad23</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/24087/automorphism_group_of_finite_abelian_groups_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fda9cdcfcb552ae5d1d33cf248bc6a077aa5e802">fda9cdc</a></td><td><code>Merge commit '477b66d14b8eceb0ab2d91a6aa36be646dd16526' of git://trac.sagemath.org/sage into t/24087/automorphism_group_of_finite_abelian_groups_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a554f99e3d805bd4870a7bc9e0466aa529efe3af">a554f99</a></td><td><code>Small changes.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39a3d39a56af2ee0c386eae8bc20d23db36c919e">39a3d39</a></td><td><code>Merge branch 'u/sbrandhorst/endomorphisms_ring_and_automorphism_group_of_finite__additive__abelian_groups_' of git://trac.sagemath.org/sage into t/24087/endomorphisms_ring_and_automorphism_group_of_finite__additive__abelian_groups_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f410a8abebc1021fb6f78b3797479b7d47a801d">3f410a8</a></td><td><code>Cosmetics</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f4bec63e8d059551559382681f28ad0ebd820ea">4f4bec6</a></td><td><code>Merge branch 't/24087/endomorphisms_ring_and_automorphism_group_of_finite__additive__abelian_groups_' into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr></table>




---

archive/issue_comments_374898.json:
```json
{
    "body": "Changed commit from **[6ce71ae](https://github.com/sagemath/sagetrac-mirror/commit/6ce71aee0c104aa845c979008773790aaf65da23)** to **[4f4bec6](https://github.com/sagemath/sagetrac-mirror/commit/4f4bec63e8d059551559382681f28ad0ebd820ea)**",
    "created_at": "2018-03-06T15:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374898",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6ce71ae](https://github.com/sagemath/sagetrac-mirror/commit/6ce71aee0c104aa845c979008773790aaf65da23)** to **[4f4bec6](https://github.com/sagemath/sagetrac-mirror/commit/4f4bec63e8d059551559382681f28ad0ebd820ea)**



---

archive/issue_comments_374899.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/24a3bd6fb4f2c4b778681a3bb43a4dd0c0a8fe82\">24a3bd6</a></td><td><code>Merge branch 'develop' into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr></table>\n",
    "created_at": "2018-03-06T15:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374899",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10" align="right">Comment 10</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/24a3bd6fb4f2c4b778681a3bb43a4dd0c0a8fe82">24a3bd6</a></td><td><code>Merge branch 'develop' into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr></table>




---

archive/issue_comments_374900.json:
```json
{
    "body": "Changed commit from **[4f4bec6](https://github.com/sagemath/sagetrac-mirror/commit/4f4bec63e8d059551559382681f28ad0ebd820ea)** to **[24a3bd6](https://github.com/sagemath/sagetrac-mirror/commit/24a3bd6fb4f2c4b778681a3bb43a4dd0c0a8fe82)**",
    "created_at": "2018-03-06T15:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374900",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4f4bec6](https://github.com/sagemath/sagetrac-mirror/commit/4f4bec63e8d059551559382681f28ad0ebd820ea)** to **[24a3bd6](https://github.com/sagemath/sagetrac-mirror/commit/24a3bd6fb4f2c4b778681a3bb43a4dd0c0a8fe82)**



---

archive/issue_comments_374901.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e3e5432da98f399b1c3499fe2491fd0615e6161\">5e3e543</a></td><td><code>Merge branch 'u/sbrandhorst/endomorphisms_ring_and_automorphism_group_of_finite__additive__abelian_groups_' of git://trac.sagemath.org/sage into u/tscrim/automorphism_group_finite_abelian_groups_gap-24087</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c212d21a6a63017bd1f2cffa54d0ddf02fa62b9\">0c212d2</a></td><td><code>Do not use @cached_method for automorphism_group().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4e32999861d0d6391d6a4a336138daf86df0331\">c4e3299</a></td><td><code>Some cleanup and other minor tweaks.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0b398b32bda04ddfae4e8995ab51e69e526f6998\">0b398b3</a></td><td><code>Merge branch 'u/tscrim/automorphism_group_finite_abelian_groups_gap-24087' of git://trac.sagemath.org/sage into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr></table>\n",
    "created_at": "2018-03-07T15:55:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374901",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11" align="right">Comment 11</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e3e5432da98f399b1c3499fe2491fd0615e6161">5e3e543</a></td><td><code>Merge branch 'u/sbrandhorst/endomorphisms_ring_and_automorphism_group_of_finite__additive__abelian_groups_' of git://trac.sagemath.org/sage into u/tscrim/automorphism_group_finite_abelian_groups_gap-24087</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c212d21a6a63017bd1f2cffa54d0ddf02fa62b9">0c212d2</a></td><td><code>Do not use @cached_method for automorphism_group().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4e32999861d0d6391d6a4a336138daf86df0331">c4e3299</a></td><td><code>Some cleanup and other minor tweaks.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0b398b32bda04ddfae4e8995ab51e69e526f6998">0b398b3</a></td><td><code>Merge branch 'u/tscrim/automorphism_group_finite_abelian_groups_gap-24087' of git://trac.sagemath.org/sage into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr></table>




---

archive/issue_comments_374902.json:
```json
{
    "body": "Changed commit from **[24a3bd6](https://github.com/sagemath/sagetrac-mirror/commit/24a3bd6fb4f2c4b778681a3bb43a4dd0c0a8fe82)** to **[0b398b3](https://github.com/sagemath/sagetrac-mirror/commit/0b398b32bda04ddfae4e8995ab51e69e526f6998)**",
    "created_at": "2018-03-07T15:55:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374902",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[24a3bd6](https://github.com/sagemath/sagetrac-mirror/commit/24a3bd6fb4f2c4b778681a3bb43a4dd0c0a8fe82)** to **[0b398b3](https://github.com/sagemath/sagetrac-mirror/commit/0b398b32bda04ddfae4e8995ab51e69e526f6998)**



---

archive/issue_comments_374903.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d875aab39d9c07b80ba8ffcdefdab75a0d36bb3d\">d875aab</a></td><td><code>Merge branch 'develop' into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr></table>\n",
    "created_at": "2018-03-13T21:53:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374903",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12" align="right">Comment 12</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d875aab39d9c07b80ba8ffcdefdab75a0d36bb3d">d875aab</a></td><td><code>Merge branch 'develop' into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr></table>




---

archive/issue_comments_374904.json:
```json
{
    "body": "Changed commit from **[0b398b3](https://github.com/sagemath/sagetrac-mirror/commit/0b398b32bda04ddfae4e8995ab51e69e526f6998)** to **[d875aab](https://github.com/sagemath/sagetrac-mirror/commit/d875aab39d9c07b80ba8ffcdefdab75a0d36bb3d)**",
    "created_at": "2018-03-13T21:53:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374904",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0b398b3](https://github.com/sagemath/sagetrac-mirror/commit/0b398b32bda04ddfae4e8995ab51e69e526f6998)** to **[d875aab](https://github.com/sagemath/sagetrac-mirror/commit/d875aab39d9c07b80ba8ffcdefdab75a0d36bb3d)**



---

archive/issue_comments_374905.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1286b96290a65615e6945dcb69ec621b03ec8ff\">c1286b9</a></td><td><code>Merge branch 'develop' into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr></table>\n",
    "created_at": "2018-05-16T06:08:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374905",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13" align="right">Comment 13</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1286b96290a65615e6945dcb69ec621b03ec8ff">c1286b9</a></td><td><code>Merge branch 'develop' into t/24571/orthogonal_groups_of_torsionquadraticmodules</code></td></tr></table>




---

archive/issue_comments_374906.json:
```json
{
    "body": "Changed commit from **[d875aab](https://github.com/sagemath/sagetrac-mirror/commit/d875aab39d9c07b80ba8ffcdefdab75a0d36bb3d)** to **[c1286b9](https://github.com/sagemath/sagetrac-mirror/commit/c1286b96290a65615e6945dcb69ec621b03ec8ff)**",
    "created_at": "2018-05-16T06:08:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374906",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d875aab](https://github.com/sagemath/sagetrac-mirror/commit/d875aab39d9c07b80ba8ffcdefdab75a0d36bb3d)** to **[c1286b9](https://github.com/sagemath/sagetrac-mirror/commit/c1286b96290a65615e6945dcb69ec621b03ec8ff)**



---

archive/issue_comments_374907.json:
```json
{
    "body": "Changed commit from **[c1286b9](https://github.com/sagemath/sagetrac-mirror/commit/c1286b96290a65615e6945dcb69ec621b03ec8ff)** to **[61f6f07](https://github.com/sagemath/sagetrac-mirror/commit/61f6f0782354b4d8123f05db2ec7c40357e0ac5a)**",
    "created_at": "2018-05-16T06:11:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374907",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c1286b9](https://github.com/sagemath/sagetrac-mirror/commit/c1286b96290a65615e6945dcb69ec621b03ec8ff)** to **[61f6f07](https://github.com/sagemath/sagetrac-mirror/commit/61f6f0782354b4d8123f05db2ec7c40357e0ac5a)**



---

archive/issue_comments_374908.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61f6f0782354b4d8123f05db2ec7c40357e0ac5a\">61f6f07</a></td><td><code>removed duplicate folder</code></td></tr></table>\n",
    "created_at": "2018-05-16T06:11:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374908",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14" align="right">Comment 14</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61f6f0782354b4d8123f05db2ec7c40357e0ac5a">61f6f07</a></td><td><code>removed duplicate folder</code></td></tr></table>




---

archive/issue_comments_374909.json:
```json
{
    "body": "Changed commit from **[61f6f07](https://github.com/sagemath/sagetrac-mirror/commit/61f6f0782354b4d8123f05db2ec7c40357e0ac5a)** to **[53ad810](https://github.com/sagemath/sagetrac-mirror/commit/53ad81074430938bec86b3b725127ce085fa4b6f)**",
    "created_at": "2018-05-16T08:34:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374909",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[61f6f07](https://github.com/sagemath/sagetrac-mirror/commit/61f6f0782354b4d8123f05db2ec7c40357e0ac5a)** to **[53ad810](https://github.com/sagemath/sagetrac-mirror/commit/53ad81074430938bec86b3b725127ce085fa4b6f)**



---

archive/issue_comments_374910.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e49efb67f31b0a6833582e26e820a930182c3795\">e49efb6</a></td><td><code>Docfixes and separated generators and lifting into two files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53ad81074430938bec86b3b725127ce085fa4b6f\">53ad810</a></td><td><code>bugfix typo</code></td></tr></table>\n",
    "created_at": "2018-05-16T08:34:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374910",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15" align="right">Comment 15</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e49efb67f31b0a6833582e26e820a930182c3795">e49efb6</a></td><td><code>Docfixes and separated generators and lifting into two files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53ad81074430938bec86b3b725127ce085fa4b6f">53ad810</a></td><td><code>bugfix typo</code></td></tr></table>




---

archive/issue_comments_374911.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/772a8dc34a5c7d2ae2e7222d613eac21a6bc9e0f\">772a8dc</a></td><td><code>Added actions and chagned printing.</code></td></tr></table>\n",
    "created_at": "2018-05-16T10:01:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374911",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16" align="right">Comment 16</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/772a8dc34a5c7d2ae2e7222d613eac21a6bc9e0f">772a8dc</a></td><td><code>Added actions and chagned printing.</code></td></tr></table>




---

archive/issue_comments_374912.json:
```json
{
    "body": "Changed commit from **[53ad810](https://github.com/sagemath/sagetrac-mirror/commit/53ad81074430938bec86b3b725127ce085fa4b6f)** to **[772a8dc](https://github.com/sagemath/sagetrac-mirror/commit/772a8dc34a5c7d2ae2e7222d613eac21a6bc9e0f)**",
    "created_at": "2018-05-16T10:01:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374912",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[53ad810](https://github.com/sagemath/sagetrac-mirror/commit/53ad81074430938bec86b3b725127ce085fa4b6f)** to **[772a8dc](https://github.com/sagemath/sagetrac-mirror/commit/772a8dc34a5c7d2ae2e7222d613eac21a6bc9e0f)**



---

archive/issue_comments_374913.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2282fa059a960df74c0d0fec04e6e5aeb5aab0c5\">2282fa0</a></td><td><code>doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9207c3360e9367678848c907e47880672ab60ef\">c9207c3</a></td><td><code>more documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f62c70eadf7e3a55241e116fc0f00aa92c548bfe\">f62c70e</a></td><td><code>Conversions</code></td></tr></table>\n",
    "created_at": "2018-05-17T09:30:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374913",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17" align="right">Comment 17</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2282fa059a960df74c0d0fec04e6e5aeb5aab0c5">2282fa0</a></td><td><code>doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9207c3360e9367678848c907e47880672ab60ef">c9207c3</a></td><td><code>more documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f62c70eadf7e3a55241e116fc0f00aa92c548bfe">f62c70e</a></td><td><code>Conversions</code></td></tr></table>




---

archive/issue_comments_374914.json:
```json
{
    "body": "Changed commit from **[772a8dc](https://github.com/sagemath/sagetrac-mirror/commit/772a8dc34a5c7d2ae2e7222d613eac21a6bc9e0f)** to **[f62c70e](https://github.com/sagemath/sagetrac-mirror/commit/f62c70eadf7e3a55241e116fc0f00aa92c548bfe)**",
    "created_at": "2018-05-17T09:30:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374914",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[772a8dc](https://github.com/sagemath/sagetrac-mirror/commit/772a8dc34a5c7d2ae2e7222d613eac21a6bc9e0f)** to **[f62c70e](https://github.com/sagemath/sagetrac-mirror/commit/f62c70eadf7e3a55241e116fc0f00aa92c548bfe)**



---

archive/issue_comments_374915.json:
```json
{
    "body": "Changed commit from **[f62c70e](https://github.com/sagemath/sagetrac-mirror/commit/f62c70eadf7e3a55241e116fc0f00aa92c548bfe)** to **[d32b1a3](https://github.com/sagemath/sagetrac-mirror/commit/d32b1a39bcfba9cfb30e64cecb540fd8adb44609)**",
    "created_at": "2020-01-08T16:13:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374915",
    "user": "https://github.com/simonbrandhorst"
}
```

Changed commit from **[f62c70e](https://github.com/sagemath/sagetrac-mirror/commit/f62c70eadf7e3a55241e116fc0f00aa92c548bfe)** to **[d32b1a3](https://github.com/sagemath/sagetrac-mirror/commit/d32b1a39bcfba9cfb30e64cecb540fd8adb44609)**



---

archive/issue_events_322289.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2020-01-08T16:13:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24571#event-322289"
}
```



---

archive/issue_events_322290.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2020-01-08T16:13:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24571#event-322290"
}
```



---

archive/issue_events_322291.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2020-01-08T16:13:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24571#event-322291"
}
```



---

archive/issue_comments_374916.json:
```json
{
    "body": "Changed branch from **[u/sbrandhorst/orthogonal_groups_of_torsionquadraticmodules](https://github.com/sagemath/sagetrac-mirror/tree/u/sbrandhorst/orthogonal_groups_of_torsionquadraticmodules)** to **[u/sbrandhorst/fqf_orthogonal](https://github.com/sagemath/sagetrac-mirror/tree/u/sbrandhorst/fqf_orthogonal)**",
    "created_at": "2020-01-08T16:13:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374916",
    "user": "https://github.com/simonbrandhorst"
}
```

Changed branch from **[u/sbrandhorst/orthogonal_groups_of_torsionquadraticmodules](https://github.com/sagemath/sagetrac-mirror/tree/u/sbrandhorst/orthogonal_groups_of_torsionquadraticmodules)** to **[u/sbrandhorst/fqf_orthogonal](https://github.com/sagemath/sagetrac-mirror/tree/u/sbrandhorst/fqf_orthogonal)**



---

archive/issue_comments_374917.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nAdded a slow brute force fallback to compute the generators.\nIn general one can \"write down\" the generators, but that took me a few thousand lines of code. I'll turn that into an optional package sometimes...\nMeanwhile this should do it. \n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68314fe11778914b5c3603b79bc94e5e60bf4eb9\">68314fe</a></td><td><code>FqfOrthogonalGroup first version.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d32b1a39bcfba9cfb30e64cecb540fd8adb44609\">d32b1a3</a></td><td><code>date</code></td></tr></table>\n",
    "created_at": "2020-01-08T16:13:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374917",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:18" align="right">Comment 18</div>

Added a slow brute force fallback to compute the generators.
In general one can "write down" the generators, but that took me a few thousand lines of code. I'll turn that into an optional package sometimes...
Meanwhile this should do it. 

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68314fe11778914b5c3603b79bc94e5e60bf4eb9">68314fe</a></td><td><code>FqfOrthogonalGroup first version.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d32b1a39bcfba9cfb30e64cecb540fd8adb44609">d32b1a3</a></td><td><code>date</code></td></tr></table>




---

archive/issue_comments_374918.json:
```json
{
    "body": "Author: **Simon Brandhorst**",
    "created_at": "2020-01-21T10:11:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374918",
    "user": "https://github.com/simonbrandhorst"
}
```

Author: **Simon Brandhorst**



---

archive/issue_comments_374919.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38d15fb3de0c2f461ee288db7764c789e31ca13f\">38d15fb</a></td><td><code>fqf_orthogonal_groups</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cfc8328f3fc7fe289a52c268bb98641ea8f3042e\">cfc8328</a></td><td><code>generators</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b8e670d757882e1dce28cf1c576a7c2844f2bd8\">2b8e670</a></td><td><code>Merge branch 'u/sbrandhorst/fqf_orthogonal' of git://trac.sagemath.org/sage into t/24571/Ofqf</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b42bbe15d31f769e246bcd0f544bd36dbba04685\">b42bbe1</a></td><td><code>Merge branch 'develop' into t/24571/Ofqf</code></td></tr></table>\n",
    "created_at": "2020-02-18T10:35:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374919",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20" align="right">Comment 20</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38d15fb3de0c2f461ee288db7764c789e31ca13f">38d15fb</a></td><td><code>fqf_orthogonal_groups</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cfc8328f3fc7fe289a52c268bb98641ea8f3042e">cfc8328</a></td><td><code>generators</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b8e670d757882e1dce28cf1c576a7c2844f2bd8">2b8e670</a></td><td><code>Merge branch 'u/sbrandhorst/fqf_orthogonal' of git://trac.sagemath.org/sage into t/24571/Ofqf</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b42bbe15d31f769e246bcd0f544bd36dbba04685">b42bbe1</a></td><td><code>Merge branch 'develop' into t/24571/Ofqf</code></td></tr></table>




---

archive/issue_comments_374920.json:
```json
{
    "body": "Changed commit from **[d32b1a3](https://github.com/sagemath/sagetrac-mirror/commit/d32b1a39bcfba9cfb30e64cecb540fd8adb44609)** to **[b42bbe1](https://github.com/sagemath/sagetrac-mirror/commit/b42bbe15d31f769e246bcd0f544bd36dbba04685)**",
    "created_at": "2020-02-18T10:35:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374920",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d32b1a3](https://github.com/sagemath/sagetrac-mirror/commit/d32b1a39bcfba9cfb30e64cecb540fd8adb44609)** to **[b42bbe1](https://github.com/sagemath/sagetrac-mirror/commit/b42bbe15d31f769e246bcd0f544bd36dbba04685)**



---

archive/issue_comments_374921.json:
```json
{
    "body": "Changed commit from **[b42bbe1](https://github.com/sagemath/sagetrac-mirror/commit/b42bbe15d31f769e246bcd0f544bd36dbba04685)** to **[53c8eda](https://github.com/sagemath/sagetrac-mirror/commit/53c8eda956c3d2dbeb4cfca8a20778a987717bee)**",
    "created_at": "2020-02-18T10:48:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374921",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b42bbe1](https://github.com/sagemath/sagetrac-mirror/commit/b42bbe15d31f769e246bcd0f544bd36dbba04685)** to **[53c8eda](https://github.com/sagemath/sagetrac-mirror/commit/53c8eda956c3d2dbeb4cfca8a20778a987717bee)**



---

archive/issue_comments_374922.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53c8eda956c3d2dbeb4cfca8a20778a987717bee\">53c8eda</a></td><td><code>deleted duplicates</code></td></tr></table>\n",
    "created_at": "2020-02-18T10:48:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374922",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21" align="right">Comment 21</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53c8eda956c3d2dbeb4cfca8a20778a987717bee">53c8eda</a></td><td><code>deleted duplicates</code></td></tr></table>




---

archive/issue_comments_374923.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nA bunch of little things:\n\nFor the first line of the module, it gets displayed as a title. So could you remove the period/full-stop at the end? Also, I think it should follow title capitalization, but Sage is not so consistent about this...\n\nPEP8 nitpick (just because changes are being done):\n\n```diff\n-return x*self\n+return x * self\n```\nand a few other similar such things.\n\n```diff\n     INPUT:\n \n-        - ``T`` a non degenerate torsion quadratic module.\n+    - ``T`` -- a non degenerate torsion quadratic module\n```\n\n`FqfOrthogonalGroup.__init__` is missing its docstring (and a `TestSuite(foo).run()` call).\n\n```diff\n-if not fqf.invariants() == ambient.domain().gens_orders():\n+if fqf.invariants() != ambient.domain().gens_orders():\n```\n\n```diff\n-        if check:\n-            for g in self.gens():\n-                if not self._preserves_form(g):\n-                    raise ValueError(\"%s does not preserve the quadratic form\"%g)\n+        if check and any(not self._preserves_form(g) for g in self.gens()):\n+            raise ValueError(\"%s does not preserve the quadratic form\"%g)\n```\n\nDo you really want specific type checking here and not subclass\n\n```python\nif not type(x) is GapElement:\n```\ncompared to `if not isinstance(x, GapElement):`?\n\nThe `_preserves_form` could be condensed into an `all()` statement:\n\n```python\nreturn all((gi*f).q() != gi.q() and all((gi*f).b(g[j]*f) != (gi*f).b(g[j]*f)\n                                        for j in range(i+1, len(g)))\n           for i, gi in enumerate(g)\n```\n\n```diff\n-        WARNING:\n+        .. WARNING::\n \n-        This is usually smaller than the orthogonal group of the bilinear form.\n+            This is usually smaller than the orthogonal group of the bilinear form.\n```\n\nI don't understand these lines here:\n\n```python\n        try:\n            gens = [matrix(x*g for x in self.smith_form_gens()) for g in gens]\n        except TypeError:\n            pass\n```\nWhy should it continue without modifying `gens`? It might be good to include this as a comment in the code.",
    "created_at": "2020-02-18T12:45:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374923",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:23" align="right">Comment 23</div>

A bunch of little things:

For the first line of the module, it gets displayed as a title. So could you remove the period/full-stop at the end? Also, I think it should follow title capitalization, but Sage is not so consistent about this...

PEP8 nitpick (just because changes are being done):

```diff
-return x*self
+return x * self
```
and a few other similar such things.

```diff
     INPUT:
 
-        - ``T`` a non degenerate torsion quadratic module.
+    - ``T`` -- a non degenerate torsion quadratic module
```

`FqfOrthogonalGroup.__init__` is missing its docstring (and a `TestSuite(foo).run()` call).

```diff
-if not fqf.invariants() == ambient.domain().gens_orders():
+if fqf.invariants() != ambient.domain().gens_orders():
```

```diff
-        if check:
-            for g in self.gens():
-                if not self._preserves_form(g):
-                    raise ValueError("%s does not preserve the quadratic form"%g)
+        if check and any(not self._preserves_form(g) for g in self.gens()):
+            raise ValueError("%s does not preserve the quadratic form"%g)
```

Do you really want specific type checking here and not subclass

```python
if not type(x) is GapElement:
```
compared to `if not isinstance(x, GapElement):`?

The `_preserves_form` could be condensed into an `all()` statement:

```python
return all((gi*f).q() != gi.q() and all((gi*f).b(g[j]*f) != (gi*f).b(g[j]*f)
                                        for j in range(i+1, len(g)))
           for i, gi in enumerate(g)
```

```diff
-        WARNING:
+        .. WARNING::
 
-        This is usually smaller than the orthogonal group of the bilinear form.
+            This is usually smaller than the orthogonal group of the bilinear form.
```

I don't understand these lines here:

```python
        try:
            gens = [matrix(x*g for x in self.smith_form_gens()) for g in gens]
        except TypeError:
            pass
```
Why should it continue without modifying `gens`? It might be good to include this as a comment in the code.



---

archive/issue_comments_374924.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41c8cc228c26712fb69ee89f983c32212eeeec90\">41c8cc2</a></td><td><code>improvements due to reviewer's comments</code></td></tr></table>\n",
    "created_at": "2020-02-18T14:07:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374924",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24" align="right">Comment 24</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41c8cc228c26712fb69ee89f983c32212eeeec90">41c8cc2</a></td><td><code>improvements due to reviewer's comments</code></td></tr></table>




---

archive/issue_comments_374925.json:
```json
{
    "body": "Changed commit from **[53c8eda](https://github.com/sagemath/sagetrac-mirror/commit/53c8eda956c3d2dbeb4cfca8a20778a987717bee)** to **[41c8cc2](https://github.com/sagemath/sagetrac-mirror/commit/41c8cc228c26712fb69ee89f983c32212eeeec90)**",
    "created_at": "2020-02-18T14:07:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374925",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[53c8eda](https://github.com/sagemath/sagetrac-mirror/commit/53c8eda956c3d2dbeb4cfca8a20778a987717bee)** to **[41c8cc2](https://github.com/sagemath/sagetrac-mirror/commit/41c8cc228c26712fb69ee89f983c32212eeeec90)**



---

archive/issue_comments_374926.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\n\n```\nFile \"src/sage/groups/fqf_orthogonal.py\", line 190, in sage.groups.fqf_orthogonal.FqfOrthogonalGroup.invariant_form\nFailed example:\n    Oq.invariant_form() is T\nExpected:\n    True\nGot:\n    False\n```\nBut in an interactive session I get\n\n```\nsage: q = matrix.diagonal(QQ, [2/3])\n....: T = TorsionQuadraticForm(q)\n....: Oq = T.orthogonal_group()\n....: Oq.invariant_form() is T\n....: \nTrue\n```\nCan you reproduce this behavior? What is going on?",
    "created_at": "2020-02-18T14:10:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374926",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:25" align="right">Comment 25</div>


```
File "src/sage/groups/fqf_orthogonal.py", line 190, in sage.groups.fqf_orthogonal.FqfOrthogonalGroup.invariant_form
Failed example:
    Oq.invariant_form() is T
Expected:
    True
Got:
    False
```
But in an interactive session I get

```
sage: q = matrix.diagonal(QQ, [2/3])
....: T = TorsionQuadraticForm(q)
....: Oq = T.orthogonal_group()
....: Oq.invariant_form() is T
....: 
True
```
Can you reproduce this behavior? What is going on?



---

archive/issue_comments_374927.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nYou have to create it twice to see it (see lines 71-74 (side note, probably be better to call the `TorsionQuadraticForm` `T` instead of reusing `q`)):\n\n```\nsage: qp = matrix.diagonal(QQ, [2/3])\nsage: Tp = TorsionQuadraticForm(qp)\nsage: Gp = Tp.orthogonal_group()\nsage: Gp.invariant_form() is Tp\nTrue\nsage: q = matrix.diagonal(QQ, [2/3])\nsage: T = TorsionQuadraticForm(q)\nsage: G = DiGraph([[1,2],[2,3]])\nsage: Oq = T.orthogonal_group()\nsage: Oq.invariant_form() is T\nFalse\n```\nSomething is not being set correctly in a cache somewhere:\n\n```\nsage: T is Tp\nFalse\nsage: Oq.invariant_form() is Tp\nTrue\nsage: Oq is Gp\nTrue\n```\nMy solution would be to make the results from `TorsionQuadraticForm` to be `UniqueRepresentation`. Otherwise just weaken the test slightly to be `==` instead of `is` (and make a clear note saying that the result does not have the unique representation property). (Side question: why aren't the (only ambient?) free modules in Sage a `UniqueRepresentation`?)",
    "created_at": "2020-02-19T00:10:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374927",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:26" align="right">Comment 26</div>

You have to create it twice to see it (see lines 71-74 (side note, probably be better to call the `TorsionQuadraticForm` `T` instead of reusing `q`)):

```
sage: qp = matrix.diagonal(QQ, [2/3])
sage: Tp = TorsionQuadraticForm(qp)
sage: Gp = Tp.orthogonal_group()
sage: Gp.invariant_form() is Tp
True
sage: q = matrix.diagonal(QQ, [2/3])
sage: T = TorsionQuadraticForm(q)
sage: G = DiGraph([[1,2],[2,3]])
sage: Oq = T.orthogonal_group()
sage: Oq.invariant_form() is T
False
```
Something is not being set correctly in a cache somewhere:

```
sage: T is Tp
False
sage: Oq.invariant_form() is Tp
True
sage: Oq is Gp
True
```
My solution would be to make the results from `TorsionQuadraticForm` to be `UniqueRepresentation`. Otherwise just weaken the test slightly to be `==` instead of `is` (and make a clear note saying that the result does not have the unique representation property). (Side question: why aren't the (only ambient?) free modules in Sage a `UniqueRepresentation`?)



---

archive/issue_comments_374928.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nMy guess is that the creation of ambient free modules predates `UniqueRepresentation` and no one cared enough to change it.\n\nIndeed, it seems that torsion quadratic modules are not uniquely represented while FGP_modules are. But not via `UniqueRepresentation`.\nIn the computation of the orthogonal group we have the call\n\n```\n  Oq =  FqfOrthogonalGroup(ambient, gens, self, check=check)\n```\nwhich returns an instance of `UniqueRepresentation`.\n\n```\nsage: isinstance(Oq,UniqueRepresentation)\nTrue\n```\nTo do that, it uses the hash of `ambient`, `gens` and `self`\nbut `self` is not uniquely determined (`is`) by its hash (only up to `==`). \n\nWe could make FGP_Modules a `UniqueRepresentation` and do the same with `TorsionQuadraticModule`",
    "created_at": "2020-02-19T19:29:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374928",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:27" align="right">Comment 27</div>

My guess is that the creation of ambient free modules predates `UniqueRepresentation` and no one cared enough to change it.

Indeed, it seems that torsion quadratic modules are not uniquely represented while FGP_modules are. But not via `UniqueRepresentation`.
In the computation of the orthogonal group we have the call

```
  Oq =  FqfOrthogonalGroup(ambient, gens, self, check=check)
```
which returns an instance of `UniqueRepresentation`.

```
sage: isinstance(Oq,UniqueRepresentation)
True
```
To do that, it uses the hash of `ambient`, `gens` and `self`
but `self` is not uniquely determined (`is`) by its hash (only up to `==`). 

We could make FGP_Modules a `UniqueRepresentation` and do the same with `TorsionQuadraticModule`



---

archive/issue_comments_374929.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nAnother option would be to remove the `UniqueRepresentation` from\n`AbelianGroupAutomorphismGroup_gap` which is fine for me.",
    "created_at": "2020-02-19T19:35:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374929",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:28" align="right">Comment 28</div>

Another option would be to remove the `UniqueRepresentation` from
`AbelianGroupAutomorphismGroup_gap` which is fine for me.



---

archive/issue_comments_374930.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nI would make them `UniqueRepresentation`s as the coercion framework works a lot better with them, it comes with pickling, and is faster when doing equality testing. It might be sufficient to just do `TorsionQuadraticModule` for this doctest. The `UniqueRepresentation` key only compares things up to `==`, not `is`.",
    "created_at": "2020-02-19T21:19:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374930",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:29" align="right">Comment 29</div>

I would make them `UniqueRepresentation`s as the coercion framework works a lot better with them, it comes with pickling, and is faster when doing equality testing. It might be sufficient to just do `TorsionQuadraticModule` for this doctest. The `UniqueRepresentation` key only compares things up to `==`, not `is`.



---

archive/issue_comments_374931.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nHow about `CachedRepresentation` instead? Like for symmetric groups?",
    "created_at": "2020-02-19T21:21:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374931",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:30" align="right">Comment 30</div>

How about `CachedRepresentation` instead? Like for symmetric groups?



---

archive/issue_comments_374932.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nAt the moment I am trying to turn `FGP_Module` into a `UniqueRepresentation` but it breaks a lot of code elsewhere with non-hashable input. So maybe just doing `TorsionQuadraticModule` is okay.",
    "created_at": "2020-02-19T21:23:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374932",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:31" align="right">Comment 31</div>

At the moment I am trying to turn `FGP_Module` into a `UniqueRepresentation` but it breaks a lot of code elsewhere with non-hashable input. So maybe just doing `TorsionQuadraticModule` is okay.



---

archive/issue_comments_374933.json:
```json
{
    "body": "Changed commit from **[41c8cc2](https://github.com/sagemath/sagetrac-mirror/commit/41c8cc228c26712fb69ee89f983c32212eeeec90)** to **[7b32b2e](https://github.com/sagemath/sagetrac-mirror/commit/7b32b2e81ac1bc57af0128989bde4e3699765f04)**",
    "created_at": "2020-02-19T21:59:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374933",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[41c8cc2](https://github.com/sagemath/sagetrac-mirror/commit/41c8cc228c26712fb69ee89f983c32212eeeec90)** to **[7b32b2e](https://github.com/sagemath/sagetrac-mirror/commit/7b32b2e81ac1bc57af0128989bde4e3699765f04)**



---

archive/issue_comments_374934.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2361452114e1c62f34e94b5582c0ed78d5cde927\">2361452</a></td><td><code>make TorsionQuadraticModule UniqueRepresentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b32b2e81ac1bc57af0128989bde4e3699765f04\">7b32b2e</a></td><td><code>make automorphism groups of abelian groups CachedRepresentation instead of UniqueRepresentation</code></td></tr></table>\n",
    "created_at": "2020-02-19T21:59:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374934",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32" align="right">Comment 32</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2361452114e1c62f34e94b5582c0ed78d5cde927">2361452</a></td><td><code>make TorsionQuadraticModule UniqueRepresentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b32b2e81ac1bc57af0128989bde4e3699765f04">7b32b2e</a></td><td><code>make automorphism groups of abelian groups CachedRepresentation instead of UniqueRepresentation</code></td></tr></table>




---

archive/issue_comments_374935.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nFor reason to use CachedRepresentation instead of UniqueRepresentation\nI quote its\n\n```\nIn many applications, one wants to combine unique instance and cached\nrepresentation behaviour. This is called *unique representation* behaviour.\nWe have seen above that symmetric groups have a *cached* representation\nbehaviour. However, they do not show the *unique* representation behaviour,\nsince they are equal to groups created in a totally different way, namely to\nsubgroups::\n\n    sage: G = SymmetricGroup(6)\n    sage: G3 = G.subgroup([G((1,2,3,4,5,6)),G((1,2))])\n    sage: G is G3\n    False\n    sage: type(G) == type(G3)\n    False\n    sage: G == G3\n    True\n\n```\nThe same reasoning applies to both `TorsionQuadraticModule` and `AbelianGroupAutomorphismGroup_gap`",
    "created_at": "2020-02-19T22:04:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374935",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:33" align="right">Comment 33</div>

For reason to use CachedRepresentation instead of UniqueRepresentation
I quote its

```
In many applications, one wants to combine unique instance and cached
representation behaviour. This is called *unique representation* behaviour.
We have seen above that symmetric groups have a *cached* representation
behaviour. However, they do not show the *unique* representation behaviour,
since they are equal to groups created in a totally different way, namely to
subgroups::

    sage: G = SymmetricGroup(6)
    sage: G3 = G.subgroup([G((1,2,3,4,5,6)),G((1,2))])
    sage: G is G3
    False
    sage: type(G) == type(G3)
    False
    sage: G == G3
    True

```
The same reasoning applies to both `TorsionQuadraticModule` and `AbelianGroupAutomorphismGroup_gap`



---

archive/issue_comments_374936.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nReplying to [@tscrim](#comment%3A23):\n> The `_preserves_form` could be condensed into an `all()` statement:\n> \n> ```python\n> return all((gi*f).q() != gi.q() and all((gi*f).b(g[j]*f) != (gi*f).b(g[j]*f)\n>                                         for j in range(i+1, len(g)))\n>            for i, gi in enumerate(g)\n> ```\n\nWhat is the benefit of this? I do not find it more aesthetic. \nIs it faster?",
    "created_at": "2020-02-19T22:06:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374936",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:34" align="right">Comment 34</div>

Replying to [@tscrim](#comment%3A23):
> The `_preserves_form` could be condensed into an `all()` statement:
> 
> ```python
> return all((gi*f).q() != gi.q() and all((gi*f).b(g[j]*f) != (gi*f).b(g[j]*f)
>                                         for j in range(i+1, len(g)))
>            for i, gi in enumerate(g)
> ```

What is the benefit of this? I do not find it more aesthetic. 
Is it faster?



---

archive/issue_comments_374937.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nFor [comment:34](#comment%3A34): yes, it is faster.\n\nFor [comment:33](#comment%3A33): I don't see that for `TorsionQuadraticModule` or `AbelianGroupAutomorphismGroup_gap`. For the symmetric groups, you can realize, e.g., `S_4` as either the group itself or as the natural subgroup of `S_5`. Since these are the same permutation group, the problem arises from `UniqueRepresentation` as the latter should know it is a subgroup but the former should not. Here, the `AbelianGroupAutomorphismGroup_gap` is created only as a specific (sub)group of automorphisms. The same reasoning holds true for `TorsionQuadraticModule`: it is identified with unique additional data.\n\nFor `FGP_Module`, this is not the case as the same Python class (representing the same module) can be created in different ways that carry different information. So I agree that this should not be a `UniqueRepresentation`.",
    "created_at": "2020-02-19T22:34:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374937",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:35" align="right">Comment 35</div>

For [comment:34](#comment%3A34): yes, it is faster.

For [comment:33](#comment%3A33): I don't see that for `TorsionQuadraticModule` or `AbelianGroupAutomorphismGroup_gap`. For the symmetric groups, you can realize, e.g., `S_4` as either the group itself or as the natural subgroup of `S_5`. Since these are the same permutation group, the problem arises from `UniqueRepresentation` as the latter should know it is a subgroup but the former should not. Here, the `AbelianGroupAutomorphismGroup_gap` is created only as a specific (sub)group of automorphisms. The same reasoning holds true for `TorsionQuadraticModule`: it is identified with unique additional data.

For `FGP_Module`, this is not the case as the same Python class (representing the same module) can be created in different ways that carry different information. So I agree that this should not be a `UniqueRepresentation`.



---

archive/issue_comments_374938.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\n`UniqueRepresentation`, that is, equality if and only if it is the same object would change the behavior.\n\n```\nsage: q = TorsionQuadraticForm(matrix([2/3]))\nsage: q1 = q.submodule_with_gens([2*q.0])\nsage: q == q1\nTrue\nsage: q is q1\nFalse\n```\nYou can have the same group with different generators.\n\nTo me `any` is twice as slow as a simple for loop.\n\n```\nsage: def test(k):\n....:     for i in range(k):\n....:         if False:\n....:             break\n....:         \nsage: %timeit test(10^9)\n1 loop, best of 5: 18.6 s per loop\nsage: %timeit any(False for i in range(10^9))\n1 loop, best of 5: 43.4 s per loop\nsage: %timeit any(False for i in range(10^5))\nThe slowest run took 4.35 times longer than the fastest. This could mean that an intermediate result is being cached.\n100 loops, best of 5: 3.9 ms per loop\nsage: %timeit any(False for i in range(10^5))\n100 loops, best of 5: 3.88 ms per loop\nsage: %timeit test(10^5)\nThe slowest run took 4.28 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000 loops, best of 5: 1.73 ms per loop\nsage: %timeit test(10^5)\n\n```",
    "created_at": "2020-02-20T09:11:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374938",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:36" align="right">Comment 36</div>

`UniqueRepresentation`, that is, equality if and only if it is the same object would change the behavior.

```
sage: q = TorsionQuadraticForm(matrix([2/3]))
sage: q1 = q.submodule_with_gens([2*q.0])
sage: q == q1
True
sage: q is q1
False
```
You can have the same group with different generators.

To me `any` is twice as slow as a simple for loop.

```
sage: def test(k):
....:     for i in range(k):
....:         if False:
....:             break
....:         
sage: %timeit test(10^9)
1 loop, best of 5: 18.6 s per loop
sage: %timeit any(False for i in range(10^9))
1 loop, best of 5: 43.4 s per loop
sage: %timeit any(False for i in range(10^5))
The slowest run took 4.35 times longer than the fastest. This could mean that an intermediate result is being cached.
100 loops, best of 5: 3.9 ms per loop
sage: %timeit any(False for i in range(10^5))
100 loops, best of 5: 3.88 ms per loop
sage: %timeit test(10^5)
The slowest run took 4.28 times longer than the fastest. This could mean that an intermediate result is being cached.
1000 loops, best of 5: 1.73 ms per loop
sage: %timeit test(10^5)

```



---

archive/issue_comments_374939.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nReplying to [@simonbrandhorst](#comment%3A36):\n> `UniqueRepresentation`, that is, equality if and only if it is the same object would change the behavior.\n> \n> ```\n> sage: q = TorsionQuadraticForm(matrix([2/3]))\n> sage: q1 = q.submodule_with_gens([2*q.0])\n> sage: q == q1\n> True\n> sage: q is q1\n> False\n> ```\n> You can have the same group with different generators.\n\nI see. I was thinking the extra construction data would make you want to distinguish them via equality. Okay, then using `CachedRepresentation` is good.\n\n> To me `any` is twice as slow as a simple for loop.\n> \n> ```\n> sage: def test(k):\n> ....:     for i in range(k):\n> ....:         if False:\n> ....:             break\n> ....:         \n> sage: %timeit test(10^9)\n> 1 loop, best of 5: 18.6 s per loop\n> sage: %timeit any(False for i in range(10^9))\n> 1 loop, best of 5: 43.4 s per loop\n> sage: %timeit any(False for i in range(10^5))\n> The slowest run took 4.35 times longer than the fastest. This could mean that an intermediate result is being cached.\n> 100 loops, best of 5: 3.9 ms per loop\n> sage: %timeit any(False for i in range(10^5))\n> 100 loops, best of 5: 3.88 ms per loop\n> sage: %timeit test(10^5)\n> The slowest run took 4.28 times longer than the fastest. This could mean that an intermediate result is being cached.\n> 1000 loops, best of 5: 1.73 ms per loop\n> sage: %timeit test(10^5)\n> \n> ```\n\nWhen I change it to a non-trivial test, I get nearly the same timings, but with an extra 3ms for the `any` and `all`. So they are essentially the same in any practical scenario. Maybe something has changed in Python3 compared to Python2? I definitely did test this previously and saw a speedup... Oh well. I agree the current code with `for` loops is easier to understand. However, I still recommend using `for i,gi in enumerate(g):`. You may also want to have `g[i]*f` into a separate variable so you are not recomputing it a bunch of times (about 2n<sup>2</sup> times in total in fact).",
    "created_at": "2020-02-20T10:57:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374939",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:37" align="right">Comment 37</div>

Replying to [@simonbrandhorst](#comment%3A36):
> `UniqueRepresentation`, that is, equality if and only if it is the same object would change the behavior.
> 
> ```
> sage: q = TorsionQuadraticForm(matrix([2/3]))
> sage: q1 = q.submodule_with_gens([2*q.0])
> sage: q == q1
> True
> sage: q is q1
> False
> ```
> You can have the same group with different generators.

I see. I was thinking the extra construction data would make you want to distinguish them via equality. Okay, then using `CachedRepresentation` is good.

> To me `any` is twice as slow as a simple for loop.
> 
> ```
> sage: def test(k):
> ....:     for i in range(k):
> ....:         if False:
> ....:             break
> ....:         
> sage: %timeit test(10^9)
> 1 loop, best of 5: 18.6 s per loop
> sage: %timeit any(False for i in range(10^9))
> 1 loop, best of 5: 43.4 s per loop
> sage: %timeit any(False for i in range(10^5))
> The slowest run took 4.35 times longer than the fastest. This could mean that an intermediate result is being cached.
> 100 loops, best of 5: 3.9 ms per loop
> sage: %timeit any(False for i in range(10^5))
> 100 loops, best of 5: 3.88 ms per loop
> sage: %timeit test(10^5)
> The slowest run took 4.28 times longer than the fastest. This could mean that an intermediate result is being cached.
> 1000 loops, best of 5: 1.73 ms per loop
> sage: %timeit test(10^5)
> 
> ```

When I change it to a non-trivial test, I get nearly the same timings, but with an extra 3ms for the `any` and `all`. So they are essentially the same in any practical scenario. Maybe something has changed in Python3 compared to Python2? I definitely did test this previously and saw a speedup... Oh well. I agree the current code with `for` loops is easier to understand. However, I still recommend using `for i,gi in enumerate(g):`. You may also want to have `g[i]*f` into a separate variable so you are not recomputing it a bunch of times (about 2n<sup>2</sup> times in total in fact).



---

archive/issue_comments_374940.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nGood point.",
    "created_at": "2020-02-20T11:12:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374940",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:38" align="right">Comment 38</div>

Good point.



---

archive/issue_comments_374941.json:
```json
{
    "body": "Changed commit from **[7b32b2e](https://github.com/sagemath/sagetrac-mirror/commit/7b32b2e81ac1bc57af0128989bde4e3699765f04)** to **[60eb38e](https://github.com/sagemath/sagetrac-mirror/commit/60eb38e69f47c5ebf5025e9cae758e885910137a)**",
    "created_at": "2020-02-20T11:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374941",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7b32b2e](https://github.com/sagemath/sagetrac-mirror/commit/7b32b2e81ac1bc57af0128989bde4e3699765f04)** to **[60eb38e](https://github.com/sagemath/sagetrac-mirror/commit/60eb38e69f47c5ebf5025e9cae758e885910137a)**



---

archive/issue_comments_374942.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60eb38e69f47c5ebf5025e9cae758e885910137a\">60eb38e</a></td><td><code>speed up _preserves_form and full doctest coverage</code></td></tr></table>\n",
    "created_at": "2020-02-20T11:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374942",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39" align="right">Comment 39</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60eb38e69f47c5ebf5025e9cae758e885910137a">60eb38e</a></td><td><code>speed up _preserves_form and full doctest coverage</code></td></tr></table>




---

archive/issue_comments_374943.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/769f3dab906c639e310ce7c1bdcc569ce61da1e7\">769f3da</a></td><td><code>pyflakes</code></td></tr></table>\n",
    "created_at": "2020-02-20T11:39:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374943",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40" align="right">Comment 40</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/769f3dab906c639e310ce7c1bdcc569ce61da1e7">769f3da</a></td><td><code>pyflakes</code></td></tr></table>




---

archive/issue_comments_374944.json:
```json
{
    "body": "Changed commit from **[60eb38e](https://github.com/sagemath/sagetrac-mirror/commit/60eb38e69f47c5ebf5025e9cae758e885910137a)** to **[769f3da](https://github.com/sagemath/sagetrac-mirror/commit/769f3dab906c639e310ce7c1bdcc569ce61da1e7)**",
    "created_at": "2020-02-20T11:39:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374944",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[60eb38e](https://github.com/sagemath/sagetrac-mirror/commit/60eb38e69f47c5ebf5025e9cae758e885910137a)** to **[769f3da](https://github.com/sagemath/sagetrac-mirror/commit/769f3dab906c639e310ce7c1bdcc569ce61da1e7)**



---

archive/issue_comments_374945.json:
```json
{
    "body": "Changed commit from **[769f3da](https://github.com/sagemath/sagetrac-mirror/commit/769f3dab906c639e310ce7c1bdcc569ce61da1e7)** to **[f03d6c4](https://github.com/sagemath/sagetrac-mirror/commit/f03d6c4653dcb7555dd15fbc50dbc17f755418bc)**",
    "created_at": "2020-02-20T19:53:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374945",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[769f3da](https://github.com/sagemath/sagetrac-mirror/commit/769f3dab906c639e310ce7c1bdcc569ce61da1e7)** to **[f03d6c4](https://github.com/sagemath/sagetrac-mirror/commit/f03d6c4653dcb7555dd15fbc50dbc17f755418bc)**



---

archive/issue_comments_374946.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f03d6c4653dcb7555dd15fbc50dbc17f755418bc\">f03d6c4</a></td><td><code>make docs build</code></td></tr></table>\n",
    "created_at": "2020-02-20T19:53:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374946",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41" align="right">Comment 41</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f03d6c4653dcb7555dd15fbc50dbc17f755418bc">f03d6c4</a></td><td><code>make docs build</code></td></tr></table>




---

archive/issue_comments_374947.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nO.K. it should be ready now.",
    "created_at": "2020-02-20T19:54:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374947",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:42" align="right">Comment 42</div>

O.K. it should be ready now.



---

archive/issue_comments_374948.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nThank you for the changes.\n\nLast time I checked, it (surprisingly) is faster to do\n\n```diff\n-gf = tuple(h*f for h in g)\n+gf = tuple([h*f for h in g])\n```\nHowever, I might not do that because then it doesn't take advantage of short-circuiting and it puts everything in memory. So there is a design choice to be made here. I guess it depends on how often you think it will pass through every element in the list at least once before failing and if `g` is expected to be a \"short\" list (in some appropriate sense of the word). You know more the use-cases than I do. This probably is the correct thing to do, but I just wanted to check that you thought about these things as well.\n\nFinally, this change (2x) should be reverted:\n\n```diff\n-        .. WARNING::\n+        ..WARNING::\n```",
    "created_at": "2020-02-21T02:07:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374948",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:43" align="right">Comment 43</div>

Thank you for the changes.

Last time I checked, it (surprisingly) is faster to do

```diff
-gf = tuple(h*f for h in g)
+gf = tuple([h*f for h in g])
```
However, I might not do that because then it doesn't take advantage of short-circuiting and it puts everything in memory. So there is a design choice to be made here. I guess it depends on how often you think it will pass through every element in the list at least once before failing and if `g` is expected to be a "short" list (in some appropriate sense of the word). You know more the use-cases than I do. This probably is the correct thing to do, but I just wanted to check that you thought about these things as well.

Finally, this change (2x) should be reverted:

```diff
-        .. WARNING::
+        ..WARNING::
```



---

archive/issue_comments_374949.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nI guess the common use case is to create a subgroup from some hand-made matrices with `check=True`.\nThen they are tested to preserve the form. If the user did not fuck up, the answer is `True` every time so that the check goes through the whole tuple. \nAre you saying that `gf = tuple(h*f for h in g)` is not expanded in memory?",
    "created_at": "2020-02-21T08:17:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374949",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:44" align="right">Comment 44</div>

I guess the common use case is to create a subgroup from some hand-made matrices with `check=True`.
Then they are tested to preserve the form. If the user did not fuck up, the answer is `True` every time so that the check goes through the whole tuple. 
Are you saying that `gf = tuple(h*f for h in g)` is not expanded in memory?



---

archive/issue_comments_374950.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">Comment 45</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dba9d6f6f0ab2aecc7a8d34c8d6386c0052ecb1e\">dba9d6f</a></td><td><code>\".. WARNING::\"</code></td></tr></table>\n",
    "created_at": "2020-02-21T08:35:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374950",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45" align="right">Comment 45</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dba9d6f6f0ab2aecc7a8d34c8d6386c0052ecb1e">dba9d6f</a></td><td><code>".. WARNING::"</code></td></tr></table>




---

archive/issue_comments_374951.json:
```json
{
    "body": "Changed commit from **[f03d6c4](https://github.com/sagemath/sagetrac-mirror/commit/f03d6c4653dcb7555dd15fbc50dbc17f755418bc)** to **[dba9d6f](https://github.com/sagemath/sagetrac-mirror/commit/dba9d6f6f0ab2aecc7a8d34c8d6386c0052ecb1e)**",
    "created_at": "2020-02-21T08:35:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374951",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f03d6c4](https://github.com/sagemath/sagetrac-mirror/commit/f03d6c4653dcb7555dd15fbc50dbc17f755418bc)** to **[dba9d6f](https://github.com/sagemath/sagetrac-mirror/commit/dba9d6f6f0ab2aecc7a8d34c8d6386c0052ecb1e)**



---

archive/issue_comments_374952.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">Comment 46</div>\n\nI guess if we want speed, the right thing to do is to make `fgp_element.py` a cython file first.\nBut that is certainly for another ticket.",
    "created_at": "2020-02-21T08:38:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374952",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:46" align="right">Comment 46</div>

I guess if we want speed, the right thing to do is to make `fgp_element.py` a cython file first.
But that is certainly for another ticket.



---

archive/issue_comments_374953.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">Comment 47</div>\n\nFair enough. Thank you. Positive review.",
    "created_at": "2020-02-21T08:58:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374953",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:47" align="right">Comment 47</div>

Fair enough. Thank you. Positive review.



---

archive/issue_comments_374954.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2020-02-21T08:58:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374954",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_322292.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-02-21T08:58:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24571#event-322292"
}
```



---

archive/issue_events_322293.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-02-21T08:58:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24571#event-322293"
}
```



---

archive/issue_events_322294.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-02-22T18:28:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24571#event-322294"
}
```



---

archive/issue_events_322295.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-02-22T18:28:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24571#event-322295"
}
```



---

archive/issue_comments_374955.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">Comment 48</div>\n\nOn python 2:\n\n```\n**********************************************************************\nFile \"src/sage/groups/fqf_orthogonal.py\", line 12, in sage.groups.fqf_orthogonal\nFailed example:\n    T = L.discriminant_group()\nException raised:\n    Traceback (most recent call last):\n      File \"/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 681, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1123, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.groups.fqf_orthogonal[1]>\", line 1, in <module>\n        T = L.discriminant_group()\n      File \"sage/misc/cachefunc.pyx\", line 1948, in sage.misc.cachefunc.CachedMethodCaller.__call__ (build/cythonized/sage/misc/cachefunc.c:10273)\n        w = self._instance_call(*args, **kwds)\n      File \"sage/misc/cachefunc.pyx\", line 1824, in sage.misc.cachefunc.CachedMethodCaller._instance_call (build/cythonized/sage/misc/cachefunc.c:9758)\n        return self.f(self._instance, *args, **kwds)\n      File \"/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/modules/free_quadratic_module_integer_symmetric.py\", line 808, in discriminant_group\n        D = TorsionQuadraticModule(self.dual_lattice(), self)\n      File \"sage/misc/classcall_metaclass.pyx\", line 334, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1741)\n        return cls.classcall(cls, *args, **kwds)\n    TypeError: unbound method __classcall__() must be called with TorsionQuadraticModule instance as first argument (got ClasscallMetaclass instance instead)\n**********************************************************************\n```",
    "created_at": "2020-02-22T18:28:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374955",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:48" align="right">Comment 48</div>

On python 2:

```
**********************************************************************
File "src/sage/groups/fqf_orthogonal.py", line 12, in sage.groups.fqf_orthogonal
Failed example:
    T = L.discriminant_group()
Exception raised:
    Traceback (most recent call last):
      File "/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 681, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1123, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.groups.fqf_orthogonal[1]>", line 1, in <module>
        T = L.discriminant_group()
      File "sage/misc/cachefunc.pyx", line 1948, in sage.misc.cachefunc.CachedMethodCaller.__call__ (build/cythonized/sage/misc/cachefunc.c:10273)
        w = self._instance_call(*args, **kwds)
      File "sage/misc/cachefunc.pyx", line 1824, in sage.misc.cachefunc.CachedMethodCaller._instance_call (build/cythonized/sage/misc/cachefunc.c:9758)
        return self.f(self._instance, *args, **kwds)
      File "/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/modules/free_quadratic_module_integer_symmetric.py", line 808, in discriminant_group
        D = TorsionQuadraticModule(self.dual_lattice(), self)
      File "sage/misc/classcall_metaclass.pyx", line 334, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1741)
        return cls.classcall(cls, *args, **kwds)
    TypeError: unbound method __classcall__() must be called with TorsionQuadraticModule instance as first argument (got ClasscallMetaclass instance instead)
**********************************************************************
```



---

archive/issue_comments_374956.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">Comment 49</div>\n\n`__classcall__` should be an `@staticmethod`. Once changed, you can set it back to a positive review.",
    "created_at": "2020-02-23T00:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374956",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:49" align="right">Comment 49</div>

`__classcall__` should be an `@staticmethod`. Once changed, you can set it back to a positive review.



---

archive/issue_comments_374957.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">Comment 50</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4885805e7fe8589975a25d0e7e3587197b7e47f\">c488580</a></td><td><code>@staticmethod added in TorsionQuadraticModule</code></td></tr></table>\n",
    "created_at": "2020-02-24T17:45:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374957",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50" align="right">Comment 50</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4885805e7fe8589975a25d0e7e3587197b7e47f">c488580</a></td><td><code>@staticmethod added in TorsionQuadraticModule</code></td></tr></table>




---

archive/issue_comments_374958.json:
```json
{
    "body": "Changed commit from **[dba9d6f](https://github.com/sagemath/sagetrac-mirror/commit/dba9d6f6f0ab2aecc7a8d34c8d6386c0052ecb1e)** to **[c488580](https://github.com/sagemath/sagetrac-mirror/commit/c4885805e7fe8589975a25d0e7e3587197b7e47f)**",
    "created_at": "2020-02-24T17:45:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374958",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dba9d6f](https://github.com/sagemath/sagetrac-mirror/commit/dba9d6f6f0ab2aecc7a8d34c8d6386c0052ecb1e)** to **[c488580](https://github.com/sagemath/sagetrac-mirror/commit/c4885805e7fe8589975a25d0e7e3587197b7e47f)**



---

archive/issue_events_322296.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2020-02-24T17:45:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24571#event-322296"
}
```



---

archive/issue_events_322297.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2020-02-24T17:45:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24571#event-322297"
}
```



---

archive/issue_events_322298.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-02-26T20:35:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24571#event-322298"
}
```



---

archive/issue_events_322299.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "15ce3dc9e9027d1d00a0ea50769f94851643e159",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-02-26T20:35:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24571#event-322299"
}
```



---

archive/issue_comments_374959.json:
```json
{
    "body": "Changed branch from **[u/sbrandhorst/fqf_orthogonal](https://github.com/sagemath/sagetrac-mirror/tree/u/sbrandhorst/fqf_orthogonal)** to **[c488580](https://github.com/sagemath/sagetrac-mirror/commit/c4885805e7fe8589975a25d0e7e3587197b7e47f)**",
    "created_at": "2020-02-26T20:35:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374959",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/sbrandhorst/fqf_orthogonal](https://github.com/sagemath/sagetrac-mirror/tree/u/sbrandhorst/fqf_orthogonal)** to **[c488580](https://github.com/sagemath/sagetrac-mirror/commit/c4885805e7fe8589975a25d0e7e3587197b7e47f)**



---

archive/issue_comments_374960.json:
```json
{
    "body": "Changed commit from **[c488580](https://github.com/sagemath/sagetrac-mirror/commit/c4885805e7fe8589975a25d0e7e3587197b7e47f)** to none",
    "created_at": "2020-02-29T02:55:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374960",
    "user": "https://github.com/kiwifb"
}
```

Changed commit from **[c488580](https://github.com/sagemath/sagetrac-mirror/commit/c4885805e7fe8589975a25d0e7e3587197b7e47f)** to none



---

archive/issue_comments_374961.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">Comment 53</div>\n\nI am getting\n\n```\nsage -t --long /usr/lib/python3.7/site-packages/sage/groups/fqf_orthogonal.py\n**********************************************************************\nFile \"/usr/lib/python3.7/site-packages/sage/groups/fqf_orthogonal.py\", line 17, in sage.groups.fqf_orthogonal\nFailed example:\n    T.gen(0) * Oq.an_element()\nExpected:\n    (1, 3)\nGot:\n    (0, 3)\n**********************************************************************\n```\nDoes it depends on what gap packages are installed?",
    "created_at": "2020-02-29T02:55:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374961",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:53" align="right">Comment 53</div>

I am getting

```
sage -t --long /usr/lib/python3.7/site-packages/sage/groups/fqf_orthogonal.py
**********************************************************************
File "/usr/lib/python3.7/site-packages/sage/groups/fqf_orthogonal.py", line 17, in sage.groups.fqf_orthogonal
Failed example:
    T.gen(0) * Oq.an_element()
Expected:
    (1, 3)
Got:
    (0, 3)
**********************************************************************
```
Does it depends on what gap packages are installed?



---

archive/issue_comments_374962.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">Comment 54</div>\n\nMaybe the `Oq.an_element()` call does? One could replace it by a hard coded element.",
    "created_at": "2020-03-01T18:51:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374962",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:54" align="right">Comment 54</div>

Maybe the `Oq.an_element()` call does? One could replace it by a hard coded element.



---

archive/issue_comments_374963.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">Comment 55</div>\n\n`an_element` returns the product of the generators.\nNow the generators are produced using the gap function\n`SmallGeneratingSet`.\nI do not know how the function works internally but it seems possible this is where the packages come in.",
    "created_at": "2020-03-04T09:41:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374963",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:55" align="right">Comment 55</div>

`an_element` returns the product of the generators.
Now the generators are produced using the gap function
`SmallGeneratingSet`.
I do not know how the function works internally but it seems possible this is where the packages come in.



---

archive/issue_comments_374964.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">Comment 56</div>\n\nThis may be difficult to track down unless you know `gap` well. But I probably won't be the only one with a failure - unless I am missing a gap package that is meant to be in the sage's default.",
    "created_at": "2020-03-04T10:01:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374964",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:56" align="right">Comment 56</div>

This may be difficult to track down unless you know `gap` well. But I probably won't be the only one with a failure - unless I am missing a gap package that is meant to be in the sage's default.



---

archive/issue_comments_374965.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">Comment 57</div>\n\nReplying to [@kiwifb](#comment%3A56):\n> This may be difficult to track down unless you know `gap` well. But I probably won't be the only one with a failure - unless I am missing a gap package that is meant to be in the sage's default.\n\nI've go the same error (`(0,3)`, not `(1,3)`), on Fedora 30, x86_64, and the current 9.1.beta6 with gap_packages spkg installed.\n\nThis is not surprising, in fact, as gap_packages contain stuff that speeds up certain GAP algorithms. This test is buggy; it should be not using the call to `an_element`, but something deterministic. I've opened #29282 as a followup",
    "created_at": "2020-03-05T13:08:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24571#issuecomment-374965",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:57" align="right">Comment 57</div>

Replying to [@kiwifb](#comment%3A56):
> This may be difficult to track down unless you know `gap` well. But I probably won't be the only one with a failure - unless I am missing a gap package that is meant to be in the sage's default.

I've go the same error (`(0,3)`, not `(1,3)`), on Fedora 30, x86_64, and the current 9.1.beta6 with gap_packages spkg installed.

This is not surprising, in fact, as gap_packages contain stuff that speeds up certain GAP algorithms. This test is buggy; it should be not using the call to `an_element`, but something deterministic. I've opened #29282 as a followup
