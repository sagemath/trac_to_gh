# Issue 24825: py3: fix sage.misc.banner

archive/issues_024588.json:
```json
{
    "body": "Also fixes an only slightly related test (in that it does involve printing the banner) which I noticed was broken while making this change.\n\nBranch/Commit: ec86a9463499c226bb6501a202c7be1f31f4d823\n\nReviewer: Jeroen Demeyer, Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Erik Bray\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24825\n\n",
    "closed_at": "2018-03-22T19:22:49Z",
    "created_at": "2018-02-23T11:00:23Z",
    "labels": [
        "component: python3",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "py3: fix sage.misc.banner",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24825",
    "user": "https://github.com/embray"
}
```
Also fixes an only slightly related test (in that it does involve printing the banner) which I noticed was broken while making this change.

Branch/Commit: ec86a9463499c226bb6501a202c7be1f31f4d823

Reviewer: Jeroen Demeyer, Frédéric Chapoton

Author: Erik Bray

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24825





---

archive/issue_comments_344535.json:
```json
{
    "body": "<a id='comment:1'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-02-23T11:32:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24825#issuecomment-344535",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_344536.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-02-23T11:34:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24825#issuecomment-344536",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_344537.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-02-23T11:41:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24825#issuecomment-344537",
    "user": "https://github.com/embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_344538.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2018-02-23T11:41:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24825#issuecomment-344538",
    "user": "https://github.com/embray"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_344539.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-02-23T14:27:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24825#issuecomment-344539",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_344540.json:
```json
{
    "body": "<a id='comment:4'></a>positive review if tests pass.",
    "created_at": "2018-02-23T14:27:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24825#issuecomment-344540",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>positive review if tests pass.



---

archive/issue_events_062409.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-02-25T18:44:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24825#event-62409"
}
```



---

archive/issue_comments_344541.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-02-25T18:44:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24825#issuecomment-344541",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_344542.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2018-03-03T00:44:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24825#issuecomment-344542",
    "user": "https://github.com/vbraun"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_344543.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2018-03-03T00:44:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24825#issuecomment-344543",
    "user": "https://github.com/vbraun"
}
```

Changing status from closed to new.



---

archive/issue_events_062410.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-03T00:44:40Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24825#event-62410"
}
```



---

archive/issue_comments_344544.json:
```json
{
    "body": "<a id='comment:6'></a>\n```\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/misc/banner.py\", line 113, in banner\n    print(banner_text(full=full))\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 0-69: ordinal not in range(128)\nTraceback (most recent call last):\n  File \"/mnt/disk/home/release/opt/bin/git-releasemgr\", line 19, in <module>\n    cmdline.launch()\n  File \"/mnt/disk/home/release/opt/git-trac-command/git_trac/releasemgr/cmdline.py\", line 164, in launch\n    app.release(args.version, check=args.check)\n  File \"/mnt/disk/home/release/opt/git-trac-command/git_trac/releasemgr/app.py\", line 302, in release\n    update_version(version)\n  File \"/mnt/disk/home/release/opt/git-trac-command/git_trac/releasemgr/make_release.py\", line 12, in update_version\n    check_call(['sage', '-sh', '-c', 'sage-update-version {0}'.format(version)])\n  File \"/usr/lib64/python2.7/subprocess.py\", line 186, in check_call\n    raise CalledProcessError(retcode, cmd)\nsubprocess.CalledProcessError: Command '['sage', '-sh', '-c', 'sage-update-version 8.2.beta7']' returned non-zero exit status 1\n```",
    "created_at": "2018-03-03T00:44:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24825#issuecomment-344544",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:6'></a>
```
Traceback (most recent call last):
  File "<string>", line 1, in <module>
  File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/misc/banner.py", line 113, in banner
    print(banner_text(full=full))
UnicodeEncodeError: 'ascii' codec can't encode characters in position 0-69: ordinal not in range(128)
Traceback (most recent call last):
  File "/mnt/disk/home/release/opt/bin/git-releasemgr", line 19, in <module>
    cmdline.launch()
  File "/mnt/disk/home/release/opt/git-trac-command/git_trac/releasemgr/cmdline.py", line 164, in launch
    app.release(args.version, check=args.check)
  File "/mnt/disk/home/release/opt/git-trac-command/git_trac/releasemgr/app.py", line 302, in release
    update_version(version)
  File "/mnt/disk/home/release/opt/git-trac-command/git_trac/releasemgr/make_release.py", line 12, in update_version
    check_call(['sage', '-sh', '-c', 'sage-update-version {0}'.format(version)])
  File "/usr/lib64/python2.7/subprocess.py", line 186, in check_call
    raise CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command '['sage', '-sh', '-c', 'sage-update-version 8.2.beta7']' returned non-zero exit status 1
```



---

archive/issue_comments_344545.json:
```json
{
    "body": "<a id='comment:7'></a>IDGI.  Does this mean needs work?",
    "created_at": "2018-03-05T11:27:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24825#issuecomment-344545",
    "user": "https://github.com/embray"
}
```

<a id='comment:7'></a>IDGI.  Does this mean needs work?



---

archive/issue_comments_344546.json:
```json
{
    "body": "<a id='comment:8'></a>Is this being run in a non-unicode environment?  What is LC_CTYPE?  What does `sys.stdout.encoding` show?",
    "created_at": "2018-03-05T11:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24825#issuecomment-344546",
    "user": "https://github.com/embray"
}
```

<a id='comment:8'></a>Is this being run in a non-unicode environment?  What is LC_CTYPE?  What does `sys.stdout.encoding` show?



---

archive/issue_comments_344547.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-03-05T11:42:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24825#issuecomment-344547",
    "user": "https://github.com/embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_344548.json:
```json
{
    "body": "<a id='comment:9'></a>I guess this should fix it.\n\n---\nNew commits:",
    "created_at": "2018-03-05T11:42:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24825#issuecomment-344548",
    "user": "https://github.com/embray"
}
```

<a id='comment:9'></a>I guess this should fix it.

---
New commits:



---

archive/issue_comments_344549.json:
```json
{
    "body": "<a id='comment:10'></a>So let us try again",
    "created_at": "2018-03-15T08:10:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24825#issuecomment-344549",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>So let us try again



---

archive/issue_comments_344550.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-03-15T08:10:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24825#issuecomment-344550",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_062411.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-22T19:22:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24825#event-62411"
}
```



---

archive/issue_comments_344551.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-03-22T19:22:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24825#issuecomment-344551",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
