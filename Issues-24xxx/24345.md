# Issue 24345: Disallow boolean operations with Unknown

archive/issues_024108.json:
```json
{
    "assignees": [],
    "body": "The `Unknown` from `misc/unknown.py` incorrectly behaves like `False` in the context of boolean operations. It is mostly useless as long as Python has no tristate conditionals and logic operators. This ticket raises an error instead.\n\nAs a consequence of this modification, Sage code is adapted as follows for a given tristate `troolean`\n\n```\nif troolean is True:\n    ...\nelif troolean is False:\n    ...\nelse:\n    ...\n```\n\nBranch/Commit: **[96fd7a2](https://github.com/sagemath/sagetrac-mirror/commit/96fd7a29c582e894465042f70c431a76e6dfe191)**\n\nReviewer: **Vincent Delecroix**\n\nAuthor: **Ralf Stephan**\n\nComponent: **misc**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24345_\n\n",
    "closed_at": "2020-02-19T23:26:59Z",
    "created_at": "2017-12-08T15:31:53Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Disallow boolean operations with Unknown",
    "type": "issue",
    "updated_at": "2023-01-08T13:33:07Z",
    "url": "https://github.com/sagemath/sage/issues/24345",
    "user": "https://github.com/rwst"
}
```
The `Unknown` from `misc/unknown.py` incorrectly behaves like `False` in the context of boolean operations. It is mostly useless as long as Python has no tristate conditionals and logic operators. This ticket raises an error instead.

As a consequence of this modification, Sage code is adapted as follows for a given tristate `troolean`

```
if troolean is True:
    ...
elif troolean is False:
    ...
else:
    ...
```

Branch/Commit: **[96fd7a2](https://github.com/sagemath/sagetrac-mirror/commit/96fd7a29c582e894465042f70c431a76e6dfe191)**

Reviewer: **Vincent Delecroix**

Author: **Ralf Stephan**

Component: **misc**

_Issue created by migration from https://trac.sagemath.org/ticket/24345_





---

archive/issue_events_337552.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-12-08T15:31:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337552"
}
```



---

archive/issue_events_337553.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-12-08T15:31:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337553"
}
```



---

archive/issue_events_337554.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-12-08T15:31:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337554"
}
```



---

archive/issue_comments_368476.json:
```json
{
    "body": "Branch: **[u/rws/disallow_boolean_operations_with_unknown](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/disallow_boolean_operations_with_unknown)**",
    "created_at": "2017-12-08T15:33:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368476",
    "user": "https://github.com/rwst"
}
```

Branch: **[u/rws/disallow_boolean_operations_with_unknown](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/disallow_boolean_operations_with_unknown)**



---

archive/issue_comments_368477.json:
```json
{
    "body": "Commit: **[2171a3e](https://github.com/sagemath/sagetrac-mirror/commit/2171a3e32191c58c9dbe0733db3f171e47fc851f)**",
    "created_at": "2017-12-08T15:34:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368477",
    "user": "https://github.com/rwst"
}
```

Commit: **[2171a3e](https://github.com/sagemath/sagetrac-mirror/commit/2171a3e32191c58c9dbe0733db3f171e47fc851f)**



---

archive/issue_comments_368478.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d60cb67ac1f21fc55caa255f6b6a7161bbae170\">4d60cb6</a></td><td><code>24345: changes to Unknown</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2171a3e32191c58c9dbe0733db3f171e47fc851f\">2171a3e</a></td><td><code>24345: changes to code using Unknown</code></td></tr></table>\n",
    "created_at": "2017-12-08T15:34:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368478",
    "user": "https://github.com/rwst"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d60cb67ac1f21fc55caa255f6b6a7161bbae170">4d60cb6</a></td><td><code>24345: changes to Unknown</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2171a3e32191c58c9dbe0733db3f171e47fc851f">2171a3e</a></td><td><code>24345: changes to code using Unknown</code></td></tr></table>




---

archive/issue_events_337555.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-12-08T15:34:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337555"
}
```



---

archive/issue_comments_368479.json:
```json
{
    "body": "Author: **Ralf Stephan**",
    "created_at": "2017-12-08T15:34:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368479",
    "user": "https://github.com/rwst"
}
```

Author: **Ralf Stephan**



---

archive/issue_comments_368480.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI'm not sure that there is actually a bug here...\n\nTo me, requiring people to write `foo() is True` is a bigger problem than treating `Unknown` as false.",
    "created_at": "2017-12-08T16:15:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368480",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">comment:3</div>

I'm not sure that there is actually a bug here...

To me, requiring people to write `foo() is True` is a bigger problem than treating `Unknown` as false.



---

archive/issue_comments_368481.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@jdemeyer](#comment:3):\n> To me, requiring people to write `foo() is True` is a bigger problem than treating `Unknown` as false.\n\nSo you would not argue against a ticket that uses such an Unknown?",
    "created_at": "2017-12-09T06:57:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368481",
    "user": "https://github.com/rwst"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@jdemeyer](#comment:3):
> To me, requiring people to write `foo() is True` is a bigger problem than treating `Unknown` as false.

So you would not argue against a ticket that uses such an Unknown?



---

archive/issue_comments_368482.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@jdemeyer](#comment:3):\n> I'm not sure that there is actually a bug here...\n> \n> To me, requiring people to write `foo() is True` is a bigger problem than treating `Unknown` as false.\n\nAnother alternative with this ticket's `Unknown` would be to raise an `UnknownError` instead of `NotImplementedError` and suggest to the user to catch it. This way you can still write `if foo():`. What about it?",
    "created_at": "2017-12-11T15:53:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368482",
    "user": "https://github.com/rwst"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@jdemeyer](#comment:3):
> I'm not sure that there is actually a bug here...
> 
> To me, requiring people to write `foo() is True` is a bigger problem than treating `Unknown` as false.

Another alternative with this ticket's `Unknown` would be to raise an `UnknownError` instead of `NotImplementedError` and suggest to the user to catch it. This way you can still write `if foo():`. What about it?



---

archive/issue_comments_368483.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nSorry, I'm not quite following what you are trying to say...\n\nMaybe you should explain better which bug this ticket is meant to address any why it is a bug.",
    "created_at": "2017-12-11T17:01:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368483",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Sorry, I'm not quite following what you are trying to say...

Maybe you should explain better which bug this ticket is meant to address any why it is a bug.



---

archive/issue_comments_368484.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThe bug is that the flag query functions is_integer, is_real etc return False instead of Unknown, ie #22162. I followed your argument there that using Unknown as is would win nothing, although I think it would be less confusing. This ticket tries to implement an Unknown that behaves more like what we want. Can we agree on this? Have I misunderstood something?",
    "created_at": "2017-12-11T19:05:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368484",
    "user": "https://github.com/rwst"
}
```

<div id="comment:7" align="right">comment:7</div>

The bug is that the flag query functions is_integer, is_real etc return False instead of Unknown, ie #22162. I followed your argument there that using Unknown as is would win nothing, although I think it would be less confusing. This ticket tries to implement an Unknown that behaves more like what we want. Can we agree on this? Have I misunderstood something?



---

archive/issue_comments_368485.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAlso after the flag query functions return unknown changes can be made that make them return True/Unknown/False where False really means False.",
    "created_at": "2017-12-11T19:10:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368485",
    "user": "https://github.com/rwst"
}
```

<div id="comment:8" align="right">comment:8</div>

Also after the flag query functions return unknown changes can be made that make them return True/Unknown/False where False really means False.



---

archive/issue_comments_368486.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@rwst](#comment:7):\n> Can we agree on this?\n\nWell, first I have to agree with myself. I read the discussion again on #22162 and I'm less convinced about my own reasoning there. I have not thought much about it now, but my feeling is that I was wrong on #22162.",
    "created_at": "2017-12-12T16:49:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368486",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@rwst](#comment:7):
> Can we agree on this?

Well, first I have to agree with myself. I read the discussion again on #22162 and I'm less convinced about my own reasoning there. I have not thought much about it now, but my feeling is that I was wrong on #22162.



---

archive/issue_comments_368487.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\n`Unknown` is broken. The only reasonable proposals are in order of decreasing preference (to me):\n- make Python troolean compatible\n- the proposal of this ticket\n- remove completely `Unknown`\n\nI definitely support the changes from this ticket.",
    "created_at": "2017-12-13T18:24:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368487",
    "user": "https://github.com/videlec"
}
```

<div id="comment:10" align="right">comment:10</div>

`Unknown` is broken. The only reasonable proposals are in order of decreasing preference (to me):
- make Python troolean compatible
- the proposal of this ticket
- remove completely `Unknown`

I definitely support the changes from this ticket.



---

archive/issue_comments_368488.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,12 @@\n-The `Unknown` from `misc/unknown.py` incorrectly behaves like `False` in the context of boolean operations, so it is useless as long as Python has no tristate conditionals and logic operators. This ticket raises an error instead, and changes code with boolean conditionals and operators such that the right comparison using `is` is made. This way the code becomes correct and stays valid whenever logic changes are introduced.\n+The `Unknown` from `misc/unknown.py` incorrectly behaves like `False` in the context of boolean operations. It is mostly useless as long as Python has no tristate conditionals and logic operators. This ticket raises an error instead.\n+\n+As a consequence of this modification, Sage code is adapted as follows for a given tristate `troolean`\n+\n+```\n+if troolean is True:\n+    ...\n+elif troolean is False:\n+    ...\n+else:\n+    ...\n+```\n``````\n",
    "created_at": "2017-12-16T14:33:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368488",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,12 @@
-The `Unknown` from `misc/unknown.py` incorrectly behaves like `False` in the context of boolean operations, so it is useless as long as Python has no tristate conditionals and logic operators. This ticket raises an error instead, and changes code with boolean conditionals and operators such that the right comparison using `is` is made. This way the code becomes correct and stays valid whenever logic changes are introduced.
+The `Unknown` from `misc/unknown.py` incorrectly behaves like `False` in the context of boolean operations. It is mostly useless as long as Python has no tristate conditionals and logic operators. This ticket raises an error instead.
+
+As a consequence of this modification, Sage code is adapted as follows for a given tristate `troolean`
+
+```
+if troolean is True:
+    ...
+elif troolean is False:
+    ...
+else:
+    ...
+```
``````




---

archive/issue_comments_368489.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nIn an ideal world, we would have the following behavior\n\n```\nif troolean:\n    # here troolean = True\nelif not troolean:\n    # here troolean = False\nelse:\n    # here troolean = Unknown\n```\nIt would be so much better to patch Python!",
    "created_at": "2017-12-16T14:36:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368489",
    "user": "https://github.com/videlec"
}
```

<div id="comment:12" align="right">comment:12</div>

In an ideal world, we would have the following behavior

```
if troolean:
    # here troolean = True
elif not troolean:
    # here troolean = False
else:
    # here troolean = Unknown
```
It would be so much better to patch Python!



---

archive/issue_comments_368490.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\none doctest failure (see patchbot report)\n\n```\nsage -t --long src/sage/graphs/strongly_regular_db.pyx  # 1 doctest failed\n```",
    "created_at": "2018-01-02T20:27:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368490",
    "user": "https://github.com/videlec"
}
```

<div id="comment:13" align="right">comment:13</div>

one doctest failure (see patchbot report)

```
sage -t --long src/sage/graphs/strongly_regular_db.pyx  # 1 doctest failed
```



---

archive/issue_events_337556.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-01-02T20:27:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337556"
}
```



---

archive/issue_events_337557.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-01-02T20:27:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337557"
}
```



---

archive/issue_comments_368491.json:
```json
{
    "body": "Changed commit from **[2171a3e](https://github.com/sagemath/sagetrac-mirror/commit/2171a3e32191c58c9dbe0733db3f171e47fc851f)** to **[ed8ef17](https://github.com/sagemath/sagetrac-mirror/commit/ed8ef17484c23cb199776762527df747cf7a59e6)**",
    "created_at": "2018-01-03T07:26:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368491",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2171a3e](https://github.com/sagemath/sagetrac-mirror/commit/2171a3e32191c58c9dbe0733db3f171e47fc851f)** to **[ed8ef17](https://github.com/sagemath/sagetrac-mirror/commit/ed8ef17484c23cb199776762527df747cf7a59e6)**



---

archive/issue_comments_368492.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/246be610e060ffce91e237ee264936e32c8fdd9f\">246be61</a></td><td><code>Merge branch 'develop' into t/24345/disallow_boolean_operations_with_unknown</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed8ef17484c23cb199776762527df747cf7a59e6\">ed8ef17</a></td><td><code>24345: fix</code></td></tr></table>\n",
    "created_at": "2018-01-03T07:26:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368492",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/246be610e060ffce91e237ee264936e32c8fdd9f">246be61</a></td><td><code>Merge branch 'develop' into t/24345/disallow_boolean_operations_with_unknown</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed8ef17484c23cb199776762527df747cf7a59e6">ed8ef17</a></td><td><code>24345: fix</code></td></tr></table>




---

archive/issue_events_337558.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-01-03T07:27:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337558"
}
```



---

archive/issue_events_337559.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-01-03T07:27:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337559"
}
```



---

archive/issue_comments_368493.json:
```json
{
    "body": "Dependencies: **#24513**",
    "created_at": "2018-01-11T11:55:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368493",
    "user": "https://github.com/videlec"
}
```

Dependencies: **#24513**



---

archive/issue_comments_368494.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nFrom the documentation of `designs.differenf_family`\n\n```\n    - ``existence`` -- if ``True``, then return either ``True`` if Sage knows\n      how to build such design, ``Unknown`` if it does not and ``False`` if it\n      knows that the design does not exist.\n```\nHence, the `isinstance(ret, tuple)` should not be needed in\n\n```\n+        ....:             ret = designs.difference_family(v,k,l,existence=True)\n+        ....:             if ret is True or isinstance(ret, tuple):\n```\nThere is indeed a bug in the design code (see #24513)\n\n```\nsage: designs.difference_family(3,2,1, existence=True)   # should be True\n(Ring of integers modulo 3, [[1, 2]])\n```",
    "created_at": "2018-01-11T11:55:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368494",
    "user": "https://github.com/videlec"
}
```

<div id="comment:16" align="right">comment:16</div>

From the documentation of `designs.differenf_family`

```
    - ``existence`` -- if ``True``, then return either ``True`` if Sage knows
      how to build such design, ``Unknown`` if it does not and ``False`` if it
      knows that the design does not exist.
```
Hence, the `isinstance(ret, tuple)` should not be needed in

```
+        ....:             ret = designs.difference_family(v,k,l,existence=True)
+        ....:             if ret is True or isinstance(ret, tuple):
```
There is indeed a bug in the design code (see #24513)

```
sage: designs.difference_family(3,2,1, existence=True)   # should be True
(Ring of integers modulo 3, [[1, 2]])
```



---

archive/issue_events_337560.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-01-11T11:55:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337560"
}
```



---

archive/issue_events_337561.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-01-11T11:55:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337561"
}
```



---

archive/issue_comments_368495.json:
```json
{
    "body": "Changed branch from **[u/rws/disallow_boolean_operations_with_unknown](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/disallow_boolean_operations_with_unknown)** to **[u/rws/24345](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24345)**",
    "created_at": "2018-01-11T15:07:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368495",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/rws/disallow_boolean_operations_with_unknown](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/disallow_boolean_operations_with_unknown)** to **[u/rws/24345](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24345)**



---

archive/issue_comments_368496.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6f0dedfc146719fff8617d11340d38d43f64ccb\">a6f0ded</a></td><td><code>24513: fix difference family</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d71aabf81a69e35ff1a3f95658cfe78ddbe98cb9\">d71aabf</a></td><td><code>24345: Disallow boolean operations with Unknown</code></td></tr></table>\n",
    "created_at": "2018-01-11T15:07:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368496",
    "user": "https://github.com/rwst"
}
```

<div id="comment:18"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6f0dedfc146719fff8617d11340d38d43f64ccb">a6f0ded</a></td><td><code>24513: fix difference family</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d71aabf81a69e35ff1a3f95658cfe78ddbe98cb9">d71aabf</a></td><td><code>24345: Disallow boolean operations with Unknown</code></td></tr></table>




---

archive/issue_events_337562.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-01-11T15:07:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337562"
}
```



---

archive/issue_events_337563.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-01-11T15:07:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337563"
}
```



---

archive/issue_comments_368497.json:
```json
{
    "body": "Changed commit from **[ed8ef17](https://github.com/sagemath/sagetrac-mirror/commit/ed8ef17484c23cb199776762527df747cf7a59e6)** to **[d71aabf](https://github.com/sagemath/sagetrac-mirror/commit/d71aabf81a69e35ff1a3f95658cfe78ddbe98cb9)**",
    "created_at": "2018-01-11T15:07:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368497",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[ed8ef17](https://github.com/sagemath/sagetrac-mirror/commit/ed8ef17484c23cb199776762527df747cf7a59e6)** to **[d71aabf](https://github.com/sagemath/sagetrac-mirror/commit/d71aabf81a69e35ff1a3f95658cfe78ddbe98cb9)**



---

archive/issue_comments_368498.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nLooks good.\n\nCould you document more carefully the behavior of `Unknown` class? Especially in the design and stronly regular graph codes where you need to write\n\n```\nmy_function(params, existence=True) is True\n```\nand not simply\n\n```\nmy_function(params, existence=True)\n```",
    "created_at": "2018-01-11T15:17:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368498",
    "user": "https://github.com/videlec"
}
```

<div id="comment:19" align="right">comment:19</div>

Looks good.

Could you document more carefully the behavior of `Unknown` class? Especially in the design and stronly regular graph codes where you need to write

```
my_function(params, existence=True) is True
```
and not simply

```
my_function(params, existence=True)
```



---

archive/issue_comments_368499.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI like the idea of Jeroen from [comment:5](#comment:5). It would be clearer with `UnknownError` rather than the less specific `NotImplementedError`. And this would allow the alternative troolean evaluation\n\n```\ntry:\n    if troolean:\n        ...\n    else:\n        ....\nexcept UnknownError:\n    ....\n```\n\nAnd as said from [comment:19](#comment:19). Documentation is needed.",
    "created_at": "2018-01-25T23:43:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368499",
    "user": "https://github.com/videlec"
}
```

<div id="comment:20" align="right">comment:20</div>

I like the idea of Jeroen from [comment:5](#comment:5). It would be clearer with `UnknownError` rather than the less specific `NotImplementedError`. And this would allow the alternative troolean evaluation

```
try:
    if troolean:
        ...
    else:
        ....
except UnknownError:
    ....
```

And as said from [comment:19](#comment:19). Documentation is needed.



---

archive/issue_events_337564.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-01-25T23:43:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337564"
}
```



---

archive/issue_events_337565.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-01-25T23:43:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337565"
}
```



---

archive/issue_comments_368500.json:
```json
{
    "body": "Changed branch from **[u/rws/24345](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24345)** to **[u/rws/24345-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24345-1)**",
    "created_at": "2018-01-26T14:58:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368500",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/rws/24345](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24345)** to **[u/rws/24345-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24345-1)**



---

archive/issue_comments_368501.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f916205b0bcab16501053a70fa317c7b3b415aa8\">f916205</a></td><td><code>24345: Disallow boolean operations with Unknown</code></td></tr></table>\n",
    "created_at": "2018-01-26T14:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368501",
    "user": "https://github.com/rwst"
}
```

<div id="comment:22"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f916205b0bcab16501053a70fa317c7b3b415aa8">f916205</a></td><td><code>24345: Disallow boolean operations with Unknown</code></td></tr></table>




---

archive/issue_comments_368502.json:
```json
{
    "body": "Changed commit from **[d71aabf](https://github.com/sagemath/sagetrac-mirror/commit/d71aabf81a69e35ff1a3f95658cfe78ddbe98cb9)** to **[f916205](https://github.com/sagemath/sagetrac-mirror/commit/f916205b0bcab16501053a70fa317c7b3b415aa8)**",
    "created_at": "2018-01-26T14:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368502",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[d71aabf](https://github.com/sagemath/sagetrac-mirror/commit/d71aabf81a69e35ff1a3f95658cfe78ddbe98cb9)** to **[f916205](https://github.com/sagemath/sagetrac-mirror/commit/f916205b0bcab16501053a70fa317c7b3b415aa8)**



---

archive/issue_events_337566.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-01-26T14:59:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337566"
}
```



---

archive/issue_events_337567.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-01-26T14:59:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337567"
}
```



---

archive/issue_comments_368503.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nYou break `bool(Unknown)` and this is not mentioned.",
    "created_at": "2018-01-26T16:40:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368503",
    "user": "https://github.com/videlec"
}
```

<div id="comment:23" align="right">comment:23</div>

You break `bool(Unknown)` and this is not mentioned.



---

archive/issue_comments_368504.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nWhy this change\n\n```diff\n@@ -168,7 +213,7 @@ class UnknownClass(UniqueRepresentation, SageObject):\n         if other is self:\n             return rich_to_bool(op, 0)\n         if not isinstance(other, bool):\n-            return NotImplemented\n+            return Unknown\n         if other:\n             return rich_to_bool(op, -1)\n         else:\n```",
    "created_at": "2018-01-26T16:41:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368504",
    "user": "https://github.com/videlec"
}
```

<div id="comment:24" align="right">comment:24</div>

Why this change

```diff
@@ -168,7 +213,7 @@ class UnknownClass(UniqueRepresentation, SageObject):
         if other is self:
             return rich_to_bool(op, 0)
         if not isinstance(other, bool):
-            return NotImplemented
+            return Unknown
         if other:
             return rich_to_bool(op, -1)
         else:
```



---

archive/issue_events_337568.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-01-26T16:41:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337568"
}
```



---

archive/issue_events_337569.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-01-26T16:41:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337569"
}
```



---

archive/issue_comments_368505.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nThe following should not be broken\n\n```diff\n@@ -114,14 +153,18 @@ class UnknownClass(UniqueRepresentation, SageObject):\n             sage: Unknown | False\n             Unknown\n             sage: Unknown | Unknown\n-            Unknown\n+            Traceback (most recent call last):\n+            ...\n+            UnknownError: Unknown does not evaluate in boolean context\n             sage: Unknown | True\n             True\n```\n(as well as operation `&`). The implementation of `__xor__` and `__and__` should be modified.",
    "created_at": "2018-01-26T16:43:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368505",
    "user": "https://github.com/videlec"
}
```

<div id="comment:25" align="right">comment:25</div>

The following should not be broken

```diff
@@ -114,14 +153,18 @@ class UnknownClass(UniqueRepresentation, SageObject):
             sage: Unknown | False
             Unknown
             sage: Unknown | Unknown
-            Unknown
+            Traceback (most recent call last):
+            ...
+            UnknownError: Unknown does not evaluate in boolean context
             sage: Unknown | True
             True
```
(as well as operation `&`). The implementation of `__xor__` and `__and__` should be modified.



---

archive/issue_events_337570.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-01-26T16:44:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337570"
}
```



---

archive/issue_events_337571.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-01-26T16:44:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337571"
}
```



---

archive/issue_comments_368506.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2018-01-26T16:44:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368506",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_368507.json:
```json
{
    "body": "Changed commit from **[f916205](https://github.com/sagemath/sagetrac-mirror/commit/f916205b0bcab16501053a70fa317c7b3b415aa8)** to **[601d8f9](https://github.com/sagemath/sagetrac-mirror/commit/601d8f9711d7235af64cdd1c38daf47deb483a07)**",
    "created_at": "2018-01-27T07:19:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368507",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f916205](https://github.com/sagemath/sagetrac-mirror/commit/f916205b0bcab16501053a70fa317c7b3b415aa8)** to **[601d8f9](https://github.com/sagemath/sagetrac-mirror/commit/601d8f9711d7235af64cdd1c38daf47deb483a07)**



---

archive/issue_comments_368508.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/601d8f9711d7235af64cdd1c38daf47deb483a07\">601d8f9</a></td><td><code>24345: fixes</code></td></tr></table>\n",
    "created_at": "2018-01-27T07:19:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368508",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/601d8f9711d7235af64cdd1c38daf47deb483a07">601d8f9</a></td><td><code>24345: fixes</code></td></tr></table>




---

archive/issue_events_337572.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-01-27T07:19:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337572"
}
```



---

archive/issue_events_337573.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-01-27T07:19:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337573"
}
```



---

archive/issue_comments_368509.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nYou should also test `True | Unknown` as well as `False | Unknown`.\n\n`__not__` is by no way a special Python method. It would better be removed.",
    "created_at": "2018-01-27T10:46:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368509",
    "user": "https://github.com/videlec"
}
```

<div id="comment:29" align="right">comment:29</div>

You should also test `True | Unknown` as well as `False | Unknown`.

`__not__` is by no way a special Python method. It would better be removed.



---

archive/issue_comments_368510.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@videlec](#comment:29):\n> You should also test `True | Unknown` as well as `False | Unknown`.\n\nwhich is also broken\n\n```\nsage: False | Unknown\nTraceback (most recent call last):\n...\nTypeError: unsupported operand type(s) for |: 'bool' and 'UnknownClass'\nsage: True | Unknown\nTraceback (most recent call last):\n...\nTypeError: unsupported operand type(s) for |: 'bool' and 'UnknownClass'\n```",
    "created_at": "2018-01-27T11:21:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368510",
    "user": "https://github.com/videlec"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@videlec](#comment:29):
> You should also test `True | Unknown` as well as `False | Unknown`.

which is also broken

```
sage: False | Unknown
Traceback (most recent call last):
...
TypeError: unsupported operand type(s) for |: 'bool' and 'UnknownClass'
sage: True | Unknown
Traceback (most recent call last):
...
TypeError: unsupported operand type(s) for |: 'bool' and 'UnknownClass'
```



---

archive/issue_comments_368511.json:
```json
{
    "body": "Changed commit from **[601d8f9](https://github.com/sagemath/sagetrac-mirror/commit/601d8f9711d7235af64cdd1c38daf47deb483a07)** to **[712ba5e](https://github.com/sagemath/sagetrac-mirror/commit/712ba5e8dc2d84f8ca8ae636b849b144d13f914d)**",
    "created_at": "2018-01-29T15:28:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368511",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[601d8f9](https://github.com/sagemath/sagetrac-mirror/commit/601d8f9711d7235af64cdd1c38daf47deb483a07)** to **[712ba5e](https://github.com/sagemath/sagetrac-mirror/commit/712ba5e8dc2d84f8ca8ae636b849b144d13f914d)**



---

archive/issue_comments_368512.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f95aa51814099d7f8a78a38f96005f3b70f5d248\">f95aa51</a></td><td><code>Merge branch 'develop' into t/24345/24345-1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/712ba5e8dc2d84f8ca8ae636b849b144d13f914d\">712ba5e</a></td><td><code>24345: fixes</code></td></tr></table>\n",
    "created_at": "2018-01-29T15:28:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368512",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f95aa51814099d7f8a78a38f96005f3b70f5d248">f95aa51</a></td><td><code>Merge branch 'develop' into t/24345/24345-1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/712ba5e8dc2d84f8ca8ae636b849b144d13f914d">712ba5e</a></td><td><code>24345: fixes</code></td></tr></table>




---

archive/issue_comments_368513.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@videlec](#comment:30):\n> which is also broken\n> \n> ```\n> sage: False | Unknown\n> Traceback (most recent call last):\n> ...\n> TypeError: unsupported operand type(s) for |: 'bool' and 'UnknownClass'\n> ```\n\nI have no idea how to fix this so I just added a test. This is odd:\n\n```\nsage: True | 1\n1\nsage: True.__or__(1)\nNotImplemented\n```",
    "created_at": "2018-01-29T15:33:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368513",
    "user": "https://github.com/rwst"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@videlec](#comment:30):
> which is also broken
> 
> ```
> sage: False | Unknown
> Traceback (most recent call last):
> ...
> TypeError: unsupported operand type(s) for |: 'bool' and 'UnknownClass'
> ```

I have no idea how to fix this so I just added a test. This is odd:

```
sage: True | 1
1
sage: True.__or__(1)
NotImplemented
```



---

archive/issue_comments_368514.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@rwst](#comment:32):\n> Replying to [@videlec](#comment:30):\n> > which is also broken\n> > \n> > ```\n> > sage: False | Unknown\n> > Traceback (most recent call last):\n> > ...\n> > TypeError: unsupported operand type(s) for |: 'bool' and 'UnknownClass'\n> > ```\n\n> I have no idea how to fix this so I just added a test. This is odd:\n> \n> ```\n> sage: True | 1\n> 1\n> sage: True.__or__(1)\n> NotImplemented\n> ```\n\nPrecisely: when `x.__or__(y)` returns `NotImplemented` Python automatically calls `y.__or__(x)`.",
    "created_at": "2018-01-29T16:43:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368514",
    "user": "https://github.com/videlec"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@rwst](#comment:32):
> Replying to [@videlec](#comment:30):
> > which is also broken
> > 
> > ```
> > sage: False | Unknown
> > Traceback (most recent call last):
> > ...
> > TypeError: unsupported operand type(s) for |: 'bool' and 'UnknownClass'
> > ```

> I have no idea how to fix this so I just added a test. This is odd:
> 
> ```
> sage: True | 1
> 1
> sage: True.__or__(1)
> NotImplemented
> ```

Precisely: when `x.__or__(y)` returns `NotImplemented` Python automatically calls `y.__or__(x)`.



---

archive/issue_comments_368515.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@videlec](#comment:33):\n> Precisely: when `x.__or__(y)` returns `NotImplemented` Python automatically calls `y.__or__(x)`.\n\nThen why does this mechanism not work with x=True and y=Unknown?",
    "created_at": "2018-01-29T17:00:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368515",
    "user": "https://github.com/rwst"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@videlec](#comment:33):
> Precisely: when `x.__or__(y)` returns `NotImplemented` Python automatically calls `y.__or__(x)`.

Then why does this mechanism not work with x=True and y=Unknown?



---

archive/issue_comments_368516.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nPEP 335 was rejected, so can we please stop pretending that it will eventually be accepted? In other words: remove all references to PEP 335.",
    "created_at": "2018-01-29T20:17:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368516",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:35" align="right">comment:35</div>

PEP 335 was rejected, so can we please stop pretending that it will eventually be accepted? In other words: remove all references to PEP 335.



---

archive/issue_events_337574.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-29T20:17:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337574"
}
```



---

archive/issue_events_337575.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-29T20:17:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337575"
}
```



---

archive/issue_comments_368517.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nFor reference, here is the implementation for `__or__` for booleans\n\n```\nstatic PyObject *\nbool_or(PyObject *a, PyObject *b)\n{\n    if (!PyBool_Check(a) || !PyBool_Check(b))\n        return PyLong_Type.tp_as_number->nb_or(a, b);\n    return PyBool_FromLong((a == Py_True) | (b == Py_True));\n}\n```",
    "created_at": "2018-01-29T21:50:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368517",
    "user": "https://github.com/videlec"
}
```

<div id="comment:36" align="right">comment:36</div>

For reference, here is the implementation for `__or__` for booleans

```
static PyObject *
bool_or(PyObject *a, PyObject *b)
{
    if (!PyBool_Check(a) || !PyBool_Check(b))
        return PyLong_Type.tp_as_number->nb_or(a, b);
    return PyBool_FromLong((a == Py_True) | (b == Py_True));
}
```



---

archive/issue_comments_368518.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nOK, now I get it. The members `__and__` and `__or__` have nothing to do with logic operators, they are associated with bitwise, i.e. `&` and `|`. The original author added these methods thinking that `&` and `|` are logical (as seen in the method description) but they are not and as I don't think bit operations have a meaning with `Unknown` I will remove these methods.",
    "created_at": "2018-01-30T07:09:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368518",
    "user": "https://github.com/rwst"
}
```

<div id="comment:37" align="right">comment:37</div>

OK, now I get it. The members `__and__` and `__or__` have nothing to do with logic operators, they are associated with bitwise, i.e. `&` and `|`. The original author added these methods thinking that `&` and `|` are logical (as seen in the method description) but they are not and as I don't think bit operations have a meaning with `Unknown` I will remove these methods.



---

archive/issue_comments_368519.json:
```json
{
    "body": "Changed commit from **[712ba5e](https://github.com/sagemath/sagetrac-mirror/commit/712ba5e8dc2d84f8ca8ae636b849b144d13f914d)** to **[8b4ea3d](https://github.com/sagemath/sagetrac-mirror/commit/8b4ea3df9afe15f915f499a5b9c92bc454812e5b)**",
    "created_at": "2018-01-30T07:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368519",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[712ba5e](https://github.com/sagemath/sagetrac-mirror/commit/712ba5e8dc2d84f8ca8ae636b849b144d13f914d)** to **[8b4ea3d](https://github.com/sagemath/sagetrac-mirror/commit/8b4ea3df9afe15f915f499a5b9c92bc454812e5b)**



---

archive/issue_comments_368520.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b4ea3df9afe15f915f499a5b9c92bc454812e5b\">8b4ea3d</a></td><td><code>24345: fixes, cosmetics</code></td></tr></table>\n",
    "created_at": "2018-01-30T07:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368520",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b4ea3df9afe15f915f499a5b9c92bc454812e5b">8b4ea3d</a></td><td><code>24345: fixes, cosmetics</code></td></tr></table>




---

archive/issue_events_337576.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-01-30T07:13:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337576"
}
```



---

archive/issue_events_337577.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-01-30T07:13:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337577"
}
```



---

archive/issue_comments_368521.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@rwst](#comment:37):\n> OK, now I get it. The members `__and__` and `__or__` have nothing to do with logic operators, they are associated with bitwise, i.e. `&` and `|`. The original author added these methods thinking that `&` and `|` are logical (as seen in the method description) but they are not and as I don't think bit operations have a meaning with `Unknown` I will remove these methods.\n\nNote that the operators `and` and `or` are only using `__nonzero__`. Though they are **not** logical operator in the most common sense (like `&&` and `||` in C/C++).",
    "created_at": "2018-01-30T07:16:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368521",
    "user": "https://github.com/videlec"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@rwst](#comment:37):
> OK, now I get it. The members `__and__` and `__or__` have nothing to do with logic operators, they are associated with bitwise, i.e. `&` and `|`. The original author added these methods thinking that `&` and `|` are logical (as seen in the method description) but they are not and as I don't think bit operations have a meaning with `Unknown` I will remove these methods.

Note that the operators `and` and `or` are only using `__nonzero__`. Though they are **not** logical operator in the most common sense (like `&&` and `||` in C/C++).



---

archive/issue_comments_368522.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nAnd since we are at refactoring, I don't understand why `Unknown` should inherit from `SageObject`. It does not interact with anything else.",
    "created_at": "2018-01-30T07:21:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368522",
    "user": "https://github.com/videlec"
}
```

<div id="comment:41" align="right">comment:41</div>

And since we are at refactoring, I don't understand why `Unknown` should inherit from `SageObject`. It does not interact with anything else.



---

archive/issue_comments_368523.json:
```json
{
    "body": "Changed commit from **[8b4ea3d](https://github.com/sagemath/sagetrac-mirror/commit/8b4ea3df9afe15f915f499a5b9c92bc454812e5b)** to **[e293dba](https://github.com/sagemath/sagetrac-mirror/commit/e293dba0b16d076877688d0576dddd5e05d49656)**",
    "created_at": "2018-01-30T07:38:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368523",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8b4ea3d](https://github.com/sagemath/sagetrac-mirror/commit/8b4ea3df9afe15f915f499a5b9c92bc454812e5b)** to **[e293dba](https://github.com/sagemath/sagetrac-mirror/commit/e293dba0b16d076877688d0576dddd5e05d49656)**



---

archive/issue_comments_368524.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e293dba0b16d076877688d0576dddd5e05d49656\">e293dba</a></td><td><code>24345: more cosmetics</code></td></tr></table>\n",
    "created_at": "2018-01-30T07:38:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368524",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e293dba0b16d076877688d0576dddd5e05d49656">e293dba</a></td><td><code>24345: more cosmetics</code></td></tr></table>




---

archive/issue_comments_368525.json:
```json
{
    "body": "Changed commit from **[e293dba](https://github.com/sagemath/sagetrac-mirror/commit/e293dba0b16d076877688d0576dddd5e05d49656)** to **[aec25f2](https://github.com/sagemath/sagetrac-mirror/commit/aec25f266869a2f5f33e726cd6783b987588399e)**",
    "created_at": "2018-03-03T16:58:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368525",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e293dba](https://github.com/sagemath/sagetrac-mirror/commit/e293dba0b16d076877688d0576dddd5e05d49656)** to **[aec25f2](https://github.com/sagemath/sagetrac-mirror/commit/aec25f266869a2f5f33e726cd6783b987588399e)**



---

archive/issue_comments_368526.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aec25f266869a2f5f33e726cd6783b987588399e\">aec25f2</a></td><td><code>Merge branch 'develop' into t/24345/24345-1</code></td></tr></table>\n",
    "created_at": "2018-03-03T16:58:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368526",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aec25f266869a2f5f33e726cd6783b987588399e">aec25f2</a></td><td><code>Merge branch 'develop' into t/24345/24345-1</code></td></tr></table>




---

archive/issue_events_337578.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-02-16T20:48:07Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337578"
}
```



---

archive/issue_events_337579.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-02-16T20:48:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337579"
}
```



---

archive/issue_comments_368527.json:
```json
{
    "body": "Changed dependencies from **#24513** to none",
    "created_at": "2020-02-16T20:48:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368527",
    "user": "https://github.com/videlec"
}
```

Changed dependencies from **#24513** to none



---

archive/issue_comments_368528.json:
```json
{
    "body": "Changed commit from **[aec25f2](https://github.com/sagemath/sagetrac-mirror/commit/aec25f266869a2f5f33e726cd6783b987588399e)** to **[cb08771](https://github.com/sagemath/sagetrac-mirror/commit/cb0877143053d94e094940747624a22d30a03804)**",
    "created_at": "2020-02-16T20:48:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368528",
    "user": "https://github.com/videlec"
}
```

Changed commit from **[aec25f2](https://github.com/sagemath/sagetrac-mirror/commit/aec25f266869a2f5f33e726cd6783b987588399e)** to **[cb08771](https://github.com/sagemath/sagetrac-mirror/commit/cb0877143053d94e094940747624a22d30a03804)**



---

archive/issue_comments_368529.json:
```json
{
    "body": "Changed branch from **[u/rws/24345-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24345-1)** to **[public/24345](https://github.com/sagemath/sagetrac-mirror/tree/public/24345)**",
    "created_at": "2020-02-16T20:48:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368529",
    "user": "https://github.com/videlec"
}
```

Changed branch from **[u/rws/24345-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24345-1)** to **[public/24345](https://github.com/sagemath/sagetrac-mirror/tree/public/24345)**



---

archive/issue_comments_368530.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nrebased\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb0877143053d94e094940747624a22d30a03804\">cb08771</a></td><td><code>24345: fix Unknown</code></td></tr></table>\n",
    "created_at": "2020-02-16T20:48:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368530",
    "user": "https://github.com/videlec"
}
```

<div id="comment:44" align="right">comment:44</div>

rebased

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb0877143053d94e094940747624a22d30a03804">cb08771</a></td><td><code>24345: fix Unknown</code></td></tr></table>




---

archive/issue_comments_368531.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f4c2c66a725b843e47761e16da3b6edc955a2e07\">f4c2c66</a></td><td><code>24345: rework UnknownClass</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/855f23037584d323e00f0e218a3a4a9c6e312cf1\">855f230</a></td><td><code>24345: adapt code in designs, graphs, etc</code></td></tr></table>\n",
    "created_at": "2020-02-16T20:56:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368531",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f4c2c66a725b843e47761e16da3b6edc955a2e07">f4c2c66</a></td><td><code>24345: rework UnknownClass</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/855f23037584d323e00f0e218a3a4a9c6e312cf1">855f230</a></td><td><code>24345: adapt code in designs, graphs, etc</code></td></tr></table>




---

archive/issue_comments_368532.json:
```json
{
    "body": "Changed commit from **[cb08771](https://github.com/sagemath/sagetrac-mirror/commit/cb0877143053d94e094940747624a22d30a03804)** to **[855f230](https://github.com/sagemath/sagetrac-mirror/commit/855f23037584d323e00f0e218a3a4a9c6e312cf1)**",
    "created_at": "2020-02-16T20:56:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368532",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cb08771](https://github.com/sagemath/sagetrac-mirror/commit/cb0877143053d94e094940747624a22d30a03804)** to **[855f230](https://github.com/sagemath/sagetrac-mirror/commit/855f23037584d323e00f0e218a3a4a9c6e312cf1)**



---

archive/issue_comments_368533.json:
```json
{
    "body": "Changed commit from **[855f230](https://github.com/sagemath/sagetrac-mirror/commit/855f23037584d323e00f0e218a3a4a9c6e312cf1)** to **[96fd7a2](https://github.com/sagemath/sagetrac-mirror/commit/96fd7a29c582e894465042f70c431a76e6dfe191)**",
    "created_at": "2020-02-17T06:32:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368533",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[855f230](https://github.com/sagemath/sagetrac-mirror/commit/855f23037584d323e00f0e218a3a4a9c6e312cf1)** to **[96fd7a2](https://github.com/sagemath/sagetrac-mirror/commit/96fd7a29c582e894465042f70c431a76e6dfe191)**



---

archive/issue_comments_368534.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96fd7a29c582e894465042f70c431a76e6dfe191\">96fd7a2</a></td><td><code>24345: pyflakes cleaning</code></td></tr></table>\n",
    "created_at": "2020-02-17T06:32:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368534",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96fd7a29c582e894465042f70c431a76e6dfe191">96fd7a2</a></td><td><code>24345: pyflakes cleaning</code></td></tr></table>




---

archive/issue_events_337580.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-02-17T09:44:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337580"
}
```



---

archive/issue_events_337581.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-02-17T09:44:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337581"
}
```



---

archive/issue_events_337582.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-02-19T23:26:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337582"
}
```



---

archive/issue_events_337583.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "b255255812521ead472a12ca5b62dcedd9b32dd5",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-02-19T23:26:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24345#event-337583"
}
```



---

archive/issue_comments_368535.json:
```json
{
    "body": "Changed branch from **[public/24345](https://github.com/sagemath/sagetrac-mirror/tree/public/24345)** to **[96fd7a2](https://github.com/sagemath/sagetrac-mirror/commit/96fd7a29c582e894465042f70c431a76e6dfe191)**",
    "created_at": "2020-02-19T23:26:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24345#issuecomment-368535",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/24345](https://github.com/sagemath/sagetrac-mirror/tree/public/24345)** to **[96fd7a2](https://github.com/sagemath/sagetrac-mirror/commit/96fd7a29c582e894465042f70c431a76e6dfe191)**
