# Issue 24072: Disallow positive characteristic in the symbolic ring

archive/issues_023835.json:
```json
{
    "assignees": [],
    "body": "Elements of positive characteristic in the symbolic ring are complete nonsense\n\n```\nsage: x = SR.var('x')\nsage: f(x) = exp(GF(3).one() * x)\nsage: f\nx |--> e^x\nsage: bool(f(x) == exp(x))\nTrue\nsage: f(3*x)\n1\n```\nor\n\n```\nsage: solve(x^2 == 2, [x])\n[x == -sqrt(2), x == sqrt(2)]\nsage: solve(x^2 == GF(3)(2), [x])\n[x == -sqrt(2), x == sqrt(2)]\n```\n\nMore dramatically, it leads to segmentation faults\n\n```python\nsage: x = polygen(GF(3))\nsage: a = SR.var('a')\nsage: (2*x + 1) * a\nsegmentation fault\n```\nEven going through conversion\n\n```python\nsage: p = SR(2*x + 1)\nsage: p * a\nsegmentation fault\n```\n\nWe simply disallow wrapping of element of positive characteristic in `SR`.\n\nSolve #18787 and #21391\n\nOriginal reports for the segfault:\n- [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/)\n- [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/qSYOt22t58o)\n\nKeywords: **polynomial, symbolics**\n\nBranch/Commit: **[da8b056](https://github.com/sagemath/sagetrac-mirror/commit/da8b056e2d506516c80c19e2ffd002807310b533)**\n\nReviewer: **Ralf Stephan, Travis Scrimshaw**\n\nAuthor: **Vincent Delecroix**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24072_\n\n",
    "closed_at": "2017-10-29T10:32:22Z",
    "created_at": "2017-10-20T07:09:04Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20commutative%20algebra",
        "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Disallow positive characteristic in the symbolic ring",
    "type": "issue",
    "updated_at": "2017-10-29T10:32:22Z",
    "url": "https://github.com/sagemath/sage/issues/24072",
    "user": "https://github.com/bgrenet"
}
```
Elements of positive characteristic in the symbolic ring are complete nonsense

```
sage: x = SR.var('x')
sage: f(x) = exp(GF(3).one() * x)
sage: f
x |--> e^x
sage: bool(f(x) == exp(x))
True
sage: f(3*x)
1
```
or

```
sage: solve(x^2 == 2, [x])
[x == -sqrt(2), x == sqrt(2)]
sage: solve(x^2 == GF(3)(2), [x])
[x == -sqrt(2), x == sqrt(2)]
```

More dramatically, it leads to segmentation faults

```python
sage: x = polygen(GF(3))
sage: a = SR.var('a')
sage: (2*x + 1) * a
segmentation fault
```
Even going through conversion

```python
sage: p = SR(2*x + 1)
sage: p * a
segmentation fault
```

We simply disallow wrapping of element of positive characteristic in `SR`.

Solve #18787 and #21391

Original reports for the segfault:
- [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/)
- [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/qSYOt22t58o)

Keywords: **polynomial, symbolics**

Branch/Commit: **[da8b056](https://github.com/sagemath/sagetrac-mirror/commit/da8b056e2d506516c80c19e2ffd002807310b533)**

Reviewer: **Ralf Stephan, Travis Scrimshaw**

Author: **Vincent Delecroix**

_Issue created by migration from https://trac.sagemath.org/ticket/24072_





---

archive/issue_events_316129.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2017-10-20T07:09:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316129"
}
```



---

archive/issue_events_316130.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2017-10-20T07:09:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20commutative%20algebra",
    "label_color": "0000ff",
    "label_name": "component: commutative algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316130"
}
```



---

archive/issue_events_316131.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2017-10-20T07:09:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316131"
}
```



---

archive/issue_events_316132.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2017-10-20T07:09:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316132"
}
```



---

archive/issue_comments_366389.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nThe real bug is that `SR(sigma)` succeeds (and returns something broken).\nIt should just fail, and then `*` will fail too, as it should.",
    "created_at": "2017-10-20T08:31:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366389",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'>Comment 1:</a>
The real bug is that `SR(sigma)` succeeds (and returns something broken).
It should just fail, and then `*` will fail too, as it should.



---

archive/issue_events_316133.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-10-20T14:11:28Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "title_is": "Segfault when multiplying symbolic expression and poly over finite field",
    "title_was": "Segfault when multiplication between symbolic expr. and non-monic poly over finite field",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316133"
}
```



---

archive/issue_comments_366390.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-As reported on [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/), the following provokes a segmentation fault:\n+As reported on [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/), the following provokes a segmentation fault due to a stack overflow:\n \n ```python\n sage: P.<x> = GF(3)[]\n``````\n",
    "created_at": "2017-10-20T14:11:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366390",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-As reported on [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/), the following provokes a segmentation fault:
+As reported on [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/), the following provokes a segmentation fault due to a stack overflow:
 
 ```python
 sage: P.<x> = GF(3)[]
``````




---

archive/issue_comments_366391.json:
```json
{
    "body": "Changed keywords from **polynomial** to **polynomial, symbolics**",
    "created_at": "2017-10-20T19:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366391",
    "user": "https://github.com/videlec"
}
```

Changed keywords from **polynomial** to **polynomial, symbolics**



---

archive/issue_comments_366392.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,15 +1,23 @@\n-As reported on [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/), the following provokes a segmentation fault due to a stack overflow:\n \n ```python\n-sage: P.<x> = GF(3)[]\n-sage: a = var('a')\n-sage: sigma = 2*x + 1\n-sage: a * sigma\n+sage: x = polygen(GF(3))\n+sage: a = SR.var('a')\n+sage: (2*x + 1) * a\n+segmentation fault\n+```\n+Even going through conversion\n+\n+```python\n+sage: p = SR(2*x + 1)\n+sage: p * a\n segmentation fault\n ```\n \n My investigation gives the following conditions for the segfault:\n-* Multiplication between an element of `SR` and `GF(p)['x']` ;\n-* The polynomial is non monic, and has at least two nonzero terms.\n+* Multiplication between an element of `SR` and `GF(p)['x']`\n+* The polynomial is non monic, and has at least two nonzero terms (e.g. no complaint with `p = x` or `p = 2x`).\n \n-Note that converting the polynomial to `SR` beforehand yields the same error.\n+Original reports:\n+- [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/)\n+- [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/qSYOt22t58o)\n+\n``````\n",
    "created_at": "2017-10-20T19:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366392",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,15 +1,23 @@
-As reported on [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/), the following provokes a segmentation fault due to a stack overflow:
 
 ```python
-sage: P.<x> = GF(3)[]
-sage: a = var('a')
-sage: sigma = 2*x + 1
-sage: a * sigma
+sage: x = polygen(GF(3))
+sage: a = SR.var('a')
+sage: (2*x + 1) * a
+segmentation fault
+```
+Even going through conversion
+
+```python
+sage: p = SR(2*x + 1)
+sage: p * a
 segmentation fault
 ```
 
 My investigation gives the following conditions for the segfault:
-* Multiplication between an element of `SR` and `GF(p)['x']` ;
-* The polynomial is non monic, and has at least two nonzero terms.
+* Multiplication between an element of `SR` and `GF(p)['x']`
+* The polynomial is non monic, and has at least two nonzero terms (e.g. no complaint with `p = x` or `p = 2x`).
 
-Note that converting the polynomial to `SR` beforehand yields the same error.
+Original reports:
+- [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/)
+- [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/qSYOt22t58o)
+
``````




---

archive/issue_comments_366393.json:
```json
{
    "body": "Author: **Vincent Delecroix**",
    "created_at": "2017-10-21T09:31:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366393",
    "user": "https://github.com/videlec"
}
```

Author: **Vincent Delecroix**



---

archive/issue_comments_366394.json:
```json
{
    "body": "Commit: **[148340c](https://github.com/sagemath/sagetrac-mirror/commit/148340c832900e841fea1ee25527383b26f607ad)**",
    "created_at": "2017-10-21T09:31:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366394",
    "user": "https://github.com/videlec"
}
```

Commit: **[148340c](https://github.com/sagemath/sagetrac-mirror/commit/148340c832900e841fea1ee25527383b26f607ad)**



---

archive/issue_events_316134.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-10-21T09:31:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316134"
}
```



---

archive/issue_comments_366395.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nA branch where SR does not accept anymore positive characteristic... let see what the patchbot has to say.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/148340c832900e841fea1ee25527383b26f607ad\">148340c</a></td><td><code>24072: disallow positive characteristic in SR</code></td></tr></table>\n",
    "created_at": "2017-10-21T09:31:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366395",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'>Comment 4:</a>
A branch where SR does not accept anymore positive characteristic... let see what the patchbot has to say.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/148340c832900e841fea1ee25527383b26f607ad">148340c</a></td><td><code>24072: disallow positive characteristic in SR</code></td></tr></table>




---

archive/issue_comments_366396.json:
```json
{
    "body": "Branch: **[u/vdelecroix/24072](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24072)**",
    "created_at": "2017-10-21T09:31:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366396",
    "user": "https://github.com/videlec"
}
```

Branch: **[u/vdelecroix/24072](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24072)**



---

archive/issue_comments_366397.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/402865e471bdec4fd2c6babf6e6256aeea89be02\">402865e</a></td><td><code>24072: fix doctest in matrix_space.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f956e0ca57c8f15b94410c43e9a17bb534a7ced\">8f956e0</a></td><td><code>24072: fix doctests</code></td></tr></table>\n",
    "created_at": "2017-10-21T11:34:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366397",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/402865e471bdec4fd2c6babf6e6256aeea89be02">402865e</a></td><td><code>24072: fix doctest in matrix_space.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f956e0ca57c8f15b94410c43e9a17bb534a7ced">8f956e0</a></td><td><code>24072: fix doctests</code></td></tr></table>




---

archive/issue_comments_366398.json:
```json
{
    "body": "Changed commit from **[148340c](https://github.com/sagemath/sagetrac-mirror/commit/148340c832900e841fea1ee25527383b26f607ad)** to **[8f956e0](https://github.com/sagemath/sagetrac-mirror/commit/8f956e0ca57c8f15b94410c43e9a17bb534a7ced)**",
    "created_at": "2017-10-21T11:34:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366398",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[148340c](https://github.com/sagemath/sagetrac-mirror/commit/148340c832900e841fea1ee25527383b26f607ad)** to **[8f956e0](https://github.com/sagemath/sagetrac-mirror/commit/8f956e0ca57c8f15b94410c43e9a17bb534a7ced)**



---

archive/issue_events_316135.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-10-21T11:36:54Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "title_is": "Disallow positive characteristic in the symbolic ring",
    "title_was": "Segfault when multiplying symbolic expression and poly over finite field",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316135"
}
```



---

archive/issue_comments_366399.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n+Introducing element of positive characteristic in the symbolic ring leads to dramatic segmentation faults\n \n ```python\n sage: x = polygen(GF(3))\n@@ -13,11 +14,8 @@\n segmentation fault\n ```\n \n-My investigation gives the following conditions for the segfault:\n-* Multiplication between an element of `SR` and `GF(p)['x']`\n-* The polynomial is non monic, and has at least two nonzero terms (e.g. no complaint with `p = x` or `p = 2x`).\n+We simply disallow wrapping of element of positive characteristic in `SR`.\n \n-Original reports:\n+Original reports for the segfault:\n - [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/)\n - [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/qSYOt22t58o)\n-\n``````\n",
    "created_at": "2017-10-21T11:36:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366399",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
+Introducing element of positive characteristic in the symbolic ring leads to dramatic segmentation faults
 
 ```python
 sage: x = polygen(GF(3))
@@ -13,11 +14,8 @@
 segmentation fault
 ```
 
-My investigation gives the following conditions for the segfault:
-* Multiplication between an element of `SR` and `GF(p)['x']`
-* The polynomial is non monic, and has at least two nonzero terms (e.g. no complaint with `p = x` or `p = 2x`).
+We simply disallow wrapping of element of positive characteristic in `SR`.
 
-Original reports:
+Original reports for the segfault:
 - [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/)
 - [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/qSYOt22t58o)
-
``````




---

archive/issue_comments_366400.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nI think I fixed all doctests!",
    "created_at": "2017-10-21T11:37:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366400",
    "user": "https://github.com/videlec"
}
```

<a id='comment:7'>Comment 7:</a>
I think I fixed all doctests!



---

archive/issue_comments_366401.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,21 @@\n-Introducing element of positive characteristic in the symbolic ring leads to dramatic segmentation faults\n+Elements of positive characteristic in the symbolic ring are complete nonsense\n+\n+```\n+sage: x = SR.var('x')\n+sage: f(x) = exp(a*x)\n+sage: f(3*x)\n+1\n+```\n+or\n+\n+```\n+sage: solve(x^2 == 2, [x])\n+[x == -sqrt(2), x == sqrt(2)]\n+sage: solve(x^2 == GF(3)(2), [x])\n+[x == -sqrt(2), x == sqrt(2)]\n+```\n+\n+More dramatically, it leads to segmentation faults\n \n ```python\n sage: x = polygen(GF(3))\n``````\n",
    "created_at": "2017-10-21T11:46:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366401",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,21 @@
-Introducing element of positive characteristic in the symbolic ring leads to dramatic segmentation faults
+Elements of positive characteristic in the symbolic ring are complete nonsense
+
+```
+sage: x = SR.var('x')
+sage: f(x) = exp(a*x)
+sage: f(3*x)
+1
+```
+or
+
+```
+sage: solve(x^2 == 2, [x])
+[x == -sqrt(2), x == sqrt(2)]
+sage: solve(x^2 == GF(3)(2), [x])
+[x == -sqrt(2), x == sqrt(2)]
+```
+
+More dramatically, it leads to segmentation faults
 
 ```python
 sage: x = polygen(GF(3))
``````




---

archive/issue_comments_366402.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,11 @@\n \n ```\n sage: x = SR.var('x')\n-sage: f(x) = exp(a*x)\n+sage: f(x) = exp(GF(3).one() * x)\n+sage: f\n+x |--> e^x\n+sage: bool(f(x) == exp(x))\n+True\n sage: f(3*x)\n 1\n ```\n``````\n",
    "created_at": "2017-10-21T11:47:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366402",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,11 @@
 
 ```
 sage: x = SR.var('x')
-sage: f(x) = exp(a*x)
+sage: f(x) = exp(GF(3).one() * x)
+sage: f
+x |--> e^x
+sage: bool(f(x) == exp(x))
+True
 sage: f(3*x)
 1
 ```
``````




---

archive/issue_comments_366403.json:
```json
{
    "body": "Reviewer: **Ralf Stephan**",
    "created_at": "2017-10-21T13:56:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366403",
    "user": "https://github.com/rwst"
}
```

Reviewer: **Ralf Stephan**



---

archive/issue_comments_366404.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nWhat a relief, thanks for your work.",
    "created_at": "2017-10-21T13:56:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366404",
    "user": "https://github.com/rwst"
}
```

<a id='comment:10'>Comment 10:</a>
What a relief, thanks for your work.



---

archive/issue_events_316136.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-21T13:56:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316136"
}
```



---

archive/issue_events_316137.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-21T13:56:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316137"
}
```



---

archive/issue_comments_366405.json:
```json
{
    "body": "Changed commit from **[8f956e0](https://github.com/sagemath/sagetrac-mirror/commit/8f956e0ca57c8f15b94410c43e9a17bb534a7ced)** to **[de4e760](https://github.com/sagemath/sagetrac-mirror/commit/de4e7607fe32aa771b2845cebcc784ab65a15236)**",
    "created_at": "2017-10-21T15:48:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366405",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8f956e0](https://github.com/sagemath/sagetrac-mirror/commit/8f956e0ca57c8f15b94410c43e9a17bb534a7ced)** to **[de4e760](https://github.com/sagemath/sagetrac-mirror/commit/de4e7607fe32aa771b2845cebcc784ab65a15236)**



---

archive/issue_events_316138.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-10-21T15:48:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316138"
}
```



---

archive/issue_events_316139.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-10-21T15:48:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316139"
}
```



---

archive/issue_comments_366406.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de4e7607fe32aa771b2845cebcc784ab65a15236\">de4e760</a></td><td><code>24072: py3 syntax</code></td></tr></table>\n",
    "created_at": "2017-10-21T15:48:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366406",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de4e7607fe32aa771b2845cebcc784ab65a15236">de4e760</a></td><td><code>24072: py3 syntax</code></td></tr></table>




---

archive/issue_events_316140.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-10-21T15:49:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316140"
}
```



---

archive/issue_events_316141.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-10-21T15:49:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316141"
}
```



---

archive/issue_comments_366407.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nA tiny change for py3 syntax (patchbot complaint). Setting back to positive review...",
    "created_at": "2017-10-21T15:49:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366407",
    "user": "https://github.com/videlec"
}
```

<a id='comment:12'>Comment 12:</a>
A tiny change for py3 syntax (patchbot complaint). Setting back to positive review...



---

archive/issue_comments_366408.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nDoes this mean that #21391 can now be closed as duplicate?",
    "created_at": "2017-10-21T17:10:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366408",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:13'>Comment 13:</a>
Does this mean that #21391 can now be closed as duplicate?



---

archive/issue_events_316142.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-10-21T19:05:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316142"
}
```



---

archive/issue_events_316143.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-10-21T19:05:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316143"
}
```



---

archive/issue_comments_366409.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nMerge conflict",
    "created_at": "2017-10-21T19:05:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366409",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:14'>Comment 14:</a>
Merge conflict



---

archive/issue_comments_366410.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nVolker, can you provide more information?",
    "created_at": "2017-10-21T20:24:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366410",
    "user": "https://github.com/videlec"
}
```

<a id='comment:15'>Comment 15:</a>
Volker, can you provide more information?



---

archive/issue_comments_366411.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -37,6 +37,8 @@\n \n We simply disallow wrapping of element of positive characteristic in `SR`.\n \n+Solve #18787 and #21391\n+\n Original reports for the segfault:\n - [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/)\n - [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/qSYOt22t58o)\n``````\n",
    "created_at": "2017-10-21T20:25:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366411",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -37,6 +37,8 @@
 
 We simply disallow wrapping of element of positive characteristic in `SR`.
 
+Solve #18787 and #21391
+
 Original reports for the segfault:
 - [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/)
 - [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/qSYOt22t58o)
``````




---

archive/issue_comments_366412.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nHmm, I guess, look at https://github.com/vbraun/sage/tree/develop ?",
    "created_at": "2017-10-21T20:37:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366412",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'>Comment 17:</a>
Hmm, I guess, look at https://github.com/vbraun/sage/tree/develop ?



---

archive/issue_comments_366413.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32ffd592b246220d6b8e5a1c7274ad5d418586c1\">32ffd59</a></td><td><code>24072: disallow positive characteristic in SR</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3878ed6dcb385ec71dedb2dae28df53537418bc5\">3878ed6</a></td><td><code>24072: fix doctests</code></td></tr></table>\n",
    "created_at": "2017-10-22T18:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366413",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'>Comment 18:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32ffd592b246220d6b8e5a1c7274ad5d418586c1">32ffd59</a></td><td><code>24072: disallow positive characteristic in SR</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3878ed6dcb385ec71dedb2dae28df53537418bc5">3878ed6</a></td><td><code>24072: fix doctests</code></td></tr></table>




---

archive/issue_comments_366414.json:
```json
{
    "body": "Changed commit from **[de4e760](https://github.com/sagemath/sagetrac-mirror/commit/de4e7607fe32aa771b2845cebcc784ab65a15236)** to **[3878ed6](https://github.com/sagemath/sagetrac-mirror/commit/3878ed6dcb385ec71dedb2dae28df53537418bc5)**",
    "created_at": "2017-10-22T18:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366414",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[de4e760](https://github.com/sagemath/sagetrac-mirror/commit/de4e7607fe32aa771b2845cebcc784ab65a15236)** to **[3878ed6](https://github.com/sagemath/sagetrac-mirror/commit/3878ed6dcb385ec71dedb2dae28df53537418bc5)**



---

archive/issue_comments_366415.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nrebased on 8.1.beta9",
    "created_at": "2017-10-22T18:25:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366415",
    "user": "https://github.com/videlec"
}
```

<a id='comment:19'>Comment 19:</a>
rebased on 8.1.beta9



---

archive/issue_events_316144.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-10-22T18:25:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316144"
}
```



---

archive/issue_events_316145.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-10-22T18:25:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316145"
}
```



---

archive/issue_comments_366416.json:
```json
{
    "body": "Changed commit from **[3878ed6](https://github.com/sagemath/sagetrac-mirror/commit/3878ed6dcb385ec71dedb2dae28df53537418bc5)** to **[da8b056](https://github.com/sagemath/sagetrac-mirror/commit/da8b056e2d506516c80c19e2ffd002807310b533)**",
    "created_at": "2017-10-22T18:27:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366416",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3878ed6](https://github.com/sagemath/sagetrac-mirror/commit/3878ed6dcb385ec71dedb2dae28df53537418bc5)** to **[da8b056](https://github.com/sagemath/sagetrac-mirror/commit/da8b056e2d506516c80c19e2ffd002807310b533)**



---

archive/issue_comments_366417.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da8b056e2d506516c80c19e2ffd002807310b533\">da8b056</a></td><td><code>24072: fix doctests</code></td></tr></table>\n",
    "created_at": "2017-10-22T18:27:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366417",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'>Comment 20:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da8b056e2d506516c80c19e2ffd002807310b533">da8b056</a></td><td><code>24072: fix doctests</code></td></tr></table>




---

archive/issue_comments_366418.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nping?",
    "created_at": "2017-10-23T19:56:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366418",
    "user": "https://github.com/videlec"
}
```

<a id='comment:21'>Comment 21:</a>
ping?



---

archive/issue_events_316146.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-10-23T22:24:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316146"
}
```



---

archive/issue_events_316147.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-10-23T22:24:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316147"
}
```



---

archive/issue_comments_366419.json:
```json
{
    "body": "Changed reviewer from **Ralf Stephan** to **Ralf Stephan, Travis Scrimshaw**",
    "created_at": "2017-10-23T22:24:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366419",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Ralf Stephan** to **Ralf Stephan, Travis Scrimshaw**



---

archive/issue_comments_366420.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/24072](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24072)** to **[da8b056](https://github.com/sagemath/sagetrac-mirror/commit/da8b056e2d506516c80c19e2ffd002807310b533)**",
    "created_at": "2017-10-29T10:32:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-366420",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vdelecroix/24072](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24072)** to **[da8b056](https://github.com/sagemath/sagetrac-mirror/commit/da8b056e2d506516c80c19e2ffd002807310b533)**



---

archive/issue_events_316148.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-10-29T10:32:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316148"
}
```



---

archive/issue_events_316149.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "88b3fbff89bb12cef4e267bfa478583e4ac42bbb",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-10-29T10:32:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-316149"
}
```
