# Issue 24244: Fast check for C long

archive/issues_024007.json:
```json
{
    "assignees": [],
    "body": "Implement a fast variant of `pyobject_to_long`, which could be used to replace checks of the form `isinstance(x, int)`.\n\nThe goal of these functions is to provide a single place to check for integers and convert them to a C `long` (at least in Cython code, where performance matters most). Various places in Sage check for integers in different ways. First of all, this is an inconsistency which should be fixed.\n\nIn Python 3, the types `int`/`long` are changed, so many of the existing checks will need to be changed anyway. So we might as well provide one function which should be able to replace most of these checks. And ideally, we want to do this without losing too much performance. For that reason, I avoid `PyLong_FromLong` in favour of a hand-written implementation.\n\nThe function `pyobject_to_long` has signature\n\n```\ncdef bint integer_check_long(x, long* value, int* err)\n```\nIt does several things: first of all, it checks whether `x` is \"integer-like\". This means that it is either a Python `int` or `long`, a Sage `Integer` or it supports `__index__`. The return value of the function is whether or not it is an integer. If it is an integer, it tries to convert the value to a C `long` and stores it in `*value`. Errors are passed through the `*err` variable.\n\nThis interface looks overcomplicated on first sight, but the complexity is needed to support the various use cases of this function. Also note that it is an `inline` function, so the compiler should be able to optimize away the unused variables.\n\nUse case 1: a function can take different kinds of input and want to check whether the input is an integer. Typically, this would be done with a long `if` chain like\n\n```\nif isinstance(x, ...):\n    ...\nelif isinstance(x, ...):\n    ...\nelif integer_check_long(x, &value, &err):\n    # Process value and err as needed\nelif isinstance(x, ...):\n    ...\n```\n\nUse case 2: convert an integer to a C `long` purely for performance. In this case, you want to treat overflow the same as the input not being an integer:\n\n```\ncdef int err = -1\ninteger_check_long(x, &value, &err)\nif err == 0:\n    # Conversion successful, use value\n```\n\nDepends on #24252\n\nBranch: **[70592a8](https://github.com/sagemath/sagetrac-mirror/commit/70592a850d7677928592c022760d6183bd81364f)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Jeroen Demeyer**\n\nComponent: **cython**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24244_\n\n",
    "closed_at": "2017-12-13T17:38:17Z",
    "created_at": "2017-11-19T19:03:19Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20cython",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fast check for C long",
    "type": "issue",
    "updated_at": "2018-04-24T17:13:29Z",
    "url": "https://github.com/sagemath/sage/issues/24244",
    "user": "https://github.com/jdemeyer"
}
```
Implement a fast variant of `pyobject_to_long`, which could be used to replace checks of the form `isinstance(x, int)`.

The goal of these functions is to provide a single place to check for integers and convert them to a C `long` (at least in Cython code, where performance matters most). Various places in Sage check for integers in different ways. First of all, this is an inconsistency which should be fixed.

In Python 3, the types `int`/`long` are changed, so many of the existing checks will need to be changed anyway. So we might as well provide one function which should be able to replace most of these checks. And ideally, we want to do this without losing too much performance. For that reason, I avoid `PyLong_FromLong` in favour of a hand-written implementation.

The function `pyobject_to_long` has signature

```
cdef bint integer_check_long(x, long* value, int* err)
```
It does several things: first of all, it checks whether `x` is "integer-like". This means that it is either a Python `int` or `long`, a Sage `Integer` or it supports `__index__`. The return value of the function is whether or not it is an integer. If it is an integer, it tries to convert the value to a C `long` and stores it in `*value`. Errors are passed through the `*err` variable.

This interface looks overcomplicated on first sight, but the complexity is needed to support the various use cases of this function. Also note that it is an `inline` function, so the compiler should be able to optimize away the unused variables.

Use case 1: a function can take different kinds of input and want to check whether the input is an integer. Typically, this would be done with a long `if` chain like

```
if isinstance(x, ...):
    ...
elif isinstance(x, ...):
    ...
elif integer_check_long(x, &value, &err):
    # Process value and err as needed
elif isinstance(x, ...):
    ...
```

Use case 2: convert an integer to a C `long` purely for performance. In this case, you want to treat overflow the same as the input not being an integer:

```
cdef int err = -1
integer_check_long(x, &value, &err)
if err == 0:
    # Conversion successful, use value
```

Depends on #24252

Branch: **[70592a8](https://github.com/sagemath/sagetrac-mirror/commit/70592a850d7677928592c022760d6183bd81364f)**

Reviewer: **Travis Scrimshaw**

Author: **Jeroen Demeyer**

Component: **cython**

_Issue created by migration from https://trac.sagemath.org/ticket/24244_





---

archive/issue_events_336330.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-11-19T19:03:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24244#event-336330"
}
```



---

archive/issue_events_336331.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-11-19T19:03:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20cython",
    "label_color": "000080",
    "label_name": "c: cython",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24244#event-336331"
}
```



---

archive/issue_events_336332.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-11-19T19:03:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24244#event-336332"
}
```



---

archive/issue_events_336333.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-11-19T19:03:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24244#event-336333"
}
```



---

archive/issue_comments_366919.json:
```json
{
    "body": "Branch: **[u/jdemeyer/fast_check_for_c_long](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/fast_check_for_c_long)**",
    "created_at": "2017-11-19T20:19:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366919",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/fast_check_for_c_long](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/fast_check_for_c_long)**



---

archive/issue_comments_366920.json:
```json
{
    "body": "Commit: **[dd27cd5](https://github.com/sagemath/sagetrac-mirror/commit/dd27cd5b59823f5f5ff7c1a80d0afc962c29dc7d)**",
    "created_at": "2017-11-20T09:40:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366920",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[dd27cd5](https://github.com/sagemath/sagetrac-mirror/commit/dd27cd5b59823f5f5ff7c1a80d0afc962c29dc7d)**



---

archive/issue_comments_366921.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eeee3de396e314f33cd4c907be4999b115f96c84\">eeee3de</a></td><td><code>Move long.pxd to arith</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd27cd5b59823f5f5ff7c1a80d0afc962c29dc7d\">dd27cd5</a></td><td><code>New function integer_check_long()</code></td></tr></table>\n",
    "created_at": "2017-11-20T09:40:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366921",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eeee3de396e314f33cd4c907be4999b115f96c84">eeee3de</a></td><td><code>Move long.pxd to arith</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd27cd5b59823f5f5ff7c1a80d0afc962c29dc7d">dd27cd5</a></td><td><code>New function integer_check_long()</code></td></tr></table>




---

archive/issue_comments_366922.json:
```json
{
    "body": "Dependencies: **#24245**",
    "created_at": "2017-11-20T09:41:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366922",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#24245**



---

archive/issue_comments_366923.json:
```json
{
    "body": "Changed commit from **[dd27cd5](https://github.com/sagemath/sagetrac-mirror/commit/dd27cd5b59823f5f5ff7c1a80d0afc962c29dc7d)** to **[b1ea838](https://github.com/sagemath/sagetrac-mirror/commit/b1ea838fc07baf8d6247a15f8db067ade9596e4a)**",
    "created_at": "2017-11-20T10:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366923",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dd27cd5](https://github.com/sagemath/sagetrac-mirror/commit/dd27cd5b59823f5f5ff7c1a80d0afc962c29dc7d)** to **[b1ea838](https://github.com/sagemath/sagetrac-mirror/commit/b1ea838fc07baf8d6247a15f8db067ade9596e4a)**



---

archive/issue_comments_366924.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1ea838fc07baf8d6247a15f8db067ade9596e4a\">b1ea838</a></td><td><code>New functions integer_check_long() and integer_check_long_py()</code></td></tr></table>\n",
    "created_at": "2017-11-20T10:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366924",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1ea838fc07baf8d6247a15f8db067ade9596e4a">b1ea838</a></td><td><code>New functions integer_check_long() and integer_check_long_py()</code></td></tr></table>




---

archive/issue_events_336334.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-11-20T10:35:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24244#event-336334"
}
```



---

archive/issue_events_336335.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-11-20T16:24:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24244#event-336335"
}
```



---

archive/issue_events_336336.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-11-20T16:24:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24244#event-336336"
}
```



---

archive/issue_comments_366925.json:
```json
{
    "body": "Changed dependencies from **#24245** to **#24252**",
    "created_at": "2017-11-20T16:24:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366925",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#24245** to **#24252**



---

archive/issue_comments_366926.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bb114c91736f48e5854613ae438377ed7f032b7e\">bb114c9</a></td><td><code>Fake Integer interface</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d76bc133b7b93cf3a3baaad782caedee692ae0a\">4d76bc1</a></td><td><code>New functions integer_check_long() and integer_check_long_py()</code></td></tr></table>\n",
    "created_at": "2017-11-20T18:32:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366926",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bb114c91736f48e5854613ae438377ed7f032b7e">bb114c9</a></td><td><code>Fake Integer interface</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d76bc133b7b93cf3a3baaad782caedee692ae0a">4d76bc1</a></td><td><code>New functions integer_check_long() and integer_check_long_py()</code></td></tr></table>




---

archive/issue_comments_366927.json:
```json
{
    "body": "Changed commit from **[b1ea838](https://github.com/sagemath/sagetrac-mirror/commit/b1ea838fc07baf8d6247a15f8db067ade9596e4a)** to **[4d76bc1](https://github.com/sagemath/sagetrac-mirror/commit/4d76bc133b7b93cf3a3baaad782caedee692ae0a)**",
    "created_at": "2017-11-20T18:32:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366927",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b1ea838](https://github.com/sagemath/sagetrac-mirror/commit/b1ea838fc07baf8d6247a15f8db067ade9596e4a)** to **[4d76bc1](https://github.com/sagemath/sagetrac-mirror/commit/4d76bc133b7b93cf3a3baaad782caedee692ae0a)**



---

archive/issue_events_336337.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-11-20T18:56:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24244#event-336337"
}
```



---

archive/issue_events_336338.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-11-20T18:56:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24244#event-336338"
}
```



---

archive/issue_comments_366928.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI think it would be better if `integer_check_long` and `integer_check_long_py` returned the error and `0` if it was completely successful. Then `pyobject_to_long` would then interpret the error using the `enum` and do the correct Python error raising. I feel like you are basically doing this, but in a roundabout way by passing `err`.",
    "created_at": "2017-11-20T23:46:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366928",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">comment:9</div>

I think it would be better if `integer_check_long` and `integer_check_long_py` returned the error and `0` if it was completely successful. Then `pyobject_to_long` would then interpret the error using the `enum` and do the correct Python error raising. I feel like you are basically doing this, but in a roundabout way by passing `err`.



---

archive/issue_comments_366929.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nAlso, in #24248, you do not even use the return `bint` of `integer_check_long_py`.",
    "created_at": "2017-11-20T23:47:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366929",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">comment:10</div>

Also, in #24248, you do not even use the return `bint` of `integer_check_long_py`.



---

archive/issue_comments_366930.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,36 @@\n-Implement a fast variant of `pyobject_to_long`, which could be used to replace checks of the form `isinstance(x, int)`. This will help porting to Python 3 without losing too much performance.\n+Implement a fast variant of `pyobject_to_long`, which could be used to replace checks of the form `isinstance(x, int)`.\n+\n+The goal of these functions is to provide a single place to check for integers and convert them to a C `long` (at least in Cython code, where performance matters most). Various places in Sage check for integers in different ways. First of all, this is an inconsistency which should be fixed.\n+\n+In Python 3, the types `int`/`long` are changed, so many of the existing checks will need to be changed anyway. So we might as well provide one function which should be able to replace most of these checks. And ideally, we want to do this without losing too much performance. For that reason, I avoid `PyLong_FromLong` in favour of a hand-written implementation.\n+\n+The function `pyobject_to_long` has signature\n+\n+```\n+cdef bint integer_check_long(x, long* value, int* err)\n+```\n+It does several things: first of all, it checks whether `x` is \"integer-like\". This means that it is either a Python `int` or `long`, a Sage `Integer` or it supports `__index__`. The return value of the function is whether or not it is an integer. If it is an integer, it tries to convert the value to a C `long` and stores it in `*value`. Errors are passed through the `*err` variable.\n+\n+This interface looks overcomplicated on first sight, but the complexity is needed to support the various use cases of this function. Also note that it is an `inline` function, so the compiler should be able to optimize away the unused variables.\n+\n+Use case 1: a function can take different kinds of input and want to check whether the input is an integer. Typically, this would be done with a long `if` chain like\n+\n+```\n+if isinstance(x, ...):\n+    ...\n+elif isinstance(x, ...):\n+    ...\n+elif integer_check_long(x, &value, &err):\n+    # Process value and err as needed\n+elif isinstance(x, ...):\n+    ...\n+```\n+\n+Use case 2: convert an integer to a C `long` purely for performance. In this case, you want to treat overflow the same as the input not being an integer:\n+\n+```\n+cdef int err = -1\n+integer_check_long(x, &value, &err)\n+if err == 0:\n+    # Conversion successful, use value\n+```\n``````\n",
    "created_at": "2017-11-21T08:23:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366930",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,36 @@
-Implement a fast variant of `pyobject_to_long`, which could be used to replace checks of the form `isinstance(x, int)`. This will help porting to Python 3 without losing too much performance.
+Implement a fast variant of `pyobject_to_long`, which could be used to replace checks of the form `isinstance(x, int)`.
+
+The goal of these functions is to provide a single place to check for integers and convert them to a C `long` (at least in Cython code, where performance matters most). Various places in Sage check for integers in different ways. First of all, this is an inconsistency which should be fixed.
+
+In Python 3, the types `int`/`long` are changed, so many of the existing checks will need to be changed anyway. So we might as well provide one function which should be able to replace most of these checks. And ideally, we want to do this without losing too much performance. For that reason, I avoid `PyLong_FromLong` in favour of a hand-written implementation.
+
+The function `pyobject_to_long` has signature
+
+```
+cdef bint integer_check_long(x, long* value, int* err)
+```
+It does several things: first of all, it checks whether `x` is "integer-like". This means that it is either a Python `int` or `long`, a Sage `Integer` or it supports `__index__`. The return value of the function is whether or not it is an integer. If it is an integer, it tries to convert the value to a C `long` and stores it in `*value`. Errors are passed through the `*err` variable.
+
+This interface looks overcomplicated on first sight, but the complexity is needed to support the various use cases of this function. Also note that it is an `inline` function, so the compiler should be able to optimize away the unused variables.
+
+Use case 1: a function can take different kinds of input and want to check whether the input is an integer. Typically, this would be done with a long `if` chain like
+
+```
+if isinstance(x, ...):
+    ...
+elif isinstance(x, ...):
+    ...
+elif integer_check_long(x, &value, &err):
+    # Process value and err as needed
+elif isinstance(x, ...):
+    ...
+```
+
+Use case 2: convert an integer to a C `long` purely for performance. In this case, you want to treat overflow the same as the input not being an integer:
+
+```
+cdef int err = -1
+integer_check_long(x, &value, &err)
+if err == 0:
+    # Conversion successful, use value
+```
``````




---

archive/issue_comments_366931.json:
```json
{
    "body": "Changed commit from **[4d76bc1](https://github.com/sagemath/sagetrac-mirror/commit/4d76bc133b7b93cf3a3baaad782caedee692ae0a)** to **[70592a8](https://github.com/sagemath/sagetrac-mirror/commit/70592a850d7677928592c022760d6183bd81364f)**",
    "created_at": "2017-11-21T09:21:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366931",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4d76bc1](https://github.com/sagemath/sagetrac-mirror/commit/4d76bc133b7b93cf3a3baaad782caedee692ae0a)** to **[70592a8](https://github.com/sagemath/sagetrac-mirror/commit/70592a850d7677928592c022760d6183bd81364f)**



---

archive/issue_comments_366932.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70592a850d7677928592c022760d6183bd81364f\">70592a8</a></td><td><code>Fix compiler warning</code></td></tr></table>\n",
    "created_at": "2017-11-21T09:21:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366932",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70592a850d7677928592c022760d6183bd81364f">70592a8</a></td><td><code>Fix compiler warning</code></td></tr></table>




---

archive/issue_comments_366933.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nUse case 2 could just become:\n\n```\nif integer_check_long(x, &value) == 0:\n    # Conversion successful, use value\n```\nwhich feels much more natural to me.\n\nHowever, I agree that use case 1 is a bit more of a hassle because you could not subsequently assign the error message (this wouldn't be a problem in, e.g., C because of the looser syntax rules). Although you can get around this by expanding out the `elif` as an `else-if` (but it looks fugly). Do you have a specific case where this does come up?",
    "created_at": "2017-11-22T05:05:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366933",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:13" align="right">comment:13</div>

Use case 2 could just become:

```
if integer_check_long(x, &value) == 0:
    # Conversion successful, use value
```
which feels much more natural to me.

However, I agree that use case 1 is a bit more of a hassle because you could not subsequently assign the error message (this wouldn't be a problem in, e.g., C because of the looser syntax rules). Although you can get around this by expanding out the `elif` as an `else-if` (but it looks fugly). Do you have a specific case where this does come up?



---

archive/issue_comments_366934.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@tscrim](#comment:13):\n> Use case 2 could just become:\n> \n> ```\n> if integer_check_long(x, &value) == 0:\n>     # Conversion successful, use value\n> ```\n> which feels much more natural to me.\n\nSure, I can simplify use case 1 and use case 2 individually. But I see no way to simplify things in such a way that both use cases still work. Alternatively, I could simply add another layer for use case 2 and make a new function\n> \n> ```\n> if integer_check_long_no_overflow(x, &value):\n>     # Conversion successful, use value\n> ```\n\nFinally, let me stress that this complexity shouldn't affect performance since we are dealing with `inline` functions and compilers are good at optimization.",
    "created_at": "2017-11-22T07:56:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366934",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@tscrim](#comment:13):
> Use case 2 could just become:
> 
> ```
> if integer_check_long(x, &value) == 0:
>     # Conversion successful, use value
> ```
> which feels much more natural to me.

Sure, I can simplify use case 1 and use case 2 individually. But I see no way to simplify things in such a way that both use cases still work. Alternatively, I could simply add another layer for use case 2 and make a new function
> 
> ```
> if integer_check_long_no_overflow(x, &value):
>     # Conversion successful, use value
> ```

Finally, let me stress that this complexity shouldn't affect performance since we are dealing with `inline` functions and compilers are good at optimization.



---

archive/issue_comments_366935.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@tscrim](#comment:13):\n> Do you have a specific case where this does come up?\n\nI don't know exactly what you mean, but you can look at my work in progress at #24247. There are various calls to `integer_check_long(_py)` there.",
    "created_at": "2017-11-22T08:09:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366935",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@tscrim](#comment:13):
> Do you have a specific case where this does come up?

I don't know exactly what you mean, but you can look at my work in progress at #24247. There are various calls to `integer_check_long(_py)` there.



---

archive/issue_comments_366936.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nLet me know what you would suggest to do with this ticket.",
    "created_at": "2017-11-22T08:25:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366936",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

Let me know what you would suggest to do with this ticket.



---

archive/issue_comments_366937.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2017-11-22T22:15:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366937",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_366938.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@jdemeyer](#comment:15):\n> Replying to [@tscrim](#comment:13):\n> > Do you have a specific case where this does come up?\n\n> \n> I don't know exactly what you mean, but you can look at my work in progress at #24247. There are various calls to `integer_check_long(_py)` there.\n\nDo you have a place on a future ticket where use case 1 applies? I see use case 2 on #24247 and this one:\n\n```python\n            if integer_check_long_py(right, &value, &err):\n                if not err:\n                    return (<Element>left)._pow_long(value)\n                else:\n                    return (<Element>left)._pow_int(right)\n```\nwhich could be simplified to\n\n```python\n            err = integer_check_long_py(right, &value):\n            if not err:\n                return (<Element>left)._pow_long(value)\n            elif err == ERR_OVERFLOW:\n                return (<Element>left)._pow_int(right)\n```\n\nHowever, if you see a clear benefit to take on the more complicated function description and return values, then you can set this to a positive review. I just am thinking a little bit about the potential future maintenance of this function (I also don't think there will be any [noticeable] performance difference) and the places where it is used.",
    "created_at": "2017-11-22T22:15:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366938",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@jdemeyer](#comment:15):
> Replying to [@tscrim](#comment:13):
> > Do you have a specific case where this does come up?

> 
> I don't know exactly what you mean, but you can look at my work in progress at #24247. There are various calls to `integer_check_long(_py)` there.

Do you have a place on a future ticket where use case 1 applies? I see use case 2 on #24247 and this one:

```python
            if integer_check_long_py(right, &value, &err):
                if not err:
                    return (<Element>left)._pow_long(value)
                else:
                    return (<Element>left)._pow_int(right)
```
which could be simplified to

```python
            err = integer_check_long_py(right, &value):
            if not err:
                return (<Element>left)._pow_long(value)
            elif err == ERR_OVERFLOW:
                return (<Element>left)._pow_int(right)
```

However, if you see a clear benefit to take on the more complicated function description and return values, then you can set this to a positive review. I just am thinking a little bit about the potential future maintenance of this function (I also don't think there will be any [noticeable] performance difference) and the places where it is used.



---

archive/issue_comments_366939.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nHere is a concrete proposal: we keep the complicated signature for now (if anything, simply to prevent conflicts with current tickets depending on this one). Once we have a clearer idea on how these functions are used, we can revisit and change things if needed.",
    "created_at": "2017-11-23T09:03:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366939",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Here is a concrete proposal: we keep the complicated signature for now (if anything, simply to prevent conflicts with current tickets depending on this one). Once we have a clearer idea on how these functions are used, we can revisit and change things if needed.



---

archive/issue_comments_366940.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@tscrim](#comment:17):\n> I also don't think there will be any [noticeable] performance difference\n\nFun observation: compiler warnings can be used to get data on how the compiler is able to optimize the code. For example, in #24247 I'm writing essentially\n\n```\n        cdef long value\n        cdef int err\n        if integer_check_long(y, &value, &err):\n            if not err:\n                return (<Element>x)._pow_long(value)\n```\nIn this case, the compiler *does not give a warning* that `err` and `value` might be uninitialized. This means that the compiler is able to inline and optimize all code paths of `integer_check_long` to prove that `err` and `value` are set to a known value whenever they are accessed in the code snippet above.",
    "created_at": "2017-11-23T09:12:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366940",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@tscrim](#comment:17):
> I also don't think there will be any [noticeable] performance difference

Fun observation: compiler warnings can be used to get data on how the compiler is able to optimize the code. For example, in #24247 I'm writing essentially

```
        cdef long value
        cdef int err
        if integer_check_long(y, &value, &err):
            if not err:
                return (<Element>x)._pow_long(value)
```
In this case, the compiler *does not give a warning* that `err` and `value` might be uninitialized. This means that the compiler is able to inline and optimize all code paths of `integer_check_long` to prove that `err` and `value` are set to a known value whenever they are accessed in the code snippet above.



---

archive/issue_events_336339.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-11-23T09:32:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24244#event-336339"
}
```



---

archive/issue_events_336340.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-11-23T09:32:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24244#event-336340"
}
```



---

archive/issue_comments_366941.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nOh, I just saw this from #24293 (I don't look at every ticket opened...)\n\nAs for \"integer_fake\" is there maybe a name for it that better reflects its purpose\"?  I was thinking something like \"integer_proto\" (for prototype) since providing early access to the Integer prototype seems to be its primary purpose for existing.  \"integer_fake\" to me sounds like something for testing, or some other odd purpose.",
    "created_at": "2017-11-28T15:32:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366941",
    "user": "https://github.com/embray"
}
```

<div id="comment:21" align="right">comment:21</div>

Oh, I just saw this from #24293 (I don't look at every ticket opened...)

As for "integer_fake" is there maybe a name for it that better reflects its purpose"?  I was thinking something like "integer_proto" (for prototype) since providing early access to the Integer prototype seems to be its primary purpose for existing.  "integer_fake" to me sounds like something for testing, or some other odd purpose.



---

archive/issue_comments_366942.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@embray](#comment:21):\n> As for \"integer_fake\" is there maybe a name for it that better reflects its purpose\"?  I was thinking something like \"integer_proto\" (for prototype) since providing early access to the Integer prototype seems to be its primary purpose for existing.\n\nI think that `integer_fake` or `integer_proto` are equally meaningless. What would \"prototype\" mean in this context? I don't mind changing the name, but I'm not convinced with `integer_proto` either.\n\n> \"integer_fake\" to me sounds like something for testing, or some other odd purpose.\n\n\"odd purpose\" totally applies here :-)",
    "created_at": "2017-11-28T15:40:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366942",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@embray](#comment:21):
> As for "integer_fake" is there maybe a name for it that better reflects its purpose"?  I was thinking something like "integer_proto" (for prototype) since providing early access to the Integer prototype seems to be its primary purpose for existing.

I think that `integer_fake` or `integer_proto` are equally meaningless. What would "prototype" mean in this context? I don't mind changing the name, but I'm not convinced with `integer_proto` either.

> "integer_fake" to me sounds like something for testing, or some other odd purpose.

"odd purpose" totally applies here :-)



---

archive/issue_comments_366943.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThinking more about it, I actually like how the name sounds like it should not be used. `integer_proto` sounds too official somehow.",
    "created_at": "2017-11-28T16:16:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366943",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

Thinking more about it, I actually like how the name sounds like it should not be used. `integer_proto` sounds too official somehow.



---

archive/issue_comments_366944.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nWhen I read `proto`(`type`), my first thought was the prototype design pattern, but that's right, in C it is called prototyping. However, since this is only mimicking that, I think `fake` is a little more accurate as to the class's purpose.",
    "created_at": "2017-11-29T00:02:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366944",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:24" align="right">comment:24</div>

When I read `proto`(`type`), my first thought was the prototype design pattern, but that's right, in C it is called prototyping. However, since this is only mimicking that, I think `fake` is a little more accurate as to the class's purpose.



---

archive/issue_comments_366945.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI mean, it *should* be used, just for a specific narrow case.  Alright I won't push on it; just something called \"fake\" is a little jarring to me to see outside of, say, test code.",
    "created_at": "2017-11-29T09:53:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366945",
    "user": "https://github.com/embray"
}
```

<div id="comment:25" align="right">comment:25</div>

I mean, it *should* be used, just for a specific narrow case.  Alright I won't push on it; just something called "fake" is a little jarring to me to see outside of, say, test code.



---

archive/issue_comments_366946.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nBTW, I should add, this is really cool.  Definitely something we should have done in the first place, in retrospect.",
    "created_at": "2017-11-29T09:54:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366946",
    "user": "https://github.com/embray"
}
```

<div id="comment:26" align="right">comment:26</div>

BTW, I should add, this is really cool.  Definitely something we should have done in the first place, in retrospect.



---

archive/issue_comments_366947.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@embray](#comment:26):\n> BTW, I should add, this is really cool.  Definitely something we should have done in the first place, in retrospect.\n\nThanks!",
    "created_at": "2017-11-29T09:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366947",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@embray](#comment:26):
> BTW, I should add, this is really cool.  Definitely something we should have done in the first place, in retrospect.

Thanks!



---

archive/issue_comments_366948.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nOkay okay, what about \"integer_decl\", since it's basically a forward declaration IIUC.",
    "created_at": "2017-11-29T09:56:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366948",
    "user": "https://github.com/embray"
}
```

<div id="comment:28" align="right">comment:28</div>

Okay okay, what about "integer_decl", since it's basically a forward declaration IIUC.



---

archive/issue_comments_366949.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@embray](#comment:28):\n> Okay okay, what about \"integer_decl\", since it's basically a forward declaration IIUC.\n\nIt's a fake forward declaration which shouldn't be used.",
    "created_at": "2017-12-05T10:26:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366949",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@embray](#comment:28):
> Okay okay, what about "integer_decl", since it's basically a forward declaration IIUC.

It's a fake forward declaration which shouldn't be used.



---

archive/issue_events_336341.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-12-13T17:38:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24244#event-336341"
}
```



---

archive/issue_events_336342.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f027e2d78e0d2b20f41c9d6939f55c3893081a95",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-12-13T17:38:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24244#event-336342"
}
```



---

archive/issue_comments_366950.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/fast_check_for_c_long](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/fast_check_for_c_long)** to **[70592a8](https://github.com/sagemath/sagetrac-mirror/commit/70592a850d7677928592c022760d6183bd81364f)**",
    "created_at": "2017-12-13T17:38:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366950",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/fast_check_for_c_long](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/fast_check_for_c_long)** to **[70592a8](https://github.com/sagemath/sagetrac-mirror/commit/70592a850d7677928592c022760d6183bd81364f)**



---

archive/issue_comments_366951.json:
```json
{
    "body": "Changed branch from **[70592a8](https://github.com/sagemath/sagetrac-mirror/commit/70592a850d7677928592c022760d6183bd81364f)** to **[u/jmantysalo/70592a850d7677928592c022760d6183bd81364f](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/70592a850d7677928592c022760d6183bd81364f)**",
    "created_at": "2018-04-24T17:11:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366951",
    "user": "https://github.com/jm58660"
}
```

Changed branch from **[70592a8](https://github.com/sagemath/sagetrac-mirror/commit/70592a850d7677928592c022760d6183bd81364f)** to **[u/jmantysalo/70592a850d7677928592c022760d6183bd81364f](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/70592a850d7677928592c022760d6183bd81364f)**



---

archive/issue_comments_366952.json:
```json
{
    "body": "Changed branch from **[u/jmantysalo/70592a850d7677928592c022760d6183bd81364f](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/70592a850d7677928592c022760d6183bd81364f)** to **[70592a8](https://github.com/sagemath/sagetrac-mirror/commit/70592a850d7677928592c022760d6183bd81364f)**",
    "created_at": "2018-04-24T17:13:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366952",
    "user": "https://github.com/jm58660"
}
```

Changed branch from **[u/jmantysalo/70592a850d7677928592c022760d6183bd81364f](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/70592a850d7677928592c022760d6183bd81364f)** to **[70592a8](https://github.com/sagemath/sagetrac-mirror/commit/70592a850d7677928592c022760d6183bd81364f)**



---

archive/issue_comments_366953.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nArghs, my typo.",
    "created_at": "2018-04-24T17:13:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366953",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:32" align="right">comment:32</div>

Arghs, my typo.



---

archive/issue_comments_366954.json:
```json
{
    "body": "Changed commit from **[70592a8](https://github.com/sagemath/sagetrac-mirror/commit/70592a850d7677928592c022760d6183bd81364f)** to none",
    "created_at": "2018-04-24T17:13:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24244",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24244#issuecomment-366954",
    "user": "https://github.com/jm58660"
}
```

Changed commit from **[70592a8](https://github.com/sagemath/sagetrac-mirror/commit/70592a850d7677928592c022760d6183bd81364f)** to none
