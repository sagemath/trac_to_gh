# Issue 24730: Coercion Problem in Asymptotic Ring

archive/issues_024493.json:
```json
{
    "assignees": [],
    "body": "\n```\nsage: R.<K> = QQ[]\nsage: Q = R.fraction_field()\nsage: A.<T> = AsymptoticRing('T^QQ', Q)\nsage: A(1) + K\nTraceback (most recent call last):\n...\n/local/sage/sage-8.1/local/lib/python2.7/site-packages/sage/rings/asymptotic/asymptotic_ring.pyc in _element_constructor_(self, data, simplify, convert)\n   3860             except ValueError as e:\n   3861                 raise combine_exceptions(\n-> 3862                     ValueError('Polynomial %s is not in %s' % (data, self)), e)\n   3863 \n   3864         elif is_MPolynomialRing(P):\n\nValueError: Polynomial K is not in Asymptotic Ring <T^QQ> over Fraction Field of Univariate Polynomial Ring in K over Rational Field\n> *previous* ValueError: Growth K is not in Exact Term Monoid T^QQ with coefficients in Fraction Field of Univariate Polynomial Ring in K over Rational Field.\n>> *previous* ValueError: K is not in Growth Group T^QQ.\nsage: A(1) * K\nK\nsage: A(1) + Q(K)\nK + 1\n```\n\nCC:  @dkrenn @behackl\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24730_\n\n",
    "created_at": "2018-02-14T15:41:52Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20asymptotic%20expansions",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Coercion Problem in Asymptotic Ring",
    "type": "issue",
    "updated_at": "2022-12-29T01:40:48Z",
    "url": "https://github.com/sagemath/sage/issues/24730",
    "user": "https://github.com/cheuberg"
}
```

```
sage: R.<K> = QQ[]
sage: Q = R.fraction_field()
sage: A.<T> = AsymptoticRing('T^QQ', Q)
sage: A(1) + K
Traceback (most recent call last):
...
/local/sage/sage-8.1/local/lib/python2.7/site-packages/sage/rings/asymptotic/asymptotic_ring.pyc in _element_constructor_(self, data, simplify, convert)
   3860             except ValueError as e:
   3861                 raise combine_exceptions(
-> 3862                     ValueError('Polynomial %s is not in %s' % (data, self)), e)
   3863 
   3864         elif is_MPolynomialRing(P):

ValueError: Polynomial K is not in Asymptotic Ring <T^QQ> over Fraction Field of Univariate Polynomial Ring in K over Rational Field
> *previous* ValueError: Growth K is not in Exact Term Monoid T^QQ with coefficients in Fraction Field of Univariate Polynomial Ring in K over Rational Field.
>> *previous* ValueError: K is not in Growth Group T^QQ.
sage: A(1) * K
K
sage: A(1) + Q(K)
K + 1
```

CC:  @dkrenn @behackl

_Issue created by migration from https://trac.sagemath.org/ticket/24730_





---

archive/issue_events_324332.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2018-02-14T15:41:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24730",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24730#event-324332"
}
```



---

archive/issue_events_324333.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2018-02-14T15:41:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24730",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20asymptotic%20expansions",
    "label_color": "0000ff",
    "label_name": "component: asymptotic expansions",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24730#event-324333"
}
```



---

archive/issue_events_324334.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2018-02-14T15:41:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24730",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24730#event-324334"
}
```



---

archive/issue_events_324335.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2018-02-14T15:41:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24730",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24730#event-324335"
}
```



---

archive/issue_comments_378609.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\n\n```\nsage: A(K)\nTraceback (most recent call last):\n...\n/local/sage/sage-8.1/local/lib/python2.7/site-packages/sage/rings/asymptotic/asymptotic_ring.pyc in _element_constructor_(self, data, simplify, convert)\n   3860             except ValueError as e:\n   3861                 raise combine_exceptions(\n-> 3862                     ValueError('Polynomial %s is not in %s' % (data, self)), e)\n   3863 \n   3864         elif is_MPolynomialRing(P):\n\nValueError: Polynomial K is not in Asymptotic Ring <T^QQ> over Fraction Field of Univariate Polynomial Ring in K over Rational Field\n> *previous* ValueError: Growth K is not in Exact Term Monoid T^QQ with coefficients in Fraction Field of Univariate Polynomial Ring in K over Rational Field.\n>> *previous* ValueError: K is not in Growth Group T^QQ.\n```",
    "created_at": "2018-02-14T15:42:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24730#issuecomment-378609",
    "user": "https://github.com/cheuberg"
}
```

<div id="comment:1" align="right">Comment 1</div>


```
sage: A(K)
Traceback (most recent call last):
...
/local/sage/sage-8.1/local/lib/python2.7/site-packages/sage/rings/asymptotic/asymptotic_ring.pyc in _element_constructor_(self, data, simplify, convert)
   3860             except ValueError as e:
   3861                 raise combine_exceptions(
-> 3862                     ValueError('Polynomial %s is not in %s' % (data, self)), e)
   3863 
   3864         elif is_MPolynomialRing(P):

ValueError: Polynomial K is not in Asymptotic Ring <T^QQ> over Fraction Field of Univariate Polynomial Ring in K over Rational Field
> *previous* ValueError: Growth K is not in Exact Term Monoid T^QQ with coefficients in Fraction Field of Univariate Polynomial Ring in K over Rational Field.
>> *previous* ValueError: K is not in Growth Group T^QQ.
```



---

archive/issue_events_324336.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:40:48Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24730",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24730#event-324336"
}
```
