# Issue 24374: Upgrade to NetworkX 2.1

archive/issues_024137.json:
```json
{
    "assignees": [],
    "body": "Sage ships NetworkX 1.11. Version 2.1 has been [released on PyPI.](https://pypi.python.org/pypi/networkx/)\n\nWe also take this occasion to drop deprecated in #18375 NetworkXGraphBackend.\n\nThe upstream zip is here: https://files.pythonhosted.org/packages/11/42/f951cc6838a4dff6ce57211c4d7f8444809ccbe2134179950301e5c4c83c/networkx-2.1.zip\n\nCC:  @kiwifb @slel @antonio-rojas\n\nKeywords: **upgrade, networkx**\n\nBranch/Commit: **[9553d85](https://github.com/sagemath/sagetrac-mirror/commit/9553d85e804047b65ce218645563b2140c2d0b0c)**\n\nUpstream: **Completely fixed; Fix reported upstream**\n\nReviewer: **David Coudert, Dima Pasechnik**\n\nAuthor: **Dima Pasechnik, Julian R\u00fcth**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24374_\n\n",
    "closed_at": "2018-06-29T22:34:12Z",
    "created_at": "2017-12-14T11:48:15Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade to NetworkX 2.1",
    "type": "issue",
    "updated_at": "2018-06-29T22:34:12Z",
    "url": "https://github.com/sagemath/sage/issues/24374",
    "user": "https://github.com/dimpase"
}
```
Sage ships NetworkX 1.11. Version 2.1 has been [released on PyPI.](https://pypi.python.org/pypi/networkx/)

We also take this occasion to drop deprecated in #18375 NetworkXGraphBackend.

The upstream zip is here: https://files.pythonhosted.org/packages/11/42/f951cc6838a4dff6ce57211c4d7f8444809ccbe2134179950301e5c4c83c/networkx-2.1.zip

CC:  @kiwifb @slel @antonio-rojas

Keywords: **upgrade, networkx**

Branch/Commit: **[9553d85](https://github.com/sagemath/sagetrac-mirror/commit/9553d85e804047b65ce218645563b2140c2d0b0c)**

Upstream: **Completely fixed; Fix reported upstream**

Reviewer: **David Coudert, Dima Pasechnik**

Author: **Dima Pasechnik, Julian RÃ¼th**

_Issue created by migration from https://trac.sagemath.org/ticket/24374_





---

archive/issue_events_319896.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-12-14T11:48:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24374#event-319896"
}
```



---

archive/issue_events_319897.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-12-14T11:48:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24374#event-319897"
}
```



---

archive/issue_events_319898.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-12-14T11:48:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24374#event-319898"
}
```



---

archive/issue_events_319899.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-12-14T11:48:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24374#event-319899"
}
```



---

archive/issue_comments_371867.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nreported at https://github.com/networkx/networkx/issues/2799",
    "created_at": "2017-12-15T09:32:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371867",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:2" align="right">Comment 2</div>

reported at https://github.com/networkx/networkx/issues/2799



---

archive/issue_comments_371868.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2017-12-15T09:32:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371868",
    "user": "https://github.com/dimpase"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_371869.json:
```json
{
    "body": "Changed upstream from **Reported upstream. No feedback yet.** to **Completely fixed; Fix reported upstream**",
    "created_at": "2017-12-15T11:14:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371869",
    "user": "https://github.com/dimpase"
}
```

Changed upstream from **Reported upstream. No feedback yet.** to **Completely fixed; Fix reported upstream**



---

archive/issue_comments_371870.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nthe problem is in `networkx` code a test for `isinstance(n2,int)` should be by right for\n`isinstance(n2,numbers.Integral)`\n\nWith the appropriate change in `algorithms/bipartite/generators.py`, line 67 in master (2.1), everything works\n\n```\nimport numbers\nif isinstance(n2,numbers.Integral):\n```",
    "created_at": "2017-12-15T11:14:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371870",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:3" align="right">Comment 3</div>

the problem is in `networkx` code a test for `isinstance(n2,int)` should be by right for
`isinstance(n2,numbers.Integral)`

With the appropriate change in `algorithms/bipartite/generators.py`, line 67 in master (2.1), everything works

```
import numbers
if isinstance(n2,numbers.Integral):
```



---

archive/issue_comments_371871.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nSince a new release of NetworkX has the fix to the observed problems, this could move forward.",
    "created_at": "2018-02-14T11:15:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371871",
    "user": "https://github.com/slel"
}
```

<div id="comment:4" align="right">Comment 4</div>

Since a new release of NetworkX has the fix to the observed problems, this could move forward.



---

archive/issue_comments_371872.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,18 @@\n-the new version of [networks](https://networkx.github.io/) is out since Sept. 2017, \n-and appears to be installable by `sage --pip install networkx` (after doing\n-`sage --pip uninstall networkx`)\n+Sage ships NetworkX 1.11. New versions are available and installable by doing\n+\n+```\n+sage --pip uninstall networkx\n+sage --pip install networkx\n+```\n+We should update.\n+\n+- [GitHub: NetworkX](https://networkx.github.io/)\n+- [[https://pypi.python.org/pypi/networkx/|PyPI: NetworkX||\n  \n-We should update.\n-There are few quirks [already noticed](https://groups.google.com/d/msg/sage-devel/DAifW_Ma__s/YxJD8rKgAgAJ): some functions of networkx fail if they are passed Sage's `ZZ()`\n-numbers as parameters (whereas `int()` works).\n+A few quirks in version 2.0 (which came out in 2017-09)\n+[were discussed](https://groups.google.com/d/msg/sage-devel/DAifW_Ma__s/YxJD8rKgAgAJ):\n+NetworkX methods were no longer accepting Sage integers as arguments.\n+\n+This was [fixed in Dec 2017](https://github.com/networkx/networkx/issues/2799)\n+and NetworkX 2.1 was [released in Jan 2018](https://github.com/networkx/networkx/releases).\n+\n``````\n",
    "created_at": "2018-02-14T11:15:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371872",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,18 @@
-the new version of [networks](https://networkx.github.io/) is out since Sept. 2017, 
-and appears to be installable by `sage --pip install networkx` (after doing
-`sage --pip uninstall networkx`)
+Sage ships NetworkX 1.11. New versions are available and installable by doing
+
+```
+sage --pip uninstall networkx
+sage --pip install networkx
+```
+We should update.
+
+- [GitHub: NetworkX](https://networkx.github.io/)
+- [[https://pypi.python.org/pypi/networkx/|PyPI: NetworkX||
  
-We should update.
-There are few quirks [already noticed](https://groups.google.com/d/msg/sage-devel/DAifW_Ma__s/YxJD8rKgAgAJ): some functions of networkx fail if they are passed Sage's `ZZ()`
-numbers as parameters (whereas `int()` works).
+A few quirks in version 2.0 (which came out in 2017-09)
+[were discussed](https://groups.google.com/d/msg/sage-devel/DAifW_Ma__s/YxJD8rKgAgAJ):
+NetworkX methods were no longer accepting Sage integers as arguments.
+
+This was [fixed in Dec 2017](https://github.com/networkx/networkx/issues/2799)
+and NetworkX 2.1 was [released in Jan 2018](https://github.com/networkx/networkx/releases).
+
``````




---

archive/issue_events_319900.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-02-14T11:15:17Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "title_is": "Upgrade to NetworkX 2.1",
    "title_was": "update networkx to version 2.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24374#event-319900"
}
```



---

archive/issue_comments_371873.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,7 +7,7 @@\n We should update.\n \n - [GitHub: NetworkX](https://networkx.github.io/)\n-- [[https://pypi.python.org/pypi/networkx/|PyPI: NetworkX||\n+- [PyPI: NetworkX](https://pypi.python.org/pypi/networkx/)\n  \n A few quirks in version 2.0 (which came out in 2017-09)\n [were discussed](https://groups.google.com/d/msg/sage-devel/DAifW_Ma__s/YxJD8rKgAgAJ):\n``````\n",
    "created_at": "2018-02-14T11:16:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371873",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,7 +7,7 @@
 We should update.
 
 - [GitHub: NetworkX](https://networkx.github.io/)
-- [[https://pypi.python.org/pypi/networkx/|PyPI: NetworkX||
+- [PyPI: NetworkX](https://pypi.python.org/pypi/networkx/)
  
 A few quirks in version 2.0 (which came out in 2017-09)
 [were discussed](https://groups.google.com/d/msg/sage-devel/DAifW_Ma__s/YxJD8rKgAgAJ):
``````




---

archive/issue_comments_371874.json:
```json
{
    "body": "Author: **Dima Pasechnik**",
    "created_at": "2018-02-15T12:28:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371874",
    "user": "https://github.com/dimpase"
}
```

Author: **Dima Pasechnik**



---

archive/issue_comments_371875.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nI'll make an update.",
    "created_at": "2018-02-15T12:28:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371875",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:6" align="right">Comment 6</div>

I'll make an update.



---

archive/issue_comments_371876.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nLet me know if I can help.",
    "created_at": "2018-03-28T18:42:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371876",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:7" align="right">Comment 7</div>

Let me know if I can help.



---

archive/issue_comments_371877.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nI'll try to work on the actual upgrade if nobody objects.",
    "created_at": "2018-06-21T17:12:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371877",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:8" align="right">Comment 8</div>

I'll try to work on the actual upgrade if nobody objects.



---

archive/issue_comments_371878.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nOh, another ticket I forgot about. Sorry. Please have a go at it - I am marking exams this week...",
    "created_at": "2018-06-21T17:15:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371878",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:9" align="right">Comment 9</div>

Oh, another ticket I forgot about. Sorry. Please have a go at it - I am marking exams this week...



---

archive/issue_comments_371879.json:
```json
{
    "body": "Branch: **[u/saraedum/24374](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/24374)**",
    "created_at": "2018-06-21T23:17:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371879",
    "user": "https://github.com/saraedum"
}
```

Branch: **[u/saraedum/24374](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/24374)**



---

archive/issue_comments_371880.json:
```json
{
    "body": "Attachment: **[networkx-2.1.tar.gz](https://github.com/sagemath/sage/files/ticket24374/networkx-2.1.tar.gz)**\n\nrenamed tarball from github",
    "created_at": "2018-06-21T23:18:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371880",
    "user": "https://github.com/saraedum"
}
```

Attachment: **[networkx-2.1.tar.gz](https://github.com/sagemath/sage/files/ticket24374/networkx-2.1.tar.gz)**

renamed tarball from github



---

archive/issue_comments_371881.json:
```json
{
    "body": "Commit: **[ae76acf](https://github.com/sagemath/sagetrac-mirror/commit/ae76acfe05f5ef3d8885196615692ac3ef9c2983)**",
    "created_at": "2018-06-21T23:20:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371881",
    "user": "https://github.com/saraedum"
}
```

Commit: **[ae76acf](https://github.com/sagemath/sagetrac-mirror/commit/ae76acfe05f5ef3d8885196615692ac3ef9c2983)**



---

archive/issue_comments_371882.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nI pushed a branch that passes long doctests in `sage/graph/`. I am now running long doctests for all of sage.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae76acfe05f5ef3d8885196615692ac3ef9c2983\">ae76acf</a></td><td><code>Upgrade NetworkX to version 2.1</code></td></tr></table>\n",
    "created_at": "2018-06-21T23:20:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371882",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:12" align="right">Comment 12</div>

I pushed a branch that passes long doctests in `sage/graph/`. I am now running long doctests for all of sage.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae76acfe05f5ef3d8885196615692ac3ef9c2983">ae76acf</a></td><td><code>Upgrade NetworkX to version 2.1</code></td></tr></table>




---

archive/issue_comments_371883.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nThe zip archive from pypi is acceptable as a source and we probably should use it instead over renaming the github tarball.",
    "created_at": "2018-06-21T23:21:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371883",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:13" align="right">Comment 13</div>

The zip archive from pypi is acceptable as a source and we probably should use it instead over renaming the github tarball.



---

archive/issue_events_319901.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-06-21T23:23:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24374#event-319901"
}
```



---

archive/issue_comments_371884.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nI would not be surprised if some things are broken now. There are a lot of subtle changes in networkx and not all code paths are doctested I believe.\n\nSome more comments for potential reviewers:\n* I simplified the SPKG.txt as the changelog has not been mantained for a few years it seems. Also, I am not sure whether the dependencies section is actually useful; numpy and scipy are not hard dependencies. Furthermore, I did not drop src/doc/data as mentioned in the SPKG.txt as I do not see why we should remove that from the source package.\n* I upgraded copyright headers. When there were no copyright headers at all, I added new ones and seeded them with everyone in the git history of the file. The lists of authors are really lengthy but a lot of people have made little changes to these files.\n* I dropped NetworkXGraphBackend as it is not used anywhere. There might still be some pickles around that use this? If so, then we should try to upgrade them on unpickling.\n* The recursive topsort has disappeared it seems.\n* The balanced tree implementation now raises errors if you feed it invalid heights or degrees.",
    "created_at": "2018-06-21T23:23:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371884",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:14" align="right">Comment 14</div>

I would not be surprised if some things are broken now. There are a lot of subtle changes in networkx and not all code paths are doctested I believe.

Some more comments for potential reviewers:
* I simplified the SPKG.txt as the changelog has not been mantained for a few years it seems. Also, I am not sure whether the dependencies section is actually useful; numpy and scipy are not hard dependencies. Furthermore, I did not drop src/doc/data as mentioned in the SPKG.txt as I do not see why we should remove that from the source package.
* I upgraded copyright headers. When there were no copyright headers at all, I added new ones and seeded them with everyone in the git history of the file. The lists of authors are really lengthy but a lot of people have made little changes to these files.
* I dropped NetworkXGraphBackend as it is not used anywhere. There might still be some pickles around that use this? If so, then we should try to upgrade them on unpickling.
* The recursive topsort has disappeared it seems.
* The balanced tree implementation now raises errors if you feed it invalid heights or degrees.



---

archive/issue_comments_371885.json:
```json
{
    "body": "Work Issues: **do all doctests pass?**",
    "created_at": "2018-06-21T23:23:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371885",
    "user": "https://github.com/saraedum"
}
```

Work Issues: **do all doctests pass?**



---

archive/issue_comments_371886.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nIt is totally not kosher to just drop functionality like NetworkXGraphBackend. Why,\nwhat's wrong with it?\nThat it is not used in the Sage library does not mean it is not used by users.\n\nAnd even if you did that it would require a deprecation rather than outright removal...",
    "created_at": "2018-06-22T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371886",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">Comment 15</div>

It is totally not kosher to just drop functionality like NetworkXGraphBackend. Why,
what's wrong with it?
That it is not used in the Sage library does not mean it is not used by users.

And even if you did that it would require a deprecation rather than outright removal...



---

archive/issue_events_319902.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-06-22T00:44:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24374#event-319902"
}
```



---

archive/issue_events_319903.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-06-22T00:44:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24374#event-319903"
}
```



---

archive/issue_comments_371887.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nNetworkXGraphBackend does not seem to be accessible without explicitly importing it. I do not think that things that are internal need to be deprecated before removal.",
    "created_at": "2018-06-22T00:49:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371887",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:16" align="right">Comment 16</div>

NetworkXGraphBackend does not seem to be accessible without explicitly importing it. I do not think that things that are internal need to be deprecated before removal.



---

archive/issue_events_319904.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-06-22T00:50:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24374#event-319904"
}
```



---

archive/issue_events_319905.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-06-22T00:50:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24374#event-319905"
}
```



---

archive/issue_comments_371888.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nBtw., it had been deprecated in #18375 it seems.",
    "created_at": "2018-06-22T00:53:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371888",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:18" align="right">Comment 18</div>

Btw., it had been deprecated in #18375 it seems.



---

archive/issue_comments_371889.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nNote that some of the NetworkXGraphBackend \"doctests\" start like this:\n\n```\nsage: G = DiGraph(digraphs.Path(5),implementation=\"networkx\")\n/usr/bin/sage-ipython:1: DeprecationWarning: The 'implementation' keyword is deprecated, and the graphs has been stored as a 'c_graph'\nSee http://trac.sagemath.org/18375 for details.\n  #!/usr/bin/env python2\nsage: G = G._backend\n```\n\nHowever, `G` is not a `NetworkXGraphBackend`:\n\n```\nsage: type(G).mro()\n[<type 'sage.graphs.base.sparse_graph.SparseGraphBackend'>,\n <type 'sage.graphs.base.c_graph.CGraphBackend'>,\n <type 'sage.graphs.base.graph_backends.GenericGraphBackend'>,\n <type 'sage.structure.sage_object.SageObject'>,\n <type 'object'>]\n```",
    "created_at": "2018-06-22T00:57:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371889",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:19" align="right">Comment 19</div>

Note that some of the NetworkXGraphBackend "doctests" start like this:

```
sage: G = DiGraph(digraphs.Path(5),implementation="networkx")
/usr/bin/sage-ipython:1: DeprecationWarning: The 'implementation' keyword is deprecated, and the graphs has been stored as a 'c_graph'
See http://trac.sagemath.org/18375 for details.
  #!/usr/bin/env python2
sage: G = G._backend
```

However, `G` is not a `NetworkXGraphBackend`:

```
sage: type(G).mro()
[<type 'sage.graphs.base.sparse_graph.SparseGraphBackend'>,
 <type 'sage.graphs.base.c_graph.CGraphBackend'>,
 <type 'sage.graphs.base.graph_backends.GenericGraphBackend'>,
 <type 'sage.structure.sage_object.SageObject'>,
 <type 'object'>]
```



---

archive/issue_comments_371890.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nReplying to [@kiwifb](#comment%3A13):\n> The zip archive from pypi is acceptable as a source and we probably should use it instead over renaming the github tarball.\n\nOk. I don't really mind (except for recomputing the checksums.) I just thought renaming is nice because the archive was named `NetworkX-NetworkX-2.1.tar.gz` or something like that. I also wouldn't mind to use this weird name instead. Is there some reason to prefer pypi over github?",
    "created_at": "2018-06-22T01:02:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371890",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:20" align="right">Comment 20</div>

Replying to [@kiwifb](#comment%3A13):
> The zip archive from pypi is acceptable as a source and we probably should use it instead over renaming the github tarball.

Ok. I don't really mind (except for recomputing the checksums.) I just thought renaming is nice because the archive was named `NetworkX-NetworkX-2.1.tar.gz` or something like that. I also wouldn't mind to use this weird name instead. Is there some reason to prefer pypi over github?



---

archive/issue_comments_371891.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,3 +16,5 @@\n This was [fixed in Dec 2017](https://github.com/networkx/networkx/issues/2799)\n and NetworkX 2.1 was [released in Jan 2018](https://github.com/networkx/networkx/releases).\n \n+We also take this occasion to drop deprecated in #18375 NetworkXGraphBackend.\n+\n``````\n",
    "created_at": "2018-06-22T01:04:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371891",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,3 +16,5 @@
 This was [fixed in Dec 2017](https://github.com/networkx/networkx/issues/2799)
 and NetworkX 2.1 was [released in Jan 2018](https://github.com/networkx/networkx/releases).
 
+We also take this occasion to drop deprecated in #18375 NetworkXGraphBackend.
+
``````




---

archive/issue_comments_371892.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nOK, it's fine then. I've modified the ticket description to this effect.\n(Still needs review).\n\nBy the way, I was going to propose more upstream changes, so that it respects integral function arguments in the Python numerical tower, rather than starting screaming any time it's not `int()`. I only did so in a very minimal way, to fix all the uses in Sage library.\nSee https://github.com/networkx/networkx/pull/2800",
    "created_at": "2018-06-22T01:04:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371892",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:21" align="right">Comment 21</div>

OK, it's fine then. I've modified the ticket description to this effect.
(Still needs review).

By the way, I was going to propose more upstream changes, so that it respects integral function arguments in the Python numerical tower, rather than starting screaming any time it's not `int()`. I only did so in a very minimal way, to fix all the uses in Sage library.
See https://github.com/networkx/networkx/pull/2800



---

archive/issue_comments_371893.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nReplying to [@saraedum](#comment%3A20):\n> Replying to [@kiwifb](#comment%3A13):\n> > The zip archive from pypi is acceptable as a source and we probably should use it instead over renaming the github tarball.\n\n> \n> Ok. I don't really mind (except for recomputing the checksums.) I just thought renaming is nice because the archive was named `NetworkX-NetworkX-2.1.tar.gz` or something like that. I also wouldn't mind to use this weird name instead. Is there some reason to prefer pypi over github?\n\nWell pypi ship distribution archives rather than raw tarballs. It is a bit like the difference between a sdist and a raw tarball for an autoconf project. Except that usually the python raw stuff is a bit more easily usable than the raw autoconf stuff where `configure` and friends haven't been generated.",
    "created_at": "2018-06-22T01:06:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371893",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:22" align="right">Comment 22</div>

Replying to [@saraedum](#comment%3A20):
> Replying to [@kiwifb](#comment%3A13):
> > The zip archive from pypi is acceptable as a source and we probably should use it instead over renaming the github tarball.

> 
> Ok. I don't really mind (except for recomputing the checksums.) I just thought renaming is nice because the archive was named `NetworkX-NetworkX-2.1.tar.gz` or something like that. I also wouldn't mind to use this weird name instead. Is there some reason to prefer pypi over github?

Well pypi ship distribution archives rather than raw tarballs. It is a bit like the difference between a sdist and a raw tarball for an autoconf project. Except that usually the python raw stuff is a bit more easily usable than the raw autoconf stuff where `configure` and friends haven't been generated.



---

archive/issue_comments_371894.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nAbout github tarballs vs pypi tarballs: similar discussion on another ticket:\n- [#25083 comment:3](https://github.com/sagemath/sage/issues/25083#comment:3)",
    "created_at": "2018-06-22T01:38:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371894",
    "user": "https://github.com/slel"
}
```

<div id="comment:23" align="right">Comment 23</div>

About github tarballs vs pypi tarballs: similar discussion on another ticket:
- [#25083 comment:3](https://github.com/sagemath/sage/issues/25083#comment:3)



---

archive/issue_comments_371895.json:
```json
{
    "body": "Changed keywords from none to **upgrade, networkx**",
    "created_at": "2018-06-22T01:38:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371895",
    "user": "https://github.com/slel"
}
```

Changed keywords from none to **upgrade, networkx**



---

archive/issue_comments_371896.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nReplying to [@kiwifb](#comment%3A22):\n> Replying to [@saraedum](#comment%3A20):\n> > Replying to [@kiwifb](#comment%3A13):\n> > > The zip archive from pypi is acceptable as a source and we probably should use it instead over renaming the github tarball.\n\n> > \n> > Ok. I don't really mind (except for recomputing the checksums.) I just thought renaming is nice because the archive was named `NetworkX-NetworkX-2.1.tar.gz` or something like that. I also wouldn't mind to use this weird name instead. Is there some reason to prefer pypi over github?\n\n> \n> Well pypi ship distribution archives rather than raw tarballs. It is a bit like the difference between a sdist and a raw tarball for an autoconf project. Except that usually the python raw stuff is a bit more easily usable than the raw autoconf stuff where `configure` and friends haven't been generated.\n\nI think the general practice is to upload distribution tarballs for github releases as well, that's at least what I do ;)",
    "created_at": "2018-06-25T13:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371896",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:24" align="right">Comment 24</div>

Replying to [@kiwifb](#comment%3A22):
> Replying to [@saraedum](#comment%3A20):
> > Replying to [@kiwifb](#comment%3A13):
> > > The zip archive from pypi is acceptable as a source and we probably should use it instead over renaming the github tarball.

> > 
> > Ok. I don't really mind (except for recomputing the checksums.) I just thought renaming is nice because the archive was named `NetworkX-NetworkX-2.1.tar.gz` or something like that. I also wouldn't mind to use this weird name instead. Is there some reason to prefer pypi over github?

> 
> Well pypi ship distribution archives rather than raw tarballs. It is a bit like the difference between a sdist and a raw tarball for an autoconf project. Except that usually the python raw stuff is a bit more easily usable than the raw autoconf stuff where `configure` and friends haven't been generated.

I think the general practice is to upload distribution tarballs for github releases as well, that's at least what I do ;)



---

archive/issue_comments_371897.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c1eafddaf9d5020d185b15ad2196c6aeeb95b2c\">7c1eafd</a></td><td><code>Upgrading checksums for PYPI's networkx</code></td></tr></table>\n",
    "created_at": "2018-06-25T13:37:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371897",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25" align="right">Comment 25</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c1eafddaf9d5020d185b15ad2196c6aeeb95b2c">7c1eafd</a></td><td><code>Upgrading checksums for PYPI's networkx</code></td></tr></table>




---

archive/issue_comments_371898.json:
```json
{
    "body": "Changed commit from **[ae76acf](https://github.com/sagemath/sagetrac-mirror/commit/ae76acfe05f5ef3d8885196615692ac3ef9c2983)** to **[7c1eafd](https://github.com/sagemath/sagetrac-mirror/commit/7c1eafddaf9d5020d185b15ad2196c6aeeb95b2c)**",
    "created_at": "2018-06-25T13:37:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371898",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ae76acf](https://github.com/sagemath/sagetrac-mirror/commit/ae76acfe05f5ef3d8885196615692ac3ef9c2983)** to **[7c1eafd](https://github.com/sagemath/sagetrac-mirror/commit/7c1eafddaf9d5020d185b15ad2196c6aeeb95b2c)**



---

archive/issue_comments_371899.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,20 +1,5 @@\n-Sage ships NetworkX 1.11. New versions are available and installable by doing\n-\n-```\n-sage --pip uninstall networkx\n-sage --pip install networkx\n-```\n-We should update.\n-\n-- [GitHub: NetworkX](https://networkx.github.io/)\n-- [PyPI: NetworkX](https://pypi.python.org/pypi/networkx/)\n- \n-A few quirks in version 2.0 (which came out in 2017-09)\n-[were discussed](https://groups.google.com/d/msg/sage-devel/DAifW_Ma__s/YxJD8rKgAgAJ):\n-NetworkX methods were no longer accepting Sage integers as arguments.\n-\n-This was [fixed in Dec 2017](https://github.com/networkx/networkx/issues/2799)\n-and NetworkX 2.1 was [released in Jan 2018](https://github.com/networkx/networkx/releases).\n+Sage ships NetworkX 1.11. Version 2.1 has been [released on PyPI.](https://pypi.python.org/pypi/networkx/)\n \n We also take this occasion to drop deprecated in #18375 NetworkXGraphBackend.\n \n+The upstream zip is here: https://files.pythonhosted.org/packages/11/42/f951cc6838a4dff6ce57211c4d7f8444809ccbe2134179950301e5c4c83c/networkx-2.1.zip\n``````\n",
    "created_at": "2018-06-25T13:40:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371899",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,20 +1,5 @@
-Sage ships NetworkX 1.11. New versions are available and installable by doing
-
-```
-sage --pip uninstall networkx
-sage --pip install networkx
-```
-We should update.
-
-- [GitHub: NetworkX](https://networkx.github.io/)
-- [PyPI: NetworkX](https://pypi.python.org/pypi/networkx/)
- 
-A few quirks in version 2.0 (which came out in 2017-09)
-[were discussed](https://groups.google.com/d/msg/sage-devel/DAifW_Ma__s/YxJD8rKgAgAJ):
-NetworkX methods were no longer accepting Sage integers as arguments.
-
-This was [fixed in Dec 2017](https://github.com/networkx/networkx/issues/2799)
-and NetworkX 2.1 was [released in Jan 2018](https://github.com/networkx/networkx/releases).
+Sage ships NetworkX 1.11. Version 2.1 has been [released on PyPI.](https://pypi.python.org/pypi/networkx/)
 
 We also take this occasion to drop deprecated in #18375 NetworkXGraphBackend.
 
+The upstream zip is here: https://files.pythonhosted.org/packages/11/42/f951cc6838a4dff6ce57211c4d7f8444809ccbe2134179950301e5c4c83c/networkx-2.1.zip
``````




---

archive/issue_comments_371900.json:
```json
{
    "body": "Changed work issues from **do all doctests pass?** to none",
    "created_at": "2018-06-25T14:02:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371900",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **do all doctests pass?** to none



---

archive/issue_comments_371901.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nEverything seems to work now.",
    "created_at": "2018-06-25T14:02:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371901",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:27" align="right">Comment 27</div>

Everything seems to work now.



---

archive/issue_comments_371902.json:
```json
{
    "body": "Changed commit from **[7c1eafd](https://github.com/sagemath/sagetrac-mirror/commit/7c1eafddaf9d5020d185b15ad2196c6aeeb95b2c)** to **[9553d85](https://github.com/sagemath/sagetrac-mirror/commit/9553d85e804047b65ce218645563b2140c2d0b0c)**",
    "created_at": "2018-06-25T14:02:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371902",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7c1eafd](https://github.com/sagemath/sagetrac-mirror/commit/7c1eafddaf9d5020d185b15ad2196c6aeeb95b2c)** to **[9553d85](https://github.com/sagemath/sagetrac-mirror/commit/9553d85e804047b65ce218645563b2140c2d0b0c)**



---

archive/issue_comments_371903.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b1b1168188302d709b7ba7d1c5ca23456830648\">2b1b116</a></td><td><code>Upgrade NetworkX to version 2.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/225daf105ca919b6c173c23083c3b35df3b3de33\">225daf1</a></td><td><code>Upgrading checksums for PYPI's networkx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9553d85e804047b65ce218645563b2140c2d0b0c\">9553d85</a></td><td><code>Drop implicit assumption about vertex ordering</code></td></tr></table>\n",
    "created_at": "2018-06-25T14:02:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371903",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28" align="right">Comment 28</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b1b1168188302d709b7ba7d1c5ca23456830648">2b1b116</a></td><td><code>Upgrade NetworkX to version 2.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/225daf105ca919b6c173c23083c3b35df3b3de33">225daf1</a></td><td><code>Upgrading checksums for PYPI's networkx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9553d85e804047b65ce218645563b2140c2d0b0c">9553d85</a></td><td><code>Drop implicit assumption about vertex ordering</code></td></tr></table>




---

archive/issue_comments_371904.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nThere is something wrong with this patch. It is about upgrading NetworkX to version 2.1 (clearly needed), but it also includes modifications to various parts of the code: modifying copyright descriptions in some files (`digraph.py`, `bipartite_graph.py`, `degree_sequence.py`, etc.), droping implicit assumption about vertex ordering, removing an input parameter in `cliques_get_max_clique_graph`, etc. Why ?\n\nIf you want to correct an error like in you last commit [9553d85](https://github.com/sagemath/sagetrac-mirror/commit/9553d85e804047b65ce218645563b2140c2d0b0c), you can open a specific ticket.\n\nThe proposed modification of copyright in `digraph.py` is really nice and I don't know how you get the data, but it should not be done here.",
    "created_at": "2018-06-25T17:04:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371904",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:29" align="right">Comment 29</div>

There is something wrong with this patch. It is about upgrading NetworkX to version 2.1 (clearly needed), but it also includes modifications to various parts of the code: modifying copyright descriptions in some files (`digraph.py`, `bipartite_graph.py`, `degree_sequence.py`, etc.), droping implicit assumption about vertex ordering, removing an input parameter in `cliques_get_max_clique_graph`, etc. Why ?

If you want to correct an error like in you last commit [9553d85](https://github.com/sagemath/sagetrac-mirror/commit/9553d85e804047b65ce218645563b2140c2d0b0c), you can open a specific ticket.

The proposed modification of copyright in `digraph.py` is really nice and I don't know how you get the data, but it should not be done here.



---

archive/issue_comments_371905.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nPlease see [#24374 comment:14](https://github.com/sagemath/sage/issues/24374#comment:14) about the compilation of the copyrights. Sure the copyright changes are not part of the upgrade but it is imo customary here to add such small non-functional changes, e.g., we recently do this for pyflakes changes.\n\nAll the changes (except the copyright) in these tickets were necessary to make doctests pass after the networkx upgrade. In particular this is the case for the clique (the parameter does not exist in networkx anymore) and matching changes (there apparently was an implicit ordering before.)",
    "created_at": "2018-06-25T17:11:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371905",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:30" align="right">Comment 30</div>

Please see [#24374 comment:14](https://github.com/sagemath/sage/issues/24374#comment:14) about the compilation of the copyrights. Sure the copyright changes are not part of the upgrade but it is imo customary here to add such small non-functional changes, e.g., we recently do this for pyflakes changes.

All the changes (except the copyright) in these tickets were necessary to make doctests pass after the networkx upgrade. In particular this is the case for the clique (the parameter does not exist in networkx anymore) and matching changes (there apparently was an implicit ordering before.)



---

archive/issue_comments_371906.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nThat said, if you want to split this up, feel free to do so.",
    "created_at": "2018-06-25T17:14:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371906",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:31" align="right">Comment 31</div>

That said, if you want to split this up, feel free to do so.



---

archive/issue_comments_371907.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nI see. I checked all the changes in the codes, and I agree it's \"minor\". So go for it.",
    "created_at": "2018-06-25T17:27:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371907",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:32" align="right">Comment 32</div>

I see. I checked all the changes in the codes, and I agree it's "minor". So go for it.



---

archive/issue_comments_371908.json:
```json
{
    "body": "Changed author from **Dima Pasechnik** to **Dima Pasechnik, Julian R\u00fcth**",
    "created_at": "2018-06-25T17:40:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371908",
    "user": "https://github.com/dimpase"
}
```

Changed author from **Dima Pasechnik** to **Dima Pasechnik, Julian RÃ¼th**



---

archive/issue_events_319906.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-06-26T22:25:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24374#event-319906"
}
```



---

archive/issue_events_319907.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-06-26T22:25:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24374#event-319907"
}
```



---

archive/issue_comments_371909.json:
```json
{
    "body": "Reviewer: **David Coudert, Dima Pasechnik**",
    "created_at": "2018-06-26T22:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371909",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **David Coudert, Dima Pasechnik**



---

archive/issue_comments_371910.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nlooks good to me.",
    "created_at": "2018-06-26T22:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371910",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:34" align="right">Comment 34</div>

looks good to me.



---

archive/issue_events_319908.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-29T22:34:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24374#event-319908"
}
```



---

archive/issue_events_319909.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4b4607a9146bce829882bb277391d9724359c5f1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-06-29T22:34:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24374#event-319909"
}
```



---

archive/issue_comments_371911.json:
```json
{
    "body": "Changed branch from **[u/saraedum/24374](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/24374)** to **[9553d85](https://github.com/sagemath/sagetrac-mirror/commit/9553d85e804047b65ce218645563b2140c2d0b0c)**",
    "created_at": "2018-06-29T22:34:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24374#issuecomment-371911",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/saraedum/24374](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/24374)** to **[9553d85](https://github.com/sagemath/sagetrac-mirror/commit/9553d85e804047b65ce218645563b2140c2d0b0c)**
