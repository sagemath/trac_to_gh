# Issue 24740: py3: numerous string fixes to sage.numerical.backends

archive/issues_024503.json:
```json
{
    "assignees": [],
    "body": "Trying to make progress on my backlog of Python 3 fixes I haven't made tickets for...\n\nThis one is slightly questionable in that there were many `cpdef` functions in this package that take `char *` arguments, and I changed them to take non-typed arguments (effectively `str`).\n\nI'm not exactly sure what implication this has for the C interfaces that were exported for these methods, or if we care.\n\n**Branch:** [da920d50745a997a176925c67130acd94abf87ee](https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee)\n\n**Reviewer:** Fr\u00e9d\u00e9ric Chapoton\n\n**Author:** Erik Bray\n\nIssue created by migration from https://trac.sagemath.org/ticket/24740\n\n",
    "closed_at": "2018-12-23T23:41:08Z",
    "created_at": "2018-02-15T14:50:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20python3",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: numerous string fixes to sage.numerical.backends",
    "type": "issue",
    "updated_at": "2019-01-03T10:15:42Z",
    "url": "https://github.com/sagemath/sage/issues/24740",
    "user": "https://github.com/embray"
}
```
Trying to make progress on my backlog of Python 3 fixes I haven't made tickets for...

This one is slightly questionable in that there were many `cpdef` functions in this package that take `char *` arguments, and I changed them to take non-typed arguments (effectively `str`).

I'm not exactly sure what implication this has for the C interfaces that were exported for these methods, or if we care.

**Branch:** [da920d50745a997a176925c67130acd94abf87ee](https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee)

**Reviewer:** Frédéric Chapoton

**Author:** Erik Bray

Issue created by migration from https://trac.sagemath.org/ticket/24740





---

archive/issue_events_298149.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-15T14:50:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298149"
}
```



---

archive/issue_events_298150.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-15T14:50:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20python3",
    "label_color": "08517b",
    "label_name": "component: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298150"
}
```



---

archive/issue_events_298151.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-15T14:50:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "008080",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298151"
}
```



---

archive/issue_comments_378625.json:
```json
{
    "body": "**Commit:** [f08fb452108ef1c83eb9f0932d3014df44793350](https://github.com/sagemath/sagetrac-mirror/commit/f08fb452108ef1c83eb9f0932d3014df44793350)",
    "created_at": "2018-02-15T14:51:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378625",
    "user": "https://github.com/sagetrac-git"
}
```

**Commit:** [f08fb452108ef1c83eb9f0932d3014df44793350](https://github.com/sagemath/sagetrac-mirror/commit/f08fb452108ef1c83eb9f0932d3014df44793350)



---

archive/issue_comments_378626.json:
```json
{
    "body": "<a id='comment:1'>**Comment 1:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f08fb452108ef1c83eb9f0932d3014df44793350\">f08fb45</a></td><td><code>py3: numerous string encode/decode fixes for sage.numerical.backends</code></td></tr></table>\n",
    "created_at": "2018-02-15T14:51:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378626",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:1'>**Comment 1:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f08fb452108ef1c83eb9f0932d3014df44793350">f08fb45</a></td><td><code>py3: numerous string encode/decode fixes for sage.numerical.backends</code></td></tr></table>




---

archive/issue_events_298152.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-15T14:51:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298152"
}
```



---

archive/issue_comments_378627.json:
```json
{
    "body": "Replying to [ticket:24740 embray]:\n> This one is slightly questionable in that there were many `cpdef` functions in this package that take `char *` arguments, and I changed them to take non-typed arguments (effectively `str`).\n\nThey don't seem to be performance-critical methods, so I'm fine with it.\n\nOne potential problem for reviewing this ticket is that it involves several external packages, some of which are not even free to install.",
    "created_at": "2018-02-27T09:43:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378627",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [ticket:24740 embray]:
> This one is slightly questionable in that there were many `cpdef` functions in this package that take `char *` arguments, and I changed them to take non-typed arguments (effectively `str`).

They don't seem to be performance-critical methods, so I'm fine with it.

One potential problem for reviewing this ticket is that it involves several external packages, some of which are not even free to install.



---

archive/issue_comments_378628.json:
```json
{
    "body": "<a id='comment:4'>**Comment 4:**</a>\nThis ticket makes me think of a general problem with `str_to_bytes`: I think you should always accept `bytes` for filenames (Python generally does that). So it might be a good idea to allow `str_to_bytes` to accept `bytes` input (I said this before but you refused that). What do you think?",
    "created_at": "2018-02-27T09:46:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378628",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'>**Comment 4:**</a>
This ticket makes me think of a general problem with `str_to_bytes`: I think you should always accept `bytes` for filenames (Python generally does that). So it might be a good idea to allow `str_to_bytes` to accept `bytes` input (I said this before but you refused that). What do you think?



---

archive/issue_comments_378629.json:
```json
{
    "body": "<a id='comment:5'>**Comment 5:**</a>\nIn `src/sage/numerical/backends/gurobi_backend.pyx` I see a `if name` which should be `if name is not None`",
    "created_at": "2018-02-27T09:47:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378629",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'>**Comment 5:**</a>
In `src/sage/numerical/backends/gurobi_backend.pyx` I see a `if name` which should be `if name is not None`



---

archive/issue_events_298153.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-27T09:47:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298153"
}
```



---

archive/issue_events_298154.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-27T09:47:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298154"
}
```



---

archive/issue_comments_378630.json:
```json
{
    "body": "<a id='comment:6'>**Comment 6:**</a>\nSeveral \"vertex\" methods in `glpk_graph_backend.pyx` used a take a `char*` as argument. To me, it's not obvious to me that the canonical replacement is `str` (as opposed to `bytes`). In any case, it feels wrong to disallow `bytes`.",
    "created_at": "2018-02-27T09:50:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378630",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'>**Comment 6:**</a>
Several "vertex" methods in `glpk_graph_backend.pyx` used a take a `char*` as argument. To me, it's not obvious to me that the canonical replacement is `str` (as opposed to `bytes`). In any case, it feels wrong to disallow `bytes`.



---

archive/issue_comments_378631.json:
```json
{
    "body": "<a id='comment:7'>**Comment 7:**</a>\nReplying to [@jdemeyer](#comment%3A4):\n> This ticket makes me think of a general problem with `str_to_bytes`: I think you should always accept `bytes` for filenames (Python generally does that). So it might be a good idea to allow `str_to_bytes` to accept `bytes` input (I said this before but you refused that). What do you think?\n\nThat would actually be bad because it would break most cases which explicitly should not accept bytes.  Specifically for filenames, it's better to just make a special case for accepting bytes.  Though I don't think high-level file handling functions need accept bytes in most cases either unless there were an explicit reason to.",
    "created_at": "2018-02-27T11:56:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378631",
    "user": "https://github.com/embray"
}
```

<a id='comment:7'>**Comment 7:**</a>
Replying to [@jdemeyer](#comment%3A4):
> This ticket makes me think of a general problem with `str_to_bytes`: I think you should always accept `bytes` for filenames (Python generally does that). So it might be a good idea to allow `str_to_bytes` to accept `bytes` input (I said this before but you refused that). What do you think?

That would actually be bad because it would break most cases which explicitly should not accept bytes.  Specifically for filenames, it's better to just make a special case for accepting bytes.  Though I don't think high-level file handling functions need accept bytes in most cases either unless there were an explicit reason to.



---

archive/issue_comments_378632.json:
```json
{
    "body": "<a id='comment:8'>**Comment 8:**</a>\nReplying to [@jdemeyer](#comment%3A6):\n> Several \"vertex\" methods in `glpk_graph_backend.pyx` used a take a `char*` as argument. To me, it's not obvious to me that the canonical replacement is `str` (as opposed to `bytes`). In any case, it feels wrong to disallow `bytes`.\n\nI can't say I'm 100% clear on that myself since it's not obvious that this code is even used anywhere in Sage.  But it's duplicating the Sage Graph API and I don't see what makes you think it should accept bytes.",
    "created_at": "2018-02-27T12:07:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378632",
    "user": "https://github.com/embray"
}
```

<a id='comment:8'>**Comment 8:**</a>
Replying to [@jdemeyer](#comment%3A6):
> Several "vertex" methods in `glpk_graph_backend.pyx` used a take a `char*` as argument. To me, it's not obvious to me that the canonical replacement is `str` (as opposed to `bytes`). In any case, it feels wrong to disallow `bytes`.

I can't say I'm 100% clear on that myself since it's not obvious that this code is even used anywhere in Sage.  But it's duplicating the Sage Graph API and I don't see what makes you think it should accept bytes.



---

archive/issue_comments_378633.json:
```json
{
    "body": "<a id='comment:9'>**Comment 9:**</a>\nReplying to [@jdemeyer](#comment%3A3):\n> Replying to [ticket:24740 embray]:\n> > This one is slightly questionable in that there were many `cpdef` functions in this package that take `char *` arguments, and I changed them to take non-typed arguments (effectively `str`).\n\n> \n> They don't seem to be performance-critical methods, so I'm fine with it.\n> \n> One potential problem for reviewing this ticket is that it involves several external packages, some of which are not even free to install.\n\nIt is a problem, and some of these modules are not well tested because of it.  Though in the cases I've changed it should be fairly clear that it's the right approach in general (i.e. we are passing python `str`s to interfaces that expect `char *`).",
    "created_at": "2018-02-27T12:10:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378633",
    "user": "https://github.com/embray"
}
```

<a id='comment:9'>**Comment 9:**</a>
Replying to [@jdemeyer](#comment%3A3):
> Replying to [ticket:24740 embray]:
> > This one is slightly questionable in that there were many `cpdef` functions in this package that take `char *` arguments, and I changed them to take non-typed arguments (effectively `str`).

> 
> They don't seem to be performance-critical methods, so I'm fine with it.
> 
> One potential problem for reviewing this ticket is that it involves several external packages, some of which are not even free to install.

It is a problem, and some of these modules are not well tested because of it.  Though in the cases I've changed it should be fairly clear that it's the right approach in general (i.e. we are passing python `str`s to interfaces that expect `char *`).



---

archive/issue_events_298155.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-04-26T12:13:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298155"
}
```



---

archive/issue_events_298156.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-04-26T12:13:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298156"
}
```



---

archive/issue_comments_378634.json:
```json
{
    "body": "<a id='comment:11'>**Comment 11:**</a>\nI believe this issue can reasonably be addressed for Sage 8.4.",
    "created_at": "2018-07-18T11:47:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378634",
    "user": "https://github.com/embray"
}
```

<a id='comment:11'>**Comment 11:**</a>
I believe this issue can reasonably be addressed for Sage 8.4.



---

archive/issue_events_298157.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-07-18T11:47:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298157"
}
```



---

archive/issue_events_298158.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-07-18T11:47:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298158"
}
```



---

archive/issue_comments_378635.json:
```json
{
    "body": "<a id='comment:12'>**Comment 12:**</a>\nReplying to [@embray](#comment%3A7):\n> Specifically for filenames, it's better to just make a special case for accepting bytes.\n\nHow about a new function `filename_to_bytes()`? I never liked the look of `str_to_bytes(fname, FS_ENCODING, 'surrogateescape')` anyway, `filename_to_bytes(fname)` would look much better.",
    "created_at": "2018-08-07T12:48:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378635",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'>**Comment 12:**</a>
Replying to [@embray](#comment%3A7):
> Specifically for filenames, it's better to just make a special case for accepting bytes.

How about a new function `filename_to_bytes()`? I never liked the look of `str_to_bytes(fname, FS_ENCODING, 'surrogateescape')` anyway, `filename_to_bytes(fname)` would look much better.



---

archive/issue_comments_378636.json:
```json
{
    "body": "<a id='comment:13'>**Comment 13:**</a>\nHow does this ticket now relate to #26020?  It wasn't clear to me why it needed to broken into a separate ticket in the first place.\n\nAre we still going to add `filename_to_bytes()`?  I like the idea but it should probably be done separately.",
    "created_at": "2018-08-16T11:01:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378636",
    "user": "https://github.com/embray"
}
```

<a id='comment:13'>**Comment 13:**</a>
How does this ticket now relate to #26020?  It wasn't clear to me why it needed to broken into a separate ticket in the first place.

Are we still going to add `filename_to_bytes()`?  I like the idea but it should probably be done separately.



---

archive/issue_events_298159.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-08-16T11:01:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298159"
}
```



---

archive/issue_events_298160.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-08-16T11:01:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298160"
}
```



---

archive/issue_comments_378637.json:
```json
{
    "body": "<a id='comment:15'>**Comment 15:**</a>\nThese changes look fine to me (but I haven't tested anything).",
    "created_at": "2018-10-07T22:42:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378637",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'>**Comment 15:**</a>
These changes look fine to me (but I haven't tested anything).



---

archive/issue_events_298161.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-10-28T11:41:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298161"
}
```



---

archive/issue_events_298162.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-10-28T11:41:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298162"
}
```



---

archive/issue_comments_378638.json:
```json
{
    "body": "<a id='comment:17'>**Comment 17:**</a>\n@embray, will you be able to finish this one and #24741 ?",
    "created_at": "2018-11-23T16:36:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378638",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'>**Comment 17:**</a>
@embray, will you be able to finish this one and #24741 ?



---

archive/issue_comments_378639.json:
```json
{
    "body": "<a id='comment:18'>**Comment 18:**</a>\nSorry, yeah, I'll take care of it.  I think I stalled on this one because Jeroen had made some comments earlier, which seemed to suggest a course of action he preferred, and I was waiting for confirmation from him but it never came.  I'll just clean up the existing fixes here and worry about the `filename_to_bytes()` thing later.",
    "created_at": "2018-11-28T08:14:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378639",
    "user": "https://github.com/embray"
}
```

<a id='comment:18'>**Comment 18:**</a>
Sorry, yeah, I'll take care of it.  I think I stalled on this one because Jeroen had made some comments earlier, which seemed to suggest a course of action he preferred, and I was waiting for confirmation from him but it never came.  I'll just clean up the existing fixes here and worry about the `filename_to_bytes()` thing later.



---

archive/issue_events_298163.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-07T19:50:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298163"
}
```



---

archive/issue_events_298164.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-07T19:50:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298164"
}
```



---

archive/issue_comments_378640.json:
```json
{
    "body": "**Changing commit** from \"[f08fb452108ef1c83eb9f0932d3014df44793350](https://github.com/sagemath/sagetrac-mirror/commit/f08fb452108ef1c83eb9f0932d3014df44793350)\" to \"[3434d49f591123a2910bcdf83c8b65b3be5c78b4](https://github.com/sagemath/sagetrac-mirror/commit/3434d49f591123a2910bcdf83c8b65b3be5c78b4)\".",
    "created_at": "2018-12-10T13:34:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378640",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[f08fb452108ef1c83eb9f0932d3014df44793350](https://github.com/sagemath/sagetrac-mirror/commit/f08fb452108ef1c83eb9f0932d3014df44793350)" to "[3434d49f591123a2910bcdf83c8b65b3be5c78b4](https://github.com/sagemath/sagetrac-mirror/commit/3434d49f591123a2910bcdf83c8b65b3be5c78b4)".



---

archive/issue_comments_378641.json:
```json
{
    "body": "<a id='comment:20'>**Comment 20:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3434d49f591123a2910bcdf83c8b65b3be5c78b4\">3434d49</a></td><td><code>py3: numerous string encode/decode fixes for sage.numerical.backends</code></td></tr></table>\n",
    "created_at": "2018-12-10T13:34:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378641",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'>**Comment 20:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3434d49f591123a2910bcdf83c8b65b3be5c78b4">3434d49</a></td><td><code>py3: numerous string encode/decode fixes for sage.numerical.backends</code></td></tr></table>




---

archive/issue_events_298165.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-10T13:36:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298165"
}
```



---

archive/issue_events_298166.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-10T13:36:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298166"
}
```



---

archive/issue_comments_378642.json:
```json
{
    "body": "<a id='comment:21'>**Comment 21:**</a>\nI just rebased the existing branch on 8.5.beta6.\n\nI can see that there's a case to be made for still allowing some of these methods to accept filenames as bytes, but I think this is fine for now until and unless a specific need for it arises.",
    "created_at": "2018-12-10T13:36:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378642",
    "user": "https://github.com/embray"
}
```

<a id='comment:21'>**Comment 21:**</a>
I just rebased the existing branch on 8.5.beta6.

I can see that there's a case to be made for still allowing some of these methods to accept filenames as bytes, but I think this is fine for now until and unless a specific need for it arises.



---

archive/issue_events_298167.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-13T11:02:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298167"
}
```



---

archive/issue_events_298168.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-13T11:02:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298168"
}
```



---

archive/issue_comments_378643.json:
```json
{
    "body": "<a id='comment:22'>**Comment 22:**</a>\nthe import of `char_to_str` seem not to be used in `backends/coin_backend.pyx`",
    "created_at": "2018-12-13T11:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378643",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:22'>**Comment 22:**</a>
the import of `char_to_str` seem not to be used in `backends/coin_backend.pyx`



---

archive/issue_comments_378644.json:
```json
{
    "body": "<a id='comment:23'>**Comment 23:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee\">da920d5</a></td><td><code>py3: numerous string encode/decode fixes for sage.numerical.backends</code></td></tr></table>\n",
    "created_at": "2018-12-13T11:21:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378644",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:23'>**Comment 23:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee">da920d5</a></td><td><code>py3: numerous string encode/decode fixes for sage.numerical.backends</code></td></tr></table>




---

archive/issue_comments_378645.json:
```json
{
    "body": "**Changing commit** from \"[3434d49f591123a2910bcdf83c8b65b3be5c78b4](https://github.com/sagemath/sagetrac-mirror/commit/3434d49f591123a2910bcdf83c8b65b3be5c78b4)\" to \"[da920d50745a997a176925c67130acd94abf87ee](https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee)\".",
    "created_at": "2018-12-13T11:21:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378645",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[3434d49f591123a2910bcdf83c8b65b3be5c78b4](https://github.com/sagemath/sagetrac-mirror/commit/3434d49f591123a2910bcdf83c8b65b3be5c78b4)" to "[da920d50745a997a176925c67130acd94abf87ee](https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee)".



---

archive/issue_events_298169.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-13T11:23:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298169"
}
```



---

archive/issue_events_298170.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-13T11:23:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298170"
}
```



---

archive/issue_comments_378646.json:
```json
{
    "body": "**Reviewer:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2018-12-13T15:39:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378646",
    "user": "https://github.com/fchapoton"
}
```

**Reviewer:** Frédéric Chapoton



---

archive/issue_comments_378647.json:
```json
{
    "body": "<a id='comment:25'>**Comment 25:**</a>\nin src/sage/numerical/backends/cvxopt_sdp_backend.pyx,\nthe INPUT field must be modified\n\nsame in src/sage/numerical/backends/generic_sdp_backend.pyx\n\notherwise, looks good to me (as far as I can tell)",
    "created_at": "2018-12-13T15:39:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378647",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:25'>**Comment 25:**</a>
in src/sage/numerical/backends/cvxopt_sdp_backend.pyx,
the INPUT field must be modified

same in src/sage/numerical/backends/generic_sdp_backend.pyx

otherwise, looks good to me (as far as I can tell)



---

archive/issue_events_298171.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-13T15:39:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298171"
}
```



---

archive/issue_events_298172.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-13T15:39:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298172"
}
```



---

archive/issue_comments_378648.json:
```json
{
    "body": "<a id='comment:26'>**Comment 26:**</a>\nAh, very true (not that many people are likely to read that, but best to be consistent).",
    "created_at": "2018-12-13T16:04:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378648",
    "user": "https://github.com/embray"
}
```

<a id='comment:26'>**Comment 26:**</a>
Ah, very true (not that many people are likely to read that, but best to be consistent).



---

archive/issue_events_298173.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-13T16:08:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298173"
}
```



---

archive/issue_events_298174.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-13T16:08:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298174"
}
```



---

archive/issue_comments_378649.json:
```json
{
    "body": "<a id='comment:27'>**Comment 27:**</a>\nNo, they're fine.  I checked the code and it doesn't need updating in those cases.  For some reason they already correctly read `str` instead of `char *`.",
    "created_at": "2018-12-13T16:08:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378649",
    "user": "https://github.com/embray"
}
```

<a id='comment:27'>**Comment 27:**</a>
No, they're fine.  I checked the code and it doesn't need updating in those cases.  For some reason they already correctly read `str` instead of `char *`.



---

archive/issue_comments_378650.json:
```json
{
    "body": "<a id='comment:28'>**Comment 28:**</a>\noh, well. Let it be.\n\n@vbraun: probably safer to keep this one for 8.6.beta0",
    "created_at": "2018-12-13T18:51:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378650",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:28'>**Comment 28:**</a>
oh, well. Let it be.

@vbraun: probably safer to keep this one for 8.6.beta0



---

archive/issue_events_298175.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-13T18:51:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298175"
}
```



---

archive/issue_events_298176.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-13T18:51:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298176"
}
```



---

archive/issue_events_298177.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-14T20:17:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298177"
}
```



---

archive/issue_events_298178.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-14T20:17:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298178"
}
```



---

archive/issue_events_298179.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-12-23T23:41:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298179"
}
```



---

archive/issue_events_298180.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "fb9091d1e9d74c1a37eec4558fff8354007fefa7",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-12-23T23:41:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-298180"
}
```



---

archive/issue_comments_378651.json:
```json
{
    "body": "**Changing branch** from \"[u/embray/python3/sage-numerical-backends/string](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/python3/sage-numerical-backends/string)\" to \"[da920d50745a997a176925c67130acd94abf87ee](https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee)\".",
    "created_at": "2018-12-23T23:41:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378651",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/embray/python3/sage-numerical-backends/string](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/python3/sage-numerical-backends/string)" to "[da920d50745a997a176925c67130acd94abf87ee](https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee)".



---

archive/issue_comments_378652.json:
```json
{
    "body": "<a id='comment:31'>**Comment 31:**</a>\nMaybe the problem described in ticket #26999 was produced by the numerous string fixes made here. Can you take a look?",
    "created_at": "2019-01-03T10:15:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378652",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:31'>**Comment 31:**</a>
Maybe the problem described in ticket #26999 was produced by the numerous string fixes made here. Can you take a look?



---

archive/issue_comments_378653.json:
```json
{
    "body": "**Changing commit** from \"[da920d50745a997a176925c67130acd94abf87ee](https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee)\" to \"\".",
    "created_at": "2019-01-03T10:15:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-378653",
    "user": "https://github.com/seblabbe"
}
```

**Changing commit** from "[da920d50745a997a176925c67130acd94abf87ee](https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee)" to "".
