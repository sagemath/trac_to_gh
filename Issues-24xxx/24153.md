# Issue 24153: Remove unused functions from ccobject.h

archive/issues_023916.json:
```json
{
    "body": "Thanks to various C++ cleanup tickets, most of `ccobject.h` is obsolete now.\n\nCC:  @tscrim\n\nBranch/Commit: fdffc309c6c9c588e4e01eb6e00b1f8704b3a3eb\n\nReviewer: Travis Scrimshaw\n\nAuthor: Jeroen Demeyer\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24153\n\n",
    "closed_at": "2017-12-11T01:02:51Z",
    "created_at": "2017-11-03T17:16:30Z",
    "labels": [
        "component: cython"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Remove unused functions from ccobject.h",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24153",
    "user": "https://github.com/jdemeyer"
}
```
Thanks to various C++ cleanup tickets, most of `ccobject.h` is obsolete now.

CC:  @tscrim

Branch/Commit: fdffc309c6c9c588e4e01eb6e00b1f8704b3a3eb

Reviewer: Travis Scrimshaw

Author: Jeroen Demeyer

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24153





---

archive/issue_comments_459212.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/ticket/24153\"",
    "created_at": "2017-11-03T17:52:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24153#issuecomment-459212",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/ticket/24153"



---

archive/issue_comments_459213.json:
```json
{
    "body": "Changing commit from \"\" to \"fdffc309c6c9c588e4e01eb6e00b1f8704b3a3eb\"",
    "created_at": "2017-11-03T17:52:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24153#issuecomment-459213",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "fdffc309c6c9c588e4e01eb6e00b1f8704b3a3eb"



---

archive/issue_comments_459214.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-11-03T17:52:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24153#issuecomment-459214",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_459215.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[fdffc30](https://github.com/sagemath/sagetrac-mirror/commit/fdffc309c6c9c588e4e01eb6e00b1f8704b3a3eb)|`Remove unused functions from ccobject.h`|",
    "created_at": "2017-11-03T17:52:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24153#issuecomment-459215",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[fdffc30](https://github.com/sagemath/sagetrac-mirror/commit/fdffc309c6c9c588e4e01eb6e00b1f8704b3a3eb)|`Remove unused functions from ccobject.h`|



---

archive/issue_comments_459216.json:
```json
{
    "body": "<a id='comment:3'></a>\nI know this is bikeshedding, nobody will probably ever really read this file, and C++ does not have nearly the same style uniformity that Python has. So you can completely ignore this. Yet, IMO, most C++ programmers have their opening `{` on the same line that starts the block (and it is more Python-esque). So I do not quite agree with this:\n\n```diff\ndiff --git a/src/sage/ext/ccobject.h b/src/sage/ext/ccobject.h\nindex 6753a0a..c6cadb9 100644\n--- a/src/sage/ext/ccobject.h\n+++ b/src/sage/ext/ccobject.h\n@@ -114,15 +49,18 @@ static CYTHON_INLINE PyObject* ccrepr(const T& x)\n #endif\n }\n \n+\n /* Arrays */\n template <class T>\n-static inline T* Allocate_array(size_t n){\n-  return new T[n];\n+static inline T* Allocate_array(size_t n)\n+{\n+    return new T[n];\n }\n \n template <class T>\n-static inline void Delete_array(T* v){\n-  delete[] v;\n+static inline void Delete_array(T* v)\n+{\n+    delete[] v;\n }\n \n #endif\n```\nHowever, if you prefer it in even the slightest (including out of laziness), then just set a positive review. Likewise, if you undo this change, you can set a positive review on my behalf.",
    "created_at": "2017-11-03T20:43:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24153#issuecomment-459216",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>
I know this is bikeshedding, nobody will probably ever really read this file, and C++ does not have nearly the same style uniformity that Python has. So you can completely ignore this. Yet, IMO, most C++ programmers have their opening `{` on the same line that starts the block (and it is more Python-esque). So I do not quite agree with this:

```diff
diff --git a/src/sage/ext/ccobject.h b/src/sage/ext/ccobject.h
index 6753a0a..c6cadb9 100644
--- a/src/sage/ext/ccobject.h
+++ b/src/sage/ext/ccobject.h
@@ -114,15 +49,18 @@ static CYTHON_INLINE PyObject* ccrepr(const T& x)
 #endif
 }
 
+
 /* Arrays */
 template <class T>
-static inline T* Allocate_array(size_t n){
-  return new T[n];
+static inline T* Allocate_array(size_t n)
+{
+    return new T[n];
 }
 
 template <class T>
-static inline void Delete_array(T* v){
-  delete[] v;
+static inline void Delete_array(T* v)
+{
+    delete[] v;
 }
 
 #endif
```
However, if you prefer it in even the slightest (including out of laziness), then just set a positive review. Likewise, if you undo this change, you can set a positive review on my behalf.



---

archive/issue_comments_459217.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2017-11-03T20:43:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24153#issuecomment-459217",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_459218.json:
```json
{
    "body": "<a id='comment:4'></a>\nGoogle agrees with you: http://google.github.io/styleguide/cppguide.html#Function_Declarations_and_Definitions\n\nGNU agrees with me: https://www.gnu.org/prep/standards/standards.html#Formatting\n\nI'll go for the \"lazy\" option and keep this branch as is.",
    "created_at": "2017-11-04T13:32:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24153#issuecomment-459218",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>
Google agrees with you: http://google.github.io/styleguide/cppguide.html#Function_Declarations_and_Definitions

GNU agrees with me: https://www.gnu.org/prep/standards/standards.html#Formatting

I'll go for the "lazy" option and keep this branch as is.



---

archive/issue_comments_459219.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-11-04T13:32:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24153#issuecomment-459219",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_069679.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-12-11T01:02:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24153",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24153#event-69679"
}
```



---

archive/issue_comments_459220.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-12-11T01:02:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24153#issuecomment-459220",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_459221.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/ticket/24153\" to \"fdffc309c6c9c588e4e01eb6e00b1f8704b3a3eb\"",
    "created_at": "2017-12-11T01:02:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24153#issuecomment-459221",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jdemeyer/ticket/24153" to "fdffc309c6c9c588e4e01eb6e00b1f8704b3a3eb"
