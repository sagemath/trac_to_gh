# Issue 24170: Extend vector_space method to arbitrary subfields

archive/issues_023933.json:
```json
{
    "body": "The current `vector_space()` method of finite fields is only over prime subfield of the finite field. Newly implemented `vector_space()` method returns a vector space isomorphic to the finite field viewed as a vector space over an arbitrary subfield of the finite field.\n\nThe essential functionality was already implemented in #20284, aka `RelativeFiniteFieldExtension`.  But it is presently not accessible easily. I took the implementation idea from the ticket and reimplemented it as a method to finite fields and made the interface straightforward.\n\n```\nsage: E = GF(16)\nsage: F = GF(4)\nsage: V, from_V, to_V = E.vector_space(F, map=True)\nsage: V \nsage: from_V\nIsomorphism:\n  From: Vector space of dimension 2 over Finite Field in z2 of size 2^2\n  To:   Finite Field in z4 of size 2^4\nsage: to_V\nIsomorphism:\n  From: Finite Field in z4 of size 2^4\n  To:   Vector space of dimension 2 over Finite Field in z2 of size 2^2\n```\n\nBranch/Commit: d20501819b3288ef4a8a57036ab884ab83cde69d\n\nReviewer: Vincent Delecroix, Kwankyu Lee\n\nAuthor: Kwankyu Lee, Vincent Delecroix\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24170\n\n",
    "closed_at": "2017-12-14T12:40:01Z",
    "created_at": "2017-11-07T06:16:58Z",
    "labels": [
        "component: finite rings",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Extend vector_space method to arbitrary subfields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24170",
    "user": "https://github.com/kwankyu"
}
```
The current `vector_space()` method of finite fields is only over prime subfield of the finite field. Newly implemented `vector_space()` method returns a vector space isomorphic to the finite field viewed as a vector space over an arbitrary subfield of the finite field.

The essential functionality was already implemented in #20284, aka `RelativeFiniteFieldExtension`.  But it is presently not accessible easily. I took the implementation idea from the ticket and reimplemented it as a method to finite fields and made the interface straightforward.

```
sage: E = GF(16)
sage: F = GF(4)
sage: V, from_V, to_V = E.vector_space(F, map=True)
sage: V 
sage: from_V
Isomorphism:
  From: Vector space of dimension 2 over Finite Field in z2 of size 2^2
  To:   Finite Field in z4 of size 2^4
sage: to_V
Isomorphism:
  From: Finite Field in z4 of size 2^4
  To:   Vector space of dimension 2 over Finite Field in z2 of size 2^2
```

Branch/Commit: d20501819b3288ef4a8a57036ab884ab83cde69d

Reviewer: Vincent Delecroix, Kwankyu Lee

Author: Kwankyu Lee, Vincent Delecroix

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24170





---

archive/issue_comments_334962.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-07T06:19:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334962",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_334963.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-11-07T06:20:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334963",
    "user": "https://github.com/kwankyu"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_334964.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-07T06:25:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334964",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_334965.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-07T06:38:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334965",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_334966.json:
```json
{
    "body": "<a id='comment:6'></a>Wouldn't be possible to exend the current `vector_space` method with extra optional arguments `subfield` (which would default to the prime field as it used to be) and `basis`?",
    "created_at": "2017-11-12T11:21:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334966",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>Wouldn't be possible to exend the current `vector_space` method with extra optional arguments `subfield` (which would default to the prime field as it used to be) and `basis`?



---

archive/issue_comments_334967.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 vdelecroix]:\n> Wouldn't be possible to exend the current `vector_space` method with extra optional arguments `subfield` (which would default to the prime field as it used to be) and `basis`?\n\n\nThat was my first attempt. That was not so neat and I gave up that approach, mainly because my code relies on the `vector_space` method, which is fundamental, and in this approach, the code would be recursive. \n\nNow that you suggest that, I will try that approach again, as I don't have any hard reason to argue that the approach should be bad.",
    "created_at": "2017-11-12T11:56:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334967",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:7'></a>Replying to [comment:6 vdelecroix]:
> Wouldn't be possible to exend the current `vector_space` method with extra optional arguments `subfield` (which would default to the prime field as it used to be) and `basis`?


That was my first attempt. That was not so neat and I gave up that approach, mainly because my code relies on the `vector_space` method, which is fundamental, and in this approach, the code would be recursive. 

Now that you suggest that, I will try that approach again, as I don't have any hard reason to argue that the approach should be bad.



---

archive/issue_comments_334968.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-14T00:32:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334968",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_334969.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-11-14T07:12:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334969",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_334970.json:
```json
{
    "body": "<a id='comment:12'></a>1. The name `FiniteFieldIsomorphism` is very misleading. Furthermore, as a general comment \"isomorphism\" is not a precise term. What about \"linear isomorphism\" as in?\n\n```\nsage: E = GF(16)\nsage: F = GF(4)\nsage: V = VectorSpace(F, 2)\nsage: Hom(V,E)\nSet of Morphisms (Linear Transformations)\nfrom Vector space of dimension 2 over Finite Field in z2 of size 2^2\nto Finite Field in z4 of size 2^4\n```\n\n2. What is the point of having empty classes `MorphismFiniteFieldToVectorSpace` and `MorphismVectorSpaceToFiniteField`? I would prefer to simply remove them and have\n\n```diff\n-        phi = MorphismVectorSpaceToFiniteField(V, self, from_V)\n-        psi = MorphismFiniteFieldToVectorSpace(self, V, to_V)\n+        from sage.categories.homset import Hom\n+        from sage.categories.morphism import SetMorphism\n+        phi = SetMorphism(Hom(V, self), from_V)\n+        psi = SetMorphism(Hom(self, V), to_V)\n```\n  An other option is to move all the code in `vector_space` (computation of `C`, the functions `to_V`, `from_V`, etc) within the classes.\n\n3. Did you notice the asymetry of categories\n\n```\nsage: E = GF(16)\nsage: F = GF(4)\nsage: V = VectorSpace(F, 4)\nSet of Morphisms (Linear Transformations)\nfrom Vector space of dimension 2 over Finite Field in z2 of size 2^2\nto Finite Field in z4 of size 2^4\nsage: Hom(E,V)\nSet of Morphisms\nfrom Finite Field in z4 of size 2^4\nto Vector space of dimension 2 over Finite Field in z2 of size 2^2\nin Category of finite enumerated additive commutative additive groups\n```\n\n4. In the function `to_V` you should use directly `V` and not `vector`\n\n5. In your call to `matrix` it is much faster to also specify the base ring and the dimensions.",
    "created_at": "2017-11-14T07:12:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334970",
    "user": "https://github.com/videlec"
}
```

<a id='comment:12'></a>1. The name `FiniteFieldIsomorphism` is very misleading. Furthermore, as a general comment "isomorphism" is not a precise term. What about "linear isomorphism" as in?

```
sage: E = GF(16)
sage: F = GF(4)
sage: V = VectorSpace(F, 2)
sage: Hom(V,E)
Set of Morphisms (Linear Transformations)
from Vector space of dimension 2 over Finite Field in z2 of size 2^2
to Finite Field in z4 of size 2^4
```

2. What is the point of having empty classes `MorphismFiniteFieldToVectorSpace` and `MorphismVectorSpaceToFiniteField`? I would prefer to simply remove them and have

```diff
-        phi = MorphismVectorSpaceToFiniteField(V, self, from_V)
-        psi = MorphismFiniteFieldToVectorSpace(self, V, to_V)
+        from sage.categories.homset import Hom
+        from sage.categories.morphism import SetMorphism
+        phi = SetMorphism(Hom(V, self), from_V)
+        psi = SetMorphism(Hom(self, V), to_V)
```
  An other option is to move all the code in `vector_space` (computation of `C`, the functions `to_V`, `from_V`, etc) within the classes.

3. Did you notice the asymetry of categories

```
sage: E = GF(16)
sage: F = GF(4)
sage: V = VectorSpace(F, 4)
Set of Morphisms (Linear Transformations)
from Vector space of dimension 2 over Finite Field in z2 of size 2^2
to Finite Field in z4 of size 2^4
sage: Hom(E,V)
Set of Morphisms
from Finite Field in z4 of size 2^4
to Vector space of dimension 2 over Finite Field in z2 of size 2^2
in Category of finite enumerated additive commutative additive groups
```

4. In the function `to_V` you should use directly `V` and not `vector`

5. In your call to `matrix` it is much faster to also specify the base ring and the dimensions.



---

archive/issue_comments_334971.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:12 vdelecroix]:\n> 1. The name `FiniteFieldIsomorphism` is very misleading. Furthermore, as a general comment \"isomorphism\" is not a precise term. What about \"linear isomorphism\" as in?\n> \n> ```\n> sage: E = GF(16)\n> sage: F = GF(4)\n> sage: V = VectorSpace(F, 2)\n> sage: Hom(V,E)\n> Set of Morphisms (Linear Transformations)\n> from Vector space of dimension 2 over Finite Field in z2 of size 2^2\n> to Finite Field in z4 of size 2^4\n> ```\n> \n> 2. What is the point of having empty classes `MorphismFiniteFieldToVectorSpace` and `MorphismVectorSpaceToFiniteField`? I would prefer to simply remove them and have\n> \n> ```diff\n> -        phi = MorphismVectorSpaceToFiniteField(V, self, from_V)\n> -        psi = MorphismFiniteFieldToVectorSpace(self, V, to_V)\n> +        from sage.categories.homset import Hom\n> +        from sage.categories.morphism import SetMorphism\n> +        phi = SetMorphism(Hom(V, self), from_V)\n> +        psi = SetMorphism(Hom(self, V), to_V)\n> ```\n>   An other option is to move all the code in `vector_space` (computation of `C`, the functions `to_V`, `from_V`, etc) within the classes.\n\n\nI modelled these classes after the corresponding classes in `sage/rings/number_field/maps.py`. Look at the `NumberFieldIsomorphism`, `MapVectorSpaceToNumberField`, `MapNumberFieldToVectorSpace`.\n\nThe point is to have a proper `_repr_()` method (the morphisms are printed as `Isomorphism`).\n\nThe classes `MorphismVectorSpaceToFiniteField` and `MorphismFiniteFieldToVectorSpace` are not empty.  They are extended from `FiniteFieldIsomorphism`. So including inherited methods, each of them has 4 updated methods compared with `SetMorphism`.\n\nI guess that you think \"finite field isomorphism\" is misleading. The intended meaning is \"vector space isomorphism\" for finite fields. I reject \"linear isomorphism\" (I never heard of this term). `FiniteFieldLinearTransformation` or `FiniteFieldLinearMap` is ok, but I don't prefer them over `FiniteFieldIsomorphism`.",
    "created_at": "2017-11-17T08:33:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334971",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:13'></a>Replying to [comment:12 vdelecroix]:
> 1. The name `FiniteFieldIsomorphism` is very misleading. Furthermore, as a general comment "isomorphism" is not a precise term. What about "linear isomorphism" as in?
> 
> ```
> sage: E = GF(16)
> sage: F = GF(4)
> sage: V = VectorSpace(F, 2)
> sage: Hom(V,E)
> Set of Morphisms (Linear Transformations)
> from Vector space of dimension 2 over Finite Field in z2 of size 2^2
> to Finite Field in z4 of size 2^4
> ```
> 
> 2. What is the point of having empty classes `MorphismFiniteFieldToVectorSpace` and `MorphismVectorSpaceToFiniteField`? I would prefer to simply remove them and have
> 
> ```diff
> -        phi = MorphismVectorSpaceToFiniteField(V, self, from_V)
> -        psi = MorphismFiniteFieldToVectorSpace(self, V, to_V)
> +        from sage.categories.homset import Hom
> +        from sage.categories.morphism import SetMorphism
> +        phi = SetMorphism(Hom(V, self), from_V)
> +        psi = SetMorphism(Hom(self, V), to_V)
> ```
>   An other option is to move all the code in `vector_space` (computation of `C`, the functions `to_V`, `from_V`, etc) within the classes.


I modelled these classes after the corresponding classes in `sage/rings/number_field/maps.py`. Look at the `NumberFieldIsomorphism`, `MapVectorSpaceToNumberField`, `MapNumberFieldToVectorSpace`.

The point is to have a proper `_repr_()` method (the morphisms are printed as `Isomorphism`).

The classes `MorphismVectorSpaceToFiniteField` and `MorphismFiniteFieldToVectorSpace` are not empty.  They are extended from `FiniteFieldIsomorphism`. So including inherited methods, each of them has 4 updated methods compared with `SetMorphism`.

I guess that you think "finite field isomorphism" is misleading. The intended meaning is "vector space isomorphism" for finite fields. I reject "linear isomorphism" (I never heard of this term). `FiniteFieldLinearTransformation` or `FiniteFieldLinearMap` is ok, but I don't prefer them over `FiniteFieldIsomorphism`.



---

archive/issue_comments_334972.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-17T08:54:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334972",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_334973.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:13 klee]:\n> Replying to [comment:12 vdelecroix]:\n> > 1. The name `FiniteFieldIsomorphism` is very misleading. Furthermore, as a general comment \"isomorphism\" is not a precise term. What about \"linear isomorphism\" as in?\n> > \n> > ```\n> > sage: E = GF(16)\n> > sage: F = GF(4)\n> > sage: V = VectorSpace(F, 2)\n> > sage: Hom(V,E)\n> > Set of Morphisms (Linear Transformations)\n> > from Vector space of dimension 2 over Finite Field in z2 of size 2^2\n> > to Finite Field in z4 of size 2^4\n> > ```\n> > \n> > 2. What is the point of having empty classes `MorphismFiniteFieldToVectorSpace` and `MorphismVectorSpaceToFiniteField`? I would prefer to simply remove them and have\n> > \n> > ```diff\n> > -        phi = MorphismVectorSpaceToFiniteField(V, self, from_V)\n> > -        psi = MorphismFiniteFieldToVectorSpace(self, V, to_V)\n> > +        from sage.categories.homset import Hom\n> > +        from sage.categories.morphism import SetMorphism\n> > +        phi = SetMorphism(Hom(V, self), from_V)\n> > +        psi = SetMorphism(Hom(self, V), to_V)\n> > ```\n> >   An other option is to move all the code in `vector_space` (computation of `C`, the functions `to_V`, `from_V`, etc) within the classes.\n\n> \n> I modelled these classes after the corresponding classes in `sage/rings/number_field/maps.py`. Look at the `NumberFieldIsomorphism`, `MapVectorSpaceToNumberField`, `MapNumberFieldToVectorSpace`.\n> \n> The point is to have a proper `_repr_()` method (the morphisms are printed as `Isomorphism`).\n> \n> The classes `MorphismVectorSpaceToFiniteField` and `MorphismFiniteFieldToVectorSpace` are not empty.  They are extended from `FiniteFieldIsomorphism`. So including inherited methods, each of them has 4 updated methods compared with `SetMorphism`.\n\n\nAs you can see, `sage/rings/number_field/maps.py` implements the conversion from the domain to the image in their `_call_` method. This is what I proposed in the end of the point 2 in [This is the Trac macro *comment:12* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#comment:12-macro). So I would better go for this option.\n\nNow, if you don't like moving the implementation of `for_V` and `to_V` as a `_call_` method of the linear isomorphisms classes you should just make the `_repr_` method more configurable. No need to make a new class.\n\n> I guess that you think \"finite field isomorphism\" is misleading. The intended meaning is \"vector space isomorphism\" for finite fields. I reject \"linear isomorphism\" (I never heard of this term). `FiniteFieldLinearTransformation` or `FiniteFieldLinearMap` is ok, but I don't prefer them over `FiniteFieldIsomorphism`. \n\n\nI do. Let me say what I imagine when I read each class name\n- `FiniteFieldIsomorphism` : an isomorphism between two finite fields\n- `FiniteFieldLinearTransformation`: a linear map between two finite fields",
    "created_at": "2017-11-17T08:57:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334973",
    "user": "https://github.com/videlec"
}
```

<a id='comment:15'></a>Replying to [comment:13 klee]:
> Replying to [comment:12 vdelecroix]:
> > 1. The name `FiniteFieldIsomorphism` is very misleading. Furthermore, as a general comment "isomorphism" is not a precise term. What about "linear isomorphism" as in?
> > 
> > ```
> > sage: E = GF(16)
> > sage: F = GF(4)
> > sage: V = VectorSpace(F, 2)
> > sage: Hom(V,E)
> > Set of Morphisms (Linear Transformations)
> > from Vector space of dimension 2 over Finite Field in z2 of size 2^2
> > to Finite Field in z4 of size 2^4
> > ```
> > 
> > 2. What is the point of having empty classes `MorphismFiniteFieldToVectorSpace` and `MorphismVectorSpaceToFiniteField`? I would prefer to simply remove them and have
> > 
> > ```diff
> > -        phi = MorphismVectorSpaceToFiniteField(V, self, from_V)
> > -        psi = MorphismFiniteFieldToVectorSpace(self, V, to_V)
> > +        from sage.categories.homset import Hom
> > +        from sage.categories.morphism import SetMorphism
> > +        phi = SetMorphism(Hom(V, self), from_V)
> > +        psi = SetMorphism(Hom(self, V), to_V)
> > ```
> >   An other option is to move all the code in `vector_space` (computation of `C`, the functions `to_V`, `from_V`, etc) within the classes.

> 
> I modelled these classes after the corresponding classes in `sage/rings/number_field/maps.py`. Look at the `NumberFieldIsomorphism`, `MapVectorSpaceToNumberField`, `MapNumberFieldToVectorSpace`.
> 
> The point is to have a proper `_repr_()` method (the morphisms are printed as `Isomorphism`).
> 
> The classes `MorphismVectorSpaceToFiniteField` and `MorphismFiniteFieldToVectorSpace` are not empty.  They are extended from `FiniteFieldIsomorphism`. So including inherited methods, each of them has 4 updated methods compared with `SetMorphism`.


As you can see, `sage/rings/number_field/maps.py` implements the conversion from the domain to the image in their `_call_` method. This is what I proposed in the end of the point 2 in [This is the Trac macro *comment:12* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#comment:12-macro). So I would better go for this option.

Now, if you don't like moving the implementation of `for_V` and `to_V` as a `_call_` method of the linear isomorphisms classes you should just make the `_repr_` method more configurable. No need to make a new class.

> I guess that you think "finite field isomorphism" is misleading. The intended meaning is "vector space isomorphism" for finite fields. I reject "linear isomorphism" (I never heard of this term). `FiniteFieldLinearTransformation` or `FiniteFieldLinearMap` is ok, but I don't prefer them over `FiniteFieldIsomorphism`. 


I do. Let me say what I imagine when I read each class name
- `FiniteFieldIsomorphism` : an isomorphism between two finite fields
- `FiniteFieldLinearTransformation`: a linear map between two finite fields



---

archive/issue_comments_334974.json:
```json
{
    "body": "<a id='comment:16'></a>> 3. Did you notice the asymetry of categories\n> \n> ```\n> sage: E = GF(16)\n> sage: F = GF(4)\n> sage: V = VectorSpace(F, 4)\n> Set of Morphisms (Linear Transformations)\n> from Vector space of dimension 2 over Finite Field in z2 of size 2^2\n> to Finite Field in z4 of size 2^4\n> sage: Hom(E,V)\n> Set of Morphisms\n> from Finite Field in z4 of size 2^4\n> to Vector space of dimension 2 over Finite Field in z2 of size 2^2\n> in Category of finite enumerated additive commutative additive groups\n> ```\n\n\nNo. This looks ugly. \n\nWhat do mean by \"asymmetry of categories\"? I get\n\n```\nsage: category(Hom(E,V))\nCategory of homsets of additive monoids\nsage: category(Hom(V,E))\nCategory of homsets of additive monoids\n```\nDo you mean the printing?\n\nAnyway, is this related with this ticket?",
    "created_at": "2017-11-17T09:03:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334974",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:16'></a>> 3. Did you notice the asymetry of categories
> 
> ```
> sage: E = GF(16)
> sage: F = GF(4)
> sage: V = VectorSpace(F, 4)
> Set of Morphisms (Linear Transformations)
> from Vector space of dimension 2 over Finite Field in z2 of size 2^2
> to Finite Field in z4 of size 2^4
> sage: Hom(E,V)
> Set of Morphisms
> from Finite Field in z4 of size 2^4
> to Vector space of dimension 2 over Finite Field in z2 of size 2^2
> in Category of finite enumerated additive commutative additive groups
> ```


No. This looks ugly. 

What do mean by "asymmetry of categories"? I get

```
sage: category(Hom(E,V))
Category of homsets of additive monoids
sage: category(Hom(V,E))
Category of homsets of additive monoids
```
Do you mean the printing?

Anyway, is this related with this ticket?



---

archive/issue_comments_334975.json:
```json
{
    "body": "<a id='comment:18'></a>Replying to [comment:15 vdelecroix]:\n> I do. Let me say what I imagine when I read each class name\n> - `FiniteFieldIsomorphism` : an isomorphism between two finite fields\n> - `FiniteFieldLinearTransformation`: a linear map between two finite fields\n\n\nI understand your concern. But just `LinearTransformation` is also misleading because these maps are vector space *isomorphisms*. But I will not insist. This is not a big deal to me.\n\n> As you can see, `sage/rings/number_field/maps.py` implements the conversion from the domain to the image in their `_call_` method. This is what I proposed in the end of the point 2 in [This is the Trac macro *comment:12* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#comment:12-macro). So I would better go for this option.\n> \n> Now, if you don't like moving the implementation of `for_V` and `to_V` as a `_call_` method of the linear isomorphisms classes you should just make the `_repr_` method more configurable. No need to make a new class.\n\n\nI doubt that I understand your suggestions well. It seems that you have a clear view of how to code the maps. So I invite you to modify the branch (now public) as you prefer. I am quite willing to accept your modifications as long as Sage gets a working `E.vector_space(F)` method :-)",
    "created_at": "2017-11-17T14:50:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334975",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:18'></a>Replying to [comment:15 vdelecroix]:
> I do. Let me say what I imagine when I read each class name
> - `FiniteFieldIsomorphism` : an isomorphism between two finite fields
> - `FiniteFieldLinearTransformation`: a linear map between two finite fields


I understand your concern. But just `LinearTransformation` is also misleading because these maps are vector space *isomorphisms*. But I will not insist. This is not a big deal to me.

> As you can see, `sage/rings/number_field/maps.py` implements the conversion from the domain to the image in their `_call_` method. This is what I proposed in the end of the point 2 in [This is the Trac macro *comment:12* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#comment:12-macro). So I would better go for this option.
> 
> Now, if you don't like moving the implementation of `for_V` and `to_V` as a `_call_` method of the linear isomorphisms classes you should just make the `_repr_` method more configurable. No need to make a new class.


I doubt that I understand your suggestions well. It seems that you have a clear view of how to code the maps. So I invite you to modify the branch (now public) as you prefer. I am quite willing to accept your modifications as long as Sage gets a working `E.vector_space(F)` method :-)



---

archive/issue_comments_334976.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [comment:18 klee]:\n> Replying to [comment:15 vdelecroix]:\n> > I do. Let me say what I imagine when I read each class name\n> > - `FiniteFieldIsomorphism` : an isomorphism between two finite fields\n> > - `FiniteFieldLinearTransformation`: a linear map between two finite fields\n\n> \n> I understand your concern. But just `LinearTransformation` is also misleading because these maps are vector space *isomorphisms*. But I will not insist. This is not a big deal to me.\n\n\nIndeed, they are *vector space* isomorphisms ;-)\n\n> > As you can see, `sage/rings/number_field/maps.py` implements the conversion from the domain to the image in their `_call_` method. This is what I proposed in the end of the point 2 in [This is the Trac macro *comment:12* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#comment:12-macro). So I would better go for this option.\n> > \n> > Now, if you don't like moving the implementation of `for_V` and `to_V` as a `_call_` method of the linear isomorphisms classes you should just make the `_repr_` method more configurable. No need to make a new class.\n\n> \n> I doubt that I understand your suggestions well. It seems that you have a clear view of how to code the maps. So I invite you to modify the branch (now public) as you prefer. I am quite willing to accept your modifications as long as Sage gets a working `E.vector_space(F)` method :-) \n\n\nI am trying something.",
    "created_at": "2017-11-17T16:46:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334976",
    "user": "https://github.com/videlec"
}
```

<a id='comment:19'></a>Replying to [comment:18 klee]:
> Replying to [comment:15 vdelecroix]:
> > I do. Let me say what I imagine when I read each class name
> > - `FiniteFieldIsomorphism` : an isomorphism between two finite fields
> > - `FiniteFieldLinearTransformation`: a linear map between two finite fields

> 
> I understand your concern. But just `LinearTransformation` is also misleading because these maps are vector space *isomorphisms*. But I will not insist. This is not a big deal to me.


Indeed, they are *vector space* isomorphisms ;-)

> > As you can see, `sage/rings/number_field/maps.py` implements the conversion from the domain to the image in their `_call_` method. This is what I proposed in the end of the point 2 in [This is the Trac macro *comment:12* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#comment:12-macro). So I would better go for this option.
> > 
> > Now, if you don't like moving the implementation of `for_V` and `to_V` as a `_call_` method of the linear isomorphisms classes you should just make the `_repr_` method more configurable. No need to make a new class.

> 
> I doubt that I understand your suggestions well. It seems that you have a clear view of how to code the maps. So I invite you to modify the branch (now public) as you prefer. I am quite willing to accept your modifications as long as Sage gets a working `E.vector_space(F)` method :-) 


I am trying something.



---

archive/issue_comments_334977.json:
```json
{
    "body": "<a id='comment:20'></a>I implemented what I proposed (and also squashed your commits into one).\n\nFor the sake of this ticket there are several things to be fixed\n\n1. The code does not work with\n\n```\nsage: F = GF(9)\nsage: x = polygen(F)\nsage: E.<y> = F.extension(x^3 - x + 1)\nsage: E.vector_space(F)\nTraceback (most recent call last):\n...\nAttributeError: 'PolynomialQuotientRing_field_with_category' object has no attribute 'vector_space'\n```\n\n2. There are no examples involving a custom field such as `F = GF(9, 't', modulus=(x^2+x-1))`\n\n3. It would be better to not impose the subfield to have a coercion implemented. I would propose to allow to pass a morphism as argument to vector space instead of a subfield. (as you wish that could be a double use of `subfield` or an extra argument `inclusion_map`).\n\n4. The example `E = GF(16)` and  `F = GF(4)` is by far too trivial. In this case you have `V = GF(p<sup>n)</sup>m` with the same n and m.\n  \n---\nNew commits:",
    "created_at": "2017-11-18T17:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334977",
    "user": "https://github.com/videlec"
}
```

<a id='comment:20'></a>I implemented what I proposed (and also squashed your commits into one).

For the sake of this ticket there are several things to be fixed

1. The code does not work with

```
sage: F = GF(9)
sage: x = polygen(F)
sage: E.<y> = F.extension(x^3 - x + 1)
sage: E.vector_space(F)
Traceback (most recent call last):
...
AttributeError: 'PolynomialQuotientRing_field_with_category' object has no attribute 'vector_space'
```

2. There are no examples involving a custom field such as `F = GF(9, 't', modulus=(x^2+x-1))`

3. It would be better to not impose the subfield to have a coercion implemented. I would propose to allow to pass a morphism as argument to vector space instead of a subfield. (as you wish that could be a double use of `subfield` or an extra argument `inclusion_map`).

4. The example `E = GF(16)` and  `F = GF(4)` is by far too trivial. In this case you have `V = GF(p<sup>n)</sup>m` with the same n and m.
  
---
New commits:



---

archive/issue_comments_334978.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [comment:20 vdelecroix]:\n> I implemented what I proposed (and also squashed your commits into one).\n> \n> For the sake of this ticket there are several things to be fixed\n> \n> 1. The code does not work with\n> \n> ```\n> sage: F = GF(9)\n> sage: x = polygen(F)\n> sage: E.<y> = F.extension(x^3 - x + 1)\n> sage: E.vector_space(F)\n> Traceback (most recent call last):\n> ...\n> AttributeError: 'PolynomialQuotientRing_field_with_category' object has no attribute 'vector_space'\n> ```\n> \n> 2. There are no examples involving a custom field such as `F = GF(9, 't', modulus=(x^2+x-1))`\n\n\nRight. These \"finite fields\" are actually `PolynomialQuotientRing_field`. They are second citizen in terms of functionality as finite fields. My opinion is that finite fields defined with custom modulus should be reimplemented to be elevated to the first class citizen, and the current `PolynomialQuotientRing_field` is just a patch work.\n\nAnyway this ticket (or at least me) does not deal with `PolynomialQuotientRing_field`.",
    "created_at": "2017-11-19T03:42:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334978",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:21'></a>Replying to [comment:20 vdelecroix]:
> I implemented what I proposed (and also squashed your commits into one).
> 
> For the sake of this ticket there are several things to be fixed
> 
> 1. The code does not work with
> 
> ```
> sage: F = GF(9)
> sage: x = polygen(F)
> sage: E.<y> = F.extension(x^3 - x + 1)
> sage: E.vector_space(F)
> Traceback (most recent call last):
> ...
> AttributeError: 'PolynomialQuotientRing_field_with_category' object has no attribute 'vector_space'
> ```
> 
> 2. There are no examples involving a custom field such as `F = GF(9, 't', modulus=(x^2+x-1))`


Right. These "finite fields" are actually `PolynomialQuotientRing_field`. They are second citizen in terms of functionality as finite fields. My opinion is that finite fields defined with custom modulus should be reimplemented to be elevated to the first class citizen, and the current `PolynomialQuotientRing_field` is just a patch work.

Anyway this ticket (or at least me) does not deal with `PolynomialQuotientRing_field`.



---

archive/issue_comments_334979.json:
```json
{
    "body": "<a id='comment:22'></a>Replying to [comment:21 klee]:\n> Replying to [comment:20 vdelecroix]:\n> > I implemented what I proposed (and also squashed your commits into one).\n> > \n> > For the sake of this ticket there are several things to be fixed\n> > \n> > 1. The code does not work with\n> > \n> > ```\n> > sage: F = GF(9)\n> > sage: x = polygen(F)\n> > sage: E.<y> = F.extension(x^3 - x + 1)\n> > sage: E.vector_space(F)\n> > Traceback (most recent call last):\n> > ...\n> > AttributeError: 'PolynomialQuotientRing_field_with_category' object has no attribute 'vector_space'\n> > ```\n> > \n> > 2. There are no examples involving a custom field such as `F = GF(9, 't', modulus=(x^2+x-1))`\n  \n> \n> Right. These \"finite fields\" are actually `PolynomialQuotientRing_field`. They are second citizen in terms of functionality as finite fields. My opinion is that finite fields defined with custom modulus should be reimplemented to be elevated to the first class citizen, and the current `PolynomialQuotientRing_field` is just a patch work.\n> \n> Anyway this ticket (or at least me) does not deal with `PolynomialQuotientRing_field`.\n\n\nSecond example is not\n\n```\nsage: F = GF(9, 't', modulus=(x^2+x-1))\nsage: type(F)\n<class 'sage.rings.finite_rings.finite_field_givaro.FiniteField_givaro_with_category'>\n```",
    "created_at": "2017-11-19T11:00:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334979",
    "user": "https://github.com/videlec"
}
```

<a id='comment:22'></a>Replying to [comment:21 klee]:
> Replying to [comment:20 vdelecroix]:
> > I implemented what I proposed (and also squashed your commits into one).
> > 
> > For the sake of this ticket there are several things to be fixed
> > 
> > 1. The code does not work with
> > 
> > ```
> > sage: F = GF(9)
> > sage: x = polygen(F)
> > sage: E.<y> = F.extension(x^3 - x + 1)
> > sage: E.vector_space(F)
> > Traceback (most recent call last):
> > ...
> > AttributeError: 'PolynomialQuotientRing_field_with_category' object has no attribute 'vector_space'
> > ```
> > 
> > 2. There are no examples involving a custom field such as `F = GF(9, 't', modulus=(x^2+x-1))`
  
> 
> Right. These "finite fields" are actually `PolynomialQuotientRing_field`. They are second citizen in terms of functionality as finite fields. My opinion is that finite fields defined with custom modulus should be reimplemented to be elevated to the first class citizen, and the current `PolynomialQuotientRing_field` is just a patch work.
> 
> Anyway this ticket (or at least me) does not deal with `PolynomialQuotientRing_field`.


Second example is not

```
sage: F = GF(9, 't', modulus=(x^2+x-1))
sage: type(F)
<class 'sage.rings.finite_rings.finite_field_givaro.FiniteField_givaro_with_category'>
```



---

archive/issue_comments_334980.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-19T15:14:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334980",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_334981.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-11-20T02:15:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334981",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_334982.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:20 vdelecroix]:\n> I implemented what I proposed \n\n\nWould you explain why this is necessary? As far as I understand, `C` is just constructed and mutable, and this code will make a duplicate copy of `C`. Why don't we just keep the original `C`?\n\n```\n+        if C.is_mutable():\n+            C = C.__copy__()\n+            C.set_immutable()\n```",
    "created_at": "2017-11-24T04:59:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334982",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:25'></a>Replying to [comment:20 vdelecroix]:
> I implemented what I proposed 


Would you explain why this is necessary? As far as I understand, `C` is just constructed and mutable, and this code will make a duplicate copy of `C`. Why don't we just keep the original `C`?

```
+        if C.is_mutable():
+            C = C.__copy__()
+            C.set_immutable()
```



---

archive/issue_comments_334983.json:
```json
{
    "body": "<a id='comment:26'></a>Replying to [comment:25 klee]:\n> Replying to [comment:20 vdelecroix]:\n> > I implemented what I proposed \n\n> \n> Would you explain why this is necessary? As far as I understand, `C` is just constructed and mutable, and this code will make a duplicate copy of `C`. Why don't we just keep the original `C`?\n> \n> \n> ```\n> +        if C.is_mutable():\n> +            C = C.__copy__()\n> +            C.set_immutable()\n> ```\n\n\nThe original `C` is kept if it is immutable which is the way to go from the point of view of the constructor. If you want to avoid the copy in your function, make the matrix argument immutable first...",
    "created_at": "2017-11-24T11:21:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334983",
    "user": "https://github.com/videlec"
}
```

<a id='comment:26'></a>Replying to [comment:25 klee]:
> Replying to [comment:20 vdelecroix]:
> > I implemented what I proposed 

> 
> Would you explain why this is necessary? As far as I understand, `C` is just constructed and mutable, and this code will make a duplicate copy of `C`. Why don't we just keep the original `C`?
> 
> 
> ```
> +        if C.is_mutable():
> +            C = C.__copy__()
> +            C.set_immutable()
> ```


The original `C` is kept if it is immutable which is the way to go from the point of view of the constructor. If you want to avoid the copy in your function, make the matrix argument immutable first...



---

archive/issue_comments_334984.json:
```json
{
    "body": "<a id='comment:27'></a>Replying to [comment:26 vdelecroix]:\n> Replying to [comment:25 klee]:\n> > Replying to [comment:20 vdelecroix]:\n> > > I implemented what I proposed \n\n> > \n> > Would you explain why this is necessary? As far as I understand, `C` is just constructed and mutable, and this code will make a duplicate copy of `C`. Why don't we just keep the original `C`?\n> > \n> > \n> > ```\n> > +        if C.is_mutable():\n> > +            C = C.__copy__()\n> > +            C.set_immutable()\n> > ```\n\n> \n> The original `C` is kept if it is immutable which is the way to go from the point of view of the constructor. If you want to avoid the copy in your function, make the matrix argument immutable first...\n\n\nI know that by reading your code. From my point of view, the classes are only for `vector_space()` method or at least used only internally. Then I wonder why we worry that `C` could be mutable and that `C` could be changed after the object was constructed (which seems the situation that you worry about). In other words, I doubt that your code above could be useful really, unless you convince me...\n\nIs your code just a common idiom in Sage when an argument for a constructor is a matrix, which could be mutable (so that the code is required as a convention)?",
    "created_at": "2017-11-24T13:53:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334984",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:27'></a>Replying to [comment:26 vdelecroix]:
> Replying to [comment:25 klee]:
> > Replying to [comment:20 vdelecroix]:
> > > I implemented what I proposed 

> > 
> > Would you explain why this is necessary? As far as I understand, `C` is just constructed and mutable, and this code will make a duplicate copy of `C`. Why don't we just keep the original `C`?
> > 
> > 
> > ```
> > +        if C.is_mutable():
> > +            C = C.__copy__()
> > +            C.set_immutable()
> > ```

> 
> The original `C` is kept if it is immutable which is the way to go from the point of view of the constructor. If you want to avoid the copy in your function, make the matrix argument immutable first...


I know that by reading your code. From my point of view, the classes are only for `vector_space()` method or at least used only internally. Then I wonder why we worry that `C` could be mutable and that `C` could be changed after the object was constructed (which seems the situation that you worry about). In other words, I doubt that your code above could be useful really, unless you convince me...

Is your code just a common idiom in Sage when an argument for a constructor is a matrix, which could be mutable (so that the code is required as a convention)?



---

archive/issue_comments_334985.json:
```json
{
    "body": "<a id='comment:28'></a>Replying to [comment:27 klee]:\n> Replying to [comment:26 vdelecroix]:\n> > Replying to [comment:25 klee]:\n> > > Replying to [comment:20 vdelecroix]:\n> > > > I implemented what I proposed \n\n> > > \n> > > Would you explain why this is necessary? As far as I understand, `C` is just constructed and mutable, and this code will make a duplicate copy of `C`. Why don't we just keep the original `C`?\n> > > \n> > > \n> > > ```\n> > > +        if C.is_mutable():\n> > > +            C = C.__copy__()\n> > > +            C.set_immutable()\n> > > ```\n\n> > \n> > The original `C` is kept if it is immutable which is the way to go from the point of view of the constructor. If you want to avoid the copy in your function, make the matrix argument immutable first...\n\n> \n> I know that by reading your code. From my point of view, the classes are only for `vector_space()` method or at least used only internally. Then I wonder why we worry that `C` could be mutable and that `C` could be changed after the object was constructed (which seems the situation that you worry about). In other words, I doubt that your code above could be useful really, unless you convince me...\n> \n> Is your code just a common idiom in Sage when an argument for a constructor is a matrix, which could be mutable (so that the code is required as a convention)?\n\n\nFor now, the class is only built with `vector_space` but nobody knows the future. If you feel better with\n\n```\nassert C.is_immutable()\n```\nIt is also fine for me.",
    "created_at": "2017-11-24T14:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334985",
    "user": "https://github.com/videlec"
}
```

<a id='comment:28'></a>Replying to [comment:27 klee]:
> Replying to [comment:26 vdelecroix]:
> > Replying to [comment:25 klee]:
> > > Replying to [comment:20 vdelecroix]:
> > > > I implemented what I proposed 

> > > 
> > > Would you explain why this is necessary? As far as I understand, `C` is just constructed and mutable, and this code will make a duplicate copy of `C`. Why don't we just keep the original `C`?
> > > 
> > > 
> > > ```
> > > +        if C.is_mutable():
> > > +            C = C.__copy__()
> > > +            C.set_immutable()
> > > ```

> > 
> > The original `C` is kept if it is immutable which is the way to go from the point of view of the constructor. If you want to avoid the copy in your function, make the matrix argument immutable first...

> 
> I know that by reading your code. From my point of view, the classes are only for `vector_space()` method or at least used only internally. Then I wonder why we worry that `C` could be mutable and that `C` could be changed after the object was constructed (which seems the situation that you worry about). In other words, I doubt that your code above could be useful really, unless you convince me...
> 
> Is your code just a common idiom in Sage when an argument for a constructor is a matrix, which could be mutable (so that the code is required as a convention)?


For now, the class is only built with `vector_space` but nobody knows the future. If you feel better with

```
assert C.is_immutable()
```
It is also fine for me.



---

archive/issue_comments_334986.json:
```json
{
    "body": "<a id='comment:29'></a>Replying to [comment:28 vdelecroix]:\n> For now, the class is only built with `vector_space` but nobody knows the future. \n\n\nOk. I see your motivation now. Then I would set the matrix `C` immutable in `vector_sapce` to prevent the copying. \n\nWhat other issues do you have for this ticket? Are you ok with `FiniteFieldVectorSpaceIsomorphism`?",
    "created_at": "2017-11-24T15:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334986",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:29'></a>Replying to [comment:28 vdelecroix]:
> For now, the class is only built with `vector_space` but nobody knows the future. 


Ok. I see your motivation now. Then I would set the matrix `C` immutable in `vector_sapce` to prevent the copying. 

What other issues do you have for this ticket? Are you ok with `FiniteFieldVectorSpaceIsomorphism`?



---

archive/issue_comments_334987.json:
```json
{
    "body": "<a id='comment:30'></a>Currently `inclusion_map` argument is redundant. I may delete it if you agree.",
    "created_at": "2017-11-24T15:34:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334987",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:30'></a>Currently `inclusion_map` argument is redundant. I may delete it if you agree.



---

archive/issue_comments_334988.json:
```json
{
    "body": "<a id='comment:31'></a>Replying to [comment:29 klee]:\n> Replying to [comment:28 vdelecroix]:\n> > For now, the class is only built with `vector_space` but nobody knows the future. \n\n> \n> Ok. I see your motivation now. Then I would set the matrix `C` immutable in `vector_sapce` to prevent the copying. \n> \n> What other issues do you have for this ticket?\n\n\nI left a stupid comment\n\n```\n# from_V\n# needs C\n```\nin `maps_finite_field.py`\n\nIf this ticket is duplicating some features of what used to be implemented in linear code, then some appropriate deprecation has to be done (possibly in later ticket but please do create them)\n\n> Are you ok with `FiniteFieldVectorSpaceIsomorphism`?\n\n\nI am.",
    "created_at": "2017-11-24T15:35:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334988",
    "user": "https://github.com/videlec"
}
```

<a id='comment:31'></a>Replying to [comment:29 klee]:
> Replying to [comment:28 vdelecroix]:
> > For now, the class is only built with `vector_space` but nobody knows the future. 

> 
> Ok. I see your motivation now. Then I would set the matrix `C` immutable in `vector_sapce` to prevent the copying. 
> 
> What other issues do you have for this ticket?


I left a stupid comment

```
# from_V
# needs C
```
in `maps_finite_field.py`

If this ticket is duplicating some features of what used to be implemented in linear code, then some appropriate deprecation has to be done (possibly in later ticket but please do create them)

> Are you ok with `FiniteFieldVectorSpaceIsomorphism`?


I am.



---

archive/issue_comments_334989.json:
```json
{
    "body": "<a id='comment:32'></a>Replying to [comment:30 klee]:\n> Currently `inclusion_map` argument is redundant. I may delete it if you agree. \n\n\nRedundant with what?",
    "created_at": "2017-11-24T15:36:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334989",
    "user": "https://github.com/videlec"
}
```

<a id='comment:32'></a>Replying to [comment:30 klee]:
> Currently `inclusion_map` argument is redundant. I may delete it if you agree. 


Redundant with what?



---

archive/issue_comments_334990.json:
```json
{
    "body": "<a id='comment:33'></a>Replying to [comment:32 vdelecroix]:\n> Replying to [comment:30 klee]:\n> > Currently `inclusion_map` argument is redundant. I may delete it if you agree. \n\n> \n> Redundant with what?\n\n\n`subfield` argument can take a morphism.",
    "created_at": "2017-11-24T15:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334990",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:33'></a>Replying to [comment:32 vdelecroix]:
> Replying to [comment:30 klee]:
> > Currently `inclusion_map` argument is redundant. I may delete it if you agree. 

> 
> Redundant with what?


`subfield` argument can take a morphism.



---

archive/issue_comments_334991.json:
```json
{
    "body": "<a id='comment:34'></a>Replying to [comment:33 klee]:\n> Replying to [comment:32 vdelecroix]:\n> > Replying to [comment:30 klee]:\n> > > Currently `inclusion_map` argument is redundant. I may delete it if you agree. \n\n> > \n> > Redundant with what?\n\n> \n> `subfield` argument can take a morphism.\n\n\nHa ok. Very good.",
    "created_at": "2017-11-24T15:37:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334991",
    "user": "https://github.com/videlec"
}
```

<a id='comment:34'></a>Replying to [comment:33 klee]:
> Replying to [comment:32 vdelecroix]:
> > Replying to [comment:30 klee]:
> > > Currently `inclusion_map` argument is redundant. I may delete it if you agree. 

> > 
> > Redundant with what?

> 
> `subfield` argument can take a morphism.


Ha ok. Very good.



---

archive/issue_comments_334992.json:
```json
{
    "body": "<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-24T16:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334992",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_334993.json:
```json
{
    "body": "<a id='comment:36'></a>Replying to [comment:31 vdelecroix]:\n> If this ticket is duplicating some features of what used to be implemented in linear code, then some appropriate deprecation has to be done (possibly in later ticket but please do create them)\n\n\nRight. First we need some discussion. See #24279.",
    "created_at": "2017-11-24T16:27:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334993",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:36'></a>Replying to [comment:31 vdelecroix]:
> If this ticket is duplicating some features of what used to be implemented in linear code, then some appropriate deprecation has to be done (possibly in later ticket but please do create them)


Right. First we need some discussion. See #24279.



---

archive/issue_comments_334994.json:
```json
{
    "body": "<a id='comment:37'></a>By the way, I am positive on Vincent's part of the code.",
    "created_at": "2017-11-25T01:34:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334994",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:37'></a>By the way, I am positive on Vincent's part of the code.



---

archive/issue_comments_334995.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-11-25T11:43:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334995",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_334996.json:
```json
{
    "body": "<a id='comment:38'></a>Let's go then.",
    "created_at": "2017-11-25T11:43:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334996",
    "user": "https://github.com/videlec"
}
```

<a id='comment:38'></a>Let's go then.



---

archive/issue_events_061287.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-11-25T11:43:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24170#event-61287"
}
```



---

archive/issue_comments_334997.json:
```json
{
    "body": "<a id='comment:39'></a>Replying to [comment:38 vdelecroix]:\n> Let's go then.\n\n\nThank you. The branch is way better than it originally was :-)",
    "created_at": "2017-11-25T12:10:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334997",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:39'></a>Replying to [comment:38 vdelecroix]:
> Let's go then.


Thank you. The branch is way better than it originally was :-)



---

archive/issue_events_061288.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-12-14T12:40:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24170#event-61288"
}
```



---

archive/issue_comments_334998.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-12-14T12:40:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24170#issuecomment-334998",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
