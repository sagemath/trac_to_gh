# Issue 24661: fix arb problems on 32-bit systems

archive/issues_024424.json:
```json
{
    "assignees": [],
    "body": "This is a follow-up to #24369, as reported there in comment 7, \non 32-bit x86 linux one gets\n\n```\nl_vec_hurwitz....\n L value differ\nL(1/2, 1) single = (0 + 0j)  +/-  (0, 0j)\nL(1/2, 1) multi = (-0.30909754859579756426 + 0j)  +/-  (2.54e-23, 0j)\n\n(-0.3090975486 + 0j)  +/-  (2.54e-23, 0j)\n(0.7888523833 - 0.1836680212j)  +/-  (2.02e-23, 1.54e-23j)\n(0.4432168971 - 0.236477911j)  +/-  (1.99e-23, 1.32e-23j)\n(1.648021942 + 0.03777565741j)  +/-  (1.55e-23, 8.22e-24j)\n(0.6185977148 + 0.146695673j)  +/-  (2.08e-23, 1.32e-23j)\n(0.5039871966 - 0.8215955013j)  +/-  (2.02e-23, 1.71e-23j)\n(0.750432146 + 0j)  +/-  (2.54e-23, 0j)\n(0.5039871966 + 0.8215955013j)  +/-  (2.02e-23, 1.71e-23j)\n(0.6185977148 - 0.146695673j)  +/-  (2.08e-23, 1.32e-23j)\n(1.648021942 - 0.03777565741j)  +/-  (1.55e-23, 8.22e-24j)\n(0.4432168971 + 0.236477911j)  +/-  (1.99e-23, 1.32e-23j)\n(0.7888523833 + 0.1836680212j)  +/-  (2.02e-23, 1.54e-23j)\n\n\n../Makefile.subdirs:84: recipe for target '../build/acb_dirichlet/test/t-l_vec_hurwitz_RUN' failed\n```\n\nDepends on #24369\n\nCC:  @slel tmonteil\n\nKeywords: **sdl**\n\nReviewer: **Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24661_\n\n",
    "closed_at": "2019-08-28T19:01:46Z",
    "created_at": "2018-02-05T17:48:12Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "fix arb problems on 32-bit systems",
    "type": "issue",
    "updated_at": "2019-08-28T19:01:46Z",
    "url": "https://github.com/sagemath/sage/issues/24661",
    "user": "https://github.com/dimpase"
}
```
This is a follow-up to #24369, as reported there in comment 7, 
on 32-bit x86 linux one gets

```
l_vec_hurwitz....
 L value differ
L(1/2, 1) single = (0 + 0j)  +/-  (0, 0j)
L(1/2, 1) multi = (-0.30909754859579756426 + 0j)  +/-  (2.54e-23, 0j)

(-0.3090975486 + 0j)  +/-  (2.54e-23, 0j)
(0.7888523833 - 0.1836680212j)  +/-  (2.02e-23, 1.54e-23j)
(0.4432168971 - 0.236477911j)  +/-  (1.99e-23, 1.32e-23j)
(1.648021942 + 0.03777565741j)  +/-  (1.55e-23, 8.22e-24j)
(0.6185977148 + 0.146695673j)  +/-  (2.08e-23, 1.32e-23j)
(0.5039871966 - 0.8215955013j)  +/-  (2.02e-23, 1.71e-23j)
(0.750432146 + 0j)  +/-  (2.54e-23, 0j)
(0.5039871966 + 0.8215955013j)  +/-  (2.02e-23, 1.71e-23j)
(0.6185977148 - 0.146695673j)  +/-  (2.08e-23, 1.32e-23j)
(1.648021942 - 0.03777565741j)  +/-  (1.55e-23, 8.22e-24j)
(0.4432168971 + 0.236477911j)  +/-  (1.99e-23, 1.32e-23j)
(0.7888523833 + 0.1836680212j)  +/-  (2.02e-23, 1.54e-23j)


../Makefile.subdirs:84: recipe for target '../build/acb_dirichlet/test/t-l_vec_hurwitz_RUN' failed
```

Depends on #24369

CC:  @slel tmonteil

Keywords: **sdl**

Reviewer: **Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/24661_





---

archive/issue_events_323433.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-02-05T17:48:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24661#event-323433"
}
```



---

archive/issue_events_323434.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-02-05T17:48:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24661#event-323434"
}
```



---

archive/issue_events_323435.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-02-05T17:48:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24661#event-323435"
}
```



---

archive/issue_events_323436.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-02-05T17:48:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24661#event-323436"
}
```



---

archive/issue_comments_377235.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nProbably fixed in this commit (bug in the test code); needs to be checked on a 32-bit system:\n\nhttps://github.com/fredrik-johansson/arb/commit/15f40f7f467644564aad6d02be9335655f86c1da",
    "created_at": "2018-02-10T23:28:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24661#issuecomment-377235",
    "user": "https://github.com/fredrik-johansson"
}
```

<a id='comment:2'>Comment 2:</a>
Probably fixed in this commit (bug in the test code); needs to be checked on a 32-bit system:

https://github.com/fredrik-johansson/arb/commit/15f40f7f467644564aad6d02be9335655f86c1da



---

archive/issue_comments_377236.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nOK i am currently testing the current master branch on my 32bit VM.",
    "created_at": "2018-02-10T23:41:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24661#issuecomment-377236",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:3'>Comment 3:</a>
OK i am currently testing the current master branch on my 32bit VM.



---

archive/issue_comments_377237.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nafter many PASSed tests I got\n\n```\nmake[1]: Entering directory `/home/dima/sage/arb/mag'\nadd....PASS\nneg_log_lower....../build/mag/test/t-neg_log_lower: symbol lookup error: ../build/mag/test/t-neg_log_lower: undefined symbol: mag_neg_log_lower\nmake[1]: *** [../build/mag/test/t-neg_log_lower_RUN] Error 127\nmake[1]: Leaving directory `/home/dima/sage/arb/mag'\nmake: *** [check] Error 2\n```\nwhich is probably some other story.",
    "created_at": "2018-02-10T23:55:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24661#issuecomment-377237",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'>Comment 4:</a>
after many PASSed tests I got

```
make[1]: Entering directory `/home/dima/sage/arb/mag'
add....PASS
neg_log_lower....../build/mag/test/t-neg_log_lower: symbol lookup error: ../build/mag/test/t-neg_log_lower: undefined symbol: mag_neg_log_lower
make[1]: *** [../build/mag/test/t-neg_log_lower_RUN] Error 127
make[1]: Leaving directory `/home/dima/sage/arb/mag'
make: *** [check] Error 2
```
which is probably some other story.



---

archive/issue_comments_377238.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nIt works well for me (tests just finished). Note that i tried to reproduce Sage build with \n\n```\n./configure --disable-static --with-flint=../sage-8.1/local/ --with-gmp=../sage-8.1/local/ --with-mpfr=../sage-8.1/local/\n```",
    "created_at": "2018-02-11T00:09:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24661#issuecomment-377238",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:5'>Comment 5:</a>
It works well for me (tests just finished). Note that i tried to reproduce Sage build with 

```
./configure --disable-static --with-flint=../sage-8.1/local/ --with-gmp=../sage-8.1/local/ --with-mpfr=../sage-8.1/local/
```



---

archive/issue_comments_377239.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nReplying to [@dimpase](#comment%3A4):\n> after many PASSed tests I got\n> \n> ```\n> make[1]: Entering directory `/home/dima/sage/arb/mag'\n> add....PASS\n> neg_log_lower....../build/mag/test/t-neg_log_lower: symbol lookup error: ../build/mag/test/t-neg_log_lower: undefined symbol: mag_neg_log_lower\n> make[1]: *** [../build/mag/test/t-neg_log_lower_RUN] Error 127\n> make[1]: Leaving directory `/home/dima/sage/arb/mag'\n> make: *** [check] Error 2\n> ```\n> which is probably some other story.\n\noops, it works - I had dirty LD_LIBRARY_PATH that pointed to an old arb...\nSo it's all good (on my \"real\" 32-bit box).",
    "created_at": "2018-02-11T00:47:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24661#issuecomment-377239",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'>Comment 6:</a>
Replying to [@dimpase](#comment%3A4):
> after many PASSed tests I got
> 
> ```
> make[1]: Entering directory `/home/dima/sage/arb/mag'
> add....PASS
> neg_log_lower....../build/mag/test/t-neg_log_lower: symbol lookup error: ../build/mag/test/t-neg_log_lower: undefined symbol: mag_neg_log_lower
> make[1]: *** [../build/mag/test/t-neg_log_lower_RUN] Error 127
> make[1]: Leaving directory `/home/dima/sage/arb/mag'
> make: *** [check] Error 2
> ```
> which is probably some other story.

oops, it works - I had dirty LD_LIBRARY_PATH that pointed to an old arb...
So it's all good (on my "real" 32-bit box).



---

archive/issue_comments_377240.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nCan this be closed?",
    "created_at": "2019-03-08T02:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24661#issuecomment-377240",
    "user": "https://github.com/slel"
}
```

<a id='comment:7'>Comment 7:</a>
Can this be closed?



---

archive/issue_events_323437.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-03-08T02:20:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24661#event-323437"
}
```



---

archive/issue_events_323438.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-03-08T02:20:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24661#event-323438"
}
```



---

archive/issue_events_323439.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-03-08T02:20:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24661#event-323439"
}
```



---

archive/issue_comments_377241.json:
```json
{
    "body": "Changed keywords from **** to **sdl**",
    "created_at": "2019-08-27T19:49:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24661#issuecomment-377241",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed keywords from **** to **sdl**



---

archive/issue_events_323440.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-08-27T20:36:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24661#event-323440"
}
```



---

archive/issue_events_323441.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-08-27T20:36:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24661#event-323441"
}
```



---

archive/issue_events_323442.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-08-27T20:36:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24661#event-323442"
}
```



---

archive/issue_comments_377242.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2019-08-27T20:36:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24661#issuecomment-377242",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_323443.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-08-28T19:01:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24661#event-323443"
}
```



---

archive/issue_events_323444.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-08-28T19:01:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24661",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24661#event-323444"
}
```
