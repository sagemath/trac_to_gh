# Issue 24658: Don't call Maxima with no-variable symbolic relation tests

archive/issues_024421.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nIn the case a relation without variables is to be decided, the procedure is to use Pynac, then RIF and, if it cannot be decided, Maxima. This is fine with expressions containing variables as Maxima can do some proofs. Expressions without variables are handled poorly as the example shows:\n\n```\nsage: val = pi - 2286635172367940241408/1029347477390786609545*sqrt(2)\nsage: bool(val>0)\nTrue\n\n(%i2) is (%pi-(1116521080257783321*2^(23/2))/1029347477390786609545>0);\n(%o2)                                true\n```\n\nThis ticket changes the procedure to no longer try the unreliable Maxima after RIF has failed in a relation without variables. It will just return False.\n\nCC:  @simon-king-jena\n\nComponent: **symbolics**\n\nAuthor: **Ralf Stephan**\n\nBranch/Commit: **[`e78e84b`](https://github.com/sagemath/sagetrac-mirror/commit/e78e84bfcd13292e30969c2be007e71337810c87)**\n\nReviewer: **Simon King, Matthias Koeppe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24658_\n\n",
    "closed_at": "2020-08-20T22:23:28Z",
    "created_at": "2018-02-05T07:36:58Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Don't call Maxima with no-variable symbolic relation tests",
    "type": "issue",
    "updated_at": "2020-08-20T22:23:28Z",
    "url": "https://github.com/sagemath/sage/issues/24658",
    "user": "https://github.com/rwst"
}
```
<div id="comment:0"></div>

In the case a relation without variables is to be decided, the procedure is to use Pynac, then RIF and, if it cannot be decided, Maxima. This is fine with expressions containing variables as Maxima can do some proofs. Expressions without variables are handled poorly as the example shows:

```
sage: val = pi - 2286635172367940241408/1029347477390786609545*sqrt(2)
sage: bool(val>0)
True

(%i2) is (%pi-(1116521080257783321*2^(23/2))/1029347477390786609545>0);
(%o2)                                true
```

This ticket changes the procedure to no longer try the unreliable Maxima after RIF has failed in a relation without variables. It will just return False.

CC:  @simon-king-jena

Component: **symbolics**

Author: **Ralf Stephan**

Branch/Commit: **[`e78e84b`](https://github.com/sagemath/sagetrac-mirror/commit/e78e84bfcd13292e30969c2be007e71337810c87)**

Reviewer: **Simon King, Matthias Koeppe**

_Issue created by migration from https://trac.sagemath.org/ticket/24658_





---

archive/issue_events_338486.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-02-05T07:36:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338486"
}
```



---

archive/issue_events_338487.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-02-05T07:36:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "c: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338487"
}
```



---

archive/issue_events_338488.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-02-05T07:36:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338488"
}
```



---

archive/issue_events_338489.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-02-05T07:36:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338489"
}
```



---

archive/issue_comments_374404.json:
```json
{
    "body": "Branch: **[u/rws/don_t_call_maxima_with_no_variable_symbolic_relation_tests](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/don_t_call_maxima_with_no_variable_symbolic_relation_tests)**",
    "created_at": "2018-02-05T08:00:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374404",
    "user": "https://github.com/rwst"
}
```

Branch: **[u/rws/don_t_call_maxima_with_no_variable_symbolic_relation_tests](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/don_t_call_maxima_with_no_variable_symbolic_relation_tests)**



---

archive/issue_comments_374405.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a29d407464bbff73b3de64b2f4e2d4f90b6d8f4\"><code>0a29d40</code></a></td><td><code>24658: Don't call Maxima with no-variable symbolic relation tests</code></td></tr></table>\n",
    "created_at": "2018-02-05T08:00:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374405",
    "user": "https://github.com/rwst"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a29d407464bbff73b3de64b2f4e2d4f90b6d8f4"><code>0a29d40</code></a></td><td><code>24658: Don't call Maxima with no-variable symbolic relation tests</code></td></tr></table>




---

archive/issue_events_338490.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-02-05T08:00:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338490"
}
```



---

archive/issue_comments_374406.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,4 +9,4 @@\n (%o2)                                true\n ```\n \n-This ticket changes the procedure to no longer try the unreliable Maxima after RIF has failed in a relation without variables. It will just return Unknown.\n+This ticket changes the procedure to no longer try the unreliable Maxima after RIF has failed in a relation without variables. It will just return False.\n``````\n",
    "created_at": "2018-02-05T08:00:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374406",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,4 +9,4 @@
 (%o2)                                true
 ```
 
-This ticket changes the procedure to no longer try the unreliable Maxima after RIF has failed in a relation without variables. It will just return Unknown.
+This ticket changes the procedure to no longer try the unreliable Maxima after RIF has failed in a relation without variables. It will just return False.
``````




---

archive/issue_comments_374407.json:
```json
{
    "body": "Commit: **[`0a29d40`](https://github.com/sagemath/sagetrac-mirror/commit/0a29d407464bbff73b3de64b2f4e2d4f90b6d8f4)**",
    "created_at": "2018-02-05T08:00:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374407",
    "user": "https://github.com/rwst"
}
```

Commit: **[`0a29d40`](https://github.com/sagemath/sagetrac-mirror/commit/0a29d407464bbff73b3de64b2f4e2d4f90b6d8f4)**



---

archive/issue_comments_374408.json:
```json
{
    "body": "Author: **Ralf Stephan**",
    "created_at": "2018-02-05T09:41:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374408",
    "user": "https://github.com/rwst"
}
```

Author: **Ralf Stephan**



---

archive/issue_comments_374409.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIt should be easy to review (after all, it is just working around a short-coming of maxima), and to me it looks good. However, I do not feel particularly confident about symbolic expressions (which I normally try to avoid by all means).\n\nAlso, I wonder about that change:\n\n```diff\ndiff --git a/src/sage/symbolic/expression.pyx b/src/sage/symbolic/expression.pyx\nindex 7130898..0f943d9 100644\n--- a/src/sage/symbolic/expression.pyx\n+++ b/src/sage/symbolic/expression.pyx\n@@ -2612,7 +2612,7 @@ cdef class Expression(CommutativeRingElement):\n         The :meth:`~sage.structure.element.Element.is_zero` method\n         is more capable::\n \n-            sage: t = pi + (pi - 1)*pi - pi^2\n+            sage: t = pi + x*pi + (pi - 1 - x)*pi - pi^2\n             sage: t.is_trivial_zero()\n             False\n             sage: t.is_zero()\n```\nWhy did you change it? Apparently in order to have a variable in it. So, without the variable, `t.is_trivial_zero()` would return `True`, right? Which somehow makes sense, actually. I believe one should retain *both* tests, to show-case that Sage can now detect some more expressions which **are** trivially zero.",
    "created_at": "2018-02-05T09:51:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374409",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:5" align="right">comment:5</div>

It should be easy to review (after all, it is just working around a short-coming of maxima), and to me it looks good. However, I do not feel particularly confident about symbolic expressions (which I normally try to avoid by all means).

Also, I wonder about that change:

```diff
diff --git a/src/sage/symbolic/expression.pyx b/src/sage/symbolic/expression.pyx
index 7130898..0f943d9 100644
--- a/src/sage/symbolic/expression.pyx
+++ b/src/sage/symbolic/expression.pyx
@@ -2612,7 +2612,7 @@ cdef class Expression(CommutativeRingElement):
         The :meth:`~sage.structure.element.Element.is_zero` method
         is more capable::
 
-            sage: t = pi + (pi - 1)*pi - pi^2
+            sage: t = pi + x*pi + (pi - 1 - x)*pi - pi^2
             sage: t.is_trivial_zero()
             False
             sage: t.is_zero()
```
Why did you change it? Apparently in order to have a variable in it. So, without the variable, `t.is_trivial_zero()` would return `True`, right? Which somehow makes sense, actually. I believe one should retain *both* tests, to show-case that Sage can now detect some more expressions which **are** trivially zero.



---

archive/issue_comments_374410.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nPS: Also I think that in the new test `val = pi - 2286635172367940241408/1029347477390786609545*sqrt(2)` (which actually comes out of Ramanujan's formula for pi) the ticket number should be mentioned.",
    "created_at": "2018-02-05T09:54:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374410",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:6" align="right">comment:6</div>

PS: Also I think that in the new test `val = pi - 2286635172367940241408/1029347477390786609545*sqrt(2)` (which actually comes out of Ramanujan's formula for pi) the ticket number should be mentioned.



---

archive/issue_comments_374411.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@simon-king-jena](#comment%3A5):\n> Also, I wonder about that change:\n> \n> ```diff\n> diff --git a/src/sage/symbolic/expression.pyx b/src/sage/symbolic/expression.pyx\n> index 7130898..0f943d9 100644\n> --- a/src/sage/symbolic/expression.pyx\n> +++ b/src/sage/symbolic/expression.pyx\n> @@ -2612,7 +2612,7 @@ cdef class Expression(CommutativeRingElement):\n>          The :meth:`~sage.structure.element.Element.is_zero` method\n>          is more capable::\n>  \n> -            sage: t = pi + (pi - 1)*pi - pi^2\n> +            sage: t = pi + x*pi + (pi - 1 - x)*pi - pi^2\n>              sage: t.is_trivial_zero()\n>              False\n>              sage: t.is_zero()\n> ```\n> Why did you change it?\n\nBecause getting what we want (avoid Maxima numeric) and keeping the doctest would need more involved code, basically checking if there are constants, if so substituting them for variables, and then calling Maxima with that. Note that the changed result is not wrong so I'll add it again.",
    "created_at": "2018-02-05T10:00:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374411",
    "user": "https://github.com/rwst"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@simon-king-jena](#comment%3A5):
> Also, I wonder about that change:
> 
> ```diff
> diff --git a/src/sage/symbolic/expression.pyx b/src/sage/symbolic/expression.pyx
> index 7130898..0f943d9 100644
> --- a/src/sage/symbolic/expression.pyx
> +++ b/src/sage/symbolic/expression.pyx
> @@ -2612,7 +2612,7 @@ cdef class Expression(CommutativeRingElement):
>          The :meth:`~sage.structure.element.Element.is_zero` method
>          is more capable::
>  
> -            sage: t = pi + (pi - 1)*pi - pi^2
> +            sage: t = pi + x*pi + (pi - 1 - x)*pi - pi^2
>              sage: t.is_trivial_zero()
>              False
>              sage: t.is_zero()
> ```
> Why did you change it?

Because getting what we want (avoid Maxima numeric) and keeping the doctest would need more involved code, basically checking if there are constants, if so substituting them for variables, and then calling Maxima with that. Note that the changed result is not wrong so I'll add it again.



---

archive/issue_comments_374412.json:
```json
{
    "body": "Changed commit from **[`0a29d40`](https://github.com/sagemath/sagetrac-mirror/commit/0a29d407464bbff73b3de64b2f4e2d4f90b6d8f4)** to **[`17827ea`](https://github.com/sagemath/sagetrac-mirror/commit/17827ea66659d4bf15bcd20c47b1f92d7c1e7418)**",
    "created_at": "2018-02-05T10:14:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374412",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0a29d40`](https://github.com/sagemath/sagetrac-mirror/commit/0a29d407464bbff73b3de64b2f4e2d4f90b6d8f4)** to **[`17827ea`](https://github.com/sagemath/sagetrac-mirror/commit/17827ea66659d4bf15bcd20c47b1f92d7c1e7418)**



---

archive/issue_comments_374413.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17827ea66659d4bf15bcd20c47b1f92d7c1e7418\"><code>17827ea</code></a></td><td><code>24658: address reviewer's comments</code></td></tr></table>\n",
    "created_at": "2018-02-05T10:14:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374413",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17827ea66659d4bf15bcd20c47b1f92d7c1e7418"><code>17827ea</code></a></td><td><code>24658: address reviewer's comments</code></td></tr></table>




---

archive/issue_comments_374414.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@simon-king-jena](#comment%3A5):\n> So, without the variable, `t.is_trivial_zero()` would return `True`, right? Which somehow makes sense, actually. I believe one should retain *both* tests, to show-case that Sage can now detect some more expressions which **are** trivially zero.\n\nNo `is_trivial_zero` test for trivial zero, i.e., `0`.",
    "created_at": "2018-02-05T10:16:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374414",
    "user": "https://github.com/rwst"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@simon-king-jena](#comment%3A5):
> So, without the variable, `t.is_trivial_zero()` would return `True`, right? Which somehow makes sense, actually. I believe one should retain *both* tests, to show-case that Sage can now detect some more expressions which **are** trivially zero.

No `is_trivial_zero` test for trivial zero, i.e., `0`.



---

archive/issue_comments_374415.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nHm. `(pi + (pi - 1)*pi - pi^2).is_zero()` returning False goes to far, IMHO.\n\nIf I understand correctly, the underlying bug is in Maxima's test for positivity/negativity. Is there a corresponding bug in Maxima's test for being zero as well? If it isn't, then I guess one should return to using Maxima for `is_zero`.",
    "created_at": "2018-02-05T10:26:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374415",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:10" align="right">comment:10</div>

Hm. `(pi + (pi - 1)*pi - pi^2).is_zero()` returning False goes to far, IMHO.

If I understand correctly, the underlying bug is in Maxima's test for positivity/negativity. Is there a corresponding bug in Maxima's test for being zero as well? If it isn't, then I guess one should return to using Maxima for `is_zero`.



---

archive/issue_comments_374416.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nOr, alternatively, `is_zero()` (but not `is_trivial_zero()`) should be cleverer in using RIF:\n\n```\nsage: RIF(pi + (pi - 1)*pi - pi^2)>0\nFalse\nsage: RIF(pi + (pi - 1)*pi - pi^2)<0\nFalse\nsage: RIF(pi + (pi - 1)*pi - pi^2)==0\nFalse\nsage: RIF(pi + (pi - 1)*pi - pi^2).is_NaN()\nFalse\n```\n\nThus, we have a real **number** (it is not !NaN) that is neither positive nor negative, and thus it would make sense to treat it as zero, although RIF is careful enough to not assert that it actually *is* zero.\n\nOr prepend it by a simplification?\n\n```\nsage: RIF((pi + (pi - 1)*pi - pi^2).simplify_full()).is_zero()\nTrue\n```\n\nAfter all, presumably `is_zero()` is supposed to invest more work into testing than `is_trivial_zero()`.",
    "created_at": "2018-02-05T10:32:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374416",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:11" align="right">comment:11</div>

Or, alternatively, `is_zero()` (but not `is_trivial_zero()`) should be cleverer in using RIF:

```
sage: RIF(pi + (pi - 1)*pi - pi^2)>0
False
sage: RIF(pi + (pi - 1)*pi - pi^2)<0
False
sage: RIF(pi + (pi - 1)*pi - pi^2)==0
False
sage: RIF(pi + (pi - 1)*pi - pi^2).is_NaN()
False
```

Thus, we have a real **number** (it is not !NaN) that is neither positive nor negative, and thus it would make sense to treat it as zero, although RIF is careful enough to not assert that it actually *is* zero.

Or prepend it by a simplification?

```
sage: RIF((pi + (pi - 1)*pi - pi^2).simplify_full()).is_zero()
True
```

After all, presumably `is_zero()` is supposed to invest more work into testing than `is_trivial_zero()`.



---

archive/issue_comments_374417.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@simon-king-jena](#comment%3A11):\n> Thus, we have a real **number** (it is not !NaN) that is neither positive nor negative, and thus it would make sense to treat it as zero, although RIF is careful enough to not assert that it actually *is* zero.\n\nYour own example (`val`) above would then be treated as zero too.\n\n> Or prepend it by a simplification?\n\nThat is probably best. One can always construct cases that need long time like `((pi+1)^10000 - pi*(pi+1)^9999 - (pi+1)^9999).simplify_full()`.",
    "created_at": "2018-02-05T13:52:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374417",
    "user": "https://github.com/rwst"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@simon-king-jena](#comment%3A11):
> Thus, we have a real **number** (it is not !NaN) that is neither positive nor negative, and thus it would make sense to treat it as zero, although RIF is careful enough to not assert that it actually *is* zero.

Your own example (`val`) above would then be treated as zero too.

> Or prepend it by a simplification?

That is probably best. One can always construct cases that need long time like `((pi+1)^10000 - pi*(pi+1)^9999 - (pi+1)^9999).simplify_full()`.



---

archive/issue_comments_374418.json:
```json
{
    "body": "Changed commit from **[`17827ea`](https://github.com/sagemath/sagetrac-mirror/commit/17827ea66659d4bf15bcd20c47b1f92d7c1e7418)** to **[`590600b`](https://github.com/sagemath/sagetrac-mirror/commit/590600b9723c2cc8d8b985097725854cb486390a)**",
    "created_at": "2018-02-05T14:18:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374418",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`17827ea`](https://github.com/sagemath/sagetrac-mirror/commit/17827ea66659d4bf15bcd20c47b1f92d7c1e7418)** to **[`590600b`](https://github.com/sagemath/sagetrac-mirror/commit/590600b9723c2cc8d8b985097725854cb486390a)**



---

archive/issue_comments_374419.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/590600b9723c2cc8d8b985097725854cb486390a\"><code>590600b</code></a></td><td><code>24658: if test_relation fails try again simplified</code></td></tr></table>\n",
    "created_at": "2018-02-05T14:18:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374419",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/590600b9723c2cc8d8b985097725854cb486390a"><code>590600b</code></a></td><td><code>24658: if test_relation fails try again simplified</code></td></tr></table>




---

archive/issue_comments_374420.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nOK, this looks fine in symbolics, there may be failing doctests elsewhere.",
    "created_at": "2018-02-05T14:21:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374420",
    "user": "https://github.com/rwst"
}
```

<div id="comment:14" align="right">comment:14</div>

OK, this looks fine in symbolics, there may be failing doctests elsewhere.



---

archive/issue_comments_374421.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThere is a doctest in manifolds that relies on `-arctanh(1/2) + 1/2*log(3) == 0`. That should be resolved by implementing more special values for `atanh`. Surprise, I thought we had them all.",
    "created_at": "2018-02-05T14:46:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374421",
    "user": "https://github.com/rwst"
}
```

<div id="comment:15" align="right">comment:15</div>

There is a doctest in manifolds that relies on `-arctanh(1/2) + 1/2*log(3) == 0`. That should be resolved by implementing more special values for `atanh`. Surprise, I thought we had them all.



---

archive/issue_comments_374422.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nMaxima cannot simplify `arctanh(1/2) - 1/2*log(3)`. The question is do we formulate the doctest differently, or do we implement rewrite of inverse hyperbolic expressions, e.g. for integer and rational number arguments, either immediately or inside `simplify_full`.",
    "created_at": "2018-02-05T14:56:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374422",
    "user": "https://github.com/rwst"
}
```

<div id="comment:16" align="right">comment:16</div>

Maxima cannot simplify `arctanh(1/2) - 1/2*log(3)`. The question is do we formulate the doctest differently, or do we implement rewrite of inverse hyperbolic expressions, e.g. for integer and rational number arguments, either immediately or inside `simplify_full`.



---

archive/issue_comments_374423.json:
```json
{
    "body": "Dependencies: **#24668**",
    "created_at": "2018-02-06T09:23:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374423",
    "user": "https://github.com/rwst"
}
```

Dependencies: **#24668**



---

archive/issue_comments_374424.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThe new Pynac has the atanh simpifications and so we depend on that upgrade to fix the manifolds doctest fail.",
    "created_at": "2018-02-06T09:23:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374424",
    "user": "https://github.com/rwst"
}
```

<div id="comment:17" align="right">comment:17</div>

The new Pynac has the atanh simpifications and so we depend on that upgrade to fix the manifolds doctest fail.



---

archive/issue_comments_374425.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThis one is serious because it does happen only when doctesting, and `bool(SR(...))` does not seem to be involved directly.\n\n```\nFile \"src/sage/structure/parent.pyx\", line 1514, in sage.structure.parent.Parent.hom._is_coercion_cached\nFailed example:\n    R._is_coercion_cached(QQ)\nExpected:\n    False\nGot:\n    True\n```\nIt goes away if I replace `QQ` with `QQbar`. I think that the coercion cache is not really erased with creation of a new parent, and the additional call to `test_relation` in this ticket fills it with something. There are doctest calls to `bool(SR(...))` that happen before that doctest in `parent.pyx`, let's see...",
    "created_at": "2018-02-06T15:22:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374425",
    "user": "https://github.com/rwst"
}
```

<div id="comment:18" align="right">comment:18</div>

This one is serious because it does happen only when doctesting, and `bool(SR(...))` does not seem to be involved directly.

```
File "src/sage/structure/parent.pyx", line 1514, in sage.structure.parent.Parent.hom._is_coercion_cached
Failed example:
    R._is_coercion_cached(QQ)
Expected:
    False
Got:
    True
```
It goes away if I replace `QQ` with `QQbar`. I think that the coercion cache is not really erased with creation of a new parent, and the additional call to `test_relation` in this ticket fills it with something. There are doctest calls to `bool(SR(...))` that happen before that doctest in `parent.pyx`, let's see...



---

archive/issue_comments_374426.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nGot it, it comes from the doctest `sqrt(2) in CC` in line 1051 of `pynac.pyx`. How can I turn off that it influences the doctest in line 1514?",
    "created_at": "2018-02-06T15:29:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374426",
    "user": "https://github.com/rwst"
}
```

<div id="comment:19" align="right">comment:19</div>

Got it, it comes from the doctest `sqrt(2) in CC` in line 1051 of `pynac.pyx`. How can I turn off that it influences the doctest in line 1514?



---

archive/issue_comments_374427.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@rwst](#comment%3A19):\n> Got it, it comes from the doctest `sqrt(2) in CC` in line 1051 of `parent.pyx`. How can I turn off that it influences the doctest in line 1514?",
    "created_at": "2018-02-06T15:31:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374427",
    "user": "https://github.com/rwst"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@rwst](#comment%3A19):
> Got it, it comes from the doctest `sqrt(2) in CC` in line 1051 of `parent.pyx`. How can I turn off that it influences the doctest in line 1514?



---

archive/issue_comments_374428.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI meant to write `parent.pyx`.",
    "created_at": "2018-02-06T15:32:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374428",
    "user": "https://github.com/rwst"
}
```

<div id="comment:21" align="right">comment:21</div>

I meant to write `parent.pyx`.



---

archive/issue_comments_374429.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@rwst](#comment%3A18):\n> This one is serious because it does happen only when doctesting, and `bool(SR(...))` does not seem to be involved directly.\n> \n> ```\n> File \"src/sage/structure/parent.pyx\", line 1514, in sage.structure.parent.Parent.hom._is_coercion_cached\n> Failed example:\n>     R._is_coercion_cached(QQ)\n> Expected:\n>     False\n> Got:\n>     True\n> ```\n\n`._is_coercion_cached()` is related with `self._coerce_from_hash`. I think it would be a good idea to create a single underscore method that allows to clear `self._coerce_from_hash` and `self._convert_from_hash`. Proposed name: `_clear_coerce_caches`.\n\nFor sanity, I think it would make sense to open a separate ticket for it, which I will do in a few minutes. Then, you can use the new ticket as a dependency and add a `._clear_coerce_caches()` in front of any test that requires a pristine state of the coercion cache.",
    "created_at": "2018-02-06T15:58:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374429",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@rwst](#comment%3A18):
> This one is serious because it does happen only when doctesting, and `bool(SR(...))` does not seem to be involved directly.
> 
> ```
> File "src/sage/structure/parent.pyx", line 1514, in sage.structure.parent.Parent.hom._is_coercion_cached
> Failed example:
>     R._is_coercion_cached(QQ)
> Expected:
>     False
> Got:
>     True
> ```

`._is_coercion_cached()` is related with `self._coerce_from_hash`. I think it would be a good idea to create a single underscore method that allows to clear `self._coerce_from_hash` and `self._convert_from_hash`. Proposed name: `_clear_coerce_caches`.

For sanity, I think it would make sense to open a separate ticket for it, which I will do in a few minutes. Then, you can use the new ticket as a dependency and add a `._clear_coerce_caches()` in front of any test that requires a pristine state of the coercion cache.



---

archive/issue_comments_374430.json:
```json
{
    "body": "Changed dependencies from **#24668** to **#24668 #24673**",
    "created_at": "2018-02-06T16:03:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374430",
    "user": "https://github.com/simon-king-jena"
}
```

Changed dependencies from **#24668** to **#24668 #24673**



---

archive/issue_comments_374431.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nAha, I just found that `Parent.init_coerce(False)` would do the job. However, it is a cdef method and hence cannot be directly called.",
    "created_at": "2018-02-06T16:10:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374431",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:24" align="right">comment:24</div>

Aha, I just found that `Parent.init_coerce(False)` would do the job. However, it is a cdef method and hence cannot be directly called.



---

archive/issue_comments_374432.json:
```json
{
    "body": "Changed branch from **[u/rws/don_t_call_maxima_with_no_variable_symbolic_relation_tests](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/don_t_call_maxima_with_no_variable_symbolic_relation_tests)** to **[u/rws/24658](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24658)**",
    "created_at": "2018-02-07T07:28:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374432",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/rws/don_t_call_maxima_with_no_variable_symbolic_relation_tests](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/don_t_call_maxima_with_no_variable_symbolic_relation_tests)** to **[u/rws/24658](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24658)**



---

archive/issue_comments_374433.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nIf you rely on patchbots for review the pynac upgrade needs to be merged by the maintainer first.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5b3de4f629e0c1c66489c63d2fba4b5cb30f94a\"><code>f5b3de4</code></a></td><td><code>24668: version/chzksum</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67f9ddc48ffe5258b610e1af60ef0ca9fcb7c3db\"><code>67f9ddc</code></a></td><td><code>24668: doctest fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7e68c7434425b3da8f3ca3bb9670dd61649da7d\"><code>e7e68c7</code></a></td><td><code>Add method to remove some coercions/conversions from cache</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd359c307f19d5f61699539c3c94ae75679e7841\"><code>cd359c3</code></a></td><td><code>Merge branch 'u/SimonKing/add_a_method_to_clear_coercion_caches_of_a_parent' of git://trac.sagemath.org/sage into tmp16</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ee9478981db55dac989e1e2a434dc957da838a4\"><code>0ee9478</code></a></td><td><code>Merge branch 'u/rws/don_t_call_maxima_with_no_variable_symbolic_relation_tests' of git://trac.sagemath.org/sage into tmp16</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e78e84bfcd13292e30969c2be007e71337810c87\"><code>e78e84b</code></a></td><td><code>24658: doctest fixes</code></td></tr></table>\n",
    "created_at": "2018-02-07T07:30:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374433",
    "user": "https://github.com/rwst"
}
```

<div id="comment:26" align="right">comment:26</div>

If you rely on patchbots for review the pynac upgrade needs to be merged by the maintainer first.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5b3de4f629e0c1c66489c63d2fba4b5cb30f94a"><code>f5b3de4</code></a></td><td><code>24668: version/chzksum</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67f9ddc48ffe5258b610e1af60ef0ca9fcb7c3db"><code>67f9ddc</code></a></td><td><code>24668: doctest fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7e68c7434425b3da8f3ca3bb9670dd61649da7d"><code>e7e68c7</code></a></td><td><code>Add method to remove some coercions/conversions from cache</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd359c307f19d5f61699539c3c94ae75679e7841"><code>cd359c3</code></a></td><td><code>Merge branch 'u/SimonKing/add_a_method_to_clear_coercion_caches_of_a_parent' of git://trac.sagemath.org/sage into tmp16</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ee9478981db55dac989e1e2a434dc957da838a4"><code>0ee9478</code></a></td><td><code>Merge branch 'u/rws/don_t_call_maxima_with_no_variable_symbolic_relation_tests' of git://trac.sagemath.org/sage into tmp16</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e78e84bfcd13292e30969c2be007e71337810c87"><code>e78e84b</code></a></td><td><code>24658: doctest fixes</code></td></tr></table>




---

archive/issue_comments_374434.json:
```json
{
    "body": "Changed commit from **[`590600b`](https://github.com/sagemath/sagetrac-mirror/commit/590600b9723c2cc8d8b985097725854cb486390a)** to **[`e78e84b`](https://github.com/sagemath/sagetrac-mirror/commit/e78e84bfcd13292e30969c2be007e71337810c87)**",
    "created_at": "2018-02-07T07:30:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374434",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[`590600b`](https://github.com/sagemath/sagetrac-mirror/commit/590600b9723c2cc8d8b985097725854cb486390a)** to **[`e78e84b`](https://github.com/sagemath/sagetrac-mirror/commit/e78e84bfcd13292e30969c2be007e71337810c87)**



---

archive/issue_comments_374435.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nThe manifolds test passes now so we trigger the sleeping patchbots.",
    "created_at": "2018-02-19T07:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374435",
    "user": "https://github.com/rwst"
}
```

<div id="comment:27" align="right">comment:27</div>

The manifolds test passes now so we trigger the sleeping patchbots.



---

archive/issue_events_338491.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-02-19T07:35:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338491"
}
```



---

archive/issue_events_338492.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-02-19T07:35:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338492"
}
```



---

archive/issue_events_338493.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-02-19T07:35:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338493"
}
```



---

archive/issue_events_338494.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-02-19T07:35:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338494"
}
```



---

archive/issue_events_338495.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-02-24T20:04:46Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338495"
}
```



---

archive/issue_events_338496.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-02-24T20:04:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338496"
}
```



---

archive/issue_comments_374436.json:
```json
{
    "body": "Changed dependencies from **#24668 #24673** to none",
    "created_at": "2019-02-24T20:04:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374436",
    "user": "https://github.com/fchapoton"
}
```

Changed dependencies from **#24668 #24673** to none



---

archive/issue_comments_374437.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374437",
    "user": "https://github.com/embray"
}
```

<div id="comment:30" align="right">comment:30</div>

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_events_338497.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338497"
}
```



---

archive/issue_events_338498.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338498"
}
```



---

archive/issue_comments_374438.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nMoving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).",
    "created_at": "2019-07-03T11:37:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374438",
    "user": "https://github.com/embray"
}
```

<div id="comment:31" align="right">comment:31</div>

Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).



---

archive/issue_events_338499.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338499"
}
```



---

archive/issue_events_338500.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338500"
}
```



---

archive/issue_comments_374439.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374439",
    "user": "https://github.com/embray"
}
```

<div id="comment:32" align="right">comment:32</div>

Ticket retargeted after milestone closed



---

archive/issue_events_338501.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338501"
}
```



---

archive/issue_events_338502.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338502"
}
```



---

archive/issue_events_338503.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338503"
}
```



---

archive/issue_events_338504.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338504"
}
```



---

archive/issue_comments_374440.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nMoving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.",
    "created_at": "2020-05-01T04:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374440",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:33" align="right">comment:33</div>

Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.



---

archive/issue_events_338505.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-15T21:43:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338505"
}
```



---

archive/issue_events_338506.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-15T21:43:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338506"
}
```



---

archive/issue_comments_374441.json:
```json
{
    "body": "Reviewer: **Simon King, Matthias Koeppe**",
    "created_at": "2020-08-15T21:43:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374441",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Simon King, Matthias Koeppe**



---

archive/issue_comments_374442.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nThis is a clear improvement.",
    "created_at": "2020-08-15T21:43:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374442",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:34" align="right">comment:34</div>

This is a clear improvement.



---

archive/issue_comments_374443.json:
```json
{
    "body": "Changed branch from **[u/rws/24658](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24658)** to **[`e78e84b`](https://github.com/sagemath/sagetrac-mirror/commit/e78e84bfcd13292e30969c2be007e71337810c87)**",
    "created_at": "2020-08-20T22:23:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24658#issuecomment-374443",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/rws/24658](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/24658)** to **[`e78e84b`](https://github.com/sagemath/sagetrac-mirror/commit/e78e84bfcd13292e30969c2be007e71337810c87)**



---

archive/issue_events_338507.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-20T22:23:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338507"
}
```



---

archive/issue_events_338508.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "765827bdea09c42ea36cb4337f3e41feae7084e5",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-08-20T22:23:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24658",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24658#event-338508"
}
```
