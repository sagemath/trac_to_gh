# Issue 24570: py3: using the new tags py3 and py2 in some rst files

archive/issues_024333.json:
```json
{
    "assignees": [],
    "body": "replacing the former \"optional - py2\" used there.\n\nCC:  @jdemeyer @tscrim @kiwifb @embray\n\nComponent: **python3**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nBranch/Commit: **[`1aa0545`](https://github.com/sagemath/sagetrac-mirror/commit/1aa054511b865a961036251b5cc76870d3f41ee8)**\n\nReviewer: **Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24570_\n\n",
    "closed_at": "2018-01-27T15:59:47Z",
    "created_at": "2018-01-19T15:15:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: using the new tags py3 and py2 in some rst files",
    "type": "issue",
    "updated_at": "2018-01-27T15:59:47Z",
    "url": "https://github.com/sagemath/sage/issues/24570",
    "user": "https://github.com/fchapoton"
}
```
replacing the former "optional - py2" used there.

CC:  @jdemeyer @tscrim @kiwifb @embray

Component: **python3**

Author: **Frédéric Chapoton**

Branch/Commit: **[`1aa0545`](https://github.com/sagemath/sagetrac-mirror/commit/1aa054511b865a961036251b5cc76870d3f41ee8)**

Reviewer: **Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/24570_





---

archive/issue_events_337360.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-19T15:15:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24570#event-337360"
}
```



---

archive/issue_events_337361.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-19T15:15:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "0000b0",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24570#event-337361"
}
```



---

archive/issue_events_337362.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-19T15:15:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24570#event-337362"
}
```



---

archive/issue_events_337363.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-19T15:15:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24570#event-337363"
}
```



---

archive/issue_comments_372105.json:
```json
{
    "body": "Commit: **[`1aa0545`](https://github.com/sagemath/sagetrac-mirror/commit/1aa054511b865a961036251b5cc76870d3f41ee8)**",
    "created_at": "2018-01-19T15:16:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24570#issuecomment-372105",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`1aa0545`](https://github.com/sagemath/sagetrac-mirror/commit/1aa054511b865a961036251b5cc76870d3f41ee8)**



---

archive/issue_comments_372106.json:
```json
{
    "body": "Branch: **[u/chapoton/24570](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/24570)**",
    "created_at": "2018-01-19T15:16:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24570#issuecomment-372106",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/24570](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/24570)**



---

archive/issue_events_337364.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-19T15:16:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24570#event-337364"
}
```



---

archive/issue_comments_372107.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1aa054511b865a961036251b5cc76870d3f41ee8\"><code>1aa0545</code></a></td><td><code>py3: using the new tags py2 and py3 in the rst files</code></td></tr></table>\n",
    "created_at": "2018-01-19T15:16:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24570#issuecomment-372107",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1aa054511b865a961036251b5cc76870d3f41ee8"><code>1aa0545</code></a></td><td><code>py3: using the new tags py2 and py3 in the rst files</code></td></tr></table>




---

archive/issue_comments_372108.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI wonder if we can somehow make the documentation builder actually omit the `#py2` or `#py3` lines depending on which python the docs are being built against. Or if that's even really desirable.",
    "created_at": "2018-01-19T16:20:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24570#issuecomment-372108",
    "user": "https://github.com/embray"
}
```

<div id="comment:2" align="right">comment:2</div>

I wonder if we can somehow make the documentation builder actually omit the `#py2` or `#py3` lines depending on which python the docs are being built against. Or if that's even really desirable.



---

archive/issue_comments_372109.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nErik, this is a bit frustrating that you alone have a branch where you can launch doctests in python3.\n\nHow far are we from having vanilla sage build and start with python3 ? I think after #24223, we will be very close but not quite there. In my opinion, we should aim to reach that state as soon as possible. And the next step would be to be able to use \"sage -t\" in vanilla sage+py3.",
    "created_at": "2018-01-19T16:28:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24570#issuecomment-372109",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">comment:3</div>

Erik, this is a bit frustrating that you alone have a branch where you can launch doctests in python3.

How far are we from having vanilla sage build and start with python3 ? I think after #24223, we will be very close but not quite there. In my opinion, we should aim to reach that state as soon as possible. And the next step would be to be able to use "sage -t" in vanilla sage+py3.



---

archive/issue_comments_372110.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nbot is morally green",
    "created_at": "2018-01-19T20:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24570#issuecomment-372110",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>

bot is morally green



---

archive/issue_comments_372111.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nping ?",
    "created_at": "2018-01-22T09:46:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24570#issuecomment-372111",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">comment:5</div>

ping ?



---

archive/issue_comments_372112.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@fchapoton](#comment%3A3):\n> Erik, this is a bit frustrating that you alone have a branch where you can launch doctests in python3.\n\nI don't think that's true. I'm sure I've pointed you to #24343 which has the fixes necessary for the doctest runner to work, at least I think.  You can always merge that in to your local branch and try it--I'd assumed you already have been.",
    "created_at": "2018-01-22T13:19:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24570#issuecomment-372112",
    "user": "https://github.com/embray"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@fchapoton](#comment%3A3):
> Erik, this is a bit frustrating that you alone have a branch where you can launch doctests in python3.

I don't think that's true. I'm sure I've pointed you to #24343 which has the fixes necessary for the doctest runner to work, at least I think.  You can always merge that in to your local branch and try it--I'd assumed you already have been.



---

archive/issue_comments_372113.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\ncould please somebody review this very easy ticket ?",
    "created_at": "2018-01-23T13:31:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24570#issuecomment-372113",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">comment:7</div>

could please somebody review this very easy ticket ?



---

archive/issue_events_337365.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-23T15:46:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24570#event-337365"
}
```



---

archive/issue_events_337366.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-23T15:46:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24570#event-337366"
}
```



---

archive/issue_comments_372114.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2018-01-23T15:46:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24570#issuecomment-372114",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_337367.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-01-27T15:59:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24570#event-337367"
}
```



---

archive/issue_events_337368.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "9396336c09abd2ef92955c7275104aae277ebce5",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-01-27T15:59:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24570#event-337368"
}
```



---

archive/issue_comments_372115.json:
```json
{
    "body": "Changed branch from **[u/chapoton/24570](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/24570)** to **[`1aa0545`](https://github.com/sagemath/sagetrac-mirror/commit/1aa054511b865a961036251b5cc76870d3f41ee8)**",
    "created_at": "2018-01-27T15:59:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24570#issuecomment-372115",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/24570](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/24570)** to **[`1aa0545`](https://github.com/sagemath/sagetrac-mirror/commit/1aa054511b865a961036251b5cc76870d3f41ee8)**
