# Issue 24623: Euclidean spaces and vector calculus

archive/issues_024386.json:
```json
{
    "body": "This ticket implements Euclidean spaces as Riemannian manifolds diffeomorphic to **R**<sup>n</sup> and equipped with a flat metric, which defines the Euclidean dot product. Using the operators introduced in #24622, this provides the standard operators of vector calculus: dot product, norm, cross product, gradient, divergence, curl and Laplacian, along with the standard coordinate systems (Cartesian, spherical, cylindrical, etc.).\n\nSee this [ask.sagemath question](https://ask.sagemath.org/question/40792/div-grad-and-curl-once-again/) for a motivation, as well as this [one](https://ask.sagemath.org/question/41898/).\n\nThe implementation is performed via the parent class `EuclideanSpace`, which inherits from `PseudoRiemannianManifold` (introduced in #24622). Two subclasses are devoted to specific cases: \n- `EuclideanPlane` for n=2\n- `Euclidean3dimSpace` for n=3\nThe user interface for constructing an Euclidean space relies on the `EuclideanSpace.__classcall_private__` to direct to the appropriate subclass.\n\nThe implementation through the manifold framework allows for an easy use of various coordinate systems, along with the related transformations. However, the user interface does not assume any knowledge of Riemannian geometry. In particular, no direct manipulation of the metric tensor is required. \n\nA minimal example is\n\n```\nsage: E.<x,y,z> = EuclideanSpace(3)\nsage: v = E.vector_field(-y, x, 0)\nsage: v.display()\n-y e_x + x e_y\nsage: v[:]\n[-y, x, 0]\nsage: w = v.curl()\nsage: w.display()\n2 e_z\nsage: w[:]\n[0, 0, 2]\n```\nThe transformation to spherical coordinates:\n\n```\nsage: spherical.<r,th,ph> = E.spherical_coordinates()\nsage: spherical_frame = E.spherical_frame()  # orthonormal frame (e_r, e_th, e_ph)\nsage: v.display(spherical_frame)\nsqrt(x^2 + y^2) e_ph\nsage: v.display(spherical_frame, spherical)\nr*sin(th) e_ph\nsage: v[spherical_frame, :, spherical]\n[0, 0, r*sin(th)]\nsage: w.display(spherical_frame, spherical)\n2*cos(th) e_r - 2*sin(th) e_th\nsage: w[spherical_frame, :, spherical]\n[2*cos(th), -2*sin(th), 0]\n```\n\nMore detailed examples are in the following Jupyter notebooks:\n\n- [vector calculus in Cartesian coordinates](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_cartesian.ipynb)\n- [vector calculus in spherical coordinates](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_spherical.ipynb)\n- [vector calculus in cylindrical coordinates](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_cylindrical.ipynb)\n- [changing coordinates in the Euclidean 3-space](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_change.ipynb)\n- [Advanced aspects: Euclidean spaces as Riemannian manifolds](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_advanced.ipynb)\n- [the Euclidean plane](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/Euclidean_plane.ipynb)\n\nThis work is part of the [SageManifolds project](http://sagemanifolds.obspm.fr/), see #18528 for an overview.\n\n**CC:**  tmonteil\n\n**Keywords:** Euclidean space, vector calculus, gradient, divergence, curl, Laplacian\n\n**Branch:** [220726c07bc00ba69b12a5cc7dc9499d930f1e8c](https://github.com/sagemath/sagetrac-mirror/commit/220726c07bc00ba69b12a5cc7dc9499d930f1e8c)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Eric Gourgoulhon\n\n**Dependencies:** #24622, #24792\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24623\n\n",
    "closed_at": "2018-05-08T17:26:32Z",
    "created_at": "2018-01-31T10:08:34Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "Euclidean spaces and vector calculus",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24623",
    "user": "https://github.com/egourgoulhon"
}
```
This ticket implements Euclidean spaces as Riemannian manifolds diffeomorphic to **R**<sup>n</sup> and equipped with a flat metric, which defines the Euclidean dot product. Using the operators introduced in #24622, this provides the standard operators of vector calculus: dot product, norm, cross product, gradient, divergence, curl and Laplacian, along with the standard coordinate systems (Cartesian, spherical, cylindrical, etc.).

See this [ask.sagemath question](https://ask.sagemath.org/question/40792/div-grad-and-curl-once-again/) for a motivation, as well as this [one](https://ask.sagemath.org/question/41898/).

The implementation is performed via the parent class `EuclideanSpace`, which inherits from `PseudoRiemannianManifold` (introduced in #24622). Two subclasses are devoted to specific cases: 
- `EuclideanPlane` for n=2
- `Euclidean3dimSpace` for n=3
The user interface for constructing an Euclidean space relies on the `EuclideanSpace.__classcall_private__` to direct to the appropriate subclass.

The implementation through the manifold framework allows for an easy use of various coordinate systems, along with the related transformations. However, the user interface does not assume any knowledge of Riemannian geometry. In particular, no direct manipulation of the metric tensor is required. 

A minimal example is

```
sage: E.<x,y,z> = EuclideanSpace(3)
sage: v = E.vector_field(-y, x, 0)
sage: v.display()
-y e_x + x e_y
sage: v[:]
[-y, x, 0]
sage: w = v.curl()
sage: w.display()
2 e_z
sage: w[:]
[0, 0, 2]
```
The transformation to spherical coordinates:

```
sage: spherical.<r,th,ph> = E.spherical_coordinates()
sage: spherical_frame = E.spherical_frame()  # orthonormal frame (e_r, e_th, e_ph)
sage: v.display(spherical_frame)
sqrt(x^2 + y^2) e_ph
sage: v.display(spherical_frame, spherical)
r*sin(th) e_ph
sage: v[spherical_frame, :, spherical]
[0, 0, r*sin(th)]
sage: w.display(spherical_frame, spherical)
2*cos(th) e_r - 2*sin(th) e_th
sage: w[spherical_frame, :, spherical]
[2*cos(th), -2*sin(th), 0]
```

More detailed examples are in the following Jupyter notebooks:

- [vector calculus in Cartesian coordinates](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_cartesian.ipynb)
- [vector calculus in spherical coordinates](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_spherical.ipynb)
- [vector calculus in cylindrical coordinates](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_cylindrical.ipynb)
- [changing coordinates in the Euclidean 3-space](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_change.ipynb)
- [Advanced aspects: Euclidean spaces as Riemannian manifolds](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_advanced.ipynb)
- [the Euclidean plane](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/Euclidean_plane.ipynb)

This work is part of the [SageManifolds project](http://sagemanifolds.obspm.fr/), see #18528 for an overview.

**CC:**  tmonteil

**Keywords:** Euclidean space, vector calculus, gradient, divergence, curl, Laplacian

**Branch:** [220726c07bc00ba69b12a5cc7dc9499d930f1e8c](https://github.com/sagemath/sagetrac-mirror/commit/220726c07bc00ba69b12a5cc7dc9499d930f1e8c)

**Reviewer:** Travis Scrimshaw

**Author:** Eric Gourgoulhon

**Dependencies:** #24622, #24792

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/24623





---

archive/issue_comments_468858.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n This ticket implements Euclidean spaces as Riemannian manifolds diffeomorphic to **R**<sup>n</sup> and equipped with a flat metric. Using the operators introduced in #24622, it provides the standard operators of vector calculus: dot product, norm, cross product, gradient, divergence, curl and Laplacian, along with the standard coordinate systems (Cartesian, spherical, cylindrical, etc.).\n+\n+\n+This work is part of the [SageManifolds project](http://sagemanifolds.obspm.fr/), see #18528 for an overview.\n``````\n",
    "created_at": "2018-01-31T10:20:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468858",
    "user": "https://github.com/egourgoulhon"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,4 @@
 This ticket implements Euclidean spaces as Riemannian manifolds diffeomorphic to **R**<sup>n</sup> and equipped with a flat metric. Using the operators introduced in #24622, it provides the standard operators of vector calculus: dot product, norm, cross product, gradient, divergence, curl and Laplacian, along with the standard coordinate systems (Cartesian, spherical, cylindrical, etc.).
+
+
+This work is part of the [SageManifolds project](http://sagemanifolds.obspm.fr/), see #18528 for an overview.
``````




---

archive/issue_comments_468859.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,5 @@\n This ticket implements Euclidean spaces as Riemannian manifolds diffeomorphic to **R**<sup>n</sup> and equipped with a flat metric. Using the operators introduced in #24622, it provides the standard operators of vector calculus: dot product, norm, cross product, gradient, divergence, curl and Laplacian, along with the standard coordinate systems (Cartesian, spherical, cylindrical, etc.).\n \n+See this [ask.sagemath question](https://ask.sagemath.org/question/40792/div-grad-and-curl-once-again/) for a motivation.\n \n This work is part of the [SageManifolds project](http://sagemanifolds.obspm.fr/), see #18528 for an overview.\n``````\n",
    "created_at": "2018-01-31T10:22:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468859",
    "user": "https://github.com/egourgoulhon"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,5 @@
 This ticket implements Euclidean spaces as Riemannian manifolds diffeomorphic to **R**<sup>n</sup> and equipped with a flat metric. Using the operators introduced in #24622, it provides the standard operators of vector calculus: dot product, norm, cross product, gradient, divergence, curl and Laplacian, along with the standard coordinate systems (Cartesian, spherical, cylindrical, etc.).
 
+See this [ask.sagemath question](https://ask.sagemath.org/question/40792/div-grad-and-curl-once-again/) for a motivation.
 
 This work is part of the [SageManifolds project](http://sagemanifolds.obspm.fr/), see #18528 for an overview.
``````




---

archive/issue_comments_468860.json:
```json
{
    "body": "<a id='comment:4'></a>\nThis is a first sketch (not ready yet).\n\n---\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55f356c2ee79026349a821dccd409d0d5a76718c\">55f356c</a></td><td><code>Improve documentation of pseudo-Riemannian manifolds</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fc661a5beaf076fdf67e0d4f45b546ed8e23e8e\">0fc661a</a></td><td><code>Remove method set_metric and improve doc of pseudo-Riemannian manifolds</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4dddf74279a21aa9cc645f959c8cd6b513a8d48\">b4dddf7</a></td><td><code>Add operators Laplacian, d'Alembertian and curl on pseudo-Riemannian manifolds</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/040b01c35f3082b4788bdeefea9d28aa1f96d3bc\">040b01c</a></td><td><code>Add dot product and cross product of vector fields</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46b8f66385cd1c34e5310d627a0e44983f87cc4a\">46b8f66</a></td><td><code>Add norm of vector fields.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/135af976131baf0d1551806a7be1be25ef0e06c0\">135af97</a></td><td><code>Add method volume_form() to class PseudoRiemannianManifold</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38e8fd3d9ab08783ec58dc973b3fb5575a3b79a2\">38e8fd3</a></td><td><code>Add global functions grad, div, curl, etc. for vector/tensor operators on pseudo-Riemannian manifolds</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8309fdd68066fd62b180f95be415f02ff2f7895e\">8309fdd</a></td><td><code>Improve documentation for operators on pseudo-Riemannian manifolds</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29fc5c80d5bbffc68230d5a15ccf017b0e4f327a\">29fc5c8</a></td><td><code>Merge branch 'public/manifolds/pseudoRiemannian' of git://trac.sagemath.org/sage into Sage 8.2.beta5</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4bf802027ddd8178ab17efa692bda2d877e0f8d6\">4bf8020</a></td><td><code>First draft of Euclidean spaces as Riemannian manifolds</code></td></tr></table>\n",
    "created_at": "2018-02-16T17:02:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468860",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:4'></a>
This is a first sketch (not ready yet).

---
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55f356c2ee79026349a821dccd409d0d5a76718c">55f356c</a></td><td><code>Improve documentation of pseudo-Riemannian manifolds</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fc661a5beaf076fdf67e0d4f45b546ed8e23e8e">0fc661a</a></td><td><code>Remove method set_metric and improve doc of pseudo-Riemannian manifolds</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4dddf74279a21aa9cc645f959c8cd6b513a8d48">b4dddf7</a></td><td><code>Add operators Laplacian, d'Alembertian and curl on pseudo-Riemannian manifolds</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/040b01c35f3082b4788bdeefea9d28aa1f96d3bc">040b01c</a></td><td><code>Add dot product and cross product of vector fields</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46b8f66385cd1c34e5310d627a0e44983f87cc4a">46b8f66</a></td><td><code>Add norm of vector fields.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/135af976131baf0d1551806a7be1be25ef0e06c0">135af97</a></td><td><code>Add method volume_form() to class PseudoRiemannianManifold</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38e8fd3d9ab08783ec58dc973b3fb5575a3b79a2">38e8fd3</a></td><td><code>Add global functions grad, div, curl, etc. for vector/tensor operators on pseudo-Riemannian manifolds</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8309fdd68066fd62b180f95be415f02ff2f7895e">8309fdd</a></td><td><code>Improve documentation for operators on pseudo-Riemannian manifolds</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29fc5c80d5bbffc68230d5a15ccf017b0e4f327a">29fc5c8</a></td><td><code>Merge branch 'public/manifolds/pseudoRiemannian' of git://trac.sagemath.org/sage into Sage 8.2.beta5</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4bf802027ddd8178ab17efa692bda2d877e0f8d6">4bf8020</a></td><td><code>First draft of Euclidean spaces as Riemannian manifolds</code></td></tr></table>




---

archive/issue_comments_468861.json:
```json
{
    "body": "**Commit:** [4bf802027ddd8178ab17efa692bda2d877e0f8d6](https://github.com/sagemath/sagetrac-mirror/commit/4bf802027ddd8178ab17efa692bda2d877e0f8d6)",
    "created_at": "2018-02-16T17:02:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468861",
    "user": "https://github.com/egourgoulhon"
}
```

**Commit:** [4bf802027ddd8178ab17efa692bda2d877e0f8d6](https://github.com/sagemath/sagetrac-mirror/commit/4bf802027ddd8178ab17efa692bda2d877e0f8d6)



---

archive/issue_comments_468862.json:
```json
{
    "body": "**Branch:** [public/manifolds/Euclidean_spaces](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/Euclidean_spaces)",
    "created_at": "2018-02-16T17:02:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468862",
    "user": "https://github.com/egourgoulhon"
}
```

**Branch:** [public/manifolds/Euclidean_spaces](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/Euclidean_spaces)



---

archive/issue_comments_468863.json:
```json
{
    "body": "**Changing dependencies** from \"#24622\" to \"#24622, #24792\".",
    "created_at": "2018-02-20T15:33:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468863",
    "user": "https://github.com/egourgoulhon"
}
```

**Changing dependencies** from "#24622" to "#24622, #24792".



---

archive/issue_comments_468864.json:
```json
{
    "body": "<a id='comment:5'></a>\n#24792 introduces more flexibility in naming the elements of vector frames, for instance using `(e_x, e_y, e_z)` for a coordinate frame instead of `(d/dx, d/dy, d/dz)`. The current ticket will therefore be build on it for a better user interface.",
    "created_at": "2018-02-20T15:33:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468864",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:5'></a>
#24792 introduces more flexibility in naming the elements of vector frames, for instance using `(e_x, e_y, e_z)` for a coordinate frame instead of `(d/dx, d/dy, d/dz)`. The current ticket will therefore be build on it for a better user interface.



---

archive/issue_comments_468865.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a527e8e3491803036011962ec1d1ba30dd251882\">a527e8e</a></td><td><code>First draft adding more flexibility in symbols of free module bases and vector frames</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d43a2313a6be27423fb4651eafd502a6b122eaf\">2d43a23</a></td><td><code>More refactoring in vector frames</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0840d54c2828ea6c8b91c5da7f0651e9bd276357\">0840d54</a></td><td><code>More work on vector frames</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01681b8f3f739e56962f1ae215a098e706a67ee7\">01681b8</a></td><td><code>Add documentation for new options of vector frames</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f24a5f96a25d12b75c9d98a1b6749513673b4faa\">f24a5f9</a></td><td><code>Merge branch 'public/manifolds/Euclidean_spaces' of git://trac.sagemath.org/sage into public/manifolds/more_basis_flexibility (branch of #24792)</code></td></tr></table>\n",
    "created_at": "2018-02-20T16:02:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468865",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a527e8e3491803036011962ec1d1ba30dd251882">a527e8e</a></td><td><code>First draft adding more flexibility in symbols of free module bases and vector frames</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d43a2313a6be27423fb4651eafd502a6b122eaf">2d43a23</a></td><td><code>More refactoring in vector frames</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0840d54c2828ea6c8b91c5da7f0651e9bd276357">0840d54</a></td><td><code>More work on vector frames</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01681b8f3f739e56962f1ae215a098e706a67ee7">01681b8</a></td><td><code>Add documentation for new options of vector frames</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f24a5f96a25d12b75c9d98a1b6749513673b4faa">f24a5f9</a></td><td><code>Merge branch 'public/manifolds/Euclidean_spaces' of git://trac.sagemath.org/sage into public/manifolds/more_basis_flexibility (branch of #24792)</code></td></tr></table>




---

archive/issue_comments_468866.json:
```json
{
    "body": "**Changing commit** from \"[4bf802027ddd8178ab17efa692bda2d877e0f8d6](https://github.com/sagemath/sagetrac-mirror/commit/4bf802027ddd8178ab17efa692bda2d877e0f8d6)\" to \"[f24a5f96a25d12b75c9d98a1b6749513673b4faa](https://github.com/sagemath/sagetrac-mirror/commit/f24a5f96a25d12b75c9d98a1b6749513673b4faa)\".",
    "created_at": "2018-02-20T16:02:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468866",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4bf802027ddd8178ab17efa692bda2d877e0f8d6](https://github.com/sagemath/sagetrac-mirror/commit/4bf802027ddd8178ab17efa692bda2d877e0f8d6)" to "[f24a5f96a25d12b75c9d98a1b6749513673b4faa](https://github.com/sagemath/sagetrac-mirror/commit/f24a5f96a25d12b75c9d98a1b6749513673b4faa)".



---

archive/issue_comments_468867.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9302b65668e7f62b54306c4e4c916c73c72dc31\">d9302b6</a></td><td><code>Add documentation and doctests for Euclidean spaces</code></td></tr></table>\n",
    "created_at": "2018-02-21T16:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468867",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9302b65668e7f62b54306c4e4c916c73c72dc31">d9302b6</a></td><td><code>Add documentation and doctests for Euclidean spaces</code></td></tr></table>




---

archive/issue_comments_468868.json:
```json
{
    "body": "**Changing commit** from \"[f24a5f96a25d12b75c9d98a1b6749513673b4faa](https://github.com/sagemath/sagetrac-mirror/commit/f24a5f96a25d12b75c9d98a1b6749513673b4faa)\" to \"[d9302b65668e7f62b54306c4e4c916c73c72dc31](https://github.com/sagemath/sagetrac-mirror/commit/d9302b65668e7f62b54306c4e4c916c73c72dc31)\".",
    "created_at": "2018-02-21T16:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468868",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f24a5f96a25d12b75c9d98a1b6749513673b4faa](https://github.com/sagemath/sagetrac-mirror/commit/f24a5f96a25d12b75c9d98a1b6749513673b4faa)" to "[d9302b65668e7f62b54306c4e4c916c73c72dc31](https://github.com/sagemath/sagetrac-mirror/commit/d9302b65668e7f62b54306c4e4c916c73c72dc31)".



---

archive/issue_comments_468869.json:
```json
{
    "body": "<a id='comment:8'></a>\nI wonder whether some of this (in terms of the div/grad/curl) could be exposed in the symbolic calculus places, at least with some well-placed and well-formed examples that would be understandable to someone teaching Calc III to engineers (in the US framework) who may not be a differential geometer.",
    "created_at": "2018-02-21T22:01:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468869",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>
I wonder whether some of this (in terms of the div/grad/curl) could be exposed in the symbolic calculus places, at least with some well-placed and well-formed examples that would be understandable to someone teaching Calc III to engineers (in the US framework) who may not be a differential geometer.



---

archive/issue_comments_468870.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [kcrisman](#comment%3A8):\n> I wonder whether some of this (in terms of the div/grad/curl) could be exposed in the symbolic calculus places, at least with some well-placed and well-formed examples that would be understandable to someone teaching Calc III to engineers (in the US framework) who may not be a differential geometer.\n\n\nIndeed, the aim here is to provide some interface which does not require any knowledge of differential geometry on manifolds. The class `EuclideanSpaceGeneric` does inherit from `PseudoRiemannianManifold`, but the end user has not to know it if he is not interested by this aspect and prefers to focus on vector calculus. Regarding examples, I plan to prepare some Jupyter notebooks and will expose them here, when the ticket is ready for review. Already, you can have a glimpse of the div/grad/curl capabilities introduced in the dependency #24622 in [this notebook](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calculus.ipynb).",
    "created_at": "2018-02-21T23:47:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468870",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:9'></a>
Replying to [kcrisman](#comment%3A8):
> I wonder whether some of this (in terms of the div/grad/curl) could be exposed in the symbolic calculus places, at least with some well-placed and well-formed examples that would be understandable to someone teaching Calc III to engineers (in the US framework) who may not be a differential geometer.


Indeed, the aim here is to provide some interface which does not require any knowledge of differential geometry on manifolds. The class `EuclideanSpaceGeneric` does inherit from `PseudoRiemannianManifold`, but the end user has not to know it if he is not interested by this aspect and prefers to focus on vector calculus. Regarding examples, I plan to prepare some Jupyter notebooks and will expose them here, when the ticket is ready for review. Already, you can have a glimpse of the div/grad/curl capabilities introduced in the dependency #24622 in [this notebook](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calculus.ipynb).



---

archive/issue_comments_468871.json:
```json
{
    "body": "<a id='comment:10'></a>\nThat's great!  The reason I brought it up is because folders like `sage/calculus` and `sage/symbolic` might benefit from some good examples that are easy to find.\n\nIs there a way to use something like (say) `vector([x<sup>2+y,y</sup>2+z,z^2+x])` as  \"vector field\" immediately, without much (or any) of the formalism necessary in that notebook?  I think that is how most end users I've talked to about this issue would want it.  See e.g. https://ask.sagemath.org/question/10104/gradient-divergence-curl-and-vector-products/ and ticket:3021 for one version already in Sage - maybe these should be combined somehow, if possible.",
    "created_at": "2018-02-22T12:53:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468871",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:10'></a>
That's great!  The reason I brought it up is because folders like `sage/calculus` and `sage/symbolic` might benefit from some good examples that are easy to find.

Is there a way to use something like (say) `vector([x<sup>2+y,y</sup>2+z,z^2+x])` as  "vector field" immediately, without much (or any) of the formalism necessary in that notebook?  I think that is how most end users I've talked to about this issue would want it.  See e.g. https://ask.sagemath.org/question/10104/gradient-divergence-curl-and-vector-products/ and ticket:3021 for one version already in Sage - maybe these should be combined somehow, if possible.



---

archive/issue_comments_468872.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [kcrisman](#comment%3A10):\n> \n> Is there a way to use something like (say) `vector([x<sup>2+y,y</sup>2+z,z^2+x])` as  \"vector field\" immediately, without much (or any) of the formalism necessary in that notebook?  \n\n\nYes, this is precisely the aim of the current ticket. The above notebook is still at the level of semi-Riemannian manifolds (i.e. it illustrates only ticket #24622), while the user interface of the current ticket will be much simpler. It should also provide an easy way to change from Cartesian coordinates to e.g. polar or cylindrical ones. \n\n\n>See e.g. https://ask.sagemath.org/question/10104/gradient-divergence-curl-and-vector-products/ and ticket:3021 for one version already in Sage - maybe these should be combined somehow, if possible.\n\n\nThanks for pointing this version; I was not aware of it.",
    "created_at": "2018-02-22T22:06:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468872",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:11'></a>
Replying to [kcrisman](#comment%3A10):
> 
> Is there a way to use something like (say) `vector([x<sup>2+y,y</sup>2+z,z^2+x])` as  "vector field" immediately, without much (or any) of the formalism necessary in that notebook?  


Yes, this is precisely the aim of the current ticket. The above notebook is still at the level of semi-Riemannian manifolds (i.e. it illustrates only ticket #24622), while the user interface of the current ticket will be much simpler. It should also provide an easy way to change from Cartesian coordinates to e.g. polar or cylindrical ones. 


>See e.g. https://ask.sagemath.org/question/10104/gradient-divergence-curl-and-vector-products/ and ticket:3021 for one version already in Sage - maybe these should be combined somehow, if possible.


Thanks for pointing this version; I was not aware of it.



---

archive/issue_comments_468873.json:
```json
{
    "body": "**Changing commit** from \"[d9302b65668e7f62b54306c4e4c916c73c72dc31](https://github.com/sagemath/sagetrac-mirror/commit/d9302b65668e7f62b54306c4e4c916c73c72dc31)\" to \"[56a1a4a37f60f8f61ba8da18ece1e281c6c07aa9](https://github.com/sagemath/sagetrac-mirror/commit/56a1a4a37f60f8f61ba8da18ece1e281c6c07aa9)\".",
    "created_at": "2018-02-27T21:09:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468873",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d9302b65668e7f62b54306c4e4c916c73c72dc31](https://github.com/sagemath/sagetrac-mirror/commit/d9302b65668e7f62b54306c4e4c916c73c72dc31)" to "[56a1a4a37f60f8f61ba8da18ece1e281c6c07aa9](https://github.com/sagemath/sagetrac-mirror/commit/56a1a4a37f60f8f61ba8da18ece1e281c6c07aa9)".



---

archive/issue_comments_468874.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ddc467fbfa0e1cad1410ce6ed37eba05f55c4c9\">9ddc467</a></td><td><code>Add method set_name to classes VectorFrame and CoFrame</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82c37b47ba34368a83dd7e873275a361bb0338f6\">82c37b4</a></td><td><code>Cut long lines in src/sage/manifolds/differentiable/vectorframe.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95b27360bd547d5d463600d4f65b3942062f85e3\">95b2736</a></td><td><code>Merge branch 'public/manifolds/more_basis_flexibility' of git://trac.sagemath.org/sage into Euclidean (to get latest version of the dependency #24792)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56a1a4a37f60f8f61ba8da18ece1e281c6c07aa9\">56a1a4a</a></td><td><code>Add method vector_field to Euclidean spaces + internal changes regarding charts and frames</code></td></tr></table>\n",
    "created_at": "2018-02-27T21:09:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468874",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ddc467fbfa0e1cad1410ce6ed37eba05f55c4c9">9ddc467</a></td><td><code>Add method set_name to classes VectorFrame and CoFrame</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82c37b47ba34368a83dd7e873275a361bb0338f6">82c37b4</a></td><td><code>Cut long lines in src/sage/manifolds/differentiable/vectorframe.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95b27360bd547d5d463600d4f65b3942062f85e3">95b2736</a></td><td><code>Merge branch 'public/manifolds/more_basis_flexibility' of git://trac.sagemath.org/sage into Euclidean (to get latest version of the dependency #24792)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56a1a4a37f60f8f61ba8da18ece1e281c6c07aa9">56a1a4a</a></td><td><code>Add method vector_field to Euclidean spaces + internal changes regarding charts and frames</code></td></tr></table>




---

archive/issue_comments_468875.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/799066b8d4efd379fe374f1570abae6aad73a724\">799066b</a></td><td><code>List entries of VectorFrame processed by __classcall_private__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da06d12a8e041c9ee6c5f4c12a906d22bcdb02c7\">da06d12</a></td><td><code>Small improvement in treatment of symbol attributes of free module bases</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/244c1f46b7b828e9f06aa4864841f1c7f006ebe0\">244c1f4</a></td><td><code>Merge branch 'public/manifolds/more_basis_flexibility' into 'public/manifolds/Euclidean_spaces' to get the latest version of dependency #24792 in #24623.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70a2a749c2d5c07a85182c0d51fdc9f16d050b01\">70a2a74</a></td><td><code>Vector fields on Euclidean spaces can be initialized from a vector of symbolic expressions</code></td></tr></table>\n",
    "created_at": "2018-03-02T17:28:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468875",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/799066b8d4efd379fe374f1570abae6aad73a724">799066b</a></td><td><code>List entries of VectorFrame processed by __classcall_private__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da06d12a8e041c9ee6c5f4c12a906d22bcdb02c7">da06d12</a></td><td><code>Small improvement in treatment of symbol attributes of free module bases</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/244c1f46b7b828e9f06aa4864841f1c7f006ebe0">244c1f4</a></td><td><code>Merge branch 'public/manifolds/more_basis_flexibility' into 'public/manifolds/Euclidean_spaces' to get the latest version of dependency #24792 in #24623.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70a2a749c2d5c07a85182c0d51fdc9f16d050b01">70a2a74</a></td><td><code>Vector fields on Euclidean spaces can be initialized from a vector of symbolic expressions</code></td></tr></table>




---

archive/issue_comments_468876.json:
```json
{
    "body": "**Changing commit** from \"[56a1a4a37f60f8f61ba8da18ece1e281c6c07aa9](https://github.com/sagemath/sagetrac-mirror/commit/56a1a4a37f60f8f61ba8da18ece1e281c6c07aa9)\" to \"[70a2a749c2d5c07a85182c0d51fdc9f16d050b01](https://github.com/sagemath/sagetrac-mirror/commit/70a2a749c2d5c07a85182c0d51fdc9f16d050b01)\".",
    "created_at": "2018-03-02T17:28:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468876",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[56a1a4a37f60f8f61ba8da18ece1e281c6c07aa9](https://github.com/sagemath/sagetrac-mirror/commit/56a1a4a37f60f8f61ba8da18ece1e281c6c07aa9)" to "[70a2a749c2d5c07a85182c0d51fdc9f16d050b01](https://github.com/sagemath/sagetrac-mirror/commit/70a2a749c2d5c07a85182c0d51fdc9f16d050b01)".



---

archive/issue_comments_468877.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,4 +2,6 @@\n \n See this [ask.sagemath question](https://ask.sagemath.org/question/40792/div-grad-and-curl-once-again/) for a motivation.\n \n+Some functionalities introduced by this ticket are illustrated in this [Jupyter worksheet](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/Euclidean_plane.ipynb). \n+\n This work is part of the [SageManifolds project](http://sagemanifolds.obspm.fr/), see #18528 for an overview.\n``````\n",
    "created_at": "2018-03-02T17:31:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468877",
    "user": "https://github.com/egourgoulhon"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,4 +2,6 @@
 
 See this [ask.sagemath question](https://ask.sagemath.org/question/40792/div-grad-and-curl-once-again/) for a motivation.
 
+Some functionalities introduced by this ticket are illustrated in this [Jupyter worksheet](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/Euclidean_plane.ipynb). 
+
 This work is part of the [SageManifolds project](http://sagemanifolds.obspm.fr/), see #18528 for an overview.
``````




---

archive/issue_comments_468878.json:
```json
{
    "body": "<a id='comment:15'></a>\nHere is some status update: functionalities regarding the 2-dimensional case are almost complete, as you can see in this [demo worksheet](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/Euclidean_plane.ipynb) (any feedback is of course appreciated). The 3-dimensional case is under preparation. The generic n-dimensional case, with n=1 or n>=4 is ready, since only Cartesian coordinates will be introduced (by default) in this case. \n\nRegarding a question raised in[comment:10](#comment%3A10), it is now possible to construct a vector field on an Euclidean space from a `vector` of symbolic expressions like this:\n\n```\nv = E.vector_field(vector([-y,x]))\n```\nwhere `E` is the underlying Euclidean space.",
    "created_at": "2018-03-02T17:43:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468878",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:15'></a>
Here is some status update: functionalities regarding the 2-dimensional case are almost complete, as you can see in this [demo worksheet](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/Euclidean_plane.ipynb) (any feedback is of course appreciated). The 3-dimensional case is under preparation. The generic n-dimensional case, with n=1 or n>=4 is ready, since only Cartesian coordinates will be introduced (by default) in this case. 

Regarding a question raised in[comment:10](#comment%3A10), it is now possible to construct a vector field on an Euclidean space from a `vector` of symbolic expressions like this:

```
v = E.vector_field(vector([-y,x]))
```
where `E` is the underlying Euclidean space.



---

archive/issue_comments_468879.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18b63a6de6dcceed8b29edc339d8e301785b5a03\">18b63a6</a></td><td><code>Differential operators are no longer imported in the global namespace by PseudoRiemannianManifold.__init__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8367232029f944d2741d8de9cf1a180eb73d5c37\">8367232</a></td><td><code>Merge branch 'public/manifolds/pseudoRiemannian' of git://trac.sagemath.org/sage into 'public/manifolds/Euclidean_spaces' to get the latest version of the dependency #24622 in #24623.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e9fce6b191d1d1fcf84153ea90478c444687703\">6e9fce6</a></td><td><code>First draft of Euclidean 3-spaces, with the Cartesian, spherical and cylindrical coordinate systems</code></td></tr></table>\n",
    "created_at": "2018-03-06T17:29:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468879",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18b63a6de6dcceed8b29edc339d8e301785b5a03">18b63a6</a></td><td><code>Differential operators are no longer imported in the global namespace by PseudoRiemannianManifold.__init__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8367232029f944d2741d8de9cf1a180eb73d5c37">8367232</a></td><td><code>Merge branch 'public/manifolds/pseudoRiemannian' of git://trac.sagemath.org/sage into 'public/manifolds/Euclidean_spaces' to get the latest version of the dependency #24622 in #24623.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e9fce6b191d1d1fcf84153ea90478c444687703">6e9fce6</a></td><td><code>First draft of Euclidean 3-spaces, with the Cartesian, spherical and cylindrical coordinate systems</code></td></tr></table>




---

archive/issue_comments_468880.json:
```json
{
    "body": "**Changing commit** from \"[70a2a749c2d5c07a85182c0d51fdc9f16d050b01](https://github.com/sagemath/sagetrac-mirror/commit/70a2a749c2d5c07a85182c0d51fdc9f16d050b01)\" to \"[6e9fce6b191d1d1fcf84153ea90478c444687703](https://github.com/sagemath/sagetrac-mirror/commit/6e9fce6b191d1d1fcf84153ea90478c444687703)\".",
    "created_at": "2018-03-06T17:29:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468880",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[70a2a749c2d5c07a85182c0d51fdc9f16d050b01](https://github.com/sagemath/sagetrac-mirror/commit/70a2a749c2d5c07a85182c0d51fdc9f16d050b01)" to "[6e9fce6b191d1d1fcf84153ea90478c444687703](https://github.com/sagemath/sagetrac-mirror/commit/6e9fce6b191d1d1fcf84153ea90478c444687703)".



---

archive/issue_comments_468881.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/825ba7831fc3774455fd23b4c3b78dee3ee1fa0c\">825ba78</a></td><td><code>Add doctests to Euclidean spaces</code></td></tr></table>\n",
    "created_at": "2018-03-07T16:24:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468881",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/825ba7831fc3774455fd23b4c3b78dee3ee1fa0c">825ba78</a></td><td><code>Add doctests to Euclidean spaces</code></td></tr></table>




---

archive/issue_comments_468882.json:
```json
{
    "body": "**Changing commit** from \"[6e9fce6b191d1d1fcf84153ea90478c444687703](https://github.com/sagemath/sagetrac-mirror/commit/6e9fce6b191d1d1fcf84153ea90478c444687703)\" to \"[825ba7831fc3774455fd23b4c3b78dee3ee1fa0c](https://github.com/sagemath/sagetrac-mirror/commit/825ba7831fc3774455fd23b4c3b78dee3ee1fa0c)\".",
    "created_at": "2018-03-07T16:24:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468882",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6e9fce6b191d1d1fcf84153ea90478c444687703](https://github.com/sagemath/sagetrac-mirror/commit/6e9fce6b191d1d1fcf84153ea90478c444687703)" to "[825ba7831fc3774455fd23b4c3b78dee3ee1fa0c](https://github.com/sagemath/sagetrac-mirror/commit/825ba7831fc3774455fd23b4c3b78dee3ee1fa0c)".



---

archive/issue_comments_468883.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/185e438b808c204dbf7b1f7b838fb43e40c100d2\">185e438</a></td><td><code>Improve documentation of pseudo-Riemannian manifolds</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52b10eeb1dfb3f0ae8700f0d5e1c5859e43bc093\">52b10ee</a></td><td><code>Merge branch 'public/manifolds/pseudoRiemannian' of git://trac.sagemath.org/sage into 'public/manifolds/Euclidean_spaces' to get the final version of the dependency #24622 in #24623.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88f12ed85714bfa068c0a4e8f911681771ca4f20\">88f12ed</a></td><td><code>Improve documentation of Euclidean spaces</code></td></tr></table>\n",
    "created_at": "2018-03-08T17:31:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468883",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/185e438b808c204dbf7b1f7b838fb43e40c100d2">185e438</a></td><td><code>Improve documentation of pseudo-Riemannian manifolds</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52b10eeb1dfb3f0ae8700f0d5e1c5859e43bc093">52b10ee</a></td><td><code>Merge branch 'public/manifolds/pseudoRiemannian' of git://trac.sagemath.org/sage into 'public/manifolds/Euclidean_spaces' to get the final version of the dependency #24622 in #24623.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88f12ed85714bfa068c0a4e8f911681771ca4f20">88f12ed</a></td><td><code>Improve documentation of Euclidean spaces</code></td></tr></table>




---

archive/issue_comments_468884.json:
```json
{
    "body": "**Changing commit** from \"[825ba7831fc3774455fd23b4c3b78dee3ee1fa0c](https://github.com/sagemath/sagetrac-mirror/commit/825ba7831fc3774455fd23b4c3b78dee3ee1fa0c)\" to \"[88f12ed85714bfa068c0a4e8f911681771ca4f20](https://github.com/sagemath/sagetrac-mirror/commit/88f12ed85714bfa068c0a4e8f911681771ca4f20)\".",
    "created_at": "2018-03-08T17:31:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468884",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[825ba7831fc3774455fd23b4c3b78dee3ee1fa0c](https://github.com/sagemath/sagetrac-mirror/commit/825ba7831fc3774455fd23b4c3b78dee3ee1fa0c)" to "[88f12ed85714bfa068c0a4e8f911681771ca4f20](https://github.com/sagemath/sagetrac-mirror/commit/88f12ed85714bfa068c0a4e8f911681771ca4f20)".



---

archive/issue_comments_468885.json:
```json
{
    "body": "**Changing commit** from \"[88f12ed85714bfa068c0a4e8f911681771ca4f20](https://github.com/sagemath/sagetrac-mirror/commit/88f12ed85714bfa068c0a4e8f911681771ca4f20)\" to \"[371e05ee9f2d118c8f4b1d13376668a85b6fa639](https://github.com/sagemath/sagetrac-mirror/commit/371e05ee9f2d118c8f4b1d13376668a85b6fa639)\".",
    "created_at": "2018-03-09T15:54:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468885",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[88f12ed85714bfa068c0a4e8f911681771ca4f20](https://github.com/sagemath/sagetrac-mirror/commit/88f12ed85714bfa068c0a4e8f911681771ca4f20)" to "[371e05ee9f2d118c8f4b1d13376668a85b6fa639](https://github.com/sagemath/sagetrac-mirror/commit/371e05ee9f2d118c8f4b1d13376668a85b6fa639)".



---

archive/issue_comments_468886.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/371e05ee9f2d118c8f4b1d13376668a85b6fa639\">371e05e</a></td><td><code>Improve treatment of changes of frames in Euclidean spaces + documentation added</code></td></tr></table>\n",
    "created_at": "2018-03-09T15:54:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468886",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/371e05ee9f2d118c8f4b1d13376668a85b6fa639">371e05e</a></td><td><code>Improve treatment of changes of frames in Euclidean spaces + documentation added</code></td></tr></table>




---

archive/issue_comments_468887.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a87f70a8efbf5e5f57f682459fe984a8df92338\">8a87f70</a></td><td><code>Add scalar triple product in Euclidean spaces</code></td></tr></table>\n",
    "created_at": "2018-03-11T23:10:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468887",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a87f70a8efbf5e5f57f682459fe984a8df92338">8a87f70</a></td><td><code>Add scalar triple product in Euclidean spaces</code></td></tr></table>




---

archive/issue_comments_468888.json:
```json
{
    "body": "**Changing commit** from \"[371e05ee9f2d118c8f4b1d13376668a85b6fa639](https://github.com/sagemath/sagetrac-mirror/commit/371e05ee9f2d118c8f4b1d13376668a85b6fa639)\" to \"[8a87f70a8efbf5e5f57f682459fe984a8df92338](https://github.com/sagemath/sagetrac-mirror/commit/8a87f70a8efbf5e5f57f682459fe984a8df92338)\".",
    "created_at": "2018-03-11T23:10:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468888",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[371e05ee9f2d118c8f4b1d13376668a85b6fa639](https://github.com/sagemath/sagetrac-mirror/commit/371e05ee9f2d118c8f4b1d13376668a85b6fa639)" to "[8a87f70a8efbf5e5f57f682459fe984a8df92338](https://github.com/sagemath/sagetrac-mirror/commit/8a87f70a8efbf5e5f57f682459fe984a8df92338)".



---

archive/issue_comments_468889.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd1951f87df19bdab818ded912e38579ad8f2fc5\">dd1951f</a></td><td><code>Improve documentation of Euclidean spaces, especially of vector operators</code></td></tr></table>\n",
    "created_at": "2018-03-13T15:09:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468889",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd1951f87df19bdab818ded912e38579ad8f2fc5">dd1951f</a></td><td><code>Improve documentation of Euclidean spaces, especially of vector operators</code></td></tr></table>




---

archive/issue_comments_468890.json:
```json
{
    "body": "**Changing commit** from \"[8a87f70a8efbf5e5f57f682459fe984a8df92338](https://github.com/sagemath/sagetrac-mirror/commit/8a87f70a8efbf5e5f57f682459fe984a8df92338)\" to \"[dd1951f87df19bdab818ded912e38579ad8f2fc5](https://github.com/sagemath/sagetrac-mirror/commit/dd1951f87df19bdab818ded912e38579ad8f2fc5)\".",
    "created_at": "2018-03-13T15:09:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468890",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8a87f70a8efbf5e5f57f682459fe984a8df92338](https://github.com/sagemath/sagetrac-mirror/commit/8a87f70a8efbf5e5f57f682459fe984a8df92338)" to "[dd1951f87df19bdab818ded912e38579ad8f2fc5](https://github.com/sagemath/sagetrac-mirror/commit/dd1951f87df19bdab818ded912e38579ad8f2fc5)".



---

archive/issue_comments_468891.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c4a9a92a1183e47d0ee86f78bfbfbf7c16eb5e3\">7c4a9a9</a></td><td><code>Merge branch 'public/manifolds/Euclidean_spaces' of git://trac.sagemath.org/sage into Sage 8.2.beta8.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8b748baf218baf6d35b767d358553619a9045cb\">d8b748b</a></td><td><code>Add references to Euclidean spaces and vector calculus in the Reference Manual</code></td></tr></table>\n",
    "created_at": "2018-03-13T16:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468891",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c4a9a92a1183e47d0ee86f78bfbfbf7c16eb5e3">7c4a9a9</a></td><td><code>Merge branch 'public/manifolds/Euclidean_spaces' of git://trac.sagemath.org/sage into Sage 8.2.beta8.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8b748baf218baf6d35b767d358553619a9045cb">d8b748b</a></td><td><code>Add references to Euclidean spaces and vector calculus in the Reference Manual</code></td></tr></table>




---

archive/issue_comments_468892.json:
```json
{
    "body": "**Changing commit** from \"[dd1951f87df19bdab818ded912e38579ad8f2fc5](https://github.com/sagemath/sagetrac-mirror/commit/dd1951f87df19bdab818ded912e38579ad8f2fc5)\" to \"[d8b748baf218baf6d35b767d358553619a9045cb](https://github.com/sagemath/sagetrac-mirror/commit/d8b748baf218baf6d35b767d358553619a9045cb)\".",
    "created_at": "2018-03-13T16:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468892",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[dd1951f87df19bdab818ded912e38579ad8f2fc5](https://github.com/sagemath/sagetrac-mirror/commit/dd1951f87df19bdab818ded912e38579ad8f2fc5)" to "[d8b748baf218baf6d35b767d358553619a9045cb](https://github.com/sagemath/sagetrac-mirror/commit/d8b748baf218baf6d35b767d358553619a9045cb)".



---

archive/issue_comments_468893.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de74bb734f9f531bb6d991b14af20e58e6ebd683\">de74bb7</a></td><td><code>Slight reorganization of the documentation of Euclidean spaces</code></td></tr></table>\n",
    "created_at": "2018-03-13T23:39:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468893",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de74bb734f9f531bb6d991b14af20e58e6ebd683">de74bb7</a></td><td><code>Slight reorganization of the documentation of Euclidean spaces</code></td></tr></table>




---

archive/issue_comments_468894.json:
```json
{
    "body": "**Changing commit** from \"[d8b748baf218baf6d35b767d358553619a9045cb](https://github.com/sagemath/sagetrac-mirror/commit/d8b748baf218baf6d35b767d358553619a9045cb)\" to \"[de74bb734f9f531bb6d991b14af20e58e6ebd683](https://github.com/sagemath/sagetrac-mirror/commit/de74bb734f9f531bb6d991b14af20e58e6ebd683)\".",
    "created_at": "2018-03-13T23:39:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468894",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d8b748baf218baf6d35b767d358553619a9045cb](https://github.com/sagemath/sagetrac-mirror/commit/d8b748baf218baf6d35b767d358553619a9045cb)" to "[de74bb734f9f531bb6d991b14af20e58e6ebd683](https://github.com/sagemath/sagetrac-mirror/commit/de74bb734f9f531bb6d991b14af20e58e6ebd683)".



---

archive/issue_comments_468895.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,7 +1,51 @@\n-This ticket implements Euclidean spaces as Riemannian manifolds diffeomorphic to **R**<sup>n</sup> and equipped with a flat metric. Using the operators introduced in #24622, it provides the standard operators of vector calculus: dot product, norm, cross product, gradient, divergence, curl and Laplacian, along with the standard coordinate systems (Cartesian, spherical, cylindrical, etc.).\n+This ticket implements Euclidean spaces as Riemannian manifolds diffeomorphic to **R**<sup>n</sup> and equipped with a flat metric, which defines the Euclidean dot product. Using the operators introduced in #24622, this provides the standard operators of vector calculus: dot product, norm, cross product, gradient, divergence, curl and Laplacian, along with the standard coordinate systems (Cartesian, spherical, cylindrical, etc.).\n \n See this [ask.sagemath question](https://ask.sagemath.org/question/40792/div-grad-and-curl-once-again/) for a motivation.\n \n-Some functionalities introduced by this ticket are illustrated in this [Jupyter worksheet](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/Euclidean_plane.ipynb). \n+The implementation is performed via the parent class `EuclideanSpaceGeneric`, which inherits from `PseudoRiemannianManifold` (introduced in #24622). Two subclasses are devoted to specific cases: \n+- `EuclideanPlane` for n=2\n+- `Euclidean3dimSpace` for n=3\n+The user interface for constructing an Euclidean space relies on a single function: `EuclideanSpace`.\n+\n+The implementation through the manifold framework allows for an easy use of various coordinate systems, along with the related transformations. However, the user interface does not assume any knowledge of Riemannian geometry. In particular, no direct manipulation of the metric tensor is required. \n+\n+A minimal example is\n+\n+```\n+sage: E.<x,y,z> = EuclideanSpace(3)\n+sage: v = E.vector_field(-y, x, 0)\n+sage: v.display()\n+-y e_x + x e_y\n+sage: v[:]\n+[-y, x, 0]\n+sage: w = v.curl()\n+sage: w.display()\n+2 e_z\n+sage: w[:]\n+[0, 0, 2]\n+```\n+The transformation to spherical coordinates:\n+\n+```\n+sage: spherical.<r,th,ph> = E.spherical_coordinates()\n+sage: spherical_frame = E.spherical_frame()  # orthonormal frame (e_r, e_th, e_ph)\n+sage: v.display(spherical_frame, spherical)\n+r*sin(th) e_ph\n+sage: v[spherical_frame, :, spherical]\n+[0, 0, r*sin(th)]\n+sage: w.display(spherical_frame, spherical)\n+2*cos(th) e_r - 2*sin(th) e_th\n+sage: w[spherical_frame, :, spherical]\n+[2*cos(th), -2*sin(th), 0]\n+```\n+\n+More detailed examples are in the following Jupyter notebooks:\n+\n+- [vector calculus in Cartesian coordinates](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_cartesian.ipynb)\n+- [vector calculus in spherical coordinates](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_spherical.ipynb)\n+- [vector calculus in cylindrical coordinates](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_cylindrical.ipynb)\n+- [changing coordinates in the Euclidean 3-space](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_change.ipynb)\n+- [Advanced aspects: Euclidean spaces as Riemannian manifolds](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_advanced.ipynb)\n+- [the Euclidean plane](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/Euclidean_plane.ipynb)\n \n This work is part of the [SageManifolds project](http://sagemanifolds.obspm.fr/), see #18528 for an overview.\n``````\n",
    "created_at": "2018-03-14T09:44:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468895",
    "user": "https://github.com/egourgoulhon"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,7 +1,51 @@
-This ticket implements Euclidean spaces as Riemannian manifolds diffeomorphic to **R**<sup>n</sup> and equipped with a flat metric. Using the operators introduced in #24622, it provides the standard operators of vector calculus: dot product, norm, cross product, gradient, divergence, curl and Laplacian, along with the standard coordinate systems (Cartesian, spherical, cylindrical, etc.).
+This ticket implements Euclidean spaces as Riemannian manifolds diffeomorphic to **R**<sup>n</sup> and equipped with a flat metric, which defines the Euclidean dot product. Using the operators introduced in #24622, this provides the standard operators of vector calculus: dot product, norm, cross product, gradient, divergence, curl and Laplacian, along with the standard coordinate systems (Cartesian, spherical, cylindrical, etc.).
 
 See this [ask.sagemath question](https://ask.sagemath.org/question/40792/div-grad-and-curl-once-again/) for a motivation.
 
-Some functionalities introduced by this ticket are illustrated in this [Jupyter worksheet](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/Euclidean_plane.ipynb). 
+The implementation is performed via the parent class `EuclideanSpaceGeneric`, which inherits from `PseudoRiemannianManifold` (introduced in #24622). Two subclasses are devoted to specific cases: 
+- `EuclideanPlane` for n=2
+- `Euclidean3dimSpace` for n=3
+The user interface for constructing an Euclidean space relies on a single function: `EuclideanSpace`.
+
+The implementation through the manifold framework allows for an easy use of various coordinate systems, along with the related transformations. However, the user interface does not assume any knowledge of Riemannian geometry. In particular, no direct manipulation of the metric tensor is required. 
+
+A minimal example is
+
+```
+sage: E.<x,y,z> = EuclideanSpace(3)
+sage: v = E.vector_field(-y, x, 0)
+sage: v.display()
+-y e_x + x e_y
+sage: v[:]
+[-y, x, 0]
+sage: w = v.curl()
+sage: w.display()
+2 e_z
+sage: w[:]
+[0, 0, 2]
+```
+The transformation to spherical coordinates:
+
+```
+sage: spherical.<r,th,ph> = E.spherical_coordinates()
+sage: spherical_frame = E.spherical_frame()  # orthonormal frame (e_r, e_th, e_ph)
+sage: v.display(spherical_frame, spherical)
+r*sin(th) e_ph
+sage: v[spherical_frame, :, spherical]
+[0, 0, r*sin(th)]
+sage: w.display(spherical_frame, spherical)
+2*cos(th) e_r - 2*sin(th) e_th
+sage: w[spherical_frame, :, spherical]
+[2*cos(th), -2*sin(th), 0]
+```
+
+More detailed examples are in the following Jupyter notebooks:
+
+- [vector calculus in Cartesian coordinates](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_cartesian.ipynb)
+- [vector calculus in spherical coordinates](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_spherical.ipynb)
+- [vector calculus in cylindrical coordinates](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_cylindrical.ipynb)
+- [changing coordinates in the Euclidean 3-space](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_change.ipynb)
+- [Advanced aspects: Euclidean spaces as Riemannian manifolds](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/vector_calc_advanced.ipynb)
+- [the Euclidean plane](http://nbviewer.jupyter.org/github/egourgoulhon/SageMathTest/blob/master/Worksheets/Euclidean_plane.ipynb)
 
 This work is part of the [SageManifolds project](http://sagemanifolds.obspm.fr/), see #18528 for an overview.
``````




---

archive/issue_comments_468896.json:
```json
{
    "body": "<a id='comment:25'></a>\nThe documentation has been completed in the above commits and new Jupyter notebook examples have been added. This is now ready for review.",
    "created_at": "2018-03-14T09:50:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468896",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:25'></a>
The documentation has been completed in the above commits and new Jupyter notebook examples have been added. This is now ready for review.



---

archive/issue_comments_468897.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2018-03-14T09:50:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468897",
    "user": "https://github.com/egourgoulhon"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_468898.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [kcrisman](#comment%3A8):\n> I wonder whether some of this (in terms of the div/grad/curl) could be exposed in the symbolic calculus places, at least with some well-placed and well-formed examples that would be understandable to someone teaching Calc III to engineers (in the US framework) who may not be a differential geometer.\n\n\nI have added an entry \"Vector Calculus\" to `src/doc/en/reference/calculus/index.rst`. I have also added some `SEEALSO` sections in the definitions of `curl` and `div` in `src/sage/modules/free_module_element.pyx`, as well as in the definition of `gradient` in `src/sage/symbolic/expression.pyx`.",
    "created_at": "2018-03-14T10:21:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468898",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:26'></a>
Replying to [kcrisman](#comment%3A8):
> I wonder whether some of this (in terms of the div/grad/curl) could be exposed in the symbolic calculus places, at least with some well-placed and well-formed examples that would be understandable to someone teaching Calc III to engineers (in the US framework) who may not be a differential geometer.


I have added an entry "Vector Calculus" to `src/doc/en/reference/calculus/index.rst`. I have also added some `SEEALSO` sections in the definitions of `curl` and `div` in `src/sage/modules/free_module_element.pyx`, as well as in the definition of `gradient` in `src/sage/symbolic/expression.pyx`.



---

archive/issue_comments_468899.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -29,6 +29,8 @@\n ```\n sage: spherical.<r,th,ph> = E.spherical_coordinates()\n sage: spherical_frame = E.spherical_frame()  # orthonormal frame (e_r, e_th, e_ph)\n+sage: v.display(spherical_frame)\n+sqrt(x^2 + y^2) e_ph\n sage: v.display(spherical_frame, spherical)\n r*sin(th) e_ph\n sage: v[spherical_frame, :, spherical]\n``````\n",
    "created_at": "2018-03-18T13:40:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468899",
    "user": "https://github.com/egourgoulhon"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -29,6 +29,8 @@
 ```
 sage: spherical.<r,th,ph> = E.spherical_coordinates()
 sage: spherical_frame = E.spherical_frame()  # orthonormal frame (e_r, e_th, e_ph)
+sage: v.display(spherical_frame)
+sqrt(x^2 + y^2) e_ph
 sage: v.display(spherical_frame, spherical)
 r*sin(th) e_ph
 sage: v[spherical_frame, :, spherical]
``````




---

archive/issue_comments_468900.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n This ticket implements Euclidean spaces as Riemannian manifolds diffeomorphic to **R**<sup>n</sup> and equipped with a flat metric, which defines the Euclidean dot product. Using the operators introduced in #24622, this provides the standard operators of vector calculus: dot product, norm, cross product, gradient, divergence, curl and Laplacian, along with the standard coordinate systems (Cartesian, spherical, cylindrical, etc.).\n \n-See this [ask.sagemath question](https://ask.sagemath.org/question/40792/div-grad-and-curl-once-again/) for a motivation.\n+See this [ask.sagemath question](https://ask.sagemath.org/question/40792/div-grad-and-curl-once-again/) for a motivation, as well as this [one](https://ask.sagemath.org/question/41898/).\n \n The implementation is performed via the parent class `EuclideanSpaceGeneric`, which inherits from `PseudoRiemannianManifold` (introduced in #24622). Two subclasses are devoted to specific cases: \n - `EuclideanPlane` for n=2\n``````\n",
    "created_at": "2018-04-19T21:06:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468900",
    "user": "https://github.com/egourgoulhon"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 This ticket implements Euclidean spaces as Riemannian manifolds diffeomorphic to **R**<sup>n</sup> and equipped with a flat metric, which defines the Euclidean dot product. Using the operators introduced in #24622, this provides the standard operators of vector calculus: dot product, norm, cross product, gradient, divergence, curl and Laplacian, along with the standard coordinate systems (Cartesian, spherical, cylindrical, etc.).
 
-See this [ask.sagemath question](https://ask.sagemath.org/question/40792/div-grad-and-curl-once-again/) for a motivation.
+See this [ask.sagemath question](https://ask.sagemath.org/question/40792/div-grad-and-curl-once-again/) for a motivation, as well as this [one](https://ask.sagemath.org/question/41898/).
 
 The implementation is performed via the parent class `EuclideanSpaceGeneric`, which inherits from `PseudoRiemannianManifold` (introduced in #24622). Two subclasses are devoted to specific cases: 
 - `EuclideanPlane` for n=2
``````




---

archive/issue_comments_468901.json:
```json
{
    "body": "<a id='comment:29'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b821dac8549a977d6596a3ac66470de1d12441f7\">b821dac</a></td><td><code>Merge branch 'public/manifolds/Euclidean_spaces' of git://trac.sagemath.org/sage into public/manifolds/Euclidean_spaces</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3578e5f49d0f8ef92fca4b7cb5e1d818fa49a633\">3578e5f</a></td><td><code>Fusing EuclideanSpace function with EuclideanSpaceGeneric plus other misc reviewer changes.</code></td></tr></table>\n",
    "created_at": "2018-04-27T05:13:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468901",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b821dac8549a977d6596a3ac66470de1d12441f7">b821dac</a></td><td><code>Merge branch 'public/manifolds/Euclidean_spaces' of git://trac.sagemath.org/sage into public/manifolds/Euclidean_spaces</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3578e5f49d0f8ef92fca4b7cb5e1d818fa49a633">3578e5f</a></td><td><code>Fusing EuclideanSpace function with EuclideanSpaceGeneric plus other misc reviewer changes.</code></td></tr></table>




---

archive/issue_comments_468902.json:
```json
{
    "body": "**Changing commit** from \"[de74bb734f9f531bb6d991b14af20e58e6ebd683](https://github.com/sagemath/sagetrac-mirror/commit/de74bb734f9f531bb6d991b14af20e58e6ebd683)\" to \"[3578e5f49d0f8ef92fca4b7cb5e1d818fa49a633](https://github.com/sagemath/sagetrac-mirror/commit/3578e5f49d0f8ef92fca4b7cb5e1d818fa49a633)\".",
    "created_at": "2018-04-27T05:13:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468902",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[de74bb734f9f531bb6d991b14af20e58e6ebd683](https://github.com/sagemath/sagetrac-mirror/commit/de74bb734f9f531bb6d991b14af20e58e6ebd683)" to "[3578e5f49d0f8ef92fca4b7cb5e1d818fa49a633](https://github.com/sagemath/sagetrac-mirror/commit/3578e5f49d0f8ef92fca4b7cb5e1d818fa49a633)".



---

archive/issue_comments_468903.json:
```json
{
    "body": "**Changing commit** from \"[3578e5f49d0f8ef92fca4b7cb5e1d818fa49a633](https://github.com/sagemath/sagetrac-mirror/commit/3578e5f49d0f8ef92fca4b7cb5e1d818fa49a633)\" to \"[ab249df0d9dc01064ef68dd366941fe38e5a8e13](https://github.com/sagemath/sagetrac-mirror/commit/ab249df0d9dc01064ef68dd366941fe38e5a8e13)\".",
    "created_at": "2018-04-27T05:47:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468903",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3578e5f49d0f8ef92fca4b7cb5e1d818fa49a633](https://github.com/sagemath/sagetrac-mirror/commit/3578e5f49d0f8ef92fca4b7cb5e1d818fa49a633)" to "[ab249df0d9dc01064ef68dd366941fe38e5a8e13](https://github.com/sagemath/sagetrac-mirror/commit/ab249df0d9dc01064ef68dd366941fe38e5a8e13)".



---

archive/issue_comments_468904.json:
```json
{
    "body": "<a id='comment:30'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab249df0d9dc01064ef68dd366941fe38e5a8e13\">ab249df</a></td><td><code>Fusing EuclideanSpace function with EuclideanSpaceGeneric plus other misc reviewer changes.</code></td></tr></table>\n",
    "created_at": "2018-04-27T05:47:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468904",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab249df0d9dc01064ef68dd366941fe38e5a8e13">ab249df</a></td><td><code>Fusing EuclideanSpace function with EuclideanSpaceGeneric plus other misc reviewer changes.</code></td></tr></table>




---

archive/issue_comments_468905.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,10 +2,10 @@\n \n See this [ask.sagemath question](https://ask.sagemath.org/question/40792/div-grad-and-curl-once-again/) for a motivation, as well as this [one](https://ask.sagemath.org/question/41898/).\n \n-The implementation is performed via the parent class `EuclideanSpaceGeneric`, which inherits from `PseudoRiemannianManifold` (introduced in #24622). Two subclasses are devoted to specific cases: \n+The implementation is performed via the parent class `EuclideanSpace`, which inherits from `PseudoRiemannianManifold` (introduced in #24622). Two subclasses are devoted to specific cases: \n - `EuclideanPlane` for n=2\n - `Euclidean3dimSpace` for n=3\n-The user interface for constructing an Euclidean space relies on a single function: `EuclideanSpace`.\n+The user interface for constructing an Euclidean space relies on the `EuclideanSpace.__classcall_private__` to direct to the appropriate subclass.\n \n The implementation through the manifold framework allows for an easy use of various coordinate systems, along with the related transformations. However, the user interface does not assume any knowledge of Riemannian geometry. In particular, no direct manipulation of the metric tensor is required. \n \n``````\n",
    "created_at": "2018-04-27T05:51:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468905",
    "user": "https://github.com/tscrim"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,10 +2,10 @@
 
 See this [ask.sagemath question](https://ask.sagemath.org/question/40792/div-grad-and-curl-once-again/) for a motivation, as well as this [one](https://ask.sagemath.org/question/41898/).
 
-The implementation is performed via the parent class `EuclideanSpaceGeneric`, which inherits from `PseudoRiemannianManifold` (introduced in #24622). Two subclasses are devoted to specific cases: 
+The implementation is performed via the parent class `EuclideanSpace`, which inherits from `PseudoRiemannianManifold` (introduced in #24622). Two subclasses are devoted to specific cases: 
 - `EuclideanPlane` for n=2
 - `Euclidean3dimSpace` for n=3
-The user interface for constructing an Euclidean space relies on a single function: `EuclideanSpace`.
+The user interface for constructing an Euclidean space relies on the `EuclideanSpace.__classcall_private__` to direct to the appropriate subclass.
 
 The implementation through the manifold framework allows for an easy use of various coordinate systems, along with the related transformations. However, the user interface does not assume any knowledge of Riemannian geometry. In particular, no direct manipulation of the metric tensor is required. 
 
``````




---

archive/issue_comments_468906.json:
```json
{
    "body": "<a id='comment:31'></a>\nOkay, I have made my way through the code. Overall, it looks good.\n\nI remove the function `EuclideanSpace` and just used the `__classcall_private__` mechanism (provided by `UniqueRepresentation`) to make the class `EuclideanSpace` (formerly `EuclideanSpaceGeneric`) the main entry point.\n\nThere is something very subtle happening as *some* of the doctest output for display names of `arctan2(y, x)` needed to be `arctan(y/x)`. I do not understand why nor could I see what was causing this. It is not a blocker issue, but it is an indication that something might not be working properly.\n\nThe rest of my changes were mostly cosmetic.",
    "created_at": "2018-04-27T05:51:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468906",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:31'></a>
Okay, I have made my way through the code. Overall, it looks good.

I remove the function `EuclideanSpace` and just used the `__classcall_private__` mechanism (provided by `UniqueRepresentation`) to make the class `EuclideanSpace` (formerly `EuclideanSpaceGeneric`) the main entry point.

There is something very subtle happening as *some* of the doctest output for display names of `arctan2(y, x)` needed to be `arctan(y/x)`. I do not understand why nor could I see what was causing this. It is not a blocker issue, but it is an indication that something might not be working properly.

The rest of my changes were mostly cosmetic.



---

archive/issue_comments_468907.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2018-04-27T05:51:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468907",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_468908.json:
```json
{
    "body": "<a id='comment:32'></a>\nReplying to [tscrim](#comment%3A31):\n> Okay, I have made my way through the code. Overall, it looks good.\n\n\nThanks a lot for looking into this.\n> \n> I remove the function `EuclideanSpace` and just used the `__classcall_private__` mechanism (provided by `UniqueRepresentation`) to make the class `EuclideanSpace` (formerly `EuclideanSpaceGeneric`) the main entry point.\n\n\nThis is a nice improvement, thanks!\n> \n> There is something very subtle happening as *some* of the doctest output for display names of `arctan2(y, x)` needed to be `arctan(y/x)`. I do not understand why nor could I see what was causing this. It is not a blocker issue, but it is an indication that something might not be working properly.\n\n>\n\nIndeed; I will look into this...\n \n> The rest of my changes were mostly cosmetic.\n\n\nThanks for all of them.",
    "created_at": "2018-04-28T08:58:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468908",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:32'></a>
Replying to [tscrim](#comment%3A31):
> Okay, I have made my way through the code. Overall, it looks good.


Thanks a lot for looking into this.
> 
> I remove the function `EuclideanSpace` and just used the `__classcall_private__` mechanism (provided by `UniqueRepresentation`) to make the class `EuclideanSpace` (formerly `EuclideanSpaceGeneric`) the main entry point.


This is a nice improvement, thanks!
> 
> There is something very subtle happening as *some* of the doctest output for display names of `arctan2(y, x)` needed to be `arctan(y/x)`. I do not understand why nor could I see what was causing this. It is not a blocker issue, but it is an indication that something might not be working properly.

>

Indeed; I will look into this...
 
> The rest of my changes were mostly cosmetic.


Thanks for all of them.



---

archive/issue_comments_468909.json:
```json
{
    "body": "<a id='comment:33'></a>\nI should also say that if you approve of my changes, then you can set a positive review.\n\n(Unfortunately, a number of the doctests are just slow because of feeding calls off to Maxima and the simplifications. Although I don't think there is anything we can do about that.)",
    "created_at": "2018-04-28T09:35:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468909",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:33'></a>
I should also say that if you approve of my changes, then you can set a positive review.

(Unfortunately, a number of the doctests are just slow because of feeding calls off to Maxima and the simplifications. Although I don't think there is anything we can do about that.)



---

archive/issue_comments_468910.json:
```json
{
    "body": "**Changing commit** from \"[ab249df0d9dc01064ef68dd366941fe38e5a8e13](https://github.com/sagemath/sagetrac-mirror/commit/ab249df0d9dc01064ef68dd366941fe38e5a8e13)\" to \"[220726c07bc00ba69b12a5cc7dc9499d930f1e8c](https://github.com/sagemath/sagetrac-mirror/commit/220726c07bc00ba69b12a5cc7dc9499d930f1e8c)\".",
    "created_at": "2018-04-30T16:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468910",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ab249df0d9dc01064ef68dd366941fe38e5a8e13](https://github.com/sagemath/sagetrac-mirror/commit/ab249df0d9dc01064ef68dd366941fe38e5a8e13)" to "[220726c07bc00ba69b12a5cc7dc9499d930f1e8c](https://github.com/sagemath/sagetrac-mirror/commit/220726c07bc00ba69b12a5cc7dc9499d930f1e8c)".



---

archive/issue_comments_468911.json:
```json
{
    "body": "<a id='comment:34'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/654b0aa622835a872b61ca26e2ffa8abc8e840a9\">654b0aa</a></td><td><code>Merge branch 'public/manifolds/Euclidean_spaces' of git://trac.sagemath.org/sage into Sage 8.2.rc4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/220726c07bc00ba69b12a5cc7dc9499d930f1e8c\">220726c</a></td><td><code>A few minor changes in doctests of Euclidean spaces</code></td></tr></table>\n",
    "created_at": "2018-04-30T16:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468911",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/654b0aa622835a872b61ca26e2ffa8abc8e840a9">654b0aa</a></td><td><code>Merge branch 'public/manifolds/Euclidean_spaces' of git://trac.sagemath.org/sage into Sage 8.2.rc4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/220726c07bc00ba69b12a5cc7dc9499d930f1e8c">220726c</a></td><td><code>A few minor changes in doctests of Euclidean spaces</code></td></tr></table>




---

archive/issue_comments_468912.json:
```json
{
    "body": "<a id='comment:35'></a>\nThe above commit fixes the `arctan` issue mentioned in[comment:31](#comment%3A31): it was due to the declaration \n\n```\nsage: E3.<x,t,p> = EuclideanSpace(coordinates='spherical')\n```\nin line 591 of `euclidean.py`, which had the side effect of adding `x>0` to Sage's assumptions. Then subsequent doctests involving `arctan2(y, x)` automatically replaced it by `arctan(y/x)`. I changed the variable `x` to `r` in the declaration of `E3` (which btw fits better with standard notation for spherical coordinates) and everything was OK, i.e. all `arctan2(y, x)` could be restored. \n\nMoreover, since it is now possible to skip the dimension as first argument of `EuclideanSpace` in constructions of the type `E.<x,y> = EuclideanSpace()` (thank you for this improvement!), I systematically removed the dimension argument and added a sentence in the documentation about this. \n\nI also took the opportunity of this commit to add a [single-line fix](https://git.sagemath.org/sage.git/diff/src/sage/manifolds/differentiable/vectorfield_module.py?id=220726c07bc00ba69b12a5cc7dc9499d930f1e8c) of a (small) bug in `src/sage/manifolds/differentiable/vectorfield_module.py` revealed after the dependency ticket #24792 was merged. I hope you do not mind.",
    "created_at": "2018-04-30T16:36:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468912",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:35'></a>
The above commit fixes the `arctan` issue mentioned in[comment:31](#comment%3A31): it was due to the declaration 

```
sage: E3.<x,t,p> = EuclideanSpace(coordinates='spherical')
```
in line 591 of `euclidean.py`, which had the side effect of adding `x>0` to Sage's assumptions. Then subsequent doctests involving `arctan2(y, x)` automatically replaced it by `arctan(y/x)`. I changed the variable `x` to `r` in the declaration of `E3` (which btw fits better with standard notation for spherical coordinates) and everything was OK, i.e. all `arctan2(y, x)` could be restored. 

Moreover, since it is now possible to skip the dimension as first argument of `EuclideanSpace` in constructions of the type `E.<x,y> = EuclideanSpace()` (thank you for this improvement!), I systematically removed the dimension argument and added a sentence in the documentation about this. 

I also took the opportunity of this commit to add a [single-line fix](https://git.sagemath.org/sage.git/diff/src/sage/manifolds/differentiable/vectorfield_module.py?id=220726c07bc00ba69b12a5cc7dc9499d930f1e8c) of a (small) bug in `src/sage/manifolds/differentiable/vectorfield_module.py` revealed after the dependency ticket #24792 was merged. I hope you do not mind.



---

archive/issue_comments_468913.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2018-04-30T22:54:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468913",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_468914.json:
```json
{
    "body": "<a id='comment:36'></a>\nYep, LGTM. Thank you for tracking that down.",
    "created_at": "2018-04-30T22:54:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468914",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:36'></a>
Yep, LGTM. Thank you for tracking that down.



---

archive/issue_comments_468915.json:
```json
{
    "body": "<a id='comment:37'></a>\nReplying to [tscrim](#comment%3A36):\n> Yep, LGTM. Thank you for tracking that down.\n\n\nThank you very much for the review, and the associated improvements in the code!",
    "created_at": "2018-05-01T10:23:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468915",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:37'></a>
Replying to [tscrim](#comment%3A36):
> Yep, LGTM. Thank you for tracking that down.


Thank you very much for the review, and the associated improvements in the code!



---

archive/issue_events_070543.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-08T17:26:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24623#event-70543"
}
```



---

archive/issue_comments_468916.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2018-05-08T17:26:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468916",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_comments_468917.json:
```json
{
    "body": "**Changing branch** from \"[public/manifolds/Euclidean_spaces](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/Euclidean_spaces)\" to \"[220726c07bc00ba69b12a5cc7dc9499d930f1e8c](https://github.com/sagemath/sagetrac-mirror/commit/220726c07bc00ba69b12a5cc7dc9499d930f1e8c)\".",
    "created_at": "2018-05-08T17:26:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468917",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/manifolds/Euclidean_spaces](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/Euclidean_spaces)" to "[220726c07bc00ba69b12a5cc7dc9499d930f1e8c](https://github.com/sagemath/sagetrac-mirror/commit/220726c07bc00ba69b12a5cc7dc9499d930f1e8c)".



---

archive/issue_events_070544.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-05-12T21:47:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24623#event-70544"
}
```



---

archive/issue_comments_468918.json:
```json
{
    "body": "**Changing commit** from \"[220726c07bc00ba69b12a5cc7dc9499d930f1e8c](https://github.com/sagemath/sagetrac-mirror/commit/220726c07bc00ba69b12a5cc7dc9499d930f1e8c)\" to \"\".",
    "created_at": "2018-05-12T21:47:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468918",
    "user": "https://github.com/slel"
}
```

**Changing commit** from "[220726c07bc00ba69b12a5cc7dc9499d930f1e8c](https://github.com/sagemath/sagetrac-mirror/commit/220726c07bc00ba69b12a5cc7dc9499d930f1e8c)" to "".



---

archive/issue_comments_468919.json:
```json
{
    "body": "<a id='comment:39'></a>\nMerged in Sage 8.3.beta0.",
    "created_at": "2018-05-12T21:47:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24623#issuecomment-468919",
    "user": "https://github.com/slel"
}
```

<a id='comment:39'></a>
Merged in Sage 8.3.beta0.
