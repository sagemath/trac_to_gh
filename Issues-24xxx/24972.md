# Issue 24972: Package sphinxcontrib_websupport

archive/issues_024735.json:
```json
{
    "body": "Running Sphinx from the command-line is typically done by the `sphinx-build` script. This requires that all dependencies of Sphinx are actually installed (even if they are not used). This means that `typing` and `sphinxcontrib-websupport` should be added as dependencies of Sphinx.\n\nOtherwise, you get errors like\n\n```\n[cvxopt-1.1.8.p2] sphinx-build -b html -d build/doctrees   source build/html\n[cvxopt-1.1.8.p2] Traceback (most recent call last):\n[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/bin/sphinx-build\", line 6, in <module>\n[cvxopt-1.1.8.p2]     from pkg_resources import load_entry_point\n[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3144, in <module>\n[cvxopt-1.1.8.p2]     @_call_aside\n[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3128, in _call_aside\n[cvxopt-1.1.8.p2]     f(*args, **kwargs)\n[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3157, in _initialize_master_working_set\n[cvxopt-1.1.8.p2]     working_set = WorkingSet._build_master()\n[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 666, in _build_master\n[cvxopt-1.1.8.p2]     ws.require(__requires__)\n[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 984, in require\n[cvxopt-1.1.8.p2]     needed = self.resolve(parse_requirements(requirements))\n[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 870, in resolve\n[cvxopt-1.1.8.p2]     raise DistributionNotFound(req, requirers)\n[cvxopt-1.1.8.p2] pkg_resources.DistributionNotFound: The 'sphinxcontrib-websupport' distribution was not found and is required by Sphinx\n```\nNote that it is Sphinx itself which requires `sphinxcontrib-websupport`. This is unrelated to `cvxopt` but I'm just using that as example because of #14645.\n\n**Tarball**: https://pypi.python.org/packages/c5/6b/f0630436b931ad4f8331a9399ca18a7d447f0fcc0c7178fb56b1aee68d01/sphinxcontrib-websupport-1.0.1.tar.gz#md5=84df26463b1ba65b07f926dbe2055665\n\nCC:  @dimpase\n\nReviewer: Jeroen Demeyer, Dima Pasechnik\n\nAuthor: Dima Pasechnik, Jeroen Demeyer\n\nBranch: 8ecd93c090134045ab8ea3870215c630db23488e\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24972\n\n",
    "closed_at": "2018-03-22T19:23:18Z",
    "created_at": "2018-03-14T08:35:50Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Package sphinxcontrib_websupport",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24972",
    "user": "https://github.com/jdemeyer"
}
```
Running Sphinx from the command-line is typically done by the `sphinx-build` script. This requires that all dependencies of Sphinx are actually installed (even if they are not used). This means that `typing` and `sphinxcontrib-websupport` should be added as dependencies of Sphinx.

Otherwise, you get errors like

```
[cvxopt-1.1.8.p2] sphinx-build -b html -d build/doctrees   source build/html
[cvxopt-1.1.8.p2] Traceback (most recent call last):
[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/bin/sphinx-build", line 6, in <module>
[cvxopt-1.1.8.p2]     from pkg_resources import load_entry_point
[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 3144, in <module>
[cvxopt-1.1.8.p2]     @_call_aside
[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 3128, in _call_aside
[cvxopt-1.1.8.p2]     f(*args, **kwargs)
[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 3157, in _initialize_master_working_set
[cvxopt-1.1.8.p2]     working_set = WorkingSet._build_master()
[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 666, in _build_master
[cvxopt-1.1.8.p2]     ws.require(__requires__)
[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 984, in require
[cvxopt-1.1.8.p2]     needed = self.resolve(parse_requirements(requirements))
[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 870, in resolve
[cvxopt-1.1.8.p2]     raise DistributionNotFound(req, requirers)
[cvxopt-1.1.8.p2] pkg_resources.DistributionNotFound: The 'sphinxcontrib-websupport' distribution was not found and is required by Sphinx
```
Note that it is Sphinx itself which requires `sphinxcontrib-websupport`. This is unrelated to `cvxopt` but I'm just using that as example because of #14645.

**Tarball**: https://pypi.python.org/packages/c5/6b/f0630436b931ad4f8331a9399ca18a7d447f0fcc0c7178fb56b1aee68d01/sphinxcontrib-websupport-1.0.1.tar.gz#md5=84df26463b1ba65b07f926dbe2055665

CC:  @dimpase

Reviewer: Jeroen Demeyer, Dima Pasechnik

Author: Dima Pasechnik, Jeroen Demeyer

Branch: 8ecd93c090134045ab8ea3870215c630db23488e

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24972





---

archive/issue_comments_475082.json:
```json
{
    "body": "Changing author from \"Jeroen Demeyer\" to \"Dima Pasechnik, Jeroen Demeyer\"",
    "created_at": "2018-03-14T08:37:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24972#issuecomment-475082",
    "user": "https://github.com/jdemeyer"
}
```

Changing author from "Jeroen Demeyer" to "Dima Pasechnik, Jeroen Demeyer"



---

archive/issue_comments_475083.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/package_sphinxcontrib_websupport\"",
    "created_at": "2018-03-14T08:42:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24972#issuecomment-475083",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/package_sphinxcontrib_websupport"



---

archive/issue_comments_475084.json:
```json
{
    "body": "Changing commit from \"\" to \"398716f9622ba9fad714e0be055988bbceb2107c\"",
    "created_at": "2018-03-14T09:34:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24972#issuecomment-475084",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "398716f9622ba9fad714e0be055988bbceb2107c"



---

archive/issue_comments_475085.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2018-03-14T09:34:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24972#issuecomment-475085",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_475086.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,26 @@\n+Running Sphinx from the command-line is typically done by the `sphinx-build` script. This requires that all dependencies of Sphinx are actually installed (even if they are not used). This means that `typing` and `sphinxcontrib-websupport` should be added as dependencies of Sphinx.\n+\n+Otherwise, you get errors like\n+\n+```\n+[cvxopt-1.1.8.p2] sphinx-build -b html -d build/doctrees   source build/html\n+[cvxopt-1.1.8.p2] Traceback (most recent call last):\n+[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/bin/sphinx-build\", line 6, in <module>\n+[cvxopt-1.1.8.p2]     from pkg_resources import load_entry_point\n+[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3144, in <module>\n+[cvxopt-1.1.8.p2]     @_call_aside\n+[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3128, in _call_aside\n+[cvxopt-1.1.8.p2]     f(*args, **kwargs)\n+[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3157, in _initialize_master_working_set\n+[cvxopt-1.1.8.p2]     working_set = WorkingSet._build_master()\n+[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 666, in _build_master\n+[cvxopt-1.1.8.p2]     ws.require(__requires__)\n+[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 984, in require\n+[cvxopt-1.1.8.p2]     needed = self.resolve(parse_requirements(requirements))\n+[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 870, in resolve\n+[cvxopt-1.1.8.p2]     raise DistributionNotFound(req, requirers)\n+[cvxopt-1.1.8.p2] pkg_resources.DistributionNotFound: The 'sphinxcontrib-websupport' distribution was not found and is required by Sphinx\n+```\n+Note that it is Sphinx itself which requires `sphinxcontrib-websupport`. This is unrelated to `cvxopt` but I'm just using that as example because of #14645.\n+\n **Tarball**: https://pypi.python.org/packages/c5/6b/f0630436b931ad4f8331a9399ca18a7d447f0fcc0c7178fb56b1aee68d01/sphinxcontrib-websupport-1.0.1.tar.gz#md5=84df26463b1ba65b07f926dbe2055665\n``````\n",
    "created_at": "2018-03-14T09:34:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24972#issuecomment-475086",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,26 @@
+Running Sphinx from the command-line is typically done by the `sphinx-build` script. This requires that all dependencies of Sphinx are actually installed (even if they are not used). This means that `typing` and `sphinxcontrib-websupport` should be added as dependencies of Sphinx.
+
+Otherwise, you get errors like
+
+```
+[cvxopt-1.1.8.p2] sphinx-build -b html -d build/doctrees   source build/html
+[cvxopt-1.1.8.p2] Traceback (most recent call last):
+[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/bin/sphinx-build", line 6, in <module>
+[cvxopt-1.1.8.p2]     from pkg_resources import load_entry_point
+[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 3144, in <module>
+[cvxopt-1.1.8.p2]     @_call_aside
+[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 3128, in _call_aside
+[cvxopt-1.1.8.p2]     f(*args, **kwargs)
+[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 3157, in _initialize_master_working_set
+[cvxopt-1.1.8.p2]     working_set = WorkingSet._build_master()
+[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 666, in _build_master
+[cvxopt-1.1.8.p2]     ws.require(__requires__)
+[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 984, in require
+[cvxopt-1.1.8.p2]     needed = self.resolve(parse_requirements(requirements))
+[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 870, in resolve
+[cvxopt-1.1.8.p2]     raise DistributionNotFound(req, requirers)
+[cvxopt-1.1.8.p2] pkg_resources.DistributionNotFound: The 'sphinxcontrib-websupport' distribution was not found and is required by Sphinx
+```
+Note that it is Sphinx itself which requires `sphinxcontrib-websupport`. This is unrelated to `cvxopt` but I'm just using that as example because of #14645.
+
 **Tarball**: https://pypi.python.org/packages/c5/6b/f0630436b931ad4f8331a9399ca18a7d447f0fcc0c7178fb56b1aee68d01/sphinxcontrib-websupport-1.0.1.tar.gz#md5=84df26463b1ba65b07f926dbe2055665
``````




---

archive/issue_comments_475087.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-03-14T09:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24972#issuecomment-475087",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_475088.json:
```json
{
    "body": "Changing commit from \"398716f9622ba9fad714e0be055988bbceb2107c\" to \"8ecd93c090134045ab8ea3870215c630db23488e\"",
    "created_at": "2018-03-14T09:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24972#issuecomment-475088",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "398716f9622ba9fad714e0be055988bbceb2107c" to "8ecd93c090134045ab8ea3870215c630db23488e"



---

archive/issue_comments_475089.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-03-14T09:40:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24972#issuecomment-475089",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_475090.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer, Dima Pasechnik\"",
    "created_at": "2018-03-14T11:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24972#issuecomment-475090",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Jeroen Demeyer, Dima Pasechnik"



---

archive/issue_comments_475091.json:
```json
{
    "body": "<a id='comment:6'></a>looks good to me.",
    "created_at": "2018-03-14T11:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24972#issuecomment-475091",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>looks good to me.



---

archive/issue_comments_475092.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-03-14T11:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24972#issuecomment-475092",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_475093.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/package_sphinxcontrib_websupport\" to \"8ecd93c090134045ab8ea3870215c630db23488e\"",
    "created_at": "2018-03-22T19:23:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24972#issuecomment-475093",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jdemeyer/package_sphinxcontrib_websupport" to "8ecd93c090134045ab8ea3870215c630db23488e"



---

archive/issue_comments_475094.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-03-22T19:23:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24972#issuecomment-475094",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_062653.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-22T19:23:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24972",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24972#event-62653"
}
```



---

archive/issue_comments_475095.json:
```json
{
    "body": "Changing commit from \"8ecd93c090134045ab8ea3870215c630db23488e\" to \"\"",
    "created_at": "2018-05-03T15:17:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24972#issuecomment-475095",
    "user": "https://github.com/koffie"
}
```

Changing commit from "8ecd93c090134045ab8ea3870215c630db23488e" to ""



---

archive/issue_comments_475096.json:
```json
{
    "body": "<a id='comment:8'></a>I just ran into this issue as well (see https://travis-ci.org/koffie/mdsage/jobs/374406653). It is good to see it is fixed. However it does make me wonder how it was possible that this problem got silently into sage-8.1? Is there no test somewhere that the sphinx-build script we ship is actually working? Looking at the code here it seems also that no such test was added, should there be one?",
    "created_at": "2018-05-03T15:17:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24972#issuecomment-475096",
    "user": "https://github.com/koffie"
}
```

<a id='comment:8'></a>I just ran into this issue as well (see https://travis-ci.org/koffie/mdsage/jobs/374406653). It is good to see it is fixed. However it does make me wonder how it was possible that this problem got silently into sage-8.1? Is there no test somewhere that the sphinx-build script we ship is actually working? Looking at the code here it seems also that no such test was added, should there be one?
