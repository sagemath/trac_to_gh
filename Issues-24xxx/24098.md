# Issue 24098: S_hilbert_symbol() helper function to find integer with negative Hilbert symbol for primes in a set S

archive/issues_023861.json:
```json
{
    "body": "This is an implementation of algorithm 3.4.1 from Markus Kirschmer's \"Definite quadratic and hermitian forms with small class number.\"  Given a non-square b and a set of primes S, the function returns a number a which has negative Hilbert symbol with respect to b at precisely the primes in S.  \n\nThis is a function in service to algorithm 3.4.3, `quadratic_form_form_local_invariants()`, ticket #24108.\n\nCC:  mroy sbrudzin jduque\n\nKeywords: sd90\n\nBranch/Commit: bca5e62b90d0e84b086b412cd6cabe4a244038ca\n\nReviewer: Simon Brandhorst, Anna Haensch\n\nAuthor: Simon Brandhorst, Anna Haensch, Manami Roy, Juanita Duque, Sandi Rudzinski\n\nDependencies: #25023,#25029\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24098\n\n",
    "closed_at": "2019-05-24T18:29:46Z",
    "created_at": "2017-10-24T16:07:28Z",
    "labels": [
        "component: basic arithmetic",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.8",
    "title": "S_hilbert_symbol() helper function to find integer with negative Hilbert symbol for primes in a set S",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24098",
    "user": "https://github.com/annahaensch"
}
```
This is an implementation of algorithm 3.4.1 from Markus Kirschmer's "Definite quadratic and hermitian forms with small class number."  Given a non-square b and a set of primes S, the function returns a number a which has negative Hilbert symbol with respect to b at precisely the primes in S.  

This is a function in service to algorithm 3.4.3, `quadratic_form_form_local_invariants()`, ticket #24108.

CC:  mroy sbrudzin jduque

Keywords: sd90

Branch/Commit: bca5e62b90d0e84b086b412cd6cabe4a244038ca

Reviewer: Simon Brandhorst, Anna Haensch

Author: Simon Brandhorst, Anna Haensch, Manami Roy, Juanita Duque, Sandi Rudzinski

Dependencies: #25023,#25029

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24098





---

archive/issue_events_069582.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "rename": {
        "from": "_S_hilbert_symbol() helper function to find integer with negative Hilbert symbol for primes in at set S",
        "to": "S_hilbert_symbol() helper function to find integer with negative Hilbert symbol for primes in at set S"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24098#event-69582"
}
```



---

archive/issue_comments_458049.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n This is an implementation of algorithm 3.4.1 from Markus Kirschmer's \"Definite quadratic and hermitian forms with small class number.\"  Given a non-square b and a set of primes S, the function returns a number a which has negative Hilbert symbol with respect to b at precisely the primes in S.  \n \n-This is a helper functioning service to algorithm 3.4.3, quadratic_form_form_local_invariants(), ticket TK. \n+This is a function in service to algorithm 3.4.3, quadratic_form_form_local_invariants(), ticket TK. \n``````\n",
    "created_at": "2017-10-25T00:07:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458049",
    "user": "https://github.com/annahaensch"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 This is an implementation of algorithm 3.4.1 from Markus Kirschmer's "Definite quadratic and hermitian forms with small class number."  Given a non-square b and a set of primes S, the function returns a number a which has negative Hilbert symbol with respect to b at precisely the primes in S.  
 
-This is a helper functioning service to algorithm 3.4.3, quadratic_form_form_local_invariants(), ticket TK. 
+This is a function in service to algorithm 3.4.3, quadratic_form_form_local_invariants(), ticket TK. 
``````




---

archive/issue_comments_458050.json:
```json
{
    "body": "Changing branch from \"\" to \"u/annahaensch/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s\"",
    "created_at": "2017-10-25T00:16:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458050",
    "user": "https://github.com/annahaensch"
}
```

Changing branch from "" to "u/annahaensch/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s"



---

archive/issue_comments_458051.json:
```json
{
    "body": "<a id='comment:3'></a>\nNew commits:\n|                                                                                                                                          |                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n|[ec55c0d](https://github.com/sagemath/sagetrac-mirror/commit/ec55c0d42702b1bf86f12e9e0cdb13f3c76949d2)|`Adds function S_hilbert_symbol`|",
    "created_at": "2017-10-25T00:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458051",
    "user": "https://github.com/annahaensch"
}
```

<a id='comment:3'></a>
New commits:
|                                                                                                                                          |                                |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
|[ec55c0d](https://github.com/sagemath/sagetrac-mirror/commit/ec55c0d42702b1bf86f12e9e0cdb13f3c76949d2)|`Adds function S_hilbert_symbol`|



---

archive/issue_comments_458052.json:
```json
{
    "body": "Changing commit from \"\" to \"ec55c0d42702b1bf86f12e9e0cdb13f3c76949d2\"",
    "created_at": "2017-10-25T00:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458052",
    "user": "https://github.com/annahaensch"
}
```

Changing commit from "" to "ec55c0d42702b1bf86f12e9e0cdb13f3c76949d2"



---

archive/issue_comments_458053.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-10-25T00:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458053",
    "user": "https://github.com/annahaensch"
}
```

Changing status from new to needs_review.



---

archive/issue_events_069583.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "rename": {
        "from": "S_hilbert_symbol() helper function to find integer with negative Hilbert symbol for primes in at set S",
        "to": "S_hilbert_symbol() helper function to find integer with negative Hilbert symbol for primes in a set S"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24098#event-69583"
}
```



---

archive/issue_comments_458054.json:
```json
{
    "body": "Changing keywords from \"#sd90\" to \"sd90\".",
    "created_at": "2017-10-25T21:04:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458054",
    "user": "https://github.com/annahaensch"
}
```

Changing keywords from "#sd90" to "sd90".



---

archive/issue_comments_458055.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Simon Brandhorst\"",
    "created_at": "2017-11-24T08:03:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458055",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing reviewer from "" to "Simon Brandhorst"



---

archive/issue_comments_458056.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n This is an implementation of algorithm 3.4.1 from Markus Kirschmer's \"Definite quadratic and hermitian forms with small class number.\"  Given a non-square b and a set of primes S, the function returns a number a which has negative Hilbert symbol with respect to b at precisely the primes in S.  \n \n-This is a function in service to algorithm 3.4.3, quadratic_form_form_local_invariants(), ticket TK. \n+This is a function in service to algorithm 3.4.3, `quadratic_form_form_local_invariants()`, ticket #24108.\n``````\n",
    "created_at": "2017-11-24T08:03:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458056",
    "user": "https://github.com/simonbrandhorst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 This is an implementation of algorithm 3.4.1 from Markus Kirschmer's "Definite quadratic and hermitian forms with small class number."  Given a non-square b and a set of primes S, the function returns a number a which has negative Hilbert symbol with respect to b at precisely the primes in S.  
 
-This is a function in service to algorithm 3.4.3, quadratic_form_form_local_invariants(), ticket TK. 
+This is a function in service to algorithm 3.4.3, `quadratic_form_form_local_invariants()`, ticket #24108.
``````




---

archive/issue_comments_458057.json:
```json
{
    "body": "<a id='comment:9'></a>\nSo here are some thoughts:\n\nThis is just a helper function so it should not pollute the global namespace.\nIs there a reason that you have implemented Markus algorithm just for `QQ`?\nThe beauty of Markus' work is that he did it directly for number fields.\nIt should not be too hard to do it for number fields.\nAll the necessary functions like class groups, ideals, hilbert symbols, places, are there:\n\n```\nsage: K.<a>=CyclotomicField(13)\nsage: P=K.primes_above(3)[0]\nsage: P\nFractional ideal (3, a^3 - a - 1)\nsage: K.hilbert_symbol(3,1+a,P)\n1\n```\nWe can define the function as a method of the number field. Just like the hilbert_symbol.\nMaybe the name S_hilbert_symbol is misleading? I would expect it to be the global hilbert_symbol of the localization at S or something like that. This function seems more like an inverse image?\nmaybe hilbert_symbol_inv_S?\n\nSome remarks for formatting:\nComments should be of the form (note the space)\n\n```\n# foo does bla\nfoo = 3 \n```\nSee https://www.python.org/dev/peps/pep-0008/#comments.\n\nYou are redefining V,W,vv in the while loop.\nBut really they stay constant. So they should not sit in the loop.\n\nUse the names of Markus if possible or more descriptive names.\nHH,PP etc. is not very descriptive. Same for i,j.\nI do not see the need to define H. Why hide everything in lists?\n\nEither use the verbose things or remove them.",
    "created_at": "2017-11-24T09:52:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458057",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:9'></a>
So here are some thoughts:

This is just a helper function so it should not pollute the global namespace.
Is there a reason that you have implemented Markus algorithm just for `QQ`?
The beauty of Markus' work is that he did it directly for number fields.
It should not be too hard to do it for number fields.
All the necessary functions like class groups, ideals, hilbert symbols, places, are there:

```
sage: K.<a>=CyclotomicField(13)
sage: P=K.primes_above(3)[0]
sage: P
Fractional ideal (3, a^3 - a - 1)
sage: K.hilbert_symbol(3,1+a,P)
1
```
We can define the function as a method of the number field. Just like the hilbert_symbol.
Maybe the name S_hilbert_symbol is misleading? I would expect it to be the global hilbert_symbol of the localization at S or something like that. This function seems more like an inverse image?
maybe hilbert_symbol_inv_S?

Some remarks for formatting:
Comments should be of the form (note the space)

```
# foo does bla
foo = 3 
```
See https://www.python.org/dev/peps/pep-0008/#comments.

You are redefining V,W,vv in the while loop.
But really they stay constant. So they should not sit in the loop.

Use the names of Markus if possible or more descriptive names.
HH,PP etc. is not very descriptive. Same for i,j.
I do not see the need to define H. Why hide everything in lists?

Either use the verbose things or remove them.



---

archive/issue_comments_458058.json:
```json
{
    "body": "<a id='comment:10'></a>\nIt is good to test the error messages. But they belong to the\nTESTS:: block not the EXAMPLES:: block.\n-> they do not need to show up in the documentation.",
    "created_at": "2017-11-24T17:25:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458058",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:10'></a>
It is good to test the error messages. But they belong to the
TESTS:: block not the EXAMPLES:: block.
-> they do not need to show up in the documentation.



---

archive/issue_comments_458059.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-11-29T08:29:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458059",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_458060.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#25023\"",
    "created_at": "2018-05-01T17:57:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458060",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing dependencies from "" to "#25023"



---

archive/issue_comments_458061.json:
```json
{
    "body": "Changing branch from \"u/annahaensch/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s\" to \"u/sbrandhorst/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s\"",
    "created_at": "2018-05-01T21:04:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458061",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing branch from "u/annahaensch/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s" to "u/sbrandhorst/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s"



---

archive/issue_comments_458062.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-05-01T21:05:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458062",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_458063.json:
```json
{
    "body": "Changing branch from \"u/sbrandhorst/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s\" to \"u/annahaensch/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s\"",
    "created_at": "2018-05-01T21:05:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458063",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing branch from "u/sbrandhorst/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s" to "u/annahaensch/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s"



---

archive/issue_comments_458064.json:
```json
{
    "body": "<a id='comment:14'></a>\nHow about `hilbert_conductor_inverse` as a name?\nProblem is this exists and is (allmost) the same function.\nIdeas? I would like to move it as a method of `QQ`.",
    "created_at": "2018-05-01T21:05:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458064",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:14'></a>
How about `hilbert_conductor_inverse` as a name?
Problem is this exists and is (allmost) the same function.
Ideas? I would like to move it as a method of `QQ`.



---

archive/issue_comments_458065.json:
```json
{
    "body": "Changing branch from \"u/annahaensch/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s\" to \"u/sbrandhorst/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s\"",
    "created_at": "2018-05-01T21:07:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458065",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing branch from "u/annahaensch/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s" to "u/sbrandhorst/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s"



---

archive/issue_comments_458066.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------|\n|[61faa15](https://github.com/sagemath/sagetrac-mirror/commit/61faa15afef6589f0a8131cbf593c0078f89ce9f)|`Clean up`|",
    "created_at": "2018-05-02T06:10:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458066",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------|
|[61faa15](https://github.com/sagemath/sagetrac-mirror/commit/61faa15afef6589f0a8131cbf593c0078f89ce9f)|`Clean up`|



---

archive/issue_comments_458067.json:
```json
{
    "body": "Changing commit from \"ec55c0d42702b1bf86f12e9e0cdb13f3c76949d2\" to \"61faa15afef6589f0a8131cbf593c0078f89ce9f\"",
    "created_at": "2018-05-02T06:10:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458067",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ec55c0d42702b1bf86f12e9e0cdb13f3c76949d2" to "61faa15afef6589f0a8131cbf593c0078f89ce9f"



---

archive/issue_comments_458068.json:
```json
{
    "body": "Changing author from \"Anna Haensch, Manami Roy, Juanita Duque, Sandi Rudzinski\" to \"Simon Brandhorst, Anna Haensch, Manami Roy, Juanita Duque, Sandi Rudzinski\"",
    "created_at": "2018-05-02T06:11:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458068",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing author from "Anna Haensch, Manami Roy, Juanita Duque, Sandi Rudzinski" to "Simon Brandhorst, Anna Haensch, Manami Roy, Juanita Duque, Sandi Rudzinski"



---

archive/issue_comments_458069.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [sbrandhorst](#comment%3A14):\n> How about `hilbert_conductor_inverse` as a name?\n\n\nI'm not sure about that name, it already exists and means something else.  I am happy with S_hilbert_symbol since it's restricting the Hilbert symbol at a finite set of primes, it's pretty consistent with your initial interpretation in comment 9; a hilbert symbol taken at a finite number of localizations.  \n \n> Problem is this exists and is (allmost) the same function.\n> Ideas? I would like to move it as a method of `QQ`.\n\n\nEventually we can split this into two methods, one for QQ an one for number fields.  I've got the general number fields method queued up and ready to go as soon as tickets #25023 and #25029 are positively reviewed.",
    "created_at": "2018-05-03T20:16:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458069",
    "user": "https://github.com/annahaensch"
}
```

<a id='comment:18'></a>
Replying to [sbrandhorst](#comment%3A14):
> How about `hilbert_conductor_inverse` as a name?


I'm not sure about that name, it already exists and means something else.  I am happy with S_hilbert_symbol since it's restricting the Hilbert symbol at a finite set of primes, it's pretty consistent with your initial interpretation in comment 9; a hilbert symbol taken at a finite number of localizations.  
 
> Problem is this exists and is (allmost) the same function.
> Ideas? I would like to move it as a method of `QQ`.


Eventually we can split this into two methods, one for QQ an one for number fields.  I've got the general number fields method queued up and ready to go as soon as tickets #25023 and #25029 are positively reviewed.



---

archive/issue_comments_458070.json:
```json
{
    "body": "<a id='comment:19'></a>\nMhh I do not like the prefix S_. In methods like S_unit_group and S_class_group, the primes in S are inverted. But we are not inverting anything - we are working in fields anyways. So there is no relation to this kind of objects? Finally in these S-rings one can define a hilbert symbol and we are not computing it.\n\nFor `b` and `S` given our function computes `a` such that `hilbert_conductor(a,b) = prod(S)` plus a condition at infinity. So I think that it is pretty close. And I like the idea that if you type\n`hilbert` + autocompletion you get this method suggested. \nSo maybe \n\n- `hilbert_something`\n- `hilbert_conductor_something`\n- `hilbert_conductor_inverse` with optional argument `b`?\n- `hilbert_conductor_inverse_S`?\n\nooops I have the numberfield version ready as well",
    "created_at": "2018-05-04T05:51:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458070",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:19'></a>
Mhh I do not like the prefix S_. In methods like S_unit_group and S_class_group, the primes in S are inverted. But we are not inverting anything - we are working in fields anyways. So there is no relation to this kind of objects? Finally in these S-rings one can define a hilbert symbol and we are not computing it.

For `b` and `S` given our function computes `a` such that `hilbert_conductor(a,b) = prod(S)` plus a condition at infinity. So I think that it is pretty close. And I like the idea that if you type
`hilbert` + autocompletion you get this method suggested. 
So maybe 

- `hilbert_something`
- `hilbert_conductor_something`
- `hilbert_conductor_inverse` with optional argument `b`?
- `hilbert_conductor_inverse_S`?

ooops I have the numberfield version ready as well



---

archive/issue_comments_458071.json:
```json
{
    "body": "<a id='comment:20'></a>\nHow about `hilbert_symbol_positive_at_S`?",
    "created_at": "2018-05-04T17:59:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458071",
    "user": "https://github.com/annahaensch"
}
```

<a id='comment:20'></a>
How about `hilbert_symbol_positive_at_S`?



---

archive/issue_comments_458072.json:
```json
{
    "body": "<a id='comment:21'></a>\ni could settle for\nhilbert_symbol_negative_at_S\n\n:)",
    "created_at": "2018-05-05T10:31:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458072",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:21'></a>
i could settle for
hilbert_symbol_negative_at_S

:)



---

archive/issue_comments_458073.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [sbrandhorst](#comment%3A21):\n> i could settle for\n> hilbert_symbol_negative_at_S\n> \n> :)\n\n\nAh, yes, even better.  Let's go with that :)",
    "created_at": "2018-05-05T13:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458073",
    "user": "https://github.com/annahaensch"
}
```

<a id='comment:22'></a>
Replying to [sbrandhorst](#comment%3A21):
> i could settle for
> hilbert_symbol_negative_at_S
> 
> :)


Ah, yes, even better.  Let's go with that :)



---

archive/issue_comments_458074.json:
```json
{
    "body": "Changing dependencies from \"#25023\" to \"#25023,#25029\"",
    "created_at": "2018-05-10T20:27:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458074",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing dependencies from "#25023" to "#25023,#25029"



---

archive/issue_comments_458075.json:
```json
{
    "body": "Changing commit from \"61faa15afef6589f0a8131cbf593c0078f89ce9f\" to \"707703320e734ba38a61a28cbc179b07f5165aa8\"",
    "created_at": "2018-05-10T21:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458075",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "61faa15afef6589f0a8131cbf593c0078f89ce9f" to "707703320e734ba38a61a28cbc179b07f5165aa8"



---

archive/issue_comments_458076.json:
```json
{
    "body": "<a id='comment:24'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[7077033](https://github.com/sagemath/sagetrac-mirror/commit/707703320e734ba38a61a28cbc179b07f5165aa8)|`changed name to hilbert_symbol_negative_at_S`|",
    "created_at": "2018-05-10T21:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458076",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[7077033](https://github.com/sagemath/sagetrac-mirror/commit/707703320e734ba38a61a28cbc179b07f5165aa8)|`changed name to hilbert_symbol_negative_at_S`|



---

archive/issue_comments_458077.json:
```json
{
    "body": "<a id='comment:25'></a>\nWould you review the number field version? Else we can split it off to another ticket.",
    "created_at": "2018-07-13T19:35:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458077",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:25'></a>
Would you review the number field version? Else we can split it off to another ticket.



---

archive/issue_comments_458078.json:
```json
{
    "body": "<a id='comment:26'></a>\nThis ticket has been asleep for awhile, but let's try and finish it.  I just tried to run doctests on and got an error message \n\n```\nAttributeError: Values instance has no attribute 'gc'\n```\nAny ideas?",
    "created_at": "2019-05-10T14:50:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458078",
    "user": "https://github.com/annahaensch"
}
```

<a id='comment:26'></a>
This ticket has been asleep for awhile, but let's try and finish it.  I just tried to run doctests on and got an error message 

```
AttributeError: Values instance has no attribute 'gc'
```
Any ideas?



---

archive/issue_comments_458079.json:
```json
{
    "body": "Changing commit from \"707703320e734ba38a61a28cbc179b07f5165aa8\" to \"1fbeefce060bfcffd765b4b0827a7e6a85339eec\"",
    "created_at": "2019-05-13T08:17:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458079",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "707703320e734ba38a61a28cbc179b07f5165aa8" to "1fbeefce060bfcffd765b4b0827a7e6a85339eec"



---

archive/issue_comments_458080.json:
```json
{
    "body": "<a id='comment:27'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------|\n|[9e5a98f](https://github.com/sagemath/sagetrac-mirror/commit/9e5a98f8e23874623589369d3d9eadd5221d676d)|`Merge branch 'develop' into t/24098/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s`|\n|[b7ca8fe](https://github.com/sagemath/sagetrac-mirror/commit/b7ca8feac5b5cbc1669c99402118bbede70ae682)|`fixed doctests`|\n|[1fbeefc](https://github.com/sagemath/sagetrac-mirror/commit/1fbeefce060bfcffd765b4b0827a7e6a85339eec)|`Merge branch 'develop' into t/24098/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s`|",
    "created_at": "2019-05-13T08:17:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458080",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------|
|[9e5a98f](https://github.com/sagemath/sagetrac-mirror/commit/9e5a98f8e23874623589369d3d9eadd5221d676d)|`Merge branch 'develop' into t/24098/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s`|
|[b7ca8fe](https://github.com/sagemath/sagetrac-mirror/commit/b7ca8feac5b5cbc1669c99402118bbede70ae682)|`fixed doctests`|
|[1fbeefc](https://github.com/sagemath/sagetrac-mirror/commit/1fbeefce060bfcffd765b4b0827a7e6a85339eec)|`Merge branch 'develop' into t/24098/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s`|



---

archive/issue_comments_458081.json:
```json
{
    "body": "<a id='comment:28'></a>\nshould be okay now.",
    "created_at": "2019-05-13T08:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458081",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:28'></a>
should be okay now.



---

archive/issue_comments_458082.json:
```json
{
    "body": "Changing commit from \"1fbeefce060bfcffd765b4b0827a7e6a85339eec\" to \"1a6e6da35a2950911847943dbb1f6e9e513c2574\"",
    "created_at": "2019-05-13T08:22:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458082",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1fbeefce060bfcffd765b4b0827a7e6a85339eec" to "1a6e6da35a2950911847943dbb1f6e9e513c2574"



---

archive/issue_comments_458083.json:
```json
{
    "body": "<a id='comment:29'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[1a6e6da](https://github.com/sagemath/sagetrac-mirror/commit/1a6e6da35a2950911847943dbb1f6e9e513c2574)|`removed unnecessary import`|",
    "created_at": "2019-05-13T08:22:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458083",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[1a6e6da](https://github.com/sagemath/sagetrac-mirror/commit/1a6e6da35a2950911847943dbb1f6e9e513c2574)|`removed unnecessary import`|



---

archive/issue_comments_458084.json:
```json
{
    "body": "<a id='comment:30'></a>\nWe have a green bot. Tests pass.",
    "created_at": "2019-05-16T07:10:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458084",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:30'></a>
We have a green bot. Tests pass.



---

archive/issue_comments_458085.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [sbrandhorst](#comment%3A30):\n> We have a green bot. Tests pass.\n\n\nAll tests pass!  I had just run them independently anyhow, but good to know :)",
    "created_at": "2019-05-16T15:57:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458085",
    "user": "https://github.com/annahaensch"
}
```

<a id='comment:31'></a>
Replying to [sbrandhorst](#comment%3A30):
> We have a green bot. Tests pass.


All tests pass!  I had just run them independently anyhow, but good to know :)



---

archive/issue_comments_458086.json:
```json
{
    "body": "Changing branch from \"u/sbrandhorst/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s\" to \"u/annahaensch/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s\"",
    "created_at": "2019-05-18T18:57:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458086",
    "user": "https://github.com/annahaensch"
}
```

Changing branch from "u/sbrandhorst/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s" to "u/annahaensch/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s"



---

archive/issue_comments_458087.json:
```json
{
    "body": "Changing commit from \"1a6e6da35a2950911847943dbb1f6e9e513c2574\" to \"bca5e62b90d0e84b086b412cd6cabe4a244038ca\"",
    "created_at": "2019-05-18T18:58:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458087",
    "user": "https://github.com/annahaensch"
}
```

Changing commit from "1a6e6da35a2950911847943dbb1f6e9e513c2574" to "bca5e62b90d0e84b086b412cd6cabe4a244038ca"



---

archive/issue_comments_458088.json:
```json
{
    "body": "<a id='comment:33'></a>\nI fixed a few errors that I spotted in the reference manual build, everything else looks good.  What do you think? \n\n---\nNew commits:\n|                                                                                                                                          |                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|\n|[6b72793](https://github.com/sagemath/sagetrac-mirror/commit/6b72793e9e53894bfa2ec1d4f29c0d7bddaf3862)|`fixed errors in reference build`|\n|[ca2db75](https://github.com/sagemath/sagetrac-mirror/commit/ca2db758bf2235f4ca9ee622fc1e0e37a92097c1)|`fixed typo in documentation and code commenting`|\n|[bca5e62](https://github.com/sagemath/sagetrac-mirror/commit/bca5e62b90d0e84b086b412cd6cabe4a244038ca)|` fixed typo again`|",
    "created_at": "2019-05-18T18:58:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458088",
    "user": "https://github.com/annahaensch"
}
```

<a id='comment:33'></a>
I fixed a few errors that I spotted in the reference manual build, everything else looks good.  What do you think? 

---
New commits:
|                                                                                                                                          |                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|
|[6b72793](https://github.com/sagemath/sagetrac-mirror/commit/6b72793e9e53894bfa2ec1d4f29c0d7bddaf3862)|`fixed errors in reference build`|
|[ca2db75](https://github.com/sagemath/sagetrac-mirror/commit/ca2db758bf2235f4ca9ee622fc1e0e37a92097c1)|`fixed typo in documentation and code commenting`|
|[bca5e62](https://github.com/sagemath/sagetrac-mirror/commit/bca5e62b90d0e84b086b412cd6cabe4a244038ca)|` fixed typo again`|



---

archive/issue_comments_458089.json:
```json
{
    "body": "<a id='comment:34'></a>\nAdd your name as a reviewer, then we can set positive review.",
    "created_at": "2019-05-18T19:09:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458089",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:34'></a>
Add your name as a reviewer, then we can set positive review.



---

archive/issue_comments_458090.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-05-18T19:58:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458090",
    "user": "https://github.com/annahaensch"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_458091.json:
```json
{
    "body": "Changing reviewer from \"Simon Brandhorst\" to \"Simon Brandhorst, Anna Haensch\"",
    "created_at": "2019-05-18T19:58:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458091",
    "user": "https://github.com/annahaensch"
}
```

Changing reviewer from "Simon Brandhorst" to "Simon Brandhorst, Anna Haensch"



---

archive/issue_events_069584.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-05-20T06:10:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24098#event-69584"
}
```



---

archive/issue_comments_458092.json:
```json
{
    "body": "Changing branch from \"u/annahaensch/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s\" to \"bca5e62b90d0e84b086b412cd6cabe4a244038ca\"",
    "created_at": "2019-05-24T18:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458092",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/annahaensch/_s_hilbert_symbol___helper_function_to_find_integer_with_negative_hilbert_symbol_for_primes_in_at_set_s" to "bca5e62b90d0e84b086b412cd6cabe4a244038ca"



---

archive/issue_events_069585.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-24T18:29:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24098#event-69585"
}
```



---

archive/issue_comments_458093.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-05-24T18:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24098#issuecomment-458093",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
