# Issue 24791: py3: fix tests in sage.structure.unique_representation

archive/issues_024554.json:
```json
{
    "assignees": [],
    "body": "On one hand, we might still want to test `__cmp__` with this code on Python 2.  On the other hand, I think we'll be replacing most/all `__cmp__` methods anyways, so maybe it doesn't matter.  The comparison implementation itself is also not critical to how `UniqueRepresentation` works.\n\nI'm fine with either way.\n\nKeywords: **python3, richcmp**\n\nBranch/Commit: **[`62e7b05`](https://github.com/sagemath/sagetrac-mirror/commit/62e7b05f4c53a6fd4ad311ea33891aaebdb670a1)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Erik Bray**\n\nComponent: **python3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24791_\n\n",
    "closed_at": "2018-03-22T19:22:53Z",
    "created_at": "2018-02-20T13:23:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: fix tests in sage.structure.unique_representation",
    "type": "issue",
    "updated_at": "2018-03-22T19:22:53Z",
    "url": "https://github.com/sagemath/sage/issues/24791",
    "user": "https://github.com/embray"
}
```
On one hand, we might still want to test `__cmp__` with this code on Python 2.  On the other hand, I think we'll be replacing most/all `__cmp__` methods anyways, so maybe it doesn't matter.  The comparison implementation itself is also not critical to how `UniqueRepresentation` works.

I'm fine with either way.

Keywords: **python3, richcmp**

Branch/Commit: **[`62e7b05`](https://github.com/sagemath/sagetrac-mirror/commit/62e7b05f4c53a6fd4ad311ea33891aaebdb670a1)**

Reviewer: **Jeroen Demeyer**

Author: **Erik Bray**

Component: **python3**

_Issue created by migration from https://trac.sagemath.org/ticket/24791_





---

archive/issue_events_343165.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-20T13:23:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343165"
}
```



---

archive/issue_events_343166.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-20T13:23:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "000080",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343166"
}
```



---

archive/issue_events_343167.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-20T13:23:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343167"
}
```



---

archive/issue_events_343168.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-20T13:23:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343168"
}
```



---

archive/issue_comments_376969.json:
```json
{
    "body": "Commit: **[`93020a4`](https://github.com/sagemath/sagetrac-mirror/commit/93020a4eb1213bfe866aba47ccaa60f8ee06a1d7)**",
    "created_at": "2018-02-20T13:24:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376969",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`93020a4`](https://github.com/sagemath/sagetrac-mirror/commit/93020a4eb1213bfe866aba47ccaa60f8ee06a1d7)**



---

archive/issue_comments_376970.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-02-20T13:24:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376970",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:1"></div>

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_376971.json:
```json
{
    "body": "Changed commit from **[`93020a4`](https://github.com/sagemath/sagetrac-mirror/commit/93020a4eb1213bfe866aba47ccaa60f8ee06a1d7)** to **[`011250b`](https://github.com/sagemath/sagetrac-mirror/commit/011250b1440e3de0af94cdd0046156be1ea6904c)**",
    "created_at": "2018-02-20T13:25:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376971",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`93020a4`](https://github.com/sagemath/sagetrac-mirror/commit/93020a4eb1213bfe866aba47ccaa60f8ee06a1d7)** to **[`011250b`](https://github.com/sagemath/sagetrac-mirror/commit/011250b1440e3de0af94cdd0046156be1ea6904c)**



---

archive/issue_comments_376972.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/011250b1440e3de0af94cdd0046156be1ea6904c\"><code>011250b</code></a></td><td><code>py3: fix tests for sage.structure.unique_representation</code></td></tr></table>\n",
    "created_at": "2018-02-20T13:25:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376972",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/011250b1440e3de0af94cdd0046156be1ea6904c"><code>011250b</code></a></td><td><code>py3: fix tests for sage.structure.unique_representation</code></td></tr></table>




---

archive/issue_events_343169.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-20T13:25:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343169"
}
```



---

archive/issue_comments_376973.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThis code looks strange:\n\n```\n        ....:         if op in (op_EQ, op_NE):\n        ....:             if type(self) != type(other):\n        ....:                 return op == op_NE\n```\nI wouldn't write that in an example. Would it work to do\n\n```\n        ....:         if type(self) is not type(other):\n        ....:             return NotImplemented\n```",
    "created_at": "2018-02-20T13:55:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376973",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

This code looks strange:

```
        ....:         if op in (op_EQ, op_NE):
        ....:             if type(self) != type(other):
        ....:                 return op == op_NE
```
I wouldn't write that in an example. Would it work to do

```
        ....:         if type(self) is not type(other):
        ....:             return NotImplemented
```



---

archive/issue_comments_376974.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2018-02-20T13:55:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376974",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_343170.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-20T13:55:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343170"
}
```



---

archive/issue_events_343171.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-20T13:55:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343171"
}
```



---

archive/issue_comments_376975.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThe docs are no longer consistent with the example. I actually think it's best to just remove the `__cmp__` completely (instead of replacing it with `__richcmp__`) and then also remove the talk about custom comparison methods from the docs.",
    "created_at": "2018-02-20T19:16:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376975",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

The docs are no longer consistent with the example. I actually think it's best to just remove the `__cmp__` completely (instead of replacing it with `__richcmp__`) and then also remove the talk about custom comparison methods from the docs.



---

archive/issue_comments_376976.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nJust FYI: this conflicts with #19628",
    "created_at": "2018-02-20T19:18:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376976",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Just FYI: this conflicts with #19628



---

archive/issue_comments_376977.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@jdemeyer](#comment:5):\n> The docs are no longer consistent with the example. I actually think it's best to just remove the `__cmp__` completely (instead of replacing it with `__richcmp__`) and then also remove the talk about custom comparison methods from the docs.\n\nThat did seem out of place to me as well.  Beyond `__eq__` the talk of other comparison operators doesn't seem relevant, but I wasn't sure.\n\nTo be clear, you're just talking about the second example, and ensuing discussion of comparison methods, right?  In the first example the `__eq__`, at least, is still necessary.\n\nI ask just because, while I understand what this class does on its own, I wasn't sure if there was some subtlety of how it's used in Sage that necessitated this documentation.",
    "created_at": "2018-02-21T11:32:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376977",
    "user": "https://github.com/embray"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@jdemeyer](#comment:5):
> The docs are no longer consistent with the example. I actually think it's best to just remove the `__cmp__` completely (instead of replacing it with `__richcmp__`) and then also remove the talk about custom comparison methods from the docs.

That did seem out of place to me as well.  Beyond `__eq__` the talk of other comparison operators doesn't seem relevant, but I wasn't sure.

To be clear, you're just talking about the second example, and ensuing discussion of comparison methods, right?  In the first example the `__eq__`, at least, is still necessary.

I ask just because, while I understand what this class does on its own, I wasn't sure if there was some subtlety of how it's used in Sage that necessitated this documentation.



---

archive/issue_comments_376978.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nYes, I was talking about the example with the `\"custom cmp\"`",
    "created_at": "2018-02-21T12:34:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376978",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Yes, I was talking about the example with the `"custom cmp"`



---

archive/issue_comments_376979.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@jdemeyer](#comment:6):\n> Just FYI: this conflicts with #19628\n\nThat ticket looks like it's been sitting around for quite a while. Is it something I could be of help with?",
    "created_at": "2018-02-21T13:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376979",
    "user": "https://github.com/embray"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@jdemeyer](#comment:6):
> Just FYI: this conflicts with #19628

That ticket looks like it's been sitting around for quite a while. Is it something I could be of help with?



---

archive/issue_comments_376980.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@embray](#comment:9):\n> Is it something I could be of help with?\n\nIt just needs review...",
    "created_at": "2018-02-21T13:04:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376980",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@embray](#comment:9):
> Is it something I could be of help with?

It just needs review...



---

archive/issue_comments_376981.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/866eddd0d1982a0327ac37daf29bab857f227fa5\"><code>866eddd</code></a></td><td><code>WithEqualityById.__richcmp__: bail out if \"other\" is no instance of WithEqualityById</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d8c9637ae85fcdf02bbd801b6113cf8f3d7fda5\"><code>0d8c963</code></a></td><td><code>Merge branch 'u/jdemeyer/lazy_import_breaks_cachedrepresentation' into u/embray/python3/sage-structure-unique_representation</code></td></tr></table>\n",
    "created_at": "2018-02-21T13:33:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376981",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/866eddd0d1982a0327ac37daf29bab857f227fa5"><code>866eddd</code></a></td><td><code>WithEqualityById.__richcmp__: bail out if "other" is no instance of WithEqualityById</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d8c9637ae85fcdf02bbd801b6113cf8f3d7fda5"><code>0d8c963</code></a></td><td><code>Merge branch 'u/jdemeyer/lazy_import_breaks_cachedrepresentation' into u/embray/python3/sage-structure-unique_representation</code></td></tr></table>




---

archive/issue_comments_376982.json:
```json
{
    "body": "Changed commit from **[`011250b`](https://github.com/sagemath/sagetrac-mirror/commit/011250b1440e3de0af94cdd0046156be1ea6904c)** to **[`0d8c963`](https://github.com/sagemath/sagetrac-mirror/commit/0d8c9637ae85fcdf02bbd801b6113cf8f3d7fda5)**",
    "created_at": "2018-02-21T13:33:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376982",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`011250b`](https://github.com/sagemath/sagetrac-mirror/commit/011250b1440e3de0af94cdd0046156be1ea6904c)** to **[`0d8c963`](https://github.com/sagemath/sagetrac-mirror/commit/0d8c9637ae85fcdf02bbd801b6113cf8f3d7fda5)**



---

archive/issue_comments_376983.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df224c66a5e0956682b469cbaedd4a897297b6c1\"><code>df224c6</code></a></td><td><code>Simplify these docs by simply removing the custom comparison examples.</code></td></tr></table>\n",
    "created_at": "2018-02-21T13:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376983",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df224c66a5e0956682b469cbaedd4a897297b6c1"><code>df224c6</code></a></td><td><code>Simplify these docs by simply removing the custom comparison examples.</code></td></tr></table>




---

archive/issue_comments_376984.json:
```json
{
    "body": "Changed commit from **[`0d8c963`](https://github.com/sagemath/sagetrac-mirror/commit/0d8c9637ae85fcdf02bbd801b6113cf8f3d7fda5)** to **[`df224c6`](https://github.com/sagemath/sagetrac-mirror/commit/df224c66a5e0956682b469cbaedd4a897297b6c1)**",
    "created_at": "2018-02-21T13:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376984",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0d8c963`](https://github.com/sagemath/sagetrac-mirror/commit/0d8c9637ae85fcdf02bbd801b6113cf8f3d7fda5)** to **[`df224c6`](https://github.com/sagemath/sagetrac-mirror/commit/df224c66a5e0956682b469cbaedd4a897297b6c1)**



---

archive/issue_events_343172.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-21T13:37:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343172"
}
```



---

archive/issue_events_343173.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-21T13:37:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343173"
}
```



---

archive/issue_comments_376985.json:
```json
{
    "body": "Dependencies: **#19628**",
    "created_at": "2018-02-21T13:37:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376985",
    "user": "https://github.com/embray"
}
```

Dependencies: **#19628**



---

archive/issue_comments_376986.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nMerged in #19628 and removed the custom comparison examples.  In the end the only change needed for Python 3 is to replace the one `__cmp__` in the example for `CachedRepresentation` with `__eq__`, which makes more sense anyways.",
    "created_at": "2018-02-21T13:37:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376986",
    "user": "https://github.com/embray"
}
```

<div id="comment:13" align="right">comment:13</div>

Merged in #19628 and removed the custom comparison examples.  In the end the only change needed for Python 3 is to replace the one `__cmp__` in the example for `CachedRepresentation` with `__eq__`, which makes more sense anyways.



---

archive/issue_comments_376987.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nWe should keep the test for `!=`",
    "created_at": "2018-03-11T07:47:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376987",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:14" align="right">comment:14</div>

We should keep the test for `!=`



---

archive/issue_comments_376988.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThat's a good point.",
    "created_at": "2018-03-12T14:52:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376988",
    "user": "https://github.com/embray"
}
```

<div id="comment:15" align="right">comment:15</div>

That's a good point.



---

archive/issue_events_343174.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-12T14:52:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343174"
}
```



---

archive/issue_events_343175.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-12T14:52:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343175"
}
```



---

archive/issue_comments_376989.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85ea4146a2ff9c7e9e92eb2ab79414d9501be0f9\"><code>85ea414</code></a></td><td><code>Remove the needlessly confusing combination of two tests on one line; restore the != test since it is still relevant here</code></td></tr></table>\n",
    "created_at": "2018-03-12T14:54:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376989",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85ea4146a2ff9c7e9e92eb2ab79414d9501be0f9"><code>85ea414</code></a></td><td><code>Remove the needlessly confusing combination of two tests on one line; restore the != test since it is still relevant here</code></td></tr></table>




---

archive/issue_comments_376990.json:
```json
{
    "body": "Changed commit from **[`df224c6`](https://github.com/sagemath/sagetrac-mirror/commit/df224c66a5e0956682b469cbaedd4a897297b6c1)** to **[`85ea414`](https://github.com/sagemath/sagetrac-mirror/commit/85ea4146a2ff9c7e9e92eb2ab79414d9501be0f9)**",
    "created_at": "2018-03-12T14:54:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376990",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`df224c6`](https://github.com/sagemath/sagetrac-mirror/commit/df224c66a5e0956682b469cbaedd4a897297b6c1)** to **[`85ea414`](https://github.com/sagemath/sagetrac-mirror/commit/85ea4146a2ff9c7e9e92eb2ab79414d9501be0f9)**



---

archive/issue_comments_376991.json:
```json
{
    "body": "Changed keywords from none to **python3, richcmp**",
    "created_at": "2018-03-14T18:59:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376991",
    "user": "https://github.com/fchapoton"
}
```

Changed keywords from none to **python3, richcmp**



---

archive/issue_comments_376992.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nis this back to needs_review ?",
    "created_at": "2018-03-14T19:00:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376992",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:18" align="right">comment:18</div>

is this back to needs_review ?



---

archive/issue_events_343176.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-03-15T13:19:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343176"
}
```



---

archive/issue_events_343177.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-03-15T13:19:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343177"
}
```



---

archive/issue_comments_376993.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI will assume so.",
    "created_at": "2018-03-15T13:19:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376993",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:19" align="right">comment:19</div>

I will assume so.



---

archive/issue_comments_376994.json:
```json
{
    "body": "Changed dependencies from **#19628** to none",
    "created_at": "2018-03-15T13:19:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376994",
    "user": "https://github.com/fchapoton"
}
```

Changed dependencies from **#19628** to none



---

archive/issue_comments_376995.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThis sentence still makes no sense to me (see [comment:5]):\n\n```\nFor other\ncomparisons, the relevant custom comparison is called if defined for either\nthe left-hand side or the right-hand side::\n```",
    "created_at": "2018-03-16T09:28:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376995",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

This sentence still makes no sense to me (see [comment:5]):

```
For other
comparisons, the relevant custom comparison is called if defined for either
the left-hand side or the right-hand side::
```



---

archive/issue_events_343178.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-16T09:28:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343178"
}
```



---

archive/issue_events_343179.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-16T09:28:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343179"
}
```



---

archive/issue_events_343180.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-16T12:53:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343180"
}
```



---

archive/issue_events_343181.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-16T12:53:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343181"
}
```



---

archive/issue_comments_376996.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nCould you clarify?  I think the sentence itself makes sense; or is at least true. If anything doesn't make sense it might just be the placement. I.e. the examples that immediately follow that sentence isn't really relevant (the sentence is more a modification to the previous sentence, to which the examples due apply).  \n\nMaybe if it were moved later?  I wouldn't outright remove it--the point is just to say that other custom comparisons may still be implemented on classes that subclass from this.",
    "created_at": "2018-03-16T12:53:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376996",
    "user": "https://github.com/embray"
}
```

<div id="comment:21" align="right">comment:21</div>

Could you clarify?  I think the sentence itself makes sense; or is at least true. If anything doesn't make sense it might just be the placement. I.e. the examples that immediately follow that sentence isn't really relevant (the sentence is more a modification to the previous sentence, to which the examples due apply).  

Maybe if it were moved later?  I wouldn't outright remove it--the point is just to say that other custom comparisons may still be implemented on classes that subclass from this.



---

archive/issue_comments_376997.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nWhat are \"other comparisons\" in that sentence?",
    "created_at": "2018-03-16T13:10:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376997",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

What are "other comparisons" in that sentence?



---

archive/issue_comments_376998.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\n`<` `>` `<=` `>=`?",
    "created_at": "2018-03-16T13:23:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376998",
    "user": "https://github.com/embray"
}
```

<div id="comment:23" align="right">comment:23</div>

`<` `>` `<=` `>=`?



---

archive/issue_comments_376999.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nOK, but then what is \"the relevant custom comparison\"?",
    "created_at": "2018-03-16T13:26:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-376999",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

OK, but then what is "the relevant custom comparison"?



---

archive/issue_comments_377000.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI would just remove that sentence completely.",
    "created_at": "2018-03-16T13:27:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-377000",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

I would just remove that sentence completely.



---

archive/issue_comments_377001.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nOkay... I don't really see a problem with it other than what I explained above, but I can certainly live without it as well.",
    "created_at": "2018-03-16T13:34:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-377001",
    "user": "https://github.com/embray"
}
```

<div id="comment:26" align="right">comment:26</div>

Okay... I don't really see a problem with it other than what I explained above, but I can certainly live without it as well.



---

archive/issue_comments_377002.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nIf that sentence is meant to say that you can subclass `CachedRepresentation` and add your own rich comparison methods, it's saying that very badly. It's also superfluous since that's how subclassing in Python works in general.",
    "created_at": "2018-03-16T13:36:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-377002",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

If that sentence is meant to say that you can subclass `CachedRepresentation` and add your own rich comparison methods, it's saying that very badly. It's also superfluous since that's how subclassing in Python works in general.



---

archive/issue_comments_377003.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62e7b05f4c53a6fd4ad311ea33891aaebdb670a1\"><code>62e7b05</code></a></td><td><code>Some more minor edits, hopefully for clarity...</code></td></tr></table>\n",
    "created_at": "2018-03-16T13:43:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-377003",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62e7b05f4c53a6fd4ad311ea33891aaebdb670a1"><code>62e7b05</code></a></td><td><code>Some more minor edits, hopefully for clarity...</code></td></tr></table>




---

archive/issue_comments_377004.json:
```json
{
    "body": "Changed commit from **[`85ea414`](https://github.com/sagemath/sagetrac-mirror/commit/85ea4146a2ff9c7e9e92eb2ab79414d9501be0f9)** to **[`62e7b05`](https://github.com/sagemath/sagetrac-mirror/commit/62e7b05f4c53a6fd4ad311ea33891aaebdb670a1)**",
    "created_at": "2018-03-16T13:43:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-377004",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`85ea414`](https://github.com/sagemath/sagetrac-mirror/commit/85ea4146a2ff9c7e9e92eb2ab79414d9501be0f9)** to **[`62e7b05`](https://github.com/sagemath/sagetrac-mirror/commit/62e7b05f4c53a6fd4ad311ea33891aaebdb670a1)**



---

archive/issue_comments_377005.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@jdemeyer](#comment:27):\n> It's also superfluous since that's how subclassing in Python works in general.\n\nI agree that it's superfluous, but so is a lot of the other text in there. I figured it was worth pointing out for those who aren't completely comfortable how subclassing works w.r.t. comparisons (heck, I'm not even completely comfortable with it, if recent experience dictates).\n\nSo it's saying \"these objects have this specific type of behavior when it comes to identity comparisons, but may still have any other behavior w.r.t. ordering behavior\".  But I don't think it's too important to say that either.",
    "created_at": "2018-03-16T13:46:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-377005",
    "user": "https://github.com/embray"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@jdemeyer](#comment:27):
> It's also superfluous since that's how subclassing in Python works in general.

I agree that it's superfluous, but so is a lot of the other text in there. I figured it was worth pointing out for those who aren't completely comfortable how subclassing works w.r.t. comparisons (heck, I'm not even completely comfortable with it, if recent experience dictates).

So it's saying "these objects have this specific type of behavior when it comes to identity comparisons, but may still have any other behavior w.r.t. ordering behavior".  But I don't think it's too important to say that either.



---

archive/issue_events_343182.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-16T14:01:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343182"
}
```



---

archive/issue_events_343183.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-16T14:01:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343183"
}
```



---

archive/issue_comments_377006.json:
```json
{
    "body": "Changed branch from **[u/embray/python3/sage-structure-unique_representation](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/python3/sage-structure-unique_representation)** to **[`62e7b05`](https://github.com/sagemath/sagetrac-mirror/commit/62e7b05f4c53a6fd4ad311ea33891aaebdb670a1)**",
    "created_at": "2018-03-22T19:22:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-377006",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/embray/python3/sage-structure-unique_representation](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/python3/sage-structure-unique_representation)** to **[`62e7b05`](https://github.com/sagemath/sagetrac-mirror/commit/62e7b05f4c53a6fd4ad311ea33891aaebdb670a1)**



---

archive/issue_events_343184.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-22T19:22:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343184"
}
```



---

archive/issue_events_343185.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ea111474ed45299f6ecb06af23390c43e30b2c15",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-03-22T19:22:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-343185"
}
```
