# Issue 24791: py3: fix tests in sage.structure.unique_representation

archive/issues_024554.json:
```json
{
    "assignees": [],
    "body": "On one hand, we might still want to test `__cmp__` with this code on Python 2.  On the other hand, I think we'll be replacing most/all `__cmp__` methods anyways, so maybe it doesn't matter.  The comparison implementation itself is also not critical to how `UniqueRepresentation` works.\n\nI'm fine with either way.\n\nKeywords: **python3, richcmp**\n\nBranch/Commit: **[62e7b05](https://github.com/sagemath/sagetrac-mirror/commit/62e7b05f4c53a6fd4ad311ea33891aaebdb670a1)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Erik Bray**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24791_\n\n",
    "closed_at": "2018-03-22T19:22:53Z",
    "created_at": "2018-02-20T13:23:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20python3",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: fix tests in sage.structure.unique_representation",
    "type": "issue",
    "updated_at": "2018-03-22T19:22:53Z",
    "url": "https://github.com/sagemath/sage/issues/24791",
    "user": "https://github.com/embray"
}
```
On one hand, we might still want to test `__cmp__` with this code on Python 2.  On the other hand, I think we'll be replacing most/all `__cmp__` methods anyways, so maybe it doesn't matter.  The comparison implementation itself is also not critical to how `UniqueRepresentation` works.

I'm fine with either way.

Keywords: **python3, richcmp**

Branch/Commit: **[62e7b05](https://github.com/sagemath/sagetrac-mirror/commit/62e7b05f4c53a6fd4ad311ea33891aaebdb670a1)**

Reviewer: **Jeroen Demeyer**

Author: **Erik Bray**

_Issue created by migration from https://trac.sagemath.org/ticket/24791_





---

archive/issue_events_325128.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-20T13:23:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325128"
}
```



---

archive/issue_events_325129.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-20T13:23:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20python3",
    "label_color": "000080",
    "label_name": "component: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325129"
}
```



---

archive/issue_events_325130.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-20T13:23:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325130"
}
```



---

archive/issue_events_325131.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-20T13:23:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325131"
}
```



---

archive/issue_comments_379642.json:
```json
{
    "body": "Commit: **[93020a4](https://github.com/sagemath/sagetrac-mirror/commit/93020a4eb1213bfe866aba47ccaa60f8ee06a1d7)**",
    "created_at": "2018-02-20T13:24:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379642",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[93020a4](https://github.com/sagemath/sagetrac-mirror/commit/93020a4eb1213bfe866aba47ccaa60f8ee06a1d7)**



---

archive/issue_comments_379643.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-02-20T13:24:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379643",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:1" align="right">Comment 1</div>

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_379644.json:
```json
{
    "body": "Changed commit from **[93020a4](https://github.com/sagemath/sagetrac-mirror/commit/93020a4eb1213bfe866aba47ccaa60f8ee06a1d7)** to **[011250b](https://github.com/sagemath/sagetrac-mirror/commit/011250b1440e3de0af94cdd0046156be1ea6904c)**",
    "created_at": "2018-02-20T13:25:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379644",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[93020a4](https://github.com/sagemath/sagetrac-mirror/commit/93020a4eb1213bfe866aba47ccaa60f8ee06a1d7)** to **[011250b](https://github.com/sagemath/sagetrac-mirror/commit/011250b1440e3de0af94cdd0046156be1ea6904c)**



---

archive/issue_comments_379645.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/011250b1440e3de0af94cdd0046156be1ea6904c\">011250b</a></td><td><code>py3: fix tests for sage.structure.unique_representation</code></td></tr></table>\n",
    "created_at": "2018-02-20T13:25:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379645",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2" align="right">Comment 2</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/011250b1440e3de0af94cdd0046156be1ea6904c">011250b</a></td><td><code>py3: fix tests for sage.structure.unique_representation</code></td></tr></table>




---

archive/issue_events_325132.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-20T13:25:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325132"
}
```



---

archive/issue_comments_379646.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nThis code looks strange:\n\n```\n        ....:         if op in (op_EQ, op_NE):\n        ....:             if type(self) != type(other):\n        ....:                 return op == op_NE\n```\nI wouldn't write that in an example. Would it work to do\n\n```\n        ....:         if type(self) is not type(other):\n        ....:             return NotImplemented\n```",
    "created_at": "2018-02-20T13:55:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379646",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">Comment 4</div>

This code looks strange:

```
        ....:         if op in (op_EQ, op_NE):
        ....:             if type(self) != type(other):
        ....:                 return op == op_NE
```
I wouldn't write that in an example. Would it work to do

```
        ....:         if type(self) is not type(other):
        ....:             return NotImplemented
```



---

archive/issue_comments_379647.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2018-02-20T13:55:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379647",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_325133.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-20T13:55:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325133"
}
```



---

archive/issue_events_325134.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-20T13:55:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325134"
}
```



---

archive/issue_comments_379648.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nThe docs are no longer consistent with the example. I actually think it's best to just remove the `__cmp__` completely (instead of replacing it with `__richcmp__`) and then also remove the talk about custom comparison methods from the docs.",
    "created_at": "2018-02-20T19:16:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379648",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">Comment 5</div>

The docs are no longer consistent with the example. I actually think it's best to just remove the `__cmp__` completely (instead of replacing it with `__richcmp__`) and then also remove the talk about custom comparison methods from the docs.



---

archive/issue_comments_379649.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nJust FYI: this conflicts with #19628",
    "created_at": "2018-02-20T19:18:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379649",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">Comment 6</div>

Just FYI: this conflicts with #19628



---

archive/issue_comments_379650.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nReplying to [@jdemeyer](#comment%3A5):\n> The docs are no longer consistent with the example. I actually think it's best to just remove the `__cmp__` completely (instead of replacing it with `__richcmp__`) and then also remove the talk about custom comparison methods from the docs.\n\nThat did seem out of place to me as well.  Beyond `__eq__` the talk of other comparison operators doesn't seem relevant, but I wasn't sure.\n\nTo be clear, you're just talking about the second example, and ensuing discussion of comparison methods, right?  In the first example the `__eq__`, at least, is still necessary.\n\nI ask just because, while I understand what this class does on its own, I wasn't sure if there was some subtlety of how it's used in Sage that necessitated this documentation.",
    "created_at": "2018-02-21T11:32:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379650",
    "user": "https://github.com/embray"
}
```

<div id="comment:7" align="right">Comment 7</div>

Replying to [@jdemeyer](#comment%3A5):
> The docs are no longer consistent with the example. I actually think it's best to just remove the `__cmp__` completely (instead of replacing it with `__richcmp__`) and then also remove the talk about custom comparison methods from the docs.

That did seem out of place to me as well.  Beyond `__eq__` the talk of other comparison operators doesn't seem relevant, but I wasn't sure.

To be clear, you're just talking about the second example, and ensuing discussion of comparison methods, right?  In the first example the `__eq__`, at least, is still necessary.

I ask just because, while I understand what this class does on its own, I wasn't sure if there was some subtlety of how it's used in Sage that necessitated this documentation.



---

archive/issue_comments_379651.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nYes, I was talking about the example with the `\"custom cmp\"`",
    "created_at": "2018-02-21T12:34:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379651",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">Comment 8</div>

Yes, I was talking about the example with the `"custom cmp"`



---

archive/issue_comments_379652.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nReplying to [@jdemeyer](#comment%3A6):\n> Just FYI: this conflicts with #19628\n\nThat ticket looks like it's been sitting around for quite a while. Is it something I could be of help with?",
    "created_at": "2018-02-21T13:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379652",
    "user": "https://github.com/embray"
}
```

<div id="comment:9" align="right">Comment 9</div>

Replying to [@jdemeyer](#comment%3A6):
> Just FYI: this conflicts with #19628

That ticket looks like it's been sitting around for quite a while. Is it something I could be of help with?



---

archive/issue_comments_379653.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nReplying to [@embray](#comment%3A9):\n> Is it something I could be of help with?\n\nIt just needs review...",
    "created_at": "2018-02-21T13:04:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379653",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">Comment 10</div>

Replying to [@embray](#comment%3A9):
> Is it something I could be of help with?

It just needs review...



---

archive/issue_comments_379654.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/866eddd0d1982a0327ac37daf29bab857f227fa5\">866eddd</a></td><td><code>WithEqualityById.__richcmp__: bail out if \"other\" is no instance of WithEqualityById</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d8c9637ae85fcdf02bbd801b6113cf8f3d7fda5\">0d8c963</a></td><td><code>Merge branch 'u/jdemeyer/lazy_import_breaks_cachedrepresentation' into u/embray/python3/sage-structure-unique_representation</code></td></tr></table>\n",
    "created_at": "2018-02-21T13:33:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379654",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11" align="right">Comment 11</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/866eddd0d1982a0327ac37daf29bab857f227fa5">866eddd</a></td><td><code>WithEqualityById.__richcmp__: bail out if "other" is no instance of WithEqualityById</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d8c9637ae85fcdf02bbd801b6113cf8f3d7fda5">0d8c963</a></td><td><code>Merge branch 'u/jdemeyer/lazy_import_breaks_cachedrepresentation' into u/embray/python3/sage-structure-unique_representation</code></td></tr></table>




---

archive/issue_comments_379655.json:
```json
{
    "body": "Changed commit from **[011250b](https://github.com/sagemath/sagetrac-mirror/commit/011250b1440e3de0af94cdd0046156be1ea6904c)** to **[0d8c963](https://github.com/sagemath/sagetrac-mirror/commit/0d8c9637ae85fcdf02bbd801b6113cf8f3d7fda5)**",
    "created_at": "2018-02-21T13:33:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379655",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[011250b](https://github.com/sagemath/sagetrac-mirror/commit/011250b1440e3de0af94cdd0046156be1ea6904c)** to **[0d8c963](https://github.com/sagemath/sagetrac-mirror/commit/0d8c9637ae85fcdf02bbd801b6113cf8f3d7fda5)**



---

archive/issue_comments_379656.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df224c66a5e0956682b469cbaedd4a897297b6c1\">df224c6</a></td><td><code>Simplify these docs by simply removing the custom comparison examples.</code></td></tr></table>\n",
    "created_at": "2018-02-21T13:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379656",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12" align="right">Comment 12</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df224c66a5e0956682b469cbaedd4a897297b6c1">df224c6</a></td><td><code>Simplify these docs by simply removing the custom comparison examples.</code></td></tr></table>




---

archive/issue_comments_379657.json:
```json
{
    "body": "Changed commit from **[0d8c963](https://github.com/sagemath/sagetrac-mirror/commit/0d8c9637ae85fcdf02bbd801b6113cf8f3d7fda5)** to **[df224c6](https://github.com/sagemath/sagetrac-mirror/commit/df224c66a5e0956682b469cbaedd4a897297b6c1)**",
    "created_at": "2018-02-21T13:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379657",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0d8c963](https://github.com/sagemath/sagetrac-mirror/commit/0d8c9637ae85fcdf02bbd801b6113cf8f3d7fda5)** to **[df224c6](https://github.com/sagemath/sagetrac-mirror/commit/df224c66a5e0956682b469cbaedd4a897297b6c1)**



---

archive/issue_events_325135.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-21T13:37:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325135"
}
```



---

archive/issue_events_325136.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-21T13:37:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325136"
}
```



---

archive/issue_comments_379658.json:
```json
{
    "body": "Dependencies: **#19628**",
    "created_at": "2018-02-21T13:37:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379658",
    "user": "https://github.com/embray"
}
```

Dependencies: **#19628**



---

archive/issue_comments_379659.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nMerged in #19628 and removed the custom comparison examples.  In the end the only change needed for Python 3 is to replace the one `__cmp__` in the example for `CachedRepresentation` with `__eq__`, which makes more sense anyways.",
    "created_at": "2018-02-21T13:37:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379659",
    "user": "https://github.com/embray"
}
```

<div id="comment:13" align="right">Comment 13</div>

Merged in #19628 and removed the custom comparison examples.  In the end the only change needed for Python 3 is to replace the one `__cmp__` in the example for `CachedRepresentation` with `__eq__`, which makes more sense anyways.



---

archive/issue_comments_379660.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nWe should keep the test for `!=`",
    "created_at": "2018-03-11T07:47:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379660",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:14" align="right">Comment 14</div>

We should keep the test for `!=`



---

archive/issue_comments_379661.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nThat's a good point.",
    "created_at": "2018-03-12T14:52:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379661",
    "user": "https://github.com/embray"
}
```

<div id="comment:15" align="right">Comment 15</div>

That's a good point.



---

archive/issue_events_325137.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-12T14:52:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325137"
}
```



---

archive/issue_events_325138.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-12T14:52:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325138"
}
```



---

archive/issue_comments_379662.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85ea4146a2ff9c7e9e92eb2ab79414d9501be0f9\">85ea414</a></td><td><code>Remove the needlessly confusing combination of two tests on one line; restore the != test since it is still relevant here</code></td></tr></table>\n",
    "created_at": "2018-03-12T14:54:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379662",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16" align="right">Comment 16</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85ea4146a2ff9c7e9e92eb2ab79414d9501be0f9">85ea414</a></td><td><code>Remove the needlessly confusing combination of two tests on one line; restore the != test since it is still relevant here</code></td></tr></table>




---

archive/issue_comments_379663.json:
```json
{
    "body": "Changed commit from **[df224c6](https://github.com/sagemath/sagetrac-mirror/commit/df224c66a5e0956682b469cbaedd4a897297b6c1)** to **[85ea414](https://github.com/sagemath/sagetrac-mirror/commit/85ea4146a2ff9c7e9e92eb2ab79414d9501be0f9)**",
    "created_at": "2018-03-12T14:54:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379663",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[df224c6](https://github.com/sagemath/sagetrac-mirror/commit/df224c66a5e0956682b469cbaedd4a897297b6c1)** to **[85ea414](https://github.com/sagemath/sagetrac-mirror/commit/85ea4146a2ff9c7e9e92eb2ab79414d9501be0f9)**



---

archive/issue_comments_379664.json:
```json
{
    "body": "Changed keywords from **** to **python3, richcmp**",
    "created_at": "2018-03-14T18:59:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379664",
    "user": "https://github.com/fchapoton"
}
```

Changed keywords from **** to **python3, richcmp**



---

archive/issue_comments_379665.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nis this back to needs_review ?",
    "created_at": "2018-03-14T19:00:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379665",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:18" align="right">Comment 18</div>

is this back to needs_review ?



---

archive/issue_events_325139.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-03-15T13:19:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325139"
}
```



---

archive/issue_events_325140.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-03-15T13:19:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325140"
}
```



---

archive/issue_comments_379666.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nI will assume so.",
    "created_at": "2018-03-15T13:19:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379666",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:19" align="right">Comment 19</div>

I will assume so.



---

archive/issue_comments_379667.json:
```json
{
    "body": "Changed dependencies from **#19628** to none",
    "created_at": "2018-03-15T13:19:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379667",
    "user": "https://github.com/fchapoton"
}
```

Changed dependencies from **#19628** to none



---

archive/issue_comments_379668.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nThis sentence still makes no sense to me (see [comment:5]):\n\n```\nFor other\ncomparisons, the relevant custom comparison is called if defined for either\nthe left-hand side or the right-hand side::\n```",
    "created_at": "2018-03-16T09:28:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379668",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">Comment 20</div>

This sentence still makes no sense to me (see [comment:5]):

```
For other
comparisons, the relevant custom comparison is called if defined for either
the left-hand side or the right-hand side::
```



---

archive/issue_events_325141.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-16T09:28:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325141"
}
```



---

archive/issue_events_325142.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-16T09:28:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325142"
}
```



---

archive/issue_events_325143.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-16T12:53:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325143"
}
```



---

archive/issue_events_325144.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-16T12:53:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325144"
}
```



---

archive/issue_comments_379669.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nCould you clarify?  I think the sentence itself makes sense; or is at least true. If anything doesn't make sense it might just be the placement. I.e. the examples that immediately follow that sentence isn't really relevant (the sentence is more a modification to the previous sentence, to which the examples due apply).  \n\nMaybe if it were moved later?  I wouldn't outright remove it--the point is just to say that other custom comparisons may still be implemented on classes that subclass from this.",
    "created_at": "2018-03-16T12:53:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379669",
    "user": "https://github.com/embray"
}
```

<div id="comment:21" align="right">Comment 21</div>

Could you clarify?  I think the sentence itself makes sense; or is at least true. If anything doesn't make sense it might just be the placement. I.e. the examples that immediately follow that sentence isn't really relevant (the sentence is more a modification to the previous sentence, to which the examples due apply).  

Maybe if it were moved later?  I wouldn't outright remove it--the point is just to say that other custom comparisons may still be implemented on classes that subclass from this.



---

archive/issue_comments_379670.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nWhat are \"other comparisons\" in that sentence?",
    "created_at": "2018-03-16T13:10:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379670",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">Comment 22</div>

What are "other comparisons" in that sentence?



---

archive/issue_comments_379671.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\n`<` `>` `<=` `>=`?",
    "created_at": "2018-03-16T13:23:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379671",
    "user": "https://github.com/embray"
}
```

<div id="comment:23" align="right">Comment 23</div>

`<` `>` `<=` `>=`?



---

archive/issue_comments_379672.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nOK, but then what is \"the relevant custom comparison\"?",
    "created_at": "2018-03-16T13:26:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379672",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">Comment 24</div>

OK, but then what is "the relevant custom comparison"?



---

archive/issue_comments_379673.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nI would just remove that sentence completely.",
    "created_at": "2018-03-16T13:27:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379673",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">Comment 25</div>

I would just remove that sentence completely.



---

archive/issue_comments_379674.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nOkay... I don't really see a problem with it other than what I explained above, but I can certainly live without it as well.",
    "created_at": "2018-03-16T13:34:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379674",
    "user": "https://github.com/embray"
}
```

<div id="comment:26" align="right">Comment 26</div>

Okay... I don't really see a problem with it other than what I explained above, but I can certainly live without it as well.



---

archive/issue_comments_379675.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nIf that sentence is meant to say that you can subclass `CachedRepresentation` and add your own rich comparison methods, it's saying that very badly. It's also superfluous since that's how subclassing in Python works in general.",
    "created_at": "2018-03-16T13:36:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379675",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">Comment 27</div>

If that sentence is meant to say that you can subclass `CachedRepresentation` and add your own rich comparison methods, it's saying that very badly. It's also superfluous since that's how subclassing in Python works in general.



---

archive/issue_comments_379676.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62e7b05f4c53a6fd4ad311ea33891aaebdb670a1\">62e7b05</a></td><td><code>Some more minor edits, hopefully for clarity...</code></td></tr></table>\n",
    "created_at": "2018-03-16T13:43:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379676",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28" align="right">Comment 28</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62e7b05f4c53a6fd4ad311ea33891aaebdb670a1">62e7b05</a></td><td><code>Some more minor edits, hopefully for clarity...</code></td></tr></table>




---

archive/issue_comments_379677.json:
```json
{
    "body": "Changed commit from **[85ea414](https://github.com/sagemath/sagetrac-mirror/commit/85ea4146a2ff9c7e9e92eb2ab79414d9501be0f9)** to **[62e7b05](https://github.com/sagemath/sagetrac-mirror/commit/62e7b05f4c53a6fd4ad311ea33891aaebdb670a1)**",
    "created_at": "2018-03-16T13:43:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379677",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[85ea414](https://github.com/sagemath/sagetrac-mirror/commit/85ea4146a2ff9c7e9e92eb2ab79414d9501be0f9)** to **[62e7b05](https://github.com/sagemath/sagetrac-mirror/commit/62e7b05f4c53a6fd4ad311ea33891aaebdb670a1)**



---

archive/issue_comments_379678.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nReplying to [@jdemeyer](#comment%3A27):\n> It's also superfluous since that's how subclassing in Python works in general.\n\nI agree that it's superfluous, but so is a lot of the other text in there. I figured it was worth pointing out for those who aren't completely comfortable how subclassing works w.r.t. comparisons (heck, I'm not even completely comfortable with it, if recent experience dictates).\n\nSo it's saying \"these objects have this specific type of behavior when it comes to identity comparisons, but may still have any other behavior w.r.t. ordering behavior\".  But I don't think it's too important to say that either.",
    "created_at": "2018-03-16T13:46:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379678",
    "user": "https://github.com/embray"
}
```

<div id="comment:29" align="right">Comment 29</div>

Replying to [@jdemeyer](#comment%3A27):
> It's also superfluous since that's how subclassing in Python works in general.

I agree that it's superfluous, but so is a lot of the other text in there. I figured it was worth pointing out for those who aren't completely comfortable how subclassing works w.r.t. comparisons (heck, I'm not even completely comfortable with it, if recent experience dictates).

So it's saying "these objects have this specific type of behavior when it comes to identity comparisons, but may still have any other behavior w.r.t. ordering behavior".  But I don't think it's too important to say that either.



---

archive/issue_events_325145.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-16T14:01:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325145"
}
```



---

archive/issue_events_325146.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-16T14:01:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325146"
}
```



---

archive/issue_comments_379679.json:
```json
{
    "body": "Changed branch from **[u/embray/python3/sage-structure-unique_representation](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/python3/sage-structure-unique_representation)** to **[62e7b05](https://github.com/sagemath/sagetrac-mirror/commit/62e7b05f4c53a6fd4ad311ea33891aaebdb670a1)**",
    "created_at": "2018-03-22T19:22:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24791#issuecomment-379679",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/embray/python3/sage-structure-unique_representation](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/python3/sage-structure-unique_representation)** to **[62e7b05](https://github.com/sagemath/sagetrac-mirror/commit/62e7b05f4c53a6fd4ad311ea33891aaebdb670a1)**



---

archive/issue_events_325147.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-22T19:22:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325147"
}
```



---

archive/issue_events_325148.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ea111474ed45299f6ecb06af23390c43e30b2c15",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-03-22T19:22:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24791",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24791#event-325148"
}
```
