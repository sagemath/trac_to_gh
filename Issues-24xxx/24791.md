# Issue 24791: py3: fix tests in sage.structure.unique_representation

archive/issues_024554.json:
```json
{
    "body": "On one hand, we might still want to test `__cmp__` with this code on Python 2.  On the other hand, I think we'll be replacing most/all `__cmp__` methods anyways, so maybe it doesn't matter.  The comparison implementation itself is also not critical to how `UniqueRepresentation` works.\n\nI'm fine with either way.\n\nKeywords: python3, richcmp\n\nBranch/Commit: 62e7b05f4c53a6fd4ad311ea33891aaebdb670a1\n\nReviewer: Jeroen Demeyer\n\nAuthor: Erik Bray\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24791\n\n",
    "closed_at": "2018-03-22T19:22:53Z",
    "created_at": "2018-02-20T13:23:49Z",
    "labels": [
        "component: python3",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "py3: fix tests in sage.structure.unique_representation",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24791",
    "user": "https://github.com/embray"
}
```
On one hand, we might still want to test `__cmp__` with this code on Python 2.  On the other hand, I think we'll be replacing most/all `__cmp__` methods anyways, so maybe it doesn't matter.  The comparison implementation itself is also not critical to how `UniqueRepresentation` works.

I'm fine with either way.

Keywords: python3, richcmp

Branch/Commit: 62e7b05f4c53a6fd4ad311ea33891aaebdb670a1

Reviewer: Jeroen Demeyer

Author: Erik Bray

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24791





---

archive/issue_comments_473174.json:
```json
{
    "body": "Changing commit from \"\" to \"93020a4eb1213bfe866aba47ccaa60f8ee06a1d7\"",
    "created_at": "2018-02-20T13:24:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473174",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "93020a4eb1213bfe866aba47ccaa60f8ee06a1d7"



---

archive/issue_comments_473175.json:
```json
{
    "body": "<a id='comment:1'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-02-20T13:24:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473175",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>
Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_473176.json:
```json
{
    "body": "Changing commit from \"93020a4eb1213bfe866aba47ccaa60f8ee06a1d7\" to \"011250b1440e3de0af94cdd0046156be1ea6904c\"",
    "created_at": "2018-02-20T13:25:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473176",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "93020a4eb1213bfe866aba47ccaa60f8ee06a1d7" to "011250b1440e3de0af94cdd0046156be1ea6904c"



---

archive/issue_comments_473177.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|\n|[011250b](https://github.com/sagemath/sagetrac-mirror/commit/011250b1440e3de0af94cdd0046156be1ea6904c)|`py3: fix tests for sage.structure.unique_representation`|",
    "created_at": "2018-02-20T13:25:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473177",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
|[011250b](https://github.com/sagemath/sagetrac-mirror/commit/011250b1440e3de0af94cdd0046156be1ea6904c)|`py3: fix tests for sage.structure.unique_representation`|



---

archive/issue_comments_473178.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-02-20T13:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473178",
    "user": "https://github.com/embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_473179.json:
```json
{
    "body": "<a id='comment:4'></a>\nThis code looks strange:\n\n```\n        ....:         if op in (op_EQ, op_NE):\n        ....:             if type(self) != type(other):\n        ....:                 return op == op_NE\n```\nI wouldn't write that in an example. Would it work to do\n\n```\n        ....:         if type(self) is not type(other):\n        ....:             return NotImplemented\n```",
    "created_at": "2018-02-20T13:55:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473179",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>
This code looks strange:

```
        ....:         if op in (op_EQ, op_NE):
        ....:             if type(self) != type(other):
        ....:                 return op == op_NE
```
I wouldn't write that in an example. Would it work to do

```
        ....:         if type(self) is not type(other):
        ....:             return NotImplemented
```



---

archive/issue_comments_473180.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2018-02-20T13:55:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473180",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_473181.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-02-20T13:55:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473181",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_473182.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe docs are no longer consistent with the example. I actually think it's best to just remove the `__cmp__` completely (instead of replacing it with `__richcmp__`) and then also remove the talk about custom comparison methods from the docs.",
    "created_at": "2018-02-20T19:16:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473182",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
The docs are no longer consistent with the example. I actually think it's best to just remove the `__cmp__` completely (instead of replacing it with `__richcmp__`) and then also remove the talk about custom comparison methods from the docs.



---

archive/issue_comments_473183.json:
```json
{
    "body": "<a id='comment:6'></a>\nJust FYI: this conflicts with #19628",
    "created_at": "2018-02-20T19:18:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473183",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
Just FYI: this conflicts with #19628



---

archive/issue_comments_473184.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [jdemeyer](#comment%3A5):\n> The docs are no longer consistent with the example. I actually think it's best to just remove the `__cmp__` completely (instead of replacing it with `__richcmp__`) and then also remove the talk about custom comparison methods from the docs.\n\n\nThat did seem out of place to me as well.  Beyond `__eq__` the talk of other comparison operators doesn't seem relevant, but I wasn't sure.\n\nTo be clear, you're just talking about the second example, and ensuing discussion of comparison methods, right?  In the first example the `__eq__`, at least, is still necessary.\n\nI ask just because, while I understand what this class does on its own, I wasn't sure if there was some subtlety of how it's used in Sage that necessitated this documentation.",
    "created_at": "2018-02-21T11:32:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473184",
    "user": "https://github.com/embray"
}
```

<a id='comment:7'></a>
Replying to [jdemeyer](#comment%3A5):
> The docs are no longer consistent with the example. I actually think it's best to just remove the `__cmp__` completely (instead of replacing it with `__richcmp__`) and then also remove the talk about custom comparison methods from the docs.


That did seem out of place to me as well.  Beyond `__eq__` the talk of other comparison operators doesn't seem relevant, but I wasn't sure.

To be clear, you're just talking about the second example, and ensuing discussion of comparison methods, right?  In the first example the `__eq__`, at least, is still necessary.

I ask just because, while I understand what this class does on its own, I wasn't sure if there was some subtlety of how it's used in Sage that necessitated this documentation.



---

archive/issue_comments_473185.json:
```json
{
    "body": "<a id='comment:8'></a>\nYes, I was talking about the example with the `\"custom cmp\"`",
    "created_at": "2018-02-21T12:34:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473185",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>
Yes, I was talking about the example with the `"custom cmp"`



---

archive/issue_comments_473186.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [jdemeyer](#comment%3A6):\n> Just FYI: this conflicts with #19628\n\n\nThat ticket looks like it's been sitting around for quite a while. Is it something I could be of help with?",
    "created_at": "2018-02-21T13:01:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473186",
    "user": "https://github.com/embray"
}
```

<a id='comment:9'></a>
Replying to [jdemeyer](#comment%3A6):
> Just FYI: this conflicts with #19628


That ticket looks like it's been sitting around for quite a while. Is it something I could be of help with?



---

archive/issue_comments_473187.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [embray](#comment%3A9):\n> Is it something I could be of help with?\n\n\nIt just needs review...",
    "created_at": "2018-02-21T13:04:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473187",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>
Replying to [embray](#comment%3A9):
> Is it something I could be of help with?


It just needs review...



---

archive/issue_comments_473188.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------|\n|[866eddd](https://github.com/sagemath/sagetrac-mirror/commit/866eddd0d1982a0327ac37daf29bab857f227fa5)|`WithEqualityById.__richcmp__: bail out if \"other\" is no instance of WithEqualityById`|\n|[0d8c963](https://github.com/sagemath/sagetrac-mirror/commit/0d8c9637ae85fcdf02bbd801b6113cf8f3d7fda5)|`Merge branch 'u/jdemeyer/lazy_import_breaks_cachedrepresentation' into u/embray/python3/sage-structure-unique_representation`|",
    "created_at": "2018-02-21T13:33:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473188",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------|
|[866eddd](https://github.com/sagemath/sagetrac-mirror/commit/866eddd0d1982a0327ac37daf29bab857f227fa5)|`WithEqualityById.__richcmp__: bail out if "other" is no instance of WithEqualityById`|
|[0d8c963](https://github.com/sagemath/sagetrac-mirror/commit/0d8c9637ae85fcdf02bbd801b6113cf8f3d7fda5)|`Merge branch 'u/jdemeyer/lazy_import_breaks_cachedrepresentation' into u/embray/python3/sage-structure-unique_representation`|



---

archive/issue_comments_473189.json:
```json
{
    "body": "Changing commit from \"011250b1440e3de0af94cdd0046156be1ea6904c\" to \"0d8c9637ae85fcdf02bbd801b6113cf8f3d7fda5\"",
    "created_at": "2018-02-21T13:33:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473189",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "011250b1440e3de0af94cdd0046156be1ea6904c" to "0d8c9637ae85fcdf02bbd801b6113cf8f3d7fda5"



---

archive/issue_comments_473190.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|\n|[df224c6](https://github.com/sagemath/sagetrac-mirror/commit/df224c66a5e0956682b469cbaedd4a897297b6c1)|`Simplify these docs by simply removing the custom comparison examples.`|",
    "created_at": "2018-02-21T13:35:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473190",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|
|[df224c6](https://github.com/sagemath/sagetrac-mirror/commit/df224c66a5e0956682b469cbaedd4a897297b6c1)|`Simplify these docs by simply removing the custom comparison examples.`|



---

archive/issue_comments_473191.json:
```json
{
    "body": "Changing commit from \"0d8c9637ae85fcdf02bbd801b6113cf8f3d7fda5\" to \"df224c66a5e0956682b469cbaedd4a897297b6c1\"",
    "created_at": "2018-02-21T13:35:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473191",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0d8c9637ae85fcdf02bbd801b6113cf8f3d7fda5" to "df224c66a5e0956682b469cbaedd4a897297b6c1"



---

archive/issue_comments_473192.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-02-21T13:37:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473192",
    "user": "https://github.com/embray"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_473193.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#19628\"",
    "created_at": "2018-02-21T13:37:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473193",
    "user": "https://github.com/embray"
}
```

Changing dependencies from "" to "#19628"



---

archive/issue_comments_473194.json:
```json
{
    "body": "<a id='comment:13'></a>\nMerged in #19628 and removed the custom comparison examples.  In the end the only change needed for Python 3 is to replace the one `__cmp__` in the example for `CachedRepresentation` with `__eq__`, which makes more sense anyways.",
    "created_at": "2018-02-21T13:37:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473194",
    "user": "https://github.com/embray"
}
```

<a id='comment:13'></a>
Merged in #19628 and removed the custom comparison examples.  In the end the only change needed for Python 3 is to replace the one `__cmp__` in the example for `CachedRepresentation` with `__eq__`, which makes more sense anyways.



---

archive/issue_comments_473195.json:
```json
{
    "body": "<a id='comment:14'></a>\nWe should keep the test for `!=`",
    "created_at": "2018-03-11T07:47:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473195",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
We should keep the test for `!=`



---

archive/issue_comments_473196.json:
```json
{
    "body": "<a id='comment:15'></a>\nThat's a good point.",
    "created_at": "2018-03-12T14:52:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473196",
    "user": "https://github.com/embray"
}
```

<a id='comment:15'></a>
That's a good point.



---

archive/issue_comments_473197.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-03-12T14:52:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473197",
    "user": "https://github.com/embray"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_473198.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------|\n|[85ea414](https://github.com/sagemath/sagetrac-mirror/commit/85ea4146a2ff9c7e9e92eb2ab79414d9501be0f9)|`Remove the needlessly confusing combination of two tests on one line; restore the != test since it is still relevant here`|",
    "created_at": "2018-03-12T14:54:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473198",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------|
|[85ea414](https://github.com/sagemath/sagetrac-mirror/commit/85ea4146a2ff9c7e9e92eb2ab79414d9501be0f9)|`Remove the needlessly confusing combination of two tests on one line; restore the != test since it is still relevant here`|



---

archive/issue_comments_473199.json:
```json
{
    "body": "Changing commit from \"df224c66a5e0956682b469cbaedd4a897297b6c1\" to \"85ea4146a2ff9c7e9e92eb2ab79414d9501be0f9\"",
    "created_at": "2018-03-12T14:54:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473199",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "df224c66a5e0956682b469cbaedd4a897297b6c1" to "85ea4146a2ff9c7e9e92eb2ab79414d9501be0f9"



---

archive/issue_comments_473200.json:
```json
{
    "body": "Changing keywords from \"\" to \"python3, richcmp\".",
    "created_at": "2018-03-14T18:59:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473200",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "" to "python3, richcmp".



---

archive/issue_comments_473201.json:
```json
{
    "body": "<a id='comment:18'></a>\nis this back to needs_review ?",
    "created_at": "2018-03-14T19:00:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473201",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'></a>
is this back to needs_review ?



---

archive/issue_comments_473202.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-03-15T13:19:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473202",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_473203.json:
```json
{
    "body": "<a id='comment:19'></a>\nI will assume so.",
    "created_at": "2018-03-15T13:19:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473203",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:19'></a>
I will assume so.



---

archive/issue_comments_473204.json:
```json
{
    "body": "Changing dependencies from \"#19628\" to \"\"",
    "created_at": "2018-03-15T13:19:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473204",
    "user": "https://github.com/fchapoton"
}
```

Changing dependencies from "#19628" to ""



---

archive/issue_comments_473205.json:
```json
{
    "body": "<a id='comment:20'></a>\nThis sentence still makes no sense to me (see [comment:5]):\n\n```\nFor other\ncomparisons, the relevant custom comparison is called if defined for either\nthe left-hand side or the right-hand side::\n```",
    "created_at": "2018-03-16T09:28:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473205",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'></a>
This sentence still makes no sense to me (see [comment:5]):

```
For other
comparisons, the relevant custom comparison is called if defined for either
the left-hand side or the right-hand side::
```



---

archive/issue_comments_473206.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-03-16T09:28:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473206",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_473207.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-03-16T12:53:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473207",
    "user": "https://github.com/embray"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_473208.json:
```json
{
    "body": "<a id='comment:21'></a>\nCould you clarify?  I think the sentence itself makes sense; or is at least true. If anything doesn't make sense it might just be the placement. I.e. the examples that immediately follow that sentence isn't really relevant (the sentence is more a modification to the previous sentence, to which the examples due apply).  \n\nMaybe if it were moved later?  I wouldn't outright remove it--the point is just to say that other custom comparisons may still be implemented on classes that subclass from this.",
    "created_at": "2018-03-16T12:53:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473208",
    "user": "https://github.com/embray"
}
```

<a id='comment:21'></a>
Could you clarify?  I think the sentence itself makes sense; or is at least true. If anything doesn't make sense it might just be the placement. I.e. the examples that immediately follow that sentence isn't really relevant (the sentence is more a modification to the previous sentence, to which the examples due apply).  

Maybe if it were moved later?  I wouldn't outright remove it--the point is just to say that other custom comparisons may still be implemented on classes that subclass from this.



---

archive/issue_comments_473209.json:
```json
{
    "body": "<a id='comment:22'></a>\nWhat are \"other comparisons\" in that sentence?",
    "created_at": "2018-03-16T13:10:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473209",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>
What are "other comparisons" in that sentence?



---

archive/issue_comments_473210.json:
```json
{
    "body": "<a id='comment:23'></a>\n`<` `>` `<=` `>=`?",
    "created_at": "2018-03-16T13:23:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473210",
    "user": "https://github.com/embray"
}
```

<a id='comment:23'></a>
`<` `>` `<=` `>=`?



---

archive/issue_comments_473211.json:
```json
{
    "body": "<a id='comment:24'></a>\nOK, but then what is \"the relevant custom comparison\"?",
    "created_at": "2018-03-16T13:26:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473211",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:24'></a>
OK, but then what is "the relevant custom comparison"?



---

archive/issue_comments_473212.json:
```json
{
    "body": "<a id='comment:25'></a>\nI would just remove that sentence completely.",
    "created_at": "2018-03-16T13:27:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473212",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'></a>
I would just remove that sentence completely.



---

archive/issue_comments_473213.json:
```json
{
    "body": "<a id='comment:26'></a>\nOkay... I don't really see a problem with it other than what I explained above, but I can certainly live without it as well.",
    "created_at": "2018-03-16T13:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473213",
    "user": "https://github.com/embray"
}
```

<a id='comment:26'></a>
Okay... I don't really see a problem with it other than what I explained above, but I can certainly live without it as well.



---

archive/issue_comments_473214.json:
```json
{
    "body": "<a id='comment:27'></a>\nIf that sentence is meant to say that you can subclass `CachedRepresentation` and add your own rich comparison methods, it's saying that very badly. It's also superfluous since that's how subclassing in Python works in general.",
    "created_at": "2018-03-16T13:36:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473214",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:27'></a>
If that sentence is meant to say that you can subclass `CachedRepresentation` and add your own rich comparison methods, it's saying that very badly. It's also superfluous since that's how subclassing in Python works in general.



---

archive/issue_comments_473215.json:
```json
{
    "body": "<a id='comment:28'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[62e7b05](https://github.com/sagemath/sagetrac-mirror/commit/62e7b05f4c53a6fd4ad311ea33891aaebdb670a1)|`Some more minor edits, hopefully for clarity...`|",
    "created_at": "2018-03-16T13:43:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473215",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[62e7b05](https://github.com/sagemath/sagetrac-mirror/commit/62e7b05f4c53a6fd4ad311ea33891aaebdb670a1)|`Some more minor edits, hopefully for clarity...`|



---

archive/issue_comments_473216.json:
```json
{
    "body": "Changing commit from \"85ea4146a2ff9c7e9e92eb2ab79414d9501be0f9\" to \"62e7b05f4c53a6fd4ad311ea33891aaebdb670a1\"",
    "created_at": "2018-03-16T13:43:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473216",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "85ea4146a2ff9c7e9e92eb2ab79414d9501be0f9" to "62e7b05f4c53a6fd4ad311ea33891aaebdb670a1"



---

archive/issue_comments_473217.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [jdemeyer](#comment%3A27):\n> It's also superfluous since that's how subclassing in Python works in general.\n\n\nI agree that it's superfluous, but so is a lot of the other text in there. I figured it was worth pointing out for those who aren't completely comfortable how subclassing works w.r.t. comparisons (heck, I'm not even completely comfortable with it, if recent experience dictates).\n\nSo it's saying \"these objects have this specific type of behavior when it comes to identity comparisons, but may still have any other behavior w.r.t. ordering behavior\".  But I don't think it's too important to say that either.",
    "created_at": "2018-03-16T13:46:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473217",
    "user": "https://github.com/embray"
}
```

<a id='comment:29'></a>
Replying to [jdemeyer](#comment%3A27):
> It's also superfluous since that's how subclassing in Python works in general.


I agree that it's superfluous, but so is a lot of the other text in there. I figured it was worth pointing out for those who aren't completely comfortable how subclassing works w.r.t. comparisons (heck, I'm not even completely comfortable with it, if recent experience dictates).

So it's saying "these objects have this specific type of behavior when it comes to identity comparisons, but may still have any other behavior w.r.t. ordering behavior".  But I don't think it's too important to say that either.



---

archive/issue_comments_473218.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-03-16T14:01:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473218",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_473219.json:
```json
{
    "body": "Changing branch from \"u/embray/python3/sage-structure-unique_representation\" to \"62e7b05f4c53a6fd4ad311ea33891aaebdb670a1\"",
    "created_at": "2018-03-22T19:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473219",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/embray/python3/sage-structure-unique_representation" to "62e7b05f4c53a6fd4ad311ea33891aaebdb670a1"



---

archive/issue_events_070877.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-22T19:22:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24791#event-70877"
}
```



---

archive/issue_comments_473220.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-03-22T19:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24791#issuecomment-473220",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
