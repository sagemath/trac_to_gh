# Issue 24626: More substantial implementation of matrices over complex ball fields

archive/issues_024389.json:
```json
{
    "body": "\n\nCC:  @fredrik-johansson @videlec @cheuberg\n\nBranch/Commit: 13b8b8ff02008972051f057d76c599564ff9c62a\n\nReviewer: Vincent Delecroix\n\nAuthor: Marc Mezzarobba\n\nDependencies: #24742\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24626\n\n",
    "closed_at": "2018-05-09T09:49:42Z",
    "created_at": "2018-01-31T18:29:40Z",
    "labels": [
        "component: linear algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "More substantial implementation of matrices over complex ball fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24626",
    "user": "https://github.com/mezzarobba"
}
```


CC:  @fredrik-johansson @videlec @cheuberg

Branch/Commit: 13b8b8ff02008972051f057d76c599564ff9c62a

Reviewer: Vincent Delecroix

Author: Marc Mezzarobba

Dependencies: #24742

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24626





---

archive/issue_comments_466762.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-01-31T18:30:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466762",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_466763.json:
```json
{
    "body": "<a id='comment:3'></a>\nGiven that comparison of balls is modified in #24627 to use directly arb, I don't understand the following\n\n```\n+        if op == Py_EQ:\n+            return lt is rt or acb_mat_eq(lt.value, rt.value)\n```",
    "created_at": "2018-02-15T18:24:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466763",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>
Given that comparison of balls is modified in #24627 to use directly arb, I don't understand the following

```
+        if op == Py_EQ:
+            return lt is rt or acb_mat_eq(lt.value, rt.value)
```



---

archive/issue_comments_466764.json:
```json
{
    "body": "<a id='comment:4'></a>\nWhat should be the output of the two things below?\n\n```\nsage: a = matrix(CBF, [1/3])\nsage: b = matrix(CBF, [1/3])\nsage: (a == a) == (a[0,0] == a[0,0])\nsage: (a == b) == (a[0,0] == b[0,0])\n```\n(such kind of tests would be good as doctests)",
    "created_at": "2018-02-15T18:27:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466764",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'></a>
What should be the output of the two things below?

```
sage: a = matrix(CBF, [1/3])
sage: b = matrix(CBF, [1/3])
sage: (a == a) == (a[0,0] == a[0,0])
sage: (a == b) == (a[0,0] == b[0,0])
```
(such kind of tests would be good as doctests)



---

archive/issue_comments_466765.json:
```json
{
    "body": "<a id='comment:5'></a>\nInstead of\n\n```\nelif op == Py_GT or op == Py_GE or op == Py_LT or op == Py_LE:\n```\nyou can use `else` (and not import `Py_GT`, `Py_GE`, `Py_LT`, `Py_LE`)",
    "created_at": "2018-02-15T18:29:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466765",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
Instead of

```
elif op == Py_GT or op == Py_GE or op == Py_LT or op == Py_LE:
```
you can use `else` (and not import `Py_GT`, `Py_GE`, `Py_LT`, `Py_LE`)



---

archive/issue_comments_466766.json:
```json
{
    "body": "<a id='comment:6'></a>\nYou would better test `+`, `-`, ...rather than `_add_`, `_sub_`, ...",
    "created_at": "2018-02-15T18:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466766",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>
You would better test `+`, `-`, ...rather than `_add_`, `_sub_`, ...



---

archive/issue_comments_466767.json:
```json
{
    "body": "<a id='comment:7'></a>\n(BTW, why `__invert__(self)` (two underscores, standard Python) and `_neg_(self)` (where does it come from!?))",
    "created_at": "2018-02-15T18:31:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466767",
    "user": "https://github.com/videlec"
}
```

<a id='comment:7'></a>
(BTW, why `__invert__(self)` (two underscores, standard Python) and `_neg_(self)` (where does it come from!?))



---

archive/issue_comments_466768.json:
```json
{
    "body": "<a id='comment:8'></a>\nThanks for you comments!\n\nReplying to [vdelecroix](#comment%3A3):\n> Given that comparison of balls is modified in #24627 to use directly arb, I don't understand the following\n> \n> ```\n> +        if op == Py_EQ:\n> +            return lt is rt or acb_mat_eq(lt.value, rt.value)\n> ```\n\n\nGood catch. The explanation is simply that this ticket is older than #24627.\n\nReplying to [vdelecroix](#comment%3A5):\n> Instead of\n> \n> ```\n> elif op == Py_GT or op == Py_GE or op == Py_LT or op == Py_LE:\n> ```\n> you can use `else` (and not import `Py_GT`, `Py_GE`, `Py_LT`, `Py_LE`)\n\n\nYes, but I prefer the current version. (Is there any guarantee that Python won't add more comparison operators, btw?)\n\nReplying to [vdelecroix](#comment%3A6):\n> You would better test `+`, `-`, ...rather than `_add_`, `_sub_`, ...\n\n\nWhy? What I want in this case in really to test the implementation for this specific parent, not the dispatch done by the coercion framework.\n\nReplying to [vdelecroix](#comment%3A7):\n> (BTW, why `__invert__(self)` (two underscores, standard Python) and `_neg_(self)` (where does it come from!?))\n\n\n`Element` implements `__neg__()` and not `__invert__()`, probably because abusing `__invert__()` to mean `1/x` like most Sage `Element`s do may not be such a good idea. But I don't think there is any reason to implement `_neg_()` rather than `__neg__()` in the present case, and the latter should be slightly faster.",
    "created_at": "2018-02-16T09:04:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466768",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:8'></a>
Thanks for you comments!

Replying to [vdelecroix](#comment%3A3):
> Given that comparison of balls is modified in #24627 to use directly arb, I don't understand the following
> 
> ```
> +        if op == Py_EQ:
> +            return lt is rt or acb_mat_eq(lt.value, rt.value)
> ```


Good catch. The explanation is simply that this ticket is older than #24627.

Replying to [vdelecroix](#comment%3A5):
> Instead of
> 
> ```
> elif op == Py_GT or op == Py_GE or op == Py_LT or op == Py_LE:
> ```
> you can use `else` (and not import `Py_GT`, `Py_GE`, `Py_LT`, `Py_LE`)


Yes, but I prefer the current version. (Is there any guarantee that Python won't add more comparison operators, btw?)

Replying to [vdelecroix](#comment%3A6):
> You would better test `+`, `-`, ...rather than `_add_`, `_sub_`, ...


Why? What I want in this case in really to test the implementation for this specific parent, not the dispatch done by the coercion framework.

Replying to [vdelecroix](#comment%3A7):
> (BTW, why `__invert__(self)` (two underscores, standard Python) and `_neg_(self)` (where does it come from!?))


`Element` implements `__neg__()` and not `__invert__()`, probably because abusing `__invert__()` to mean `1/x` like most Sage `Element`s do may not be such a good idea. But I don't think there is any reason to implement `_neg_()` rather than `__neg__()` in the present case, and the latter should be slightly faster.



---

archive/issue_comments_466769.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#24627\"",
    "created_at": "2018-02-18T20:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466769",
    "user": "https://github.com/videlec"
}
```

Changing dependencies from "" to "#24627"



---

archive/issue_comments_466770.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-02-18T20:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466770",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_466771.json:
```json
{
    "body": "Changing commit from \"a33f27d50255a6c42575ce71e8dd46d7429a7e38\" to \"bf2d6ac834c285c7cb93b7eeecb36085b4127ec8\"",
    "created_at": "2018-02-19T09:06:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466771",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a33f27d50255a6c42575ce71e8dd46d7429a7e38" to "bf2d6ac834c285c7cb93b7eeecb36085b4127ec8"



---

archive/issue_comments_466772.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[16962e5](https://git.sagemath.org/sage.git/commit/?id=16962e59411391b5695960f3303af63e16ab6442)|`real_arb: use arb 2.6+ comparison functions`|\n|[ac4ba37](https://git.sagemath.org/sage.git/commit/?id=ac4ba373f073f08dc80c4b70e0d91642f51365cd)|`complex_arb: use arb 2.6+ comparison functions`|\n|[b55e3c2](https://git.sagemath.org/sage.git/commit/?id=b55e3c2b7223da4044d43d9c0ca523455be6c117)|`stop considering inexact balls equal to themselves`|\n|[bf2d6ac](https://git.sagemath.org/sage.git/commit/?id=bf2d6ac834c285c7cb93b7eeecb36085b4127ec8)|`Merge branch 'arb_cmp' into acb_mat`|",
    "created_at": "2018-02-19T09:06:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466772",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[16962e5](https://git.sagemath.org/sage.git/commit/?id=16962e59411391b5695960f3303af63e16ab6442)|`real_arb: use arb 2.6+ comparison functions`|
|[ac4ba37](https://git.sagemath.org/sage.git/commit/?id=ac4ba373f073f08dc80c4b70e0d91642f51365cd)|`complex_arb: use arb 2.6+ comparison functions`|
|[b55e3c2](https://git.sagemath.org/sage.git/commit/?id=b55e3c2b7223da4044d43d9c0ca523455be6c117)|`stop considering inexact balls equal to themselves`|
|[bf2d6ac](https://git.sagemath.org/sage.git/commit/?id=bf2d6ac834c285c7cb93b7eeecb36085b4127ec8)|`Merge branch 'arb_cmp' into acb_mat`|



---

archive/issue_comments_466773.json:
```json
{
    "body": "Changing commit from \"bf2d6ac834c285c7cb93b7eeecb36085b4127ec8\" to \"093c7ebe33d8d72fae057f8a4722bd0fdd42805b\"",
    "created_at": "2018-02-19T09:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466773",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bf2d6ac834c285c7cb93b7eeecb36085b4127ec8" to "093c7ebe33d8d72fae057f8a4722bd0fdd42805b"



---

archive/issue_comments_466774.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[093c7eb](https://git.sagemath.org/sage.git/commit/?id=093c7ebe33d8d72fae057f8a4722bd0fdd42805b)|`#24626 use cmp semantics of #24627`|",
    "created_at": "2018-02-19T09:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466774",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[093c7eb](https://git.sagemath.org/sage.git/commit/?id=093c7ebe33d8d72fae057f8a4722bd0fdd42805b)|`#24626 use cmp semantics of #24627`|



---

archive/issue_comments_466775.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-02-19T09:08:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466775",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_466776.json:
```json
{
    "body": "<a id='comment:13'></a>\ndocstring in charpoly? The rest looks good.",
    "created_at": "2018-04-03T07:34:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466776",
    "user": "https://github.com/videlec"
}
```

<a id='comment:13'></a>
docstring in charpoly? The rest looks good.



---

archive/issue_comments_466777.json:
```json
{
    "body": "Changing dependencies from \"#24627\" to \"#24742\"",
    "created_at": "2018-04-03T10:55:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466777",
    "user": "https://github.com/mezzarobba"
}
```

Changing dependencies from "#24627" to "#24742"



---

archive/issue_comments_466778.json:
```json
{
    "body": "Changing commit from \"093c7ebe33d8d72fae057f8a4722bd0fdd42805b\" to \"95331117d144b540a5ad11449c9c549f23135d3f\"",
    "created_at": "2018-04-03T11:07:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466778",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "093c7ebe33d8d72fae057f8a4722bd0fdd42805b" to "95331117d144b540a5ad11449c9c549f23135d3f"



---

archive/issue_comments_466779.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[4397945](https://git.sagemath.org/sage.git/commit/?id=4397945bef8f7b84fbd5edf5dbc59ea32a7d30a4)|`Implement length-checking iterator`|\n|[fac3f5e](https://git.sagemath.org/sage.git/commit/?id=fac3f5e2aec876cfae4ec8c0bc18879a19cd001d)|`New MatrixArgs object to deal with constructing matrices`|\n|[d956343](https://git.sagemath.org/sage.git/commit/?id=d956343645a32ec085e87f0a3d18015b03d05725)|`expand Matrix_complex_ball_dense`|\n|[ede80a0](https://git.sagemath.org/sage.git/commit/?id=ede80a01a8ff6fda8a6b3576c96862b4ff1c98ed)|`#24626 use cmp semantics of #24627`|\n|[9533111](https://git.sagemath.org/sage.git/commit/?id=95331117d144b540a5ad11449c9c549f23135d3f)|`#24626 missing description in docstring`|",
    "created_at": "2018-04-03T11:07:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466779",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[4397945](https://git.sagemath.org/sage.git/commit/?id=4397945bef8f7b84fbd5edf5dbc59ea32a7d30a4)|`Implement length-checking iterator`|
|[fac3f5e](https://git.sagemath.org/sage.git/commit/?id=fac3f5e2aec876cfae4ec8c0bc18879a19cd001d)|`New MatrixArgs object to deal with constructing matrices`|
|[d956343](https://git.sagemath.org/sage.git/commit/?id=d956343645a32ec085e87f0a3d18015b03d05725)|`expand Matrix_complex_ball_dense`|
|[ede80a0](https://git.sagemath.org/sage.git/commit/?id=ede80a01a8ff6fda8a6b3576c96862b4ff1c98ed)|`#24626 use cmp semantics of #24627`|
|[9533111](https://git.sagemath.org/sage.git/commit/?id=95331117d144b540a5ad11449c9c549f23135d3f)|`#24626 missing description in docstring`|



---

archive/issue_comments_466780.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [vdelecroix](#comment%3A13):\n> docstring in charpoly?\n\n\nFixed, thanks!\n\nI also rebased the branch on top of fac3f5e (#24742) to avoid a merge conflict.",
    "created_at": "2018-04-03T11:09:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466780",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:16'></a>
Replying to [vdelecroix](#comment%3A13):
> docstring in charpoly?


Fixed, thanks!

I also rebased the branch on top of fac3f5e (#24742) to avoid a merge conflict.



---

archive/issue_comments_466781.json:
```json
{
    "body": "Changing commit from \"95331117d144b540a5ad11449c9c549f23135d3f\" to \"f3069954eb1a2c0cbd7eeef293f2145c83a40225\"",
    "created_at": "2018-04-07T09:51:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466781",
    "user": "https://github.com/videlec"
}
```

Changing commit from "95331117d144b540a5ad11449c9c549f23135d3f" to "f3069954eb1a2c0cbd7eeef293f2145c83a40225"



---

archive/issue_comments_466782.json:
```json
{
    "body": "Changing branch from \"u/mmezzarobba/acb_mat\" to \"public/acb_mat\"",
    "created_at": "2018-04-07T09:51:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466782",
    "user": "https://github.com/videlec"
}
```

Changing branch from "u/mmezzarobba/acb_mat" to "public/acb_mat"



---

archive/issue_comments_466783.json:
```json
{
    "body": "<a id='comment:17'></a>\nmerge conflicts with #24742 that has changed from `fac3f5e` to `\u200bbf9cefd`. I did the rebase.\n\n---\nNew commits:\n|                                                                                                                                          |                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[bf9cefd](https://git.sagemath.org/sage.git/commit?id=bf9cefd138bb9fbb19c3c43a778ab230bf962902)|`New MatrixArgs object to deal with constructing matrices`|\n|[e6542d6](https://git.sagemath.org/sage.git/commit?id=e6542d641350677e7bb3bf645d8ac9f668e51e96)|`expand Matrix_complex_ball_dense`|\n|[b064606](https://git.sagemath.org/sage.git/commit?id=b06460679e6887d10126e0c3d830f1299c4c3786)|`#24626 use cmp semantics of #24627`|\n|[f306995](https://git.sagemath.org/sage.git/commit?id=f3069954eb1a2c0cbd7eeef293f2145c83a40225)|`#24626 missing description in docstring`|",
    "created_at": "2018-04-07T09:51:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466783",
    "user": "https://github.com/videlec"
}
```

<a id='comment:17'></a>
merge conflicts with #24742 that has changed from `fac3f5e` to `â€‹bf9cefd`. I did the rebase.

---
New commits:
|                                                                                                                                          |                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[bf9cefd](https://git.sagemath.org/sage.git/commit?id=bf9cefd138bb9fbb19c3c43a778ab230bf962902)|`New MatrixArgs object to deal with constructing matrices`|
|[e6542d6](https://git.sagemath.org/sage.git/commit?id=e6542d641350677e7bb3bf645d8ac9f668e51e96)|`expand Matrix_complex_ball_dense`|
|[b064606](https://git.sagemath.org/sage.git/commit?id=b06460679e6887d10126e0c3d830f1299c4c3786)|`#24626 use cmp semantics of #24627`|
|[f306995](https://git.sagemath.org/sage.git/commit?id=f3069954eb1a2c0cbd7eeef293f2145c83a40225)|`#24626 missing description in docstring`|



---

archive/issue_comments_466784.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [mmezzarobba](#comment%3A8):\n> Replying to [vdelecroix](#comment%3A3):\n> Replying to [vdelecroix](#comment%3A5):\n> > Instead of\n> > \n> > ```\n> > elif op == Py_GT or op == Py_GE or op == Py_LT or op == Py_LE:\n> > ```\n> > you can use `else` (and not import `Py_GT`, `Py_GE`, `Py_LT`, `Py_LE`)\n\n> \n> Yes, but I prefer the current version. (Is there any guarantee that Python won't add more comparison operators, btw?)\n\n\nI don't understand why you would prefer the current version. And if Python does add operators your version will return `None`. You only want to support `EQ` and `NE` here, don't you?",
    "created_at": "2018-04-07T09:55:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466784",
    "user": "https://github.com/videlec"
}
```

<a id='comment:18'></a>
Replying to [mmezzarobba](#comment%3A8):
> Replying to [vdelecroix](#comment%3A3):
> Replying to [vdelecroix](#comment%3A5):
> > Instead of
> > 
> > ```
> > elif op == Py_GT or op == Py_GE or op == Py_LT or op == Py_LE:
> > ```
> > you can use `else` (and not import `Py_GT`, `Py_GE`, `Py_LT`, `Py_LE`)

> 
> Yes, but I prefer the current version. (Is there any guarantee that Python won't add more comparison operators, btw?)


I don't understand why you would prefer the current version. And if Python does add operators your version will return `None`. You only want to support `EQ` and `NE` here, don't you?



---

archive/issue_comments_466785.json:
```json
{
    "body": "Changing commit from \"f3069954eb1a2c0cbd7eeef293f2145c83a40225\" to \"01f6f87e415d4f2538a65192e320e454db044e01\"",
    "created_at": "2018-04-07T10:01:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466785",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f3069954eb1a2c0cbd7eeef293f2145c83a40225" to "01f6f87e415d4f2538a65192e320e454db044e01"



---

archive/issue_comments_466786.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n|[01f6f87](https://git.sagemath.org/sage.git/commit/?id=01f6f87e415d4f2538a65192e320e454db044e01)|`#24626 _neg_ -> __neg__`|",
    "created_at": "2018-04-07T10:01:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466786",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
|[01f6f87](https://git.sagemath.org/sage.git/commit/?id=01f6f87e415d4f2538a65192e320e454db044e01)|`#24626 _neg_ -> __neg__`|



---

archive/issue_comments_466787.json:
```json
{
    "body": "<a id='comment:20'></a>\nwaiting for more info on [comment:18]. The rest is ok.",
    "created_at": "2018-04-07T10:02:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466787",
    "user": "https://github.com/videlec"
}
```

<a id='comment:20'></a>
waiting for more info on [comment:18]. The rest is ok.



---

archive/issue_comments_466788.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2018-04-07T10:02:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466788",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_466789.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2018-04-07T10:03:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466789",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_comments_466790.json:
```json
{
    "body": "<a id='comment:22'></a>\nThanks for the rebase.\n\nReplying to [vdelecroix](#comment%3A18):\n> I don't understand why you would prefer the current version. And if Python does add operators your version will return `None`. You only want to support `EQ` and `NE` here, don't you?\n\n\nYes, probably. Go ahead and change it if you want--I find the version I wrote slightly clearer and I don't see the point of this discussion, but I don't really care.",
    "created_at": "2018-04-07T10:37:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466790",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:22'></a>
Thanks for the rebase.

Replying to [vdelecroix](#comment%3A18):
> I don't understand why you would prefer the current version. And if Python does add operators your version will return `None`. You only want to support `EQ` and `NE` here, don't you?


Yes, probably. Go ahead and change it if you want--I find the version I wrote slightly clearer and I don't see the point of this discussion, but I don't really care.



---

archive/issue_comments_466791.json:
```json
{
    "body": "<a id='comment:23'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[13b8b8f](https://git.sagemath.org/sage.git/commit/?id=13b8b8ff02008972051f057d76c599564ff9c62a)|`#24626 simplify _richcmp_ and modify error msg`|",
    "created_at": "2018-04-07T10:55:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466791",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[13b8b8f](https://git.sagemath.org/sage.git/commit/?id=13b8b8ff02008972051f057d76c599564ff9c62a)|`#24626 simplify _richcmp_ and modify error msg`|



---

archive/issue_comments_466792.json:
```json
{
    "body": "Changing commit from \"01f6f87e415d4f2538a65192e320e454db044e01\" to \"13b8b8ff02008972051f057d76c599564ff9c62a\"",
    "created_at": "2018-04-07T10:55:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466792",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "01f6f87e415d4f2538a65192e320e454db044e01" to "13b8b8ff02008972051f057d76c599564ff9c62a"



---

archive/issue_comments_466793.json:
```json
{
    "body": "<a id='comment:24'></a>\nif you are ok with the current state please set to positive review. I would like to move forward with #24927.",
    "created_at": "2018-04-07T10:56:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466793",
    "user": "https://github.com/videlec"
}
```

<a id='comment:24'></a>
if you are ok with the current state please set to positive review. I would like to move forward with #24927.



---

archive/issue_comments_466794.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2018-04-07T12:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466794",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_comments_466795.json:
```json
{
    "body": "<a id='comment:25'></a>\nThe failure reported by the patchbot is genuine, but not due to this ticket.",
    "created_at": "2018-04-07T12:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466795",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:25'></a>
The failure reported by the patchbot is genuine, but not due to this ticket.



---

archive/issue_events_062033.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-09T09:49:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24626#event-62033"
}
```



---

archive/issue_comments_466796.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-05-09T09:49:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466796",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_466797.json:
```json
{
    "body": "Changing branch from \"public/acb_mat\" to \"13b8b8ff02008972051f057d76c599564ff9c62a\"",
    "created_at": "2018-05-09T09:49:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24626",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24626#issuecomment-466797",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/acb_mat" to "13b8b8ff02008972051f057d76c599564ff9c62a"
