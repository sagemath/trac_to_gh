# Issue 24924: Making the bliss canonical form available for edge labelled graphs

archive/issues_024687.json:
```json
{
    "assignees": [],
    "body": "This is a discussion ticket for improving the bliss canonical form input, based on https://groups.google.com/d/topic/sage-support/oZ7Uu5jTR9k/discussion.\n\nChristian's aim: make the canonical form of a graph given by an integer matrix much faster.\n\nThis basic idea is to provide an alternative version of `sage.graphs.bliss.canonical_form` using a list of labelled edges as input rather than a graph. Maybe\n\n```\ndef canonical_form_list(Vnr, edges, partition)\n```\nwhere we assume that (i,j,color) in edges has the property `0 <= i,j < Vnr` and colors `0 <= color < k` where the color `0` means \"uncolored\" and is assumed to be the most common color.\n\nSince this is an internal speed-critial functionality, Christian believes that it would then be the user's responsibility to turn any input format of graph, if needed, into this format.\n\nAs Dima pointed out, we can turn this edge labelled graph into an unlabelled graph with O(Vnr log k) vertices as described in Sect 14 in http://pallini.di.uniroma1.it/Guide.html.\n\nFor now, this is only for discussion design and code snippets.\n\nDepends on #20382\n\nCC:  @simon-king-jena @dimpase @dimpase @etn40ff\n\nKeywords: **bliss, graph automorphism, canonical form**\n\nBranch/Commit: **[`0830efc`](https://github.com/sagemath/sagetrac-mirror/commit/0830efc90604f7d4b432e013b9242b24e618c762)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Christian Stump**\n\nComponent: **graph theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24924_\n\n",
    "closed_at": "2018-05-18T17:04:17Z",
    "created_at": "2018-03-07T15:12:55Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Making the bliss canonical form available for edge labelled graphs",
    "type": "issue",
    "updated_at": "2018-05-18T17:04:17Z",
    "url": "https://github.com/sagemath/sage/issues/24924",
    "user": "https://github.com/stumpc5"
}
```
This is a discussion ticket for improving the bliss canonical form input, based on https://groups.google.com/d/topic/sage-support/oZ7Uu5jTR9k/discussion.

Christian's aim: make the canonical form of a graph given by an integer matrix much faster.

This basic idea is to provide an alternative version of `sage.graphs.bliss.canonical_form` using a list of labelled edges as input rather than a graph. Maybe

```
def canonical_form_list(Vnr, edges, partition)
```
where we assume that (i,j,color) in edges has the property `0 <= i,j < Vnr` and colors `0 <= color < k` where the color `0` means "uncolored" and is assumed to be the most common color.

Since this is an internal speed-critial functionality, Christian believes that it would then be the user's responsibility to turn any input format of graph, if needed, into this format.

As Dima pointed out, we can turn this edge labelled graph into an unlabelled graph with O(Vnr log k) vertices as described in Sect 14 in http://pallini.di.uniroma1.it/Guide.html.

For now, this is only for discussion design and code snippets.

Depends on #20382

CC:  @simon-king-jena @dimpase @dimpase @etn40ff

Keywords: **bliss, graph automorphism, canonical form**

Branch/Commit: **[`0830efc`](https://github.com/sagemath/sagetrac-mirror/commit/0830efc90604f7d4b432e013b9242b24e618c762)**

Reviewer: **Dima Pasechnik**

Author: **Christian Stump**

Component: **graph theory**

_Issue created by migration from https://trac.sagemath.org/ticket/24924_





---

archive/issue_events_346414.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2018-03-07T15:12:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24924#event-346414"
}
```



---

archive/issue_events_346415.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2018-03-07T15:12:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "eeeeee",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24924#event-346415"
}
```



---

archive/issue_events_346416.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2018-03-07T15:12:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24924#event-346416"
}
```



---

archive/issue_events_346417.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2018-03-07T15:12:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24924#event-346417"
}
```



---

archive/issue_events_346418.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2018-03-07T15:14:34Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "title_is": "Making the bliss canonical form available for edge labelled graphs",
    "title_was": "\u1e3eaking the bliss canonical form available for edge labelled graphs",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24924#event-346418"
}
```



---

archive/issue_comments_379305.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n Christian's aim: make the canonical form of a graph given by an integer matrix much faster.\n \n-This basic idea is to provide an alternative version of `sage.graphs.bliss.canonical_form` using a list of labelled vertices as input rather than a graph. Maybe\n+This basic idea is to provide an alternative version of `sage.graphs.bliss.canonical_form` using a list of labelled edges as input rather than a graph. Maybe\n \n ```\n def canonical_form_list(Vnr, edges, partition)\n``````\n",
    "created_at": "2018-03-07T15:15:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379305",
    "user": "https://github.com/stumpc5"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 Christian's aim: make the canonical form of a graph given by an integer matrix much faster.
 
-This basic idea is to provide an alternative version of `sage.graphs.bliss.canonical_form` using a list of labelled vertices as input rather than a graph. Maybe
+This basic idea is to provide an alternative version of `sage.graphs.bliss.canonical_form` using a list of labelled edges as input rather than a graph. Maybe
 
 ```
 def canonical_form_list(Vnr, edges, partition)
``````




---

archive/issue_comments_379306.json:
```json
{
    "body": "Branch: **[u/stumpc5/making_the_bliss_canonical_form_available_for_edge_labelled_graphs](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/making_the_bliss_canonical_form_available_for_edge_labelled_graphs)**",
    "created_at": "2018-03-07T16:17:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379306",
    "user": "https://github.com/stumpc5"
}
```

Branch: **[u/stumpc5/making_the_bliss_canonical_form_available_for_edge_labelled_graphs](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/making_the_bliss_canonical_form_available_for_edge_labelled_graphs)**



---

archive/issue_comments_379307.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI have provided a first almost trivial version, I will send some timings later -- comparing the hash I posted on sage-support with its new counterpart using this new bliss canonical form (yielding the very same hash without ever constructing a sage `DiGraph`) gives immediately\n\n```\nsage: M = matrix([(0, -1, 0, 0, 0, 0, 0, 1),\n....:  (1, 0, 1, 0, 0, 0, 0, 0),\n....:  (0, -1, 0, 0, 1, 0, 0, 0),\n....:  (0, 0, 0, 0, 0, 1, 0, 0),\n....:  (0, 0, -1, 0, 0, 0, 1, 0),\n....:  (0, 0, 0, -1, 0, 0, -1, 0),\n....:  (0, 0, 0, 0, -1, 1, 0, 0),\n....:  (-2, 0, 0, 0, 0, 0, 0, 0),\n....:  (-1, 1, 0, 0, 0, 0, 0, 0),\n....:  (0, 1, 0, 0, 0, 0, 0, -1),\n....:  (0, 1, 0, 1, 0, -1, 0, -1),\n....:  (0, 2, -1, 1, 0, -1, 0, -1),\n....:  (0, 2, -1, 0, 0, -1, 0, -1),\n....:  (0, 2, 0, 0, -1, -1, 0, -1),\n....:  (0, 2, 0, 0, -1, 0, -1, -1),\n....:  (0, 2, 0, 0, 0, 0, -2, -1)]\n....: )\nsage: %timeit matrix_canonical_hash(M,8,8)\n1000 loops, best of 3: 177 \u00b5s per loop\nsage: %timeit matrix_canonical_hash_cython(M)\n10000 loops, best of 3: 20.3 \u00b5s per loop\n```\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff80980c1687ab4a09412d48600ddbe547e32864\"><code>ff80980</code></a></td><td><code>first version of bliss canonical form from edge list</code></td></tr></table>\n",
    "created_at": "2018-03-07T16:22:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379307",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:4" align="right">comment:4</div>

I have provided a first almost trivial version, I will send some timings later -- comparing the hash I posted on sage-support with its new counterpart using this new bliss canonical form (yielding the very same hash without ever constructing a sage `DiGraph`) gives immediately

```
sage: M = matrix([(0, -1, 0, 0, 0, 0, 0, 1),
....:  (1, 0, 1, 0, 0, 0, 0, 0),
....:  (0, -1, 0, 0, 1, 0, 0, 0),
....:  (0, 0, 0, 0, 0, 1, 0, 0),
....:  (0, 0, -1, 0, 0, 0, 1, 0),
....:  (0, 0, 0, -1, 0, 0, -1, 0),
....:  (0, 0, 0, 0, -1, 1, 0, 0),
....:  (-2, 0, 0, 0, 0, 0, 0, 0),
....:  (-1, 1, 0, 0, 0, 0, 0, 0),
....:  (0, 1, 0, 0, 0, 0, 0, -1),
....:  (0, 1, 0, 1, 0, -1, 0, -1),
....:  (0, 2, -1, 1, 0, -1, 0, -1),
....:  (0, 2, -1, 0, 0, -1, 0, -1),
....:  (0, 2, 0, 0, -1, -1, 0, -1),
....:  (0, 2, 0, 0, -1, 0, -1, -1),
....:  (0, 2, 0, 0, 0, 0, -2, -1)]
....: )
sage: %timeit matrix_canonical_hash(M,8,8)
1000 loops, best of 3: 177 µs per loop
sage: %timeit matrix_canonical_hash_cython(M)
10000 loops, best of 3: 20.3 µs per loop
```

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff80980c1687ab4a09412d48600ddbe547e32864"><code>ff80980</code></a></td><td><code>first version of bliss canonical form from edge list</code></td></tr></table>




---

archive/issue_comments_379308.json:
```json
{
    "body": "Commit: **[`ff80980`](https://github.com/sagemath/sagetrac-mirror/commit/ff80980c1687ab4a09412d48600ddbe547e32864)**",
    "created_at": "2018-03-07T16:22:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379308",
    "user": "https://github.com/stumpc5"
}
```

Commit: **[`ff80980`](https://github.com/sagemath/sagetrac-mirror/commit/ff80980c1687ab4a09412d48600ddbe547e32864)**



---

archive/issue_comments_379309.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nSo far it looks good. But if I understand correctly, your actual aim is to get a canonical from associated with a matrix. Hence, you shouldn't need canonical_form_from_edge_list. I guess you want to create the bliss graph directly from the matrix (also using `.get_unsafe()` for element access), so that you don't need to create an edge list as an intermediate result of the bliss graph creation.",
    "created_at": "2018-03-07T20:07:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379309",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:5" align="right">comment:5</div>

So far it looks good. But if I understand correctly, your actual aim is to get a canonical from associated with a matrix. Hence, you shouldn't need canonical_form_from_edge_list. I guess you want to create the bliss graph directly from the matrix (also using `.get_unsafe()` for element access), so that you don't need to create an edge list as an intermediate result of the bliss graph creation.



---

archive/issue_comments_379310.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI have also the following:\n\n```\ncpdef matrix_to_edge_list(Matrix M):\n    cdef Py_ssize_t i, j\n    cdef int a,b, x\n\n    cdef list edges = list()\n    cdef dict edge_labels = dict()\n    cdef list new_partition = list()\n\n    cdef bint pos\n\n    cdef int n = M._ncols\n    cdef int m = M._nrows - n\n\n    cdef int Vnew = n+m\n\n    for i from 0 <= i < n+m:\n        for j from 0 <= j < n:\n            a = M.get_unsafe(i,j)\n            if i < n:\n                b = M.get_unsafe(j,i)\n            else:\n                b = -a\n\n            if a > 0:\n                if a == 1 and b == -1:\n                    edges.append((i,j))\n                else:\n                    try:\n                        x = edge_labels[(a,b)]\n                    except KeyError:\n                        x = len(new_partition)\n                        edge_labels[(a,b)] = x\n                        new_partition.append([])\n                    finally:\n                        edges.append((i,Vnew))\n                        edges.append((Vnew,j))\n                        new_partition[x].append(Vnew)\n                        Vnew += 1\n            elif i >= n:\n                if a == -1 and b == 1:\n                    edges.append((j,i))\n                else:\n                    a = -a\n                    b = -b\n                    try:\n                        x = edge_labels[(a,b)]\n                    except KeyError:\n                        x = len(new_partition)\n                        edge_labels[(a,b)] = x\n                        new_partition.append([])\n                    finally:\n                        edges.append((j,Vnew))\n                        edges.append((Vnew,i))\n                        new_partition[x].append(Vnew)\n                        Vnew += 1\n\n    partition = [list(range(n))]\n    if m > 0:\n        partition.append(list(range(n,n+m)))\n    if new_partition:\n        partition.extend(new_partition)\n\n    return Vnew, edges, partition\n```\n\nBut since it is not far from that, I now plan to implement what Dima pointed out from Sect 14 in \u200bhttp://pallini.di.uniroma1.it/Guide.html.\n\nMy impression is that, given that I need to know the number of vertices of the graph a priori, I need to first read the complete matrix before I can start creating the `bliss Digraph`.",
    "created_at": "2018-03-07T20:13:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379310",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:6" align="right">comment:6</div>

I have also the following:

```
cpdef matrix_to_edge_list(Matrix M):
    cdef Py_ssize_t i, j
    cdef int a,b, x

    cdef list edges = list()
    cdef dict edge_labels = dict()
    cdef list new_partition = list()

    cdef bint pos

    cdef int n = M._ncols
    cdef int m = M._nrows - n

    cdef int Vnew = n+m

    for i from 0 <= i < n+m:
        for j from 0 <= j < n:
            a = M.get_unsafe(i,j)
            if i < n:
                b = M.get_unsafe(j,i)
            else:
                b = -a

            if a > 0:
                if a == 1 and b == -1:
                    edges.append((i,j))
                else:
                    try:
                        x = edge_labels[(a,b)]
                    except KeyError:
                        x = len(new_partition)
                        edge_labels[(a,b)] = x
                        new_partition.append([])
                    finally:
                        edges.append((i,Vnew))
                        edges.append((Vnew,j))
                        new_partition[x].append(Vnew)
                        Vnew += 1
            elif i >= n:
                if a == -1 and b == 1:
                    edges.append((j,i))
                else:
                    a = -a
                    b = -b
                    try:
                        x = edge_labels[(a,b)]
                    except KeyError:
                        x = len(new_partition)
                        edge_labels[(a,b)] = x
                        new_partition.append([])
                    finally:
                        edges.append((j,Vnew))
                        edges.append((Vnew,i))
                        new_partition[x].append(Vnew)
                        Vnew += 1

    partition = [list(range(n))]
    if m > 0:
        partition.append(list(range(n,n+m)))
    if new_partition:
        partition.extend(new_partition)

    return Vnew, edges, partition
```

But since it is not far from that, I now plan to implement what Dima pointed out from Sect 14 in ​http://pallini.di.uniroma1.it/Guide.html.

My impression is that, given that I need to know the number of vertices of the graph a priori, I need to first read the complete matrix before I can start creating the `bliss Digraph`.



---

archive/issue_comments_379311.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@stumpc5](#comment:6):\n> My impression is that, given that I need to know the number of vertices of the graph a priori, I need to first read the complete matrix before I can start creating the `bliss Digraph`.\n\nHm. That would be unfortunate. In that case, I suppose it will be impossible to avoid the creation of an intermediate edge list --- but you could create it by means of two `int*` (i.e., a C list for start points and a C list for end points). That might be a more efficient intermediate data structure than a python list of pairs.",
    "created_at": "2018-03-07T20:18:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379311",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@stumpc5](#comment:6):
> My impression is that, given that I need to know the number of vertices of the graph a priori, I need to first read the complete matrix before I can start creating the `bliss Digraph`.

Hm. That would be unfortunate. In that case, I suppose it will be impossible to avoid the creation of an intermediate edge list --- but you could create it by means of two `int*` (i.e., a C list for start points and a C list for end points). That might be a more efficient intermediate data structure than a python list of pairs.



---

archive/issue_comments_379312.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nIndependent of the matrix version, I think it would be overall nice to have\n\n* the version I provided for a list of unlabelled edges (I think I should add a flag whether its directed or undirected), and\n\n* a version for labelled edges, that are first turned into an equivalent version for undirected edges and then passed to the first",
    "created_at": "2018-03-07T20:20:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379312",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:8" align="right">comment:8</div>

Independent of the matrix version, I think it would be overall nice to have

* the version I provided for a list of unlabelled edges (I think I should add a flag whether its directed or undirected), and

* a version for labelled edges, that are first turned into an equivalent version for undirected edges and then passed to the first



---

archive/issue_comments_379313.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\n>  In that case, I suppose it will be impossible to avoid the creation of an intermediate edge list\n\nwhat I could actually do is to overestimate the number of vertices in the first place (given the matrix is size nxm, there are at most nm/2 edges, so even if all had the different labellings, I could go with log(mn/2)+max(n,m) many vertices, which is for m,n <= 20 still very small) and then possibly have chosen a few ununsed vertices floating around...",
    "created_at": "2018-03-07T20:25:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379313",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:9" align="right">comment:9</div>

>  In that case, I suppose it will be impossible to avoid the creation of an intermediate edge list

what I could actually do is to overestimate the number of vertices in the first place (given the matrix is size nxm, there are at most nm/2 edges, so even if all had the different labellings, I could go with log(mn/2)+max(n,m) many vertices, which is for m,n <= 20 still very small) and then possibly have chosen a few ununsed vertices floating around...



---

archive/issue_comments_379314.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nCould I ask you to provide a pxd file for the headers so that I can cimport the bliss Digraph? I don't know how to do that correctly (I guess the pxd file looks like `matrix0.pxd` though...).",
    "created_at": "2018-03-07T20:27:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379314",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:10" align="right">comment:10</div>

Could I ask you to provide a pxd file for the headers so that I can cimport the bliss Digraph? I don't know how to do that correctly (I guess the pxd file looks like `matrix0.pxd` though...).



---

archive/issue_comments_379315.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\n> That might be a more efficient intermediate data structure than a python list of pairs.\n\nI first have to do some cython timings (which I haven't done before) to see where the bottleneck is -- maybe the list construction is not actually that time consuming, I don't know",
    "created_at": "2018-03-07T20:31:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379315",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:11" align="right">comment:11</div>

> That might be a more efficient intermediate data structure than a python list of pairs.

I first have to do some cython timings (which I haven't done before) to see where the bottleneck is -- maybe the list construction is not actually that time consuming, I don't know



---

archive/issue_comments_379316.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ea99bdfc7cc420607638f064ace7dbebfcb61c2\"><code>7ea99bd</code></a></td><td><code>first version of bliss graph from labelled edges</code></td></tr></table>\n",
    "created_at": "2018-03-08T11:37:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379316",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ea99bdfc7cc420607638f064ace7dbebfcb61c2"><code>7ea99bd</code></a></td><td><code>first version of bliss graph from labelled edges</code></td></tr></table>




---

archive/issue_comments_379317.json:
```json
{
    "body": "Changed commit from **[`ff80980`](https://github.com/sagemath/sagetrac-mirror/commit/ff80980c1687ab4a09412d48600ddbe547e32864)** to **[`7ea99bd`](https://github.com/sagemath/sagetrac-mirror/commit/7ea99bdfc7cc420607638f064ace7dbebfcb61c2)**",
    "created_at": "2018-03-08T11:37:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379317",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ff80980`](https://github.com/sagemath/sagetrac-mirror/commit/ff80980c1687ab4a09412d48600ddbe547e32864)** to **[`7ea99bd`](https://github.com/sagemath/sagetrac-mirror/commit/7ea99bdfc7cc420607638f064ace7dbebfcb61c2)**



---

archive/issue_comments_379318.json:
```json
{
    "body": "Changed commit from **[`7ea99bd`](https://github.com/sagemath/sagetrac-mirror/commit/7ea99bdfc7cc420607638f064ace7dbebfcb61c2)** to **[`3f07264`](https://github.com/sagemath/sagetrac-mirror/commit/3f072641398635ad1bc9797449fae01ce4b7b651)**",
    "created_at": "2018-03-08T11:50:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379318",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7ea99bd`](https://github.com/sagemath/sagetrac-mirror/commit/7ea99bdfc7cc420607638f064ace7dbebfcb61c2)** to **[`3f07264`](https://github.com/sagemath/sagetrac-mirror/commit/3f072641398635ad1bc9797449fae01ce4b7b651)**



---

archive/issue_comments_379319.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f072641398635ad1bc9797449fae01ce4b7b651\"><code>3f07264</code></a></td><td><code>fixed typo, added labelled edge return and fixed bug in relabelling</code></td></tr></table>\n",
    "created_at": "2018-03-08T11:50:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379319",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f072641398635ad1bc9797449fae01ce4b7b651"><code>3f07264</code></a></td><td><code>fixed typo, added labelled edge return and fixed bug in relabelling</code></td></tr></table>




---

archive/issue_comments_379320.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI pushed a first hopefully working version of the edge labelled bliss graph as described in Dima's reference.\n\nExample:\n\n```\nsage: from sage.graphs.bliss import canonical_form_from_edge_list\nsage: Vout = [0,0,1,2,2,3,3]; Vin = [0,1,2,0,3,0,2]; labels = [2,0,2,1,1,1,0]\nsage: canonical_form_from_edge_list(4,Vout,Vin,3,labels, directed=False, certificate=True)\n\nsage: Vout = [0,0,1,1]; Vin = [1,2,0,2]; labels = [0,1,0,1]\nsage: canonical_form_from_edge_list(3,Vout,Vin,2,labels, directed=False, certificate=True)\n```\n\n* Could you please have a look and see if it works as desired\n* Please in particular check that the vertex coloring scheme is correct\n\nOnce that is settled, I would also need help in improving (speeding) the code as much as easily possible, I already use three lists `Vout`, `Vin`, and `labels` which probably could be turned into c arrays instead...\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f072641398635ad1bc9797449fae01ce4b7b651\"><code>3f07264</code></a></td><td><code>fixed typo, added labelled edge return and fixed bug in relabelling</code></td></tr></table>\n",
    "created_at": "2018-03-08T11:54:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379320",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:14" align="right">comment:14</div>

I pushed a first hopefully working version of the edge labelled bliss graph as described in Dima's reference.

Example:

```
sage: from sage.graphs.bliss import canonical_form_from_edge_list
sage: Vout = [0,0,1,2,2,3,3]; Vin = [0,1,2,0,3,0,2]; labels = [2,0,2,1,1,1,0]
sage: canonical_form_from_edge_list(4,Vout,Vin,3,labels, directed=False, certificate=True)

sage: Vout = [0,0,1,1]; Vin = [1,2,0,2]; labels = [0,1,0,1]
sage: canonical_form_from_edge_list(3,Vout,Vin,2,labels, directed=False, certificate=True)
```

* Could you please have a look and see if it works as desired
* Please in particular check that the vertex coloring scheme is correct

Once that is settled, I would also need help in improving (speeding) the code as much as easily possible, I already use three lists `Vout`, `Vin`, and `labels` which probably could be turned into c arrays instead...

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f072641398635ad1bc9797449fae01ce4b7b651"><code>3f07264</code></a></td><td><code>fixed typo, added labelled edge return and fixed bug in relabelling</code></td></tr></table>




---

archive/issue_comments_379321.json:
```json
{
    "body": "Changed commit from **[`3f07264`](https://github.com/sagemath/sagetrac-mirror/commit/3f072641398635ad1bc9797449fae01ce4b7b651)** to **[`4661b86`](https://github.com/sagemath/sagetrac-mirror/commit/4661b864eca996578cfaf060f6de9beec4e62bf0)**",
    "created_at": "2018-03-08T14:55:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379321",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3f07264`](https://github.com/sagemath/sagetrac-mirror/commit/3f072641398635ad1bc9797449fae01ce4b7b651)** to **[`4661b86`](https://github.com/sagemath/sagetrac-mirror/commit/4661b864eca996578cfaf060f6de9beec4e62bf0)**



---

archive/issue_comments_379322.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4661b864eca996578cfaf060f6de9beec4e62bf0\"><code>4661b86</code></a></td><td><code>playing the labelled graphs for now</code></td></tr></table>\n",
    "created_at": "2018-03-08T14:55:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379322",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4661b864eca996578cfaf060f6de9beec4e62bf0"><code>4661b86</code></a></td><td><code>playing the labelled graphs for now</code></td></tr></table>




---

archive/issue_comments_379323.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/74506c45616d77af9569ab479718ab40aa74ffa5\"><code>74506c4</code></a></td><td><code>slighly avoiding some code duplication</code></td></tr></table>\n",
    "created_at": "2018-03-08T15:26:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379323",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/74506c45616d77af9569ab479718ab40aa74ffa5"><code>74506c4</code></a></td><td><code>slighly avoiding some code duplication</code></td></tr></table>




---

archive/issue_comments_379324.json:
```json
{
    "body": "Changed commit from **[`4661b86`](https://github.com/sagemath/sagetrac-mirror/commit/4661b864eca996578cfaf060f6de9beec4e62bf0)** to **[`74506c4`](https://github.com/sagemath/sagetrac-mirror/commit/74506c45616d77af9569ab479718ab40aa74ffa5)**",
    "created_at": "2018-03-08T15:26:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379324",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4661b86`](https://github.com/sagemath/sagetrac-mirror/commit/4661b864eca996578cfaf060f6de9beec4e62bf0)** to **[`74506c4`](https://github.com/sagemath/sagetrac-mirror/commit/74506c45616d77af9569ab479718ab40aa74ffa5)**



---

archive/issue_comments_379325.json:
```json
{
    "body": "Changed commit from **[`74506c4`](https://github.com/sagemath/sagetrac-mirror/commit/74506c45616d77af9569ab479718ab40aa74ffa5)** to **[`996e110`](https://github.com/sagemath/sagetrac-mirror/commit/996e110908b283e63e6c357533686b618421637a)**",
    "created_at": "2018-03-09T14:27:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379325",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`74506c4`](https://github.com/sagemath/sagetrac-mirror/commit/74506c45616d77af9569ab479718ab40aa74ffa5)** to **[`996e110`](https://github.com/sagemath/sagetrac-mirror/commit/996e110908b283e63e6c357533686b618421637a)**



---

archive/issue_comments_379326.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/996e110908b283e63e6c357533686b618421637a\"><code>996e110</code></a></td><td><code>new canonical form for graphs, compare canonical_form_old with canonical_form</code></td></tr></table>\n",
    "created_at": "2018-03-09T14:27:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379326",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/996e110908b283e63e6c357533686b618421637a"><code>996e110</code></a></td><td><code>new canonical form for graphs, compare canonical_form_old with canonical_form</code></td></tr></table>




---

archive/issue_comments_379327.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/496cc9f5064b9942821af618b3e50018a5015fc6\"><code>496cc9f</code></a></td><td><code>cleaing the file</code></td></tr></table>\n",
    "created_at": "2018-03-09T15:10:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379327",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/496cc9f5064b9942821af618b3e50018a5015fc6"><code>496cc9f</code></a></td><td><code>cleaing the file</code></td></tr></table>




---

archive/issue_comments_379328.json:
```json
{
    "body": "Changed commit from **[`996e110`](https://github.com/sagemath/sagetrac-mirror/commit/996e110908b283e63e6c357533686b618421637a)** to **[`496cc9f`](https://github.com/sagemath/sagetrac-mirror/commit/496cc9f5064b9942821af618b3e50018a5015fc6)**",
    "created_at": "2018-03-09T15:10:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379328",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`996e110`](https://github.com/sagemath/sagetrac-mirror/commit/996e110908b283e63e6c357533686b618421637a)** to **[`496cc9f`](https://github.com/sagemath/sagetrac-mirror/commit/496cc9f5064b9942821af618b3e50018a5015fc6)**



---

archive/issue_comments_379329.json:
```json
{
    "body": "Changed commit from **[`496cc9f`](https://github.com/sagemath/sagetrac-mirror/commit/496cc9f5064b9942821af618b3e50018a5015fc6)** to **[`9416670`](https://github.com/sagemath/sagetrac-mirror/commit/941667017eb6b09cd4dbb02302c38fc4b1e4847b)**",
    "created_at": "2018-03-10T16:06:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379329",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`496cc9f`](https://github.com/sagemath/sagetrac-mirror/commit/496cc9f5064b9942821af618b3e50018a5015fc6)** to **[`9416670`](https://github.com/sagemath/sagetrac-mirror/commit/941667017eb6b09cd4dbb02302c38fc4b1e4847b)**



---

archive/issue_comments_379330.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/941667017eb6b09cd4dbb02302c38fc4b1e4847b\"><code>9416670</code></a></td><td><code>some more reorganization</code></td></tr></table>\n",
    "created_at": "2018-03-10T16:06:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379330",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/941667017eb6b09cd4dbb02302c38fc4b1e4847b"><code>9416670</code></a></td><td><code>some more reorganization</code></td></tr></table>




---

archive/issue_comments_379331.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\n@dimpase: the new implementation follows your suggestion to use `Vnr*log(Lnr)` many vertices, I would appreciate feedback!",
    "created_at": "2018-03-10T16:10:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379331",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:20" align="right">comment:20</div>

@dimpase: the new implementation follows your suggestion to use `Vnr*log(Lnr)` many vertices, I would appreciate feedback!



---

archive/issue_comments_379332.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n(The current version does not provide the automorphism groups, but the methods `automorphism_group` and `automorphism_group_old` are captured to profile the bliss graph constructor from a labelled graph with Vnr*log(Lnr) vertices.\n\nHere is some output:\n\n```\nsage: from sage.graphs.bliss import canonical_form, automorphism_group, automorphism_group_old\nsage: G = graphs.RandomGNM(1000,1000000)\n```\nand then\n\n```\nsage: %crun automorphism_group(G)\nPROFILE: interrupts/evictions/bytes = 45/0/20936\nUsing local file /home/stumpc5/Programs/sage/local/bin/python2.\nUsing local file /home/stumpc5/.sage/temp/associahedron/19913/tmp_zjuPxl.perf.\nTotal: 45 samples\n       0   0.0%   0.0%       45 100.0% PyEval_EvalCode\n       0   0.0%   0.0%       45 100.0% PyEval_EvalCodeEx\n       0   0.0%   0.0%       45 100.0% PyEval_EvalFrameEx\n       0   0.0%   0.0%       45 100.0% PyObject_Call\n       0   0.0%   0.0%       45 100.0% PyRun_FileExFlags\n       0   0.0%   0.0%       45 100.0% PyRun_SimpleFileExFlags\n       0   0.0%   0.0%       45 100.0% PyRun_StringFlags\n       0   0.0%   0.0%       45 100.0% Py_Main\n       0   0.0%   0.0%       45 100.0% __libc_start_main\n       2   4.4%   4.4%       45 100.0% __pyx_f_4sage_6graphs_5bliss_automorphism_group (inline)\n       0   0.0%   4.4%       45 100.0% __pyx_pf_4sage_6graphs_5bliss_6automorphism_group (inline)\n       0   0.0%   4.4%       45 100.0% __pyx_pw_4sage_6graphs_5bliss_7automorphism_group\n       0   0.0%   4.4%       45 100.0% call_function (inline)\n       0   0.0%   4.4%       45 100.0% exec_statement (inline)\n       0   0.0%   4.4%       45 100.0% ext_do_call (inline)\n       0   0.0%   4.4%       45 100.0% fast_function (inline)\n       0   0.0%   4.4%       45 100.0% function_call\n       0   0.0%   4.4%       45 100.0% run_mod (inline)\n       0   0.0%   4.4%       44  97.8% _start\n       0   0.0%   4.4%       35  77.8% __Pyx_PyObject_Call\n       0   0.0%   4.4%       35  77.8% do_call (inline)\n       0   0.0%   4.4%       35  77.8% instancemethod_call\n       0   0.0%   4.4%       18  40.0% listsort\n       0   0.0%   4.4%       17  37.8% __Pyx_Coroutine_SendEx.isra.12\n       2   4.4%   8.9%       17  37.8% __pyx_gb_4sage_6graphs_4base_12sparse_graph_18SparseGraphBackend_14generator\n       0   0.0%   8.9%       17  37.8% list_init\n       0   0.0%   8.9%       17  37.8% listextend\n       0   0.0%   8.9%       17  37.8% type_call\n       4   8.9%  17.8%       16  35.6% PyObject_RichCompareBool\n       7  15.6%  33.3%       15  33.3% PyObject_RichCompare\n       1   2.2%  35.6%       10  22.2% merge_at\n       0   0.0%  35.6%       10  22.2% merge_collapse (inline)\n       1   2.2%  37.8%        7  15.6% PyTuple_New\n       0   0.0%  37.8%        7  15.6% binarysort (inline)\n       1   2.2%  40.0%        7  15.6% tuplerichcompare\n       0   0.0%  40.0%        6  13.3% _PyObject_GC_Malloc\n       0   0.0%  40.0%        6  13.3% _PyObject_GC_NewVar\n       0   0.0%  40.0%        5  11.1% collect\n       0   0.0%  40.0%        5  11.1% collect_generations (inline)\n       1   2.2%  42.2%        5  11.1% list_dealloc\n       0   0.0%  42.2%        5  11.1% merge_lo (inline)\n       1   2.2%  44.4%        4   8.9% __pyx_f_4sage_6graphs_4base_12sparse_graph_11SparseGraph_out_arcs_unsafe\n       1   2.2%  46.7%        4   8.9% merge_hi (inline)\n       1   2.2%  48.9%        4   8.9% tupledealloc\n       0   0.0%  48.9%        3   6.7% gallop_right\n       0   0.0%  48.9%        3   6.7% move_unreachable (inline)\n       2   4.4%  53.3%        2   4.4% PyInt_FromLong\n       0   0.0%  53.3%        2   4.4% PyObject_Free\n       2   4.4%  57.8%        2   4.4% PyObject_GetItem\n       2   4.4%  62.2%        2   4.4% _PyTuple_MaybeUntrack\n       0   0.0%  62.2%        2   4.4% __Pyx_PyInt_From_int (inline)\n       2   4.4%  66.7%        2   4.4% __munmap\n       0   0.0%  66.7%        2   4.4% __pyx_f_4sage_6graphs_4base_7c_graph_13CGraphBackend_vertex_label\n       2   4.4%  71.1%        2   4.4% convert_3way_to_object (inline)\n       0   0.0%  71.1%        2   4.4% gallop_left\n       2   4.4%  75.6%        2   4.4% int_compare\n       1   2.2%  77.8%        2   4.4% subtract_refs (inline)\n       1   2.2%  80.0%        1   2.2% PyDict_Contains\n       0   0.0%  80.0%        1   2.2% PyList_Append\n       1   2.2%  82.2%        1   2.2% PyObject_Malloc\n       0   0.0%  82.2%        1   2.2% _IO_str_seekoff\n       0   0.0%  82.2%        1   2.2% __Pyx_PyDict_ContainsTF (inline)\n       1   2.2%  84.4%        1   2.2% __nss_passwd_lookup\n       1   2.2%  86.7%        1   2.2% __pyx_f_4sage_6graphs_4base_12sparse_graph_11SparseGraph_out_neighbors_BTNode_unsafe\n       1   2.2%  88.9%        1   2.2% adjust_tp_compare\n       0   0.0%  88.9%        1   2.2% app1 (inline)\n       0   0.0%  88.9%        1   2.2% count_run (inline)\n       0   0.0%  88.9%        1   2.2% dict_subscript\n       0   0.0%  88.9%        1   2.2% do_richcmp (inline)\n       1   2.2%  91.1%        1   2.2% int_dealloc\n       1   2.2%  93.3%        1   2.2% list_item (inline)\n       0   0.0%  93.3%        1   2.2% list_resize (inline)\n       0   0.0%  93.3%        1   2.2% list_subscript\n       0   0.0%  93.3%        1   2.2% list_traverse\n       1   2.2%  95.6%        1   2.2% lookdict\n       0   0.0%  95.6%        1   2.2% realloc\n       0   0.0%  95.6%        1   2.2% try_3way_to_rich_compare (inline)\n       1   2.2%  97.8%        1   2.2% tupletraverse\n       1   2.2% 100.0%        1   2.2% visit_reachable\n```\nand\n\n```\nsage: %crun automorphism_group_old(G)\nPROFILE: interrupts/evictions/bytes = 38/0/16080\nUsing local file /home/stumpc5/Programs/sage/local/bin/python2.\nUsing local file /home/stumpc5/.sage/temp/associahedron/20717/tmp_0m26KQ.perf.\nTotal: 38 samples\n       0   0.0%   0.0%       36  94.7% PyEval_EvalCode\n       0   0.0%   0.0%       36  94.7% PyEval_EvalCodeEx\n       0   0.0%   0.0%       36  94.7% PyEval_EvalFrameEx\n       0   0.0%   0.0%       36  94.7% PyObject_Call\n       0   0.0%   0.0%       36  94.7% PyRun_FileExFlags\n       0   0.0%   0.0%       36  94.7% PyRun_SimpleFileExFlags\n       0   0.0%   0.0%       36  94.7% PyRun_StringFlags\n       0   0.0%   0.0%       36  94.7% Py_Main\n       2   5.3%   5.3%       36  94.7% __pyx_f_4sage_6graphs_5bliss_bliss_graph\n       0   0.0%   5.3%       36  94.7% __pyx_pf_4sage_6graphs_5bliss_10automorphism_group_old (inline)\n       0   0.0%   5.3%       36  94.7% __pyx_pw_4sage_6graphs_5bliss_11automorphism_group_old\n       0   0.0%   5.3%       36  94.7% call_function (inline)\n       0   0.0%   5.3%       36  94.7% exec_statement (inline)\n       0   0.0%   5.3%       36  94.7% ext_do_call (inline)\n       0   0.0%   5.3%       36  94.7% fast_function (inline)\n       0   0.0%   5.3%       36  94.7% function_call\n       0   0.0%   5.3%       36  94.7% run_mod (inline)\n       0   0.0%   5.3%       35  92.1% __libc_start_main\n       0   0.0%   5.3%       34  89.5% _start\n       0   0.0%   5.3%       30  78.9% __Pyx_PyObject_Call\n       0   0.0%   5.3%       30  78.9% do_call (inline)\n       0   0.0%   5.3%       30  78.9% instancemethod_call\n       0   0.0%   5.3%       17  44.7% listsort\n       8  21.1%  26.3%       15  39.5% PyObject_RichCompare\n       2   5.3%  31.6%       15  39.5% PyObject_RichCompareBool\n       0   0.0%  31.6%       13  34.2% list_init\n       1   2.6%  34.2%       13  34.2% listextend\n       0   0.0%  34.2%       13  34.2% type_call\n       0   0.0%  34.2%       12  31.6% __Pyx_Coroutine_SendEx.isra.12\n       2   5.3%  39.5%       12  31.6% __pyx_gb_4sage_6graphs_4base_12sparse_graph_18SparseGraphBackend_14generator\n       0   0.0%  39.5%       11  28.9% merge_at\n       0   0.0%  39.5%       11  28.9% merge_collapse (inline)\n       1   2.6%  42.1%        7  18.4% tuplerichcompare\n       0   0.0%  42.1%        6  15.8% binarysort (inline)\n       2   5.3%  47.4%        6  15.8% merge_lo (inline)\n       0   0.0%  47.4%        5  13.2% PyTuple_New\n       0   0.0%  47.4%        5  13.2% _PyObject_GC_Malloc\n       0   0.0%  47.4%        5  13.2% _PyObject_GC_NewVar\n       0   0.0%  47.4%        4  10.5% merge_hi (inline)\n       3   7.9%  55.3%        3   7.9% PyObject_Malloc\n       0   0.0%  55.3%        3   7.9% __pyx_f_4sage_6graphs_4base_12sparse_graph_11SparseGraph_out_arcs_unsafe\n       2   5.3%  60.5%        2   5.3% __pyx_f_4sage_6graphs_4base_12sparse_graph_11SparseGraph_out_neighbors_BTNode_unsafe\n       2   5.3%  65.8%        2   5.3% _init@3cc28\n       1   2.6%  68.4%        2   5.3% adjust_tp_compare\n       0   0.0%  68.4%        2   5.3% collect\n       0   0.0%  68.4%        2   5.3% collect_generations (inline)\n       2   5.3%  73.7%        2   5.3% convert_3way_to_object (inline)\n       0   0.0%  73.7%        2   5.3% dict_subscript\n       0   0.0%  73.7%        2   5.3% do_richcmp (inline)\n       0   0.0%  73.7%        2   5.3% gallop_right\n       0   0.0%  73.7%        2   5.3% list_dealloc\n       1   2.6%  76.3%        2   5.3% lookdict\n       0   0.0%  76.3%        2   5.3% try_3way_to_rich_compare (inline)\n       1   2.6%  78.9%        2   5.3% tupledealloc\n       0   0.0%  78.9%        1   2.6% 0x0000558037bbae7f\n       1   2.6%  81.6%        1   2.6% PyErr_Occurred\n       0   0.0%  81.6%        1   2.6% PyList_Append\n       1   2.6%  84.2%        1   2.6% PyObject_GC_UnTrack\n       1   2.6%  86.8%        1   2.6% _PyTuple_MaybeUntrack\n       0   0.0%  86.8%        1   2.6% __Pyx_PyList_Append (inline)\n       1   2.6%  89.5%        1   2.6% __nss_passwd_lookup\n       1   2.6%  92.1%        1   2.6% __pyx_f_4sage_6graphs_4base_7c_graph_13CGraphBackend_vertex_label\n       0   0.0%  92.1%        1   2.6% _init@708\n       0   0.0%  92.1%        1   2.6% app1 (inline)\n       0   0.0%  92.1%        1   2.6% gallop_left\n       1   2.6%  94.7%        1   2.6% int_compare\n       0   0.0%  94.7%        1   2.6% list_resize (inline)\n       0   0.0%  94.7%        1   2.6% move_unreachable (inline)\n       1   2.6%  97.4%        1   2.6% realloc\n       0   0.0%  97.4%        1   2.6% subtract_refs (inline)\n       0   0.0%  97.4%        1   2.6% tupletraverse\n       1   2.6% 100.0%        1   2.6% visit_decref\n```\n\nHow do I interpret these outputs? In particular whether it tells me some bottlenecks I should look at?\n\nThanks!",
    "created_at": "2018-03-10T16:15:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379332",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:21" align="right">comment:21</div>

(The current version does not provide the automorphism groups, but the methods `automorphism_group` and `automorphism_group_old` are captured to profile the bliss graph constructor from a labelled graph with Vnr*log(Lnr) vertices.

Here is some output:

```
sage: from sage.graphs.bliss import canonical_form, automorphism_group, automorphism_group_old
sage: G = graphs.RandomGNM(1000,1000000)
```
and then

```
sage: %crun automorphism_group(G)
PROFILE: interrupts/evictions/bytes = 45/0/20936
Using local file /home/stumpc5/Programs/sage/local/bin/python2.
Using local file /home/stumpc5/.sage/temp/associahedron/19913/tmp_zjuPxl.perf.
Total: 45 samples
       0   0.0%   0.0%       45 100.0% PyEval_EvalCode
       0   0.0%   0.0%       45 100.0% PyEval_EvalCodeEx
       0   0.0%   0.0%       45 100.0% PyEval_EvalFrameEx
       0   0.0%   0.0%       45 100.0% PyObject_Call
       0   0.0%   0.0%       45 100.0% PyRun_FileExFlags
       0   0.0%   0.0%       45 100.0% PyRun_SimpleFileExFlags
       0   0.0%   0.0%       45 100.0% PyRun_StringFlags
       0   0.0%   0.0%       45 100.0% Py_Main
       0   0.0%   0.0%       45 100.0% __libc_start_main
       2   4.4%   4.4%       45 100.0% __pyx_f_4sage_6graphs_5bliss_automorphism_group (inline)
       0   0.0%   4.4%       45 100.0% __pyx_pf_4sage_6graphs_5bliss_6automorphism_group (inline)
       0   0.0%   4.4%       45 100.0% __pyx_pw_4sage_6graphs_5bliss_7automorphism_group
       0   0.0%   4.4%       45 100.0% call_function (inline)
       0   0.0%   4.4%       45 100.0% exec_statement (inline)
       0   0.0%   4.4%       45 100.0% ext_do_call (inline)
       0   0.0%   4.4%       45 100.0% fast_function (inline)
       0   0.0%   4.4%       45 100.0% function_call
       0   0.0%   4.4%       45 100.0% run_mod (inline)
       0   0.0%   4.4%       44  97.8% _start
       0   0.0%   4.4%       35  77.8% __Pyx_PyObject_Call
       0   0.0%   4.4%       35  77.8% do_call (inline)
       0   0.0%   4.4%       35  77.8% instancemethod_call
       0   0.0%   4.4%       18  40.0% listsort
       0   0.0%   4.4%       17  37.8% __Pyx_Coroutine_SendEx.isra.12
       2   4.4%   8.9%       17  37.8% __pyx_gb_4sage_6graphs_4base_12sparse_graph_18SparseGraphBackend_14generator
       0   0.0%   8.9%       17  37.8% list_init
       0   0.0%   8.9%       17  37.8% listextend
       0   0.0%   8.9%       17  37.8% type_call
       4   8.9%  17.8%       16  35.6% PyObject_RichCompareBool
       7  15.6%  33.3%       15  33.3% PyObject_RichCompare
       1   2.2%  35.6%       10  22.2% merge_at
       0   0.0%  35.6%       10  22.2% merge_collapse (inline)
       1   2.2%  37.8%        7  15.6% PyTuple_New
       0   0.0%  37.8%        7  15.6% binarysort (inline)
       1   2.2%  40.0%        7  15.6% tuplerichcompare
       0   0.0%  40.0%        6  13.3% _PyObject_GC_Malloc
       0   0.0%  40.0%        6  13.3% _PyObject_GC_NewVar
       0   0.0%  40.0%        5  11.1% collect
       0   0.0%  40.0%        5  11.1% collect_generations (inline)
       1   2.2%  42.2%        5  11.1% list_dealloc
       0   0.0%  42.2%        5  11.1% merge_lo (inline)
       1   2.2%  44.4%        4   8.9% __pyx_f_4sage_6graphs_4base_12sparse_graph_11SparseGraph_out_arcs_unsafe
       1   2.2%  46.7%        4   8.9% merge_hi (inline)
       1   2.2%  48.9%        4   8.9% tupledealloc
       0   0.0%  48.9%        3   6.7% gallop_right
       0   0.0%  48.9%        3   6.7% move_unreachable (inline)
       2   4.4%  53.3%        2   4.4% PyInt_FromLong
       0   0.0%  53.3%        2   4.4% PyObject_Free
       2   4.4%  57.8%        2   4.4% PyObject_GetItem
       2   4.4%  62.2%        2   4.4% _PyTuple_MaybeUntrack
       0   0.0%  62.2%        2   4.4% __Pyx_PyInt_From_int (inline)
       2   4.4%  66.7%        2   4.4% __munmap
       0   0.0%  66.7%        2   4.4% __pyx_f_4sage_6graphs_4base_7c_graph_13CGraphBackend_vertex_label
       2   4.4%  71.1%        2   4.4% convert_3way_to_object (inline)
       0   0.0%  71.1%        2   4.4% gallop_left
       2   4.4%  75.6%        2   4.4% int_compare
       1   2.2%  77.8%        2   4.4% subtract_refs (inline)
       1   2.2%  80.0%        1   2.2% PyDict_Contains
       0   0.0%  80.0%        1   2.2% PyList_Append
       1   2.2%  82.2%        1   2.2% PyObject_Malloc
       0   0.0%  82.2%        1   2.2% _IO_str_seekoff
       0   0.0%  82.2%        1   2.2% __Pyx_PyDict_ContainsTF (inline)
       1   2.2%  84.4%        1   2.2% __nss_passwd_lookup
       1   2.2%  86.7%        1   2.2% __pyx_f_4sage_6graphs_4base_12sparse_graph_11SparseGraph_out_neighbors_BTNode_unsafe
       1   2.2%  88.9%        1   2.2% adjust_tp_compare
       0   0.0%  88.9%        1   2.2% app1 (inline)
       0   0.0%  88.9%        1   2.2% count_run (inline)
       0   0.0%  88.9%        1   2.2% dict_subscript
       0   0.0%  88.9%        1   2.2% do_richcmp (inline)
       1   2.2%  91.1%        1   2.2% int_dealloc
       1   2.2%  93.3%        1   2.2% list_item (inline)
       0   0.0%  93.3%        1   2.2% list_resize (inline)
       0   0.0%  93.3%        1   2.2% list_subscript
       0   0.0%  93.3%        1   2.2% list_traverse
       1   2.2%  95.6%        1   2.2% lookdict
       0   0.0%  95.6%        1   2.2% realloc
       0   0.0%  95.6%        1   2.2% try_3way_to_rich_compare (inline)
       1   2.2%  97.8%        1   2.2% tupletraverse
       1   2.2% 100.0%        1   2.2% visit_reachable
```
and

```
sage: %crun automorphism_group_old(G)
PROFILE: interrupts/evictions/bytes = 38/0/16080
Using local file /home/stumpc5/Programs/sage/local/bin/python2.
Using local file /home/stumpc5/.sage/temp/associahedron/20717/tmp_0m26KQ.perf.
Total: 38 samples
       0   0.0%   0.0%       36  94.7% PyEval_EvalCode
       0   0.0%   0.0%       36  94.7% PyEval_EvalCodeEx
       0   0.0%   0.0%       36  94.7% PyEval_EvalFrameEx
       0   0.0%   0.0%       36  94.7% PyObject_Call
       0   0.0%   0.0%       36  94.7% PyRun_FileExFlags
       0   0.0%   0.0%       36  94.7% PyRun_SimpleFileExFlags
       0   0.0%   0.0%       36  94.7% PyRun_StringFlags
       0   0.0%   0.0%       36  94.7% Py_Main
       2   5.3%   5.3%       36  94.7% __pyx_f_4sage_6graphs_5bliss_bliss_graph
       0   0.0%   5.3%       36  94.7% __pyx_pf_4sage_6graphs_5bliss_10automorphism_group_old (inline)
       0   0.0%   5.3%       36  94.7% __pyx_pw_4sage_6graphs_5bliss_11automorphism_group_old
       0   0.0%   5.3%       36  94.7% call_function (inline)
       0   0.0%   5.3%       36  94.7% exec_statement (inline)
       0   0.0%   5.3%       36  94.7% ext_do_call (inline)
       0   0.0%   5.3%       36  94.7% fast_function (inline)
       0   0.0%   5.3%       36  94.7% function_call
       0   0.0%   5.3%       36  94.7% run_mod (inline)
       0   0.0%   5.3%       35  92.1% __libc_start_main
       0   0.0%   5.3%       34  89.5% _start
       0   0.0%   5.3%       30  78.9% __Pyx_PyObject_Call
       0   0.0%   5.3%       30  78.9% do_call (inline)
       0   0.0%   5.3%       30  78.9% instancemethod_call
       0   0.0%   5.3%       17  44.7% listsort
       8  21.1%  26.3%       15  39.5% PyObject_RichCompare
       2   5.3%  31.6%       15  39.5% PyObject_RichCompareBool
       0   0.0%  31.6%       13  34.2% list_init
       1   2.6%  34.2%       13  34.2% listextend
       0   0.0%  34.2%       13  34.2% type_call
       0   0.0%  34.2%       12  31.6% __Pyx_Coroutine_SendEx.isra.12
       2   5.3%  39.5%       12  31.6% __pyx_gb_4sage_6graphs_4base_12sparse_graph_18SparseGraphBackend_14generator
       0   0.0%  39.5%       11  28.9% merge_at
       0   0.0%  39.5%       11  28.9% merge_collapse (inline)
       1   2.6%  42.1%        7  18.4% tuplerichcompare
       0   0.0%  42.1%        6  15.8% binarysort (inline)
       2   5.3%  47.4%        6  15.8% merge_lo (inline)
       0   0.0%  47.4%        5  13.2% PyTuple_New
       0   0.0%  47.4%        5  13.2% _PyObject_GC_Malloc
       0   0.0%  47.4%        5  13.2% _PyObject_GC_NewVar
       0   0.0%  47.4%        4  10.5% merge_hi (inline)
       3   7.9%  55.3%        3   7.9% PyObject_Malloc
       0   0.0%  55.3%        3   7.9% __pyx_f_4sage_6graphs_4base_12sparse_graph_11SparseGraph_out_arcs_unsafe
       2   5.3%  60.5%        2   5.3% __pyx_f_4sage_6graphs_4base_12sparse_graph_11SparseGraph_out_neighbors_BTNode_unsafe
       2   5.3%  65.8%        2   5.3% _init@3cc28
       1   2.6%  68.4%        2   5.3% adjust_tp_compare
       0   0.0%  68.4%        2   5.3% collect
       0   0.0%  68.4%        2   5.3% collect_generations (inline)
       2   5.3%  73.7%        2   5.3% convert_3way_to_object (inline)
       0   0.0%  73.7%        2   5.3% dict_subscript
       0   0.0%  73.7%        2   5.3% do_richcmp (inline)
       0   0.0%  73.7%        2   5.3% gallop_right
       0   0.0%  73.7%        2   5.3% list_dealloc
       1   2.6%  76.3%        2   5.3% lookdict
       0   0.0%  76.3%        2   5.3% try_3way_to_rich_compare (inline)
       1   2.6%  78.9%        2   5.3% tupledealloc
       0   0.0%  78.9%        1   2.6% 0x0000558037bbae7f
       1   2.6%  81.6%        1   2.6% PyErr_Occurred
       0   0.0%  81.6%        1   2.6% PyList_Append
       1   2.6%  84.2%        1   2.6% PyObject_GC_UnTrack
       1   2.6%  86.8%        1   2.6% _PyTuple_MaybeUntrack
       0   0.0%  86.8%        1   2.6% __Pyx_PyList_Append (inline)
       1   2.6%  89.5%        1   2.6% __nss_passwd_lookup
       1   2.6%  92.1%        1   2.6% __pyx_f_4sage_6graphs_4base_7c_graph_13CGraphBackend_vertex_label
       0   0.0%  92.1%        1   2.6% _init@708
       0   0.0%  92.1%        1   2.6% app1 (inline)
       0   0.0%  92.1%        1   2.6% gallop_left
       1   2.6%  94.7%        1   2.6% int_compare
       0   0.0%  94.7%        1   2.6% list_resize (inline)
       0   0.0%  94.7%        1   2.6% move_unreachable (inline)
       1   2.6%  97.4%        1   2.6% realloc
       0   0.0%  97.4%        1   2.6% subtract_refs (inline)
       0   0.0%  97.4%        1   2.6% tupletraverse
       1   2.6% 100.0%        1   2.6% visit_decref
```

How do I interpret these outputs? In particular whether it tells me some bottlenecks I should look at?

Thanks!



---

archive/issue_comments_379333.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nQuestion: is there a way, or rather what to do, to get a line-by-line profiling of the file? A typical question I'd ask is whether is would improve if I replace the python lists `Vout`, `Vin`, and `labels` by c lists as Simon suggested.",
    "created_at": "2018-03-10T16:24:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379333",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:22" align="right">comment:22</div>

Question: is there a way, or rather what to do, to get a line-by-line profiling of the file? A typical question I'd ask is whether is would improve if I replace the python lists `Vout`, `Vin`, and `labels` by c lists as Simon suggested.



---

archive/issue_comments_379334.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ede189564c6e33a456645200ca799f1de958658\"><code>6ede189</code></a></td><td><code>found that vertex and edge iterator are 3 times faster for big graphs</code></td></tr></table>\n",
    "created_at": "2018-03-11T09:58:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379334",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ede189564c6e33a456645200ca799f1de958658"><code>6ede189</code></a></td><td><code>found that vertex and edge iterator are 3 times faster for big graphs</code></td></tr></table>




---

archive/issue_comments_379335.json:
```json
{
    "body": "Changed commit from **[`9416670`](https://github.com/sagemath/sagetrac-mirror/commit/941667017eb6b09cd4dbb02302c38fc4b1e4847b)** to **[`6ede189`](https://github.com/sagemath/sagetrac-mirror/commit/6ede189564c6e33a456645200ca799f1de958658)**",
    "created_at": "2018-03-11T09:58:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379335",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9416670`](https://github.com/sagemath/sagetrac-mirror/commit/941667017eb6b09cd4dbb02302c38fc4b1e4847b)** to **[`6ede189`](https://github.com/sagemath/sagetrac-mirror/commit/6ede189564c6e33a456645200ca799f1de958658)**



---

archive/issue_comments_379336.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1d549109fb9318d062119399cfb8597b9d2710b\"><code>a1d5491</code></a></td><td><code>added some further doctests, fixed a bug for automorphism group</code></td></tr></table>\n",
    "created_at": "2018-03-14T09:58:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379336",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1d549109fb9318d062119399cfb8597b9d2710b"><code>a1d5491</code></a></td><td><code>added some further doctests, fixed a bug for automorphism group</code></td></tr></table>




---

archive/issue_comments_379337.json:
```json
{
    "body": "Changed commit from **[`6ede189`](https://github.com/sagemath/sagetrac-mirror/commit/6ede189564c6e33a456645200ca799f1de958658)** to **[`a1d5491`](https://github.com/sagemath/sagetrac-mirror/commit/a1d549109fb9318d062119399cfb8597b9d2710b)**",
    "created_at": "2018-03-14T09:58:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379337",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6ede189`](https://github.com/sagemath/sagetrac-mirror/commit/6ede189564c6e33a456645200ca799f1de958658)** to **[`a1d5491`](https://github.com/sagemath/sagetrac-mirror/commit/a1d549109fb9318d062119399cfb8597b9d2710b)**



---

archive/issue_events_346419.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2018-03-14T10:02:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24924#event-346419"
}
```



---

archive/issue_comments_379338.json:
```json
{
    "body": "Changed keywords from none to **bliss, graph automorphism, canonical form**",
    "created_at": "2018-03-14T10:02:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379338",
    "user": "https://github.com/stumpc5"
}
```

Changed keywords from none to **bliss, graph automorphism, canonical form**



---

archive/issue_comments_379339.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nSince I haven't gotten any feedback here, I now set it to `needs review` in the hope the ticket gets some attention...",
    "created_at": "2018-03-14T10:02:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379339",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:25" align="right">comment:25</div>

Since I haven't gotten any feedback here, I now set it to `needs review` in the hope the ticket gets some attention...



---

archive/issue_comments_379340.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nWhat are these `automorphism_group_old` and other `*_old` functions?\nIt's still prototyping, right?\n\nRegarding profiling, can't you use some kind of graphical tool, such as `google-pprof`, on `/home/stumpc5/.sage/temp/associahedron/20717/tmp_0m26KQ.perf` ?\n(unless I totally mix this up)",
    "created_at": "2018-03-14T11:03:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379340",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:26" align="right">comment:26</div>

What are these `automorphism_group_old` and other `*_old` functions?
It's still prototyping, right?

Regarding profiling, can't you use some kind of graphical tool, such as `google-pprof`, on `/home/stumpc5/.sage/temp/associahedron/20717/tmp_0m26KQ.perf` ?
(unless I totally mix this up)



---

archive/issue_comments_379341.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nAnyway, I think the bottlenecks correspond to larger values in the 2nd column, e.g. PyObject_RichCompare is 15% on the 1st listing and 21% on the 2nd listing.\n\nAre you testing on the complete graph on purpose? (cause the number of edges is the square of the number of vertices, it's K_1000).\n\nIt would be interesting to look at how this performs on other graphs.\n\nYou can fing more details on the profiler (e.g. how to do per line profiles)\nat the gperftools installation on your system. (I don't know why they don't have it online). (on linux, `man pprof` would give you more pointers).",
    "created_at": "2018-03-14T12:09:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379341",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:27" align="right">comment:27</div>

Anyway, I think the bottlenecks correspond to larger values in the 2nd column, e.g. PyObject_RichCompare is 15% on the 1st listing and 21% on the 2nd listing.

Are you testing on the complete graph on purpose? (cause the number of edges is the square of the number of vertices, it's K_1000).

It would be interesting to look at how this performs on other graphs.

You can fing more details on the profiler (e.g. how to do per line profiles)
at the gperftools installation on your system. (I don't know why they don't have it online). (on linux, `man pprof` would give you more pointers).



---

archive/issue_comments_379342.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThanks, Dima, for checking!\n\n> What are these automorphism_group_old and other *_old functions?\n\nI just left these for you (or another referee to compare timings, if desired. Beside, they are good to be removed.\n\n> PyObject_RichCompare is 15% on the 1st listing and 21% on the 2nd listing.\n\nI got rid of these by not using `.vertices` and `.edges` but instead the iterators. The `PyObject_RichCompare` were there because the vertices and edges were sorted by default.\n\n>  Are you testing on the complete graph on purpose?\n\nI was testing on many random graphs, and just ended up with the complete graph by pure chance.\n\nI think the next optimization would be to use the internal graph structure on 0 ... Vnr-1 directly without first getting the edges as python objects and then turning them back into a bliss graph. But I don't plan to do this.\n\nTo summarize the situation: the new functionality for edge labelled graphs is up and working, and as quick as the old implementation on unlabelled graphs. So this is ready for review. I still see possible improvements using the cgraph structure, but leave this open for now.",
    "created_at": "2018-03-14T14:28:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379342",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:28" align="right">comment:28</div>

Thanks, Dima, for checking!

> What are these automorphism_group_old and other *_old functions?

I just left these for you (or another referee to compare timings, if desired. Beside, they are good to be removed.

> PyObject_RichCompare is 15% on the 1st listing and 21% on the 2nd listing.

I got rid of these by not using `.vertices` and `.edges` but instead the iterators. The `PyObject_RichCompare` were there because the vertices and edges were sorted by default.

>  Are you testing on the complete graph on purpose?

I was testing on many random graphs, and just ended up with the complete graph by pure chance.

I think the next optimization would be to use the internal graph structure on 0 ... Vnr-1 directly without first getting the edges as python objects and then turning them back into a bliss graph. But I don't plan to do this.

To summarize the situation: the new functionality for edge labelled graphs is up and working, and as quick as the old implementation on unlabelled graphs. So this is ready for review. I still see possible improvements using the cgraph structure, but leave this open for now.



---

archive/issue_comments_379343.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nDear Dima and Simon -- any chance I could get a review for this ticket so that I can move forward to the tickets based on this one? Thanks!",
    "created_at": "2018-03-21T07:13:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379343",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:30" align="right">comment:30</div>

Dear Dima and Simon -- any chance I could get a review for this ticket so that I can move forward to the tickets based on this one? Thanks!



---

archive/issue_comments_379344.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nCould you add more docs to `automorphism_group(G, partition=None)`, in particular,\ncan `G` itself have coloured vertices and/or (directed) edges?\n\nI'd also add more tests with bigger graphs, just to make sure...",
    "created_at": "2018-03-22T09:54:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379344",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:31" align="right">comment:31</div>

Could you add more docs to `automorphism_group(G, partition=None)`, in particular,
can `G` itself have coloured vertices and/or (directed) edges?

I'd also add more tests with bigger graphs, just to make sure...



---

archive/issue_comments_379345.json:
```json
{
    "body": "Changed commit from **[`a1d5491`](https://github.com/sagemath/sagetrac-mirror/commit/a1d549109fb9318d062119399cfb8597b9d2710b)** to **[`a0ff5a3`](https://github.com/sagemath/sagetrac-mirror/commit/a0ff5a3710304a19f756d0e087d71e4c7a4ea9cc)**",
    "created_at": "2018-03-22T11:07:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379345",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a1d5491`](https://github.com/sagemath/sagetrac-mirror/commit/a1d549109fb9318d062119399cfb8597b9d2710b)** to **[`a0ff5a3`](https://github.com/sagemath/sagetrac-mirror/commit/a0ff5a3710304a19f756d0e087d71e4c7a4ea9cc)**



---

archive/issue_comments_379346.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0ff5a3710304a19f756d0e087d71e4c7a4ea9cc\"><code>a0ff5a3</code></a></td><td><code>added more doctests for automorphism group, including edge and label, directed graphs, and big examples</code></td></tr></table>\n",
    "created_at": "2018-03-22T11:07:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379346",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0ff5a3710304a19f756d0e087d71e4c7a4ea9cc"><code>a0ff5a3</code></a></td><td><code>added more doctests for automorphism group, including edge and label, directed graphs, and big examples</code></td></tr></table>




---

archive/issue_comments_379347.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\ndone",
    "created_at": "2018-03-22T11:09:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379347",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:33" align="right">comment:33</div>

done



---

archive/issue_comments_379348.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nThanks. How about more docs for this function? E.g. it's unclear how the partition parameter interacts with vertex colours of the graph.\nDocs need not be very formal, it's OK to move some tests into Examples section, and \nuse them to illustrate the way the function works, e.g.\n\n```\nEXAMPLES:\n\n    blah works ::\n\n        sage:....\n    ...\n\n    you can also foo ::\n\n        sage:....\n```",
    "created_at": "2018-03-22T12:34:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379348",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:34" align="right">comment:34</div>

Thanks. How about more docs for this function? E.g. it's unclear how the partition parameter interacts with vertex colours of the graph.
Docs need not be very formal, it's OK to move some tests into Examples section, and 
use them to illustrate the way the function works, e.g.

```
EXAMPLES:

    blah works ::

        sage:....
    ...

    you can also foo ::

        sage:....
```



---

archive/issue_comments_379349.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9474fa052b56b3f02ca43e6ee74c0bdf7f834f05\"><code>9474fa0</code></a></td><td><code>moved some tests to examples</code></td></tr></table>\n",
    "created_at": "2018-03-22T13:41:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379349",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9474fa052b56b3f02ca43e6ee74c0bdf7f834f05"><code>9474fa0</code></a></td><td><code>moved some tests to examples</code></td></tr></table>




---

archive/issue_comments_379350.json:
```json
{
    "body": "Changed commit from **[`a0ff5a3`](https://github.com/sagemath/sagetrac-mirror/commit/a0ff5a3710304a19f756d0e087d71e4c7a4ea9cc)** to **[`9474fa0`](https://github.com/sagemath/sagetrac-mirror/commit/9474fa052b56b3f02ca43e6ee74c0bdf7f834f05)**",
    "created_at": "2018-03-22T13:41:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379350",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a0ff5a3`](https://github.com/sagemath/sagetrac-mirror/commit/a0ff5a3710304a19f756d0e087d71e4c7a4ea9cc)** to **[`9474fa0`](https://github.com/sagemath/sagetrac-mirror/commit/9474fa052b56b3f02ca43e6ee74c0bdf7f834f05)**



---

archive/issue_comments_379351.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\n...like this",
    "created_at": "2018-03-22T13:42:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379351",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:36" align="right">comment:36</div>

...like this



---

archive/issue_comments_379352.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\n`EXAMPLES::` -> `EXAMPLES:`\n\n(only put `::` after EXAMPLES/TESTS is there is no subitems ending (by right) with `::`)\n\nAnd, once again, can we please have an explanation/test/example of what happens is the vertex partitions of the graph (from its vertex labelling) and the partition supplied as the parameter are not compatible (I expect it would work with a common refinement, but one has to make sure, that's a corner where bugs would nest...).",
    "created_at": "2018-03-22T14:33:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379352",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:37" align="right">comment:37</div>

`EXAMPLES::` -> `EXAMPLES:`

(only put `::` after EXAMPLES/TESTS is there is no subitems ending (by right) with `::`)

And, once again, can we please have an explanation/test/example of what happens is the vertex partitions of the graph (from its vertex labelling) and the partition supplied as the parameter are not compatible (I expect it would work with a common refinement, but one has to make sure, that's a corner where bugs would nest...).



---

archive/issue_comments_379353.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nIt currently looks like\n\n```\n    EXAMPLES::\n\n        sage: from sage.graphs.bliss import automorphism_group                  # optional - bliss\n\n    Computing the automorphism group of a graph or digraph::\n\n        sage: G = graphs.CompleteMultipartiteGraph([1,1,1,2])                   # optional - bliss\n```\nDon't I need to put the `::` because of the following indented line?\n\nI do not understand your other issue (and thought it was a typo and you meant edge coloring): What do you mean by vertex labelling?\n\n* The vertex labelling must be injective if I see it correctly:\n\n```\nsage: G = Graph(graphs.CompleteMultipartiteGraph([1,1,1,3]),sparse=True)\nsage: G.relabel({0:\"A\",1:\"A\",2:\"B\"})\n...\nNotImplementedError: Non injective relabeling\n```\n* Any vertex labelling is completely ignored when it comes to the automorphism group, EXCEPT that the permutation group is built such that it acts on the vertex labels (see the last two doctests).\n\nAm I missunderstanding what you mean?",
    "created_at": "2018-03-22T14:55:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379353",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:38" align="right">comment:38</div>

It currently looks like

```
    EXAMPLES::

        sage: from sage.graphs.bliss import automorphism_group                  # optional - bliss

    Computing the automorphism group of a graph or digraph::

        sage: G = graphs.CompleteMultipartiteGraph([1,1,1,2])                   # optional - bliss
```
Don't I need to put the `::` because of the following indented line?

I do not understand your other issue (and thought it was a typo and you meant edge coloring): What do you mean by vertex labelling?

* The vertex labelling must be injective if I see it correctly:

```
sage: G = Graph(graphs.CompleteMultipartiteGraph([1,1,1,3]),sparse=True)
sage: G.relabel({0:"A",1:"A",2:"B"})
...
NotImplementedError: Non injective relabeling
```
* Any vertex labelling is completely ignored when it comes to the automorphism group, EXCEPT that the permutation group is built such that it acts on the vertex labels (see the last two doctests).

Am I missunderstanding what you mean?



---

archive/issue_comments_379354.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nRegarding `::`, you are correct, I didn't think straight. \n\nThen, I meant loops:\n\n```\nsage: gg=graphs.CompleteGraph(3)\nsage: gg.allow_loops(True)\nsage: gg.add_edge((1,1))\nsage: gg.automorphism_group()\nPermutation Group with generators [(0,2)]\n```\nthis is without bliss installed. That is, at least the default automorphisms code respects loops, but there seems to be neither docs nor tests for this.\n\nAlso, your branch should modify the default docs on automorphisms, for it currently says\n\n```\n   * \"edge_labels\" - default False, otherwise allows only\n     permutations respecting edge labels. Note that this option is not\n     supported if \"algorithm=\"bliss\"\"\n\n```\n---and so the last sentence should go.",
    "created_at": "2018-03-22T15:29:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379354",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:39" align="right">comment:39</div>

Regarding `::`, you are correct, I didn't think straight. 

Then, I meant loops:

```
sage: gg=graphs.CompleteGraph(3)
sage: gg.allow_loops(True)
sage: gg.add_edge((1,1))
sage: gg.automorphism_group()
Permutation Group with generators [(0,2)]
```
this is without bliss installed. That is, at least the default automorphisms code respects loops, but there seems to be neither docs nor tests for this.

Also, your branch should modify the default docs on automorphisms, for it currently says

```
   * "edge_labels" - default False, otherwise allows only
     permutations respecting edge labels. Note that this option is not
     supported if "algorithm="bliss""

```
---and so the last sentence should go.



---

archive/issue_comments_379355.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29883cbb15e00d2c30d9a62942a959eeaa5fbe17\"><code>29883cb</code></a></td><td><code>Merge branch 'develop' into t/24924/making_the_bliss_canonical_form_available_for_edge_labelled_graphs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a209f50a0bfaafeaacbae41e659af6148faf749\"><code>9a209f5</code></a></td><td><code>added test for automorphism group of looped graph with vertex partition</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0683347491c86af9541c5484d4f9598b7af3b8b4\"><code>0683347</code></a></td><td><code>removed sentence that edge labels are not supported for bliss graphs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/994d327fe8da8d52310de2c0cfd7c67760449dd3\"><code>994d327</code></a></td><td><code>added reference for edge labelled graph automorphism computation</code></td></tr></table>\n",
    "created_at": "2018-03-22T17:27:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379355",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29883cbb15e00d2c30d9a62942a959eeaa5fbe17"><code>29883cb</code></a></td><td><code>Merge branch 'develop' into t/24924/making_the_bliss_canonical_form_available_for_edge_labelled_graphs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a209f50a0bfaafeaacbae41e659af6148faf749"><code>9a209f5</code></a></td><td><code>added test for automorphism group of looped graph with vertex partition</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0683347491c86af9541c5484d4f9598b7af3b8b4"><code>0683347</code></a></td><td><code>removed sentence that edge labels are not supported for bliss graphs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/994d327fe8da8d52310de2c0cfd7c67760449dd3"><code>994d327</code></a></td><td><code>added reference for edge labelled graph automorphism computation</code></td></tr></table>




---

archive/issue_comments_379356.json:
```json
{
    "body": "Changed commit from **[`9474fa0`](https://github.com/sagemath/sagetrac-mirror/commit/9474fa052b56b3f02ca43e6ee74c0bdf7f834f05)** to **[`994d327`](https://github.com/sagemath/sagetrac-mirror/commit/994d327fe8da8d52310de2c0cfd7c67760449dd3)**",
    "created_at": "2018-03-22T17:27:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379356",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9474fa0`](https://github.com/sagemath/sagetrac-mirror/commit/9474fa052b56b3f02ca43e6ee74c0bdf7f834f05)** to **[`994d327`](https://github.com/sagemath/sagetrac-mirror/commit/994d327fe8da8d52310de2c0cfd7c67760449dd3)**



---

archive/issue_comments_379357.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\ndone...",
    "created_at": "2018-03-22T17:27:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379357",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:41" align="right">comment:41</div>

done...



---

archive/issue_comments_379358.json:
```json
{
    "body": "Author: **Christian Stump**",
    "created_at": "2018-03-22T20:53:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379358",
    "user": "https://github.com/stumpc5"
}
```

Author: **Christian Stump**



---

archive/issue_comments_379359.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nShould I remove the old functionalities ?\n\n```\ncdef Graph *bliss_graph(G, partition, vert2int, int2vert)\ncdef Digraph *bliss_digraph(G, partition, vert2int, int2vert)\ndef canonical_form_old(G, partition=None, return_graph=False, certificate=False)\ndef automorphism_group_old(G, partition=None)\n```\nAt least the two methods `bliss_graph` and `bliss_digraph` might be used in some private code, so I vote for keeping all of them for a while...",
    "created_at": "2018-03-23T06:58:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379359",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:43" align="right">comment:43</div>

Should I remove the old functionalities ?

```
cdef Graph *bliss_graph(G, partition, vert2int, int2vert)
cdef Digraph *bliss_digraph(G, partition, vert2int, int2vert)
def canonical_form_old(G, partition=None, return_graph=False, certificate=False)
def automorphism_group_old(G, partition=None)
```
At least the two methods `bliss_graph` and `bliss_digraph` might be used in some private code, so I vote for keeping all of them for a while...



---

archive/issue_comments_379360.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/808559a1cf1835883dd02b8c2622f9de2349bd5c\"><code>808559a</code></a></td><td><code>removed the verbose option with printing as this was mainly for debugging</code></td></tr></table>\n",
    "created_at": "2018-03-23T06:59:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379360",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/808559a1cf1835883dd02b8c2622f9de2349bd5c"><code>808559a</code></a></td><td><code>removed the verbose option with printing as this was mainly for debugging</code></td></tr></table>




---

archive/issue_comments_379361.json:
```json
{
    "body": "Changed commit from **[`994d327`](https://github.com/sagemath/sagetrac-mirror/commit/994d327fe8da8d52310de2c0cfd7c67760449dd3)** to **[`808559a`](https://github.com/sagemath/sagetrac-mirror/commit/808559a1cf1835883dd02b8c2622f9de2349bd5c)**",
    "created_at": "2018-03-23T06:59:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379361",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`994d327`](https://github.com/sagemath/sagetrac-mirror/commit/994d327fe8da8d52310de2c0cfd7c67760449dd3)** to **[`808559a`](https://github.com/sagemath/sagetrac-mirror/commit/808559a1cf1835883dd02b8c2622f9de2349bd5c)**



---

archive/issue_comments_379362.json:
```json
{
    "body": "Changed commit from **[`808559a`](https://github.com/sagemath/sagetrac-mirror/commit/808559a1cf1835883dd02b8c2622f9de2349bd5c)** to **[`9528bc8`](https://github.com/sagemath/sagetrac-mirror/commit/9528bc8563f92df248590f9841b2855a16e04cb5)**",
    "created_at": "2018-03-23T10:53:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379362",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`808559a`](https://github.com/sagemath/sagetrac-mirror/commit/808559a1cf1835883dd02b8c2622f9de2349bd5c)** to **[`9528bc8`](https://github.com/sagemath/sagetrac-mirror/commit/9528bc8563f92df248590f9841b2855a16e04cb5)**



---

archive/issue_comments_379363.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9528bc8563f92df248590f9841b2855a16e04cb5\"><code>9528bc8</code></a></td><td><code>removed the verbose option with printing as this was mainly for debugging</code></td></tr></table>\n",
    "created_at": "2018-03-23T10:53:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379363",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9528bc8563f92df248590f9841b2855a16e04cb5"><code>9528bc8</code></a></td><td><code>removed the verbose option with printing as this was mainly for debugging</code></td></tr></table>




---

archive/issue_comments_379364.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/190014743332c22e2a1337fd11625d45d64b2922\"><code>1900147</code></a></td><td><code>removed the cython profiler message</code></td></tr></table>\n",
    "created_at": "2018-03-23T10:54:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379364",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/190014743332c22e2a1337fd11625d45d64b2922"><code>1900147</code></a></td><td><code>removed the cython profiler message</code></td></tr></table>




---

archive/issue_comments_379365.json:
```json
{
    "body": "Changed commit from **[`9528bc8`](https://github.com/sagemath/sagetrac-mirror/commit/9528bc8563f92df248590f9841b2855a16e04cb5)** to **[`1900147`](https://github.com/sagemath/sagetrac-mirror/commit/190014743332c22e2a1337fd11625d45d64b2922)**",
    "created_at": "2018-03-23T10:54:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379365",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9528bc8`](https://github.com/sagemath/sagetrac-mirror/commit/9528bc8563f92df248590f9841b2855a16e04cb5)** to **[`1900147`](https://github.com/sagemath/sagetrac-mirror/commit/190014743332c22e2a1337fd11625d45d64b2922)**



---

archive/issue_comments_379366.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/40164a3d3d7b703664d6235c17c63572ce199e08\"><code>40164a3</code></a></td><td><code>removed non-ascii characters that sneaked into the link</code></td></tr></table>\n",
    "created_at": "2018-03-23T11:00:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379366",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/40164a3d3d7b703664d6235c17c63572ce199e08"><code>40164a3</code></a></td><td><code>removed non-ascii characters that sneaked into the link</code></td></tr></table>




---

archive/issue_comments_379367.json:
```json
{
    "body": "Changed commit from **[`1900147`](https://github.com/sagemath/sagetrac-mirror/commit/190014743332c22e2a1337fd11625d45d64b2922)** to **[`40164a3`](https://github.com/sagemath/sagetrac-mirror/commit/40164a3d3d7b703664d6235c17c63572ce199e08)**",
    "created_at": "2018-03-23T11:00:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379367",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1900147`](https://github.com/sagemath/sagetrac-mirror/commit/190014743332c22e2a1337fd11625d45d64b2922)** to **[`40164a3`](https://github.com/sagemath/sagetrac-mirror/commit/40164a3d3d7b703664d6235c17c63572ce199e08)**



---

archive/issue_comments_379368.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nI'd remove these `*_old()` functions you(?) introduced.",
    "created_at": "2018-03-23T11:32:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379368",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:48" align="right">comment:48</div>

I'd remove these `*_old()` functions you(?) introduced.



---

archive/issue_comments_379369.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8b8104053c81b5a01e70b81235e6eaabbd19eb2\"><code>d8b8104</code></a></td><td><code>removed *_old functions</code></td></tr></table>\n",
    "created_at": "2018-03-23T13:13:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379369",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8b8104053c81b5a01e70b81235e6eaabbd19eb2"><code>d8b8104</code></a></td><td><code>removed *_old functions</code></td></tr></table>




---

archive/issue_comments_379370.json:
```json
{
    "body": "Changed commit from **[`40164a3`](https://github.com/sagemath/sagetrac-mirror/commit/40164a3d3d7b703664d6235c17c63572ce199e08)** to **[`d8b8104`](https://github.com/sagemath/sagetrac-mirror/commit/d8b8104053c81b5a01e70b81235e6eaabbd19eb2)**",
    "created_at": "2018-03-23T13:13:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379370",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`40164a3`](https://github.com/sagemath/sagetrac-mirror/commit/40164a3d3d7b703664d6235c17c63572ce199e08)** to **[`d8b8104`](https://github.com/sagemath/sagetrac-mirror/commit/d8b8104053c81b5a01e70b81235e6eaabbd19eb2)**



---

archive/issue_comments_379371.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e2a3d2b521f2cacda9ac086e7a6b9cbaa4f663f\"><code>9e2a3d2</code></a></td><td><code>added a few missing opional flags</code></td></tr></table>\n",
    "created_at": "2018-03-23T13:16:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379371",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e2a3d2b521f2cacda9ac086e7a6b9cbaa4f663f"><code>9e2a3d2</code></a></td><td><code>added a few missing opional flags</code></td></tr></table>




---

archive/issue_comments_379372.json:
```json
{
    "body": "Changed commit from **[`d8b8104`](https://github.com/sagemath/sagetrac-mirror/commit/d8b8104053c81b5a01e70b81235e6eaabbd19eb2)** to **[`9e2a3d2`](https://github.com/sagemath/sagetrac-mirror/commit/9e2a3d2b521f2cacda9ac086e7a6b9cbaa4f663f)**",
    "created_at": "2018-03-23T13:16:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379372",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d8b8104`](https://github.com/sagemath/sagetrac-mirror/commit/d8b8104053c81b5a01e70b81235e6eaabbd19eb2)** to **[`9e2a3d2`](https://github.com/sagemath/sagetrac-mirror/commit/9e2a3d2b521f2cacda9ac086e7a6b9cbaa4f663f)**



---

archive/issue_comments_379373.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nthe patchbot seems to have no complaints anymore concerning the bliss code...",
    "created_at": "2018-03-24T05:55:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379373",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:51" align="right">comment:51</div>

the patchbot seems to have no complaints anymore concerning the bliss code...



---

archive/issue_comments_379374.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nthere are more mentions of Bliss in `graphs/generic_graph.py` that should be modified, e.g. \n\n```\n  if edge_labels and algorithm == 'bliss':\n      raise NotImplementedError(\"algorithm 'bliss' can not be used when edge_labels=True\")\n```\nlooks like something that needs to be looked into.",
    "created_at": "2018-03-25T23:34:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379374",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:52" align="right">comment:52</div>

there are more mentions of Bliss in `graphs/generic_graph.py` that should be modified, e.g. 

```
  if edge_labels and algorithm == 'bliss':
      raise NotImplementedError("algorithm 'bliss' can not be used when edge_labels=True")
```
looks like something that needs to be looked into.



---

archive/issue_comments_379375.json:
```json
{
    "body": "Changed commit from **[`9e2a3d2`](https://github.com/sagemath/sagetrac-mirror/commit/9e2a3d2b521f2cacda9ac086e7a6b9cbaa4f663f)** to **[`370bc8b`](https://github.com/sagemath/sagetrac-mirror/commit/370bc8bc7dabe0844d639b58192cd3be7e67b8c2)**",
    "created_at": "2018-03-26T08:17:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379375",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9e2a3d2`](https://github.com/sagemath/sagetrac-mirror/commit/9e2a3d2b521f2cacda9ac086e7a6b9cbaa4f663f)** to **[`370bc8b`](https://github.com/sagemath/sagetrac-mirror/commit/370bc8bc7dabe0844d639b58192cd3be7e67b8c2)**



---

archive/issue_comments_379376.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/370bc8bc7dabe0844d639b58192cd3be7e67b8c2\"><code>370bc8b</code></a></td><td><code>hopefully updated the use of edge labels using bliss in generic_graph</code></td></tr></table>\n",
    "created_at": "2018-03-26T08:17:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379376",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:53"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/370bc8bc7dabe0844d639b58192cd3be7e67b8c2"><code>370bc8b</code></a></td><td><code>hopefully updated the use of edge labels using bliss in generic_graph</code></td></tr></table>




---

archive/issue_comments_379377.json:
```json
{
    "body": "<div id=\"comment:54\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59101416efa381f99a9d1d37a2d6c1bf5d7eab7a\"><code>5910141</code></a></td><td><code>added some doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70cb231acd43f717f37e4268320689ddb095e27b\"><code>70cb231</code></a></td><td><code>added optional argument 'use_edge_labels', fixed bug for vertices partition, added some doctests</code></td></tr></table>\n",
    "created_at": "2018-03-26T09:09:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379377",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:54"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59101416efa381f99a9d1d37a2d6c1bf5d7eab7a"><code>5910141</code></a></td><td><code>added some doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70cb231acd43f717f37e4268320689ddb095e27b"><code>70cb231</code></a></td><td><code>added optional argument 'use_edge_labels', fixed bug for vertices partition, added some doctests</code></td></tr></table>




---

archive/issue_comments_379378.json:
```json
{
    "body": "Changed commit from **[`370bc8b`](https://github.com/sagemath/sagetrac-mirror/commit/370bc8bc7dabe0844d639b58192cd3be7e67b8c2)** to **[`70cb231`](https://github.com/sagemath/sagetrac-mirror/commit/70cb231acd43f717f37e4268320689ddb095e27b)**",
    "created_at": "2018-03-26T09:09:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379378",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`370bc8b`](https://github.com/sagemath/sagetrac-mirror/commit/370bc8bc7dabe0844d639b58192cd3be7e67b8c2)** to **[`70cb231`](https://github.com/sagemath/sagetrac-mirror/commit/70cb231acd43f717f37e4268320689ddb095e27b)**



---

archive/issue_comments_379379.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nupdated `generic_graph.py` and fixed a bug in `bliss.pyx`.\n\n**Question:** Is it really the right decision to have `edge_labels=False` per default in `automorphism_group` and `canonical_form` ? --I don't really care, but given an edge labelled graph, my first impression is that this edge labelling should be considered per default. The new underlying bliss methods have `True` per default which is overwritten from the graph methods then.",
    "created_at": "2018-03-26T09:12:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379379",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:55" align="right">comment:55</div>

updated `generic_graph.py` and fixed a bug in `bliss.pyx`.

**Question:** Is it really the right decision to have `edge_labels=False` per default in `automorphism_group` and `canonical_form` ? --I don't really care, but given an edge labelled graph, my first impression is that this edge labelling should be considered per default. The new underlying bliss methods have `True` per default which is overwritten from the graph methods then.



---

archive/issue_comments_379380.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nReplying to [@stumpc5](#comment:55):\n> updated `generic_graph.py` and fixed a bug in `bliss.pyx`.\n> \n> **Question:** Is it really the right decision to have `edge_labels=False` per default in `automorphism_group` and `canonical_form` ? --I don't really care, but given an edge labelled graph, my first impression is that this edge labelling should be considered per default. The new underlying bliss methods have `True` per default which is overwritten from the graph methods then.\n\nThe default should be `edge_labels=True` if you ask me. But such a change should be\nproperly deprecated.",
    "created_at": "2018-03-26T11:42:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379380",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:56" align="right">comment:56</div>

Replying to [@stumpc5](#comment:55):
> updated `generic_graph.py` and fixed a bug in `bliss.pyx`.
> 
> **Question:** Is it really the right decision to have `edge_labels=False` per default in `automorphism_group` and `canonical_form` ? --I don't really care, but given an edge labelled graph, my first impression is that this edge labelling should be considered per default. The new underlying bliss methods have `True` per default which is overwritten from the graph methods then.

The default should be `edge_labels=True` if you ask me. But such a change should be
properly deprecated.



---

archive/issue_comments_379381.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nObserve that I came across this strange default seeing that the doctest\n\n```\nsage: digraphs.DeBruijn(3,1).is_circulant(certificate = True)\n(True, [(3, [0, 1, 2])])\n```\nfailed since now bliss was used with the wrong optional argument. I think I just leave it for now since changing the default might cause more problems than it actually solves... Btw: graphs are also plotted without edge labels per default. Also there, I believe that it should be plotted with edge labels, and the edge label `None` is generally not shown ever.",
    "created_at": "2018-03-26T11:49:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379381",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:57" align="right">comment:57</div>

Observe that I came across this strange default seeing that the doctest

```
sage: digraphs.DeBruijn(3,1).is_circulant(certificate = True)
(True, [(3, [0, 1, 2])])
```
failed since now bliss was used with the wrong optional argument. I think I just leave it for now since changing the default might cause more problems than it actually solves... Btw: graphs are also plotted without edge labels per default. Also there, I believe that it should be plotted with edge labels, and the edge label `None` is generally not shown ever.



---

archive/issue_comments_379382.json:
```json
{
    "body": "<div id=\"comment:58\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd0fa5505e5f70b43407d2c18cf94ce3886945d5\"><code>dd0fa55</code></a></td><td><code>added missing optional flag</code></td></tr></table>\n",
    "created_at": "2018-03-27T11:44:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379382",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:58"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd0fa5505e5f70b43407d2c18cf94ce3886945d5"><code>dd0fa55</code></a></td><td><code>added missing optional flag</code></td></tr></table>




---

archive/issue_comments_379383.json:
```json
{
    "body": "Changed commit from **[`70cb231`](https://github.com/sagemath/sagetrac-mirror/commit/70cb231acd43f717f37e4268320689ddb095e27b)** to **[`dd0fa55`](https://github.com/sagemath/sagetrac-mirror/commit/dd0fa5505e5f70b43407d2c18cf94ce3886945d5)**",
    "created_at": "2018-03-27T11:44:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379383",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`70cb231`](https://github.com/sagemath/sagetrac-mirror/commit/70cb231acd43f717f37e4268320689ddb095e27b)** to **[`dd0fa55`](https://github.com/sagemath/sagetrac-mirror/commit/dd0fa5505e5f70b43407d2c18cf94ce3886945d5)**



---

archive/issue_comments_379384.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nI hope everything is there now and the bot doesn't seem to show any bliss related doctest failures...",
    "created_at": "2018-03-27T15:19:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379384",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:59" align="right">comment:59</div>

I hope everything is there now and the bot doesn't seem to show any bliss related doctest failures...



---

archive/issue_events_346420.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-03-29T11:36:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24924#event-346420"
}
```



---

archive/issue_events_346421.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-03-29T11:36:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24924#event-346421"
}
```



---

archive/issue_comments_379385.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2018-03-29T11:36:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379385",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_379386.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nlooks good to me, thanks!",
    "created_at": "2018-03-29T11:36:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379386",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:60" align="right">comment:60</div>

looks good to me, thanks!



---

archive/issue_comments_379387.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nMerge conflict",
    "created_at": "2018-05-08T17:34:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379387",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:61" align="right">comment:61</div>

Merge conflict



---

archive/issue_events_346422.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-08T17:34:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24924#event-346422"
}
```



---

archive/issue_events_346423.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-08T17:34:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24924#event-346423"
}
```



---

archive/issue_events_346424.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-05-09T12:20:57Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24924#event-346424"
}
```



---

archive/issue_events_346425.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-05-09T12:20:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24924#event-346425"
}
```



---

archive/issue_comments_379388.json:
```json
{
    "body": "Dependencies: **#20382**",
    "created_at": "2018-05-09T12:20:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379388",
    "user": "https://github.com/dimpase"
}
```

Dependencies: **#20382**



---

archive/issue_comments_379389.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nneeds to be rebased over #20382 (commit 8e4c504f07e), as it got into the 1st alpha\nalready (see https://github.com/vbraun/sage/tree/develop)\nThis is very small change to be done.",
    "created_at": "2018-05-09T12:20:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379389",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:62" align="right">comment:62</div>

needs to be rebased over #20382 (commit 8e4c504f07e), as it got into the 1st alpha
already (see https://github.com/vbraun/sage/tree/develop)
This is very small change to be done.



---

archive/issue_comments_379390.json:
```json
{
    "body": "Changed branch from **[u/stumpc5/making_the_bliss_canonical_form_available_for_edge_labelled_graphs](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/making_the_bliss_canonical_form_available_for_edge_labelled_graphs)** to **[public/graphs/making_the_bliss_canonical_form_available_for_edge_labelled_graphs](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/making_the_bliss_canonical_form_available_for_edge_labelled_graphs)**",
    "created_at": "2018-05-09T13:41:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379390",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[u/stumpc5/making_the_bliss_canonical_form_available_for_edge_labelled_graphs](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/making_the_bliss_canonical_form_available_for_edge_labelled_graphs)** to **[public/graphs/making_the_bliss_canonical_form_available_for_edge_labelled_graphs](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/making_the_bliss_canonical_form_available_for_edge_labelled_graphs)**



---

archive/issue_comments_379391.json:
```json
{
    "body": "Changed commit from **[`dd0fa55`](https://github.com/sagemath/sagetrac-mirror/commit/dd0fa5505e5f70b43407d2c18cf94ce3886945d5)** to **[`0830efc`](https://github.com/sagemath/sagetrac-mirror/commit/0830efc90604f7d4b432e013b9242b24e618c762)**",
    "created_at": "2018-05-09T13:41:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379391",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`dd0fa55`](https://github.com/sagemath/sagetrac-mirror/commit/dd0fa5505e5f70b43407d2c18cf94ce3886945d5)** to **[`0830efc`](https://github.com/sagemath/sagetrac-mirror/commit/0830efc90604f7d4b432e013b9242b24e618c762)**



---

archive/issue_events_346426.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-05-09T13:41:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24924#event-346426"
}
```



---

archive/issue_events_346427.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-05-09T13:41:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24924#event-346427"
}
```



---

archive/issue_comments_379392.json:
```json
{
    "body": "<div id=\"comment:63\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e4c504f07e540d67a18645bed3f234d48828404\"><code>8e4c504</code></a></td><td><code>Add Features to check the environment at runtime</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2b19031169e8a851a70f0a8b6969dbe0588a264\"><code>f2b1903</code></a></td><td><code>Merge commit '8e4c504f07e' into morebliss</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad6dcc6fc50723b616ae32f23ea592c8a27da5ca\"><code>ad6dcc6</code></a></td><td><code>Cleanup feature tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d94fe9b6d48ce45ce8f422b79cf68b1b469742da\"><code>d94fe9b</code></a></td><td><code>Merge branch 'u/jdemeyer/features' of trac.sagemath.org:sage into morebliss</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0830efc90604f7d4b432e013b9242b24e618c762\"><code>0830efc</code></a></td><td><code>Merge with sage.features from #20382</code></td></tr></table>\n",
    "created_at": "2018-05-09T13:41:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379392",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:63"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e4c504f07e540d67a18645bed3f234d48828404"><code>8e4c504</code></a></td><td><code>Add Features to check the environment at runtime</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2b19031169e8a851a70f0a8b6969dbe0588a264"><code>f2b1903</code></a></td><td><code>Merge commit '8e4c504f07e' into morebliss</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad6dcc6fc50723b616ae32f23ea592c8a27da5ca"><code>ad6dcc6</code></a></td><td><code>Cleanup feature tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d94fe9b6d48ce45ce8f422b79cf68b1b469742da"><code>d94fe9b</code></a></td><td><code>Merge branch 'u/jdemeyer/features' of trac.sagemath.org:sage into morebliss</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0830efc90604f7d4b432e013b9242b24e618c762"><code>0830efc</code></a></td><td><code>Merge with sage.features from #20382</code></td></tr></table>




---

archive/issue_events_346428.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-05-15T11:01:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24924#event-346428"
}
```



---

archive/issue_events_346429.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-05-15T11:01:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24924#event-346429"
}
```



---

archive/issue_comments_379393.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nit looks like a trivial rebase, so...",
    "created_at": "2018-05-15T11:01:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379393",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:64" align="right">comment:64</div>

it looks like a trivial rebase, so...



---

archive/issue_comments_379394.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nThanks for getting back to it, the recheck somehow got lost on my todo list...",
    "created_at": "2018-05-15T11:07:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379394",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:65" align="right">comment:65</div>

Thanks for getting back to it, the recheck somehow got lost on my todo list...



---

archive/issue_events_346430.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-18T17:04:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24924#event-346430"
}
```



---

archive/issue_events_346431.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "c8bf11d065efbb09eb02b18a0078a6b572552f59",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-05-18T17:04:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24924#event-346431"
}
```



---

archive/issue_comments_379395.json:
```json
{
    "body": "Changed branch from **[public/graphs/making_the_bliss_canonical_form_available_for_edge_labelled_graphs](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/making_the_bliss_canonical_form_available_for_edge_labelled_graphs)** to **[`0830efc`](https://github.com/sagemath/sagetrac-mirror/commit/0830efc90604f7d4b432e013b9242b24e618c762)**",
    "created_at": "2018-05-18T17:04:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24924#issuecomment-379395",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/graphs/making_the_bliss_canonical_form_available_for_edge_labelled_graphs](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/making_the_bliss_canonical_form_available_for_edge_labelled_graphs)** to **[`0830efc`](https://github.com/sagemath/sagetrac-mirror/commit/0830efc90604f7d4b432e013b9242b24e618c762)**
