# Issue 24302: Different of an Element of a Number Field

archive/issues_024065.json:
```json
{
    "assignees": [],
    "body": "We implement the different of a number field element.\n\nCC:  @tscholl2 @kevinywlui\n\nKeywords: **different, element**\n\nBranch/Commit: **[cb841de](https://github.com/sagemath/sagetrac-mirror/commit/cb841def3d47c9b35cdbe875f28067476ad001ac)**\n\nReviewer: **John Cremona, Vincent Delecroix, Samuel Leli\u00e8vre**\n\nAuthor: **Caleb Geiger, Travis Scholl**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24302_\n\n",
    "closed_at": "2020-08-23T16:28:23Z",
    "created_at": "2017-11-29T20:52:35Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20number%20fields",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Different of an Element of a Number Field",
    "type": "issue",
    "updated_at": "2020-08-23T16:28:23Z",
    "url": "https://github.com/sagemath/sage/issues/24302",
    "user": "https://github.com/sagetrac-cgeiger"
}
```
We implement the different of a number field element.

CC:  @tscholl2 @kevinywlui

Keywords: **different, element**

Branch/Commit: **[cb841de](https://github.com/sagemath/sagetrac-mirror/commit/cb841def3d47c9b35cdbe875f28067476ad001ac)**

Reviewer: **John Cremona, Vincent Delecroix, Samuel Lelièvre**

Author: **Caleb Geiger, Travis Scholl**

_Issue created by migration from https://trac.sagemath.org/ticket/24302_





---

archive/issue_events_319036.json:
```json
{
    "actor": "https://github.com/sagetrac-cgeiger",
    "created_at": "2017-11-29T20:52:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319036"
}
```



---

archive/issue_events_319037.json:
```json
{
    "actor": "https://github.com/sagetrac-cgeiger",
    "created_at": "2017-11-29T20:52:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20number%20fields",
    "label_color": "0000ff",
    "label_name": "component: number fields",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319037"
}
```



---

archive/issue_events_319038.json:
```json
{
    "actor": "https://github.com/sagetrac-cgeiger",
    "created_at": "2017-11-29T20:52:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319038"
}
```



---

archive/issue_events_319039.json:
```json
{
    "actor": "https://github.com/sagetrac-cgeiger",
    "created_at": "2017-11-29T20:52:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319039"
}
```



---

archive/issue_comments_370562.json:
```json
{
    "body": "Branch: **[u/cgeiger/different_of_an_element_of_a_number_field](https://github.com/sagemath/sagetrac-mirror/tree/u/cgeiger/different_of_an_element_of_a_number_field)**",
    "created_at": "2017-12-07T23:31:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370562",
    "user": "https://github.com/sagetrac-cgeiger"
}
```

Branch: **[u/cgeiger/different_of_an_element_of_a_number_field](https://github.com/sagemath/sagetrac-mirror/tree/u/cgeiger/different_of_an_element_of_a_number_field)**



---

archive/issue_events_319040.json:
```json
{
    "actor": "https://github.com/sagetrac-cgeiger",
    "created_at": "2017-12-07T23:36:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319040"
}
```



---

archive/issue_comments_370563.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/739ea8dd1635b881e91a40d7e8de59ff5cb1fdeb\">739ea8d</a></td><td><code>Implemented the different of a number field element.</code></td></tr></table>\n",
    "created_at": "2017-12-07T23:36:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370563",
    "user": "https://github.com/sagetrac-cgeiger"
}
```

<div id="comment:2" align="right">Comment 2</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/739ea8dd1635b881e91a40d7e8de59ff5cb1fdeb">739ea8d</a></td><td><code>Implemented the different of a number field element.</code></td></tr></table>




---

archive/issue_comments_370564.json:
```json
{
    "body": "Commit: **[739ea8d](https://github.com/sagemath/sagetrac-mirror/commit/739ea8dd1635b881e91a40d7e8de59ff5cb1fdeb)**",
    "created_at": "2017-12-07T23:36:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370564",
    "user": "https://github.com/sagetrac-cgeiger"
}
```

Commit: **[739ea8d](https://github.com/sagemath/sagetrac-mirror/commit/739ea8dd1635b881e91a40d7e8de59ff5cb1fdeb)**



---

archive/issue_comments_370565.json:
```json
{
    "body": "Author: **caleb geiger**",
    "created_at": "2017-12-07T23:36:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370565",
    "user": "https://github.com/sagetrac-cgeiger"
}
```

Author: **caleb geiger**



---

archive/issue_comments_370566.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-I will implement the different of an element of a number field.\n+The different of an element of a Number Field.\n``````\n",
    "created_at": "2017-12-07T23:36:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370566",
    "user": "https://github.com/sagetrac-cgeiger"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-I will implement the different of an element of a number field.
+The different of an element of a Number Field.
``````




---

archive/issue_events_319041.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-12-17T09:48:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319041"
}
```



---

archive/issue_events_319042.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-12-17T09:48:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319042"
}
```



---

archive/issue_events_319043.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-12-17T09:48:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319043"
}
```



---

archive/issue_events_319044.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-12-17T09:48:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319044"
}
```



---

archive/issue_comments_370567.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nThe [different ideal](https://en.wikipedia.org/wiki/Different_ideal) is something standard (and useful to study ramifications in the ring of integers). What is the different of an element useful for? What would be the usage of these functions?\n\nConcerning the code:\n\n1. It is a very bad idea to introduce a method that is not working (here `different`). The reason is that such method appear when you do tab-completion and provokes more confusion than anything else. Just don't implement it.\n\n2. It would be much simpler to have only one method called `different` which accept a `base_field` argument so that\n   - `a.different()` would always be relative to the base field\n   - `a.different(base_field=QQ)` would be relative to `QQ`\n   I also don't see why you should not allow `base_fied` to be any subfield.\n\n3. As written in [developer guide](http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content) the documentation of a function should start with a **one line** description. An optional paragraph can follow.\n\n4. In the documentation, you should say precisely what is `a` and what is `f`.",
    "created_at": "2017-12-17T09:48:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370567",
    "user": "https://github.com/videlec"
}
```

<div id="comment:3" align="right">Comment 3</div>

The [different ideal](https://en.wikipedia.org/wiki/Different_ideal) is something standard (and useful to study ramifications in the ring of integers). What is the different of an element useful for? What would be the usage of these functions?

Concerning the code:

1. It is a very bad idea to introduce a method that is not working (here `different`). The reason is that such method appear when you do tab-completion and provokes more confusion than anything else. Just don't implement it.

2. It would be much simpler to have only one method called `different` which accept a `base_field` argument so that
   - `a.different()` would always be relative to the base field
   - `a.different(base_field=QQ)` would be relative to `QQ`
   I also don't see why you should not allow `base_fied` to be any subfield.

3. As written in [developer guide](http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content) the documentation of a function should start with a **one line** description. An optional paragraph can follow.

4. In the documentation, you should say precisely what is `a` and what is `f`.



---

archive/issue_comments_370568.json:
```json
{
    "body": "Changed branch from **[u/cgeiger/different_of_an_element_of_a_number_field](https://github.com/sagemath/sagetrac-mirror/tree/u/cgeiger/different_of_an_element_of_a_number_field)** to **[u/tscholl2/24302](https://github.com/sagemath/sagetrac-mirror/tree/u/tscholl2/24302)**",
    "created_at": "2020-06-12T16:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370568",
    "user": "https://github.com/tscholl2"
}
```

Changed branch from **[u/cgeiger/different_of_an_element_of_a_number_field](https://github.com/sagemath/sagetrac-mirror/tree/u/cgeiger/different_of_an_element_of_a_number_field)** to **[u/tscholl2/24302](https://github.com/sagemath/sagetrac-mirror/tree/u/tscholl2/24302)**



---

archive/issue_events_319045.json:
```json
{
    "actor": "https://github.com/tscholl2",
    "created_at": "2020-06-12T16:16:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319045"
}
```



---

archive/issue_events_319046.json:
```json
{
    "actor": "https://github.com/tscholl2",
    "created_at": "2020-06-12T16:16:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319046"
}
```



---

archive/issue_events_319047.json:
```json
{
    "actor": "https://github.com/tscholl2",
    "created_at": "2020-06-12T16:16:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319047"
}
```



---

archive/issue_events_319048.json:
```json
{
    "actor": "https://github.com/tscholl2",
    "created_at": "2020-06-12T16:16:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319048"
}
```



---

archive/issue_comments_370569.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nThe different of an element comes up for me every once in a while. Usually I want to see if the different of an element generates the different ideal. So having a `.different()` method makes that a tad easier.\n\nI attempted to incorporate the comments into Caleb's code.\n\nThere is now one `.different()` method which takes an optional parameter of `base_field`, which can either be a subfield or an embedding.",
    "created_at": "2020-06-12T16:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370569",
    "user": "https://github.com/tscholl2"
}
```

<div id="comment:4" align="right">Comment 4</div>

The different of an element comes up for me every once in a while. Usually I want to see if the different of an element generates the different ideal. So having a `.different()` method makes that a tad easier.

I attempted to incorporate the comments into Caleb's code.

There is now one `.different()` method which takes an optional parameter of `base_field`, which can either be a subfield or an embedding.



---

archive/issue_comments_370570.json:
```json
{
    "body": "Changed author from **caleb geiger** to **caleb geiger, Travis Scholl**",
    "created_at": "2020-06-12T16:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370570",
    "user": "https://github.com/tscholl2"
}
```

Changed author from **caleb geiger** to **caleb geiger, Travis Scholl**



---

archive/issue_comments_370571.json:
```json
{
    "body": "Changed commit from **[739ea8d](https://github.com/sagemath/sagetrac-mirror/commit/739ea8dd1635b881e91a40d7e8de59ff5cb1fdeb)** to **[89957f6](https://github.com/sagemath/sagetrac-mirror/commit/89957f6bbec3587ca1bf6e9ee657dd4b846e9fb2)**",
    "created_at": "2020-06-12T16:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370571",
    "user": "https://github.com/tscholl2"
}
```

Changed commit from **[739ea8d](https://github.com/sagemath/sagetrac-mirror/commit/739ea8dd1635b881e91a40d7e8de59ff5cb1fdeb)** to **[89957f6](https://github.com/sagemath/sagetrac-mirror/commit/89957f6bbec3587ca1bf6e9ee657dd4b846e9fb2)**



---

archive/issue_events_319049.json:
```json
{
    "actor": "https://github.com/tscholl2",
    "created_at": "2020-06-12T16:16:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319049"
}
```



---

archive/issue_events_319050.json:
```json
{
    "actor": "https://github.com/tscholl2",
    "created_at": "2020-06-12T16:16:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319050"
}
```



---

archive/issue_comments_370572.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nMost of the code in the new method concerns computing the appropriate charpoly (absolute or relative, etc).  Would it not be better to extend the functionality of the existing charpoly() methods first, then different() becomes very simple?  For an element a of an absolute field all you need is a.charpoly() and for a relative extension either a.charpoly() for the relative one or a.absolute_charpoly() for the absolute one.\n\nIn fact, seeing as both those versoin of charpoly() exist already, just have methods a.different() and a.absolute_different() calling one or the other?\n\nBy the way, for some number field methods such as discriminant(), one is forced to use either absolute_discriminant() or relative_discriminant() always, to avoid errors.  That should probably also be tru of charpoly) for consistency, and then similarly for different().",
    "created_at": "2020-06-30T07:59:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370572",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:5" align="right">Comment 5</div>

Most of the code in the new method concerns computing the appropriate charpoly (absolute or relative, etc).  Would it not be better to extend the functionality of the existing charpoly() methods first, then different() becomes very simple?  For an element a of an absolute field all you need is a.charpoly() and for a relative extension either a.charpoly() for the relative one or a.absolute_charpoly() for the absolute one.

In fact, seeing as both those versoin of charpoly() exist already, just have methods a.different() and a.absolute_different() calling one or the other?

By the way, for some number field methods such as discriminant(), one is forced to use either absolute_discriminant() or relative_discriminant() always, to avoid errors.  That should probably also be tru of charpoly) for consistency, and then similarly for different().



---

archive/issue_comments_370573.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ac030c86bd016298b325117e13f6feef1eae0c6\">6ac030c</a></td><td><code>replaced charpoly logic with a call to self.matrix like the other functions do, added absolute_different as a shortcut for basefield=QQ</code></td></tr></table>\n",
    "created_at": "2020-06-30T16:25:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370573",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6" align="right">Comment 6</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ac030c86bd016298b325117e13f6feef1eae0c6">6ac030c</a></td><td><code>replaced charpoly logic with a call to self.matrix like the other functions do, added absolute_different as a shortcut for basefield=QQ</code></td></tr></table>




---

archive/issue_comments_370574.json:
```json
{
    "body": "Changed commit from **[89957f6](https://github.com/sagemath/sagetrac-mirror/commit/89957f6bbec3587ca1bf6e9ee657dd4b846e9fb2)** to **[6ac030c](https://github.com/sagemath/sagetrac-mirror/commit/6ac030c86bd016298b325117e13f6feef1eae0c6)**",
    "created_at": "2020-06-30T16:25:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370574",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[89957f6](https://github.com/sagemath/sagetrac-mirror/commit/89957f6bbec3587ca1bf6e9ee657dd4b846e9fb2)** to **[6ac030c](https://github.com/sagemath/sagetrac-mirror/commit/6ac030c86bd016298b325117e13f6feef1eae0c6)**



---

archive/issue_comments_370575.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nReplying to [@JohnCremona](#comment%3A5):\n\nConsistency is hard. The following are methods on `class NumberFieldElement(FieldElement)`:\n\n```\ndef trace(self, K=None): ...\ndef norm(self, K=None): ...\ndef absolute_norm(self): ...\ndef relative_norm(self): ...\ndef charpoly(self, var='x'): ...\ndef minpoly(self, var='x'): ...\ndef matrix(self, base=None): ...\n```\n\nBoth absolute and relative number field elements also implement\n\n```\ndef absolute_charpoly(...)\ndef absolute_minpoly(...)\n```\n\nThere is no `relative_charpoly` or `relative_minpoly` as far as I can tell.\nNone of these methods seem to be restricted like `discriminant` is for relative number fields.\n\nPretty much all of these methods just call `self.matrix`, with the exception that sometimes there is an optional argument to use Pari.\n\nI thought the most consistent thing would be to make `different` and `absolute_different` like it is for charpoly and minpoly.\nThough I would want `different` to be more similar to `trace` or `norm`.\n\nI also realized `self.matrix` was doing all the same logic I was trying to do, so that means the implementation is now just two lines now.",
    "created_at": "2020-06-30T16:26:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370575",
    "user": "https://github.com/tscholl2"
}
```

<div id="comment:7" align="right">Comment 7</div>

Replying to [@JohnCremona](#comment%3A5):

Consistency is hard. The following are methods on `class NumberFieldElement(FieldElement)`:

```
def trace(self, K=None): ...
def norm(self, K=None): ...
def absolute_norm(self): ...
def relative_norm(self): ...
def charpoly(self, var='x'): ...
def minpoly(self, var='x'): ...
def matrix(self, base=None): ...
```

Both absolute and relative number field elements also implement

```
def absolute_charpoly(...)
def absolute_minpoly(...)
```

There is no `relative_charpoly` or `relative_minpoly` as far as I can tell.
None of these methods seem to be restricted like `discriminant` is for relative number fields.

Pretty much all of these methods just call `self.matrix`, with the exception that sometimes there is an optional argument to use Pari.

I thought the most consistent thing would be to make `different` and `absolute_different` like it is for charpoly and minpoly.
Though I would want `different` to be more similar to `trace` or `norm`.

I also realized `self.matrix` was doing all the same logic I was trying to do, so that means the implementation is now just two lines now.



---

archive/issue_events_319051.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-07-05T00:26:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319051"
}
```



---

archive/issue_events_319052.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-07-05T00:26:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319052"
}
```



---

archive/issue_comments_370576.json:
```json
{
    "body": "Reviewer: **John Cremona, Vincent Delecroix, Samuel Leli\u00e8vre**",
    "created_at": "2020-07-05T00:26:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370576",
    "user": "https://github.com/slel"
}
```

Reviewer: **John Cremona, Vincent Delecroix, Samuel Lelièvre**



---

archive/issue_comments_370577.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nSome suggestions based on our documentation guidelines\n- prefer imperative \"Return\" to descriptive \"Returns\"\n- use `::` before each example code block\n- pep8: spaces after commas and around `+` and `-`\n- add cross-links with `.. SEEALSO::`\n\n```diff\n-    def different(self,K=None):\n+    def different(self, K=None):\n         r\"\"\"\n-        Returns the different of the element ``self`` with respect to the given\n-        base field ``K``, which defaults ``self.parent().base_field()``.\n+        Return the different of this element with respect to the given\n+        base field.\n\n         The different of an element `a` in an extension of number fields `L/K`\n         is defined as `\\mathrm{Diff}_{L/K}(a) = f'(a)` where `f` is the\n         characteristic polynomial of `a` over `K`.\n\n         INPUT:\n\n         - ``K`` -- a subfield (embedding of a subfield) of the parent\n-        number field ``K`` of ``self``. The default is ``K.base_field()``.\n+          number field of ``self``. Default: ``None``, which will amount\n+          to ``self.parent().base_field()``.\n\n         EXAMPLES::\n\n-            sage: K.<a> = NumberField(x^3-2)\n+            sage: K.<a> = NumberField(x^3 - 2)\n             sage: a.different()\n             3*a^2\n             sage: a.different(K=K)\n             1\n\n-        The optional argument ``K`` can be an embedding of a subfield\n-        as shown here.\n+        The optional argument ``K`` can be an embedding of a subfield::\n \n             sage: K.<b> = NumberField(x^4 - 2)\n             sage: (b^2).different()\n             0\n             sage: phi = K.base_field().embeddings(K)[0]\n             sage: b.different(K=phi)\n             4*b^3\n\n-        Here we compute the relative and absolute different of an element\n-        in a relative number field.\n+        Compare the relative different and the absolute different\n+        for an element in a relative number field::\n\n             sage: K.<a> = NumberFieldTower([x^2 - 17, x^3 - 2])\n             sage: a.different()\n             2*a0\n             sage: a.different(K=QQ)\n             0\n             sage: a.absolute_different()\n             0\n\n-        In this example, we can see that the different of the extension `\\QQ(i)/\\QQ`\n-        is generated by the different of `i`.\n+        Observe that for the field extension `\\QQ(i)/\\QQ`, the different of\n+        the field extension is the ideal generated by the different of `i`::\n\n-            sage: K.<c> = NumberField(x^2+1)\n+            sage: K.<c> = NumberField(x^2 + 1)\n             sage: K.different() == K.ideal(c.different())\n             True\n+\n+        .. SEEALSO::\n+\n+            :meth:`absolute_different`\n+            :meth:`sage.rings.number_field.number_field_rel.NumberField_relative.different`\n         \"\"\"\n         f = self.matrix(base=K).charpoly().derivative().change_ring(self.parent())\n         return f(self)\n \n     def absolute_different(self):\n         r\"\"\"\n-        Returns the absolute different of the element ``self`` with respect to the\n-        base field `\\QQ`. See ``.different()`` for examples.\n+        Return the absolute different of this element.\n+\n+        This means the different with respect to the base field `\\QQ`.\n+\n+        EXAMPLE::\n+\n+            sage: K.<a> = NumberFieldTower([x^2 - 17, x^3 - 2])\n+            sage: a.absolute_different()\n+            0\n+\n+        .. SEEALSO::\n+\n+            :meth:`different`\n         \"\"\"\n         return self.different(K=QQ)\n```",
    "created_at": "2020-07-05T00:26:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370577",
    "user": "https://github.com/slel"
}
```

<div id="comment:8" align="right">Comment 8</div>

Some suggestions based on our documentation guidelines
- prefer imperative "Return" to descriptive "Returns"
- use `::` before each example code block
- pep8: spaces after commas and around `+` and `-`
- add cross-links with `.. SEEALSO::`

```diff
-    def different(self,K=None):
+    def different(self, K=None):
         r"""
-        Returns the different of the element ``self`` with respect to the given
-        base field ``K``, which defaults ``self.parent().base_field()``.
+        Return the different of this element with respect to the given
+        base field.

         The different of an element `a` in an extension of number fields `L/K`
         is defined as `\mathrm{Diff}_{L/K}(a) = f'(a)` where `f` is the
         characteristic polynomial of `a` over `K`.

         INPUT:

         - ``K`` -- a subfield (embedding of a subfield) of the parent
-        number field ``K`` of ``self``. The default is ``K.base_field()``.
+          number field of ``self``. Default: ``None``, which will amount
+          to ``self.parent().base_field()``.

         EXAMPLES::

-            sage: K.<a> = NumberField(x^3-2)
+            sage: K.<a> = NumberField(x^3 - 2)
             sage: a.different()
             3*a^2
             sage: a.different(K=K)
             1

-        The optional argument ``K`` can be an embedding of a subfield
-        as shown here.
+        The optional argument ``K`` can be an embedding of a subfield::
 
             sage: K.<b> = NumberField(x^4 - 2)
             sage: (b^2).different()
             0
             sage: phi = K.base_field().embeddings(K)[0]
             sage: b.different(K=phi)
             4*b^3

-        Here we compute the relative and absolute different of an element
-        in a relative number field.
+        Compare the relative different and the absolute different
+        for an element in a relative number field::

             sage: K.<a> = NumberFieldTower([x^2 - 17, x^3 - 2])
             sage: a.different()
             2*a0
             sage: a.different(K=QQ)
             0
             sage: a.absolute_different()
             0

-        In this example, we can see that the different of the extension `\QQ(i)/\QQ`
-        is generated by the different of `i`.
+        Observe that for the field extension `\QQ(i)/\QQ`, the different of
+        the field extension is the ideal generated by the different of `i`::

-            sage: K.<c> = NumberField(x^2+1)
+            sage: K.<c> = NumberField(x^2 + 1)
             sage: K.different() == K.ideal(c.different())
             True
+
+        .. SEEALSO::
+
+            :meth:`absolute_different`
+            :meth:`sage.rings.number_field.number_field_rel.NumberField_relative.different`
         """
         f = self.matrix(base=K).charpoly().derivative().change_ring(self.parent())
         return f(self)
 
     def absolute_different(self):
         r"""
-        Returns the absolute different of the element ``self`` with respect to the
-        base field `\QQ`. See ``.different()`` for examples.
+        Return the absolute different of this element.
+
+        This means the different with respect to the base field `\QQ`.
+
+        EXAMPLE::
+
+            sage: K.<a> = NumberFieldTower([x^2 - 17, x^3 - 2])
+            sage: a.absolute_different()
+            0
+
+        .. SEEALSO::
+
+            :meth:`different`
         """
         return self.different(K=QQ)
```



---

archive/issue_comments_370578.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-The different of an element of a Number Field.\n+We implement the different of a number field element.\n``````\n",
    "created_at": "2020-07-05T00:26:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370578",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-The different of an element of a Number Field.
+We implement the different of a number field element.
``````




---

archive/issue_comments_370579.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb841def3d47c9b35cdbe875f28067476ad001ac\">cb841de</a></td><td><code>more compliant documentation following reviewers comment</code></td></tr></table>\n",
    "created_at": "2020-07-06T15:28:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370579",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9" align="right">Comment 9</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb841def3d47c9b35cdbe875f28067476ad001ac">cb841de</a></td><td><code>more compliant documentation following reviewers comment</code></td></tr></table>




---

archive/issue_comments_370580.json:
```json
{
    "body": "Changed commit from **[6ac030c](https://github.com/sagemath/sagetrac-mirror/commit/6ac030c86bd016298b325117e13f6feef1eae0c6)** to **[cb841de](https://github.com/sagemath/sagetrac-mirror/commit/cb841def3d47c9b35cdbe875f28067476ad001ac)**",
    "created_at": "2020-07-06T15:28:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370580",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6ac030c](https://github.com/sagemath/sagetrac-mirror/commit/6ac030c86bd016298b325117e13f6feef1eae0c6)** to **[cb841de](https://github.com/sagemath/sagetrac-mirror/commit/cb841def3d47c9b35cdbe875f28067476ad001ac)**



---

archive/issue_comments_370581.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nReplying to [@slel](#comment%3A8):\n\nThanks for the suggestions, I amended the documentation accordingly.",
    "created_at": "2020-07-06T15:30:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370581",
    "user": "https://github.com/tscholl2"
}
```

<div id="comment:10" align="right">Comment 10</div>

Replying to [@slel](#comment%3A8):

Thanks for the suggestions, I amended the documentation accordingly.



---

archive/issue_comments_370582.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nOther reviewers, any more comments? Anything in the way of a positive review?",
    "created_at": "2020-07-15T01:51:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370582",
    "user": "https://github.com/slel"
}
```

<div id="comment:11" align="right">Comment 11</div>

Other reviewers, any more comments? Anything in the way of a positive review?



---

archive/issue_comments_370583.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nI'm a lot happier than when I first looked, now that the implementation is a one-liner and the docs are good.",
    "created_at": "2020-07-15T07:38:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370583",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:12" align="right">Comment 12</div>

I'm a lot happier than when I first looked, now that the implementation is a one-liner and the docs are good.



---

archive/issue_events_319053.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2020-07-15T07:38:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319053"
}
```



---

archive/issue_events_319054.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2020-07-15T07:38:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319054"
}
```



---

archive/issue_comments_370584.json:
```json
{
    "body": "Changed author from **caleb geiger, Travis Scholl** to **Caleb Geiger, Travis Scholl**",
    "created_at": "2020-08-15T10:23:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370584",
    "user": "https://github.com/fchapoton"
}
```

Changed author from **caleb geiger, Travis Scholl** to **Caleb Geiger, Travis Scholl**



---

archive/issue_events_319055.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-23T16:28:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319055"
}
```



---

archive/issue_events_319056.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0d2e44469d091cd87b2e087bd57c9cd76b7f7947",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-08-23T16:28:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24302#event-319056"
}
```



---

archive/issue_comments_370585.json:
```json
{
    "body": "Changed branch from **[u/tscholl2/24302](https://github.com/sagemath/sagetrac-mirror/tree/u/tscholl2/24302)** to **[cb841de](https://github.com/sagemath/sagetrac-mirror/commit/cb841def3d47c9b35cdbe875f28067476ad001ac)**",
    "created_at": "2020-08-23T16:28:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24302#issuecomment-370585",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/tscholl2/24302](https://github.com/sagemath/sagetrac-mirror/tree/u/tscholl2/24302)** to **[cb841de](https://github.com/sagemath/sagetrac-mirror/commit/cb841def3d47c9b35cdbe875f28067476ad001ac)**
