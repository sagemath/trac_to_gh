# Issue 24927: Upgrade arb to 2.13.0

archive/issues_024690.json:
```json
{
    "assignees": [],
    "body": "Upstream at\n\n    https://github.com/fredrik-johansson/arb/archive/2.13.0.tar.gz\n\n(to be renamed `arb-2.13.0.tar.gz`)\n\nMany doctests have to be changed because `1/0` now returns `nan` rather than `[+/- inf]`. See also the announcement on [flint-devel](https://groups.google.com/forum/#!topic/flint-devel/GgO9IfM27w0).\n\nIssues about enclosure regressions reported upstream at [Issue #227](https://github.com/fredrik-johansson/arb/issues/227).\n\nCC:  @mezzarobba @fredrik-johansson @kiwifb\n\nBranch/Commit: **[`e0e3c06`](https://github.com/sagemath/sagetrac-mirror/commit/e0e3c06f561515d83b0c8803639f26efa4f5bf11)**\n\nReviewer: **Ralf Stephan**\n\nAuthor: **Ralf Stephan, Fr\u00e9d\u00e9ric Chapoton, Marc Mezzarobba**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24927_\n\n",
    "closed_at": "2018-06-19T22:11:10Z",
    "created_at": "2018-03-08T09:00:58Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade arb to 2.13.0",
    "type": "issue",
    "updated_at": "2018-06-19T22:11:10Z",
    "url": "https://github.com/sagemath/sage/issues/24927",
    "user": "https://github.com/videlec"
}
```
Upstream at

    https://github.com/fredrik-johansson/arb/archive/2.13.0.tar.gz

(to be renamed `arb-2.13.0.tar.gz`)

Many doctests have to be changed because `1/0` now returns `nan` rather than `[+/- inf]`. See also the announcement on [flint-devel](https://groups.google.com/forum/#!topic/flint-devel/GgO9IfM27w0).

Issues about enclosure regressions reported upstream at [Issue #227](https://github.com/fredrik-johansson/arb/issues/227).

CC:  @mezzarobba @fredrik-johansson @kiwifb

Branch/Commit: **[`e0e3c06`](https://github.com/sagemath/sagetrac-mirror/commit/e0e3c06f561515d83b0c8803639f26efa4f5bf11)**

Reviewer: **Ralf Stephan**

Author: **Ralf Stephan, Frédéric Chapoton, Marc Mezzarobba**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/24927_





---

archive/issue_events_341902.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-08T09:00:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24927#event-341902"
}
```



---

archive/issue_events_341903.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-08T09:00:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24927#event-341903"
}
```



---

archive/issue_events_341904.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-08T09:00:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24927#event-341904"
}
```



---

archive/issue_events_341905.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-08T09:00:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24927#event-341905"
}
```



---

archive/issue_comments_379420.json:
```json
{
    "body": "Dependencies: **#24575**",
    "created_at": "2018-03-08T10:46:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379420",
    "user": "https://github.com/videlec"
}
```

Dependencies: **#24575**



---

archive/issue_comments_379421.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,5 @@\n     https://github.com/fredrik-johansson/arb/archive/2.13.0.tar.gz\n \n (to be renamed `arb-2.13.0.tar.gz`)\n+\n+Many doctests have to be changed because `1/0` now returns `nan` rather than `[+/- inf]`. See also the announcement on [flint-devel](https://groups.google.com/forum/#!topic/flint-devel/GgO9IfM27w0).\n``````\n",
    "created_at": "2018-03-08T11:00:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379421",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,5 @@
     https://github.com/fredrik-johansson/arb/archive/2.13.0.tar.gz
 
 (to be renamed `arb-2.13.0.tar.gz`)
+
+Many doctests have to be changed because `1/0` now returns `nan` rather than `[+/- inf]`. See also the announcement on [flint-devel](https://groups.google.com/forum/#!topic/flint-devel/GgO9IfM27w0).
``````




---

archive/issue_comments_379422.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAmong the changed behavior some of them are weird (and perhaps not desirable)\n\n```\n**********************************************************************\nFile \"complex_arb.pyx\", line 2287, in sage.rings.complex_arb.ComplexBall.log\nFailed example:\n    CBF('inf').log()\nExpected:\n    nan + nan*I\nGot:\n    [+/- inf]\n**********************************************************************\nFile \"complex_arb.pyx\", line 2395, in sage.rings.complex_arb.ComplexBall.tan\nFailed example:\n    CBF(pi/2).tan()\nExpected:\n    [+/- inf]\nGot:\n    nan\n**********************************************************************\nFile \"complex_arb.pyx\", line 2412, in sage.rings.complex_arb.ComplexBall.cot\nFailed example:\n    CBF(pi).cot()\nExpected:\n    [+/- inf]\nGot:\n    nan\n**********************************************************************\nFile \"real_arb.pyx\", line 3124, in sage.rings.real_arb.RealBall.tan\nFailed example:\n    RBF(pi/2).tan()\nExpected:\n    [+/- inf]\nGot:\n    nan\n**********************************************************************\nFile \"real_arb.pyx\", line 3141, in sage.rings.real_arb.RealBall.cot\nFailed example:\n    RBF(pi).cot()\nExpected:\n    [+/- inf]\nGot:\n    nan\n**********************************************************************\nFile \"real_arb.pyx\", line 3252, in sage.rings.real_arb.RealBall.coth\nFailed example:\n    RBF(0).coth()\nExpected:\n    [+/- inf]\nGot:\n    nan\n```\n\nI also noted some small regressions in enclosures (ignoring the ones that get better)\n\n```\n**********************************************************************\nFile \"complex_arb.pyx\", line 2798, in sage.rings.complex_arb.ComplexBall.hypergeometric\nFailed example:\n    CBF(2+3*I).hypergeometric([1/4,1/3],[1/2])\nExpected:\n    [0.7871684267473 +/- 7.34e-14] + [0.2749254173721 +/- 9.23e-14]*I\nGot:\n    [0.7871684267473 +/- 7.38e-14] + [0.2749254173721 +/- 9.22e-14]*I\n**********************************************************************\nFile \"complex_arb.pyx\", line 2800, in sage.rings.complex_arb.ComplexBall.hypergeometric\nFailed example:\n    CBF(2+3*I).hypergeometric([1/4,1/3],[1/2],regularized=True)\nExpected:\n    [0.4441122268685 +/- 3.96e-14] + [0.1551100567338 +/- 5.75e-14]*I\nGot:\n    [0.4441122268685 +/- 3.98e-14] + [0.1551100567338 +/- 5.77e-14]*I\n**********************************************************************\nFile \"complex_arb.pyx\", line 3648, in sage.rings.complex_arb.ComplexBall.legendre_P\nFailed example:\n    CBF(1/2).legendre_P(5)\nExpected:\n    [0.08984375000000000 +/- 4.5...e-18]\nGot:\n    [0.0898437500000000 +/- 7.29e-17]\n**********************************************************************\nFile \"complex_arb.pyx\", line 3686, in sage.rings.complex_arb.ComplexBall.legendre_Q\nFailed example:\n    CBF(-10).legendre_Q(5, 325/100)\nExpected:\n    [-83825154.36008 +/- 4.94e-6] + [-34721515.80396 +/- 5.40e-6]*I\nGot:\n    [-83825154.36008 +/- 5.02e-6] + [-34721515.80396 +/- 5.42e-6]*I\n```",
    "created_at": "2018-03-08T11:09:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379422",
    "user": "https://github.com/videlec"
}
```

<div id="comment:4" align="right">comment:4</div>

Among the changed behavior some of them are weird (and perhaps not desirable)

```
**********************************************************************
File "complex_arb.pyx", line 2287, in sage.rings.complex_arb.ComplexBall.log
Failed example:
    CBF('inf').log()
Expected:
    nan + nan*I
Got:
    [+/- inf]
**********************************************************************
File "complex_arb.pyx", line 2395, in sage.rings.complex_arb.ComplexBall.tan
Failed example:
    CBF(pi/2).tan()
Expected:
    [+/- inf]
Got:
    nan
**********************************************************************
File "complex_arb.pyx", line 2412, in sage.rings.complex_arb.ComplexBall.cot
Failed example:
    CBF(pi).cot()
Expected:
    [+/- inf]
Got:
    nan
**********************************************************************
File "real_arb.pyx", line 3124, in sage.rings.real_arb.RealBall.tan
Failed example:
    RBF(pi/2).tan()
Expected:
    [+/- inf]
Got:
    nan
**********************************************************************
File "real_arb.pyx", line 3141, in sage.rings.real_arb.RealBall.cot
Failed example:
    RBF(pi).cot()
Expected:
    [+/- inf]
Got:
    nan
**********************************************************************
File "real_arb.pyx", line 3252, in sage.rings.real_arb.RealBall.coth
Failed example:
    RBF(0).coth()
Expected:
    [+/- inf]
Got:
    nan
```

I also noted some small regressions in enclosures (ignoring the ones that get better)

```
**********************************************************************
File "complex_arb.pyx", line 2798, in sage.rings.complex_arb.ComplexBall.hypergeometric
Failed example:
    CBF(2+3*I).hypergeometric([1/4,1/3],[1/2])
Expected:
    [0.7871684267473 +/- 7.34e-14] + [0.2749254173721 +/- 9.23e-14]*I
Got:
    [0.7871684267473 +/- 7.38e-14] + [0.2749254173721 +/- 9.22e-14]*I
**********************************************************************
File "complex_arb.pyx", line 2800, in sage.rings.complex_arb.ComplexBall.hypergeometric
Failed example:
    CBF(2+3*I).hypergeometric([1/4,1/3],[1/2],regularized=True)
Expected:
    [0.4441122268685 +/- 3.96e-14] + [0.1551100567338 +/- 5.75e-14]*I
Got:
    [0.4441122268685 +/- 3.98e-14] + [0.1551100567338 +/- 5.77e-14]*I
**********************************************************************
File "complex_arb.pyx", line 3648, in sage.rings.complex_arb.ComplexBall.legendre_P
Failed example:
    CBF(1/2).legendre_P(5)
Expected:
    [0.08984375000000000 +/- 4.5...e-18]
Got:
    [0.0898437500000000 +/- 7.29e-17]
**********************************************************************
File "complex_arb.pyx", line 3686, in sage.rings.complex_arb.ComplexBall.legendre_Q
Failed example:
    CBF(-10).legendre_Q(5, 325/100)
Expected:
    [-83825154.36008 +/- 4.94e-6] + [-34721515.80396 +/- 5.40e-6]*I
Got:
    [-83825154.36008 +/- 5.02e-6] + [-34721515.80396 +/- 5.42e-6]*I
```



---

archive/issue_comments_379423.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIt may be better to wait for the existing arb-related tickets to be merged, in case the upgrade causes doctest failures there...",
    "created_at": "2018-03-08T11:11:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379423",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:5" align="right">comment:5</div>

It may be better to wait for the existing arb-related tickets to be merged, in case the upgrade causes doctest failures there...



---

archive/issue_comments_379424.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nAnd this is annoying\n\n```\nsage: RBF([-infinity,infinity])\nnan\n```",
    "created_at": "2018-03-08T11:11:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379424",
    "user": "https://github.com/videlec"
}
```

<div id="comment:6" align="right">comment:6</div>

And this is annoying

```
sage: RBF([-infinity,infinity])
nan
```



---

archive/issue_comments_379425.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@mezzarobba](#comment:5):\n> It may be better to wait for the existing arb-related tickets to be merged, in case the upgrade causes doctest failures there...\n\nCould you add them as dependencies?",
    "created_at": "2018-03-08T11:14:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379425",
    "user": "https://github.com/videlec"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@mezzarobba](#comment:5):
> It may be better to wait for the existing arb-related tickets to be merged, in case the upgrade causes doctest failures there...

Could you add them as dependencies?



---

archive/issue_comments_379426.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@videlec](#comment:7):\n> Replying to [@mezzarobba](#comment:5):\n> > It may be better to wait for the existing arb-related tickets to be merged, in case the upgrade causes doctest failures there...\n\n> \n> Could you add them as dependencies?\n\nYes, but I also wouldn't want to block this ticket if nobody is interested in reviewing the other ones. In any case, the tickets I have in mind are #24314, #24816, #24717, #24626.",
    "created_at": "2018-03-08T11:38:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379426",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@videlec](#comment:7):
> Replying to [@mezzarobba](#comment:5):
> > It may be better to wait for the existing arb-related tickets to be merged, in case the upgrade causes doctest failures there...

> 
> Could you add them as dependencies?

Yes, but I also wouldn't want to block this ticket if nobody is interested in reviewing the other ones. In any case, the tickets I have in mind are #24314, #24816, #24717, #24626.



---

archive/issue_comments_379427.json:
```json
{
    "body": "Changed dependencies from **#24575** to **#24575, #24314, #24816, #24717, #24626**",
    "created_at": "2018-03-08T11:39:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379427",
    "user": "https://github.com/videlec"
}
```

Changed dependencies from **#24575** to **#24575, #24314, #24816, #24717, #24626**



---

archive/issue_comments_379428.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nComing late to the party, pynac-0.7.17 (#24838) depends on this because a fix is included.",
    "created_at": "2018-04-30T13:24:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379428",
    "user": "https://github.com/rwst"
}
```

<div id="comment:10" align="right">comment:10</div>

Coming late to the party, pynac-0.7.17 (#24838) depends on this because a fix is included.



---

archive/issue_comments_379429.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nWhy is #24575 a dependency? That seems to have nothing to do with arb.",
    "created_at": "2018-05-01T19:33:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379429",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

Why is #24575 a dependency? That seems to have nothing to do with arb.



---

archive/issue_comments_379430.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@jdemeyer](#comment:11):\n> Why is #24575 a dependency? That seems to have nothing to do with arb.\n\nSomehow it does. The Makefile of arb is making use of `LD_LIBRARY_PATH` and #24575 aimed to change that...",
    "created_at": "2018-05-02T04:44:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379430",
    "user": "https://github.com/videlec"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@jdemeyer](#comment:11):
> Why is #24575 a dependency? That seems to have nothing to do with arb.

Somehow it does. The Makefile of arb is making use of `LD_LIBRARY_PATH` and #24575 aimed to change that...



---

archive/issue_comments_379431.json:
```json
{
    "body": "Changed dependencies from **#24575, #24314, #24816, #24717, #24626** to **#24314, #24816, #24717, #24626**",
    "created_at": "2018-05-02T04:44:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379431",
    "user": "https://github.com/videlec"
}
```

Changed dependencies from **#24575, #24314, #24816, #24717, #24626** to **#24314, #24816, #24717, #24626**



---

archive/issue_events_341906.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-05-02T10:43:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24927#event-341906"
}
```



---

archive/issue_events_341907.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-05-02T10:43:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24927#event-341907"
}
```



---

archive/issue_comments_379432.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,5 @@\n (to be renamed `arb-2.13.0.tar.gz`)\n \n Many doctests have to be changed because `1/0` now returns `nan` rather than `[+/- inf]`. See also the announcement on [flint-devel](https://groups.google.com/forum/#!topic/flint-devel/GgO9IfM27w0).\n+\n+Issues about enclosure regressions reported upstream at [Issue #227](https://github.com/fredrik-johansson/arb/issues/227).\n``````\n",
    "created_at": "2018-05-02T10:43:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379432",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,5 @@
 (to be renamed `arb-2.13.0.tar.gz`)
 
 Many doctests have to be changed because `1/0` now returns `nan` rather than `[+/- inf]`. See also the announcement on [flint-devel](https://groups.google.com/forum/#!topic/flint-devel/GgO9IfM27w0).
+
+Issues about enclosure regressions reported upstream at [Issue #227](https://github.com/fredrik-johansson/arb/issues/227).
``````




---

archive/issue_comments_379433.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nDependencies are merged now. Anyone working on this?",
    "created_at": "2018-05-29T07:39:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379433",
    "user": "https://github.com/rwst"
}
```

<div id="comment:14" align="right">comment:14</div>

Dependencies are merged now. Anyone working on this?



---

archive/issue_comments_379434.json:
```json
{
    "body": "Branch: **[u/rws/upgrade_arb_to_2_13_0](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/upgrade_arb_to_2_13_0)**",
    "created_at": "2018-05-29T07:51:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379434",
    "user": "https://github.com/rwst"
}
```

Branch: **[u/rws/upgrade_arb_to_2_13_0](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/upgrade_arb_to_2_13_0)**



---

archive/issue_comments_379435.json:
```json
{
    "body": "Commit: **[`9c8b1c7`](https://github.com/sagemath/sagetrac-mirror/commit/9c8b1c7250b7a9cd2cca0660d3b5ee38f53bad89)**",
    "created_at": "2018-05-29T07:54:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379435",
    "user": "https://github.com/rwst"
}
```

Commit: **[`9c8b1c7`](https://github.com/sagemath/sagetrac-mirror/commit/9c8b1c7250b7a9cd2cca0660d3b5ee38f53bad89)**



---

archive/issue_comments_379436.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n\n```\nsage -t --warn-long 52.8 src/sage/rings/complex_arb.pyx  # 35 doctests failed\nsage -t --warn-long 52.8 src/sage/rings/real_arb.pyx  # 10 doctests failed\nsage -t --warn-long 52.8 src/sage/rings/polynomial/polynomial_complex_arb.pyx  # 2 doctests failed\n```\nPlease someone go ahead. I can't work on this until end of June.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c8b1c7250b7a9cd2cca0660d3b5ee38f53bad89\"><code>9c8b1c7</code></a></td><td><code>24927: version/chksum/rm patch</code></td></tr></table>\n",
    "created_at": "2018-05-29T07:54:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379436",
    "user": "https://github.com/rwst"
}
```

<div id="comment:16" align="right">comment:16</div>


```
sage -t --warn-long 52.8 src/sage/rings/complex_arb.pyx  # 35 doctests failed
sage -t --warn-long 52.8 src/sage/rings/real_arb.pyx  # 10 doctests failed
sage -t --warn-long 52.8 src/sage/rings/polynomial/polynomial_complex_arb.pyx  # 2 doctests failed
```
Please someone go ahead. I can't work on this until end of June.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c8b1c7250b7a9cd2cca0660d3b5ee38f53bad89"><code>9c8b1c7</code></a></td><td><code>24927: version/chksum/rm patch</code></td></tr></table>




---

archive/issue_comments_379437.json:
```json
{
    "body": "Changed dependencies from **#24314, #24816, #24717, #24626** to none",
    "created_at": "2018-06-11T19:50:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379437",
    "user": "https://github.com/fchapoton"
}
```

Changed dependencies from **#24314, #24816, #24717, #24626** to none



---

archive/issue_comments_379438.json:
```json
{
    "body": "Changed branch from **[u/rws/upgrade_arb_to_2_13_0](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/upgrade_arb_to_2_13_0)** to **[public/24927](https://github.com/sagemath/sagetrac-mirror/tree/public/24927)**",
    "created_at": "2018-06-11T19:50:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379438",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/rws/upgrade_arb_to_2_13_0](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/upgrade_arb_to_2_13_0)** to **[public/24927](https://github.com/sagemath/sagetrac-mirror/tree/public/24927)**



---

archive/issue_comments_379439.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7c53b68289d42847f047a7753c3efc60525fb8b\"><code>f7c53b6</code></a></td><td><code>Merge branch 'u/rws/upgrade_arb_to_2_13_0' in 8.3.b5</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0845bcdc6125ea14d1fc05e6e21a2a2b02949f63\"><code>0845bcd</code></a></td><td><code>trying to fix arb doctests</code></td></tr></table>\n",
    "created_at": "2018-06-11T19:50:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379439",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:17"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7c53b68289d42847f047a7753c3efc60525fb8b"><code>f7c53b6</code></a></td><td><code>Merge branch 'u/rws/upgrade_arb_to_2_13_0' in 8.3.b5</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0845bcdc6125ea14d1fc05e6e21a2a2b02949f63"><code>0845bcd</code></a></td><td><code>trying to fix arb doctests</code></td></tr></table>




---

archive/issue_comments_379440.json:
```json
{
    "body": "Changed commit from **[`9c8b1c7`](https://github.com/sagemath/sagetrac-mirror/commit/9c8b1c7250b7a9cd2cca0660d3b5ee38f53bad89)** to **[`0845bcd`](https://github.com/sagemath/sagetrac-mirror/commit/0845bcdc6125ea14d1fc05e6e21a2a2b02949f63)**",
    "created_at": "2018-06-11T19:50:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379440",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`9c8b1c7`](https://github.com/sagemath/sagetrac-mirror/commit/9c8b1c7250b7a9cd2cca0660d3b5ee38f53bad89)** to **[`0845bcd`](https://github.com/sagemath/sagetrac-mirror/commit/0845bcdc6125ea14d1fc05e6e21a2a2b02949f63)**



---

archive/issue_comments_379441.json:
```json
{
    "body": "Changed commit from **[`0845bcd`](https://github.com/sagemath/sagetrac-mirror/commit/0845bcdc6125ea14d1fc05e6e21a2a2b02949f63)** to **[`50ac79a`](https://github.com/sagemath/sagetrac-mirror/commit/50ac79a14624a50103379478e9fcfb214710596f)**",
    "created_at": "2018-06-11T20:12:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379441",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0845bcd`](https://github.com/sagemath/sagetrac-mirror/commit/0845bcdc6125ea14d1fc05e6e21a2a2b02949f63)** to **[`50ac79a`](https://github.com/sagemath/sagetrac-mirror/commit/50ac79a14624a50103379478e9fcfb214710596f)**



---

archive/issue_comments_379442.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50ac79a14624a50103379478e9fcfb214710596f\"><code>50ac79a</code></a></td><td><code>try to fix arb CBF doctests</code></td></tr></table>\n",
    "created_at": "2018-06-11T20:12:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379442",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50ac79a14624a50103379478e9fcfb214710596f"><code>50ac79a</code></a></td><td><code>try to fix arb CBF doctests</code></td></tr></table>




---

archive/issue_comments_379443.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nOne of the remaining doctest failures come from the following.\n\nThere is a regression, before:\n\n```\nsage: sin(1/RBF(0))*0\n0\n```\nafter:\n\n```\nsage: sin(1/RBF(0))*0\nnan\n```",
    "created_at": "2018-06-11T20:23:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379443",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:19" align="right">comment:19</div>

One of the remaining doctest failures come from the following.

There is a regression, before:

```
sage: sin(1/RBF(0))*0
0
```
after:

```
sage: sin(1/RBF(0))*0
nan
```



---

archive/issue_comments_379444.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@fchapoton](#comment:19):\n> \n> ```\n> sage: sin(1/RBF(0))*0\n> nan\n> ```\n\nThat's because of\n\n```\nsage: 1/RBF(0)\nnan\n```\nwhich was infinite before.",
    "created_at": "2018-06-12T05:26:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379444",
    "user": "https://github.com/rwst"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@fchapoton](#comment:19):
> 
> ```
> sage: sin(1/RBF(0))*0
> nan
> ```

That's because of

```
sage: 1/RBF(0)
nan
```
which was infinite before.



---

archive/issue_comments_379445.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nIndeed. But what is the semantic of \"nan\" ? Should we expect `sin(nan)` to be `[+/- 1]` ?",
    "created_at": "2018-06-12T07:31:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379445",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:21" align="right">comment:21</div>

Indeed. But what is the semantic of "nan" ? Should we expect `sin(nan)` to be `[+/- 1]` ?



---

archive/issue_comments_379446.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@fchapoton](#comment:21):\n> Indeed. But what is the semantic of \"nan\" ?\n\nhttp://arblib.org/arb.html\n\n> Should we expect `sin(nan)` to be `[+/- 1]` ?\n\nNo. And I think that's more or less the point of the change: sin(1/x) \u2208 [-1,1] for all real x close to zero, but returning a finite ball could give the impression that sin(1/x) is analytic at zero (since, for complex balls, finite result \u21d2 analytic).\n\nIn any case, the resulting enclosure is correct (if coarser than before), and if upstream decided to make that change, I think we should follow along.",
    "created_at": "2018-06-12T08:02:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379446",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@fchapoton](#comment:21):
> Indeed. But what is the semantic of "nan" ?

http://arblib.org/arb.html

> Should we expect `sin(nan)` to be `[+/- 1]` ?

No. And I think that's more or less the point of the change: sin(1/x) ∈ [-1,1] for all real x close to zero, but returning a finite ball could give the impression that sin(1/x) is analytic at zero (since, for complex balls, finite result ⇒ analytic).

In any case, the resulting enclosure is correct (if coarser than before), and if upstream decided to make that change, I think we should follow along.



---

archive/issue_comments_379447.json:
```json
{
    "body": "Changed commit from **[`50ac79a`](https://github.com/sagemath/sagetrac-mirror/commit/50ac79a14624a50103379478e9fcfb214710596f)** to **[`2662caf`](https://github.com/sagemath/sagetrac-mirror/commit/2662caf487050118cd300fb6b8c5c17453bc0e36)**",
    "created_at": "2018-06-12T19:40:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379447",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`50ac79a`](https://github.com/sagemath/sagetrac-mirror/commit/50ac79a14624a50103379478e9fcfb214710596f)** to **[`2662caf`](https://github.com/sagemath/sagetrac-mirror/commit/2662caf487050118cd300fb6b8c5c17453bc0e36)**



---

archive/issue_comments_379448.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2662caf487050118cd300fb6b8c5c17453bc0e36\"><code>2662caf</code></a></td><td><code>fixing doctests of oscillating integral of x sin(1/x)</code></td></tr></table>\n",
    "created_at": "2018-06-12T19:40:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379448",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2662caf487050118cd300fb6b8c5c17453bc0e36"><code>2662caf</code></a></td><td><code>fixing doctests of oscillating integral of x sin(1/x)</code></td></tr></table>




---

archive/issue_comments_379449.json:
```json
{
    "body": "Changed commit from **[`2662caf`](https://github.com/sagemath/sagetrac-mirror/commit/2662caf487050118cd300fb6b8c5c17453bc0e36)** to **[`ba31bd5`](https://github.com/sagemath/sagetrac-mirror/commit/ba31bd51a1338dc2938a8d60d95fb6d10a7acee3)**",
    "created_at": "2018-06-12T19:54:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379449",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2662caf`](https://github.com/sagemath/sagetrac-mirror/commit/2662caf487050118cd300fb6b8c5c17453bc0e36)** to **[`ba31bd5`](https://github.com/sagemath/sagetrac-mirror/commit/ba31bd51a1338dc2938a8d60d95fb6d10a7acee3)**



---

archive/issue_comments_379450.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba31bd51a1338dc2938a8d60d95fb6d10a7acee3\"><code>ba31bd5</code></a></td><td><code>fix doctests in real_arb by removing extended_line</code></td></tr></table>\n",
    "created_at": "2018-06-12T19:54:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379450",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba31bd51a1338dc2938a8d60d95fb6d10a7acee3"><code>ba31bd5</code></a></td><td><code>fix doctests in real_arb by removing extended_line</code></td></tr></table>




---

archive/issue_comments_379451.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI may have made some controversial changes.. please tell me.",
    "created_at": "2018-06-12T19:54:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379451",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:25" align="right">comment:25</div>

I may have made some controversial changes.. please tell me.



---

archive/issue_events_341908.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-12T19:54:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24927#event-341908"
}
```



---

archive/issue_comments_379452.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@fchapoton](#comment:21):\n> Indeed. But what is the semantic of \"nan\" ? Should we expect `sin(nan)` to be `[+/- 1]` ?\n\nFWIW, `nan`/`NaN` always leads to collapse of the expression tree.",
    "created_at": "2018-06-13T07:02:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379452",
    "user": "https://github.com/rwst"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@fchapoton](#comment:21):
> Indeed. But what is the semantic of "nan" ? Should we expect `sin(nan)` to be `[+/- 1]` ?

FWIW, `nan`/`NaN` always leads to collapse of the expression tree.



---

archive/issue_comments_379453.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a65a1580ccfe9c8599303ac285742d191ac3d30\"><code>8a65a15</code></a></td><td><code>Revert \"fix doctests in real_arb by removing extended_line\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33186762d670825068722a44c6212002f98a9ccd\"><code>3318676</code></a></td><td><code>#24927 improve or fix some of Fr\u00e9d\u00e9ric's doctest fixes</code></td></tr></table>\n",
    "created_at": "2018-06-14T13:10:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379453",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a65a1580ccfe9c8599303ac285742d191ac3d30"><code>8a65a15</code></a></td><td><code>Revert "fix doctests in real_arb by removing extended_line"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33186762d670825068722a44c6212002f98a9ccd"><code>3318676</code></a></td><td><code>#24927 improve or fix some of Frédéric's doctest fixes</code></td></tr></table>




---

archive/issue_comments_379454.json:
```json
{
    "body": "Changed commit from **[`ba31bd5`](https://github.com/sagemath/sagetrac-mirror/commit/ba31bd51a1338dc2938a8d60d95fb6d10a7acee3)** to **[`3318676`](https://github.com/sagemath/sagetrac-mirror/commit/33186762d670825068722a44c6212002f98a9ccd)**",
    "created_at": "2018-06-14T13:10:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379454",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ba31bd5`](https://github.com/sagemath/sagetrac-mirror/commit/ba31bd51a1338dc2938a8d60d95fb6d10a7acee3)** to **[`3318676`](https://github.com/sagemath/sagetrac-mirror/commit/33186762d670825068722a44c6212002f98a9ccd)**



---

archive/issue_comments_379455.json:
```json
{
    "body": "Changed commit from **[`3318676`](https://github.com/sagemath/sagetrac-mirror/commit/33186762d670825068722a44c6212002f98a9ccd)** to **[`b29c096`](https://github.com/sagemath/sagetrac-mirror/commit/b29c09685f032ac2874f083f4fe70516464f5be7)**",
    "created_at": "2018-06-14T13:33:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379455",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3318676`](https://github.com/sagemath/sagetrac-mirror/commit/33186762d670825068722a44c6212002f98a9ccd)** to **[`b29c096`](https://github.com/sagemath/sagetrac-mirror/commit/b29c09685f032ac2874f083f4fe70516464f5be7)**



---

archive/issue_comments_379456.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b29c09685f032ac2874f083f4fe70516464f5be7\"><code>b29c096</code></a></td><td><code>#24927 remove old workaround, add a new one...</code></td></tr></table>\n",
    "created_at": "2018-06-14T13:33:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379456",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b29c09685f032ac2874f083f4fe70516464f5be7"><code>b29c096</code></a></td><td><code>#24927 remove old workaround, add a new one...</code></td></tr></table>




---

archive/issue_events_341909.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-06-14T13:44:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24927#event-341909"
}
```



---

archive/issue_events_341910.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-06-14T13:44:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24927#event-341910"
}
```



---

archive/issue_comments_379457.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@videlec](#comment:6):\n> And this is annoying\n> \n> ```\n> sage: RBF([-infinity,infinity])\n> nan\n> ```\n\nI don't think this is a new issue, but I took the occasion to fix it.",
    "created_at": "2018-06-14T13:44:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379457",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@videlec](#comment:6):
> And this is annoying
> 
> ```
> sage: RBF([-infinity,infinity])
> nan
> ```

I don't think this is a new issue, but I took the occasion to fix it.



---

archive/issue_comments_379458.json:
```json
{
    "body": "Author: **Ralf Stephan, Fr\u00e9d\u00e9ric Chapoton, Marc Mezzarobba**",
    "created_at": "2018-06-14T13:44:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379458",
    "user": "https://github.com/mezzarobba"
}
```

Author: **Ralf Stephan, Frédéric Chapoton, Marc Mezzarobba**



---

archive/issue_comments_379459.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\n`make ptestlong` gives me two failures:\n\n```\nFile \"src/sage/functions/other.py\", line 1418, in sage.functions.other.Function_factorial._eval_\nFailed example:\n    factorial(RBF(2)**64)\nExpected:\n    [+/- 2.30e+347382171305201370464]\nGot:\n    [+/- 2.30e+347382171326740403407]\n\nFile \"src/sage/matrix/matrix_complex_ball_dense.pyx\", line 637, in sage.matrix.matrix_complex_ball_dense.Matrix_complex_ball_dense.charpoly\nFailed example:\n    mat.charpoly(algorithm=\"hessenberg\")\nExpected:\n    x^5 + ([-1.8 +/- 0.0445])*x^4 + ([0.3 +/- 0.0833])*x^3\n    + ([+/- 0.0164])*x^2 + ([+/- 6.01e-4])*x + [+/- 6.97e-6]\nGot:\n    x^5 + ([-1.8 +/- 0.0445])*x^4 + ([0.3 +/- 0.0828])*x^3 + ([+/- 0.0163])*x^2 + ([+/- 5.95e-4])*x + [+/- 6.83e-6]\n```\n\nIn the first one, using Stirling's formula confirms the regression:\n\n```\nsage: (log(sqrt(2*pi*2^64),10) + log(2^64/e,10)*2^64).n()\n3.47382171305201e20\n```",
    "created_at": "2018-06-15T06:40:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379459",
    "user": "https://github.com/rwst"
}
```

<div id="comment:30" align="right">comment:30</div>

`make ptestlong` gives me two failures:

```
File "src/sage/functions/other.py", line 1418, in sage.functions.other.Function_factorial._eval_
Failed example:
    factorial(RBF(2)**64)
Expected:
    [+/- 2.30e+347382171305201370464]
Got:
    [+/- 2.30e+347382171326740403407]

File "src/sage/matrix/matrix_complex_ball_dense.pyx", line 637, in sage.matrix.matrix_complex_ball_dense.Matrix_complex_ball_dense.charpoly
Failed example:
    mat.charpoly(algorithm="hessenberg")
Expected:
    x^5 + ([-1.8 +/- 0.0445])*x^4 + ([0.3 +/- 0.0833])*x^3
    + ([+/- 0.0164])*x^2 + ([+/- 6.01e-4])*x + [+/- 6.97e-6]
Got:
    x^5 + ([-1.8 +/- 0.0445])*x^4 + ([0.3 +/- 0.0828])*x^3 + ([+/- 0.0163])*x^2 + ([+/- 5.95e-4])*x + [+/- 6.83e-6]
```

In the first one, using Stirling's formula confirms the regression:

```
sage: (log(sqrt(2*pi*2^64),10) + log(2^64/e,10)*2^64).n()
3.47382171305201e20
```



---

archive/issue_comments_379460.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nIf you mark the first test above \"known bug\", and fix the second then it's positive review from me.",
    "created_at": "2018-06-15T13:19:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379460",
    "user": "https://github.com/rwst"
}
```

<div id="comment:31" align="right">comment:31</div>

If you mark the first test above "known bug", and fix the second then it's positive review from me.



---

archive/issue_comments_379461.json:
```json
{
    "body": "Reviewer: **Ralf Stephan**",
    "created_at": "2018-06-15T13:19:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379461",
    "user": "https://github.com/rwst"
}
```

Reviewer: **Ralf Stephan**



---

archive/issue_comments_379462.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@rwst](#comment:31):\n> If you mark the first test above \"known bug\", and fix the second then it's positive review from me.\n\nIt is not a bug, even if the enclosure is a bit less tight as it used to... I think we should just change the expected output.",
    "created_at": "2018-06-16T08:56:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379462",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@rwst](#comment:31):
> If you mark the first test above "known bug", and fix the second then it's positive review from me.

It is not a bug, even if the enclosure is a bit less tight as it used to... I think we should just change the expected output.



---

archive/issue_comments_379463.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bebabb48df4c288e4874aac3f3aa6cec77265d08\"><code>bebabb4</code></a></td><td><code>trac 24927 fixing 2 doctests (one is tagged known bug)</code></td></tr></table>\n",
    "created_at": "2018-06-16T09:29:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379463",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bebabb48df4c288e4874aac3f3aa6cec77265d08"><code>bebabb4</code></a></td><td><code>trac 24927 fixing 2 doctests (one is tagged known bug)</code></td></tr></table>




---

archive/issue_comments_379464.json:
```json
{
    "body": "Changed commit from **[`b29c096`](https://github.com/sagemath/sagetrac-mirror/commit/b29c09685f032ac2874f083f4fe70516464f5be7)** to **[`bebabb4`](https://github.com/sagemath/sagetrac-mirror/commit/bebabb48df4c288e4874aac3f3aa6cec77265d08)**",
    "created_at": "2018-06-16T09:29:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379464",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b29c096`](https://github.com/sagemath/sagetrac-mirror/commit/b29c09685f032ac2874f083f4fe70516464f5be7)** to **[`bebabb4`](https://github.com/sagemath/sagetrac-mirror/commit/bebabb48df4c288e4874aac3f3aa6cec77265d08)**



---

archive/issue_comments_379465.json:
```json
{
    "body": "Changed commit from **[`bebabb4`](https://github.com/sagemath/sagetrac-mirror/commit/bebabb48df4c288e4874aac3f3aa6cec77265d08)** to **[`e0e3c06`](https://github.com/sagemath/sagetrac-mirror/commit/e0e3c06f561515d83b0c8803639f26efa4f5bf11)**",
    "created_at": "2018-06-16T09:31:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379465",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bebabb4`](https://github.com/sagemath/sagetrac-mirror/commit/bebabb48df4c288e4874aac3f3aa6cec77265d08)** to **[`e0e3c06`](https://github.com/sagemath/sagetrac-mirror/commit/e0e3c06f561515d83b0c8803639f26efa4f5bf11)**



---

archive/issue_comments_379466.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e0e3c06f561515d83b0c8803639f26efa4f5bf11\"><code>e0e3c06</code></a></td><td><code>change one doctest result</code></td></tr></table>\n",
    "created_at": "2018-06-16T09:31:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379466",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e0e3c06f561515d83b0c8803639f26efa4f5bf11"><code>e0e3c06</code></a></td><td><code>change one doctest result</code></td></tr></table>




---

archive/issue_comments_379467.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@mezzarobba](#comment:32):\n> Replying to [@rwst](#comment:31):\n> > If you mark the first test above \"known bug\", and fix the second then it's positive review from me.\n\n> \n> It is not a bug, even if the enclosure is a bit less tight as it used to... I think we should just change the expected output.\n\nok, I just did that",
    "created_at": "2018-06-16T09:31:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379467",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@mezzarobba](#comment:32):
> Replying to [@rwst](#comment:31):
> > If you mark the first test above "known bug", and fix the second then it's positive review from me.

> 
> It is not a bug, even if the enclosure is a bit less tight as it used to... I think we should just change the expected output.

ok, I just did that



---

archive/issue_comments_379468.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nThanks.",
    "created_at": "2018-06-16T12:53:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379468",
    "user": "https://github.com/rwst"
}
```

<div id="comment:36" align="right">comment:36</div>

Thanks.



---

archive/issue_events_341911.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-06-16T12:53:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24927#event-341911"
}
```



---

archive/issue_events_341912.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-06-16T12:53:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24927#event-341912"
}
```



---

archive/issue_events_341913.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-19T22:11:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24927#event-341913"
}
```



---

archive/issue_events_341914.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3616a1e1292e27a66bbd0b4ee7e6cd8a66e94159",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-06-19T22:11:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24927#event-341914"
}
```



---

archive/issue_comments_379469.json:
```json
{
    "body": "Changed branch from **[public/24927](https://github.com/sagemath/sagetrac-mirror/tree/public/24927)** to **[`e0e3c06`](https://github.com/sagemath/sagetrac-mirror/commit/e0e3c06f561515d83b0c8803639f26efa4f5bf11)**",
    "created_at": "2018-06-19T22:11:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24927#issuecomment-379469",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/24927](https://github.com/sagemath/sagetrac-mirror/tree/public/24927)** to **[`e0e3c06`](https://github.com/sagemath/sagetrac-mirror/commit/e0e3c06f561515d83b0c8803639f26efa4f5bf11)**
