# Issue 24086: Atkin-Lehner normalisation issue

archive/issues_023849.json:
```json
{
    "body": "This ticket is a follow-up to #18061, concerning Atkin--Lehner actions.\n\nFirstly, with that ticket the Atkin--Lehner action is only implemented in a certain subset of cases. It would be nice if we could compute the pseudo-eigenvalues for any newform.\n\nSecondly, there is a normalisation discrepancy: according to the docstring of `sage.modular.modform.element.ModularForm_abstract.atkin_lehner_action`, our conventions are supposed to be that the pseudo-eigenvalues of the Atkin--Lehner operator W_d should have absolute value d<sup>k/2</sup> - 1. However, it doesn't seem that this convention is being enforced very consistently:\n\n```\nsage: f = Newforms(24, 4)[0]\nsage: f\nq + 3*q^3 + 14*q^5 + O(q^6)\nsage: f.atkin_lehner_eigenvalue(8)\n-1\nsage: f.atkin_lehner_eigenvalue(3)\n-3\n```\n\n**Keywords:** atkin-lehner\n\n**Branch/Commit:** [51266f9edad6cb7979cfe4023f1e86f012aa7fbe](https://github.com/sagemath/sagetrac-mirror/commit/51266f9edad6cb7979cfe4023f1e86f012aa7fbe)\n\n**Reviewer:** Aly Deines, Fr\u00e9d\u00e9ric Chapoton\n\n**Author:** David Loeffler\n\nIssue created by migration from https://trac.sagemath.org/ticket/24086\n\n",
    "closed_at": "2018-05-20T22:55:28Z",
    "created_at": "2017-10-22T12:17:59Z",
    "labels": [
        "component: modular forms",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "title": "Atkin-Lehner normalisation issue",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/24086",
    "user": "https://github.com/loefflerd"
}
```
This ticket is a follow-up to #18061, concerning Atkin--Lehner actions.

Firstly, with that ticket the Atkin--Lehner action is only implemented in a certain subset of cases. It would be nice if we could compute the pseudo-eigenvalues for any newform.

Secondly, there is a normalisation discrepancy: according to the docstring of `sage.modular.modform.element.ModularForm_abstract.atkin_lehner_action`, our conventions are supposed to be that the pseudo-eigenvalues of the Atkin--Lehner operator W_d should have absolute value d<sup>k/2</sup> - 1. However, it doesn't seem that this convention is being enforced very consistently:

```
sage: f = Newforms(24, 4)[0]
sage: f
q + 3*q^3 + 14*q^5 + O(q^6)
sage: f.atkin_lehner_eigenvalue(8)
-1
sage: f.atkin_lehner_eigenvalue(3)
-3
```

**Keywords:** atkin-lehner

**Branch/Commit:** [51266f9edad6cb7979cfe4023f1e86f012aa7fbe](https://github.com/sagemath/sagetrac-mirror/commit/51266f9edad6cb7979cfe4023f1e86f012aa7fbe)

**Reviewer:** Aly Deines, Frédéric Chapoton

**Author:** David Loeffler

Issue created by migration from https://trac.sagemath.org/ticket/24086





---

archive/issue_comments_366634.json:
```json
{
    "body": "**Branch:** [u/davidloeffler/atkin_lehner_normalisation_issue](https://github.com/sagemath/sagetrac-mirror/tree/u/davidloeffler/atkin_lehner_normalisation_issue)",
    "created_at": "2017-10-23T14:27:08Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366634",
    "user": "https://github.com/loefflerd"
}
```

**Branch:** [u/davidloeffler/atkin_lehner_normalisation_issue](https://github.com/sagemath/sagetrac-mirror/tree/u/davidloeffler/atkin_lehner_normalisation_issue)



---

archive/issue_comments_366635.json:
```json
{
    "body": "**Commit:** [955cb0651e9c0dfa9d9af60445fdb513aacf3ec8](https://github.com/sagemath/sagetrac-mirror/commit/955cb0651e9c0dfa9d9af60445fdb513aacf3ec8)",
    "created_at": "2017-10-23T14:33:41Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366635",
    "user": "https://github.com/loefflerd"
}
```

**Commit:** [955cb0651e9c0dfa9d9af60445fdb513aacf3ec8](https://github.com/sagemath/sagetrac-mirror/commit/955cb0651e9c0dfa9d9af60445fdb513aacf3ec8)



---

archive/issue_comments_366636.json:
```json
{
    "body": "**Author:** David Loeffler",
    "created_at": "2017-10-23T14:33:41Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366636",
    "user": "https://github.com/loefflerd"
}
```

**Author:** David Loeffler



---

archive/issue_events_214002.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2017-10-23T14:33:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214002"
}
```



---

archive/issue_comments_366637.json:
```json
{
    "body": "<a id='comment:2'></a>\nHere's a patch. As well as fixing the normalisation issue, I've readjusted our conventions to be more consistent with the standard reference (Atkin--Li 1978) -- the previous version was out by a root of unity in some cases -- and added some more examples and doctests.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/955cb0651e9c0dfa9d9af60445fdb513aacf3ec8\">955cb06</a></td><td><code>Trac 24086: fixed normalisations for Atkin-Lehner on modular symbols and added doctests</code></td></tr></table>\n",
    "created_at": "2017-10-23T14:33:41Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366637",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:2'></a>
Here's a patch. As well as fixing the normalisation issue, I've readjusted our conventions to be more consistent with the standard reference (Atkin--Li 1978) -- the previous version was out by a root of unity in some cases -- and added some more examples and doctests.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/955cb0651e9c0dfa9d9af60445fdb513aacf3ec8">955cb06</a></td><td><code>Trac 24086: fixed normalisations for Atkin-Lehner on modular symbols and added doctests</code></td></tr></table>




---

archive/issue_comments_366638.json:
```json
{
    "body": "**Reviewer:** Aly Deines",
    "created_at": "2017-10-23T20:45:18Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366638",
    "user": "https://github.com/adeines"
}
```

**Reviewer:** Aly Deines



---

archive/issue_events_214003.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2017-10-23T20:45:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214003"
}
```



---

archive/issue_events_214004.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2017-10-23T20:45:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214004"
}
```



---

archive/issue_comments_366639.json:
```json
{
    "body": "<a id='comment:3'></a>\nThis is a small thing, in src/sage/modular/modsym/ambient.py in documentation for the method _compute_atkin_lehner_matrix, there should be an example where the sign isn't 0 so that it hits the ValueError.\n\nThe rest looks good so far.",
    "created_at": "2017-10-23T20:45:18Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366639",
    "user": "https://github.com/adeines"
}
```

<a id='comment:3'></a>
This is a small thing, in src/sage/modular/modsym/ambient.py in documentation for the method _compute_atkin_lehner_matrix, there should be an example where the sign isn't 0 so that it hits the ValueError.

The rest looks good so far.



---

archive/issue_comments_366640.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e43ef83783690d17036de36e5fee4a350743e97e\">e43ef83</a></td><td><code>Trac 24086: added doctests</code></td></tr></table>\n",
    "created_at": "2017-10-24T08:28:09Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366640",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e43ef83783690d17036de36e5fee4a350743e97e">e43ef83</a></td><td><code>Trac 24086: added doctests</code></td></tr></table>




---

archive/issue_comments_366641.json:
```json
{
    "body": "**Changing commit** from \"[955cb0651e9c0dfa9d9af60445fdb513aacf3ec8](https://github.com/sagemath/sagetrac-mirror/commit/955cb0651e9c0dfa9d9af60445fdb513aacf3ec8)\" to \"[e43ef83783690d17036de36e5fee4a350743e97e](https://github.com/sagemath/sagetrac-mirror/commit/e43ef83783690d17036de36e5fee4a350743e97e)\".",
    "created_at": "2017-10-24T08:28:09Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366641",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[955cb0651e9c0dfa9d9af60445fdb513aacf3ec8](https://github.com/sagemath/sagetrac-mirror/commit/955cb0651e9c0dfa9d9af60445fdb513aacf3ec8)" to "[e43ef83783690d17036de36e5fee4a350743e97e](https://github.com/sagemath/sagetrac-mirror/commit/e43ef83783690d17036de36e5fee4a350743e97e)".



---

archive/issue_events_214005.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2017-10-24T08:29:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214005"
}
```



---

archive/issue_events_214006.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2017-10-24T08:29:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214006"
}
```



---

archive/issue_comments_366642.json:
```json
{
    "body": "<a id='comment:5'></a>\nGood point. I've added a doctest for this case (and another one for a GammaH level, since there weren't any of these before).",
    "created_at": "2017-10-24T08:29:49Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366642",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:5'></a>
Good point. I've added a doctest for this case (and another one for a GammaH level, since there weren't any of these before).



---

archive/issue_comments_366643.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ce990cb3c536cb6990ea8c025ab53602867c101\">8ce990c</a></td><td><code>Fixed ReST formatting</code></td></tr></table>\n",
    "created_at": "2017-10-24T09:01:18Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366643",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ce990cb3c536cb6990ea8c025ab53602867c101">8ce990c</a></td><td><code>Fixed ReST formatting</code></td></tr></table>




---

archive/issue_comments_366644.json:
```json
{
    "body": "**Changing commit** from \"[e43ef83783690d17036de36e5fee4a350743e97e](https://github.com/sagemath/sagetrac-mirror/commit/e43ef83783690d17036de36e5fee4a350743e97e)\" to \"[8ce990cb3c536cb6990ea8c025ab53602867c101](https://github.com/sagemath/sagetrac-mirror/commit/8ce990cb3c536cb6990ea8c025ab53602867c101)\".",
    "created_at": "2017-10-24T09:01:18Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366644",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e43ef83783690d17036de36e5fee4a350743e97e](https://github.com/sagemath/sagetrac-mirror/commit/e43ef83783690d17036de36e5fee4a350743e97e)" to "[8ce990cb3c536cb6990ea8c025ab53602867c101](https://github.com/sagemath/sagetrac-mirror/commit/8ce990cb3c536cb6990ea8c025ab53602867c101)".



---

archive/issue_comments_366645.json:
```json
{
    "body": "<a id='comment:7'></a>\nThe last commit is just a tiny ReST formatting fix (to correct an error picked up by the patchbot)",
    "created_at": "2017-10-24T09:02:45Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366645",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:7'></a>
The last commit is just a tiny ReST formatting fix (to correct an error picked up by the patchbot)



---

archive/issue_comments_366646.json:
```json
{
    "body": "<a id='comment:8'></a>\nHold it, there's a doctest failing.",
    "created_at": "2017-10-24T09:55:55Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366646",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:8'></a>
Hold it, there's a doctest failing.



---

archive/issue_events_214007.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2017-10-24T09:55:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214007"
}
```



---

archive/issue_events_214008.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2017-10-24T09:55:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214008"
}
```



---

archive/issue_comments_366647.json:
```json
{
    "body": "**Changing commit** from \"[8ce990cb3c536cb6990ea8c025ab53602867c101](https://github.com/sagemath/sagetrac-mirror/commit/8ce990cb3c536cb6990ea8c025ab53602867c101)\" to \"[ea1b4e6d1b367ebb5831d1f9cdd217cc7f65ab20](https://github.com/sagemath/sagetrac-mirror/commit/ea1b4e6d1b367ebb5831d1f9cdd217cc7f65ab20)\".",
    "created_at": "2017-10-24T15:00:44Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366647",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8ce990cb3c536cb6990ea8c025ab53602867c101](https://github.com/sagemath/sagetrac-mirror/commit/8ce990cb3c536cb6990ea8c025ab53602867c101)" to "[ea1b4e6d1b367ebb5831d1f9cdd217cc7f65ab20](https://github.com/sagemath/sagetrac-mirror/commit/ea1b4e6d1b367ebb5831d1f9cdd217cc7f65ab20)".



---

archive/issue_comments_366648.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea1b4e6d1b367ebb5831d1f9cdd217cc7f65ab20\">ea1b4e6</a></td><td><code>Fixed a broken doctest from trac 18061.</code></td></tr></table>\n",
    "created_at": "2017-10-24T15:00:44Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366648",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea1b4e6d1b367ebb5831d1f9cdd217cc7f65ab20">ea1b4e6</a></td><td><code>Fixed a broken doctest from trac 18061.</code></td></tr></table>




---

archive/issue_events_214009.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2017-10-24T15:09:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214009"
}
```



---

archive/issue_events_214010.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2017-10-24T15:09:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214010"
}
```



---

archive/issue_comments_366649.json:
```json
{
    "body": "<a id='comment:10'></a>\nThat was embarrassing: I broke the test case from #18061 (which I reported initially -- oops!). This was an issue with determining when the AL eigenvalue exists in `atkin_lehner_eigenvalue` -- we need to determine when it doesn't exist, and raise an error in that case, without needing to fix the choices of embedding needed for more general pseudo-eigenvalues. (I also adjusted the test case to make it run quicker, and removed the ` #\u00a0long time` flag.)\n\nI've also moved `atkin_lehner_action` out of the abstract modular form element class into the Newform class; eigenvalues make sense for any form, but pseudo-eigenvalues only for newforms.",
    "created_at": "2017-10-24T15:09:21Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366649",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:10'></a>
That was embarrassing: I broke the test case from #18061 (which I reported initially -- oops!). This was an issue with determining when the AL eigenvalue exists in `atkin_lehner_eigenvalue` -- we need to determine when it doesn't exist, and raise an error in that case, without needing to fix the choices of embedding needed for more general pseudo-eigenvalues. (I also adjusted the test case to make it run quicker, and removed the ` # long time` flag.)

I've also moved `atkin_lehner_action` out of the abstract modular form element class into the Newform class; eigenvalues make sense for any form, but pseudo-eigenvalues only for newforms.



---

archive/issue_comments_366650.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8ef6a387af622ec5e9f028aaa5c9318690f5ae8\">d8ef6a3</a></td><td><code>Keep patchbot blocks check happy!</code></td></tr></table>\n",
    "created_at": "2017-10-24T20:40:06Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366650",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8ef6a387af622ec5e9f028aaa5c9318690f5ae8">d8ef6a3</a></td><td><code>Keep patchbot blocks check happy!</code></td></tr></table>




---

archive/issue_comments_366651.json:
```json
{
    "body": "**Changing commit** from \"[ea1b4e6d1b367ebb5831d1f9cdd217cc7f65ab20](https://github.com/sagemath/sagetrac-mirror/commit/ea1b4e6d1b367ebb5831d1f9cdd217cc7f65ab20)\" to \"[d8ef6a387af622ec5e9f028aaa5c9318690f5ae8](https://github.com/sagemath/sagetrac-mirror/commit/d8ef6a387af622ec5e9f028aaa5c9318690f5ae8)\".",
    "created_at": "2017-10-24T20:40:06Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366651",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ea1b4e6d1b367ebb5831d1f9cdd217cc7f65ab20](https://github.com/sagemath/sagetrac-mirror/commit/ea1b4e6d1b367ebb5831d1f9cdd217cc7f65ab20)" to "[d8ef6a387af622ec5e9f028aaa5c9318690f5ae8](https://github.com/sagemath/sagetrac-mirror/commit/d8ef6a387af622ec5e9f028aaa5c9318690f5ae8)".



---

archive/issue_comments_366652.json:
```json
{
    "body": "**Changing branch** from \"[u/davidloeffler/atkin_lehner_normalisation_issue](https://github.com/sagemath/sagetrac-mirror/tree/u/davidloeffler/atkin_lehner_normalisation_issue)\" to \"[public/24086_better](https://github.com/sagemath/sagetrac-mirror/tree/public/24086_better)\".",
    "created_at": "2018-05-01T11:21:56Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366652",
    "user": "https://github.com/loefflerd"
}
```

**Changing branch** from "[u/davidloeffler/atkin_lehner_normalisation_issue](https://github.com/sagemath/sagetrac-mirror/tree/u/davidloeffler/atkin_lehner_normalisation_issue)" to "[public/24086_better](https://github.com/sagemath/sagetrac-mirror/tree/public/24086_better)".



---

archive/issue_comments_366653.json:
```json
{
    "body": "**Changing commit** from \"[d8ef6a387af622ec5e9f028aaa5c9318690f5ae8](https://github.com/sagemath/sagetrac-mirror/commit/d8ef6a387af622ec5e9f028aaa5c9318690f5ae8)\" to \"[2a58074c34bec782925f46c2e0d476e017fcf535](https://github.com/sagemath/sagetrac-mirror/commit/2a58074c34bec782925f46c2e0d476e017fcf535)\".",
    "created_at": "2018-05-01T11:25:49Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366653",
    "user": "https://github.com/loefflerd"
}
```

**Changing commit** from "[d8ef6a387af622ec5e9f028aaa5c9318690f5ae8](https://github.com/sagemath/sagetrac-mirror/commit/d8ef6a387af622ec5e9f028aaa5c9318690f5ae8)" to "[2a58074c34bec782925f46c2e0d476e017fcf535](https://github.com/sagemath/sagetrac-mirror/commit/2a58074c34bec782925f46c2e0d476e017fcf535)".



---

archive/issue_comments_366654.json:
```json
{
    "body": "<a id='comment:13'></a>\nI'm uploading a new, completely rewritten branch, which sorts out the normalisations so they're consistent with Atkin-Li, and also covers all the previously non-implemented cases using a trick based on twisting maps for modular symbols.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a58074c34bec782925f46c2e0d476e017fcf535\">2a58074</a></td><td><code>Trac 24086: Atkin--Lehner operators - now works for any character, + normalisations fixed</code></td></tr></table>\n",
    "created_at": "2018-05-01T11:25:49Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366654",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:13'></a>
I'm uploading a new, completely rewritten branch, which sorts out the normalisations so they're consistent with Atkin-Li, and also covers all the previously non-implemented cases using a trick based on twisting maps for modular symbols.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a58074c34bec782925f46c2e0d476e017fcf535">2a58074</a></td><td><code>Trac 24086: Atkin--Lehner operators - now works for any character, + normalisations fixed</code></td></tr></table>




---

archive/issue_comments_366655.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,8 @@\n This ticket is a follow-up to #18061, concerning Atkin--Lehner actions.\n \n-According to the docstring of `sage.modular.modform.element.ModularForm_abstract.atkin_lehner_action`, our conventions are supposed to be that the pseudo-eigenvalues of the Atkin--Lehner operator W_d should have absolute value d<sup>k/2</sup> - 1. However, it doesn't seem that this convention is being enforced very consistently:\n+Firstly, with that ticket the Atkin--Lehner action is only implemented in a certain subset of cases. It would be nice if we could compute the pseudo-eigenvalues for any newform.\n+\n+Secondly, there is a normalisation discrepancy: according to the docstring of `sage.modular.modform.element.ModularForm_abstract.atkin_lehner_action`, our conventions are supposed to be that the pseudo-eigenvalues of the Atkin--Lehner operator W_d should have absolute value d<sup>k/2</sup> - 1. However, it doesn't seem that this convention is being enforced very consistently:\n \n ```\n sage: f = Newforms(24, 4)[0]\n@@ -11,12 +13,3 @@\n sage: f.atkin_lehner_eigenvalue(3)\n -3\n ```\n-\n-The problem seems to be this:\n-\n-```\n-sage: f._atkin_lehner_action_from_qexp(3)\n-(-3, q + 3*q^3 + 14*q^5 + O(q^6))\n-sage: f._atkin_lehner_action_from_modsym(3)\n-(-1, q + 3*q^3 + 14*q^5 + O(q^6))\n-```\n``````\n",
    "created_at": "2018-05-01T11:25:49Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366655",
    "user": "https://github.com/loefflerd"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,8 @@
 This ticket is a follow-up to #18061, concerning Atkin--Lehner actions.
 
-According to the docstring of `sage.modular.modform.element.ModularForm_abstract.atkin_lehner_action`, our conventions are supposed to be that the pseudo-eigenvalues of the Atkin--Lehner operator W_d should have absolute value d<sup>k/2</sup> - 1. However, it doesn't seem that this convention is being enforced very consistently:
+Firstly, with that ticket the Atkin--Lehner action is only implemented in a certain subset of cases. It would be nice if we could compute the pseudo-eigenvalues for any newform.
+
+Secondly, there is a normalisation discrepancy: according to the docstring of `sage.modular.modform.element.ModularForm_abstract.atkin_lehner_action`, our conventions are supposed to be that the pseudo-eigenvalues of the Atkin--Lehner operator W_d should have absolute value d<sup>k/2</sup> - 1. However, it doesn't seem that this convention is being enforced very consistently:
 
 ```
 sage: f = Newforms(24, 4)[0]
@@ -11,12 +13,3 @@
 sage: f.atkin_lehner_eigenvalue(3)
 -3
 ```
-
-The problem seems to be this:
-
-```
-sage: f._atkin_lehner_action_from_qexp(3)
-(-3, q + 3*q^3 + 14*q^5 + O(q^6))
-sage: f._atkin_lehner_action_from_modsym(3)
-(-1, q + 3*q^3 + 14*q^5 + O(q^6))
-```
``````




---

archive/issue_events_214011.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-05-05T07:20:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214011"
}
```



---

archive/issue_events_214012.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-05-05T07:20:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214012"
}
```



---

archive/issue_events_214013.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-05-05T07:20:46Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214013"
}
```



---

archive/issue_events_214014.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-05-05T07:20:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214014"
}
```



---

archive/issue_comments_366656.json:
```json
{
    "body": "<a id='comment:14'></a>\n2 failing doctests in \n\n```\nsage -t --long src/sage/modular/abvar/lseries.py \n```\nbecause of precision issues in L functions",
    "created_at": "2018-05-05T07:20:46Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366656",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
2 failing doctests in 

```
sage -t --long src/sage/modular/abvar/lseries.py 
```
because of precision issues in L functions



---

archive/issue_comments_366657.json:
```json
{
    "body": "**Changing commit** from \"[2a58074c34bec782925f46c2e0d476e017fcf535](https://github.com/sagemath/sagetrac-mirror/commit/2a58074c34bec782925f46c2e0d476e017fcf535)\" to \"[76e72625179f18e9d0f95a8c05b37c84cc8b5118](https://github.com/sagemath/sagetrac-mirror/commit/76e72625179f18e9d0f95a8c05b37c84cc8b5118)\".",
    "created_at": "2018-05-07T17:53:52Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366657",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2a58074c34bec782925f46c2e0d476e017fcf535](https://github.com/sagemath/sagetrac-mirror/commit/2a58074c34bec782925f46c2e0d476e017fcf535)" to "[76e72625179f18e9d0f95a8c05b37c84cc8b5118](https://github.com/sagemath/sagetrac-mirror/commit/76e72625179f18e9d0f95a8c05b37c84cc8b5118)".



---

archive/issue_comments_366658.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76e72625179f18e9d0f95a8c05b37c84cc8b5118\">76e7262</a></td><td><code>Fix failing doctest in abvar/lseries.py</code></td></tr></table>\n",
    "created_at": "2018-05-07T17:53:52Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366658",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76e72625179f18e9d0f95a8c05b37c84cc8b5118">76e7262</a></td><td><code>Fix failing doctest in abvar/lseries.py</code></td></tr></table>




---

archive/issue_comments_366659.json:
```json
{
    "body": "<a id='comment:16'></a>\nThis is just harmless fuzz. The discrepancies are all in the last one or two decimal digits, and in the first example, the output from the new code was actually closer to the correct answer than the old one was. I've changed the doctest to be more noise-tolerant.",
    "created_at": "2018-05-07T17:57:24Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366659",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:16'></a>
This is just harmless fuzz. The discrepancies are all in the last one or two decimal digits, and in the first example, the output from the new code was actually closer to the correct answer than the old one was. I've changed the doctest to be more noise-tolerant.



---

archive/issue_events_214015.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2018-05-07T17:57:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214015"
}
```



---

archive/issue_events_214016.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2018-05-07T17:57:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214016"
}
```



---

archive/issue_events_214017.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-05-17T06:41:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214017"
}
```



---

archive/issue_events_214018.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-05-17T06:41:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214018"
}
```



---

archive/issue_comments_366660.json:
```json
{
    "body": "<a id='comment:18'></a>\nok, let it be. I cannot vouch for the math, but I will take your word for it.",
    "created_at": "2018-05-17T06:41:50Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366660",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'></a>
ok, let it be. I cannot vouch for the math, but I will take your word for it.



---

archive/issue_comments_366661.json:
```json
{
    "body": "**Changing reviewer** from \"Aly Deines\" to \"Aly Deines, Fr\u00e9d\u00e9ric chapoton\".",
    "created_at": "2018-05-17T06:41:50Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366661",
    "user": "https://github.com/fchapoton"
}
```

**Changing reviewer** from "Aly Deines" to "Aly Deines, Frédéric chapoton".



---

archive/issue_comments_366662.json:
```json
{
    "body": "<a id='comment:19'></a>\nMerge conflict\n\nAlso, Frederic's last name shoud probably be capitalized...",
    "created_at": "2018-05-17T18:38:29Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366662",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:19'></a>
Merge conflict

Also, Frederic's last name shoud probably be capitalized...



---

archive/issue_events_214019.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-17T18:38:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214019"
}
```



---

archive/issue_events_214020.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-17T18:38:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214020"
}
```



---

archive/issue_comments_366663.json:
```json
{
    "body": "**Changing reviewer** from \"Aly Deines, Fr\u00e9d\u00e9ric chapoton\" to \"Aly Deines, Fr\u00e9d\u00e9ric Chapoton\".",
    "created_at": "2018-05-17T18:39:17Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366663",
    "user": "https://github.com/fchapoton"
}
```

**Changing reviewer** from "Aly Deines, Frédéric chapoton" to "Aly Deines, Frédéric Chapoton".



---

archive/issue_comments_366664.json:
```json
{
    "body": "<a id='comment:20'></a>\nok, will wait for the next beta.",
    "created_at": "2018-05-17T18:39:17Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366664",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:20'></a>
ok, will wait for the next beta.



---

archive/issue_comments_366665.json:
```json
{
    "body": "<a id='comment:21'></a>\nThe conflict is from #23510 apparently.",
    "created_at": "2018-05-17T20:18:24Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366665",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:21'></a>
The conflict is from #23510 apparently.



---

archive/issue_comments_366666.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6756c1e25146d9c0791b63d0140cd12d7ada3e19\">6756c1e</a></td><td><code>Merge branch 'public/24086_better' in 8.3.b2</code></td></tr></table>\n",
    "created_at": "2018-05-19T06:52:19Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366666",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6756c1e25146d9c0791b63d0140cd12d7ada3e19">6756c1e</a></td><td><code>Merge branch 'public/24086_better' in 8.3.b2</code></td></tr></table>




---

archive/issue_comments_366667.json:
```json
{
    "body": "**Changing commit** from \"[76e72625179f18e9d0f95a8c05b37c84cc8b5118](https://github.com/sagemath/sagetrac-mirror/commit/76e72625179f18e9d0f95a8c05b37c84cc8b5118)\" to \"[6756c1e25146d9c0791b63d0140cd12d7ada3e19](https://github.com/sagemath/sagetrac-mirror/commit/6756c1e25146d9c0791b63d0140cd12d7ada3e19)\".",
    "created_at": "2018-05-19T06:52:19Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366667",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[76e72625179f18e9d0f95a8c05b37c84cc8b5118](https://github.com/sagemath/sagetrac-mirror/commit/76e72625179f18e9d0f95a8c05b37c84cc8b5118)" to "[6756c1e25146d9c0791b63d0140cd12d7ada3e19](https://github.com/sagemath/sagetrac-mirror/commit/6756c1e25146d9c0791b63d0140cd12d7ada3e19)".



---

archive/issue_comments_366668.json:
```json
{
    "body": "<a id='comment:23'></a>\nmerged, and set back to positive",
    "created_at": "2018-05-19T06:54:58Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366668",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:23'></a>
merged, and set back to positive



---

archive/issue_events_214021.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-05-19T06:54:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214021"
}
```



---

archive/issue_events_214022.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-05-19T06:54:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214022"
}
```



---

archive/issue_events_214023.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/git",
    "created_at": "2018-05-19T09:25:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214023"
}
```



---

archive/issue_events_214024.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/git",
    "created_at": "2018-05-19T09:25:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214024"
}
```



---

archive/issue_comments_366669.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/51266f9edad6cb7979cfe4023f1e86f012aa7fbe\">51266f9</a></td><td><code>Trac 24086: stamp out some fuzz accidentally re-introduced by auto-merge</code></td></tr></table>\n",
    "created_at": "2018-05-19T09:25:56Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366669",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/51266f9edad6cb7979cfe4023f1e86f012aa7fbe">51266f9</a></td><td><code>Trac 24086: stamp out some fuzz accidentally re-introduced by auto-merge</code></td></tr></table>




---

archive/issue_comments_366670.json:
```json
{
    "body": "**Changing commit** from \"[6756c1e25146d9c0791b63d0140cd12d7ada3e19](https://github.com/sagemath/sagetrac-mirror/commit/6756c1e25146d9c0791b63d0140cd12d7ada3e19)\" to \"[51266f9edad6cb7979cfe4023f1e86f012aa7fbe](https://github.com/sagemath/sagetrac-mirror/commit/51266f9edad6cb7979cfe4023f1e86f012aa7fbe)\".",
    "created_at": "2018-05-19T09:25:56Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366670",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6756c1e25146d9c0791b63d0140cd12d7ada3e19](https://github.com/sagemath/sagetrac-mirror/commit/6756c1e25146d9c0791b63d0140cd12d7ada3e19)" to "[51266f9edad6cb7979cfe4023f1e86f012aa7fbe](https://github.com/sagemath/sagetrac-mirror/commit/51266f9edad6cb7979cfe4023f1e86f012aa7fbe)".



---

archive/issue_events_214025.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2018-05-19T09:29:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214025"
}
```



---

archive/issue_events_214026.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2018-05-19T09:29:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214026"
}
```



---

archive/issue_comments_366671.json:
```json
{
    "body": "<a id='comment:25'></a>\nThe auto-merge algorithm isn't quite clever enough to avoid re-introducing some of the unneeded imports which were removed by #23510. I've pushed a tiny patch to get rid of them again. These changes were already reviewed as part of #23510 so I am setting this back to positive review.",
    "created_at": "2018-05-19T09:29:12Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366671",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:25'></a>
The auto-merge algorithm isn't quite clever enough to avoid re-introducing some of the unneeded imports which were removed by #23510. I've pushed a tiny patch to get rid of them again. These changes were already reviewed as part of #23510 so I am setting this back to positive review.



---

archive/issue_comments_366672.json:
```json
{
    "body": "**Changing branch** from \"[public/24086_better](https://github.com/sagemath/sagetrac-mirror/tree/public/24086_better)\" to \"[51266f9edad6cb7979cfe4023f1e86f012aa7fbe](https://github.com/sagemath/sagetrac-mirror/commit/51266f9edad6cb7979cfe4023f1e86f012aa7fbe)\".",
    "created_at": "2018-05-20T22:55:28Z",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24086#issuecomment-366672",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/24086_better](https://github.com/sagemath/sagetrac-mirror/tree/public/24086_better)" to "[51266f9edad6cb7979cfe4023f1e86f012aa7fbe](https://github.com/sagemath/sagetrac-mirror/commit/51266f9edad6cb7979cfe4023f1e86f012aa7fbe)".



---

archive/issue_events_214027.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-20T22:55:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214027"
}
```



---

archive/issue_events_214028.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "fb52758ba6fe3a6b73ade39e8474798e5dfb2cba",
    "created_at": "2018-05-20T22:55:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24086",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24086#event-214028"
}
```
