# Issue 24892: Relabelled non-crystallographic finite types should not have an ambient space (yet)

archive/issues_024655.json:
```json
{
    "assignees": [],
    "body": "Non-crystallographic finite types have an `ambient_space()` that returns `None`, indicating that Sage does not know how to construct it:\n\n```\nsage: CartanType(['I',5]).root_system().ambient_space() is None\nTrue\n```\nHowever, the relabelled finite types assume that it is not `None`, which results in an error:\n\n```\nsage: CartanType(['I',5]).relabel({1:0,2:1}).root_system().ambient_space()\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-3-0f9f382ffb1f> in <module>()\n----> 1 CartanType(['I',Integer(5)]).relabel({Integer(1):Integer(0),Integer(2):Integer(1)}).root_system().ambient_space()\n\n/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller.__call__ (build/cythonized/sage/misc/cachefunc.c:10785)()\n   2012                 return cache[k]\n   2013         except KeyError:\n-> 2014             w = self._instance_call(*args, **kwds)\n   2015             cache[k] = w\n   2016             return w\n\n/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller._instance_call (build/cythonized/sage/misc/cachefunc.c:10236)()\n   1888             True\n   1889         \"\"\"\n-> 1890         return self.f(self._instance, *args, **kwds)\n   1891 \n   1892     cdef fix_args_kwds(self, tuple args, dict kwds):\n\n/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/root_system.pyc in ambient_space(self, base_ring)\n    749         if not base_ring.has_coerce_map_from(AmbientSpace.smallest_base_ring(self.cartan_type())):\n    750             return None\n--> 751         return AmbientSpace(self, base_ring)\n    752 \n    753     def coambient_space(self, base_ring=QQ):\n\n/home/travis/sage-build/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()\n    328         \"\"\"\n    329         if cls.classcall is not None:\n--> 330             return cls.classcall(cls, *args, **kwds)\n    331         else:\n    332             # Fast version of type.__call__(cls, *args, **kwds)\n\n/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6246)()\n   1057                 return self.cache[k]\n   1058         except KeyError:\n-> 1059             w = self.f(*args, **kwds)\n   1060             self.cache[k] = w\n   1061             return w\n\n/home/travis/sage-build/local/lib/python2.7/site-packages/sage/structure/unique_representation.pyc in __classcall__(cls, *args, **options)\n   1019             True\n   1020         \"\"\"\n-> 1021         instance = typecall(cls, *args, **options)\n   1022         assert isinstance( instance, cls )\n   1023         if instance.__class__.__reduce__ == CachedRepresentation.__reduce__:\n\n/home/travis/sage-build/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2040)()\n    495             TypeError: Argument 'cls' has incorrect type (expected type, got classobj)\n    496     \"\"\"\n--> 497     return (<PyTypeObject*>type).tp_call(cls, args, kwds)\n    498 \n    499 # Class for timing::\n\n/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/ambient_space.pyc in __init__(self, root_system, base_ring, index_set)\n     89         self.root_system = root_system\n     90         if index_set is None:\n---> 91             index_set = tuple(range(0, self.dimension()))\n     92         CombinatorialFreeModule.__init__(self, base_ring,\n     93                                          index_set,\n\n/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/type_relabel.pyc in dimension(self)\n    425         \"\"\"\n    426         # Can't yet use _dual_space for the base ring (and cartan_type?) is not yet initialized\n--> 427         return self.root_system.cartan_type()._type.root_system().ambient_space().dimension()\n    428 \n    429     @cached_method\n\nAttributeError: 'NoneType' object has no attribute 'dimension'\n```\n\nA proper fix for this issue would be implementing ambient spaces for non-crystallographic finite types, but we hack around this for now by just forbidding the inheritance of the relabel's finite type.\n\nThe original error was found by\n\n```\nsage: p=2; q=2; r=5\nsage: CoxeterMatrix([[1,p,r],[p,1,q],[r,q,1]])\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n...\nAttributeError: 'NoneType' object has no attribute 'dimension'\n```\n\n\n**CC:**  @jplab @tscrim\n\n**Keywords:** days93\n\n**Branch/Commit:** [38b88aece837e3d26936495e9e18c7787c668025](https://github.com/sagemath/sagetrac-mirror/commit/38b88aece837e3d26936495e9e18c7787c668025)\n\n**Reviewer:** Fr\u00e9d\u00e9ric Chapoton\n\n**Author:** Travis Scrimshaw\n\nIssue created by migration from https://trac.sagemath.org/ticket/24892\n\n",
    "closed_at": "2018-03-19T07:57:46Z",
    "created_at": "2018-03-02T16:24:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20geometry",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Relabelled non-crystallographic finite types should not have an ambient space (yet)",
    "type": "issue",
    "updated_at": "2018-03-19T07:57:46Z",
    "url": "https://github.com/sagemath/sage/issues/24892",
    "user": "https://github.com/videlec"
}
```
Non-crystallographic finite types have an `ambient_space()` that returns `None`, indicating that Sage does not know how to construct it:

```
sage: CartanType(['I',5]).root_system().ambient_space() is None
True
```
However, the relabelled finite types assume that it is not `None`, which results in an error:

```
sage: CartanType(['I',5]).relabel({1:0,2:1}).root_system().ambient_space()
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
<ipython-input-3-0f9f382ffb1f> in <module>()
----> 1 CartanType(['I',Integer(5)]).relabel({Integer(1):Integer(0),Integer(2):Integer(1)}).root_system().ambient_space()

/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller.__call__ (build/cythonized/sage/misc/cachefunc.c:10785)()
   2012                 return cache[k]
   2013         except KeyError:
-> 2014             w = self._instance_call(*args, **kwds)
   2015             cache[k] = w
   2016             return w

/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller._instance_call (build/cythonized/sage/misc/cachefunc.c:10236)()
   1888             True
   1889         """
-> 1890         return self.f(self._instance, *args, **kwds)
   1891 
   1892     cdef fix_args_kwds(self, tuple args, dict kwds):

/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/root_system.pyc in ambient_space(self, base_ring)
    749         if not base_ring.has_coerce_map_from(AmbientSpace.smallest_base_ring(self.cartan_type())):
    750             return None
--> 751         return AmbientSpace(self, base_ring)
    752 
    753     def coambient_space(self, base_ring=QQ):

/home/travis/sage-build/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()
    328         """
    329         if cls.classcall is not None:
--> 330             return cls.classcall(cls, *args, **kwds)
    331         else:
    332             # Fast version of type.__call__(cls, *args, **kwds)

/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6246)()
   1057                 return self.cache[k]
   1058         except KeyError:
-> 1059             w = self.f(*args, **kwds)
   1060             self.cache[k] = w
   1061             return w

/home/travis/sage-build/local/lib/python2.7/site-packages/sage/structure/unique_representation.pyc in __classcall__(cls, *args, **options)
   1019             True
   1020         """
-> 1021         instance = typecall(cls, *args, **options)
   1022         assert isinstance( instance, cls )
   1023         if instance.__class__.__reduce__ == CachedRepresentation.__reduce__:

/home/travis/sage-build/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2040)()
    495             TypeError: Argument 'cls' has incorrect type (expected type, got classobj)
    496     """
--> 497     return (<PyTypeObject*>type).tp_call(cls, args, kwds)
    498 
    499 # Class for timing::

/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/ambient_space.pyc in __init__(self, root_system, base_ring, index_set)
     89         self.root_system = root_system
     90         if index_set is None:
---> 91             index_set = tuple(range(0, self.dimension()))
     92         CombinatorialFreeModule.__init__(self, base_ring,
     93                                          index_set,

/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/type_relabel.pyc in dimension(self)
    425         """
    426         # Can't yet use _dual_space for the base ring (and cartan_type?) is not yet initialized
--> 427         return self.root_system.cartan_type()._type.root_system().ambient_space().dimension()
    428 
    429     @cached_method

AttributeError: 'NoneType' object has no attribute 'dimension'
```

A proper fix for this issue would be implementing ambient spaces for non-crystallographic finite types, but we hack around this for now by just forbidding the inheritance of the relabel's finite type.

The original error was found by

```
sage: p=2; q=2; r=5
sage: CoxeterMatrix([[1,p,r],[p,1,q],[r,q,1]])
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
...
AttributeError: 'NoneType' object has no attribute 'dimension'
```


**CC:**  @jplab @tscrim

**Keywords:** days93

**Branch/Commit:** [38b88aece837e3d26936495e9e18c7787c668025](https://github.com/sagemath/sagetrac-mirror/commit/38b88aece837e3d26936495e9e18c7787c668025)

**Reviewer:** Frédéric Chapoton

**Author:** Travis Scrimshaw

Issue created by migration from https://trac.sagemath.org/ticket/24892





---

archive/issue_events_299927.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-02T16:24:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-299927"
}
```



---

archive/issue_events_299928.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-02T16:24:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20geometry",
    "label_color": "08517b",
    "label_name": "component: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-299928"
}
```



---

archive/issue_events_299929.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-02T16:24:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "008080",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-299929"
}
```



---

archive/issue_comments_381115.json:
```json
{
    "body": "**Branch:** [public/combinat/fix_coxeter_matrix-24892](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_coxeter_matrix-24892)",
    "created_at": "2018-03-02T22:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-381115",
    "user": "https://github.com/tscrim"
}
```

**Branch:** [public/combinat/fix_coxeter_matrix-24892](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_coxeter_matrix-24892)



---

archive/issue_events_299930.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-03-02T22:24:33Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "rename": {
        "from": "triangle (2,2,5)",
        "to": "Relabelled non-crystallographic finite types should not have an ambient space (yet)"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-299930"
}
```



---

archive/issue_comments_381116.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,125 +1,75 @@\n-The triangle group (2,2,5) is reducible but the error below is very much obscure\n+Non-crystallographic finite types have an `ambient_space()` that returns `None`, indicating that Sage does not know how to construct it:\n \n ```\n-sage: p=2; q=2; r=5\n-sage: CoxeterMatrix([[1,p,r],[p,1,q],[r,q,1]])\n+sage: CartanType(['I',5]).root_system().ambient_space() is None\n+True\n+```\n+However, the relabelled finite types assume that it is not `None`, which results in an error:\n+\n+```\n+sage: CartanType(['I',5]).relabel({1:0,2:1}).root_system().ambient_space()\n ---------------------------------------------------------------------------\n AttributeError                            Traceback (most recent call last)\n-<ipython-input-129-eadfa2d4542d> in <module>()\n-----> 1 p=Integer(2);q=Integer(2);r=Integer(5);CoxeterMatrix([[Integer(1),p,r],[p,Integer(1),q],[r,q,Integer(1)]])\n+<ipython-input-3-0f9f382ffb1f> in <module>()\n+----> 1 CartanType(['I',Integer(5)]).relabel({Integer(1):Integer(0),Integer(2):Integer(1)}).root_system().ambient_space()\n \n-/opt/sage/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()\n+/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller.__call__ (build/cythonized/sage/misc/cachefunc.c:10785)()\n+   2012                 return cache[k]\n+   2013         except KeyError:\n+-> 2014             w = self._instance_call(*args, **kwds)\n+   2015             cache[k] = w\n+   2016             return w\n+\n+/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller._instance_call (build/cythonized/sage/misc/cachefunc.c:10236)()\n+   1888             True\n+   1889         \"\"\"\n+-> 1890         return self.f(self._instance, *args, **kwds)\n+   1891 \n+   1892     cdef fix_args_kwds(self, tuple args, dict kwds):\n+\n+/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/root_system.pyc in ambient_space(self, base_ring)\n+    749         if not base_ring.has_coerce_map_from(AmbientSpace.smallest_base_ring(self.cartan_type())):\n+    750             return None\n+--> 751         return AmbientSpace(self, base_ring)\n+    752 \n+    753     def coambient_space(self, base_ring=QQ):\n+\n+/home/travis/sage-build/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()\n     328         \"\"\"\n     329         if cls.classcall is not None:\n --> 330             return cls.classcall(cls, *args, **kwds)\n     331         else:\n     332             # Fast version of type.__call__(cls, *args, **kwds)\n \n-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/coxeter_matrix.pyc in __classcall_private__(cls, data, index_set, coxeter_type, cartan_type, coxeter_type_check)\n-    208                 raise ValueError(\"the given index set is not valid\")\n-    209 \n---> 210         return cls._from_matrix(data, coxeter_type, index_set, coxeter_type_check)\n-    211 \n-    212     def __init__(self, parent, data, coxeter_type, index_set):\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/coxeter_matrix.pyc in _from_matrix(cls, data, coxeter_type, index_set, coxeter_type_check)\n-    292                 coxeter_type = CoxeterType(['A', 1])\n-    293             elif coxeter_type_check:\n---> 294                 coxeter_type = recognize_coxeter_type_from_matrix(M, index_set)\n-    295             else:\n-    296                 coxeter_type = None\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/coxeter_matrix.pyc in recognize_coxeter_type_from_matrix(coxeter_matrix, index_set)\n-   1154             return None\n-   1155 \n--> 1156     return CoxeterType(types)\n-   1157 \n-   1158 #####################################################################\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()\n-    328         \"\"\"\n-    329         if cls.classcall is not None:\n---> 330             return cls.classcall(cls, *args, **kwds)\n-    331         else:\n-    332             # Fast version of type.__call__(cls, *args, **kwds)\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/coxeter_type.pyc in __classcall_private__(cls, *x)\n-     52 \n-     53         try:\n----> 54             return CoxeterTypeFromCartanType(CartanType(x))\n-     55         except (ValueError, TypeError):\n-     56             pass\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/cartan_type.pyc in __call__(self, *args)\n-    732         from . import type_reducible\n-    733         try:\n---> 734             return type_reducible.CartanType([ CartanType(subtype) for subtype in t ])\n-    735         except (SyntaxError, ValueError):\n-    736             raise ValueError(\"%s is not a valid Cartan type\"%t)\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/type_reducible.pyc in __init__(self, types)\n-    124         self._index_relabelling = dict((indices[i], i) for i in range(1, len(indices)))\n-    125 \n---> 126         self._spaces = [t.root_system().ambient_space() for t in types]\n-    127         if all(l is not None for l in self._spaces):\n-    128             self._shifts = [sum(l.dimension() for l in self._spaces[:k])\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller.__call__ (build/cythonized/sage/misc/cachefunc.c:10785)()\n-   2012                 return cache[k]\n-   2013         except KeyError:\n--> 2014             w = self._instance_call(*args, **kwds)\n-   2015             cache[k] = w\n-   2016             return w\n-/opt/sage/local/lib/python2.7/site-packages/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller._instance_call (build/cythonized/sage/misc/cachefunc.c:10236)()\n-   1888             True\n-   1889         \"\"\"\n--> 1890         return self.f(self._instance, *args, **kwds)\n-   1891 \n-   1892     cdef fix_args_kwds(self, tuple args, dict kwds):\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/root_system.pyc in ambient_space(self, base_ring)\n-    749         if not base_ring.has_coerce_map_from(AmbientSpace.smallest_base_ring(self.cartan_type())):\n-    750             return None\n---> 751         return AmbientSpace(self, base_ring)\n-    752 \n-    753     def coambient_space(self, base_ring=QQ):\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()\n-    328         \"\"\"\n-    329         if cls.classcall is not None:\n---> 330             return cls.classcall(cls, *args, **kwds)\n-    331         else:\n-    332             # Fast version of type.__call__(cls, *args, **kwds)\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6246)()\n+/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6246)()\n    1057                 return self.cache[k]\n    1058         except KeyError:\n -> 1059             w = self.f(*args, **kwds)\n    1060             self.cache[k] = w\n    1061             return w\n \n-/opt/sage/local/lib/python2.7/site-packages/sage/structure/unique_representation.pyc in __classcall__(cls, *args, **options)\n+/home/travis/sage-build/local/lib/python2.7/site-packages/sage/structure/unique_representation.pyc in __classcall__(cls, *args, **options)\n    1019             True\n    1020         \"\"\"\n -> 1021         instance = typecall(cls, *args, **options)\n    1022         assert isinstance( instance, cls )\n    1023         if instance.__class__.__reduce__ == CachedRepresentation.__reduce__:\n \n-/opt/sage/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2040)()\n+/home/travis/sage-build/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2040)()\n     495             TypeError: Argument 'cls' has incorrect type (expected type, got classobj)\n     496     \"\"\"\n --> 497     return (<PyTypeObject*>type).tp_call(cls, args, kwds)\n     498 \n     499 # Class for timing::\n \n-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/ambient_space.pyc in __init__(self, root_system, base_ring, index_set)\n+/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/ambient_space.pyc in __init__(self, root_system, base_ring, index_set)\n      89         self.root_system = root_system\n      90         if index_set is None:\n ---> 91             index_set = tuple(range(0, self.dimension()))\n      92         CombinatorialFreeModule.__init__(self, base_ring,\n      93                                          index_set,\n \n-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/type_relabel.pyc in dimension(self)\n+/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/type_relabel.pyc in dimension(self)\n     425         \"\"\"\n     426         # Can't yet use _dual_space for the base ring (and cartan_type?) is not yet initialized\n --> 427         return self.root_system.cartan_type()._type.root_system().ambient_space().dimension()\n@@ -129,3 +79,16 @@\n AttributeError: 'NoneType' object has no attribute 'dimension'\n ```\n \n+A proper fix for this issue would be implementing ambient spaces for non-crystallographic finite types, but we hack around this for now by just forbidding the inheritance of the relabel's finite type.\n+\n+The original error was found by\n+\n+```\n+sage: p=2; q=2; r=5\n+sage: CoxeterMatrix([[1,p,r],[p,1,q],[r,q,1]])\n+---------------------------------------------------------------------------\n+AttributeError                            Traceback (most recent call last)\n+...\n+AttributeError: 'NoneType' object has no attribute 'dimension'\n+```\n+\n``````\n",
    "created_at": "2018-03-02T22:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-381116",
    "user": "https://github.com/tscrim"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,125 +1,75 @@
-The triangle group (2,2,5) is reducible but the error below is very much obscure
+Non-crystallographic finite types have an `ambient_space()` that returns `None`, indicating that Sage does not know how to construct it:
 
 ```
-sage: p=2; q=2; r=5
-sage: CoxeterMatrix([[1,p,r],[p,1,q],[r,q,1]])
+sage: CartanType(['I',5]).root_system().ambient_space() is None
+True
+```
+However, the relabelled finite types assume that it is not `None`, which results in an error:
+
+```
+sage: CartanType(['I',5]).relabel({1:0,2:1}).root_system().ambient_space()
 ---------------------------------------------------------------------------
 AttributeError                            Traceback (most recent call last)
-<ipython-input-129-eadfa2d4542d> in <module>()
-----> 1 p=Integer(2);q=Integer(2);r=Integer(5);CoxeterMatrix([[Integer(1),p,r],[p,Integer(1),q],[r,q,Integer(1)]])
+<ipython-input-3-0f9f382ffb1f> in <module>()
+----> 1 CartanType(['I',Integer(5)]).relabel({Integer(1):Integer(0),Integer(2):Integer(1)}).root_system().ambient_space()
 
-/opt/sage/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()
+/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller.__call__ (build/cythonized/sage/misc/cachefunc.c:10785)()
+   2012                 return cache[k]
+   2013         except KeyError:
+-> 2014             w = self._instance_call(*args, **kwds)
+   2015             cache[k] = w
+   2016             return w
+
+/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller._instance_call (build/cythonized/sage/misc/cachefunc.c:10236)()
+   1888             True
+   1889         """
+-> 1890         return self.f(self._instance, *args, **kwds)
+   1891 
+   1892     cdef fix_args_kwds(self, tuple args, dict kwds):
+
+/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/root_system.pyc in ambient_space(self, base_ring)
+    749         if not base_ring.has_coerce_map_from(AmbientSpace.smallest_base_ring(self.cartan_type())):
+    750             return None
+--> 751         return AmbientSpace(self, base_ring)
+    752 
+    753     def coambient_space(self, base_ring=QQ):
+
+/home/travis/sage-build/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()
     328         """
     329         if cls.classcall is not None:
 --> 330             return cls.classcall(cls, *args, **kwds)
     331         else:
     332             # Fast version of type.__call__(cls, *args, **kwds)
 
-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/coxeter_matrix.pyc in __classcall_private__(cls, data, index_set, coxeter_type, cartan_type, coxeter_type_check)
-    208                 raise ValueError("the given index set is not valid")
-    209 
---> 210         return cls._from_matrix(data, coxeter_type, index_set, coxeter_type_check)
-    211 
-    212     def __init__(self, parent, data, coxeter_type, index_set):
-
-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/coxeter_matrix.pyc in _from_matrix(cls, data, coxeter_type, index_set, coxeter_type_check)
-    292                 coxeter_type = CoxeterType(['A', 1])
-    293             elif coxeter_type_check:
---> 294                 coxeter_type = recognize_coxeter_type_from_matrix(M, index_set)
-    295             else:
-    296                 coxeter_type = None
-
-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/coxeter_matrix.pyc in recognize_coxeter_type_from_matrix(coxeter_matrix, index_set)
-   1154             return None
-   1155 
--> 1156     return CoxeterType(types)
-   1157 
-   1158 #####################################################################
-
-/opt/sage/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()
-    328         """
-    329         if cls.classcall is not None:
---> 330             return cls.classcall(cls, *args, **kwds)
-    331         else:
-    332             # Fast version of type.__call__(cls, *args, **kwds)
-
-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/coxeter_type.pyc in __classcall_private__(cls, *x)
-     52 
-     53         try:
----> 54             return CoxeterTypeFromCartanType(CartanType(x))
-     55         except (ValueError, TypeError):
-     56             pass
-
-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/cartan_type.pyc in __call__(self, *args)
-    732         from . import type_reducible
-    733         try:
---> 734             return type_reducible.CartanType([ CartanType(subtype) for subtype in t ])
-    735         except (SyntaxError, ValueError):
-    736             raise ValueError("%s is not a valid Cartan type"%t)
-
-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/type_reducible.pyc in __init__(self, types)
-    124         self._index_relabelling = dict((indices[i], i) for i in range(1, len(indices)))
-    125 
---> 126         self._spaces = [t.root_system().ambient_space() for t in types]
-    127         if all(l is not None for l in self._spaces):
-    128             self._shifts = [sum(l.dimension() for l in self._spaces[:k])
-
-/opt/sage/local/lib/python2.7/site-packages/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller.__call__ (build/cythonized/sage/misc/cachefunc.c:10785)()
-   2012                 return cache[k]
-   2013         except KeyError:
--> 2014             w = self._instance_call(*args, **kwds)
-   2015             cache[k] = w
-   2016             return w
-/opt/sage/local/lib/python2.7/site-packages/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller._instance_call (build/cythonized/sage/misc/cachefunc.c:10236)()
-   1888             True
-   1889         """
--> 1890         return self.f(self._instance, *args, **kwds)
-   1891 
-   1892     cdef fix_args_kwds(self, tuple args, dict kwds):
-
-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/root_system.pyc in ambient_space(self, base_ring)
-    749         if not base_ring.has_coerce_map_from(AmbientSpace.smallest_base_ring(self.cartan_type())):
-    750             return None
---> 751         return AmbientSpace(self, base_ring)
-    752 
-    753     def coambient_space(self, base_ring=QQ):
-
-/opt/sage/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()
-    328         """
-    329         if cls.classcall is not None:
---> 330             return cls.classcall(cls, *args, **kwds)
-    331         else:
-    332             # Fast version of type.__call__(cls, *args, **kwds)
-
-/opt/sage/local/lib/python2.7/site-packages/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6246)()
+/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6246)()
    1057                 return self.cache[k]
    1058         except KeyError:
 -> 1059             w = self.f(*args, **kwds)
    1060             self.cache[k] = w
    1061             return w
 
-/opt/sage/local/lib/python2.7/site-packages/sage/structure/unique_representation.pyc in __classcall__(cls, *args, **options)
+/home/travis/sage-build/local/lib/python2.7/site-packages/sage/structure/unique_representation.pyc in __classcall__(cls, *args, **options)
    1019             True
    1020         """
 -> 1021         instance = typecall(cls, *args, **options)
    1022         assert isinstance( instance, cls )
    1023         if instance.__class__.__reduce__ == CachedRepresentation.__reduce__:
 
-/opt/sage/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2040)()
+/home/travis/sage-build/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2040)()
     495             TypeError: Argument 'cls' has incorrect type (expected type, got classobj)
     496     """
 --> 497     return (<PyTypeObject*>type).tp_call(cls, args, kwds)
     498 
     499 # Class for timing::
 
-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/ambient_space.pyc in __init__(self, root_system, base_ring, index_set)
+/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/ambient_space.pyc in __init__(self, root_system, base_ring, index_set)
      89         self.root_system = root_system
      90         if index_set is None:
 ---> 91             index_set = tuple(range(0, self.dimension()))
      92         CombinatorialFreeModule.__init__(self, base_ring,
      93                                          index_set,
 
-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/type_relabel.pyc in dimension(self)
+/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/type_relabel.pyc in dimension(self)
     425         """
     426         # Can't yet use _dual_space for the base ring (and cartan_type?) is not yet initialized
 --> 427         return self.root_system.cartan_type()._type.root_system().ambient_space().dimension()
@@ -129,3 +79,16 @@
 AttributeError: 'NoneType' object has no attribute 'dimension'
 ```
 
+A proper fix for this issue would be implementing ambient spaces for non-crystallographic finite types, but we hack around this for now by just forbidding the inheritance of the relabel's finite type.
+
+The original error was found by
+
+```
+sage: p=2; q=2; r=5
+sage: CoxeterMatrix([[1,p,r],[p,1,q],[r,q,1]])
+---------------------------------------------------------------------------
+AttributeError                            Traceback (most recent call last)
+...
+AttributeError: 'NoneType' object has no attribute 'dimension'
+```
+
``````




---

archive/issue_events_299931.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-03-02T22:24:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-299931"
}
```



---

archive/issue_comments_381117.json:
```json
{
    "body": "**Commit:** [9ee36404fcf1de403a2cb76fa7ec47e879adf7c9](https://github.com/sagemath/sagetrac-mirror/commit/9ee36404fcf1de403a2cb76fa7ec47e879adf7c9)",
    "created_at": "2018-03-02T22:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-381117",
    "user": "https://github.com/tscrim"
}
```

**Commit:** [9ee36404fcf1de403a2cb76fa7ec47e879adf7c9](https://github.com/sagemath/sagetrac-mirror/commit/9ee36404fcf1de403a2cb76fa7ec47e879adf7c9)



---

archive/issue_comments_381118.json:
```json
{
    "body": "<a id='comment:1'>**Comment 1:**</a>\nOkay, I found the underlying issue and hacked around it. The proper fix can be a followup. See the ticket description.\n\nAlso, you can do a little better for the ticket title. :P\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/412781c98d94cd73ab12c0d708df591d8739d811\">412781c</a></td><td><code>Fixing printing and latex of relabelings of type H,I.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ee36404fcf1de403a2cb76fa7ec47e879adf7c9\">9ee3640</a></td><td><code>Hacking around issue with ambient_space() for relabelled non-crystallographic Cartan types.</code></td></tr></table>\n",
    "created_at": "2018-03-02T22:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-381118",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'>**Comment 1:**</a>
Okay, I found the underlying issue and hacked around it. The proper fix can be a followup. See the ticket description.

Also, you can do a little better for the ticket title. :P

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/412781c98d94cd73ab12c0d708df591d8739d811">412781c</a></td><td><code>Fixing printing and latex of relabelings of type H,I.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ee36404fcf1de403a2cb76fa7ec47e879adf7c9">9ee3640</a></td><td><code>Hacking around issue with ambient_space() for relabelled non-crystallographic Cartan types.</code></td></tr></table>




---

archive/issue_comments_381119.json:
```json
{
    "body": "**Author:** Travis Scrimshaw",
    "created_at": "2018-03-02T22:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-381119",
    "user": "https://github.com/tscrim"
}
```

**Author:** Travis Scrimshaw



---

archive/issue_comments_381120.json:
```json
{
    "body": "<a id='comment:2'>**Comment 2:**</a>\nI also fixed some issues with the outputs of relabeled types H and I that were related and useful in my debugging.",
    "created_at": "2018-03-02T22:25:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-381120",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:2'>**Comment 2:**</a>
I also fixed some issues with the outputs of relabeled types H and I that were related and useful in my debugging.



---

archive/issue_comments_381121.json:
```json
{
    "body": "<a id='comment:3'>**Comment 3:**</a>\npositive review if patchbot turns green",
    "created_at": "2018-03-03T08:26:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-381121",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'>**Comment 3:**</a>
positive review if patchbot turns green



---

archive/issue_comments_381122.json:
```json
{
    "body": "<a id='comment:4'>**Comment 4:**</a>\nsome failing doctests",
    "created_at": "2018-03-03T10:57:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-381122",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'>**Comment 4:**</a>
some failing doctests



---

archive/issue_events_299932.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-03-03T10:57:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-299932"
}
```



---

archive/issue_events_299933.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-03-03T10:57:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-299933"
}
```



---

archive/issue_comments_381123.json:
```json
{
    "body": "**Changing commit** from \"[9ee36404fcf1de403a2cb76fa7ec47e879adf7c9](https://github.com/sagemath/sagetrac-mirror/commit/9ee36404fcf1de403a2cb76fa7ec47e879adf7c9)\" to \"[38b88aece837e3d26936495e9e18c7787c668025](https://github.com/sagemath/sagetrac-mirror/commit/38b88aece837e3d26936495e9e18c7787c668025)\".",
    "created_at": "2018-03-03T21:50:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-381123",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[9ee36404fcf1de403a2cb76fa7ec47e879adf7c9](https://github.com/sagemath/sagetrac-mirror/commit/9ee36404fcf1de403a2cb76fa7ec47e879adf7c9)" to "[38b88aece837e3d26936495e9e18c7787c668025](https://github.com/sagemath/sagetrac-mirror/commit/38b88aece837e3d26936495e9e18c7787c668025)".



---

archive/issue_comments_381124.json:
```json
{
    "body": "<a id='comment:5'>**Comment 5:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72ea7b7aa6af655c91713ae3d73d62d34e1146f6\">72ea7b7</a></td><td><code>Merge branch 'develop' into public/combinat/fix_coxeter_matrix-24892</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38b88aece837e3d26936495e9e18c7787c668025\">38b88ae</a></td><td><code>Special exemption for super Cartan types.</code></td></tr></table>\n",
    "created_at": "2018-03-03T21:50:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-381124",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>**Comment 5:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72ea7b7aa6af655c91713ae3d73d62d34e1146f6">72ea7b7</a></td><td><code>Merge branch 'develop' into public/combinat/fix_coxeter_matrix-24892</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38b88aece837e3d26936495e9e18c7787c668025">38b88ae</a></td><td><code>Special exemption for super Cartan types.</code></td></tr></table>




---

archive/issue_comments_381125.json:
```json
{
    "body": "**Reviewer:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2018-03-03T21:51:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-381125",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Frédéric Chapoton



---

archive/issue_comments_381126.json:
```json
{
    "body": "<a id='comment:6'>**Comment 6:**</a>\nI added a short-circuiting exemption for super Cartan types (for which there is not really a notion of crystallographic AFAIK, which is why there is no such method for them).",
    "created_at": "2018-03-03T21:51:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-381126",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'>**Comment 6:**</a>
I added a short-circuiting exemption for super Cartan types (for which there is not really a notion of crystallographic AFAIK, which is why there is no such method for them).



---

archive/issue_events_299934.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-03-03T21:51:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-299934"
}
```



---

archive/issue_events_299935.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-03-03T21:51:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-299935"
}
```



---

archive/issue_comments_381127.json:
```json
{
    "body": "<a id='comment:7'>**Comment 7:**</a>\nping",
    "created_at": "2018-03-08T09:10:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-381127",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'>**Comment 7:**</a>
ping



---

archive/issue_comments_381128.json:
```json
{
    "body": "<a id='comment:8'>**Comment 8:**</a>\n**ping**",
    "created_at": "2018-03-11T03:39:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-381128",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'>**Comment 8:**</a>
**ping**



---

archive/issue_events_299936.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-03-11T07:28:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-299936"
}
```



---

archive/issue_events_299937.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-03-11T07:28:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-299937"
}
```



---

archive/issue_comments_381129.json:
```json
{
    "body": "<a id='comment:9'>**Comment 9:**</a>\nok",
    "created_at": "2018-03-11T07:28:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-381129",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'>**Comment 9:**</a>
ok



---

archive/issue_comments_381130.json:
```json
{
    "body": "<a id='comment:10'>**Comment 10:**</a>\nThank you.",
    "created_at": "2018-03-11T07:41:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-381130",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'>**Comment 10:**</a>
Thank you.



---

archive/issue_events_299938.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-19T07:57:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-299938"
}
```



---

archive/issue_events_299939.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6b96ae5d5374bbc2d01a11f8121c5b1c5f7f4e2f",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-03-19T07:57:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-299939"
}
```



---

archive/issue_comments_381131.json:
```json
{
    "body": "**Changing branch** from \"[public/combinat/fix_coxeter_matrix-24892](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_coxeter_matrix-24892)\" to \"[38b88aece837e3d26936495e9e18c7787c668025](https://github.com/sagemath/sagetrac-mirror/commit/38b88aece837e3d26936495e9e18c7787c668025)\".",
    "created_at": "2018-03-19T07:57:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-381131",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/combinat/fix_coxeter_matrix-24892](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_coxeter_matrix-24892)" to "[38b88aece837e3d26936495e9e18c7787c668025](https://github.com/sagemath/sagetrac-mirror/commit/38b88aece837e3d26936495e9e18c7787c668025)".
