# Issue 24892: Relabelled non-crystallographic finite types should not have an ambient space (yet)

archive/issues_024655.json:
```json
{
    "assignees": [],
    "body": "Non-crystallographic finite types have an `ambient_space()` that returns `None`, indicating that Sage does not know how to construct it:\n\n```\nsage: CartanType(['I',5]).root_system().ambient_space() is None\nTrue\n```\nHowever, the relabelled finite types assume that it is not `None`, which results in an error:\n\n```\nsage: CartanType(['I',5]).relabel({1:0,2:1}).root_system().ambient_space()\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-3-0f9f382ffb1f> in <module>()\n----> 1 CartanType(['I',Integer(5)]).relabel({Integer(1):Integer(0),Integer(2):Integer(1)}).root_system().ambient_space()\n\n/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller.__call__ (build/cythonized/sage/misc/cachefunc.c:10785)()\n   2012                 return cache[k]\n   2013         except KeyError:\n-> 2014             w = self._instance_call(*args, **kwds)\n   2015             cache[k] = w\n   2016             return w\n\n/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller._instance_call (build/cythonized/sage/misc/cachefunc.c:10236)()\n   1888             True\n   1889         \"\"\"\n-> 1890         return self.f(self._instance, *args, **kwds)\n   1891 \n   1892     cdef fix_args_kwds(self, tuple args, dict kwds):\n\n/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/root_system.pyc in ambient_space(self, base_ring)\n    749         if not base_ring.has_coerce_map_from(AmbientSpace.smallest_base_ring(self.cartan_type())):\n    750             return None\n--> 751         return AmbientSpace(self, base_ring)\n    752 \n    753     def coambient_space(self, base_ring=QQ):\n\n/home/travis/sage-build/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()\n    328         \"\"\"\n    329         if cls.classcall is not None:\n--> 330             return cls.classcall(cls, *args, **kwds)\n    331         else:\n    332             # Fast version of type.__call__(cls, *args, **kwds)\n\n/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6246)()\n   1057                 return self.cache[k]\n   1058         except KeyError:\n-> 1059             w = self.f(*args, **kwds)\n   1060             self.cache[k] = w\n   1061             return w\n\n/home/travis/sage-build/local/lib/python2.7/site-packages/sage/structure/unique_representation.pyc in __classcall__(cls, *args, **options)\n   1019             True\n   1020         \"\"\"\n-> 1021         instance = typecall(cls, *args, **options)\n   1022         assert isinstance( instance, cls )\n   1023         if instance.__class__.__reduce__ == CachedRepresentation.__reduce__:\n\n/home/travis/sage-build/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2040)()\n    495             TypeError: Argument 'cls' has incorrect type (expected type, got classobj)\n    496     \"\"\"\n--> 497     return (<PyTypeObject*>type).tp_call(cls, args, kwds)\n    498 \n    499 # Class for timing::\n\n/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/ambient_space.pyc in __init__(self, root_system, base_ring, index_set)\n     89         self.root_system = root_system\n     90         if index_set is None:\n---> 91             index_set = tuple(range(0, self.dimension()))\n     92         CombinatorialFreeModule.__init__(self, base_ring,\n     93                                          index_set,\n\n/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/type_relabel.pyc in dimension(self)\n    425         \"\"\"\n    426         # Can't yet use _dual_space for the base ring (and cartan_type?) is not yet initialized\n--> 427         return self.root_system.cartan_type()._type.root_system().ambient_space().dimension()\n    428 \n    429     @cached_method\n\nAttributeError: 'NoneType' object has no attribute 'dimension'\n```\n\nA proper fix for this issue would be implementing ambient spaces for non-crystallographic finite types, but we hack around this for now by just forbidding the inheritance of the relabel's finite type.\n\nThe original error was found by\n\n```\nsage: p=2; q=2; r=5\nsage: CoxeterMatrix([[1,p,r],[p,1,q],[r,q,1]])\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n...\nAttributeError: 'NoneType' object has no attribute 'dimension'\n```\n\n\nCC:  @jplab @tscrim\n\nKeywords: **days93**\n\nBranch/Commit: **[`38b88ae`](https://github.com/sagemath/sagetrac-mirror/commit/38b88aece837e3d26936495e9e18c7787c668025)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Travis Scrimshaw**\n\nComponent: **geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24892_\n\n",
    "closed_at": "2018-03-19T07:57:46Z",
    "created_at": "2018-03-02T16:24:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Relabelled non-crystallographic finite types should not have an ambient space (yet)",
    "type": "issue",
    "updated_at": "2018-03-19T07:57:46Z",
    "url": "https://github.com/sagemath/sage/issues/24892",
    "user": "https://github.com/videlec"
}
```
Non-crystallographic finite types have an `ambient_space()` that returns `None`, indicating that Sage does not know how to construct it:

```
sage: CartanType(['I',5]).root_system().ambient_space() is None
True
```
However, the relabelled finite types assume that it is not `None`, which results in an error:

```
sage: CartanType(['I',5]).relabel({1:0,2:1}).root_system().ambient_space()
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
<ipython-input-3-0f9f382ffb1f> in <module>()
----> 1 CartanType(['I',Integer(5)]).relabel({Integer(1):Integer(0),Integer(2):Integer(1)}).root_system().ambient_space()

/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller.__call__ (build/cythonized/sage/misc/cachefunc.c:10785)()
   2012                 return cache[k]
   2013         except KeyError:
-> 2014             w = self._instance_call(*args, **kwds)
   2015             cache[k] = w
   2016             return w

/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller._instance_call (build/cythonized/sage/misc/cachefunc.c:10236)()
   1888             True
   1889         """
-> 1890         return self.f(self._instance, *args, **kwds)
   1891 
   1892     cdef fix_args_kwds(self, tuple args, dict kwds):

/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/root_system.pyc in ambient_space(self, base_ring)
    749         if not base_ring.has_coerce_map_from(AmbientSpace.smallest_base_ring(self.cartan_type())):
    750             return None
--> 751         return AmbientSpace(self, base_ring)
    752 
    753     def coambient_space(self, base_ring=QQ):

/home/travis/sage-build/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()
    328         """
    329         if cls.classcall is not None:
--> 330             return cls.classcall(cls, *args, **kwds)
    331         else:
    332             # Fast version of type.__call__(cls, *args, **kwds)

/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6246)()
   1057                 return self.cache[k]
   1058         except KeyError:
-> 1059             w = self.f(*args, **kwds)
   1060             self.cache[k] = w
   1061             return w

/home/travis/sage-build/local/lib/python2.7/site-packages/sage/structure/unique_representation.pyc in __classcall__(cls, *args, **options)
   1019             True
   1020         """
-> 1021         instance = typecall(cls, *args, **options)
   1022         assert isinstance( instance, cls )
   1023         if instance.__class__.__reduce__ == CachedRepresentation.__reduce__:

/home/travis/sage-build/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2040)()
    495             TypeError: Argument 'cls' has incorrect type (expected type, got classobj)
    496     """
--> 497     return (<PyTypeObject*>type).tp_call(cls, args, kwds)
    498 
    499 # Class for timing::

/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/ambient_space.pyc in __init__(self, root_system, base_ring, index_set)
     89         self.root_system = root_system
     90         if index_set is None:
---> 91             index_set = tuple(range(0, self.dimension()))
     92         CombinatorialFreeModule.__init__(self, base_ring,
     93                                          index_set,

/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/type_relabel.pyc in dimension(self)
    425         """
    426         # Can't yet use _dual_space for the base ring (and cartan_type?) is not yet initialized
--> 427         return self.root_system.cartan_type()._type.root_system().ambient_space().dimension()
    428 
    429     @cached_method

AttributeError: 'NoneType' object has no attribute 'dimension'
```

A proper fix for this issue would be implementing ambient spaces for non-crystallographic finite types, but we hack around this for now by just forbidding the inheritance of the relabel's finite type.

The original error was found by

```
sage: p=2; q=2; r=5
sage: CoxeterMatrix([[1,p,r],[p,1,q],[r,q,1]])
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
...
AttributeError: 'NoneType' object has no attribute 'dimension'
```


CC:  @jplab @tscrim

Keywords: **days93**

Branch/Commit: **[`38b88ae`](https://github.com/sagemath/sagetrac-mirror/commit/38b88aece837e3d26936495e9e18c7787c668025)**

Reviewer: **Frédéric Chapoton**

Author: **Travis Scrimshaw**

Component: **geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/24892_





---

archive/issue_events_344412.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-02T16:24:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-344412"
}
```



---

archive/issue_events_344413.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-02T16:24:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-344413"
}
```



---

archive/issue_events_344414.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-02T16:24:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-344414"
}
```



---

archive/issue_events_344415.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-03-02T16:24:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-344415"
}
```



---

archive/issue_comments_378583.json:
```json
{
    "body": "Branch: **[public/combinat/fix_coxeter_matrix-24892](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_coxeter_matrix-24892)**",
    "created_at": "2018-03-02T22:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-378583",
    "user": "https://github.com/tscrim"
}
```

Branch: **[public/combinat/fix_coxeter_matrix-24892](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_coxeter_matrix-24892)**



---

archive/issue_events_344416.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-03-02T22:24:33Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "title_is": "Relabelled non-crystallographic finite types should not have an ambient space (yet)",
    "title_was": "triangle (2,2,5)",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-344416"
}
```



---

archive/issue_comments_378584.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,125 +1,75 @@\n-The triangle group (2,2,5) is reducible but the error below is very much obscure\n+Non-crystallographic finite types have an `ambient_space()` that returns `None`, indicating that Sage does not know how to construct it:\n \n ```\n-sage: p=2; q=2; r=5\n-sage: CoxeterMatrix([[1,p,r],[p,1,q],[r,q,1]])\n+sage: CartanType(['I',5]).root_system().ambient_space() is None\n+True\n+```\n+However, the relabelled finite types assume that it is not `None`, which results in an error:\n+\n+```\n+sage: CartanType(['I',5]).relabel({1:0,2:1}).root_system().ambient_space()\n ---------------------------------------------------------------------------\n AttributeError                            Traceback (most recent call last)\n-<ipython-input-129-eadfa2d4542d> in <module>()\n-----> 1 p=Integer(2);q=Integer(2);r=Integer(5);CoxeterMatrix([[Integer(1),p,r],[p,Integer(1),q],[r,q,Integer(1)]])\n+<ipython-input-3-0f9f382ffb1f> in <module>()\n+----> 1 CartanType(['I',Integer(5)]).relabel({Integer(1):Integer(0),Integer(2):Integer(1)}).root_system().ambient_space()\n \n-/opt/sage/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()\n+/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller.__call__ (build/cythonized/sage/misc/cachefunc.c:10785)()\n+   2012                 return cache[k]\n+   2013         except KeyError:\n+-> 2014             w = self._instance_call(*args, **kwds)\n+   2015             cache[k] = w\n+   2016             return w\n+\n+/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller._instance_call (build/cythonized/sage/misc/cachefunc.c:10236)()\n+   1888             True\n+   1889         \"\"\"\n+-> 1890         return self.f(self._instance, *args, **kwds)\n+   1891 \n+   1892     cdef fix_args_kwds(self, tuple args, dict kwds):\n+\n+/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/root_system.pyc in ambient_space(self, base_ring)\n+    749         if not base_ring.has_coerce_map_from(AmbientSpace.smallest_base_ring(self.cartan_type())):\n+    750             return None\n+--> 751         return AmbientSpace(self, base_ring)\n+    752 \n+    753     def coambient_space(self, base_ring=QQ):\n+\n+/home/travis/sage-build/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()\n     328         \"\"\"\n     329         if cls.classcall is not None:\n --> 330             return cls.classcall(cls, *args, **kwds)\n     331         else:\n     332             # Fast version of type.__call__(cls, *args, **kwds)\n \n-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/coxeter_matrix.pyc in __classcall_private__(cls, data, index_set, coxeter_type, cartan_type, coxeter_type_check)\n-    208                 raise ValueError(\"the given index set is not valid\")\n-    209 \n---> 210         return cls._from_matrix(data, coxeter_type, index_set, coxeter_type_check)\n-    211 \n-    212     def __init__(self, parent, data, coxeter_type, index_set):\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/coxeter_matrix.pyc in _from_matrix(cls, data, coxeter_type, index_set, coxeter_type_check)\n-    292                 coxeter_type = CoxeterType(['A', 1])\n-    293             elif coxeter_type_check:\n---> 294                 coxeter_type = recognize_coxeter_type_from_matrix(M, index_set)\n-    295             else:\n-    296                 coxeter_type = None\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/coxeter_matrix.pyc in recognize_coxeter_type_from_matrix(coxeter_matrix, index_set)\n-   1154             return None\n-   1155 \n--> 1156     return CoxeterType(types)\n-   1157 \n-   1158 #####################################################################\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()\n-    328         \"\"\"\n-    329         if cls.classcall is not None:\n---> 330             return cls.classcall(cls, *args, **kwds)\n-    331         else:\n-    332             # Fast version of type.__call__(cls, *args, **kwds)\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/coxeter_type.pyc in __classcall_private__(cls, *x)\n-     52 \n-     53         try:\n----> 54             return CoxeterTypeFromCartanType(CartanType(x))\n-     55         except (ValueError, TypeError):\n-     56             pass\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/cartan_type.pyc in __call__(self, *args)\n-    732         from . import type_reducible\n-    733         try:\n---> 734             return type_reducible.CartanType([ CartanType(subtype) for subtype in t ])\n-    735         except (SyntaxError, ValueError):\n-    736             raise ValueError(\"%s is not a valid Cartan type\"%t)\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/type_reducible.pyc in __init__(self, types)\n-    124         self._index_relabelling = dict((indices[i], i) for i in range(1, len(indices)))\n-    125 \n---> 126         self._spaces = [t.root_system().ambient_space() for t in types]\n-    127         if all(l is not None for l in self._spaces):\n-    128             self._shifts = [sum(l.dimension() for l in self._spaces[:k])\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller.__call__ (build/cythonized/sage/misc/cachefunc.c:10785)()\n-   2012                 return cache[k]\n-   2013         except KeyError:\n--> 2014             w = self._instance_call(*args, **kwds)\n-   2015             cache[k] = w\n-   2016             return w\n-/opt/sage/local/lib/python2.7/site-packages/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller._instance_call (build/cythonized/sage/misc/cachefunc.c:10236)()\n-   1888             True\n-   1889         \"\"\"\n--> 1890         return self.f(self._instance, *args, **kwds)\n-   1891 \n-   1892     cdef fix_args_kwds(self, tuple args, dict kwds):\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/root_system.pyc in ambient_space(self, base_ring)\n-    749         if not base_ring.has_coerce_map_from(AmbientSpace.smallest_base_ring(self.cartan_type())):\n-    750             return None\n---> 751         return AmbientSpace(self, base_ring)\n-    752 \n-    753     def coambient_space(self, base_ring=QQ):\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()\n-    328         \"\"\"\n-    329         if cls.classcall is not None:\n---> 330             return cls.classcall(cls, *args, **kwds)\n-    331         else:\n-    332             # Fast version of type.__call__(cls, *args, **kwds)\n-\n-/opt/sage/local/lib/python2.7/site-packages/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6246)()\n+/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6246)()\n    1057                 return self.cache[k]\n    1058         except KeyError:\n -> 1059             w = self.f(*args, **kwds)\n    1060             self.cache[k] = w\n    1061             return w\n \n-/opt/sage/local/lib/python2.7/site-packages/sage/structure/unique_representation.pyc in __classcall__(cls, *args, **options)\n+/home/travis/sage-build/local/lib/python2.7/site-packages/sage/structure/unique_representation.pyc in __classcall__(cls, *args, **options)\n    1019             True\n    1020         \"\"\"\n -> 1021         instance = typecall(cls, *args, **options)\n    1022         assert isinstance( instance, cls )\n    1023         if instance.__class__.__reduce__ == CachedRepresentation.__reduce__:\n \n-/opt/sage/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2040)()\n+/home/travis/sage-build/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2040)()\n     495             TypeError: Argument 'cls' has incorrect type (expected type, got classobj)\n     496     \"\"\"\n --> 497     return (<PyTypeObject*>type).tp_call(cls, args, kwds)\n     498 \n     499 # Class for timing::\n \n-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/ambient_space.pyc in __init__(self, root_system, base_ring, index_set)\n+/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/ambient_space.pyc in __init__(self, root_system, base_ring, index_set)\n      89         self.root_system = root_system\n      90         if index_set is None:\n ---> 91             index_set = tuple(range(0, self.dimension()))\n      92         CombinatorialFreeModule.__init__(self, base_ring,\n      93                                          index_set,\n \n-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/type_relabel.pyc in dimension(self)\n+/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/type_relabel.pyc in dimension(self)\n     425         \"\"\"\n     426         # Can't yet use _dual_space for the base ring (and cartan_type?) is not yet initialized\n --> 427         return self.root_system.cartan_type()._type.root_system().ambient_space().dimension()\n@@ -129,3 +79,16 @@\n AttributeError: 'NoneType' object has no attribute 'dimension'\n ```\n \n+A proper fix for this issue would be implementing ambient spaces for non-crystallographic finite types, but we hack around this for now by just forbidding the inheritance of the relabel's finite type.\n+\n+The original error was found by\n+\n+```\n+sage: p=2; q=2; r=5\n+sage: CoxeterMatrix([[1,p,r],[p,1,q],[r,q,1]])\n+---------------------------------------------------------------------------\n+AttributeError                            Traceback (most recent call last)\n+...\n+AttributeError: 'NoneType' object has no attribute 'dimension'\n+```\n+\n``````\n",
    "created_at": "2018-03-02T22:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-378584",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,125 +1,75 @@
-The triangle group (2,2,5) is reducible but the error below is very much obscure
+Non-crystallographic finite types have an `ambient_space()` that returns `None`, indicating that Sage does not know how to construct it:
 
 ```
-sage: p=2; q=2; r=5
-sage: CoxeterMatrix([[1,p,r],[p,1,q],[r,q,1]])
+sage: CartanType(['I',5]).root_system().ambient_space() is None
+True
+```
+However, the relabelled finite types assume that it is not `None`, which results in an error:
+
+```
+sage: CartanType(['I',5]).relabel({1:0,2:1}).root_system().ambient_space()
 ---------------------------------------------------------------------------
 AttributeError                            Traceback (most recent call last)
-<ipython-input-129-eadfa2d4542d> in <module>()
-----> 1 p=Integer(2);q=Integer(2);r=Integer(5);CoxeterMatrix([[Integer(1),p,r],[p,Integer(1),q],[r,q,Integer(1)]])
+<ipython-input-3-0f9f382ffb1f> in <module>()
+----> 1 CartanType(['I',Integer(5)]).relabel({Integer(1):Integer(0),Integer(2):Integer(1)}).root_system().ambient_space()
 
-/opt/sage/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()
+/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller.__call__ (build/cythonized/sage/misc/cachefunc.c:10785)()
+   2012                 return cache[k]
+   2013         except KeyError:
+-> 2014             w = self._instance_call(*args, **kwds)
+   2015             cache[k] = w
+   2016             return w
+
+/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller._instance_call (build/cythonized/sage/misc/cachefunc.c:10236)()
+   1888             True
+   1889         """
+-> 1890         return self.f(self._instance, *args, **kwds)
+   1891 
+   1892     cdef fix_args_kwds(self, tuple args, dict kwds):
+
+/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/root_system.pyc in ambient_space(self, base_ring)
+    749         if not base_ring.has_coerce_map_from(AmbientSpace.smallest_base_ring(self.cartan_type())):
+    750             return None
+--> 751         return AmbientSpace(self, base_ring)
+    752 
+    753     def coambient_space(self, base_ring=QQ):
+
+/home/travis/sage-build/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()
     328         """
     329         if cls.classcall is not None:
 --> 330             return cls.classcall(cls, *args, **kwds)
     331         else:
     332             # Fast version of type.__call__(cls, *args, **kwds)
 
-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/coxeter_matrix.pyc in __classcall_private__(cls, data, index_set, coxeter_type, cartan_type, coxeter_type_check)
-    208                 raise ValueError("the given index set is not valid")
-    209 
---> 210         return cls._from_matrix(data, coxeter_type, index_set, coxeter_type_check)
-    211 
-    212     def __init__(self, parent, data, coxeter_type, index_set):
-
-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/coxeter_matrix.pyc in _from_matrix(cls, data, coxeter_type, index_set, coxeter_type_check)
-    292                 coxeter_type = CoxeterType(['A', 1])
-    293             elif coxeter_type_check:
---> 294                 coxeter_type = recognize_coxeter_type_from_matrix(M, index_set)
-    295             else:
-    296                 coxeter_type = None
-
-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/coxeter_matrix.pyc in recognize_coxeter_type_from_matrix(coxeter_matrix, index_set)
-   1154             return None
-   1155 
--> 1156     return CoxeterType(types)
-   1157 
-   1158 #####################################################################
-
-/opt/sage/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()
-    328         """
-    329         if cls.classcall is not None:
---> 330             return cls.classcall(cls, *args, **kwds)
-    331         else:
-    332             # Fast version of type.__call__(cls, *args, **kwds)
-
-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/coxeter_type.pyc in __classcall_private__(cls, *x)
-     52 
-     53         try:
----> 54             return CoxeterTypeFromCartanType(CartanType(x))
-     55         except (ValueError, TypeError):
-     56             pass
-
-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/cartan_type.pyc in __call__(self, *args)
-    732         from . import type_reducible
-    733         try:
---> 734             return type_reducible.CartanType([ CartanType(subtype) for subtype in t ])
-    735         except (SyntaxError, ValueError):
-    736             raise ValueError("%s is not a valid Cartan type"%t)
-
-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/type_reducible.pyc in __init__(self, types)
-    124         self._index_relabelling = dict((indices[i], i) for i in range(1, len(indices)))
-    125 
---> 126         self._spaces = [t.root_system().ambient_space() for t in types]
-    127         if all(l is not None for l in self._spaces):
-    128             self._shifts = [sum(l.dimension() for l in self._spaces[:k])
-
-/opt/sage/local/lib/python2.7/site-packages/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller.__call__ (build/cythonized/sage/misc/cachefunc.c:10785)()
-   2012                 return cache[k]
-   2013         except KeyError:
--> 2014             w = self._instance_call(*args, **kwds)
-   2015             cache[k] = w
-   2016             return w
-/opt/sage/local/lib/python2.7/site-packages/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller._instance_call (build/cythonized/sage/misc/cachefunc.c:10236)()
-   1888             True
-   1889         """
--> 1890         return self.f(self._instance, *args, **kwds)
-   1891 
-   1892     cdef fix_args_kwds(self, tuple args, dict kwds):
-
-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/root_system.pyc in ambient_space(self, base_ring)
-    749         if not base_ring.has_coerce_map_from(AmbientSpace.smallest_base_ring(self.cartan_type())):
-    750             return None
---> 751         return AmbientSpace(self, base_ring)
-    752 
-    753     def coambient_space(self, base_ring=QQ):
-
-/opt/sage/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1590)()
-    328         """
-    329         if cls.classcall is not None:
---> 330             return cls.classcall(cls, *args, **kwds)
-    331         else:
-    332             # Fast version of type.__call__(cls, *args, **kwds)
-
-/opt/sage/local/lib/python2.7/site-packages/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6246)()
+/home/travis/sage-build/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6246)()
    1057                 return self.cache[k]
    1058         except KeyError:
 -> 1059             w = self.f(*args, **kwds)
    1060             self.cache[k] = w
    1061             return w
 
-/opt/sage/local/lib/python2.7/site-packages/sage/structure/unique_representation.pyc in __classcall__(cls, *args, **options)
+/home/travis/sage-build/local/lib/python2.7/site-packages/sage/structure/unique_representation.pyc in __classcall__(cls, *args, **options)
    1019             True
    1020         """
 -> 1021         instance = typecall(cls, *args, **options)
    1022         assert isinstance( instance, cls )
    1023         if instance.__class__.__reduce__ == CachedRepresentation.__reduce__:
 
-/opt/sage/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2040)()
+/home/travis/sage-build/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2040)()
     495             TypeError: Argument 'cls' has incorrect type (expected type, got classobj)
     496     """
 --> 497     return (<PyTypeObject*>type).tp_call(cls, args, kwds)
     498 
     499 # Class for timing::
 
-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/ambient_space.pyc in __init__(self, root_system, base_ring, index_set)
+/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/ambient_space.pyc in __init__(self, root_system, base_ring, index_set)
      89         self.root_system = root_system
      90         if index_set is None:
 ---> 91             index_set = tuple(range(0, self.dimension()))
      92         CombinatorialFreeModule.__init__(self, base_ring,
      93                                          index_set,
 
-/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/type_relabel.pyc in dimension(self)
+/home/travis/sage-build/local/lib/python2.7/site-packages/sage/combinat/root_system/type_relabel.pyc in dimension(self)
     425         """
     426         # Can't yet use _dual_space for the base ring (and cartan_type?) is not yet initialized
 --> 427         return self.root_system.cartan_type()._type.root_system().ambient_space().dimension()
@@ -129,3 +79,16 @@
 AttributeError: 'NoneType' object has no attribute 'dimension'
 ```
 
+A proper fix for this issue would be implementing ambient spaces for non-crystallographic finite types, but we hack around this for now by just forbidding the inheritance of the relabel's finite type.
+
+The original error was found by
+
+```
+sage: p=2; q=2; r=5
+sage: CoxeterMatrix([[1,p,r],[p,1,q],[r,q,1]])
+---------------------------------------------------------------------------
+AttributeError                            Traceback (most recent call last)
+...
+AttributeError: 'NoneType' object has no attribute 'dimension'
+```
+
``````




---

archive/issue_events_344417.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-03-02T22:24:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-344417"
}
```



---

archive/issue_comments_378585.json:
```json
{
    "body": "Commit: **[`9ee3640`](https://github.com/sagemath/sagetrac-mirror/commit/9ee36404fcf1de403a2cb76fa7ec47e879adf7c9)**",
    "created_at": "2018-03-02T22:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-378585",
    "user": "https://github.com/tscrim"
}
```

Commit: **[`9ee3640`](https://github.com/sagemath/sagetrac-mirror/commit/9ee36404fcf1de403a2cb76fa7ec47e879adf7c9)**



---

archive/issue_comments_378586.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nOkay, I found the underlying issue and hacked around it. The proper fix can be a followup. See the ticket description.\n\nAlso, you can do a little better for the ticket title. :P\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/412781c98d94cd73ab12c0d708df591d8739d811\">412781c</a></td><td><code>Fixing printing and latex of relabelings of type H,I.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ee36404fcf1de403a2cb76fa7ec47e879adf7c9\">9ee3640</a></td><td><code>Hacking around issue with ambient_space() for relabelled non-crystallographic Cartan types.</code></td></tr></table>\n",
    "created_at": "2018-03-02T22:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-378586",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:1" align="right">comment:1</div>

Okay, I found the underlying issue and hacked around it. The proper fix can be a followup. See the ticket description.

Also, you can do a little better for the ticket title. :P

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/412781c98d94cd73ab12c0d708df591d8739d811">412781c</a></td><td><code>Fixing printing and latex of relabelings of type H,I.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ee36404fcf1de403a2cb76fa7ec47e879adf7c9">9ee3640</a></td><td><code>Hacking around issue with ambient_space() for relabelled non-crystallographic Cartan types.</code></td></tr></table>




---

archive/issue_comments_378587.json:
```json
{
    "body": "Author: **Travis Scrimshaw**",
    "created_at": "2018-03-02T22:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-378587",
    "user": "https://github.com/tscrim"
}
```

Author: **Travis Scrimshaw**



---

archive/issue_comments_378588.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI also fixed some issues with the outputs of relabeled types H and I that were related and useful in my debugging.",
    "created_at": "2018-03-02T22:25:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-378588",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:2" align="right">comment:2</div>

I also fixed some issues with the outputs of relabeled types H and I that were related and useful in my debugging.



---

archive/issue_comments_378589.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\npositive review if patchbot turns green",
    "created_at": "2018-03-03T08:26:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-378589",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">comment:3</div>

positive review if patchbot turns green



---

archive/issue_comments_378590.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nsome failing doctests",
    "created_at": "2018-03-03T10:57:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-378590",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>

some failing doctests



---

archive/issue_events_344418.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-03-03T10:57:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-344418"
}
```



---

archive/issue_events_344419.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-03-03T10:57:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-344419"
}
```



---

archive/issue_comments_378591.json:
```json
{
    "body": "Changed commit from **[`9ee3640`](https://github.com/sagemath/sagetrac-mirror/commit/9ee36404fcf1de403a2cb76fa7ec47e879adf7c9)** to **[`38b88ae`](https://github.com/sagemath/sagetrac-mirror/commit/38b88aece837e3d26936495e9e18c7787c668025)**",
    "created_at": "2018-03-03T21:50:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-378591",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9ee3640`](https://github.com/sagemath/sagetrac-mirror/commit/9ee36404fcf1de403a2cb76fa7ec47e879adf7c9)** to **[`38b88ae`](https://github.com/sagemath/sagetrac-mirror/commit/38b88aece837e3d26936495e9e18c7787c668025)**



---

archive/issue_comments_378592.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72ea7b7aa6af655c91713ae3d73d62d34e1146f6\">72ea7b7</a></td><td><code>Merge branch 'develop' into public/combinat/fix_coxeter_matrix-24892</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38b88aece837e3d26936495e9e18c7787c668025\">38b88ae</a></td><td><code>Special exemption for super Cartan types.</code></td></tr></table>\n",
    "created_at": "2018-03-03T21:50:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-378592",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72ea7b7aa6af655c91713ae3d73d62d34e1146f6">72ea7b7</a></td><td><code>Merge branch 'develop' into public/combinat/fix_coxeter_matrix-24892</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38b88aece837e3d26936495e9e18c7787c668025">38b88ae</a></td><td><code>Special exemption for super Cartan types.</code></td></tr></table>




---

archive/issue_comments_378593.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2018-03-03T21:51:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-378593",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_comments_378594.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI added a short-circuiting exemption for super Cartan types (for which there is not really a notion of crystallographic AFAIK, which is why there is no such method for them).",
    "created_at": "2018-03-03T21:51:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-378594",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">comment:6</div>

I added a short-circuiting exemption for super Cartan types (for which there is not really a notion of crystallographic AFAIK, which is why there is no such method for them).



---

archive/issue_events_344420.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-03-03T21:51:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-344420"
}
```



---

archive/issue_events_344421.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-03-03T21:51:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-344421"
}
```



---

archive/issue_comments_378595.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nping",
    "created_at": "2018-03-08T09:10:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-378595",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:7" align="right">comment:7</div>

ping



---

archive/issue_comments_378596.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n**ping**",
    "created_at": "2018-03-11T03:39:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-378596",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:8" align="right">comment:8</div>

**ping**



---

archive/issue_events_344422.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-03-11T07:28:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-344422"
}
```



---

archive/issue_events_344423.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-03-11T07:28:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-344423"
}
```



---

archive/issue_comments_378597.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nok",
    "created_at": "2018-03-11T07:28:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-378597",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">comment:9</div>

ok



---

archive/issue_comments_378598.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThank you.",
    "created_at": "2018-03-11T07:41:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-378598",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">comment:10</div>

Thank you.



---

archive/issue_events_344424.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-19T07:57:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-344424"
}
```



---

archive/issue_events_344425.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6b96ae5d5374bbc2d01a11f8121c5b1c5f7f4e2f",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-03-19T07:57:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24892#event-344425"
}
```



---

archive/issue_comments_378599.json:
```json
{
    "body": "Changed branch from **[public/combinat/fix_coxeter_matrix-24892](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_coxeter_matrix-24892)** to **[`38b88ae`](https://github.com/sagemath/sagetrac-mirror/commit/38b88aece837e3d26936495e9e18c7787c668025)**",
    "created_at": "2018-03-19T07:57:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24892#issuecomment-378599",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/combinat/fix_coxeter_matrix-24892](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_coxeter_matrix-24892)** to **[`38b88ae`](https://github.com/sagemath/sagetrac-mirror/commit/38b88aece837e3d26936495e9e18c7787c668025)**
