# Issue 24711: Add remove_faces  method for simplicial complexes

archive/issues_024474.json:
```json
{
    "body": "Simplicial complexes have a `remove_face` method for removing a single face.\n\nIt might be worth having a `remove_faces` method for removing several faces at once.\n\nSee sage-devel discussion:\n- https://groups.google.com/d/topic/sage-devel/Uwx1X3sNAmw/discussion\n\nThis ticket also adds a boolean parameter `check` which when `True` causes these methods to throw a `ValueError` if the face to be removed does not exist.\n\nCC:  @jhpalmieri @slel @tscrim\n\nKeywords: simplicial_complex\n\nBranch/Commit: 609394430967d5d9cf37083508622313affd9547\n\nReviewer: Bryan Gin-ge Chen\n\nAuthor: John Palmieri\n\nDependencies: #25574\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/24711\n\n",
    "closed_at": "2018-08-05T08:43:10Z",
    "created_at": "2018-02-11T18:34:12Z",
    "labels": [
        "component: algebraic topology"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "Add remove_faces  method for simplicial complexes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24711",
    "user": "https://github.com/slel"
}
```
Simplicial complexes have a `remove_face` method for removing a single face.

It might be worth having a `remove_faces` method for removing several faces at once.

See sage-devel discussion:
- https://groups.google.com/d/topic/sage-devel/Uwx1X3sNAmw/discussion

This ticket also adds a boolean parameter `check` which when `True` causes these methods to throw a `ValueError` if the face to be removed does not exist.

CC:  @jhpalmieri @slel @tscrim

Keywords: simplicial_complex

Branch/Commit: 609394430967d5d9cf37083508622313affd9547

Reviewer: Bryan Gin-ge Chen

Author: John Palmieri

Dependencies: #25574

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/24711





---

archive/issue_comments_463383.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jhpalmieri/remove-faces\"",
    "created_at": "2018-06-14T04:52:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463383",
    "user": "https://github.com/jhpalmieri"
}
```

Changing branch from "" to "u/jhpalmieri/remove-faces"



---

archive/issue_comments_463384.json:
```json
{
    "body": "Changing dependencies from \"\" to \"25574\"",
    "created_at": "2018-06-14T04:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463384",
    "user": "https://github.com/jhpalmieri"
}
```

Changing dependencies from "" to "25574"



---

archive/issue_comments_463385.json:
```json
{
    "body": "Changing commit from \"\" to \"79fb28423b5e0b8e69ebd644b7e0130f5b65a494\"",
    "created_at": "2018-06-14T04:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463385",
    "user": "https://github.com/jhpalmieri"
}
```

Changing commit from "" to "79fb28423b5e0b8e69ebd644b7e0130f5b65a494"



---

archive/issue_comments_463386.json:
```json
{
    "body": "<a id='comment:2'></a>\nI tried writing `remove_faces` from scratch, but it turned out to be faster to just call the existing `remove_face` over and over again. At least, when removing faces of low codimension, it was about 5 times faster to call `remove_face` repeatedly. When removing faces of high codimension, my other version was a little faster, taking about 2/3 the time. Since the old version was much faster some of the time and a just little slower some of the time, I kept it.\n\n---\nNew commits:\n|                                                                                                                                          |                                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|\n|[c858879](https://github.com/sagemath/sagetrac-mirror/commit/c858879b8da8b5d9f83d023aa64aa02511aba73f)|`trac 25574: sort facets when printing simplicial complexes`|\n|[79fb284](https://github.com/sagemath/sagetrac-mirror/commit/79fb28423b5e0b8e69ebd644b7e0130f5b65a494)|`trac 24711: remove_faces method for simplicial complexes`|",
    "created_at": "2018-06-14T04:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463386",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>
I tried writing `remove_faces` from scratch, but it turned out to be faster to just call the existing `remove_face` over and over again. At least, when removing faces of low codimension, it was about 5 times faster to call `remove_face` repeatedly. When removing faces of high codimension, my other version was a little faster, taking about 2/3 the time. Since the old version was much faster some of the time and a just little slower some of the time, I kept it.

---
New commits:
|                                                                                                                                          |                                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|
|[c858879](https://github.com/sagemath/sagetrac-mirror/commit/c858879b8da8b5d9f83d023aa64aa02511aba73f)|`trac 25574: sort facets when printing simplicial complexes`|
|[79fb284](https://github.com/sagemath/sagetrac-mirror/commit/79fb28423b5e0b8e69ebd644b7e0130f5b65a494)|`trac 24711: remove_faces method for simplicial complexes`|



---

archive/issue_comments_463387.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-06-14T04:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463387",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_463388.json:
```json
{
    "body": "Changing dependencies from \"25574\" to \"#25574\"",
    "created_at": "2018-06-14T04:56:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463388",
    "user": "https://github.com/jhpalmieri"
}
```

Changing dependencies from "25574" to "#25574"



---

archive/issue_comments_463389.json:
```json
{
    "body": "Changing commit from \"79fb28423b5e0b8e69ebd644b7e0130f5b65a494\" to \"609394430967d5d9cf37083508622313affd9547\"",
    "created_at": "2018-06-14T14:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463389",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "79fb28423b5e0b8e69ebd644b7e0130f5b65a494" to "609394430967d5d9cf37083508622313affd9547"



---

archive/issue_comments_463390.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------|\n|[6093944](https://github.com/sagemath/sagetrac-mirror/commit/609394430967d5d9cf37083508622313affd9547)|`trac 24711: add remove_faces method for simplicial complexes`|",
    "created_at": "2018-06-14T14:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463390",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------|
|[6093944](https://github.com/sagemath/sagetrac-mirror/commit/609394430967d5d9cf37083508622313affd9547)|`trac 24711: add remove_faces method for simplicial complexes`|



---

archive/issue_comments_463391.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Bryan Gin-ge Chen\"",
    "created_at": "2018-07-27T21:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463391",
    "user": "https://github.com/bryangingechen"
}
```

Changing reviewer from "" to "Bryan Gin-ge Chen"



---

archive/issue_comments_463392.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,4 @@\n See sage-devel discussion:\n - https://groups.google.com/d/topic/sage-devel/Uwx1X3sNAmw/discussion\n \n+This ticket also adds a boolean parameter `check` which when `True` causes these methods to throw a `ValueError` if the face to be removed does not exist.\n``````\n",
    "created_at": "2018-07-27T21:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463392",
    "user": "https://github.com/bryangingechen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,4 @@
 See sage-devel discussion:
 - https://groups.google.com/d/topic/sage-devel/Uwx1X3sNAmw/discussion
 
+This ticket also adds a boolean parameter `check` which when `True` causes these methods to throw a `ValueError` if the face to be removed does not exist.
``````




---

archive/issue_comments_463393.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-07-27T21:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463393",
    "user": "https://github.com/bryangingechen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_463394.json:
```json
{
    "body": "<a id='comment:5'></a>\nThis looks good to me. I added a note about the new `check` parameter in the ticket description.",
    "created_at": "2018-07-27T21:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463394",
    "user": "https://github.com/bryangingechen"
}
```

<a id='comment:5'></a>
This looks good to me. I added a note about the new `check` parameter in the ticket description.



---

archive/issue_comments_463395.json:
```json
{
    "body": "<a id='comment:6'></a>\nI am not 100% sure we want to have a check on `remove_face`. For instance, we can run `add_face` multiple times on the same simplicial complex, so why not `remove_face`?",
    "created_at": "2018-07-29T03:52:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463395",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
I am not 100% sure we want to have a check on `remove_face`. For instance, we can run `add_face` multiple times on the same simplicial complex, so why not `remove_face`?



---

archive/issue_comments_463396.json:
```json
{
    "body": "<a id='comment:7'></a>\nAlso, (real) author name.",
    "created_at": "2018-07-29T03:52:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463396",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
Also, (real) author name.



---

archive/issue_comments_463397.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2018-07-29T03:52:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463397",
    "user": "https://github.com/tscrim"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_463398.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [tscrim](#comment%3A6):\n> I am not 100% sure we want to have a check on `remove_face`. For instance, we can run `add_face` multiple times on the same simplicial complex, so why not `remove_face`?\n\n\nNote that `check` is `False` by default so what you describe is the usual behavior.",
    "created_at": "2018-07-29T03:58:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463398",
    "user": "https://github.com/bryangingechen"
}
```

<a id='comment:8'></a>
Replying to [tscrim](#comment%3A6):
> I am not 100% sure we want to have a check on `remove_face`. For instance, we can run `add_face` multiple times on the same simplicial complex, so why not `remove_face`?


Note that `check` is `False` by default so what you describe is the usual behavior.



---

archive/issue_comments_463399.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [gh-bryangingechen](#comment%3A8):\n> Replying to [tscrim](#comment%3A6):\n> > I am not 100% sure we want to have a check on `remove_face`. For instance, we can run `add_face` multiple times on the same simplicial complex, so why not `remove_face`?\n\n> \n> Note that `check` is `False` by default so what you describe is the usual behavior.\n\n\nThe default behavior is irrelevant. I am questioning the divergence from `add_face` (and `add/remove_edge` from graphs). It also does impose an extra (albeit very small) maintenance burden that is worth taking a moment to consider.",
    "created_at": "2018-07-29T07:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463399",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
Replying to [gh-bryangingechen](#comment%3A8):
> Replying to [tscrim](#comment%3A6):
> > I am not 100% sure we want to have a check on `remove_face`. For instance, we can run `add_face` multiple times on the same simplicial complex, so why not `remove_face`?

> 
> Note that `check` is `False` by default so what you describe is the usual behavior.


The default behavior is irrelevant. I am questioning the divergence from `add_face` (and `add/remove_edge` from graphs). It also does impose an extra (albeit very small) maintenance burden that is worth taking a moment to consider.



---

archive/issue_comments_463400.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [tscrim](#comment%3A9):\n> The default behavior is irrelevant. I am questioning the divergence from `add_face` (and `add/remove_edge` from graphs). It also does impose an extra (albeit very small) maintenance burden that is worth taking a moment to consider.\n\n\nThanks for clarifying your comment and apologies for misinterpreting its intent. I agree that this is worth considering (I edited the description to make the change more visible, after all). Thanks also for pointing out the divergence with `add_face` and the graph functions, which I overlooked. \n\nIn my opinion, the convenience of having a parameter to easily \"safety-check\" a construction outweighs the minor burden introduced (particularly since the function never returns any output). However, for the purposes of keeping the behavior uniform, perhaps implementing the check (in all related functions) should be moved to another ticket.",
    "created_at": "2018-07-29T07:30:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463400",
    "user": "https://github.com/bryangingechen"
}
```

<a id='comment:10'></a>
Replying to [tscrim](#comment%3A9):
> The default behavior is irrelevant. I am questioning the divergence from `add_face` (and `add/remove_edge` from graphs). It also does impose an extra (albeit very small) maintenance burden that is worth taking a moment to consider.


Thanks for clarifying your comment and apologies for misinterpreting its intent. I agree that this is worth considering (I edited the description to make the change more visible, after all). Thanks also for pointing out the divergence with `add_face` and the graph functions, which I overlooked. 

In my opinion, the convenience of having a parameter to easily "safety-check" a construction outweighs the minor burden introduced (particularly since the function never returns any output). However, for the purposes of keeping the behavior uniform, perhaps implementing the check (in all related functions) should be moved to another ticket.



---

archive/issue_comments_463401.json:
```json
{
    "body": "Changing author from \"\" to \"John Palmieri\"",
    "created_at": "2018-07-29T19:58:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463401",
    "user": "https://github.com/jhpalmieri"
}
```

Changing author from "" to "John Palmieri"



---

archive/issue_comments_463402.json:
```json
{
    "body": "<a id='comment:11'></a>\nThe reason I added a `check` feature to the existing function `remove_face` comes from the original discussion on `sage-devel`, mentioned in the ticket description. If someone uses `K.remove_face([list of faces])`, as they attempted before posting with their question, it fails silently because `[list of faces]` is not a face in `K`. Adding this argument at least gives users the opportunity to do some simple debugging.",
    "created_at": "2018-07-29T19:58:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463402",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'></a>
The reason I added a `check` feature to the existing function `remove_face` comes from the original discussion on `sage-devel`, mentioned in the ticket description. If someone uses `K.remove_face([list of faces])`, as they attempted before posting with their question, it fails silently because `[list of faces]` is not a face in `K`. Adding this argument at least gives users the opportunity to do some simple debugging.



---

archive/issue_comments_463403.json:
```json
{
    "body": "<a id='comment:12'></a>\nOkay, I don't have any objections. I just wanted to make sure it was considered.",
    "created_at": "2018-07-30T07:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463403",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
Okay, I don't have any objections. I just wanted to make sure it was considered.



---

archive/issue_comments_463404.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2018-07-30T07:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463404",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_events_078562.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-07-30T07:18:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24711#event-78562"
}
```



---

archive/issue_events_078563.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-05T08:43:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24711#event-78563"
}
```



---

archive/issue_comments_463405.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-08-05T08:43:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463405",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_463406.json:
```json
{
    "body": "Changing branch from \"u/jhpalmieri/remove-faces\" to \"609394430967d5d9cf37083508622313affd9547\"",
    "created_at": "2018-08-05T08:43:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24711",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24711#issuecomment-463406",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jhpalmieri/remove-faces" to "609394430967d5d9cf37083508622313affd9547"
