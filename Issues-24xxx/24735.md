# Issue 24735: Package sphinxcontrib_websupport

archive/issues_024735.json:
```json
{
    "body": "CC:  @dimpase\n\nRunning Sphinx from the command-line is typically done by the `sphinx-build` script. This requires that all dependencies of Sphinx are actually installed (even if they are not used). This means that `typing` and `sphinxcontrib-websupport` should be added as dependencies of Sphinx.\n\nOtherwise, you get errors like\n\n```\n[cvxopt-1.1.8.p2] sphinx-build -b html -d build/doctrees   source build/html\n[cvxopt-1.1.8.p2] Traceback (most recent call last):\n[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/bin/sphinx-build\", line 6, in <module>\n[cvxopt-1.1.8.p2]     from pkg_resources import load_entry_point\n[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3144, in <module>\n[cvxopt-1.1.8.p2]     @_call_aside\n[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3128, in _call_aside\n[cvxopt-1.1.8.p2]     f(*args, **kwargs)\n[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3157, in _initialize_master_working_set\n[cvxopt-1.1.8.p2]     working_set = WorkingSet._build_master()\n[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 666, in _build_master\n[cvxopt-1.1.8.p2]     ws.require(__requires__)\n[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 984, in require\n[cvxopt-1.1.8.p2]     needed = self.resolve(parse_requirements(requirements))\n[cvxopt-1.1.8.p2]   File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 870, in resolve\n[cvxopt-1.1.8.p2]     raise DistributionNotFound(req, requirers)\n[cvxopt-1.1.8.p2] pkg_resources.DistributionNotFound: The 'sphinxcontrib-websupport' distribution was not found and is required by Sphinx\n```\nNote that it is Sphinx itself which requires `sphinxcontrib-websupport`. This is unrelated to `cvxopt` but I'm just using that as example because of #14645.\n\n**Tarball**: https://pypi.python.org/packages/c5/6b/f0630436b931ad4f8331a9399ca18a7d447f0fcc0c7178fb56b1aee68d01/sphinxcontrib-websupport-1.0.1.tar.gz#md5=84df26463b1ba65b07f926dbe2055665\n\nIssue created by migration from https://trac.sagemath.org/ticket/24972\n\n",
    "closed_at": "2018-03-22T19:23:18Z",
    "created_at": "2018-03-14T08:35:50Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Package sphinxcontrib_websupport",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24735",
    "user": "https://github.com/jdemeyer"
}
```
CC:  @dimpase

Running Sphinx from the command-line is typically done by the `sphinx-build` script. This requires that all dependencies of Sphinx are actually installed (even if they are not used). This means that `typing` and `sphinxcontrib-websupport` should be added as dependencies of Sphinx.

Otherwise, you get errors like

```
[cvxopt-1.1.8.p2] sphinx-build -b html -d build/doctrees   source build/html
[cvxopt-1.1.8.p2] Traceback (most recent call last):
[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/bin/sphinx-build", line 6, in <module>
[cvxopt-1.1.8.p2]     from pkg_resources import load_entry_point
[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 3144, in <module>
[cvxopt-1.1.8.p2]     @_call_aside
[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 3128, in _call_aside
[cvxopt-1.1.8.p2]     f(*args, **kwargs)
[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 3157, in _initialize_master_working_set
[cvxopt-1.1.8.p2]     working_set = WorkingSet._build_master()
[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 666, in _build_master
[cvxopt-1.1.8.p2]     ws.require(__requires__)
[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 984, in require
[cvxopt-1.1.8.p2]     needed = self.resolve(parse_requirements(requirements))
[cvxopt-1.1.8.p2]   File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 870, in resolve
[cvxopt-1.1.8.p2]     raise DistributionNotFound(req, requirers)
[cvxopt-1.1.8.p2] pkg_resources.DistributionNotFound: The 'sphinxcontrib-websupport' distribution was not found and is required by Sphinx
```
Note that it is Sphinx itself which requires `sphinxcontrib-websupport`. This is unrelated to `cvxopt` but I'm just using that as example because of #14645.

**Tarball**: https://pypi.python.org/packages/c5/6b/f0630436b931ad4f8331a9399ca18a7d447f0fcc0c7178fb56b1aee68d01/sphinxcontrib-websupport-1.0.1.tar.gz#md5=84df26463b1ba65b07f926dbe2055665

Issue created by migration from https://trac.sagemath.org/ticket/24972





---

archive/issue_comments_346852.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-03-14T09:34:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24735",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24735#issuecomment-346852",
    "user": "https://github.com/jdemeyer"
}
```

New commits:



---

archive/issue_comments_346853.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-03-14T09:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24735",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24735#issuecomment-346853",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_346854.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-03-14T09:40:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24735",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24735#issuecomment-346854",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_346855.json:
```json
{
    "body": "looks good to me.",
    "created_at": "2018-03-14T11:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24735",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24735#issuecomment-346855",
    "user": "https://github.com/dimpase"
}
```

looks good to me.



---

archive/issue_comments_346856.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-03-14T11:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24735",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24735#issuecomment-346856",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_346857.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-03-22T19:23:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24735",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24735#issuecomment-346857",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_062653.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-22T19:23:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24735",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24735#event-62653"
}
```



---

archive/issue_comments_346858.json:
```json
{
    "body": "I just ran into this issue as well (see https://travis-ci.org/koffie/mdsage/jobs/374406653). It is good to see it is fixed. However it does make me wonder how it was possible that this problem got silently into sage-8.1? Is there no test somewhere that the sphinx-build script we ship is actually working? Looking at the code here it seems also that no such test was added, should there be one?",
    "created_at": "2018-05-03T15:17:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24735",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24735#issuecomment-346858",
    "user": "https://github.com/koffie"
}
```

I just ran into this issue as well (see https://travis-ci.org/koffie/mdsage/jobs/374406653). It is good to see it is fixed. However it does make me wonder how it was possible that this problem got silently into sage-8.1? Is there no test somewhere that the sphinx-build script we ship is actually working? Looking at the code here it seems also that no such test was added, should there be one?
