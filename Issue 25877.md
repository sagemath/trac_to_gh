# Issue 25877: jsmol symlink incorrect

Issue created by migration from https://trac.sagemath.org/ticket/26114

Original creator: jdemeyer

Original creation time: 2018-08-23 13:02:50

CC:  @timokau

The `nbextensions/jsmol` symlinks points to `jmol` instead of `jsmol`:


```
jdemeyer@tamiyo:/usr/local/src/sage-config$ ls -l /usr/local/src/sage-config/local/share/jupyter/nbextensions/
total 20
drwxr-xr-x 2 jdemeyer jdemeyer 4096 Aug 11 16:47 gp-mode
drwxr-xr-x 2 jdemeyer jdemeyer 4096 Jan 26  2018 ipysheet
lrwxrwxrwx 1 jdemeyer jdemeyer   43 Aug 23 14:53 jsmol -> /usr/local/src/sage-config/local/share/jmol
drwxr-xr-x 2 jdemeyer jdemeyer 4096 Aug 11 16:47 jupyter-js-widgets
lrwxrwxrwx 1 jdemeyer jdemeyer   46 Aug 23 14:53 mathjax -> /usr/local/src/sage-config/local/share/mathjax
drwxr-xr-x 3 jdemeyer jdemeyer 4096 Apr 30 09:35 rise
drwxr-xr-x 2 jdemeyer jdemeyer 4096 Aug 23 14:53 singular-mode
lrwxrwxrwx 1 jdemeyer jdemeyer   46 Aug 23 14:53 threejs -> /usr/local/src/sage-config/local/share/threejs
```



---

Comment by jdemeyer created at 2018-08-23 13:14:02

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2018-08-23 13:14:02

New commits:


---

Comment by git created at 2018-08-23 13:21:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tmonteil created at 2018-08-23 15:53:32

Changing status from needs_review to positive_review.


---

Comment by tmonteil created at 2018-08-23 15:53:32

I was going to open a ticket about this (just preparing a demo). Thanks for fixig that !


---

Comment by @timokau created at 2018-08-23 17:20:18

Sorry, not sure what I was thinking when making it default to `JMOL_DIR`. #25309 really should've been split up into smaller changes for easier review.

Why wasn't this caught by the doctest framework? Don't we have any doctests testing the jsmol functionality?


---

Comment by fbissey created at 2018-08-23 21:01:15

Replying to [comment:7 gh-timokau]:
> Sorry, not sure what I was thinking when making it default to `JMOL_DIR`. #25309 really should've been split up into smaller changes for easier review.
> 
> Why wasn't this caught by the doctest framework? Don't we have any doctests testing the jsmol functionality?

And I had to split it in sage-on-gentoo, very similarly. Why did I think it was OK in vanilla sage.


---

Comment by vbraun created at 2018-08-26 09:38:20

Resolution: fixed


---

Comment by jdemeyer created at 2018-08-27 11:46:08

Replying to [comment:7 gh-timokau]:
> Don't we have any doctests testing the jsmol functionality?

That would require a way to run javascript code. At least, I added a test in this ticket that the script `JSmol.min.js` exists.
