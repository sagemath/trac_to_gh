# Issue 33903: a cosine of arcsin limit that is evaluated incorrectly

Issue created by migration from https://trac.sagemath.org/ticket/34140

Original creator: @DaveWitteMorris

Original creation time: 2022-07-09 18:22:49

Keywords: limit, maxima

It is not difficult to see that the value of the following limit is `4*m + 1`. However, sagemath says the value is `0`:

```
sage: m = var('m');
sage: with hold:
....:     assume(cos((4*pi*m+pi)/2) == 0)
....: 
sage: D = cos((4 * m + 1)*arcsin(1/sqrt(x^2 + 1)))/abs(x)
sage: lim(D, x=0)
0
```

This is a maxima bug:

```
(%i1) declare(m, integer)$ 
(%i2) assume(equal(cos((4 * %pi * m + %pi)/2), 0))$
(%i3) limit(cos((4*m +Â 1) * asin(1/sqrt(x^2 + 1)))/abs(x), x, 0);
(%o3)                                  0
```


This is an offshoot of #29616 (maxima asks for assumption but then rejects it as redundant).


---

Comment by @DaveWitteMorris created at 2022-07-09 18:36:00

Giac also gives a wrong answer, but a different one:

```
sage: lim(D, x=0, algorithm="giac")
+Infinity
```

I think sage only shares its assumptions with maxima and pynac, so giac cannot know that `m` is an integer. The answer `+Infinity` is correct generically, but it is the wrong answer in the special case that we are interested in.

Sympy gives an error, instead of an answer:

```
sage: lim(D, x=0, algorithm="sympy")
      <snip>
RuntimeError: indeterminate expression: 0 * infinity encountered.
```



---

Comment by @DaveWitteMorris created at 2022-07-09 18:47:21

This is now tracked at [maxima bug #4004](https://sourceforge.net/p/maxima/bugs/4004/)
