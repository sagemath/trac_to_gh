# Issue 12258: add fwrapv cflag when building python with clang

Issue created by migration from Trac.

Original creator: ohanar

Original creation time: 2012-02-04 17:46:40

Assignee: GeorgSWeber

Keywords: python

This is [http://bugs.python.org/issue11149](http://bugs.python.org/issue11149) and needs to be fixed in order to support clang.

I've posted an spkg at [http://wstein.org/home/ohanar/clang-port/sage-5.0.beta1-src/spkg/standard/python-2.7.2.p2.spkg](http://wstein.org/home/ohanar/clang-port/sage-5.0.beta1-src/spkg/standard/python-2.7.2.p2.spkg).


---

Comment by ohanar created at 2012-02-04 17:46:55

for review purposes


---

Comment by ohanar created at 2012-02-04 17:52:19

Changing status from new to needs_review.


---

Attachment


---

Comment by jdemeyer created at 2012-02-08 13:19:27

Since I was working on Python myself for #11967 and #12422, I made a spkg based on #11967.  It uses #12367 to add the -fwrapv flag when supported.  It also does some reorganisation of `spkg-install`, similarly to what you did.


---

Attachment

Diff for the python spkg based on #11967, for review only


---

Comment by jdemeyer created at 2012-02-08 21:36:19

R. Andrew Ohana: can you test my spkg with clang please?  You can review the spkg, since I wrote it (inspired by yours).


---

Comment by ohanar created at 2012-02-08 21:37:59

Replying to [comment:3 jdemeyer]:
> R. Andrew Ohana: can you test my spkg with clang please?  You can review the spkg, since I wrote it (inspired by yours).

Already did (otherwise this ticket would have gone back to need work). Everything works as it should.


---

Comment by ohanar created at 2012-02-08 21:37:59

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-02-14 14:23:04

Resolution: fixed
