# Issue 14827: More vectors in matrix kernel

Issue created by migration from https://trac.sagemath.org/ticket/15064

Original creator: okazymyrov

Original creation time: 2013-08-19 15:26:58

Keywords: kernel matrix

The function 'right_kernel' doesn't return all vectors. See attached file for details.


---

Comment by rbeezer created at 2013-08-19 16:02:26

Appears to me that your "extra" vector is already in the kernel as a linear combination of the basis vectors provided by Sage?  


```
sage: r = vector(GF(2), [1,1,1,1,1])  
sage: r*K
(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1)
sage: matrix(GF(2),15,1,[1 for _ in xrange(15)])
[1]
[1]
[1]
[1]
[1]
[1]
[1]
[1]
[1]
[1]
[1]
[1]
[1]
[1]
[1]
```



---

Comment by okazymyrov created at 2013-08-19 17:07:45

As far as I understood, "kernel" returns a matrix space with a basis. Every element k in K.list() gives "0" vector (M*k).

However, there is no information in the documentation ([http://www.sagemath.org/doc/tutorial/tour_linalg.html](http://www.sagemath.org/doc/tutorial/tour_linalg.html)) regarding this.


---

Comment by okazymyrov created at 2013-08-19 17:08:50

Changing priority from major to trivial.


---

Comment by okazymyrov created at 2013-08-19 17:08:50

Changing type from defect to enhancement.


---

Comment by rbeezer created at 2013-08-19 17:52:14

`.kernel()` gives a vector space, not a matrix space.

`.matrix()` provides a matrix whose rows are a basis of the vector space.

`.list()` for a matrix might gives the rows, or something (unchecked).

"Every element k in K.list() gives "0" vector (M*k)."  As it should be.  But your ticket implies you think the converse should be true.  This would be impractical for matrices over an infinite ring.

Did you try listing the actual vectors of the kernel itself, not the matrix?  Not sure if that will behave as expected or not.  Perhaps so?


---

Comment by okazymyrov created at 2013-08-19 18:26:46

I have the following output (Mac OS X 10.8.4):


```python
sage: K
Vector space of degree 15 and dimension 5 over Finite Field of size 2
Basis matrix:
[1 0 0 0 0 0 1 1 0 0 0 1 0 0 1]
[0 1 0 0 0 0 0 0 0 1 0 0 1 1 1]
[0 0 1 0 0 1 0 1 1 0 0 0 0 1 1]
[0 0 0 1 0 1 1 1 1 1 0 0 1 1 1]
[0 0 0 0 1 1 1 0 1 1 1 0 1 0 1]
sage: K.list()
[(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
 (1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 1),
 (0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1),
 (1, 1, 0, 0, 0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 0),
 (0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 0, 0, 0, 1, 1),
 (1, 0, 1, 0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 1, 0),
 (0, 1, 1, 0, 0, 1, 0, 1, 1, 1, 0, 0, 1, 0, 0),
 (1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, 1, 1, 0, 1),
 (0, 0, 0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1),
 (1, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 1, 1, 1, 0),
 (0, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0),
 (1, 1, 0, 1, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1),
 (0, 0, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0),
 (1, 0, 1, 1, 0, 0, 0, 1, 0, 1, 0, 1, 1, 0, 1),
 (0, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1),
 (1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0),
 (0, 0, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1),
 (1, 0, 0, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0),
 (0, 1, 0, 0, 1, 1, 1, 0, 1, 0, 1, 0, 0, 1, 0),
 (1, 1, 0, 0, 1, 1, 0, 1, 1, 0, 1, 1, 0, 1, 1),
 (0, 0, 1, 0, 1, 0, 1, 1, 0, 1, 1, 0, 1, 1, 0),
 (1, 0, 1, 0, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1),
 (0, 1, 1, 0, 1, 0, 1, 1, 0, 0, 1, 0, 0, 0, 1),
 (1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0),
 (0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0),
 (1, 0, 0, 1, 1, 0, 1, 0, 0, 0, 1, 1, 0, 1, 1),
 (0, 1, 0, 1, 1, 0, 0, 1, 0, 1, 1, 0, 1, 0, 1),
 (1, 1, 0, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 0, 0),
 (0, 0, 1, 1, 1, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1),
 (1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0),
 (0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1, 1, 0),
 (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1)]
```


I guess that "K.list()" gives all linear combinations of the basis.


---

Comment by rbeezer created at 2013-08-19 18:38:51

And `2^5 = 32` such vectors.


```
sage: len(K.list())
32
```


As expected, all linear combinations.  Anything left to do here?


---

Comment by okazymyrov created at 2013-08-19 18:52:38

No, thanks for clarification. In my opinion, someone has to update the documentation.


---

Comment by rbeezer created at 2013-08-19 20:15:45

OK.  Would you like to modify the "description" field on this ticket to clarify exactly what was confusing, or in need of changes/additions?  Maybe "someone" will read this transcript someday and have a whack at it.

Thanks for the input,
Rob


---

Comment by okazymyrov created at 2013-08-19 20:35:33

Changing status from new to needs_review.


---

Attachment


---

Comment by rbeezer created at 2013-08-19 20:48:33

"needs review" means there are actual changes in a patch, which are ready to be reviewed.  I'm going to change that, it will still be seen in reports, etc, by people looking for things to do.


---

Comment by rbeezer created at 2013-08-19 20:48:33

Changing status from needs_review to needs_info.
