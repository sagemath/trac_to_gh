# Issue 22567: add isometry feature to affine_hull of polyhedra

archive/issues_022567.json:
```json
{
    "body": "CC:  @videlec\n\nKeywords: polyhedron\n\nAs mentioned in ticket:16045#comment:22 it would be desirable to get the affine hull of a polyhderon, while preserving the polyhedron isometrically (instead of applying an affine transformation, that might distort lenght, volumes, angels, etc.). \n\nI propose to add an option \"algorithm\" for the `.affine_hull` method for polyhedra. \nThis can then be used to correctly calculate volume of non full-diemsional polyhedra, see #16045. \n\nIssue created by migration from https://trac.sagemath.org/ticket/22804\n\n",
    "created_at": "2017-04-13T11:49:47Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "add isometry feature to affine_hull of polyhedra",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22567",
    "user": "https://github.com/mo271"
}
```
CC:  @videlec

Keywords: polyhedron

As mentioned in ticket:16045#comment:22 it would be desirable to get the affine hull of a polyhderon, while preserving the polyhedron isometrically (instead of applying an affine transformation, that might distort lenght, volumes, angels, etc.). 

I propose to add an option "algorithm" for the `.affine_hull` method for polyhedra. 
This can then be used to correctly calculate volume of non full-diemsional polyhedra, see #16045. 

Issue created by migration from https://trac.sagemath.org/ticket/22804





---

archive/issue_comments_314375.json:
```json
{
    "body": "Two quick comments\n\n1) The keyword `algorithm` is very misleading. \"Algorithm\" refers to a method to compute something not the result itself. Moreover, both constructions are projections. You should find something more coherent! And also describe in the documentation what is the result.\n\n2) I like better the more explicit\n\n```\nP.vertices()[0].vector() == P.ambient_space().zero()\n```\n\n---\nNew commits:",
    "created_at": "2017-04-14T16:19:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314375",
    "user": "https://github.com/videlec"
}
```

Two quick comments

1) The keyword `algorithm` is very misleading. "Algorithm" refers to a method to compute something not the result itself. Moreover, both constructions are projections. You should find something more coherent! And also describe in the documentation what is the result.

2) I like better the more explicit

```
P.vertices()[0].vector() == P.ambient_space().zero()
```

---
New commits:



---

archive/issue_comments_314376.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-04-14T20:26:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314376",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_314377.json:
```json
{
    "body": "Thanks for your comments, Vincent! I hope the new commit addresses all the proposed changes.\n\nI was not quite happy with the choice of \"algorithm\" for a name of the parameter. Now I named the parameter \"force_isometry\".",
    "created_at": "2017-04-14T20:31:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314377",
    "user": "https://github.com/mo271"
}
```

Thanks for your comments, Vincent! I hope the new commit addresses all the proposed changes.

I was not quite happy with the choice of "algorithm" for a name of the parameter. Now I named the parameter "force_isometry".



---

archive/issue_comments_314378.json:
```json
{
    "body": "I don't understand why this step\n\n```\n    #if the self is full-dimensional, return it immediately\n    if self.ambient_dim() == self.dim():\n        return self\n```\nis inside the `if force_isometry`.",
    "created_at": "2017-04-15T16:09:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314378",
    "user": "https://github.com/videlec"
}
```

I don't understand why this step

```
    #if the self is full-dimensional, return it immediately
    if self.ambient_dim() == self.dim():
        return self
```
is inside the `if force_isometry`.



---

archive/issue_comments_314379.json:
```json
{
    "body": "Replying to [comment:5 vdelecroix]:\n> I don't understand why this step\n> \n> ```\n>     #if the self is full-dimensional, return it immediately\n>     if self.ambient_dim() == self.dim():\n>         return self\n> ```\n> is inside the `if force_isometry`.\n\nThe intent was not to disturb the original method too much. \n\nHoweer , I will gladly move it above the `if force_isometry`. (I don't know why the old method didn't include this check..)",
    "created_at": "2017-04-15T16:14:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314379",
    "user": "https://github.com/mo271"
}
```

Replying to [comment:5 vdelecroix]:
> I don't understand why this step
> 
> ```
>     #if the self is full-dimensional, return it immediately
>     if self.ambient_dim() == self.dim():
>         return self
> ```
> is inside the `if force_isometry`.

The intent was not to disturb the original method too much. 

Howeer , I will gladly move it above the `if force_isometry`. (I don't know why the old method didn't include this check..)



---

archive/issue_comments_314380.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-04-17T14:46:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314380",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_314381.json:
```json
{
    "body": "This looks like a nice interface, but let me just say that for volume computations it's overkill to compute this (which will lead to a double description computation in the slow \"field\" backend), when all one needs is to compute a scaling factor for the volume...\n\nAnother comment: I don't think this is a suitable test:\n\n```\nif self.base_ring() in [ZZ,QQ]\n```\nbecause you could as well have some number field that is too small.\n\n```\nsage: D = polytopes.dodecahedron()\nsage: F = D.faces(2)[0].as_polyhedron()\nsage: F.affine_hull(force_isometry=True)\nTypeError: QR decomposition unable to compute square roots in Number Field in sqrt5 with defining polynomial x^2 - 5\n```",
    "created_at": "2017-04-17T19:40:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314381",
    "user": "https://github.com/mkoeppe"
}
```

This looks like a nice interface, but let me just say that for volume computations it's overkill to compute this (which will lead to a double description computation in the slow "field" backend), when all one needs is to compute a scaling factor for the volume...

Another comment: I don't think this is a suitable test:

```
if self.base_ring() in [ZZ,QQ]
```
because you could as well have some number field that is too small.

```
sage: D = polytopes.dodecahedron()
sage: F = D.faces(2)[0].as_polyhedron()
sage: F.affine_hull(force_isometry=True)
TypeError: QR decomposition unable to compute square roots in Number Field in sqrt5 with defining polynomial x^2 - 5
```



---

archive/issue_comments_314382.json:
```json
{
    "body": "I agree that for volume computations, this is an overkill. (see more on that below)\n\nFor other purposes it might still be useful to have. At the moment, it is not possible it is cumbersome to plot a regular tetrahedron, which looks like a regular tetrahedron. With this feature this is really easy. (Same for other polytopes that are most easily defined as non full-dimensional polytopes. \nTherefore I would like to keep this new feature.\n\nI propose to add two new ways to obtain the affine hull: \n\n- `orthonormal`, which should be simply what has been called isometry above\n- `orthogonal`, a scaled version, that uses `gram_schmitt`. From that the scaling factor can be obtained.\n\nNow I wonder where to store or return the scaling factor. \n\nWould the following be a reasonable way to do it:\nhave a method like\n\n```\ndef affine_hull(self, mode= \"default\", return_scaling_factor=False)\n```\n\nHere `mode` can take values `\"default\"`, `\"orthogonal\"`, `\"orthonormal\"`.\nIf `return_scaling_factor` is True, then instead of returning simply the polyhedron, return a pair (polyhedron, scaling factor).\n\n\nI am not quite happy with the names \"`mode`\" and `\"return_scaling_factor\"`, I am sure we can find better alternatives.\n\n\nWhat do you think?",
    "created_at": "2017-04-27T17:56:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314382",
    "user": "https://github.com/mo271"
}
```

I agree that for volume computations, this is an overkill. (see more on that below)

For other purposes it might still be useful to have. At the moment, it is not possible it is cumbersome to plot a regular tetrahedron, which looks like a regular tetrahedron. With this feature this is really easy. (Same for other polytopes that are most easily defined as non full-dimensional polytopes. 
Therefore I would like to keep this new feature.

I propose to add two new ways to obtain the affine hull: 

- `orthonormal`, which should be simply what has been called isometry above
- `orthogonal`, a scaled version, that uses `gram_schmitt`. From that the scaling factor can be obtained.

Now I wonder where to store or return the scaling factor. 

Would the following be a reasonable way to do it:
have a method like

```
def affine_hull(self, mode= "default", return_scaling_factor=False)
```

Here `mode` can take values `"default"`, `"orthogonal"`, `"orthonormal"`.
If `return_scaling_factor` is True, then instead of returning simply the polyhedron, return a pair (polyhedron, scaling factor).


I am not quite happy with the names "`mode`" and `"return_scaling_factor"`, I am sure we can find better alternatives.


What do you think?



---

archive/issue_comments_314383.json:
```json
{
    "body": "How about returning the map that sends the result back to the space, instead of returning the factor? Then document how the volume transforms, with an example.\n\nInstead of `mode`, I guess one could just use two boolean keyword parameters.",
    "created_at": "2017-04-27T19:14:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314383",
    "user": "https://github.com/mkoeppe"
}
```

How about returning the map that sends the result back to the space, instead of returning the factor? Then document how the volume transforms, with an example.

Instead of `mode`, I guess one could just use two boolean keyword parameters.



---

archive/issue_comments_314384.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-05-08T19:15:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314384",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_314385.json:
```json
{
    "body": "Thank you very much for your quick reply, mkoeppe!\n\nI have now indeed introduced two booleans, `orthogonal` and `orthonormal`. \"Returning the map\" means in this case returning an affine map, I guess. I went ahead and return now a \"linear_transformation\" together with a vector. I guess there is some support of affine groups, but I am not sure if this should be used instead: http://doc.sagemath.org/html/en/reference/groups/sage/groups/affine_gps/group_element.html.\n\nIn any case, the method is all set to use it with the volume computations now. \n\n\nAs a side effect, a user will know be able to plot nice 3d-plots of the regular Tetrahedron as well as the Permutahedron. (Once this ticket gets a positive review, I suggest to alter the plot routine to enforce an orthonormal transformation by default)",
    "created_at": "2017-05-08T19:24:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314385",
    "user": "https://github.com/mo271"
}
```

Thank you very much for your quick reply, mkoeppe!

I have now indeed introduced two booleans, `orthogonal` and `orthonormal`. "Returning the map" means in this case returning an affine map, I guess. I went ahead and return now a "linear_transformation" together with a vector. I guess there is some support of affine groups, but I am not sure if this should be used instead: http://doc.sagemath.org/html/en/reference/groups/sage/groups/affine_gps/group_element.html.

In any case, the method is all set to use it with the volume computations now. 


As a side effect, a user will know be able to plot nice 3d-plots of the regular Tetrahedron as well as the Permutahedron. (Once this ticket gets a positive review, I suggest to alter the plot routine to enforce an orthonormal transformation by default)



---

archive/issue_comments_314386.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-08T19:24:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314386",
    "user": "https://github.com/mo271"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_314387.json:
```json
{
    "body": "- `a orthogonal` -> `an orthogonal`\n- `a orthonormal` -> `an orthonormal`\n- `orhtonormal` -> `orthonormal`\n- I think that the fact that `orthonormal=True`/`orthogonal=True` will silently modify the base ring should be mentioned in the INPUT. One also might actually want to prevent this kind of behavior. What about an additional boolean keyword `extend` that would be inserted as follows in the code\n\n```\ntry:\n    A = M.gram_schmidt(orthonormal=orthonormal)[0]\nexcept TypeError:\n+    if not extend:\n+        raise\n    M = matrix(AA, M)\n    A = M.gram_schmidt(orthonormal=orthonormal)[0]\n```\n- you should test this with polyhedron over embedded number fields like `sage: K.<sqrt3> = QuadraticField(3)`",
    "created_at": "2017-05-22T18:23:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314387",
    "user": "https://github.com/videlec"
}
```

- `a orthogonal` -> `an orthogonal`
- `a orthonormal` -> `an orthonormal`
- `orhtonormal` -> `orthonormal`
- I think that the fact that `orthonormal=True`/`orthogonal=True` will silently modify the base ring should be mentioned in the INPUT. One also might actually want to prevent this kind of behavior. What about an additional boolean keyword `extend` that would be inserted as follows in the code

```
try:
    A = M.gram_schmidt(orthonormal=orthonormal)[0]
except TypeError:
+    if not extend:
+        raise
    M = matrix(AA, M)
    A = M.gram_schmidt(orthonormal=orthonormal)[0]
```
- you should test this with polyhedron over embedded number fields like `sage: K.<sqrt3> = QuadraticField(3)`



---

archive/issue_comments_314388.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-05-24T09:27:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314388",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_314389.json:
```json
{
    "body": "Thank you Vincent for the comments! I have implemented all of them. I called the parameter `base_extend` instead of `extend`. \n\nAlso its rebased on the current beta.",
    "created_at": "2017-05-24T09:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314389",
    "user": "https://github.com/mo271"
}
```

Thank you Vincent for the comments! I have implemented all of them. I called the parameter `base_extend` instead of `extend`. 

Also its rebased on the current beta.



---

archive/issue_comments_314390.json:
```json
{
    "body": "Please change to `extend`. It is what is mostly used in Sage\n\n```\nsage: V=QQ^2\nsage: H=V.endomorphism_ring()([[0,-1],[1,0]])\nsage: H.eigenvalues()\n[-1*I, 1*I]\nsage: H.eigenvalues(extend=False)\n[]\n```\nOr\n\n```\nsage: 3.sqrt()\nsqrt(3)\nsage: 3.sqrt(extend=False)\nTraceback (most recent call last)\n...\nValueError: square root of 3 not an integer\n```\nIf you want to change conventions, that is the purpose of another ticket.",
    "created_at": "2017-05-24T09:52:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314390",
    "user": "https://github.com/videlec"
}
```

Please change to `extend`. It is what is mostly used in Sage

```
sage: V=QQ^2
sage: H=V.endomorphism_ring()([[0,-1],[1,0]])
sage: H.eigenvalues()
[-1*I, 1*I]
sage: H.eigenvalues(extend=False)
[]
```
Or

```
sage: 3.sqrt()
sqrt(3)
sage: 3.sqrt(extend=False)
Traceback (most recent call last)
...
ValueError: square root of 3 not an integer
```
If you want to change conventions, that is the purpose of another ticket.



---

archive/issue_comments_314391.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-24T09:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314391",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_314392.json:
```json
{
    "body": "Replying to [comment:18 vdelecroix]:\n> Please change to `extend`. It is what is mostly used in Sage\n\n done; I didn't mean to alter the conventions.",
    "created_at": "2017-05-24T09:58:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314392",
    "user": "https://github.com/mo271"
}
```

Replying to [comment:18 vdelecroix]:
> Please change to `extend`. It is what is mostly used in Sage

 done; I didn't mean to alter the conventions.



---

archive/issue_comments_314393.json:
```json
{
    "body": "Could you update the `NOTE` as the base ring can not be changed by default. Or it can still be the case the base ring changes silently?",
    "created_at": "2017-06-01T18:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314393",
    "user": "https://github.com/videlec"
}
```

Could you update the `NOTE` as the base ring can not be changed by default. Or it can still be the case the base ring changes silently?



---

archive/issue_comments_314394.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-06-02T08:45:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314394",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_314395.json:
```json
{
    "body": "Thanks again, for looking at the ticket, Vincent!\n\nI have now updated the code to make sure that the base ring is never changed (and removed the note).\n\nBefore that it was never extended, but sometimes \"simplified\", i.e. restricted to a smaller base ring, if you were lucky. See the following example:\n\n```\nsage: K.<sqrt2> = QuadraticField(2)\nsage: sage: P = Polyhedron([2*[K.zero()],2*[sqrt2]]); P\nA 1-dimensional polyhedron in (Number Field in sqrt2 with defining polynomial x^2 - 2)^2 defined as the convex hull of 2 vertices\nsage: P.vertices()\n(A vertex at (0, 0), A vertex at (sqrt2, sqrt2))\n```\n\npreviously we had:\n\n\n```\nA = P.affine_hull(orthonormal=True); A\nA 1-dimensional polyhedron in ZZ^1 defined as the convex hull of 2 vertices\nsage: A.vertices()\n(A vertex at (0), A vertex at (2))\n```\n\nSo the base_ring was changed from `K` to `ZZ`.\n\nNow I changed this to:\n\n```\nsage: A = P.affine_hull(orthonormal=True); A\nA 1-dimensional polyhedron in (Number Field in sqrt2 with defining polynomial x^2 - 2)^1 defined as the convex hull of 2 vertices\nsage: A.vertices()\n(A vertex at (0), A vertex at (2))\n```\n\nalso, I rebased on the current beta...\n\n\nI think there are advantages to both, simplifying the base ring and also to keeping it.\nIt could also be controlled by the `extend` parameter, but the name doesn't quite capture what is going on.\nBut in general I don't think this should be done here, but there should be a general method, which tries to find the smallest base ring possible. (This might be usefull for demoting rational polytopes to integer ones, but also from AA to some smaller field.)",
    "created_at": "2017-06-02T08:49:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314395",
    "user": "https://github.com/mo271"
}
```

Thanks again, for looking at the ticket, Vincent!

I have now updated the code to make sure that the base ring is never changed (and removed the note).

Before that it was never extended, but sometimes "simplified", i.e. restricted to a smaller base ring, if you were lucky. See the following example:

```
sage: K.<sqrt2> = QuadraticField(2)
sage: sage: P = Polyhedron([2*[K.zero()],2*[sqrt2]]); P
A 1-dimensional polyhedron in (Number Field in sqrt2 with defining polynomial x^2 - 2)^2 defined as the convex hull of 2 vertices
sage: P.vertices()
(A vertex at (0, 0), A vertex at (sqrt2, sqrt2))
```

previously we had:


```
A = P.affine_hull(orthonormal=True); A
A 1-dimensional polyhedron in ZZ^1 defined as the convex hull of 2 vertices
sage: A.vertices()
(A vertex at (0), A vertex at (2))
```

So the base_ring was changed from `K` to `ZZ`.

Now I changed this to:

```
sage: A = P.affine_hull(orthonormal=True); A
A 1-dimensional polyhedron in (Number Field in sqrt2 with defining polynomial x^2 - 2)^1 defined as the convex hull of 2 vertices
sage: A.vertices()
(A vertex at (0), A vertex at (2))
```

also, I rebased on the current beta...


I think there are advantages to both, simplifying the base ring and also to keeping it.
It could also be controlled by the `extend` parameter, but the name doesn't quite capture what is going on.
But in general I don't think this should be done here, but there should be a general method, which tries to find the smallest base ring possible. (This might be usefull for demoting rational polytopes to integer ones, but also from AA to some smaller field.)



---

archive/issue_comments_314396.json:
```json
{
    "body": "I feel it is good enough. I just launched the patchbot to see how it goes.\n\nConcerning ring/field simplification there should be something at the level of fields. Such method would also be useful on matrices for example.",
    "created_at": "2017-06-03T15:47:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314396",
    "user": "https://github.com/videlec"
}
```

I feel it is good enough. I just launched the patchbot to see how it goes.

Concerning ring/field simplification there should be something at the level of fields. Such method would also be useful on matrices for example.



---

archive/issue_comments_314397.json:
```json
{
    "body": "I think that the ticket is good enough (and patchbot is happy)",
    "created_at": "2017-06-18T20:45:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314397",
    "user": "https://github.com/videlec"
}
```

I think that the ticket is good enough (and patchbot is happy)



---

archive/issue_comments_314398.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-06-18T20:45:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314398",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_314399.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-06-22T07:24:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314399",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_059300.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-22T07:24:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22567#event-59300"
}
```



---

archive/issue_comments_314400.json:
```json
{
    "body": "Thanks for the review, Vincent! I will continue to work on #16045.",
    "created_at": "2017-06-26T19:55:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22567#issuecomment-314400",
    "user": "https://github.com/mo271"
}
```

Thanks for the review, Vincent! I will continue to work on #16045.
