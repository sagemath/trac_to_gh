# Issue 25019: Unit distance graphs

archive/issues_025019.json:
```json
{
    "body": "\n\nIssue created by migration from https://trac.sagemath.org/ticket/25256\n\n",
    "created_at": "2018-04-28T14:15:15Z",
    "labels": [
        "PLEASE CHANGE",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "Unit distance graphs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25019",
    "user": "@ed359"
}
```


Issue created by migration from https://trac.sagemath.org/ticket/25256





---

archive/issue_comments_351988.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to graph theory.",
    "created_at": "2018-04-28T14:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25019",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25019#issuecomment-351988",
    "user": "@ed359"
}
```

Changing component from PLEASE CHANGE to graph theory.



---

archive/issue_comments_351989.json:
```json
{
    "body": "Changing priority from major to minor.",
    "created_at": "2018-04-28T14:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25019",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25019#issuecomment-351989",
    "user": "@ed359"
}
```

Changing priority from major to minor.



---

archive/issue_comments_351990.json:
```json
{
    "body": "Changing keywords from \"\" to \"graphs, graph generators\".",
    "created_at": "2018-04-28T14:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25019",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25019#issuecomment-351990",
    "user": "@ed359"
}
```

Changing keywords from "" to "graphs, graph generators".



---

archive/issue_comments_351991.json:
```json
{
    "body": "Set assignee to @ed359.",
    "created_at": "2018-04-28T14:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25019",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25019#issuecomment-351991",
    "user": "@ed359"
}
```

Set assignee to @ed359.



---

archive/issue_comments_351992.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2018-04-28T14:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25019",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25019#issuecomment-351992",
    "user": "@ed359"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_351993.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-05-02T08:57:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25019",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25019#issuecomment-351993",
    "user": "@ed359"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_351994.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-05-02T08:57:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25019",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25019#issuecomment-351994",
    "user": "@ed359"
}
```

New commits:



---

archive/issue_comments_351995.json:
```json
{
    "body": "Hello and welcome to Sagemath.\n\nI have some comments on your patch:\n\n- `Returns the Golomb graph.` -> `Return the Golomb graph.`\n\n- Instead of putting a lot of examples, you could add a text like: `The Golomb graph is a planar and Hamiltonian graph with 10 vertices and 18 edges. It has chromatic number 4, diameter 3, radius 2 and girth 3. It can be drawn in the plane as a unit distance graph.`\n\n  Then you can keep the test showing that it's a unit distance graph.\n\n- It might be better to refer to the wikipedia page like that:\n\n```\n-    For more information, see this\n-    `MathWorld article on the Golomb graph <http://mathworld.wolfram.com/GolombGraph.html>`_.\n+    See :wikipedia:`Golomb_graph` for more information.\n```\n\n\n- For the test for unit distance graph, I think this is equivalent and simpler\n\n```\nsage: dist2 = lambda u,v:(u[0]-v[0])**2 + (u[1]-v[1])**2\nsage: all(dist2(pos[u], pos[v]) == 1 for u, v in G.edge_iterator(labels=None))\n```\n\n\nYou will have to rebase your patch on last develop branch.",
    "created_at": "2018-05-13T13:50:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25019",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25019#issuecomment-351995",
    "user": "@dcoudert"
}
```

Hello and welcome to Sagemath.

I have some comments on your patch:

- `Returns the Golomb graph.` -> `Return the Golomb graph.`

- Instead of putting a lot of examples, you could add a text like: `The Golomb graph is a planar and Hamiltonian graph with 10 vertices and 18 edges. It has chromatic number 4, diameter 3, radius 2 and girth 3. It can be drawn in the plane as a unit distance graph.`

  Then you can keep the test showing that it's a unit distance graph.

- It might be better to refer to the wikipedia page like that:

```
-    For more information, see this
-    `MathWorld article on the Golomb graph <http://mathworld.wolfram.com/GolombGraph.html>`_.
+    See :wikipedia:`Golomb_graph` for more information.
```


- For the test for unit distance graph, I think this is equivalent and simpler

```
sage: dist2 = lambda u,v:(u[0]-v[0])**2 + (u[1]-v[1])**2
sage: all(dist2(pos[u], pos[v]) == 1 for u, v in G.edge_iterator(labels=None))
```


You will have to rebase your patch on last develop branch.



---

archive/issue_comments_351996.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-06-24T12:33:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25019",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25019#issuecomment-351996",
    "user": "@dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_351997.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-02-16T22:52:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25019",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25019#issuecomment-351997",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_351998.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-02-16T23:18:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25019",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25019#issuecomment-351998",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_351999.json:
```json
{
    "body": "Hi David, \n\nThanks for the patch review, I have followed your suggestions and tried to rebase as required.",
    "created_at": "2019-02-16T23:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25019",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25019#issuecomment-351999",
    "user": "@ed359"
}
```

Hi David, 

Thanks for the patch review, I have followed your suggestions and tried to rebase as required.



---

archive/issue_comments_352000.json:
```json
{
    "body": "I did some corrections directly in your patch to be more efficient. You can push modifications to the new branch as it is in `public`.\n\nWhat I did:\n- use rational field `QQ` instead of defining `ratlit`\n- move import of `sqrt` and `QQ` at the top of the file\n- remove some trailing white spaces\n- some [PEP 8](https://www.python.org/dev/peps/pep-0008/) cleaning\n\nIf you agree with thoses changes, you can set this ticket to positive review on my behalf.\n----\nNew commits:",
    "created_at": "2019-02-17T09:41:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25019",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25019#issuecomment-352000",
    "user": "@dcoudert"
}
```

I did some corrections directly in your patch to be more efficient. You can push modifications to the new branch as it is in `public`.

What I did:
- use rational field `QQ` instead of defining `ratlit`
- move import of `sqrt` and `QQ` at the top of the file
- remove some trailing white spaces
- some [PEP 8](https://www.python.org/dev/peps/pep-0008/) cleaning

If you agree with thoses changes, you can set this ticket to positive review on my behalf.
----
New commits:



---

archive/issue_comments_352001.json:
```json
{
    "body": "Your changes seem fine to me, I used ratlit(num, den) as I presumed it was faster than QQ('num/den'), but it is easier to read the QQ version. Thanks for editing the patch.",
    "created_at": "2019-02-17T16:40:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25019",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25019#issuecomment-352001",
    "user": "@ed359"
}
```

Your changes seem fine to me, I used ratlit(num, den) as I presumed it was faster than QQ('num/den'), but it is easier to read the QQ version. Thanks for editing the patch.



---

archive/issue_comments_352002.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2019-02-17T16:40:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25019",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25019#issuecomment-352002",
    "user": "@ed359"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_352003.json:
```json
{
    "body": "Speed it not a critical issue here, so QQ is much better.\n\nCongratulation for your first patch !",
    "created_at": "2019-02-17T16:54:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25019",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25019#issuecomment-352003",
    "user": "@dcoudert"
}
```

Speed it not a critical issue here, so QQ is much better.

Congratulation for your first patch !



---

archive/issue_comments_352004.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-02-22T22:01:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25019",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25019#issuecomment-352004",
    "user": "@vbraun"
}
```

Resolution: fixed
