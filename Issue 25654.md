# Issue 25654: Implementing generators for Hamming graphs, Egawa graphs and Cai-Furer-Immerman graphs

archive/issues_025654.json:
```json
{
    "body": "CC:  @dimpase\n\nKeywords: gsoc2018 generators Cai Furer Immerman Egawa Hamming\n\nAdding generators for the following graph families:\n -Egawa graphs, which are not recognizable by k-Weisfeiler-Lehman with k < 3, described in https://doi.org/10.1016/0097-3165(81)90007-8\n -Hamming graphs, which are Egawa graphs cospectral mates, and with a subset being isomorphic to them. More information at https://en.wikipedia.org/wiki/Hamming_graph\n -Cai-Furer-Immerman graphs, a family of graphs with parameter t that should have the property of not being recognized by any k-WL with k less than t. The current implementation, to the best of my knowledge, still doesn't display this propery. Remains to be seen if it's due to a misunderstanding of the paper or an implementation error, but at the moment this generator is a work in progress. The paper that describes them can be found at https://doi.org/10.1007/BF01305232\n\nIssue created by migration from https://trac.sagemath.org/ticket/25891\n\n",
    "created_at": "2018-07-20T17:15:09Z",
    "labels": [
        "component: graph theory",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "Implementing generators for Hamming graphs, Egawa graphs and Cai-Furer-Immerman graphs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25654",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```
CC:  @dimpase

Keywords: gsoc2018 generators Cai Furer Immerman Egawa Hamming

Adding generators for the following graph families:
 -Egawa graphs, which are not recognizable by k-Weisfeiler-Lehman with k < 3, described in https://doi.org/10.1016/0097-3165(81)90007-8
 -Hamming graphs, which are Egawa graphs cospectral mates, and with a subset being isomorphic to them. More information at https://en.wikipedia.org/wiki/Hamming_graph
 -Cai-Furer-Immerman graphs, a family of graphs with parameter t that should have the property of not being recognized by any k-WL with k less than t. The current implementation, to the best of my knowledge, still doesn't display this propery. Remains to be seen if it's due to a misunderstanding of the paper or an implementation error, but at the moment this generator is a work in progress. The paper that describes them can be found at https://doi.org/10.1007/BF01305232

Issue created by migration from https://trac.sagemath.org/ticket/25891





---

archive/issue_comments_361425.json:
```json
{
    "body": "Why are you creating new files for these graphs ? can't you just add these generators in file `families.py` ? In general, we try to avoid adding new files unless there is a real need for it (easier for maintaining the code).\n\nAlso, this patch is build on top of #25802 (without indicating the dependency) but I have the feeling that this can be done independently.\n\n---\nLast 10 new commits:",
    "created_at": "2018-07-21T08:30:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361425",
    "user": "https://github.com/dcoudert"
}
```

Why are you creating new files for these graphs ? can't you just add these generators in file `families.py` ? In general, we try to avoid adding new files unless there is a real need for it (easier for maintaining the code).

Also, this patch is build on top of #25802 (without indicating the dependency) but I have the feeling that this can be done independently.

---
Last 10 new commits:



---

archive/issue_comments_361426.json:
```json
{
    "body": "I added new files so that the code could be put in .pyx files and be compiled, and also use static typing to improve efficiency, since this graphs get very large very fast, and I wanted to speed the generation up a bit. What would be the best way to do this then?\\\\\nAs per the merged ticket, it's an error, I was testing something and merged it, but wanted to revert the merge before pushing, and I forgot to do it.\nI'll fix it ASAP",
    "created_at": "2018-07-21T08:56:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361426",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

I added new files so that the code could be put in .pyx files and be compiled, and also use static typing to improve efficiency, since this graphs get very large very fast, and I wanted to speed the generation up a bit. What would be the best way to do this then?\\
As per the merged ticket, it's an error, I was testing something and merged it, but wanted to revert the merge before pushing, and I forgot to do it.
I'll fix it ASAP



---

archive/issue_comments_361427.json:
```json
{
    "body": "I tried saving the `CaiFurerImmermanGraph` in a python file and in a cython file to see if it is more efficient. Honestly, the differnce is not big enough to justify adding a new cython file (and in particular a 10 lines cython file).\n\n```\nsage: %timeit CaiFurerImmermanGraph_pyx(18)\n1 loop, best of 3: 6.5 s per loop\nsage: %timeit CaiFurerImmermanGraph_py(18)\n1 loop, best of 3: 6.86 s per loop\n```\nNote that you can write:\n\n```\npowerset = list(chain.from_iterable(combinations(range(k), r) for r in range(0, k+1, 2)))\n```\n\nI have not tried the `EgawaGraph` or the `HammingGraph`, but it should be exactly the same.\n\nIn input parameters of methods, avoid `X=[]` and prefer `X=None`.",
    "created_at": "2018-07-21T12:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361427",
    "user": "https://github.com/dcoudert"
}
```

I tried saving the `CaiFurerImmermanGraph` in a python file and in a cython file to see if it is more efficient. Honestly, the differnce is not big enough to justify adding a new cython file (and in particular a 10 lines cython file).

```
sage: %timeit CaiFurerImmermanGraph_pyx(18)
1 loop, best of 3: 6.5 s per loop
sage: %timeit CaiFurerImmermanGraph_py(18)
1 loop, best of 3: 6.86 s per loop
```
Note that you can write:

```
powerset = list(chain.from_iterable(combinations(range(k), r) for r in range(0, k+1, 2)))
```

I have not tried the `EgawaGraph` or the `HammingGraph`, but it should be exactly the same.

In input parameters of methods, avoid `X=[]` and prefer `X=None`.



---

archive/issue_comments_361428.json:
```json
{
    "body": "I was talking about the other graphs, since for Egawa even (0,10) gives millions of nodes and edges.\nI'll change the rest as soon as I get home",
    "created_at": "2018-07-21T12:13:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361428",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

I was talking about the other graphs, since for Egawa even (0,10) gives millions of nodes and edges.
I'll change the rest as soon as I get home



---

archive/issue_comments_361429.json:
```json
{
    "body": "How much memory you need for a graph with millions on vertices/edges in python ? What can we do with it ? Beyond a certain size, I usually use C/C++ code only: more efficient and reasonable memory consumption.",
    "created_at": "2018-07-21T12:18:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361429",
    "user": "https://github.com/dcoudert"
}
```

How much memory you need for a graph with millions on vertices/edges in python ? What can we do with it ? Beyond a certain size, I usually use C/C++ code only: more efficient and reasonable memory consumption.



---

archive/issue_comments_361430.json:
```json
{
    "body": "I suppose a lot of memory, but the reason I didn't put a limit to the parameter is for the sake of completeness, and I used the .pyx files to speed up generations.\\\\\nI don't actually have a use for the graphs outside of performance testing for my implementation of the Weisfeiler-Lehman algorithm, so if you think using additional files to speed up generation is not worth it, I'll just move them to the normal .py file.",
    "created_at": "2018-07-22T11:37:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361430",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

I suppose a lot of memory, but the reason I didn't put a limit to the parameter is for the sake of completeness, and I used the .pyx files to speed up generations.\\
I don't actually have a use for the graphs outside of performance testing for my implementation of the Weisfeiler-Lehman algorithm, so if you think using additional files to speed up generation is not worth it, I'll just move them to the normal .py file.



---

archive/issue_comments_361431.json:
```json
{
    "body": "I think that fast generation has its merit. I'd start something like families_fast.pyx and start collecting such implementations there.",
    "created_at": "2018-07-22T12:41:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361431",
    "user": "https://github.com/dimpase"
}
```

I think that fast generation has its merit. I'd start something like families_fast.pyx and start collecting such implementations there.



---

archive/issue_comments_361432.json:
```json
{
    "body": "I agree that fast generation is very interesting, but here the speedup is less than 2%...\n\nNote that we already have file `src/sage/graphs/graph_generators_pyx.pyx` for this purpose.",
    "created_at": "2018-07-22T14:10:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361432",
    "user": "https://github.com/dcoudert"
}
```

I agree that fast generation is very interesting, but here the speedup is less than 2%...

Note that we already have file `src/sage/graphs/graph_generators_pyx.pyx` for this purpose.



---

archive/issue_comments_361433.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-22T15:15:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361433",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361434.json:
```json
{
    "body": "Ok, everything you asked is done. Anyway, about the implementation, there's basically no speedup because the code for CaiFurerImmerman graphs is not yet optimised at all for Cython compilation, it's just a small sequence of itertools results passed to the methods of a Graph object.\\\\\nIn other cases, such as the Egawa graphs, it's quite more significant:\n\n```\nsage: %timeit EG_py(0,8)\n1 loop, best of 3: 5.69 s per loop\nsage: %timeit EG_pyx(0,8)\n1 loop, best of 3: 3.91 s per loop\n```\n\nWhich is not a lot, but still around 31%.\\\\\\\\\nI didn't use the ` src/sage/graphs/graph_generators_pyx.pyx` simply because there's only one method for a common random (di)graph, so I wasn't sure putting family generators there was inteneded usage.",
    "created_at": "2018-07-22T15:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361434",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

Ok, everything you asked is done. Anyway, about the implementation, there's basically no speedup because the code for CaiFurerImmerman graphs is not yet optimised at all for Cython compilation, it's just a small sequence of itertools results passed to the methods of a Graph object.\\
In other cases, such as the Egawa graphs, it's quite more significant:

```
sage: %timeit EG_py(0,8)
1 loop, best of 3: 5.69 s per loop
sage: %timeit EG_pyx(0,8)
1 loop, best of 3: 3.91 s per loop
```

Which is not a lot, but still around 31%.\\\\
I didn't use the ` src/sage/graphs/graph_generators_pyx.pyx` simply because there's only one method for a common random (di)graph, so I wasn't sure putting family generators there was inteneded usage.



---

archive/issue_comments_361435.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-30T18:37:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361435",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361436.json:
```json
{
    "body": "I noticed that in file `graph_generators.py` you did changes like\n\n```\n-###########################################################################\n-# Random Graphs\n-###########################################################################\n+    ###########################################################################\n+    # Random Graphs\n+    ###########################################################################\n```\nI don't understand the motivation for that.",
    "created_at": "2018-07-31T07:53:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361436",
    "user": "https://github.com/dcoudert"
}
```

I noticed that in file `graph_generators.py` you did changes like

```
-###########################################################################
-# Random Graphs
-###########################################################################
+    ###########################################################################
+    # Random Graphs
+    ###########################################################################
```
I don't understand the motivation for that.



---

archive/issue_comments_361437.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-31T08:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361437",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361438.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-31T08:52:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361438",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361439.json:
```json
{
    "body": "Replying to [comment:16 dcoudert]:\n> I noticed that in file `graph_generators.py` you did changes like\n> \n> ```\n> -###########################################################################\n> -# Random Graphs\n> -###########################################################################\n> +    ###########################################################################\n> +    # Random Graphs\n> +    ###########################################################################\n> ```\n> I don't understand the motivation for that.\n\nI'm not really sure. It surely wasn't intentional, I must have done something wrong while writing the new code, but I don't really know how.\nAnyway, I found a couple of these errors, and I should've fixed them all, thanks for spotting them!\nAlso, I deleted the old branch and uploaded a new one, incorporating the fix in the last commit.",
    "created_at": "2018-07-31T08:54:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361439",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

Replying to [comment:16 dcoudert]:
> I noticed that in file `graph_generators.py` you did changes like
> 
> ```
> -###########################################################################
> -# Random Graphs
> -###########################################################################
> +    ###########################################################################
> +    # Random Graphs
> +    ###########################################################################
> ```
> I don't understand the motivation for that.

I'm not really sure. It surely wasn't intentional, I must have done something wrong while writing the new code, but I don't really know how.
Anyway, I found a couple of these errors, and I should've fixed them all, thanks for spotting them!
Also, I deleted the old branch and uploaded a new one, incorporating the fix in the last commit.



---

archive/issue_comments_361440.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-04T11:05:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361440",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361441.json:
```json
{
    "body": "```\n  File \"/home/dimpase/sagetrac-mirror/local/lib/python2.7/site-packages/sage/graphs/generators/families.py\", line 2993\n    return newG, total_partition\nSyntaxError: 'return' outside function\n```",
    "created_at": "2018-08-06T06:46:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361441",
    "user": "https://github.com/dimpase"
}
```

```
  File "/home/dimpase/sagetrac-mirror/local/lib/python2.7/site-packages/sage/graphs/generators/families.py", line 2993
    return newG, total_partition
SyntaxError: 'return' outside function
```



---

archive/issue_comments_361442.json:
```json
{
    "body": "A few suggestions for `EgawaGraph`:\n- add an `INPUT:` block\n- `Any Egawa graph with parameters (0, s)` -> `The Egawa graph with parameters (0, s)`\n- You may add the reference of Agawa paper in file `src/doc/en/reference/references/index.rst` instead of putting link `https://doi.org/10.1016/0097-3165(81)90007-8`. At least, use `:doi:`10.1016/0097-3165(81)90007-8``\n- you don't need to import `DenseGraph`. not used\n- since `Y` is a graph, instead of the loop `for el in Y:`, you can do a loop like `for el in Y.neighbor_iterator(v[i]):`. Then, you can directly construct `u`.\n- same for the loop `for el in X:`\n- `for j in range(s): ` -> `for i in range(p, p+s):`\n- I'm not sure it is really useful to use set `used`.\n- add test to check that input parameters are ok\n\nA few suggestions for `HammingGraph`:\n- add an `INPUT:` block\n- add test to check that input parameters are ok\n- you don't need to import `DenseGraph`. not used\n- instead of having both `q` and `X`, you could have a single parameter `q` that could be either an integer, in which case you have `X = list(range(q))` or an iterable container (list, set, tuple, etc.) in which case you can do `X = list(q)`.\n- you could add a link to the wikipedia page\n- I don't think you need the set `used`. You can add several times the same edge.\n\nIn the documentation of all methods, since you use `r\"\"\" some text \"\"\"`, you can write latex equations. For instance, instead of writing ``p` != 0`, write ``p \\neq 0``. Write also ``X^n`` to get nicer html rendering.",
    "created_at": "2018-08-06T11:22:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361442",
    "user": "https://github.com/dcoudert"
}
```

A few suggestions for `EgawaGraph`:
- add an `INPUT:` block
- `Any Egawa graph with parameters (0, s)` -> `The Egawa graph with parameters (0, s)`
- You may add the reference of Agawa paper in file `src/doc/en/reference/references/index.rst` instead of putting link `https://doi.org/10.1016/0097-3165(81)90007-8`. At least, use `:doi:`10.1016/0097-3165(81)90007-8``
- you don't need to import `DenseGraph`. not used
- since `Y` is a graph, instead of the loop `for el in Y:`, you can do a loop like `for el in Y.neighbor_iterator(v[i]):`. Then, you can directly construct `u`.
- same for the loop `for el in X:`
- `for j in range(s): ` -> `for i in range(p, p+s):`
- I'm not sure it is really useful to use set `used`.
- add test to check that input parameters are ok

A few suggestions for `HammingGraph`:
- add an `INPUT:` block
- add test to check that input parameters are ok
- you don't need to import `DenseGraph`. not used
- instead of having both `q` and `X`, you could have a single parameter `q` that could be either an integer, in which case you have `X = list(range(q))` or an iterable container (list, set, tuple, etc.) in which case you can do `X = list(q)`.
- you could add a link to the wikipedia page
- I don't think you need the set `used`. You can add several times the same edge.

In the documentation of all methods, since you use `r""" some text """`, you can write latex equations. For instance, instead of writing ``p` != 0`, write ``p \neq 0``. Write also ``X^n`` to get nicer html rendering.



---

archive/issue_comments_361443.json:
```json
{
    "body": "Please remove tabs from the source files. Sage uses spaces only (4 spaces per tab).",
    "created_at": "2018-08-08T11:30:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361443",
    "user": "https://github.com/dimpase"
}
```

Please remove tabs from the source files. Sage uses spaces only (4 spaces per tab).



---

archive/issue_comments_361444.json:
```json
{
    "body": "Replying to [comment:23 dimpase]:\n> Please remove tabs from the source files. Sage uses spaces only (4 spaces per tab).\n\nI've set up my editor to only use spaces, it's so weird a few slipped through.\\\\\nAnyway, the only ones I've found are in the graph_generators.py file, did you find any others?",
    "created_at": "2018-08-08T12:10:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361444",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

Replying to [comment:23 dimpase]:
> Please remove tabs from the source files. Sage uses spaces only (4 spaces per tab).

I've set up my editor to only use spaces, it's so weird a few slipped through.\\
Anyway, the only ones I've found are in the graph_generators.py file, did you find any others?



---

archive/issue_comments_361445.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-08T12:11:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361445",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361446.json:
```json
{
    "body": "Replying to [comment:22 dcoudert]:\n> A few suggestions for `EgawaGraph`:\n> - add an `INPUT:` block\n> - `Any Egawa graph with parameters (0, s)` -> `The Egawa graph with parameters (0, s)`\n> - You may add the reference of Agawa paper in file `src/doc/en/reference/references/index.rst` instead of putting link `https://doi.org/10.1016/0097-3165(81)90007-8`. At least, use `:doi:`10.1016/0097-3165(81)90007-8``\n> - you don't need to import `DenseGraph`. not used\n> - since `Y` is a graph, instead of the loop `for el in Y:`, you can do a loop like `for el in Y.neighbor_iterator(v[i]):`. Then, you can directly construct `u`.\n> - same for the loop `for el in X:`\n> - `for j in range(s): ` -> `for i in range(p, p+s):`\n> - I'm not sure it is really useful to use set `used`.\n> - add test to check that input parameters are ok\n> \n> A few suggestions for `HammingGraph`:\n> - add an `INPUT:` block\n> - add test to check that input parameters are ok\n> - you don't need to import `DenseGraph`. not used\n> - instead of having both `q` and `X`, you could have a single parameter `q` that could be either an integer, in which case you have `X = list(range(q))` or an iterable container (list, set, tuple, etc.) in which case you can do `X = list(q)`.\n> - you could add a link to the wikipedia page\n> - I don't think you need the set `used`. You can add several times the same edge.\n> \n> In the documentation of all methods, since you use `r\"\"\" some text \"\"\"`, you can write latex equations. For instance, instead of writing ``p` != 0`, write ``p \\neq 0``. Write also ``X^n`` to get nicer html rendering.\n\n\nI've made the changes you suggested, save for the one about the parameters X and q. I see what you mean when you say one could use only one paramers, but I feel like it would be confusing to be able to pass either an integer or an iterable under the same name, and it's not like X needs to be passed most of the time anyway.\\\\\nI'll add a check for the input soon too, but first I want to decide if there is a need to have this .pyx file for generators who need more speed.\\\\\nTalking with dimpase, he told me he would like to see one, but in this particular case, after refactoring the code a bit, all my generators take more or less the same amount of time, .pyx or not, because most of the time is spent creating the actual graph, not computing edges and vertices.\\\\\nThere is some improvement mind you, but it's less than 10%. What should I do? Both versions are included in this commit, so that anyone can check for themselves what I mean, I'll simply delete the not needed ones when a decision has been made.",
    "created_at": "2018-08-08T12:16:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361446",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

Replying to [comment:22 dcoudert]:
> A few suggestions for `EgawaGraph`:
> - add an `INPUT:` block
> - `Any Egawa graph with parameters (0, s)` -> `The Egawa graph with parameters (0, s)`
> - You may add the reference of Agawa paper in file `src/doc/en/reference/references/index.rst` instead of putting link `https://doi.org/10.1016/0097-3165(81)90007-8`. At least, use `:doi:`10.1016/0097-3165(81)90007-8``
> - you don't need to import `DenseGraph`. not used
> - since `Y` is a graph, instead of the loop `for el in Y:`, you can do a loop like `for el in Y.neighbor_iterator(v[i]):`. Then, you can directly construct `u`.
> - same for the loop `for el in X:`
> - `for j in range(s): ` -> `for i in range(p, p+s):`
> - I'm not sure it is really useful to use set `used`.
> - add test to check that input parameters are ok
> 
> A few suggestions for `HammingGraph`:
> - add an `INPUT:` block
> - add test to check that input parameters are ok
> - you don't need to import `DenseGraph`. not used
> - instead of having both `q` and `X`, you could have a single parameter `q` that could be either an integer, in which case you have `X = list(range(q))` or an iterable container (list, set, tuple, etc.) in which case you can do `X = list(q)`.
> - you could add a link to the wikipedia page
> - I don't think you need the set `used`. You can add several times the same edge.
> 
> In the documentation of all methods, since you use `r""" some text """`, you can write latex equations. For instance, instead of writing ``p` != 0`, write ``p \neq 0``. Write also ``X^n`` to get nicer html rendering.


I've made the changes you suggested, save for the one about the parameters X and q. I see what you mean when you say one could use only one paramers, but I feel like it would be confusing to be able to pass either an integer or an iterable under the same name, and it's not like X needs to be passed most of the time anyway.\\
I'll add a check for the input soon too, but first I want to decide if there is a need to have this .pyx file for generators who need more speed.\\
Talking with dimpase, he told me he would like to see one, but in this particular case, after refactoring the code a bit, all my generators take more or less the same amount of time, .pyx or not, because most of the time is spent creating the actual graph, not computing edges and vertices.\\
There is some improvement mind you, but it's less than 10%. What should I do? Both versions are included in this commit, so that anyone can check for themselves what I mean, I'll simply delete the not needed ones when a decision has been made.



---

archive/issue_comments_361447.json:
```json
{
    "body": "You should also check that the docs can be built.\nWithout your latest commit, I needed to change things to get docs built. Here is a diff (more changes - I guess the one that broke things was `|X|` without !``):\n\n```\ndiff --git a/src/sage/graphs/generators/families.py b/src/sage/graphs/generators/families.py\nindex 7101b881a6..c04edb2f53 100644\n--- a/src/sage/graphs/generators/families.py\n+++ b/src/sage/graphs/generators/families.py\n@@ -142,10 +142,10 @@ def EgawaGraph(p, s):\n     that is their orbits are not correctly returned by k-WL for k lower than 3.\n     \n     Furthermore, all the graphs in this family are distance-regular, but they are\n-    not distance-transitive if `p` != 0.\n+    not distance-transitive if `p` is non-zero.\n     \n-    Any Egawa graph with parameters (0, s) is isomorphic to the Hamming graph\n-    with parameters (s, 4)\n+    Any Egawa graph with parameters `(0, s)` is isomorphic to the Hamming graph\n+    with parameters `(s, 4)`.\n     \n     EXAMPLES:\n \n@@ -194,12 +194,12 @@ def HammingGraph(n, q, X=None):\n     Returns the Hamming graph with parameters `n, q` over set `X`.\n \n     Hamming graphs are graphs over the cartesian product of n copies of X,\n-    where q = |X|, where the vertices, labelled with the corresponding tuple in X^n,\n+    where `q = |X|`, where the vertices, labelled with the corresponding tuple in `X^n`,\n     are connected if the Hamming distance between their labels is 1.\n     All Hamming graphs are regular, vertex-transitive and distance-regular.\n     \n-    Hamming graphs with parameters (1,q) represent the complete graph with\n-    q vertices over the set X.\n+    Hamming graphs with parameters `(1,q)` represent the complete graph with\n+    `q` vertices over the set `X`.\n     \n     EXAMPLES:\n \n@@ -2990,7 +2990,7 @@ def CaiFurerImmermanGraph(G, twisted=False):\n     else:\n         s = \"\"\n     newG.name(\"CaiFurerImmerman\" + s + \" graph constructed from a \" + G.name())\n-return newG, total_partition\n+    return newG, total_partition\n             \n             \n def MathonPseudocyclicMergingGraph(M, t):\n```",
    "created_at": "2018-08-08T12:20:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361447",
    "user": "https://github.com/dimpase"
}
```

You should also check that the docs can be built.
Without your latest commit, I needed to change things to get docs built. Here is a diff (more changes - I guess the one that broke things was `|X|` without !``):

```
diff --git a/src/sage/graphs/generators/families.py b/src/sage/graphs/generators/families.py
index 7101b881a6..c04edb2f53 100644
--- a/src/sage/graphs/generators/families.py
+++ b/src/sage/graphs/generators/families.py
@@ -142,10 +142,10 @@ def EgawaGraph(p, s):
     that is their orbits are not correctly returned by k-WL for k lower than 3.
     
     Furthermore, all the graphs in this family are distance-regular, but they are
-    not distance-transitive if `p` != 0.
+    not distance-transitive if `p` is non-zero.
     
-    Any Egawa graph with parameters (0, s) is isomorphic to the Hamming graph
-    with parameters (s, 4)
+    Any Egawa graph with parameters `(0, s)` is isomorphic to the Hamming graph
+    with parameters `(s, 4)`.
     
     EXAMPLES:
 
@@ -194,12 +194,12 @@ def HammingGraph(n, q, X=None):
     Returns the Hamming graph with parameters `n, q` over set `X`.
 
     Hamming graphs are graphs over the cartesian product of n copies of X,
-    where q = |X|, where the vertices, labelled with the corresponding tuple in X^n,
+    where `q = |X|`, where the vertices, labelled with the corresponding tuple in `X^n`,
     are connected if the Hamming distance between their labels is 1.
     All Hamming graphs are regular, vertex-transitive and distance-regular.
     
-    Hamming graphs with parameters (1,q) represent the complete graph with
-    q vertices over the set X.
+    Hamming graphs with parameters `(1,q)` represent the complete graph with
+    `q` vertices over the set `X`.
     
     EXAMPLES:
 
@@ -2990,7 +2990,7 @@ def CaiFurerImmermanGraph(G, twisted=False):
     else:
         s = ""
     newG.name("CaiFurerImmerman" + s + " graph constructed from a " + G.name())
-return newG, total_partition
+    return newG, total_partition
             
             
 def MathonPseudocyclicMergingGraph(M, t):
```



---

archive/issue_comments_361448.json:
```json
{
    "body": "to look for tabs in a given directory and all its subdirs, do e.g.\n\n```\n grep -R -P \"\\t\" .\n```",
    "created_at": "2018-08-08T12:23:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361448",
    "user": "https://github.com/dimpase"
}
```

to look for tabs in a given directory and all its subdirs, do e.g.

```
 grep -R -P "\t" .
```



---

archive/issue_comments_361449.json:
```json
{
    "body": "Replying to [comment:27 dimpase]:\n> You should also check that the docs can be built.\n> Without your latest commit, I needed to change things to get docs built. Here is a diff (more changes - I guess the one that broke things was `|X|` without !``):\n> \n> ```\n> diff --git a/src/sage/graphs/generators/families.py b/src/sage/graphs/generators/families.py\n> index 7101b881a6..c04edb2f53 100644\n> --- a/src/sage/graphs/generators/families.py\n> +++ b/src/sage/graphs/generators/families.py\n> @@ -142,10 +142,10 @@ def EgawaGraph(p, s):\n>      that is their orbits are not correctly returned by k-WL for k lower than 3.\n>      \n>      Furthermore, all the graphs in this family are distance-regular, but they are\n> -    not distance-transitive if `p` != 0.\n> +    not distance-transitive if `p` is non-zero.\n>      \n> -    Any Egawa graph with parameters (0, s) is isomorphic to the Hamming graph\n> -    with parameters (s, 4)\n> +    Any Egawa graph with parameters `(0, s)` is isomorphic to the Hamming graph\n> +    with parameters `(s, 4)`.\n>      \n>      EXAMPLES:\n>  \n> @@ -194,12 +194,12 @@ def HammingGraph(n, q, X=None):\n>      Returns the Hamming graph with parameters `n, q` over set `X`.\n>  \n>      Hamming graphs are graphs over the cartesian product of n copies of X,\n> -    where q = |X|, where the vertices, labelled with the corresponding tuple in X^n,\n> +    where `q = |X|`, where the vertices, labelled with the corresponding tuple in `X^n`,\n>      are connected if the Hamming distance between their labels is 1.\n>      All Hamming graphs are regular, vertex-transitive and distance-regular.\n>      \n> -    Hamming graphs with parameters (1,q) represent the complete graph with\n> -    q vertices over the set X.\n> +    Hamming graphs with parameters `(1,q)` represent the complete graph with\n> +    `q` vertices over the set `X`.\n>      \n>      EXAMPLES:\n>  \n> @@ -2990,7 +2990,7 @@ def CaiFurerImmermanGraph(G, twisted=False):\n>      else:\n>          s = \"\"\n>      newG.name(\"CaiFurerImmerman\" + s + \" graph constructed from a \" + G.name())\n> -return newG, total_partition\n> +    return newG, total_partition\n>              \n>              \n>  def MathonPseudocyclicMergingGraph(M, t):\n> ```\n\nI know, I'm sorry.\\\\\nThis last commit was tested for docbuilding too, it works.",
    "created_at": "2018-08-08T12:26:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361449",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

Replying to [comment:27 dimpase]:
> You should also check that the docs can be built.
> Without your latest commit, I needed to change things to get docs built. Here is a diff (more changes - I guess the one that broke things was `|X|` without !``):
> 
> ```
> diff --git a/src/sage/graphs/generators/families.py b/src/sage/graphs/generators/families.py
> index 7101b881a6..c04edb2f53 100644
> --- a/src/sage/graphs/generators/families.py
> +++ b/src/sage/graphs/generators/families.py
> @@ -142,10 +142,10 @@ def EgawaGraph(p, s):
>      that is their orbits are not correctly returned by k-WL for k lower than 3.
>      
>      Furthermore, all the graphs in this family are distance-regular, but they are
> -    not distance-transitive if `p` != 0.
> +    not distance-transitive if `p` is non-zero.
>      
> -    Any Egawa graph with parameters (0, s) is isomorphic to the Hamming graph
> -    with parameters (s, 4)
> +    Any Egawa graph with parameters `(0, s)` is isomorphic to the Hamming graph
> +    with parameters `(s, 4)`.
>      
>      EXAMPLES:
>  
> @@ -194,12 +194,12 @@ def HammingGraph(n, q, X=None):
>      Returns the Hamming graph with parameters `n, q` over set `X`.
>  
>      Hamming graphs are graphs over the cartesian product of n copies of X,
> -    where q = |X|, where the vertices, labelled with the corresponding tuple in X^n,
> +    where `q = |X|`, where the vertices, labelled with the corresponding tuple in `X^n`,
>      are connected if the Hamming distance between their labels is 1.
>      All Hamming graphs are regular, vertex-transitive and distance-regular.
>      
> -    Hamming graphs with parameters (1,q) represent the complete graph with
> -    q vertices over the set X.
> +    Hamming graphs with parameters `(1,q)` represent the complete graph with
> +    `q` vertices over the set `X`.
>      
>      EXAMPLES:
>  
> @@ -2990,7 +2990,7 @@ def CaiFurerImmermanGraph(G, twisted=False):
>      else:
>          s = ""
>      newG.name("CaiFurerImmerman" + s + " graph constructed from a " + G.name())
> -return newG, total_partition
> +    return newG, total_partition
>              
>              
>  def MathonPseudocyclicMergingGraph(M, t):
> ```

I know, I'm sorry.\\
This last commit was tested for docbuilding too, it works.



---

archive/issue_comments_361450.json:
```json
{
    "body": "Replying to [comment:28 dimpase]:\n> to look for tabs in a given directory and all its subdirs, do e.g.\n> \n> ```\n>  grep -R -P \"\\t\" .\n> ```\n\nI did that, that's how I found the ones in graph_generators.py, but one can never be too sure, so I asked if there were any other ones you found that escaped grep for some reason.",
    "created_at": "2018-08-08T12:27:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361450",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

Replying to [comment:28 dimpase]:
> to look for tabs in a given directory and all its subdirs, do e.g.
> 
> ```
>  grep -R -P "\t" .
> ```

I did that, that's how I found the ones in graph_generators.py, but one can never be too sure, so I asked if there were any other ones you found that escaped grep for some reason.



---

archive/issue_comments_361451.json:
```json
{
    "body": "As I already said, I don't see the need for a pyx file if the code is essentially Python. Nonetheless, I will not fight against it.\n\nYou use type `bool`, but you could use `bint` instead (no need for import) as done in file `src/sage/graphs/generic_graph_pyx.pyx`.\nYou also import `string` but it is never used. You use type `str`.",
    "created_at": "2018-08-08T12:51:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361451",
    "user": "https://github.com/dcoudert"
}
```

As I already said, I don't see the need for a pyx file if the code is essentially Python. Nonetheless, I will not fight against it.

You use type `bool`, but you could use `bint` instead (no need for import) as done in file `src/sage/graphs/generic_graph_pyx.pyx`.
You also import `string` but it is never used. You use type `str`.



---

archive/issue_comments_361452.json:
```json
{
    "body": "`HammingGraph` needs tests for the use of `X=`.\n(e.g. what happens in `|X|` is not equal to `q`).",
    "created_at": "2018-08-11T07:42:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361452",
    "user": "https://github.com/dimpase"
}
```

`HammingGraph` needs tests for the use of `X=`.
(e.g. what happens in `|X|` is not equal to `q`).



---

archive/issue_comments_361453.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-11T12:26:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361453",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361454.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-11T12:28:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361454",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361455.json:
```json
{
    "body": "Replying to [comment:31 dcoudert]:\n> As I already said, I don't see the need for a pyx file if the code is essentially Python. Nonetheless, I will not fight against it.\n> \n> You use type `bool`, but you could use `bint` instead (no need for import) as done in file `src/sage/graphs/generic_graph_pyx.pyx`.\n> You also import `string` but it is never used. You use type `str`.\n\nDone\\\\\\\\\nReplying to [comment:32 dimpase]:\n> `HammingGraph` needs tests for the use of `X=`.\n> (e.g. what happens in `|X|` is not equal to `q`).\n  \nAnd done",
    "created_at": "2018-08-11T12:29:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361455",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

Replying to [comment:31 dcoudert]:
> As I already said, I don't see the need for a pyx file if the code is essentially Python. Nonetheless, I will not fight against it.
> 
> You use type `bool`, but you could use `bint` instead (no need for import) as done in file `src/sage/graphs/generic_graph_pyx.pyx`.
> You also import `string` but it is never used. You use type `str`.

Done\\\\
Replying to [comment:32 dimpase]:
> `HammingGraph` needs tests for the use of `X=`.
> (e.g. what happens in `|X|` is not equal to `q`).
  
And done



---

archive/issue_comments_361456.json:
```json
{
    "body": "Please format documentation in 80 columns mode.\n\nIn method `FurerGadget`:\n- add an examples block\n- I assume that `k` must be positive. What if `k==0` ? add a test.\n- what is the expected type of `prefix` ? you could document that.\n- you use `zip(...)`. With Python3, `zip` becomes an iterator. So if `Va = zip(...)`, you can iterate over `Va` only once. More precisely, after doing `G.add_vertices(Va)`, the operation `Va[i]` raises an error (in Python3). The solution here is to do `Va = list(zip(...))`.\n- `rep(prefix, len(V_a))` -> `rep(prefix, k)`, no ?\n- `for r in range(k+1) if r % 2 == 0` could be simply `for r in range(0, k+1, 2)`\n\n\nIn method `CaiFurerImmermanGraph`:\n- in the documentation, you can write ``G`` instead of ```G``` to use latex.\n- `F(v)` -> ``F(v)``\n- add an examples block and possibly some tests.\n- What if `G` is the empty graph ?\n- `G.edges(labels=False)` -> `G.edge_iterator(labels=False)`\n- The block `temp = edge_ua` is currently not correct as it sets `edge_ua` to it's initial value without touching `edge_ub`. I recommend to rewrite it in 1 line: `edge_ua, edge_ub = edge_ub, edge_ua`.\n\nIn method `EgawaGraph`:\n- Returns -> Return\n- add tests on `p` and `s`. Strictly positive ? \n\n\nIn `HammingGraph`:\n- `if None (or left unused)` -> `if ``None`` (or left unused)`. It's a general convention in documentation for `None`, `True` and `False`.\n- add tests for the expected values of `n` and `q`.\n\nSorry to bother you with all these \"details\", but the cleaner the code, the easier it is to maintain.",
    "created_at": "2018-08-21T09:13:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361456",
    "user": "https://github.com/dcoudert"
}
```

Please format documentation in 80 columns mode.

In method `FurerGadget`:
- add an examples block
- I assume that `k` must be positive. What if `k==0` ? add a test.
- what is the expected type of `prefix` ? you could document that.
- you use `zip(...)`. With Python3, `zip` becomes an iterator. So if `Va = zip(...)`, you can iterate over `Va` only once. More precisely, after doing `G.add_vertices(Va)`, the operation `Va[i]` raises an error (in Python3). The solution here is to do `Va = list(zip(...))`.
- `rep(prefix, len(V_a))` -> `rep(prefix, k)`, no ?
- `for r in range(k+1) if r % 2 == 0` could be simply `for r in range(0, k+1, 2)`


In method `CaiFurerImmermanGraph`:
- in the documentation, you can write ``G`` instead of ```G``` to use latex.
- `F(v)` -> ``F(v)``
- add an examples block and possibly some tests.
- What if `G` is the empty graph ?
- `G.edges(labels=False)` -> `G.edge_iterator(labels=False)`
- The block `temp = edge_ua` is currently not correct as it sets `edge_ua` to it's initial value without touching `edge_ub`. I recommend to rewrite it in 1 line: `edge_ua, edge_ub = edge_ub, edge_ua`.

In method `EgawaGraph`:
- Returns -> Return
- add tests on `p` and `s`. Strictly positive ? 


In `HammingGraph`:
- `if None (or left unused)` -> `if ``None`` (or left unused)`. It's a general convention in documentation for `None`, `True` and `False`.
- add tests for the expected values of `n` and `q`.

Sorry to bother you with all these "details", but the cleaner the code, the easier it is to maintain.



---

archive/issue_comments_361457.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-26T09:31:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361457",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361458.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-30T13:15:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361458",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361459.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-30T13:16:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361459",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361460.json:
```json
{
    "body": "Replying to [comment:36 dcoudert]:\n> Please format documentation in 80 columns mode.\n> \n> In method `FurerGadget`:\n> - add an examples block\n> - I assume that `k` must be positive. What if `k==0` ? add a test.\n> - what is the expected type of `prefix` ? you could document that.\n> - you use `zip(...)`. With Python3, `zip` becomes an iterator. So if `Va = zip(...)`, you can iterate over `Va` only once. More precisely, after doing `G.add_vertices(Va)`, the operation `Va[i]` raises an error (in Python3). The solution here is to do `Va = list(zip(...))`.\n> - `rep(prefix, len(V_a))` -> `rep(prefix, k)`, no ?\n> - `for r in range(k+1) if r % 2 == 0` could be simply `for r in range(0, k+1, 2)`\n> \n> \n> In method `CaiFurerImmermanGraph`:\n> - in the documentation, you can write ``G`` instead of ```G``` to use latex.\n> - `F(v)` -> ``F(v)``\n> - add an examples block and possibly some tests.\n> - What if `G` is the empty graph ?\n> - `G.edges(labels=False)` -> `G.edge_iterator(labels=False)`\n> - The block `temp = edge_ua` is currently not correct as it sets `edge_ua` to it's initial value without touching `edge_ub`. I recommend to rewrite it in 1 line: `edge_ua, edge_ub = edge_ub, edge_ua`.\n> \n> In method `EgawaGraph`:\n> - Returns -> Return\n> - add tests on `p` and `s`. Strictly positive ? \n> \n> \n> In `HammingGraph`:\n> - `if None (or left unused)` -> `if ``None`` (or left unused)`. It's a general convention in documentation for `None`, `True` and `False`.\n> - add tests for the expected values of `n` and `q`.\n> \n> Sorry to bother you with all these \"details\", but the cleaner the code, the easier it is to maintain. \n\nFixed everything, the graph G can be empty for a CaiFurerImmerman graph, it will simply return an equally empty graph.\nPrefix can be anything, so it doesn't really matter.\nAnd anyway, don't worry about it, I appreciate the attention to details, you're telling me things I couldn't have known by myself, thanks.\n\n---\nNew commits:",
    "created_at": "2018-08-30T13:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361460",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

Replying to [comment:36 dcoudert]:
> Please format documentation in 80 columns mode.
> 
> In method `FurerGadget`:
> - add an examples block
> - I assume that `k` must be positive. What if `k==0` ? add a test.
> - what is the expected type of `prefix` ? you could document that.
> - you use `zip(...)`. With Python3, `zip` becomes an iterator. So if `Va = zip(...)`, you can iterate over `Va` only once. More precisely, after doing `G.add_vertices(Va)`, the operation `Va[i]` raises an error (in Python3). The solution here is to do `Va = list(zip(...))`.
> - `rep(prefix, len(V_a))` -> `rep(prefix, k)`, no ?
> - `for r in range(k+1) if r % 2 == 0` could be simply `for r in range(0, k+1, 2)`
> 
> 
> In method `CaiFurerImmermanGraph`:
> - in the documentation, you can write ``G`` instead of ```G``` to use latex.
> - `F(v)` -> ``F(v)``
> - add an examples block and possibly some tests.
> - What if `G` is the empty graph ?
> - `G.edges(labels=False)` -> `G.edge_iterator(labels=False)`
> - The block `temp = edge_ua` is currently not correct as it sets `edge_ua` to it's initial value without touching `edge_ub`. I recommend to rewrite it in 1 line: `edge_ua, edge_ub = edge_ub, edge_ua`.
> 
> In method `EgawaGraph`:
> - Returns -> Return
> - add tests on `p` and `s`. Strictly positive ? 
> 
> 
> In `HammingGraph`:
> - `if None (or left unused)` -> `if ``None`` (or left unused)`. It's a general convention in documentation for `None`, `True` and `False`.
> - add tests for the expected values of `n` and `q`.
> 
> Sorry to bother you with all these "details", but the cleaner the code, the easier it is to maintain. 

Fixed everything, the graph G can be empty for a CaiFurerImmerman graph, it will simply return an equally empty graph.
Prefix can be anything, so it doesn't really matter.
And anyway, don't worry about it, I appreciate the attention to details, you're telling me things I couldn't have known by myself, thanks.

---
New commits:



---

archive/issue_comments_361461.json:
```json
{
    "body": "Is it ready for review? If so, please set it ready for review...",
    "created_at": "2018-09-16T08:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361461",
    "user": "https://github.com/dimpase"
}
```

Is it ready for review? If so, please set it ready for review...



---

archive/issue_comments_361462.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-09-18T09:30:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361462",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_361463.json:
```json
{
    "body": "A choice must be done: either put the methods in `families.py` or in a new file `families_pyx.pyx`.\nI don't see the advantage of the new `.pyx` file here, as the speed up improvement is rather limited, but I will not fight against it.",
    "created_at": "2018-09-18T11:50:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361463",
    "user": "https://github.com/dcoudert"
}
```

A choice must be done: either put the methods in `families.py` or in a new file `families_pyx.pyx`.
I don't see the advantage of the new `.pyx` file here, as the speed up improvement is rather limited, but I will not fight against it.



---

archive/issue_comments_361464.json:
```json
{
    "body": "Replying to [comment:43 dcoudert]:\n> A choice must be done: either put the methods in `families.py` or in a new file `families_pyx.pyx`.\n> I don't see the advantage of the new `.pyx` file here, as the speed up improvement is rather limited, but I will not fight against it.\n\nI have to say in this case I agree with you, there's not much use for it, as the bottleneck in basically any case is going to be the creation of the graph itself, but since I didn't want to choose by myself, I'll leave it for other reviewers to decide. \\\\\nIt's a 1 minute job to delete one of the two versions, anyway.",
    "created_at": "2018-09-18T12:01:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361464",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

Replying to [comment:43 dcoudert]:
> A choice must be done: either put the methods in `families.py` or in a new file `families_pyx.pyx`.
> I don't see the advantage of the new `.pyx` file here, as the speed up improvement is rather limited, but I will not fight against it.

I have to say in this case I agree with you, there's not much use for it, as the bottleneck in basically any case is going to be the creation of the graph itself, but since I didn't want to choose by myself, I'll leave it for other reviewers to decide. \\
It's a 1 minute job to delete one of the two versions, anyway.



---

archive/issue_comments_361465.json:
```json
{
    "body": "fixed docs formatting, and few changes in docs English.\n\n---\nNew commits:",
    "created_at": "2018-10-05T10:16:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361465",
    "user": "https://github.com/dimpase"
}
```

fixed docs formatting, and few changes in docs English.

---
New commits:



---

archive/issue_comments_361466.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-10-05T10:16:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361466",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_361467.json:
```json
{
    "body": "still needs removal of the cython version",
    "created_at": "2018-10-05T10:26:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361467",
    "user": "https://github.com/dimpase"
}
```

still needs removal of the cython version



---

archive/issue_comments_361468.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-10-05T10:26:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361468",
    "user": "https://github.com/dimpase"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_361469.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-05T10:48:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361469",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361470.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2018-10-05T10:49:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361470",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_361471.json:
```json
{
    "body": "all done.",
    "created_at": "2018-10-05T10:49:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361471",
    "user": "https://github.com/dimpase"
}
```

all done.



---

archive/issue_comments_361472.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-10-06T17:12:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25654#issuecomment-361472",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_064747.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-10-06T17:12:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25654",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25654#event-64747"
}
```
