# Issue 22180: Add neighborly methods for polyhedra

Issue created by migration from Trac.

Original creator: moritz

Original creation time: 2017-02-22 18:48:13

CC:  jipilab chapoton vdelecroix

Keywords: polyhedron

I propose to add two functions to the polyhedron class; namely ``neighborliness`` and ``is_neighborly``. 

While neighborliness could be used to calculate the is_neighborly, it might be faster not to compute the neighborliness if one only wants to know is_neighborly(k) for some small k.  (More spefically, the output of  `P.is_neighborly()` shoud be the same as `P.neighborliness()>=floor(P.dim()/2))`).


---

Comment by git created at 2017-02-22 18:52:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jipilab created at 2017-02-23 10:39:00

Hi Moritz,

You could truncate the two long lines before the "for" (see https://www.python.org/dev/peps/pep-0008/#maximum-line-length )


---

Comment by jipilab created at 2017-02-23 10:39:29

and you can put your name as the author.


---

Comment by moritz created at 2017-03-03 17:06:46

Changing keywords from "polyhedron" to "polyhedron days84".


---

Comment by git created at 2017-03-03 18:55:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by moritz created at 2017-03-04 11:43:25

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2017-03-05 09:51:27


```
k = 1
while(True):
    if len(self.faces(k))==binomial(self.n_vertices(),k+1):
        k += 1
    else:
        return k
```

can be simplified to

```
k = 1
while len(self.faces(k)) == binomial(self.n_vertices(), k + 1):
    k += 1
return k
```

(please be careful with spaces in the code)


---

Comment by vdelecroix created at 2017-03-05 09:54:23

About spacing, change (in the code and in the examples)
 - `a=b` to `a = b`, `a>b` to `a > b`, etc
 - `f(x,y)` to `f(x, y)`


---

Comment by vdelecroix created at 2017-03-05 09:54:23

Changing status from needs_review to needs_work.


---

Comment by git created at 2017-03-05 10:44:58

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by moritz created at 2017-03-05 10:45:58

Thanks Vincent!
I modified the spaces and added more doctests.
----
New commits:


---

Comment by moritz created at 2017-03-05 10:45:58

Changing status from needs_work to needs_review.


---

Comment by jipilab created at 2017-03-05 13:13:19

Hi Moritz,

 - perhaps in the "neighborliness" add a SEEALSO pointing to "is_neighborly".
 - In the examples of neighborliness there are spaces missing in `P=Polyhedron` in several instances.
 - In the INPUT and OUTPUT of `is_neighborly` there are backticks missing around one `k`.

More comments to come...


---

Comment by git created at 2017-03-05 17:24:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jipilab created at 2017-03-05 18:30:24

Changing keywords from "polyhedron days84" to "polyhedron, days84".


---

Comment by jipilab created at 2017-03-05 23:38:26

This ticket looks ready to go to me.

I'd like to have a second opinion though to make sure!


---

Comment by jipilab created at 2017-03-06 09:21:25

Changing status from needs_review to needs_work.


---

Comment by jipilab created at 2017-03-06 09:21:25

Hi Moritz,

Here are a couple of things to correct:

 - the syntax for the seealso block (in both functions) should be corrected (see [here](http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings))
 - The seealso block should be before the examples
 - The first example in `is_neighborly` should be easy. Put the first example at the end.
 - perhaps change the index`l` so that it is not confused with the number `1`. 

The doc compiles on 7.6.beta6


---

Comment by git created at 2017-03-06 10:08:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by moritz created at 2017-03-06 10:14:08

Thanks JP! I improved the docstring.


---

Comment by moritz created at 2017-03-06 10:14:41

Changing status from needs_work to needs_review.


---

Comment by jipilab created at 2017-03-06 10:31:27

Looks good! Up to the bot, I'll give it a positive review.


---

Comment by git created at 2017-03-06 11:40:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jipilab created at 2017-03-06 15:39:26

I would adapt the text before the neighborliness examples (specifying the cubes).

All test pass on 7.6.beta6 and the documentation looks good.

Once the bot gives the green light and you corrected the above, I'd give it a positive review.


---

Comment by git created at 2017-03-06 17:06:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by moritz created at 2017-03-06 17:07:09

thanks, JP! 

I moved the text before the cubes to the cyclic example.


---

Comment by jipilab created at 2017-03-07 11:18:48

It now looks good to me. Positive review.


---

Comment by jipilab created at 2017-03-07 11:18:48

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-03-10 23:13:18

Resolution: fixed
