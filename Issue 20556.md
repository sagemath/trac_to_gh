# Issue 20556: Coefficients of a modular form don't coerce into the Hecke eigenfield

archive/issues_020556.json:
```json
{
    "body": "CC:  kedlaya\n\nReported by Kiran Kedlaya on [sage-nt](https://groups.google.com/forum/#!topic/sage-nt/lDu23r0bAYk):\n\n```\nsage: N = Newforms(83,2, names=\"a\")\nsage: f = N[1]\nsage: K = f.hecke_eigenvalue_field()\nsage: print K\nNumber Field in a1 with defining polynomial x^6 - x^5 - 9*x^4 + 7*x^3 + 20*x^2 - 12*x - 8\nsage: l = f.coefficients(20)\nsage: print l[-1].parent()\nNumber Field in alpha with defining polynomial x^6 - x^5 - 9*x^4 + 7*x^3 + 20*x^2 - 12*x - 8\nsage: K(l[-1])\nTraceback (most recent call last):\n...\nTypeError: No compatible natural embeddings found for Number Field in a1 with defining polynomial x^6 - x^5 - 9*x^4 + 7*x^3 + 20*x^2 - 12*x - 8 and Number Field in alpha with defining polynomial x^6 - x^5 - 9*x^4 + 7*x^3 + 20*x^2 - 12*x - 8\n```\n\nThis can be fixed by returning the coefficients as number field elements in the variable name of the Hecke eigenvalue field instead of `alpha`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/20793\n\n",
    "created_at": "2016-06-09T11:38:15Z",
    "labels": [
        "modular forms",
        "major",
        "bug"
    ],
    "title": "Coefficients of a modular form don't coerce into the Hecke eigenfield",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20556",
    "user": "pbruin"
}
```
CC:  kedlaya

Reported by Kiran Kedlaya on [sage-nt](https://groups.google.com/forum/#!topic/sage-nt/lDu23r0bAYk):

```
sage: N = Newforms(83,2, names="a")
sage: f = N[1]
sage: K = f.hecke_eigenvalue_field()
sage: print K
Number Field in a1 with defining polynomial x^6 - x^5 - 9*x^4 + 7*x^3 + 20*x^2 - 12*x - 8
sage: l = f.coefficients(20)
sage: print l[-1].parent()
Number Field in alpha with defining polynomial x^6 - x^5 - 9*x^4 + 7*x^3 + 20*x^2 - 12*x - 8
sage: K(l[-1])
Traceback (most recent call last):
...
TypeError: No compatible natural embeddings found for Number Field in a1 with defining polynomial x^6 - x^5 - 9*x^4 + 7*x^3 + 20*x^2 - 12*x - 8 and Number Field in alpha with defining polynomial x^6 - x^5 - 9*x^4 + 7*x^3 + 20*x^2 - 12*x - 8
```

This can be fixed by returning the coefficients as number field elements in the variable name of the Hecke eigenvalue field instead of `alpha`.

Issue created by migration from https://trac.sagemath.org/ticket/20793





---

archive/issue_comments_283939.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-06-09T11:45:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20556#issuecomment-283939",
    "user": "pbruin"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_283940.json:
```json
{
    "body": "My local sage does not build right now so I could not test this. Feel free to set it to positive review yourself once the patchbot tested it or if you have run all tests yourself.",
    "created_at": "2016-06-09T15:11:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20556#issuecomment-283940",
    "user": "saraedum"
}
```

My local sage does not build right now so I could not test this. Feel free to set it to positive review yourself once the patchbot tested it or if you have run all tests yourself.



---

archive/issue_comments_283941.json:
```json
{
    "body": "Replying to [comment:2 saraedum]:\n> My local sage does not build right now so I could not test this. Feel free to set it to positive review yourself once the patchbot tested it or if you have run all tests yourself.\nTests pass, thanks for your review.",
    "created_at": "2016-06-09T16:27:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20556#issuecomment-283941",
    "user": "pbruin"
}
```

Replying to [comment:2 saraedum]:
> My local sage does not build right now so I could not test this. Feel free to set it to positive review yourself once the patchbot tested it or if you have run all tests yourself.
Tests pass, thanks for your review.



---

archive/issue_comments_283942.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-06-09T16:27:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20556#issuecomment-283942",
    "user": "pbruin"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_283943.json:
```json
{
    "body": "I will run `make ptestlong` on my local build just to confirm, but it looks fine to me too.",
    "created_at": "2016-06-09T18:14:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20556#issuecomment-283943",
    "user": "kedlaya"
}
```

I will run `make ptestlong` on my local build just to confirm, but it looks fine to me too.



---

archive/issue_comments_283944.json:
```json
{
    "body": "... and indeed all tests pass for me.",
    "created_at": "2016-06-09T20:34:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20556#issuecomment-283944",
    "user": "kedlaya"
}
```

... and indeed all tests pass for me.



---

archive/issue_comments_283945.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-06-11T22:28:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20556#issuecomment-283945",
    "user": "vbraun"
}
```

Resolution: fixed
