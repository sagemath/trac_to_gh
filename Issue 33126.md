# Issue 33126: (Too) long doctest in sage/matrix/matrix_integer_dense.pyx

archive/issues_033126.json:
```json
{
    "body": "This test,\n\n\n```\nsage: m = random_matrix(ZZ, 100, 100, x=-1000, y=1000, density=.1)  \nsage: m.parent()                                                    \nFull MatrixSpace of 100 by 100 dense matrices over Integer Ring     \nsage: H, U = m.hermite_form(algorithm=\"flint\", transformation=True)  # long time\n```\n\n\nusually finishes immediately, often takes a few minutes, and rarely (if you're unlucky) takes ~25 minutes. Unless the `100` is imporant, we should probably decrease the size of this example down to, say, `10`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/33363\n\n",
    "created_at": "2022-02-17T02:56:16Z",
    "labels": [
        "component: doctest framework",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "(Too) long doctest in sage/matrix/matrix_integer_dense.pyx",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33126",
    "user": "https://github.com/orlitzky"
}
```
This test,


```
sage: m = random_matrix(ZZ, 100, 100, x=-1000, y=1000, density=.1)  
sage: m.parent()                                                    
Full MatrixSpace of 100 by 100 dense matrices over Integer Ring     
sage: H, U = m.hermite_form(algorithm="flint", transformation=True)  # long time
```


usually finishes immediately, often takes a few minutes, and rarely (if you're unlucky) takes ~25 minutes. Unless the `100` is imporant, we should probably decrease the size of this example down to, say, `10`.

Issue created by migration from https://trac.sagemath.org/ticket/33363





---

archive/issue_comments_471476.json:
```json
{
    "body": "I thought this was due to bad luck with the density, but that's not the case, even with `density=1` this test usually completes quickly.",
    "created_at": "2022-02-26T13:24:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-471476",
    "user": "https://github.com/orlitzky"
}
```

I thought this was due to bad luck with the density, but that's not the case, even with `density=1` this test usually completes quickly.



---

archive/issue_comments_471477.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-02-26T13:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-471477",
    "user": "https://github.com/orlitzky"
}
```

New commits:



---

archive/issue_comments_471478.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-02-26T13:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-471478",
    "user": "https://github.com/orlitzky"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_471479.json:
```json
{
    "body": "Follow-up in #33418 if someone wants to investigate one of the slow examples.",
    "created_at": "2022-02-26T15:01:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-471479",
    "user": "https://github.com/orlitzky"
}
```

Follow-up in #33418 if someone wants to investigate one of the slow examples.



---

archive/issue_comments_471480.json:
```json
{
    "body": "I am good with lowering the dimension as I don't see any reason it needs to be relatively high (I always get a full rank matrix). However, I think we should keep the density fairly low as I suspect this test is meant to cover the more sparse matrices.",
    "created_at": "2022-02-27T00:44:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-471480",
    "user": "https://github.com/tscrim"
}
```

I am good with lowering the dimension as I don't see any reason it needs to be relatively high (I always get a full rank matrix). However, I think we should keep the density fairly low as I suspect this test is meant to cover the more sparse matrices.



---

archive/issue_comments_471481.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-02-27T12:34:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-471481",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_471482.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-02-27T12:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-471482",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_471483.json:
```json
{
    "body": "Thanks, the change in density was unintentional. I tried it while testing but thought I put it back to 0.1.",
    "created_at": "2022-02-27T12:36:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-471483",
    "user": "https://github.com/orlitzky"
}
```

Thanks, the change in density was unintentional. I tried it while testing but thought I put it back to 0.1.



---

archive/issue_comments_471484.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-02-28T04:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-471484",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_471485.json:
```json
{
    "body": "Thank you.",
    "created_at": "2022-02-28T04:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-471485",
    "user": "https://github.com/tscrim"
}
```

Thank you.



---

archive/issue_events_029967.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2022-03-01T21:31:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33126#event-29967"
}
```



---

archive/issue_comments_471486.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-01T21:31:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-471486",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
