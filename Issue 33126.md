# Issue 33126: (Too) long doctest in sage/matrix/matrix_integer_dense.pyx

archive/issues_033126.json:
```json
{
    "body": "This test,\n\n\n```\nsage: m = random_matrix(ZZ, 100, 100, x=-1000, y=1000, density=.1)  \nsage: m.parent()                                                    \nFull MatrixSpace of 100 by 100 dense matrices over Integer Ring     \nsage: H, U = m.hermite_form(algorithm=\"flint\", transformation=True)  # long time\n```\n\n\nusually finishes immediately, often takes a few minutes, and rarely (if you're unlucky) takes ~25 minutes. Unless the `100` is imporant, we should probably decrease the size of this example down to, say, `10`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/33363\n\n",
    "created_at": "2022-02-17T02:56:16Z",
    "labels": [
        "doctest framework",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "(Too) long doctest in sage/matrix/matrix_integer_dense.pyx",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33126",
    "user": "mjo"
}
```
This test,


```
sage: m = random_matrix(ZZ, 100, 100, x=-1000, y=1000, density=.1)  
sage: m.parent()                                                    
Full MatrixSpace of 100 by 100 dense matrices over Integer Ring     
sage: H, U = m.hermite_form(algorithm="flint", transformation=True)  # long time
```


usually finishes immediately, often takes a few minutes, and rarely (if you're unlucky) takes ~25 minutes. Unless the `100` is imporant, we should probably decrease the size of this example down to, say, `10`.

Issue created by migration from https://trac.sagemath.org/ticket/33363





---

archive/issue_comments_472054.json:
```json
{
    "body": "I thought this was due to bad luck with the density, but that's not the case, even with `density=1` this test usually completes quickly.",
    "created_at": "2022-02-26T13:24:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-472054",
    "user": "mjo"
}
```

I thought this was due to bad luck with the density, but that's not the case, even with `density=1` this test usually completes quickly.



---

archive/issue_comments_472055.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-02-26T13:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-472055",
    "user": "mjo"
}
```

New commits:



---

archive/issue_comments_472056.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-02-26T13:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-472056",
    "user": "mjo"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_472057.json:
```json
{
    "body": "Follow-up in #33418 if someone wants to investigate one of the slow examples.",
    "created_at": "2022-02-26T15:01:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-472057",
    "user": "mjo"
}
```

Follow-up in #33418 if someone wants to investigate one of the slow examples.



---

archive/issue_comments_472058.json:
```json
{
    "body": "I am good with lowering the dimension as I don't see any reason it needs to be relatively high (I always get a full rank matrix). However, I think we should keep the density fairly low as I suspect this test is meant to cover the more sparse matrices.",
    "created_at": "2022-02-27T00:44:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-472058",
    "user": "tscrim"
}
```

I am good with lowering the dimension as I don't see any reason it needs to be relatively high (I always get a full rank matrix). However, I think we should keep the density fairly low as I suspect this test is meant to cover the more sparse matrices.



---

archive/issue_comments_472059.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-02-27T12:34:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-472059",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_472060.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-02-27T12:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-472060",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_472061.json:
```json
{
    "body": "Thanks, the change in density was unintentional. I tried it while testing but thought I put it back to 0.1.",
    "created_at": "2022-02-27T12:36:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-472061",
    "user": "mjo"
}
```

Thanks, the change in density was unintentional. I tried it while testing but thought I put it back to 0.1.



---

archive/issue_comments_472062.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-02-28T04:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-472062",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_472063.json:
```json
{
    "body": "Thank you.",
    "created_at": "2022-02-28T04:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-472063",
    "user": "tscrim"
}
```

Thank you.



---

archive/issue_comments_472064.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-01T21:31:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33126#issuecomment-472064",
    "user": "vbraun"
}
```

Resolution: fixed
