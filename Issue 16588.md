# Issue 16588: Implement untwisted affine Lie algebras

Issue created by migration from Trac.

Original creator: tscrim

Original creation time: 2014-08-14 11:09:42

Assignee: tscrim

CC:  bsalisbury1

Keywords: lie algebras

Part of #14901. Implement untwisted affine Lie algebras from their corresponding classical one (given by extending the corresponding current algebra).


---

Comment by tscrim created at 2017-04-02 07:36:28

Preliminary version.
----
Last 10 new commits:


---

Comment by git created at 2017-04-06 05:27:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-04-06 05:28:12

Changing status from new to needs_review.


---

Comment by git created at 2017-04-06 19:03:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-04-16 18:06:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-05-05 15:31:01

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-05-20 18:12:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bsalisbury1 created at 2017-05-20 18:14:31

It's not working currently, but I'm hoping you can help.  The current complaint I'm getting is


```
'sage.algebras.lie_algebras.lie_algebra_element.UntwistedAffineLieAlgebraElement' object has no attribute '_d_coeff'
```


This comes, for example, when trying to compute 


```
sage: g = LieAlgebra(QQ, cartan_type=['A',1,1])
sage: list(g.lie_algebra_generators())
```


I went to the `.pyx` file and confirmed that the attribute `_d_coeff` is there, so I'm not sure what's going wrong.


---

Comment by tscrim created at 2017-05-20 18:16:34

You need to change `cdef _delta_coeff` in the `pxd` file to `cdef _d_coeff`.


---

Comment by git created at 2017-05-20 22:54:18

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bsalisbury1 created at 2017-05-20 22:55:35

Hi Travis,

I made a bunch of changes.  If you are okay with them, then you may set this to positive review.  All documentation builds and tests passed on my machine.

Ben


---

Comment by tscrim created at 2017-05-20 23:04:24

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2017-05-20 23:04:24

Looks good. Thank you!


---

Comment by vbraun created at 2017-05-21 21:50:55

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2017-05-21 21:50:55


```
sage -t --long src/sage/algebras/lie_algebras/lie_algebra_element.pyx
**********************************************************************
File "src/sage/algebras/lie_algebras/lie_algebra_element.pyx", line 774, in sage.algebras.lie_algebras.lie_algebra_element.UntwistedAffineLieAlgebraElement.__hash__
Failed example:
    hash(x)
Expected:
    1782435762440299943
Got:
    -684399193
**********************************************************************
1 item had failures:
   1 of   5 in sage.algebras.lie_algebras.lie_algebra_element.UntwistedAffineLieAlgebraElement.__hash__
    [202 tests, 1 failure, 1.05 s]
```



---

Comment by git created at 2017-05-21 23:33:28

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-05-21 23:33:54

32-bit/64-bit hash failure. Fixed.


---

Comment by tscrim created at 2017-05-21 23:33:54

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2017-05-23 06:57:35

Resolution: fixed
