# Issue 16588: Implement untwisted affine Lie algebras

archive/issues_016588.json:
```json
{
    "body": "Assignee: tscrim\n\nCC:  bsalisbury1\n\nKeywords: lie algebras\n\nPart of #14901. Implement untwisted affine Lie algebras from their corresponding classical one (given by extending the corresponding current algebra).\n\nIssue created by migration from https://trac.sagemath.org/ticket/16825\n\n",
    "created_at": "2014-08-14T11:09:42Z",
    "labels": [
        "algebra",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Implement untwisted affine Lie algebras",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16588",
    "user": "tscrim"
}
```
Assignee: tscrim

CC:  bsalisbury1

Keywords: lie algebras

Part of #14901. Implement untwisted affine Lie algebras from their corresponding classical one (given by extending the corresponding current algebra).

Issue created by migration from https://trac.sagemath.org/ticket/16825





---

archive/issue_comments_218741.json:
```json
{
    "body": "Preliminary version.\n----\nLast 10 new commits:",
    "created_at": "2017-04-02T07:36:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218741",
    "user": "tscrim"
}
```

Preliminary version.
----
Last 10 new commits:



---

archive/issue_comments_218742.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-04-06T05:27:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218742",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_218743.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-04-06T05:28:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218743",
    "user": "tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_218744.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-04-06T19:03:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218744",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_218745.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-04-16T18:06:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218745",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_218746.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-05T15:31:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218746",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_218747.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-20T18:12:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218747",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_218748.json:
```json
{
    "body": "It's not working currently, but I'm hoping you can help.  The current complaint I'm getting is\n\n\n```\n'sage.algebras.lie_algebras.lie_algebra_element.UntwistedAffineLieAlgebraElement' object has no attribute '_d_coeff'\n```\n\n\nThis comes, for example, when trying to compute \n\n\n```\nsage: g = LieAlgebra(QQ, cartan_type=['A',1,1])\nsage: list(g.lie_algebra_generators())\n```\n\n\nI went to the `.pyx` file and confirmed that the attribute `_d_coeff` is there, so I'm not sure what's going wrong.",
    "created_at": "2017-05-20T18:14:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218748",
    "user": "bsalisbury1"
}
```

It's not working currently, but I'm hoping you can help.  The current complaint I'm getting is


```
'sage.algebras.lie_algebras.lie_algebra_element.UntwistedAffineLieAlgebraElement' object has no attribute '_d_coeff'
```


This comes, for example, when trying to compute 


```
sage: g = LieAlgebra(QQ, cartan_type=['A',1,1])
sage: list(g.lie_algebra_generators())
```


I went to the `.pyx` file and confirmed that the attribute `_d_coeff` is there, so I'm not sure what's going wrong.



---

archive/issue_comments_218749.json:
```json
{
    "body": "You need to change `cdef _delta_coeff` in the `pxd` file to `cdef _d_coeff`.",
    "created_at": "2017-05-20T18:16:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218749",
    "user": "tscrim"
}
```

You need to change `cdef _delta_coeff` in the `pxd` file to `cdef _d_coeff`.



---

archive/issue_comments_218750.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-20T22:54:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218750",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_218751.json:
```json
{
    "body": "Hi Travis,\n\nI made a bunch of changes.  If you are okay with them, then you may set this to positive review.  All documentation builds and tests passed on my machine.\n\nBen",
    "created_at": "2017-05-20T22:55:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218751",
    "user": "bsalisbury1"
}
```

Hi Travis,

I made a bunch of changes.  If you are okay with them, then you may set this to positive review.  All documentation builds and tests passed on my machine.

Ben



---

archive/issue_comments_218752.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-05-20T23:04:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218752",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_218753.json:
```json
{
    "body": "Looks good. Thank you!",
    "created_at": "2017-05-20T23:04:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218753",
    "user": "tscrim"
}
```

Looks good. Thank you!



---

archive/issue_comments_218754.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-05-21T21:50:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218754",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_218755.json:
```json
{
    "body": "\n```\nsage -t --long src/sage/algebras/lie_algebras/lie_algebra_element.pyx\n**********************************************************************\nFile \"src/sage/algebras/lie_algebras/lie_algebra_element.pyx\", line 774, in sage.algebras.lie_algebras.lie_algebra_element.UntwistedAffineLieAlgebraElement.__hash__\nFailed example:\n    hash(x)\nExpected:\n    1782435762440299943\nGot:\n    -684399193\n**********************************************************************\n1 item had failures:\n   1 of   5 in sage.algebras.lie_algebras.lie_algebra_element.UntwistedAffineLieAlgebraElement.__hash__\n    [202 tests, 1 failure, 1.05 s]\n```\n",
    "created_at": "2017-05-21T21:50:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218755",
    "user": "vbraun"
}
```


```
sage -t --long src/sage/algebras/lie_algebras/lie_algebra_element.pyx
**********************************************************************
File "src/sage/algebras/lie_algebras/lie_algebra_element.pyx", line 774, in sage.algebras.lie_algebras.lie_algebra_element.UntwistedAffineLieAlgebraElement.__hash__
Failed example:
    hash(x)
Expected:
    1782435762440299943
Got:
    -684399193
**********************************************************************
1 item had failures:
   1 of   5 in sage.algebras.lie_algebras.lie_algebra_element.UntwistedAffineLieAlgebraElement.__hash__
    [202 tests, 1 failure, 1.05 s]
```




---

archive/issue_comments_218756.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-21T23:33:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218756",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_218757.json:
```json
{
    "body": "32-bit/64-bit hash failure. Fixed.",
    "created_at": "2017-05-21T23:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218757",
    "user": "tscrim"
}
```

32-bit/64-bit hash failure. Fixed.



---

archive/issue_comments_218758.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2017-05-21T23:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218758",
    "user": "tscrim"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_218759.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-05-23T06:57:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-218759",
    "user": "vbraun"
}
```

Resolution: fixed
