# Issue 32322: Use itertools.combinations instead of Combinations in HyperStarGraph generator

Issue created by migration from https://trac.sagemath.org/ticket/32559

Original creator: dcoudert

Original creation time: 2021-09-25 11:48:19

CC:  slelievre chapoton mhansen

Following #30483 we use `itertools.combinations` instead of `Combinations` in `HyperStarGraph`. On the way, we rewrite this generator in a more efficient way and check input parameters.


---

Comment by dcoudert created at 2021-09-25 11:51:32

Changing status from new to needs_review.


---

Comment by dcoudert created at 2021-09-25 11:51:32

New commits:


---

Comment by git created at 2021-09-25 11:54:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2021-09-30 12:07:29

Green bot, please review.

Before

```
sage: %timeit g = graphs.HyperStarGraph(6,3)
215 µs ± 28 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)
```

With this ticket

```
sage: %timeit g = graphs.HyperStarGraph(6,3)
123 µs ± 3.08 µs per loop (mean ± std. dev. of 7 runs, 10000 loops each)
```



---

Comment by chapoton created at 2021-09-30 14:04:00

the new raise should be doctested.


---

Comment by git created at 2021-09-30 15:05:27

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2021-09-30 15:05:44

Right, done.


---

Comment by chapoton created at 2021-09-30 18:41:42

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2021-09-30 18:41:42

Merci. Un test aurait suffi.


---

Comment by vbraun created at 2021-10-10 22:34:12

Resolution: fixed
