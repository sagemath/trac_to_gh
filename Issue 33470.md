# Issue 33470: Montgomery model for elliptic curves

archive/issues_033470.json:
```json
{
    "body": "CC:  @defeo @JohnCremona @categorie\n\nSage implements all its elliptic-curve functionality on long Weierstrass curves. This makes sense, but sometimes we'd like to interface with (or debug) other software, most commonly in cryptography, where other curve models are much more popular.\n\nThis patch adds the method `EllipticCurve_generic.montgomery_model()`, which computes a Montgomery model\n\n    `BY^2 = X^3 + AX^2 + X`\n\nfor a given elliptic curve. Both \"untwisted\" Montgomery curves with `B=1` and \"twisted\" Montgomery curves with arbitrary `B` are supported. The latter cannot be represented as an `EllipticCurve_generic`, so we return a `ProjectivePlaneCurve` instead. Arithmetic on that curve can be emulated by transfering back and forth to the Weierstrass form; a suitable morphism to do so can optionally be returned by the new method.\n\n(In the future, we should also add Edwards curves, but this raises more questions with non-obvious answers: Edwards curves are singular and the correspondence with Weierstrass curves is only a birational equivalence, not an isomorphism.)\n\nIssue created by migration from https://trac.sagemath.org/ticket/33707\n\n",
    "created_at": "2022-04-14T06:15:46Z",
    "labels": [
        "component: elliptic curves"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "Montgomery model for elliptic curves",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33470",
    "user": "https://github.com/yyyyx4"
}
```
CC:  @defeo @JohnCremona @categorie

Sage implements all its elliptic-curve functionality on long Weierstrass curves. This makes sense, but sometimes we'd like to interface with (or debug) other software, most commonly in cryptography, where other curve models are much more popular.

This patch adds the method `EllipticCurve_generic.montgomery_model()`, which computes a Montgomery model

    `BY^2 = X^3 + AX^2 + X`

for a given elliptic curve. Both "untwisted" Montgomery curves with `B=1` and "twisted" Montgomery curves with arbitrary `B` are supported. The latter cannot be represented as an `EllipticCurve_generic`, so we return a `ProjectivePlaneCurve` instead. Arithmetic on that curve can be emulated by transfering back and forth to the Weierstrass form; a suitable morphism to do so can optionally be returned by the new method.

(In the future, we should also add Edwards curves, but this raises more questions with non-obvious answers: Edwards curves are singular and the correspondence with Weierstrass curves is only a birational equivalence, not an isomorphism.)

Issue created by migration from https://trac.sagemath.org/ticket/33707





---

archive/issue_comments_475854.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-04-14T07:08:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33470#issuecomment-475854",
    "user": "https://github.com/yyyyx4"
}
```

Changing status from new to needs_review.



---

archive/issue_events_088599.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33470",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33470#event-88599"
}
```



---

archive/issue_comments_475855.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-04T02:17:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33470#issuecomment-475855",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_475856.json:
```json
{
    "body": "I did some edits mostly improving readability of the code. I also wanted to change the added line in AUTHORS section to `...: added montgomery_model()`, but did not, to respect your taste. But the added line still looks difficult to read in the file. My taste is such that the AUTHORS section should contain plain text. But you may object.\n\nOtherwise, all looks good to me. You can set positive review if you agree with my edits.",
    "created_at": "2022-05-04T02:27:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33470#issuecomment-475856",
    "user": "https://github.com/kwankyu"
}
```

I did some edits mostly improving readability of the code. I also wanted to change the added line in AUTHORS section to `...: added montgomery_model()`, but did not, to respect your taste. But the added line still looks difficult to read in the file. My taste is such that the AUTHORS section should contain plain text. But you may object.

Otherwise, all looks good to me. You can set positive review if you agree with my edits.



---

archive/issue_comments_475857.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-04T03:53:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33470#issuecomment-475857",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_475858.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-04T11:44:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33470#issuecomment-475858",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_475859.json:
```json
{
    "body": "Thank you! I just applied a few more small stylistic tweaks (including the one you suggested above).",
    "created_at": "2022-05-04T11:46:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33470#issuecomment-475859",
    "user": "https://github.com/yyyyx4"
}
```

Thank you! I just applied a few more small stylistic tweaks (including the one you suggested above).



---

archive/issue_comments_475860.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-05-04T21:33:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33470#issuecomment-475860",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_475861.json:
```json
{
    "body": "Thanks.",
    "created_at": "2022-05-04T21:33:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33470#issuecomment-475861",
    "user": "https://github.com/kwankyu"
}
```

Thanks.



---

archive/issue_comments_475862.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-05-22T09:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33470#issuecomment-475862",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_088600.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-05-22T09:57:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33470",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33470#event-88600"
}
```
