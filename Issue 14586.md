# Issue 14586: Python generator for free group variable names

Issue created by migration from https://trac.sagemath.org/ticket/14790

Original creator: dshurbert

Original creation time: 2013-06-21 00:04:47

Assignee: joyner

CC:  rbeezer

When creating free and finitely presented groups, default variable names are often ugly.


```
sage: F = FreeGroup(12)
sage: F
Free Group on generators {x0, x1, x2, x3, x4, x5, x6, x7, x8, x9, x10, x11}
sage: F/[F([1,2,2,1,1,4,7,-8]),F([10,10,4,-5,4,-8]) ] 
Finitely presented group < x0, x1, x2, x3, x4, x5, x6, x7, x8, x9, x10, x11 | x0*x1^2*x0^2*x3*x6*x7^-1, x9^2*x3*x4^-1*x3*x7^-1 >
```


Created by a utility function, the simple generator in this patch provides an easy way to consistently generate better variable names, and will be useful in creating free groups algorithmically.


---

Comment by dshurbert created at 2013-06-21 00:20:18

Changing status from new to needs_review.


---

Comment by dshurbert created at 2013-06-21 18:13:36

Added option to specify whether or not initial iteration through alphabet appends '0' to 
output string


---

Comment by rbeezer created at 2013-06-21 19:03:00

To test this function, first run


```
from sage.groups.free_group import _lexi_gen
```


then


```
lex = _lexi_gen()
```


then repeated use of


```
lex.next()
```



---

Comment by rbeezer created at 2013-07-02 17:54:38

1.

```
Utility method to create generator for free group variable names,
for use when creating free groups of dynamic size.
```

"generator" has two meanings here (and I confused the two).  Better:

```
Return a generator object that produces names suitable for the
generators of a free group.
```


2.  And, `flag` as a keyword name is totally uninformative.  Use something with some meaning.  Help the reader.  I'd suggest `zeros=False`.

3.  `seed` is not a seed.  It is a counter.  Call it `count` or `i` or something else.

4.  Do you really need to import "string" and use the `lowercase` array?  The usual idiom is:

```
chr(ord('a') + ind)
```

I guess this one is a toss-up.

5.  `while (True):` does not need parentheses.

6.  Include an EXAMPLE doctest that shows a higher iteration through the alphabet,  maybe show

```
ls = [test.next() for i in range(3*26)]
ls[2*26:3*26]
```

You can break the long list of output in the middle at whitespace and the test will succeed.

7.  The doctest in the TESTS section is great as is, though you could put both outputs on one line:

```
ls[234], ls[260]
```

and get a pair as the output.  Just more concise.

8.  Changing `flag` inside your if/else on `flag` is very confusing.  How about

```
if mwrap == 0 and not(zeros):
    name=''
else:
    name = str(mwrap)
```

and you can drop the line initializing `name`.


---

Comment by dshurbert created at 2013-07-11 00:35:52

Made changes suggested above.


---

Comment by rbeezer created at 2013-07-12 18:01:57

Looks good!  Passes tests on 5.11.beta3.  Positive review.


---

Comment by rbeezer created at 2013-07-12 18:01:57

Changing status from needs_review to positive_review.


---

Comment by dshurbert created at 2013-07-14 20:08:35

Just moved ``count`` increment to top of code for ease of reader.


---

Comment by rbeezer created at 2013-07-14 20:22:02

Changing status from positive_review to needs_info.


---

Comment by rbeezer created at 2013-07-14 20:22:10

Changing status from needs_info to needs_review.


---

Comment by rbeezer created at 2013-07-14 21:20:41

Change looks good, and passes all necessary testing.  So back to "positive review".


---

Comment by rbeezer created at 2013-07-14 21:20:41

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-07-30 10:28:10

The patch needs a proper commit message (`use hg qrefresh -e` for that).


---

Comment by jdemeyer created at 2013-07-30 17:15:40

Changing status from positive_review to needs_info.


---

Comment by dshurbert created at 2013-07-31 20:38:29

Replacement patch, requested changes made, added commit message


---

Comment by dshurbert created at 2013-07-31 20:40:36

Changing status from needs_info to needs_review.


---

Attachment

Just added commit message, ready for re-review.


---

Comment by vbraun created at 2013-08-01 01:11:05

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-08-02 14:19:17

Resolution: fixed
