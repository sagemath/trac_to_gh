# Issue 14586: Python generator for free group variable names

archive/issues_014586.json:
```json
{
    "body": "Assignee: joyner\n\nCC:  @rbeezer\n\nWhen creating free and finitely presented groups, default variable names are often ugly.\n\n\n```\nsage: F = FreeGroup(12)\nsage: F\nFree Group on generators {x0, x1, x2, x3, x4, x5, x6, x7, x8, x9, x10, x11}\nsage: F/[F([1,2,2,1,1,4,7,-8]),F([10,10,4,-5,4,-8]) ] \nFinitely presented group < x0, x1, x2, x3, x4, x5, x6, x7, x8, x9, x10, x11 | x0*x1^2*x0^2*x3*x6*x7^-1, x9^2*x3*x4^-1*x3*x7^-1 >\n```\n\n\nCreated by a utility function, the simple generator in this patch provides an easy way to consistently generate better variable names, and will be useful in creating free groups algorithmically.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14790\n\n",
    "created_at": "2013-06-21T00:04:47Z",
    "labels": [
        "component: group theory",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.12",
    "title": "Python generator for free group variable names",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14586",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```
Assignee: joyner

CC:  @rbeezer

When creating free and finitely presented groups, default variable names are often ugly.


```
sage: F = FreeGroup(12)
sage: F
Free Group on generators {x0, x1, x2, x3, x4, x5, x6, x7, x8, x9, x10, x11}
sage: F/[F([1,2,2,1,1,4,7,-8]),F([10,10,4,-5,4,-8]) ] 
Finitely presented group < x0, x1, x2, x3, x4, x5, x6, x7, x8, x9, x10, x11 | x0*x1^2*x0^2*x3*x6*x7^-1, x9^2*x3*x4^-1*x3*x7^-1 >
```


Created by a utility function, the simple generator in this patch provides an easy way to consistently generate better variable names, and will be useful in creating free groups algorithmically.

Issue created by migration from https://trac.sagemath.org/ticket/14790





---

archive/issue_comments_185111.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-06-21T00:20:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185111",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_185112.json:
```json
{
    "body": "Added option to specify whether or not initial iteration through alphabet appends '0' to \noutput string",
    "created_at": "2013-06-21T18:13:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185112",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```

Added option to specify whether or not initial iteration through alphabet appends '0' to 
output string



---

archive/issue_comments_185113.json:
```json
{
    "body": "To test this function, first run\n\n\n```\nfrom sage.groups.free_group import _lexi_gen\n```\n\n\nthen\n\n\n```\nlex = _lexi_gen()\n```\n\n\nthen repeated use of\n\n\n```\nlex.next()\n```\n",
    "created_at": "2013-06-21T19:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185113",
    "user": "https://github.com/rbeezer"
}
```

To test this function, first run


```
from sage.groups.free_group import _lexi_gen
```


then


```
lex = _lexi_gen()
```


then repeated use of


```
lex.next()
```




---

archive/issue_comments_185114.json:
```json
{
    "body": "1.\n\n```\nUtility method to create generator for free group variable names,\nfor use when creating free groups of dynamic size.\n```\n\n\"generator\" has two meanings here (and I confused the two).  Better:\n\n```\nReturn a generator object that produces names suitable for the\ngenerators of a free group.\n```\n\n\n2.  And, `flag` as a keyword name is totally uninformative.  Use something with some meaning.  Help the reader.  I'd suggest `zeros=False`.\n\n3.  `seed` is not a seed.  It is a counter.  Call it `count` or `i` or something else.\n\n4.  Do you really need to import \"string\" and use the `lowercase` array?  The usual idiom is:\n\n```\nchr(ord('a') + ind)\n```\n\nI guess this one is a toss-up.\n\n5.  `while (True):` does not need parentheses.\n\n6.  Include an EXAMPLE doctest that shows a higher iteration through the alphabet,  maybe show\n\n```\nls = [test.next() for i in range(3*26)]\nls[2*26:3*26]\n```\n\nYou can break the long list of output in the middle at whitespace and the test will succeed.\n\n7.  The doctest in the TESTS section is great as is, though you could put both outputs on one line:\n\n```\nls[234], ls[260]\n```\n\nand get a pair as the output.  Just more concise.\n\n8.  Changing `flag` inside your if/else on `flag` is very confusing.  How about\n\n```\nif mwrap == 0 and not(zeros):\n    name=''\nelse:\n    name = str(mwrap)\n```\n\nand you can drop the line initializing `name`.",
    "created_at": "2013-07-02T17:54:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185114",
    "user": "https://github.com/rbeezer"
}
```

1.

```
Utility method to create generator for free group variable names,
for use when creating free groups of dynamic size.
```

"generator" has two meanings here (and I confused the two).  Better:

```
Return a generator object that produces names suitable for the
generators of a free group.
```


2.  And, `flag` as a keyword name is totally uninformative.  Use something with some meaning.  Help the reader.  I'd suggest `zeros=False`.

3.  `seed` is not a seed.  It is a counter.  Call it `count` or `i` or something else.

4.  Do you really need to import "string" and use the `lowercase` array?  The usual idiom is:

```
chr(ord('a') + ind)
```

I guess this one is a toss-up.

5.  `while (True):` does not need parentheses.

6.  Include an EXAMPLE doctest that shows a higher iteration through the alphabet,  maybe show

```
ls = [test.next() for i in range(3*26)]
ls[2*26:3*26]
```

You can break the long list of output in the middle at whitespace and the test will succeed.

7.  The doctest in the TESTS section is great as is, though you could put both outputs on one line:

```
ls[234], ls[260]
```

and get a pair as the output.  Just more concise.

8.  Changing `flag` inside your if/else on `flag` is very confusing.  How about

```
if mwrap == 0 and not(zeros):
    name=''
else:
    name = str(mwrap)
```

and you can drop the line initializing `name`.



---

archive/issue_comments_185115.json:
```json
{
    "body": "Made changes suggested above.",
    "created_at": "2013-07-11T00:35:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185115",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```

Made changes suggested above.



---

archive/issue_comments_185116.json:
```json
{
    "body": "Looks good!  Passes tests on 5.11.beta3.  Positive review.",
    "created_at": "2013-07-12T18:01:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185116",
    "user": "https://github.com/rbeezer"
}
```

Looks good!  Passes tests on 5.11.beta3.  Positive review.



---

archive/issue_comments_185117.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-07-12T18:01:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185117",
    "user": "https://github.com/rbeezer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_185118.json:
```json
{
    "body": "Just moved ``count`` increment to top of code for ease of reader.",
    "created_at": "2013-07-14T20:08:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185118",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```

Just moved ``count`` increment to top of code for ease of reader.



---

archive/issue_comments_185119.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2013-07-14T20:22:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185119",
    "user": "https://github.com/rbeezer"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_185120.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2013-07-14T20:22:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185120",
    "user": "https://github.com/rbeezer"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_185121.json:
```json
{
    "body": "Change looks good, and passes all necessary testing.  So back to \"positive review\".",
    "created_at": "2013-07-14T21:20:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185121",
    "user": "https://github.com/rbeezer"
}
```

Change looks good, and passes all necessary testing.  So back to "positive review".



---

archive/issue_comments_185122.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-07-14T21:20:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185122",
    "user": "https://github.com/rbeezer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_185123.json:
```json
{
    "body": "The patch needs a proper commit message (`use hg qrefresh -e` for that).",
    "created_at": "2013-07-30T10:28:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185123",
    "user": "https://github.com/jdemeyer"
}
```

The patch needs a proper commit message (`use hg qrefresh -e` for that).



---

archive/issue_comments_185124.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2013-07-30T17:15:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185124",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_185125.json:
```json
{
    "body": "Replacement patch, requested changes made, added commit message",
    "created_at": "2013-07-31T20:38:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185125",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```

Replacement patch, requested changes made, added commit message



---

archive/issue_comments_185126.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2013-07-31T20:40:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185126",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_185127.json:
```json
{
    "body": "Attachment [trac_14790_fpg_names.patch](tarball://root/attachments/some-uuid/ticket14790/trac_14790_fpg_names.patch) by dshurbert created at 2013-07-31 20:40:36\n\nJust added commit message, ready for re-review.",
    "created_at": "2013-07-31T20:40:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185127",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```

Attachment [trac_14790_fpg_names.patch](tarball://root/attachments/some-uuid/ticket14790/trac_14790_fpg_names.patch) by dshurbert created at 2013-07-31 20:40:36

Just added commit message, ready for re-review.



---

archive/issue_comments_185128.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-08-01T01:11:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185128",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_185129.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-08-02T14:19:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14586#issuecomment-185129",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_014338.json:
```json
{
    "actor": "@jdemeyer",
    "created_at": "2013-08-02T14:19:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14586",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14586#event-14338"
}
```
