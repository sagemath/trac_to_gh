# Issue 14295: Some cleaup in sage/combinat/design

Issue created by migration from Trac.

Original creator: ncohen

Original creation time: 2013-04-28 11:55:58

Assignee: sage-combinat

CC:  dimpase rbeezer

As the title says.. Documentation and reorganisation.


---

Comment by ncohen created at 2013-04-28 12:15:08

Changing status from new to needs_review.


---

Attachment


---

Attachment


---

Comment by Stefan created at 2013-05-02 16:33:17

Shouldn't there be deprecation warnings for the moved functions?

You should be careful with importing stuff in the designs catalog. When typing

sage: designs.<tab>

I get the following entries that shouldn't be there: VectorSpace, ZZ. You also see BlockDesign and IncidenceStructureFromMatrix in that, both of which are available elsewhere, and probably shouldn't be visible either. Look at the implementation of the "groups" catalog for a way to avoid this.


---

Comment by Stefan created at 2013-05-02 16:33:17

Changing status from needs_review to needs_work.


---

Comment by ncohen created at 2013-05-02 16:38:27

Oh. Fake modules. Rightright !

Nathann


---

Comment by ncohen created at 2013-05-02 17:13:37

Ahahaahah. I was a bit stuck with my 4 patches, as you pointed out a problem in the second one. Well, turns out I left all these methods where they were in the first place, and so the 4 patches become only two. Please do not look at it right now, for I still want to check a couple of things `:-)`

Nathann


---

Attachment

Ok, looks good again `:-)`

About deprecation warnings : which function do you have in mind ? If it is the one that downloads a design from internet then the problem is fixed as this function is not moved anymore, nor renamed. It is imported with a different name, though.
If, on the other hand, you think of `points_from_gap` then...

Well. It's up to you. But its docstring seems to say that no one exactly knows why it is there, and it does not seem to do anything useful... It really looks like the kind of thing that has been forgotten a long time ago.

I can put a warning if you want, but it would mean that this thing will stay around for one year, nobody knowing exactly what it does... I personally think that we are better without it.

Have fuuuuuuuuun !

Nathann


---

Comment by ncohen created at 2013-05-02 17:38:12

Changing status from needs_work to needs_review.


---

Comment by Stefan created at 2013-05-02 17:54:19

I just looked at this in the developer guide:

http://www.sagemath.org/doc/developer/coding_in_python.html#deprecation

It would apply to all of AffineGeometryDesign, ProjectiveGeometryDesign, WittDesign, HadamardDesign, BlockDesign_generic (well, maybe this one is trickier because it's a class that's still around), best_known_covering_design_www, points_from_gap.

I don't know how strictly the deprecation procedure is enforced (I'm still new to Sage development), but it seems common courtesy to me to warn current users of where these things have moved to. I'll be ok with not deprecating if an experienced Sage developer supports it too.


---

Comment by ncohen created at 2013-05-02 20:51:26

Changing status from needs_review to needs_work.


---

Comment by ncohen created at 2013-05-02 20:51:26

Hellooooooooo !!

> I don't know how strictly the deprecation procedure is enforced (I'm still new to Sage development), but it seems common courtesy to me to warn current users of where these things have moved to. I'll be ok with not deprecating if an experienced Sage developer supports it too.

As everywhere around the world, here is how the law works : somebody decides that one thing should appear in the law without getting everybody's assent, and then everybody has to conform to it, regardless of what they thought of the rule in the first place.

I personally totally hate that rule most of the times it is applied, and the day is near when I will refrain from sending a patch because of a rule that makes me do work that I find meaningless. Unfortunately for me, I want this patch to get in. So I will do what I believe to be bad work. And I hate compromission.

(I am sorry Stefan, for you do not deserve this. It's my battle against the world.)

Will do !

Nathann


---

Attachment


---

Attachment


---

Comment by ncohen created at 2013-05-02 22:01:11

Changing status from needs_work to needs_review.


---

Comment by ncohen created at 2013-05-02 22:01:11

Here it is ! It should be done by the book. I compromised again `:-P`

And it will stay there for one year... And be forgotten, before another ticket is opened to remove them.

I was actually quite surprised that a function like `deprecated_callable_import` existed somewhere !

Note that I also changed the first patch, as it is the one which removed points_from_gap. This method is not removed, but code is added to it (as it is the custom) to add the deprecation warning. Granted, I lost two hours of sleep and kilograms of good karma, but two guys on a weird continent whom I never met will not need to do a google search the next time they upgrade their version of Sage, even though the Google search would have led them to check out the new features while they were at it. And that's worth more than my physical health `:-P`

Nathann


---

Attachment

Small change to docstring of block_design.py


---

Comment by Stefan created at 2013-05-06 19:28:02

I had a tiny issue with the documentation; to save you work I added an extra patch. If someone (Nathann?) can OK that patch then I can give this ticket a positive review.


---

Comment by ncohen created at 2013-05-06 20:15:33

Oh. That small. You could have asked, it would have been done quickly... `:-)`

Thank you for this review !

Nathann


---

Comment by ncohen created at 2013-05-06 20:15:33

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2013-05-06 20:15:47

Apply trac_14499.patch trac_14499-catalog.patch trac_14499-deprecations.patch trac_14499-review-change.patch


---

Comment by jdemeyer created at 2013-05-08 07:44:38

Resolution: fixed
