# Issue 14295: Some cleaup in sage/combinat/design

archive/issues_014295.json:
```json
{
    "body": "Assignee: sage-combinat\n\nCC:  dimpase rbeezer\n\nAs the title says.. Documentation and reorganisation.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14499\n\n",
    "created_at": "2013-04-28T11:55:58Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.10",
    "title": "Some cleaup in sage/combinat/design",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14295",
    "user": "ncohen"
}
```
Assignee: sage-combinat

CC:  dimpase rbeezer

As the title says.. Documentation and reorganisation.

Issue created by migration from https://trac.sagemath.org/ticket/14499





---

archive/issue_comments_180391.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-04-28T12:15:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180391",
    "user": "ncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_180392.json:
```json
{
    "body": "Attachment [trac_14499-doctests.patch](tarball://root/attachments/some-uuid/ticket14499/trac_14499-doctests.patch) by ncohen created at 2013-04-28 13:26:55",
    "created_at": "2013-04-28T13:26:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180392",
    "user": "ncohen"
}
```

Attachment [trac_14499-doctests.patch](tarball://root/attachments/some-uuid/ticket14499/trac_14499-doctests.patch) by ncohen created at 2013-04-28 13:26:55



---

archive/issue_comments_180393.json:
```json
{
    "body": "Attachment [trac_14499-db_internet.patch](tarball://root/attachments/some-uuid/ticket14499/trac_14499-db_internet.patch) by ncohen created at 2013-04-28 13:30:07",
    "created_at": "2013-04-28T13:30:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180393",
    "user": "ncohen"
}
```

Attachment [trac_14499-db_internet.patch](tarball://root/attachments/some-uuid/ticket14499/trac_14499-db_internet.patch) by ncohen created at 2013-04-28 13:30:07



---

archive/issue_comments_180394.json:
```json
{
    "body": "Shouldn't there be deprecation warnings for the moved functions?\n\nYou should be careful with importing stuff in the designs catalog. When typing\n\nsage: designs.<tab>\n\nI get the following entries that shouldn't be there: VectorSpace, ZZ. You also see BlockDesign and IncidenceStructureFromMatrix in that, both of which are available elsewhere, and probably shouldn't be visible either. Look at the implementation of the \"groups\" catalog for a way to avoid this.",
    "created_at": "2013-05-02T16:33:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180394",
    "user": "Stefan"
}
```

Shouldn't there be deprecation warnings for the moved functions?

You should be careful with importing stuff in the designs catalog. When typing

sage: designs.<tab>

I get the following entries that shouldn't be there: VectorSpace, ZZ. You also see BlockDesign and IncidenceStructureFromMatrix in that, both of which are available elsewhere, and probably shouldn't be visible either. Look at the implementation of the "groups" catalog for a way to avoid this.



---

archive/issue_comments_180395.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-05-02T16:33:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180395",
    "user": "Stefan"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_180396.json:
```json
{
    "body": "Oh. Fake modules. Rightright !\n\nNathann",
    "created_at": "2013-05-02T16:38:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180396",
    "user": "ncohen"
}
```

Oh. Fake modules. Rightright !

Nathann



---

archive/issue_comments_180397.json:
```json
{
    "body": "Ahahaahah. I was a bit stuck with my 4 patches, as you pointed out a problem in the second one. Well, turns out I left all these methods where they were in the first place, and so the 4 patches become only two. Please do not look at it right now, for I still want to check a couple of things `:-)`\n\nNathann",
    "created_at": "2013-05-02T17:13:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180397",
    "user": "ncohen"
}
```

Ahahaahah. I was a bit stuck with my 4 patches, as you pointed out a problem in the second one. Well, turns out I left all these methods where they were in the first place, and so the 4 patches become only two. Please do not look at it right now, for I still want to check a couple of things `:-)`

Nathann



---

archive/issue_comments_180398.json:
```json
{
    "body": "Attachment [trac_14499-catalog.patch](tarball://root/attachments/some-uuid/ticket14499/trac_14499-catalog.patch) by ncohen created at 2013-05-02 17:38:12\n\nOk, looks good again `:-)`\n\nAbout deprecation warnings : which function do you have in mind ? If it is the one that downloads a design from internet then the problem is fixed as this function is not moved anymore, nor renamed. It is imported with a different name, though.\nIf, on the other hand, you think of `points_from_gap` then...\n\nWell. It's up to you. But its docstring seems to say that no one exactly knows why it is there, and it does not seem to do anything useful... It really looks like the kind of thing that has been forgotten a long time ago.\n\nI can put a warning if you want, but it would mean that this thing will stay around for one year, nobody knowing exactly what it does... I personally think that we are better without it.\n\nHave fuuuuuuuuun !\n\nNathann",
    "created_at": "2013-05-02T17:38:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180398",
    "user": "ncohen"
}
```

Attachment [trac_14499-catalog.patch](tarball://root/attachments/some-uuid/ticket14499/trac_14499-catalog.patch) by ncohen created at 2013-05-02 17:38:12

Ok, looks good again `:-)`

About deprecation warnings : which function do you have in mind ? If it is the one that downloads a design from internet then the problem is fixed as this function is not moved anymore, nor renamed. It is imported with a different name, though.
If, on the other hand, you think of `points_from_gap` then...

Well. It's up to you. But its docstring seems to say that no one exactly knows why it is there, and it does not seem to do anything useful... It really looks like the kind of thing that has been forgotten a long time ago.

I can put a warning if you want, but it would mean that this thing will stay around for one year, nobody knowing exactly what it does... I personally think that we are better without it.

Have fuuuuuuuuun !

Nathann



---

archive/issue_comments_180399.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-05-02T17:38:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180399",
    "user": "ncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_180400.json:
```json
{
    "body": "I just looked at this in the developer guide:\n\nhttp://www.sagemath.org/doc/developer/coding_in_python.html#deprecation\n\nIt would apply to all of AffineGeometryDesign, ProjectiveGeometryDesign, WittDesign, HadamardDesign, BlockDesign_generic (well, maybe this one is trickier because it's a class that's still around), best_known_covering_design_www, points_from_gap.\n\nI don't know how strictly the deprecation procedure is enforced (I'm still new to Sage development), but it seems common courtesy to me to warn current users of where these things have moved to. I'll be ok with not deprecating if an experienced Sage developer supports it too.",
    "created_at": "2013-05-02T17:54:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180400",
    "user": "Stefan"
}
```

I just looked at this in the developer guide:

http://www.sagemath.org/doc/developer/coding_in_python.html#deprecation

It would apply to all of AffineGeometryDesign, ProjectiveGeometryDesign, WittDesign, HadamardDesign, BlockDesign_generic (well, maybe this one is trickier because it's a class that's still around), best_known_covering_design_www, points_from_gap.

I don't know how strictly the deprecation procedure is enforced (I'm still new to Sage development), but it seems common courtesy to me to warn current users of where these things have moved to. I'll be ok with not deprecating if an experienced Sage developer supports it too.



---

archive/issue_comments_180401.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-05-02T20:51:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180401",
    "user": "ncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_180402.json:
```json
{
    "body": "Hellooooooooo !!\n\n> I don't know how strictly the deprecation procedure is enforced (I'm still new to Sage development), but it seems common courtesy to me to warn current users of where these things have moved to. I'll be ok with not deprecating if an experienced Sage developer supports it too.\n\nAs everywhere around the world, here is how the law works : somebody decides that one thing should appear in the law without getting everybody's assent, and then everybody has to conform to it, regardless of what they thought of the rule in the first place.\n\nI personally totally hate that rule most of the times it is applied, and the day is near when I will refrain from sending a patch because of a rule that makes me do work that I find meaningless. Unfortunately for me, I want this patch to get in. So I will do what I believe to be bad work. And I hate compromission.\n\n(I am sorry Stefan, for you do not deserve this. It's my battle against the world.)\n\nWill do !\n\nNathann",
    "created_at": "2013-05-02T20:51:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180402",
    "user": "ncohen"
}
```

Hellooooooooo !!

> I don't know how strictly the deprecation procedure is enforced (I'm still new to Sage development), but it seems common courtesy to me to warn current users of where these things have moved to. I'll be ok with not deprecating if an experienced Sage developer supports it too.

As everywhere around the world, here is how the law works : somebody decides that one thing should appear in the law without getting everybody's assent, and then everybody has to conform to it, regardless of what they thought of the rule in the first place.

I personally totally hate that rule most of the times it is applied, and the day is near when I will refrain from sending a patch because of a rule that makes me do work that I find meaningless. Unfortunately for me, I want this patch to get in. So I will do what I believe to be bad work. And I hate compromission.

(I am sorry Stefan, for you do not deserve this. It's my battle against the world.)

Will do !

Nathann



---

archive/issue_comments_180403.json:
```json
{
    "body": "Attachment [trac_14499.patch](tarball://root/attachments/some-uuid/ticket14499/trac_14499.patch) by ncohen created at 2013-05-02 21:47:24",
    "created_at": "2013-05-02T21:47:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180403",
    "user": "ncohen"
}
```

Attachment [trac_14499.patch](tarball://root/attachments/some-uuid/ticket14499/trac_14499.patch) by ncohen created at 2013-05-02 21:47:24



---

archive/issue_comments_180404.json:
```json
{
    "body": "Attachment [trac_14499-deprecations.patch](tarball://root/attachments/some-uuid/ticket14499/trac_14499-deprecations.patch) by ncohen created at 2013-05-02 21:55:34",
    "created_at": "2013-05-02T21:55:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180404",
    "user": "ncohen"
}
```

Attachment [trac_14499-deprecations.patch](tarball://root/attachments/some-uuid/ticket14499/trac_14499-deprecations.patch) by ncohen created at 2013-05-02 21:55:34



---

archive/issue_comments_180405.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-05-02T22:01:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180405",
    "user": "ncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_180406.json:
```json
{
    "body": "Here it is ! It should be done by the book. I compromised again `:-P`\n\nAnd it will stay there for one year... And be forgotten, before another ticket is opened to remove them.\n\nI was actually quite surprised that a function like `deprecated_callable_import` existed somewhere !\n\nNote that I also changed the first patch, as it is the one which removed points_from_gap. This method is not removed, but code is added to it (as it is the custom) to add the deprecation warning. Granted, I lost two hours of sleep and kilograms of good karma, but two guys on a weird continent whom I never met will not need to do a google search the next time they upgrade their version of Sage, even though the Google search would have led them to check out the new features while they were at it. And that's worth more than my physical health `:-P`\n\nNathann",
    "created_at": "2013-05-02T22:01:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180406",
    "user": "ncohen"
}
```

Here it is ! It should be done by the book. I compromised again `:-P`

And it will stay there for one year... And be forgotten, before another ticket is opened to remove them.

I was actually quite surprised that a function like `deprecated_callable_import` existed somewhere !

Note that I also changed the first patch, as it is the one which removed points_from_gap. This method is not removed, but code is added to it (as it is the custom) to add the deprecation warning. Granted, I lost two hours of sleep and kilograms of good karma, but two guys on a weird continent whom I never met will not need to do a google search the next time they upgrade their version of Sage, even though the Google search would have led them to check out the new features while they were at it. And that's worth more than my physical health `:-P`

Nathann



---

archive/issue_comments_180407.json:
```json
{
    "body": "Attachment [trac_14499-review-change.patch](tarball://root/attachments/some-uuid/ticket14499/trac_14499-review-change.patch) by Stefan created at 2013-05-06 19:24:38\n\nSmall change to docstring of block_design.py",
    "created_at": "2013-05-06T19:24:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180407",
    "user": "Stefan"
}
```

Attachment [trac_14499-review-change.patch](tarball://root/attachments/some-uuid/ticket14499/trac_14499-review-change.patch) by Stefan created at 2013-05-06 19:24:38

Small change to docstring of block_design.py



---

archive/issue_comments_180408.json:
```json
{
    "body": "I had a tiny issue with the documentation; to save you work I added an extra patch. If someone (Nathann?) can OK that patch then I can give this ticket a positive review.",
    "created_at": "2013-05-06T19:28:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180408",
    "user": "Stefan"
}
```

I had a tiny issue with the documentation; to save you work I added an extra patch. If someone (Nathann?) can OK that patch then I can give this ticket a positive review.



---

archive/issue_comments_180409.json:
```json
{
    "body": "Oh. That small. You could have asked, it would have been done quickly... `:-)`\n\nThank you for this review !\n\nNathann",
    "created_at": "2013-05-06T20:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180409",
    "user": "ncohen"
}
```

Oh. That small. You could have asked, it would have been done quickly... `:-)`

Thank you for this review !

Nathann



---

archive/issue_comments_180410.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-05-06T20:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180410",
    "user": "ncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_180411.json:
```json
{
    "body": "Apply trac_14499.patch trac_14499-catalog.patch trac_14499-deprecations.patch trac_14499-review-change.patch",
    "created_at": "2013-05-06T20:15:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180411",
    "user": "ncohen"
}
```

Apply trac_14499.patch trac_14499-catalog.patch trac_14499-deprecations.patch trac_14499-review-change.patch



---

archive/issue_comments_180412.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-05-08T07:44:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14295#issuecomment-180412",
    "user": "jdemeyer"
}
```

Resolution: fixed
