# Issue 27545: 1 pynormaliz doctest failing in src/sage/geometry/polyhedron/backend_normaliz.py

Issue created by migration from https://trac.sagemath.org/ticket/27782

Original creator: slabbe

Original creation time: 2019-05-06 12:42:03

CC:  jipilab

With [SageMath](SageMath) version 8.8.beta4, Release Date: 2019-05-04, 


```
sage -t --long src/sage/geometry/polyhedron/backend_normaliz.py
```


gives


```
Using --optional=4ti2,bliss,build,cbc,ccache,cmake,cryptominisat,dochtml,dot2tex,e_antic,glucose,latte_int,lidia,lrslib,memlimit,mpir,ninja_build,normaliz,notedown,pandoc_attributes,pycosat,pynormaliz,python2,qhull,rst2ipynb,sage,topcom
Doctesting 1 file.
sage -t --long src/sage/geometry/polyhedron/backend_normaliz.py
**********************************************************************
File "src/sage/geometry/polyhedron/backend_normaliz.py", line 186, in sage.geometry.polyhedron.backend_normaliz.Polyhedron_normaliz._nmz_result
Failed example:
    p._nmz_result(p._normaliz_cone, 'EquivariantXyzzyModuleSeries')  # optional - pynormaliz
Expected:
    Traceback (most recent call last):
    ...
    error: Some error in the normaliz input data detected: Unknown ConeProperty...
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/home/slabbe/GitBox/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 671, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/slabbe/GitBox/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1095, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.backend_normaliz.Polyhedron_normaliz._nmz_result[1]>", line 1, in <module>
        p._nmz_result(p._normaliz_cone, 'EquivariantXyzzyModuleSeries')  # optional - pynormaliz
      File "/home/slabbe/GitBox/sage/local/lib/python2.7/site-packages/sage/geometry/polyhedron/backend_normaliz.py", line 192, in _nmz_result
        return PyNormaliz.NmzResult(normaliz_cone, property)
    NormalizError: Some error in the normaliz input data detected: Unknown ConeProperty string "EquivariantXyzzyModuleSeries"
**********************************************************************
1 item had failures:
   1 of   3 in sage.geometry.polyhedron.backend_normaliz.Polyhedron_normaliz._nmz_result
    [136 tests, 1 failure, 0.52 s]
----------------------------------------------------------------------
sage -t --long src/sage/geometry/polyhedron/backend_normaliz.py  # 1 doctest failed
----------------------------------------------------------------------
```



---

Comment by mkoeppe created at 2019-05-07 11:45:54

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2019-05-07 11:45:54

New commits:


---

Comment by vklein created at 2019-05-07 14:15:16

Changing status from needs_review to positive_review.


---

Comment by vklein created at 2019-05-07 14:15:16

Looks good to me.


---

Comment by mkoeppe created at 2019-05-08 19:28:57

Thank you!


---

Comment by vbraun created at 2019-05-12 21:30:10

Resolution: fixed
