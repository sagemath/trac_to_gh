# Issue 28533: Polyhedra coercion of base rings fails for number fields

Issue created by migration from https://trac.sagemath.org/ticket/28770

Original creator: @kliem

Original creation time: 2019-11-19 11:28:40

CC:  jipilab @laisrast

Currently coercion of polyhedra with number fields does not work. The following results in a type error:


```
sage: z = QQ['z'].0                                          
sage: K = NumberField(z^2 - 2,'s')
sage: K.gen()*polytopes.simplex(backend='field')
```


But the backend can surely handle it, as the following does work:


```
sage: z = QQ['z'].0                                          
sage: K = NumberField(z^2 - 2,'s')
sage: K.gen()*polytopes.simplex(backend='field', base_ring=K)
A 3-dimensional polyhedron in (Number Field in s with defining polynomial z^2 - 2)^4 defined as the convex hull of 4 vertices
```


The problem is that `_coerce_base_ring` of `Polyhedra` just takes the base ring of `K`, which are the rationals.

We fix this, by not taking the base ring, if the object is already a ring.


---

Comment by @kliem created at 2019-11-19 11:39:38

New commits:


---

Comment by @kliem created at 2019-11-19 11:39:38

Changing status from new to needs_review.


---

Comment by git created at 2019-11-19 11:44:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @LBrunswic created at 2019-11-21 00:40:39

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2019-11-21 14:21:54

reviewer full name is missing


---

Comment by vbraun created at 2019-11-30 13:36:15

Resolution: fixed
