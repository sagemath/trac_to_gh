# Issue 31969: Register number field element as numbers.Number

archive/issues_031969.json:
```json
{
    "body": "We register number field elements to `numbers.number` such that\n\n\n```\nsage: import numbers\nsage: K.<a> = QuadraticField(2)\nsage: isinstance(a, numbers.Number)\n```\n\n\nwill evaluate to true.\n\nOne usage of this is that typing can be simplified. In the `geometry/polyhedron` module many times the input will be of the form `numbers.Number` or `Iterable[numbers.Number]`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/32206\n\n",
    "created_at": "2021-07-16T07:58:21Z",
    "labels": [
        "basic arithmetic",
        "major",
        "enhancement"
    ],
    "title": "Register number field element as numbers.Number",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31969",
    "user": "@kliem"
}
```
We register number field elements to `numbers.number` such that


```
sage: import numbers
sage: K.<a> = QuadraticField(2)
sage: isinstance(a, numbers.Number)
```


will evaluate to true.

One usage of this is that typing can be simplified. In the `geometry/polyhedron` module many times the input will be of the form `numbers.Number` or `Iterable[numbers.Number]`.

Issue created by migration from https://trac.sagemath.org/ticket/32206





---

archive/issue_comments_456793.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-07-16T07:59:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31969#issuecomment-456793",
    "user": "@kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_456794.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-07-16T07:59:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31969#issuecomment-456794",
    "user": "@kliem"
}
```

New commits:



---

archive/issue_comments_456795.json:
```json
{
    "body": "see https://www.python.org/dev/peps/pep-0484/#the-numeric-tower\n\nIf I understand correctly, the numbers ABC should not be used in typing annotations !\n\nsee also the discussion here :\n\nhttps://github.com/python/mypy/issues/3186",
    "created_at": "2021-07-16T08:38:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31969#issuecomment-456795",
    "user": "chapoton"
}
```

see https://www.python.org/dev/peps/pep-0484/#the-numeric-tower

If I understand correctly, the numbers ABC should not be used in typing annotations !

see also the discussion here :

https://github.com/python/mypy/issues/3186



---

archive/issue_comments_456796.json:
```json
{
    "body": "I see, so maybe the other solution I had in mind, makes more sense:\n\nWe declare some common sage types (with intuitively clear meaning) for typing. So that you can do something as:\n\n\n```\nfrom typing import Iterable\nfrom sage.typing import Number\n```\n\n\nThe name `Number` needs to be improved of course, so that it is immediately clear, what is meant according to the context. For polyhedra we want something that can be interpreted as real algebraic extension of `QQ`. E.g. `QQ, ZZ, RDF, float, int, rational, AA`. But also things as `NumberField` (and here the class does not imply that this is real). Maybe the name `Real` or `RealType` would work.",
    "created_at": "2021-07-16T09:19:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31969#issuecomment-456796",
    "user": "@kliem"
}
```

I see, so maybe the other solution I had in mind, makes more sense:

We declare some common sage types (with intuitively clear meaning) for typing. So that you can do something as:


```
from typing import Iterable
from sage.typing import Number
```


The name `Number` needs to be improved of course, so that it is immediately clear, what is meant according to the context. For polyhedra we want something that can be interpreted as real algebraic extension of `QQ`. E.g. `QQ, ZZ, RDF, float, int, rational, AA`. But also things as `NumberField` (and here the class does not imply that this is real). Maybe the name `Real` or `RealType` would work.



---

archive/issue_comments_456797.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2021-07-16T09:19:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31969#issuecomment-456797",
    "user": "@kliem"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_456798.json:
```json
{
    "body": "Actually, I think, I shouldn't take the typing too seriously:\n\nIf I denote a type of a vertex as `Iterable` it should be clear to any user what I expect. I expect something iterable with entries something that can be interpreted as some sort of a real number. The last part should be clear to anyone using this anyway. The first part might not be clear: Do I expect a vector, a tuple, a list? So specifying `Iterable` might be meaningful and anything more might just make the signature hard to read and won't help anyone.\n\nWhat do you think?",
    "created_at": "2021-07-16T18:15:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31969#issuecomment-456798",
    "user": "@kliem"
}
```

Actually, I think, I shouldn't take the typing too seriously:

If I denote a type of a vertex as `Iterable` it should be clear to any user what I expect. I expect something iterable with entries something that can be interpreted as some sort of a real number. The last part should be clear to anyone using this anyway. The first part might not be clear: Do I expect a vector, a tuple, a list? So specifying `Iterable` might be meaningful and anything more might just make the signature hard to read and won't help anyone.

What do you think?



---

archive/issue_comments_456799.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2021-07-17T06:42:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31969#issuecomment-456799",
    "user": "@kliem"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_456800.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-17T18:53:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31969#issuecomment-456800",
    "user": "nbruin"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_456801.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2021-08-26T02:08:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31969#issuecomment-456801",
    "user": "mkoeppe"
}
```

Resolution: invalid
