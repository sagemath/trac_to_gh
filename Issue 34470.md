# Issue 34470: Bug in Clifford algebra multiplication

Issue created by migration from https://trac.sagemath.org/ticket/34707

Original creator: tscrim

Original creation time: 2022-10-31 07:42:32

CC:  tkarn chapoton

Keywords: Clifford

This is a really bad associativity failure:

```
sage: r = ZZ['r'].fraction_field().gen()
sage: Q = QuadraticForm(r.parent(), 2, [0,r,0])
sage: C.<p,q> = CliffordAlgebra(Q)
sage: q * (p * q)
r*q
sage: (q * p) * q
-r*p*q + r^2
```



---

Comment by tscrim created at 2022-10-31 08:04:29

The first answer is the correct answer.


---

Comment by tscrim created at 2022-10-31 08:16:08

Changing priority from critical to major.


---

Comment by tscrim created at 2022-10-31 08:16:08

Changing status from new to needs_review.


---

Comment by tscrim created at 2022-10-31 08:16:08

Okay, it is a very special case. It was checking that the first element of the LHS when the RHS was single monomial. In this example, the first returned term happened to be the constant term, so it thought it just needed to multiply the LHS by that scalar. So it actually is not so bad of a bug, just a special case.
----
New commits:


---

Comment by chapoton created at 2022-10-31 09:42:03

ok if the bot comes back green


---

Comment by chapoton created at 2022-10-31 12:59:01

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2022-11-01 06:20:08

Thank you! This has been around for a while and is a somewhat embarrassing bug from me...


---

Comment by vbraun created at 2022-11-07 20:25:43

Resolution: fixed
