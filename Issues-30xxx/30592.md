# Issue 30592: Meta-ticket: Port to Apple silicon

archive/issues_030355.json:
```json
{
    "assignees": [],
    "body": "... on top of homebrew, which provides gfortran 11 and many usable packages.\n\nTickets:\n- #31258 Upgrade cmake to 3.19.3\n- #31838 gfortran: Accept system gfortran 11\n- #31905 cvxopt: Correct link directory\n- #32796 gmp: update to 6.2.1\n- #32815 Update `numpy` to 1.21.3, `networkx` to 2.6.3\n- #33191 Fix build errors on Apple Silicon with homebrew\n- #33195 iml: Refresh build scripts with current autotools\n- #33194 openblas: Update to 0.3.19\n- #33816 Update gcc/gfortran to 12.x + Apple Silicon support, update openblas to 0.3.21, gsl to 2.7.1\n\nDiscussions:\n- https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ\n- https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY\n- https://groups.google.com/g/sage-devel/c/6LldEeJu3ZA\n\nSee also:\n- #30494: Meta-ticket: Support Xcode 12\n- #30651: Meta-ticket: support macOS 11 Big Sur\n\n\nCC:  @dimpase @isuruf @kcrisman @kiwifb @williamstein\n\nComponent: **porting**\n\nReviewer: **Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30592_\n\n",
    "closed_at": "2023-01-01T03:09:33Z",
    "created_at": "2020-09-17T20:30:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20porting",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Meta-ticket: Port to Apple silicon",
    "type": "issue",
    "updated_at": "2023-01-01T03:09:33Z",
    "url": "https://github.com/sagemath/sage/issues/30592",
    "user": "https://github.com/mkoeppe"
}
```
... on top of homebrew, which provides gfortran 11 and many usable packages.

Tickets:
- #31258 Upgrade cmake to 3.19.3
- #31838 gfortran: Accept system gfortran 11
- #31905 cvxopt: Correct link directory
- #32796 gmp: update to 6.2.1
- #32815 Update `numpy` to 1.21.3, `networkx` to 2.6.3
- #33191 Fix build errors on Apple Silicon with homebrew
- #33195 iml: Refresh build scripts with current autotools
- #33194 openblas: Update to 0.3.19
- #33816 Update gcc/gfortran to 12.x + Apple Silicon support, update openblas to 0.3.21, gsl to 2.7.1

Discussions:
- https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ
- https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY
- https://groups.google.com/g/sage-devel/c/6LldEeJu3ZA

See also:
- #30494: Meta-ticket: Support Xcode 12
- #30651: Meta-ticket: support macOS 11 Big Sur


CC:  @dimpase @isuruf @kcrisman @kiwifb @williamstein

Component: **porting**

Reviewer: **Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/30592_





---

archive/issue_events_418663.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-17T20:30:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418663"
}
```



---

archive/issue_events_418664.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-17T20:30:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting",
    "label_color": "0000b0",
    "label_name": "c: porting",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418664"
}
```



---

archive/issue_events_418665.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-17T20:30:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418665"
}
```



---

archive/issue_events_418666.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-17T20:30:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418666"
}
```



---

archive/issue_comments_488017.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nDoes GitHub Actions provide that kind of machines for CI?\n\nSomewhat related:\n\n- [LFortran issue 188: Investigate how to enable macOS for a MR also](https://gitlab.com/lfortran/lfortran/-/issues/188)",
    "created_at": "2020-09-18T06:04:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488017",
    "user": "https://github.com/slel"
}
```

<div id="comment:1" align="right">comment:1</div>

Does GitHub Actions provide that kind of machines for CI?

Somewhat related:

- [LFortran issue 188: Investigate how to enable macOS for a MR also](https://gitlab.com/lfortran/lfortran/-/issues/188)



---

archive/issue_events_418667.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418667"
}
```



---

archive/issue_events_418668.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418668"
}
```



---

archive/issue_comments_488018.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,5 @@\n Need a working Fortran compiler first.\n \n+Discussions:\n+- https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ\n+\n``````\n",
    "created_at": "2020-11-24T23:15:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488018",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,5 @@
 Need a working Fortran compiler first.
 
+Discussions:
+- https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ
+
``````




---

archive/issue_comments_488019.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n Discussions:\n - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ\n-\n+- https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY\n``````\n",
    "created_at": "2020-12-18T21:12:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488019",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 Discussions:
 - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ
-
+- https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY
``````




---

archive/issue_comments_488020.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\ngFortran is now working natively on Apple Silicon (ARM64) `GNU Fortran (Homebrew GCC 10.2.0_2) 10.2.1 20201220`\n\nas part of GCC.\n\n`gcc: stable 10.2.0 (bottled), HEAD GNU compiler collection https://gcc.gnu.org/`",
    "created_at": "2021-01-06T10:36:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488020",
    "user": "https://github.com/johnalanwoods"
}
```

<div id="comment:5" align="right">comment:5</div>

gFortran is now working natively on Apple Silicon (ARM64) `GNU Fortran (Homebrew GCC 10.2.0_2) 10.2.1 20201220`

as part of GCC.

`gcc: stable 10.2.0 (bottled), HEAD GNU compiler collection https://gcc.gnu.org/`



---

archive/issue_comments_488021.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,7 @@\n Need a working Fortran compiler first.\n+\n+Tickets:\n+- #31258 Upgrade cmake to 3.19.3\n \n Discussions:\n - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ\n``````\n",
    "created_at": "2021-01-18T04:11:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488021",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,7 @@
 Need a working Fortran compiler first.
+
+Tickets:
+- #31258 Upgrade cmake to 3.19.3
 
 Discussions:
 - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ
``````




---

archive/issue_comments_488022.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,3 +6,8 @@\n Discussions:\n - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ\n - https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY\n+\n+See also:\n+- #30494: Meta-ticket: Support Xcode 12\n+- #30651: Meta-ticket: support macOS 11 Big Sur\n+\n``````\n",
    "created_at": "2021-01-18T04:13:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488022",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,3 +6,8 @@
 Discussions:
 - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ
 - https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY
+
+See also:
+- #30494: Meta-ticket: Support Xcode 12
+- #30651: Meta-ticket: support macOS 11 Big Sur
+
``````




---

archive/issue_events_418669.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418669"
}
```



---

archive/issue_events_418670.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418670"
}
```



---

archive/issue_comments_488023.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nSage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488023",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_488024.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nIf I wanted to help test this, what could I do?  I tried upgrading my Sage yesterday (finally!) but ran into problems with pari and some other packages; then I did `make distclean` and now it won't even install gmp, wonderful lines\n\n```\n[gmp-6.2.0] configure: error: Oops, mp_limb_t is 64 bits, but the assembler code\n[gmp-6.2.0] in this configuration expects 32 bits.\n```\nthat look scary.  Anyway, I'd be quite interested in testing anything directly from source that does *not* use Homebrew, which after all the warnings many years ago about Macports and Fink conflicts I'm skeptical of.",
    "created_at": "2021-05-28T12:29:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488024",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:9" align="right">comment:9</div>

If I wanted to help test this, what could I do?  I tried upgrading my Sage yesterday (finally!) but ran into problems with pari and some other packages; then I did `make distclean` and now it won't even install gmp, wonderful lines

```
[gmp-6.2.0] configure: error: Oops, mp_limb_t is 64 bits, but the assembler code
[gmp-6.2.0] in this configuration expects 32 bits.
```
that look scary.  Anyway, I'd be quite interested in testing anything directly from source that does *not* use Homebrew, which after all the warnings many years ago about Macports and Fink conflicts I'm skeptical of.



---

archive/issue_comments_488025.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nHomebrew is the most popular \"missing package manager\" for macOS, and I really do not understand why you are sceptical about. Sage on x86_64 Homebrew mostly works, with many, many packages used rather than built from source. (Besides, do you have any idea how much effort went into this, supporting Sage using Homebrew packages? No, well, you many be \"sceptical\" about it, but it does work.)\n\nMacports doesn't work with Sage, and Fink is mostly dead, IMHO\n\nHomebrew surely does have ready Apple M1 GMP, cf. \nhttps://formulae.brew.sh/formula/gmp#default\n\nMaintaining the Sage status quo - porting patches from Hombrew back to Sage, etc, it's such a waste of time if you ask me.",
    "created_at": "2021-05-28T14:37:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488025",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

Homebrew is the most popular "missing package manager" for macOS, and I really do not understand why you are sceptical about. Sage on x86_64 Homebrew mostly works, with many, many packages used rather than built from source. (Besides, do you have any idea how much effort went into this, supporting Sage using Homebrew packages? No, well, you many be "sceptical" about it, but it does work.)

Macports doesn't work with Sage, and Fink is mostly dead, IMHO

Homebrew surely does have ready Apple M1 GMP, cf. 
https://formulae.brew.sh/formula/gmp#default

Maintaining the Sage status quo - porting patches from Hombrew back to Sage, etc, it's such a waste of time if you ask me.



---

archive/issue_comments_488026.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\n> Homebrew is the most popular \"missing package manager\" for macOS, and I really do not understand why you are sceptical about. Sage on x86_64 Homebrew mostly works, with many, many packages used rather than built from source. (Besides, do you have any idea how much effort went into this, supporting Sage using Homebrew packages? No, well, you many be \"sceptical\" about it, but it does work.)\n\nI guess bad experiences in the past with the other \"managers\" we will not name again - and, separately, liking to maintain ability for Mac users to download source and just type `make`.  But I will give it a try.\n\n---\n\nHowever, as to the main topic of this ticket, is this simply \"use Homebrew/Rosetta\" or is there presumably some other testing I can do to help?",
    "created_at": "2021-05-28T15:38:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488026",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:11" align="right">comment:11</div>

> Homebrew is the most popular "missing package manager" for macOS, and I really do not understand why you are sceptical about. Sage on x86_64 Homebrew mostly works, with many, many packages used rather than built from source. (Besides, do you have any idea how much effort went into this, supporting Sage using Homebrew packages? No, well, you many be "sceptical" about it, but it does work.)

I guess bad experiences in the past with the other "managers" we will not name again - and, separately, liking to maintain ability for Mac users to download source and just type `make`.  But I will give it a try.

---

However, as to the main topic of this ticket, is this simply "use Homebrew/Rosetta" or is there presumably some other testing I can do to help?



---

archive/issue_comments_488027.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@dimpase](#comment%3A10):\n>(Besides, do you have any idea how much effort went into this, supporting Sage using Homebrew packages? No, well, you many be \"sceptical\" about it, but it does work.)\n\nJust curious -- is there work underway to make sagemath itself a homebrew package, so one could do \"brew install sagemath\"?  That would be pretty awesome.",
    "created_at": "2021-05-28T15:52:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488027",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@dimpase](#comment%3A10):
>(Besides, do you have any idea how much effort went into this, supporting Sage using Homebrew packages? No, well, you many be "sceptical" about it, but it does work.)

Just curious -- is there work underway to make sagemath itself a homebrew package, so one could do "brew install sagemath"?  That would be pretty awesome.



---

archive/issue_comments_488028.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nMaking sage into a homebrew package is on the wishlist. (I don't think anyone is doing anything about it.) I think further discussion of this should go to #29395.",
    "created_at": "2021-05-28T16:14:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488028",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:13" align="right">comment:13</div>

Making sage into a homebrew package is on the wishlist. (I don't think anyone is doing anything about it.) I think further discussion of this should go to #29395.



---

archive/issue_comments_488029.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@williamstein](#comment%3A12):\n> Replying to [@dimpase](#comment%3A10):\n> >(Besides, do you have any idea how much effort went into this, supporting Sage using Homebrew packages? No, well, you many be \"sceptical\" about it, but it does work.)\n\n> \n> Just curious -- is there work underway to make sagemath itself a homebrew package, so one could do \"brew install sagemath\"?  That would be pretty awesome. \n\nI played with creating Homebrew formulae a while ago, see https://github.com/sagemath/homebrew-science/commits/master\n\nIt's not that hard - and in fact e.g. arb and flint made it into mainline Homebrew since I touched this last time. It's more annoying that we sometimes need a variation of what's in Homebrew, e.g. it ships single-threaded Pari, but we need multi-threaded (as that's what giac requires).\n\n\n>",
    "created_at": "2021-05-28T17:07:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488029",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@williamstein](#comment%3A12):
> Replying to [@dimpase](#comment%3A10):
> >(Besides, do you have any idea how much effort went into this, supporting Sage using Homebrew packages? No, well, you many be "sceptical" about it, but it does work.)

> 
> Just curious -- is there work underway to make sagemath itself a homebrew package, so one could do "brew install sagemath"?  That would be pretty awesome. 

I played with creating Homebrew formulae a while ago, see https://github.com/sagemath/homebrew-science/commits/master

It's not that hard - and in fact e.g. arb and flint made it into mainline Homebrew since I touched this last time. It's more annoying that we sometimes need a variation of what's in Homebrew, e.g. it ships single-threaded Pari, but we need multi-threaded (as that's what giac requires).


>



---

archive/issue_comments_488030.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@kcrisman](#comment%3A11):\n> However, as to the main topic of this ticket, is this simply \"use Homebrew/Rosetta\" or is there presumably some other testing I can do to help?\n\nno, no Rosetta, just pure, unfiltered, Homebrew.\n(Rosetta is an x86_64 emulator, as you might recall)\n\nGive it a try please, I'd like to know how far we are there.",
    "created_at": "2021-05-28T17:10:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488030",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@kcrisman](#comment%3A11):
> However, as to the main topic of this ticket, is this simply "use Homebrew/Rosetta" or is there presumably some other testing I can do to help?

no, no Rosetta, just pure, unfiltered, Homebrew.
(Rosetta is an x86_64 emulator, as you might recall)

Give it a try please, I'd like to know how far we are there.



---

archive/issue_comments_488031.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nby the way, this ticket says \"need gfortran first\" (for M1), but it's already there.\nhttps://formulae.brew.sh/formula/gcc (it's gcc/gfortran 11)",
    "created_at": "2021-05-28T17:12:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488031",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:16" align="right">comment:16</div>

by the way, this ticket says "need gfortran first" (for M1), but it's already there.
https://formulae.brew.sh/formula/gcc (it's gcc/gfortran 11)



---

archive/issue_comments_488032.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,8 @@\n-Need a working Fortran compiler first.\n+... on top of homebrew, which provides gfortran 11 and many usable packages.\n \n Tickets:\n - #31258 Upgrade cmake to 3.19.3\n+- #31838 gfortran: Accept system gfortran 11\n \n Discussions:\n - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ\n``````\n",
    "created_at": "2021-05-28T17:40:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488032",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,8 @@
-Need a working Fortran compiler first.
+... on top of homebrew, which provides gfortran 11 and many usable packages.
 
 Tickets:
 - #31258 Upgrade cmake to 3.19.3
+- #31838 gfortran: Accept system gfortran 11
 
 Discussions:
 - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ
``````




---

archive/issue_comments_488033.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\n> (Rosetta is an x86_64 emulator, as you might recall)\n\nExactly; so homebrew will be using ARM stuff natively in this case?\n> Give it a try please, I'd like to know how far we are there.\n\nWish I hadn't destroyed my working install :( but I think I have a few old binaries I can use if under duress.  That's why I waited for the semester to finish!\n\n---\n\nI'll post on devel if I achieve anything interesting.  One note in prereqs: With respect to BLAS (mentioned in one of the threads) I get\n\n```\n==> Pouring openblas--0.3.15_1.big_sur.bottle.tar.gz\n==> Caveats\nopenblas is keg-only, which means it was not symlinked into /usr/local,\nbecause macOS provides BLAS in Accelerate.framework.\n\nFor compilers to find openblas you may need to set:\n  export LDFLAGS=\"-L/usr/local/opt/openblas/lib\"\n  export CPPFLAGS=\"-I/usr/local/opt/openblas/include\"\n\nFor pkg-config to find openblas you may need to set:\n  export PKG_CONFIG_PATH=\"/usr/local/opt/openblas/lib/pkgconfig\"\n\n==> Summary\n\ud83c\udf7a  /usr/local/Cellar/openblas/0.3.15_1: 23 files, 120MB\n```\nso hopefully accelerate will continue to work here for Sage as an option.",
    "created_at": "2021-05-28T19:05:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488033",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:18" align="right">comment:18</div>

> (Rosetta is an x86_64 emulator, as you might recall)

Exactly; so homebrew will be using ARM stuff natively in this case?
> Give it a try please, I'd like to know how far we are there.

Wish I hadn't destroyed my working install :( but I think I have a few old binaries I can use if under duress.  That's why I waited for the semester to finish!

---

I'll post on devel if I achieve anything interesting.  One note in prereqs: With respect to BLAS (mentioned in one of the threads) I get

```
==> Pouring openblas--0.3.15_1.big_sur.bottle.tar.gz
==> Caveats
openblas is keg-only, which means it was not symlinked into /usr/local,
because macOS provides BLAS in Accelerate.framework.

For compilers to find openblas you may need to set:
  export LDFLAGS="-L/usr/local/opt/openblas/lib"
  export CPPFLAGS="-I/usr/local/opt/openblas/include"

For pkg-config to find openblas you may need to set:
  export PKG_CONFIG_PATH="/usr/local/opt/openblas/lib/pkgconfig"

==> Summary
üç∫  /usr/local/Cellar/openblas/0.3.15_1: 23 files, 120MB
```
so hopefully accelerate will continue to work here for Sage as an option.



---

archive/issue_comments_488034.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@kcrisman](#comment%3A18):\n> > (Rosetta is an x86_64 emulator, as you might recall)\n\n> Exactly; so homebrew will be using ARM stuff natively in this case?\n\nyes. They have a setup for this now (IIRC they use /opt/local for native M1, and /usr/local for Rosetta)\n\n> > Give it a try please, I'd like to know how far we are there.\n\n> Wish I hadn't destroyed my working install :( but I think I have a few old binaries I can use if under duress.  That's why I waited for the semester to finish!\n> \n> \n> ---\n> \n> I'll post on devel if I achieve anything interesting.  One note in prereqs: With respect to BLAS (mentioned in one of the threads) I get\n> \n> ```\n> ==> Pouring openblas--0.3.15_1.big_sur.bottle.tar.gz\n> ==> Caveats\n> openblas is keg-only, which means it was not symlinked into /usr/local,\n> because macOS provides BLAS in Accelerate.framework.\n> \n> For compilers to find openblas you may need to set:\n>   export LDFLAGS=\"-L/usr/local/opt/openblas/lib\"\n>   export CPPFLAGS=\"-I/usr/local/opt/openblas/include\"\n> \n> For pkg-config to find openblas you may need to set:\n>   export PKG_CONFIG_PATH=\"/usr/local/opt/openblas/lib/pkgconfig\"\n> \n> ==> Summary\n> \ud83c\udf7a  /usr/local/Cellar/openblas/0.3.15_1: 23 files, 120MB\n> ```\n> so hopefully accelerate will continue to work here for Sage as an option.\n\nit's not an option if you want to use more external Homebrew packages, which depend on (open)blas.\nAnyhow, sourcing `.homebrew-build-env` should take care of setting everything, including Homebrew's OpenBLAS,\nto be used by Sage.",
    "created_at": "2021-05-29T00:19:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488034",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@kcrisman](#comment%3A18):
> > (Rosetta is an x86_64 emulator, as you might recall)

> Exactly; so homebrew will be using ARM stuff natively in this case?

yes. They have a setup for this now (IIRC they use /opt/local for native M1, and /usr/local for Rosetta)

> > Give it a try please, I'd like to know how far we are there.

> Wish I hadn't destroyed my working install :( but I think I have a few old binaries I can use if under duress.  That's why I waited for the semester to finish!
> 
> 
> ---
> 
> I'll post on devel if I achieve anything interesting.  One note in prereqs: With respect to BLAS (mentioned in one of the threads) I get
> 
> ```
> ==> Pouring openblas--0.3.15_1.big_sur.bottle.tar.gz
> ==> Caveats
> openblas is keg-only, which means it was not symlinked into /usr/local,
> because macOS provides BLAS in Accelerate.framework.
> 
> For compilers to find openblas you may need to set:
>   export LDFLAGS="-L/usr/local/opt/openblas/lib"
>   export CPPFLAGS="-I/usr/local/opt/openblas/include"
> 
> For pkg-config to find openblas you may need to set:
>   export PKG_CONFIG_PATH="/usr/local/opt/openblas/lib/pkgconfig"
> 
> ==> Summary
> üç∫  /usr/local/Cellar/openblas/0.3.15_1: 23 files, 120MB
> ```
> so hopefully accelerate will continue to work here for Sage as an option.

it's not an option if you want to use more external Homebrew packages, which depend on (open)blas.
Anyhow, sourcing `.homebrew-build-env` should take care of setting everything, including Homebrew's OpenBLAS,
to be used by Sage.



---

archive/issue_comments_488035.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,10 +3,12 @@\n Tickets:\n - #31258 Upgrade cmake to 3.19.3\n - #31838 gfortran: Accept system gfortran 11\n+- #31905 cvxopt: Correct link directory\n \n Discussions:\n - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ\n - https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY\n+- https://groups.google.com/g/sage-devel/c/6LldEeJu3ZA\n \n See also:\n - #30494: Meta-ticket: Support Xcode 12\n``````\n",
    "created_at": "2021-06-04T11:27:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488035",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,10 +3,12 @@
 Tickets:
 - #31258 Upgrade cmake to 3.19.3
 - #31838 gfortran: Accept system gfortran 11
+- #31905 cvxopt: Correct link directory
 
 Discussions:
 - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ
 - https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY
+- https://groups.google.com/g/sage-devel/c/6LldEeJu3ZA
 
 See also:
 - #30494: Meta-ticket: Support Xcode 12
``````




---

archive/issue_comments_488036.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nWe may also need to add `openjpeg` to the list [here](https://doc.sagemath.org/html/en/installation/source.html#macos-recommended-installation).",
    "created_at": "2021-06-04T12:14:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488036",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:21" align="right">comment:21</div>

We may also need to add `openjpeg` to the list [here](https://doc.sagemath.org/html/en/installation/source.html#macos-recommended-installation).



---

archive/issue_comments_488037.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@kcrisman](#comment%3A21):\n> We may also need to add `openjpeg` to the list [here](https://doc.sagemath.org/html/en/installation/source.html#macos-recommended-installation).\n\nI see no need for this. `openjpeg` is an optional dep of Pillow, and thus a problem may arise from a broken install of openjpeg - or no problem arises if `openjpeg` is not installed. But it's not Sage's job to do quality control of every package on a user box...",
    "created_at": "2021-06-07T09:55:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488037",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@kcrisman](#comment%3A21):
> We may also need to add `openjpeg` to the list [here](https://doc.sagemath.org/html/en/installation/source.html#macos-recommended-installation).

I see no need for this. `openjpeg` is an optional dep of Pillow, and thus a problem may arise from a broken install of openjpeg - or no problem arises if `openjpeg` is not installed. But it's not Sage's job to do quality control of every package on a user box...



---

archive/issue_comments_488038.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nWhile we have had a bit of trouble getting complete information, it appears that the current version of the [SageMath](../wiki/SageMath) app (based on rc0) for macOS works fine in the Intel emulation mode on M1 macs.  This was not always the case, but we are now taking care to avoid AVX, AVX2 and BMI instructions unless they are enabled at runtime by the \"fat\" version of gmp.  This appears to eliminate the crashes that were seen before in emulation mode.",
    "created_at": "2021-08-10T21:28:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488038",
    "user": "https://github.com/culler"
}
```

<div id="comment:23" align="right">comment:23</div>

While we have had a bit of trouble getting complete information, it appears that the current version of the [SageMath](../wiki/SageMath) app (based on rc0) for macOS works fine in the Intel emulation mode on M1 macs.  This was not always the case, but we are now taking care to avoid AVX, AVX2 and BMI instructions unless they are enabled at runtime by the "fat" version of gmp.  This appears to eliminate the crashes that were seen before in emulation mode.



---

archive/issue_events_418671.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418671"
}
```



---

archive/issue_events_418672.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418672"
}
```



---

archive/issue_comments_488039.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n - #31258 Upgrade cmake to 3.19.3\n - #31838 gfortran: Accept system gfortran 11\n - #31905 cvxopt: Correct link directory\n-\n+- #32796 gmp: update to 6.2.1\n Discussions:\n - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ\n - https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY\n``````\n",
    "created_at": "2021-10-30T10:49:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488039",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 - #31258 Upgrade cmake to 3.19.3
 - #31838 gfortran: Accept system gfortran 11
 - #31905 cvxopt: Correct link directory
-
+- #32796 gmp: update to 6.2.1
 Discussions:
 - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ
 - https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY
``````




---

archive/issue_comments_488040.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,6 +5,7 @@\n - #31838 gfortran: Accept system gfortran 11\n - #31905 cvxopt: Correct link directory\n - #32796 gmp: update to 6.2.1\n+- #32815 Update `numpy` to 1.21.3, `networkx` to 2.6.3\n Discussions:\n - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ\n - https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY\n``````\n",
    "created_at": "2021-11-03T04:57:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488040",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,6 +5,7 @@
 - #31838 gfortran: Accept system gfortran 11
 - #31905 cvxopt: Correct link directory
 - #32796 gmp: update to 6.2.1
+- #32815 Update `numpy` to 1.21.3, `networkx` to 2.6.3
 Discussions:
 - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ
 - https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY
``````




---

archive/issue_comments_488041.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nApparently our Openblas build fails on M1, see\nhttps://groups.google.com/g/sage-support/c/XwGF584P7EY/m/MsN6mfWkAQAJ",
    "created_at": "2021-12-09T10:16:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488041",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:27" align="right">comment:27</div>

Apparently our Openblas build fails on M1, see
https://groups.google.com/g/sage-support/c/XwGF584P7EY/m/MsN6mfWkAQAJ



---

archive/issue_comments_488042.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nIt would probably be a good idea if people who have access to M1 hardware test the current beta, as we are getting closer to the 9.5 release.",
    "created_at": "2021-12-27T18:05:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488042",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

It would probably be a good idea if people who have access to M1 hardware test the current beta, as we are getting closer to the 9.5 release.



---

archive/issue_comments_488043.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nKeen to test. Any build instructions for M1/Pro/Max?\n\nOr is the a binary?",
    "created_at": "2021-12-27T18:18:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488043",
    "user": "https://github.com/johnalanwoods"
}
```

<div id="comment:29" align="right">comment:29</div>

Keen to test. Any build instructions for M1/Pro/Max?

Or is the a binary?



---

archive/issue_comments_488044.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nFollow the instructions for build from source in README.md, using homebrew; just mildly updated in #29784",
    "created_at": "2021-12-27T18:31:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488044",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

Follow the instructions for build from source in README.md, using homebrew; just mildly updated in #29784



---

archive/issue_comments_488045.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\n@mkoeppe - apologies can\u2019t seem to find the brew instructions. Do I just build from src with \u2014HEAD?",
    "created_at": "2021-12-28T08:41:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488045",
    "user": "https://github.com/johnalanwoods"
}
```

<div id="comment:31" align="right">comment:31</div>

@mkoeppe - apologies can‚Äôt seem to find the brew instructions. Do I just build from src with ‚ÄîHEAD?



---

archive/issue_comments_488046.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nhave homebrew installed, then\n\n```\nsource .homebrew-build-env\n./bootstrap\n./configure\n```\npay attention to last pages of output of two latter commands, install packages they recommend, in the latter case, \nrerun\n\n```\n./bootstrap && ./configure\n```\nthen\n\n```\nmake build\n```",
    "created_at": "2021-12-28T11:06:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488046",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:32" align="right">comment:32</div>

have homebrew installed, then

```
source .homebrew-build-env
./bootstrap
./configure
```
pay attention to last pages of output of two latter commands, install packages they recommend, in the latter case, 
rerun

```
./bootstrap && ./configure
```
then

```
make build
```



---

archive/issue_comments_488047.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nBuild failures reported in https://groups.google.com/g/sage-release/c/8ctwsUGl6LQ/m/0uGyfSKUAAAJ with 9.5.rc1",
    "created_at": "2022-01-16T22:12:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488047",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:33" align="right">comment:33</div>

Build failures reported in https://groups.google.com/g/sage-release/c/8ctwsUGl6LQ/m/0uGyfSKUAAAJ with 9.5.rc1



---

archive/issue_events_418673.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-16T22:12:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418673"
}
```



---

archive/issue_events_418674.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-16T22:12:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418674"
}
```



---

archive/issue_comments_488048.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nFrom the logs posted there: Build failure `primecountpy`\n\n```\n  creating build/temp.macosx-11.6-arm64-3.9/primecountpy\n  gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -g -O2 -g -O2 -I/opt/homebrew/opt/openssl@3/include -I/Users/gms/sage/sage-9.5.rc1/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/cysignals -I/Users/gms/sage/sage-9.5.rc1/local/var/lib/sage/venv-python3.9.9/include/python3.9 -c primecountpy/primecount.cpp -o build/temp.macosx-11.6-arm64-3.9/primecountpy/primecount.o\n  g++ -bundle -undefined dynamic_lookup -L/Users/gms/sage/sage-9.5.rc1/local/lib -Wl,-rpath,/Users/gms/sage/sage-9.5.rc1/local/lib -L/Users/gms/sage/sage-9.5.rc1/local/lib -Wl,-rpath,/Users/gms/sage/sage-9.5.rc1/local/lib -L/opt/homebrew/opt/openssl@3/lib -Wl,-rpath,/Users/gms/sage/sage-9.5.rc1/local/var/lib/sage/venv-python3.9.9/lib -L. -L/Users/gms/sage/sage-9.5.rc1/local/lib -L/Users/gms/sage/sage-9.5.rc1/local/lib -Wl,-rpath,/Users/gms/sage/sage-9.5.rc1/local/lib -L/Users/gms/sage/sage-9.5.rc1/local/lib -Wl,-rpath,/Users/gms/sage/sage-9.5.rc1/local/lib -L/opt/homebrew/opt/openssl@3/lib -L/Users/gms/sage/sage-9.5.rc1/local/lib -Wl,-rpath,/Users/gms/sage/sage-9.5.rc1/local/lib -L/Users/gms/sage/sage-9.5.rc1/local/lib -Wl,-rpath,/Users/gms/sage/sage-9.5.rc1/local/lib -L/opt/homebrew/opt/openssl@3/lib -g -O2 -I/opt/homebrew/opt/openssl@3/include build/temp.macosx-11.6-arm64-3.9/primecountpy/primecount.o -L/Users/gms/sage/sage-9.5.rc1/local/var/lib/sage/venv-python3.9.9/lib -lprimesieve -lprimecount -o build/lib.macosx-11.6-arm64-3.9/primecountpy/primecount.cpython-39-darwin.so -lpari\n  ld: library not found for -lprimesieve\n  clang: error: linker command failed with exit code 1 (use -v to see invocation)\n  error: command '/usr/bin/g++' failed with exit code 1\n  Building wheel for primecountpy (pyproject.toml): finished with status 'error'\n  ERROR: Failed building wheel for primecountpy\nFailed to build primecountpy\nERROR: Failed to build one or more wheels\n```\nAccording to `config.log` posted there, that's with system `cmake` and system `primesieve`, and `primecount` installed from SPKG.",
    "created_at": "2022-01-16T22:14:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488048",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:35" align="right">comment:35</div>

From the logs posted there: Build failure `primecountpy`

```
  creating build/temp.macosx-11.6-arm64-3.9/primecountpy
  gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -g -O2 -g -O2 -I/opt/homebrew/opt/openssl@3/include -I/Users/gms/sage/sage-9.5.rc1/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/cysignals -I/Users/gms/sage/sage-9.5.rc1/local/var/lib/sage/venv-python3.9.9/include/python3.9 -c primecountpy/primecount.cpp -o build/temp.macosx-11.6-arm64-3.9/primecountpy/primecount.o
  g++ -bundle -undefined dynamic_lookup -L/Users/gms/sage/sage-9.5.rc1/local/lib -Wl,-rpath,/Users/gms/sage/sage-9.5.rc1/local/lib -L/Users/gms/sage/sage-9.5.rc1/local/lib -Wl,-rpath,/Users/gms/sage/sage-9.5.rc1/local/lib -L/opt/homebrew/opt/openssl@3/lib -Wl,-rpath,/Users/gms/sage/sage-9.5.rc1/local/var/lib/sage/venv-python3.9.9/lib -L. -L/Users/gms/sage/sage-9.5.rc1/local/lib -L/Users/gms/sage/sage-9.5.rc1/local/lib -Wl,-rpath,/Users/gms/sage/sage-9.5.rc1/local/lib -L/Users/gms/sage/sage-9.5.rc1/local/lib -Wl,-rpath,/Users/gms/sage/sage-9.5.rc1/local/lib -L/opt/homebrew/opt/openssl@3/lib -L/Users/gms/sage/sage-9.5.rc1/local/lib -Wl,-rpath,/Users/gms/sage/sage-9.5.rc1/local/lib -L/Users/gms/sage/sage-9.5.rc1/local/lib -Wl,-rpath,/Users/gms/sage/sage-9.5.rc1/local/lib -L/opt/homebrew/opt/openssl@3/lib -g -O2 -I/opt/homebrew/opt/openssl@3/include build/temp.macosx-11.6-arm64-3.9/primecountpy/primecount.o -L/Users/gms/sage/sage-9.5.rc1/local/var/lib/sage/venv-python3.9.9/lib -lprimesieve -lprimecount -o build/lib.macosx-11.6-arm64-3.9/primecountpy/primecount.cpython-39-darwin.so -lpari
  ld: library not found for -lprimesieve
  clang: error: linker command failed with exit code 1 (use -v to see invocation)
  error: command '/usr/bin/g++' failed with exit code 1
  Building wheel for primecountpy (pyproject.toml): finished with status 'error'
  ERROR: Failed building wheel for primecountpy
Failed to build primecountpy
ERROR: Failed to build one or more wheels
```
According to `config.log` posted there, that's with system `cmake` and system `primesieve`, and `primecount` installed from SPKG.



---

archive/issue_comments_488049.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nBuild failure `m4ri`\n\n```\nchecking whether to build with PNG support... yes\nchecking for pkg-config... /opt/homebrew/bin/pkg-config\nchecking pkg-config is at least version 0.9.0... yes\nchecking for PNG... yes\n...\n/bin/bash ./libtool  --tag=CC   --mode=compile gcc -DHAVE_CONFIG_H -I. -I./m4ri   -I/opt/homebrew/opt/openssl@3/include    -g -O2 -I/Users/gms/sage/sage-9.5.rc1/local/include -g -fPIC -Wall -pedantic -c -o m4ri/io.lo m4ri/io.c\nlibtool: compile:  gcc -DHAVE_CONFIG_H -I. -I./m4ri -I/opt/homebrew/opt/openssl@3/include -g -O2 -I/Users/gms/sage/sage-9.5.rc1/local/include -g -fPIC -Wall -pedantic -c m4ri/io.c  -fno-common -DPIC -o m4ri/.libs/io.o\nm4ri/io.c:28:10: fatal error: 'png.h' file not found\n#include <png.h>\n         ^~~~~~~\n1 error generated.\n```\n\nSame error for `tachyon`.",
    "created_at": "2022-01-16T22:21:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488049",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:36" align="right">comment:36</div>

Build failure `m4ri`

```
checking whether to build with PNG support... yes
checking for pkg-config... /opt/homebrew/bin/pkg-config
checking pkg-config is at least version 0.9.0... yes
checking for PNG... yes
...
/bin/bash ./libtool  --tag=CC   --mode=compile gcc -DHAVE_CONFIG_H -I. -I./m4ri   -I/opt/homebrew/opt/openssl@3/include    -g -O2 -I/Users/gms/sage/sage-9.5.rc1/local/include -g -fPIC -Wall -pedantic -c -o m4ri/io.lo m4ri/io.c
libtool: compile:  gcc -DHAVE_CONFIG_H -I. -I./m4ri -I/opt/homebrew/opt/openssl@3/include -g -O2 -I/Users/gms/sage/sage-9.5.rc1/local/include -g -fPIC -Wall -pedantic -c m4ri/io.c  -fno-common -DPIC -o m4ri/.libs/io.o
m4ri/io.c:28:10: fatal error: 'png.h' file not found
#include <png.h>
         ^~~~~~~
1 error generated.
```

Same error for `tachyon`.



---

archive/issue_comments_488050.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@mkoeppe](#comment%3A35):\n> According to `config.log` posted there, that's with system `cmake` and system `primesieve`, and `primecount` installed from SPKG.\n\nDo you mean sage `primesieve` and `primecount` rather than \"system\".",
    "created_at": "2022-01-16T22:25:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488050",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@mkoeppe](#comment%3A35):
> According to `config.log` posted there, that's with system `cmake` and system `primesieve`, and `primecount` installed from SPKG.

Do you mean sage `primesieve` and `primecount` rather than "system".



---

archive/issue_comments_488051.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nBuild failure `libhomfly`\n\n```\n/bin/bash ../libtool  --tag=CC   --mode=compile gcc -DPACKAGE_NAME=\\\"libhomfly\\\" -DPACKAGE_TARNAME=\\\"libhomfly\\\" -DPACKAGE_VERSION=\\\"1.02r6\\\" -DPACKAGE_STRING=\\\"libhomfly\\ 1.02r6\\\" -DPACKAGE_BUGREPORT=\\\"mmarco@unizar.es\\\" -DPACKAGE_URL=\\\"\\\" -DPACKAGE=\\\"libhomfly\\\" -DVERSION=\\\"1.02r6\\\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DLT_OBJDIR=\\\".libs/\\\" -I.   -I/opt/homebrew/opt/openssl@3/include  -g -O2 -c -o control.lo control.c\ncontrol.c:8:10: fatal error: 'gc.h' file not found\n#include <gc.h>\n         ^~~~~~\n```\n\nFrom top-level config.log:\n\n```\nconfigure:19776: $PKG_CONFIG --exists --print-errors \"bdw-gc >= 7.6.4\"\nconfigure:19779: $? = 0\nconfigure:19819: result: yes\nconfigure:19917: will use system package and not install SPKG gc\n```\nThis appears to be another case of our `configure` forgetting to tell packages where the stuff is that it found.",
    "created_at": "2022-01-16T22:28:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488051",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:38" align="right">comment:38</div>

Build failure `libhomfly`

```
/bin/bash ../libtool  --tag=CC   --mode=compile gcc -DPACKAGE_NAME=\"libhomfly\" -DPACKAGE_TARNAME=\"libhomfly\" -DPACKAGE_VERSION=\"1.02r6\" -DPACKAGE_STRING=\"libhomfly\ 1.02r6\" -DPACKAGE_BUGREPORT=\"mmarco@unizar.es\" -DPACKAGE_URL=\"\" -DPACKAGE=\"libhomfly\" -DVERSION=\"1.02r6\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DLT_OBJDIR=\".libs/\" -I.   -I/opt/homebrew/opt/openssl@3/include  -g -O2 -c -o control.lo control.c
control.c:8:10: fatal error: 'gc.h' file not found
#include <gc.h>
         ^~~~~~
```

From top-level config.log:

```
configure:19776: $PKG_CONFIG --exists --print-errors "bdw-gc >= 7.6.4"
configure:19779: $? = 0
configure:19819: result: yes
configure:19917: will use system package and not install SPKG gc
```
This appears to be another case of our `configure` forgetting to tell packages where the stuff is that it found.



---

archive/issue_comments_488052.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@kiwifb](#comment%3A37):\n> Replying to [@mkoeppe](#comment%3A35):\n> > According to `config.log` posted there, that's with system `cmake` and system `primesieve`, and `primecount` installed from SPKG.\n\n> \n> Do you mean sage `primesieve` and `primecount` rather than \"system\".\n\nNo, primesieve is from homebrew",
    "created_at": "2022-01-16T22:29:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488052",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@kiwifb](#comment%3A37):
> Replying to [@mkoeppe](#comment%3A35):
> > According to `config.log` posted there, that's with system `cmake` and system `primesieve`, and `primecount` installed from SPKG.

> 
> Do you mean sage `primesieve` and `primecount` rather than "system".

No, primesieve is from homebrew



---

archive/issue_comments_488053.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nOK, I am now parsing that sentence correctly :)",
    "created_at": "2022-01-16T22:30:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488053",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:40" align="right">comment:40</div>

OK, I am now parsing that sentence correctly :)



---

archive/issue_comments_488054.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nProposed fix in #33191",
    "created_at": "2022-01-16T22:47:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488054",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:41" align="right">comment:41</div>

Proposed fix in #33191



---

archive/issue_comments_488055.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,6 +6,7 @@\n - #31905 cvxopt: Correct link directory\n - #32796 gmp: update to 6.2.1\n - #32815 Update `numpy` to 1.21.3, `networkx` to 2.6.3\n+- #33191 Fix build errors on Apple Silicon with homebrew\n Discussions:\n - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ\n - https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY\n``````\n",
    "created_at": "2022-01-16T22:52:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488055",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,6 +6,7 @@
 - #31905 cvxopt: Correct link directory
 - #32796 gmp: update to 6.2.1
 - #32815 Update `numpy` to 1.21.3, `networkx` to 2.6.3
+- #33191 Fix build errors on Apple Silicon with homebrew
 Discussions:
 - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ
 - https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY
``````




---

archive/issue_comments_488056.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nNext failure, reported in https://groups.google.com/g/sage-release/c/8ctwsUGl6LQ/m/j660ZbCmAAAJ: `iml`\n\n```\nDefault checking path = /Users/gms/sage/sage-9.5.rc1/local /usr /usr/local\nchecking for GMP >= 3.1.1... found\nchecking whether GMP is 4.0 or greater... yes\n[...]\n/bin/bash ../libtool --tag=CC   --mode=link gcc -I///opt/homebrew/include -I.  -I. -g -O2 -version-info 1:1:1  -L/Users/gms/sage/sage-9.5.rc1/local/lib -Wl,-rpath,/Users/gms/sage/sage-9.5.rc1/local/lib -L/Users/gms/sage/sage-9.5.rc1/local/lib -Wl,-rpath,/Users/gms/sage/sage-9.5.rc1/local/lib  -lm -o libiml.la -rpath /Users/gms/sage/sage-9.5.rc1/local/lib libiml_la-basisop.lo libiml_la-certsolve.lo libiml_la-error.lo libiml_la-latreduce.lo libiml_la-memalloc.lo libiml_la-mtrans.lo libiml_la-nonsysolve.lo libiml_la-padiclift.lo libiml_la-reconsolu.lo libiml_la-RNSop.lo libiml_la-nullspace.lo -L///opt/homebrew/lib -lgmp -L/Users/gms/sage/sage-9.5.rc1/local/lib -lgmp -L/Users/gms/sage/sage-9.5.rc1/local/lib -L/opt/homebrew/Cellar/openblas/0.3.19/lib -lopenblas   \nlibtool: link: gcc -dynamiclib -Wl,-flat_namespace -Wl,-undefined -Wl,suppress -o .libs/libiml.0.dylib  .libs/libiml_la-basisop.o .libs/libiml_la-certsolve.o .libs/libiml_la-error.o .libs/libiml_la-latreduce.o .libs/libiml_la-memalloc.o .libs/libiml_la-mtrans.o .libs/libiml_la-nonsysolve.o .libs/libiml_la-padiclift.o .libs/libiml_la-reconsolu.o .libs/libiml_la-RNSop.o .libs/libiml_la-nullspace.o   -L/Users/gms/sage/sage-9.5.rc1/local/lib -lm -L///opt/homebrew/lib -lgmp -L/opt/homebrew/Cellar/openblas/0.3.19/lib -lopenblas  -O2 -Wl,-rpath -Wl,/Users/gms/sage/sage-9.5.rc1/local/lib -Wl,-rpath -Wl,/Users/gms/sage/sage-9.5.rc1/local/lib   -install_name  /Users/gms/sage/sage-9.5.rc1/local/lib/libiml.0.dylib -compatibility_version 2 -current_version 2.1 -Wl,-single_module\nld: warning: dylib (/opt/homebrew/opt/gcc/lib/gcc/11/libgfortran.5.dylib) was built for newer macOS version (11.5) than being linked (11.0)\nld: warning: dylib (/opt/homebrew/opt/gcc/lib/gcc/11/libgomp.1.dylib) was built for newer macOS version (11.5) than being linked (11.0)\nld: file not found: @rpath/libgcc_s.1.1.dylib for architecture arm64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nmake[5]: *** [libiml.la] Error 1\n```",
    "created_at": "2022-01-17T03:26:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488056",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:43" align="right">comment:43</div>

Next failure, reported in https://groups.google.com/g/sage-release/c/8ctwsUGl6LQ/m/j660ZbCmAAAJ: `iml`

```
Default checking path = /Users/gms/sage/sage-9.5.rc1/local /usr /usr/local
checking for GMP >= 3.1.1... found
checking whether GMP is 4.0 or greater... yes
[...]
/bin/bash ../libtool --tag=CC   --mode=link gcc -I///opt/homebrew/include -I.  -I. -g -O2 -version-info 1:1:1  -L/Users/gms/sage/sage-9.5.rc1/local/lib -Wl,-rpath,/Users/gms/sage/sage-9.5.rc1/local/lib -L/Users/gms/sage/sage-9.5.rc1/local/lib -Wl,-rpath,/Users/gms/sage/sage-9.5.rc1/local/lib  -lm -o libiml.la -rpath /Users/gms/sage/sage-9.5.rc1/local/lib libiml_la-basisop.lo libiml_la-certsolve.lo libiml_la-error.lo libiml_la-latreduce.lo libiml_la-memalloc.lo libiml_la-mtrans.lo libiml_la-nonsysolve.lo libiml_la-padiclift.lo libiml_la-reconsolu.lo libiml_la-RNSop.lo libiml_la-nullspace.lo -L///opt/homebrew/lib -lgmp -L/Users/gms/sage/sage-9.5.rc1/local/lib -lgmp -L/Users/gms/sage/sage-9.5.rc1/local/lib -L/opt/homebrew/Cellar/openblas/0.3.19/lib -lopenblas   
libtool: link: gcc -dynamiclib -Wl,-flat_namespace -Wl,-undefined -Wl,suppress -o .libs/libiml.0.dylib  .libs/libiml_la-basisop.o .libs/libiml_la-certsolve.o .libs/libiml_la-error.o .libs/libiml_la-latreduce.o .libs/libiml_la-memalloc.o .libs/libiml_la-mtrans.o .libs/libiml_la-nonsysolve.o .libs/libiml_la-padiclift.o .libs/libiml_la-reconsolu.o .libs/libiml_la-RNSop.o .libs/libiml_la-nullspace.o   -L/Users/gms/sage/sage-9.5.rc1/local/lib -lm -L///opt/homebrew/lib -lgmp -L/opt/homebrew/Cellar/openblas/0.3.19/lib -lopenblas  -O2 -Wl,-rpath -Wl,/Users/gms/sage/sage-9.5.rc1/local/lib -Wl,-rpath -Wl,/Users/gms/sage/sage-9.5.rc1/local/lib   -install_name  /Users/gms/sage/sage-9.5.rc1/local/lib/libiml.0.dylib -compatibility_version 2 -current_version 2.1 -Wl,-single_module
ld: warning: dylib (/opt/homebrew/opt/gcc/lib/gcc/11/libgfortran.5.dylib) was built for newer macOS version (11.5) than being linked (11.0)
ld: warning: dylib (/opt/homebrew/opt/gcc/lib/gcc/11/libgomp.1.dylib) was built for newer macOS version (11.5) than being linked (11.0)
ld: file not found: @rpath/libgcc_s.1.1.dylib for architecture arm64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[5]: *** [libiml.la] Error 1
```



---

archive/issue_comments_488057.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nI have seen that one posted before. I am not sure how to fix it without talking to homebrew people about how they build their gcc/gfortran.",
    "created_at": "2022-01-17T03:28:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488057",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:44" align="right">comment:44</div>

I have seen that one posted before. I am not sure how to fix it without talking to homebrew people about how they build their gcc/gfortran.



---

archive/issue_comments_488058.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nYes, I thought so too, found it in https://groups.google.com/g/sage-devel/c/6LldEeJu3ZA/m/BpNMpD-yAAAJ",
    "created_at": "2022-01-17T03:33:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488058",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:45" align="right">comment:45</div>

Yes, I thought so too, found it in https://groups.google.com/g/sage-devel/c/6LldEeJu3ZA/m/BpNMpD-yAAAJ



---

archive/issue_comments_488059.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nI do not know if this can be related:\n\nAfter\n`sudo ln -s /opt/homebrew/lib lib`\nin `/usr/local` (see https://github.com/apaffenholz/homebrew-polymake/issues/3)\nthis works\n\n`brew install apaffenholz/polymake/polymake`\n\n(suggested by `./configure`).",
    "created_at": "2022-01-17T03:49:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488059",
    "user": "https://github.com/GMS103"
}
```

<div id="comment:46" align="right">comment:46</div>

I do not know if this can be related:

After
`sudo ln -s /opt/homebrew/lib lib`
in `/usr/local` (see https://github.com/apaffenholz/homebrew-polymake/issues/3)
this works

`brew install apaffenholz/polymake/polymake`

(suggested by `./configure`).



---

archive/issue_comments_488060.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,6 +7,7 @@\n - #32796 gmp: update to 6.2.1\n - #32815 Update `numpy` to 1.21.3, `networkx` to 2.6.3\n - #33191 Fix build errors on Apple Silicon with homebrew\n+- #33194 `openblas`: Update to 0.3.19\n Discussions:\n - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ\n - https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY\n``````\n",
    "created_at": "2022-01-17T03:59:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488060",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,6 +7,7 @@
 - #32796 gmp: update to 6.2.1
 - #32815 Update `numpy` to 1.21.3, `networkx` to 2.6.3
 - #33191 Fix build errors on Apple Silicon with homebrew
+- #33194 `openblas`: Update to 0.3.19
 Discussions:
 - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ
 - https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY
``````




---

archive/issue_comments_488061.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,7 +7,6 @@\n - #32796 gmp: update to 6.2.1\n - #32815 Update `numpy` to 1.21.3, `networkx` to 2.6.3\n - #33191 Fix build errors on Apple Silicon with homebrew\n-- #33194 `openblas`: Update to 0.3.19\n Discussions:\n - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ\n - https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY\n``````\n",
    "created_at": "2022-01-17T04:44:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488061",
    "user": "https://github.com/GMS103"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,7 +7,6 @@
 - #32796 gmp: update to 6.2.1
 - #32815 Update `numpy` to 1.21.3, `networkx` to 2.6.3
 - #33191 Fix build errors on Apple Silicon with homebrew
-- #33194 `openblas`: Update to 0.3.19
 Discussions:
 - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ
 - https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY
``````




---

archive/issue_comments_488062.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nI have restarted the whole process, with the fix #33191.\n\n`iml` was still failing, so I have done\n\n`MACOSX_DEPLOYMENT_TARGET=11.2 make`\n\nas indicated in https://groups.google.com/g/sage-devel/c/6LldEeJu3ZA/m/BpNMpD-yAAAJ and there is no error about installing packages, but the building fails.  Logs attached as soon as I find how to do it.",
    "created_at": "2022-01-17T04:44:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488062",
    "user": "https://github.com/GMS103"
}
```

<div id="comment:48" align="right">comment:48</div>

I have restarted the whole process, with the fix #33191.

`iml` was still failing, so I have done

`MACOSX_DEPLOYMENT_TARGET=11.2 make`

as indicated in https://groups.google.com/g/sage-devel/c/6LldEeJu3ZA/m/BpNMpD-yAAAJ and there is no error about installing packages, but the building fails.  Logs attached as soon as I find how to do it.



---

archive/issue_comments_488063.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nUpdate of iml (#33195) might be worth trying",
    "created_at": "2022-01-17T04:45:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488063",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:49" align="right">comment:49</div>

Update of iml (#33195) might be worth trying



---

archive/issue_comments_488064.json:
```json
{
    "body": "Attachment: **[config.log](https://github.com/sagemath/sage/files/ticket30592/config.log)**",
    "created_at": "2022-01-17T04:52:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488064",
    "user": "https://github.com/GMS103"
}
```

Attachment: **[config.log](https://github.com/sagemath/sage/files/ticket30592/config.log)**



---

archive/issue_comments_488065.json:
```json
{
    "body": "Attachment: **[install.log](https://github.com/sagemath/sage/files/ticket30592/install.log)**",
    "created_at": "2022-01-17T04:53:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488065",
    "user": "https://github.com/GMS103"
}
```

Attachment: **[install.log](https://github.com/sagemath/sage/files/ticket30592/install.log)**



---

archive/issue_comments_488066.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nAttachment: **[sagelib-9.5.rc1.log](https://github.com/sagemath/sage/files/ticket30592/sagelib-9.5.rc1.log)**\n\nSo `iml` went through without errors?",
    "created_at": "2022-01-17T04:54:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488066",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:50" align="right">comment:50</div>

Attachment: **[sagelib-9.5.rc1.log](https://github.com/sagemath/sage/files/ticket30592/sagelib-9.5.rc1.log)**

So `iml` went through without errors?



---

archive/issue_comments_488067.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nThe errors in sagelib are:\n\n```\nld: illegal thread local variable reference to regular symbol __ZN3NTL8ZZ_pInfoE for architecture arm64\n```",
    "created_at": "2022-01-17T04:56:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488067",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:51" align="right">comment:51</div>

The errors in sagelib are:

```
ld: illegal thread local variable reference to regular symbol __ZN3NTL8ZZ_pInfoE for architecture arm64
```



---

archive/issue_comments_488068.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nReplying to [@mkoeppe](#comment%3A50):\n> So `iml` went through without errors?\n\nYes!",
    "created_at": "2022-01-17T04:58:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488068",
    "user": "https://github.com/GMS103"
}
```

<div id="comment:52" align="right">comment:52</div>

Replying to [@mkoeppe](#comment%3A50):
> So `iml` went through without errors?

Yes!



---

archive/issue_comments_488069.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,6 +7,9 @@\n - #32796 gmp: update to 6.2.1\n - #32815 Update `numpy` to 1.21.3, `networkx` to 2.6.3\n - #33191 Fix build errors on Apple Silicon with homebrew\n+- #33195 iml: Refresh build scripts with current autotools\n+- #33194 openblas: Update to 0.3.19\n+\n Discussions:\n - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ\n - https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY\n``````\n",
    "created_at": "2022-01-17T05:21:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488069",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,6 +7,9 @@
 - #32796 gmp: update to 6.2.1
 - #32815 Update `numpy` to 1.21.3, `networkx` to 2.6.3
 - #33191 Fix build errors on Apple Silicon with homebrew
+- #33195 iml: Refresh build scripts with current autotools
+- #33194 openblas: Update to 0.3.19
+
 Discussions:
 - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ
 - https://groups.google.com/g/sage-devel/c/_vYkTlLRWWY
``````




---

archive/issue_comments_488070.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nIf you have a chance, please test if #33195 fixes iml (without setting `MACOSX_DEPLOYMENT_TARGET`)",
    "created_at": "2022-01-17T05:24:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488070",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:54" align="right">comment:54</div>

If you have a chance, please test if #33195 fixes iml (without setting `MACOSX_DEPLOYMENT_TARGET`)



---

archive/issue_comments_488071.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nReplying to [@mkoeppe](#comment%3A54):\n> If you have a chance, please test if #33195 fixes iml (without setting `MACOSX_DEPLOYMENT_TARGET`)\n\nI have cloned the git repository.\n\nCould you please tell me how to apply #33195?",
    "created_at": "2022-01-17T05:38:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488071",
    "user": "https://github.com/GMS103"
}
```

<div id="comment:55" align="right">comment:55</div>

Replying to [@mkoeppe](#comment%3A54):
> If you have a chance, please test if #33195 fixes iml (without setting `MACOSX_DEPLOYMENT_TARGET`)

I have cloned the git repository.

Could you please tell me how to apply #33195?



---

archive/issue_comments_488072.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\n\n```\ngit remote add trac git://trac.sagemath.org/sage.git\ngit fetch trac u/mkoeppe/iml__update_to_1_0_5\ngit merge -m \"Merge #33195\" FETCH_HEAD\n./bootstrap\n./configure --enable-download-from-upstream-url\n```",
    "created_at": "2022-01-17T05:42:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488072",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:56" align="right">comment:56</div>


```
git remote add trac git://trac.sagemath.org/sage.git
git fetch trac u/mkoeppe/iml__update_to_1_0_5
git merge -m "Merge #33195" FETCH_HEAD
./bootstrap
./configure --enable-download-from-upstream-url
```



---

archive/issue_comments_488073.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nReplying to [@mkoeppe](#comment%3A56):\n> \n> ```\n> git remote add trac git://trac.sagemath.org/sage.git\n> git fetch trac u/mkoeppe/iml__update_to_1_0_5\n> git merge -m \"Merge #33195\" FETCH_HEAD\n> ./bootstrap\n> ./configure --enable-download-from-upstream-url\n> ```\n\nThanks, `make` running.",
    "created_at": "2022-01-17T05:54:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488073",
    "user": "https://github.com/GMS103"
}
```

<div id="comment:57" align="right">comment:57</div>

Replying to [@mkoeppe](#comment%3A56):
> 
> ```
> git remote add trac git://trac.sagemath.org/sage.git
> git fetch trac u/mkoeppe/iml__update_to_1_0_5
> git merge -m "Merge #33195" FETCH_HEAD
> ./bootstrap
> ./configure --enable-download-from-upstream-url
> ```

Thanks, `make` running.



---

archive/issue_comments_488074.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\n`[iml-1.0.4p2.p2] successfully installed.`\nSo your patch works.",
    "created_at": "2022-01-17T06:02:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488074",
    "user": "https://github.com/GMS103"
}
```

<div id="comment:58" align="right">comment:58</div>

`[iml-1.0.4p2.p2] successfully installed.`
So your patch works.



---

archive/issue_comments_488075.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nThanks for testing!",
    "created_at": "2022-01-17T06:03:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488075",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:59" align="right">comment:59</div>

Thanks for testing!



---

archive/issue_comments_488076.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nNext it would be worth checking if #33194 (branch `u/mkoeppe/openblas__update_to_0_3_19`) fixes the build of `openblas` when `./configure --enable-download-from-upstream-url --without-system-openblas` is in use.",
    "created_at": "2022-01-17T06:18:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488076",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:60" align="right">comment:60</div>

Next it would be worth checking if #33194 (branch `u/mkoeppe/openblas__update_to_0_3_19`) fixes the build of `openblas` when `./configure --enable-download-from-upstream-url --without-system-openblas` is in use.



---

archive/issue_comments_488077.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\n\n```\nreal\t26m34.164s\nuser\t113m56.740s\nsys\t13m19.283s\nSage build/upgrade complete!\n```\nAnd thanks to you (all of you).",
    "created_at": "2022-01-17T06:21:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488077",
    "user": "https://github.com/GMS103"
}
```

<div id="comment:61" align="right">comment:61</div>


```
real	26m34.164s
user	113m56.740s
sys	13m19.283s
Sage build/upgrade complete!
```
And thanks to you (all of you).



---

archive/issue_comments_488078.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nReplying to [@GMS103](#comment%3A61):\n> \n> ```\n> real\t26m34.164s\n> user\t113m56.740s\n> sys\t13m19.283s\n> Sage build/upgrade complete!\n> ```\n> And thanks to you (all of you).\n\nGreat! So the issue with `ntl` from [comment:51](#comment%3A51) didn't show up in this build.",
    "created_at": "2022-01-17T06:24:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488078",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:62" align="right">comment:62</div>

Replying to [@GMS103](#comment%3A61):
> 
> ```
> real	26m34.164s
> user	113m56.740s
> sys	13m19.283s
> Sage build/upgrade complete!
> ```
> And thanks to you (all of you).

Great! So the issue with `ntl` from [comment:51](#comment%3A51) didn't show up in this build.



---

archive/issue_comments_488079.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nReplying to [@mkoeppe](#comment%3A60):\n> Next it would be worth checking if #33194 (branch `u/mkoeppe/openblas__update_to_0_3_19`) fixes the build of `openblas` when `./configure --enable-download-from-upstream-url --without-system-openblas` is in use.\n\n`make` running.",
    "created_at": "2022-01-17T06:27:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488079",
    "user": "https://github.com/GMS103"
}
```

<div id="comment:63" align="right">comment:63</div>

Replying to [@mkoeppe](#comment%3A60):
> Next it would be worth checking if #33194 (branch `u/mkoeppe/openblas__update_to_0_3_19`) fixes the build of `openblas` when `./configure --enable-download-from-upstream-url --without-system-openblas` is in use.

`make` running.



---

archive/issue_comments_488080.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nReplying to [@mkoeppe](#comment%3A62):\n> Replying to [@GMS103](#comment%3A61):\n> > \n> > ```\n> > real\t26m34.164s\n> > user\t113m56.740s\n> > sys\t13m19.283s\n> > Sage build/upgrade complete!\n> > ```\n> > And thanks to you (all of you).\n\n> \n> Great! So the issue with `ntl` from [comment:51](#comment%3A51) didn't show up in this build.\n\nNo, everything went smoothly.",
    "created_at": "2022-01-17T06:29:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488080",
    "user": "https://github.com/GMS103"
}
```

<div id="comment:64" align="right">comment:64</div>

Replying to [@mkoeppe](#comment%3A62):
> Replying to [@GMS103](#comment%3A61):
> > 
> > ```
> > real	26m34.164s
> > user	113m56.740s
> > sys	13m19.283s
> > Sage build/upgrade complete!
> > ```
> > And thanks to you (all of you).

> 
> Great! So the issue with `ntl` from [comment:51](#comment%3A51) didn't show up in this build.

No, everything went smoothly.



---

archive/issue_comments_488081.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nAfter\n\n```\ngit fetch trac u/mkoeppe/openblas__update_to_0_3_19\ngit merge -m \"Merge #33194\" FETCH_HEAD\n./bootstrap \n./configure --enable-download-from-upstream-url --without-system-openblas\n```\n`make` gives an error for `openblas`:\n\n```\n[openblas-0.3.19]   make[6]: *** No rule to make target `../kernel/arm64/amin.S', needed by `samin_k.o'.  Stop.\n```",
    "created_at": "2022-01-17T06:33:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488081",
    "user": "https://github.com/GMS103"
}
```

<div id="comment:65" align="right">comment:65</div>

After

```
git fetch trac u/mkoeppe/openblas__update_to_0_3_19
git merge -m "Merge #33194" FETCH_HEAD
./bootstrap 
./configure --enable-download-from-upstream-url --without-system-openblas
```
`make` gives an error for `openblas`:

```
[openblas-0.3.19]   make[6]: *** No rule to make target `../kernel/arm64/amin.S', needed by `samin_k.o'.  Stop.
```



---

archive/issue_comments_488082.json:
```json
{
    "body": "Attachment: **[config.2.log](https://github.com/sagemath/sage/files/ticket30592/config.2.log)**",
    "created_at": "2022-01-17T06:34:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488082",
    "user": "https://github.com/GMS103"
}
```

Attachment: **[config.2.log](https://github.com/sagemath/sage/files/ticket30592/config.2.log)**



---

archive/issue_comments_488083.json:
```json
{
    "body": "Attachment: **[install.2.log](https://github.com/sagemath/sage/files/ticket30592/install.2.log)**",
    "created_at": "2022-01-17T06:35:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488083",
    "user": "https://github.com/GMS103"
}
```

Attachment: **[install.2.log](https://github.com/sagemath/sage/files/ticket30592/install.2.log)**



---

archive/issue_comments_488084.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nAttachment: **[openblas-0.3.19.log](https://github.com/sagemath/sage/files/ticket30592/openblas-0.3.19.log)**\n\nThis looks similar to https://trac.macports.org/ticket/61700; it sounds like we would have to configure openblas differently. We can probably get this from homebrew's build script. This won't make it into Sage 9.5.\n\nThanks again for testing!",
    "created_at": "2022-01-17T06:59:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488084",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:66" align="right">comment:66</div>

Attachment: **[openblas-0.3.19.log](https://github.com/sagemath/sage/files/ticket30592/openblas-0.3.19.log)**

This looks similar to https://trac.macports.org/ticket/61700; it sounds like we would have to configure openblas differently. We can probably get this from homebrew's build script. This won't make it into Sage 9.5.

Thanks again for testing!



---

archive/issue_comments_488085.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nAnd `make ptestlong` (after `make` with #33191 and #33195 but wihtout #33194) gives\n\n```\n----------------------------------------------------------------------\nsage -t --long --random-seed=207327918669224047721672426685648861531 src/sage/functions/error.py  # 1 doctest failed\nsage -t --long --random-seed=207327918669224047721672426685648861531 src/sage/matrix/matrix_gf2e_dense.pyx  # 1 doctest failed\nsage -t --long --random-seed=207327918669224047721672426685648861531 src/sage/rings/complex_arb.pyx  # 2 doctests failed\nsage -t --long --random-seed=207327918669224047721672426685648861531 src/sage/rings/real_arb.pyx  # 5 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 1294.6 seconds\n    cpu time: 7872.1 seconds\n    cumulative wall time: 9610.5 seconds\nFeatures detected for doctesting: dvipng,ffmpeg,graphviz,imagemagick,pandoc,pdf2svg,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.plot,sage.rings.number_field,sage.rings.real_double,sage.symbolic,sagemath_doc_html,sphinx\nPytest is not installed, skip checking tests that rely on it.\nmake: *** [ptestlong] Error 1\n```",
    "created_at": "2022-01-17T13:15:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488085",
    "user": "https://github.com/GMS103"
}
```

<div id="comment:67" align="right">comment:67</div>

And `make ptestlong` (after `make` with #33191 and #33195 but wihtout #33194) gives

```
----------------------------------------------------------------------
sage -t --long --random-seed=207327918669224047721672426685648861531 src/sage/functions/error.py  # 1 doctest failed
sage -t --long --random-seed=207327918669224047721672426685648861531 src/sage/matrix/matrix_gf2e_dense.pyx  # 1 doctest failed
sage -t --long --random-seed=207327918669224047721672426685648861531 src/sage/rings/complex_arb.pyx  # 2 doctests failed
sage -t --long --random-seed=207327918669224047721672426685648861531 src/sage/rings/real_arb.pyx  # 5 doctests failed
----------------------------------------------------------------------
Total time for all tests: 1294.6 seconds
    cpu time: 7872.1 seconds
    cumulative wall time: 9610.5 seconds
Features detected for doctesting: dvipng,ffmpeg,graphviz,imagemagick,pandoc,pdf2svg,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.plot,sage.rings.number_field,sage.rings.real_double,sage.symbolic,sagemath_doc_html,sphinx
Pytest is not installed, skip checking tests that rely on it.
make: *** [ptestlong] Error 1
```



---

archive/issue_comments_488086.json:
```json
{
    "body": "Attachment: **[config.3.log](https://github.com/sagemath/sage/files/ticket30592/config.3.log)**",
    "created_at": "2022-01-17T13:15:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488086",
    "user": "https://github.com/GMS103"
}
```

Attachment: **[config.3.log](https://github.com/sagemath/sage/files/ticket30592/config.3.log)**



---

archive/issue_comments_488087.json:
```json
{
    "body": "Attachment: **[install.3.log](https://github.com/sagemath/sage/files/ticket30592/install.3.log)**\n\nAttachment: **[ptestlong.log](https://github.com/sagemath/sage/files/ticket30592/ptestlong.log)**",
    "created_at": "2022-01-17T13:16:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488087",
    "user": "https://github.com/GMS103"
}
```

Attachment: **[install.3.log](https://github.com/sagemath/sage/files/ticket30592/install.3.log)**

Attachment: **[ptestlong.log](https://github.com/sagemath/sage/files/ticket30592/ptestlong.log)**



---

archive/issue_comments_488088.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nJust in case, things I think can be taken into account (besides #33191 and #33195):\n1. Install everything `./configure` (or `./configure --enable-download-from-upstream-url`) recommends with `brew install [...]`.\n   * Be aware of the 2 versions of `homebrew`: the new `arm64` should be used.\n   * In particular, to install `polymake` do\n\n   ```\n   cd /usr/local\n   sudo ln -s /opt/homebrew/lib lib\n   brew install apaffenholz/polymake/polymake\n   ```\n   (see https://github.com/apaffenholz/homebrew-polymake/issues/3)\n   * Do not forget `source .homebrew-build-env` afterwards.\n2. Before `make`, do:\n\n   ```\n   eval \"$(/opt/homebrew/bin/brew shellenv)\"\n   export PATH=\"/opt/homebrew/opt/openssl@3/bin:$PATH\"\n   export LDFLAGS=\"-L/opt/homebrew/opt/openssl@3/lib -L/opt/homebrew/opt/openblas/lib\"\n   export CPPFLAGS=\"-I/opt/homebrew/opt/openssl@3/include -I/opt/homebrew/opt/openblas/include\"\n   export PKG_CONFIG_PATH=\"/opt/homebrew/opt/openssl@3/lib/pkgconfig:/opt/homebrew/opt/openblas/lib/pkgconfig\"\n   ```\n   (recommended by `brew`, but can be overlooked; perhaps to be put in `.homebrew-build-env`?)\n3. `export MAKE=\"make -j16\"` works fine on Apple M1 (all 8 cores at 100% most of the time).",
    "created_at": "2022-01-17T13:57:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488088",
    "user": "https://github.com/GMS103"
}
```

<div id="comment:68" align="right">comment:68</div>

Just in case, things I think can be taken into account (besides #33191 and #33195):
1. Install everything `./configure` (or `./configure --enable-download-from-upstream-url`) recommends with `brew install [...]`.
   * Be aware of the 2 versions of `homebrew`: the new `arm64` should be used.
   * In particular, to install `polymake` do

   ```
   cd /usr/local
   sudo ln -s /opt/homebrew/lib lib
   brew install apaffenholz/polymake/polymake
   ```
   (see https://github.com/apaffenholz/homebrew-polymake/issues/3)
   * Do not forget `source .homebrew-build-env` afterwards.
2. Before `make`, do:

   ```
   eval "$(/opt/homebrew/bin/brew shellenv)"
   export PATH="/opt/homebrew/opt/openssl@3/bin:$PATH"
   export LDFLAGS="-L/opt/homebrew/opt/openssl@3/lib -L/opt/homebrew/opt/openblas/lib"
   export CPPFLAGS="-I/opt/homebrew/opt/openssl@3/include -I/opt/homebrew/opt/openblas/include"
   export PKG_CONFIG_PATH="/opt/homebrew/opt/openssl@3/lib/pkgconfig:/opt/homebrew/opt/openblas/lib/pkgconfig"
   ```
   (recommended by `brew`, but can be overlooked; perhaps to be put in `.homebrew-build-env`?)
3. `export MAKE="make -j16"` works fine on Apple M1 (all 8 cores at 100% most of the time).



---

archive/issue_comments_488089.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nThe `PKG_CONFIG_PATH` addition for `openssl` is already taken care of by `.homebrew-build-env`. I don't think we need the changes to the other variables",
    "created_at": "2022-01-17T17:58:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488089",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:69" align="right">comment:69</div>

The `PKG_CONFIG_PATH` addition for `openssl` is already taken care of by `.homebrew-build-env`. I don't think we need the changes to the other variables



---

archive/issue_comments_488090.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nThanks for writing this summary - it will be helpful for those who find their way here from https://wiki.sagemath.org/ReleaseTours/sage-9.5#Sources",
    "created_at": "2022-01-17T18:00:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488090",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:70" align="right">comment:70</div>

Thanks for writing this summary - it will be helpful for those who find their way here from https://wiki.sagemath.org/ReleaseTours/sage-9.5#Sources



---

archive/issue_comments_488091.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nNew report of build failures with 9.5.rc3 on M1 with macOS 12.1: https://groups.google.com/g/sage-release/c/1YV0dNtEZz4/m/2kQ-fKfaAQAJ\n\nFrom the singular log:\n\n```\n\nlibtool: compile:  g++ -std=gnu++11 -DHAVE_CONFIG_H -I. -I../.. -I../.. -I../.. -I../../libpolys -I../../libpolys -I/Users/admin/SageMath/Git/sage/local/var/tmp/sage/build/singular-4.2.1p3/src -I/Users/admin/SageMath/Git/sage/local/var/tmp/sage/build/singular-4.2.1p3/src/factory -I/Users/admin/SageMath/Git/sage/local/var/tmp/sage/build/singular-4.2.1p3/src/factory/include -I/Users/admin/SageMath/Git/sage/local/var/tmp/sage/build/singular-4.2.1p3/src -I/Users/admin/SageMath/Git/sage/local/var/tmp/sage/build/singular-4.2.1p3/src -I/Users/admin/SageMath/Git/sage/local/include -I/Users/admin/SageMath/Git/sage/local/include/ -I/Users/admin/SageMath/Git/sage/local/include -g -O2 -pipe -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fno-threadsafe-statics -funroll-loops -fno-rtti -Qunused-arguments -c mpr_inout.cc  -fno-common -DPIC -o .libs/mpr_inout.o\nIn file included from mpr_inout.cc:11:\nIn file included from ../../kernel/mod2.h:13:\n../../libpolys/misc/auxiliary.h:70:2: error: \"Unexpected SIZEOF_LONG\"\n#error \"Unexpected SIZEOF_LONG\"\n```\n\n(resolved by removing stuff in `/usr/local`)",
    "created_at": "2022-01-21T02:45:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488091",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:71" align="right">comment:71</div>

New report of build failures with 9.5.rc3 on M1 with macOS 12.1: https://groups.google.com/g/sage-release/c/1YV0dNtEZz4/m/2kQ-fKfaAQAJ

From the singular log:

```

libtool: compile:  g++ -std=gnu++11 -DHAVE_CONFIG_H -I. -I../.. -I../.. -I../.. -I../../libpolys -I../../libpolys -I/Users/admin/SageMath/Git/sage/local/var/tmp/sage/build/singular-4.2.1p3/src -I/Users/admin/SageMath/Git/sage/local/var/tmp/sage/build/singular-4.2.1p3/src/factory -I/Users/admin/SageMath/Git/sage/local/var/tmp/sage/build/singular-4.2.1p3/src/factory/include -I/Users/admin/SageMath/Git/sage/local/var/tmp/sage/build/singular-4.2.1p3/src -I/Users/admin/SageMath/Git/sage/local/var/tmp/sage/build/singular-4.2.1p3/src -I/Users/admin/SageMath/Git/sage/local/include -I/Users/admin/SageMath/Git/sage/local/include/ -I/Users/admin/SageMath/Git/sage/local/include -g -O2 -pipe -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fno-threadsafe-statics -funroll-loops -fno-rtti -Qunused-arguments -c mpr_inout.cc  -fno-common -DPIC -o .libs/mpr_inout.o
In file included from mpr_inout.cc:11:
In file included from ../../kernel/mod2.h:13:
../../libpolys/misc/auxiliary.h:70:2: error: "Unexpected SIZEOF_LONG"
#error "Unexpected SIZEOF_LONG"
```

(resolved by removing stuff in `/usr/local`)



---

archive/issue_comments_488092.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nbump to 9.6",
    "created_at": "2022-01-29T08:58:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488092",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:72" align="right">comment:72</div>

bump to 9.6



---

archive/issue_events_418675.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-01-29T08:58:50Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418675"
}
```



---

archive/issue_events_418676.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-01-29T08:58:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418676"
}
```



---

archive/issue_events_418677.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418677"
}
```



---

archive/issue_events_418678.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418678"
}
```



---

archive/issue_events_418679.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418679"
}
```



---

archive/issue_events_418680.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418680"
}
```



---

archive/issue_comments_488093.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,6 +9,7 @@\n - #33191 Fix build errors on Apple Silicon with homebrew\n - #33195 iml: Refresh build scripts with current autotools\n - #33194 openblas: Update to 0.3.19\n+- #33816 Update gcc/gfortran to 12.x + Apple Silicon support, update openblas to 0.3.21, gsl to 2.7.1\n \n Discussions:\n - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ\n``````\n",
    "created_at": "2022-09-24T22:56:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488093",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,6 +9,7 @@
 - #33191 Fix build errors on Apple Silicon with homebrew
 - #33195 iml: Refresh build scripts with current autotools
 - #33194 openblas: Update to 0.3.19
+- #33816 Update gcc/gfortran to 12.x + Apple Silicon support, update openblas to 0.3.21, gsl to 2.7.1
 
 Discussions:
 - https://groups.google.com/g/sage-devel/c/P-RGHeng5m8/m/vChq3b9yBwAJ
``````




---

archive/issue_comments_488094.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nMaybe we can close this.",
    "created_at": "2022-11-16T01:04:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488094",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:76" align="right">comment:76</div>

Maybe we can close this.



---

archive/issue_comments_488095.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nhow about #31905 ?",
    "created_at": "2022-11-16T12:41:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488095",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:77" align="right">comment:77</div>

how about #31905 ?



---

archive/issue_comments_488096.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nReplying to [Dima Pasechnik](#comment%3A77):\n> how about #31905 ?\n\nI think we now agree that's not an issue. I don't know what to do with #30494, but maybe we don't need both this ticket and that one. So I propose closing this one and thinking about what to do with #30494 separately.",
    "created_at": "2022-11-16T20:37:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488096",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:78" align="right">comment:78</div>

Replying to [Dima Pasechnik](#comment%3A77):
> how about #31905 ?

I think we now agree that's not an issue. I don't know what to do with #30494, but maybe we don't need both this ticket and that one. So I propose closing this one and thinking about what to do with #30494 separately.



---

archive/issue_events_418681.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-11-17T10:45:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418681"
}
```



---

archive/issue_events_418682.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-11-17T10:45:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418682"
}
```



---

archive/issue_events_418683.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-11-17T10:46:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418683"
}
```



---

archive/issue_events_418684.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-11-17T10:46:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418684"
}
```



---

archive/issue_comments_488097.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2022-11-17T10:46:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488097",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_488098.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nclose as done",
    "created_at": "2022-11-17T10:46:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30592#issuecomment-488098",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:80" align="right">comment:80</div>

close as done



---

archive/issue_events_418685.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-01T03:09:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418685"
}
```



---

archive/issue_events_418686.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-01T03:09:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30592",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30592#event-418686"
}
```
