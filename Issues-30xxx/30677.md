# Issue 30677: Add VS Code config for SAGE_ROOT/venv

archive/issues_030440.json:
```json
{
    "body": "Its recommended to check in some VS Code config files (which makes it easier for new users to start developing).\n\nWe configure it to use the Sage venv via the `configure`-generated symlink `SAGE_ROOT/venv` (from #32442)\n\nThe `.gitignore` configuration follows  https://www.toptal.com/developers/gitignore/api/python,visualstudiocode\n\n\n**CC:**  @mkoeppe\n\n**Keywords:** sd111\n\n**Branch/Commit:** [0eadcd118d2da14981cd17def91446232940d2f1](https://github.com/sagemath/sagetrac-mirror/commit/0eadcd118d2da14981cd17def91446232940d2f1)\n\n**Reviewer:** Dima Pasechnik\n\n**Author:** Tobias Diez\n\nIssue created by migration from https://trac.sagemath.org/ticket/30677\n\n",
    "closed_at": "2022-01-01T00:23:14Z",
    "created_at": "2020-09-28T09:09:43Z",
    "labels": [
        "component: build",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "title": "Add VS Code config for SAGE_ROOT/venv",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/30677",
    "user": "https://github.com/tobiasdiez"
}
```
Its recommended to check in some VS Code config files (which makes it easier for new users to start developing).

We configure it to use the Sage venv via the `configure`-generated symlink `SAGE_ROOT/venv` (from #32442)

The `.gitignore` configuration follows  https://www.toptal.com/developers/gitignore/api/python,visualstudiocode


**CC:**  @mkoeppe

**Keywords:** sd111

**Branch/Commit:** [0eadcd118d2da14981cd17def91446232940d2f1](https://github.com/sagemath/sagetrac-mirror/commit/0eadcd118d2da14981cd17def91446232940d2f1)

**Reviewer:** Dima Pasechnik

**Author:** Tobias Diez

Issue created by migration from https://trac.sagemath.org/ticket/30677





---

archive/issue_events_274806.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-09-28T09:09:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274806"
}
```



---

archive/issue_comments_492572.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Add VS code config to use the local virtual environment `src/.venv` that is added in #30371. \n+Its recommended to checkin some VS Code config files (which makes it easier for new users to start developing), so I did this. In particular, I added VS code config to use the local virtual environment `src/.venv` that is added in #30371. These changes are more or less copied from https://www.toptal.com/developers/gitignore/api/python,visualstudiocode.\n``````\n",
    "created_at": "2020-09-28T09:14:54Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492572",
    "user": "https://github.com/tobiasdiez"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-Add VS code config to use the local virtual environment `src/.venv` that is added in #30371. 
+Its recommended to checkin some VS Code config files (which makes it easier for new users to start developing), so I did this. In particular, I added VS code config to use the local virtual environment `src/.venv` that is added in #30371. These changes are more or less copied from https://www.toptal.com/developers/gitignore/api/python,visualstudiocode.
``````




---

archive/issue_comments_492573.json:
```json
{
    "body": "**Changing commit** from \"[656f85cbd409086c800fd857cacca4a267e10ef1](https://github.com/sagemath/sagetrac-mirror/commit/656f85cbd409086c800fd857cacca4a267e10ef1)\" to \"[caf88ef6fc81d50c7844d8f3285c75333fa25482](https://github.com/sagemath/sagetrac-mirror/commit/caf88ef6fc81d50c7844d8f3285c75333fa25482)\".",
    "created_at": "2020-10-03T22:10:50Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492573",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[656f85cbd409086c800fd857cacca4a267e10ef1](https://github.com/sagemath/sagetrac-mirror/commit/656f85cbd409086c800fd857cacca4a267e10ef1)" to "[caf88ef6fc81d50c7844d8f3285c75333fa25482](https://github.com/sagemath/sagetrac-mirror/commit/caf88ef6fc81d50c7844d8f3285c75333fa25482)".



---

archive/issue_comments_492574.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/caf88ef6fc81d50c7844d8f3285c75333fa25482\">caf88ef</a></td><td><code>Add config for unittests</code></td></tr></table>\n",
    "created_at": "2020-10-03T22:10:50Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492574",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/caf88ef6fc81d50c7844d8f3285c75333fa25482">caf88ef</a></td><td><code>Add config for unittests</code></td></tr></table>




---

archive/issue_events_274807.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274807"
}
```



---

archive/issue_events_274808.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274808"
}
```



---

archive/issue_comments_492575.json:
```json
{
    "body": "<a id='comment:5'></a>\nHoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111",
    "created_at": "2020-12-06T18:17:38Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492575",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
Hoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111



---

archive/issue_comments_492576.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"sd111\".",
    "created_at": "2020-12-06T18:17:38Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492576",
    "user": "https://github.com/mkoeppe"
}
```

**Changing keywords** from "" to "sd111".



---

archive/issue_comments_492577.json:
```json
{
    "body": "**Author:** Tobias Diez",
    "created_at": "2020-12-09T19:11:55Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492577",
    "user": "https://github.com/kliem"
}
```

**Author:** Tobias Diez



---

archive/issue_comments_492578.json:
```json
{
    "body": "<a id='comment:7'></a>\nrebase is needed",
    "created_at": "2020-12-12T08:16:03Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492578",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>
rebase is needed



---

archive/issue_comments_492579.json:
```json
{
    "body": "<a id='comment:8'></a>\nThis ticket could also be retargeted to #31377, using `local/` as the venv instead of `src/.venv`.",
    "created_at": "2021-02-11T22:58:56Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492579",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
This ticket could also be retargeted to #31377, using `local/` as the venv instead of `src/.venv`.



---

archive/issue_comments_492580.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [mkoeppe](#comment%3A8):\n> This ticket could also be retargeted to #31377, using `local/` as the venv instead of `src/.venv`.\n\n\nThe nice thing about pipenv is that one can specify python packages for development, and so install e.g. pytest and linters in the virtual environment. VS code picks these up, and complains if they are not installed otherwise. Does sage's build setup has a similar flag to install dev packages?",
    "created_at": "2021-02-18T18:38:09Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492580",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:9'></a>
Replying to [mkoeppe](#comment%3A8):
> This ticket could also be retargeted to #31377, using `local/` as the venv instead of `src/.venv`.


The nice thing about pipenv is that one can specify python packages for development, and so install e.g. pytest and linters in the virtual environment. VS code picks these up, and complains if they are not installed otherwise. Does sage's build setup has a similar flag to install dev packages?



---

archive/issue_comments_492581.json:
```json
{
    "body": "<a id='comment:10'></a>\nIn the current model, the linters are installed by tox into the tox environment.",
    "created_at": "2021-02-18T18:41:40Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492581",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
In the current model, the linters are installed by tox into the tox environment.



---

archive/issue_comments_492582.json:
```json
{
    "body": "<a id='comment:11'></a>\nneeds a rebase",
    "created_at": "2021-03-10T13:57:00Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492582",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>
needs a rebase



---

archive/issue_events_274809.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274809"
}
```



---

archive/issue_events_274810.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274810"
}
```



---

archive/issue_comments_492583.json:
```json
{
    "body": "<a id='comment:12'></a>\nSage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492583",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_492584.json:
```json
{
    "body": "<a id='comment:13'></a>\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492584",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>
Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_274811.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274811"
}
```



---

archive/issue_events_274812.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274812"
}
```



---

archive/issue_comments_492585.json:
```json
{
    "body": "<a id='comment:14'></a>\nThis should be redone without dep on #30371",
    "created_at": "2021-08-28T01:32:38Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492585",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
This should be redone without dep on #30371



---

archive/issue_events_274813.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-28T01:32:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274813"
}
```



---

archive/issue_events_274814.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-28T01:32:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274814"
}
```



---

archive/issue_comments_492586.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,6 @@\n-Its recommended to checkin some VS Code config files (which makes it easier for new users to start developing), so I did this. In particular, I added VS code config to use the local virtual environment `src/.venv` that is added in #30371. These changes are more or less copied from https://www.toptal.com/developers/gitignore/api/python,visualstudiocode.\n+Its recommended to check in some VS Code config files (which makes it easier for new users to start developing).\n+\n+We configure it to use the Sage venv via the `configure`-generated symlink `SAGE_ROOT/venv` (from #32442)\n+\n+The `.gitignore` configuration follows  https://www.toptal.com/developers/gitignore/api/python,visualstudiocode\n+\n``````\n",
    "created_at": "2021-10-03T03:26:54Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492586",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,6 @@
-Its recommended to checkin some VS Code config files (which makes it easier for new users to start developing), so I did this. In particular, I added VS code config to use the local virtual environment `src/.venv` that is added in #30371. These changes are more or less copied from https://www.toptal.com/developers/gitignore/api/python,visualstudiocode.
+Its recommended to check in some VS Code config files (which makes it easier for new users to start developing).
+
+We configure it to use the Sage venv via the `configure`-generated symlink `SAGE_ROOT/venv` (from #32442)
+
+The `.gitignore` configuration follows  https://www.toptal.com/developers/gitignore/api/python,visualstudiocode
+
``````




---

archive/issue_events_274815.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-03T03:26:54Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "rename": {
        "from": "Add VS Code config for inplace venv",
        "to": "Add VS Code config for SAGE_ROOT/venv"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274815"
}
```



---

archive/issue_comments_492587.json:
```json
{
    "body": "**Changing dependencies** from \"#30371\" to \"#32442\".",
    "created_at": "2021-10-03T03:28:11Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492587",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#30371" to "#32442".



---

archive/issue_comments_492588.json:
```json
{
    "body": "**Changing commit** from \"[caf88ef6fc81d50c7844d8f3285c75333fa25482](https://github.com/sagemath/sagetrac-mirror/commit/caf88ef6fc81d50c7844d8f3285c75333fa25482)\" to \"[d422922b4699a36dae93c1a7b705c27942b3a590](https://github.com/sagemath/sagetrac-mirror/commit/d422922b4699a36dae93c1a7b705c27942b3a590)\".",
    "created_at": "2021-10-03T03:41:21Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492588",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[caf88ef6fc81d50c7844d8f3285c75333fa25482](https://github.com/sagemath/sagetrac-mirror/commit/caf88ef6fc81d50c7844d8f3285c75333fa25482)" to "[d422922b4699a36dae93c1a7b705c27942b3a590](https://github.com/sagemath/sagetrac-mirror/commit/d422922b4699a36dae93c1a7b705c27942b3a590)".



---

archive/issue_comments_492589.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4a3845dc3f61f0547c890aa1a81b1d212c648a4\">b4a3845</a></td><td><code>m4/sage_spkg_collect.m4: If we install python3 spkg, install it in SAGE_VENV</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12cbbdaaf45b96b9cf680d544d0b268afd6b4258\">12cbbda</a></td><td><code>configure.ac: Keep old behavior of SAGE_VENV in incremental builds</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/117fe3a3ed83aa97ed8c5faee347587772d00749\">117fe3a</a></td><td><code>build/make/Makefile.in (...-clean): Do not fail trying to uninstall if SAGE_VENV has not been created yet</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8af6041abfa62e3fe7cbd279b3bec25665cea449\">8af6041</a></td><td><code>Merge tag '9.5.beta2' into t/32442/__configure__make___with_sage_venv_the_default</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3f7d3426499114eed31882f06bdc6cc3b7053f1\">b3f7d34</a></td><td><code>.gitignore: Add /venv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc4b641f651968af7fd8c4accb5841021ea0390c\">fc4b641</a></td><td><code>configure.ac: Remove conveniene symlinks before (re)creating them</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8bcbf1d919d7d90cefe1442a23aaa66df4ecd2d3\">8bcbf1d</a></td><td><code>Makefile (distclean): Remove convenience symlinks prefix, venv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dcb4a08a1d5e5e2363c4b6e2f2f3d852efd3aae0\">dcb4a08</a></td><td><code>configure.ac: Indicate default in help string for --with-sage-venv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41ae47e4a5614e2ea73951781cad70b258fe687a\">41ae47e</a></td><td><code>Merge #32442</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d422922b4699a36dae93c1a7b705c27942b3a590\">d422922</a></td><td><code>.vscode/settings.json: Switch to SAGE_ROOT/venv</code></td></tr></table>\n",
    "created_at": "2021-10-03T03:41:21Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492589",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4a3845dc3f61f0547c890aa1a81b1d212c648a4">b4a3845</a></td><td><code>m4/sage_spkg_collect.m4: If we install python3 spkg, install it in SAGE_VENV</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12cbbdaaf45b96b9cf680d544d0b268afd6b4258">12cbbda</a></td><td><code>configure.ac: Keep old behavior of SAGE_VENV in incremental builds</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/117fe3a3ed83aa97ed8c5faee347587772d00749">117fe3a</a></td><td><code>build/make/Makefile.in (...-clean): Do not fail trying to uninstall if SAGE_VENV has not been created yet</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8af6041abfa62e3fe7cbd279b3bec25665cea449">8af6041</a></td><td><code>Merge tag '9.5.beta2' into t/32442/__configure__make___with_sage_venv_the_default</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3f7d3426499114eed31882f06bdc6cc3b7053f1">b3f7d34</a></td><td><code>.gitignore: Add /venv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc4b641f651968af7fd8c4accb5841021ea0390c">fc4b641</a></td><td><code>configure.ac: Remove conveniene symlinks before (re)creating them</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8bcbf1d919d7d90cefe1442a23aaa66df4ecd2d3">8bcbf1d</a></td><td><code>Makefile (distclean): Remove convenience symlinks prefix, venv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dcb4a08a1d5e5e2363c4b6e2f2f3d852efd3aae0">dcb4a08</a></td><td><code>configure.ac: Indicate default in help string for --with-sage-venv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41ae47e4a5614e2ea73951781cad70b258fe687a">41ae47e</a></td><td><code>Merge #32442</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d422922b4699a36dae93c1a7b705c27942b3a590">d422922</a></td><td><code>.vscode/settings.json: Switch to SAGE_ROOT/venv</code></td></tr></table>




---

archive/issue_comments_492590.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87719de3d25237a5974b56ada36ed0df1633ad8d\">87719de</a></td><td><code>.vscode/settings.json: Change python.pythonPath to python.defaultInterpreterPath</code></td></tr></table>\n",
    "created_at": "2021-10-03T04:11:13Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492590",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87719de3d25237a5974b56ada36ed0df1633ad8d">87719de</a></td><td><code>.vscode/settings.json: Change python.pythonPath to python.defaultInterpreterPath</code></td></tr></table>




---

archive/issue_comments_492591.json:
```json
{
    "body": "**Changing commit** from \"[d422922b4699a36dae93c1a7b705c27942b3a590](https://github.com/sagemath/sagetrac-mirror/commit/d422922b4699a36dae93c1a7b705c27942b3a590)\" to \"[87719de3d25237a5974b56ada36ed0df1633ad8d](https://github.com/sagemath/sagetrac-mirror/commit/87719de3d25237a5974b56ada36ed0df1633ad8d)\".",
    "created_at": "2021-10-03T04:11:13Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492591",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d422922b4699a36dae93c1a7b705c27942b3a590](https://github.com/sagemath/sagetrac-mirror/commit/d422922b4699a36dae93c1a7b705c27942b3a590)" to "[87719de3d25237a5974b56ada36ed0df1633ad8d](https://github.com/sagemath/sagetrac-mirror/commit/87719de3d25237a5974b56ada36ed0df1633ad8d)".



---

archive/issue_comments_492592.json:
```json
{
    "body": "<a id='comment:19'></a>\nIf you plan to change from the pipenv to the sage venv, please also make sure that all dev-packages are included in the latter enviroment: https://github.com/sagemath/sagetrac-mirror/blob/fec55234a00e46d023ad583f8c6284b970141ab0/src/Pipfile#L6-L15\nThese are needed to use all features of VS code properly (linting, jupyter notebook support, etc). While working on the pipenv enviroment I've added those packages, but didn't double-check if they are included in the sage distribution (since they are meant only for developers, and not for actual distribution). \n\nAlso for clarification: the sage venv can be configured to have an editable install, right?",
    "created_at": "2021-10-04T09:39:55Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492592",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:19'></a>
If you plan to change from the pipenv to the sage venv, please also make sure that all dev-packages are included in the latter enviroment: https://github.com/sagemath/sagetrac-mirror/blob/fec55234a00e46d023ad583f8c6284b970141ab0/src/Pipfile#L6-L15
These are needed to use all features of VS code properly (linting, jupyter notebook support, etc). While working on the pipenv enviroment I've added those packages, but didn't double-check if they are included in the sage distribution (since they are meant only for developers, and not for actual distribution). 

Also for clarification: the sage venv can be configured to have an editable install, right?



---

archive/issue_comments_492593.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [gh-tobiasdiez](#comment%3A19):\n> for clarification: the sage venv can be configured to have an editable install, right?\n\n\nYes, this has been shipped in Sage 9.3, see https://wiki.sagemath.org/ReleaseTours/sage-9.3#Editable_.28.22in-place.22.2C_.22develop.22.29_installs_of_the_Sage_library",
    "created_at": "2021-10-04T19:43:43Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492593",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>
Replying to [gh-tobiasdiez](#comment%3A19):
> for clarification: the sage venv can be configured to have an editable install, right?


Yes, this has been shipped in Sage 9.3, see https://wiki.sagemath.org/ReleaseTours/sage-9.3#Editable_.28.22in-place.22.2C_.22develop.22.29_installs_of_the_Sage_library



---

archive/issue_comments_492594.json:
```json
{
    "body": "<a id='comment:21'></a>\nMatthias do you still have something you want to change here?\n\nBy the way, I think `.venv` is the most common convention for python venvs. At leasts that's what pipenv and poetry are using by default, and https://docs.python.org/3/library/venv.html is listing as \"a common name\". So maybe as a follow-up to #32442 rename the symbolic link accordingly (or even make it the default to install the python environment in `.venv`)?",
    "created_at": "2021-10-21T19:19:04Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492594",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:21'></a>
Matthias do you still have something you want to change here?

By the way, I think `.venv` is the most common convention for python venvs. At leasts that's what pipenv and poetry are using by default, and https://docs.python.org/3/library/venv.html is listing as "a common name". So maybe as a follow-up to #32442 rename the symbolic link accordingly (or even make it the default to install the python environment in `.venv`)?



---

archive/issue_events_274816.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2021-10-21T19:19:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274816"
}
```



---

archive/issue_events_274817.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2021-10-21T19:19:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274817"
}
```



---

archive/issue_comments_492595.json:
```json
{
    "body": "**Work_Issues:** config test discovery",
    "created_at": "2021-10-21T19:23:14Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492595",
    "user": "https://github.com/tobiasdiez"
}
```

**Work_Issues:** config test discovery



---

archive/issue_events_274818.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2021-10-21T19:23:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274818"
}
```



---

archive/issue_events_274819.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2021-10-21T19:23:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274819"
}
```



---

archive/issue_comments_492596.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [gh-tobiasdiez](#comment%3A21):\n> I think `.venv` is the most common convention for python venvs. At leasts that's what pipenv and poetry are using by default, and https://docs.python.org/3/library/venv.html is listing as \"a common name\". So maybe as a follow-up to #32442 rename the symbolic link accordingly (or even make it the default to install the python environment in `.venv`)?\n\n\nWell, a `.venv` according to this common convention would lie in `SAGE_ROOT/src/` or perhaps in `SAGE_ROOT/pkgs/sagemath-standard/`, i.e., at the root of a Python distribution tree -- not in `SAGE_ROOT`, so it's not just a matter of renaming.\n\nAlso, I don't think we want tools such as `pipenv` to actually manipulate the venv built by the Sage distribution because it is managed by our build system.",
    "created_at": "2021-10-21T19:34:21Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492596",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>
Replying to [gh-tobiasdiez](#comment%3A21):
> I think `.venv` is the most common convention for python venvs. At leasts that's what pipenv and poetry are using by default, and https://docs.python.org/3/library/venv.html is listing as "a common name". So maybe as a follow-up to #32442 rename the symbolic link accordingly (or even make it the default to install the python environment in `.venv`)?


Well, a `.venv` according to this common convention would lie in `SAGE_ROOT/src/` or perhaps in `SAGE_ROOT/pkgs/sagemath-standard/`, i.e., at the root of a Python distribution tree -- not in `SAGE_ROOT`, so it's not just a matter of renaming.

Also, I don't think we want tools such as `pipenv` to actually manipulate the venv built by the Sage distribution because it is managed by our build system.



---

archive/issue_comments_492597.json:
```json
{
    "body": "<a id='comment:24'></a>\nTo expand on this, I think it's better to reserve the common name `.venv` for user-created venvs (of which there can be many); and to use `SAGE_ROOT/venv` for \"the\" venv (= the one configured and built by the distribution).\n\nThen we can document as \"best practices\" to work with a user-created venv for example as the target for pip-installing additional packages. This will be more robust than the current status quo, in which the venv is built by our special tooling, and users kind of can install additional stuff if they are careful.",
    "created_at": "2021-10-21T19:40:47Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492597",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>
To expand on this, I think it's better to reserve the common name `.venv` for user-created venvs (of which there can be many); and to use `SAGE_ROOT/venv` for "the" venv (= the one configured and built by the distribution).

Then we can document as "best practices" to work with a user-created venv for example as the target for pip-installing additional packages. This will be more robust than the current status quo, in which the venv is built by our special tooling, and users kind of can install additional stuff if they are careful.



---

archive/issue_comments_492598.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [mkoeppe](#comment%3A24):\n> To expand on this, I think it's better to reserve the common name `.venv` for user-created venvs (of which there can be many); and to use `SAGE_ROOT/venv` for \"the\" venv (= the one configured and built by the distribution).\n\n\nIn this case, it is no good idea to use `venv` as the base for VS code since extensions (pycodestyle, pytest etc) will install additional packages using pip if needed.\n\n \n> Then we can document as \"best practices\" to work with a user-created venv for example as the target for pip-installing additional packages. This will be more robust than the current status quo, in which the venv is built by our special tooling, and users kind of can install additional stuff if they are careful.\n\n\nTo be honest, this sounds relatively complicated and confusing (as a 'normal' dev I don't really see the difference between \".venv\" and \"venv\"). Why not treat sage-the-distribution as just one of many ways to create a venv? For example, one could also add a `enable-pipenv` flag to make in which case pipenv is used to create the venv instead. It would be strange if this then would create `venv` and `.venv`.",
    "created_at": "2021-10-22T08:19:13Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492598",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:25'></a>
Replying to [mkoeppe](#comment%3A24):
> To expand on this, I think it's better to reserve the common name `.venv` for user-created venvs (of which there can be many); and to use `SAGE_ROOT/venv` for "the" venv (= the one configured and built by the distribution).


In this case, it is no good idea to use `venv` as the base for VS code since extensions (pycodestyle, pytest etc) will install additional packages using pip if needed.

 
> Then we can document as "best practices" to work with a user-created venv for example as the target for pip-installing additional packages. This will be more robust than the current status quo, in which the venv is built by our special tooling, and users kind of can install additional stuff if they are careful.


To be honest, this sounds relatively complicated and confusing (as a 'normal' dev I don't really see the difference between ".venv" and "venv"). Why not treat sage-the-distribution as just one of many ways to create a venv? For example, one could also add a `enable-pipenv` flag to make in which case pipenv is used to create the venv instead. It would be strange if this then would create `venv` and `.venv`.



---

archive/issue_comments_492599.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [gh-tobiasdiez](#comment%3A25):\n> Why not treat sage-the-distribution as just one of many ways to create a venv? \n\n\nWell, sage-the-distribution builds a set of wheels using \"the\" venv, which are stored in the venv's `var/lib/sage/wheels` directory. This distinguishes \"the\" venv from other venvs. I want to document the process for users to create user venvs by installing these wheels.",
    "created_at": "2021-10-22T19:48:50Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492599",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>
Replying to [gh-tobiasdiez](#comment%3A25):
> Why not treat sage-the-distribution as just one of many ways to create a venv? 


Well, sage-the-distribution builds a set of wheels using "the" venv, which are stored in the venv's `var/lib/sage/wheels` directory. This distinguishes "the" venv from other venvs. I want to document the process for users to create user venvs by installing these wheels.



---

archive/issue_comments_492600.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [gh-tobiasdiez](#comment%3A25):\n> Replying to [mkoeppe](#comment%3A24):\n> > To expand on this, I think it's better to reserve the common name `.venv` for user-created venvs (of which there can be many); and to use `SAGE_ROOT/venv` for \"the\" venv (= the one configured and built by the distribution).\n\n> \n> In this case, it is no good idea to use `venv` as the base for VS code since extensions (pycodestyle, pytest etc) will install additional packages using pip if needed.\n\n\nThis is a good point but as of the status quo, \"the\" venv is the only venv around.",
    "created_at": "2021-10-22T19:58:59Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492600",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>
Replying to [gh-tobiasdiez](#comment%3A25):
> Replying to [mkoeppe](#comment%3A24):
> > To expand on this, I think it's better to reserve the common name `.venv` for user-created venvs (of which there can be many); and to use `SAGE_ROOT/venv` for "the" venv (= the one configured and built by the distribution).

> 
> In this case, it is no good idea to use `venv` as the base for VS code since extensions (pycodestyle, pytest etc) will install additional packages using pip if needed.


This is a good point but as of the status quo, "the" venv is the only venv around.



---

archive/issue_comments_492601.json:
```json
{
    "body": "<a id='comment:28'></a>\nWhat is the work issue \"config test discovery\"?",
    "created_at": "2021-10-25T03:36:56Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492601",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>
What is the work issue "config test discovery"?



---

archive/issue_comments_492602.json:
```json
{
    "body": "<a id='comment:29'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/656f85cbd409086c800fd857cacca4a267e10ef1\">656f85c</a></td><td><code>Add VS code config for inplace venv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/caf88ef6fc81d50c7844d8f3285c75333fa25482\">caf88ef</a></td><td><code>Add config for unittests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/208d2fa5cb7ea0cc279454ea939f9fae50160306\">208d2fa</a></td><td><code>Merge branch 'public/build/vscode' of git://trac.sagemath.org/sage into public/build/vscode</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9bc5815d4b28495c281aa7fd02039d87042e54a3\">9bc5815</a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into public/build/vscode</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9bcead852003c7b0c3c48c5542572756b6236994\">9bcead8</a></td><td><code>Add config to discover tests</code></td></tr></table>\n",
    "created_at": "2021-10-26T15:41:00Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492602",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/656f85cbd409086c800fd857cacca4a267e10ef1">656f85c</a></td><td><code>Add VS code config for inplace venv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/caf88ef6fc81d50c7844d8f3285c75333fa25482">caf88ef</a></td><td><code>Add config for unittests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/208d2fa5cb7ea0cc279454ea939f9fae50160306">208d2fa</a></td><td><code>Merge branch 'public/build/vscode' of git://trac.sagemath.org/sage into public/build/vscode</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9bc5815d4b28495c281aa7fd02039d87042e54a3">9bc5815</a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into public/build/vscode</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9bcead852003c7b0c3c48c5542572756b6236994">9bcead8</a></td><td><code>Add config to discover tests</code></td></tr></table>




---

archive/issue_comments_492603.json:
```json
{
    "body": "**Changing commit** from \"[87719de3d25237a5974b56ada36ed0df1633ad8d](https://github.com/sagemath/sagetrac-mirror/commit/87719de3d25237a5974b56ada36ed0df1633ad8d)\" to \"[9bcead852003c7b0c3c48c5542572756b6236994](https://github.com/sagemath/sagetrac-mirror/commit/9bcead852003c7b0c3c48c5542572756b6236994)\".",
    "created_at": "2021-10-26T15:41:00Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492603",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[87719de3d25237a5974b56ada36ed0df1633ad8d](https://github.com/sagemath/sagetrac-mirror/commit/87719de3d25237a5974b56ada36ed0df1633ad8d)" to "[9bcead852003c7b0c3c48c5542572756b6236994](https://github.com/sagemath/sagetrac-mirror/commit/9bcead852003c7b0c3c48c5542572756b6236994)".



---

archive/issue_comments_492604.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [mkoeppe](#comment%3A28):\n> What is the work issue \"config test discovery\"?\n\n\nAdding config for VS code testing feature: https://code.visualstudio.com/docs/python/testing.\nI've added this now.",
    "created_at": "2021-10-26T15:42:12Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492604",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:30'></a>
Replying to [mkoeppe](#comment%3A28):
> What is the work issue "config test discovery"?


Adding config for VS code testing feature: https://code.visualstudio.com/docs/python/testing.
I've added this now.



---

archive/issue_events_274820.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2021-10-26T15:42:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274820"
}
```



---

archive/issue_events_274821.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2021-10-26T15:42:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274821"
}
```



---

archive/issue_comments_492605.json:
```json
{
    "body": "**Changing work_issues** from \"config test discovery\" to \"\".",
    "created_at": "2021-10-26T15:42:27Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492605",
    "user": "https://github.com/tobiasdiez"
}
```

**Changing work_issues** from "config test discovery" to "".



---

archive/issue_comments_492606.json:
```json
{
    "body": "<a id='comment:32'></a>\nIt would be nice if this could be reviewed (and merged) relatively soon.",
    "created_at": "2021-11-18T12:25:27Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492606",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:32'></a>
It would be nice if this could be reviewed (and merged) relatively soon.



---

archive/issue_comments_492607.json:
```json
{
    "body": "<a id='comment:33'></a>\nDoes it mean to work together with a particular VSCode plugin?",
    "created_at": "2021-11-18T15:43:30Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492607",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:33'></a>
Does it mean to work together with a particular VSCode plugin?



---

archive/issue_comments_492608.json:
```json
{
    "body": "<a id='comment:34'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89b8754ad30c6a1bd1fdbd6d62011055bf13b24a\">89b8754</a></td><td><code>Fix exit code for pytest in case of no matched files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/278f0e024ba41399393af26fdddf5e6df4858064\">278f0e0</a></td><td><code>Merge branch 'public/build/vscode' of trac.sagemath.org:sage into public/build/vscode</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df1534c11ea5680699f801d026451b0124ccd019\">df1534c</a></td><td><code>Add extension recommendations</code></td></tr></table>\n",
    "created_at": "2021-11-18T16:28:30Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492608",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89b8754ad30c6a1bd1fdbd6d62011055bf13b24a">89b8754</a></td><td><code>Fix exit code for pytest in case of no matched files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/278f0e024ba41399393af26fdddf5e6df4858064">278f0e0</a></td><td><code>Merge branch 'public/build/vscode' of trac.sagemath.org:sage into public/build/vscode</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df1534c11ea5680699f801d026451b0124ccd019">df1534c</a></td><td><code>Add extension recommendations</code></td></tr></table>




---

archive/issue_comments_492609.json:
```json
{
    "body": "**Changing commit** from \"[9bcead852003c7b0c3c48c5542572756b6236994](https://github.com/sagemath/sagetrac-mirror/commit/9bcead852003c7b0c3c48c5542572756b6236994)\" to \"[df1534c11ea5680699f801d026451b0124ccd019](https://github.com/sagemath/sagetrac-mirror/commit/df1534c11ea5680699f801d026451b0124ccd019)\".",
    "created_at": "2021-11-18T16:28:30Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492609",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9bcead852003c7b0c3c48c5542572756b6236994](https://github.com/sagemath/sagetrac-mirror/commit/9bcead852003c7b0c3c48c5542572756b6236994)" to "[df1534c11ea5680699f801d026451b0124ccd019](https://github.com/sagemath/sagetrac-mirror/commit/df1534c11ea5680699f801d026451b0124ccd019)".



---

archive/issue_comments_492610.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [dimpase](#comment%3A33):\n> Does it mean to work together with a particular VSCode plugin?\n\n\nWith the \"standard\" python extension https://marketplace.visualstudio.com/items?itemName=ms-python.python, which I've now also added as \"recommendation\" (vscode will ask once when a workspace is opened for the first time to install these recommended extensions).",
    "created_at": "2021-11-18T16:32:41Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492610",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:35'></a>
Replying to [dimpase](#comment%3A33):
> Does it mean to work together with a particular VSCode plugin?


With the "standard" python extension https://marketplace.visualstudio.com/items?itemName=ms-python.python, which I've now also added as "recommendation" (vscode will ask once when a workspace is opened for the first time to install these recommended extensions).



---

archive/issue_comments_492611.json:
```json
{
    "body": "**Changing commit** from \"[df1534c11ea5680699f801d026451b0124ccd019](https://github.com/sagemath/sagetrac-mirror/commit/df1534c11ea5680699f801d026451b0124ccd019)\" to \"[0eadcd118d2da14981cd17def91446232940d2f1](https://github.com/sagemath/sagetrac-mirror/commit/0eadcd118d2da14981cd17def91446232940d2f1)\".",
    "created_at": "2021-11-18T16:33:01Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492611",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[df1534c11ea5680699f801d026451b0124ccd019](https://github.com/sagemath/sagetrac-mirror/commit/df1534c11ea5680699f801d026451b0124ccd019)" to "[0eadcd118d2da14981cd17def91446232940d2f1](https://github.com/sagemath/sagetrac-mirror/commit/0eadcd118d2da14981cd17def91446232940d2f1)".



---

archive/issue_comments_492612.json:
```json
{
    "body": "<a id='comment:36'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0eadcd118d2da14981cd17def91446232940d2f1\">0eadcd1</a></td><td><code>Add VS Code config for SAGE_ROOT/venv</code></td></tr></table>\n",
    "created_at": "2021-11-18T16:33:01Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492612",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0eadcd118d2da14981cd17def91446232940d2f1">0eadcd1</a></td><td><code>Add VS Code config for SAGE_ROOT/venv</code></td></tr></table>




---

archive/issue_comments_492613.json:
```json
{
    "body": "<a id='comment:37'></a>\nI got it installed, and what should I try? I don't use vscode for developent, so it's pretty unclear.\n\nIncidentally, I saw that vscode has support for jupyter notebooks now, but the kernels it knows are the Python only ones. Should it know - be able to discover somehow - Sage's jupyter kernel, too?",
    "created_at": "2021-11-19T14:46:52Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492613",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:37'></a>
I got it installed, and what should I try? I don't use vscode for developent, so it's pretty unclear.

Incidentally, I saw that vscode has support for jupyter notebooks now, but the kernels it knows are the Python only ones. Should it know - be able to discover somehow - Sage's jupyter kernel, too?



---

archive/issue_comments_492614.json:
```json
{
    "body": "<a id='comment:38'></a>\nIt should \"just work\". This ticket is not doing much, only adding basic configs so that vs code is automatically discovering the right things. In particular:\n- Find the virtual environment in `venv`\n- Use pytest for test discovery (https://code.visualstudio.com/docs/python/testing)\n- Hide build artifacts in the file explorer\n\nCoding you still have to do yourself though ;) (or install https://copilot.github.com/)\n\nBut you are right, adding documentation for how to use vs code might be a good follow-up. The same for the jupyter support - I had a quick look and it seems to work in principle but still have to figure out the details.",
    "created_at": "2021-11-19T16:26:27Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492614",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:38'></a>
It should "just work". This ticket is not doing much, only adding basic configs so that vs code is automatically discovering the right things. In particular:
- Find the virtual environment in `venv`
- Use pytest for test discovery (https://code.visualstudio.com/docs/python/testing)
- Hide build artifacts in the file explorer

Coding you still have to do yourself though ;) (or install https://copilot.github.com/)

But you are right, adding documentation for how to use vs code might be a good follow-up. The same for the jupyter support - I had a quick look and it seems to work in principle but still have to figure out the details.



---

archive/issue_comments_492615.json:
```json
{
    "body": "<a id='comment:39'></a>\nReplying to [gh-tobiasdiez](#comment%3A38):\n> It should \"just work\". This ticket is not doing much, only adding basic configs so that vs code is automatically discovering the right things. In particular:\n> - Find the virtual environment in `venv`\n> - Use pytest for test discovery (https://code.visualstudio.com/docs/python/testing)\n> - Hide build artifacts in the file explorer\n\n\nI know it's hard to explain in text - but I have trouble understanding how to do the\n1st 2 items. (we can have a video call via google meet or so, so that I can see the screen and\nthe cursor...)\n\nBy `It should \"just work\"` - do you mean the jupyter thing?\nWell, I can browse (and view, nicely) Sage's jupyter notebooks in vscode, but not run, as I don't see a way to select the right kernel, and it's now shown in the menu.\n\n\n> \n> Coding you still have to do yourself though ;) (or install https://copilot.github.com/)\n> \n\nI sometimes use vscode as an IDE to write markdown or LaTeX (or Lean :-)), but never for other things, so far.",
    "created_at": "2021-11-19T16:48:13Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492615",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:39'></a>
Replying to [gh-tobiasdiez](#comment%3A38):
> It should "just work". This ticket is not doing much, only adding basic configs so that vs code is automatically discovering the right things. In particular:
> - Find the virtual environment in `venv`
> - Use pytest for test discovery (https://code.visualstudio.com/docs/python/testing)
> - Hide build artifacts in the file explorer


I know it's hard to explain in text - but I have trouble understanding how to do the
1st 2 items. (we can have a video call via google meet or so, so that I can see the screen and
the cursor...)

By `It should "just work"` - do you mean the jupyter thing?
Well, I can browse (and view, nicely) Sage's jupyter notebooks in vscode, but not run, as I don't see a way to select the right kernel, and it's now shown in the menu.


> 
> Coding you still have to do yourself though ;) (or install https://copilot.github.com/)
> 

I sometimes use vscode as an IDE to write markdown or LaTeX (or Lean :-)), but never for other things, so far.



---

archive/issue_comments_492616.json:
```json
{
    "body": "<a id='comment:40'></a>\nFor the virtual env, you should have something like `Pytohn 3.8.10 ('venv': venv)` in the lower left corner \n![](https://code.visualstudio.com/assets/docs/python/environments/selected-interpreter-status-bar.png)\n\nWith this ticket, this is now the default and can be changed as described in https://code.visualstudio.com/docs/python/environments#_select-and-activate-an-environment.\n\n\nFor testing, vscode should now look for pytests instead of the \"Configure Python tests\" window that you get normally after activating the test icon (with the red border)\n\n![](https://code.visualstudio.com/assets/docs/python/testing/test-explorer-no-tests.png)\n\nFor jupyter, it may work if you have jupter installed in the sage venv and then select it as the kernel as described here https://code.visualstudio.com/docs/datascience/jupyter-notebooks#_create-or-open-a-jupyter-notebook.\nThere are also config options to do this by default, but I've not yet looked into this.\nFor basic things, this is working for me, but I'm not sure about e.g. sage syntax etc.",
    "created_at": "2021-11-19T17:26:01Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492616",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:40'></a>
For the virtual env, you should have something like `Pytohn 3.8.10 ('venv': venv)` in the lower left corner 
![](https://code.visualstudio.com/assets/docs/python/environments/selected-interpreter-status-bar.png)

With this ticket, this is now the default and can be changed as described in https://code.visualstudio.com/docs/python/environments#_select-and-activate-an-environment.


For testing, vscode should now look for pytests instead of the "Configure Python tests" window that you get normally after activating the test icon (with the red border)

![](https://code.visualstudio.com/assets/docs/python/testing/test-explorer-no-tests.png)

For jupyter, it may work if you have jupter installed in the sage venv and then select it as the kernel as described here https://code.visualstudio.com/docs/datascience/jupyter-notebooks#_create-or-open-a-jupyter-notebook.
There are also config options to do this by default, but I've not yet looked into this.
For basic things, this is working for me, but I'm not sure about e.g. sage syntax etc.



---

archive/issue_events_274822.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-11-21T12:35:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274822"
}
```



---

archive/issue_events_274823.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-11-21T12:35:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274823"
}
```



---

archive/issue_comments_492617.json:
```json
{
    "body": "<a id='comment:41'></a>\nOK, I'm getting somewhere with Jupyter.\n\nThis time I started with opening the SAGE_ROOT \"folder\", clicked on \"trust the author\", and only after that, opened a Sage Jupyter notebook.\n\nNow, the Sage kernel shows up in the kernel list, and if I choose it, then after a while (~10 sec or more, I thought it just hangs, at first) it loads and everything works.\nOpening it next time is a bit faster. (I'm on a slow net now, and maybe it's phoning back?!).\n\nAnyhow, these details (about opening folger and blessing it) should be added to wiki, or docs, something like this.\n\nOtherwise, good!",
    "created_at": "2021-11-21T12:35:51Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492617",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:41'></a>
OK, I'm getting somewhere with Jupyter.

This time I started with opening the SAGE_ROOT "folder", clicked on "trust the author", and only after that, opened a Sage Jupyter notebook.

Now, the Sage kernel shows up in the kernel list, and if I choose it, then after a while (~10 sec or more, I thought it just hangs, at first) it loads and everything works.
Opening it next time is a bit faster. (I'm on a slow net now, and maybe it's phoning back?!).

Anyhow, these details (about opening folger and blessing it) should be added to wiki, or docs, something like this.

Otherwise, good!



---

archive/issue_comments_492618.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2021-11-21T12:35:51Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492618",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_comments_492619.json:
```json
{
    "body": "**Changing dependencies** from \"#32442\" to \"\".",
    "created_at": "2021-11-21T12:36:28Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492619",
    "user": "https://github.com/dimpase"
}
```

**Changing dependencies** from "#32442" to "".



---

archive/issue_comments_492620.json:
```json
{
    "body": "<a id='comment:43'></a>\nIt should be adverticed in the release wiki, we probably will then get a lot of feedback.",
    "created_at": "2021-11-21T12:37:45Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492620",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:43'></a>
It should be adverticed in the release wiki, we probably will then get a lot of feedback.



---

archive/issue_comments_492621.json:
```json
{
    "body": "<a id='comment:44'></a>\nThanks for the review.\n\nI agree that it would be helpful to have a how to get started with vscode, especially for beginners. But I couldn't any similar docs for other Ides either. What are the conventions, and is it okay to \"advertise\" vscode by adding it to the docs?",
    "created_at": "2021-11-21T18:21:08Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492621",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:44'></a>
Thanks for the review.

I agree that it would be helpful to have a how to get started with vscode, especially for beginners. But I couldn't any similar docs for other Ides either. What are the conventions, and is it okay to "advertise" vscode by adding it to the docs?



---

archive/issue_comments_492622.json:
```json
{
    "body": "<a id='comment:45'></a>\nThis would be a very valuable contribution. We have a meta-ticket #30500 for these kinds of things, but so far nobody has done the work.",
    "created_at": "2021-11-21T20:15:15Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492622",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:45'></a>
This would be a very valuable contribution. We have a meta-ticket #30500 for these kinds of things, but so far nobody has done the work.



---

archive/issue_comments_492623.json:
```json
{
    "body": "<a id='comment:46'></a>\nReplying to [gh-tobiasdiez](#comment%3A44):\n> Thanks for the review.\n> \n> I agree that it would be helpful to have a how to get started with vscode, especially for beginners. But I couldn't any similar docs for other Ides either. What are the conventions, and is it okay to \"advertise\" vscode by adding it to the docs? \n\n\nas vscode is getting dominant, hiding from the public that we have these binding in Sage is kind of silly.\n\nwe do have binding for jupyter(lab), and something for emacs too, so it's not setting up a precedent.",
    "created_at": "2021-11-21T23:17:34Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492623",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:46'></a>
Replying to [gh-tobiasdiez](#comment%3A44):
> Thanks for the review.
> 
> I agree that it would be helpful to have a how to get started with vscode, especially for beginners. But I couldn't any similar docs for other Ides either. What are the conventions, and is it okay to "advertise" vscode by adding it to the docs? 


as vscode is getting dominant, hiding from the public that we have these binding in Sage is kind of silly.

we do have binding for jupyter(lab), and something for emacs too, so it's not setting up a precedent.



---

archive/issue_events_274824.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-01-01T00:23:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274824"
}
```



---

archive/issue_events_274825.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "40a9c26056f1e668df04c8ed0aa243ac3c1cf86d",
    "created_at": "2022-01-01T00:23:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30677#event-274825"
}
```



---

archive/issue_comments_492624.json:
```json
{
    "body": "**Changing branch** from \"[public/build/vscode](https://github.com/sagemath/sagetrac-mirror/tree/public/build/vscode)\" to \"[0eadcd118d2da14981cd17def91446232940d2f1](https://github.com/sagemath/sagetrac-mirror/commit/0eadcd118d2da14981cd17def91446232940d2f1)\".",
    "created_at": "2022-01-01T00:23:14Z",
    "issue": "https://github.com/sagemath/sage/issues/30677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30677#issuecomment-492624",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/build/vscode](https://github.com/sagemath/sagetrac-mirror/tree/public/build/vscode)" to "[0eadcd118d2da14981cd17def91446232940d2f1](https://github.com/sagemath/sagetrac-mirror/commit/0eadcd118d2da14981cd17def91446232940d2f1)".
