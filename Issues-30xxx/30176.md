# Issue 30176: Update matplotlib to 3.3

archive/issues_029939.json:
```json
{
    "assignees": [],
    "body": "Brings lots of deprecation warnings on every plot() call, due to OldScalarFormatter deprecation.\n\nDepends on pillow for all image formats now.\n\nCC:  @jhpalmieri @kiwifb @mkoeppe @timokau @egourgoulhon @antonio-rojas @zlscherr\n\nBranch: **[`73af14a`](https://github.com/sagemath/sagetrac-mirror/commit/73af14a4f1f1453cab53d882f7cb2ac5d7d39d41)**\n\nUpstream: **Fixed upstream, but not in a stable release.**\n\nReviewer: **Matthias Koeppe**\n\nAuthor: **Antonio Rojas**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30176_\n\n",
    "closed_at": "2020-08-09T08:47:29Z",
    "created_at": "2020-07-19T20:42:55Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Update matplotlib to 3.3",
    "type": "issue",
    "updated_at": "2021-01-02T20:14:50Z",
    "url": "https://github.com/sagemath/sage/issues/30176",
    "user": "https://github.com/antonio-rojas"
}
```
Brings lots of deprecation warnings on every plot() call, due to OldScalarFormatter deprecation.

Depends on pillow for all image formats now.

CC:  @jhpalmieri @kiwifb @mkoeppe @timokau @egourgoulhon @antonio-rojas @zlscherr

Branch: **[`73af14a`](https://github.com/sagemath/sagetrac-mirror/commit/73af14a4f1f1453cab53d882f7cb2ac5d7d39d41)**

Upstream: **Fixed upstream, but not in a stable release.**

Reviewer: **Matthias Koeppe**

Author: **Antonio Rojas**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/30176_





---

archive/issue_events_412468.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-07-19T20:42:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412468"
}
```



---

archive/issue_events_412469.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-07-19T20:42:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412469"
}
```



---

archive/issue_comments_477809.json:
```json
{
    "body": "Branch: **[u/arojas/update_matplotlib_to_3_3](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/update_matplotlib_to_3_3)**",
    "created_at": "2020-07-19T20:44:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477809",
    "user": "https://github.com/antonio-rojas"
}
```

Branch: **[u/arojas/update_matplotlib_to_3_3](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/update_matplotlib_to_3_3)**



---

archive/issue_comments_477810.json:
```json
{
    "body": "Commit: **[`cdf20ea`](https://github.com/sagemath/sagetrac-mirror/commit/cdf20ea78ad840e812ae72ebb0d2e61ad229a797)**",
    "created_at": "2020-07-19T20:45:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477810",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`cdf20ea`](https://github.com/sagemath/sagetrac-mirror/commit/cdf20ea78ad840e812ae72ebb0d2e61ad229a797)**



---

archive/issue_comments_477811.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdf20ea78ad840e812ae72ebb0d2e61ad229a797\"><code>cdf20ea</code></a></td><td><code>Replace deprecated OldScalarFormatter with ScalarFormatter</code></td></tr></table>\n",
    "created_at": "2020-07-19T20:45:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477811",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdf20ea78ad840e812ae72ebb0d2e61ad229a797"><code>cdf20ea</code></a></td><td><code>Replace deprecated OldScalarFormatter with ScalarFormatter</code></td></tr></table>




---

archive/issue_comments_477812.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fee97c72dadcc1381cd8bd151701d235a35cc5c8\"><code>fee97c7</code></a></td><td><code>Replace deprecated basex and basey parameters</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d41b3401cfc10f8313c31f1baedde28e7a72ac7\"><code>3d41b34</code></a></td><td><code>Update example</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80f12fa1968173d15da1d6224d3f868fa80b6f70\"><code>80f12fa</code></a></td><td><code>Update metrics for matplotlib 3.3</code></td></tr></table>\n",
    "created_at": "2020-07-19T21:03:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477812",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fee97c72dadcc1381cd8bd151701d235a35cc5c8"><code>fee97c7</code></a></td><td><code>Replace deprecated basex and basey parameters</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d41b3401cfc10f8313c31f1baedde28e7a72ac7"><code>3d41b34</code></a></td><td><code>Update example</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80f12fa1968173d15da1d6224d3f868fa80b6f70"><code>80f12fa</code></a></td><td><code>Update metrics for matplotlib 3.3</code></td></tr></table>




---

archive/issue_comments_477813.json:
```json
{
    "body": "Changed commit from **[`cdf20ea`](https://github.com/sagemath/sagetrac-mirror/commit/cdf20ea78ad840e812ae72ebb0d2e61ad229a797)** to **[`80f12fa`](https://github.com/sagemath/sagetrac-mirror/commit/80f12fa1968173d15da1d6224d3f868fa80b6f70)**",
    "created_at": "2020-07-19T21:03:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477813",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cdf20ea`](https://github.com/sagemath/sagetrac-mirror/commit/cdf20ea78ad840e812ae72ebb0d2e61ad229a797)** to **[`80f12fa`](https://github.com/sagemath/sagetrac-mirror/commit/80f12fa1968173d15da1d6224d3f868fa80b6f70)**



---

archive/issue_events_412470.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-07-19T21:10:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412470"
}
```



---

archive/issue_comments_477814.json:
```json
{
    "body": "Author: **Antonio Rojas**",
    "created_at": "2020-07-19T21:10:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477814",
    "user": "https://github.com/antonio-rojas"
}
```

Author: **Antonio Rojas**



---

archive/issue_comments_477815.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+Brings lots of deprecation warnings on every plot() call, due to OldScalarFormatter deprecation.\n \n+Depends on pillow for all image formats now.\n``````\n",
    "created_at": "2020-07-19T21:10:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477815",
    "user": "https://github.com/antonio-rojas"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+Brings lots of deprecation warnings on every plot() call, due to OldScalarFormatter deprecation.
 
+Depends on pillow for all image formats now.
``````




---

archive/issue_events_412471.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-07-19T21:10:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412471"
}
```



---

archive/issue_comments_477816.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nStill 3 test failures, all looking like\n\n```\nFile \"/usr/lib/python3.8/site-packages/sage/geometry/polyhedron/plot.py\", line 1030, in sage.geometry.polyhedron.plot.Projection.render_2d\nFailed example:\n    q1.plot() + q2.plot() + q3.plot() + q4.plot()\nExpected:\n    Graphics object consisting of 17 graphics primitives\nGot:\n    doctest:warning\n      File \"/usr/bin/sage-runtests\", line 177, in <module>\n        err = DC.run()\n      File \"/usr/lib/python3.8/site-packages/sage/doctest/control.py\", line 1196, in run\n        self.run_doctests()\n      File \"/usr/lib/python3.8/site-packages/sage/doctest/control.py\", line 897, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/usr/lib/python3.8/site-packages/sage/doctest/forker.py\", line 2038, in dispatch\n        self.parallel_dispatch()\n      File \"/usr/lib/python3.8/site-packages/sage/doctest/forker.py\", line 1933, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/usr/lib/python3.8/site-packages/sage/doctest/forker.py\", line 2205, in start\n        super(DocTestWorker, self).start()\n      File \"/usr/lib/python3.8/multiprocessing/process.py\", line 121, in start\n        self._popen = self._Popen(self)\n      File \"/usr/lib/python3.8/multiprocessing/context.py\", line 224, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/usr/lib/python3.8/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/usr/lib/python3.8/multiprocessing/popen_fork.py\", line 19, in __init__\n        self._launch(process_obj)\n      File \"/usr/lib/python3.8/multiprocessing/popen_fork.py\", line 75, in _launch\n        code = process_obj._bootstrap(parent_sentinel=child_r)\n      File \"/usr/lib/python3.8/multiprocessing/process.py\", line 315, in _bootstrap\n        self.run()\n      File \"/usr/lib/python3.8/site-packages/sage/doctest/forker.py\", line 2177, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/usr/lib/python3.8/site-packages/sage/doctest/forker.py\", line 2506, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/usr/lib/python3.8/site-packages/sage/doctest/forker.py\", line 2552, in _run\n        result = runner.run(test)\n      File \"/usr/lib/python3.8/site-packages/sage/doctest/forker.py\", line 905, in run\n        return self._run(test, compileflags, out)\n      File \"/usr/lib/python3.8/site-packages/sage/doctest/forker.py\", line 707, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/lib/python3.8/site-packages/sage/doctest/forker.py\", line 1131, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.plot.Projection.render_2d[8]>\", line 1, in <module>\n        q1.plot() + q2.plot() + q3.plot() + q4.plot()\n      File \"/usr/lib/python3.8/site-packages/sage/repl/rich_output/display_manager.py\", line 811, in displayhook\n        plain_text, rich_output = self._rich_output_formatter(obj, dict())\n      File \"/usr/lib/python3.8/site-packages/sage/repl/rich_output/display_manager.py\", line 625, in _rich_output_formatter\n        rich_output = self._call_rich_repr(obj, rich_repr_kwds)\n      File \"/usr/lib/python3.8/site-packages/sage/repl/rich_output/display_manager.py\", line 590, in _call_rich_repr\n        warnings.warn(\n      File \"/usr/lib/python3.8/warnings.py\", line 109, in _showwarnmsg\n        sw(msg.message, msg.category, msg.filename, msg.lineno,\n    :\n    sage.repl.rich_output.display_manager.RichReprWarning: Exception in _rich_repr_ while displaying object: The first element of 'code' must be equal to 'MOVETO' (1).  Your first code is 79\n    Graphics object consisting of 17 graphics primitives\n**********************************************************************\n```",
    "created_at": "2020-07-19T21:13:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477816",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:5" align="right">comment:5</div>

Still 3 test failures, all looking like

```
File "/usr/lib/python3.8/site-packages/sage/geometry/polyhedron/plot.py", line 1030, in sage.geometry.polyhedron.plot.Projection.render_2d
Failed example:
    q1.plot() + q2.plot() + q3.plot() + q4.plot()
Expected:
    Graphics object consisting of 17 graphics primitives
Got:
    doctest:warning
      File "/usr/bin/sage-runtests", line 177, in <module>
        err = DC.run()
      File "/usr/lib/python3.8/site-packages/sage/doctest/control.py", line 1196, in run
        self.run_doctests()
      File "/usr/lib/python3.8/site-packages/sage/doctest/control.py", line 897, in run_doctests
        self.dispatcher.dispatch()
      File "/usr/lib/python3.8/site-packages/sage/doctest/forker.py", line 2038, in dispatch
        self.parallel_dispatch()
      File "/usr/lib/python3.8/site-packages/sage/doctest/forker.py", line 1933, in parallel_dispatch
        w.start()  # This might take some time
      File "/usr/lib/python3.8/site-packages/sage/doctest/forker.py", line 2205, in start
        super(DocTestWorker, self).start()
      File "/usr/lib/python3.8/multiprocessing/process.py", line 121, in start
        self._popen = self._Popen(self)
      File "/usr/lib/python3.8/multiprocessing/context.py", line 224, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/usr/lib/python3.8/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/usr/lib/python3.8/multiprocessing/popen_fork.py", line 19, in __init__
        self._launch(process_obj)
      File "/usr/lib/python3.8/multiprocessing/popen_fork.py", line 75, in _launch
        code = process_obj._bootstrap(parent_sentinel=child_r)
      File "/usr/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
        self.run()
      File "/usr/lib/python3.8/site-packages/sage/doctest/forker.py", line 2177, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/usr/lib/python3.8/site-packages/sage/doctest/forker.py", line 2506, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/usr/lib/python3.8/site-packages/sage/doctest/forker.py", line 2552, in _run
        result = runner.run(test)
      File "/usr/lib/python3.8/site-packages/sage/doctest/forker.py", line 905, in run
        return self._run(test, compileflags, out)
      File "/usr/lib/python3.8/site-packages/sage/doctest/forker.py", line 707, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/lib/python3.8/site-packages/sage/doctest/forker.py", line 1131, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.plot.Projection.render_2d[8]>", line 1, in <module>
        q1.plot() + q2.plot() + q3.plot() + q4.plot()
      File "/usr/lib/python3.8/site-packages/sage/repl/rich_output/display_manager.py", line 811, in displayhook
        plain_text, rich_output = self._rich_output_formatter(obj, dict())
      File "/usr/lib/python3.8/site-packages/sage/repl/rich_output/display_manager.py", line 625, in _rich_output_formatter
        rich_output = self._call_rich_repr(obj, rich_repr_kwds)
      File "/usr/lib/python3.8/site-packages/sage/repl/rich_output/display_manager.py", line 590, in _call_rich_repr
        warnings.warn(
      File "/usr/lib/python3.8/warnings.py", line 109, in _showwarnmsg
        sw(msg.message, msg.category, msg.filename, msg.lineno,
    :
    sage.repl.rich_output.display_manager.RichReprWarning: Exception in _rich_repr_ while displaying object: The first element of 'code' must be equal to 'MOVETO' (1).  Your first code is 79
    Graphics object consisting of 17 graphics primitives
**********************************************************************
```



---

archive/issue_comments_477817.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2020-07-20T13:09:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477817",
    "user": "https://github.com/antonio-rojas"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_477818.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReported upstream: https://github.com/matplotlib/matplotlib/issues/17975",
    "created_at": "2020-07-20T13:09:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477818",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:6" align="right">comment:6</div>

Reported upstream: https://github.com/matplotlib/matplotlib/issues/17975



---

archive/issue_comments_477819.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nUpstream seems to have addressed it in https://github.com/matplotlib/matplotlib/pull/17982",
    "created_at": "2020-07-22T04:28:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477819",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

Upstream seems to have addressed it in https://github.com/matplotlib/matplotlib/pull/17982



---

archive/issue_comments_477820.json:
```json
{
    "body": "Changed commit from **[`80f12fa`](https://github.com/sagemath/sagetrac-mirror/commit/80f12fa1968173d15da1d6224d3f868fa80b6f70)** to **[`dbdecd9`](https://github.com/sagemath/sagetrac-mirror/commit/dbdecd971e452c5c7f4d77b8a51ea613a98743fc)**",
    "created_at": "2020-07-22T06:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477820",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`80f12fa`](https://github.com/sagemath/sagetrac-mirror/commit/80f12fa1968173d15da1d6224d3f868fa80b6f70)** to **[`dbdecd9`](https://github.com/sagemath/sagetrac-mirror/commit/dbdecd971e452c5c7f4d77b8a51ea613a98743fc)**



---

archive/issue_comments_477821.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbdecd971e452c5c7f4d77b8a51ea613a98743fc\"><code>dbdecd9</code></a></td><td><code>Backport patch to fix the path of degenerate polygons</code></td></tr></table>\n",
    "created_at": "2020-07-22T06:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477821",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbdecd971e452c5c7f4d77b8a51ea613a98743fc"><code>dbdecd9</code></a></td><td><code>Backport patch to fix the path of degenerate polygons</code></td></tr></table>




---

archive/issue_comments_477822.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd2a9b8ce1bf5198e70592621754426500149a8b\"><code>fd2a9b8</code></a></td><td><code>Bump version to account for the added patch</code></td></tr></table>\n",
    "created_at": "2020-07-22T06:55:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477822",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd2a9b8ce1bf5198e70592621754426500149a8b"><code>fd2a9b8</code></a></td><td><code>Bump version to account for the added patch</code></td></tr></table>




---

archive/issue_comments_477823.json:
```json
{
    "body": "Changed commit from **[`dbdecd9`](https://github.com/sagemath/sagetrac-mirror/commit/dbdecd971e452c5c7f4d77b8a51ea613a98743fc)** to **[`fd2a9b8`](https://github.com/sagemath/sagetrac-mirror/commit/fd2a9b8ce1bf5198e70592621754426500149a8b)**",
    "created_at": "2020-07-22T06:55:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477823",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dbdecd9`](https://github.com/sagemath/sagetrac-mirror/commit/dbdecd971e452c5c7f4d77b8a51ea613a98743fc)** to **[`fd2a9b8`](https://github.com/sagemath/sagetrac-mirror/commit/fd2a9b8ce1bf5198e70592621754426500149a8b)**



---

archive/issue_events_412472.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-07-22T06:56:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412472"
}
```



---

archive/issue_comments_477824.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nNo more test failures on Arch -> needs review",
    "created_at": "2020-07-22T06:56:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477824",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:10" align="right">comment:10</div>

No more test failures on Arch -> needs review



---

archive/issue_comments_477825.json:
```json
{
    "body": "Changed upstream from **Reported upstream. No feedback yet.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2020-07-22T06:56:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477825",
    "user": "https://github.com/antonio-rojas"
}
```

Changed upstream from **Reported upstream. No feedback yet.** to **Fixed upstream, but not in a stable release.**



---

archive/issue_comments_477826.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nTests run at https://github.com/mkoeppe/sage/actions/runs/178114621",
    "created_at": "2020-07-22T07:06:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477826",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

Tests run at https://github.com/mkoeppe/sage/actions/runs/178114621



---

archive/issue_comments_477827.json:
```json
{
    "body": "Changed commit from **[`fd2a9b8`](https://github.com/sagemath/sagetrac-mirror/commit/fd2a9b8ce1bf5198e70592621754426500149a8b)** to **[`ad67266`](https://github.com/sagemath/sagetrac-mirror/commit/ad67266c7e84156d8a0ab9f9beb14fada29a3553)**",
    "created_at": "2020-07-22T11:13:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477827",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fd2a9b8`](https://github.com/sagemath/sagetrac-mirror/commit/fd2a9b8ce1bf5198e70592621754426500149a8b)** to **[`ad67266`](https://github.com/sagemath/sagetrac-mirror/commit/ad67266c7e84156d8a0ab9f9beb14fada29a3553)**



---

archive/issue_comments_477828.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad67266c7e84156d8a0ab9f9beb14fada29a3553\"><code>ad67266</code></a></td><td><code>Remove merged patch</code></td></tr></table>\n",
    "created_at": "2020-07-22T11:13:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477828",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad67266c7e84156d8a0ab9f9beb14fada29a3553"><code>ad67266</code></a></td><td><code>Remove merged patch</code></td></tr></table>




---

archive/issue_comments_477829.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nTests run at https://github.com/mkoeppe/sage/actions/runs/179391787",
    "created_at": "2020-07-23T05:04:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477829",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

Tests run at https://github.com/mkoeppe/sage/actions/runs/179391787



---

archive/issue_comments_477830.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nFails on all platforms. For example https://github.com/mkoeppe/sage/runs/901333269\n\n```\n    error: Failed to download FreeType. Please download one of ['https://downloads.sourceforge.net/project/freetype/freetype2/2.6.1/freetype-2.6.1.tar.gz', 'https://download.savannah.gnu.org/releases/freetype/freetype-2.6.1.tar.gz'] and extract it into build/freetype-2.6.1 at the top-level of the source repository.\n    Running setup.py install for matplotlib: finished with status 'error'\nERROR: Command errored out with exit status 1: /sage/local/bin/python3 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-req-build-_2y953_j/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-req-build-_2y953_j/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' --no-user-cfg install --record /tmp/pip-record-v8gxera1/install-record.txt --single-version-externally-managed --root /sage/local/var/tmp/sage/build/matplotlib-3.3.0.p0/inst --compile --install-headers /sage/local/var/tmp/sage/build/matplotlib-3.3.0.p0/inst/sage/local/include/python3.7m/matplotlib Check the logs for full command output.\nException information:\nTraceback (most recent call last):\n  File \"/sage/local/lib/python3.7/site-packages/pip/_internal/req/req_install.py\", line 841, in install\n    req_description=str(self.req),\n  File \"/sage/local/lib/python3.7/site-packages/pip/_internal/operations/install/legacy.py\", line 86, in install\n    raise LegacyInstallFailure\n```",
    "created_at": "2020-07-24T04:58:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477830",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Fails on all platforms. For example https://github.com/mkoeppe/sage/runs/901333269

```
    error: Failed to download FreeType. Please download one of ['https://downloads.sourceforge.net/project/freetype/freetype2/2.6.1/freetype-2.6.1.tar.gz', 'https://download.savannah.gnu.org/releases/freetype/freetype-2.6.1.tar.gz'] and extract it into build/freetype-2.6.1 at the top-level of the source repository.
    Running setup.py install for matplotlib: finished with status 'error'
ERROR: Command errored out with exit status 1: /sage/local/bin/python3 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '"'"'/tmp/pip-req-build-_2y953_j/setup.py'"'"'; __file__='"'"'/tmp/pip-req-build-_2y953_j/setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(__file__);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, __file__, '"'"'exec'"'"'))' --no-user-cfg install --record /tmp/pip-record-v8gxera1/install-record.txt --single-version-externally-managed --root /sage/local/var/tmp/sage/build/matplotlib-3.3.0.p0/inst --compile --install-headers /sage/local/var/tmp/sage/build/matplotlib-3.3.0.p0/inst/sage/local/include/python3.7m/matplotlib Check the logs for full command output.
Exception information:
Traceback (most recent call last):
  File "/sage/local/lib/python3.7/site-packages/pip/_internal/req/req_install.py", line 841, in install
    req_description=str(self.req),
  File "/sage/local/lib/python3.7/site-packages/pip/_internal/operations/install/legacy.py", line 86, in install
    raise LegacyInstallFailure
```



---

archive/issue_events_412473.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-24T04:58:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412473"
}
```



---

archive/issue_events_412474.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-24T04:58:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412474"
}
```



---

archive/issue_comments_477831.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nhttps://github.com/matplotlib/matplotlib/blob/v3.3.x/INSTALL.rst:\n\"By default ... Matplotlib downloads and builds its own copy of FreeType ... and uses its own copy of Qhull.\nTo force Matplotlib to use a copy of FreeType or Qhull already installed in your system, create a `setup.cfg` file ....\"",
    "created_at": "2020-07-24T05:04:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477831",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

https://github.com/matplotlib/matplotlib/blob/v3.3.x/INSTALL.rst:
"By default ... Matplotlib downloads and builds its own copy of FreeType ... and uses its own copy of Qhull.
To force Matplotlib to use a copy of FreeType or Qhull already installed in your system, create a `setup.cfg` file ...."



---

archive/issue_comments_477832.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nshould we make qhull standard and build matplotlib against it?",
    "created_at": "2020-07-24T07:10:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477832",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:17" align="right">comment:17</div>

should we make qhull standard and build matplotlib against it?



---

archive/issue_comments_477833.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@antonio-rojas](#comment%3A17):\n> should we make qhull standard and build matplotlib against it?\n\n+1",
    "created_at": "2020-07-24T15:51:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477833",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@antonio-rojas](#comment%3A17):
> should we make qhull standard and build matplotlib against it?

+1



---

archive/issue_comments_477834.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nOf course, dealing with qhull is not very important and could be done on a follow up ticket. But the FreeType dependency needs to be fixed for this upgrade.",
    "created_at": "2020-07-24T16:52:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477834",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">comment:19</div>

Of course, dealing with qhull is not very important and could be done on a follow up ticket. But the FreeType dependency needs to be fixed for this upgrade.



---

archive/issue_comments_477835.json:
```json
{
    "body": "Changed commit from **[`ad67266`](https://github.com/sagemath/sagetrac-mirror/commit/ad67266c7e84156d8a0ab9f9beb14fada29a3553)** to **[`8e489da`](https://github.com/sagemath/sagetrac-mirror/commit/8e489da53591788d8f45c580b5057d022dcc8dd3)**",
    "created_at": "2020-07-24T20:39:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477835",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ad67266`](https://github.com/sagemath/sagetrac-mirror/commit/ad67266c7e84156d8a0ab9f9beb14fada29a3553)** to **[`8e489da`](https://github.com/sagemath/sagetrac-mirror/commit/8e489da53591788d8f45c580b5057d022dcc8dd3)**



---

archive/issue_comments_477836.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e489da53591788d8f45c580b5057d022dcc8dd3\"><code>8e489da</code></a></td><td><code>Build with system freetype, use ConfigParser instead of deprecated SafeConfigParser</code></td></tr></table>\n",
    "created_at": "2020-07-24T20:39:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477836",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e489da53591788d8f45c580b5057d022dcc8dd3"><code>8e489da</code></a></td><td><code>Build with system freetype, use ConfigParser instead of deprecated SafeConfigParser</code></td></tr></table>




---

archive/issue_comments_477837.json:
```json
{
    "body": "Changed commit from **[`8e489da`](https://github.com/sagemath/sagetrac-mirror/commit/8e489da53591788d8f45c580b5057d022dcc8dd3)** to **[`79249f7`](https://github.com/sagemath/sagetrac-mirror/commit/79249f7592d18afd0d7685298d598406b4e11bda)**",
    "created_at": "2020-07-24T20:45:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477837",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8e489da`](https://github.com/sagemath/sagetrac-mirror/commit/8e489da53591788d8f45c580b5057d022dcc8dd3)** to **[`79249f7`](https://github.com/sagemath/sagetrac-mirror/commit/79249f7592d18afd0d7685298d598406b4e11bda)**



---

archive/issue_comments_477838.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79249f7592d18afd0d7685298d598406b4e11bda\"><code>79249f7</code></a></td><td><code>Update metrics with system freetype</code></td></tr></table>\n",
    "created_at": "2020-07-24T20:45:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477838",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79249f7592d18afd0d7685298d598406b4e11bda"><code>79249f7</code></a></td><td><code>Update metrics with system freetype</code></td></tr></table>




---

archive/issue_comments_477839.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@mkoeppe](#comment%3A19):\n> Of course, dealing with qhull is not very important and could be done on a follow up ticket. But the FreeType dependency needs to be fixed for this upgrade.\n\nIt would also need cmake to become standard",
    "created_at": "2020-07-24T20:45:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477839",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@mkoeppe](#comment%3A19):
> Of course, dealing with qhull is not very important and could be done on a follow up ticket. But the FreeType dependency needs to be fixed for this upgrade.

It would also need cmake to become standard



---

archive/issue_events_412475.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-07-24T20:45:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412475"
}
```



---

archive/issue_events_412476.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-07-24T20:45:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412476"
}
```



---

archive/issue_comments_477840.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@antonio-rojas](#comment%3A17):\n> should we make qhull standard and build matplotlib against it?\n\nWhy not just keep using matplotlib's version of qhull? Or conditionally do this if qhull is not available on the system?",
    "created_at": "2020-07-24T20:50:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477840",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@antonio-rojas](#comment%3A17):
> should we make qhull standard and build matplotlib against it?

Why not just keep using matplotlib's version of qhull? Or conditionally do this if qhull is not available on the system?



---

archive/issue_comments_477841.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nTests run at https://github.com/mkoeppe/sage/actions/runs/181664763",
    "created_at": "2020-07-24T20:52:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477841",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

Tests run at https://github.com/mkoeppe/sage/actions/runs/181664763



---

archive/issue_comments_477842.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@antonio-rojas](#comment%3A22):\n> Replying to [@mkoeppe](#comment%3A19):\n> > Of course, dealing with qhull is not very important and could be done on a follow up ticket. But the FreeType dependency needs to be fixed for this upgrade.\n\n> \n> It would also need cmake to become standard\n\nIs matplotlib using cmake now?",
    "created_at": "2020-07-24T20:55:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477842",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@antonio-rojas](#comment%3A22):
> Replying to [@mkoeppe](#comment%3A19):
> > Of course, dealing with qhull is not very important and could be done on a follow up ticket. But the FreeType dependency needs to be fixed for this upgrade.

> 
> It would also need cmake to become standard

Is matplotlib using cmake now?



---

archive/issue_comments_477843.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@mkoeppe](#comment%3A26):\n> Replying to [@antonio-rojas](#comment%3A22):\n> > Replying to [@mkoeppe](#comment%3A19):\n> > > Of course, dealing with qhull is not very important and could be done on a follow up ticket. But the FreeType dependency needs to be fixed for this upgrade.\n\n> > \n> > It would also need cmake to become standard\n\n> \n> Is matplotlib using cmake now?\n\nNo, qhull uses it, or at least our spkg does.",
    "created_at": "2020-07-24T20:56:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477843",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@mkoeppe](#comment%3A26):
> Replying to [@antonio-rojas](#comment%3A22):
> > Replying to [@mkoeppe](#comment%3A19):
> > > Of course, dealing with qhull is not very important and could be done on a follow up ticket. But the FreeType dependency needs to be fixed for this upgrade.

> > 
> > It would also need cmake to become standard

> 
> Is matplotlib using cmake now?

No, qhull uses it, or at least our spkg does.



---

archive/issue_comments_477844.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@mkoeppe](#comment%3A26):\n> Replying to [@antonio-rojas](#comment%3A22):\n> > Replying to [@mkoeppe](#comment%3A19):\n> > > Of course, dealing with qhull is not very important and could be done on a follow up ticket. But the FreeType dependency needs to be fixed for this upgrade.\n\n> > \n> > It would also need cmake to become standard\n\n> \n> Is matplotlib using cmake now?\n\nqhull is.",
    "created_at": "2020-07-24T20:56:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477844",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@mkoeppe](#comment%3A26):
> Replying to [@antonio-rojas](#comment%3A22):
> > Replying to [@mkoeppe](#comment%3A19):
> > > Of course, dealing with qhull is not very important and could be done on a follow up ticket. But the FreeType dependency needs to be fixed for this upgrade.

> > 
> > It would also need cmake to become standard

> 
> Is matplotlib using cmake now?

qhull is.



---

archive/issue_comments_477845.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@jhpalmieri](#comment%3A24):\n> Replying to [@antonio-rojas](#comment%3A17):\n> > should we make qhull standard and build matplotlib against it?\n\n> \n> Why not just keep using matplotlib's version of qhull? Or conditionally do this if qhull is not available on the system?\n> \n\nUnbundling is considered a good thing in general. About `qhull`, being able to use an external version of it in matplotlib has flip-floped. It wasn't possible in some previous releases. Matplotlib is the only package currently using qhull so I am not considering it a priority. If there were more of them, that would be more of a motivation.",
    "created_at": "2020-07-24T21:00:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477845",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@jhpalmieri](#comment%3A24):
> Replying to [@antonio-rojas](#comment%3A17):
> > should we make qhull standard and build matplotlib against it?

> 
> Why not just keep using matplotlib's version of qhull? Or conditionally do this if qhull is not available on the system?
> 

Unbundling is considered a good thing in general. About `qhull`, being able to use an external version of it in matplotlib has flip-floped. It wasn't possible in some previous releases. Matplotlib is the only package currently using qhull so I am not considering it a priority. If there were more of them, that would be more of a motivation.



---

archive/issue_comments_477846.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nAlthough the [most recent qhull](http://www.qhull.org/download/qhull-2020-src-8.0.0.tgz) may not require `cmake`. It comes with a `Makefile`, but I am not necessarily the best person to evaluate whether it can be used in place of building with `cmake`.",
    "created_at": "2020-07-24T21:02:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477846",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:30" align="right">comment:30</div>

Although the [most recent qhull](http://www.qhull.org/download/qhull-2020-src-8.0.0.tgz) may not require `cmake`. It comes with a `Makefile`, but I am not necessarily the best person to evaluate whether it can be used in place of building with `cmake`.



---

archive/issue_comments_477847.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe**",
    "created_at": "2020-07-25T18:26:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477847",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe**



---

archive/issue_comments_477848.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@mkoeppe](#comment%3A25):\n> Tests run at https://github.com/mkoeppe/sage/actions/runs/181664763\n\nThis looks clean on all platforms.\n\nI think it would be better if the changed multigraphics doctest was adjusted to be more tolerant instead of just updating the result.\n\nNevertheless, a positive review from my side.",
    "created_at": "2020-07-25T18:26:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477848",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@mkoeppe](#comment%3A25):
> Tests run at https://github.com/mkoeppe/sage/actions/runs/181664763

This looks clean on all platforms.

I think it would be better if the changed multigraphics doctest was adjusted to be more tolerant instead of just updating the result.

Nevertheless, a positive review from my side.



---

archive/issue_events_412477.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-25T18:26:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412477"
}
```



---

archive/issue_events_412478.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-25T18:26:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412478"
}
```



---

archive/issue_comments_477849.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nThere is numerical noise on various buildbots, e.g.\n\n```\n**********************************************************************\nFile \"src/sage/plot/multigraphics.py\", line 1297, in sage.plot.multigraphics.GraphicsArray.position\nFailed example:\n    G.position(0)  # tol 1.0e-13\nExpected:\n    (0.025045451349937315,\n     0.03415488992713045,\n     0.4489880779745068,\n     0.9345951100728696)\nGot:\n    (0.02494779509993732,\n     0.03415488992713045,\n     0.44913456234950677,\n     0.9345951100728696)\nTolerance exceeded in 2 of 4:\n    0.025045451349937315 vs 0.02494779509993732, tolerance 4e-3 > 1e-13\n    0.4489880779745068 vs 0.44913456234950677, tolerance 4e-4 > 1e-13\n**********************************************************************\nFile \"src/sage/plot/multigraphics.py\", line 1302, in sage.plot.multigraphics.GraphicsArray.position\nFailed example:\n    G.position(1)  # tol 1.0e-13\nExpected:\n    (0.5170637412999687,\n     0.20212705964722733,\n     0.4489880779745068,\n     0.5986507706326758)\nGot:\n    (0.5170149131749686,\n     0.20202940339722741,\n     0.44913456234950666,\n     0.5988460831326756)\nTolerance exceeded in 4 of 4:\n    0.5170637412999687 vs 0.5170149131749686, tolerance 1e-4 > 1e-13\n    0.20212705964722733 vs 0.20202940339722741, tolerance 5e-4 > 1e-13\n    0.4489880779745068 vs 0.44913456234950666, tolerance 4e-4 > 1e-13\n    0.5986507706326758 vs 0.5988460831326756, tolerance 4e-4 > 1e-13\n**********************************************************************\n1 item had failures:\n   2 of   6 in sage.plot.multigraphics.GraphicsArray.position\n    [192 tests, 2 failures, 20.75 s]\n----------------------------------------------------------------------\nsage -t --long --random-seed=0 src/sage/plot/multigraphics.py  # 2 doctests failed\n----------------------------------------------------------------------\n```",
    "created_at": "2020-07-27T20:37:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477849",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:32" align="right">comment:32</div>

There is numerical noise on various buildbots, e.g.

```
**********************************************************************
File "src/sage/plot/multigraphics.py", line 1297, in sage.plot.multigraphics.GraphicsArray.position
Failed example:
    G.position(0)  # tol 1.0e-13
Expected:
    (0.025045451349937315,
     0.03415488992713045,
     0.4489880779745068,
     0.9345951100728696)
Got:
    (0.02494779509993732,
     0.03415488992713045,
     0.44913456234950677,
     0.9345951100728696)
Tolerance exceeded in 2 of 4:
    0.025045451349937315 vs 0.02494779509993732, tolerance 4e-3 > 1e-13
    0.4489880779745068 vs 0.44913456234950677, tolerance 4e-4 > 1e-13
**********************************************************************
File "src/sage/plot/multigraphics.py", line 1302, in sage.plot.multigraphics.GraphicsArray.position
Failed example:
    G.position(1)  # tol 1.0e-13
Expected:
    (0.5170637412999687,
     0.20212705964722733,
     0.4489880779745068,
     0.5986507706326758)
Got:
    (0.5170149131749686,
     0.20202940339722741,
     0.44913456234950666,
     0.5988460831326756)
Tolerance exceeded in 4 of 4:
    0.5170637412999687 vs 0.5170149131749686, tolerance 1e-4 > 1e-13
    0.20212705964722733 vs 0.20202940339722741, tolerance 5e-4 > 1e-13
    0.4489880779745068 vs 0.44913456234950666, tolerance 4e-4 > 1e-13
    0.5986507706326758 vs 0.5988460831326756, tolerance 4e-4 > 1e-13
**********************************************************************
1 item had failures:
   2 of   6 in sage.plot.multigraphics.GraphicsArray.position
    [192 tests, 2 failures, 20.75 s]
----------------------------------------------------------------------
sage -t --long --random-seed=0 src/sage/plot/multigraphics.py  # 2 doctests failed
----------------------------------------------------------------------
```



---

archive/issue_events_412479.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-27T20:37:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412479"
}
```



---

archive/issue_events_412480.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-27T20:37:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412480"
}
```



---

archive/issue_comments_477850.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\n\n```\n**********************************************************************\nFile \"src/sage/plot/multigraphics.py\", line 1297, in sage.plot.multigraphics.GraphicsArray.position\nFailed example:\n    G.position(0)  # tol 1.0e-13\nExpected:\n    (0.025045451349937315,\n     0.03415488992713045,\n     0.4489880779745068,\n     0.9345951100728696)\nGot:\n    (0.02494779509993732,\n     0.03415488992713045,\n     0.44913456234950677,\n     0.9345951100728696)\nTolerance exceeded in 2 of 4:\n    0.025045451349937315 vs 0.02494779509993732, tolerance 4e-3 > 1e-13\n    0.4489880779745068 vs 0.44913456234950677, tolerance 4e-4 > 1e-13\n**********************************************************************\nFile \"src/sage/plot/multigraphics.py\", line 1302, in sage.plot.multigraphics.GraphicsArray.position\nFailed example:\n    G.position(1)  # tol 1.0e-13\nExpected:\n    (0.5170637412999687,\n     0.20212705964722733,\n     0.4489880779745068,\n     0.5986507706326758)\nGot:\n    (0.5170149131749686,\n     0.20202940339722741,\n     0.44913456234950666,\n     0.5988460831326756)\nTolerance exceeded in 4 of 4:\n    0.5170637412999687 vs 0.5170149131749686, tolerance 1e-4 > 1e-13\n    0.20212705964722733 vs 0.20202940339722741, tolerance 5e-4 > 1e-13\n    0.4489880779745068 vs 0.44913456234950666, tolerance 4e-4 > 1e-13\n    0.5986507706326758 vs 0.5988460831326756, tolerance 4e-4 > 1e-13\n**********************************************************************\n1 item had failures:\n   2 of   6 in sage.plot.multigraphics.GraphicsArray.position\n    [192 tests, 2 failures, 27.84 s]\n----------------------------------------------------------------------\nsage -t --long --random-seed=0 src/sage/plot/multigraphics.py  # 2 doctests failed\n----------------------------------------------------------------------\n```",
    "created_at": "2020-07-27T20:37:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477850",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:33" align="right">comment:33</div>


```
**********************************************************************
File "src/sage/plot/multigraphics.py", line 1297, in sage.plot.multigraphics.GraphicsArray.position
Failed example:
    G.position(0)  # tol 1.0e-13
Expected:
    (0.025045451349937315,
     0.03415488992713045,
     0.4489880779745068,
     0.9345951100728696)
Got:
    (0.02494779509993732,
     0.03415488992713045,
     0.44913456234950677,
     0.9345951100728696)
Tolerance exceeded in 2 of 4:
    0.025045451349937315 vs 0.02494779509993732, tolerance 4e-3 > 1e-13
    0.4489880779745068 vs 0.44913456234950677, tolerance 4e-4 > 1e-13
**********************************************************************
File "src/sage/plot/multigraphics.py", line 1302, in sage.plot.multigraphics.GraphicsArray.position
Failed example:
    G.position(1)  # tol 1.0e-13
Expected:
    (0.5170637412999687,
     0.20212705964722733,
     0.4489880779745068,
     0.5986507706326758)
Got:
    (0.5170149131749686,
     0.20202940339722741,
     0.44913456234950666,
     0.5988460831326756)
Tolerance exceeded in 4 of 4:
    0.5170637412999687 vs 0.5170149131749686, tolerance 1e-4 > 1e-13
    0.20212705964722733 vs 0.20202940339722741, tolerance 5e-4 > 1e-13
    0.4489880779745068 vs 0.44913456234950666, tolerance 4e-4 > 1e-13
    0.5986507706326758 vs 0.5988460831326756, tolerance 4e-4 > 1e-13
**********************************************************************
1 item had failures:
   2 of   6 in sage.plot.multigraphics.GraphicsArray.position
    [192 tests, 2 failures, 27.84 s]
----------------------------------------------------------------------
sage -t --long --random-seed=0 src/sage/plot/multigraphics.py  # 2 doctests failed
----------------------------------------------------------------------
```



---

archive/issue_comments_477851.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20ecd183f2fb656fe97fd1d7b6ce9d3824081d74\"><code>20ecd18</code></a></td><td><code>Increase numerical noise tolerance</code></td></tr></table>\n",
    "created_at": "2020-08-01T08:24:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477851",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20ecd183f2fb656fe97fd1d7b6ce9d3824081d74"><code>20ecd18</code></a></td><td><code>Increase numerical noise tolerance</code></td></tr></table>




---

archive/issue_comments_477852.json:
```json
{
    "body": "Changed commit from **[`79249f7`](https://github.com/sagemath/sagetrac-mirror/commit/79249f7592d18afd0d7685298d598406b4e11bda)** to **[`20ecd18`](https://github.com/sagemath/sagetrac-mirror/commit/20ecd183f2fb656fe97fd1d7b6ce9d3824081d74)**",
    "created_at": "2020-08-01T08:24:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477852",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`79249f7`](https://github.com/sagemath/sagetrac-mirror/commit/79249f7592d18afd0d7685298d598406b4e11bda)** to **[`20ecd18`](https://github.com/sagemath/sagetrac-mirror/commit/20ecd183f2fb656fe97fd1d7b6ce9d3824081d74)**



---

archive/issue_events_412481.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-08-01T08:24:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412481"
}
```



---

archive/issue_events_412482.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-08-01T08:24:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412482"
}
```



---

archive/issue_comments_477853.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\n\n```\n**********************************************************************\nFile \"src/sage/plot/multigraphics.py\", line 1297, in sage.plot.multigraphics.GraphicsArray.position\nFailed example:\n    G.position(0)  # tol 1.0e-3\nExpected:\n    (0.025045451349937315,\n     0.03415488992713045,\n     0.4489880779745068,\n     0.9345951100728696)\nGot:\n    (0.02494779509993732,\n     0.03415488992713045,\n     0.44913456234950677,\n     0.9345951100728696)\nTolerance exceeded in 1 of 4:\n    0.025045451349937315 vs 0.02494779509993732, tolerance 4e-3 > 1e-3\n**********************************************************************\n1 item had failures:\n   1 of   6 in sage.plot.multigraphics.GraphicsArray.position\n    [192 tests, 1 failure, 33.68 s]\n----------------------------------------------------------------------\nsage -t --long --random-seed=0 src/sage/plot/multigraphics.py  # 1 doctest failed\n----------------------------------------------------------------------\n```",
    "created_at": "2020-08-06T21:45:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477853",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:37" align="right">comment:37</div>


```
**********************************************************************
File "src/sage/plot/multigraphics.py", line 1297, in sage.plot.multigraphics.GraphicsArray.position
Failed example:
    G.position(0)  # tol 1.0e-3
Expected:
    (0.025045451349937315,
     0.03415488992713045,
     0.4489880779745068,
     0.9345951100728696)
Got:
    (0.02494779509993732,
     0.03415488992713045,
     0.44913456234950677,
     0.9345951100728696)
Tolerance exceeded in 1 of 4:
    0.025045451349937315 vs 0.02494779509993732, tolerance 4e-3 > 1e-3
**********************************************************************
1 item had failures:
   1 of   6 in sage.plot.multigraphics.GraphicsArray.position
    [192 tests, 1 failure, 33.68 s]
----------------------------------------------------------------------
sage -t --long --random-seed=0 src/sage/plot/multigraphics.py  # 1 doctest failed
----------------------------------------------------------------------
```



---

archive/issue_events_412483.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-06T21:45:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412483"
}
```



---

archive/issue_events_412484.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-06T21:45:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412484"
}
```



---

archive/issue_comments_477854.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73af14a4f1f1453cab53d882f7cb2ac5d7d39d41\"><code>73af14a</code></a></td><td><code>Adjust numeric noise tolerance further</code></td></tr></table>\n",
    "created_at": "2020-08-07T09:15:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477854",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73af14a4f1f1453cab53d882f7cb2ac5d7d39d41"><code>73af14a</code></a></td><td><code>Adjust numeric noise tolerance further</code></td></tr></table>




---

archive/issue_comments_477855.json:
```json
{
    "body": "Changed commit from **[`20ecd18`](https://github.com/sagemath/sagetrac-mirror/commit/20ecd183f2fb656fe97fd1d7b6ce9d3824081d74)** to **[`73af14a`](https://github.com/sagemath/sagetrac-mirror/commit/73af14a4f1f1453cab53d882f7cb2ac5d7d39d41)**",
    "created_at": "2020-08-07T09:15:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477855",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`20ecd18`](https://github.com/sagemath/sagetrac-mirror/commit/20ecd183f2fb656fe97fd1d7b6ce9d3824081d74)** to **[`73af14a`](https://github.com/sagemath/sagetrac-mirror/commit/73af14a4f1f1453cab53d882f7cb2ac5d7d39d41)**



---

archive/issue_events_412485.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-08-07T09:16:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412485"
}
```



---

archive/issue_events_412486.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-08-07T09:16:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412486"
}
```



---

archive/issue_events_412487.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-09T08:47:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412487"
}
```



---

archive/issue_events_412488.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "dfdae6fa9355a9af38322e404a95cfe6cc001612",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-08-09T08:47:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30176#event-412488"
}
```



---

archive/issue_comments_477856.json:
```json
{
    "body": "Changed branch from **[u/arojas/update_matplotlib_to_3_3](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/update_matplotlib_to_3_3)** to **[`73af14a`](https://github.com/sagemath/sagetrac-mirror/commit/73af14a4f1f1453cab53d882f7cb2ac5d7d39d41)**",
    "created_at": "2020-08-09T08:47:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477856",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/arojas/update_matplotlib_to_3_3](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/update_matplotlib_to_3_3)** to **[`73af14a`](https://github.com/sagemath/sagetrac-mirror/commit/73af14a4f1f1453cab53d882f7cb2ac5d7d39d41)**



---

archive/issue_comments_477857.json:
```json
{
    "body": "Changed commit from **[`73af14a`](https://github.com/sagemath/sagetrac-mirror/commit/73af14a4f1f1453cab53d882f7cb2ac5d7d39d41)** to none",
    "created_at": "2020-12-15T14:03:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477857",
    "user": "https://github.com/kcrisman"
}
```

Changed commit from **[`73af14a`](https://github.com/sagemath/sagetrac-mirror/commit/73af14a4f1f1453cab53d882f7cb2ac5d7d39d41)** to none



---

archive/issue_comments_477858.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nHi!  Is it possible that this change is responsible for the difference between the following two images?\n\n* [This one](https://opentext.uleth.ca/apex-standard/images/img_sketch1c.svg)\n* [This one](https://16913697885453631822.googlegroups.com/attach/9538235d19b10/img_sketch1c.svg?part=0.1&view=1&vt=ANaJVrGjnIDaV7eWDiVRwnImxBhO2LClXYxNTLe-9OBHaeiSulY6a_0WItVZbBtUH76EEqwIZs-vqF9NnF32b0k-n7sqwgiDzZCMRpJakCI4j8a_n1BfLJU)\n\nNotice that not only is the image slightly narrower, but the labels now all have default of one place beyond the decimal point, which in the past was not desired for the evident reasons we see here.  That might be good for scientific plotting, but not for mathematical plotting.",
    "created_at": "2020-12-15T14:03:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477858",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:41" align="right">comment:41</div>

Hi!  Is it possible that this change is responsible for the difference between the following two images?

* [This one](https://opentext.uleth.ca/apex-standard/images/img_sketch1c.svg)
* [This one](https://16913697885453631822.googlegroups.com/attach/9538235d19b10/img_sketch1c.svg?part=0.1&view=1&vt=ANaJVrGjnIDaV7eWDiVRwnImxBhO2LClXYxNTLe-9OBHaeiSulY6a_0WItVZbBtUH76EEqwIZs-vqF9NnF32b0k-n7sqwgiDzZCMRpJakCI4j8a_n1BfLJU)

Notice that not only is the image slightly narrower, but the labels now all have default of one place beyond the decimal point, which in the past was not desired for the evident reasons we see here.  That might be good for scientific plotting, but not for mathematical plotting.



---

archive/issue_comments_477859.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\n(Note that [this explanation of the difference](https://matplotlib.org/2.0.0/examples/pylab_examples/newscalarformatter_demo.html) doesn't really seem to have any examples relevant to this situation.)",
    "created_at": "2020-12-15T14:08:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477859",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:42" align="right">comment:42</div>

(Note that [this explanation of the difference](https://matplotlib.org/2.0.0/examples/pylab_examples/newscalarformatter_demo.html) doesn't really seem to have any examples relevant to this situation.)



---

archive/issue_comments_477860.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nFollow-up on qhull in #31148",
    "created_at": "2021-01-02T20:14:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30176#issuecomment-477860",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:43" align="right">comment:43</div>

Follow-up on qhull in #31148
