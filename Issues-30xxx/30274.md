# Issue 30274: Immutability of Tensor Fields

archive/issues_030037.json:
```json
{
    "body": "See #30261.\n\nThe immutability behavior for tensor fields appears a little bit tricky.\n\nFollow up: #31255\n\nCC:  @egourgoulhon @tscrim @mkoeppe\n\nKeywords: immutability\n\nReviewer: Matthias Koeppe\n\nAuthor: Michael Jung\n\nBranch: 1b599b2871b327dfe64acb355d0fbae135f0ca97\n\nDependencies: #30181\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30274\n\n",
    "closed_at": "2020-08-09T08:47:19Z",
    "created_at": "2020-08-02T18:58:43Z",
    "labels": [
        "component: manifolds"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Immutability of Tensor Fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30274",
    "user": "https://github.com/mjungmath"
}
```
See #30261.

The immutability behavior for tensor fields appears a little bit tricky.

Follow up: #31255

CC:  @egourgoulhon @tscrim @mkoeppe

Keywords: immutability

Reviewer: Matthias Koeppe

Author: Michael Jung

Branch: 1b599b2871b327dfe64acb355d0fbae135f0ca97

Dependencies: #30181

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30274





---

archive/issue_comments_455240.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2020-08-03T10:37:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30274",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30274#issuecomment-455240",
    "user": "https://github.com/mjungmath"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_455241.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to manifolds.",
    "created_at": "2020-08-03T10:37:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30274",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30274#issuecomment-455241",
    "user": "https://github.com/mjungmath"
}
```

Changing component from PLEASE CHANGE to manifolds.



---

archive/issue_comments_455242.json:
```json
{
    "body": "Changing keywords from \"\" to \"immutability\".",
    "created_at": "2020-08-03T10:37:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30274",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30274#issuecomment-455242",
    "user": "https://github.com/mjungmath"
}
```

Changing keywords from "" to "immutability".



---

archive/issue_comments_455243.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+See #30261.\n \n+The immutability behavior for tensor fields appears a little bit tricky. I will upload a proposal soon.\n \n Type: PLEASE CHANGE\n \n``````\n",
    "created_at": "2020-08-03T10:37:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30274",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30274#issuecomment-455243",
    "user": "https://github.com/mjungmath"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
+See #30261.
 
+The immutability behavior for tensor fields appears a little bit tricky. I will upload a proposal soon.
 
 Type: PLEASE CHANGE
 
``````




---

archive/issue_comments_455244.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2020-08-03T10:42:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30274",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30274#issuecomment-455244",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_455245.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-08-03T10:42:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30274",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30274#issuecomment-455245",
    "user": "https://github.com/mjungmath"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_455246.json:
```json
{
    "body": "<a id='comment:5'></a>Let's wait for the patchbot.\n\nI had to make some modifications for automorphism fields. My doctests all passed.",
    "created_at": "2020-08-03T10:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30274",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30274#issuecomment-455246",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:5'></a>Let's wait for the patchbot.

I had to make some modifications for automorphism fields. My doctests all passed.



---

archive/issue_comments_455247.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+See #30261.\n \n+The immutability behavior for tensor fields appears a little bit tricky.\n \n Type: PLEASE CHANGE\n \n``````\n",
    "created_at": "2020-08-03T11:59:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30274",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30274#issuecomment-455247",
    "user": "https://github.com/mjungmath"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
+See #30261.
 
+The immutability behavior for tensor fields appears a little bit tricky.
 
 Type: PLEASE CHANGE
 
``````




---

archive/issue_comments_455248.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-04T07:57:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30274",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30274#issuecomment-455248",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_455249.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-04T14:54:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30274",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30274#issuecomment-455249",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_455250.json:
```json
{
    "body": "<a id='comment:9'></a>LGTM.",
    "created_at": "2020-08-04T14:54:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30274",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30274#issuecomment-455250",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>LGTM.



---

archive/issue_comments_455251.json:
```json
{
    "body": "<a id='comment:10'></a>A quick remark: You define a `copy` method here (and looking through `sage.manifolds` I see several `copy` methods). You may want to consider (on a separate ticket) to provide `__copy__` methods as well.",
    "created_at": "2020-08-04T14:56:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30274",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30274#issuecomment-455251",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>A quick remark: You define a `copy` method here (and looking through `sage.manifolds` I see several `copy` methods). You may want to consider (on a separate ticket) to provide `__copy__` methods as well.



---

archive/issue_comments_455252.json:
```json
{
    "body": "<a id='comment:11'></a>Thank you for the review.\n\nReplying to [comment:10 mkoeppe]:\n> A quick remark: You define a `copy` method here (and looking through `sage.manifolds` I see several `copy` methods). You may want to consider (on a separate ticket) to provide `__copy__` methods as well.\n\n\nWhat is the difference, or what is the advantage?",
    "created_at": "2020-08-04T15:02:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30274",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30274#issuecomment-455252",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:11'></a>Thank you for the review.

Replying to [comment:10 mkoeppe]:
> A quick remark: You define a `copy` method here (and looking through `sage.manifolds` I see several `copy` methods). You may want to consider (on a separate ticket) to provide `__copy__` methods as well.


What is the difference, or what is the advantage?



---

archive/issue_comments_455253.json:
```json
{
    "body": "<a id='comment:12'></a>see https://docs.python.org/3/library/copy.html",
    "created_at": "2020-08-04T15:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30274",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30274#issuecomment-455253",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>see https://docs.python.org/3/library/copy.html



---

archive/issue_comments_455254.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-08-09T08:47:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30274",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30274#issuecomment-455254",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_078320.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-09T08:47:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30274",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30274#event-78320"
}
```



---

archive/issue_comments_455255.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+See #30261.\n \n+The immutability behavior for tensor fields appears a little bit tricky.\n+\n+Follow up: #31255\n \n Type: PLEASE CHANGE\n \n``````\n",
    "created_at": "2021-01-17T12:59:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30274",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30274#issuecomment-455255",
    "user": "https://github.com/mjungmath"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
+See #30261.
 
+The immutability behavior for tensor fields appears a little bit tricky.
+
+Follow up: #31255
 
 Type: PLEASE CHANGE
 
``````

