# Issue 30767: Update Python to 3.10.x

archive/issues_030530.json:
```json
{
    "body": "Python 3.10 was released 2021-10-04, the current version is 3.10.2, released 2022-01-14.\n\nUpstream PR:\n- https://github.com/python/cpython/pull/30005\n\nTo test, use:\n\n```\n./configure --without-system-python3 --enable-download-from-upstream-url\n```\n\nNecessary changes to the library should go on #30766 (Support Python 3.10)\n\nRelated:\n\n- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)\n- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)\n- #30766: Support Python 3.10\n- #30589: Test ticket: Python 3.9.0\n- #30384: Adopt the \u201ctime window-based\u201d policy for support of Python versions from NEP 29\n\n\nCC:  @mkoeppe @slel @embray @dimpase @kiwifb @antonio-rojas @isuruf\n\nKeywords: upgrade, python\n\nBranch/Commit: 95e378446c7d4622e6c4ea86271335abea8c5aa2\n\nReviewer: Fran\u00e7ois Bissey\n\nAuthor: Matthias Koeppe\n\nDependencies: #33055\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30767\n\n",
    "closed_at": "2022-03-09T23:38:37Z",
    "created_at": "2020-10-13T21:43:21Z",
    "labels": [
        "component: packages: standard",
        "critical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Update Python to 3.10.x",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30767",
    "user": "https://github.com/slel"
}
```
Python 3.10 was released 2021-10-04, the current version is 3.10.2, released 2022-01-14.

Upstream PR:
- https://github.com/python/cpython/pull/30005

To test, use:

```
./configure --without-system-python3 --enable-download-from-upstream-url
```

Necessary changes to the library should go on #30766 (Support Python 3.10)

Related:

- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)
- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)
- #30766: Support Python 3.10
- #30589: Test ticket: Python 3.9.0
- #30384: Adopt the “time window-based” policy for support of Python versions from NEP 29


CC:  @mkoeppe @slel @embray @dimpase @kiwifb @antonio-rojas @isuruf

Keywords: upgrade, python

Branch/Commit: 95e378446c7d4622e6c4ea86271335abea8c5aa2

Reviewer: François Bissey

Author: Matthias Koeppe

Dependencies: #33055

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30767





---

archive/issue_comments_465094.json:
```json
{
    "body": "<a id='comment:1'></a>Python 3.10.0a1 was released on 2020-10-05.\n\n- https://www.python.org/downloads/release/python-3100a1/",
    "created_at": "2020-10-13T22:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465094",
    "user": "https://github.com/slel"
}
```

<a id='comment:1'></a>Python 3.10.0a1 was released on 2020-10-05.

- https://www.python.org/downloads/release/python-3100a1/



---

archive/issue_comments_465095.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to task.",
    "created_at": "2020-10-13T22:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465095",
    "user": "https://github.com/slel"
}
```

Changing type from PLEASE CHANGE to task.



---

archive/issue_events_080214.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-10-13T22:05:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30767#event-80214"
}
```



---

archive/issue_comments_465096.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,25 @@\n+This is to test building Sage using Python 3.10.\n+Python 3.10.0 expected release: 2021-10-04.\n+\n+This upgrades to a Python 3.10.0 development release for testing ticket #30766 (Support Python 3.10).\n+\n+It is not intended for merging -- we should stay on 3.8 and then 3.9 for a while.\n+\n+To test, use:\n+\n+\\`\\`\\`\n+./configure --without-system-python3 --enable-download-from-upstream-url\n+\\`\\`\\`\n+\n+Necessary changes to the library should go on #30766 (Support Python 3.10).\n+\n+Related:\n+\n+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)\n+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)\n+- #30766: Support Python 3.10\n+- #30589: Test ticket: Python 3.9.0\n+- #30384: Adopt the \u201ctime window-based\u201d policy for support of Python versions from NEP 29\n \n \n Comment: 1\n```\n",
    "created_at": "2020-10-13T22:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465096",
    "user": "https://github.com/slel"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,25 @@
+This is to test building Sage using Python 3.10.
+Python 3.10.0 expected release: 2021-10-04.
+
+This upgrades to a Python 3.10.0 development release for testing ticket #30766 (Support Python 3.10).
+
+It is not intended for merging -- we should stay on 3.8 and then 3.9 for a while.
+
+To test, use:
+
+\`\`\`
+./configure --without-system-python3 --enable-download-from-upstream-url
+\`\`\`
+
+Necessary changes to the library should go on #30766 (Support Python 3.10).
+
+Related:
+
+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)
+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)
+- #30766: Support Python 3.10
+- #30589: Test ticket: Python 3.9.0
+- #30384: Adopt the “time window-based” policy for support of Python versions from NEP 29
 
 
 Comment: 1
```




---

archive/issue_comments_465097.json:
```json
{
    "body": "Changing keywords from \"\" to \"upgrade, python\".",
    "created_at": "2020-10-13T22:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465097",
    "user": "https://github.com/slel"
}
```

Changing keywords from "" to "upgrade, python".



---

archive/issue_comments_465098.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to packages: standard.",
    "created_at": "2020-10-13T22:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465098",
    "user": "https://github.com/slel"
}
```

Changing component from PLEASE CHANGE to packages: standard.



---

archive/issue_comments_465099.json:
```json
{
    "body": "<a id='comment:3'></a>Python 3.10.0a7 was released on 2021-04-05.\n\n- [Python 3.10.0a7](https://www.python.org/downloads/release/python-3100a7/)\n- [announcement on python-announce](https://mail.python.org/archives/list/python-announce-list`@`python.org/thread/G2J3SBJ4EOW6MQZZJQNTXKHRWTAVBMKP/)\n\n> The next pre-release of Python 3.10 will be 3.10.0b1\n> (the first beta release and feature freeze),\n> currently scheduled for Monday, 2021-05-03.",
    "created_at": "2021-04-06T22:03:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465099",
    "user": "https://github.com/slel"
}
```

<a id='comment:3'></a>Python 3.10.0a7 was released on 2021-04-05.

- [Python 3.10.0a7](https://www.python.org/downloads/release/python-3100a7/)
- [announcement on python-announce](https://mail.python.org/archives/list/python-announce-list`@`python.org/thread/G2J3SBJ4EOW6MQZZJQNTXKHRWTAVBMKP/)

> The next pre-release of Python 3.10 will be 3.10.0b1
> (the first beta release and feature freeze),
> currently scheduled for Monday, 2021-05-03.



---

archive/issue_events_080215.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-12T01:14:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30767#event-80215"
}
```



---

archive/issue_events_080216.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-12T01:14:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30767#event-80216"
}
```



---

archive/issue_comments_465100.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,27 @@\n+This is to test building Sage using Python 3.10.\n+Python 3.10.0 expected release: 2021-10-04.\n+\n+3.10.0b1 released 2021-05-11.\n+\n+This upgrades to a Python 3.10.0 development release for testing ticket #30766 (Support Python 3.10).\n+\n+It is not intended for merging -- we should stay on 3.9.x for a while.\n+\n+To test, use:\n+\n+\\`\\`\\`\n+./configure --without-system-python3 --enable-download-from-upstream-url\n+\\`\\`\\`\n+\n+Necessary changes to the library should go on #30766 (Support Python 3.10).\n+\n+Related:\n+\n+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)\n+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)\n+- #30766: Support Python 3.10\n+- #30589: Test ticket: Python 3.9.0\n+- #30384: Adopt the \u201ctime window-based\u201d policy for support of Python versions from NEP 29\n \n \n Comment: 1\n```\n",
    "created_at": "2021-05-12T01:14:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465100",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,27 @@
+This is to test building Sage using Python 3.10.
+Python 3.10.0 expected release: 2021-10-04.
+
+3.10.0b1 released 2021-05-11.
+
+This upgrades to a Python 3.10.0 development release for testing ticket #30766 (Support Python 3.10).
+
+It is not intended for merging -- we should stay on 3.9.x for a while.
+
+To test, use:
+
+\`\`\`
+./configure --without-system-python3 --enable-download-from-upstream-url
+\`\`\`
+
+Necessary changes to the library should go on #30766 (Support Python 3.10).
+
+Related:
+
+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)
+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)
+- #30766: Support Python 3.10
+- #30589: Test ticket: Python 3.9.0
+- #30384: Adopt the “time window-based” policy for support of Python versions from NEP 29
 
 
 Comment: 1
```




---

archive/issue_comments_465101.json:
```json
{
    "body": "<a id='comment:7'></a>New commits:",
    "created_at": "2021-05-12T01:19:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465101",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>New commits:



---

archive/issue_comments_465102.json:
```json
{
    "body": "<a id='comment:8'></a>`cygwin-readline.patch` no longer applies",
    "created_at": "2021-05-12T01:21:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465102",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>`cygwin-readline.patch` no longer applies



---

archive/issue_comments_465103.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-24T23:27:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465103",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_465104.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-05-25T00:44:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465104",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_465105.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,29 @@\n+This is to test building Sage using Python 3.10.\n+Python 3.10.0 expected release: 2021-10-04.\n+\n+3.10.0b1 released 2021-05-11.\n+\n+3.10.0b4 released 2021-07-26.\n+\n+This upgrades to a Python 3.10.0 development release for testing ticket #30766 (Support Python 3.10).\n+\n+It is not intended for merging -- we should stay on 3.9.x for a while.\n+\n+To test, use:\n+\n+\\`\\`\\`\n+./configure --without-system-python3 --enable-download-from-upstream-url\n+\\`\\`\\`\n+\n+Necessary changes to the library should go on #30766 (Support Python 3.10).\n+\n+Related:\n+\n+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)\n+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)\n+- #30766: Support Python 3.10\n+- #30589: Test ticket: Python 3.9.0\n+- #30384: Adopt the \u201ctime window-based\u201d policy for support of Python versions from NEP 29\n \n \n Comment: 1\n```\n",
    "created_at": "2021-07-26T20:36:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465105",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,29 @@
+This is to test building Sage using Python 3.10.
+Python 3.10.0 expected release: 2021-10-04.
+
+3.10.0b1 released 2021-05-11.
+
+3.10.0b4 released 2021-07-26.
+
+This upgrades to a Python 3.10.0 development release for testing ticket #30766 (Support Python 3.10).
+
+It is not intended for merging -- we should stay on 3.9.x for a while.
+
+To test, use:
+
+\`\`\`
+./configure --without-system-python3 --enable-download-from-upstream-url
+\`\`\`
+
+Necessary changes to the library should go on #30766 (Support Python 3.10).
+
+Related:
+
+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)
+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)
+- #30766: Support Python 3.10
+- #30589: Test ticket: Python 3.9.0
+- #30384: Adopt the “time window-based” policy for support of Python versions from NEP 29
 
 
 Comment: 1
```




---

archive/issue_comments_465106.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-26T20:38:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465106",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_080217.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-09T21:07:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30767#event-80217"
}
```



---

archive/issue_events_080218.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-09T21:07:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30767#event-80218"
}
```



---

archive/issue_comments_465107.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,31 @@\n+This is to test building Sage using Python 3.10.\n+Python 3.10.0 expected release: 2021-10-04.\n+\n+3.10.0b1 released 2021-05-11.\n+\n+3.10.0b4 released 2021-07-26.\n+\n+3.10.0rc1 released 2021-08-11.\n+\n+This upgrades to a Python 3.10.0 development release for testing ticket #30766 (Support Python 3.10).\n+\n+It is not intended for merging -- we should stay on 3.9.x for a while.\n+\n+To test, use:\n+\n+\\`\\`\\`\n+./configure --without-system-python3 --enable-download-from-upstream-url\n+\\`\\`\\`\n+\n+Necessary changes to the library should go on #30766 (Support Python 3.10).\n+\n+Related:\n+\n+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)\n+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)\n+- #30766: Support Python 3.10\n+- #30589: Test ticket: Python 3.9.0\n+- #30384: Adopt the \u201ctime window-based\u201d policy for support of Python versions from NEP 29\n \n \n Comment: 1\n```\n",
    "created_at": "2021-08-12T02:46:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465107",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,31 @@
+This is to test building Sage using Python 3.10.
+Python 3.10.0 expected release: 2021-10-04.
+
+3.10.0b1 released 2021-05-11.
+
+3.10.0b4 released 2021-07-26.
+
+3.10.0rc1 released 2021-08-11.
+
+This upgrades to a Python 3.10.0 development release for testing ticket #30766 (Support Python 3.10).
+
+It is not intended for merging -- we should stay on 3.9.x for a while.
+
+To test, use:
+
+\`\`\`
+./configure --without-system-python3 --enable-download-from-upstream-url
+\`\`\`
+
+Necessary changes to the library should go on #30766 (Support Python 3.10).
+
+Related:
+
+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)
+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)
+- #30766: Support Python 3.10
+- #30589: Test ticket: Python 3.9.0
+- #30384: Adopt the “time window-based” policy for support of Python versions from NEP 29
 
 
 Comment: 1
```




---

archive/issue_comments_465108.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2021-09-16T00:06:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465108",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_465109.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-16T00:32:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465109",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_465110.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-09-16T02:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465110",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_465111.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-16T05:30:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465111",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_465112.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-16T15:18:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465112",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_465113.json:
```json
{
    "body": "<a id='comment:27'></a>Numerous build problems of the `python3` packages on the CI run, for example `ubuntu-focal-minimal` (https://github.com/mkoeppe/sage/runs/3616910861?check_suite_focus=true)\n\n```\n  [python3-3.10.0rc1] error installing, exit status 1. End of log file:\n  [python3-3.10.0rc1]       from _ctypes import Union, Structure, Array\n  [python3-3.10.0rc1]   ModuleNotFoundError: No module named '_ctypes'\n  [python3-3.10.0rc1]   ctypes module failed to import\n  [python3-3.10.0rc1]   math module imported OK\n  [python3-3.10.0rc1]   hashlib module imported OK\n  [python3-3.10.0rc1]   crypt module imported OK\n  [python3-3.10.0rc1]   socket module imported OK\n  [python3-3.10.0rc1]   Traceback (most recent call last):\n  [python3-3.10.0rc1]     File \"<string>\", line 1, in <module>\n  [python3-3.10.0rc1]   ModuleNotFoundError: No module named 'zlib'\n  [python3-3.10.0rc1]   zlib module failed to import\n  [python3-3.10.0rc1]   Traceback (most recent call last):\n  [python3-3.10.0rc1]     File \"<string>\", line 1, in <module>\n  [python3-3.10.0rc1]     File \"/sage/local/var/lib/sage/venv-python3.10.0rc1/var/tmp/sage/build/python3-3.10.0rc1/src/Lib/sqlite3/__init__.py\", line 23, in <module>\n  [python3-3.10.0rc1]       from sqlite3.dbapi2 import *\n  [python3-3.10.0rc1]     File \"/sage/local/var/lib/sage/venv-python3.10.0rc1/var/tmp/sage/build/python3-3.10.0rc1/src/Lib/sqlite3/dbapi2.py\", line 27, in <module>\n  [python3-3.10.0rc1]       from _sqlite3 import *\n  [python3-3.10.0rc1]   ModuleNotFoundError: No module named '_sqlite3'\n  [python3-3.10.0rc1]   sqlite3 module failed to import\n  [python3-3.10.0rc1]   Error: One or more modules failed to import.\n```",
    "created_at": "2021-09-16T16:24:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465113",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>Numerous build problems of the `python3` packages on the CI run, for example `ubuntu-focal-minimal` (https://github.com/mkoeppe/sage/runs/3616910861?check_suite_focus=true)

```
  [python3-3.10.0rc1] error installing, exit status 1. End of log file:
  [python3-3.10.0rc1]       from _ctypes import Union, Structure, Array
  [python3-3.10.0rc1]   ModuleNotFoundError: No module named '_ctypes'
  [python3-3.10.0rc1]   ctypes module failed to import
  [python3-3.10.0rc1]   math module imported OK
  [python3-3.10.0rc1]   hashlib module imported OK
  [python3-3.10.0rc1]   crypt module imported OK
  [python3-3.10.0rc1]   socket module imported OK
  [python3-3.10.0rc1]   Traceback (most recent call last):
  [python3-3.10.0rc1]     File "<string>", line 1, in <module>
  [python3-3.10.0rc1]   ModuleNotFoundError: No module named 'zlib'
  [python3-3.10.0rc1]   zlib module failed to import
  [python3-3.10.0rc1]   Traceback (most recent call last):
  [python3-3.10.0rc1]     File "<string>", line 1, in <module>
  [python3-3.10.0rc1]     File "/sage/local/var/lib/sage/venv-python3.10.0rc1/var/tmp/sage/build/python3-3.10.0rc1/src/Lib/sqlite3/__init__.py", line 23, in <module>
  [python3-3.10.0rc1]       from sqlite3.dbapi2 import *
  [python3-3.10.0rc1]     File "/sage/local/var/lib/sage/venv-python3.10.0rc1/var/tmp/sage/build/python3-3.10.0rc1/src/Lib/sqlite3/dbapi2.py", line 27, in <module>
  [python3-3.10.0rc1]       from _sqlite3 import *
  [python3-3.10.0rc1]   ModuleNotFoundError: No module named '_sqlite3'
  [python3-3.10.0rc1]   sqlite3 module failed to import
  [python3-3.10.0rc1]   Error: One or more modules failed to import.
```



---

archive/issue_comments_465114.json:
```json
{
    "body": "<a id='comment:28'></a>On `ubuntu-xenial-standard` (https://github.com/mkoeppe/sage/runs/3616910778?check_suite_focus=true)\n\n```\n  [setuptools-58.0.2]   gcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.12) \n  [setuptools-58.0.2]   ****************************************************\n  [setuptools-58.0.2]   Package 'setuptools' is currently not installed\n  [setuptools-58.0.2]   No legacy uninstaller found for 'setuptools'; nothing to do\n  [setuptools-58.0.2]   python3: error while loading shared libraries: libpython3.10.so.1.0: cannot open shared object file: No such file or directory\n  [setuptools-58.0.2]   ********************************************************************************\n  [setuptools-58.0.2]   Error building / installing setuptools for Python\n```",
    "created_at": "2021-09-16T16:45:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465114",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>On `ubuntu-xenial-standard` (https://github.com/mkoeppe/sage/runs/3616910778?check_suite_focus=true)

```
  [setuptools-58.0.2]   gcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.12) 
  [setuptools-58.0.2]   ****************************************************
  [setuptools-58.0.2]   Package 'setuptools' is currently not installed
  [setuptools-58.0.2]   No legacy uninstaller found for 'setuptools'; nothing to do
  [setuptools-58.0.2]   python3: error while loading shared libraries: libpython3.10.so.1.0: cannot open shared object file: No such file or directory
  [setuptools-58.0.2]   ********************************************************************************
  [setuptools-58.0.2]   Error building / installing setuptools for Python
```



---

archive/issue_comments_465115.json:
```json
{
    "body": "<a id='comment:29'></a>Run of optional packages in https://github.com/mkoeppe/sage/actions/runs/1239984514 shows a failure of python_igraph-0.8.3 on `debian-buster`; but this package is being upgraded anyway in #32510",
    "created_at": "2021-09-17T19:33:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465115",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>Run of optional packages in https://github.com/mkoeppe/sage/actions/runs/1239984514 shows a failure of python_igraph-0.8.3 on `debian-buster`; but this package is being upgraded anyway in #32510



---

archive/issue_comments_465116.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-09-28T19:44:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465116",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_465117.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-28T21:05:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465117",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_465118.json:
```json
{
    "body": "<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-28T21:10:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465118",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_465119.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,33 @@\n+This is to test building Sage using Python 3.10.\n+Python 3.10.0 expected release: 2021-10-04.\n+\n+3.10.0b1 released 2021-05-11.\n+\n+3.10.0b4 released 2021-07-26.\n+\n+3.10.0rc1 released 2021-08-11.\n+\n+3.10.0rc2 released 2021-09-07.\n+\n+This upgrades to a Python 3.10.0 development release for testing ticket #30766 (Support Python 3.10).\n+\n+It is not intended for merging -- we should stay on 3.9.x for a while.\n+\n+To test, use:\n+\n+\\`\\`\\`\n+./configure --without-system-python3 --enable-download-from-upstream-url\n+\\`\\`\\`\n+\n+Necessary changes to the library should go on #30766 (Support Python 3.10).\n+\n+Related:\n+\n+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)\n+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)\n+- #30766: Support Python 3.10\n+- #30589: Test ticket: Python 3.9.0\n+- #30384: Adopt the \u201ctime window-based\u201d policy for support of Python versions from NEP 29\n \n \n Comment: 1\n```\n",
    "created_at": "2021-09-28T21:13:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465119",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,33 @@
+This is to test building Sage using Python 3.10.
+Python 3.10.0 expected release: 2021-10-04.
+
+3.10.0b1 released 2021-05-11.
+
+3.10.0b4 released 2021-07-26.
+
+3.10.0rc1 released 2021-08-11.
+
+3.10.0rc2 released 2021-09-07.
+
+This upgrades to a Python 3.10.0 development release for testing ticket #30766 (Support Python 3.10).
+
+It is not intended for merging -- we should stay on 3.9.x for a while.
+
+To test, use:
+
+\`\`\`
+./configure --without-system-python3 --enable-download-from-upstream-url
+\`\`\`
+
+Necessary changes to the library should go on #30766 (Support Python 3.10).
+
+Related:
+
+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)
+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)
+- #30766: Support Python 3.10
+- #30589: Test ticket: Python 3.9.0
+- #30384: Adopt the “time window-based” policy for support of Python versions from NEP 29
 
 
 Comment: 1
```




---

archive/issue_comments_465120.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,24 @@\n+This is to test building Sage using Python 3.10, released 2021-10-04. https://docs.python.org/3.10/whatsnew/changelog.html#changelog\n+\n+This upgrades to a Python 3.10.0 development release for testing ticket #30766 (Support Python 3.10).\n+\n+It is not intended for merging -- we should stay on 3.9.x for a while.\n+\n+To test, use:\n+\n+\\`\\`\\`\n+./configure --without-system-python3 --enable-download-from-upstream-url\n+\\`\\`\\`\n+\n+Necessary changes to the library should go on #30766 (Support Python 3.10).\n+\n+Related:\n+\n+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)\n+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)\n+- #30766: Support Python 3.10\n+- #30589: Test ticket: Python 3.9.0\n+- #30384: Adopt the \u201ctime window-based\u201d policy for support of Python versions from NEP 29\n \n \n Comment: 1\n```\n",
    "created_at": "2021-10-05T05:37:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465120",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,24 @@
+This is to test building Sage using Python 3.10, released 2021-10-04. https://docs.python.org/3.10/whatsnew/changelog.html#changelog
+
+This upgrades to a Python 3.10.0 development release for testing ticket #30766 (Support Python 3.10).
+
+It is not intended for merging -- we should stay on 3.9.x for a while.
+
+To test, use:
+
+\`\`\`
+./configure --without-system-python3 --enable-download-from-upstream-url
+\`\`\`
+
+Necessary changes to the library should go on #30766 (Support Python 3.10).
+
+Related:
+
+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)
+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)
+- #30766: Support Python 3.10
+- #30589: Test ticket: Python 3.9.0
+- #30384: Adopt the “time window-based” policy for support of Python versions from NEP 29
 
 
 Comment: 1
```




---

archive/issue_comments_465121.json:
```json
{
    "body": "<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-05T05:39:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465121",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_465122.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,24 @@\n+This is to test building Sage using Python 3.10, released 2021-10-04. https://docs.python.org/3.10/whatsnew/changelog.html#changelog\n+\n+This ricket upgrades to the Python 3.10.0 final release for testing ticket #30766 (Support Python 3.10).\n+\n+It is not intended for merging -- we should stay on 3.9.x for a while.\n+\n+To test, use:\n+\n+\\`\\`\\`\n+./configure --without-system-python3 --enable-download-from-upstream-url\n+\\`\\`\\`\n+\n+Necessary changes to the library should go on #30766 (Support Python 3.10).\n+\n+Related:\n+\n+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)\n+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)\n+- #30766: Support Python 3.10\n+- #30589: Test ticket: Python 3.9.0\n+- #30384: Adopt the \u201ctime window-based\u201d policy for support of Python versions from NEP 29\n \n \n Comment: 1\n```\n",
    "created_at": "2021-10-05T05:40:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465122",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,24 @@
+This is to test building Sage using Python 3.10, released 2021-10-04. https://docs.python.org/3.10/whatsnew/changelog.html#changelog
+
+This ricket upgrades to the Python 3.10.0 final release for testing ticket #30766 (Support Python 3.10).
+
+It is not intended for merging -- we should stay on 3.9.x for a while.
+
+To test, use:
+
+\`\`\`
+./configure --without-system-python3 --enable-download-from-upstream-url
+\`\`\`
+
+Necessary changes to the library should go on #30766 (Support Python 3.10).
+
+Related:
+
+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)
+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)
+- #30766: Support Python 3.10
+- #30589: Test ticket: Python 3.9.0
+- #30384: Adopt the “time window-based” policy for support of Python versions from NEP 29
 
 
 Comment: 1
```




---

archive/issue_comments_465123.json:
```json
{
    "body": "<a id='comment:39'></a>With fedora 35, using the branch of this ticket or develop (with a change in configure to use system python3.10) with updated packages for cysignals and gmpy2, I have an error in pyzmq, see #31855",
    "created_at": "2021-11-04T15:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465123",
    "user": "https://github.com/enriqueartal"
}
```

<a id='comment:39'></a>With fedora 35, using the branch of this ticket or develop (with a change in configure to use system python3.10) with updated packages for cysignals and gmpy2, I have an error in pyzmq, see #31855



---

archive/issue_comments_465124.json:
```json
{
    "body": "<a id='comment:40'></a>The error in pyzmq is not gone, see #32828. With a workaround I could build a version with this branch (merged with last develop). Some folders that used to be in  `$SAGE_ROOT/local/share` are now in `$SAGE_ROOT/local/var/lib/sage/venv-python3.10/share`. The test yield these errors:\n\n- Related with `cysignals`:\n\n```\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/schemes/elliptic_curves/ell_rational_field.py  # 9 doctests failed\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/rings/polynomial/polynomial_zmod_flint.pyx  # Timed out\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/rings/function_field/function_field.py  # Timed out\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/doctest/test.py  # 25 doctests failed\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/tests/cmdline.py  # 4 doctests failed\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/misc/sageinspect.py  # 1 doctest failed\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/schemes/riemann_surfaces/riemann_surface.py  # 1 doctest failed\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/modular/abvar/abvar.py  # 1 doctest failed\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/modular/hecke/submodule.py  # 1 doctest failed\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/lfunctions/pari.py  # 1 doctest failed\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/structure/unique_representation.py  # 1 doctest failed\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/modular/modform/numerical.py  # 3 doctests failed\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/cpython/atexit.pyx  # 6 doctests failed\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/cpython/atexit.pyx  # 6 doctests failed\n```\n- Related with `giac`:\n\n```\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/rings/polynomial/multi_polynomial_ideal.py  # 2 doctests failed\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/libs/giac/__init__.py  # 13 doctests failed\n```\n- Round problem:\n\n```\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/plot/colors.py  # 5 doctests failed\n```\n- Misc:\n\n```\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/schemes/elliptic_curves/lseries_ell.py  # 3 doctests failed\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage_docbuild/utils.py  # 2 doctests failed\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/lfunctions/lcalc.py  # 2 doctests failed\nsage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/symbolic/callable.py  # 5 doctests failed\n```",
    "created_at": "2021-11-07T00:20:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465124",
    "user": "https://github.com/enriqueartal"
}
```

<a id='comment:40'></a>The error in pyzmq is not gone, see #32828. With a workaround I could build a version with this branch (merged with last develop). Some folders that used to be in  `$SAGE_ROOT/local/share` are now in `$SAGE_ROOT/local/var/lib/sage/venv-python3.10/share`. The test yield these errors:

- Related with `cysignals`:

```
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/schemes/elliptic_curves/ell_rational_field.py  # 9 doctests failed
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/rings/polynomial/polynomial_zmod_flint.pyx  # Timed out
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/rings/function_field/function_field.py  # Timed out
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/doctest/test.py  # 25 doctests failed
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/tests/cmdline.py  # 4 doctests failed
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/misc/sageinspect.py  # 1 doctest failed
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/schemes/riemann_surfaces/riemann_surface.py  # 1 doctest failed
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/modular/abvar/abvar.py  # 1 doctest failed
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/modular/hecke/submodule.py  # 1 doctest failed
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/lfunctions/pari.py  # 1 doctest failed
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/structure/unique_representation.py  # 1 doctest failed
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/modular/modform/numerical.py  # 3 doctests failed
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/cpython/atexit.pyx  # 6 doctests failed
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/cpython/atexit.pyx  # 6 doctests failed
```
- Related with `giac`:

```
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/rings/polynomial/multi_polynomial_ideal.py  # 2 doctests failed
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/libs/giac/__init__.py  # 13 doctests failed
```
- Round problem:

```
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/plot/colors.py  # 5 doctests failed
```
- Misc:

```
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/schemes/elliptic_curves/lseries_ell.py  # 3 doctests failed
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage_docbuild/utils.py  # 2 doctests failed
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/lfunctions/lcalc.py  # 2 doctests failed
sage -t --long --random-seed=212072384500939741616547276375662149298 src/sage/symbolic/callable.py  # 5 doctests failed
```



---

archive/issue_comments_465125.json:
```json
{
    "body": "<a id='comment:41'></a>A minor thing, executing `sage` (with python3.10) I get \n\n```\n/usr/local/sage-310/local/var/lib/sage/venv-python3.10/lib64/python3.10/site-packages/prompt_toolkit/application/application.py:882: DeprecationWarning: There is no current event loop\n  loop = get_event_loop()\n```\nwhich continues after each execution. It can be stopped easily but it seems that in upstream prompt_toolkit the last version solves it.",
    "created_at": "2021-11-07T20:25:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465125",
    "user": "https://github.com/enriqueartal"
}
```

<a id='comment:41'></a>A minor thing, executing `sage` (with python3.10) I get 

```
/usr/local/sage-310/local/var/lib/sage/venv-python3.10/lib64/python3.10/site-packages/prompt_toolkit/application/application.py:882: DeprecationWarning: There is no current event loop
  loop = get_event_loop()
```
which continues after each execution. It can be stopped easily but it seems that in upstream prompt_toolkit the last version solves it.



---

archive/issue_comments_465126.json:
```json
{
    "body": "<a id='comment:42'></a>I am not sure if it is the right place. Building sage with Python 3.10 (both system package and spkg) is quite usable. I built two such copies from the branch of this ticket merged with develop, #32037, #32797, #32828, #32885, #32930, and cysignals-1.11.0 in Fedora 35. It is quite usable, but sometimes when testing I get\n\n```\n./sage -t --warn-long 27.9 --random-seed=256577300716008523412470069515290642338 src/sage/interfaces/singular.py\nRunning doctests with ID 2021-11-28-21-54-01-676c34d4.\nGit branch: python310\nUsing --optional=build,database_knotinfo,dochtml,fedora,gap_packages,libsemigroups,notedown,pandoc_attributes,pip,rst2ipynb,sage,sage.geometry.polyhedron,sage.rings.real_double,sage_spkg,sirocco\nDoctesting 1 file.\n------------------------------------------------------------------------\n/usr/local/sage310/local/var/lib/sage/venv-python3.10/lib64/python3.10/site-packages/cysignals/signals.cpython-310-x86_64-linux-gnu.so(+0x8704)[0x7f0043bf8704]\n/usr/local/sage310/local/var/lib/sage/venv-python3.10/lib64/python3.10/site-packages/cysignals/signals.cpython-310-x86_64-linux-gnu.so(+0x87b9)[0x7f0043bf87b9]\n/usr/local/sage310/local/var/lib/sage/venv-python3.10/lib64/python3.10/site-packages/cysignals/signals.cpython-310-x86_64-linux-gnu.so(+0xb4b2)[0x7f0043bfb4b2]\n/lib64/libc.so.6(+0x42760)[0x7f004b741760]\n/usr/local/sage310/local/var/lib/sage/venv-python3.10/lib64/python3.10/site-packages/sage/cpython/atexit.cpython-310-x86_64-linux-gnu.so(+0x6b45)[0x7f00441cbb45]\n/usr/local/sage310/local/var/lib/sage/venv-python3.10/lib64/python3.10/site-packages/sage/cpython/atexit.cpython-310-x86_64-linux-gnu.so(+0x55c6)[0x7f00441ca5c6]\n/lib64/libpython3.10.so.1.0(+0x1152d1)[0x7f004ba1e2d1]\n/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x2b3f)[0x7f004ba1470f]\n/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]\n/lib64/libpython3.10.so.1.0(_PyObject_FastCallDictTstate+0xa1)[0x7f004ba1a801]\n/lib64/libpython3.10.so.1.0(_PyObject_Call_Prepend+0x6c)[0x7f004ba260dc]\n/lib64/libpython3.10.so.1.0(+0x1bc8d2)[0x7f004bac58d2]\n/lib64/libpython3.10.so.1.0(_PyObject_MakeTpCall+0x84)[0x7f004ba1afb4]\n/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x571e)[0x7f004ba172ee]\n/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]\n/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x651)[0x7f004ba12221]\n/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]\n/lib64/libpython3.10.so.1.0(+0x11e8a8)[0x7f004ba278a8]\n/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x1637)[0x7f004ba13207]\n/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]\n/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x651)[0x7f004ba12221]\n/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]\n/lib64/libpython3.10.so.1.0(_PyObject_FastCallDictTstate+0xa1)[0x7f004ba1a801]\n/lib64/libpython3.10.so.1.0(+0x11ced3)[0x7f004ba25ed3]\n/lib64/libpython3.10.so.1.0(+0x112203)[0x7f004ba1b203]\n/lib64/libpython3.10.so.1.0(_PyObject_MakeTpCall+0x84)[0x7f004ba1afb4]\n/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x571e)[0x7f004ba172ee]\n/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]\n/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x54c9)[0x7f004ba17099]\n/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]\n/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x54c9)[0x7f004ba17099]\n/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]\n/lib64/libpython3.10.so.1.0(+0x11e8a8)[0x7f004ba278a8]\n/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x54c9)[0x7f004ba17099]\n/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]\n/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x651)[0x7f004ba12221]\n/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]\n/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x651)[0x7f004ba12221]\n/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]\n/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x651)[0x7f004ba12221]\n/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]\n/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x651)[0x7f004ba12221]\n/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]\n/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x651)[0x7f004ba12221]\n/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]\n/lib64/libpython3.10.so.1.0(PyEval_EvalCode+0x94)[0x7f004ba8be24]\n/lib64/libpython3.10.so.1.0(+0x1b2bb4)[0x7f004babbbb4]\n/lib64/libpython3.10.so.1.0(+0x1ae0d6)[0x7f004bab70d6]\n/lib64/libpython3.10.so.1.0(+0x85a3c)[0x7f004b98ea3c]\n/lib64/libpython3.10.so.1.0(_PyRun_SimpleFileObject+0x1b2)[0x7f004bab1792]\n/lib64/libpython3.10.so.1.0(_PyRun_AnyFileObject+0x47)[0x7f004bab1527]\n/lib64/libpython3.10.so.1.0(Py_RunMain+0x394)[0x7f004baae664]\n/lib64/libpython3.10.so.1.0(Py_BytesMain+0x3d)[0x7f004ba7cfed]\n/lib64/libc.so.6(+0x2d560)[0x7f004b72c560]\n/lib64/libc.so.6(__libc_start_main+0x7c)[0x7f004b72c60c]\npython3(_start+0x25)[0x562009404095]\n------------------------------------------------------------------------\n/usr/local/sage310/local/var/lib/sage/venv-python3.10/bin/cysignals-CSI:42: DeprecationWarning: The distutils package is deprecated and slated for removal in Python 3.12. Use setuptools or check PEP 632 for potential alternatives\n  from distutils.spawn import find_executable\nAttaching gdb to process id 3860228.\nsage -t --warn-long 27.9 --random-seed=256577300716008523412470069515290642338 src/sage/interfaces/singular.py\n```\nThese are the failed tests:\n\n```\nsage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage/tests/cmdline.py  # Timed out\nsage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage/misc/sageinspect.py  # 1 doctest failed\nsage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage/schemes/riemann_surfaces/riemann_surface.py  # 1 doctest failed\nsage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage_docbuild/utils.py  # 2 doctests failed\nsage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage/interfaces/singular.py  # 3 doctests failed\nsage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage/plot/colors.py  # 5 doctests failed\nsage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage/structure/unique_representation.py  # 1 doctest failed\nsage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage/libs/giac/__init__.py  # 7 doctests failed\nsage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage/symbolic/callable.py  # 5 doctests failed\nsage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage/cpython/atexit.pyx  # 6 doctests failed\n```\nI uninstalled `fricas` since it produced plenty of errors.",
    "created_at": "2021-11-28T20:57:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465126",
    "user": "https://github.com/enriqueartal"
}
```

<a id='comment:42'></a>I am not sure if it is the right place. Building sage with Python 3.10 (both system package and spkg) is quite usable. I built two such copies from the branch of this ticket merged with develop, #32037, #32797, #32828, #32885, #32930, and cysignals-1.11.0 in Fedora 35. It is quite usable, but sometimes when testing I get

```
./sage -t --warn-long 27.9 --random-seed=256577300716008523412470069515290642338 src/sage/interfaces/singular.py
Running doctests with ID 2021-11-28-21-54-01-676c34d4.
Git branch: python310
Using --optional=build,database_knotinfo,dochtml,fedora,gap_packages,libsemigroups,notedown,pandoc_attributes,pip,rst2ipynb,sage,sage.geometry.polyhedron,sage.rings.real_double,sage_spkg,sirocco
Doctesting 1 file.
------------------------------------------------------------------------
/usr/local/sage310/local/var/lib/sage/venv-python3.10/lib64/python3.10/site-packages/cysignals/signals.cpython-310-x86_64-linux-gnu.so(+0x8704)[0x7f0043bf8704]
/usr/local/sage310/local/var/lib/sage/venv-python3.10/lib64/python3.10/site-packages/cysignals/signals.cpython-310-x86_64-linux-gnu.so(+0x87b9)[0x7f0043bf87b9]
/usr/local/sage310/local/var/lib/sage/venv-python3.10/lib64/python3.10/site-packages/cysignals/signals.cpython-310-x86_64-linux-gnu.so(+0xb4b2)[0x7f0043bfb4b2]
/lib64/libc.so.6(+0x42760)[0x7f004b741760]
/usr/local/sage310/local/var/lib/sage/venv-python3.10/lib64/python3.10/site-packages/sage/cpython/atexit.cpython-310-x86_64-linux-gnu.so(+0x6b45)[0x7f00441cbb45]
/usr/local/sage310/local/var/lib/sage/venv-python3.10/lib64/python3.10/site-packages/sage/cpython/atexit.cpython-310-x86_64-linux-gnu.so(+0x55c6)[0x7f00441ca5c6]
/lib64/libpython3.10.so.1.0(+0x1152d1)[0x7f004ba1e2d1]
/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x2b3f)[0x7f004ba1470f]
/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]
/lib64/libpython3.10.so.1.0(_PyObject_FastCallDictTstate+0xa1)[0x7f004ba1a801]
/lib64/libpython3.10.so.1.0(_PyObject_Call_Prepend+0x6c)[0x7f004ba260dc]
/lib64/libpython3.10.so.1.0(+0x1bc8d2)[0x7f004bac58d2]
/lib64/libpython3.10.so.1.0(_PyObject_MakeTpCall+0x84)[0x7f004ba1afb4]
/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x571e)[0x7f004ba172ee]
/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]
/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x651)[0x7f004ba12221]
/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]
/lib64/libpython3.10.so.1.0(+0x11e8a8)[0x7f004ba278a8]
/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x1637)[0x7f004ba13207]
/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]
/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x651)[0x7f004ba12221]
/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]
/lib64/libpython3.10.so.1.0(_PyObject_FastCallDictTstate+0xa1)[0x7f004ba1a801]
/lib64/libpython3.10.so.1.0(+0x11ced3)[0x7f004ba25ed3]
/lib64/libpython3.10.so.1.0(+0x112203)[0x7f004ba1b203]
/lib64/libpython3.10.so.1.0(_PyObject_MakeTpCall+0x84)[0x7f004ba1afb4]
/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x571e)[0x7f004ba172ee]
/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]
/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x54c9)[0x7f004ba17099]
/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]
/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x54c9)[0x7f004ba17099]
/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]
/lib64/libpython3.10.so.1.0(+0x11e8a8)[0x7f004ba278a8]
/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x54c9)[0x7f004ba17099]
/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]
/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x651)[0x7f004ba12221]
/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]
/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x651)[0x7f004ba12221]
/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]
/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x651)[0x7f004ba12221]
/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]
/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x651)[0x7f004ba12221]
/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]
/lib64/libpython3.10.so.1.0(_PyEval_EvalFrameDefault+0x651)[0x7f004ba12221]
/lib64/libpython3.10.so.1.0(+0x107e44)[0x7f004ba10e44]
/lib64/libpython3.10.so.1.0(PyEval_EvalCode+0x94)[0x7f004ba8be24]
/lib64/libpython3.10.so.1.0(+0x1b2bb4)[0x7f004babbbb4]
/lib64/libpython3.10.so.1.0(+0x1ae0d6)[0x7f004bab70d6]
/lib64/libpython3.10.so.1.0(+0x85a3c)[0x7f004b98ea3c]
/lib64/libpython3.10.so.1.0(_PyRun_SimpleFileObject+0x1b2)[0x7f004bab1792]
/lib64/libpython3.10.so.1.0(_PyRun_AnyFileObject+0x47)[0x7f004bab1527]
/lib64/libpython3.10.so.1.0(Py_RunMain+0x394)[0x7f004baae664]
/lib64/libpython3.10.so.1.0(Py_BytesMain+0x3d)[0x7f004ba7cfed]
/lib64/libc.so.6(+0x2d560)[0x7f004b72c560]
/lib64/libc.so.6(__libc_start_main+0x7c)[0x7f004b72c60c]
python3(_start+0x25)[0x562009404095]
------------------------------------------------------------------------
/usr/local/sage310/local/var/lib/sage/venv-python3.10/bin/cysignals-CSI:42: DeprecationWarning: The distutils package is deprecated and slated for removal in Python 3.12. Use setuptools or check PEP 632 for potential alternatives
  from distutils.spawn import find_executable
Attaching gdb to process id 3860228.
sage -t --warn-long 27.9 --random-seed=256577300716008523412470069515290642338 src/sage/interfaces/singular.py
```
These are the failed tests:

```
sage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage/tests/cmdline.py  # Timed out
sage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage/misc/sageinspect.py  # 1 doctest failed
sage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage/schemes/riemann_surfaces/riemann_surface.py  # 1 doctest failed
sage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage_docbuild/utils.py  # 2 doctests failed
sage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage/interfaces/singular.py  # 3 doctests failed
sage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage/plot/colors.py  # 5 doctests failed
sage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage/structure/unique_representation.py  # 1 doctest failed
sage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage/libs/giac/__init__.py  # 7 doctests failed
sage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage/symbolic/callable.py  # 5 doctests failed
sage -t --warn-long 40.4 --random-seed=144157399247145679142353539674578604879 src/sage/cpython/atexit.pyx  # 6 doctests failed
```
I uninstalled `fricas` since it produced plenty of errors.



---

archive/issue_comments_465127.json:
```json
{
    "body": "<a id='comment:43'></a>Could you push your test branch to this ticket please? The branch that is on here is outdated",
    "created_at": "2021-11-28T21:16:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465127",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:43'></a>Could you push your test branch to this ticket please? The branch that is on here is outdated



---

archive/issue_comments_465128.json:
```json
{
    "body": "<a id='comment:45'></a>I just pushed it, merged with develop, #32037 (update lcal to solve some failed tests), #32576 (cysignals needed for Fedora 35), #32797 (update pari to solve some failed tests), #32828 (pymzq needed for Fedora 35), #32885 (use of, e.g., sage -installed), and #32930 (prompt_toolkit gave an annoying warning).\n\n---\nLast 10 new commits:",
    "created_at": "2021-11-29T16:33:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465128",
    "user": "https://github.com/enriqueartal"
}
```

<a id='comment:45'></a>I just pushed it, merged with develop, #32037 (update lcal to solve some failed tests), #32576 (cysignals needed for Fedora 35), #32797 (update pari to solve some failed tests), #32828 (pymzq needed for Fedora 35), #32885 (use of, e.g., sage -installed), and #32930 (prompt_toolkit gave an annoying warning).

---
Last 10 new commits:



---

archive/issue_comments_465129.json:
```json
{
    "body": "<a id='comment:46'></a>Let's reuse this ticket for an update to 3.10.x targeted for Sage 9.6",
    "created_at": "2021-12-17T17:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465129",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:46'></a>Let's reuse this ticket for an update to 3.10.x targeted for Sage 9.6



---

archive/issue_events_080219.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-17T17:51:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30767#event-80219"
}
```



---

archive/issue_events_080220.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-17T17:51:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30767#event-80220"
}
```



---

archive/issue_comments_465130.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,20 @@\n+Python 3.10 was released 2021-10-04, the current version is 3.10.1, released 2021-12-06. https://docs.python.org/3.10/whatsnew/changelog.html#changelog\n+\n+To test, use:\n+\n+\\`\\`\\`\n+./configure --without-system-python3 --enable-download-from-upstream-url\n+\\`\\`\\`\n+\n+Necessary changes to the library should go on #30766 (Support Python 3.10)\n+\n+Related:\n+\n+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)\n+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)\n+- #30766: Support Python 3.10\n+- #30589: Test ticket: Python 3.9.0\n+- #30384: Adopt the \u201ctime window-based\u201d policy for support of Python versions from NEP 29\n \n \n Comment: 1\n```\n",
    "created_at": "2021-12-17T17:53:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465130",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,20 @@
+Python 3.10 was released 2021-10-04, the current version is 3.10.1, released 2021-12-06. https://docs.python.org/3.10/whatsnew/changelog.html#changelog
+
+To test, use:
+
+\`\`\`
+./configure --without-system-python3 --enable-download-from-upstream-url
+\`\`\`
+
+Necessary changes to the library should go on #30766 (Support Python 3.10)
+
+Related:
+
+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)
+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)
+- #30766: Support Python 3.10
+- #30589: Test ticket: Python 3.9.0
+- #30384: Adopt the “time window-based” policy for support of Python versions from NEP 29
 
 
 Comment: 1
```




---

archive/issue_comments_465131.json:
```json
{
    "body": "<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-18T00:33:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465131",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_465132.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,23 @@\n+Python 3.10 was released 2021-10-04, the current version is 3.10.1, released 2021-12-06. https://docs.python.org/3.10/whatsnew/changelog.html#changelog\n+\n+Upstream PR:\n+- https://github.com/python/cpython/pull/30005\n+\n+To test, use:\n+\n+\\`\\`\\`\n+./configure --without-system-python3 --enable-download-from-upstream-url\n+\\`\\`\\`\n+\n+Necessary changes to the library should go on #30766 (Support Python 3.10)\n+\n+Related:\n+\n+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)\n+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)\n+- #30766: Support Python 3.10\n+- #30589: Test ticket: Python 3.9.0\n+- #30384: Adopt the \u201ctime window-based\u201d policy for support of Python versions from NEP 29\n \n \n Comment: 1\n```\n",
    "created_at": "2021-12-18T00:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465132",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,23 @@
+Python 3.10 was released 2021-10-04, the current version is 3.10.1, released 2021-12-06. https://docs.python.org/3.10/whatsnew/changelog.html#changelog
+
+Upstream PR:
+- https://github.com/python/cpython/pull/30005
+
+To test, use:
+
+\`\`\`
+./configure --without-system-python3 --enable-download-from-upstream-url
+\`\`\`
+
+Necessary changes to the library should go on #30766 (Support Python 3.10)
+
+Related:
+
+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)
+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)
+- #30766: Support Python 3.10
+- #30589: Test ticket: Python 3.9.0
+- #30384: Adopt the “time window-based” policy for support of Python versions from NEP 29
 
 
 Comment: 1
```




---

archive/issue_comments_465133.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2022-01-30T23:27:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465133",
    "user": "https://github.com/mkoeppe"
}
```

Changing priority from major to critical.



---

archive/issue_comments_465134.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,23 @@\n+Python 3.10 was released 2021-10-04, the current version is 3.10.2, released 2022-01-14.\n+\n+Upstream PR:\n+- https://github.com/python/cpython/pull/30005\n+\n+To test, use:\n+\n+\\`\\`\\`\n+./configure --without-system-python3 --enable-download-from-upstream-url\n+\\`\\`\\`\n+\n+Necessary changes to the library should go on #30766 (Support Python 3.10)\n+\n+Related:\n+\n+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)\n+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)\n+- #30766: Support Python 3.10\n+- #30589: Test ticket: Python 3.9.0\n+- #30384: Adopt the \u201ctime window-based\u201d policy for support of Python versions from NEP 29\n \n \n Comment: 1\n```\n",
    "created_at": "2022-01-30T23:27:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465134",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,23 @@
+Python 3.10 was released 2021-10-04, the current version is 3.10.2, released 2022-01-14.
+
+Upstream PR:
+- https://github.com/python/cpython/pull/30005
+
+To test, use:
+
+\`\`\`
+./configure --without-system-python3 --enable-download-from-upstream-url
+\`\`\`
+
+Necessary changes to the library should go on #30766 (Support Python 3.10)
+
+Related:
+
+- [PEP 619 -- Python 3.10 Release Schedule](https://www.python.org/dev/peps/pep-0619/)
+- [What's new in Python 3.10](https://docs.python.org/3.10/whatsnew/3.10.html)
+- #30766: Support Python 3.10
+- #30589: Test ticket: Python 3.9.0
+- #30384: Adopt the “time window-based” policy for support of Python versions from NEP 29
 
 
 Comment: 1
```




---

archive/issue_comments_465135.json:
```json
{
    "body": "<a id='comment:53'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-30T23:30:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465135",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:53'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_465136.json:
```json
{
    "body": "<a id='comment:54'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-31T00:28:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465136",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:54'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_465137.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-01-31T04:01:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465137",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_465138.json:
```json
{
    "body": "<a id='comment:55'></a>Works well on macOS Big Sur (x86_64), except for the following failures:\n\n```\nsage -t --long --random-seed=12626680743349969233570584009130839267 src/sage/symbolic/expression.pyx\n**********************************************************************\nFile \"src/sage/symbolic/expression.pyx\", line 9875, in sage.symbolic.expression.Expression.log_gamma\nFailed example:\n    set_verbose(-1); plot(lambda x: SR(x).log_gamma(), -7,8, plot_points=1000).show()\nException raised:\n    Traceback (most recent call last):\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.symbolic.expression.Expression.log_gamma[7]>\", line 1, in <module>\n        set_verbose(-Integer(1)); plot(lambda x: SR(x).log_gamma(), -Integer(7),Integer(8), plot_points=Integer(1000)).show()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/misc/decorators.py\", line 491, in wrapper\n        return func(*args, **options)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/plot/plot.py\", line 1982, in plot\n        G = _plot(funcs, (xmin, xmax), *args, **kwds)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/plot/plot.py\", line 2297, in _plot\n        data, extra_excluded = generate_plot_points(\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/plot/plot.py\", line 4011, in generate_plot_points\n        for p in adaptive_refinement(f, data[i], data[i+1],\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/plot/plot.py\", line 3807, in adaptive_refinement\n        y = float(f(x))\n      File \"<doctest sage.symbolic.expression.Expression.log_gamma[7]>\", line 1, in <lambda>\n        set_verbose(-Integer(1)); plot(lambda x: SR(x).log_gamma(), -Integer(7),Integer(8), plot_points=Integer(1000)).show()\n      File \"sage/symbolic/expression.pyx\", line 9893, in sage.symbolic.expression.Expression.log_gamma (build/cythonized/sage/symbolic/expression.cpp:77829)\n        sig_on()\n    SystemError: calling remove_from_pari_stack() inside sig_on()\n\nsage -t --long --random-seed=12626680743349969233570584009130839267 src/sage/rings/polynomial/hilbert.pyx\n**********************************************************************\nFile \"src/sage/rings/polynomial/hilbert.pyx\", line 581, in sage.rings.polynomial.hilbert.hilbert_poincare_series\nFailed example:\n    J.hilbert_numerator(algorithm='singular')\nException raised:\n    Traceback (most recent call last):\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.rings.polynomial.hilbert.hilbert_poincare_series[11]>\", line 1, in <module>\n        J.hilbert_numerator(algorithm='singular')\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/rings/polynomial/multi_polynomial_ideal.py\", line 297, in __call__\n        return self.f(self._instance, *args, **kwds)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/rings/qqbar_decorators.py\", line 96, in wrapper\n        return func(*args, **kwds)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/rings/polynomial/multi_polynomial_ideal.py\", line 2900, in hilbert_numerator\n        hs = hilb(gb, 1, attributes={gb: {'isSB': 1}})\n      File \"sage/libs/singular/function.pyx\", line 1334, in sage.libs.singular.function.SingularFunction.__call__ (build/cythonized/sage/libs/singular/function.cpp:15240)\n        return call_function(self, args, ring, interruptible, attributes)\n      File \"sage/libs/singular/function.pyx\", line 1532, in sage.libs.singular.function.call_function (build/cythonized/sage/libs/singular/function.cpp:17242)\n        raise RuntimeError(\"error in Singular function call %r:\\n%s\" %\n    RuntimeError: error in Singular function call 'hilb':\n    int overflow in hilb 1\n\nsage -t --long --random-seed=12626680743349969233570584009130839267 src/sage/modules/vector_real_double_dense.pyx\n**********************************************************************\nFile \"src/sage/modules/vector_real_double_dense.pyx\", line 74, in sage.modules.vector_real_double_dense.Vector_real_double_dense.stats_skew\nFailed example:\n    v.stats_skew()\nException raised:\n    Traceback (most recent call last):\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.modules.vector_real_double_dense.Vector_real_double_dense.stats_skew[1]>\", line 1, in <module>\n        v.stats_skew()\n      File \"sage/modules/vector_real_double_dense.pyx\", line 77, in sage.modules.vector_real_double_dense.Vector_real_double_dense.stats_skew (build/cythonized/sage/modules/vector_real_double_dense.c:3138)\n        import scipy.stats\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/scipy/stats/__init__.py\", line 441, in <module>\n        from .stats import *\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/scipy/stats/stats.py\", line 43, in <module>\n        from . import distributions\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/scipy/stats/distributions.py\", line 10, in <module>\n        from . import _continuous_distns\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/scipy/stats/_continuous_distns.py\", line 29, in <module>\n        from ._ksstats import kolmogn, kolmognp, kolmogni\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/scipy/stats/_ksstats.py\", line 74, in <module>\n        _EP128 = np.ldexp(np.longdouble(1), _E128)\n    RuntimeError: Could not parse python long as longdouble: 1 (Invalid argument)\n```",
    "created_at": "2022-01-31T04:01:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465138",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:55'></a>Works well on macOS Big Sur (x86_64), except for the following failures:

```
sage -t --long --random-seed=12626680743349969233570584009130839267 src/sage/symbolic/expression.pyx
**********************************************************************
File "src/sage/symbolic/expression.pyx", line 9875, in sage.symbolic.expression.Expression.log_gamma
Failed example:
    set_verbose(-1); plot(lambda x: SR(x).log_gamma(), -7,8, plot_points=1000).show()
Exception raised:
    Traceback (most recent call last):
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.symbolic.expression.Expression.log_gamma[7]>", line 1, in <module>
        set_verbose(-Integer(1)); plot(lambda x: SR(x).log_gamma(), -Integer(7),Integer(8), plot_points=Integer(1000)).show()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/misc/decorators.py", line 491, in wrapper
        return func(*args, **options)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/plot/plot.py", line 1982, in plot
        G = _plot(funcs, (xmin, xmax), *args, **kwds)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/plot/plot.py", line 2297, in _plot
        data, extra_excluded = generate_plot_points(
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/plot/plot.py", line 4011, in generate_plot_points
        for p in adaptive_refinement(f, data[i], data[i+1],
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/plot/plot.py", line 3807, in adaptive_refinement
        y = float(f(x))
      File "<doctest sage.symbolic.expression.Expression.log_gamma[7]>", line 1, in <lambda>
        set_verbose(-Integer(1)); plot(lambda x: SR(x).log_gamma(), -Integer(7),Integer(8), plot_points=Integer(1000)).show()
      File "sage/symbolic/expression.pyx", line 9893, in sage.symbolic.expression.Expression.log_gamma (build/cythonized/sage/symbolic/expression.cpp:77829)
        sig_on()
    SystemError: calling remove_from_pari_stack() inside sig_on()

sage -t --long --random-seed=12626680743349969233570584009130839267 src/sage/rings/polynomial/hilbert.pyx
**********************************************************************
File "src/sage/rings/polynomial/hilbert.pyx", line 581, in sage.rings.polynomial.hilbert.hilbert_poincare_series
Failed example:
    J.hilbert_numerator(algorithm='singular')
Exception raised:
    Traceback (most recent call last):
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.rings.polynomial.hilbert.hilbert_poincare_series[11]>", line 1, in <module>
        J.hilbert_numerator(algorithm='singular')
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/rings/polynomial/multi_polynomial_ideal.py", line 297, in __call__
        return self.f(self._instance, *args, **kwds)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/rings/qqbar_decorators.py", line 96, in wrapper
        return func(*args, **kwds)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/rings/polynomial/multi_polynomial_ideal.py", line 2900, in hilbert_numerator
        hs = hilb(gb, 1, attributes={gb: {'isSB': 1}})
      File "sage/libs/singular/function.pyx", line 1334, in sage.libs.singular.function.SingularFunction.__call__ (build/cythonized/sage/libs/singular/function.cpp:15240)
        return call_function(self, args, ring, interruptible, attributes)
      File "sage/libs/singular/function.pyx", line 1532, in sage.libs.singular.function.call_function (build/cythonized/sage/libs/singular/function.cpp:17242)
        raise RuntimeError("error in Singular function call %r:\n%s" %
    RuntimeError: error in Singular function call 'hilb':
    int overflow in hilb 1

sage -t --long --random-seed=12626680743349969233570584009130839267 src/sage/modules/vector_real_double_dense.pyx
**********************************************************************
File "src/sage/modules/vector_real_double_dense.pyx", line 74, in sage.modules.vector_real_double_dense.Vector_real_double_dense.stats_skew
Failed example:
    v.stats_skew()
Exception raised:
    Traceback (most recent call last):
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.modules.vector_real_double_dense.Vector_real_double_dense.stats_skew[1]>", line 1, in <module>
        v.stats_skew()
      File "sage/modules/vector_real_double_dense.pyx", line 77, in sage.modules.vector_real_double_dense.Vector_real_double_dense.stats_skew (build/cythonized/sage/modules/vector_real_double_dense.c:3138)
        import scipy.stats
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/scipy/stats/__init__.py", line 441, in <module>
        from .stats import *
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/scipy/stats/stats.py", line 43, in <module>
        from . import distributions
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/scipy/stats/distributions.py", line 10, in <module>
        from . import _continuous_distns
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/scipy/stats/_continuous_distns.py", line 29, in <module>
        from ._ksstats import kolmogn, kolmognp, kolmogni
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/var/lib/sage/venv-python3.9/lib/python3.10/site-packages/scipy/stats/_ksstats.py", line 74, in <module>
        _EP128 = np.ldexp(np.longdouble(1), _E128)
    RuntimeError: Could not parse python long as longdouble: 1 (Invalid argument)
```



---

archive/issue_comments_465139.json:
```json
{
    "body": "<a id='comment:57'></a>(noise from merge scripts)",
    "created_at": "2022-02-05T16:28:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465139",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:57'></a>(noise from merge scripts)



---

archive/issue_comments_465140.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-02-05T16:28:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465140",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_465141.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-02-05T16:57:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465141",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_465142.json:
```json
{
    "body": "<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-02-15T05:49:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465142",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_465143.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-03-03T18:59:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465143",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_465144.json:
```json
{
    "body": "<a id='comment:61'></a>\n```\n[python3-3.10.2]   Applying ../patches/0001-bpo-22699-Allow-compiling-on-debian-ubuntu-with-a-di.patch\n  [python3-3.10.2]   patching file setup.py\n  [python3-3.10.2]   Hunk #1 FAILED at 663.\n  [python3-3.10.2]   1 out of 1 hunk FAILED -- saving rejects to file setup.py.rej\n  [python3-3.10.2]   patching file setup.py\n  [python3-3.10.2]   Hunk #1 succeeded at 798 (offset 60 lines).\n  [python3-3.10.2]   Error applying '../patches/0001-bpo-22699-Allow-compiling-on-debian-ubuntu-with-a-di.patch'\n```",
    "created_at": "2022-03-03T18:59:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465144",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:61'></a>
```
[python3-3.10.2]   Applying ../patches/0001-bpo-22699-Allow-compiling-on-debian-ubuntu-with-a-di.patch
  [python3-3.10.2]   patching file setup.py
  [python3-3.10.2]   Hunk #1 FAILED at 663.
  [python3-3.10.2]   1 out of 1 hunk FAILED -- saving rejects to file setup.py.rej
  [python3-3.10.2]   patching file setup.py
  [python3-3.10.2]   Hunk #1 succeeded at 798 (offset 60 lines).
  [python3-3.10.2]   Error applying '../patches/0001-bpo-22699-Allow-compiling-on-debian-ubuntu-with-a-di.patch'
```



---

archive/issue_comments_465145.json:
```json
{
    "body": "<a id='comment:62'></a>That's from testing on top of #33055\n\n`@`isuruf - do you have a version of this patch for Python 3.10?",
    "created_at": "2022-03-03T19:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465145",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:62'></a>That's from testing on top of #33055

`@`isuruf - do you have a version of this patch for Python 3.10?



---

archive/issue_comments_465146.json:
```json
{
    "body": "<a id='comment:63'></a>First part of the patch for 3.10 is at https://github.com/conda-forge/python-feedstock/blob/master/recipe/patches/0008-bpo-22699-Allow-compiling-on-debian-ubuntu-with-a-di.patch",
    "created_at": "2022-03-03T19:53:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465146",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:63'></a>First part of the patch for 3.10 is at https://github.com/conda-forge/python-feedstock/blob/master/recipe/patches/0008-bpo-22699-Allow-compiling-on-debian-ubuntu-with-a-di.patch



---

archive/issue_comments_465147.json:
```json
{
    "body": "<a id='comment:64'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-03T20:23:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465147",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:64'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_465148.json:
```json
{
    "body": "<a id='comment:65'></a>Thanks!",
    "created_at": "2022-03-03T20:23:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465148",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:65'></a>Thanks!



---

archive/issue_comments_465149.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-03-03T23:47:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465149",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_465150.json:
```json
{
    "body": "<a id='comment:68'></a>tests look ok",
    "created_at": "2022-03-06T06:41:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465150",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:68'></a>tests look ok



---

archive/issue_comments_465151.json:
```json
{
    "body": "<a id='comment:69'></a>Let's please get this in.",
    "created_at": "2022-03-07T17:25:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465151",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:69'></a>Let's please get this in.



---

archive/issue_comments_465152.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-03-07T18:55:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465152",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_465153.json:
```json
{
    "body": "<a id='comment:70'></a>Been using and testing on 3.10 for a while - the only thing unknown to me is the debian/ubuntu patch. But I trust Isuru's work. So, let's move on.",
    "created_at": "2022-03-07T18:55:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465153",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:70'></a>Been using and testing on 3.10 for a while - the only thing unknown to me is the debian/ubuntu patch. But I trust Isuru's work. So, let's move on.



---

archive/issue_comments_465154.json:
```json
{
    "body": "<a id='comment:71'></a>Thanks!",
    "created_at": "2022-03-07T19:19:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465154",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:71'></a>Thanks!



---

archive/issue_comments_465155.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-09T23:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30767#issuecomment-465155",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_080221.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-09T23:38:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30767",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30767#event-80221"
}
```
