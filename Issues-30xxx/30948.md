# Issue 30948: build/pkgs: Split out spkg liblzma from xz

archive/issues_030711.json:
```json
{
    "body": "(from #30559)\n\n```\n$ grep xz build/pkgs/*/dependencies\nbuild/pkgs/cmake/dependencies:curl zlib bzip2 xz\nbuild/pkgs/gcc/dependencies:| $(MP_LIBRARY) mpfr mpc zlib xz\nbuild/pkgs/gdb/dependencies:mpfr zlib ncurses $(PYTHON) xz\nbuild/pkgs/gfortran/dependencies:| $(MP_LIBRARY) mpfr mpc zlib xz\nbuild/pkgs/p_group_cohomology/dependencies:$(PYTHON)... | $(PYTHON_TOOLCHAIN) matplotlib gap xz $(SAGERUNTIME) ipywidgets\nbuild/pkgs/python3/dependencies:zlib readline sqlite libpng bzip2 xz libffi\nbuild/pkgs/r/dependencies:$(BLAS) gfortran iconv readline bzip2 xz pcre curl | pkgconf\n```\nIn this list, `cmake`, `r`, `python3` all depend on `liblzma`. \nThe others are merely build-time dependencies on the `xz` binary (for unpacking the tarball in `sage_bootstrap.uncompress.tar_file` - when `sage-bootstrap-python` is < 3.3 - see https://docs.python.org/3/library/tarfile.html) and have nothing to do with the shared library.\n\nThe new `liblzma` package is a script package without installation steps; it delegates the actual installation to the `xz` spkg. This follows the same approach as the `libnauty`/`nauty` packages.\n\n\nCC:  @dimpase @jhpalmieri\n\nBranch/Commit: 1fb1fa905fa13ee2d6e247c553ea6aa857fffd3e\n\nReviewer: John Palmieri\n\nAuthor: Matthias Koeppe\n\nDependencies: #31409, #30350\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30948\n\n",
    "closed_at": "2021-10-10T10:17:12Z",
    "created_at": "2020-11-22T23:03:23Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "build/pkgs: Split out spkg liblzma from xz",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30948",
    "user": "https://github.com/mkoeppe"
}
```
(from #30559)

```
$ grep xz build/pkgs/*/dependencies
build/pkgs/cmake/dependencies:curl zlib bzip2 xz
build/pkgs/gcc/dependencies:| $(MP_LIBRARY) mpfr mpc zlib xz
build/pkgs/gdb/dependencies:mpfr zlib ncurses $(PYTHON) xz
build/pkgs/gfortran/dependencies:| $(MP_LIBRARY) mpfr mpc zlib xz
build/pkgs/p_group_cohomology/dependencies:$(PYTHON)... | $(PYTHON_TOOLCHAIN) matplotlib gap xz $(SAGERUNTIME) ipywidgets
build/pkgs/python3/dependencies:zlib readline sqlite libpng bzip2 xz libffi
build/pkgs/r/dependencies:$(BLAS) gfortran iconv readline bzip2 xz pcre curl | pkgconf
```
In this list, `cmake`, `r`, `python3` all depend on `liblzma`. 
The others are merely build-time dependencies on the `xz` binary (for unpacking the tarball in `sage_bootstrap.uncompress.tar_file` - when `sage-bootstrap-python` is < 3.3 - see https://docs.python.org/3/library/tarfile.html) and have nothing to do with the shared library.

The new `liblzma` package is a script package without installation steps; it delegates the actual installation to the `xz` spkg. This follows the same approach as the `libnauty`/`nauty` packages.


CC:  @dimpase @jhpalmieri

Branch/Commit: 1fb1fa905fa13ee2d6e247c553ea6aa857fffd3e

Reviewer: John Palmieri

Author: Matthias Koeppe

Dependencies: #31409, #30350

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30948





---

archive/issue_comments_614046.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,15 @@\n (from #30559)\n \n+```\n+$ grep xz build/pkgs/*/dependencies\n+build/pkgs/cmake/dependencies:curl zlib bzip2 xz\n+build/pkgs/gcc/dependencies:| $(MP_LIBRARY) mpfr mpc zlib xz\n+build/pkgs/gdb/dependencies:mpfr zlib ncurses $(PYTHON) xz\n+build/pkgs/gfortran/dependencies:| $(MP_LIBRARY) mpfr mpc zlib xz\n+build/pkgs/p_group_cohomology/dependencies:$(PYTHON)... | $(PYTHON_TOOLCHAIN) matplotlib gap xz $(SAGERUNTIME) ipywidgets\n+build/pkgs/python3/dependencies:zlib readline sqlite libpng bzip2 xz libffi\n+build/pkgs/r/dependencies:$(BLAS) gfortran iconv readline bzip2 xz pcre curl | pkgconf\n+```\n+In this list, `cmake`, `r`, `python3` all depend on `liblzma`. \n+The others are merely build-time dependencies on the `xz` binary (for unpacking the tarball in `sage_bootstrap.uncompress.tar_file` - when `sage-bootstrap-python` is < 3.3 - see https://docs.python.org/3/library/tarfile.html) and have nothing to do with the shared library.\n \n``````\n",
    "created_at": "2020-11-22T23:04:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614046",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,15 @@
 (from #30559)
 
+```
+$ grep xz build/pkgs/*/dependencies
+build/pkgs/cmake/dependencies:curl zlib bzip2 xz
+build/pkgs/gcc/dependencies:| $(MP_LIBRARY) mpfr mpc zlib xz
+build/pkgs/gdb/dependencies:mpfr zlib ncurses $(PYTHON) xz
+build/pkgs/gfortran/dependencies:| $(MP_LIBRARY) mpfr mpc zlib xz
+build/pkgs/p_group_cohomology/dependencies:$(PYTHON)... | $(PYTHON_TOOLCHAIN) matplotlib gap xz $(SAGERUNTIME) ipywidgets
+build/pkgs/python3/dependencies:zlib readline sqlite libpng bzip2 xz libffi
+build/pkgs/r/dependencies:$(BLAS) gfortran iconv readline bzip2 xz pcre curl | pkgconf
+```
+In this list, `cmake`, `r`, `python3` all depend on `liblzma`. 
+The others are merely build-time dependencies on the `xz` binary (for unpacking the tarball in `sage_bootstrap.uncompress.tar_file` - when `sage-bootstrap-python` is < 3.3 - see https://docs.python.org/3/library/tarfile.html) and have nothing to do with the shared library.
 
``````




---

archive/issue_comments_614047.json:
```json
{
    "body": "<a id='comment:2'></a>\nPython should be able handle uncompressing `.tar.xz` files, so maybe we should modify the `SageTarXZFile` class in `sage_bootstrap.uncompress.tar_file`: only use it if Python can't already handle `.xz` files.",
    "created_at": "2020-11-22T23:54:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614047",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>
Python should be able handle uncompressing `.tar.xz` files, so maybe we should modify the `SageTarXZFile` class in `sage_bootstrap.uncompress.tar_file`: only use it if Python can't already handle `.xz` files.



---

archive/issue_comments_614048.json:
```json
{
    "body": "<a id='comment:3'></a>\nWe could test\n\n```\nhasattr(tarfile.TarFile, 'xzopen')\n```\nfor example.",
    "created_at": "2020-11-22T23:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614048",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:3'></a>
We could test

```
hasattr(tarfile.TarFile, 'xzopen')
```
for example.



---

archive/issue_comments_614049.json:
```json
{
    "body": "<a id='comment:4'></a>\nI guess this shouldn't be necessary: `sage_bootstrap.uncompress.action.open_archive` should check to see if `tarfile.is_tarfile(FILE)` is `True` first, and it should be for `xz` files with a supported version of Python. So I still don't know what happened in Volker's case: using an old Python?",
    "created_at": "2020-11-23T00:05:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614049",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:4'></a>
I guess this shouldn't be necessary: `sage_bootstrap.uncompress.action.open_archive` should check to see if `tarfile.is_tarfile(FILE)` is `True` first, and it should be for `xz` files with a supported version of Python. So I still don't know what happened in Volker's case: using an old Python?



---

archive/issue_events_080820.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30948#event-80820"
}
```



---

archive/issue_comments_614050.json:
```json
{
    "body": "<a id='comment:5'></a>\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614050",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_614051.json:
```json
{
    "body": "<a id='comment:6'></a>\nIf `r` is coming from the system or `--disable-r` (#31409) is used, then we can drop the SAGE_SPKG_DEPCHECK for `xz` in `python3/spkg-configure.m4`\nbecause then there is no package depending on `liblzma` that will run in the same process as `python3`.\n(`cmake` depends on `liblzma` but it does not run in the same process.)",
    "created_at": "2021-03-26T23:51:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614051",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
If `r` is coming from the system or `--disable-r` (#31409) is used, then we can drop the SAGE_SPKG_DEPCHECK for `xz` in `python3/spkg-configure.m4`
because then there is no package depending on `liblzma` that will run in the same process as `python3`.
(`cmake` depends on `liblzma` but it does not run in the same process.)



---

archive/issue_comments_614052.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#31409\"",
    "created_at": "2021-03-26T23:51:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614052",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#31409"



---

archive/issue_events_080821.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30948#event-80821"
}
```



---

archive/issue_events_080822.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30948#event-80822"
}
```



---

archive/issue_comments_614053.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/build_pkgs__split_out_spkg_liblzma_from_xz\"",
    "created_at": "2021-09-26T00:12:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614053",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/build_pkgs__split_out_spkg_liblzma_from_xz"



---

archive/issue_comments_614054.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2021-09-26T00:15:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614054",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_614055.json:
```json
{
    "body": "Changing commit from \"\" to \"546df52bdcaeb19e69defb20e41f5b6b043a0092\"",
    "created_at": "2021-09-26T00:15:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614055",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "546df52bdcaeb19e69defb20e41f5b6b043a0092"



---

archive/issue_comments_614056.json:
```json
{
    "body": "<a id='comment:9'></a>\nNew commits:\n|                                                                                                                                          |                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[c504bb9](https://git.sagemath.org/sage.git/commit?id=c504bb98b41cf7c0c4876f1db34e8518030455e9)|`build/pkgs: Split out spkg liblzma from xz`|\n|[f83aac5](https://git.sagemath.org/sage.git/commit?id=f83aac5c4316dd3116562a29cc329b9407e9cfbd)|`build/pkgs/{cmake,r}/dependencies: Depend on liblzma, not xz`|\n|[9e1e643](https://git.sagemath.org/sage.git/commit?id=9e1e64319b4270a46bc7b0a13b86423e0c175b82)|`build/pkgs/python3/dependencies: Add liblzma`|\n|[fe36a64](https://git.sagemath.org/sage.git/commit?id=fe36a64587703ff58fa232153a586969b90fcd04)|`build/pkgs/r/spkg-configure.m4: Change DEPCHECK from xz to liblzma`|\n|[212b03e](https://git.sagemath.org/sage.git/commit?id=212b03eb9d4d793acaa634cacc3305f1b6b5c85a)|`build/pkgs/python3/spkg-configure.m4: Change DEPCHECK from xz to liblzma`|\n|[546df52](https://git.sagemath.org/sage.git/commit?id=546df52bdcaeb19e69defb20e41f5b6b043a0092)|`build/pkgs/xz/spkg-configure.m4: Set sage_require_xz=no if sage-bootstrap-python is new enough`|",
    "created_at": "2021-09-26T00:15:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614056",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
New commits:
|                                                                                                                                          |                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[c504bb9](https://git.sagemath.org/sage.git/commit?id=c504bb98b41cf7c0c4876f1db34e8518030455e9)|`build/pkgs: Split out spkg liblzma from xz`|
|[f83aac5](https://git.sagemath.org/sage.git/commit?id=f83aac5c4316dd3116562a29cc329b9407e9cfbd)|`build/pkgs/{cmake,r}/dependencies: Depend on liblzma, not xz`|
|[9e1e643](https://git.sagemath.org/sage.git/commit?id=9e1e64319b4270a46bc7b0a13b86423e0c175b82)|`build/pkgs/python3/dependencies: Add liblzma`|
|[fe36a64](https://git.sagemath.org/sage.git/commit?id=fe36a64587703ff58fa232153a586969b90fcd04)|`build/pkgs/r/spkg-configure.m4: Change DEPCHECK from xz to liblzma`|
|[212b03e](https://git.sagemath.org/sage.git/commit?id=212b03eb9d4d793acaa634cacc3305f1b6b5c85a)|`build/pkgs/python3/spkg-configure.m4: Change DEPCHECK from xz to liblzma`|
|[546df52](https://git.sagemath.org/sage.git/commit?id=546df52bdcaeb19e69defb20e41f5b6b043a0092)|`build/pkgs/xz/spkg-configure.m4: Set sage_require_xz=no if sage-bootstrap-python is new enough`|



---

archive/issue_comments_614057.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,3 +13,5 @@\n In this list, `cmake`, `r`, `python3` all depend on `liblzma`. \n The others are merely build-time dependencies on the `xz` binary (for unpacking the tarball in `sage_bootstrap.uncompress.tar_file` - when `sage-bootstrap-python` is < 3.3 - see https://docs.python.org/3/library/tarfile.html) and have nothing to do with the shared library.\n \n+The new `liblzma` package is a script package without installation steps; it delegates the actual installation to the `xz` spkg. This follows the same approach as the `libnauty`/`nauty` packages.\n+\n``````\n",
    "created_at": "2021-09-26T00:15:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614057",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,3 +13,5 @@
 In this list, `cmake`, `r`, `python3` all depend on `liblzma`. 
 The others are merely build-time dependencies on the `xz` binary (for unpacking the tarball in `sage_bootstrap.uncompress.tar_file` - when `sage-bootstrap-python` is < 3.3 - see https://docs.python.org/3/library/tarfile.html) and have nothing to do with the shared library.
 
+The new `liblzma` package is a script package without installation steps; it delegates the actual installation to the `xz` spkg. This follows the same approach as the `libnauty`/`nauty` packages.
+
``````




---

archive/issue_comments_614058.json:
```json
{
    "body": "<a id='comment:10'></a>\nThe changes discussed in[comment:2](#comment%3A2) to[comment:4](#comment%3A4) still need to be implemented",
    "created_at": "2021-09-26T00:18:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614058",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
The changes discussed in[comment:2](#comment%3A2) to[comment:4](#comment%3A4) still need to be implemented



---

archive/issue_comments_614059.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[2b4b142](https://git.sagemath.org/sage.git/commit/?id=2b4b142fbcdad6cc53313d84fdc88e49a6168de2)|`build/pkgs: Split out spkg liblzma from xz`|\n|[5137ae9](https://git.sagemath.org/sage.git/commit/?id=5137ae91f2dd0e61de3da26d3458459d21df7c24)|`build/pkgs/{cmake,r}/dependencies: Depend on liblzma, not xz`|\n|[462fd33](https://git.sagemath.org/sage.git/commit/?id=462fd33dfa0afc26f07635bce582a24e51ce5db8)|`build/pkgs/python3/dependencies: Add liblzma`|\n|[ba6fdcd](https://git.sagemath.org/sage.git/commit/?id=ba6fdcd228428ad397fffcc2110fa58c4e8f75b2)|`build/pkgs/r/spkg-configure.m4: Change DEPCHECK from xz to liblzma`|\n|[bba3a93](https://git.sagemath.org/sage.git/commit/?id=bba3a93cd92e5ddec9a6a718d30ad9552bf3ee70)|`build/pkgs/python3/spkg-configure.m4: Change DEPCHECK from xz to liblzma`|\n|[bf500be](https://git.sagemath.org/sage.git/commit/?id=bf500bea95744af285d461b4f84ac573ecc97e3d)|`build/pkgs/xz/spkg-configure.m4: Set sage_require_xz=no if sage-bootstrap-python is new enough`|",
    "created_at": "2021-09-26T00:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614059",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[2b4b142](https://git.sagemath.org/sage.git/commit/?id=2b4b142fbcdad6cc53313d84fdc88e49a6168de2)|`build/pkgs: Split out spkg liblzma from xz`|
|[5137ae9](https://git.sagemath.org/sage.git/commit/?id=5137ae91f2dd0e61de3da26d3458459d21df7c24)|`build/pkgs/{cmake,r}/dependencies: Depend on liblzma, not xz`|
|[462fd33](https://git.sagemath.org/sage.git/commit/?id=462fd33dfa0afc26f07635bce582a24e51ce5db8)|`build/pkgs/python3/dependencies: Add liblzma`|
|[ba6fdcd](https://git.sagemath.org/sage.git/commit/?id=ba6fdcd228428ad397fffcc2110fa58c4e8f75b2)|`build/pkgs/r/spkg-configure.m4: Change DEPCHECK from xz to liblzma`|
|[bba3a93](https://git.sagemath.org/sage.git/commit/?id=bba3a93cd92e5ddec9a6a718d30ad9552bf3ee70)|`build/pkgs/python3/spkg-configure.m4: Change DEPCHECK from xz to liblzma`|
|[bf500be](https://git.sagemath.org/sage.git/commit/?id=bf500bea95744af285d461b4f84ac573ecc97e3d)|`build/pkgs/xz/spkg-configure.m4: Set sage_require_xz=no if sage-bootstrap-python is new enough`|



---

archive/issue_comments_614060.json:
```json
{
    "body": "Changing commit from \"546df52bdcaeb19e69defb20e41f5b6b043a0092\" to \"bf500bea95744af285d461b4f84ac573ecc97e3d\"",
    "created_at": "2021-09-26T00:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614060",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "546df52bdcaeb19e69defb20e41f5b6b043a0092" to "bf500bea95744af285d461b4f84ac573ecc97e3d"



---

archive/issue_comments_614061.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[bc01006](https://git.sagemath.org/sage.git/commit/?id=bc010068136dbdda22a83bb933dbffa3686865e4)|`build/pkgs/xz: Update to 5.2.5, add upstream_url`|",
    "created_at": "2021-09-26T00:58:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614061",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[bc01006](https://git.sagemath.org/sage.git/commit/?id=bc010068136dbdda22a83bb933dbffa3686865e4)|`build/pkgs/xz: Update to 5.2.5, add upstream_url`|



---

archive/issue_comments_614062.json:
```json
{
    "body": "Changing commit from \"bf500bea95744af285d461b4f84ac573ecc97e3d\" to \"bc010068136dbdda22a83bb933dbffa3686865e4\"",
    "created_at": "2021-09-26T00:58:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614062",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bf500bea95744af285d461b4f84ac573ecc97e3d" to "bc010068136dbdda22a83bb933dbffa3686865e4"



---

archive/issue_comments_614063.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[009256e](https://git.sagemath.org/sage.git/commit/?id=009256e4068b5d349d8e0a2793e77cd83b7c10ec)|`build/pkgs/liblzma/dependencies: Update`|",
    "created_at": "2021-09-26T01:02:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614063",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[009256e](https://git.sagemath.org/sage.git/commit/?id=009256e4068b5d349d8e0a2793e77cd83b7c10ec)|`build/pkgs/liblzma/dependencies: Update`|



---

archive/issue_comments_614064.json:
```json
{
    "body": "Changing commit from \"bc010068136dbdda22a83bb933dbffa3686865e4\" to \"009256e4068b5d349d8e0a2793e77cd83b7c10ec\"",
    "created_at": "2021-09-26T01:02:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614064",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bc010068136dbdda22a83bb933dbffa3686865e4" to "009256e4068b5d349d8e0a2793e77cd83b7c10ec"



---

archive/issue_comments_614065.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-09-26T21:48:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614065",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_614066.json:
```json
{
    "body": "<a id='comment:15'></a>\nShould there be a symlink `build/pkgs/liblzma/package-version.txt -> ../xz/package-version.txt`? Or is it okay to omit the version for `lzma`?",
    "created_at": "2021-09-29T22:40:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614066",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:15'></a>
Should there be a symlink `build/pkgs/liblzma/package-version.txt -> ../xz/package-version.txt`? Or is it okay to omit the version for `lzma`?



---

archive/issue_comments_614067.json:
```json
{
    "body": "Changing commit from \"009256e4068b5d349d8e0a2793e77cd83b7c10ec\" to \"de28c72a9f65ed6681d05d3b9a954bd8f266c9a7\"",
    "created_at": "2021-09-29T23:18:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614067",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "009256e4068b5d349d8e0a2793e77cd83b7c10ec" to "de28c72a9f65ed6681d05d3b9a954bd8f266c9a7"



---

archive/issue_comments_614068.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|\n|[de28c72](https://git.sagemath.org/sage.git/commit/?id=de28c72a9f65ed6681d05d3b9a954bd8f266c9a7)|`build/pkgs/liblzma: Add symlink for package-version.txt`|",
    "created_at": "2021-09-29T23:18:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614068",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
|[de28c72](https://git.sagemath.org/sage.git/commit/?id=de28c72a9f65ed6681d05d3b9a954bd8f266c9a7)|`build/pkgs/liblzma: Add symlink for package-version.txt`|



---

archive/issue_comments_614069.json:
```json
{
    "body": "<a id='comment:17'></a>\nIt's ok to omit it (it is using \"none\" in this case), but I agree that it's probably nicer with a version",
    "created_at": "2021-09-29T23:19:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614069",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
It's ok to omit it (it is using "none" in this case), but I agree that it's probably nicer with a version



---

archive/issue_comments_614070.json:
```json
{
    "body": "<a id='comment:18'></a>\nThank you, looks good.",
    "created_at": "2021-09-30T04:51:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614070",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:18'></a>
Thank you, looks good.



---

archive/issue_comments_614071.json:
```json
{
    "body": "Changing reviewer from \"\" to \"John Palmieri\"",
    "created_at": "2021-09-30T04:51:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614071",
    "user": "https://github.com/jhpalmieri"
}
```

Changing reviewer from "" to "John Palmieri"



---

archive/issue_comments_614072.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-09-30T04:51:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614072",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_614073.json:
```json
{
    "body": "<a id='comment:19'></a>\nThanks!",
    "created_at": "2021-09-30T04:59:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614073",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>
Thanks!



---

archive/issue_comments_614074.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-10-02T19:01:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614074",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_614075.json:
```json
{
    "body": "<a id='comment:20'></a>\nMerge conflict",
    "created_at": "2021-10-02T19:01:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614075",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:20'></a>
Merge conflict



---

archive/issue_comments_614076.json:
```json
{
    "body": "<a id='comment:21'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[8ba1d79](https://git.sagemath.org/sage.git/commit/?id=8ba1d79f84e6030c01ede985e813e35a3d180feb)|`trac 30350: remove the ATLAS package`|\n|[69db839](https://git.sagemath.org/sage.git/commit/?id=69db83912a25f1cfa4341df59b2a5a45bb27a3cb)|`trac 30350: remove \"--with-blas=\" option to ./configure`|\n|[272424a](https://git.sagemath.org/sage.git/commit/?id=272424a33ba1a68b221b160ebbbc9c89852aa464)|`trac 30350: remove remaining bits in build/pkgs/atlas/distros`|\n|[1fb1fa9](https://git.sagemath.org/sage.git/commit/?id=1fb1fa905fa13ee2d6e247c553ea6aa857fffd3e)|`Merge #30350`|",
    "created_at": "2021-10-02T19:12:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614076",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[8ba1d79](https://git.sagemath.org/sage.git/commit/?id=8ba1d79f84e6030c01ede985e813e35a3d180feb)|`trac 30350: remove the ATLAS package`|
|[69db839](https://git.sagemath.org/sage.git/commit/?id=69db83912a25f1cfa4341df59b2a5a45bb27a3cb)|`trac 30350: remove "--with-blas=" option to ./configure`|
|[272424a](https://git.sagemath.org/sage.git/commit/?id=272424a33ba1a68b221b160ebbbc9c89852aa464)|`trac 30350: remove remaining bits in build/pkgs/atlas/distros`|
|[1fb1fa9](https://git.sagemath.org/sage.git/commit/?id=1fb1fa905fa13ee2d6e247c553ea6aa857fffd3e)|`Merge #30350`|



---

archive/issue_comments_614077.json:
```json
{
    "body": "Changing commit from \"de28c72a9f65ed6681d05d3b9a954bd8f266c9a7\" to \"1fb1fa905fa13ee2d6e247c553ea6aa857fffd3e\"",
    "created_at": "2021-10-02T19:12:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614077",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "de28c72a9f65ed6681d05d3b9a954bd8f266c9a7" to "1fb1fa905fa13ee2d6e247c553ea6aa857fffd3e"



---

archive/issue_comments_614078.json:
```json
{
    "body": "Changing dependencies from \"#31409\" to \"#31409, #30350\"",
    "created_at": "2021-10-02T19:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614078",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#31409" to "#31409, #30350"



---

archive/issue_comments_614079.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2021-10-02T19:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614079",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_614080.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-10T10:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614080",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_080823.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-10T10:17:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30948#event-80823"
}
```



---

archive/issue_comments_614081.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/build_pkgs__split_out_spkg_liblzma_from_xz\" to \"1fb1fa905fa13ee2d6e247c553ea6aa857fffd3e\"",
    "created_at": "2021-10-10T10:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30948#issuecomment-614081",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/build_pkgs__split_out_spkg_liblzma_from_xz" to "1fb1fa905fa13ee2d6e247c553ea6aa857fffd3e"
