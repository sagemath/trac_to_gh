# Issue 30731: Replace use of build/bin/sage-python23 by just python3

archive/issues_030494.json:
```json
{
    "body": "After the removal of python2 support, this script always calls `$SAGE_LOCAL/bin/python3`.  \n\nThis simplification will help with implementing #29013.\n\n\nAssignee: @mkoeppe\n\nCC:  @tobiasdiez @dimpase @jhpalmieri\n\nBranch/Commit: df2822c5c130811bcba1d7e65743b100444083dd\n\nReviewer: Matthias Koeppe, Tobias Diez, Dima Pasechnik\n\nAuthor: Tobias Diez, Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30731\n\n",
    "closed_at": "2021-01-24T10:36:51Z",
    "created_at": "2020-10-05T23:53:10Z",
    "labels": [
        "component: build",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Replace use of build/bin/sage-python23 by just python3",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30731",
    "user": "https://github.com/mkoeppe"
}
```
After the removal of python2 support, this script always calls `$SAGE_LOCAL/bin/python3`.  

This simplification will help with implementing #29013.


Assignee: @mkoeppe

CC:  @tobiasdiez @dimpase @jhpalmieri

Branch/Commit: df2822c5c130811bcba1d7e65743b100444083dd

Reviewer: Matthias Koeppe, Tobias Diez, Dima Pasechnik

Author: Tobias Diez, Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30731





---

archive/issue_comments_608229.json:
```json
{
    "body": "<a id='comment:2'></a>https://trac.sagemath.org/ticket/30899#comment:55 explains why replacing it with plain `python3` is correct.",
    "created_at": "2020-11-19T17:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608229",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>https://trac.sagemath.org/ticket/30899#comment:55 explains why replacing it with plain `python3` is correct.



---

archive/issue_comments_608230.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2020-11-25T19:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608230",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_608231.json:
```json
{
    "body": "Changing branch from \"\" to \"public/build/sharedSystemPython\"",
    "created_at": "2020-11-25T19:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608231",
    "user": "https://github.com/tobiasdiez"
}
```

Changing branch from "" to "public/build/sharedSystemPython"



---

archive/issue_comments_608232.json:
```json
{
    "body": "Set assignee to @mkoeppe.",
    "created_at": "2020-11-25T19:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608232",
    "user": "https://github.com/tobiasdiez"
}
```

Set assignee to @mkoeppe.



---

archive/issue_comments_608233.json:
```json
{
    "body": "Changing commit from \"\" to \"9f15544b8ddb9ca2770c6eec88ab80180672ce7e\"",
    "created_at": "2020-11-25T19:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608233",
    "user": "https://github.com/tobiasdiez"
}
```

Changing commit from "" to "9f15544b8ddb9ca2770c6eec88ab80180672ce7e"



---

archive/issue_comments_608234.json:
```json
{
    "body": "Changing author from \"\" to \"Tobias Diez, ...\"",
    "created_at": "2020-11-25T19:39:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608234",
    "user": "https://github.com/tobiasdiez"
}
```

Changing author from "" to "Tobias Diez, ..."



---

archive/issue_comments_608235.json:
```json
{
    "body": "Changing commit from \"9f15544b8ddb9ca2770c6eec88ab80180672ce7e\" to \"7cb43a574c3869e27824b9b8202310910831ad44\"",
    "created_at": "2020-12-18T22:37:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608235",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9f15544b8ddb9ca2770c6eec88ab80180672ce7e" to "7cb43a574c3869e27824b9b8202310910831ad44"



---

archive/issue_comments_608236.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-12-18T22:37:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608236",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_608237.json:
```json
{
    "body": "Changing author from \"Tobias Diez, ...\" to \"Tobias Diez\"",
    "created_at": "2020-12-18T22:38:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608237",
    "user": "https://github.com/tobiasdiez"
}
```

Changing author from "Tobias Diez, ..." to "Tobias Diez"



---

archive/issue_comments_608238.json:
```json
{
    "body": "<a id='comment:6'></a>I've now replaced all instances of sage-python23, and deleted the script itself. Ready for review.",
    "created_at": "2020-12-18T22:38:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608238",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:6'></a>I've now replaced all instances of sage-python23, and deleted the script itself. Ready for review.



---

archive/issue_comments_608239.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-12-18T22:38:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608239",
    "user": "https://github.com/tobiasdiez"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_608240.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-12-19T03:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608240",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_608241.json:
```json
{
    "body": "Changing commit from \"7cb43a574c3869e27824b9b8202310910831ad44\" to \"df2822c5c130811bcba1d7e65743b100444083dd\"",
    "created_at": "2020-12-19T03:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608241",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7cb43a574c3869e27824b9b8202310910831ad44" to "df2822c5c130811bcba1d7e65743b100444083dd"



---

archive/issue_comments_608242.json:
```json
{
    "body": "Changing author from \"Tobias Diez\" to \"Tobias Diez, Matthias Koeppe\"",
    "created_at": "2020-12-19T03:30:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608242",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "Tobias Diez" to "Tobias Diez, Matthias Koeppe"



---

archive/issue_comments_608243.json:
```json
{
    "body": "<a id='comment:8'></a>I've revised the documentation a bit.",
    "created_at": "2020-12-19T03:30:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608243",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>I've revised the documentation a bit.



---

archive/issue_comments_608244.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Tobias Diez, ...\"",
    "created_at": "2020-12-19T08:51:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608244",
    "user": "https://github.com/tobiasdiez"
}
```

Changing reviewer from "" to "Tobias Diez, ..."



---

archive/issue_comments_608245.json:
```json
{
    "body": "<a id='comment:9'></a>Thanks, LGTM!",
    "created_at": "2020-12-19T08:51:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608245",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:9'></a>Thanks, LGTM!



---

archive/issue_comments_608246.json:
```json
{
    "body": "<a id='comment:11'></a>This works well for me, but as this ticket removes the safety check that would stop a python package that forgot to include `$(PYTHON)` in `dependencies` from picking up the wrong `python3` from somewhere else in the path, other developers should take a look if this is acceptable to them",
    "created_at": "2020-12-21T01:58:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608246",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>This works well for me, but as this ticket removes the safety check that would stop a python package that forgot to include `$(PYTHON)` in `dependencies` from picking up the wrong `python3` from somewhere else in the path, other developers should take a look if this is acceptable to them



---

archive/issue_comments_608247.json:
```json
{
    "body": "Changing reviewer from \"Tobias Diez, ...\" to \"Matthias Koeppe, Tobias Diez, ...\"",
    "created_at": "2020-12-21T01:58:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608247",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "Tobias Diez, ..." to "Matthias Koeppe, Tobias Diez, ..."



---

archive/issue_comments_608248.json:
```json
{
    "body": "<a id='comment:12'></a>I would appreciate if this ticket could be reviewed. Thanks!",
    "created_at": "2021-01-06T12:08:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608248",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:12'></a>I would appreciate if this ticket could be reviewed. Thanks!



---

archive/issue_comments_608249.json:
```json
{
    "body": "<a id='comment:13'></a>In the [installation guide](https://doc.sagemath.org/html/en/installation/source.html#command-line-tools), do we need to remove the option to use Python 2.7? Or is that not related to this ticket?",
    "created_at": "2021-01-06T18:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608249",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:13'></a>In the [installation guide](https://doc.sagemath.org/html/en/installation/source.html#command-line-tools), do we need to remove the option to use Python 2.7? Or is that not related to this ticket?



---

archive/issue_comments_608250.json:
```json
{
    "body": "<a id='comment:14'></a>The minimal build requirements listed there are regarding `sage-bootstrap-python`, which is unrelated to this ticket.",
    "created_at": "2021-01-06T21:44:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608250",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>The minimal build requirements listed there are regarding `sage-bootstrap-python`, which is unrelated to this ticket.



---

archive/issue_comments_608251.json:
```json
{
    "body": "<a id='comment:15'></a>Update of this line of the installation guide now in #31192.",
    "created_at": "2021-01-06T22:53:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608251",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>Update of this line of the installation guide now in #31192.



---

archive/issue_comments_608252.json:
```json
{
    "body": "<a id='comment:16'></a>In principle it looks fine to me. How widely has it been tested?\n\n- with Sage's Python 3?\n- on systems with Python 3 (linux, OS X, OS X + homebrew)?\n- on systems with only Python 2? (Should not be an issue, but should be tested anyway.)\n- are there other configurations that need testing?",
    "created_at": "2021-01-07T23:52:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608252",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:16'></a>In principle it looks fine to me. How widely has it been tested?

- with Sage's Python 3?
- on systems with Python 3 (linux, OS X, OS X + homebrew)?
- on systems with only Python 2? (Should not be an issue, but should be tested anyway.)
- are there other configurations that need testing?



---

archive/issue_comments_608253.json:
```json
{
    "body": "<a id='comment:17'></a>I've tested it on Ubunut 20.10 (via WSL) and python 3 system.",
    "created_at": "2021-01-08T10:56:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608253",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:17'></a>I've tested it on Ubunut 20.10 (via WSL) and python 3 system.



---

archive/issue_comments_608254.json:
```json
{
    "body": "<a id='comment:18'></a>Unfortunately I am currently unable to build Sage on my OS X Catalina machine using homebrew's Python, and this makes it hard for me to test this. As I said before, in principle it looks fine, so if others have tested it on a variety of platforms, I would be happy with a positive review.",
    "created_at": "2021-01-14T00:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608254",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:18'></a>Unfortunately I am currently unable to build Sage on my OS X Catalina machine using homebrew's Python, and this makes it hard for me to test this. As I said before, in principle it looks fine, so if others have tested it on a variety of platforms, I would be happy with a positive review.



---

archive/issue_comments_608255.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-01-15T14:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608255",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_608256.json:
```json
{
    "body": "<a id='comment:19'></a>lgtm",
    "created_at": "2021-01-15T14:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608256",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'></a>lgtm



---

archive/issue_comments_608257.json:
```json
{
    "body": "Changing reviewer from \"Matthias Koeppe, Tobias Diez, ...\" to \"Matthias Koeppe, Tobias Diez, Dima Pasechnik\"",
    "created_at": "2021-01-15T14:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608257",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "Matthias Koeppe, Tobias Diez, ..." to "Matthias Koeppe, Tobias Diez, Dima Pasechnik"



---

archive/issue_comments_608258.json:
```json
{
    "body": "<a id='comment:20'></a>Thanks!",
    "created_at": "2021-01-15T14:22:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608258",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:20'></a>Thanks!



---

archive/issue_comments_608259.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-01-24T10:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608259",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_080092.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-01-24T10:36:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30731#event-80092"
}
```



---

archive/issue_comments_608260.json:
```json
{
    "body": "Changing branch from \"public/build/sharedSystemPython\" to \"df2822c5c130811bcba1d7e65743b100444083dd\"",
    "created_at": "2021-01-24T10:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30731#issuecomment-608260",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/build/sharedSystemPython" to "df2822c5c130811bcba1d7e65743b100444083dd"
