# Issue 30546: python3 spkg-configure: Only search for "python3", implement "configure --with-python=/PATH/TO/PYTHON"

archive/issues_030309.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nWe make the `configure` search for a suitable `python3` more straightforward.\n\nInstead of searching for various names such as `python3.8`, `python3.7` etc., we only look for `python3`. \n\nAs is standard practice, users will set their `PATH` so that the `python3` that is accessible from the `PATH` is the desired Python version.\n\nAs an additional mechanism, we add `configure --with-python=/PATH/TO/PYTHON`.  In contrast to the (undocumented) `configure PYTHON3=/PATH/TO/PYTHON`, it runs the usual tests whether this python is actually suitable.\n\n\n\nDepends on #30576\nDepends on #29500\n\nCC:  @mkoeppe @embray @orlitzky\n\nComponent: **build: configure**\n\nAuthor: **Matthias Koeppe, Dima Pasechnik**\n\nBranch/Commit: **[`f19d9a4`](https://github.com/sagemath/sagetrac-mirror/commit/f19d9a4a356da5e4b068dc52c321e703c2648da3)**\n\nReviewer: **Dima Pasechnik, Matthias Koeppe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30546_\n\n",
    "closed_at": "2020-09-30T22:30:14Z",
    "created_at": "2020-09-10T11:07:12Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build%3A%20configure",
        "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "python3 spkg-configure: Only search for \"python3\", implement \"configure --with-python=/PATH/TO/PYTHON\"",
    "type": "issue",
    "updated_at": "2020-09-30T22:30:14Z",
    "url": "https://github.com/sagemath/sage/issues/30546",
    "user": "https://github.com/dimpase"
}
```
<div id="comment:0"></div>

We make the `configure` search for a suitable `python3` more straightforward.

Instead of searching for various names such as `python3.8`, `python3.7` etc., we only look for `python3`. 

As is standard practice, users will set their `PATH` so that the `python3` that is accessible from the `PATH` is the desired Python version.

As an additional mechanism, we add `configure --with-python=/PATH/TO/PYTHON`.  In contrast to the (undocumented) `configure PYTHON3=/PATH/TO/PYTHON`, it runs the usual tests whether this python is actually suitable.



Depends on #30576
Depends on #29500

CC:  @mkoeppe @embray @orlitzky

Component: **build: configure**

Author: **Matthias Koeppe, Dima Pasechnik**

Branch/Commit: **[`f19d9a4`](https://github.com/sagemath/sagetrac-mirror/commit/f19d9a4a356da5e4b068dc52c321e703c2648da3)**

Reviewer: **Dima Pasechnik, Matthias Koeppe**

_Issue created by migration from https://trac.sagemath.org/ticket/30546_





---

archive/issue_events_417987.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-10T11:07:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-417987"
}
```



---

archive/issue_events_417988.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-10T11:07:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build%3A%20configure",
    "label_color": "0000b0",
    "label_name": "c: build: configure",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-417988"
}
```



---

archive/issue_events_417989.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-10T11:07:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-417989"
}
```



---

archive/issue_events_417990.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-10T11:07:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-417990"
}
```



---

archive/issue_events_417991.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-10T11:08:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-417991"
}
```



---

archive/issue_comments_487148.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nperhaps copypasted comments in .m4 file may be trimmed.",
    "created_at": "2020-09-10T11:08:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487148",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:1" align="right">comment:1</div>

perhaps copypasted comments in .m4 file may be trimmed.



---

archive/issue_comments_487149.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2020-09-10T11:23:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487149",
    "user": "https://github.com/dimpase"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_487150.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI don't know if this is a defect. If you have a directory containing python3 in the front of your path, shouldn't that be the python we are using?",
    "created_at": "2020-09-10T15:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487150",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

I don't know if this is a defect. If you have a directory containing python3 in the front of your path, shouldn't that be the python we are using?



---

archive/issue_events_417992.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-10T15:08:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-417992"
}
```



---

archive/issue_events_417993.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-10T15:08:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-417993"
}
```



---

archive/issue_comments_487151.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nWhy is that the case? It's perfectly fine to have different fully-featured python3.x installed.\nIt works on Homebrew to use its python3.8 in Sage, while python3 still is python3.7\nIt works on Gentoo, which may have python3.6-9 installed all at the same time.\n(Python plays an important role on Linux, one can't easily bump the version)\n\nE.g. that's what I have on a Gentoo box, without doing anything special:\n\n```\n# python3 <tab>\npython3            python3.7-config   python3.7m-config  python3.8-config   python3.9-config   \npython3.7          python3.7m         python3.8          python3.9          python3-config \n```\n\nOn Ubuntu 18.04 one can install python3.8 (the system python is 3.6, and I'm not sure if it works well in Sage)",
    "created_at": "2020-09-10T15:21:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487151",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:5" align="right">comment:5</div>

Why is that the case? It's perfectly fine to have different fully-featured python3.x installed.
It works on Homebrew to use its python3.8 in Sage, while python3 still is python3.7
It works on Gentoo, which may have python3.6-9 installed all at the same time.
(Python plays an important role on Linux, one can't easily bump the version)

E.g. that's what I have on a Gentoo box, without doing anything special:

```
# python3 <tab>
python3            python3.7-config   python3.7m-config  python3.8-config   python3.9-config   
python3.7          python3.7m         python3.8          python3.9          python3-config 
```

On Ubuntu 18.04 one can install python3.8 (the system python is 3.6, and I'm not sure if it works well in Sage)



---

archive/issue_events_417994.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-10T15:27:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-417994"
}
```



---

archive/issue_events_417995.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-10T15:27:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-417995"
}
```



---

archive/issue_comments_487152.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@dimpase](#comment%3A5):\n> Why is that the case? \n\nBecause the user seems to have expressed a preference for the python3 provided by the directory in the front of the PATH.",
    "created_at": "2020-09-10T15:34:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487152",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@dimpase](#comment%3A5):
> Why is that the case? 

Because the user seems to have expressed a preference for the python3 provided by the directory in the front of the PATH.



---

archive/issue_comments_487153.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@mkoeppe](#comment%3A7):\n> Replying to [@dimpase](#comment%3A5):\n> > Why is that the case? \n> \n> \n> Because the user seems to have expressed a preference for the python3 provided by the directory in the front of the PATH.\n> \n\nfor this, we should revive `--with-python=` option, not this kinds of silly hacks.\n\nBesides, as I said, it's not always safe to prepend stuff to your PATH.",
    "created_at": "2020-09-10T15:43:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487153",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@mkoeppe](#comment%3A7):
> Replying to [@dimpase](#comment%3A5):
> > Why is that the case? 
> 
> 
> Because the user seems to have expressed a preference for the python3 provided by the directory in the front of the PATH.
> 

for this, we should revive `--with-python=` option, not this kinds of silly hacks.

Besides, as I said, it's not always safe to prepend stuff to your PATH.



---

archive/issue_comments_487154.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nPutting the bin directory of a Python installation in the front of the PATH is the standard way of activating a venv, for example.",
    "created_at": "2020-09-10T16:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487154",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

Putting the bin directory of a Python installation in the front of the PATH is the standard way of activating a venv, for example.



---

archive/issue_comments_487155.json:
```json
{
    "body": "Replying to [@dimpase](https://github.com/sagemath/sage/issues/30546#comment:0):\n> As modifying `PATH` to put the best python 1st might be error-prone (think about Conda, Homebrew, etc)\n\nI would think this needs some elaboration.",
    "created_at": "2020-09-10T16:33:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487155",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [@dimpase](https://github.com/sagemath/sage/issues/30546#comment:0):
> As modifying `PATH` to put the best python 1st might be error-prone (think about Conda, Homebrew, etc)

I would think this needs some elaboration.



---

archive/issue_comments_487156.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@mkoeppe](#comment%3A10):\n> Replying to [@dimpase](https://github.com/sagemath/sage/issues/30546#comment:0):\n> > As modifying `PATH` to put the best python 1st might be error-prone (think about Conda, Homebrew, etc)\n> \n> \n> I would think this needs some elaboration.\n\nSay, you build under Homebrew, but want to use system Python, in /usr/bin.\nPrepending /usr/bin to your PATH will likely break stuff in Hombrew, as some of it depends on /usr/local/bin being first in your PATH.\n\nSame with Conda - it prepends stuff to PATH, and prepending /usr/bin or /usr/local/bin to PATH under active Conda will likely break it. \n\nIn general, many Python-dependent environments have the concept of \"main\" Python. We discussed on `sage-devel` that Homebrew modifies `~/.zshrc` (if the account's shell is `zsh`)\n\n```\n% cat ~/.zshrc\nexport PATH=\"/usr/local/opt/python@3.7/bin:$PATH\"\n```\nPrepending to the PATH here might open a can of worms.",
    "created_at": "2020-09-10T17:03:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487156",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@mkoeppe](#comment%3A10):
> Replying to [@dimpase](https://github.com/sagemath/sage/issues/30546#comment:0):
> > As modifying `PATH` to put the best python 1st might be error-prone (think about Conda, Homebrew, etc)
> 
> 
> I would think this needs some elaboration.

Say, you build under Homebrew, but want to use system Python, in /usr/bin.
Prepending /usr/bin to your PATH will likely break stuff in Hombrew, as some of it depends on /usr/local/bin being first in your PATH.

Same with Conda - it prepends stuff to PATH, and prepending /usr/bin or /usr/local/bin to PATH under active Conda will likely break it. 

In general, many Python-dependent environments have the concept of "main" Python. We discussed on `sage-devel` that Homebrew modifies `~/.zshrc` (if the account's shell is `zsh`)

```
% cat ~/.zshrc
export PATH="/usr/local/opt/python@3.7/bin:$PATH"
```
Prepending to the PATH here might open a can of worms.



---

archive/issue_comments_487157.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI think I agree with Matthias here. Prepending locations to the search path is the \"standard\" way of encouraging autotools to find your preferred version of something, and our widespread use of e.g. `AC_CHECK_PROGS` and `AC_SEARCH_LIBS` relies on that.\n\nIn this case maybe it is unexpected that a copy of python-3.6 in `/usr/local/bin` will be preferred over a copy of `python-3.8` in `/usr/bin`, but... does that cause any real problems? We only detect supported versions, so any version we detect should be OK, right?",
    "created_at": "2020-09-10T18:22:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487157",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:12" align="right">comment:12</div>

I think I agree with Matthias here. Prepending locations to the search path is the "standard" way of encouraging autotools to find your preferred version of something, and our widespread use of e.g. `AC_CHECK_PROGS` and `AC_SEARCH_LIBS` relies on that.

In this case maybe it is unexpected that a copy of python-3.6 in `/usr/local/bin` will be preferred over a copy of `python-3.8` in `/usr/bin`, but... does that cause any real problems? We only detect supported versions, so any version we detect should be OK, right?



---

archive/issue_comments_487158.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI don't understand - I have given you an example: prepending /usr/bin to PATH on Homebrew or Conda is basically not possible. \n\nYet I want to build Sage with Python3.8  in /usr/bin, as opposed to an earlier version which is 1st in the PATH.",
    "created_at": "2020-09-10T18:40:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487158",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:13" align="right">comment:13</div>

I don't understand - I have given you an example: prepending /usr/bin to PATH on Homebrew or Conda is basically not possible. 

Yet I want to build Sage with Python3.8  in /usr/bin, as opposed to an earlier version which is 1st in the PATH.



---

archive/issue_comments_487159.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@dimpase](#comment%3A11):\n> In general, many Python-dependent environments have the concept of \"main\" Python.\n\nYes, it's represented by the unversioned \"python3\" in the front of the PATH.",
    "created_at": "2020-09-10T18:43:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487159",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@dimpase](#comment%3A11):
> In general, many Python-dependent environments have the concept of "main" Python.

Yes, it's represented by the unversioned "python3" in the front of the PATH.



---

archive/issue_comments_487160.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@dimpase](#comment%3A13):\n> I don't understand - I have given you an example: prepending /usr/bin to PATH on Homebrew or Conda is basically not possible. \n\nWhy would anyone want to prepend /usr/bin?",
    "created_at": "2020-09-10T18:44:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487160",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@dimpase](#comment%3A13):
> I don't understand - I have given you an example: prepending /usr/bin to PATH on Homebrew or Conda is basically not possible. 

Why would anyone want to prepend /usr/bin?



---

archive/issue_events_417996.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-10T18:44:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-417996"
}
```



---

archive/issue_events_417997.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-10T18:44:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-417997"
}
```



---

archive/issue_comments_487161.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nSorry, I don't see evidence of a \"critical defect\" anywhere here",
    "created_at": "2020-09-10T18:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487161",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

Sorry, I don't see evidence of a "critical defect" anywhere here



---

archive/issue_comments_487162.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@dimpase](#comment%3A8):\n> we should revive `--with-python=` option\n\nYes, I think so. Note that it is already possible to do `./configure PYTHON3=/some/path/to/python3`, but this completely disables the check for the suitability of this python.",
    "created_at": "2020-09-10T18:54:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487162",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@dimpase](#comment%3A8):
> we should revive `--with-python=` option

Yes, I think so. Note that it is already possible to do `./configure PYTHON3=/some/path/to/python3`, but this completely disables the check for the suitability of this python.



---

archive/issue_comments_487163.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@dimpase](#comment%3A13):\n> I don't understand - I have given you an example: prepending /usr/bin to PATH on Homebrew or Conda is basically not possible. \n> \n> Yet I want to build Sage with Python3.8  in /usr/bin, as opposed to an earlier version which is 1st in the PATH.\n\nI understand. Can you prepend your preferred location to `PATH` only during `./configure`? It's a given that you don't want to prepend it *everywhere*. We have a problem either way. If we make your change, then it becomes harder to override a newer python in `/usr/bin` with an older one in e.g. `/usr/local/bin`.\n\nBringing back `--with-python` could address both concerns... but does `PATH=whatever ./configure` not work?",
    "created_at": "2020-09-10T18:55:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487163",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@dimpase](#comment%3A13):
> I don't understand - I have given you an example: prepending /usr/bin to PATH on Homebrew or Conda is basically not possible. 
> 
> Yet I want to build Sage with Python3.8  in /usr/bin, as opposed to an earlier version which is 1st in the PATH.

I understand. Can you prepend your preferred location to `PATH` only during `./configure`? It's a given that you don't want to prepend it *everywhere*. We have a problem either way. If we make your change, then it becomes harder to override a newer python in `/usr/bin` with an older one in e.g. `/usr/local/bin`.

Bringing back `--with-python` could address both concerns... but does `PATH=whatever ./configure` not work?



---

archive/issue_comments_487164.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@orlitzky](#comment%3A18):\n> Replying to [@dimpase](#comment%3A13):\n> > I don't understand - I have given you an example: prepending /usr/bin to PATH on Homebrew or Conda is basically not possible. \n> > \n> > Yet I want to build Sage with Python3.8  in /usr/bin, as opposed to an earlier version which is 1st in the PATH.\n> \n> \n> I understand. Can you prepend your preferred location to `PATH` only during `./configure`? \n\nThis is a very fragile solution. There are many things in /usr/bin that might wreak havoc, imagine some `foobar-config` which has to be called by `./configure`\n\n\n> It's a given that you don't want to prepend it *everywhere*. We have a problem either way. \n\n\nmy solution has one advantage - it makes the outcome independent of the order of things in PATH, which is something that users might - and will - screw up.\n\n\n> If we make your change, then it becomes harder to override a newer python in `/usr/bin` with an older one in e.g. `/usr/local/bin`.\n> \n> Bringing back `--with-python` could address both concerns... but does `PATH=whatever ./configure` not work?\n\nit is a bit pointless to discuss whether it works on a box at hand, as it is obviously a very fragile solution, and I explained why.",
    "created_at": "2020-09-10T19:44:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487164",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@orlitzky](#comment%3A18):
> Replying to [@dimpase](#comment%3A13):
> > I don't understand - I have given you an example: prepending /usr/bin to PATH on Homebrew or Conda is basically not possible. 
> > 
> > Yet I want to build Sage with Python3.8  in /usr/bin, as opposed to an earlier version which is 1st in the PATH.
> 
> 
> I understand. Can you prepend your preferred location to `PATH` only during `./configure`? 

This is a very fragile solution. There are many things in /usr/bin that might wreak havoc, imagine some `foobar-config` which has to be called by `./configure`


> It's a given that you don't want to prepend it *everywhere*. We have a problem either way. 


my solution has one advantage - it makes the outcome independent of the order of things in PATH, which is something that users might - and will - screw up.


> If we make your change, then it becomes harder to override a newer python in `/usr/bin` with an older one in e.g. `/usr/local/bin`.
> 
> Bringing back `--with-python` could address both concerns... but does `PATH=whatever ./configure` not work?

it is a bit pointless to discuss whether it works on a box at hand, as it is obviously a very fragile solution, and I explained why.



---

archive/issue_comments_487165.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@dimpase](#comment%3A19):\n> it is a bit pointless to discuss whether it works on a box at hand, as it is obviously a very fragile solution, and I explained why. \n\nWe probably don't want normal users doing it to override one specific program (python) and not others, sure. I was just curious. And I had forgotten that `PYTHON3=...` works by virtue of autotools.\n\nI guess we all agree `--with-python` is the most robust answer?",
    "created_at": "2020-09-10T19:48:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487165",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@dimpase](#comment%3A19):
> it is a bit pointless to discuss whether it works on a box at hand, as it is obviously a very fragile solution, and I explained why. 

We probably don't want normal users doing it to override one specific program (python) and not others, sure. I was just curious. And I had forgotten that `PYTHON3=...` works by virtue of autotools.

I guess we all agree `--with-python` is the most robust answer?



---

archive/issue_comments_487166.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@dimpase](#comment%3A19):\n> my solution has one advantage - it makes the outcome independent of the order of things in PATH, which is something that users might - and will - screw up.\n\nBut I don't think this is what users want. If there's a `python3` in the front of the PATH, we should not prefer a `python3.8` from the rear of the PATH. This is incompatible with standard practice of activating a venv.",
    "created_at": "2020-09-10T19:49:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487166",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@dimpase](#comment%3A19):
> my solution has one advantage - it makes the outcome independent of the order of things in PATH, which is something that users might - and will - screw up.

But I don't think this is what users want. If there's a `python3` in the front of the PATH, we should not prefer a `python3.8` from the rear of the PATH. This is incompatible with standard practice of activating a venv.



---

archive/issue_comments_487167.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nWe could perhaps just reduce this list to just `python3`,\nand add the `--with-python` support.",
    "created_at": "2020-09-10T19:56:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487167",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

We could perhaps just reduce this list to just `python3`,
and add the `--with-python` support.



---

archive/issue_comments_487168.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@mkoeppe](#comment%3A22):\n> We could perhaps just reduce this list to just `python3`,\n\nBut there are cases where python3 is not what one wants - do you mean to bypass the test then all together? This is not a good idea, we still need to test the input provided by `--with-python=`\n\n> and add the `--with-python` support.",
    "created_at": "2020-09-10T20:17:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487168",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@mkoeppe](#comment%3A22):
> We could perhaps just reduce this list to just `python3`,

But there are cases where python3 is not what one wants - do you mean to bypass the test then all together? This is not a good idea, we still need to test the input provided by `--with-python=`

> and add the `--with-python` support.



---

archive/issue_comments_487169.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nNo, just shorten the list of candidate binary names to just `python3`. Keeping the test and thus the loop over the elements of PATH.\n\nAnd add `--with-python`.\n\nBoth in the same ticket.",
    "created_at": "2020-09-10T20:34:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487169",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

No, just shorten the list of candidate binary names to just `python3`. Keeping the test and thus the loop over the elements of PATH.

And add `--with-python`.

Both in the same ticket.



---

archive/issue_comments_487170.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI don't understand - isn't prepending to PATH a venv's binary directory about a new directory, only containing (links to) things which aren't in the PATH at all, but nothing else?",
    "created_at": "2020-09-10T21:30:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487170",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:25" align="right">comment:25</div>

I don't understand - isn't prepending to PATH a venv's binary directory about a new directory, only containing (links to) things which aren't in the PATH at all, but nothing else?



---

archive/issue_comments_487171.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@mkoeppe](#comment%3A15):\n> Replying to [@dimpase](#comment%3A13):\n> > I don't understand - I have given you an example: prepending /usr/bin to PATH on Homebrew or Conda is basically not possible. \n> \n> \n> Why would anyone want to prepend /usr/bin?\n\nif you want to install Sage into a Python that is in /usr/bin, then under the current scheme of things it might not get picked if /usr/bin is not the 1st in PATH.",
    "created_at": "2020-09-10T21:35:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487171",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@mkoeppe](#comment%3A15):
> Replying to [@dimpase](#comment%3A13):
> > I don't understand - I have given you an example: prepending /usr/bin to PATH on Homebrew or Conda is basically not possible. 
> 
> 
> Why would anyone want to prepend /usr/bin?

if you want to install Sage into a Python that is in /usr/bin, then under the current scheme of things it might not get picked if /usr/bin is not the 1st in PATH.



---

archive/issue_comments_487172.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@mkoeppe](#comment%3A24):\n> No, just shorten the list of candidate binary names to just `python3`.\n\nThen only the unversioned python3 would be possible, no?",
    "created_at": "2020-09-10T21:37:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487172",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@mkoeppe](#comment%3A24):
> No, just shorten the list of candidate binary names to just `python3`.

Then only the unversioned python3 would be possible, no?



---

archive/issue_comments_487173.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nIf a user wants a versioned one, they would be using `--with-python=....`",
    "created_at": "2020-09-10T22:09:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487173",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

If a user wants a versioned one, they would be using `--with-python=....`



---

archive/issue_comments_487174.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@mkoeppe](#comment%3A28):\n> If a user wants a versioned one, they would be using `--with-python=....`\n\nnaturally one will need to run tests, currently encapsulated  in an argument of `AC_PATH_PROGS_FEATURE_CHECK()` on the input.",
    "created_at": "2020-09-11T07:56:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487174",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@mkoeppe](#comment%3A28):
> If a user wants a versioned one, they would be using `--with-python=....`

naturally one will need to run tests, currently encapsulated  in an argument of `AC_PATH_PROGS_FEATURE_CHECK()` on the input.



---

archive/issue_comments_487175.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nYes.",
    "created_at": "2020-09-11T15:10:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487175",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

Yes.



---

archive/issue_events_417998.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-11T16:05:42Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "title_is": "python3 spkg-configure: Only search for \"python3\", implement \"configure --with-python=/PATH/TO/PYTHON\"",
    "title_was": "make sure the newest system python3 is selected",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-417998"
}
```



---

archive/issue_events_417999.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-11T16:05:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-417999"
}
```



---

archive/issue_events_418000.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-11T16:05:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-418000"
}
```



---

archive/issue_comments_487176.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nCan we get rid of Python 2 checks here? It's pointless to try to build Sage with Python 3, so why bother with\n\n```\nAS_IF([test $SAGE_PYTHON_VERSION = 2], [\n        dnl If we use Python 2 for Sage, we install Python 3...\n```",
    "created_at": "2020-09-21T10:36:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487176",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:32" align="right">comment:32</div>

Can we get rid of Python 2 checks here? It's pointless to try to build Sage with Python 3, so why bother with

```
AS_IF([test $SAGE_PYTHON_VERSION = 2], [
        dnl If we use Python 2 for Sage, we install Python 3...
```



---

archive/issue_comments_487177.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nMatthias, please refactor your wall of code in `build/pkgs/python3/spkg-configure.m4` into a separate macro that just checks the features (to be put in `m4/`), and the rest,\nits too onerous as it is, with setting various `ac_*_PYTHON3*` variables, very hard for me to proceed here otherwise.\n\nThe refactoring should have taken place on #27824, I know...",
    "created_at": "2020-09-21T10:48:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487177",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:33" align="right">comment:33</div>

Matthias, please refactor your wall of code in `build/pkgs/python3/spkg-configure.m4` into a separate macro that just checks the features (to be put in `m4/`), and the rest,
its too onerous as it is, with setting various `ac_*_PYTHON3*` variables, very hard for me to proceed here otherwise.

The refactoring should have taken place on #27824, I know...



---

archive/issue_comments_487178.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nGood idea, will do.",
    "created_at": "2020-09-21T15:52:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487178",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:34" align="right">comment:34</div>

Good idea, will do.



---

archive/issue_comments_487179.json:
```json
{
    "body": "Changed branch from **[u/dimpase/packages/python3conf](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/python3conf)** to none",
    "created_at": "2020-09-21T17:32:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487179",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/dimpase/packages/python3conf](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/python3conf)** to none



---

archive/issue_comments_487180.json:
```json
{
    "body": "Changed commit from **[`3add5ca`](https://github.com/sagemath/sagetrac-mirror/commit/3add5ca179ba42ba7c3136eba5b2be674572c09a)** to none",
    "created_at": "2020-09-21T17:32:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487180",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`3add5ca`](https://github.com/sagemath/sagetrac-mirror/commit/3add5ca179ba42ba7c3136eba5b2be674572c09a)** to none



---

archive/issue_comments_487181.json:
```json
{
    "body": "Changed author from **Dima Pasechnik** to none",
    "created_at": "2020-09-21T17:32:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487181",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Dima Pasechnik** to none



---

archive/issue_comments_487182.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,9 @@\n-#29033 has introduced an unfortunate bug related to a weird search order in `AC_PATH_PROGS_FEATURE_CHECK()`, which has the outer loop over PATH entries. Thus, a python on the list `[python.foo python.baz ....]` of pythons that comes first in `PATH` and has all the features will be picked, not the first python on the list.\n+We make the `configure` search for a suitable `python3` more straightforward.\n \n-As modifying `PATH` to put the best python 1st might be error-prone (think about Conda, Homebrew, etc), this is fixed by providing an using a modified\n-version of `AC_PATH_PROGS_FEATURE_CHECK`, called `SAGE_PATH_PROGS_FEATURE_CHECK`.\n+Instead of searching for various names such as `python3.8`, `python3.7` etc., we only look for `python3`. \n \n-This is of course an autoconf bug, too, as e.g. `AC_PATH_PROGS()` has a sane order, ie. its outer loop is over the list entries. \n+As is standard practice, users will set their `PATH` so that the `python3` that is accessible from the `PATH` is the desired Python version.\n+\n+As an additional mechanism, we add `configure --with-python=/PATH/TO/PYTHON`.  In contrast to the (undocumented) `configure PYTHON3=/PATH/TO/PYTHON`, it runs the usual tests whether this python is actually suitable.\n+\n+\n``````\n",
    "created_at": "2020-09-21T17:36:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487182",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,9 @@
-#29033 has introduced an unfortunate bug related to a weird search order in `AC_PATH_PROGS_FEATURE_CHECK()`, which has the outer loop over PATH entries. Thus, a python on the list `[python.foo python.baz ....]` of pythons that comes first in `PATH` and has all the features will be picked, not the first python on the list.
+We make the `configure` search for a suitable `python3` more straightforward.
 
-As modifying `PATH` to put the best python 1st might be error-prone (think about Conda, Homebrew, etc), this is fixed by providing an using a modified
-version of `AC_PATH_PROGS_FEATURE_CHECK`, called `SAGE_PATH_PROGS_FEATURE_CHECK`.
+Instead of searching for various names such as `python3.8`, `python3.7` etc., we only look for `python3`. 
 
-This is of course an autoconf bug, too, as e.g. `AC_PATH_PROGS()` has a sane order, ie. its outer loop is over the list entries. 
+As is standard practice, users will set their `PATH` so that the `python3` that is accessible from the `PATH` is the desired Python version.
+
+As an additional mechanism, we add `configure --with-python=/PATH/TO/PYTHON`.  In contrast to the (undocumented) `configure PYTHON3=/PATH/TO/PYTHON`, it runs the usual tests whether this python is actually suitable.
+
+
``````




---

archive/issue_comments_487183.json:
```json
{
    "body": "Changed upstream from **Reported upstream. No feedback yet.** to none",
    "created_at": "2020-09-21T17:36:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487183",
    "user": "https://github.com/mkoeppe"
}
```

Changed upstream from **Reported upstream. No feedback yet.** to none



---

archive/issue_comments_487184.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-09-21T17:36:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487184",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_487185.json:
```json
{
    "body": "Branch: **[u/mkoeppe/python3_spkg_configure__only_search_for__python3___implement__configure___with_python__path_to_python_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/python3_spkg_configure__only_search_for__python3___implement__configure___with_python__path_to_python_)**",
    "created_at": "2020-09-22T01:05:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487185",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/python3_spkg_configure__only_search_for__python3___implement__configure___with_python__path_to_python_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/python3_spkg_configure__only_search_for__python3___implement__configure___with_python__path_to_python_)**



---

archive/issue_comments_487186.json:
```json
{
    "body": "Commit: **[`3b17cb9`](https://github.com/sagemath/sagetrac-mirror/commit/3b17cb944885581f7a97b05e8c95e1acf42c0c3f)**",
    "created_at": "2020-09-22T01:05:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487186",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`3b17cb9`](https://github.com/sagemath/sagetrac-mirror/commit/3b17cb944885581f7a97b05e8c95e1acf42c0c3f)**



---

archive/issue_comments_487187.json:
```json
{
    "body": "Changed author from **Matthias Koeppe** to **Matthias Koeppe, ...**",
    "created_at": "2020-09-22T01:05:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487187",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Matthias Koeppe** to **Matthias Koeppe, ...**



---

archive/issue_comments_487188.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nHere you go\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b17cb944885581f7a97b05e8c95e1acf42c0c3f\"><code>3b17cb9</code></a></td><td><code>m4/sage_check_python_for_venv.m4: New, factored out from build/pkgs/python3/spkg-configure.m4</code></td></tr></table>\n",
    "created_at": "2020-09-22T01:05:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487188",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:39" align="right">comment:39</div>

Here you go

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b17cb944885581f7a97b05e8c95e1acf42c0c3f"><code>3b17cb9</code></a></td><td><code>m4/sage_check_python_for_venv.m4: New, factored out from build/pkgs/python3/spkg-configure.m4</code></td></tr></table>




---

archive/issue_comments_487189.json:
```json
{
    "body": "Changed commit from **[`3b17cb9`](https://github.com/sagemath/sagetrac-mirror/commit/3b17cb944885581f7a97b05e8c95e1acf42c0c3f)** to **[`0677e24`](https://github.com/sagemath/sagetrac-mirror/commit/0677e24c2cb26195ef32535d3b1e7b246e6d5d3b)**",
    "created_at": "2020-09-22T01:15:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487189",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3b17cb9`](https://github.com/sagemath/sagetrac-mirror/commit/3b17cb944885581f7a97b05e8c95e1acf42c0c3f)** to **[`0677e24`](https://github.com/sagemath/sagetrac-mirror/commit/0677e24c2cb26195ef32535d3b1e7b246e6d5d3b)**



---

archive/issue_comments_487190.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0677e24c2cb26195ef32535d3b1e7b246e6d5d3b\"><code>0677e24</code></a></td><td><code>build/pkgs/python3/spkg-configure.m4: Remove dead code for python2 build</code></td></tr></table>\n",
    "created_at": "2020-09-22T01:15:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487190",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0677e24c2cb26195ef32535d3b1e7b246e6d5d3b"><code>0677e24</code></a></td><td><code>build/pkgs/python3/spkg-configure.m4: Remove dead code for python2 build</code></td></tr></table>




---

archive/issue_comments_487191.json:
```json
{
    "body": "Changed commit from **[`0677e24`](https://github.com/sagemath/sagetrac-mirror/commit/0677e24c2cb26195ef32535d3b1e7b246e6d5d3b)** to **[`d8a0bfb`](https://github.com/sagemath/sagetrac-mirror/commit/d8a0bfb3535af622235ff9305b927eb8b02a327e)**",
    "created_at": "2020-09-23T21:25:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487191",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`0677e24`](https://github.com/sagemath/sagetrac-mirror/commit/0677e24c2cb26195ef32535d3b1e7b246e6d5d3b)** to **[`d8a0bfb`](https://github.com/sagemath/sagetrac-mirror/commit/d8a0bfb3535af622235ff9305b927eb8b02a327e)**



---

archive/issue_comments_487192.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f427d6b8fff2962d08962f4d91da5bbf8d23ce1\"><code>2f427d6</code></a></td><td><code>fixed --with-python</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8a0bfb3535af622235ff9305b927eb8b02a327e\"><code>d8a0bfb</code></a></td><td><code>get rid of SAGE_PYTHON_VERSION (it's always 3 now)</code></td></tr></table>\n",
    "created_at": "2020-09-23T21:25:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487192",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:41"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f427d6b8fff2962d08962f4d91da5bbf8d23ce1"><code>2f427d6</code></a></td><td><code>fixed --with-python</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8a0bfb3535af622235ff9305b927eb8b02a327e"><code>d8a0bfb</code></a></td><td><code>get rid of SAGE_PYTHON_VERSION (it's always 3 now)</code></td></tr></table>




---

archive/issue_events_418001.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-23T21:25:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-418001"
}
```



---

archive/issue_events_418002.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-23T21:25:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-418002"
}
```



---

archive/issue_comments_487193.json:
```json
{
    "body": "Changed author from **Matthias Koeppe, ...** to **Matthias Koeppe, Dima Pasechnik**",
    "created_at": "2020-09-23T21:25:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487193",
    "user": "https://github.com/dimpase"
}
```

Changed author from **Matthias Koeppe, ...** to **Matthias Koeppe, Dima Pasechnik**



---

archive/issue_comments_487194.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/python3_spkg_configure__only_search_for__python3___implement__configure___with_python__path_to_python_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/python3_spkg_configure__only_search_for__python3___implement__configure___with_python__path_to_python_)** to **[u/dimpase/build/py3x_conf](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/build/py3x_conf)**",
    "created_at": "2020-09-23T21:25:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487194",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[u/mkoeppe/python3_spkg_configure__only_search_for__python3___implement__configure___with_python__path_to_python_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/python3_spkg_configure__only_search_for__python3___implement__configure___with_python__path_to_python_)** to **[u/dimpase/build/py3x_conf](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/build/py3x_conf)**



---

archive/issue_comments_487195.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\n\n```\n--- a/src/bin/sage-env-config.in\n+++ b/src/bin/sage-env-config.in\n@@ -46,7 +46,6 @@ CONFIGURED_OBJCXX=\"@OBJCXX@\"\n #######################################\n # Other configuration (exported)\n #######################################\n-export SAGE_PYTHON_VERSION=@SAGE_PYTHON_VERSION@\n export PYTHON_FOR_VENV=\"@PYTHON_FOR_VENV@\"\n```\nI don't think this is a good idea. User packages' install scripts might depend on it.",
    "created_at": "2020-09-23T21:31:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487195",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:42" align="right">comment:42</div>


```
--- a/src/bin/sage-env-config.in
+++ b/src/bin/sage-env-config.in
@@ -46,7 +46,6 @@ CONFIGURED_OBJCXX="@OBJCXX@"
 #######################################
 # Other configuration (exported)
 #######################################
-export SAGE_PYTHON_VERSION=@SAGE_PYTHON_VERSION@
 export PYTHON_FOR_VENV="@PYTHON_FOR_VENV@"
```
I don't think this is a good idea. User packages' install scripts might depend on it.



---

archive/issue_comments_487196.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\n\n```\n-case \"$with_python\" in\n-    3)  SAGE_PYTHON_VERSION=3;;\n-    3*) AC_MSG_WARN([the only allowed value for --with-python is 3; specific Python 3.x versions cannot be requested using --with-python.  For compatibility reasons, this is only a warning.  Use './configure PYTHON3=/path/to/python3' to use a specific Python 3 binary for the Sage venv.])\n-        SAGE_PYTHON_VERSION=3;;\n-    \"\") SAGE_PYTHON_VERSION=3;;\n-    *)\n-        AC_MSG_ERROR([the only allowed value for --with-python is 3.  Support for Python 2 has been removed in Sage 9.2.]);;\n```\nAnd I think the previously allowed argument `--with-python=3` should still be allowed and be a no-op; and `--with-python=2` should give a specific error message as before.",
    "created_at": "2020-09-23T21:35:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487196",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:43" align="right">comment:43</div>


```
-case "$with_python" in
-    3)  SAGE_PYTHON_VERSION=3;;
-    3*) AC_MSG_WARN([the only allowed value for --with-python is 3; specific Python 3.x versions cannot be requested using --with-python.  For compatibility reasons, this is only a warning.  Use './configure PYTHON3=/path/to/python3' to use a specific Python 3 binary for the Sage venv.])
-        SAGE_PYTHON_VERSION=3;;
-    "") SAGE_PYTHON_VERSION=3;;
-    *)
-        AC_MSG_ERROR([the only allowed value for --with-python is 3.  Support for Python 2 has been removed in Sage 9.2.]);;
```
And I think the previously allowed argument `--with-python=3` should still be allowed and be a no-op; and `--with-python=2` should give a specific error message as before.



---

archive/issue_comments_487197.json:
```json
{
    "body": "Changed commit from **[`d8a0bfb`](https://github.com/sagemath/sagetrac-mirror/commit/d8a0bfb3535af622235ff9305b927eb8b02a327e)** to **[`fe70ff3`](https://github.com/sagemath/sagetrac-mirror/commit/fe70ff3743a9e68671d2a1929c2b292d3d002d31)**",
    "created_at": "2020-09-23T21:50:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487197",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d8a0bfb`](https://github.com/sagemath/sagetrac-mirror/commit/d8a0bfb3535af622235ff9305b927eb8b02a327e)** to **[`fe70ff3`](https://github.com/sagemath/sagetrac-mirror/commit/fe70ff3743a9e68671d2a1929c2b292d3d002d31)**



---

archive/issue_comments_487198.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe70ff3743a9e68671d2a1929c2b292d3d002d31\"><code>fe70ff3</code></a></td><td><code>correct the use of --with-python in docs and tox</code></td></tr></table>\n",
    "created_at": "2020-09-23T21:50:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487198",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe70ff3743a9e68671d2a1929c2b292d3d002d31"><code>fe70ff3</code></a></td><td><code>correct the use of --with-python in docs and tox</code></td></tr></table>




---

archive/issue_comments_487199.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nthere is still one obsolete place, in docker/Dockerfile:\n\n```\nARG WITH_PYTHON=2\nENV WITH_PYTHON $WITH_PYTHON\nARG MAKEFLAGS=\"-j2\"\nENV MAKEFLAGS $MAKEFLAGS\nARG SAGE_NUM_THREADS=\"2\"\nENV SAGE_NUM_THREADS $SAGE_NUM_THREADS\nRUN make configure\nRUN ./configure --with-python=$WITH_PYTHON\n```\ncan it be removed?",
    "created_at": "2020-09-23T21:52:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487199",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:45" align="right">comment:45</div>

there is still one obsolete place, in docker/Dockerfile:

```
ARG WITH_PYTHON=2
ENV WITH_PYTHON $WITH_PYTHON
ARG MAKEFLAGS="-j2"
ENV MAKEFLAGS $MAKEFLAGS
ARG SAGE_NUM_THREADS="2"
ENV SAGE_NUM_THREADS $SAGE_NUM_THREADS
RUN make configure
RUN ./configure --with-python=$WITH_PYTHON
```
can it be removed?



---

archive/issue_comments_487200.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10baeecc00a179e6191458f173a05c8fdaa34edc\"><code>10baeec</code></a></td><td><code>rectify README a bit</code></td></tr></table>\n",
    "created_at": "2020-09-23T21:54:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487200",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10baeecc00a179e6191458f173a05c8fdaa34edc"><code>10baeec</code></a></td><td><code>rectify README a bit</code></td></tr></table>




---

archive/issue_comments_487201.json:
```json
{
    "body": "Changed commit from **[`fe70ff3`](https://github.com/sagemath/sagetrac-mirror/commit/fe70ff3743a9e68671d2a1929c2b292d3d002d31)** to **[`10baeec`](https://github.com/sagemath/sagetrac-mirror/commit/10baeecc00a179e6191458f173a05c8fdaa34edc)**",
    "created_at": "2020-09-23T21:54:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487201",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fe70ff3`](https://github.com/sagemath/sagetrac-mirror/commit/fe70ff3743a9e68671d2a1929c2b292d3d002d31)** to **[`10baeec`](https://github.com/sagemath/sagetrac-mirror/commit/10baeecc00a179e6191458f173a05c8fdaa34edc)**



---

archive/issue_comments_487202.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nYes, looks like it.",
    "created_at": "2020-09-23T21:55:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487202",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:47" align="right">comment:47</div>

Yes, looks like it.



---

archive/issue_comments_487203.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nI think you missed a few places in tox.ini",
    "created_at": "2020-09-23T21:56:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487203",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:48" align="right">comment:48</div>

I think you missed a few places in tox.ini



---

archive/issue_comments_487204.json:
```json
{
    "body": "Changed commit from **[`10baeec`](https://github.com/sagemath/sagetrac-mirror/commit/10baeecc00a179e6191458f173a05c8fdaa34edc)** to **[`7f20ad1`](https://github.com/sagemath/sagetrac-mirror/commit/7f20ad1e3e50a667069496c64fa7c7e7bc37ff82)**",
    "created_at": "2020-09-23T22:03:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487204",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`10baeec`](https://github.com/sagemath/sagetrac-mirror/commit/10baeecc00a179e6191458f173a05c8fdaa34edc)** to **[`7f20ad1`](https://github.com/sagemath/sagetrac-mirror/commit/7f20ad1e3e50a667069496c64fa7c7e7bc37ff82)**



---

archive/issue_comments_487205.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f20ad1e3e50a667069496c64fa7c7e7bc37ff82\"><code>7f20ad1</code></a></td><td><code>more changes for docker and tox</code></td></tr></table>\n",
    "created_at": "2020-09-23T22:03:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487205",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f20ad1e3e50a667069496c64fa7c7e7bc37ff82"><code>7f20ad1</code></a></td><td><code>more changes for docker and tox</code></td></tr></table>




---

archive/issue_comments_487206.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nNeed to adjust `.ci/build-docker.sh` too",
    "created_at": "2020-09-23T22:21:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487206",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:50" align="right">comment:50</div>

Need to adjust `.ci/build-docker.sh` too



---

archive/issue_comments_487207.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\n\n```\n--- a/src/doc/en/developer/portability_testing.rst\n+++ b/src/doc/en/developer/portability_testing.rst\n@@ -371,7 +371,7 @@ command ``docker build``.  For example::\n   [mkoeppe@sage sage]$ docker build . -f Dockerfile \\\n     --build-arg BASE_IMAGE=ubuntu:latest \\\n     --build-arg NUMPROC=4 \\\n-    --build-arg EXTRA_CONFIGURE_ARGS=\"--with-python=2\"\n+    --build-arg EXTRA_CONFIGURE_ARGS=\"--with-python=/usr/opt/python3.42\"\n```\nbetter to use an example that looks like a binary, not a directory",
    "created_at": "2020-09-23T22:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487207",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:51" align="right">comment:51</div>


```
--- a/src/doc/en/developer/portability_testing.rst
+++ b/src/doc/en/developer/portability_testing.rst
@@ -371,7 +371,7 @@ command ``docker build``.  For example::
   [mkoeppe@sage sage]$ docker build . -f Dockerfile \
     --build-arg BASE_IMAGE=ubuntu:latest \
     --build-arg NUMPROC=4 \
-    --build-arg EXTRA_CONFIGURE_ARGS="--with-python=2"
+    --build-arg EXTRA_CONFIGURE_ARGS="--with-python=/usr/opt/python3.42"
```
better to use an example that looks like a binary, not a directory



---

archive/issue_comments_487208.json:
```json
{
    "body": "<div id=\"comment:52\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/832da67fb4679a35a29f2c52ce1441bf09425690\"><code>832da67</code></a></td><td><code>make the example path looking more like /usr/bin</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83acd7b0916e66fda4d0998132e69e441fb6c328\"><code>83acd7b</code></a></td><td><code>cleaninig up build-docker.sh</code></td></tr></table>\n",
    "created_at": "2020-09-24T10:24:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487208",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/832da67fb4679a35a29f2c52ce1441bf09425690"><code>832da67</code></a></td><td><code>make the example path looking more like /usr/bin</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83acd7b0916e66fda4d0998132e69e441fb6c328"><code>83acd7b</code></a></td><td><code>cleaninig up build-docker.sh</code></td></tr></table>




---

archive/issue_comments_487209.json:
```json
{
    "body": "Changed commit from **[`7f20ad1`](https://github.com/sagemath/sagetrac-mirror/commit/7f20ad1e3e50a667069496c64fa7c7e7bc37ff82)** to **[`83acd7b`](https://github.com/sagemath/sagetrac-mirror/commit/83acd7b0916e66fda4d0998132e69e441fb6c328)**",
    "created_at": "2020-09-24T10:24:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487209",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7f20ad1`](https://github.com/sagemath/sagetrac-mirror/commit/7f20ad1e3e50a667069496c64fa7c7e7bc37ff82)** to **[`83acd7b`](https://github.com/sagemath/sagetrac-mirror/commit/83acd7b0916e66fda4d0998132e69e441fb6c328)**



---

archive/issue_comments_487210.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nOK, should we also get rid of `SAGE_PYTHON3` ?",
    "created_at": "2020-09-24T10:25:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487210",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:53" align="right">comment:53</div>

OK, should we also get rid of `SAGE_PYTHON3` ?



---

archive/issue_comments_487211.json:
```json
{
    "body": "<div id=\"comment:54\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6ddd933a5e7ede56f422f189af65b3725fc07bd\"><code>b6ddd93</code></a></td><td><code>a bit on --with-python into installation manual</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ac00cdd4725a01d53f46dba635e824bb5eb921f\"><code>7ac00cd</code></a></td><td><code>remove SAGE_PYTHON3</code></td></tr></table>\n",
    "created_at": "2020-09-24T11:16:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487211",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:54"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6ddd933a5e7ede56f422f189af65b3725fc07bd"><code>b6ddd93</code></a></td><td><code>a bit on --with-python into installation manual</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ac00cdd4725a01d53f46dba635e824bb5eb921f"><code>7ac00cd</code></a></td><td><code>remove SAGE_PYTHON3</code></td></tr></table>




---

archive/issue_comments_487212.json:
```json
{
    "body": "Changed commit from **[`83acd7b`](https://github.com/sagemath/sagetrac-mirror/commit/83acd7b0916e66fda4d0998132e69e441fb6c328)** to **[`7ac00cd`](https://github.com/sagemath/sagetrac-mirror/commit/7ac00cdd4725a01d53f46dba635e824bb5eb921f)**",
    "created_at": "2020-09-24T11:16:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487212",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`83acd7b`](https://github.com/sagemath/sagetrac-mirror/commit/83acd7b0916e66fda4d0998132e69e441fb6c328)** to **[`7ac00cd`](https://github.com/sagemath/sagetrac-mirror/commit/7ac00cdd4725a01d53f46dba635e824bb5eb921f)**



---

archive/issue_comments_487213.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\ncomments 42, 43",
    "created_at": "2020-09-24T12:59:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487213",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:55" align="right">comment:55</div>

comments 42, 43



---

archive/issue_comments_487214.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nReplying to [@mkoeppe](#comment%3A42):\n> \n> ```\n> --- a/src/bin/sage-env-config.in\n> +++ b/src/bin/sage-env-config.in\n> @@ -46,7 +46,6 @@ CONFIGURED_OBJCXX=\"@OBJCXX@\"\n>  #######################################\n>  # Other configuration (exported)\n>  #######################################\n> -export SAGE_PYTHON_VERSION=@SAGE_PYTHON_VERSION@\n>  export PYTHON_FOR_VENV=\"@PYTHON_FOR_VENV@\"\n> ```\n> I don't think this is a good idea. User packages' install scripts might depend on it.\n> \n\nit was never documented, thus, a fair game.",
    "created_at": "2020-09-24T15:38:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487214",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:56" align="right">comment:56</div>

Replying to [@mkoeppe](#comment%3A42):
> 
> ```
> --- a/src/bin/sage-env-config.in
> +++ b/src/bin/sage-env-config.in
> @@ -46,7 +46,6 @@ CONFIGURED_OBJCXX="@OBJCXX@"
>  #######################################
>  # Other configuration (exported)
>  #######################################
> -export SAGE_PYTHON_VERSION=@SAGE_PYTHON_VERSION@
>  export PYTHON_FOR_VENV="@PYTHON_FOR_VENV@"
> ```
> I don't think this is a good idea. User packages' install scripts might depend on it.
> 

it was never documented, thus, a fair game.



---

archive/issue_comments_487215.json:
```json
{
    "body": "<div id=\"comment:57\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc6b49d4071a63c83c7ecb2db12b4ff0c43e5568\"><code>fc6b49d</code></a></td><td><code>handle --with-python=2 or 3</code></td></tr></table>\n",
    "created_at": "2020-09-24T16:06:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487215",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:57"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc6b49d4071a63c83c7ecb2db12b4ff0c43e5568"><code>fc6b49d</code></a></td><td><code>handle --with-python=2 or 3</code></td></tr></table>




---

archive/issue_comments_487216.json:
```json
{
    "body": "Changed commit from **[`7ac00cd`](https://github.com/sagemath/sagetrac-mirror/commit/7ac00cdd4725a01d53f46dba635e824bb5eb921f)** to **[`fc6b49d`](https://github.com/sagemath/sagetrac-mirror/commit/fc6b49d4071a63c83c7ecb2db12b4ff0c43e5568)**",
    "created_at": "2020-09-24T16:06:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487216",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7ac00cd`](https://github.com/sagemath/sagetrac-mirror/commit/7ac00cdd4725a01d53f46dba635e824bb5eb921f)** to **[`fc6b49d`](https://github.com/sagemath/sagetrac-mirror/commit/fc6b49d4071a63c83c7ecb2db12b4ff0c43e5568)**



---

archive/issue_comments_487217.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nReplying to [@sagetrac-git](#comment%3A57):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc6b49d4071a63c83c7ecb2db12b4ff0c43e5568\"><code>fc6b49d</code></a></td><td><code>handle --with-python=2 or 3</code></td></tr></table>\n\nthis addesses [comment:43](#comment%3A43)",
    "created_at": "2020-09-24T16:36:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487217",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:58" align="right">comment:58</div>

Replying to [@sagetrac-git](#comment%3A57):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc6b49d4071a63c83c7ecb2db12b4ff0c43e5568"><code>fc6b49d</code></a></td><td><code>handle --with-python=2 or 3</code></td></tr></table>

this addesses [comment:43](#comment%3A43)



---

archive/issue_comments_487218.json:
```json
{
    "body": "Changed branch from **[u/dimpase/build/py3x_conf](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/build/py3x_conf)** to **[u/mkoeppe/build/py3x_conf](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build/py3x_conf)**",
    "created_at": "2020-09-24T16:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487218",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/dimpase/build/py3x_conf](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/build/py3x_conf)** to **[u/mkoeppe/build/py3x_conf](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build/py3x_conf)**



---

archive/issue_comments_487219.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nThis seems to work well. I have made some small changes.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/201db18d98ff4d788a1f74b542d6651e93d5c9b3\"><code>201db18</code></a></td><td><code>build/pkgs/python3/spkg-configure.m4: Exit with error if python3 provided by --with-python=... is not suitable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2262df0b7767ca456a43b89d1356f3cdbace24cf\"><code>2262df0</code></a></td><td><code>Merge branch 'u/dimpase/build/py3x_conf' of git://trac.sagemath.org/sage into t/30546/build/py3x_conf</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b07596ddaa6e6b36fce4f9b981b9a20aec25adf5\"><code>b07596d</code></a></td><td><code>fixup</code></td></tr></table>\n",
    "created_at": "2020-09-24T16:44:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487219",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:60" align="right">comment:60</div>

This seems to work well. I have made some small changes.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/201db18d98ff4d788a1f74b542d6651e93d5c9b3"><code>201db18</code></a></td><td><code>build/pkgs/python3/spkg-configure.m4: Exit with error if python3 provided by --with-python=... is not suitable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2262df0b7767ca456a43b89d1356f3cdbace24cf"><code>2262df0</code></a></td><td><code>Merge branch 'u/dimpase/build/py3x_conf' of git://trac.sagemath.org/sage into t/30546/build/py3x_conf</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b07596ddaa6e6b36fce4f9b981b9a20aec25adf5"><code>b07596d</code></a></td><td><code>fixup</code></td></tr></table>




---

archive/issue_comments_487220.json:
```json
{
    "body": "Changed commit from **[`fc6b49d`](https://github.com/sagemath/sagetrac-mirror/commit/fc6b49d4071a63c83c7ecb2db12b4ff0c43e5568)** to **[`b07596d`](https://github.com/sagemath/sagetrac-mirror/commit/b07596ddaa6e6b36fce4f9b981b9a20aec25adf5)**",
    "created_at": "2020-09-24T16:44:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487220",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`fc6b49d`](https://github.com/sagemath/sagetrac-mirror/commit/fc6b49d4071a63c83c7ecb2db12b4ff0c43e5568)** to **[`b07596d`](https://github.com/sagemath/sagetrac-mirror/commit/b07596ddaa6e6b36fce4f9b981b9a20aec25adf5)**



---

archive/issue_comments_487221.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik, Matthias Koeppe**",
    "created_at": "2020-09-24T16:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487221",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Dima Pasechnik, Matthias Koeppe**



---

archive/issue_comments_487222.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nIf OK with you, feel free to set to positive review",
    "created_at": "2020-09-24T16:45:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487222",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:62" align="right">comment:62</div>

If OK with you, feel free to set to positive review



---

archive/issue_comments_487223.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nActually... this still needs to ensure an absolute path for PYTHON_FOR_VENV",
    "created_at": "2020-09-24T16:53:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487223",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:63" align="right">comment:63</div>

Actually... this still needs to ensure an absolute path for PYTHON_FOR_VENV



---

archive/issue_comments_487224.json:
```json
{
    "body": "<div id=\"comment:64\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b21ed975edf54eff10c22a2298fc6097f5c39317\"><code>b21ed97</code></a></td><td><code>build/pkgs/python3/spkg-configure.m4: Ensure that PYTHON_FOR_VENV is a full path</code></td></tr></table>\n",
    "created_at": "2020-09-24T17:07:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487224",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:64"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b21ed975edf54eff10c22a2298fc6097f5c39317"><code>b21ed97</code></a></td><td><code>build/pkgs/python3/spkg-configure.m4: Ensure that PYTHON_FOR_VENV is a full path</code></td></tr></table>




---

archive/issue_comments_487225.json:
```json
{
    "body": "Changed commit from **[`b07596d`](https://github.com/sagemath/sagetrac-mirror/commit/b07596ddaa6e6b36fce4f9b981b9a20aec25adf5)** to **[`b21ed97`](https://github.com/sagemath/sagetrac-mirror/commit/b21ed975edf54eff10c22a2298fc6097f5c39317)**",
    "created_at": "2020-09-24T17:07:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487225",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b07596d`](https://github.com/sagemath/sagetrac-mirror/commit/b07596ddaa6e6b36fce4f9b981b9a20aec25adf5)** to **[`b21ed97`](https://github.com/sagemath/sagetrac-mirror/commit/b21ed975edf54eff10c22a2298fc6097f5c39317)**



---

archive/issue_comments_487226.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nI think this version is good.",
    "created_at": "2020-09-24T17:09:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487226",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:65" align="right">comment:65</div>

I think this version is good.



---

archive/issue_comments_487227.json:
```json
{
    "body": "<div id=\"comment:66\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49aa061ad6390da770c566c642dad2982d99d29f\"><code>49aa061</code></a></td><td><code>Revert \"build/pkgs/python3/spkg-configure.m4: Use 'python >= 3.7'; keep checking for 'python3.8, python3.7'\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a8b77cd3fdbb96ed85cb34367e59967d9031f612\"><code>a8b77cd</code></a></td><td><code>Revert \"only test python3, to be 3.7 or 3.8\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9403629235ffb078c0eda9a46154d882c62760b2\"><code>9403629</code></a></td><td><code>build/bin/sage-system-python: Work around LC_ALL=C</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff0dbc622b8b3f4ce467a0324c3fdbd134df24e3\"><code>ff0dbc6</code></a></td><td><code>build/sage_bootstrap/uncompress/tar_file.py: Fix encoding to utf-8</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f05a110c45fcc5ad4d745adc1a2197f320050fb5\"><code>f05a110</code></a></td><td><code>Merge branch 't/30008/after__30053__sphinx_3_1_2_does_not_build_on_ubuntu__trusty_xenial_bionic___debian_jessie__centos_7__again_' into t/30576/public/30576</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/945c8c58b23cf7b8e5c15cb69c0ac4dbcd184cb5\"><code>945c8c5</code></a></td><td><code>build/bin/sage-site (--docbuild): Set an English locale suuch as C.utf-8, but not the C locale, to ensure correct operation on Python 3.6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8906897f6f752673eaf2c099ec4d398e5a5fc5dd\"><code>8906897</code></a></td><td><code>Merge branch 't/30576/public/30576' into t/30546/build/py3x_conf</code></td></tr></table>\n",
    "created_at": "2020-09-24T18:43:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487227",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:66"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49aa061ad6390da770c566c642dad2982d99d29f"><code>49aa061</code></a></td><td><code>Revert "build/pkgs/python3/spkg-configure.m4: Use 'python >= 3.7'; keep checking for 'python3.8, python3.7'"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a8b77cd3fdbb96ed85cb34367e59967d9031f612"><code>a8b77cd</code></a></td><td><code>Revert "only test python3, to be 3.7 or 3.8"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9403629235ffb078c0eda9a46154d882c62760b2"><code>9403629</code></a></td><td><code>build/bin/sage-system-python: Work around LC_ALL=C</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff0dbc622b8b3f4ce467a0324c3fdbd134df24e3"><code>ff0dbc6</code></a></td><td><code>build/sage_bootstrap/uncompress/tar_file.py: Fix encoding to utf-8</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f05a110c45fcc5ad4d745adc1a2197f320050fb5"><code>f05a110</code></a></td><td><code>Merge branch 't/30008/after__30053__sphinx_3_1_2_does_not_build_on_ubuntu__trusty_xenial_bionic___debian_jessie__centos_7__again_' into t/30576/public/30576</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/945c8c58b23cf7b8e5c15cb69c0ac4dbcd184cb5"><code>945c8c5</code></a></td><td><code>build/bin/sage-site (--docbuild): Set an English locale suuch as C.utf-8, but not the C locale, to ensure correct operation on Python 3.6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8906897f6f752673eaf2c099ec4d398e5a5fc5dd"><code>8906897</code></a></td><td><code>Merge branch 't/30576/public/30576' into t/30546/build/py3x_conf</code></td></tr></table>




---

archive/issue_comments_487228.json:
```json
{
    "body": "Changed commit from **[`b21ed97`](https://github.com/sagemath/sagetrac-mirror/commit/b21ed975edf54eff10c22a2298fc6097f5c39317)** to **[`8906897`](https://github.com/sagemath/sagetrac-mirror/commit/8906897f6f752673eaf2c099ec4d398e5a5fc5dd)**",
    "created_at": "2020-09-24T18:43:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487228",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b21ed97`](https://github.com/sagemath/sagetrac-mirror/commit/b21ed975edf54eff10c22a2298fc6097f5c39317)** to **[`8906897`](https://github.com/sagemath/sagetrac-mirror/commit/8906897f6f752673eaf2c099ec4d398e5a5fc5dd)**



---

archive/issue_comments_487229.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nMerged #30576 to avoid merge conflict",
    "created_at": "2020-09-24T18:43:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487229",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:67" align="right">comment:67</div>

Merged #30576 to avoid merge conflict



---

archive/issue_comments_487230.json:
```json
{
    "body": "Dependencies: **#30576**",
    "created_at": "2020-09-24T18:43:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487230",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#30576**



---

archive/issue_comments_487231.json:
```json
{
    "body": "Changed dependencies from **#30576** to **#30576, #29500**",
    "created_at": "2020-09-24T18:55:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487231",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30576** to **#30576, #29500**



---

archive/issue_comments_487232.json:
```json
{
    "body": "<div id=\"comment:69\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55993b6e25560af5e582aed7fcfbb56d317b92fe\"><code>55993b6</code></a></td><td><code>build/bin/sage-dist-helpers: Fixup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a646747dbf7c823030e1b23419348ff795a0661\"><code>0a64674</code></a></td><td><code>build/pkgs/gambit/spkg-install.in: Install via bdist_wheel</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca586938cbdd91114a10dd3364201c8076412485\"><code>ca58693</code></a></td><td><code>build/pkgs/pillow/spkg-install.in: Install via bdist_wheel</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5a747c48eca1be0104c202e4922e5386aa794d08\"><code>5a747c4</code></a></td><td><code>build/bin/sage-pip-{install,uninstall}: Remove pip2 support</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ee21109dfb001feec2b032c197defb91cc75783\"><code>9ee2110</code></a></td><td><code>build/bin/sage-dist-helpers: Also use $sudo for storing the wheel file</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7aac84ab4dd86ad6203a99eb82371c1d2a46363\"><code>d7aac84</code></a></td><td><code>src/doc/en/developer/packaging.rst: Update sdh_... documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b7c7a04d658838ce511e352edb9c03f42c4a7f2\"><code>9b7c7a0</code></a></td><td><code>build/bin/sage-pip-{install,uninstall}: Fix typo in comment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4135e8b236d2e5491b3ee96cbd00196dc5b6e036\"><code>4135e8b</code></a></td><td><code>build/bin/sage-pip-install: Remove an outdated comment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2e707561ab3044221b57151ae4cc67d502fe9f8\"><code>f2e7075</code></a></td><td><code>Merge tag '9.2.beta13' into t/29500/install_all_python_packages_via_pip_wheel__create_pep_503_simple_repository_for_wheels</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2dbb8d4f4a7cb203fd9ee0b8b2d8d6ca093da9c\"><code>a2dbb8d</code></a></td><td><code>Merge branch 't/29500/install_all_python_packages_via_pip_wheel__create_pep_503_simple_repository_for_wheels' into t/30546/build/py3x_conf</code></td></tr></table>\n",
    "created_at": "2020-09-24T18:56:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487232",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:69"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55993b6e25560af5e582aed7fcfbb56d317b92fe"><code>55993b6</code></a></td><td><code>build/bin/sage-dist-helpers: Fixup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a646747dbf7c823030e1b23419348ff795a0661"><code>0a64674</code></a></td><td><code>build/pkgs/gambit/spkg-install.in: Install via bdist_wheel</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca586938cbdd91114a10dd3364201c8076412485"><code>ca58693</code></a></td><td><code>build/pkgs/pillow/spkg-install.in: Install via bdist_wheel</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5a747c48eca1be0104c202e4922e5386aa794d08"><code>5a747c4</code></a></td><td><code>build/bin/sage-pip-{install,uninstall}: Remove pip2 support</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ee21109dfb001feec2b032c197defb91cc75783"><code>9ee2110</code></a></td><td><code>build/bin/sage-dist-helpers: Also use $sudo for storing the wheel file</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7aac84ab4dd86ad6203a99eb82371c1d2a46363"><code>d7aac84</code></a></td><td><code>src/doc/en/developer/packaging.rst: Update sdh_... documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b7c7a04d658838ce511e352edb9c03f42c4a7f2"><code>9b7c7a0</code></a></td><td><code>build/bin/sage-pip-{install,uninstall}: Fix typo in comment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4135e8b236d2e5491b3ee96cbd00196dc5b6e036"><code>4135e8b</code></a></td><td><code>build/bin/sage-pip-install: Remove an outdated comment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2e707561ab3044221b57151ae4cc67d502fe9f8"><code>f2e7075</code></a></td><td><code>Merge tag '9.2.beta13' into t/29500/install_all_python_packages_via_pip_wheel__create_pep_503_simple_repository_for_wheels</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2dbb8d4f4a7cb203fd9ee0b8b2d8d6ca093da9c"><code>a2dbb8d</code></a></td><td><code>Merge branch 't/29500/install_all_python_packages_via_pip_wheel__create_pep_503_simple_repository_for_wheels' into t/30546/build/py3x_conf</code></td></tr></table>




---

archive/issue_comments_487233.json:
```json
{
    "body": "Changed commit from **[`8906897`](https://github.com/sagemath/sagetrac-mirror/commit/8906897f6f752673eaf2c099ec4d398e5a5fc5dd)** to **[`a2dbb8d`](https://github.com/sagemath/sagetrac-mirror/commit/a2dbb8d4f4a7cb203fd9ee0b8b2d8d6ca093da9c)**",
    "created_at": "2020-09-24T18:56:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487233",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8906897`](https://github.com/sagemath/sagetrac-mirror/commit/8906897f6f752673eaf2c099ec4d398e5a5fc5dd)** to **[`a2dbb8d`](https://github.com/sagemath/sagetrac-mirror/commit/a2dbb8d4f4a7cb203fd9ee0b8b2d8d6ca093da9c)**



---

archive/issue_comments_487234.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nMeregd #29500 to avoid merge conflict",
    "created_at": "2020-09-24T18:56:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487234",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:70" align="right">comment:70</div>

Meregd #29500 to avoid merge conflict



---

archive/issue_comments_487235.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nit is broken:\n\n```\n$ ./configure --with-python=/usr/bin/python3 >/tmp/p\nconfigure: error: the python3 selected using --with-python=/usr/bin/python3 is not suitable\n```\n(while just `./configure`, using the same python3, but implicitly, works)\n\nIt seems you are repeating the error that took me hours to sort out today, you have two\n`AC_PATH_PROGS_FEATURE_CHECK` with the same tag. That's why I made sure only to have one call to AC_PATH_PROGS_FEATURE_CHECK - and why do you need more?",
    "created_at": "2020-09-24T20:25:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487235",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:71" align="right">comment:71</div>

it is broken:

```
$ ./configure --with-python=/usr/bin/python3 >/tmp/p
configure: error: the python3 selected using --with-python=/usr/bin/python3 is not suitable
```
(while just `./configure`, using the same python3, but implicitly, works)

It seems you are repeating the error that took me hours to sort out today, you have two
`AC_PATH_PROGS_FEATURE_CHECK` with the same tag. That's why I made sure only to have one call to AC_PATH_PROGS_FEATURE_CHECK - and why do you need more?



---

archive/issue_events_418003.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-24T20:28:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-418003"
}
```



---

archive/issue_events_418004.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-24T20:28:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-418004"
}
```



---

archive/issue_comments_487236.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nPerhaps it's just that AC_PATH_PROGS_FEATURE_CHECK does not like it if the searched executable is already an absolute path?\n\nI may only have tested with executable names without directory...",
    "created_at": "2020-09-24T20:54:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487236",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:73" align="right">comment:73</div>

Perhaps it's just that AC_PATH_PROGS_FEATURE_CHECK does not like it if the searched executable is already an absolute path?

I may only have tested with executable names without directory...



---

archive/issue_comments_487237.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/build/py3x_conf](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build/py3x_conf)** to **[u/dimpase/build/py3x_conf](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/build/py3x_conf)**",
    "created_at": "2020-09-24T21:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487237",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[u/mkoeppe/build/py3x_conf](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build/py3x_conf)** to **[u/dimpase/build/py3x_conf](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/build/py3x_conf)**



---

archive/issue_comments_487238.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nOK, this appears to work. I just convert the name into an absolute one, if needed, by calling `AC_PATH_PROG()`\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f19d9a4a356da5e4b068dc52c321e703c2648da3\"><code>f19d9a4</code></a></td><td><code>allow absolute names as arguments to --with-python</code></td></tr></table>\n",
    "created_at": "2020-09-24T21:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487238",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:74" align="right">comment:74</div>

OK, this appears to work. I just convert the name into an absolute one, if needed, by calling `AC_PATH_PROG()`

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f19d9a4a356da5e4b068dc52c321e703c2648da3"><code>f19d9a4</code></a></td><td><code>allow absolute names as arguments to --with-python</code></td></tr></table>




---

archive/issue_events_418005.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-24T21:44:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-418005"
}
```



---

archive/issue_events_418006.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-24T21:44:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-418006"
}
```



---

archive/issue_comments_487239.json:
```json
{
    "body": "Changed commit from **[`a2dbb8d`](https://github.com/sagemath/sagetrac-mirror/commit/a2dbb8d4f4a7cb203fd9ee0b8b2d8d6ca093da9c)** to **[`f19d9a4`](https://github.com/sagemath/sagetrac-mirror/commit/f19d9a4a356da5e4b068dc52c321e703c2648da3)**",
    "created_at": "2020-09-24T21:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487239",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`a2dbb8d`](https://github.com/sagemath/sagetrac-mirror/commit/a2dbb8d4f4a7cb203fd9ee0b8b2d8d6ca093da9c)** to **[`f19d9a4`](https://github.com/sagemath/sagetrac-mirror/commit/f19d9a4a356da5e4b068dc52c321e703c2648da3)**



---

archive/issue_events_418007.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-25T01:53:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-418007"
}
```



---

archive/issue_events_418008.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-25T01:53:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-418008"
}
```



---

archive/issue_comments_487240.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nI think we really want this in 9.2, not the least as it documents stuff.",
    "created_at": "2020-09-25T11:15:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487240",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:76" align="right">comment:76</div>

I think we really want this in 9.2, not the least as it documents stuff.



---

archive/issue_events_418009.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-25T11:15:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-418009"
}
```



---

archive/issue_events_418010.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-25T11:15:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-418010"
}
```



---

archive/issue_comments_487241.json:
```json
{
    "body": "Changed branch from **[u/dimpase/build/py3x_conf](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/build/py3x_conf)** to **[`f19d9a4`](https://github.com/sagemath/sagetrac-mirror/commit/f19d9a4a356da5e4b068dc52c321e703c2648da3)**",
    "created_at": "2020-09-30T22:30:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30546#issuecomment-487241",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dimpase/build/py3x_conf](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/build/py3x_conf)** to **[`f19d9a4`](https://github.com/sagemath/sagetrac-mirror/commit/f19d9a4a356da5e4b068dc52c321e703c2648da3)**



---

archive/issue_events_418011.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-09-30T22:30:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-418011"
}
```



---

archive/issue_events_418012.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "aa0a6d7b5f32dbe433dd045a27e2b1dc1033ea2b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-09-30T22:30:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30546",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30546#event-418012"
}
```
