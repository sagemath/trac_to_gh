# Issue 30706: Make sage.env.cython_aliases more flexible regarding what pkgconfig files for BLAS are required

archive/issues_030469.json:
```json
{
    "assignees": [],
    "body": "While working on #30371, I noticed that `cblas` is not available for Ubuntu 18.04. In fact, `libblas-dev` contains a `README.if-you-look-for-libcblas` with the following content:\n\n```\n    Debian science team maintainers have merged the CBLAS ABI into\n    the libblas.so shared object. Everything you need from libcblas.so\n    can be found in libblas.so . Please link your program against it\n    instead. See also\n\n      https://lists.debian.org/debian-devel/2019/10/msg00273.html\n      https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=943712\n      https://wiki.debian.org/DebianScience/LinearAlgebraLibraries\n```\n\nSo this ticket adds support for other BLAS libraries (openplas, blas) that the user may have installed.\n\nCC:  @mkoeppe @dimpase @kiwifb @antonio-rojas @isuruf\n\nKeywords: **cblas, blas**\n\nBranch/Commit: **[`9c8641a`](https://github.com/sagemath/sagetrac-mirror/commit/9c8641a7f6d277c969d41506d55b7cc4cc04ef8d)**\n\nReviewer: **Matthias Koeppe, Dima Pasechnik**\n\nAuthor: **Tobias Diez, Matthias Koeppe**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30706_\n\n",
    "closed_at": "2020-11-20T22:15:06Z",
    "created_at": "2020-10-03T19:40:36Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make sage.env.cython_aliases more flexible regarding what pkgconfig files for BLAS are required",
    "type": "issue",
    "updated_at": "2020-11-20T22:15:06Z",
    "url": "https://github.com/sagemath/sage/issues/30706",
    "user": "https://github.com/tobiasdiez"
}
```
While working on #30371, I noticed that `cblas` is not available for Ubuntu 18.04. In fact, `libblas-dev` contains a `README.if-you-look-for-libcblas` with the following content:

```
    Debian science team maintainers have merged the CBLAS ABI into
    the libblas.so shared object. Everything you need from libcblas.so
    can be found in libblas.so . Please link your program against it
    instead. See also

      https://lists.debian.org/debian-devel/2019/10/msg00273.html
      https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=943712
      https://wiki.debian.org/DebianScience/LinearAlgebraLibraries
```

So this ticket adds support for other BLAS libraries (openplas, blas) that the user may have installed.

CC:  @mkoeppe @dimpase @kiwifb @antonio-rojas @isuruf

Keywords: **cblas, blas**

Branch/Commit: **[`9c8641a`](https://github.com/sagemath/sagetrac-mirror/commit/9c8641a7f6d277c969d41506d55b7cc4cc04ef8d)**

Reviewer: **Matthias Koeppe, Dima Pasechnik**

Author: **Tobias Diez, Matthias Koeppe**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/30706_





---

archive/issue_events_423453.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-10-03T19:40:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30706#event-423453"
}
```



---

archive/issue_events_423454.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-10-03T19:40:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30706#event-423454"
}
```



---

archive/issue_events_423455.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-10-03T19:40:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30706#event-423455"
}
```



---

archive/issue_events_423456.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-10-03T19:40:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30706#event-423456"
}
```



---

archive/issue_events_423457.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-10-03T19:42:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30706#event-423457"
}
```



---

archive/issue_comments_490597.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\n\n```\n$ cat build/pkgs/openblas/distros/debian.txt \nlibopenblas-dev\n```",
    "created_at": "2020-10-03T19:43:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490597",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">comment:2</div>


```
$ cat build/pkgs/openblas/distros/debian.txt 
libopenblas-dev
```



---

archive/issue_comments_490598.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAlso with `openblas` the issue remains, as it adds a `blas.pc` file in `usr/lib/.../pkgconfig` and thus is not found via `-l cblas`. Or do I miss something?",
    "created_at": "2020-10-03T20:14:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490598",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:3" align="right">comment:3</div>

Also with `openblas` the issue remains, as it adds a `blas.pc` file in `usr/lib/.../pkgconfig` and thus is not found via `-l cblas`. Or do I miss something?



---

archive/issue_comments_490599.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAre you saying that the .pc files installed on your Ubuntu system are broken?",
    "created_at": "2020-10-03T20:26:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490599",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

Are you saying that the .pc files installed on your Ubuntu system are broken?



---

archive/issue_comments_490600.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI wouldn't say broken, but there is no `cblas.pc` file (but a `blas.pc`) which is why the check in `env.py` was not successful without the committed change.",
    "created_at": "2020-10-03T20:42:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490600",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:5" align="right">comment:5</div>

I wouldn't say broken, but there is no `cblas.pc` file (but a `blas.pc`) which is why the check in `env.py` was not successful without the committed change.



---

archive/issue_comments_490601.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nSupporting BLAS on various platforms is really tricky. See `build/pkgs/openblas/spkg-configure.m4`. To interface with system BLAS, in some configurations we create `.pc` files in `$SAGE_LOCAL`. If you don't run `./configure` and `make`, you won't have those.",
    "created_at": "2020-10-03T20:50:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490601",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Supporting BLAS on various platforms is really tricky. See `build/pkgs/openblas/spkg-configure.m4`. To interface with system BLAS, in some configurations we create `.pc` files in `$SAGE_LOCAL`. If you don't run `./configure` and `make`, you won't have those.



---

archive/issue_comments_490602.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nWell, the editable install in #30371 uses only system-wide installed libraries, so things in `SAGE_LOCAL` don't matter (or do you suggest to set `SAGE_LOCAL` to say `usr` before calling configure?).\n\nWould it work to take in `env.py` the first of the libraries `openblas cblas blas` that is found using `pkgconfig.parse`?",
    "created_at": "2020-10-03T21:27:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490602",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:7" align="right">comment:7</div>

Well, the editable install in #30371 uses only system-wide installed libraries, so things in `SAGE_LOCAL` don't matter (or do you suggest to set `SAGE_LOCAL` to say `usr` before calling configure?).

Would it work to take in `env.py` the first of the libraries `openblas cblas blas` that is found using `pkgconfig.parse`?



---

archive/issue_comments_490603.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@tobiasdiez](#comment:7):\n> Well, the editable install in #30371 uses only system-wide installed libraries, so things in `SAGE_LOCAL` don't matter\n\nAs I said in #30371, I think it's best to keep the focus narrow -- make #30371 work completely (i.e., pass doctests) when run from within `./sage -sh` so that `$SAGE_LOCAL` is set to a working installation of the Sage distribution.  \n\nOf course I do understand that currently technical problems prevent you from completing the build.\n\nStill, `make -k` can build everything until you get the error with the pip package or whatever is failing. Then for example the .pc files will be available.\n\n> Would it work to take in `env.py` the first of the libraries `openblas cblas blas` that is found using `pkgconfig.parse`?\n\nSomething like this might work.\n\nMaking `sage.env.cython_aliases` more flexible is a good approach, I would think.\n\nNote that this will need thorough testing across the supported platforms.",
    "created_at": "2020-10-03T21:42:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490603",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@tobiasdiez](#comment:7):
> Well, the editable install in #30371 uses only system-wide installed libraries, so things in `SAGE_LOCAL` don't matter

As I said in #30371, I think it's best to keep the focus narrow -- make #30371 work completely (i.e., pass doctests) when run from within `./sage -sh` so that `$SAGE_LOCAL` is set to a working installation of the Sage distribution.  

Of course I do understand that currently technical problems prevent you from completing the build.

Still, `make -k` can build everything until you get the error with the pip package or whatever is failing. Then for example the .pc files will be available.

> Would it work to take in `env.py` the first of the libraries `openblas cblas blas` that is found using `pkgconfig.parse`?

Something like this might work.

Making `sage.env.cython_aliases` more flexible is a good approach, I would think.

Note that this will need thorough testing across the supported platforms.



---

archive/issue_events_423458.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-03T23:30:13Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "title_is": "Make sage.env.cython_aliases more flexible regarding what pkgconfig files for BLAS are required",
    "title_was": "Migrate from cblas to blas",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30706#event-423458"
}
```



---

archive/issue_comments_490604.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3cfe1c92ef838e8be27794355c05769f0fd1c8b4\">3cfe1c9</a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into public/build/cblas</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea4a44cefcbc6a82efab8a8b7809f40e28bf0773\">ea4a44c</a></td><td><code>Support different blas libraries</code></td></tr></table>\n",
    "created_at": "2020-10-19T20:30:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490604",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3cfe1c92ef838e8be27794355c05769f0fd1c8b4">3cfe1c9</a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into public/build/cblas</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea4a44cefcbc6a82efab8a8b7809f40e28bf0773">ea4a44c</a></td><td><code>Support different blas libraries</code></td></tr></table>




---

archive/issue_comments_490605.json:
```json
{
    "body": "Changed commit from **[`23d17ad`](https://github.com/sagemath/sagetrac-mirror/commit/23d17ad3f89536404bce4cb25c20ff0fde2b193b)** to **[`ea4a44c`](https://github.com/sagemath/sagetrac-mirror/commit/ea4a44cefcbc6a82efab8a8b7809f40e28bf0773)**",
    "created_at": "2020-10-19T20:30:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490605",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`23d17ad`](https://github.com/sagemath/sagetrac-mirror/commit/23d17ad3f89536404bce4cb25c20ff0fde2b193b)** to **[`ea4a44c`](https://github.com/sagemath/sagetrac-mirror/commit/ea4a44cefcbc6a82efab8a8b7809f40e28bf0773)**



---

archive/issue_events_423459.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-10-19T20:32:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30706#event-423459"
}
```



---

archive/issue_events_423460.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-10-19T20:32:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30706#event-423460"
}
```



---

archive/issue_comments_490606.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-While working on #30371, I noticed that cblas is not available for Ubuntu 18.04. In fact, `libblas-dev` contains a `README.if-you-look-for-libcblas` with the following content:\n+While working on #30371, I noticed that `cblas` is not available for Ubuntu 18.04. In fact, `libblas-dev` contains a `README.if-you-look-for-libcblas` with the following content:\n \n ```\n     Debian science team maintainers have merged the CBLAS ABI into\n@@ -11,4 +11,4 @@\n       https://wiki.debian.org/DebianScience/LinearAlgebraLibraries\n ```\n \n-So I suggest to migrate/rename cblas to blas. The currently submitted changes worked for an editable install, but they might lead to issues with the build process. So advice how to properly do this migration is  welcome; in fact, feel free to hijack this ticket and push the necessary changes directly.\n+So this ticket adds support for other BLAS libraries (openplas, blas) that the user may have installed.\n``````\n",
    "created_at": "2020-10-19T20:32:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490606",
    "user": "https://github.com/tobiasdiez"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-While working on #30371, I noticed that cblas is not available for Ubuntu 18.04. In fact, `libblas-dev` contains a `README.if-you-look-for-libcblas` with the following content:
+While working on #30371, I noticed that `cblas` is not available for Ubuntu 18.04. In fact, `libblas-dev` contains a `README.if-you-look-for-libcblas` with the following content:
 
 ```
     Debian science team maintainers have merged the CBLAS ABI into
@@ -11,4 +11,4 @@
       https://wiki.debian.org/DebianScience/LinearAlgebraLibraries
 ```
 
-So I suggest to migrate/rename cblas to blas. The currently submitted changes worked for an editable install, but they might lead to issues with the build process. So advice how to properly do this migration is  welcome; in fact, feel free to hijack this ticket and push the necessary changes directly.
+So this ticket adds support for other BLAS libraries (openplas, blas) that the user may have installed.
``````




---

archive/issue_comments_490607.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI've now added support for openblas and blas as well. So, this ticket is now ready for review.",
    "created_at": "2020-10-19T20:32:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490607",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:11" align="right">comment:11</div>

I've now added support for openblas and blas as well. So, this ticket is now ready for review.



---

archive/issue_events_423461.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-19T21:09:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30706#event-423461"
}
```



---

archive/issue_events_423462.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-19T21:09:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30706#event-423462"
}
```



---

archive/issue_comments_490608.json:
```json
{
    "body": "Author: **Tobias Diez**",
    "created_at": "2020-10-19T21:09:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490608",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Tobias Diez**



---

archive/issue_comments_490609.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThis is going in a good direction but it might conflict with the Sage distribution's support of selecting ATLAS instead of OpenBLAS in `configure`. We can't just go and prefer the openblas.pc without adding a configuration variable that preserves this option.",
    "created_at": "2020-10-19T22:19:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490609",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

This is going in a good direction but it might conflict with the Sage distribution's support of selecting ATLAS instead of OpenBLAS in `configure`. We can't just go and prefer the openblas.pc without adding a configuration variable that preserves this option.



---

archive/issue_comments_490610.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI agree. Preference order should be overridable. You may very well want to build the whole sage with a different blas/lapack stack. What goes in env.py should be able to match whatever you build all the other sage dependencies with, regardless of the presence of openblas.pc.\n\nIf anything has to go first without override, I would prefer cblas or blas. This is a generic name and you could override things by providing a .pc in an appropriate PKG_CONFIG_PATH.",
    "created_at": "2020-10-19T22:32:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490610",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:14" align="right">comment:14</div>

I agree. Preference order should be overridable. You may very well want to build the whole sage with a different blas/lapack stack. What goes in env.py should be able to match whatever you build all the other sage dependencies with, regardless of the presence of openblas.pc.

If anything has to go first without override, I would prefer cblas or blas. This is a generic name and you could override things by providing a .pc in an appropriate PKG_CONFIG_PATH.



---

archive/issue_comments_490611.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75966fc0c32ffc918ff7a0cad60b7381f9b3fef5\">75966fc</a></td><td><code>Put cblas first</code></td></tr></table>\n",
    "created_at": "2020-10-19T22:36:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490611",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75966fc0c32ffc918ff7a0cad60b7381f9b3fef5">75966fc</a></td><td><code>Put cblas first</code></td></tr></table>




---

archive/issue_comments_490612.json:
```json
{
    "body": "Changed commit from **[`ea4a44c`](https://github.com/sagemath/sagetrac-mirror/commit/ea4a44cefcbc6a82efab8a8b7809f40e28bf0773)** to **[`75966fc`](https://github.com/sagemath/sagetrac-mirror/commit/75966fc0c32ffc918ff7a0cad60b7381f9b3fef5)**",
    "created_at": "2020-10-19T22:36:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490612",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ea4a44c`](https://github.com/sagemath/sagetrac-mirror/commit/ea4a44cefcbc6a82efab8a8b7809f40e28bf0773)** to **[`75966fc`](https://github.com/sagemath/sagetrac-mirror/commit/75966fc0c32ffc918ff7a0cad60b7381f9b3fef5)**



---

archive/issue_comments_490613.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThanks for the feedback. I wasn't sure about the order myself. I've now changed it to have `cblas` first. So if this package is installed (or a corresponding `pc` file is present), then you get the current behavior. Only in the case it's not installed we fall back to openblas.\n\nI would leave the config option for another ticket.",
    "created_at": "2020-10-19T22:40:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490613",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:16" align="right">comment:16</div>

Thanks for the feedback. I wasn't sure about the order myself. I've now changed it to have `cblas` first. So if this package is installed (or a corresponding `pc` file is present), then you get the current behavior. Only in the case it's not installed we fall back to openblas.

I would leave the config option for another ticket.



---

archive/issue_comments_490614.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI'll note that my patch to giac's autotools is going to be in sage 9.2 and it uses lapack.pc and blas.pc. I am bringing up giac because I am currently trying the remove `libdir` from RUNPATH in libgiac because it messes up which blas/lapack is loaded in Gentoo.",
    "created_at": "2020-10-19T23:50:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490614",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:17" align="right">comment:17</div>

I'll note that my patch to giac's autotools is going to be in sage 9.2 and it uses lapack.pc and blas.pc. I am bringing up giac because I am currently trying the remove `libdir` from RUNPATH in libgiac because it messes up which blas/lapack is loaded in Gentoo.



---

archive/issue_comments_490615.json:
```json
{
    "body": "Changed commit from **[`75966fc`](https://github.com/sagemath/sagetrac-mirror/commit/75966fc0c32ffc918ff7a0cad60b7381f9b3fef5)** to **[`273bb93`](https://github.com/sagemath/sagetrac-mirror/commit/273bb93bd81c1165cd7206762c91073f47186bca)**",
    "created_at": "2020-10-19T23:55:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490615",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`75966fc`](https://github.com/sagemath/sagetrac-mirror/commit/75966fc0c32ffc918ff7a0cad60b7381f9b3fef5)** to **[`273bb93`](https://github.com/sagemath/sagetrac-mirror/commit/273bb93bd81c1165cd7206762c91073f47186bca)**



---

archive/issue_comments_490616.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/273bb93bd81c1165cd7206762c91073f47186bca\">273bb93</a></td><td><code>Make cblas pc module search configurable via sage_conf</code></td></tr></table>\n",
    "created_at": "2020-10-19T23:55:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490616",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/273bb93bd81c1165cd7206762c91073f47186bca">273bb93</a></td><td><code>Make cblas pc module search configurable via sage_conf</code></td></tr></table>




---

archive/issue_comments_490617.json:
```json
{
    "body": "Changed author from **Tobias Diez** to **Tobias Diez, Matthias Koeppe**",
    "created_at": "2020-10-20T00:03:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490617",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Tobias Diez** to **Tobias Diez, Matthias Koeppe**



---

archive/issue_comments_490618.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThanks for the update Matthias. The code works fine on Ubunutu with openblas installed, however fails on MacOS with openblas installed via homebrew:\n\n```\nTraceback (most recent call last):\n      File \"/Users/runner/work/sage/sage/src/.venv/lib/python3.8/site-packages/pip/_vendor/pep517/_in_process.py\", line 280, in <module>\n        main()\n      File \"/Users/runner/work/sage/sage/src/.venv/lib/python3.8/site-packages/pip/_vendor/pep517/_in_process.py\", line 263, in main\n        json_out['return_val'] = hook(**hook_input['kwargs'])\n      File \"/Users/runner/work/sage/sage/src/.venv/lib/python3.8/site-packages/pip/_vendor/pep517/_in_process.py\", line 133, in prepare_metadata_for_build_wheel\n        return hook(metadata_directory, config_settings)\n      File \"/Users/runner/work/sage/sage/src/.venv/lib/python3.8/site-packages/setuptools/build_meta.py\", line 157, in prepare_metadata_for_build_wheel\n        self.run_setup()\n      File \"/Users/runner/work/sage/sage/src/.venv/lib/python3.8/site-packages/setuptools/build_meta.py\", line 248, in run_setup\n        super(_BuildMetaLegacyBackend,\n      File \"/Users/runner/work/sage/sage/src/.venv/lib/python3.8/site-packages/setuptools/build_meta.py\", line 142, in run_setup\n        exec(compile(code, __file__, 'exec'), locals())\n      File \"setup.py\", line 90, in <module>\n        aliases = cython_aliases()\n      File \"/Users/runner/work/sage/sage/src/sage/env.py\", line 399, in cython_aliases\n        lib = next((blas_lib for blas_lib in cblas_pc_modules if pkgconfig.exists(blas_lib)))\n    StopIteration\n```\nsee https://github.com/tobiasdiez/sage/runs/1285891725?check_suite_focus=true\nIts interesting to note that also `./configure` cannot find openblas:\n`checking for openblas >= 0.2.20... no`. So I guess it's a more general issue not really related to this ticket.",
    "created_at": "2020-10-21T11:17:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490618",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:20" align="right">comment:20</div>

Thanks for the update Matthias. The code works fine on Ubunutu with openblas installed, however fails on MacOS with openblas installed via homebrew:

```
Traceback (most recent call last):
      File "/Users/runner/work/sage/sage/src/.venv/lib/python3.8/site-packages/pip/_vendor/pep517/_in_process.py", line 280, in <module>
        main()
      File "/Users/runner/work/sage/sage/src/.venv/lib/python3.8/site-packages/pip/_vendor/pep517/_in_process.py", line 263, in main
        json_out['return_val'] = hook(**hook_input['kwargs'])
      File "/Users/runner/work/sage/sage/src/.venv/lib/python3.8/site-packages/pip/_vendor/pep517/_in_process.py", line 133, in prepare_metadata_for_build_wheel
        return hook(metadata_directory, config_settings)
      File "/Users/runner/work/sage/sage/src/.venv/lib/python3.8/site-packages/setuptools/build_meta.py", line 157, in prepare_metadata_for_build_wheel
        self.run_setup()
      File "/Users/runner/work/sage/sage/src/.venv/lib/python3.8/site-packages/setuptools/build_meta.py", line 248, in run_setup
        super(_BuildMetaLegacyBackend,
      File "/Users/runner/work/sage/sage/src/.venv/lib/python3.8/site-packages/setuptools/build_meta.py", line 142, in run_setup
        exec(compile(code, __file__, 'exec'), locals())
      File "setup.py", line 90, in <module>
        aliases = cython_aliases()
      File "/Users/runner/work/sage/sage/src/sage/env.py", line 399, in cython_aliases
        lib = next((blas_lib for blas_lib in cblas_pc_modules if pkgconfig.exists(blas_lib)))
    StopIteration
```
see https://github.com/tobiasdiez/sage/runs/1285891725?check_suite_focus=true
Its interesting to note that also `./configure` cannot find openblas:
`checking for openblas >= 0.2.20... no`. So I guess it's a more general issue not really related to this ticket.



---

archive/issue_comments_490619.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@tobiasdiez](#comment:20):\n> Thanks for the update Matthias. The code works fine on Ubunutu with openblas installed, however fails on MacOS with openblas installed via homebrew:\n\nDid you use the homebrew setup as explained in README.md?",
    "created_at": "2020-10-21T18:23:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490619",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@tobiasdiez](#comment:20):
> Thanks for the update Matthias. The code works fine on Ubunutu with openblas installed, however fails on MacOS with openblas installed via homebrew:

Did you use the homebrew setup as explained in README.md?



---

archive/issue_comments_490620.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nNot sure, the Readme in root doesn't really contain anything about homebrew. That's what I used: https://github.com/tobiasdiez/sage/actions/runs/319537404/workflow",
    "created_at": "2020-10-21T20:03:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490620",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:22" align="right">comment:22</div>

Not sure, the Readme in root doesn't really contain anything about homebrew. That's what I used: https://github.com/tobiasdiez/sage/actions/runs/319537404/workflow



---

archive/issue_comments_490621.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nMy bad, it's actually not in the README but is displayed at the end of ./configure:\n\n```\n# To automatically take care of homebrew messages regarding \n# keg-only packages for the current shell session:\n  $ source /Users/mkoeppe/s/sage/sage-rebasing/.homebrew-build-env\n```",
    "created_at": "2020-10-21T20:33:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490621",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:23" align="right">comment:23</div>

My bad, it's actually not in the README but is displayed at the end of ./configure:

```
# To automatically take care of homebrew messages regarding 
# keg-only packages for the current shell session:
  $ source /Users/mkoeppe/s/sage/sage-rebasing/.homebrew-build-env
```



---

archive/issue_comments_490622.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI just discovered that there is also a reference to `cblas` in `src/sage/misc/cython.py`. Not sure if this also needs to be changed to use the new variable `CBLAS_PC_MODULES`.\n\nMoreover, I would like suggest the following change to `sage_conf.py.in` to make this more reusable.\n\n```\nDEFAULT_CBLAS_PC_MODULE = \"@SAGE_CBLAS_PC_MODULE\" # Set to cblas in configure\n\ndef get_cblas_pc_module()\n   cblas_pc_modules = [DEFAULT_CBLAS_PC_MODULE, 'cblas', 'openblas', 'blas']\n   return next((blas_lib for blas_lib in cblas_pc_modules if pkgconfig.exists(blas_lib)))\n```",
    "created_at": "2020-11-03T00:47:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490622",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:25" align="right">comment:25</div>

I just discovered that there is also a reference to `cblas` in `src/sage/misc/cython.py`. Not sure if this also needs to be changed to use the new variable `CBLAS_PC_MODULES`.

Moreover, I would like suggest the following change to `sage_conf.py.in` to make this more reusable.

```
DEFAULT_CBLAS_PC_MODULE = "@SAGE_CBLAS_PC_MODULE" # Set to cblas in configure

def get_cblas_pc_module()
   cblas_pc_modules = [DEFAULT_CBLAS_PC_MODULE, 'cblas', 'openblas', 'blas']
   return next((blas_lib for blas_lib in cblas_pc_modules if pkgconfig.exists(blas_lib)))
```



---

archive/issue_comments_490623.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nSearch logic should go into sage/env.py, not sage_conf.",
    "created_at": "2020-11-03T01:13:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490623",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

Search logic should go into sage/env.py, not sage_conf.



---

archive/issue_comments_490624.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@tobiasdiez](#comment:25):\n> I just discovered that there is also a reference to `cblas` in `src/sage/misc/cython.py`. Not sure if this also needs to be changed to use the new variable `CBLAS_PC_MODULES`.\n\nYes, this code should be replaced by something equivalent that uses sage.env",
    "created_at": "2020-11-03T01:14:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490624",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@tobiasdiez](#comment:25):
> I just discovered that there is also a reference to `cblas` in `src/sage/misc/cython.py`. Not sure if this also needs to be changed to use the new variable `CBLAS_PC_MODULES`.

Yes, this code should be replaced by something equivalent that uses sage.env



---

archive/issue_comments_490625.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c8641a7f6d277c969d41506d55b7cc4cc04ef8d\">9c8641a</a></td><td><code>Replace other usages of cblas name</code></td></tr></table>\n",
    "created_at": "2020-11-03T09:12:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490625",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c8641a7f6d277c969d41506d55b7cc4cc04ef8d">9c8641a</a></td><td><code>Replace other usages of cblas name</code></td></tr></table>




---

archive/issue_comments_490626.json:
```json
{
    "body": "Changed commit from **[`273bb93`](https://github.com/sagemath/sagetrac-mirror/commit/273bb93bd81c1165cd7206762c91073f47186bca)** to **[`9c8641a`](https://github.com/sagemath/sagetrac-mirror/commit/9c8641a7f6d277c969d41506d55b7cc4cc04ef8d)**",
    "created_at": "2020-11-03T09:12:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490626",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`273bb93`](https://github.com/sagemath/sagetrac-mirror/commit/273bb93bd81c1165cd7206762c91073f47186bca)** to **[`9c8641a`](https://github.com/sagemath/sagetrac-mirror/commit/9c8641a7f6d277c969d41506d55b7cc4cc04ef8d)**



---

archive/issue_comments_490627.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nOk, I've now refactored the code slightly and replaced the other usages of the hard-corded `cblas` in `sage/misc/cython.py` and in `sage_setup/library_order.py`.",
    "created_at": "2020-11-03T09:15:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490627",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:29" align="right">comment:29</div>

Ok, I've now refactored the code slightly and replaced the other usages of the hard-corded `cblas` in `sage/misc/cython.py` and in `sage_setup/library_order.py`.



---

archive/issue_comments_490628.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nLooks good to me, but another reviewer is needed...",
    "created_at": "2020-11-03T16:50:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490628",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

Looks good to me, but another reviewer is needed...



---

archive/issue_comments_490629.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe, ...**",
    "created_at": "2020-11-03T16:50:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490629",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe, ...**



---

archive/issue_comments_490630.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\ndoes this work on platforms where cblas is present in an important way, such as arch linux?",
    "created_at": "2020-11-04T12:54:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490630",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:31" align="right">comment:31</div>

does this work on platforms where cblas is present in an important way, such as arch linux?



---

archive/issue_comments_490631.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nThe behavior as part of building Sage-the-distribution is unchanged by this ticket.",
    "created_at": "2020-11-04T20:24:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490631",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:32" align="right">comment:32</div>

The behavior as part of building Sage-the-distribution is unchanged by this ticket.



---

archive/issue_events_423463.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-11-07T21:47:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30706#event-423463"
}
```



---

archive/issue_events_423464.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-11-07T21:47:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30706#event-423464"
}
```



---

archive/issue_comments_490632.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, Dima Pasechnik**",
    "created_at": "2020-11-07T21:47:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490632",
    "user": "https://github.com/dimpase"
}
```

Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, Dima Pasechnik**



---

archive/issue_comments_490633.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nThanks!",
    "created_at": "2020-11-08T13:33:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490633",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:34" align="right">comment:34</div>

Thanks!



---

archive/issue_comments_490634.json:
```json
{
    "body": "Changed branch from **[public/build/cblas](https://github.com/sagemath/sagetrac-mirror/tree/public/build/cblas)** to **[`9c8641a`](https://github.com/sagemath/sagetrac-mirror/commit/9c8641a7f6d277c969d41506d55b7cc4cc04ef8d)**",
    "created_at": "2020-11-20T22:15:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30706#issuecomment-490634",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/build/cblas](https://github.com/sagemath/sagetrac-mirror/tree/public/build/cblas)** to **[`9c8641a`](https://github.com/sagemath/sagetrac-mirror/commit/9c8641a7f6d277c969d41506d55b7cc4cc04ef8d)**



---

archive/issue_events_423465.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-20T22:15:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30706#event-423465"
}
```



---

archive/issue_events_423466.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "1bf46183f2f39b8915f4e17f8b3f77353b5d0e5e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-11-20T22:15:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30706",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30706#event-423466"
}
```
