# Issue 30234: Refactor SR through a wrapper class for symbolic equations, inequalities

archive/issues_029997.json:
```json
{
    "body": "CC:  @mjungmath @egourgoulhon @davewittemorris @yuan-zhou\n\nWe create a \"subring\" of the Symbolic \"Ring\" that only includes value objects without variables (like SymbolicConstantsRing) and has eager evaluation of relational operators.\n\nCompare:\n\n```\nsage: s = SR('x') == 1                                                                                                                                                           \nsage: s                                                                                                                                                                          \nx == 1\nsage: s in SR                                                                                                                                                                    \nTrue\n```\nwith:\n\n```\nsage: SymbolicValuesRing(SR('x'))\nx\nsage: SymbolicValuesRing(SR('x') >= 1)\nerror - cannot convert\nsage: SymbolicValuesRing('x') >= 1\nerror - cannot decide\nsage: assume(x >= 2)\nsage: SymbolicValuesRing('x') >= 1\nTrue\n```\n\nThis could then be used for example with `Polyhedron(..., backend='field')`.\n\n\nApproach 1 to implement this is to wrap elements of `SR` in some wrapper class. \n\n\n\nApproach 2 is to implement it through refactoring:\n\n- We refactor the Symbolic Ring so that there is a convenient parent class for symbolic expressions with normal Python comparison semantics instead of creating relations. \n\n- The magic behavior of comparison operators for `SR` elements, creating relations, will be implemented in a wrapper class. \nIdeally, this will be unified with the separate implementation of this functionality in `sage.numerical.linear_functions`.\n\n\nHere we do Approach 1.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/30234\n\n",
    "created_at": "2020-07-27T19:52:55Z",
    "labels": [
        "component: symbolics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-wishlist",
    "title": "Refactor SR through a wrapper class for symbolic equations, inequalities",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30234",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @mjungmath @egourgoulhon @davewittemorris @yuan-zhou

We create a "subring" of the Symbolic "Ring" that only includes value objects without variables (like SymbolicConstantsRing) and has eager evaluation of relational operators.

Compare:

```
sage: s = SR('x') == 1                                                                                                                                                           
sage: s                                                                                                                                                                          
x == 1
sage: s in SR                                                                                                                                                                    
True
```
with:

```
sage: SymbolicValuesRing(SR('x'))
x
sage: SymbolicValuesRing(SR('x') >= 1)
error - cannot convert
sage: SymbolicValuesRing('x') >= 1
error - cannot decide
sage: assume(x >= 2)
sage: SymbolicValuesRing('x') >= 1
True
```

This could then be used for example with `Polyhedron(..., backend='field')`.


Approach 1 to implement this is to wrap elements of `SR` in some wrapper class. 



Approach 2 is to implement it through refactoring:

- We refactor the Symbolic Ring so that there is a convenient parent class for symbolic expressions with normal Python comparison semantics instead of creating relations. 

- The magic behavior of comparison operators for `SR` elements, creating relations, will be implemented in a wrapper class. 
Ideally, this will be unified with the separate implementation of this functionality in `sage.numerical.linear_functions`.


Here we do Approach 1.


Issue created by migration from https://trac.sagemath.org/ticket/30234


