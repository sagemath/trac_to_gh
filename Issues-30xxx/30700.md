# Issue 30700: enhanced maple parser

archive/issues_030463.json:
```json
{
    "body": "Here is a small enhancement to our maple parser, that uses the own types of maple to make more precise conversions back from maple.\n\n**CC:**  @slel @mkoeppe\n\n**Keywords:** maple\n\n**Branch/Commit:** [326cc6af0cdf55ae8860f5c26f54c736475198b3](https://github.com/sagemath/sagetrac-mirror/commit/326cc6af0cdf55ae8860f5c26f54c736475198b3)\n\n**Reviewer:** Marc Mezzarobba\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/30700\n\n",
    "closed_at": "2020-10-31T18:06:58Z",
    "created_at": "2020-10-02T13:25:05Z",
    "labels": [
        "component: interfaces: optional",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "title": "enhanced maple parser",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/30700",
    "user": "https://github.com/fchapoton"
}
```
Here is a small enhancement to our maple parser, that uses the own types of maple to make more precise conversions back from maple.

**CC:**  @slel @mkoeppe

**Keywords:** maple

**Branch/Commit:** [326cc6af0cdf55ae8860f5c26f54c736475198b3](https://github.com/sagemath/sagetrac-mirror/commit/326cc6af0cdf55ae8860f5c26f54c736475198b3)

**Reviewer:** Marc Mezzarobba

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/30700





---

archive/issue_events_275126.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-10-02T13:25:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30700#event-275126"
}
```



---

archive/issue_comments_493175.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a7ecc345fdb8e0ea0bdb00869f1555068ea07b9\">3a7ecc3</a></td><td><code>add missing optional tags</code></td></tr></table>\n",
    "created_at": "2020-10-02T17:12:46Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493175",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a7ecc345fdb8e0ea0bdb00869f1555068ea07b9">3a7ecc3</a></td><td><code>add missing optional tags</code></td></tr></table>




---

archive/issue_comments_493176.json:
```json
{
    "body": "**Changing commit** from \"[11391a07e4422a754d05cdb38ea59cbf415b02d9](https://github.com/sagemath/sagetrac-mirror/commit/11391a07e4422a754d05cdb38ea59cbf415b02d9)\" to \"[3a7ecc345fdb8e0ea0bdb00869f1555068ea07b9](https://github.com/sagemath/sagetrac-mirror/commit/3a7ecc345fdb8e0ea0bdb00869f1555068ea07b9)\".",
    "created_at": "2020-10-02T17:12:46Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493176",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[11391a07e4422a754d05cdb38ea59cbf415b02d9](https://github.com/sagemath/sagetrac-mirror/commit/11391a07e4422a754d05cdb38ea59cbf415b02d9)" to "[3a7ecc345fdb8e0ea0bdb00869f1555068ea07b9](https://github.com/sagemath/sagetrac-mirror/commit/3a7ecc345fdb8e0ea0bdb00869f1555068ea07b9)".



---

archive/issue_comments_493177.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03e21b1d02fe3ee19cf5d34e0967a07cc2ade340\">03e21b1</a></td><td><code>add missing import</code></td></tr></table>\n",
    "created_at": "2020-10-02T17:14:41Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493177",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03e21b1d02fe3ee19cf5d34e0967a07cc2ade340">03e21b1</a></td><td><code>add missing import</code></td></tr></table>




---

archive/issue_comments_493178.json:
```json
{
    "body": "**Changing commit** from \"[3a7ecc345fdb8e0ea0bdb00869f1555068ea07b9](https://github.com/sagemath/sagetrac-mirror/commit/3a7ecc345fdb8e0ea0bdb00869f1555068ea07b9)\" to \"[03e21b1d02fe3ee19cf5d34e0967a07cc2ade340](https://github.com/sagemath/sagetrac-mirror/commit/03e21b1d02fe3ee19cf5d34e0967a07cc2ade340)\".",
    "created_at": "2020-10-02T17:14:41Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493178",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3a7ecc345fdb8e0ea0bdb00869f1555068ea07b9](https://github.com/sagemath/sagetrac-mirror/commit/3a7ecc345fdb8e0ea0bdb00869f1555068ea07b9)" to "[03e21b1d02fe3ee19cf5d34e0967a07cc2ade340](https://github.com/sagemath/sagetrac-mirror/commit/03e21b1d02fe3ee19cf5d34e0967a07cc2ade340)".



---

archive/issue_comments_493179.json:
```json
{
    "body": "<a id='comment:5'></a>\nonly a good first step. I would prefer to keep further enhancement for other tickets. please review",
    "created_at": "2020-10-03T07:49:06Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493179",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
only a good first step. I would prefer to keep further enhancement for other tickets. please review



---

archive/issue_comments_493180.json:
```json
{
    "body": "<a id='comment:6'></a>\n- According to the Maple docs, `fraction` as a type means \u201c`rational` but not `integer`\u201d, so I think this case is useless;\n- numbers of type `float` can have arbitrary precision in Maple, they shouldn't blindly be converted to `RR`;\n- as for `complex(extended_numeric)`, it not only recognizes arbitrary-precision complex floating-point numbers, but also exact expressions like `I/3`;\n- I don't understand why you convert equations (equalities) to pairs--they are indeeed used as such in Maple, but only occasionally.\n\nMore generally, if we want a more powerful and robust Maple interface, I suspect we should use the OpenMaple C API instead of talking to the Maple shell.",
    "created_at": "2020-10-03T15:41:24Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493180",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:6'></a>
- According to the Maple docs, `fraction` as a type means “`rational` but not `integer`”, so I think this case is useless;
- numbers of type `float` can have arbitrary precision in Maple, they shouldn't blindly be converted to `RR`;
- as for `complex(extended_numeric)`, it not only recognizes arbitrary-precision complex floating-point numbers, but also exact expressions like `I/3`;
- I don't understand why you convert equations (equalities) to pairs--they are indeeed used as such in Maple, but only occasionally.

More generally, if we want a more powerful and robust Maple interface, I suspect we should use the OpenMaple C API instead of talking to the Maple shell.



---

archive/issue_comments_493181.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b469c73f4cfc44ad175f4e897d090d0396dc1474\">b469c73</a></td><td><code>better maple parser</code></td></tr></table>\n",
    "created_at": "2020-10-03T16:25:10Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493181",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b469c73f4cfc44ad175f4e897d090d0396dc1474">b469c73</a></td><td><code>better maple parser</code></td></tr></table>




---

archive/issue_comments_493182.json:
```json
{
    "body": "**Changing commit** from \"[03e21b1d02fe3ee19cf5d34e0967a07cc2ade340](https://github.com/sagemath/sagetrac-mirror/commit/03e21b1d02fe3ee19cf5d34e0967a07cc2ade340)\" to \"[b469c73f4cfc44ad175f4e897d090d0396dc1474](https://github.com/sagemath/sagetrac-mirror/commit/b469c73f4cfc44ad175f4e897d090d0396dc1474)\".",
    "created_at": "2020-10-03T16:25:10Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493182",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[03e21b1d02fe3ee19cf5d34e0967a07cc2ade340](https://github.com/sagemath/sagetrac-mirror/commit/03e21b1d02fe3ee19cf5d34e0967a07cc2ade340)" to "[b469c73f4cfc44ad175f4e897d090d0396dc1474](https://github.com/sagemath/sagetrac-mirror/commit/b469c73f4cfc44ad175f4e897d090d0396dc1474)".



---

archive/issue_comments_493183.json:
```json
{
    "body": "<a id='comment:8'></a>\nMerci pour les suggestions. Le but ici n'est pas une interface parfaite, mais juste un peu mieux que celle qui existe. Il y a de la marge.\n\nQue faire pour \"float\" et pour \"complex\" ?",
    "created_at": "2020-10-03T16:26:30Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493183",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
Merci pour les suggestions. Le but ici n'est pas une interface parfaite, mais juste un peu mieux que celle qui existe. Il y a de la marge.

Que faire pour "float" et pour "complex" ?



---

archive/issue_comments_493184.json:
```json
{
    "body": "<a id='comment:9'></a>\nIf you want to recognize complex floating-point numbers, use `complex(float)` instead of `complex(extended_numeric)`. You could also keep `complex(extended_numeric)` and do recursive calls on the real and imaginary parts.\n\nRegarding the precision issue, I'm not sure what to do. Maybe decompose the number with `SFloatMantissa()` and `SFloatExponent()`, convert to integers, and look at the length of the mantissa to set the precision of the parent...\n\n(I agree that the goal is not to have a perfect interface. The issue I have with things that \u201calmost work\u201d but are incorrect in general is that people start using them, and that leads to backward compatibility issues when someone tries to do them right!)",
    "created_at": "2020-10-03T17:40:42Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493184",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:9'></a>
If you want to recognize complex floating-point numbers, use `complex(float)` instead of `complex(extended_numeric)`. You could also keep `complex(extended_numeric)` and do recursive calls on the real and imaginary parts.

Regarding the precision issue, I'm not sure what to do. Maybe decompose the number with `SFloatMantissa()` and `SFloatExponent()`, convert to integers, and look at the length of the mantissa to set the precision of the parent...

(I agree that the goal is not to have a perfect interface. The issue I have with things that “almost work” but are incorrect in general is that people start using them, and that leads to backward compatibility issues when someone tries to do them right!)



---

archive/issue_comments_493185.json:
```json
{
    "body": "**Changing commit** from \"[b469c73f4cfc44ad175f4e897d090d0396dc1474](https://github.com/sagemath/sagetrac-mirror/commit/b469c73f4cfc44ad175f4e897d090d0396dc1474)\" to \"[abfbde25dfda06c932daa65b7f2b25c831f92355](https://github.com/sagemath/sagetrac-mirror/commit/abfbde25dfda06c932daa65b7f2b25c831f92355)\".",
    "created_at": "2020-10-03T17:58:07Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493185",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b469c73f4cfc44ad175f4e897d090d0396dc1474](https://github.com/sagemath/sagetrac-mirror/commit/b469c73f4cfc44ad175f4e897d090d0396dc1474)" to "[abfbde25dfda06c932daa65b7f2b25c831f92355](https://github.com/sagemath/sagetrac-mirror/commit/abfbde25dfda06c932daa65b7f2b25c831f92355)".



---

archive/issue_comments_493186.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/abfbde25dfda06c932daa65b7f2b25c831f92355\">abfbde2</a></td><td><code>use complex(float) in maplke parser</code></td></tr></table>\n",
    "created_at": "2020-10-03T17:58:07Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493186",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/abfbde25dfda06c932daa65b7f2b25c831f92355">abfbde2</a></td><td><code>use complex(float) in maplke parser</code></td></tr></table>




---

archive/issue_comments_493187.json:
```json
{
    "body": "**Changing commit** from \"[abfbde25dfda06c932daa65b7f2b25c831f92355](https://github.com/sagemath/sagetrac-mirror/commit/abfbde25dfda06c932daa65b7f2b25c831f92355)\" to \"[17d2cb7b7b96c24df486387957487acf280a1553](https://github.com/sagemath/sagetrac-mirror/commit/17d2cb7b7b96c24df486387957487acf280a1553)\".",
    "created_at": "2020-10-03T19:20:29Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493187",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[abfbde25dfda06c932daa65b7f2b25c831f92355](https://github.com/sagemath/sagetrac-mirror/commit/abfbde25dfda06c932daa65b7f2b25c831f92355)" to "[17d2cb7b7b96c24df486387957487acf280a1553](https://github.com/sagemath/sagetrac-mirror/commit/17d2cb7b7b96c24df486387957487acf280a1553)".



---

archive/issue_comments_493188.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17d2cb7b7b96c24df486387957487acf280a1553\">17d2cb7</a></td><td><code>back to using fraction</code></td></tr></table>\n",
    "created_at": "2020-10-03T19:20:29Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493188",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17d2cb7b7b96c24df486387957487acf280a1553">17d2cb7</a></td><td><code>back to using fraction</code></td></tr></table>




---

archive/issue_comments_493189.json:
```json
{
    "body": "<a id='comment:12'></a>\nI have some awful git troubles on my only machine with maple, so I will not be able to move this forward..",
    "created_at": "2020-10-03T19:21:19Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493189",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>
I have some awful git troubles on my only machine with maple, so I will not be able to move this forward..



---

archive/issue_comments_493190.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05520be475764139d78c7b25f8b32449a16c3842\">05520be</a></td><td><code>better code for real floats from Maple</code></td></tr></table>\n",
    "created_at": "2020-10-03T19:39:27Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493190",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05520be475764139d78c7b25f8b32449a16c3842">05520be</a></td><td><code>better code for real floats from Maple</code></td></tr></table>




---

archive/issue_comments_493191.json:
```json
{
    "body": "**Changing commit** from \"[17d2cb7b7b96c24df486387957487acf280a1553](https://github.com/sagemath/sagetrac-mirror/commit/17d2cb7b7b96c24df486387957487acf280a1553)\" to \"[05520be475764139d78c7b25f8b32449a16c3842](https://github.com/sagemath/sagetrac-mirror/commit/05520be475764139d78c7b25f8b32449a16c3842)\".",
    "created_at": "2020-10-03T19:39:27Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493191",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[17d2cb7b7b96c24df486387957487acf280a1553](https://github.com/sagemath/sagetrac-mirror/commit/17d2cb7b7b96c24df486387957487acf280a1553)" to "[05520be475764139d78c7b25f8b32449a16c3842](https://github.com/sagemath/sagetrac-mirror/commit/05520be475764139d78c7b25f8b32449a16c3842)".



---

archive/issue_comments_493192.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [chapoton](#comment%3A12):\n> I have some awful git troubles on my only machine with maple, so I will not be able to move this forward..\n\nI have installed the following script as `maple` on my development box\n\n```\n#! /bin/bash\n# from https://stackoverflow.com/questions/1668649/how-to-keep-quotes-in-bash-arguments/8723305\nif [ \"$#\" -lt 1 ]; then\n quoted_args=\"\"\nelse\n quoted_args=\"$(printf \" %q\" \"${@}\")\"\nfi\nssh -t $HOST_WITH_MAPLE maple \"$quoted_args\"\n```",
    "created_at": "2020-10-03T23:21:10Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493192",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
Replying to [chapoton](#comment%3A12):
> I have some awful git troubles on my only machine with maple, so I will not be able to move this forward..

I have installed the following script as `maple` on my development box

```
#! /bin/bash
# from https://stackoverflow.com/questions/1668649/how-to-keep-quotes-in-bash-arguments/8723305
if [ "$#" -lt 1 ]; then
 quoted_args=""
else
 quoted_args="$(printf " %q" "${@}")"
fi
ssh -t $HOST_WITH_MAPLE maple "$quoted_args"
```



---

archive/issue_comments_493193.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ea97f16a080bede7e2f6a1089021741c5f07252\">4ea97f1</a></td><td><code>full flake8 for maple interface</code></td></tr></table>\n",
    "created_at": "2020-10-04T06:56:14Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493193",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ea97f16a080bede7e2f6a1089021741c5f07252">4ea97f1</a></td><td><code>full flake8 for maple interface</code></td></tr></table>




---

archive/issue_comments_493194.json:
```json
{
    "body": "**Changing commit** from \"[05520be475764139d78c7b25f8b32449a16c3842](https://github.com/sagemath/sagetrac-mirror/commit/05520be475764139d78c7b25f8b32449a16c3842)\" to \"[4ea97f16a080bede7e2f6a1089021741c5f07252](https://github.com/sagemath/sagetrac-mirror/commit/4ea97f16a080bede7e2f6a1089021741c5f07252)\".",
    "created_at": "2020-10-04T06:56:14Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493194",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[05520be475764139d78c7b25f8b32449a16c3842](https://github.com/sagemath/sagetrac-mirror/commit/05520be475764139d78c7b25f8b32449a16c3842)" to "[4ea97f16a080bede7e2f6a1089021741c5f07252](https://github.com/sagemath/sagetrac-mirror/commit/4ea97f16a080bede7e2f6a1089021741c5f07252)".



---

archive/issue_comments_493195.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [mkoeppe](#comment%3A14):\n> Replying to [chapoton](#comment%3A12):\n> > I have some awful git troubles on my only machine with maple, so I will not be able to move this forward..\n\n> I have installed the following script as `maple` on my development box\n> \n> ```\n> #! /bin/bash\n> # from https://stackoverflow.com/questions/1668649/how-to-keep-quotes-in-bash-arguments/8723305\n> if [ \"$#\" -lt 1 ]; then\n>  quoted_args=\"\"\n> else\n>  quoted_args=\"$(printf \" %q\" \"${@}\")\"\n> fi\n> ssh -t $HOST_WITH_MAPLE maple \"$quoted_args\"\n> ```\n> \n> \n\nSorry, but what is your point ?",
    "created_at": "2020-10-04T08:58:27Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493195",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
Replying to [mkoeppe](#comment%3A14):
> Replying to [chapoton](#comment%3A12):
> > I have some awful git troubles on my only machine with maple, so I will not be able to move this forward..

> I have installed the following script as `maple` on my development box
> 
> ```
> #! /bin/bash
> # from https://stackoverflow.com/questions/1668649/how-to-keep-quotes-in-bash-arguments/8723305
> if [ "$#" -lt 1 ]; then
>  quoted_args=""
> else
>  quoted_args="$(printf " %q" "${@}")"
> fi
> ssh -t $HOST_WITH_MAPLE maple "$quoted_args"
> ```
> 
> 

Sorry, but what is your point ?



---

archive/issue_comments_493196.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/326cc6af0cdf55ae8860f5c26f54c736475198b3\">326cc6a</a></td><td><code>add missing optional tag</code></td></tr></table>\n",
    "created_at": "2020-10-04T09:40:38Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493196",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/326cc6af0cdf55ae8860f5c26f54c736475198b3">326cc6a</a></td><td><code>add missing optional tag</code></td></tr></table>




---

archive/issue_comments_493197.json:
```json
{
    "body": "**Changing commit** from \"[4ea97f16a080bede7e2f6a1089021741c5f07252](https://github.com/sagemath/sagetrac-mirror/commit/4ea97f16a080bede7e2f6a1089021741c5f07252)\" to \"[326cc6af0cdf55ae8860f5c26f54c736475198b3](https://github.com/sagemath/sagetrac-mirror/commit/326cc6af0cdf55ae8860f5c26f54c736475198b3)\".",
    "created_at": "2020-10-04T09:40:38Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493197",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4ea97f16a080bede7e2f6a1089021741c5f07252](https://github.com/sagemath/sagetrac-mirror/commit/4ea97f16a080bede7e2f6a1089021741c5f07252)" to "[326cc6af0cdf55ae8860f5c26f54c736475198b3](https://github.com/sagemath/sagetrac-mirror/commit/326cc6af0cdf55ae8860f5c26f54c736475198b3)".



---

archive/issue_comments_493198.json:
```json
{
    "body": "<a id='comment:18'></a>\nLgtm, thank you!\n\n(I still see many failed tests with Maple 2019, but afaict they all were failing already before your changes.)",
    "created_at": "2020-10-04T12:20:26Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493198",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:18'></a>
Lgtm, thank you!

(I still see many failed tests with Maple 2019, but afaict they all were failing already before your changes.)



---

archive/issue_events_275127.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2020-10-04T12:20:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30700#event-275127"
}
```



---

archive/issue_events_275128.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2020-10-04T12:20:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30700#event-275128"
}
```



---

archive/issue_comments_493199.json:
```json
{
    "body": "**Reviewer:** Marc Mezzarobba",
    "created_at": "2020-10-04T12:20:26Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493199",
    "user": "https://github.com/mezzarobba"
}
```

**Reviewer:** Marc Mezzarobba



---

archive/issue_events_275129.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-10-31T18:06:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30700#event-275129"
}
```



---

archive/issue_events_275130.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-10-31T18:06:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30700#event-275130"
}
```



---

archive/issue_comments_493200.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/maple_parser](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/maple_parser)\" to \"[326cc6af0cdf55ae8860f5c26f54c736475198b3](https://github.com/sagemath/sagetrac-mirror/commit/326cc6af0cdf55ae8860f5c26f54c736475198b3)\".",
    "created_at": "2020-10-31T18:06:58Z",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-493200",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/maple_parser](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/maple_parser)" to "[326cc6af0cdf55ae8860f5c26f54c736475198b3](https://github.com/sagemath/sagetrac-mirror/commit/326cc6af0cdf55ae8860f5c26f54c736475198b3)".
