# Issue 30700: enhanced maple parser

archive/issues_030463.json:
```json
{
    "assignees": [],
    "body": "Here is a small enhancement to our maple parser, that uses the own types of maple to make more precise conversions back from maple.\n\nCC:  @slel @mkoeppe\n\nComponent: **interfaces: optional**\n\nKeywords: **maple**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nBranch/Commit: **[`326cc6a`](https://github.com/sagemath/sagetrac-mirror/commit/326cc6af0cdf55ae8860f5c26f54c736475198b3)**\n\nReviewer: **Marc Mezzarobba**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30700_\n\n",
    "closed_at": "2020-10-31T18:06:58Z",
    "created_at": "2020-10-02T13:25:05Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20interfaces%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "enhanced maple parser",
    "type": "issue",
    "updated_at": "2020-10-31T18:06:58Z",
    "url": "https://github.com/sagemath/sage/issues/30700",
    "user": "https://github.com/fchapoton"
}
```
Here is a small enhancement to our maple parser, that uses the own types of maple to make more precise conversions back from maple.

CC:  @slel @mkoeppe

Component: **interfaces: optional**

Keywords: **maple**

Author: **Frédéric Chapoton**

Branch/Commit: **[`326cc6a`](https://github.com/sagemath/sagetrac-mirror/commit/326cc6af0cdf55ae8860f5c26f54c736475198b3)**

Reviewer: **Marc Mezzarobba**

_Issue created by migration from https://trac.sagemath.org/ticket/30700_





---

archive/issue_events_420252.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-10-02T13:25:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30700#event-420252"
}
```



---

archive/issue_events_420253.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-10-02T13:25:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20interfaces%3A%20optional",
    "label_color": "0000ff",
    "label_name": "c: interfaces: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30700#event-420253"
}
```



---

archive/issue_events_420254.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-10-02T13:25:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30700#event-420254"
}
```



---

archive/issue_events_420255.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-10-02T13:25:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30700#event-420255"
}
```



---

archive/issue_events_420256.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-10-02T13:25:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30700#event-420256"
}
```



---

archive/issue_comments_490344.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a7ecc345fdb8e0ea0bdb00869f1555068ea07b9\"><code>3a7ecc3</code></a></td><td><code>add missing optional tags</code></td></tr></table>\n",
    "created_at": "2020-10-02T17:12:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490344",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a7ecc345fdb8e0ea0bdb00869f1555068ea07b9"><code>3a7ecc3</code></a></td><td><code>add missing optional tags</code></td></tr></table>




---

archive/issue_comments_490345.json:
```json
{
    "body": "Changed commit from **[`11391a0`](https://github.com/sagemath/sagetrac-mirror/commit/11391a07e4422a754d05cdb38ea59cbf415b02d9)** to **[`3a7ecc3`](https://github.com/sagemath/sagetrac-mirror/commit/3a7ecc345fdb8e0ea0bdb00869f1555068ea07b9)**",
    "created_at": "2020-10-02T17:12:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490345",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`11391a0`](https://github.com/sagemath/sagetrac-mirror/commit/11391a07e4422a754d05cdb38ea59cbf415b02d9)** to **[`3a7ecc3`](https://github.com/sagemath/sagetrac-mirror/commit/3a7ecc345fdb8e0ea0bdb00869f1555068ea07b9)**



---

archive/issue_comments_490346.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03e21b1d02fe3ee19cf5d34e0967a07cc2ade340\"><code>03e21b1</code></a></td><td><code>add missing import</code></td></tr></table>\n",
    "created_at": "2020-10-02T17:14:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490346",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03e21b1d02fe3ee19cf5d34e0967a07cc2ade340"><code>03e21b1</code></a></td><td><code>add missing import</code></td></tr></table>




---

archive/issue_comments_490347.json:
```json
{
    "body": "Changed commit from **[`3a7ecc3`](https://github.com/sagemath/sagetrac-mirror/commit/3a7ecc345fdb8e0ea0bdb00869f1555068ea07b9)** to **[`03e21b1`](https://github.com/sagemath/sagetrac-mirror/commit/03e21b1d02fe3ee19cf5d34e0967a07cc2ade340)**",
    "created_at": "2020-10-02T17:14:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490347",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3a7ecc3`](https://github.com/sagemath/sagetrac-mirror/commit/3a7ecc345fdb8e0ea0bdb00869f1555068ea07b9)** to **[`03e21b1`](https://github.com/sagemath/sagetrac-mirror/commit/03e21b1d02fe3ee19cf5d34e0967a07cc2ade340)**



---

archive/issue_comments_490348.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nonly a good first step. I would prefer to keep further enhancement for other tickets. please review",
    "created_at": "2020-10-03T07:49:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490348",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">comment:5</div>

only a good first step. I would prefer to keep further enhancement for other tickets. please review



---

archive/issue_comments_490349.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\n- According to the Maple docs, `fraction` as a type means \u201c`rational` but not `integer`\u201d, so I think this case is useless;\n- numbers of type `float` can have arbitrary precision in Maple, they shouldn't blindly be converted to `RR`;\n- as for `complex(extended_numeric)`, it not only recognizes arbitrary-precision complex floating-point numbers, but also exact expressions like `I/3`;\n- I don't understand why you convert equations (equalities) to pairs--they are indeeed used as such in Maple, but only occasionally.\n\nMore generally, if we want a more powerful and robust Maple interface, I suspect we should use the OpenMaple C API instead of talking to the Maple shell.",
    "created_at": "2020-10-03T15:41:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490349",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:6" align="right">comment:6</div>

- According to the Maple docs, `fraction` as a type means “`rational` but not `integer`”, so I think this case is useless;
- numbers of type `float` can have arbitrary precision in Maple, they shouldn't blindly be converted to `RR`;
- as for `complex(extended_numeric)`, it not only recognizes arbitrary-precision complex floating-point numbers, but also exact expressions like `I/3`;
- I don't understand why you convert equations (equalities) to pairs--they are indeeed used as such in Maple, but only occasionally.

More generally, if we want a more powerful and robust Maple interface, I suspect we should use the OpenMaple C API instead of talking to the Maple shell.



---

archive/issue_comments_490350.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b469c73f4cfc44ad175f4e897d090d0396dc1474\"><code>b469c73</code></a></td><td><code>better maple parser</code></td></tr></table>\n",
    "created_at": "2020-10-03T16:25:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490350",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b469c73f4cfc44ad175f4e897d090d0396dc1474"><code>b469c73</code></a></td><td><code>better maple parser</code></td></tr></table>




---

archive/issue_comments_490351.json:
```json
{
    "body": "Changed commit from **[`03e21b1`](https://github.com/sagemath/sagetrac-mirror/commit/03e21b1d02fe3ee19cf5d34e0967a07cc2ade340)** to **[`b469c73`](https://github.com/sagemath/sagetrac-mirror/commit/b469c73f4cfc44ad175f4e897d090d0396dc1474)**",
    "created_at": "2020-10-03T16:25:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490351",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`03e21b1`](https://github.com/sagemath/sagetrac-mirror/commit/03e21b1d02fe3ee19cf5d34e0967a07cc2ade340)** to **[`b469c73`](https://github.com/sagemath/sagetrac-mirror/commit/b469c73f4cfc44ad175f4e897d090d0396dc1474)**



---

archive/issue_comments_490352.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nMerci pour les suggestions. Le but ici n'est pas une interface parfaite, mais juste un peu mieux que celle qui existe. Il y a de la marge.\n\nQue faire pour \"float\" et pour \"complex\" ?",
    "created_at": "2020-10-03T16:26:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490352",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">comment:8</div>

Merci pour les suggestions. Le but ici n'est pas une interface parfaite, mais juste un peu mieux que celle qui existe. Il y a de la marge.

Que faire pour "float" et pour "complex" ?



---

archive/issue_comments_490353.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nIf you want to recognize complex floating-point numbers, use `complex(float)` instead of `complex(extended_numeric)`. You could also keep `complex(extended_numeric)` and do recursive calls on the real and imaginary parts.\n\nRegarding the precision issue, I'm not sure what to do. Maybe decompose the number with `SFloatMantissa()` and `SFloatExponent()`, convert to integers, and look at the length of the mantissa to set the precision of the parent...\n\n(I agree that the goal is not to have a perfect interface. The issue I have with things that \u201calmost work\u201d but are incorrect in general is that people start using them, and that leads to backward compatibility issues when someone tries to do them right!)",
    "created_at": "2020-10-03T17:40:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490353",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:9" align="right">comment:9</div>

If you want to recognize complex floating-point numbers, use `complex(float)` instead of `complex(extended_numeric)`. You could also keep `complex(extended_numeric)` and do recursive calls on the real and imaginary parts.

Regarding the precision issue, I'm not sure what to do. Maybe decompose the number with `SFloatMantissa()` and `SFloatExponent()`, convert to integers, and look at the length of the mantissa to set the precision of the parent...

(I agree that the goal is not to have a perfect interface. The issue I have with things that “almost work” but are incorrect in general is that people start using them, and that leads to backward compatibility issues when someone tries to do them right!)



---

archive/issue_comments_490354.json:
```json
{
    "body": "Changed commit from **[`b469c73`](https://github.com/sagemath/sagetrac-mirror/commit/b469c73f4cfc44ad175f4e897d090d0396dc1474)** to **[`abfbde2`](https://github.com/sagemath/sagetrac-mirror/commit/abfbde25dfda06c932daa65b7f2b25c831f92355)**",
    "created_at": "2020-10-03T17:58:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490354",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b469c73`](https://github.com/sagemath/sagetrac-mirror/commit/b469c73f4cfc44ad175f4e897d090d0396dc1474)** to **[`abfbde2`](https://github.com/sagemath/sagetrac-mirror/commit/abfbde25dfda06c932daa65b7f2b25c831f92355)**



---

archive/issue_comments_490355.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/abfbde25dfda06c932daa65b7f2b25c831f92355\"><code>abfbde2</code></a></td><td><code>use complex(float) in maplke parser</code></td></tr></table>\n",
    "created_at": "2020-10-03T17:58:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490355",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/abfbde25dfda06c932daa65b7f2b25c831f92355"><code>abfbde2</code></a></td><td><code>use complex(float) in maplke parser</code></td></tr></table>




---

archive/issue_comments_490356.json:
```json
{
    "body": "Changed commit from **[`abfbde2`](https://github.com/sagemath/sagetrac-mirror/commit/abfbde25dfda06c932daa65b7f2b25c831f92355)** to **[`17d2cb7`](https://github.com/sagemath/sagetrac-mirror/commit/17d2cb7b7b96c24df486387957487acf280a1553)**",
    "created_at": "2020-10-03T19:20:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490356",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`abfbde2`](https://github.com/sagemath/sagetrac-mirror/commit/abfbde25dfda06c932daa65b7f2b25c831f92355)** to **[`17d2cb7`](https://github.com/sagemath/sagetrac-mirror/commit/17d2cb7b7b96c24df486387957487acf280a1553)**



---

archive/issue_comments_490357.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17d2cb7b7b96c24df486387957487acf280a1553\"><code>17d2cb7</code></a></td><td><code>back to using fraction</code></td></tr></table>\n",
    "created_at": "2020-10-03T19:20:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490357",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17d2cb7b7b96c24df486387957487acf280a1553"><code>17d2cb7</code></a></td><td><code>back to using fraction</code></td></tr></table>




---

archive/issue_comments_490358.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI have some awful git troubles on my only machine with maple, so I will not be able to move this forward..",
    "created_at": "2020-10-03T19:21:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490358",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:12" align="right">comment:12</div>

I have some awful git troubles on my only machine with maple, so I will not be able to move this forward..



---

archive/issue_comments_490359.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05520be475764139d78c7b25f8b32449a16c3842\"><code>05520be</code></a></td><td><code>better code for real floats from Maple</code></td></tr></table>\n",
    "created_at": "2020-10-03T19:39:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490359",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05520be475764139d78c7b25f8b32449a16c3842"><code>05520be</code></a></td><td><code>better code for real floats from Maple</code></td></tr></table>




---

archive/issue_comments_490360.json:
```json
{
    "body": "Changed commit from **[`17d2cb7`](https://github.com/sagemath/sagetrac-mirror/commit/17d2cb7b7b96c24df486387957487acf280a1553)** to **[`05520be`](https://github.com/sagemath/sagetrac-mirror/commit/05520be475764139d78c7b25f8b32449a16c3842)**",
    "created_at": "2020-10-03T19:39:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490360",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`17d2cb7`](https://github.com/sagemath/sagetrac-mirror/commit/17d2cb7b7b96c24df486387957487acf280a1553)** to **[`05520be`](https://github.com/sagemath/sagetrac-mirror/commit/05520be475764139d78c7b25f8b32449a16c3842)**



---

archive/issue_comments_490361.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@fchapoton](#comment%3A12):\n> I have some awful git troubles on my only machine with maple, so I will not be able to move this forward..\n\nI have installed the following script as `maple` on my development box\n\n```\n#! /bin/bash\n# from https://stackoverflow.com/questions/1668649/how-to-keep-quotes-in-bash-arguments/8723305\nif [ \"$#\" -lt 1 ]; then\n quoted_args=\"\"\nelse\n quoted_args=\"$(printf \" %q\" \"${@}\")\"\nfi\nssh -t $HOST_WITH_MAPLE maple \"$quoted_args\"\n```",
    "created_at": "2020-10-03T23:21:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490361",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@fchapoton](#comment%3A12):
> I have some awful git troubles on my only machine with maple, so I will not be able to move this forward..

I have installed the following script as `maple` on my development box

```
#! /bin/bash
# from https://stackoverflow.com/questions/1668649/how-to-keep-quotes-in-bash-arguments/8723305
if [ "$#" -lt 1 ]; then
 quoted_args=""
else
 quoted_args="$(printf " %q" "${@}")"
fi
ssh -t $HOST_WITH_MAPLE maple "$quoted_args"
```



---

archive/issue_comments_490362.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ea97f16a080bede7e2f6a1089021741c5f07252\"><code>4ea97f1</code></a></td><td><code>full flake8 for maple interface</code></td></tr></table>\n",
    "created_at": "2020-10-04T06:56:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490362",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ea97f16a080bede7e2f6a1089021741c5f07252"><code>4ea97f1</code></a></td><td><code>full flake8 for maple interface</code></td></tr></table>




---

archive/issue_comments_490363.json:
```json
{
    "body": "Changed commit from **[`05520be`](https://github.com/sagemath/sagetrac-mirror/commit/05520be475764139d78c7b25f8b32449a16c3842)** to **[`4ea97f1`](https://github.com/sagemath/sagetrac-mirror/commit/4ea97f16a080bede7e2f6a1089021741c5f07252)**",
    "created_at": "2020-10-04T06:56:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490363",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`05520be`](https://github.com/sagemath/sagetrac-mirror/commit/05520be475764139d78c7b25f8b32449a16c3842)** to **[`4ea97f1`](https://github.com/sagemath/sagetrac-mirror/commit/4ea97f16a080bede7e2f6a1089021741c5f07252)**



---

archive/issue_comments_490364.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@mkoeppe](#comment%3A14):\n> Replying to [@fchapoton](#comment%3A12):\n> > I have some awful git troubles on my only machine with maple, so I will not be able to move this forward..\n\n> I have installed the following script as `maple` on my development box\n> \n> ```\n> #! /bin/bash\n> # from https://stackoverflow.com/questions/1668649/how-to-keep-quotes-in-bash-arguments/8723305\n> if [ \"$#\" -lt 1 ]; then\n>  quoted_args=\"\"\n> else\n>  quoted_args=\"$(printf \" %q\" \"${@}\")\"\n> fi\n> ssh -t $HOST_WITH_MAPLE maple \"$quoted_args\"\n> ```\n> \n> \n\nSorry, but what is your point ?",
    "created_at": "2020-10-04T08:58:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490364",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@mkoeppe](#comment%3A14):
> Replying to [@fchapoton](#comment%3A12):
> > I have some awful git troubles on my only machine with maple, so I will not be able to move this forward..

> I have installed the following script as `maple` on my development box
> 
> ```
> #! /bin/bash
> # from https://stackoverflow.com/questions/1668649/how-to-keep-quotes-in-bash-arguments/8723305
> if [ "$#" -lt 1 ]; then
>  quoted_args=""
> else
>  quoted_args="$(printf " %q" "${@}")"
> fi
> ssh -t $HOST_WITH_MAPLE maple "$quoted_args"
> ```
> 
> 

Sorry, but what is your point ?



---

archive/issue_comments_490365.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/326cc6af0cdf55ae8860f5c26f54c736475198b3\"><code>326cc6a</code></a></td><td><code>add missing optional tag</code></td></tr></table>\n",
    "created_at": "2020-10-04T09:40:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490365",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/326cc6af0cdf55ae8860f5c26f54c736475198b3"><code>326cc6a</code></a></td><td><code>add missing optional tag</code></td></tr></table>




---

archive/issue_comments_490366.json:
```json
{
    "body": "Changed commit from **[`4ea97f1`](https://github.com/sagemath/sagetrac-mirror/commit/4ea97f16a080bede7e2f6a1089021741c5f07252)** to **[`326cc6a`](https://github.com/sagemath/sagetrac-mirror/commit/326cc6af0cdf55ae8860f5c26f54c736475198b3)**",
    "created_at": "2020-10-04T09:40:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490366",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4ea97f1`](https://github.com/sagemath/sagetrac-mirror/commit/4ea97f16a080bede7e2f6a1089021741c5f07252)** to **[`326cc6a`](https://github.com/sagemath/sagetrac-mirror/commit/326cc6af0cdf55ae8860f5c26f54c736475198b3)**



---

archive/issue_comments_490367.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nLgtm, thank you!\n\n(I still see many failed tests with Maple 2019, but afaict they all were failing already before your changes.)",
    "created_at": "2020-10-04T12:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490367",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:18" align="right">comment:18</div>

Lgtm, thank you!

(I still see many failed tests with Maple 2019, but afaict they all were failing already before your changes.)



---

archive/issue_events_420257.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2020-10-04T12:20:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30700#event-420257"
}
```



---

archive/issue_events_420258.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2020-10-04T12:20:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30700#event-420258"
}
```



---

archive/issue_comments_490368.json:
```json
{
    "body": "Reviewer: **Marc Mezzarobba**",
    "created_at": "2020-10-04T12:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490368",
    "user": "https://github.com/mezzarobba"
}
```

Reviewer: **Marc Mezzarobba**



---

archive/issue_events_420259.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-10-31T18:06:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30700#event-420259"
}
```



---

archive/issue_events_420260.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e44f7a099b267f849b85d10404701b4049b9932b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-10-31T18:06:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30700#event-420260"
}
```



---

archive/issue_comments_490369.json:
```json
{
    "body": "Changed branch from **[u/chapoton/maple_parser](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/maple_parser)** to **[`326cc6a`](https://github.com/sagemath/sagetrac-mirror/commit/326cc6af0cdf55ae8860f5c26f54c736475198b3)**",
    "created_at": "2020-10-31T18:06:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30700#issuecomment-490369",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/maple_parser](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/maple_parser)** to **[`326cc6a`](https://github.com/sagemath/sagetrac-mirror/commit/326cc6af0cdf55ae8860f5c26f54c736475198b3)**
