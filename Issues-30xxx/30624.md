# Issue 30624: Improve wording and formatting of configure's recommendation message

archive/issues_030387.json:
```json
{
    "assignees": [],
    "body": "**Context**\n\nRecent work on Sage's build system enables to use many\nsystem packages as possible when building Sage.\nSee meta-ticket #27330 for an overview.\n\nPart of that effort is to have `configure` end with\nrecommendations of extra system packages to install.\n\nMaking this recommendation system very precise would not\nbe sustainable. As a compromise, it recommends installing\npackages whenever\n\n- satisfactory versions of these packages\n  are not found to be already installed\n- some version of that OS has versions of these packages\n  that would avoid having to build them\n\n**Problem**\n\nWith the wording of the recommendation hint up to\nSage 9.2.beta12, users can be puzzled when it recommends\ninstalling a package that is already installed.\n\n**Solution**\n\nImprove the recommendation message and along the way\nmake it better stand out.\n\nBefore this ticket:\n\n```\nconfigure: hint: installing the following system packages\nis recommended and may avoid building some of the above SPKGs\nfrom source:\nconfigure:   $ sudo apt-get update\n$ sudo apt-get install libcdd-dev libcdd-tools libnauty-dev\n```\n\nAfter this ticket:\n\n```\nconfigure:\n\n    hint: installing the following system packages, if not\n    already present, is recommended and may avoid building\n    them from source (some may have to be built anyway):\n\n    $ sudo apt-get update\n    $ sudo apt-get install libcdd-dev libcdd-tools libnauty-dev\n```\n\n\n**References**\n\nSee the 2020-09 discussion on sage-release,\nin particular these posts:\n\n- https://groups.google.com/d/msg/sage-release/hobZzw74Rv0/xtBCPrGrAgAJ\n- https://groups.google.com/d/msg/sage-release/hobZzw74Rv0/1IYw5RG_BQAJ\n- https://groups.google.com/d/msg/sage-release/hobZzw74Rv0/MWUqj400BgAJ\n\n**See also**\n\nSee also #30863 whose aim is the same (e.g., do not suggest to `sudo apt install sympow` if the reason was that the sympow already installed on the system was failing some tests).\n\nDepends on #30606\n\nCC:  @egourgoulhon @orlitzky @mkoeppe @slel @tobiasdiez @seblabbe\n\nBranch/Commit: **[72f0081](https://github.com/sagemath/sagetrac-mirror/commit/72f00813745794bf1386517393bbf749d7aeb6a8)**\n\nReviewer: **Matthias Koeppe, S\u00e9bastien Labb\u00e9**\n\nAuthor: **Samuel Leli\u00e8vre, Matthias Koeppe**\n\nComponent: **build: configure**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30624_\n\n",
    "closed_at": "2020-12-05T22:13:18Z",
    "created_at": "2020-09-21T09:21:52Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build%3A%20configure",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Improve wording and formatting of configure's recommendation message",
    "type": "issue",
    "updated_at": "2020-12-05T22:13:18Z",
    "url": "https://github.com/sagemath/sage/issues/30624",
    "user": "https://github.com/slel"
}
```
**Context**

Recent work on Sage's build system enables to use many
system packages as possible when building Sage.
See meta-ticket #27330 for an overview.

Part of that effort is to have `configure` end with
recommendations of extra system packages to install.

Making this recommendation system very precise would not
be sustainable. As a compromise, it recommends installing
packages whenever

- satisfactory versions of these packages
  are not found to be already installed
- some version of that OS has versions of these packages
  that would avoid having to build them

**Problem**

With the wording of the recommendation hint up to
Sage 9.2.beta12, users can be puzzled when it recommends
installing a package that is already installed.

**Solution**

Improve the recommendation message and along the way
make it better stand out.

Before this ticket:

```
configure: hint: installing the following system packages
is recommended and may avoid building some of the above SPKGs
from source:
configure:   $ sudo apt-get update
$ sudo apt-get install libcdd-dev libcdd-tools libnauty-dev
```

After this ticket:

```
configure:

    hint: installing the following system packages, if not
    already present, is recommended and may avoid building
    them from source (some may have to be built anyway):

    $ sudo apt-get update
    $ sudo apt-get install libcdd-dev libcdd-tools libnauty-dev
```


**References**

See the 2020-09 discussion on sage-release,
in particular these posts:

- https://groups.google.com/d/msg/sage-release/hobZzw74Rv0/xtBCPrGrAgAJ
- https://groups.google.com/d/msg/sage-release/hobZzw74Rv0/1IYw5RG_BQAJ
- https://groups.google.com/d/msg/sage-release/hobZzw74Rv0/MWUqj400BgAJ

**See also**

See also #30863 whose aim is the same (e.g., do not suggest to `sudo apt install sympow` if the reason was that the sympow already installed on the system was failing some tests).

Depends on #30606

CC:  @egourgoulhon @orlitzky @mkoeppe @slel @tobiasdiez @seblabbe

Branch/Commit: **[72f0081](https://github.com/sagemath/sagetrac-mirror/commit/72f00813745794bf1386517393bbf749d7aeb6a8)**

Reviewer: **Matthias Koeppe, Sébastien Labbé**

Author: **Samuel Lelièvre, Matthias Koeppe**

Component: **build: configure**

_Issue created by migration from https://trac.sagemath.org/ticket/30624_





---

archive/issue_events_422199.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-09-21T09:21:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30624#event-422199"
}
```



---

archive/issue_events_422200.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-09-21T09:21:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build%3A%20configure",
    "label_color": "000080",
    "label_name": "c: build: configure",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30624#event-422200"
}
```



---

archive/issue_events_422201.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-09-21T09:21:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30624#event-422201"
}
```



---

archive/issue_events_422202.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-09-21T09:21:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30624#event-422202"
}
```



---

archive/issue_comments_488813.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -44,14 +44,14 @@\n \n     hint: installing the following system packages, if not\n     already present, is recommended and may avoid building\n-    some of them from source (though some of them may\n-    have to be built anyway):\n+    them from source (some may have to be built anyway):\n \n     $ sudo apt-get update\n     $ sudo apt-get install libcdd-dev libcdd-tools libnauty-dev\n-\n ```\n \n+\n+**References**\n \n See the 2020-09 discussion on sage-release,\n in particular these posts:\n``````\n",
    "created_at": "2020-09-21T09:25:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488813",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -44,14 +44,14 @@
 
     hint: installing the following system packages, if not
     already present, is recommended and may avoid building
-    some of them from source (though some of them may
-    have to be built anyway):
+    them from source (some may have to be built anyway):
 
     $ sudo apt-get update
     $ sudo apt-get install libcdd-dev libcdd-tools libnauty-dev
-
 ```
 
+
+**References**
 
 See the 2020-09 discussion on sage-release,
 in particular these posts:
``````




---

archive/issue_events_422203.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-10-05T07:22:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30624#event-422203"
}
```



---

archive/issue_comments_488814.json:
```json
{
    "body": "Branch: **[public/30624-improve-configure-recommendation-message](https://github.com/sagemath/sagetrac-mirror/tree/public/30624-improve-configure-recommendation-message)**",
    "created_at": "2020-10-05T07:22:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488814",
    "user": "https://github.com/slel"
}
```

Branch: **[public/30624-improve-configure-recommendation-message](https://github.com/sagemath/sagetrac-mirror/tree/public/30624-improve-configure-recommendation-message)**



---

archive/issue_comments_488815.json:
```json
{
    "body": "Commit: **[208d572](https://github.com/sagemath/sagetrac-mirror/commit/208d57272ee098e0e932a1356978e1cc99e9ce7c)**",
    "created_at": "2020-10-05T07:22:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488815",
    "user": "https://github.com/slel"
}
```

Commit: **[208d572](https://github.com/sagemath/sagetrac-mirror/commit/208d57272ee098e0e932a1356978e1cc99e9ce7c)**



---

archive/issue_comments_488816.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nHere is a branch.\n\nIllustration on macOS.\n\nBefore:\n\n```\n$ source .homebrew-build-env && ./bootstrap -q && ./configure\n...\nconfig.status: creating directory local/lib/pkgconfig\nconfig.status: creating directory local/share\nconfig.status: creating directory local/var/lib/sage/installed\nconfigure: notice: the following SPKGs did not find equivalent system packages: cbc coxeter3 gp2c libnauty libsemigroups pari_elldata pari_galpol pari_nftables pari_seadata perl_cpan_polymake_prereq perl_term_readline_gnu python3 tox\nchecking for the package system in use... -n (ignoring conda because no environment is active)\nhomebrew\nconfigure: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs from source:\nconfigure:   $ brew install python3\n# To automatically take care of homebrew messages regarding\n# keg-only packages for the current shell session:\n  $ source /opt/s/sage9/.homebrew-build-env\n# Add this to your shell profile if you want it to persist between shell sessions.\nconfigure: After installation, re-run configure using:\nconfigure:   $ ./config.status --recheck && ./config.status\n```\n\nAfter:\n\n```\n$ source .homebrew-build-env && ./bootstrap -q && ./configure\n...\nconfig.status: creating directory local/lib/pkgconfig\nconfig.status: creating directory local/share\nconfig.status: creating directory local/var/lib/sage/installed\nconfigure:\n\n    notice: the following SPKGs did not find equivalent system packages:\n\n        cbc coxeter3 gp2c libnauty libsemigroups pari_elldata pari_galpol pari_nftables pari_seadata perl_cpan_polymake_prereq perl_term_readline_gnu python3 tox\n\nchecking for the package system in use... -n (ignoring conda because no environment is active)\nhomebrew\nconfigure:\n\n    hint: installing the following system packages, if not\n    already present, is recommended and may avoid having to\n    build them (though some may have to be built anyway):\n\n      $ brew install python3\n\n    Homebrew can issue suggestions regarding keg-only packages.\n    The following command is to automatically apply these suggestions.\n    Run it once to apply the suggestions for the current session.\n    Add it to your shell profile to apply them for all future sessions.\n\n      $ source /opt/s/sage92b6/.homebrew-build-env\n\n    After installation, re-run configure using:\n\n      $ ./config.status --recheck && ./config.status\n```\n\nIllustration on Debian.\n\nBefore:\n\n```\n$ ./bootstrap -q && ./configure\n...\nconfig.status: creating directory local/lib/pkgconfig\nconfig.status: creating directory local/share\nconfig.status: creating directory local/var/lib/sage/installed\nconfigure: notice: the following SPKGs did not find equivalent system packages: coxeter3 gp2c libnauty libsemigroups pari_elldata pari_galpol pari_nftables pari_seadata tox\nchecking for the package system in use... debian\nconfigure: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs\nfrom source:\nconfigure:   $ sudo apt-get update\n  $ sudo apt-get install pari-gp2c libnauty-dev\nconfigure: After installation, re-run configure using:\nconfigure:   $ ./config.status --recheck && ./config.status\n```\n\nAfter:\n\n```\n$ ./bootstrap -q && ./configure\n...\nconfig.status: creating directory local/lib/pkgconfig\nconfig.status: creating directory local/share\nconfig.status: creating directory local/var/lib/sage/installed\nconfigure:\n\n    notice: the following SPKGs did not find equivalent system packages:\n\n        coxeter3 gp2c libnauty libsemigroups pari_elldata pari_galpol pari_nftables pari_seadata tox\n\nchecking for the package system in use... debian\nconfigure:\n\n    hint: installing the following system packages, if not\n    already present, is recommended and may avoid having to\n    build them (though some may have to be built anyway):\n\n      $ sudo apt-get update\n  $ sudo apt-get install pari-gp2c libnauty-dev\n\n    After installation, re-run configure using:\n\n      $ ./config.status --recheck && ./config.status\n```\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/208d57272ee098e0e932a1356978e1cc99e9ce7c\">208d572</a></td><td><code>t-30624 improve configure recommendation message</code></td></tr></table>\n",
    "created_at": "2020-10-05T07:22:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488816",
    "user": "https://github.com/slel"
}
```

<div id="comment:2" align="right">comment:2</div>

Here is a branch.

Illustration on macOS.

Before:

```
$ source .homebrew-build-env && ./bootstrap -q && ./configure
...
config.status: creating directory local/lib/pkgconfig
config.status: creating directory local/share
config.status: creating directory local/var/lib/sage/installed
configure: notice: the following SPKGs did not find equivalent system packages: cbc coxeter3 gp2c libnauty libsemigroups pari_elldata pari_galpol pari_nftables pari_seadata perl_cpan_polymake_prereq perl_term_readline_gnu python3 tox
checking for the package system in use... -n (ignoring conda because no environment is active)
homebrew
configure: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs from source:
configure:   $ brew install python3
# To automatically take care of homebrew messages regarding
# keg-only packages for the current shell session:
  $ source /opt/s/sage9/.homebrew-build-env
# Add this to your shell profile if you want it to persist between shell sessions.
configure: After installation, re-run configure using:
configure:   $ ./config.status --recheck && ./config.status
```

After:

```
$ source .homebrew-build-env && ./bootstrap -q && ./configure
...
config.status: creating directory local/lib/pkgconfig
config.status: creating directory local/share
config.status: creating directory local/var/lib/sage/installed
configure:

    notice: the following SPKGs did not find equivalent system packages:

        cbc coxeter3 gp2c libnauty libsemigroups pari_elldata pari_galpol pari_nftables pari_seadata perl_cpan_polymake_prereq perl_term_readline_gnu python3 tox

checking for the package system in use... -n (ignoring conda because no environment is active)
homebrew
configure:

    hint: installing the following system packages, if not
    already present, is recommended and may avoid having to
    build them (though some may have to be built anyway):

      $ brew install python3

    Homebrew can issue suggestions regarding keg-only packages.
    The following command is to automatically apply these suggestions.
    Run it once to apply the suggestions for the current session.
    Add it to your shell profile to apply them for all future sessions.

      $ source /opt/s/sage92b6/.homebrew-build-env

    After installation, re-run configure using:

      $ ./config.status --recheck && ./config.status
```

Illustration on Debian.

Before:

```
$ ./bootstrap -q && ./configure
...
config.status: creating directory local/lib/pkgconfig
config.status: creating directory local/share
config.status: creating directory local/var/lib/sage/installed
configure: notice: the following SPKGs did not find equivalent system packages: coxeter3 gp2c libnauty libsemigroups pari_elldata pari_galpol pari_nftables pari_seadata tox
checking for the package system in use... debian
configure: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs
from source:
configure:   $ sudo apt-get update
  $ sudo apt-get install pari-gp2c libnauty-dev
configure: After installation, re-run configure using:
configure:   $ ./config.status --recheck && ./config.status
```

After:

```
$ ./bootstrap -q && ./configure
...
config.status: creating directory local/lib/pkgconfig
config.status: creating directory local/share
config.status: creating directory local/var/lib/sage/installed
configure:

    notice: the following SPKGs did not find equivalent system packages:

        coxeter3 gp2c libnauty libsemigroups pari_elldata pari_galpol pari_nftables pari_seadata tox

checking for the package system in use... debian
configure:

    hint: installing the following system packages, if not
    already present, is recommended and may avoid having to
    build them (though some may have to be built anyway):

      $ sudo apt-get update
  $ sudo apt-get install pari-gp2c libnauty-dev

    After installation, re-run configure using:

      $ ./config.status --recheck && ./config.status
```

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/208d57272ee098e0e932a1356978e1cc99e9ce7c">208d572</a></td><td><code>t-30624 improve configure recommendation message</code></td></tr></table>




---

archive/issue_comments_488817.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nPolishing commits welcome (here or in a follow-up ticket).\n\nI'll update the \"before/after\" in the ticket description\nonce the branch gets positive review.",
    "created_at": "2020-10-05T07:25:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488817",
    "user": "https://github.com/slel"
}
```

<div id="comment:3" align="right">comment:3</div>

Polishing commits welcome (here or in a follow-up ticket).

I'll update the "before/after" in the ticket description
once the branch gets positive review.



---

archive/issue_comments_488818.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThis change is not good. # is the shell comment character.\nThe idea here is that (if PROMPT is not used) that you get a valid shell script as the output.\n\n```\n-        $IF_VERBOSE echo \"# To automatically take care of homebrew messages regarding \"\n-        $IF_VERBOSE echo \"# keg-only packages for the current shell session:\"\n+        $IF_VERBOSE echo \"\"\n+        $IF_VERBOSE echo \"    Homebrew can issue suggestions regarding keg-only packages.\"\n+        $IF_VERBOSE echo \"    The following command is to automatically apply these suggestions.\"\n```",
    "created_at": "2020-10-05T11:46:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488818",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

This change is not good. # is the shell comment character.
The idea here is that (if PROMPT is not used) that you get a valid shell script as the output.

```
-        $IF_VERBOSE echo "# To automatically take care of homebrew messages regarding "
-        $IF_VERBOSE echo "# keg-only packages for the current shell session:"
+        $IF_VERBOSE echo ""
+        $IF_VERBOSE echo "    Homebrew can issue suggestions regarding keg-only packages."
+        $IF_VERBOSE echo "    The following command is to automatically apply these suggestions."
```



---

archive/issue_comments_488819.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIf you put this ticket on top of #30606, you could add customization of the comment prefix in the same way that #30606 adds customization of the prompt...",
    "created_at": "2020-10-05T11:56:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488819",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

If you put this ticket on top of #30606, you could add customization of the comment prefix in the same way that #30606 adds customization of the prompt...



---

archive/issue_comments_488820.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14e93956e63aa917cde4c3cf83a655088f146a41\">14e9395</a></td><td><code>SagePackageSystem: Rename to sage_spkg (underscore) to make it an allowed optional tag</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c0da17fbb9f450db16addd151e3f6f1a6a62045\">5c0da17</a></td><td><code>src/sage/doctest/control.py: Add available package systems to optional tags</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c01aa8f97a6258d671f07bc7bde518f8442bdd40\">c01aa8f</a></td><td><code>src/sage/features/__init__.py: Mark tests that check for 'sage -i' optional - sage_spkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ef159c13139a1aee142cce1c34cf1ba2ff01a83\">5ef159c</a></td><td><code>30606: fixing docstring \"\"\" -> r\"\"\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d344adff9fc49cc09a68ad496f10cd15a023e871\">d344adf</a></td><td><code>Merge tag '9.2.beta13' into t/30606/sage_features_feature_resolution__if_sage_root_is_available__recommend_system_packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a854438114e06147248cd413b483e5f11b4e2aff\">a854438</a></td><td><code>DocTestController.__init__: Only add package systems when 'optional' is used</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68a8e2afd6c091267d161f55bc4838ad32148d8f\">68a8e2a</a></td><td><code>src/sage/features/__init__.py: Fix patchbot / relint warnings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81ef9699d4f27a0639ddc465da14373cd1ceac94\">81ef969</a></td><td><code>Merge branch 't/30606/sage_features_feature_resolution__if_sage_root_is_available__recommend_system_packages' into t/30624/public/30624-improve-configure-recommendation-message</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8321b60cbebb7c836ebb5969217f6f081103dd5\">d8321b6</a></td><td><code>build/bin/sage-print-system-package-command: Add option --verbose=COMMENT-PREFIX</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/90ffc5575380b254a21ff92690249fd6895167be\">90ffc55</a></td><td><code>t-30624 improve configure recommendation message</code></td></tr></table>\n",
    "created_at": "2020-10-05T19:36:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488820",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14e93956e63aa917cde4c3cf83a655088f146a41">14e9395</a></td><td><code>SagePackageSystem: Rename to sage_spkg (underscore) to make it an allowed optional tag</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c0da17fbb9f450db16addd151e3f6f1a6a62045">5c0da17</a></td><td><code>src/sage/doctest/control.py: Add available package systems to optional tags</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c01aa8f97a6258d671f07bc7bde518f8442bdd40">c01aa8f</a></td><td><code>src/sage/features/__init__.py: Mark tests that check for 'sage -i' optional - sage_spkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ef159c13139a1aee142cce1c34cf1ba2ff01a83">5ef159c</a></td><td><code>30606: fixing docstring """ -> r"""</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d344adff9fc49cc09a68ad496f10cd15a023e871">d344adf</a></td><td><code>Merge tag '9.2.beta13' into t/30606/sage_features_feature_resolution__if_sage_root_is_available__recommend_system_packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a854438114e06147248cd413b483e5f11b4e2aff">a854438</a></td><td><code>DocTestController.__init__: Only add package systems when 'optional' is used</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68a8e2afd6c091267d161f55bc4838ad32148d8f">68a8e2a</a></td><td><code>src/sage/features/__init__.py: Fix patchbot / relint warnings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81ef9699d4f27a0639ddc465da14373cd1ceac94">81ef969</a></td><td><code>Merge branch 't/30606/sage_features_feature_resolution__if_sage_root_is_available__recommend_system_packages' into t/30624/public/30624-improve-configure-recommendation-message</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8321b60cbebb7c836ebb5969217f6f081103dd5">d8321b6</a></td><td><code>build/bin/sage-print-system-package-command: Add option --verbose=COMMENT-PREFIX</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/90ffc5575380b254a21ff92690249fd6895167be">90ffc55</a></td><td><code>t-30624 improve configure recommendation message</code></td></tr></table>




---

archive/issue_comments_488821.json:
```json
{
    "body": "Changed commit from **[208d572](https://github.com/sagemath/sagetrac-mirror/commit/208d57272ee098e0e932a1356978e1cc99e9ce7c)** to **[90ffc55](https://github.com/sagemath/sagetrac-mirror/commit/90ffc5575380b254a21ff92690249fd6895167be)**",
    "created_at": "2020-10-05T19:36:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488821",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[208d572](https://github.com/sagemath/sagetrac-mirror/commit/208d57272ee098e0e932a1356978e1cc99e9ce7c)** to **[90ffc55](https://github.com/sagemath/sagetrac-mirror/commit/90ffc5575380b254a21ff92690249fd6895167be)**



---

archive/issue_comments_488822.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nRebased as I suggested. You can now modify the invocations of `sage-print-system-package-command` to use something like this for the desired effect:\n\n```\nbuild/bin/sage-print-system-package-command homebrew --verbose='     ' --prompt='               $ ' setup-build-env foo\n```",
    "created_at": "2020-10-05T19:38:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488822",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

Rebased as I suggested. You can now modify the invocations of `sage-print-system-package-command` to use something like this for the desired effect:

```
build/bin/sage-print-system-package-command homebrew --verbose='     ' --prompt='               $ ' setup-build-env foo
```



---

archive/issue_comments_488823.json:
```json
{
    "body": "Author: **Samuel Leli\u00e8vre, Matthias Koeppe**",
    "created_at": "2020-10-05T19:38:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488823",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Samuel Lelièvre, Matthias Koeppe**



---

archive/issue_comments_488824.json:
```json
{
    "body": "Dependencies: **#30606**",
    "created_at": "2020-10-05T19:45:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488824",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#30606**



---

archive/issue_events_422204.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-05T21:21:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30624#event-422204"
}
```



---

archive/issue_events_422205.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-05T21:21:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30624#event-422205"
}
```



---

archive/issue_comments_488825.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nYour turn, Samuel...",
    "created_at": "2020-10-07T18:26:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488825",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

Your turn, Samuel...



---

archive/issue_comments_488826.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nNeither of the \"notice: ...\", \"hint: ...\",\nor \"After installation, ...\" parts start with \"# \".\n\nSo I tried to also avoid \"# \" for the text\non linking Homebrew's keg-only packages.\n\nThanks for showing me the correct way to do that.",
    "created_at": "2020-10-08T16:44:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488826",
    "user": "https://github.com/slel"
}
```

<div id="comment:11" align="right">comment:11</div>

Neither of the "notice: ...", "hint: ...",
or "After installation, ..." parts start with "# ".

So I tried to also avoid "# " for the text
on linking Homebrew's keg-only packages.

Thanks for showing me the correct way to do that.



---

archive/issue_events_422206.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30624#event-422206"
}
```



---

archive/issue_events_422207.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30624#event-422207"
}
```



---

archive/issue_comments_488827.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nSamuel, do you plan to work on this?",
    "created_at": "2020-11-01T19:41:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488827",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

Samuel, do you plan to work on this?



---

archive/issue_comments_488828.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nFWIW, I've installed Sage 9.3.beta0 from scratch on Ubuntu 20.04; `configure` ends with the following recommendations:\n\n```\nconfigure: hint: installing the following system packages is recommended and may \navoid building some of the above SPKGs from source:\nconfigure:   $ sudo apt-get update \n  $ sudo apt-get install texlive-generic-extra texlive-xetex latexmk pandoc dvipng \ndefault-jdk ffmpeg libavdevice-dev libcdd-dev libcdd-tools libec-dev eclib-tools \nlibgc-dev libgiac-dev xcas pari-gp2c lcalc liblfunction-dev libnauty-dev nauty \npari-gp2c libpari-dev pari-doc pari-elldata pari-galdata pari-galpol pari-seadata \nsympow\n```\nNow, as mentioned in [#29557 comment:56](https://github.com/sagemath/sage/issues/29557#comment:56), `texlive-generic-extra` does not exist on Ubuntu 20.04 (there is `texlive-latex-extra`, which is already installed on my system). Moreover the recommended packages `texlive-xetex`,  `latexmk`, `pandoc`, `dvipng`, `default-jdk`, `ffmpeg`, `libavdevice-dev`, `libcdd-dev` and `libcdd-tools` are already installed on my system.",
    "created_at": "2020-11-02T20:12:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488828",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:14" align="right">comment:14</div>

FWIW, I've installed Sage 9.3.beta0 from scratch on Ubuntu 20.04; `configure` ends with the following recommendations:

```
configure: hint: installing the following system packages is recommended and may 
avoid building some of the above SPKGs from source:
configure:   $ sudo apt-get update 
  $ sudo apt-get install texlive-generic-extra texlive-xetex latexmk pandoc dvipng 
default-jdk ffmpeg libavdevice-dev libcdd-dev libcdd-tools libec-dev eclib-tools 
libgc-dev libgiac-dev xcas pari-gp2c lcalc liblfunction-dev libnauty-dev nauty 
pari-gp2c libpari-dev pari-doc pari-elldata pari-galdata pari-galpol pari-seadata 
sympow
```
Now, as mentioned in [#29557 comment:56](https://github.com/sagemath/sage/issues/29557#comment:56), `texlive-generic-extra` does not exist on Ubuntu 20.04 (there is `texlive-latex-extra`, which is already installed on my system). Moreover the recommended packages `texlive-xetex`,  `latexmk`, `pandoc`, `dvipng`, `default-jdk`, `ffmpeg`, `libavdevice-dev`, `libcdd-dev` and `libcdd-tools` are already installed on my system.



---

archive/issue_comments_488829.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nUpdates of the package list and similar improvements -- please in #30930 or other tickets, not here.\n\nLet's keep this ticket narrowly focused on what is already on the branch.",
    "created_at": "2020-11-17T02:30:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488829",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

Updates of the package list and similar improvements -- please in #30930 or other tickets, not here.

Let's keep this ticket narrowly focused on what is already on the branch.



---

archive/issue_events_422208.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-17T02:30:57Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "title_is": "Improve wording and formatting of configure's recommendation message",
    "title_was": "Improve configure's recommendation message",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30624#event-422208"
}
```



---

archive/issue_comments_488830.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nSamuel, please let me know if I can help with anything else to get this ticket finished.",
    "created_at": "2020-11-17T18:46:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488830",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

Samuel, please let me know if I can help with anything else to get this ticket finished.



---

archive/issue_comments_488831.json:
```json
{
    "body": "Changed author from **Samuel Leli\u00e8vre, Matthias Koeppe** to **Matthias Koeppe**",
    "created_at": "2020-11-17T23:53:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488831",
    "user": "https://github.com/slel"
}
```

Changed author from **Samuel Lelièvre, Matthias Koeppe** to **Matthias Koeppe**



---

archive/issue_comments_488832.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nWhat you did is good. Maybe set to `needs_review` and review as is?",
    "created_at": "2020-11-17T23:53:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488832",
    "user": "https://github.com/slel"
}
```

<div id="comment:18" align="right">comment:18</div>

What you did is good. Maybe set to `needs_review` and review as is?



---

archive/issue_comments_488833.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThe new options that I introduced for you (comment:7) are not used yet.",
    "created_at": "2020-11-18T00:18:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488833",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">comment:19</div>

The new options that I introduced for you (comment:7) are not used yet.



---

archive/issue_comments_488834.json:
```json
{
    "body": "Changed author from **Matthias Koeppe** to **Samuel Leli\u00e8vre, Matthias Koeppe**",
    "created_at": "2020-11-18T00:19:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488834",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Matthias Koeppe** to **Samuel Lelièvre, Matthias Koeppe**



---

archive/issue_comments_488835.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -59,3 +59,7 @@\n - https://groups.google.com/d/msg/sage-release/hobZzw74Rv0/xtBCPrGrAgAJ\n - https://groups.google.com/d/msg/sage-release/hobZzw74Rv0/1IYw5RG_BQAJ\n - https://groups.google.com/d/msg/sage-release/hobZzw74Rv0/MWUqj400BgAJ\n+\n+**See also**\n+\n+See also #30863 whose aim is the same (e.g., do not suggest to `sudo apt install sympow` if the reason was that the sympow already installed on the system was failing some tests).\n``````\n",
    "created_at": "2020-11-25T10:02:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488835",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -59,3 +59,7 @@
 - https://groups.google.com/d/msg/sage-release/hobZzw74Rv0/xtBCPrGrAgAJ
 - https://groups.google.com/d/msg/sage-release/hobZzw74Rv0/1IYw5RG_BQAJ
 - https://groups.google.com/d/msg/sage-release/hobZzw74Rv0/MWUqj400BgAJ
+
+**See also**
+
+See also #30863 whose aim is the same (e.g., do not suggest to `sudo apt install sympow` if the reason was that the sympow already installed on the system was failing some tests).
``````




---

archive/issue_comments_488836.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2016d4d55adb1b9f21e903cc564327446b4c625d\">2016d4d</a></td><td><code>build/bin/sage-print-system-package-command: Add option --verbose=COMMENT-PREFIX</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e77878de63c8b116d6cf04ce2a6c5ed5f91a509\">0e77878</a></td><td><code>t-30624 improve configure recommendation message</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e61707484322d24f38b46735c4ed0cf2d868578b\">e617074</a></td><td><code>m4/sage_spkg_collect.m4: Use new sage-print-system-package-command options to get indentation right</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72f00813745794bf1386517393bbf749d7aeb6a8\">72f0081</a></td><td><code>build/bin/sage-print-system-package-command (homebrew): Make wording regarding keg-only packages more specific</code></td></tr></table>\n",
    "created_at": "2020-11-27T01:18:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488836",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2016d4d55adb1b9f21e903cc564327446b4c625d">2016d4d</a></td><td><code>build/bin/sage-print-system-package-command: Add option --verbose=COMMENT-PREFIX</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e77878de63c8b116d6cf04ce2a6c5ed5f91a509">0e77878</a></td><td><code>t-30624 improve configure recommendation message</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e61707484322d24f38b46735c4ed0cf2d868578b">e617074</a></td><td><code>m4/sage_spkg_collect.m4: Use new sage-print-system-package-command options to get indentation right</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72f00813745794bf1386517393bbf749d7aeb6a8">72f0081</a></td><td><code>build/bin/sage-print-system-package-command (homebrew): Make wording regarding keg-only packages more specific</code></td></tr></table>




---

archive/issue_comments_488837.json:
```json
{
    "body": "Changed commit from **[90ffc55](https://github.com/sagemath/sagetrac-mirror/commit/90ffc5575380b254a21ff92690249fd6895167be)** to **[72f0081](https://github.com/sagemath/sagetrac-mirror/commit/72f00813745794bf1386517393bbf749d7aeb6a8)**",
    "created_at": "2020-11-27T01:18:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488837",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[90ffc55](https://github.com/sagemath/sagetrac-mirror/commit/90ffc5575380b254a21ff92690249fd6895167be)** to **[72f0081](https://github.com/sagemath/sagetrac-mirror/commit/72f00813745794bf1386517393bbf749d7aeb6a8)**



---

archive/issue_comments_488838.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe, ...**",
    "created_at": "2020-11-27T01:18:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488838",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe, ...**



---

archive/issue_events_422209.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-27T01:18:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30624#event-422209"
}
```



---

archive/issue_events_422210.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-27T01:18:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30624#event-422210"
}
```



---

archive/issue_comments_488839.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReady for review",
    "created_at": "2020-11-27T01:18:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488839",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

Ready for review



---

archive/issue_comments_488840.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI just tested the branch on Ubuntu 18.04, I obtain:\n\n```\nconfigure:\n\n    notice: the following SPKGs did not find equivalent system packages:\n\n        _recommended boost coxeter3 gp2c igraph isl libsemigroups pari_elldata pari_galpol pari_nftables pari_seadata\n        \nchecking for the package system in use... debian\nconfigure:\n\n    hint: installing the following system packages, if not\n    already present, is recommended and may avoid having to\n    build them (though some may have to be built anyway):\n\n      $ sudo apt-get update \n      $ sudo apt-get install  texlive-generic-extra texlive-xetex latexmk pandoc dvipng default-jdk ffmpeg libavdevice-dev libboost-dev pari-gp2c libigraph-dev libisl-dev\n\n    After installation, re-run configure using:\n\n      $ ./config.status --recheck && ./config.status\n         \n```\n\nShould `_recommended` be listed in the first list?",
    "created_at": "2020-11-27T07:55:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488840",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:25" align="right">comment:25</div>

I just tested the branch on Ubuntu 18.04, I obtain:

```
configure:

    notice: the following SPKGs did not find equivalent system packages:

        _recommended boost coxeter3 gp2c igraph isl libsemigroups pari_elldata pari_galpol pari_nftables pari_seadata
        
checking for the package system in use... debian
configure:

    hint: installing the following system packages, if not
    already present, is recommended and may avoid having to
    build them (though some may have to be built anyway):

      $ sudo apt-get update 
      $ sudo apt-get install  texlive-generic-extra texlive-xetex latexmk pandoc dvipng default-jdk ffmpeg libavdevice-dev libboost-dev pari-gp2c libigraph-dev libisl-dev

    After installation, re-run configure using:

      $ ./config.status --recheck && ./config.status
         
```

Should `_recommended` be listed in the first list?



---

archive/issue_comments_488841.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, S\u00e9bastien Labb\u00e9**",
    "created_at": "2020-11-27T07:58:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488841",
    "user": "https://github.com/seblabbe"
}
```

Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, Sébastien Labbé**



---

archive/issue_comments_488842.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\n> Should _recommended be listed in the first list? \n\nIf the answer to that question is yes, please change the status of this ticket to positive review.",
    "created_at": "2020-11-27T07:58:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488842",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:26" align="right">comment:26</div>

> Should _recommended be listed in the first list? 

If the answer to that question is yes, please change the status of this ticket to positive review.



---

archive/issue_comments_488843.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\n> Should _recommended be listed in the first list? \n\nI just observed that this is the current behavior on 9.3.beta2. So, this is independent of this ticket.",
    "created_at": "2020-11-27T08:00:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488843",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:27" align="right">comment:27</div>

> Should _recommended be listed in the first list? 

I just observed that this is the current behavior on 9.3.beta2. So, this is independent of this ticket.



---

archive/issue_events_422211.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2020-11-27T08:00:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30624#event-422211"
}
```



---

archive/issue_events_422212.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2020-11-27T08:00:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30624#event-422212"
}
```



---

archive/issue_comments_488844.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThank you!",
    "created_at": "2020-11-27T18:30:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488844",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

Thank you!



---

archive/issue_comments_488845.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@seblabbe](#comment:25):\n> I just tested the branch on Ubuntu 18.04, I obtain:\n> \n> ```\n> configure:\n> \n>     notice: the following SPKGs did not find equivalent system packages:\n> \n>         _recommended boost coxeter3 gp2c igraph isl libsemigroups pari_elldata pari_galpol pari_nftables pari_seadata\n> \n> Should `_recommended` be listed in the first list?\n> ```\n\nI am making some changes in this direction - suppressing display of packages starting with underscore - in #29124",
    "created_at": "2020-11-27T18:31:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488845",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@seblabbe](#comment:25):
> I just tested the branch on Ubuntu 18.04, I obtain:
> 
> ```
> configure:
> 
>     notice: the following SPKGs did not find equivalent system packages:
> 
>         _recommended boost coxeter3 gp2c igraph isl libsemigroups pari_elldata pari_galpol pari_nftables pari_seadata
> 
> Should `_recommended` be listed in the first list?
> ```

I am making some changes in this direction - suppressing display of packages starting with underscore - in #29124



---

archive/issue_comments_488846.json:
```json
{
    "body": "Changed branch from **[public/30624-improve-configure-recommendation-message](https://github.com/sagemath/sagetrac-mirror/tree/public/30624-improve-configure-recommendation-message)** to **[72f0081](https://github.com/sagemath/sagetrac-mirror/commit/72f00813745794bf1386517393bbf749d7aeb6a8)**",
    "created_at": "2020-12-05T22:13:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30624#issuecomment-488846",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/30624-improve-configure-recommendation-message](https://github.com/sagemath/sagetrac-mirror/tree/public/30624-improve-configure-recommendation-message)** to **[72f0081](https://github.com/sagemath/sagetrac-mirror/commit/72f00813745794bf1386517393bbf749d7aeb6a8)**



---

archive/issue_events_422213.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-12-05T22:13:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30624#event-422213"
}
```



---

archive/issue_events_422214.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "b4c0f6d0c330c9a6188ac8de02f5e35c514f1f9e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-12-05T22:13:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30624",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30624#event-422214"
}
```
