# Issue 30627: Rename build/bin/sage-system-python to sage-bootstrap-python

archive/issues_030390.json:
```json
{
    "body": "... to indicate its purpose and identity in a clearer way.  \n\n(It has nothing to do with the `python3` that `configure --with-system-python3` is looking for in `build/pkgs/python3/spkg-configure.m4`.)\n\nAfter #29355, `sage-system-python` is only used during configure and build:\n\n```\n$ git grep -i sage[-_]system[-_]python\nbuild/bin/sage-download-file:#!/usr/bin/env sage-system-python\nbuild/bin/sage-flock:#!/usr/bin/env sage-system-python\nbuild/bin/sage-package:#!/usr/bin/env sage-system-python\nbuild/bin/sage-spkg-uninstall:#!/usr/bin/env sage-system-python\nbuild/bin/sage-uncompress-spkg:#!/usr/bin/env sage-system-python\nbuild/pkgs/appnope/spkg-install.in:if sage-system-python -c 'from sys import *; exit(0 if platform == \"darwin\" else 1)'; then\nbuild/pkgs/atlas/patches/atlas-config:#!/usr/bin/env sage-system-python\nbuild/pkgs/atlas/spkg-install.in:exec sage-system-python spkg-install.py\nbuild/pkgs/numpy/lapack_conf.py:#!/usr/bin/env sage-system-python\nbuild/pkgs/openblas/spkg-check.in:if [ `sage-system-python -c \"from __future__ import print_function; import platform; print(platform.architecture()[0])\"` = \"32bit\" ]; then\nbuild/pkgs/openblas/spkg-install.in:if [ `sage-system-python -c \"from __future__ import print_function; import platform; print(platform.architecture()[0])\"` = \"32bit\" ]; then\nbuild/pkgs/openblas/write_pc_file.py:#!/usr/bin/env sage-system-python\nbuild/pkgs/zn_poly/spkg-install.in:sage-system-python makemakefile.py >Makefile \\\nbuild/sage_bootstrap/flock.py:#!/usr/bin/env sage-system-python\nbuild/setup.py:#!/usr/bin/env sage-system-python\nbuild/setup.py:    scripts=['bin/sage-package', 'bin/sage-download-file', 'bin/sage-system-python'],\nbuild/test/runnable.py:#!/usr/bin/env sage-system-python\nconfigure.ac:if SAGE_SYSTEM_PYTHON=$(build/bin/sage-system-python -c \"import sys; print(sys.executable)\"); then\nconfigure.ac:    AC_MSG_RESULT([$SAGE_SYSTEM_PYTHON])\nsrc/doc/en/developer/packaging.rst:        exec sage-system-python spkg-install.py\nsrc/doc/en/developer/packaging.rst:   In more detail: ``sage-system-python`` runs the version of Python\n```\n\n\nCC:  @dimpase @jhpalmieri @seblabbe @orlitzky\n\nReviewer: S\u00e9bastien Labb\u00e9\n\nAuthor: Matthias Koeppe\n\nBranch: 3749fe1a8a1527ed7a956fa164600f1582632702\n\nDependencies: #29355\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30627\n\n",
    "closed_at": "2020-11-15T22:47:31Z",
    "created_at": "2020-09-21T16:09:39Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Rename build/bin/sage-system-python to sage-bootstrap-python",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30627",
    "user": "https://github.com/mkoeppe"
}
```
... to indicate its purpose and identity in a clearer way.  

(It has nothing to do with the `python3` that `configure --with-system-python3` is looking for in `build/pkgs/python3/spkg-configure.m4`.)

After #29355, `sage-system-python` is only used during configure and build:

```
$ git grep -i sage[-_]system[-_]python
build/bin/sage-download-file:#!/usr/bin/env sage-system-python
build/bin/sage-flock:#!/usr/bin/env sage-system-python
build/bin/sage-package:#!/usr/bin/env sage-system-python
build/bin/sage-spkg-uninstall:#!/usr/bin/env sage-system-python
build/bin/sage-uncompress-spkg:#!/usr/bin/env sage-system-python
build/pkgs/appnope/spkg-install.in:if sage-system-python -c 'from sys import *; exit(0 if platform == "darwin" else 1)'; then
build/pkgs/atlas/patches/atlas-config:#!/usr/bin/env sage-system-python
build/pkgs/atlas/spkg-install.in:exec sage-system-python spkg-install.py
build/pkgs/numpy/lapack_conf.py:#!/usr/bin/env sage-system-python
build/pkgs/openblas/spkg-check.in:if [ `sage-system-python -c "from __future__ import print_function; import platform; print(platform.architecture()[0])"` = "32bit" ]; then
build/pkgs/openblas/spkg-install.in:if [ `sage-system-python -c "from __future__ import print_function; import platform; print(platform.architecture()[0])"` = "32bit" ]; then
build/pkgs/openblas/write_pc_file.py:#!/usr/bin/env sage-system-python
build/pkgs/zn_poly/spkg-install.in:sage-system-python makemakefile.py >Makefile \
build/sage_bootstrap/flock.py:#!/usr/bin/env sage-system-python
build/setup.py:#!/usr/bin/env sage-system-python
build/setup.py:    scripts=['bin/sage-package', 'bin/sage-download-file', 'bin/sage-system-python'],
build/test/runnable.py:#!/usr/bin/env sage-system-python
configure.ac:if SAGE_SYSTEM_PYTHON=$(build/bin/sage-system-python -c "import sys; print(sys.executable)"); then
configure.ac:    AC_MSG_RESULT([$SAGE_SYSTEM_PYTHON])
src/doc/en/developer/packaging.rst:        exec sage-system-python spkg-install.py
src/doc/en/developer/packaging.rst:   In more detail: ``sage-system-python`` runs the version of Python
```


CC:  @dimpase @jhpalmieri @seblabbe @orlitzky

Reviewer: Sébastien Labbé

Author: Matthias Koeppe

Branch: 3749fe1a8a1527ed7a956fa164600f1582632702

Dependencies: #29355

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30627





---

archive/issue_comments_462408.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,32 @@\n ... to indicate its purpose and identity in a clearer way.\n+\n+After #29355, it is only used during configure and build:\n+\n+```\n+$ git grep -i sage[-_]system[-_]python\n+build/bin/sage-download-file:#!/usr/bin/env sage-system-python\n+build/bin/sage-flock:#!/usr/bin/env sage-system-python\n+build/bin/sage-package:#!/usr/bin/env sage-system-python\n+build/bin/sage-spkg-uninstall:#!/usr/bin/env sage-system-python\n+build/bin/sage-uncompress-spkg:#!/usr/bin/env sage-system-python\n+build/pkgs/appnope/spkg-install.in:if sage-system-python -c 'from sys import *; exit(0 if platform == \"darwin\" else 1)'; then\n+build/pkgs/atlas/patches/atlas-config:#!/usr/bin/env sage-system-python\n+build/pkgs/atlas/spkg-install.in:exec sage-system-python spkg-install.py\n+build/pkgs/numpy/lapack_conf.py:#!/usr/bin/env sage-system-python\n+build/pkgs/openblas/spkg-check.in:if [ `sage-system-python -c \"from __future__ import print_function; import platform; print(platform.architecture()[0])\"` = \"32bit\" ]; then\n+build/pkgs/openblas/spkg-install.in:if [ `sage-system-python -c \"from __future__ import print_function; import platform; print(platform.architecture()[0])\"` = \"32bit\" ]; then\n+build/pkgs/openblas/write_pc_file.py:#!/usr/bin/env sage-system-python\n+build/pkgs/zn_poly/spkg-install.in:sage-system-python makemakefile.py >Makefile \\\n+build/sage_bootstrap/flock.py:#!/usr/bin/env sage-system-python\n+build/setup.py:#!/usr/bin/env sage-system-python\n+build/setup.py:    scripts=['bin/sage-package', 'bin/sage-download-file', 'bin/sage-system-python'],\n+build/test/runnable.py:#!/usr/bin/env sage-system-python\n+configure.ac:if SAGE_SYSTEM_PYTHON=$(build/bin/sage-system-python -c \"import sys; print(sys.executable)\"); then\n+configure.ac:    AC_MSG_RESULT([$SAGE_SYSTEM_PYTHON])\n+src/doc/en/developer/packaging.rst:        exec sage-system-python spkg-install.py\n+src/doc/en/developer/packaging.rst:   In more detail: ``sage-system-python`` runs the version of Python\n+```\n+\n \n Comment: 1\n \n```\n",
    "created_at": "2020-09-21T17:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30627#issuecomment-462408",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,32 @@
 ... to indicate its purpose and identity in a clearer way.
+
+After #29355, it is only used during configure and build:
+
+```
+$ git grep -i sage[-_]system[-_]python
+build/bin/sage-download-file:#!/usr/bin/env sage-system-python
+build/bin/sage-flock:#!/usr/bin/env sage-system-python
+build/bin/sage-package:#!/usr/bin/env sage-system-python
+build/bin/sage-spkg-uninstall:#!/usr/bin/env sage-system-python
+build/bin/sage-uncompress-spkg:#!/usr/bin/env sage-system-python
+build/pkgs/appnope/spkg-install.in:if sage-system-python -c 'from sys import *; exit(0 if platform == "darwin" else 1)'; then
+build/pkgs/atlas/patches/atlas-config:#!/usr/bin/env sage-system-python
+build/pkgs/atlas/spkg-install.in:exec sage-system-python spkg-install.py
+build/pkgs/numpy/lapack_conf.py:#!/usr/bin/env sage-system-python
+build/pkgs/openblas/spkg-check.in:if [ `sage-system-python -c "from __future__ import print_function; import platform; print(platform.architecture()[0])"` = "32bit" ]; then
+build/pkgs/openblas/spkg-install.in:if [ `sage-system-python -c "from __future__ import print_function; import platform; print(platform.architecture()[0])"` = "32bit" ]; then
+build/pkgs/openblas/write_pc_file.py:#!/usr/bin/env sage-system-python
+build/pkgs/zn_poly/spkg-install.in:sage-system-python makemakefile.py >Makefile \
+build/sage_bootstrap/flock.py:#!/usr/bin/env sage-system-python
+build/setup.py:#!/usr/bin/env sage-system-python
+build/setup.py:    scripts=['bin/sage-package', 'bin/sage-download-file', 'bin/sage-system-python'],
+build/test/runnable.py:#!/usr/bin/env sage-system-python
+configure.ac:if SAGE_SYSTEM_PYTHON=$(build/bin/sage-system-python -c "import sys; print(sys.executable)"); then
+configure.ac:    AC_MSG_RESULT([$SAGE_SYSTEM_PYTHON])
+src/doc/en/developer/packaging.rst:        exec sage-system-python spkg-install.py
+src/doc/en/developer/packaging.rst:   In more detail: ``sage-system-python`` runs the version of Python
+```
+
 
 Comment: 1
 
```




---

archive/issue_comments_462409.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,33 @@\n+... to indicate its purpose and identity in a clearer way.  \n+\n+(It has nothing to do with the `python3` that `configure --with-system-python3` is looking for in `build/pkgs/python3/spkg-configure.m4`.)\n+\n+After #29355, `sage-system-python` is only used during configure and build:\n+\n+```\n+$ git grep -i sage[-_]system[-_]python\n+build/bin/sage-download-file:#!/usr/bin/env sage-system-python\n+build/bin/sage-flock:#!/usr/bin/env sage-system-python\n+build/bin/sage-package:#!/usr/bin/env sage-system-python\n+build/bin/sage-spkg-uninstall:#!/usr/bin/env sage-system-python\n+build/bin/sage-uncompress-spkg:#!/usr/bin/env sage-system-python\n+build/pkgs/appnope/spkg-install.in:if sage-system-python -c 'from sys import *; exit(0 if platform == \"darwin\" else 1)'; then\n+build/pkgs/atlas/patches/atlas-config:#!/usr/bin/env sage-system-python\n+build/pkgs/atlas/spkg-install.in:exec sage-system-python spkg-install.py\n+build/pkgs/numpy/lapack_conf.py:#!/usr/bin/env sage-system-python\n+build/pkgs/openblas/spkg-check.in:if [ `sage-system-python -c \"from __future__ import print_function; import platform; print(platform.architecture()[0])\"` = \"32bit\" ]; then\n+build/pkgs/openblas/spkg-install.in:if [ `sage-system-python -c \"from __future__ import print_function; import platform; print(platform.architecture()[0])\"` = \"32bit\" ]; then\n+build/pkgs/openblas/write_pc_file.py:#!/usr/bin/env sage-system-python\n+build/pkgs/zn_poly/spkg-install.in:sage-system-python makemakefile.py >Makefile \\\n+build/sage_bootstrap/flock.py:#!/usr/bin/env sage-system-python\n+build/setup.py:#!/usr/bin/env sage-system-python\n+build/setup.py:    scripts=['bin/sage-package', 'bin/sage-download-file', 'bin/sage-system-python'],\n+build/test/runnable.py:#!/usr/bin/env sage-system-python\n+configure.ac:if SAGE_SYSTEM_PYTHON=$(build/bin/sage-system-python -c \"import sys; print(sys.executable)\"); then\n+configure.ac:    AC_MSG_RESULT([$SAGE_SYSTEM_PYTHON])\n+src/doc/en/developer/packaging.rst:        exec sage-system-python spkg-install.py\n+src/doc/en/developer/packaging.rst:   In more detail: ``sage-system-python`` runs the version of Python\n+```\n \n \n Comment: 1\n```\n",
    "created_at": "2020-09-21T17:09:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30627#issuecomment-462409",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,33 @@
+... to indicate its purpose and identity in a clearer way.  
+
+(It has nothing to do with the `python3` that `configure --with-system-python3` is looking for in `build/pkgs/python3/spkg-configure.m4`.)
+
+After #29355, `sage-system-python` is only used during configure and build:
+
+```
+$ git grep -i sage[-_]system[-_]python
+build/bin/sage-download-file:#!/usr/bin/env sage-system-python
+build/bin/sage-flock:#!/usr/bin/env sage-system-python
+build/bin/sage-package:#!/usr/bin/env sage-system-python
+build/bin/sage-spkg-uninstall:#!/usr/bin/env sage-system-python
+build/bin/sage-uncompress-spkg:#!/usr/bin/env sage-system-python
+build/pkgs/appnope/spkg-install.in:if sage-system-python -c 'from sys import *; exit(0 if platform == "darwin" else 1)'; then
+build/pkgs/atlas/patches/atlas-config:#!/usr/bin/env sage-system-python
+build/pkgs/atlas/spkg-install.in:exec sage-system-python spkg-install.py
+build/pkgs/numpy/lapack_conf.py:#!/usr/bin/env sage-system-python
+build/pkgs/openblas/spkg-check.in:if [ `sage-system-python -c "from __future__ import print_function; import platform; print(platform.architecture()[0])"` = "32bit" ]; then
+build/pkgs/openblas/spkg-install.in:if [ `sage-system-python -c "from __future__ import print_function; import platform; print(platform.architecture()[0])"` = "32bit" ]; then
+build/pkgs/openblas/write_pc_file.py:#!/usr/bin/env sage-system-python
+build/pkgs/zn_poly/spkg-install.in:sage-system-python makemakefile.py >Makefile \
+build/sage_bootstrap/flock.py:#!/usr/bin/env sage-system-python
+build/setup.py:#!/usr/bin/env sage-system-python
+build/setup.py:    scripts=['bin/sage-package', 'bin/sage-download-file', 'bin/sage-system-python'],
+build/test/runnable.py:#!/usr/bin/env sage-system-python
+configure.ac:if SAGE_SYSTEM_PYTHON=$(build/bin/sage-system-python -c "import sys; print(sys.executable)"); then
+configure.ac:    AC_MSG_RESULT([$SAGE_SYSTEM_PYTHON])
+src/doc/en/developer/packaging.rst:        exec sage-system-python spkg-install.py
+src/doc/en/developer/packaging.rst:   In more detail: ``sage-system-python`` runs the version of Python
+```
 
 
 Comment: 1
```




---

archive/issue_comments_462410.json:
```json
{
    "body": "<a id='comment:6'></a>New commits:",
    "created_at": "2020-09-21T17:31:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30627#issuecomment-462410",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>New commits:



---

archive/issue_comments_462411.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-09-21T17:31:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30627#issuecomment-462411",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_462412.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-21T17:41:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30627#issuecomment-462412",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462413.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-22T01:21:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30627#issuecomment-462413",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_079636.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-03T23:08:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30627",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30627#event-79636"
}
```



---

archive/issue_comments_462414.json:
```json
{
    "body": "<a id='comment:13'></a>It works for me.\n\nMy only comments would be that the commit history of the proposed branch is quite ugly. A rebase on top of #29355 or on top of 9.3.beta0 won't hurt. Or maybe that branch serves already as a dependency for other branches?\n\nAnyway, please change the status to positive review on my behalf if you have good reason to keep the commit history as it is, or update the branch and I will come back to it after the elections.",
    "created_at": "2020-11-03T20:50:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30627#issuecomment-462414",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:13'></a>It works for me.

My only comments would be that the commit history of the proposed branch is quite ugly. A rebase on top of #29355 or on top of 9.3.beta0 won't hurt. Or maybe that branch serves already as a dependency for other branches?

Anyway, please change the status to positive review on my behalf if you have good reason to keep the commit history as it is, or update the branch and I will come back to it after the elections.



---

archive/issue_comments_462415.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-11-03T23:06:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30627#issuecomment-462415",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_462416.json:
```json
{
    "body": "<a id='comment:15'></a>I have squashed/rebased it on top of #29355.",
    "created_at": "2020-11-03T23:07:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30627#issuecomment-462416",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>I have squashed/rebased it on top of #29355.



---

archive/issue_comments_462417.json:
```json
{
    "body": "<a id='comment:16'></a>Great, thank you. Much easier to see what is happening.",
    "created_at": "2020-11-04T09:26:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30627#issuecomment-462417",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:16'></a>Great, thank you. Much easier to see what is happening.



---

archive/issue_comments_462418.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-11-04T10:04:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30627#issuecomment-462418",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_462419.json:
```json
{
    "body": "<a id='comment:18'></a>Thanks!",
    "created_at": "2020-11-04T22:06:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30627#issuecomment-462419",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>Thanks!



---

archive/issue_events_079637.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-15T22:47:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30627",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30627#event-79637"
}
```



---

archive/issue_comments_462420.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-11-15T22:47:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30627#issuecomment-462420",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_462421.json:
```json
{
    "body": "<a id='comment:20'></a>Follow-up: #30995",
    "created_at": "2020-12-03T05:30:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30627#issuecomment-462421",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>Follow-up: #30995
