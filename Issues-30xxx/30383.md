# Issue 30383: Add "configure --disable-notebook"; show descriptions of optional packages in "configure --help"

archive/issues_030146.json:
```json
{
    "body": "We refactor the code in `sage_spkg_enable.m4` and `sage_spkg_collect.m4` so that it becomes possible to add `configure --disable-SPKG` options to disable standard packages. This also simplifies `build/make/Makefile.in` slightly because it no longer has to make a distinction between standard and optional packages.\n\nWe demonstrate this by adding one such option, `configure --disable-notebook`, which disables building the Jupyter `notebook` package ... and all of its exclusive dependencies.  This is useful for people who want to use the system Jupyter notebook -- the Jupyter kernel is still built and can be installed there.\n\nThe new option appears before the `--enable...` options for optional packages.\n\nWe also make the configure help a bit more informative (by including the 1-line descriptions of the optional packages) and prettier.\n\n\n```\n$ ./configure --help\n...\nOptional Features:\n  --disable-option-checking  ignore unrecognized --enable/--with options\n  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)\n  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]\n...\n  --enable-experimental-packages\n                          allow installing experimental packages (default: no\n                          = ask for user confirmation for each package)\n  --enable-download-from-upstream-url\n                          allow downloading packages from their upstream URL\n                          if they cannot be found on the Sage mirrors\n  --disable-notebook      disable build of the Jupyter notebook and related\n                          packages\n  --enable-4ti2={no|if_installed (default)|yes}\n                          enable build and use of the optional package 4ti2: Algebraic, geometric\n                          and combinatorial problems on linear spaces\n                          * package info: ./sage -info 4ti2\n  --disable-4ti2          disable build and uninstall if previously installed by Sage in PREFIX;\n                          same as --enable-4ti2=no\n  --enable-atlas={no|if_installed (default)|yes}\n                          enable build and use of the optional package atlas: Automatically Tuned\n                          Linear Algebra Software (BLAS implementation)\n                          * package info: ./sage -info atlas\n  --disable-atlas         disable build and uninstall if previously installed by Sage in PREFIX;\n                          same as --enable-atlas=no\n  --enable-awali={no|if_installed (default)|yes}\n                          enable build and use of the experimental package awali: Computation of/with\n                          finite state machines\n                          * package info: ./sage -info awali\n  --disable-awali         disable build and uninstall if previously installed by Sage in PREFIX;\n                          same as --enable-awali=no\n```\n\n\nThis is also preparation for #30556 (packages that will not work without openssl), and for testing modularized installs (#30778, #29864).\n\n\n**CC:**  @jhpalmieri @orlitzky @slel @seblabbe @dimpase @embray @kliem\n\n**Keywords:** sd111\n\n**Branch/Commit:** [4916415408a58e4b715143e5c607972822055790](https://github.com/sagemath/sagetrac-mirror/commit/4916415408a58e4b715143e5c607972822055790)\n\n**Reviewer:** John Palmieri, Dima Pasechnik\n\n**Author:** Matthias Koeppe\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30383\n\n",
    "closed_at": "2021-03-20T15:27:50Z",
    "created_at": "2020-08-17T18:17:19Z",
    "labels": [
        "component: build",
        "critical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Add \"configure --disable-notebook\"; show descriptions of optional packages in \"configure --help\"",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30383",
    "user": "https://github.com/mkoeppe"
}
```
We refactor the code in `sage_spkg_enable.m4` and `sage_spkg_collect.m4` so that it becomes possible to add `configure --disable-SPKG` options to disable standard packages. This also simplifies `build/make/Makefile.in` slightly because it no longer has to make a distinction between standard and optional packages.

We demonstrate this by adding one such option, `configure --disable-notebook`, which disables building the Jupyter `notebook` package ... and all of its exclusive dependencies.  This is useful for people who want to use the system Jupyter notebook -- the Jupyter kernel is still built and can be installed there.

The new option appears before the `--enable...` options for optional packages.

We also make the configure help a bit more informative (by including the 1-line descriptions of the optional packages) and prettier.


```
$ ./configure --help
...
Optional Features:
  --disable-option-checking  ignore unrecognized --enable/--with options
  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
...
  --enable-experimental-packages
                          allow installing experimental packages (default: no
                          = ask for user confirmation for each package)
  --enable-download-from-upstream-url
                          allow downloading packages from their upstream URL
                          if they cannot be found on the Sage mirrors
  --disable-notebook      disable build of the Jupyter notebook and related
                          packages
  --enable-4ti2={no|if_installed (default)|yes}
                          enable build and use of the optional package 4ti2: Algebraic, geometric
                          and combinatorial problems on linear spaces
                          * package info: ./sage -info 4ti2
  --disable-4ti2          disable build and uninstall if previously installed by Sage in PREFIX;
                          same as --enable-4ti2=no
  --enable-atlas={no|if_installed (default)|yes}
                          enable build and use of the optional package atlas: Automatically Tuned
                          Linear Algebra Software (BLAS implementation)
                          * package info: ./sage -info atlas
  --disable-atlas         disable build and uninstall if previously installed by Sage in PREFIX;
                          same as --enable-atlas=no
  --enable-awali={no|if_installed (default)|yes}
                          enable build and use of the experimental package awali: Computation of/with
                          finite state machines
                          * package info: ./sage -info awali
  --disable-awali         disable build and uninstall if previously installed by Sage in PREFIX;
                          same as --enable-awali=no
```


This is also preparation for #30556 (packages that will not work without openssl), and for testing modularized installs (#30778, #29864).


**CC:**  @jhpalmieri @orlitzky @slel @seblabbe @dimpase @embray @kliem

**Keywords:** sd111

**Branch/Commit:** [4916415408a58e4b715143e5c607972822055790](https://github.com/sagemath/sagetrac-mirror/commit/4916415408a58e4b715143e5c607972822055790)

**Reviewer:** John Palmieri, Dima Pasechnik

**Author:** Matthias Koeppe

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/30383





---

archive/issue_comments_600272.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,3 +5,5 @@\n Users can use `configure --disable-SPKG` to disable them.\n \n \n+\n+Needed for #30556\n``````\n",
    "created_at": "2020-09-13T19:55:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600272",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,3 +5,5 @@
 Users can use `configure --disable-SPKG` to disable them.
 
 
+
+Needed for #30556
``````




---

archive/issue_comments_600273.json:
```json
{
    "body": "<a id='comment:3'></a>\nSuggestions for a better name for this new package type are welcome",
    "created_at": "2020-09-13T19:59:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600273",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
Suggestions for a better name for this new package type are welcome



---

archive/issue_comments_600274.json:
```json
{
    "body": "<a id='comment:4'></a>\nAlternatively, we could also make it possible to disable any standard package.",
    "created_at": "2020-09-14T23:09:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600274",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
Alternatively, we could also make it possible to disable any standard package.



---

archive/issue_events_088754.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "rename": {
        "from": "New package type: optional-enabled-by-default",
        "to": "\"configure --disable-SPKG\" for standard packages"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30383#event-88754"
}
```



---

archive/issue_comments_600275.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,9 +1,4 @@\n-These would be like \"optional\" packages, but enabled by default. \n-\n-Like \"standard\" packages, they would be included in the distribution built by `make dist`.\n-\n-Users can use `configure --disable-SPKG` to disable them.\n-\n+We add `configure --disable-SPKG` options to disable standard packages.  (They will still be installed if they appear as dependencies.)\n \n \n Needed for #30556\n``````\n",
    "created_at": "2020-09-15T00:22:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600275",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,9 +1,4 @@
-These would be like "optional" packages, but enabled by default. 
-
-Like "standard" packages, they would be included in the distribution built by `make dist`.
-
-Users can use `configure --disable-SPKG` to disable them.
-
+We add `configure --disable-SPKG` options to disable standard packages.  (They will still be installed if they appear as dependencies.)
 
 
 Needed for #30556
``````




---

archive/issue_comments_600276.json:
```json
{
    "body": "**Dependencies:** #29363",
    "created_at": "2020-09-15T00:23:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600276",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #29363



---

archive/issue_comments_600277.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/new_package_type__optional_enabled_by_default](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/new_package_type__optional_enabled_by_default)",
    "created_at": "2020-09-15T00:56:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600277",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/new_package_type__optional_enabled_by_default](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/new_package_type__optional_enabled_by_default)



---

archive/issue_comments_600278.json:
```json
{
    "body": "<a id='comment:8'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c73460c136625d5471f18266590dd6c82e59855d\">c73460c</a></td><td><code>Add options 'configure --disable-SPKG' for standard packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22d7ae499b02a2e9ac80f6c1c42c8cee45f07866\">22d7ae4</a></td><td><code>m4/sage_spkg_*.m4: At the end of configure, indicate which optional/experimental packages are configured to be installed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd6c109a1e555f8b7bfa0f845c305f02d0878ee2\">bd6c109</a></td><td><code>Merge branch 't/29363/at_the_end_of_configure__indicate_which_optional_experimental_packages_are_configured_to_be_installed' into t/30383/new_package_type__optional_enabled_by_default</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c98700a0414b8ef56152749f3f74dd91adcadb5\">3c98700</a></td><td><code>Replace SAGE_STANDARD_PACKAGES by use of SAGE_OPTIONAL_INSTALLED_PACKAGES</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/182c1fd756d75029e2d1885df68af441a56cdac1\">182c1fd</a></td><td><code>m4/sage_spkg_collect.m4: Reduce verbosity by removing 'does not support check for system package'</code></td></tr></table>\n",
    "created_at": "2020-09-15T00:56:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600278",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c73460c136625d5471f18266590dd6c82e59855d">c73460c</a></td><td><code>Add options 'configure --disable-SPKG' for standard packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22d7ae499b02a2e9ac80f6c1c42c8cee45f07866">22d7ae4</a></td><td><code>m4/sage_spkg_*.m4: At the end of configure, indicate which optional/experimental packages are configured to be installed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd6c109a1e555f8b7bfa0f845c305f02d0878ee2">bd6c109</a></td><td><code>Merge branch 't/29363/at_the_end_of_configure__indicate_which_optional_experimental_packages_are_configured_to_be_installed' into t/30383/new_package_type__optional_enabled_by_default</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c98700a0414b8ef56152749f3f74dd91adcadb5">3c98700</a></td><td><code>Replace SAGE_STANDARD_PACKAGES by use of SAGE_OPTIONAL_INSTALLED_PACKAGES</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/182c1fd756d75029e2d1885df68af441a56cdac1">182c1fd</a></td><td><code>m4/sage_spkg_collect.m4: Reduce verbosity by removing 'does not support check for system package'</code></td></tr></table>




---

archive/issue_comments_600279.json:
```json
{
    "body": "**Commit:** [182c1fd756d75029e2d1885df68af441a56cdac1](https://github.com/sagemath/sagetrac-mirror/commit/182c1fd756d75029e2d1885df68af441a56cdac1)",
    "created_at": "2020-09-15T00:56:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600279",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [182c1fd756d75029e2d1885df68af441a56cdac1](https://github.com/sagemath/sagetrac-mirror/commit/182c1fd756d75029e2d1885df68af441a56cdac1)



---

archive/issue_comments_600280.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2020-09-15T00:56:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600280",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_600281.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2020-09-15T01:11:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600281",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_600282.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,44 @@\n We add `configure --disable-SPKG` options to disable standard packages.  (They will still be installed if they appear as dependencies.)\n \n+`./configure --help` shows these options before the `--enable` options for optional/experimental packages; and the help string is deliberately brief.\n \n-Needed for #30556\n+```\n+$ ./configure --help\n+...\n+Optional Features:\n+  --disable-option-checking  ignore unrecognized --enable/--with options\n+  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)\n+  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]\n+  --enable-experimental-packages\n+                          allow installing experimental packages (default: no\n+                          = ask for user confirmation for each package)\n+  --enable-download-from-upstream-url\n+                          allow downloading packages from their upstream URL\n+                          if they cannot be found on the Sage mirrors\n+  --disable-alabaster     disable standard package alabaster\n+  --disable-appnope       disable standard package appnope\n+  --disable-arb           disable standard package arb\n+  --disable-attrs         disable standard package attrs\n+  --disable-babel         disable standard package babel\n+  --disable-backcall      disable standard package backcall\n+  ...\n+  --disable-zeromq        disable standard package zeromq\n+  --disable-zipp          disable standard package zipp\n+  --disable-zlib          disable standard package zlib\n+  --disable-zn_poly       disable standard package zn_poly\n+  --disable-zope_interface\n+                          disable standard package zope_interface\n+  --enable-4ti2={no|if_installed|yes}\n+                          enable build and use of the optional package 4ti2\n+                          (default: \"if_installed\")\n+                          package information: ./sage -info 4ti2\n+  --disable-4ti2          disable build and uninstall if previously installed\n+                          by Sage in PREFIX; same as --enable-4ti2=no\n+  --enable-atlas={no|if_installed|yes}\n+                          enable build and use of the optional package atlas\n+                          (default: \"if_installed\")\n+                          package information: ./sage -info atlas\n+```\n+\n+\n+Needed for #30556 (packages that will not work without openssl), and probably will be helpful for testing modularized installs (#29864)\n``````\n",
    "created_at": "2020-09-15T21:35:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600282",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,44 @@
 We add `configure --disable-SPKG` options to disable standard packages.  (They will still be installed if they appear as dependencies.)
 
+`./configure --help` shows these options before the `--enable` options for optional/experimental packages; and the help string is deliberately brief.
 
-Needed for #30556
+```
+$ ./configure --help
+...
+Optional Features:
+  --disable-option-checking  ignore unrecognized --enable/--with options
+  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
+  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
+  --enable-experimental-packages
+                          allow installing experimental packages (default: no
+                          = ask for user confirmation for each package)
+  --enable-download-from-upstream-url
+                          allow downloading packages from their upstream URL
+                          if they cannot be found on the Sage mirrors
+  --disable-alabaster     disable standard package alabaster
+  --disable-appnope       disable standard package appnope
+  --disable-arb           disable standard package arb
+  --disable-attrs         disable standard package attrs
+  --disable-babel         disable standard package babel
+  --disable-backcall      disable standard package backcall
+  ...
+  --disable-zeromq        disable standard package zeromq
+  --disable-zipp          disable standard package zipp
+  --disable-zlib          disable standard package zlib
+  --disable-zn_poly       disable standard package zn_poly
+  --disable-zope_interface
+                          disable standard package zope_interface
+  --enable-4ti2={no|if_installed|yes}
+                          enable build and use of the optional package 4ti2
+                          (default: "if_installed")
+                          package information: ./sage -info 4ti2
+  --disable-4ti2          disable build and uninstall if previously installed
+                          by Sage in PREFIX; same as --enable-4ti2=no
+  --enable-atlas={no|if_installed|yes}
+                          enable build and use of the optional package atlas
+                          (default: "if_installed")
+                          package information: ./sage -info atlas
+```
+
+
+Needed for #30556 (packages that will not work without openssl), and probably will be helpful for testing modularized installs (#29864)
``````




---

archive/issue_comments_600283.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -9,6 +9,7 @@\n   --disable-option-checking  ignore unrecognized --enable/--with options\n   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)\n   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]\n+...\n   --enable-experimental-packages\n                           allow installing experimental packages (default: no\n                           = ask for user confirmation for each package)\n@@ -21,7 +22,7 @@\n   --disable-attrs         disable standard package attrs\n   --disable-babel         disable standard package babel\n   --disable-backcall      disable standard package backcall\n-  ...\n+...\n   --disable-zeromq        disable standard package zeromq\n   --disable-zipp          disable standard package zipp\n   --disable-zlib          disable standard package zlib\n``````\n",
    "created_at": "2020-09-15T21:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600283",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -9,6 +9,7 @@
   --disable-option-checking  ignore unrecognized --enable/--with options
   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
+...
   --enable-experimental-packages
                           allow installing experimental packages (default: no
                           = ask for user confirmation for each package)
@@ -21,7 +22,7 @@
   --disable-attrs         disable standard package attrs
   --disable-babel         disable standard package babel
   --disable-backcall      disable standard package backcall
-  ...
+...
   --disable-zeromq        disable standard package zeromq
   --disable-zipp          disable standard package zipp
   --disable-zlib          disable standard package zlib
``````




---

archive/issue_comments_600284.json:
```json
{
    "body": "<a id='comment:12'></a>\nDoesn't this create a bajillion ./configure options that basically do nothing (because the packages are dependencies), and another bajillion that cause sage to function improperly (test suite failures, etc.)?\n\nI think the original approach was more on-track, although I wouldn't have created a separate package type for it (we don't need to proliferate a new package type throughout the build system every time we tweak a bit of metadata). Instead I would have added an \"enabled by default\" (default: no) feature somewhere to the optional packages. Long-term, a way to control (and depend on) optional features is needed, but that's a much larger undertaking akin to USE flags in Gentoo.",
    "created_at": "2020-09-16T00:55:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600284",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:12'></a>
Doesn't this create a bajillion ./configure options that basically do nothing (because the packages are dependencies), and another bajillion that cause sage to function improperly (test suite failures, etc.)?

I think the original approach was more on-track, although I wouldn't have created a separate package type for it (we don't need to proliferate a new package type throughout the build system every time we tweak a bit of metadata). Instead I would have added an "enabled by default" (default: no) feature somewhere to the optional packages. Long-term, a way to control (and depend on) optional features is needed, but that's a much larger undertaking akin to USE flags in Gentoo.



---

archive/issue_comments_600285.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [mjo](#comment%3A12):\n> Doesn't this create a bajillion ./configure options that basically do nothing (because the packages are dependencies), and another bajillion that cause sage to function improperly (test suite failures, etc.)?\n\n\nYes, a gazillion of \"advanced options\"",
    "created_at": "2020-09-16T00:56:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600285",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>
Replying to [mjo](#comment%3A12):
> Doesn't this create a bajillion ./configure options that basically do nothing (because the packages are dependencies), and another bajillion that cause sage to function improperly (test suite failures, etc.)?


Yes, a gazillion of "advanced options"



---

archive/issue_comments_600286.json:
```json
{
    "body": "<a id='comment:14'></a>\nMost \"standard\" packages are not really required in any strict sense other than passing doctests that test particular features. Making it possible to disable them gives users a remedy when the build fails on a system",
    "created_at": "2020-09-16T00:59:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600286",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
Most "standard" packages are not really required in any strict sense other than passing doctests that test particular features. Making it possible to disable them gives users a remedy when the build fails on a system



---

archive/issue_comments_600287.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"sd111\".",
    "created_at": "2020-12-06T18:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600287",
    "user": "https://github.com/mkoeppe"
}
```

**Changing keywords** from "" to "sd111".



---

archive/issue_comments_600288.json:
```json
{
    "body": "<a id='comment:15'></a>\nHoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111",
    "created_at": "2020-12-06T18:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600288",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
Hoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111



---

archive/issue_comments_600289.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e64ef1a6c7436dd515c1daf968fe00ed6d1f9f71\">e64ef1a</a></td><td><code>Merge tag '9.3.beta4' into t/30383/new_package_type__optional_enabled_by_default</code></td></tr></table>\n",
    "created_at": "2020-12-15T01:15:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600289",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e64ef1a6c7436dd515c1daf968fe00ed6d1f9f71">e64ef1a</a></td><td><code>Merge tag '9.3.beta4' into t/30383/new_package_type__optional_enabled_by_default</code></td></tr></table>




---

archive/issue_comments_600290.json:
```json
{
    "body": "**Changing commit** from \"[182c1fd756d75029e2d1885df68af441a56cdac1](https://github.com/sagemath/sagetrac-mirror/commit/182c1fd756d75029e2d1885df68af441a56cdac1)\" to \"[e64ef1a6c7436dd515c1daf968fe00ed6d1f9f71](https://github.com/sagemath/sagetrac-mirror/commit/e64ef1a6c7436dd515c1daf968fe00ed6d1f9f71)\".",
    "created_at": "2020-12-15T01:15:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600290",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[182c1fd756d75029e2d1885df68af441a56cdac1](https://github.com/sagemath/sagetrac-mirror/commit/182c1fd756d75029e2d1885df68af441a56cdac1)" to "[e64ef1a6c7436dd515c1daf968fe00ed6d1f9f71](https://github.com/sagemath/sagetrac-mirror/commit/e64ef1a6c7436dd515c1daf968fe00ed6d1f9f71)".



---

archive/issue_comments_600291.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea182d7302b3d362bbd38b548cda65c86e3b6f66\">ea182d7</a></td><td><code>Copy changes from build/pkgs/sagelib/src to src</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1a10b9b524e63574bbf1de2c4ce6f149116f147\">a1a10b9</a></td><td><code>src/VERSION.txt: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5697335ed14c929adb01a3fafe95f82b79248918\">5697335</a></td><td><code>src/setup.cfg: Add license_file=LICENSE.txt</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/deb9eb3a33ee6474f755a9bee6f487d839c9d247\">deb9eb3</a></td><td><code>Merge tag '9.3.beta3' into t/30912/sagelib__update_metadata_for_pypi_deployment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ad4c0e6da58f8851cfbced0e9c1a66c9479f918\">7ad4c0e</a></td><td><code>Merge tag '9.3.beta4' into t/30912/sagelib__update_metadata_for_pypi_deployment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27b589baa864533f8a51ff8b46ae10735d09d62f\">27b589b</a></td><td><code>Merge branch 't/30912/sagelib__update_metadata_for_pypi_deployment' into t/31362/make_all_sage_local__make_all_sage_venv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8796008d4852679266b786d63fef2933f0619fa1\">8796008</a></td><td><code>Put pynac into SAGE_LOCAL, sagelib into SAGE_VENV</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6831b1b9657035e91afe6c8b47b32358f24497c\">d6831b1</a></td><td><code>build/make/Makefile.in: Add all-build-local, all-build-venv, which include dependency on toolchain</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61f6ba6ba917bc48a535470a5c781ccf57d94b06\">61f6ba6</a></td><td><code>Makefile: Add top-level targets build-local, build-venv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af2e1fb38eab589e47d3cfcf841054fb9edbd43d\">af2e1fb</a></td><td><code>Merge #31362</code></td></tr></table>\n",
    "created_at": "2021-03-04T23:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600291",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea182d7302b3d362bbd38b548cda65c86e3b6f66">ea182d7</a></td><td><code>Copy changes from build/pkgs/sagelib/src to src</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1a10b9b524e63574bbf1de2c4ce6f149116f147">a1a10b9</a></td><td><code>src/VERSION.txt: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5697335ed14c929adb01a3fafe95f82b79248918">5697335</a></td><td><code>src/setup.cfg: Add license_file=LICENSE.txt</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/deb9eb3a33ee6474f755a9bee6f487d839c9d247">deb9eb3</a></td><td><code>Merge tag '9.3.beta3' into t/30912/sagelib__update_metadata_for_pypi_deployment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ad4c0e6da58f8851cfbced0e9c1a66c9479f918">7ad4c0e</a></td><td><code>Merge tag '9.3.beta4' into t/30912/sagelib__update_metadata_for_pypi_deployment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27b589baa864533f8a51ff8b46ae10735d09d62f">27b589b</a></td><td><code>Merge branch 't/30912/sagelib__update_metadata_for_pypi_deployment' into t/31362/make_all_sage_local__make_all_sage_venv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8796008d4852679266b786d63fef2933f0619fa1">8796008</a></td><td><code>Put pynac into SAGE_LOCAL, sagelib into SAGE_VENV</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6831b1b9657035e91afe6c8b47b32358f24497c">d6831b1</a></td><td><code>build/make/Makefile.in: Add all-build-local, all-build-venv, which include dependency on toolchain</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61f6ba6ba917bc48a535470a5c781ccf57d94b06">61f6ba6</a></td><td><code>Makefile: Add top-level targets build-local, build-venv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af2e1fb38eab589e47d3cfcf841054fb9edbd43d">af2e1fb</a></td><td><code>Merge #31362</code></td></tr></table>




---

archive/issue_comments_600292.json:
```json
{
    "body": "**Changing commit** from \"[e64ef1a6c7436dd515c1daf968fe00ed6d1f9f71](https://github.com/sagemath/sagetrac-mirror/commit/e64ef1a6c7436dd515c1daf968fe00ed6d1f9f71)\" to \"[af2e1fb38eab589e47d3cfcf841054fb9edbd43d](https://github.com/sagemath/sagetrac-mirror/commit/af2e1fb38eab589e47d3cfcf841054fb9edbd43d)\".",
    "created_at": "2021-03-04T23:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600292",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e64ef1a6c7436dd515c1daf968fe00ed6d1f9f71](https://github.com/sagemath/sagetrac-mirror/commit/e64ef1a6c7436dd515c1daf968fe00ed6d1f9f71)" to "[af2e1fb38eab589e47d3cfcf841054fb9edbd43d](https://github.com/sagemath/sagetrac-mirror/commit/af2e1fb38eab589e47d3cfcf841054fb9edbd43d)".



---

archive/issue_comments_600293.json:
```json
{
    "body": "**Changing dependencies** from \"#29363\" to \"#31362\".",
    "created_at": "2021-03-04T23:04:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600293",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#29363" to "#31362".



---

archive/issue_comments_600294.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2021-03-04T23:09:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600294",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_600295.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/340fbb719da34088eaa3e534a62795121431bdff\">340fbb7</a></td><td><code>bootstrap: Emit SAGE_SPKG_ENABLE calls for standard packages</code></td></tr></table>\n",
    "created_at": "2021-03-05T00:34:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600295",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/340fbb719da34088eaa3e534a62795121431bdff">340fbb7</a></td><td><code>bootstrap: Emit SAGE_SPKG_ENABLE calls for standard packages</code></td></tr></table>




---

archive/issue_comments_600296.json:
```json
{
    "body": "**Changing commit** from \"[af2e1fb38eab589e47d3cfcf841054fb9edbd43d](https://github.com/sagemath/sagetrac-mirror/commit/af2e1fb38eab589e47d3cfcf841054fb9edbd43d)\" to \"[340fbb719da34088eaa3e534a62795121431bdff](https://github.com/sagemath/sagetrac-mirror/commit/340fbb719da34088eaa3e534a62795121431bdff)\".",
    "created_at": "2021-03-05T00:34:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600296",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[af2e1fb38eab589e47d3cfcf841054fb9edbd43d](https://github.com/sagemath/sagetrac-mirror/commit/af2e1fb38eab589e47d3cfcf841054fb9edbd43d)" to "[340fbb719da34088eaa3e534a62795121431bdff](https://github.com/sagemath/sagetrac-mirror/commit/340fbb719da34088eaa3e534a62795121431bdff)".



---

archive/issue_comments_600297.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47e83d8a2a77b94ef254ea8810ca5ba4be7cccde\">47e83d8</a></td><td><code>Move computation of SAGE_OPTIONAL_{INSTALLED,CLEANED}_PACKAGES to sage_spkg_collect.m4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/affcad3ffdb76f7c240c8f07c98415832d9da806\">affcad3</a></td><td><code>bootstrap: Emit initialization of SAGE_ENABLE_... variables for all packages; do not call SAGE_SPKG_ENABLE for standard packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f89c5066ef17fd1b1e35dd26a711d8781fdabf1e\">f89c506</a></td><td><code>build/make/Makefile.in: Restore variable OPTIONAL_INSTALLED_PACKAGES</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50262a4cba507052b99932813018f291183db856\">50262a4</a></td><td><code>Include short package description in help string for configure --enable-SPKG, improve formatting</code></td></tr></table>\n",
    "created_at": "2021-03-05T03:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600297",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47e83d8a2a77b94ef254ea8810ca5ba4be7cccde">47e83d8</a></td><td><code>Move computation of SAGE_OPTIONAL_{INSTALLED,CLEANED}_PACKAGES to sage_spkg_collect.m4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/affcad3ffdb76f7c240c8f07c98415832d9da806">affcad3</a></td><td><code>bootstrap: Emit initialization of SAGE_ENABLE_... variables for all packages; do not call SAGE_SPKG_ENABLE for standard packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f89c5066ef17fd1b1e35dd26a711d8781fdabf1e">f89c506</a></td><td><code>build/make/Makefile.in: Restore variable OPTIONAL_INSTALLED_PACKAGES</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50262a4cba507052b99932813018f291183db856">50262a4</a></td><td><code>Include short package description in help string for configure --enable-SPKG, improve formatting</code></td></tr></table>




---

archive/issue_comments_600298.json:
```json
{
    "body": "**Changing commit** from \"[340fbb719da34088eaa3e534a62795121431bdff](https://github.com/sagemath/sagetrac-mirror/commit/340fbb719da34088eaa3e534a62795121431bdff)\" to \"[50262a4cba507052b99932813018f291183db856](https://github.com/sagemath/sagetrac-mirror/commit/50262a4cba507052b99932813018f291183db856)\".",
    "created_at": "2021-03-05T03:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600298",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[340fbb719da34088eaa3e534a62795121431bdff](https://github.com/sagemath/sagetrac-mirror/commit/340fbb719da34088eaa3e534a62795121431bdff)" to "[50262a4cba507052b99932813018f291183db856](https://github.com/sagemath/sagetrac-mirror/commit/50262a4cba507052b99932813018f291183db856)".



---

archive/issue_comments_600299.json:
```json
{
    "body": "**Changing commit** from \"[50262a4cba507052b99932813018f291183db856](https://github.com/sagemath/sagetrac-mirror/commit/50262a4cba507052b99932813018f291183db856)\" to \"[7e22ff01285b337468802f5af6a45f125db02ac0](https://github.com/sagemath/sagetrac-mirror/commit/7e22ff01285b337468802f5af6a45f125db02ac0)\".",
    "created_at": "2021-03-07T21:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600299",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[50262a4cba507052b99932813018f291183db856](https://github.com/sagemath/sagetrac-mirror/commit/50262a4cba507052b99932813018f291183db856)" to "[7e22ff01285b337468802f5af6a45f125db02ac0](https://github.com/sagemath/sagetrac-mirror/commit/7e22ff01285b337468802f5af6a45f125db02ac0)".



---

archive/issue_comments_600300.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8397c74f685eb0f51d791e862230de11903f894f\">8397c74</a></td><td><code>Include short package description in help string for configure --enable-SPKG, improve formatting</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e22ff01285b337468802f5af6a45f125db02ac0\">7e22ff0</a></td><td><code>WIP</code></td></tr></table>\n",
    "created_at": "2021-03-07T21:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600300",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8397c74f685eb0f51d791e862230de11903f894f">8397c74</a></td><td><code>Include short package description in help string for configure --enable-SPKG, improve formatting</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e22ff01285b337468802f5af6a45f125db02ac0">7e22ff0</a></td><td><code>WIP</code></td></tr></table>




---

archive/issue_comments_600301.json:
```json
{
    "body": "**Changing commit** from \"[7e22ff01285b337468802f5af6a45f125db02ac0](https://github.com/sagemath/sagetrac-mirror/commit/7e22ff01285b337468802f5af6a45f125db02ac0)\" to \"[0a83740c1b3d12dc27a2e3807b7769e42906a2bf](https://github.com/sagemath/sagetrac-mirror/commit/0a83740c1b3d12dc27a2e3807b7769e42906a2bf)\".",
    "created_at": "2021-03-08T18:47:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600301",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7e22ff01285b337468802f5af6a45f125db02ac0](https://github.com/sagemath/sagetrac-mirror/commit/7e22ff01285b337468802f5af6a45f125db02ac0)" to "[0a83740c1b3d12dc27a2e3807b7769e42906a2bf](https://github.com/sagemath/sagetrac-mirror/commit/0a83740c1b3d12dc27a2e3807b7769e42906a2bf)".



---

archive/issue_comments_600302.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a83740c1b3d12dc27a2e3807b7769e42906a2bf\">0a83740</a></td><td><code>Initialize SAGE_ENABLE_... properly, add 'configure --disable-notebook'</code></td></tr></table>\n",
    "created_at": "2021-03-08T18:47:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600302",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a83740c1b3d12dc27a2e3807b7769e42906a2bf">0a83740</a></td><td><code>Initialize SAGE_ENABLE_... properly, add 'configure --disable-notebook'</code></td></tr></table>




---

archive/issue_comments_600303.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,11 @@\n-We add `configure --disable-SPKG` options to disable standard packages.  (They will still be installed if they appear as dependencies.)\n+We refactor the code in `sage_spkg_enable.m4` and `sage_spkg_collect.m4` so that it becomes possible to add `configure --disable-SPKG` options to disable standard packages. This also simplifies `build/make/Makefile.in` slightly because it no longer has to make a distinction between standard and optional packages.\n \n-`./configure --help` shows these options before the `--enable` options for optional/experimental packages; and the help string is deliberately brief.\n+We demonstrate this by adding one such option, `configure --disable-notebook`, which disables building the Jupyter `notebook` package ... and all of its exclusive dependencies.  This is useful for people who want to use the system Jupyter notebook -- the Jupyter kernel is still built and can be installed there.\n+\n+The new option appears before the `--enable...` options for optional packages.\n+\n+We also make the configure help a bit more informative and prettier.\n+\n \n ```\n $ ./configure --help\n@@ -16,30 +21,28 @@\n   --enable-download-from-upstream-url\n                           allow downloading packages from their upstream URL\n                           if they cannot be found on the Sage mirrors\n-  --disable-alabaster     disable standard package alabaster\n-  --disable-appnope       disable standard package appnope\n-  --disable-arb           disable standard package arb\n-  --disable-attrs         disable standard package attrs\n-  --disable-babel         disable standard package babel\n-  --disable-backcall      disable standard package backcall\n-...\n-  --disable-zeromq        disable standard package zeromq\n-  --disable-zipp          disable standard package zipp\n-  --disable-zlib          disable standard package zlib\n-  --disable-zn_poly       disable standard package zn_poly\n-  --disable-zope_interface\n-                          disable standard package zope_interface\n-  --enable-4ti2={no|if_installed|yes}\n-                          enable build and use of the optional package 4ti2\n-                          (default: \"if_installed\")\n-                          package information: ./sage -info 4ti2\n-  --disable-4ti2          disable build and uninstall if previously installed\n-                          by Sage in PREFIX; same as --enable-4ti2=no\n-  --enable-atlas={no|if_installed|yes}\n-                          enable build and use of the optional package atlas\n-                          (default: \"if_installed\")\n-                          package information: ./sage -info atlas\n+  --disable-notebook      disable build of the Jupyter notebook and related\n+                          packages\n+  --enable-4ti2={no|if_installed\u207d\u1d48\u1d49\u1da0\u1d43\u1d58\u02e1\u1d57\u207e|yes}\n+                          enable build and use of the optional package 4ti2: Algebraic, geometric\n+                          and combinatorial problems on linear spaces\n+                          * package info: ./sage -info 4ti2\n+  --disable-4ti2          disable build and uninstall if previously installed by Sage in PREFIX;\n+                          same as --enable-4ti2=no\n+  --enable-atlas={no|if_installed\u207d\u1d48\u1d49\u1da0\u1d43\u1d58\u02e1\u1d57\u207e|yes}\n+                          enable build and use of the optional package atlas: Automatically Tuned\n+                          Linear Algebra Software (BLAS implementation)\n+                          * package info: ./sage -info atlas\n+  --disable-atlas         disable build and uninstall if previously installed by Sage in PREFIX;\n+                          same as --enable-atlas=no\n+  --enable-awali={no|if_installed\u207d\u1d48\u1d49\u1da0\u1d43\u1d58\u02e1\u1d57\u207e|yes}\n+                          enable build and use of the experimental package awali: Computation of/with\n+                          finite state machines\n+                          * package info: ./sage -info awali\n+  --disable-awali         disable build and uninstall if previously installed by Sage in PREFIX;\n+                          same as --enable-awali=no\n ```\n \n \n-Needed for #30556 (packages that will not work without openssl), and probably will be helpful for testing modularized installs (#29864)\n+This is also preparation for #30556 (packages that will not work without openssl), and for testing modularized installs (#30778, #29864).\n+\n``````\n",
    "created_at": "2021-03-08T19:10:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600303",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,11 @@
-We add `configure --disable-SPKG` options to disable standard packages.  (They will still be installed if they appear as dependencies.)
+We refactor the code in `sage_spkg_enable.m4` and `sage_spkg_collect.m4` so that it becomes possible to add `configure --disable-SPKG` options to disable standard packages. This also simplifies `build/make/Makefile.in` slightly because it no longer has to make a distinction between standard and optional packages.
 
-`./configure --help` shows these options before the `--enable` options for optional/experimental packages; and the help string is deliberately brief.
+We demonstrate this by adding one such option, `configure --disable-notebook`, which disables building the Jupyter `notebook` package ... and all of its exclusive dependencies.  This is useful for people who want to use the system Jupyter notebook -- the Jupyter kernel is still built and can be installed there.
+
+The new option appears before the `--enable...` options for optional packages.
+
+We also make the configure help a bit more informative and prettier.
+
 
 ```
 $ ./configure --help
@@ -16,30 +21,28 @@
   --enable-download-from-upstream-url
                           allow downloading packages from their upstream URL
                           if they cannot be found on the Sage mirrors
-  --disable-alabaster     disable standard package alabaster
-  --disable-appnope       disable standard package appnope
-  --disable-arb           disable standard package arb
-  --disable-attrs         disable standard package attrs
-  --disable-babel         disable standard package babel
-  --disable-backcall      disable standard package backcall
-...
-  --disable-zeromq        disable standard package zeromq
-  --disable-zipp          disable standard package zipp
-  --disable-zlib          disable standard package zlib
-  --disable-zn_poly       disable standard package zn_poly
-  --disable-zope_interface
-                          disable standard package zope_interface
-  --enable-4ti2={no|if_installed|yes}
-                          enable build and use of the optional package 4ti2
-                          (default: "if_installed")
-                          package information: ./sage -info 4ti2
-  --disable-4ti2          disable build and uninstall if previously installed
-                          by Sage in PREFIX; same as --enable-4ti2=no
-  --enable-atlas={no|if_installed|yes}
-                          enable build and use of the optional package atlas
-                          (default: "if_installed")
-                          package information: ./sage -info atlas
+  --disable-notebook      disable build of the Jupyter notebook and related
+                          packages
+  --enable-4ti2={no|if_installed|yes}
+                          enable build and use of the optional package 4ti2: Algebraic, geometric
+                          and combinatorial problems on linear spaces
+                          * package info: ./sage -info 4ti2
+  --disable-4ti2          disable build and uninstall if previously installed by Sage in PREFIX;
+                          same as --enable-4ti2=no
+  --enable-atlas={no|if_installed|yes}
+                          enable build and use of the optional package atlas: Automatically Tuned
+                          Linear Algebra Software (BLAS implementation)
+                          * package info: ./sage -info atlas
+  --disable-atlas         disable build and uninstall if previously installed by Sage in PREFIX;
+                          same as --enable-atlas=no
+  --enable-awali={no|if_installed|yes}
+                          enable build and use of the experimental package awali: Computation of/with
+                          finite state machines
+                          * package info: ./sage -info awali
+  --disable-awali         disable build and uninstall if previously installed by Sage in PREFIX;
+                          same as --enable-awali=no
 ```
 
 
-Needed for #30556 (packages that will not work without openssl), and probably will be helpful for testing modularized installs (#29864)
+This is also preparation for #30556 (packages that will not work without openssl), and for testing modularized installs (#30778, #29864).
+
``````




---

archive/issue_events_088755.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "rename": {
        "from": "\"configure --disable-SPKG\" for standard packages",
        "to": "Add \"configure --disable-notebook\""
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30383#event-88755"
}
```



---

archive/issue_comments_600304.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2021-03-08T19:10:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600304",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_600305.json:
```json
{
    "body": "**Changing dependencies** from \"#31362\" to \"#31362, #31278\".",
    "created_at": "2021-03-08T19:10:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600305",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#31362" to "#31362, #31278".



---

archive/issue_comments_600306.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4146d88431c95035e75710f3dbb023f50b27cc6e\">4146d88</a></td><td><code>configure --disable-notebook: Do not disable widgetsnbextension</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a8035aaa86c5fe15bf046f2334c5442a8e411dbc\">a8035aa</a></td><td><code>build/pkgs/ipywidgets: Upgrade to 7.6.3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5141bc388f6834f68da8eb09bced2aa7c4641e83\">5141bc3</a></td><td><code>build/pkgs/widgetsnbextension: Patch out dependency on notebook (backport from widgetsnbextension-4)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fee837900ba415a41235c712a577a1ded79046ca\">fee8379</a></td><td><code>Merge #31278</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82d8030c3c71bb9e5503f77ae42484de47925381\">82d8030</a></td><td><code>m4/sage_spkg_enable.m4: Cosmetic change to help strings</code></td></tr></table>\n",
    "created_at": "2021-03-08T19:10:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600306",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4146d88431c95035e75710f3dbb023f50b27cc6e">4146d88</a></td><td><code>configure --disable-notebook: Do not disable widgetsnbextension</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a8035aaa86c5fe15bf046f2334c5442a8e411dbc">a8035aa</a></td><td><code>build/pkgs/ipywidgets: Upgrade to 7.6.3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5141bc388f6834f68da8eb09bced2aa7c4641e83">5141bc3</a></td><td><code>build/pkgs/widgetsnbextension: Patch out dependency on notebook (backport from widgetsnbextension-4)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fee837900ba415a41235c712a577a1ded79046ca">fee8379</a></td><td><code>Merge #31278</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82d8030c3c71bb9e5503f77ae42484de47925381">82d8030</a></td><td><code>m4/sage_spkg_enable.m4: Cosmetic change to help strings</code></td></tr></table>




---

archive/issue_comments_600307.json:
```json
{
    "body": "**Changing commit** from \"[0a83740c1b3d12dc27a2e3807b7769e42906a2bf](https://github.com/sagemath/sagetrac-mirror/commit/0a83740c1b3d12dc27a2e3807b7769e42906a2bf)\" to \"[82d8030c3c71bb9e5503f77ae42484de47925381](https://github.com/sagemath/sagetrac-mirror/commit/82d8030c3c71bb9e5503f77ae42484de47925381)\".",
    "created_at": "2021-03-08T19:10:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600307",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0a83740c1b3d12dc27a2e3807b7769e42906a2bf](https://github.com/sagemath/sagetrac-mirror/commit/0a83740c1b3d12dc27a2e3807b7769e42906a2bf)" to "[82d8030c3c71bb9e5503f77ae42484de47925381](https://github.com/sagemath/sagetrac-mirror/commit/82d8030c3c71bb9e5503f77ae42484de47925381)".



---

archive/issue_comments_600308.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2021-03-08T19:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600308",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_600309.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e929982937143bae88f66917870d39979cc3551\">3e92998</a></td><td><code>configure --disable-notebook: Fix up what packages are disabled</code></td></tr></table>\n",
    "created_at": "2021-03-08T19:32:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600309",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e929982937143bae88f66917870d39979cc3551">3e92998</a></td><td><code>configure --disable-notebook: Fix up what packages are disabled</code></td></tr></table>




---

archive/issue_comments_600310.json:
```json
{
    "body": "**Changing commit** from \"[82d8030c3c71bb9e5503f77ae42484de47925381](https://github.com/sagemath/sagetrac-mirror/commit/82d8030c3c71bb9e5503f77ae42484de47925381)\" to \"[3e929982937143bae88f66917870d39979cc3551](https://github.com/sagemath/sagetrac-mirror/commit/3e929982937143bae88f66917870d39979cc3551)\".",
    "created_at": "2021-03-08T19:32:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600310",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[82d8030c3c71bb9e5503f77ae42484de47925381](https://github.com/sagemath/sagetrac-mirror/commit/82d8030c3c71bb9e5503f77ae42484de47925381)" to "[3e929982937143bae88f66917870d39979cc3551](https://github.com/sagemath/sagetrac-mirror/commit/3e929982937143bae88f66917870d39979cc3551)".



---

archive/issue_comments_600311.json:
```json
{
    "body": "<a id='comment:29'></a>\nThis version of the ticket no longer offers `--disable...` options for all standard packages, which was criticized previously.",
    "created_at": "2021-03-08T19:34:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600311",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>
This version of the ticket no longer offers `--disable...` options for all standard packages, which was criticized previously.



---

archive/issue_comments_600312.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2021-03-08T19:34:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600312",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_events_088756.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "rename": {
        "from": "Add \"configure --disable-notebook\"",
        "to": "Add \"configure --disable-notebook\"; show descriptions of optional packages in \"configure --help\""
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30383#event-88756"
}
```



---

archive/issue_comments_600313.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n \n The new option appears before the `--enable...` options for optional packages.\n \n-We also make the configure help a bit more informative and prettier.\n+We also make the configure help a bit more informative (by including the 1-line descriptions of the optional packages) and prettier.\n \n \n ```\n``````\n",
    "created_at": "2021-03-08T19:35:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600313",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 
 The new option appears before the `--enable...` options for optional packages.
 
-We also make the configure help a bit more informative and prettier.
+We also make the configure help a bit more informative (by including the 1-line descriptions of the optional packages) and prettier.
 
 
 ```
``````




---

archive/issue_comments_600314.json:
```json
{
    "body": "<a id='comment:31'></a>\nWhy the change to `matplotlib` dependencies? Also the change in line 66 of `m4/sage_spkg_configure.m4` renders very strangely (strange font for \"default\") when I click  on the branch [here for example](https://git.sagemath.org/sage.git/diff/m4/sage_spkg_configure.m4?id=4542f019b39fc0c582c88dd1d89bb46a0b199a84) or view the diff on my computer. Any ideas what that's about?",
    "created_at": "2021-03-10T21:28:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600314",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:31'></a>
Why the change to `matplotlib` dependencies? Also the change in line 66 of `m4/sage_spkg_configure.m4` renders very strangely (strange font for "default") when I click  on the branch [here for example](https://git.sagemath.org/sage.git/diff/m4/sage_spkg_configure.m4?id=4542f019b39fc0c582c88dd1d89bb46a0b199a84) or view the diff on my computer. Any ideas what that's about?



---

archive/issue_comments_600315.json:
```json
{
    "body": "**Changing commit** from \"[3e929982937143bae88f66917870d39979cc3551](https://github.com/sagemath/sagetrac-mirror/commit/3e929982937143bae88f66917870d39979cc3551)\" to \"[74a83fce03916650dd1574ee04c7f3a3dc6d5848](https://github.com/sagemath/sagetrac-mirror/commit/74a83fce03916650dd1574ee04c7f3a3dc6d5848)\".",
    "created_at": "2021-03-10T21:34:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600315",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3e929982937143bae88f66917870d39979cc3551](https://github.com/sagemath/sagetrac-mirror/commit/3e929982937143bae88f66917870d39979cc3551)" to "[74a83fce03916650dd1574ee04c7f3a3dc6d5848](https://github.com/sagemath/sagetrac-mirror/commit/74a83fce03916650dd1574ee04c7f3a3dc6d5848)".



---

archive/issue_comments_600316.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/74a83fce03916650dd1574ee04c7f3a3dc6d5848\">74a83fc</a></td><td><code>build/pkgs/matplotlib/dependencies: Undo removal of tornado</code></td></tr></table>\n",
    "created_at": "2021-03-10T21:34:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600316",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/74a83fce03916650dd1574ee04c7f3a3dc6d5848">74a83fc</a></td><td><code>build/pkgs/matplotlib/dependencies: Undo removal of tornado</code></td></tr></table>




---

archive/issue_comments_600317.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [jhpalmieri](#comment%3A31):\n> Why the change to `matplotlib` dependencies? \n\n\nThanks for catching this - I had thought I could get rid of `tornado` at some point but `jupyterlab_widgets` also needs it as a dependency, so that wouldn't help.",
    "created_at": "2021-03-10T21:36:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600317",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>
Replying to [jhpalmieri](#comment%3A31):
> Why the change to `matplotlib` dependencies? 


Thanks for catching this - I had thought I could get rid of `tornado` at some point but `jupyterlab_widgets` also needs it as a dependency, so that wouldn't help.



---

archive/issue_comments_600318.json:
```json
{
    "body": "<a id='comment:34'></a>\nReplying to [jhpalmieri](#comment%3A31):\n> the change in line 66 of `m4/sage_spkg_configure.m4` renders very strangely (strange font for \"default\") when I click  on the branch [here for example](https://git.sagemath.org/sage.git/diff/m4/sage_spkg_configure.m4?id=4542f019b39fc0c582c88dd1d89bb46a0b199a84) or view the diff on my computer. Any ideas what that's about?\n\n\nSorry, I was playing with Unicode superscripts. If it does not render nice, I can just go back to using ascii",
    "created_at": "2021-03-10T21:37:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600318",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'></a>
Replying to [jhpalmieri](#comment%3A31):
> the change in line 66 of `m4/sage_spkg_configure.m4` renders very strangely (strange font for "default") when I click  on the branch [here for example](https://git.sagemath.org/sage.git/diff/m4/sage_spkg_configure.m4?id=4542f019b39fc0c582c88dd1d89bb46a0b199a84) or view the diff on my computer. Any ideas what that's about?


Sorry, I was playing with Unicode superscripts. If it does not render nice, I can just go back to using ascii



---

archive/issue_comments_600319.json:
```json
{
    "body": "**Changing commit** from \"[74a83fce03916650dd1574ee04c7f3a3dc6d5848](https://github.com/sagemath/sagetrac-mirror/commit/74a83fce03916650dd1574ee04c7f3a3dc6d5848)\" to \"[93d31b9bfca2f961b490f83cbf51bfa154a9748c](https://github.com/sagemath/sagetrac-mirror/commit/93d31b9bfca2f961b490f83cbf51bfa154a9748c)\".",
    "created_at": "2021-03-10T21:50:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600319",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[74a83fce03916650dd1574ee04c7f3a3dc6d5848](https://github.com/sagemath/sagetrac-mirror/commit/74a83fce03916650dd1574ee04c7f3a3dc6d5848)" to "[93d31b9bfca2f961b490f83cbf51bfa154a9748c](https://github.com/sagemath/sagetrac-mirror/commit/93d31b9bfca2f961b490f83cbf51bfa154a9748c)".



---

archive/issue_comments_600320.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93d31b9bfca2f961b490f83cbf51bfa154a9748c\">93d31b9</a></td><td><code>Remove use of unicode superscripts in configure --help</code></td></tr></table>\n",
    "created_at": "2021-03-10T21:50:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600320",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93d31b9bfca2f961b490f83cbf51bfa154a9748c">93d31b9</a></td><td><code>Remove use of unicode superscripts in configure --help</code></td></tr></table>




---

archive/issue_comments_600321.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -23,19 +23,19 @@\n                           if they cannot be found on the Sage mirrors\n   --disable-notebook      disable build of the Jupyter notebook and related\n                           packages\n-  --enable-4ti2={no|if_installed\u207d\u1d48\u1d49\u1da0\u1d43\u1d58\u02e1\u1d57\u207e|yes}\n+  --enable-4ti2={no|if_installed (default)|yes}\n                           enable build and use of the optional package 4ti2: Algebraic, geometric\n                           and combinatorial problems on linear spaces\n                           * package info: ./sage -info 4ti2\n   --disable-4ti2          disable build and uninstall if previously installed by Sage in PREFIX;\n                           same as --enable-4ti2=no\n-  --enable-atlas={no|if_installed\u207d\u1d48\u1d49\u1da0\u1d43\u1d58\u02e1\u1d57\u207e|yes}\n+  --enable-atlas={no|if_installed (default)|yes}\n                           enable build and use of the optional package atlas: Automatically Tuned\n                           Linear Algebra Software (BLAS implementation)\n                           * package info: ./sage -info atlas\n   --disable-atlas         disable build and uninstall if previously installed by Sage in PREFIX;\n                           same as --enable-atlas=no\n-  --enable-awali={no|if_installed\u207d\u1d48\u1d49\u1da0\u1d43\u1d58\u02e1\u1d57\u207e|yes}\n+  --enable-awali={no|if_installed (default)|yes}\n                           enable build and use of the experimental package awali: Computation of/with\n                           finite state machines\n                           * package info: ./sage -info awali\n``````\n",
    "created_at": "2021-03-10T21:51:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600321",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -23,19 +23,19 @@
                           if they cannot be found on the Sage mirrors
   --disable-notebook      disable build of the Jupyter notebook and related
                           packages
-  --enable-4ti2={no|if_installed|yes}
+  --enable-4ti2={no|if_installed (default)|yes}
                           enable build and use of the optional package 4ti2: Algebraic, geometric
                           and combinatorial problems on linear spaces
                           * package info: ./sage -info 4ti2
   --disable-4ti2          disable build and uninstall if previously installed by Sage in PREFIX;
                           same as --enable-4ti2=no
-  --enable-atlas={no|if_installed|yes}
+  --enable-atlas={no|if_installed (default)|yes}
                           enable build and use of the optional package atlas: Automatically Tuned
                           Linear Algebra Software (BLAS implementation)
                           * package info: ./sage -info atlas
   --disable-atlas         disable build and uninstall if previously installed by Sage in PREFIX;
                           same as --enable-atlas=no
-  --enable-awali={no|if_installed|yes}
+  --enable-awali={no|if_installed (default)|yes}
                           enable build and use of the experimental package awali: Computation of/with
                           finite state machines
                           * package info: ./sage -info awali
``````




---

archive/issue_comments_600322.json:
```json
{
    "body": "<a id='comment:37'></a>\nTypo in the comments? In `m4/sage_spkg_collect.m4`, the descriptions for `SAGE_OPTIONAL_INSTALLED_PACKAGES` and `SAGE_OPTIONAL_CLEANED_PACKAGES` are the same. Should `installed` be changed to `uninstalled` as the last word in the description for the `CLEANED` version?\n\nConfiguring with `--disable-notebook` does indeed disable the notebook, as advertised. Sage builds, and so does the documentation. I was a little surprised that all doctests passed, too.\n\nI don't know the syntax well enough to be able to thoroughly review this, unfortunately. Anyone else?",
    "created_at": "2021-03-11T22:25:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600322",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:37'></a>
Typo in the comments? In `m4/sage_spkg_collect.m4`, the descriptions for `SAGE_OPTIONAL_INSTALLED_PACKAGES` and `SAGE_OPTIONAL_CLEANED_PACKAGES` are the same. Should `installed` be changed to `uninstalled` as the last word in the description for the `CLEANED` version?

Configuring with `--disable-notebook` does indeed disable the notebook, as advertised. Sage builds, and so does the documentation. I was a little surprised that all doctests passed, too.

I don't know the syntax well enough to be able to thoroughly review this, unfortunately. Anyone else?



---

archive/issue_comments_600323.json:
```json
{
    "body": "<a id='comment:38'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18fbb8598e362f048ebd8a83f963da5b0d9905f3\">18fbb85</a></td><td><code>m4/sage_spkg_collect.m4: Fix description of SAGE_OPTIONAL_CLEANED_PACKAGES</code></td></tr></table>\n",
    "created_at": "2021-03-11T22:28:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600323",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18fbb8598e362f048ebd8a83f963da5b0d9905f3">18fbb85</a></td><td><code>m4/sage_spkg_collect.m4: Fix description of SAGE_OPTIONAL_CLEANED_PACKAGES</code></td></tr></table>




---

archive/issue_comments_600324.json:
```json
{
    "body": "**Changing commit** from \"[93d31b9bfca2f961b490f83cbf51bfa154a9748c](https://github.com/sagemath/sagetrac-mirror/commit/93d31b9bfca2f961b490f83cbf51bfa154a9748c)\" to \"[18fbb8598e362f048ebd8a83f963da5b0d9905f3](https://github.com/sagemath/sagetrac-mirror/commit/18fbb8598e362f048ebd8a83f963da5b0d9905f3)\".",
    "created_at": "2021-03-11T22:28:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600324",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[93d31b9bfca2f961b490f83cbf51bfa154a9748c](https://github.com/sagemath/sagetrac-mirror/commit/93d31b9bfca2f961b490f83cbf51bfa154a9748c)" to "[18fbb8598e362f048ebd8a83f963da5b0d9905f3](https://github.com/sagemath/sagetrac-mirror/commit/18fbb8598e362f048ebd8a83f963da5b0d9905f3)".



---

archive/issue_comments_600325.json:
```json
{
    "body": "<a id='comment:39'></a>\nReplying to [jhpalmieri](#comment%3A37):\n> Configuring with `--disable-notebook` does indeed disable the notebook, as advertised. Sage builds, and so does the documentation. I was a little surprised that all doctests passed, too.\n\n\nThis is, in fact, a weakness in our doctest coverage. We have nothing at all that tests whether the Jupyter notebook works.",
    "created_at": "2021-03-11T22:29:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600325",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>
Replying to [jhpalmieri](#comment%3A37):
> Configuring with `--disable-notebook` does indeed disable the notebook, as advertised. Sage builds, and so does the documentation. I was a little surprised that all doctests passed, too.


This is, in fact, a weakness in our doctest coverage. We have nothing at all that tests whether the Jupyter notebook works.



---

archive/issue_comments_600326.json:
```json
{
    "body": "**Changing commit** from \"[18fbb8598e362f048ebd8a83f963da5b0d9905f3](https://github.com/sagemath/sagetrac-mirror/commit/18fbb8598e362f048ebd8a83f963da5b0d9905f3)\" to \"[c3e4093cd6ed304c271890f35f0075a2bacdf99a](https://github.com/sagemath/sagetrac-mirror/commit/c3e4093cd6ed304c271890f35f0075a2bacdf99a)\".",
    "created_at": "2021-03-11T22:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600326",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[18fbb8598e362f048ebd8a83f963da5b0d9905f3](https://github.com/sagemath/sagetrac-mirror/commit/18fbb8598e362f048ebd8a83f963da5b0d9905f3)" to "[c3e4093cd6ed304c271890f35f0075a2bacdf99a](https://github.com/sagemath/sagetrac-mirror/commit/c3e4093cd6ed304c271890f35f0075a2bacdf99a)".



---

archive/issue_comments_600327.json:
```json
{
    "body": "<a id='comment:40'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3e4093cd6ed304c271890f35f0075a2bacdf99a\">c3e4093</a></td><td><code>Rename SAGE_OPTIONAL_CLEANED_PACKAGES to SAGE_OPTIONAL_UNINSTALLED_PACKAGES</code></td></tr></table>\n",
    "created_at": "2021-03-11T22:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600327",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3e4093cd6ed304c271890f35f0075a2bacdf99a">c3e4093</a></td><td><code>Rename SAGE_OPTIONAL_CLEANED_PACKAGES to SAGE_OPTIONAL_UNINSTALLED_PACKAGES</code></td></tr></table>




---

archive/issue_comments_600328.json:
```json
{
    "body": "<a id='comment:42'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4916415408a58e4b715143e5c607972822055790\">4916415</a></td><td><code>Merge tag '9.3.beta9' into t/30383/new_package_type__optional_enabled_by_default</code></td></tr></table>\n",
    "created_at": "2021-03-15T00:03:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600328",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4916415408a58e4b715143e5c607972822055790">4916415</a></td><td><code>Merge tag '9.3.beta9' into t/30383/new_package_type__optional_enabled_by_default</code></td></tr></table>




---

archive/issue_comments_600329.json:
```json
{
    "body": "**Changing commit** from \"[c3e4093cd6ed304c271890f35f0075a2bacdf99a](https://github.com/sagemath/sagetrac-mirror/commit/c3e4093cd6ed304c271890f35f0075a2bacdf99a)\" to \"[4916415408a58e4b715143e5c607972822055790](https://github.com/sagemath/sagetrac-mirror/commit/4916415408a58e4b715143e5c607972822055790)\".",
    "created_at": "2021-03-15T00:03:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600329",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c3e4093cd6ed304c271890f35f0075a2bacdf99a](https://github.com/sagemath/sagetrac-mirror/commit/c3e4093cd6ed304c271890f35f0075a2bacdf99a)" to "[4916415408a58e4b715143e5c607972822055790](https://github.com/sagemath/sagetrac-mirror/commit/4916415408a58e4b715143e5c607972822055790)".



---

archive/issue_comments_600330.json:
```json
{
    "body": "**Changing dependencies** from \"#31362, #31278\" to \"\".",
    "created_at": "2021-03-15T00:04:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600330",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#31362, #31278" to "".



---

archive/issue_comments_600331.json:
```json
{
    "body": "<a id='comment:46'></a>\nReplying to [mkoeppe](#comment%3A39):\n> Replying to [jhpalmieri](#comment%3A37):\n> > Configuring with `--disable-notebook` does indeed disable the notebook, as advertised. Sage builds, and so does the documentation. I was a little surprised that all doctests passed, too.\n\n> \n> This is, in fact, a weakness in our doctest coverage. We have nothing at all that tests whether the Jupyter notebook works. \n\n\nMaybe related to the fact that you can't start the notebook once you are running Sage from the command line? With SageNB you could run `notebook()` from within Sage, but this is not possible any more, or at least not in an obvious way, or maybe it just hasn't been implemented by us.",
    "created_at": "2021-03-17T03:39:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600331",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:46'></a>
Replying to [mkoeppe](#comment%3A39):
> Replying to [jhpalmieri](#comment%3A37):
> > Configuring with `--disable-notebook` does indeed disable the notebook, as advertised. Sage builds, and so does the documentation. I was a little surprised that all doctests passed, too.

> 
> This is, in fact, a weakness in our doctest coverage. We have nothing at all that tests whether the Jupyter notebook works. 


Maybe related to the fact that you can't start the notebook once you are running Sage from the command line? With SageNB you could run `notebook()` from within Sage, but this is not possible any more, or at least not in an obvious way, or maybe it just hasn't been implemented by us.



---

archive/issue_comments_600332.json:
```json
{
    "body": "<a id='comment:47'></a>\nI think it's just that nobody has worked on writing such tests. I guess there must be technologies for automatically testing web apps but I don't know about them or if Jupyter already uses them.",
    "created_at": "2021-03-17T04:15:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600332",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:47'></a>
I think it's just that nobody has worked on writing such tests. I guess there must be technologies for automatically testing web apps but I don't know about them or if Jupyter already uses them.



---

archive/issue_comments_600333.json:
```json
{
    "body": "<a id='comment:48'></a>\nReplying to [jhpalmieri](#comment%3A46):\n> With SageNB you could run `notebook()` from within Sage, but this is not possible any more, or at least not in an obvious way\n\n\nThis is certainly a feature that I certainly could have used if it was available. Transforming an existing Python process to a Jupyter kernel just amounts to running `sage.repl.ipython_kernel.__main__`, I think.  But to my understanding no feature in the Jupyter notebook allows to connect to an existing running kernel.  I found some discussions in this direction, for example https://github.com/jupyter/help/issues/298, https://github.com/ipython/ipython/issues/4066",
    "created_at": "2021-03-17T04:39:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600333",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:48'></a>
Replying to [jhpalmieri](#comment%3A46):
> With SageNB you could run `notebook()` from within Sage, but this is not possible any more, or at least not in an obvious way


This is certainly a feature that I certainly could have used if it was available. Transforming an existing Python process to a Jupyter kernel just amounts to running `sage.repl.ipython_kernel.__main__`, I think.  But to my understanding no feature in the Jupyter notebook allows to connect to an existing running kernel.  I found some discussions in this direction, for example https://github.com/jupyter/help/issues/298, https://github.com/ipython/ipython/issues/4066



---

archive/issue_comments_600334.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2021-03-17T10:26:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600334",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_comments_600335.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2021-03-17T10:26:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600335",
    "user": "https://github.com/dimpase"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_600336.json:
```json
{
    "body": "<a id='comment:49'></a>\nthis looks good to go.",
    "created_at": "2021-03-17T10:26:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600336",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:49'></a>
this looks good to go.



---

archive/issue_comments_600337.json:
```json
{
    "body": "**Changing reviewer** from \"Dima Pasechnik\" to \"John Palmieri, Dima Pasechnik\".",
    "created_at": "2021-03-17T14:37:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600337",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "Dima Pasechnik" to "John Palmieri, Dima Pasechnik".



---

archive/issue_comments_600338.json:
```json
{
    "body": "<a id='comment:50'></a>\nThanks!",
    "created_at": "2021-03-17T14:37:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600338",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:50'></a>
Thanks!



---

archive/issue_comments_600339.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2021-03-20T15:27:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600339",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_events_088757.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-20T15:27:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30383#event-88757"
}
```



---

archive/issue_comments_600340.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/new_package_type__optional_enabled_by_default](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/new_package_type__optional_enabled_by_default)\" to \"[4916415408a58e4b715143e5c607972822055790](https://github.com/sagemath/sagetrac-mirror/commit/4916415408a58e4b715143e5c607972822055790)\".",
    "created_at": "2021-03-20T15:27:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30383#issuecomment-600340",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/new_package_type__optional_enabled_by_default](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/new_package_type__optional_enabled_by_default)" to "[4916415408a58e4b715143e5c607972822055790](https://github.com/sagemath/sagetrac-mirror/commit/4916415408a58e4b715143e5c607972822055790)".
