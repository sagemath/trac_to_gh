# Issue 30383: Add "configure --disable-notebook"; show descriptions of optional packages in "configure --help"

archive/issues_030146.json:
```json
{
    "assignees": [],
    "body": "We refactor the code in `sage_spkg_enable.m4` and `sage_spkg_collect.m4` so that it becomes possible to add `configure --disable-SPKG` options to disable standard packages. This also simplifies `build/make/Makefile.in` slightly because it no longer has to make a distinction between standard and optional packages.\n\nWe demonstrate this by adding one such option, `configure --disable-notebook`, which disables building the Jupyter `notebook` package ... and all of its exclusive dependencies.  This is useful for people who want to use the system Jupyter notebook -- the Jupyter kernel is still built and can be installed there.\n\nThe new option appears before the `--enable...` options for optional packages.\n\nWe also make the configure help a bit more informative (by including the 1-line descriptions of the optional packages) and prettier.\n\n\n```\n$ ./configure --help\n...\nOptional Features:\n  --disable-option-checking  ignore unrecognized --enable/--with options\n  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)\n  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]\n...\n  --enable-experimental-packages\n                          allow installing experimental packages (default: no\n                          = ask for user confirmation for each package)\n  --enable-download-from-upstream-url\n                          allow downloading packages from their upstream URL\n                          if they cannot be found on the Sage mirrors\n  --disable-notebook      disable build of the Jupyter notebook and related\n                          packages\n  --enable-4ti2={no|if_installed (default)|yes}\n                          enable build and use of the optional package 4ti2: Algebraic, geometric\n                          and combinatorial problems on linear spaces\n                          * package info: ./sage -info 4ti2\n  --disable-4ti2          disable build and uninstall if previously installed by Sage in PREFIX;\n                          same as --enable-4ti2=no\n  --enable-atlas={no|if_installed (default)|yes}\n                          enable build and use of the optional package atlas: Automatically Tuned\n                          Linear Algebra Software (BLAS implementation)\n                          * package info: ./sage -info atlas\n  --disable-atlas         disable build and uninstall if previously installed by Sage in PREFIX;\n                          same as --enable-atlas=no\n  --enable-awali={no|if_installed (default)|yes}\n                          enable build and use of the experimental package awali: Computation of/with\n                          finite state machines\n                          * package info: ./sage -info awali\n  --disable-awali         disable build and uninstall if previously installed by Sage in PREFIX;\n                          same as --enable-awali=no\n```\n\n\nThis is also preparation for #30556 (packages that will not work without openssl), and for testing modularized installs (#30778, #29864).\n\n\nCC:  @jhpalmieri @orlitzky @slel @seblabbe @dimpase @embray @kliem\n\nKeywords: **sd111**\n\nBranch/Commit: **[4916415](https://github.com/sagemath/sagetrac-mirror/commit/4916415408a58e4b715143e5c607972822055790)**\n\nReviewer: **John Palmieri, Dima Pasechnik**\n\nAuthor: **Matthias Koeppe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30383_\n\n",
    "closed_at": "2021-03-20T15:27:50Z",
    "created_at": "2020-08-17T18:17:19Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add \"configure --disable-notebook\"; show descriptions of optional packages in \"configure --help\"",
    "type": "issue",
    "updated_at": "2021-03-20T15:27:50Z",
    "url": "https://github.com/sagemath/sage/issues/30383",
    "user": "https://github.com/mkoeppe"
}
```
We refactor the code in `sage_spkg_enable.m4` and `sage_spkg_collect.m4` so that it becomes possible to add `configure --disable-SPKG` options to disable standard packages. This also simplifies `build/make/Makefile.in` slightly because it no longer has to make a distinction between standard and optional packages.

We demonstrate this by adding one such option, `configure --disable-notebook`, which disables building the Jupyter `notebook` package ... and all of its exclusive dependencies.  This is useful for people who want to use the system Jupyter notebook -- the Jupyter kernel is still built and can be installed there.

The new option appears before the `--enable...` options for optional packages.

We also make the configure help a bit more informative (by including the 1-line descriptions of the optional packages) and prettier.


```
$ ./configure --help
...
Optional Features:
  --disable-option-checking  ignore unrecognized --enable/--with options
  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
...
  --enable-experimental-packages
                          allow installing experimental packages (default: no
                          = ask for user confirmation for each package)
  --enable-download-from-upstream-url
                          allow downloading packages from their upstream URL
                          if they cannot be found on the Sage mirrors
  --disable-notebook      disable build of the Jupyter notebook and related
                          packages
  --enable-4ti2={no|if_installed (default)|yes}
                          enable build and use of the optional package 4ti2: Algebraic, geometric
                          and combinatorial problems on linear spaces
                          * package info: ./sage -info 4ti2
  --disable-4ti2          disable build and uninstall if previously installed by Sage in PREFIX;
                          same as --enable-4ti2=no
  --enable-atlas={no|if_installed (default)|yes}
                          enable build and use of the optional package atlas: Automatically Tuned
                          Linear Algebra Software (BLAS implementation)
                          * package info: ./sage -info atlas
  --disable-atlas         disable build and uninstall if previously installed by Sage in PREFIX;
                          same as --enable-atlas=no
  --enable-awali={no|if_installed (default)|yes}
                          enable build and use of the experimental package awali: Computation of/with
                          finite state machines
                          * package info: ./sage -info awali
  --disable-awali         disable build and uninstall if previously installed by Sage in PREFIX;
                          same as --enable-awali=no
```


This is also preparation for #30556 (packages that will not work without openssl), and for testing modularized installs (#30778, #29864).


CC:  @jhpalmieri @orlitzky @slel @seblabbe @dimpase @embray @kliem

Keywords: **sd111**

Branch/Commit: **[4916415](https://github.com/sagemath/sagetrac-mirror/commit/4916415408a58e4b715143e5c607972822055790)**

Reviewer: **John Palmieri, Dima Pasechnik**

Author: **Matthias Koeppe**

_Issue created by migration from https://trac.sagemath.org/ticket/30383_





---

archive/issue_events_400453.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-17T18:17:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400453"
}
```



---

archive/issue_events_400454.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-17T18:17:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400454"
}
```



---

archive/issue_events_400455.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-17T18:17:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400455"
}
```



---

archive/issue_events_400456.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-17T18:17:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400456"
}
```



---

archive/issue_comments_486561.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,5 @@\n Users can use `configure --disable-SPKG` to disable them.\n \n \n+\n+Needed for #30556\n``````\n",
    "created_at": "2020-09-13T19:55:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486561",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,5 @@
 Users can use `configure --disable-SPKG` to disable them.
 
 
+
+Needed for #30556
``````




---

archive/issue_comments_486562.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nSuggestions for a better name for this new package type are welcome",
    "created_at": "2020-09-13T19:59:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486562",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">Comment 3</div>

Suggestions for a better name for this new package type are welcome



---

archive/issue_comments_486563.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nAlternatively, we could also make it possible to disable any standard package.",
    "created_at": "2020-09-14T23:09:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486563",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">Comment 4</div>

Alternatively, we could also make it possible to disable any standard package.



---

archive/issue_events_400457.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-15T00:22:23Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "title_is": "\"configure --disable-SPKG\" for standard packages",
    "title_was": "New package type: optional-enabled-by-default",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400457"
}
```



---

archive/issue_comments_486564.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,9 +1,4 @@\n-These would be like \"optional\" packages, but enabled by default. \n-\n-Like \"standard\" packages, they would be included in the distribution built by `make dist`.\n-\n-Users can use `configure --disable-SPKG` to disable them.\n-\n+We add `configure --disable-SPKG` options to disable standard packages.  (They will still be installed if they appear as dependencies.)\n \n \n Needed for #30556\n``````\n",
    "created_at": "2020-09-15T00:22:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486564",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,9 +1,4 @@
-These would be like "optional" packages, but enabled by default. 
-
-Like "standard" packages, they would be included in the distribution built by `make dist`.
-
-Users can use `configure --disable-SPKG` to disable them.
-
+We add `configure --disable-SPKG` options to disable standard packages.  (They will still be installed if they appear as dependencies.)
 
 
 Needed for #30556
``````




---

archive/issue_comments_486565.json:
```json
{
    "body": "Dependencies: **#29363**",
    "created_at": "2020-09-15T00:23:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486565",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#29363**



---

archive/issue_comments_486566.json:
```json
{
    "body": "Branch: **[u/mkoeppe/new_package_type__optional_enabled_by_default](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/new_package_type__optional_enabled_by_default)**",
    "created_at": "2020-09-15T00:56:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486566",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/new_package_type__optional_enabled_by_default](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/new_package_type__optional_enabled_by_default)**



---

archive/issue_comments_486567.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c73460c136625d5471f18266590dd6c82e59855d\">c73460c</a></td><td><code>Add options 'configure --disable-SPKG' for standard packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22d7ae499b02a2e9ac80f6c1c42c8cee45f07866\">22d7ae4</a></td><td><code>m4/sage_spkg_*.m4: At the end of configure, indicate which optional/experimental packages are configured to be installed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd6c109a1e555f8b7bfa0f845c305f02d0878ee2\">bd6c109</a></td><td><code>Merge branch 't/29363/at_the_end_of_configure__indicate_which_optional_experimental_packages_are_configured_to_be_installed' into t/30383/new_package_type__optional_enabled_by_default</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c98700a0414b8ef56152749f3f74dd91adcadb5\">3c98700</a></td><td><code>Replace SAGE_STANDARD_PACKAGES by use of SAGE_OPTIONAL_INSTALLED_PACKAGES</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/182c1fd756d75029e2d1885df68af441a56cdac1\">182c1fd</a></td><td><code>m4/sage_spkg_collect.m4: Reduce verbosity by removing 'does not support check for system package'</code></td></tr></table>\n",
    "created_at": "2020-09-15T00:56:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486567",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">Comment 8</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c73460c136625d5471f18266590dd6c82e59855d">c73460c</a></td><td><code>Add options 'configure --disable-SPKG' for standard packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22d7ae499b02a2e9ac80f6c1c42c8cee45f07866">22d7ae4</a></td><td><code>m4/sage_spkg_*.m4: At the end of configure, indicate which optional/experimental packages are configured to be installed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd6c109a1e555f8b7bfa0f845c305f02d0878ee2">bd6c109</a></td><td><code>Merge branch 't/29363/at_the_end_of_configure__indicate_which_optional_experimental_packages_are_configured_to_be_installed' into t/30383/new_package_type__optional_enabled_by_default</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c98700a0414b8ef56152749f3f74dd91adcadb5">3c98700</a></td><td><code>Replace SAGE_STANDARD_PACKAGES by use of SAGE_OPTIONAL_INSTALLED_PACKAGES</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/182c1fd756d75029e2d1885df68af441a56cdac1">182c1fd</a></td><td><code>m4/sage_spkg_collect.m4: Reduce verbosity by removing 'does not support check for system package'</code></td></tr></table>




---

archive/issue_comments_486568.json:
```json
{
    "body": "Commit: **[182c1fd](https://github.com/sagemath/sagetrac-mirror/commit/182c1fd756d75029e2d1885df68af441a56cdac1)**",
    "created_at": "2020-09-15T00:56:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486568",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[182c1fd](https://github.com/sagemath/sagetrac-mirror/commit/182c1fd756d75029e2d1885df68af441a56cdac1)**



---

archive/issue_comments_486569.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-09-15T00:56:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486569",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_events_400458.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-15T01:11:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400458"
}
```



---

archive/issue_comments_486570.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,44 @@\n We add `configure --disable-SPKG` options to disable standard packages.  (They will still be installed if they appear as dependencies.)\n \n+`./configure --help` shows these options before the `--enable` options for optional/experimental packages; and the help string is deliberately brief.\n \n-Needed for #30556\n+```\n+$ ./configure --help\n+...\n+Optional Features:\n+  --disable-option-checking  ignore unrecognized --enable/--with options\n+  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)\n+  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]\n+  --enable-experimental-packages\n+                          allow installing experimental packages (default: no\n+                          = ask for user confirmation for each package)\n+  --enable-download-from-upstream-url\n+                          allow downloading packages from their upstream URL\n+                          if they cannot be found on the Sage mirrors\n+  --disable-alabaster     disable standard package alabaster\n+  --disable-appnope       disable standard package appnope\n+  --disable-arb           disable standard package arb\n+  --disable-attrs         disable standard package attrs\n+  --disable-babel         disable standard package babel\n+  --disable-backcall      disable standard package backcall\n+  ...\n+  --disable-zeromq        disable standard package zeromq\n+  --disable-zipp          disable standard package zipp\n+  --disable-zlib          disable standard package zlib\n+  --disable-zn_poly       disable standard package zn_poly\n+  --disable-zope_interface\n+                          disable standard package zope_interface\n+  --enable-4ti2={no|if_installed|yes}\n+                          enable build and use of the optional package 4ti2\n+                          (default: \"if_installed\")\n+                          package information: ./sage -info 4ti2\n+  --disable-4ti2          disable build and uninstall if previously installed\n+                          by Sage in PREFIX; same as --enable-4ti2=no\n+  --enable-atlas={no|if_installed|yes}\n+                          enable build and use of the optional package atlas\n+                          (default: \"if_installed\")\n+                          package information: ./sage -info atlas\n+```\n+\n+\n+Needed for #30556 (packages that will not work without openssl), and probably will be helpful for testing modularized installs (#29864)\n``````\n",
    "created_at": "2020-09-15T21:35:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486570",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,44 @@
 We add `configure --disable-SPKG` options to disable standard packages.  (They will still be installed if they appear as dependencies.)
 
+`./configure --help` shows these options before the `--enable` options for optional/experimental packages; and the help string is deliberately brief.
 
-Needed for #30556
+```
+$ ./configure --help
+...
+Optional Features:
+  --disable-option-checking  ignore unrecognized --enable/--with options
+  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
+  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
+  --enable-experimental-packages
+                          allow installing experimental packages (default: no
+                          = ask for user confirmation for each package)
+  --enable-download-from-upstream-url
+                          allow downloading packages from their upstream URL
+                          if they cannot be found on the Sage mirrors
+  --disable-alabaster     disable standard package alabaster
+  --disable-appnope       disable standard package appnope
+  --disable-arb           disable standard package arb
+  --disable-attrs         disable standard package attrs
+  --disable-babel         disable standard package babel
+  --disable-backcall      disable standard package backcall
+  ...
+  --disable-zeromq        disable standard package zeromq
+  --disable-zipp          disable standard package zipp
+  --disable-zlib          disable standard package zlib
+  --disable-zn_poly       disable standard package zn_poly
+  --disable-zope_interface
+                          disable standard package zope_interface
+  --enable-4ti2={no|if_installed|yes}
+                          enable build and use of the optional package 4ti2
+                          (default: "if_installed")
+                          package information: ./sage -info 4ti2
+  --disable-4ti2          disable build and uninstall if previously installed
+                          by Sage in PREFIX; same as --enable-4ti2=no
+  --enable-atlas={no|if_installed|yes}
+                          enable build and use of the optional package atlas
+                          (default: "if_installed")
+                          package information: ./sage -info atlas
+```
+
+
+Needed for #30556 (packages that will not work without openssl), and probably will be helpful for testing modularized installs (#29864)
``````




---

archive/issue_comments_486571.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,6 +9,7 @@\n   --disable-option-checking  ignore unrecognized --enable/--with options\n   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)\n   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]\n+...\n   --enable-experimental-packages\n                           allow installing experimental packages (default: no\n                           = ask for user confirmation for each package)\n@@ -21,7 +22,7 @@\n   --disable-attrs         disable standard package attrs\n   --disable-babel         disable standard package babel\n   --disable-backcall      disable standard package backcall\n-  ...\n+...\n   --disable-zeromq        disable standard package zeromq\n   --disable-zipp          disable standard package zipp\n   --disable-zlib          disable standard package zlib\n``````\n",
    "created_at": "2020-09-15T21:35:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486571",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,6 +9,7 @@
   --disable-option-checking  ignore unrecognized --enable/--with options
   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
+...
   --enable-experimental-packages
                           allow installing experimental packages (default: no
                           = ask for user confirmation for each package)
@@ -21,7 +22,7 @@
   --disable-attrs         disable standard package attrs
   --disable-babel         disable standard package babel
   --disable-backcall      disable standard package backcall
-  ...
+...
   --disable-zeromq        disable standard package zeromq
   --disable-zipp          disable standard package zipp
   --disable-zlib          disable standard package zlib
``````




---

archive/issue_comments_486572.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nDoesn't this create a bajillion ./configure options that basically do nothing (because the packages are dependencies), and another bajillion that cause sage to function improperly (test suite failures, etc.)?\n\nI think the original approach was more on-track, although I wouldn't have created a separate package type for it (we don't need to proliferate a new package type throughout the build system every time we tweak a bit of metadata). Instead I would have added an \"enabled by default\" (default: no) feature somewhere to the optional packages. Long-term, a way to control (and depend on) optional features is needed, but that's a much larger undertaking akin to USE flags in Gentoo.",
    "created_at": "2020-09-16T00:55:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486572",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:12" align="right">Comment 12</div>

Doesn't this create a bajillion ./configure options that basically do nothing (because the packages are dependencies), and another bajillion that cause sage to function improperly (test suite failures, etc.)?

I think the original approach was more on-track, although I wouldn't have created a separate package type for it (we don't need to proliferate a new package type throughout the build system every time we tweak a bit of metadata). Instead I would have added an "enabled by default" (default: no) feature somewhere to the optional packages. Long-term, a way to control (and depend on) optional features is needed, but that's a much larger undertaking akin to USE flags in Gentoo.



---

archive/issue_comments_486573.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nReplying to [@orlitzky](#comment%3A12):\n> Doesn't this create a bajillion ./configure options that basically do nothing (because the packages are dependencies), and another bajillion that cause sage to function improperly (test suite failures, etc.)?\n\nYes, a gazillion of \"advanced options\"",
    "created_at": "2020-09-16T00:56:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486573",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">Comment 13</div>

Replying to [@orlitzky](#comment%3A12):
> Doesn't this create a bajillion ./configure options that basically do nothing (because the packages are dependencies), and another bajillion that cause sage to function improperly (test suite failures, etc.)?

Yes, a gazillion of "advanced options"



---

archive/issue_comments_486574.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nMost \"standard\" packages are not really required in any strict sense other than passing doctests that test particular features. Making it possible to disable them gives users a remedy when the build fails on a system",
    "created_at": "2020-09-16T00:59:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486574",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">Comment 14</div>

Most "standard" packages are not really required in any strict sense other than passing doctests that test particular features. Making it possible to disable them gives users a remedy when the build fails on a system



---

archive/issue_comments_486575.json:
```json
{
    "body": "Changed keywords from none to **sd111**",
    "created_at": "2020-12-06T18:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486575",
    "user": "https://github.com/mkoeppe"
}
```

Changed keywords from none to **sd111**



---

archive/issue_comments_486576.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nHoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111",
    "created_at": "2020-12-06T18:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486576",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">Comment 15</div>

Hoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111



---

archive/issue_comments_486577.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e64ef1a6c7436dd515c1daf968fe00ed6d1f9f71\">e64ef1a</a></td><td><code>Merge tag '9.3.beta4' into t/30383/new_package_type__optional_enabled_by_default</code></td></tr></table>\n",
    "created_at": "2020-12-15T01:15:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486577",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16" align="right">Comment 16</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e64ef1a6c7436dd515c1daf968fe00ed6d1f9f71">e64ef1a</a></td><td><code>Merge tag '9.3.beta4' into t/30383/new_package_type__optional_enabled_by_default</code></td></tr></table>




---

archive/issue_comments_486578.json:
```json
{
    "body": "Changed commit from **[182c1fd](https://github.com/sagemath/sagetrac-mirror/commit/182c1fd756d75029e2d1885df68af441a56cdac1)** to **[e64ef1a](https://github.com/sagemath/sagetrac-mirror/commit/e64ef1a6c7436dd515c1daf968fe00ed6d1f9f71)**",
    "created_at": "2020-12-15T01:15:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486578",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[182c1fd](https://github.com/sagemath/sagetrac-mirror/commit/182c1fd756d75029e2d1885df68af441a56cdac1)** to **[e64ef1a](https://github.com/sagemath/sagetrac-mirror/commit/e64ef1a6c7436dd515c1daf968fe00ed6d1f9f71)**



---

archive/issue_comments_486579.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea182d7302b3d362bbd38b548cda65c86e3b6f66\">ea182d7</a></td><td><code>Copy changes from build/pkgs/sagelib/src to src</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1a10b9b524e63574bbf1de2c4ce6f149116f147\">a1a10b9</a></td><td><code>src/VERSION.txt: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5697335ed14c929adb01a3fafe95f82b79248918\">5697335</a></td><td><code>src/setup.cfg: Add license_file=LICENSE.txt</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/deb9eb3a33ee6474f755a9bee6f487d839c9d247\">deb9eb3</a></td><td><code>Merge tag '9.3.beta3' into t/30912/sagelib__update_metadata_for_pypi_deployment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ad4c0e6da58f8851cfbced0e9c1a66c9479f918\">7ad4c0e</a></td><td><code>Merge tag '9.3.beta4' into t/30912/sagelib__update_metadata_for_pypi_deployment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27b589baa864533f8a51ff8b46ae10735d09d62f\">27b589b</a></td><td><code>Merge branch 't/30912/sagelib__update_metadata_for_pypi_deployment' into t/31362/make_all_sage_local__make_all_sage_venv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8796008d4852679266b786d63fef2933f0619fa1\">8796008</a></td><td><code>Put pynac into SAGE_LOCAL, sagelib into SAGE_VENV</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6831b1b9657035e91afe6c8b47b32358f24497c\">d6831b1</a></td><td><code>build/make/Makefile.in: Add all-build-local, all-build-venv, which include dependency on toolchain</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61f6ba6ba917bc48a535470a5c781ccf57d94b06\">61f6ba6</a></td><td><code>Makefile: Add top-level targets build-local, build-venv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af2e1fb38eab589e47d3cfcf841054fb9edbd43d\">af2e1fb</a></td><td><code>Merge #31362</code></td></tr></table>\n",
    "created_at": "2021-03-04T23:03:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486579",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18" align="right">Comment 18</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea182d7302b3d362bbd38b548cda65c86e3b6f66">ea182d7</a></td><td><code>Copy changes from build/pkgs/sagelib/src to src</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1a10b9b524e63574bbf1de2c4ce6f149116f147">a1a10b9</a></td><td><code>src/VERSION.txt: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5697335ed14c929adb01a3fafe95f82b79248918">5697335</a></td><td><code>src/setup.cfg: Add license_file=LICENSE.txt</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/deb9eb3a33ee6474f755a9bee6f487d839c9d247">deb9eb3</a></td><td><code>Merge tag '9.3.beta3' into t/30912/sagelib__update_metadata_for_pypi_deployment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ad4c0e6da58f8851cfbced0e9c1a66c9479f918">7ad4c0e</a></td><td><code>Merge tag '9.3.beta4' into t/30912/sagelib__update_metadata_for_pypi_deployment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27b589baa864533f8a51ff8b46ae10735d09d62f">27b589b</a></td><td><code>Merge branch 't/30912/sagelib__update_metadata_for_pypi_deployment' into t/31362/make_all_sage_local__make_all_sage_venv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8796008d4852679266b786d63fef2933f0619fa1">8796008</a></td><td><code>Put pynac into SAGE_LOCAL, sagelib into SAGE_VENV</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6831b1b9657035e91afe6c8b47b32358f24497c">d6831b1</a></td><td><code>build/make/Makefile.in: Add all-build-local, all-build-venv, which include dependency on toolchain</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61f6ba6ba917bc48a535470a5c781ccf57d94b06">61f6ba6</a></td><td><code>Makefile: Add top-level targets build-local, build-venv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af2e1fb38eab589e47d3cfcf841054fb9edbd43d">af2e1fb</a></td><td><code>Merge #31362</code></td></tr></table>




---

archive/issue_comments_486580.json:
```json
{
    "body": "Changed commit from **[e64ef1a](https://github.com/sagemath/sagetrac-mirror/commit/e64ef1a6c7436dd515c1daf968fe00ed6d1f9f71)** to **[af2e1fb](https://github.com/sagemath/sagetrac-mirror/commit/af2e1fb38eab589e47d3cfcf841054fb9edbd43d)**",
    "created_at": "2021-03-04T23:03:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486580",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e64ef1a](https://github.com/sagemath/sagetrac-mirror/commit/e64ef1a6c7436dd515c1daf968fe00ed6d1f9f71)** to **[af2e1fb](https://github.com/sagemath/sagetrac-mirror/commit/af2e1fb38eab589e47d3cfcf841054fb9edbd43d)**



---

archive/issue_comments_486581.json:
```json
{
    "body": "Changed dependencies from **#29363** to **#31362**",
    "created_at": "2021-03-04T23:04:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486581",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29363** to **#31362**



---

archive/issue_events_400459.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-04T23:09:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400459"
}
```



---

archive/issue_events_400460.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-04T23:09:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400460"
}
```



---

archive/issue_comments_486582.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/340fbb719da34088eaa3e534a62795121431bdff\">340fbb7</a></td><td><code>bootstrap: Emit SAGE_SPKG_ENABLE calls for standard packages</code></td></tr></table>\n",
    "created_at": "2021-03-05T00:34:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486582",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21" align="right">Comment 21</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/340fbb719da34088eaa3e534a62795121431bdff">340fbb7</a></td><td><code>bootstrap: Emit SAGE_SPKG_ENABLE calls for standard packages</code></td></tr></table>




---

archive/issue_comments_486583.json:
```json
{
    "body": "Changed commit from **[af2e1fb](https://github.com/sagemath/sagetrac-mirror/commit/af2e1fb38eab589e47d3cfcf841054fb9edbd43d)** to **[340fbb7](https://github.com/sagemath/sagetrac-mirror/commit/340fbb719da34088eaa3e534a62795121431bdff)**",
    "created_at": "2021-03-05T00:34:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486583",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[af2e1fb](https://github.com/sagemath/sagetrac-mirror/commit/af2e1fb38eab589e47d3cfcf841054fb9edbd43d)** to **[340fbb7](https://github.com/sagemath/sagetrac-mirror/commit/340fbb719da34088eaa3e534a62795121431bdff)**



---

archive/issue_comments_486584.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47e83d8a2a77b94ef254ea8810ca5ba4be7cccde\">47e83d8</a></td><td><code>Move computation of SAGE_OPTIONAL_{INSTALLED,CLEANED}_PACKAGES to sage_spkg_collect.m4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/affcad3ffdb76f7c240c8f07c98415832d9da806\">affcad3</a></td><td><code>bootstrap: Emit initialization of SAGE_ENABLE_... variables for all packages; do not call SAGE_SPKG_ENABLE for standard packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f89c5066ef17fd1b1e35dd26a711d8781fdabf1e\">f89c506</a></td><td><code>build/make/Makefile.in: Restore variable OPTIONAL_INSTALLED_PACKAGES</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50262a4cba507052b99932813018f291183db856\">50262a4</a></td><td><code>Include short package description in help string for configure --enable-SPKG, improve formatting</code></td></tr></table>\n",
    "created_at": "2021-03-05T03:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486584",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22" align="right">Comment 22</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47e83d8a2a77b94ef254ea8810ca5ba4be7cccde">47e83d8</a></td><td><code>Move computation of SAGE_OPTIONAL_{INSTALLED,CLEANED}_PACKAGES to sage_spkg_collect.m4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/affcad3ffdb76f7c240c8f07c98415832d9da806">affcad3</a></td><td><code>bootstrap: Emit initialization of SAGE_ENABLE_... variables for all packages; do not call SAGE_SPKG_ENABLE for standard packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f89c5066ef17fd1b1e35dd26a711d8781fdabf1e">f89c506</a></td><td><code>build/make/Makefile.in: Restore variable OPTIONAL_INSTALLED_PACKAGES</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50262a4cba507052b99932813018f291183db856">50262a4</a></td><td><code>Include short package description in help string for configure --enable-SPKG, improve formatting</code></td></tr></table>




---

archive/issue_comments_486585.json:
```json
{
    "body": "Changed commit from **[340fbb7](https://github.com/sagemath/sagetrac-mirror/commit/340fbb719da34088eaa3e534a62795121431bdff)** to **[50262a4](https://github.com/sagemath/sagetrac-mirror/commit/50262a4cba507052b99932813018f291183db856)**",
    "created_at": "2021-03-05T03:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486585",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[340fbb7](https://github.com/sagemath/sagetrac-mirror/commit/340fbb719da34088eaa3e534a62795121431bdff)** to **[50262a4](https://github.com/sagemath/sagetrac-mirror/commit/50262a4cba507052b99932813018f291183db856)**



---

archive/issue_comments_486586.json:
```json
{
    "body": "Changed commit from **[50262a4](https://github.com/sagemath/sagetrac-mirror/commit/50262a4cba507052b99932813018f291183db856)** to **[7e22ff0](https://github.com/sagemath/sagetrac-mirror/commit/7e22ff01285b337468802f5af6a45f125db02ac0)**",
    "created_at": "2021-03-07T21:02:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486586",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[50262a4](https://github.com/sagemath/sagetrac-mirror/commit/50262a4cba507052b99932813018f291183db856)** to **[7e22ff0](https://github.com/sagemath/sagetrac-mirror/commit/7e22ff01285b337468802f5af6a45f125db02ac0)**



---

archive/issue_comments_486587.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8397c74f685eb0f51d791e862230de11903f894f\">8397c74</a></td><td><code>Include short package description in help string for configure --enable-SPKG, improve formatting</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e22ff01285b337468802f5af6a45f125db02ac0\">7e22ff0</a></td><td><code>WIP</code></td></tr></table>\n",
    "created_at": "2021-03-07T21:02:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486587",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23" align="right">Comment 23</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8397c74f685eb0f51d791e862230de11903f894f">8397c74</a></td><td><code>Include short package description in help string for configure --enable-SPKG, improve formatting</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e22ff01285b337468802f5af6a45f125db02ac0">7e22ff0</a></td><td><code>WIP</code></td></tr></table>




---

archive/issue_comments_486588.json:
```json
{
    "body": "Changed commit from **[7e22ff0](https://github.com/sagemath/sagetrac-mirror/commit/7e22ff01285b337468802f5af6a45f125db02ac0)** to **[0a83740](https://github.com/sagemath/sagetrac-mirror/commit/0a83740c1b3d12dc27a2e3807b7769e42906a2bf)**",
    "created_at": "2021-03-08T18:47:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486588",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7e22ff0](https://github.com/sagemath/sagetrac-mirror/commit/7e22ff01285b337468802f5af6a45f125db02ac0)** to **[0a83740](https://github.com/sagemath/sagetrac-mirror/commit/0a83740c1b3d12dc27a2e3807b7769e42906a2bf)**



---

archive/issue_comments_486589.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a83740c1b3d12dc27a2e3807b7769e42906a2bf\">0a83740</a></td><td><code>Initialize SAGE_ENABLE_... properly, add 'configure --disable-notebook'</code></td></tr></table>\n",
    "created_at": "2021-03-08T18:47:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486589",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24" align="right">Comment 24</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a83740c1b3d12dc27a2e3807b7769e42906a2bf">0a83740</a></td><td><code>Initialize SAGE_ENABLE_... properly, add 'configure --disable-notebook'</code></td></tr></table>




---

archive/issue_comments_486590.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,11 @@\n-We add `configure --disable-SPKG` options to disable standard packages.  (They will still be installed if they appear as dependencies.)\n+We refactor the code in `sage_spkg_enable.m4` and `sage_spkg_collect.m4` so that it becomes possible to add `configure --disable-SPKG` options to disable standard packages. This also simplifies `build/make/Makefile.in` slightly because it no longer has to make a distinction between standard and optional packages.\n \n-`./configure --help` shows these options before the `--enable` options for optional/experimental packages; and the help string is deliberately brief.\n+We demonstrate this by adding one such option, `configure --disable-notebook`, which disables building the Jupyter `notebook` package ... and all of its exclusive dependencies.  This is useful for people who want to use the system Jupyter notebook -- the Jupyter kernel is still built and can be installed there.\n+\n+The new option appears before the `--enable...` options for optional packages.\n+\n+We also make the configure help a bit more informative and prettier.\n+\n \n ```\n $ ./configure --help\n@@ -16,30 +21,28 @@\n   --enable-download-from-upstream-url\n                           allow downloading packages from their upstream URL\n                           if they cannot be found on the Sage mirrors\n-  --disable-alabaster     disable standard package alabaster\n-  --disable-appnope       disable standard package appnope\n-  --disable-arb           disable standard package arb\n-  --disable-attrs         disable standard package attrs\n-  --disable-babel         disable standard package babel\n-  --disable-backcall      disable standard package backcall\n-...\n-  --disable-zeromq        disable standard package zeromq\n-  --disable-zipp          disable standard package zipp\n-  --disable-zlib          disable standard package zlib\n-  --disable-zn_poly       disable standard package zn_poly\n-  --disable-zope_interface\n-                          disable standard package zope_interface\n-  --enable-4ti2={no|if_installed|yes}\n-                          enable build and use of the optional package 4ti2\n-                          (default: \"if_installed\")\n-                          package information: ./sage -info 4ti2\n-  --disable-4ti2          disable build and uninstall if previously installed\n-                          by Sage in PREFIX; same as --enable-4ti2=no\n-  --enable-atlas={no|if_installed|yes}\n-                          enable build and use of the optional package atlas\n-                          (default: \"if_installed\")\n-                          package information: ./sage -info atlas\n+  --disable-notebook      disable build of the Jupyter notebook and related\n+                          packages\n+  --enable-4ti2={no|if_installed\u207d\u1d48\u1d49\u1da0\u1d43\u1d58\u02e1\u1d57\u207e|yes}\n+                          enable build and use of the optional package 4ti2: Algebraic, geometric\n+                          and combinatorial problems on linear spaces\n+                          * package info: ./sage -info 4ti2\n+  --disable-4ti2          disable build and uninstall if previously installed by Sage in PREFIX;\n+                          same as --enable-4ti2=no\n+  --enable-atlas={no|if_installed\u207d\u1d48\u1d49\u1da0\u1d43\u1d58\u02e1\u1d57\u207e|yes}\n+                          enable build and use of the optional package atlas: Automatically Tuned\n+                          Linear Algebra Software (BLAS implementation)\n+                          * package info: ./sage -info atlas\n+  --disable-atlas         disable build and uninstall if previously installed by Sage in PREFIX;\n+                          same as --enable-atlas=no\n+  --enable-awali={no|if_installed\u207d\u1d48\u1d49\u1da0\u1d43\u1d58\u02e1\u1d57\u207e|yes}\n+                          enable build and use of the experimental package awali: Computation of/with\n+                          finite state machines\n+                          * package info: ./sage -info awali\n+  --disable-awali         disable build and uninstall if previously installed by Sage in PREFIX;\n+                          same as --enable-awali=no\n ```\n \n \n-Needed for #30556 (packages that will not work without openssl), and probably will be helpful for testing modularized installs (#29864)\n+This is also preparation for #30556 (packages that will not work without openssl), and for testing modularized installs (#30778, #29864).\n+\n``````\n",
    "created_at": "2021-03-08T19:10:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486590",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,11 @@
-We add `configure --disable-SPKG` options to disable standard packages.  (They will still be installed if they appear as dependencies.)
+We refactor the code in `sage_spkg_enable.m4` and `sage_spkg_collect.m4` so that it becomes possible to add `configure --disable-SPKG` options to disable standard packages. This also simplifies `build/make/Makefile.in` slightly because it no longer has to make a distinction between standard and optional packages.
 
-`./configure --help` shows these options before the `--enable` options for optional/experimental packages; and the help string is deliberately brief.
+We demonstrate this by adding one such option, `configure --disable-notebook`, which disables building the Jupyter `notebook` package ... and all of its exclusive dependencies.  This is useful for people who want to use the system Jupyter notebook -- the Jupyter kernel is still built and can be installed there.
+
+The new option appears before the `--enable...` options for optional packages.
+
+We also make the configure help a bit more informative and prettier.
+
 
 ```
 $ ./configure --help
@@ -16,30 +21,28 @@
   --enable-download-from-upstream-url
                           allow downloading packages from their upstream URL
                           if they cannot be found on the Sage mirrors
-  --disable-alabaster     disable standard package alabaster
-  --disable-appnope       disable standard package appnope
-  --disable-arb           disable standard package arb
-  --disable-attrs         disable standard package attrs
-  --disable-babel         disable standard package babel
-  --disable-backcall      disable standard package backcall
-...
-  --disable-zeromq        disable standard package zeromq
-  --disable-zipp          disable standard package zipp
-  --disable-zlib          disable standard package zlib
-  --disable-zn_poly       disable standard package zn_poly
-  --disable-zope_interface
-                          disable standard package zope_interface
-  --enable-4ti2={no|if_installed|yes}
-                          enable build and use of the optional package 4ti2
-                          (default: "if_installed")
-                          package information: ./sage -info 4ti2
-  --disable-4ti2          disable build and uninstall if previously installed
-                          by Sage in PREFIX; same as --enable-4ti2=no
-  --enable-atlas={no|if_installed|yes}
-                          enable build and use of the optional package atlas
-                          (default: "if_installed")
-                          package information: ./sage -info atlas
+  --disable-notebook      disable build of the Jupyter notebook and related
+                          packages
+  --enable-4ti2={no|if_installed⁽ᵈᵉᶠᵃᵘˡᵗ⁾|yes}
+                          enable build and use of the optional package 4ti2: Algebraic, geometric
+                          and combinatorial problems on linear spaces
+                          * package info: ./sage -info 4ti2
+  --disable-4ti2          disable build and uninstall if previously installed by Sage in PREFIX;
+                          same as --enable-4ti2=no
+  --enable-atlas={no|if_installed⁽ᵈᵉᶠᵃᵘˡᵗ⁾|yes}
+                          enable build and use of the optional package atlas: Automatically Tuned
+                          Linear Algebra Software (BLAS implementation)
+                          * package info: ./sage -info atlas
+  --disable-atlas         disable build and uninstall if previously installed by Sage in PREFIX;
+                          same as --enable-atlas=no
+  --enable-awali={no|if_installed⁽ᵈᵉᶠᵃᵘˡᵗ⁾|yes}
+                          enable build and use of the experimental package awali: Computation of/with
+                          finite state machines
+                          * package info: ./sage -info awali
+  --disable-awali         disable build and uninstall if previously installed by Sage in PREFIX;
+                          same as --enable-awali=no
 ```
 
 
-Needed for #30556 (packages that will not work without openssl), and probably will be helpful for testing modularized installs (#29864)
+This is also preparation for #30556 (packages that will not work without openssl), and for testing modularized installs (#30778, #29864).
+
``````




---

archive/issue_events_400461.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-08T19:10:00Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "title_is": "Add \"configure --disable-notebook\"",
    "title_was": "\"configure --disable-SPKG\" for standard packages",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400461"
}
```



---

archive/issue_events_400462.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-08T19:10:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400462"
}
```



---

archive/issue_events_400463.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-08T19:10:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400463"
}
```



---

archive/issue_comments_486591.json:
```json
{
    "body": "Changed dependencies from **#31362** to **#31362, #31278**",
    "created_at": "2021-03-08T19:10:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486591",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#31362** to **#31362, #31278**



---

archive/issue_comments_486592.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4146d88431c95035e75710f3dbb023f50b27cc6e\">4146d88</a></td><td><code>configure --disable-notebook: Do not disable widgetsnbextension</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a8035aaa86c5fe15bf046f2334c5442a8e411dbc\">a8035aa</a></td><td><code>build/pkgs/ipywidgets: Upgrade to 7.6.3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5141bc388f6834f68da8eb09bced2aa7c4641e83\">5141bc3</a></td><td><code>build/pkgs/widgetsnbextension: Patch out dependency on notebook (backport from widgetsnbextension-4)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fee837900ba415a41235c712a577a1ded79046ca\">fee8379</a></td><td><code>Merge #31278</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82d8030c3c71bb9e5503f77ae42484de47925381\">82d8030</a></td><td><code>m4/sage_spkg_enable.m4: Cosmetic change to help strings</code></td></tr></table>\n",
    "created_at": "2021-03-08T19:10:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486592",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26" align="right">Comment 26</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4146d88431c95035e75710f3dbb023f50b27cc6e">4146d88</a></td><td><code>configure --disable-notebook: Do not disable widgetsnbextension</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a8035aaa86c5fe15bf046f2334c5442a8e411dbc">a8035aa</a></td><td><code>build/pkgs/ipywidgets: Upgrade to 7.6.3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5141bc388f6834f68da8eb09bced2aa7c4641e83">5141bc3</a></td><td><code>build/pkgs/widgetsnbextension: Patch out dependency on notebook (backport from widgetsnbextension-4)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fee837900ba415a41235c712a577a1ded79046ca">fee8379</a></td><td><code>Merge #31278</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82d8030c3c71bb9e5503f77ae42484de47925381">82d8030</a></td><td><code>m4/sage_spkg_enable.m4: Cosmetic change to help strings</code></td></tr></table>




---

archive/issue_comments_486593.json:
```json
{
    "body": "Changed commit from **[0a83740](https://github.com/sagemath/sagetrac-mirror/commit/0a83740c1b3d12dc27a2e3807b7769e42906a2bf)** to **[82d8030](https://github.com/sagemath/sagetrac-mirror/commit/82d8030c3c71bb9e5503f77ae42484de47925381)**",
    "created_at": "2021-03-08T19:10:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486593",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0a83740](https://github.com/sagemath/sagetrac-mirror/commit/0a83740c1b3d12dc27a2e3807b7769e42906a2bf)** to **[82d8030](https://github.com/sagemath/sagetrac-mirror/commit/82d8030c3c71bb9e5503f77ae42484de47925381)**



---

archive/issue_events_400464.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-08T19:13:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400464"
}
```



---

archive/issue_events_400465.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-08T19:13:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400465"
}
```



---

archive/issue_comments_486594.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e929982937143bae88f66917870d39979cc3551\">3e92998</a></td><td><code>configure --disable-notebook: Fix up what packages are disabled</code></td></tr></table>\n",
    "created_at": "2021-03-08T19:32:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486594",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28" align="right">Comment 28</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e929982937143bae88f66917870d39979cc3551">3e92998</a></td><td><code>configure --disable-notebook: Fix up what packages are disabled</code></td></tr></table>




---

archive/issue_comments_486595.json:
```json
{
    "body": "Changed commit from **[82d8030](https://github.com/sagemath/sagetrac-mirror/commit/82d8030c3c71bb9e5503f77ae42484de47925381)** to **[3e92998](https://github.com/sagemath/sagetrac-mirror/commit/3e929982937143bae88f66917870d39979cc3551)**",
    "created_at": "2021-03-08T19:32:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486595",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[82d8030](https://github.com/sagemath/sagetrac-mirror/commit/82d8030c3c71bb9e5503f77ae42484de47925381)** to **[3e92998](https://github.com/sagemath/sagetrac-mirror/commit/3e929982937143bae88f66917870d39979cc3551)**



---

archive/issue_comments_486596.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nThis version of the ticket no longer offers `--disable...` options for all standard packages, which was criticized previously.",
    "created_at": "2021-03-08T19:34:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486596",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:29" align="right">Comment 29</div>

This version of the ticket no longer offers `--disable...` options for all standard packages, which was criticized previously.



---

archive/issue_events_400466.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-08T19:34:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400466"
}
```



---

archive/issue_events_400467.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-08T19:34:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400467"
}
```



---

archive/issue_events_400468.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-08T19:35:31Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "title_is": "Add \"configure --disable-notebook\"; show descriptions of optional packages in \"configure --help\"",
    "title_was": "Add \"configure --disable-notebook\"",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400468"
}
```



---

archive/issue_comments_486597.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n \n The new option appears before the `--enable...` options for optional packages.\n \n-We also make the configure help a bit more informative and prettier.\n+We also make the configure help a bit more informative (by including the 1-line descriptions of the optional packages) and prettier.\n \n \n ```\n``````\n",
    "created_at": "2021-03-08T19:35:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486597",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 
 The new option appears before the `--enable...` options for optional packages.
 
-We also make the configure help a bit more informative and prettier.
+We also make the configure help a bit more informative (by including the 1-line descriptions of the optional packages) and prettier.
 
 
 ```
``````




---

archive/issue_comments_486598.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nWhy the change to `matplotlib` dependencies? Also the change in line 66 of `m4/sage_spkg_configure.m4` renders very strangely (strange font for \"default\") when I click  on the branch [here for example](https://github.com/sagemath/sagetrac-mirror/blob/4542f019b39fc0c582c88dd1d89bb46a0b199a84/m4/sage_spkg_configure.m4) or view the diff on my computer. Any ideas what that's about?",
    "created_at": "2021-03-10T21:28:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486598",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:31" align="right">Comment 31</div>

Why the change to `matplotlib` dependencies? Also the change in line 66 of `m4/sage_spkg_configure.m4` renders very strangely (strange font for "default") when I click  on the branch [here for example](https://github.com/sagemath/sagetrac-mirror/blob/4542f019b39fc0c582c88dd1d89bb46a0b199a84/m4/sage_spkg_configure.m4) or view the diff on my computer. Any ideas what that's about?



---

archive/issue_comments_486599.json:
```json
{
    "body": "Changed commit from **[3e92998](https://github.com/sagemath/sagetrac-mirror/commit/3e929982937143bae88f66917870d39979cc3551)** to **[74a83fc](https://github.com/sagemath/sagetrac-mirror/commit/74a83fce03916650dd1574ee04c7f3a3dc6d5848)**",
    "created_at": "2021-03-10T21:34:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486599",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3e92998](https://github.com/sagemath/sagetrac-mirror/commit/3e929982937143bae88f66917870d39979cc3551)** to **[74a83fc](https://github.com/sagemath/sagetrac-mirror/commit/74a83fce03916650dd1574ee04c7f3a3dc6d5848)**



---

archive/issue_comments_486600.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/74a83fce03916650dd1574ee04c7f3a3dc6d5848\">74a83fc</a></td><td><code>build/pkgs/matplotlib/dependencies: Undo removal of tornado</code></td></tr></table>\n",
    "created_at": "2021-03-10T21:34:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486600",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32" align="right">Comment 32</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/74a83fce03916650dd1574ee04c7f3a3dc6d5848">74a83fc</a></td><td><code>build/pkgs/matplotlib/dependencies: Undo removal of tornado</code></td></tr></table>




---

archive/issue_comments_486601.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nReplying to [@jhpalmieri](#comment%3A31):\n> Why the change to `matplotlib` dependencies? \n\nThanks for catching this - I had thought I could get rid of `tornado` at some point but `jupyterlab_widgets` also needs it as a dependency, so that wouldn't help.",
    "created_at": "2021-03-10T21:36:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486601",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:33" align="right">Comment 33</div>

Replying to [@jhpalmieri](#comment%3A31):
> Why the change to `matplotlib` dependencies? 

Thanks for catching this - I had thought I could get rid of `tornado` at some point but `jupyterlab_widgets` also needs it as a dependency, so that wouldn't help.



---

archive/issue_comments_486602.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nReplying to [@jhpalmieri](#comment%3A31):\n> the change in line 66 of `m4/sage_spkg_configure.m4` renders very strangely (strange font for \"default\") when I click  on the branch [here for example](https://github.com/sagemath/sagetrac-mirror/blob/4542f019b39fc0c582c88dd1d89bb46a0b199a84/m4/sage_spkg_configure.m4) or view the diff on my computer. Any ideas what that's about?\n\nSorry, I was playing with Unicode superscripts. If it does not render nice, I can just go back to using ascii",
    "created_at": "2021-03-10T21:37:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486602",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:34" align="right">Comment 34</div>

Replying to [@jhpalmieri](#comment%3A31):
> the change in line 66 of `m4/sage_spkg_configure.m4` renders very strangely (strange font for "default") when I click  on the branch [here for example](https://github.com/sagemath/sagetrac-mirror/blob/4542f019b39fc0c582c88dd1d89bb46a0b199a84/m4/sage_spkg_configure.m4) or view the diff on my computer. Any ideas what that's about?

Sorry, I was playing with Unicode superscripts. If it does not render nice, I can just go back to using ascii



---

archive/issue_comments_486603.json:
```json
{
    "body": "Changed commit from **[74a83fc](https://github.com/sagemath/sagetrac-mirror/commit/74a83fce03916650dd1574ee04c7f3a3dc6d5848)** to **[93d31b9](https://github.com/sagemath/sagetrac-mirror/commit/93d31b9bfca2f961b490f83cbf51bfa154a9748c)**",
    "created_at": "2021-03-10T21:50:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486603",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[74a83fc](https://github.com/sagemath/sagetrac-mirror/commit/74a83fce03916650dd1574ee04c7f3a3dc6d5848)** to **[93d31b9](https://github.com/sagemath/sagetrac-mirror/commit/93d31b9bfca2f961b490f83cbf51bfa154a9748c)**



---

archive/issue_comments_486604.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93d31b9bfca2f961b490f83cbf51bfa154a9748c\">93d31b9</a></td><td><code>Remove use of unicode superscripts in configure --help</code></td></tr></table>\n",
    "created_at": "2021-03-10T21:50:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486604",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35" align="right">Comment 35</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93d31b9bfca2f961b490f83cbf51bfa154a9748c">93d31b9</a></td><td><code>Remove use of unicode superscripts in configure --help</code></td></tr></table>




---

archive/issue_comments_486605.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -23,19 +23,19 @@\n                           if they cannot be found on the Sage mirrors\n   --disable-notebook      disable build of the Jupyter notebook and related\n                           packages\n-  --enable-4ti2={no|if_installed\u207d\u1d48\u1d49\u1da0\u1d43\u1d58\u02e1\u1d57\u207e|yes}\n+  --enable-4ti2={no|if_installed (default)|yes}\n                           enable build and use of the optional package 4ti2: Algebraic, geometric\n                           and combinatorial problems on linear spaces\n                           * package info: ./sage -info 4ti2\n   --disable-4ti2          disable build and uninstall if previously installed by Sage in PREFIX;\n                           same as --enable-4ti2=no\n-  --enable-atlas={no|if_installed\u207d\u1d48\u1d49\u1da0\u1d43\u1d58\u02e1\u1d57\u207e|yes}\n+  --enable-atlas={no|if_installed (default)|yes}\n                           enable build and use of the optional package atlas: Automatically Tuned\n                           Linear Algebra Software (BLAS implementation)\n                           * package info: ./sage -info atlas\n   --disable-atlas         disable build and uninstall if previously installed by Sage in PREFIX;\n                           same as --enable-atlas=no\n-  --enable-awali={no|if_installed\u207d\u1d48\u1d49\u1da0\u1d43\u1d58\u02e1\u1d57\u207e|yes}\n+  --enable-awali={no|if_installed (default)|yes}\n                           enable build and use of the experimental package awali: Computation of/with\n                           finite state machines\n                           * package info: ./sage -info awali\n``````\n",
    "created_at": "2021-03-10T21:51:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486605",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -23,19 +23,19 @@
                           if they cannot be found on the Sage mirrors
   --disable-notebook      disable build of the Jupyter notebook and related
                           packages
-  --enable-4ti2={no|if_installed⁽ᵈᵉᶠᵃᵘˡᵗ⁾|yes}
+  --enable-4ti2={no|if_installed (default)|yes}
                           enable build and use of the optional package 4ti2: Algebraic, geometric
                           and combinatorial problems on linear spaces
                           * package info: ./sage -info 4ti2
   --disable-4ti2          disable build and uninstall if previously installed by Sage in PREFIX;
                           same as --enable-4ti2=no
-  --enable-atlas={no|if_installed⁽ᵈᵉᶠᵃᵘˡᵗ⁾|yes}
+  --enable-atlas={no|if_installed (default)|yes}
                           enable build and use of the optional package atlas: Automatically Tuned
                           Linear Algebra Software (BLAS implementation)
                           * package info: ./sage -info atlas
   --disable-atlas         disable build and uninstall if previously installed by Sage in PREFIX;
                           same as --enable-atlas=no
-  --enable-awali={no|if_installed⁽ᵈᵉᶠᵃᵘˡᵗ⁾|yes}
+  --enable-awali={no|if_installed (default)|yes}
                           enable build and use of the experimental package awali: Computation of/with
                           finite state machines
                           * package info: ./sage -info awali
``````




---

archive/issue_comments_486606.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nTypo in the comments? In `m4/sage_spkg_collect.m4`, the descriptions for `SAGE_OPTIONAL_INSTALLED_PACKAGES` and `SAGE_OPTIONAL_CLEANED_PACKAGES` are the same. Should `installed` be changed to `uninstalled` as the last word in the description for the `CLEANED` version?\n\nConfiguring with `--disable-notebook` does indeed disable the notebook, as advertised. Sage builds, and so does the documentation. I was a little surprised that all doctests passed, too.\n\nI don't know the syntax well enough to be able to thoroughly review this, unfortunately. Anyone else?",
    "created_at": "2021-03-11T22:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486606",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:37" align="right">Comment 37</div>

Typo in the comments? In `m4/sage_spkg_collect.m4`, the descriptions for `SAGE_OPTIONAL_INSTALLED_PACKAGES` and `SAGE_OPTIONAL_CLEANED_PACKAGES` are the same. Should `installed` be changed to `uninstalled` as the last word in the description for the `CLEANED` version?

Configuring with `--disable-notebook` does indeed disable the notebook, as advertised. Sage builds, and so does the documentation. I was a little surprised that all doctests passed, too.

I don't know the syntax well enough to be able to thoroughly review this, unfortunately. Anyone else?



---

archive/issue_comments_486607.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18fbb8598e362f048ebd8a83f963da5b0d9905f3\">18fbb85</a></td><td><code>m4/sage_spkg_collect.m4: Fix description of SAGE_OPTIONAL_CLEANED_PACKAGES</code></td></tr></table>\n",
    "created_at": "2021-03-11T22:28:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486607",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38" align="right">Comment 38</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18fbb8598e362f048ebd8a83f963da5b0d9905f3">18fbb85</a></td><td><code>m4/sage_spkg_collect.m4: Fix description of SAGE_OPTIONAL_CLEANED_PACKAGES</code></td></tr></table>




---

archive/issue_comments_486608.json:
```json
{
    "body": "Changed commit from **[93d31b9](https://github.com/sagemath/sagetrac-mirror/commit/93d31b9bfca2f961b490f83cbf51bfa154a9748c)** to **[18fbb85](https://github.com/sagemath/sagetrac-mirror/commit/18fbb8598e362f048ebd8a83f963da5b0d9905f3)**",
    "created_at": "2021-03-11T22:28:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486608",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[93d31b9](https://github.com/sagemath/sagetrac-mirror/commit/93d31b9bfca2f961b490f83cbf51bfa154a9748c)** to **[18fbb85](https://github.com/sagemath/sagetrac-mirror/commit/18fbb8598e362f048ebd8a83f963da5b0d9905f3)**



---

archive/issue_comments_486609.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nReplying to [@jhpalmieri](#comment%3A37):\n> Configuring with `--disable-notebook` does indeed disable the notebook, as advertised. Sage builds, and so does the documentation. I was a little surprised that all doctests passed, too.\n\nThis is, in fact, a weakness in our doctest coverage. We have nothing at all that tests whether the Jupyter notebook works.",
    "created_at": "2021-03-11T22:29:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486609",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:39" align="right">Comment 39</div>

Replying to [@jhpalmieri](#comment%3A37):
> Configuring with `--disable-notebook` does indeed disable the notebook, as advertised. Sage builds, and so does the documentation. I was a little surprised that all doctests passed, too.

This is, in fact, a weakness in our doctest coverage. We have nothing at all that tests whether the Jupyter notebook works.



---

archive/issue_comments_486610.json:
```json
{
    "body": "Changed commit from **[18fbb85](https://github.com/sagemath/sagetrac-mirror/commit/18fbb8598e362f048ebd8a83f963da5b0d9905f3)** to **[c3e4093](https://github.com/sagemath/sagetrac-mirror/commit/c3e4093cd6ed304c271890f35f0075a2bacdf99a)**",
    "created_at": "2021-03-11T22:31:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486610",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[18fbb85](https://github.com/sagemath/sagetrac-mirror/commit/18fbb8598e362f048ebd8a83f963da5b0d9905f3)** to **[c3e4093](https://github.com/sagemath/sagetrac-mirror/commit/c3e4093cd6ed304c271890f35f0075a2bacdf99a)**



---

archive/issue_comments_486611.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3e4093cd6ed304c271890f35f0075a2bacdf99a\">c3e4093</a></td><td><code>Rename SAGE_OPTIONAL_CLEANED_PACKAGES to SAGE_OPTIONAL_UNINSTALLED_PACKAGES</code></td></tr></table>\n",
    "created_at": "2021-03-11T22:31:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486611",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40" align="right">Comment 40</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3e4093cd6ed304c271890f35f0075a2bacdf99a">c3e4093</a></td><td><code>Rename SAGE_OPTIONAL_CLEANED_PACKAGES to SAGE_OPTIONAL_UNINSTALLED_PACKAGES</code></td></tr></table>




---

archive/issue_comments_486612.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4916415408a58e4b715143e5c607972822055790\">4916415</a></td><td><code>Merge tag '9.3.beta9' into t/30383/new_package_type__optional_enabled_by_default</code></td></tr></table>\n",
    "created_at": "2021-03-15T00:03:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486612",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42" align="right">Comment 42</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4916415408a58e4b715143e5c607972822055790">4916415</a></td><td><code>Merge tag '9.3.beta9' into t/30383/new_package_type__optional_enabled_by_default</code></td></tr></table>




---

archive/issue_comments_486613.json:
```json
{
    "body": "Changed commit from **[c3e4093](https://github.com/sagemath/sagetrac-mirror/commit/c3e4093cd6ed304c271890f35f0075a2bacdf99a)** to **[4916415](https://github.com/sagemath/sagetrac-mirror/commit/4916415408a58e4b715143e5c607972822055790)**",
    "created_at": "2021-03-15T00:03:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486613",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c3e4093](https://github.com/sagemath/sagetrac-mirror/commit/c3e4093cd6ed304c271890f35f0075a2bacdf99a)** to **[4916415](https://github.com/sagemath/sagetrac-mirror/commit/4916415408a58e4b715143e5c607972822055790)**



---

archive/issue_comments_486614.json:
```json
{
    "body": "Changed dependencies from **#31362, #31278** to none",
    "created_at": "2021-03-15T00:04:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486614",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#31362, #31278** to none



---

archive/issue_events_400469.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T00:04:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400469"
}
```



---

archive/issue_events_400470.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T00:04:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400470"
}
```



---

archive/issue_comments_486615.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">Comment 46</div>\n\nReplying to [@mkoeppe](#comment%3A39):\n> Replying to [@jhpalmieri](#comment%3A37):\n> > Configuring with `--disable-notebook` does indeed disable the notebook, as advertised. Sage builds, and so does the documentation. I was a little surprised that all doctests passed, too.\n\n> \n> This is, in fact, a weakness in our doctest coverage. We have nothing at all that tests whether the Jupyter notebook works. \n\nMaybe related to the fact that you can't start the notebook once you are running Sage from the command line? With SageNB you could run `notebook()` from within Sage, but this is not possible any more, or at least not in an obvious way, or maybe it just hasn't been implemented by us.",
    "created_at": "2021-03-17T03:39:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486615",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:46" align="right">Comment 46</div>

Replying to [@mkoeppe](#comment%3A39):
> Replying to [@jhpalmieri](#comment%3A37):
> > Configuring with `--disable-notebook` does indeed disable the notebook, as advertised. Sage builds, and so does the documentation. I was a little surprised that all doctests passed, too.

> 
> This is, in fact, a weakness in our doctest coverage. We have nothing at all that tests whether the Jupyter notebook works. 

Maybe related to the fact that you can't start the notebook once you are running Sage from the command line? With SageNB you could run `notebook()` from within Sage, but this is not possible any more, or at least not in an obvious way, or maybe it just hasn't been implemented by us.



---

archive/issue_comments_486616.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">Comment 47</div>\n\nI think it's just that nobody has worked on writing such tests. I guess there must be technologies for automatically testing web apps but I don't know about them or if Jupyter already uses them.",
    "created_at": "2021-03-17T04:15:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486616",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:47" align="right">Comment 47</div>

I think it's just that nobody has worked on writing such tests. I guess there must be technologies for automatically testing web apps but I don't know about them or if Jupyter already uses them.



---

archive/issue_comments_486617.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">Comment 48</div>\n\nReplying to [@jhpalmieri](#comment%3A46):\n> With SageNB you could run `notebook()` from within Sage, but this is not possible any more, or at least not in an obvious way\n\nThis is certainly a feature that I certainly could have used if it was available. Transforming an existing Python process to a Jupyter kernel just amounts to running `sage.repl.ipython_kernel.__main__`, I think.  But to my understanding no feature in the Jupyter notebook allows to connect to an existing running kernel.  I found some discussions in this direction, for example https://github.com/jupyter/help/issues/298, https://github.com/ipython/ipython/issues/4066",
    "created_at": "2021-03-17T04:39:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486617",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:48" align="right">Comment 48</div>

Replying to [@jhpalmieri](#comment%3A46):
> With SageNB you could run `notebook()` from within Sage, but this is not possible any more, or at least not in an obvious way

This is certainly a feature that I certainly could have used if it was available. Transforming an existing Python process to a Jupyter kernel just amounts to running `sage.repl.ipython_kernel.__main__`, I think.  But to my understanding no feature in the Jupyter notebook allows to connect to an existing running kernel.  I found some discussions in this direction, for example https://github.com/jupyter/help/issues/298, https://github.com/ipython/ipython/issues/4066



---

archive/issue_comments_486618.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2021-03-17T10:26:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486618",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_400471.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-17T10:26:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400471"
}
```



---

archive/issue_events_400472.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-17T10:26:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400472"
}
```



---

archive/issue_comments_486619.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">Comment 49</div>\n\nthis looks good to go.",
    "created_at": "2021-03-17T10:26:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486619",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:49" align="right">Comment 49</div>

this looks good to go.



---

archive/issue_comments_486620.json:
```json
{
    "body": "Changed reviewer from **Dima Pasechnik** to **John Palmieri, Dima Pasechnik**",
    "created_at": "2021-03-17T14:37:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486620",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Dima Pasechnik** to **John Palmieri, Dima Pasechnik**



---

archive/issue_comments_486621.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">Comment 50</div>\n\nThanks!",
    "created_at": "2021-03-17T14:37:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486621",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:50" align="right">Comment 50</div>

Thanks!



---

archive/issue_events_400473.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-20T15:27:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400473"
}
```



---

archive/issue_events_400474.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "1a15085c663249abbd9ba31f6cda8c26d9784201",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-03-20T15:27:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30383#event-400474"
}
```



---

archive/issue_comments_486622.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/new_package_type__optional_enabled_by_default](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/new_package_type__optional_enabled_by_default)** to **[4916415](https://github.com/sagemath/sagetrac-mirror/commit/4916415408a58e4b715143e5c607972822055790)**",
    "created_at": "2021-03-20T15:27:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30383#issuecomment-486622",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/new_package_type__optional_enabled_by_default](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/new_package_type__optional_enabled_by_default)** to **[4916415](https://github.com/sagemath/sagetrac-mirror/commit/4916415408a58e4b715143e5c607972822055790)**
