# Issue 30239: TensorField.__call__ alters zero

archive/issues_030002.json:
```json
{
    "assignees": [],
    "body": "\n```\nsage: M = Manifold(3, 'M', start_index=1)\nsage: X.<x,y,z> = M.chart()\nsage: omega = M.diff_form(1, 'omega')\nsage: omega[:] = [0, 0, 0]\nsage: omega(X.frame()[1])\nScalar field omega(d/dx) on the 3-dimensional differentiable manifold M\nsage: M.zero_scalar_field()\nScalar field omega(d/dx) on the 3-dimensional differentiable manifold M\n```\n\n\nDepends on #30266\nDepends on #30291\n\nCC:  @egourgoulhon @tscrim @mkoeppe\n\nBranch/Commit: **[u/gh-mjungmath/tensorfield___call___alters_zero](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mjungmath/tensorfield___call___alters_zero) @ [9f63351](https://github.com/sagemath/sagetrac-mirror/commit/9f633512058835c3a37c353cbc6a735ac021e405)**\n\nReviewer: **Eric Gourgoulhon**\n\nAuthor: **Michael Jung**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30239_\n\n",
    "created_at": "2020-07-28T13:46:07Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20manifolds",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/needs%20info"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "TensorField.__call__ alters zero",
    "type": "issue",
    "updated_at": "2022-09-19T18:58:47Z",
    "url": "https://github.com/sagemath/sage/issues/30239",
    "user": "https://github.com/mjungmath"
}
```

```
sage: M = Manifold(3, 'M', start_index=1)
sage: X.<x,y,z> = M.chart()
sage: omega = M.diff_form(1, 'omega')
sage: omega[:] = [0, 0, 0]
sage: omega(X.frame()[1])
Scalar field omega(d/dx) on the 3-dimensional differentiable manifold M
sage: M.zero_scalar_field()
Scalar field omega(d/dx) on the 3-dimensional differentiable manifold M
```


Depends on #30266
Depends on #30291

CC:  @egourgoulhon @tscrim @mkoeppe

Branch/Commit: **[u/gh-mjungmath/tensorfield___call___alters_zero](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mjungmath/tensorfield___call___alters_zero) @ [9f63351](https://github.com/sagemath/sagetrac-mirror/commit/9f633512058835c3a37c353cbc6a735ac021e405)**

Reviewer: **Eric Gourgoulhon**

Author: **Michael Jung**

_Issue created by migration from https://trac.sagemath.org/ticket/30239_





---

archive/issue_events_398245.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-28T13:46:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398245"
}
```



---

archive/issue_events_398246.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-28T13:46:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20manifolds",
    "label_color": "0000ff",
    "label_name": "component: manifolds",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398246"
}
```



---

archive/issue_events_398247.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-28T13:46:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398247"
}
```



---

archive/issue_events_398248.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-28T13:46:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398248"
}
```



---

archive/issue_comments_482409.json:
```json
{
    "body": "Branch: **[u/gh-mjungmath/tensorfield___call___alters_zero](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mjungmath/tensorfield___call___alters_zero)**",
    "created_at": "2020-07-28T14:37:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482409",
    "user": "https://github.com/mjungmath"
}
```

Branch: **[u/gh-mjungmath/tensorfield___call___alters_zero](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mjungmath/tensorfield___call___alters_zero)**



---

archive/issue_events_398249.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-28T14:37:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398249"
}
```



---

archive/issue_comments_482410.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/51ba4e31bed6a7c1febd9fa270a1b56f929064af\">51ba4e3</a></td><td><code>Trac #30239: comp zero check for __call__</code></td></tr></table>\n",
    "created_at": "2020-07-28T14:37:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482410",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:2'>Comment 2:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/51ba4e31bed6a7c1febd9fa270a1b56f929064af">51ba4e3</a></td><td><code>Trac #30239: comp zero check for __call__</code></td></tr></table>




---

archive/issue_comments_482411.json:
```json
{
    "body": "Commit: **[51ba4e3](https://github.com/sagemath/sagetrac-mirror/commit/51ba4e31bed6a7c1febd9fa270a1b56f929064af)**",
    "created_at": "2020-07-28T14:37:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482411",
    "user": "https://github.com/mjungmath"
}
```

Commit: **[51ba4e3](https://github.com/sagemath/sagetrac-mirror/commit/51ba4e31bed6a7c1febd9fa270a1b56f929064af)**



---

archive/issue_comments_482412.json:
```json
{
    "body": "Author: **Michael Jung**",
    "created_at": "2020-07-28T18:13:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482412",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Michael Jung**



---

archive/issue_events_398250.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2020-07-28T18:14:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398250"
}
```



---

archive/issue_events_398251.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2020-07-28T18:14:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398251"
}
```



---

archive/issue_comments_482413.json:
```json
{
    "body": "Changed author from **Michael Jung** to none",
    "created_at": "2020-07-28T18:14:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482413",
    "user": "https://github.com/egourgoulhon"
}
```

Changed author from **Michael Jung** to none



---

archive/issue_comments_482414.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nGood catch!\n\nHowever the proposed fix \n\n```\n            if omega == 0 or vv == 0:\n                return self.base_ring().zero()\n```\nis not acceptable, because the comparison with `0` can be very slow for complicated expressions. \nAlso, this does not fix the root of the bug, which results from the `+=` operator acting on the zero element. It should be fixed per se, because it can lead to other errors.\nFWIW, this bug was introduced in Sage 9.0 (everything is OK in earlier versions of Sage).",
    "created_at": "2020-07-28T18:14:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482414",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:4'>Comment 4:</a>
Good catch!

However the proposed fix 

```
            if omega == 0 or vv == 0:
                return self.base_ring().zero()
```
is not acceptable, because the comparison with `0` can be very slow for complicated expressions. 
Also, this does not fix the root of the bug, which results from the `+=` operator acting on the zero element. It should be fixed per se, because it can lead to other errors.
FWIW, this bug was introduced in Sage 9.0 (everything is OK in earlier versions of Sage).



---

archive/issue_comments_482415.json:
```json
{
    "body": "Author: **Michael Jung**",
    "created_at": "2020-07-28T18:15:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482415",
    "user": "https://github.com/egourgoulhon"
}
```

Author: **Michael Jung**



---

archive/issue_comments_482416.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nSorry the author name was deleted by mistake.",
    "created_at": "2020-07-28T18:15:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482416",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:5'>Comment 5:</a>
Sorry the author name was deleted by mistake.



---

archive/issue_comments_482417.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,7 +6,7 @@\n sage: omega[:] = [0, 0, 0]\n sage: omega(X.frame()[1])\n Scalar field omega(d/dx) on the 3-dimensional differentiable manifold M\n-M.zero_scalar_field()\n+sage: M.zero_scalar_field()\n Scalar field omega(d/dx) on the 3-dimensional differentiable manifold M\n ```\n \n``````\n",
    "created_at": "2020-07-28T18:16:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482417",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,7 +6,7 @@
 sage: omega[:] = [0, 0, 0]
 sage: omega(X.frame()[1])
 Scalar field omega(d/dx) on the 3-dimensional differentiable manifold M
-M.zero_scalar_field()
+sage: M.zero_scalar_field()
 Scalar field omega(d/dx) on the 3-dimensional differentiable manifold M
 ```
 
``````




---

archive/issue_comments_482418.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@egourgoulhon](#comment%3A4):\n> Good catch!\n> \n> However the proposed fix \n> \n> ```\n>             if omega == 0 or vv == 0:\n>                 return self.base_ring().zero()\n> ```\n> is not acceptable, because the comparison with `0` can be very slow for complicated expressions. \n\nI was afraid that you say that. :D\nI haven't found a fast check for components. Is there any?\n\n> Also, this does not fix the root of the bug, which results from the `+=` operator acting on the zero element. It should be fixed per se, because it can lead to other errors.\n> FWIW, this bug was introduced in Sage 9.0 (everything is OK in earlier versions of Sage). \n\nI suspect the root is #28562. However, the operator `+=` should not be a problem here. When two elements are added from which one is the zero element, the other element is returned. Due to ticket #28562, altering the components of the zero element is not even possible and would result in an error. The only thing happening here is that the zero element is renamed.",
    "created_at": "2020-07-28T18:30:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482418",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@egourgoulhon](#comment%3A4):
> Good catch!
> 
> However the proposed fix 
> 
> ```
>             if omega == 0 or vv == 0:
>                 return self.base_ring().zero()
> ```
> is not acceptable, because the comparison with `0` can be very slow for complicated expressions. 

I was afraid that you say that. :D
I haven't found a fast check for components. Is there any?

> Also, this does not fix the root of the bug, which results from the `+=` operator acting on the zero element. It should be fixed per se, because it can lead to other errors.
> FWIW, this bug was introduced in Sage 9.0 (everything is OK in earlier versions of Sage). 

I suspect the root is #28562. However, the operator `+=` should not be a problem here. When two elements are added from which one is the zero element, the other element is returned. Due to ticket #28562, altering the components of the zero element is not even possible and would result in an error. The only thing happening here is that the zero element is renamed.



---

archive/issue_comments_482419.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nReplying to [@mjungmath](#comment%3A7):\n>\n> I was afraid that you say that. :D\n> I haven't found a fast check for components. Is there any?\n>\n\nNo, `is_trivial_zero` is not implemented there. \n\n> > Also, this does not fix the root of the bug, which results from the `+=` operator acting on the zero element. It should be fixed per se, because it can lead to other errors.\n> > FWIW, this bug was introduced in Sage 9.0 (everything is OK in earlier versions of Sage). \n\n> \n> I suspect the root is #28562. However, the operator `+=` should not be a problem here. When two elements are added from which one is the zero element, the other element is returned. Due to ticket #28562, altering the components of the zero element is not even possible and would result in an error. The only thing happening here is that the zero element is renamed.\n\nYou are right, `+=` is not the problem here. A way to fix the issue is then to check whether the computed result is the zero of the base ring (I guess by something like `resu is self._fmodule.base().zero()`), before changing its name at the end of the `__call__` method.",
    "created_at": "2020-07-30T18:26:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482419",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:8'>Comment 8:</a>
Replying to [@mjungmath](#comment%3A7):
>
> I was afraid that you say that. :D
> I haven't found a fast check for components. Is there any?
>

No, `is_trivial_zero` is not implemented there. 

> > Also, this does not fix the root of the bug, which results from the `+=` operator acting on the zero element. It should be fixed per se, because it can lead to other errors.
> > FWIW, this bug was introduced in Sage 9.0 (everything is OK in earlier versions of Sage). 

> 
> I suspect the root is #28562. However, the operator `+=` should not be a problem here. When two elements are added from which one is the zero element, the other element is returned. Due to ticket #28562, altering the components of the zero element is not even possible and would result in an error. The only thing happening here is that the zero element is renamed.

You are right, `+=` is not the problem here. A way to fix the issue is then to check whether the computed result is the zero of the base ring (I guess by something like `resu is self._fmodule.base().zero()`), before changing its name at the end of the `__call__` method.



---

archive/issue_comments_482420.json:
```json
{
    "body": "Changed commit from **[51ba4e3](https://github.com/sagemath/sagetrac-mirror/commit/51ba4e31bed6a7c1febd9fa270a1b56f929064af)** to **[78a50eb](https://github.com/sagemath/sagetrac-mirror/commit/78a50ebde64cfc196e0995427ec6574eebeeff70)**",
    "created_at": "2020-07-30T19:31:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482420",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[51ba4e3](https://github.com/sagemath/sagetrac-mirror/commit/51ba4e31bed6a7c1febd9fa270a1b56f929064af)** to **[78a50eb](https://github.com/sagemath/sagetrac-mirror/commit/78a50ebde64cfc196e0995427ec6574eebeeff70)**



---

archive/issue_comments_482421.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78a50ebde64cfc196e0995427ec6574eebeeff70\">78a50eb</a></td><td><code>Trac #30329: is zero check</code></td></tr></table>\n",
    "created_at": "2020-07-30T19:31:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482421",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78a50ebde64cfc196e0995427ec6574eebeeff70">78a50eb</a></td><td><code>Trac #30329: is zero check</code></td></tr></table>




---

archive/issue_comments_482422.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nWhat about this?",
    "created_at": "2020-07-30T19:31:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482422",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:10'>Comment 10:</a>
What about this?



---

archive/issue_events_398252.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-30T19:31:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398252"
}
```



---

archive/issue_events_398253.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-30T19:31:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398253"
}
```



---

archive/issue_comments_482423.json:
```json
{
    "body": "Changed commit from **[78a50eb](https://github.com/sagemath/sagetrac-mirror/commit/78a50ebde64cfc196e0995427ec6574eebeeff70)** to **[3344505](https://github.com/sagemath/sagetrac-mirror/commit/3344505b364c014baee19c2f4da41c8a7d2bd2f7)**",
    "created_at": "2020-07-30T19:35:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482423",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[78a50eb](https://github.com/sagemath/sagetrac-mirror/commit/78a50ebde64cfc196e0995427ec6574eebeeff70)** to **[3344505](https://github.com/sagemath/sagetrac-mirror/commit/3344505b364c014baee19c2f4da41c8a7d2bd2f7)**



---

archive/issue_comments_482424.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3344505b364c014baee19c2f4da41c8a7d2bd2f7\">3344505</a></td><td><code>Trac #30239: one check for (0,1) tensors</code></td></tr></table>\n",
    "created_at": "2020-07-30T19:35:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482424",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3344505b364c014baee19c2f4da41c8a7d2bd2f7">3344505</a></td><td><code>Trac #30239: one check for (0,1) tensors</code></td></tr></table>




---

archive/issue_comments_482425.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nI think #30181 (Immutable elements of `FreeModuleTensor`) could provide a systematic solution",
    "created_at": "2020-07-30T19:49:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482425",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'>Comment 12:</a>
I think #30181 (Immutable elements of `FreeModuleTensor`) could provide a systematic solution



---

archive/issue_comments_482426.json:
```json
{
    "body": "Reviewer: **Eric Gourgoulhon**",
    "created_at": "2020-07-30T21:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482426",
    "user": "https://github.com/egourgoulhon"
}
```

Reviewer: **Eric Gourgoulhon**



---

archive/issue_comments_482427.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nThanks for covering the case of `one()` as well. Seems OK to me. Waiting for the patchbot green light...",
    "created_at": "2020-07-30T21:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482427",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:13'>Comment 13:</a>
Thanks for covering the case of `one()` as well. Seems OK to me. Waiting for the patchbot green light...



---

archive/issue_events_398254.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2020-07-31T20:45:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398254"
}
```



---

archive/issue_events_398255.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2020-07-31T20:45:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398255"
}
```



---

archive/issue_comments_482428.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nThere is a doctest error in `src/sage/manifolds/differentiable/chart.py` and some pycodestyle error in `src/sage/tensor/modules/free_module_tensor.py`.",
    "created_at": "2020-07-31T20:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482428",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:14'>Comment 14:</a>
There is a doctest error in `src/sage/manifolds/differentiable/chart.py` and some pycodestyle error in `src/sage/tensor/modules/free_module_tensor.py`.



---

archive/issue_comments_482429.json:
```json
{
    "body": "Dependencies: **#30261**",
    "created_at": "2020-08-01T11:13:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482429",
    "user": "https://github.com/mjungmath"
}
```

Dependencies: **#30261**



---

archive/issue_comments_482430.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/286d3c604d0fe9aa2f78b5c09773c4af3bb3369b\">286d3c6</a></td><td><code>FreeModuleTensor, Vector: Subclass a new class ModuleElementWithMutability</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9df3d22ca84da6b604226d5b88d2a581b0cc53ca\">9df3d22</a></td><td><code>sage.tensor.modules: Make all zero() and one() elements immutable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4373ea269d9d426163fa3d1e72bdf6e20c412f87\">4373ea2</a></td><td><code>FreeModuleTensor: Replace special casing of the immutable zero by is_immutable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2ee8beb504477a3215e002391e44a51b2957ca2\">a2ee8be</a></td><td><code>ModuleElementWithMutability.is_immutable, is_mutable: Change def to cpdef</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aebadedd85d782e004a626f207df5422fee5a9ab\">aebaded</a></td><td><code>Trac #30266: make scalarfields immutable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/504e84ed8bef36401ad97dff920ba4874001e666\">504e84e</a></td><td><code>Trac #30239: Merge branch 't/30266/immutability_for_scalar_fields' into t/30239/tensorfield___call___alters_zero</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d58d291b8bad3a28aae9be2c426f0aa47370f745\">d58d291</a></td><td><code>Trac #30266: hash function condition + treatment of restrictions</code></td></tr></table>\n",
    "created_at": "2020-08-01T14:10:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482430",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'>Comment 16:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/286d3c604d0fe9aa2f78b5c09773c4af3bb3369b">286d3c6</a></td><td><code>FreeModuleTensor, Vector: Subclass a new class ModuleElementWithMutability</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9df3d22ca84da6b604226d5b88d2a581b0cc53ca">9df3d22</a></td><td><code>sage.tensor.modules: Make all zero() and one() elements immutable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4373ea269d9d426163fa3d1e72bdf6e20c412f87">4373ea2</a></td><td><code>FreeModuleTensor: Replace special casing of the immutable zero by is_immutable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2ee8beb504477a3215e002391e44a51b2957ca2">a2ee8be</a></td><td><code>ModuleElementWithMutability.is_immutable, is_mutable: Change def to cpdef</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aebadedd85d782e004a626f207df5422fee5a9ab">aebaded</a></td><td><code>Trac #30266: make scalarfields immutable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/504e84ed8bef36401ad97dff920ba4874001e666">504e84e</a></td><td><code>Trac #30239: Merge branch 't/30266/immutability_for_scalar_fields' into t/30239/tensorfield___call___alters_zero</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d58d291b8bad3a28aae9be2c426f0aa47370f745">d58d291</a></td><td><code>Trac #30266: hash function condition + treatment of restrictions</code></td></tr></table>




---

archive/issue_comments_482431.json:
```json
{
    "body": "Changed commit from **[3344505](https://github.com/sagemath/sagetrac-mirror/commit/3344505b364c014baee19c2f4da41c8a7d2bd2f7)** to **[d58d291](https://github.com/sagemath/sagetrac-mirror/commit/d58d291b8bad3a28aae9be2c426f0aa47370f745)**",
    "created_at": "2020-08-01T14:10:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482431",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3344505](https://github.com/sagemath/sagetrac-mirror/commit/3344505b364c014baee19c2f4da41c8a7d2bd2f7)** to **[d58d291](https://github.com/sagemath/sagetrac-mirror/commit/d58d291b8bad3a28aae9be2c426f0aa47370f745)**



---

archive/issue_comments_482432.json:
```json
{
    "body": "Changed commit from **[d58d291](https://github.com/sagemath/sagetrac-mirror/commit/d58d291b8bad3a28aae9be2c426f0aa47370f745)** to **[061b89f](https://github.com/sagemath/sagetrac-mirror/commit/061b89fc7ced8730d2cd33a13065189872a78ff7)**",
    "created_at": "2020-08-01T14:11:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482432",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d58d291](https://github.com/sagemath/sagetrac-mirror/commit/d58d291b8bad3a28aae9be2c426f0aa47370f745)** to **[061b89f](https://github.com/sagemath/sagetrac-mirror/commit/061b89fc7ced8730d2cd33a13065189872a78ff7)**



---

archive/issue_comments_482433.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/061b89fc7ced8730d2cd33a13065189872a78ff7\">061b89f</a></td><td><code>Trac #30266: minor doctest improvement</code></td></tr></table>\n",
    "created_at": "2020-08-01T14:11:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482433",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'>Comment 17:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/061b89fc7ced8730d2cd33a13065189872a78ff7">061b89f</a></td><td><code>Trac #30266: minor doctest improvement</code></td></tr></table>




---

archive/issue_comments_482434.json:
```json
{
    "body": "Changed commit from **[061b89f](https://github.com/sagemath/sagetrac-mirror/commit/061b89fc7ced8730d2cd33a13065189872a78ff7)** to **[0ec99d4](https://github.com/sagemath/sagetrac-mirror/commit/0ec99d4f357c0eb89ad6e1b12a44810b2ecc764d)**",
    "created_at": "2020-08-01T23:03:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482434",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[061b89f](https://github.com/sagemath/sagetrac-mirror/commit/061b89fc7ced8730d2cd33a13065189872a78ff7)** to **[0ec99d4](https://github.com/sagemath/sagetrac-mirror/commit/0ec99d4f357c0eb89ad6e1b12a44810b2ecc764d)**



---

archive/issue_comments_482435.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c7fd6e1933dd09daab91eda15df09572148413b\">5c7fd6e</a></td><td><code>Trac #30266: immutability of restrictions + hash function improved</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ba0865c69cd0ab466d8fe1aca1983c0006fc42b\">7ba0865</a></td><td><code>Trac #30266: merge</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ec99d4f357c0eb89ad6e1b12a44810b2ecc764d\">0ec99d4</a></td><td><code>Trac #30266: check by name</code></td></tr></table>\n",
    "created_at": "2020-08-01T23:03:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482435",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'>Comment 18:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c7fd6e1933dd09daab91eda15df09572148413b">5c7fd6e</a></td><td><code>Trac #30266: immutability of restrictions + hash function improved</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ba0865c69cd0ab466d8fe1aca1983c0006fc42b">7ba0865</a></td><td><code>Trac #30266: merge</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ec99d4f357c0eb89ad6e1b12a44810b2ecc764d">0ec99d4</a></td><td><code>Trac #30266: check by name</code></td></tr></table>




---

archive/issue_comments_482436.json:
```json
{
    "body": "Changed commit from **[0ec99d4](https://github.com/sagemath/sagetrac-mirror/commit/0ec99d4f357c0eb89ad6e1b12a44810b2ecc764d)** to **[43ec497](https://github.com/sagemath/sagetrac-mirror/commit/43ec4976081482b1ce467f0ca83e0c73192039f4)**",
    "created_at": "2020-08-01T23:22:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482436",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0ec99d4](https://github.com/sagemath/sagetrac-mirror/commit/0ec99d4f357c0eb89ad6e1b12a44810b2ecc764d)** to **[43ec497](https://github.com/sagemath/sagetrac-mirror/commit/43ec4976081482b1ce467f0ca83e0c73192039f4)**



---

archive/issue_comments_482437.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87fb4114bbd0e49215328035098fee5716b95b59\">87fb411</a></td><td><code>Trac #30266: ValueError replaced by AssertionError</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/43ec4976081482b1ce467f0ca83e0c73192039f4\">43ec497</a></td><td><code>Trac #30239: referenced before assignment error fixed</code></td></tr></table>\n",
    "created_at": "2020-08-01T23:22:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482437",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'>Comment 19:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87fb4114bbd0e49215328035098fee5716b95b59">87fb411</a></td><td><code>Trac #30266: ValueError replaced by AssertionError</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/43ec4976081482b1ce467f0ca83e0c73192039f4">43ec497</a></td><td><code>Trac #30239: referenced before assignment error fixed</code></td></tr></table>




---

archive/issue_events_398256.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-08-01T23:22:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398256"
}
```



---

archive/issue_events_398257.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-08-01T23:22:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398257"
}
```



---

archive/issue_comments_482438.json:
```json
{
    "body": "Changed dependencies from **#30261** to **#30266**",
    "created_at": "2020-08-01T23:28:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482438",
    "user": "https://github.com/mjungmath"
}
```

Changed dependencies from **#30261** to **#30266**



---

archive/issue_comments_482439.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9cb6b3697e6852fb6d4924e273419bded123a9d\">a9cb6b3</a></td><td><code>Trac #30239: doctest fixed</code></td></tr></table>\n",
    "created_at": "2020-08-02T09:25:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482439",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:22'>Comment 22:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9cb6b3697e6852fb6d4924e273419bded123a9d">a9cb6b3</a></td><td><code>Trac #30239: doctest fixed</code></td></tr></table>




---

archive/issue_comments_482440.json:
```json
{
    "body": "Changed commit from **[43ec497](https://github.com/sagemath/sagetrac-mirror/commit/43ec4976081482b1ce467f0ca83e0c73192039f4)** to **[a9cb6b3](https://github.com/sagemath/sagetrac-mirror/commit/a9cb6b3697e6852fb6d4924e273419bded123a9d)**",
    "created_at": "2020-08-02T09:25:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482440",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[43ec497](https://github.com/sagemath/sagetrac-mirror/commit/43ec4976081482b1ce467f0ca83e0c73192039f4)** to **[a9cb6b3](https://github.com/sagemath/sagetrac-mirror/commit/a9cb6b3697e6852fb6d4924e273419bded123a9d)**



---

archive/issue_comments_482441.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nReplying to [@egourgoulhon](#comment%3A14):\n> There is a doctest error in `src/sage/manifolds/differentiable/chart.py` and some pycodestyle error in `src/sage/tensor/modules/free_module_tensor.py`. \n\nBoth have been fixed. Wait for green bot.",
    "created_at": "2020-08-02T09:27:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482441",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:23'>Comment 23:</a>
Replying to [@egourgoulhon](#comment%3A14):
> There is a doctest error in `src/sage/manifolds/differentiable/chart.py` and some pycodestyle error in `src/sage/tensor/modules/free_module_tensor.py`. 

Both have been fixed. Wait for green bot.



---

archive/issue_comments_482442.json:
```json
{
    "body": "Changed commit from **[a9cb6b3](https://github.com/sagemath/sagetrac-mirror/commit/a9cb6b3697e6852fb6d4924e273419bded123a9d)** to **[731043f](https://github.com/sagemath/sagetrac-mirror/commit/731043f54230845c930a4fae1e3241ead02ce641)**",
    "created_at": "2020-08-02T09:50:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482442",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a9cb6b3](https://github.com/sagemath/sagetrac-mirror/commit/a9cb6b3697e6852fb6d4924e273419bded123a9d)** to **[731043f](https://github.com/sagemath/sagetrac-mirror/commit/731043f54230845c930a4fae1e3241ead02ce641)**



---

archive/issue_comments_482443.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/731043f54230845c930a4fae1e3241ead02ce641\">731043f</a></td><td><code>Trac #30239: check by name for general tensor field action</code></td></tr></table>\n",
    "created_at": "2020-08-02T09:50:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482443",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:24'>Comment 24:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/731043f54230845c930a4fae1e3241ead02ce641">731043f</a></td><td><code>Trac #30239: check by name for general tensor field action</code></td></tr></table>




---

archive/issue_comments_482444.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nLGTM. Waiting for a positive review of the dependency (#30266).",
    "created_at": "2020-08-03T08:46:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482444",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:25'>Comment 25:</a>
LGTM. Waiting for a positive review of the dependency (#30266).



---

archive/issue_comments_482445.json:
```json
{
    "body": "Changed commit from **[731043f](https://github.com/sagemath/sagetrac-mirror/commit/731043f54230845c930a4fae1e3241ead02ce641)** to **[1848091](https://github.com/sagemath/sagetrac-mirror/commit/18480912b7409ca8a0584eccd7ed2ba44c826adc)**",
    "created_at": "2020-08-03T22:51:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482445",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[731043f](https://github.com/sagemath/sagetrac-mirror/commit/731043f54230845c930a4fae1e3241ead02ce641)** to **[1848091](https://github.com/sagemath/sagetrac-mirror/commit/18480912b7409ca8a0584eccd7ed2ba44c826adc)**



---

archive/issue_comments_482446.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18480912b7409ca8a0584eccd7ed2ba44c826adc\">1848091</a></td><td><code>Trac #30239: try-finally instead of try-except</code></td></tr></table>\n",
    "created_at": "2020-08-03T22:51:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482446",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:26'>Comment 26:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18480912b7409ca8a0584eccd7ed2ba44c826adc">1848091</a></td><td><code>Trac #30239: try-finally instead of try-except</code></td></tr></table>




---

archive/issue_comments_482447.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nWhat about `try...finally` instead of `try...except`? I think this should be even faster, right?",
    "created_at": "2020-08-03T23:02:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482447",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:27'>Comment 27:</a>
What about `try...finally` instead of `try...except`? I think this should be even faster, right?



---

archive/issue_comments_482448.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nI doubt it. Plus it makes the code a little harder to understand IMO.",
    "created_at": "2020-08-03T23:55:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482448",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:28'>Comment 28:</a>
I doubt it. Plus it makes the code a little harder to understand IMO.



---

archive/issue_comments_482449.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nYou're right, there is no difference. And I agree with you regarding the readability. I'll change it back.",
    "created_at": "2020-08-04T00:08:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482449",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:29'>Comment 29:</a>
You're right, there is no difference. And I agree with you regarding the readability. I'll change it back.



---

archive/issue_comments_482450.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4756bc31feaec758d7a1fe50d2b5edc28a71202a\">4756bc3</a></td><td><code>Revert \"Trac #30239: try-finally instead of try-except\"</code></td></tr></table>\n",
    "created_at": "2020-08-04T00:10:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482450",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:30'>Comment 30:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4756bc31feaec758d7a1fe50d2b5edc28a71202a">4756bc3</a></td><td><code>Revert "Trac #30239: try-finally instead of try-except"</code></td></tr></table>




---

archive/issue_comments_482451.json:
```json
{
    "body": "Changed commit from **[1848091](https://github.com/sagemath/sagetrac-mirror/commit/18480912b7409ca8a0584eccd7ed2ba44c826adc)** to **[4756bc3](https://github.com/sagemath/sagetrac-mirror/commit/4756bc31feaec758d7a1fe50d2b5edc28a71202a)**",
    "created_at": "2020-08-04T00:10:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482451",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1848091](https://github.com/sagemath/sagetrac-mirror/commit/18480912b7409ca8a0584eccd7ed2ba44c826adc)** to **[4756bc3](https://github.com/sagemath/sagetrac-mirror/commit/4756bc31feaec758d7a1fe50d2b5edc28a71202a)**



---

archive/issue_comments_482452.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nThere we go.",
    "created_at": "2020-08-04T00:11:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482452",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:31'>Comment 31:</a>
There we go.



---

archive/issue_comments_482453.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/abda8ec2450d2565d0355b15ab968cf78eb36b9a\">abda8ec</a></td><td><code>Merge branch 'develop' into t/30239/tensorfield___call___alters_zero</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06382070ef75723a2643da5968c86bb5e271806d\">0638207</a></td><td><code>Trac 30291: simple checks for trivial cases in `_mul_`, `_add_` and _div_</code></td></tr></table>\n",
    "created_at": "2020-08-05T12:12:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482453",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:32'>Comment 32:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/abda8ec2450d2565d0355b15ab968cf78eb36b9a">abda8ec</a></td><td><code>Merge branch 'develop' into t/30239/tensorfield___call___alters_zero</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06382070ef75723a2643da5968c86bb5e271806d">0638207</a></td><td><code>Trac 30291: simple checks for trivial cases in `_mul_`, `_add_` and _div_</code></td></tr></table>




---

archive/issue_comments_482454.json:
```json
{
    "body": "Changed commit from **[4756bc3](https://github.com/sagemath/sagetrac-mirror/commit/4756bc31feaec758d7a1fe50d2b5edc28a71202a)** to **[0638207](https://github.com/sagemath/sagetrac-mirror/commit/06382070ef75723a2643da5968c86bb5e271806d)**",
    "created_at": "2020-08-05T12:12:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482454",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4756bc3](https://github.com/sagemath/sagetrac-mirror/commit/4756bc31feaec758d7a1fe50d2b5edc28a71202a)** to **[0638207](https://github.com/sagemath/sagetrac-mirror/commit/06382070ef75723a2643da5968c86bb5e271806d)**



---

archive/issue_comments_482455.json:
```json
{
    "body": "Changed dependencies from **#30266** to **#30266, #30291**",
    "created_at": "2020-08-05T12:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482455",
    "user": "https://github.com/mjungmath"
}
```

Changed dependencies from **#30266** to **#30266, #30291**



---

archive/issue_comments_482456.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2446f7ecf68fe4034c8f92f6248cd877b2efe6f3\">2446f7e</a></td><td><code>Trac 30291: simple checks for trivial cases in `_mul_`, `_add_` and _div_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4bd82e47382226353261431b505dc3c557e13c47\">4bd82e4</a></td><td><code>Trac #30291: patchbot doctest fixed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2ba1e8f7caa423a0af58e1e73af8e424701eb5a\">b2ba1e8</a></td><td><code>Merge branch 't/30291/scalar_field_arithmetics__trivial_cases' into t/30239/tensorfield___call___alters_zero</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c14b3928c13e5cf62f0ab13ebc3b3580fe2b14e\">5c14b39</a></td><td><code>Trac #30239: doctest adapted</code></td></tr></table>\n",
    "created_at": "2020-08-05T16:25:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482456",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:34'>Comment 34:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2446f7ecf68fe4034c8f92f6248cd877b2efe6f3">2446f7e</a></td><td><code>Trac 30291: simple checks for trivial cases in `_mul_`, `_add_` and _div_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4bd82e47382226353261431b505dc3c557e13c47">4bd82e4</a></td><td><code>Trac #30291: patchbot doctest fixed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2ba1e8f7caa423a0af58e1e73af8e424701eb5a">b2ba1e8</a></td><td><code>Merge branch 't/30291/scalar_field_arithmetics__trivial_cases' into t/30239/tensorfield___call___alters_zero</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c14b3928c13e5cf62f0ab13ebc3b3580fe2b14e">5c14b39</a></td><td><code>Trac #30239: doctest adapted</code></td></tr></table>




---

archive/issue_comments_482457.json:
```json
{
    "body": "Changed commit from **[0638207](https://github.com/sagemath/sagetrac-mirror/commit/06382070ef75723a2643da5968c86bb5e271806d)** to **[5c14b39](https://github.com/sagemath/sagetrac-mirror/commit/5c14b3928c13e5cf62f0ab13ebc3b3580fe2b14e)**",
    "created_at": "2020-08-05T16:25:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482457",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0638207](https://github.com/sagemath/sagetrac-mirror/commit/06382070ef75723a2643da5968c86bb5e271806d)** to **[5c14b39](https://github.com/sagemath/sagetrac-mirror/commit/5c14b3928c13e5cf62f0ab13ebc3b3580fe2b14e)**



---

archive/issue_comments_482458.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2416d871c6980f4503f8fef8b9a088d2dbc0f2d4\">2416d87</a></td><td><code>ModuleElementWithMutability.is_immutable, is_mutable: Change def to cpdef</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f079381070e497259564eba16d8887c8dc85efe\">4f07938</a></td><td><code>Trac #30266: make scalarfields immutable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3faa75a183dd6e6ff81d8aab176d7783aeaf867e\">3faa75a</a></td><td><code>Trac #30266: hash function condition + treatment of restrictions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f812586e8b14181f84ce361c1eba8b8410417b17\">f812586</a></td><td><code>Trac #30266: minor doctest improvement</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/02726e2524ca81b800ba9a0a5a05e9c399d2e942\">02726e2</a></td><td><code>Trac #30266: check by name</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81e67cff20e7869abfe8aa3492b5ec8cbc399f85\">81e67cf</a></td><td><code>Trac #30266: ValueError replaced by AssertionError</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf4fce56feed7c77064a1d6d9ddf20a28a927a2f\">cf4fce5</a></td><td><code>Trac #30239: use try-except block for immutable elements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f3b69f6159dbdc127070fce043a3428e09326c0\">4f3b69f</a></td><td><code>Trac 30291: simple checks for trivial cases in `_mul_`, `_add_` and _div_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d8720d24a1a42bee0610f45b6241747fed2d4db\">9d8720d</a></td><td><code>Merge branch 't/30291/scalar_field_arithmetics__trivial_cases' into t/30239/tensorfield___call___alters_zero</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f633512058835c3a37c353cbc6a735ac021e405\">9f63351</a></td><td><code>Trac #30239: doctest outputs adapted</code></td></tr></table>\n",
    "created_at": "2020-08-05T22:33:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482458",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:35'>Comment 35:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2416d871c6980f4503f8fef8b9a088d2dbc0f2d4">2416d87</a></td><td><code>ModuleElementWithMutability.is_immutable, is_mutable: Change def to cpdef</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f079381070e497259564eba16d8887c8dc85efe">4f07938</a></td><td><code>Trac #30266: make scalarfields immutable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3faa75a183dd6e6ff81d8aab176d7783aeaf867e">3faa75a</a></td><td><code>Trac #30266: hash function condition + treatment of restrictions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f812586e8b14181f84ce361c1eba8b8410417b17">f812586</a></td><td><code>Trac #30266: minor doctest improvement</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/02726e2524ca81b800ba9a0a5a05e9c399d2e942">02726e2</a></td><td><code>Trac #30266: check by name</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81e67cff20e7869abfe8aa3492b5ec8cbc399f85">81e67cf</a></td><td><code>Trac #30266: ValueError replaced by AssertionError</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf4fce56feed7c77064a1d6d9ddf20a28a927a2f">cf4fce5</a></td><td><code>Trac #30239: use try-except block for immutable elements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f3b69f6159dbdc127070fce043a3428e09326c0">4f3b69f</a></td><td><code>Trac 30291: simple checks for trivial cases in `_mul_`, `_add_` and _div_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d8720d24a1a42bee0610f45b6241747fed2d4db">9d8720d</a></td><td><code>Merge branch 't/30291/scalar_field_arithmetics__trivial_cases' into t/30239/tensorfield___call___alters_zero</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f633512058835c3a37c353cbc6a735ac021e405">9f63351</a></td><td><code>Trac #30239: doctest outputs adapted</code></td></tr></table>




---

archive/issue_comments_482459.json:
```json
{
    "body": "Changed commit from **[5c14b39](https://github.com/sagemath/sagetrac-mirror/commit/5c14b3928c13e5cf62f0ab13ebc3b3580fe2b14e)** to **[9f63351](https://github.com/sagemath/sagetrac-mirror/commit/9f633512058835c3a37c353cbc6a735ac021e405)**",
    "created_at": "2020-08-05T22:33:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482459",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5c14b39](https://github.com/sagemath/sagetrac-mirror/commit/5c14b3928c13e5cf62f0ab13ebc3b3580fe2b14e)** to **[9f63351](https://github.com/sagemath/sagetrac-mirror/commit/9f633512058835c3a37c353cbc6a735ac021e405)**



---

archive/issue_events_398258.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-08-05T22:52:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398258"
}
```



---

archive/issue_events_398259.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-08-05T22:52:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398259"
}
```



---

archive/issue_comments_482460.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nChanging the doctest outputs, especially in `src/doc/en/thematic_tutorials/vector_calculus/vector_calc_advanced.rst` left my aesthetic devil inside of me rebelling. A uniform output would be indeed nice.\n\nIf I remember correctly, our original argument for this behavior was that elements of modules/rings are usually treated immutable and that we should recover this behavior as far as possible. But thanks to Matthias with #30181, and the resulting changes in #30261, our elements are now undoubtfully viewed as mutable elements until they are stated immutable.\n\nSo, what about keeping the checks and always returning copies after each operation instead? This has also the great advantage that the results are again mutable (i.e. consistent behavior). Since we use fast checks that don't depend on particular elements now, this should also not affect the performance and would fit into the framework.\n\nIf we decide for the \"return-copy-behavior\", this ticket would become obsolete. Thus, I hope for a quick response so that I can work further on either one.",
    "created_at": "2020-08-05T22:52:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482460",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:36'>Comment 36:</a>
Changing the doctest outputs, especially in `src/doc/en/thematic_tutorials/vector_calculus/vector_calc_advanced.rst` left my aesthetic devil inside of me rebelling. A uniform output would be indeed nice.

If I remember correctly, our original argument for this behavior was that elements of modules/rings are usually treated immutable and that we should recover this behavior as far as possible. But thanks to Matthias with #30181, and the resulting changes in #30261, our elements are now undoubtfully viewed as mutable elements until they are stated immutable.

So, what about keeping the checks and always returning copies after each operation instead? This has also the great advantage that the results are again mutable (i.e. consistent behavior). Since we use fast checks that don't depend on particular elements now, this should also not affect the performance and would fit into the framework.

If we decide for the "return-copy-behavior", this ticket would become obsolete. Thus, I hope for a quick response so that I can work further on either one.



---

archive/issue_comments_482461.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nFWIW, `FreeModule` returns a mutable copy even on trivial operations such as `w = v + 0`, so implementing this behavior would be compatible.",
    "created_at": "2020-08-05T23:16:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482461",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:37'>Comment 37:</a>
FWIW, `FreeModule` returns a mutable copy even on trivial operations such as `w = v + 0`, so implementing this behavior would be compatible.



---

archive/issue_comments_482462.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\nReplying to [@mkoeppe](#comment%3A37):\n> FWIW, `FreeModule` returns a mutable copy even on trivial operations such as `w = v + 0`, so implementing this behavior would be compatible.\n\nThat's good to know. Thanks. Do you also have an opinion which behavior is more suitable?",
    "created_at": "2020-08-06T07:39:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482462",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:38'>Comment 38:</a>
Replying to [@mkoeppe](#comment%3A37):
> FWIW, `FreeModule` returns a mutable copy even on trivial operations such as `w = v + 0`, so implementing this behavior would be compatible.

That's good to know. Thanks. Do you also have an opinion which behavior is more suitable?



---

archive/issue_comments_482463.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nI've opened another ticket #30302 for this discussion.",
    "created_at": "2020-08-06T10:00:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482463",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:39'>Comment 39:</a>
I've opened another ticket #30302 for this discussion.



---

archive/issue_events_398260.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398260"
}
```



---

archive/issue_events_398261.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398261"
}
```



---

archive/issue_comments_482464.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\nMoving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage",
    "created_at": "2021-04-02T20:21:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482464",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:41'>Comment 41:</a>
Moving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage



---

archive/issue_events_398262.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398262"
}
```



---

archive/issue_events_398263.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398263"
}
```



---

archive/issue_comments_482465.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482465",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:42'>Comment 42:</a>
Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_398264.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398264"
}
```



---

archive/issue_events_398265.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398265"
}
```



---

archive/issue_events_398266.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398266"
}
```



---

archive/issue_events_398267.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398267"
}
```



---

archive/issue_comments_482466.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nStalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30239#issuecomment-482466",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:43'>Comment 43:</a>
Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_events_398268.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398268"
}
```



---

archive/issue_events_398269.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398269"
}
```



---

archive/issue_events_398270.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398270"
}
```



---

archive/issue_events_398271.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30239",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30239#event-398271"
}
```
