# Issue 30668: Prepare for autoconf-2.71

archive/issues_030431.json:
```json
{
    "body": "Autoconf is finally getting an update after 8 years, and there are some breaking changes. A beta version has been released for testing:\n\n  https://lists.gnu.org/archive/html/autoconf/2020-09/msg00006.html\n\nWe should try to bootstrap sage with the new version to make sure everything works before any end-users get a chance to.\n\nThis ticket also unbreaks make targets such as `distclean`, which rely on normal return from `./bootstrap`, for these on autoconf 2.71\n\n\nCC:  @mkoeppe @kiwifb @dimpase @vbraun\n\nBranch: [9bfbc41a51fec38af3b04109830b30951f27156f](https://github.com/sagemath/sagetrac-mirror/commit/9bfbc41a51fec38af3b04109830b30951f27156f)\n\nUpstream: Not yet reported upstream; Will do shortly.\n\nReviewer: Dima Pasechnik, Matthias Koeppe\n\nAuthor: Dima Pasechnik, Michael Orlitzky\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30668\n\n",
    "closed_at": "2021-07-25T18:51:45Z",
    "created_at": "2020-09-26T18:52:47Z",
    "labels": [
        "component: build",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Prepare for autoconf-2.71",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30668",
    "user": "https://github.com/orlitzky"
}
```
Autoconf is finally getting an update after 8 years, and there are some breaking changes. A beta version has been released for testing:

  https://lists.gnu.org/archive/html/autoconf/2020-09/msg00006.html

We should try to bootstrap sage with the new version to make sure everything works before any end-users get a chance to.

This ticket also unbreaks make targets such as `distclean`, which rely on normal return from `./bootstrap`, for these on autoconf 2.71


CC:  @mkoeppe @kiwifb @dimpase @vbraun

Branch: [9bfbc41a51fec38af3b04109830b30951f27156f](https://github.com/sagemath/sagetrac-mirror/commit/9bfbc41a51fec38af3b04109830b30951f27156f)

Upstream: Not yet reported upstream; Will do shortly.

Reviewer: Dima Pasechnik, Matthias Koeppe

Author: Dima Pasechnik, Michael Orlitzky

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30668





---

archive/issue_comments_607330.json:
```json
{
    "body": "<a id='comment:1'></a>\nWell, fortunately end users do not run autoconf.",
    "created_at": "2020-09-26T20:05:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607330",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:1'></a>
Well, fortunately end users do not run autoconf.



---

archive/issue_comments_607331.json:
```json
{
    "body": "<a id='comment:2'></a>\nLots of people clone the git repo and run `./bootstrap`. They're who I had in mind.",
    "created_at": "2020-09-26T23:11:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607331",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:2'></a>
Lots of people clone the git repo and run `./bootstrap`. They're who I had in mind.



---

archive/issue_comments_607332.json:
```json
{
    "body": "<a id='comment:3'></a>\nI think it's a good idea to check whether we can point out some issued, before the release is final.",
    "created_at": "2020-09-27T10:43:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607332",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>
I think it's a good idea to check whether we can point out some issued, before the release is final.



---

archive/issue_comments_607333.json:
```json
{
    "body": "<a id='comment:4'></a>\nBootstrap output (cleaned up):\n\n```\nconfigure.ac:392: warning: back quotes and double quotes must not be escaped in: multiple installation records for $SPKG_NAME: m4_newline($(ls -l \"$SAGE_SPKG_INST/$SPKG_NAME\"-*)) m4_newline([only one should exist, so please delete some or all of these files and re-run \\\"$srcdir/configure\\\"])\nm4/sage_spkg_configures.m4:191: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:191: warning: The macro `AC_PROG_CC_C99' is obsolete.\nm4/sage_spkg_configures.m4:204: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:261: warning: The macro `AC_TRY_LINK' is obsolete.\nm4/sage_spkg_configures.m4:261: warning: The macro `AC_TRY_RUN' is obsolete.\n```",
    "created_at": "2020-10-15T16:41:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607333",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:4'></a>
Bootstrap output (cleaned up):

```
configure.ac:392: warning: back quotes and double quotes must not be escaped in: multiple installation records for $SPKG_NAME: m4_newline($(ls -l "$SAGE_SPKG_INST/$SPKG_NAME"-*)) m4_newline([only one should exist, so please delete some or all of these files and re-run \"$srcdir/configure\"])
m4/sage_spkg_configures.m4:191: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:191: warning: The macro `AC_PROG_CC_C99' is obsolete.
m4/sage_spkg_configures.m4:204: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:261: warning: The macro `AC_TRY_LINK' is obsolete.
m4/sage_spkg_configures.m4:261: warning: The macro `AC_TRY_RUN' is obsolete.
```



---

archive/issue_comments_607334.json:
```json
{
    "body": "<a id='comment:5'></a>\nAC_TRY_LINK comes from ppl.m4, and has an easy replacement. Reported upstream at https://www.cs.unipr.it/mantis/view.php?id=2751",
    "created_at": "2020-10-15T16:53:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607334",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:5'></a>
AC_TRY_LINK comes from ppl.m4, and has an easy replacement. Reported upstream at https://www.cs.unipr.it/mantis/view.php?id=2751



---

archive/issue_comments_607335.json:
```json
{
    "body": "<a id='comment:6'></a>\nAC_TRY_RUN, too: https://www.cs.unipr.it/mantis/view.php?id=2752",
    "created_at": "2020-10-15T16:55:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607335",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:6'></a>
AC_TRY_RUN, too: https://www.cs.unipr.it/mantis/view.php?id=2752



---

archive/issue_comments_607336.json:
```json
{
    "body": "<a id='comment:7'></a>\nAC_FOREACH: http://savannah.gnu.org/patch/index.php?9983",
    "created_at": "2020-10-17T16:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607336",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:7'></a>
AC_FOREACH: http://savannah.gnu.org/patch/index.php?9983



---

archive/issue_events_089917.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30668#event-89917"
}
```



---

archive/issue_comments_607337.json:
```json
{
    "body": "<a id='comment:9'></a>\nDropping the backslashes that it complains about in `m4/sage_spkg_collect.m4` doesn't seem to hurt anything (output does not change):\n\n```patch\ndiff --git a/m4/sage_spkg_collect.m4 b/m4/sage_spkg_collect.m4\nindex 7cba7252c4..3867bc16c9 100644\n--- a/m4/sage_spkg_collect.m4\n+++ b/m4/sage_spkg_collect.m4\n@@ -183,7 +183,7 @@ for DIR in $SAGE_ROOT/build/pkgs/*; do\n                         multiple installation records for $SPKG_NAME:\n                         m4_newline($(ls -l \"$SAGE_SPKG_INST/$SPKG_NAME\"-*))\n                         m4_newline([only one should exist, so please delete some or all\n-                        of these files and re-run \\\"$srcdir/configure\\\"])\n+                        of these files and re-run \"$srcdir/configure\"])\n                     ]))\n                 ])\n                 stampfile=yes\n```",
    "created_at": "2020-10-28T19:06:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607337",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:9'></a>
Dropping the backslashes that it complains about in `m4/sage_spkg_collect.m4` doesn't seem to hurt anything (output does not change):

```patch
diff --git a/m4/sage_spkg_collect.m4 b/m4/sage_spkg_collect.m4
index 7cba7252c4..3867bc16c9 100644
--- a/m4/sage_spkg_collect.m4
+++ b/m4/sage_spkg_collect.m4
@@ -183,7 +183,7 @@ for DIR in $SAGE_ROOT/build/pkgs/*; do
                         multiple installation records for $SPKG_NAME:
                         m4_newline($(ls -l "$SAGE_SPKG_INST/$SPKG_NAME"-*))
                         m4_newline([only one should exist, so please delete some or all
-                        of these files and re-run \"$srcdir/configure\"])
+                        of these files and re-run "$srcdir/configure"])
                     ]))
                 ])
                 stampfile=yes
```



---

archive/issue_comments_607338.json:
```json
{
    "body": "<a id='comment:10'></a>\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607338",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_089918.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30668#event-89918"
}
```



---

archive/issue_events_089919.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30668#event-89919"
}
```



---

archive/issue_comments_607339.json:
```json
{
    "body": "<a id='comment:11'></a>\non Gentoo, autoconf is now version 2.71. Running `autoupdate m4/*` produces mostly backward-compatible changes.",
    "created_at": "2021-03-15T11:37:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607339",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>
on Gentoo, autoconf is now version 2.71. Running `autoupdate m4/*` produces mostly backward-compatible changes.



---

archive/issue_events_089920.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "rename": {
        "from": "Prepare for autoconf-2.70",
        "to": "Prepare for autoconf-2.71"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30668#event-89920"
}
```



---

archive/issue_comments_607340.json:
```json
{
    "body": "Changing commit from \"\" to \"ce12b5f650a2f2c4d61dc790c442a5b80deb72b5\"",
    "created_at": "2021-03-15T11:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607340",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "" to "ce12b5f650a2f2c4d61dc790c442a5b80deb72b5"



---

archive/issue_comments_607341.json:
```json
{
    "body": "<a id='comment:12'></a>\nNew commits:\n|                                                                                                                                          |                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[ce12b5f](https://github.com/sagemath/sagetrac-mirror/commit/ce12b5f650a2f2c4d61dc790c442a5b80deb72b5)|`mostly autupdate's results`|",
    "created_at": "2021-03-15T11:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607341",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>
New commits:
|                                                                                                                                          |                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[ce12b5f](https://github.com/sagemath/sagetrac-mirror/commit/ce12b5f650a2f2c4d61dc790c442a5b80deb72b5)|`mostly autupdate's results`|



---

archive/issue_comments_607342.json:
```json
{
    "body": "Changing branch from \"\" to \"u/dimpase/configure/autoconf271\"",
    "created_at": "2021-03-15T11:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607342",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "" to "u/dimpase/configure/autoconf271"



---

archive/issue_comments_607343.json:
```json
{
    "body": "<a id='comment:13'></a>\nI think that leaves only the obsolete `AC_PROG_CC_C99` in `build/pkgs/gcc/spkg-configure.m4`. The new autoconf docs say that we can replace\n\n```\n    AC_LANG_PUSH(C)\n    if test -z \"$CC\"; then\n        SAGE_MUST_INSTALL_GCC([a C compiler is missing])\n    fi\n\n    # Save compiler before checking for C99 support                             \n    save_CC=$CC\n    # Check that we can compile C99 code                                        \n    AC_PROG_CC_C99()\n    if test \"x$ac_cv_prog_cc_c99\" = xno; then\n        SAGE_MUST_INSTALL_GCC([your C compiler cannot compile C99 code])\n    fi\n    # restore original CC                                                       \n    CC=$save_CC\n    AC_LANG_POP()\n```\n\nwith\n\n```\n    if test -z \"$CC\"; then\n        SAGE_MUST_INSTALL_GCC([a C compiler is missing])\n    fi\n\n    if test \"x$ac_cv_prog_cc_c99\" = xno; then\n        SAGE_MUST_INSTALL_GCC([your C compiler cannot compile C99 code])\n    fi\n```\n\nsince we already call `AC_PROG_CC()`, and it now sets `$ac_cv_prog_cc_c99`.\n\n**But** that would skip the C99 check for people using older autoconf. Should we...\n\n1. ignore that problem, or\n2. set the minimum version of autoconf required to 2.70, or\n3. just leave the `AC_PROG_CC_C99()` alone for now and fix it in the future?",
    "created_at": "2021-03-15T14:59:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607343",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:13'></a>
I think that leaves only the obsolete `AC_PROG_CC_C99` in `build/pkgs/gcc/spkg-configure.m4`. The new autoconf docs say that we can replace

```
    AC_LANG_PUSH(C)
    if test -z "$CC"; then
        SAGE_MUST_INSTALL_GCC([a C compiler is missing])
    fi

    # Save compiler before checking for C99 support                             
    save_CC=$CC
    # Check that we can compile C99 code                                        
    AC_PROG_CC_C99()
    if test "x$ac_cv_prog_cc_c99" = xno; then
        SAGE_MUST_INSTALL_GCC([your C compiler cannot compile C99 code])
    fi
    # restore original CC                                                       
    CC=$save_CC
    AC_LANG_POP()
```

with

```
    if test -z "$CC"; then
        SAGE_MUST_INSTALL_GCC([a C compiler is missing])
    fi

    if test "x$ac_cv_prog_cc_c99" = xno; then
        SAGE_MUST_INSTALL_GCC([your C compiler cannot compile C99 code])
    fi
```

since we already call `AC_PROG_CC()`, and it now sets `$ac_cv_prog_cc_c99`.

**But** that would skip the C99 check for people using older autoconf. Should we...

1. ignore that problem, or
2. set the minimum version of autoconf required to 2.70, or
3. just leave the `AC_PROG_CC_C99()` alone for now and fix it in the future?



---

archive/issue_comments_607344.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [mjo](#comment%3A13):\n> Should we[...]\n> 2. set the minimum version of autoconf required to 2.70, or\n> [...]\n\n\nNo, that would be too disruptive",
    "created_at": "2021-03-15T16:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607344",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
Replying to [mjo](#comment%3A13):
> Should we[...]
> 2. set the minimum version of autoconf required to 2.70, or
> [...]


No, that would be too disruptive



---

archive/issue_comments_607345.json:
```json
{
    "body": "Changing author from \"\" to \"\u200bDima Pasechnik, Michael Orlitzky\"",
    "created_at": "2021-03-15T18:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607345",
    "user": "https://github.com/orlitzky"
}
```

Changing author from "" to "​Dima Pasechnik, Michael Orlitzky"



---

archive/issue_comments_607346.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-03-15T18:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607346",
    "user": "https://github.com/orlitzky"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_607347.json:
```json
{
    "body": "<a id='comment:15'></a>\nThis looks sufficient for both autoconf-2.69 and autoconf-2.71.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|\n|[b717a71](https://github.com/sagemath/sagetrac-mirror/commit/b717a71f1849ca126909b08daaef37aec251f395)|`Trac #30668: don't run obsolete AC_PROG_CC_C99 macro in GCC check.`|",
    "created_at": "2021-03-15T18:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607347",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:15'></a>
This looks sufficient for both autoconf-2.69 and autoconf-2.71.

---
New commits:
|                                                                                                                                          |                                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|
|[b717a71](https://github.com/sagemath/sagetrac-mirror/commit/b717a71f1849ca126909b08daaef37aec251f395)|`Trac #30668: don't run obsolete AC_PROG_CC_C99 macro in GCC check.`|



---

archive/issue_comments_607348.json:
```json
{
    "body": "Changing branch from \"u/dimpase/configure/autoconf271\" to \"u/mjo/ticket/30668\"",
    "created_at": "2021-03-15T18:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607348",
    "user": "https://github.com/orlitzky"
}
```

Changing branch from "u/dimpase/configure/autoconf271" to "u/mjo/ticket/30668"



---

archive/issue_comments_607349.json:
```json
{
    "body": "Changing commit from \"ce12b5f650a2f2c4d61dc790c442a5b80deb72b5\" to \"b717a71f1849ca126909b08daaef37aec251f395\"",
    "created_at": "2021-03-15T18:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607349",
    "user": "https://github.com/orlitzky"
}
```

Changing commit from "ce12b5f650a2f2c4d61dc790c442a5b80deb72b5" to "b717a71f1849ca126909b08daaef37aec251f395"



---

archive/issue_comments_607350.json:
```json
{
    "body": "<a id='comment:16'></a>\nAs you could check,\n\n```\n     if test \"x$ac_cv_prog_cc_c99\" = xno; then\n         SAGE_MUST_INSTALL_GCC([your C compiler cannot compile C99 code])\n     fi\n```\ncan be removed, as nothing sets `ac_cv_prog_cc_c99` any more.",
    "created_at": "2021-03-16T10:52:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607350",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:16'></a>
As you could check,

```
     if test "x$ac_cv_prog_cc_c99" = xno; then
         SAGE_MUST_INSTALL_GCC([your C compiler cannot compile C99 code])
     fi
```
can be removed, as nothing sets `ac_cv_prog_cc_c99` any more.



---

archive/issue_comments_607351.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [dimpase](#comment%3A16):\n> as nothing sets `ac_cv_prog_cc_c99` any more.\n\n\nOf course I haven't tested on a system with a brand-new autoconf and a twenty-year-old gcc, but the documentation for >=autoconf-2.70 says that `AC_PROG_CC` can now set it:\n\nhttps://www.gnu.org/software/autoconf/manual/autoconf-2.70/html_node/C-Compiler.html",
    "created_at": "2021-03-16T11:23:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607351",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:17'></a>
Replying to [dimpase](#comment%3A16):
> as nothing sets `ac_cv_prog_cc_c99` any more.


Of course I haven't tested on a system with a brand-new autoconf and a twenty-year-old gcc, but the documentation for >=autoconf-2.70 says that `AC_PROG_CC` can now set it:

https://www.gnu.org/software/autoconf/manual/autoconf-2.70/html_node/C-Compiler.html



---

archive/issue_comments_607352.json:
```json
{
    "body": "<a id='comment:18'></a>\nOK, fine, thanks. I'm bumping it to 9.3, perhaps there is still room...",
    "created_at": "2021-03-16T17:05:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607352",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>
OK, fine, thanks. I'm bumping it to 9.3, perhaps there is still room...



---

archive/issue_comments_607353.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2021-03-16T17:05:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607353",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_events_089921.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-16T17:05:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30668#event-89921"
}
```



---

archive/issue_events_089922.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-16T17:05:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30668#event-89922"
}
```



---

archive/issue_comments_607354.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-03-16T17:05:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607354",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_607355.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-03-16T17:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607355",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_607356.json:
```json
{
    "body": "<a id='comment:19'></a>\n\n```\ndiff --git a/m4/ax_check_compile_flag.m4 b/m4/ax_check_compile_flag.m4\nindex bd753b3..423ab25 100644\n--- a/m4/ax_check_compile_flag.m4\n+++ b/m4/ax_check_compile_flag.m4\n@@ -37,7 +37,7 @@\n #serial 6\n \n AC_DEFUN([AX_CHECK_COMPILE_FLAG],\n-[AC_PREREQ(2.64)dnl for _AC_LANG_PREFIX and AS_VAR_IF\n+[AC_PREREQ([2.69])dnl for _AC_LANG_PREFIX and AS_VAR_IF\n AS_VAR_PUSHDEF([CACHEVAR],[ax_cv_check_[]_AC_LANG_ABBREV[]flags_$4_$1])dnl\n AC_CACHE_CHECK([whether _AC_LANG compiler accepts $1], CACHEVAR, [\n   ax_check_save_flags=$[]_AC_LANG_PREFIX[]FLAGS\n```\nChanges like this are not good. These are files from autoconf-archive, and their versions are identified by `#serial`. Don't make changes within them. If necessary, get a newer version from autoconf-archive.",
    "created_at": "2021-03-16T17:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607356",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>

```
diff --git a/m4/ax_check_compile_flag.m4 b/m4/ax_check_compile_flag.m4
index bd753b3..423ab25 100644
--- a/m4/ax_check_compile_flag.m4
+++ b/m4/ax_check_compile_flag.m4
@@ -37,7 +37,7 @@
 #serial 6
 
 AC_DEFUN([AX_CHECK_COMPILE_FLAG],
-[AC_PREREQ(2.64)dnl for _AC_LANG_PREFIX and AS_VAR_IF
+[AC_PREREQ([2.69])dnl for _AC_LANG_PREFIX and AS_VAR_IF
 AS_VAR_PUSHDEF([CACHEVAR],[ax_cv_check_[]_AC_LANG_ABBREV[]flags_$4_$1])dnl
 AC_CACHE_CHECK([whether _AC_LANG compiler accepts $1], CACHEVAR, [
   ax_check_save_flags=$[]_AC_LANG_PREFIX[]FLAGS
```
Changes like this are not good. These are files from autoconf-archive, and their versions are identified by `#serial`. Don't make changes within them. If necessary, get a newer version from autoconf-archive.



---

archive/issue_comments_607357.json:
```json
{
    "body": "<a id='comment:20'></a>\nwell, the archive still has these old versions, e.g.: http://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=blob_plain;f=m4/ax_check_compile_flag.m4",
    "created_at": "2021-03-16T17:50:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607357",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'></a>
well, the archive still has these old versions, e.g.: http://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=blob_plain;f=m4/ax_check_compile_flag.m4



---

archive/issue_comments_607358.json:
```json
{
    "body": "<a id='comment:21'></a>\nWell, bumping the `AC_PREREQ` of these macros is certainly not needed for this ticket. There is already `AC_PREREQ([2.69])` in `configure.ac`, so what are you trying to achieve by these changes?",
    "created_at": "2021-03-16T18:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607358",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Well, bumping the `AC_PREREQ` of these macros is certainly not needed for this ticket. There is already `AC_PREREQ([2.69])` in `configure.ac`, so what are you trying to achieve by these changes?



---

archive/issue_comments_607359.json:
```json
{
    "body": "<a id='comment:22'></a>\nhttp://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=blob_plain;f=m4/ax_absolute_header.m4 has a newer version.\n\nFor other autoconf-archive macros that actually need changing, it would probably be good to prepare a pull request.",
    "created_at": "2021-03-16T18:24:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607359",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
http://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=blob_plain;f=m4/ax_absolute_header.m4 has a newer version.

For other autoconf-archive macros that actually need changing, it would probably be good to prepare a pull request.



---

archive/issue_comments_607360.json:
```json
{
    "body": "Changing reviewer from \"Dima Pasechnik\" to \"Dima Pasechnik, Matthias Koeppe\"",
    "created_at": "2021-03-16T18:28:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607360",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "Dima Pasechnik" to "Dima Pasechnik, Matthias Koeppe"



---

archive/issue_comments_607361.json:
```json
{
    "body": "<a id='comment:24'></a>\nOne reason I changed the version in these files was that autoupdate script changes them, to 2.71.",
    "created_at": "2021-03-19T13:53:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607361",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>
One reason I changed the version in these files was that autoupdate script changes them, to 2.71.



---

archive/issue_comments_607362.json:
```json
{
    "body": "<a id='comment:25'></a>\nIt sure looked like an automatically made change. But it should not be on the ticket.",
    "created_at": "2021-03-19T17:01:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607362",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
It sure looked like an automatically made change. But it should not be on the ticket.



---

archive/issue_comments_607363.json:
```json
{
    "body": "<a id='comment:26'></a>\nI can revert ax_c_check_flag.m4 change. \n\nHow about extra quotes to be put in in\nax_check_compile_flag.m4 ?\nWould you object to `2.64` becoming `[2.64]` ?",
    "created_at": "2021-03-20T23:22:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607363",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:26'></a>
I can revert ax_c_check_flag.m4 change. 

How about extra quotes to be put in in
ax_check_compile_flag.m4 ?
Would you object to `2.64` becoming `[2.64]` ?



---

archive/issue_comments_607364.json:
```json
{
    "body": "<a id='comment:27'></a>\nIs the quoting fix needed to suppress warnings with the new version? Then it should be upstreamed...",
    "created_at": "2021-03-21T01:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607364",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>
Is the quoting fix needed to suppress warnings with the new version? Then it should be upstreamed...



---

archive/issue_comments_607365.json:
```json
{
    "body": "<a id='comment:28'></a>\nSage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607365",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>
Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_089923.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30668#event-89923"
}
```



---

archive/issue_events_089924.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30668#event-89924"
}
```



---

archive/issue_comments_607366.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [mkoeppe](#comment%3A27):\n> Is the quoting fix needed to suppress warnings with the new version? Then it should be upstreamed...\n\n\nno, no warning without quotes.",
    "created_at": "2021-03-24T12:44:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607366",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:29'></a>
Replying to [mkoeppe](#comment%3A27):
> Is the quoting fix needed to suppress warnings with the new version? Then it should be upstreamed...


no, no warning without quotes.



---

archive/issue_comments_607367.json:
```json
{
    "body": "<a id='comment:30'></a>\nping?",
    "created_at": "2021-05-16T23:54:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607367",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>
ping?



---

archive/issue_comments_607368.json:
```json
{
    "body": "<a id='comment:31'></a>\nOK, how about this?\n\n---\nNew commits:\n|                                                                                                                                          |                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[aa10fdf](https://github.com/sagemath/sagetrac-mirror/commit/aa10fdf9f1f5bc7df740ee9e1097b6c9283ec452)|`mostly autupdate's results`|\n|[f59bf8e](https://github.com/sagemath/sagetrac-mirror/commit/f59bf8ed391d95d816117fadfdc1e434361ad4eb)|`Trac #30668: don't run obsolete AC_PROG_CC_C99 macro in GCC check.`|\n|[97b554d](https://github.com/sagemath/sagetrac-mirror/commit/97b554d4b4396b8ab132041debc8c800376c831c)|`do not bump up versions`|",
    "created_at": "2021-05-17T09:07:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607368",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:31'></a>
OK, how about this?

---
New commits:
|                                                                                                                                          |                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[aa10fdf](https://github.com/sagemath/sagetrac-mirror/commit/aa10fdf9f1f5bc7df740ee9e1097b6c9283ec452)|`mostly autupdate's results`|
|[f59bf8e](https://github.com/sagemath/sagetrac-mirror/commit/f59bf8ed391d95d816117fadfdc1e434361ad4eb)|`Trac #30668: don't run obsolete AC_PROG_CC_C99 macro in GCC check.`|
|[97b554d](https://github.com/sagemath/sagetrac-mirror/commit/97b554d4b4396b8ab132041debc8c800376c831c)|`do not bump up versions`|



---

archive/issue_comments_607369.json:
```json
{
    "body": "Changing commit from \"b717a71f1849ca126909b08daaef37aec251f395\" to \"97b554d4b4396b8ab132041debc8c800376c831c\"",
    "created_at": "2021-05-17T09:07:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607369",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "b717a71f1849ca126909b08daaef37aec251f395" to "97b554d4b4396b8ab132041debc8c800376c831c"



---

archive/issue_comments_607370.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-05-17T09:07:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607370",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_607371.json:
```json
{
    "body": "Changing branch from \"u/mjo/ticket/30668\" to \"u/dimpase/ticket/30668\"",
    "created_at": "2021-05-17T09:07:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607371",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "u/mjo/ticket/30668" to "u/dimpase/ticket/30668"



---

archive/issue_comments_607372.json:
```json
{
    "body": "<a id='comment:32'></a>\nSame as before",
    "created_at": "2021-05-18T03:56:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607372",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:32'></a>
Same as before



---

archive/issue_comments_607373.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-05-18T03:56:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607373",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_607374.json:
```json
{
    "body": "<a id='comment:33'></a>\nAnd also, what is this:\n\n```\n-AU_ALIAS([CHECK_SSL], [AX_CHECK_OPENSSL])\n+AU_ALIAS([AX_CHECK_OPENSSL], [AX_CHECK_OPENSSL])\n```",
    "created_at": "2021-05-18T04:07:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607374",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>
And also, what is this:

```
-AU_ALIAS([CHECK_SSL], [AX_CHECK_OPENSSL])
+AU_ALIAS([AX_CHECK_OPENSSL], [AX_CHECK_OPENSSL])
```



---

archive/issue_comments_607375.json:
```json
{
    "body": "<a id='comment:34'></a>\nour `m4/ax_*` files are not pristine upstream, e.g. check `m4/ax_check_root.m4`.\nWe do fix bugs there. Thus I think you're too strict in demanding these be left untouched.\n\nAs to[comment:33](#comment%3A33) goes, that's what the automatic update did.\nI guess this means that this `AU_ALIAS` may be deleted.",
    "created_at": "2021-05-18T15:25:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607375",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:34'></a>
our `m4/ax_*` files are not pristine upstream, e.g. check `m4/ax_check_root.m4`.
We do fix bugs there. Thus I think you're too strict in demanding these be left untouched.

As to[comment:33](#comment%3A33) goes, that's what the automatic update did.
I guess this means that this `AU_ALIAS` may be deleted.



---

archive/issue_comments_607376.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [dimpase](#comment%3A34):\n> our `m4/ax_*` files are not pristine upstream, e.g. check `m4/ax_check_root.m4`.\n> We do fix bugs there. Thus I think you're too strict in demanding these be left untouched.\n\n\ncomment 22. PR for upstream",
    "created_at": "2021-05-18T16:14:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607376",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:35'></a>
Replying to [dimpase](#comment%3A34):
> our `m4/ax_*` files are not pristine upstream, e.g. check `m4/ax_check_root.m4`.
> We do fix bugs there. Thus I think you're too strict in demanding these be left untouched.


comment 22. PR for upstream



---

archive/issue_comments_607377.json:
```json
{
    "body": "Changing commit from \"97b554d4b4396b8ab132041debc8c800376c831c\" to \"826df39abf9577f92ba77c6ffc8b713489e0b04a\"",
    "created_at": "2021-05-18T16:43:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607377",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "97b554d4b4396b8ab132041debc8c800376c831c" to "826df39abf9577f92ba77c6ffc8b713489e0b04a"



---

archive/issue_comments_607378.json:
```json
{
    "body": "<a id='comment:36'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|\n|[826df39](https://github.com/sagemath/sagetrac-mirror/commit/826df39abf9577f92ba77c6ffc8b713489e0b04a)|`use updated ax_absolute_header.m4 from savannah.gnu.org`|",
    "created_at": "2021-05-18T16:43:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607378",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
|[826df39](https://github.com/sagemath/sagetrac-mirror/commit/826df39abf9577f92ba77c6ffc8b713489e0b04a)|`use updated ax_absolute_header.m4 from savannah.gnu.org`|



---

archive/issue_comments_607379.json:
```json
{
    "body": "<a id='comment:37'></a>\nI'll ask on autoconf mailing list how/if they want updates",
    "created_at": "2021-05-18T16:44:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607379",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:37'></a>
I'll ask on autoconf mailing list how/if they want updates



---

archive/issue_comments_607380.json:
```json
{
    "body": "Changing upstream from \"N/A\" to \"Not yet reported upstream; Will do shortly.\"",
    "created_at": "2021-05-18T16:44:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607380",
    "user": "https://github.com/dimpase"
}
```

Changing upstream from "N/A" to "Not yet reported upstream; Will do shortly."



---

archive/issue_comments_607381.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-05-18T16:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607381",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_607382.json:
```json
{
    "body": "<a id='comment:39'></a>\nby the way, I noticed that Gentoo went back to 2.69, for a reason stated on https://packages.gentoo.org/packages/sys-devel/autoconf as\n\n```\nHas unidentified race condition on very fast CPUs that causes maintainer- mode to be triggered. Most likely caused by the following upstream commit: https://git.savannah.gnu.org/cgit/autoconf.git/commit/?id=aba75f6d4a9c875a9d5d90a07c6b3678db66a4bf\n```\nbut this supposed bug does not seem to be on Gentoo bug tracker, nor reported on bug-autoconf mailing list.",
    "created_at": "2021-05-20T09:38:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607382",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:39'></a>
by the way, I noticed that Gentoo went back to 2.69, for a reason stated on https://packages.gentoo.org/packages/sys-devel/autoconf as

```
Has unidentified race condition on very fast CPUs that causes maintainer- mode to be triggered. Most likely caused by the following upstream commit: https://git.savannah.gnu.org/cgit/autoconf.git/commit/?id=aba75f6d4a9c875a9d5d90a07c6b3678db66a4bf
```
but this supposed bug does not seem to be on Gentoo bug tracker, nor reported on bug-autoconf mailing list.



---

archive/issue_comments_607383.json:
```json
{
    "body": "<a id='comment:40'></a>\nthis leaves me without a ready to use system I can test these updates.",
    "created_at": "2021-05-20T09:39:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607383",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:40'></a>
this leaves me without a ready to use system I can test these updates.



---

archive/issue_comments_607384.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-05-20T09:39:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607384",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_607385.json:
```json
{
    "body": "<a id='comment:42'></a>\nYou can unmask autoconf-2.71 on Gentoo by adding the line `sys-devel/autoconf:2.71` to `/etc/portage/package.unmask`.\n\nI am sceptical of the unreported race condition, but have too many other things to worry about at the moment.",
    "created_at": "2021-05-20T15:18:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607385",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:42'></a>
You can unmask autoconf-2.71 on Gentoo by adding the line `sys-devel/autoconf:2.71` to `/etc/portage/package.unmask`.

I am sceptical of the unreported race condition, but have too many other things to worry about at the moment.



---

archive/issue_comments_607386.json:
```json
{
    "body": "Changing commit from \"826df39abf9577f92ba77c6ffc8b713489e0b04a\" to \"9bfbc41a51fec38af3b04109830b30951f27156f\"",
    "created_at": "2021-05-20T16:58:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607386",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "826df39abf9577f92ba77c6ffc8b713489e0b04a" to "9bfbc41a51fec38af3b04109830b30951f27156f"



---

archive/issue_comments_607387.json:
```json
{
    "body": "<a id='comment:43'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[9bfbc41](https://github.com/sagemath/sagetrac-mirror/commit/9bfbc41a51fec38af3b04109830b30951f27156f)|`update for autoconf 2.71`|",
    "created_at": "2021-05-20T16:58:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607387",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[9bfbc41](https://github.com/sagemath/sagetrac-mirror/commit/9bfbc41a51fec38af3b04109830b30951f27156f)|`update for autoconf 2.71`|



---

archive/issue_comments_607388.json:
```json
{
    "body": "<a id='comment:44'></a>\nI've removed all the changes to ax_* files - except the one that was updated upstream, so I included this update here.",
    "created_at": "2021-05-20T16:59:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607388",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:44'></a>
I've removed all the changes to ax_* files - except the one that was updated upstream, so I included this update here.



---

archive/issue_comments_607389.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-05-20T16:59:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607389",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_607390.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-05-20T17:23:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607390",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_607391.json:
```json
{
    "body": "<a id='comment:46'></a>\nweirdly, `SAGE_SPKG_CONFIGURE_BOOST` creeps up in a warning, even though full `boost` package is gone.\n\n```\nconfigure.ac:43: installing 'config/missing'\nm4/sage_spkg_configures.m4:500: warning: SAGE_SPKG_CONFIGURE_BOOST is m4_require'd but not m4_defun'd\nm4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...\nm4/sage_spkg_configures.m4:500: the top level\n```\n\nfeels like wrong quoting somewhere?\n\nAs well:\n\n```\n% ./configure --help | grep boost\n  --with-system-boost_cropped={no|yes (default)|force (exit with an error if no usable version is found)}\n                          detect and use an existing system boost_cropped\n  --with-boost[=ARG]      use Boost library from a standard location\n  --with-boost-libdir=LIB_DIR\n                          Force given directory for boost libraries. Note that\n                          fails and you know exactly where your boost\n```",
    "created_at": "2021-05-28T10:17:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607391",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:46'></a>
weirdly, `SAGE_SPKG_CONFIGURE_BOOST` creeps up in a warning, even though full `boost` package is gone.

```
configure.ac:43: installing 'config/missing'
m4/sage_spkg_configures.m4:500: warning: SAGE_SPKG_CONFIGURE_BOOST is m4_require'd but not m4_defun'd
m4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:500: the top level
```

feels like wrong quoting somewhere?

As well:

```
% ./configure --help | grep boost
  --with-system-boost_cropped={no|yes (default)|force (exit with an error if no usable version is found)}
                          detect and use an existing system boost_cropped
  --with-boost[=ARG]      use Boost library from a standard location
  --with-boost-libdir=LIB_DIR
                          Force given directory for boost libraries. Note that
                          fails and you know exactly where your boost
```



---

archive/issue_comments_607392.json:
```json
{
    "body": "<a id='comment:47'></a>\nthe latter is fixed by\nhttps://trac.sagemath.org/ticket/31575#comment:19\n\nI'll open another ticket for this.",
    "created_at": "2021-05-28T15:17:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607392",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:47'></a>
the latter is fixed by
https://trac.sagemath.org/ticket/31575#comment:19

I'll open another ticket for this.



---

archive/issue_comments_607393.json:
```json
{
    "body": "<a id='comment:48'></a>\nReplying to [dimpase](#comment%3A47):\n> the latter is fixed by\n> https://trac.sagemath.org/ticket/31575#comment:19\n> \n> I'll open another ticket for this.\n\nfixed by #31871",
    "created_at": "2021-05-28T16:54:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607393",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:48'></a>
Replying to [dimpase](#comment%3A47):
> the latter is fixed by
> https://trac.sagemath.org/ticket/31575#comment:19
> 
> I'll open another ticket for this.

fixed by #31871



---

archive/issue_events_089925.json:
```json
{
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30668#event-89925"
}
```



---

archive/issue_comments_607394.json:
```json
{
    "body": "<a id='comment:49'></a>\nplease merge this soon, a number of distros use autoconf 2.70+ now, and it breaks CI stuff not to support it properly.",
    "created_at": "2021-06-27T11:19:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607394",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:49'></a>
please merge this soon, a number of distros use autoconf 2.70+ now, and it breaks CI stuff not to support it properly.



---

archive/issue_comments_607395.json:
```json
{
    "body": "<a id='comment:50'></a>\nMade it a blocker, as I am tired of seeing\n\n```\nconfigure.ac:43: installing 'config/missing'\nm4/sage_spkg_configures.m4:515: warning: The macro `AC_PROG_CC_C99' is obsolete.\nm4/sage_spkg_configures.m4:515: You should run autoupdate.\n./lib/autoconf/c.m4:1659: AC_PROG_CC_C99 is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...\nm4/sage_spkg_configures.m4:515: the top level\nm4/sage_spkg_configures.m4:515: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:515: You should run autoupdate.\n./lib/autoconf/general.m4:191: AC_FOREACH is expanded from...\nm4/ax_absolute_header.m4:41: AX_ABSOLUTE_HEADER is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...\nm4/sage_spkg_configures.m4:515: the top level\nm4/sage_spkg_configures.m4:515: warning: The macro `AC_TRY_LINK' is obsolete.\nm4/sage_spkg_configures.m4:515: You should run autoupdate.\n./lib/autoconf/general.m4:2920: AC_TRY_LINK is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...\nm4/sage_spkg_configures.m4:515: the top level\nm4/sage_spkg_configures.m4:517: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:517: You should run autoupdate.\n./lib/autoconf/general.m4:191: AC_FOREACH is expanded from...\nm4/ax_absolute_header.m4:41: AX_ABSOLUTE_HEADER is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...\nm4/sage_spkg_configures.m4:517: the top level\nm4/sage_spkg_configures.m4:531: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:531: You should run autoupdate.\n./lib/autoconf/general.m4:191: AC_FOREACH is expanded from...\nm4/ax_absolute_header.m4:41: AX_ABSOLUTE_HEADER is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\n./lib/autoconf/headers.m4:89: _AC_CHECK_HEADER_COMPILE is expanded from...\n./lib/autoconf/headers.m4:56: AC_CHECK_HEADER is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...\nm4/sage_spkg_configures.m4:531: the top level\nm4/sage_spkg_configures.m4:595: warning: The macro `AC_TRY_RUN' is obsolete.\nm4/sage_spkg_configures.m4:595: You should run autoupdate.\n./lib/autoconf/general.m4:2997: AC_TRY_RUN is expanded from...\nm4/ppl.m4:29: AM_PATH_PPL is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...\nm4/sage_spkg_configures.m4:595: the top level\nm4/sage_spkg_configures.m4:595: warning: The macro `AC_TRY_LINK' is obsolete.\nm4/sage_spkg_configures.m4:595: You should run autoupdate.\n./lib/autoconf/general.m4:2920: AC_TRY_LINK is expanded from...\nm4/ppl.m4:29: AM_PATH_PPL is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...\nm4/sage_spkg_configures.m4:595: the top level\nconfigure.ac:447: warning: back quotes and double quotes must not be escaped in: multiple installation records for $SPKG_NAME: m4_newline($(ls -l \"$SAGE_SPKG_INST/$SPKG_NAME\"-*)) m4_newline([only one should exist, so please delete some or all of these files and re-run \\\"$srcdir/configure\\\"])\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...\nconfigure.ac:447: the top level\n```\nevery time I run `./bootstrap`\n\nalso, `make distclean` is broken for me without this branch.",
    "created_at": "2021-07-07T09:13:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607395",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:50'></a>
Made it a blocker, as I am tired of seeing

```
configure.ac:43: installing 'config/missing'
m4/sage_spkg_configures.m4:515: warning: The macro `AC_PROG_CC_C99' is obsolete.
m4/sage_spkg_configures.m4:515: You should run autoupdate.
./lib/autoconf/c.m4:1659: AC_PROG_CC_C99 is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:515: the top level
m4/sage_spkg_configures.m4:515: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:515: You should run autoupdate.
./lib/autoconf/general.m4:191: AC_FOREACH is expanded from...
m4/ax_absolute_header.m4:41: AX_ABSOLUTE_HEADER is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:515: the top level
m4/sage_spkg_configures.m4:515: warning: The macro `AC_TRY_LINK' is obsolete.
m4/sage_spkg_configures.m4:515: You should run autoupdate.
./lib/autoconf/general.m4:2920: AC_TRY_LINK is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:515: the top level
m4/sage_spkg_configures.m4:517: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:517: You should run autoupdate.
./lib/autoconf/general.m4:191: AC_FOREACH is expanded from...
m4/ax_absolute_header.m4:41: AX_ABSOLUTE_HEADER is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:517: the top level
m4/sage_spkg_configures.m4:531: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:531: You should run autoupdate.
./lib/autoconf/general.m4:191: AC_FOREACH is expanded from...
m4/ax_absolute_header.m4:41: AX_ABSOLUTE_HEADER is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
./lib/autoconf/headers.m4:89: _AC_CHECK_HEADER_COMPILE is expanded from...
./lib/autoconf/headers.m4:56: AC_CHECK_HEADER is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:531: the top level
m4/sage_spkg_configures.m4:595: warning: The macro `AC_TRY_RUN' is obsolete.
m4/sage_spkg_configures.m4:595: You should run autoupdate.
./lib/autoconf/general.m4:2997: AC_TRY_RUN is expanded from...
m4/ppl.m4:29: AM_PATH_PPL is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:595: the top level
m4/sage_spkg_configures.m4:595: warning: The macro `AC_TRY_LINK' is obsolete.
m4/sage_spkg_configures.m4:595: You should run autoupdate.
./lib/autoconf/general.m4:2920: AC_TRY_LINK is expanded from...
m4/ppl.m4:29: AM_PATH_PPL is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:595: the top level
configure.ac:447: warning: back quotes and double quotes must not be escaped in: multiple installation records for $SPKG_NAME: m4_newline($(ls -l "$SAGE_SPKG_INST/$SPKG_NAME"-*)) m4_newline([only one should exist, so please delete some or all of these files and re-run \"$srcdir/configure\"])
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
configure.ac:447: the top level
```
every time I run `./bootstrap`

also, `make distclean` is broken for me without this branch.



---

archive/issue_events_089926.json:
```json
{
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30668#event-89926"
}
```



---

archive/issue_comments_607396.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,3 +4,5 @@\n \n We should try to bootstrap sage with the new version to make sure everything works before any end-users get a chance to.\n \n+This ticket also unbreaks make targets such as `distclean`, which rely on normal return from `./bootstrap`, for these on autoconf 2.71\n+\n``````\n",
    "created_at": "2021-07-19T13:53:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607396",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,3 +4,5 @@
 
 We should try to bootstrap sage with the new version to make sure everything works before any end-users get a chance to.
 
+This ticket also unbreaks make targets such as `distclean`, which rely on normal return from `./bootstrap`, for these on autoconf 2.71
+
``````




---

archive/issue_comments_607397.json:
```json
{
    "body": "Changing author from \"\u200bDima Pasechnik, Michael Orlitzky\" to \"Dima Pasechnik, Michael Orlitzky\"",
    "created_at": "2021-07-25T15:09:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607397",
    "user": "https://github.com/vbraun"
}
```

Changing author from "​Dima Pasechnik, Michael Orlitzky" to "Dima Pasechnik, Michael Orlitzky"



---

archive/issue_comments_607398.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-07-25T18:51:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607398",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_089927.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-25T18:51:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30668#event-89927"
}
```



---

archive/issue_comments_607399.json:
```json
{
    "body": "Changing branch from \"u/dimpase/ticket/30668\" to \"9bfbc41a51fec38af3b04109830b30951f27156f\"",
    "created_at": "2021-07-25T18:51:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607399",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/dimpase/ticket/30668" to "9bfbc41a51fec38af3b04109830b30951f27156f"



---

archive/issue_comments_607400.json:
```json
{
    "body": "<a id='comment:54'></a>\nThanks, Volker. \n\nWere \"typos\" (well, unprintable chars - thanks Michael for spotting these) in the list of authors tripping up your scripts?",
    "created_at": "2021-07-27T08:06:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607400",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:54'></a>
Thanks, Volker. 

Were "typos" (well, unprintable chars - thanks Michael for spotting these) in the list of authors tripping up your scripts?



---

archive/issue_comments_607401.json:
```json
{
    "body": "Changing commit from \"9bfbc41a51fec38af3b04109830b30951f27156f\" to \"\"",
    "created_at": "2021-07-27T08:06:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30668#issuecomment-607401",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "9bfbc41a51fec38af3b04109830b30951f27156f" to ""
