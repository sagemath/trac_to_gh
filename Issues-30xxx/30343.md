# Issue 30343: Graphs: point-graph of generalised polygons

archive/issues_030106.json:
```json
{
    "body": "Added constructions to obtain distance-regular graphs from generalised polygons.\n\nCC:  @dimpase\n\nBranch/Commit: a176e0b0263fc580e1cdcb438c1fca32c849cc75\n\nReviewer: Dima Pasechnik\n\nAuthor: Ivo Maffei\n\nDependencies: #30337\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30343\n\n",
    "closed_at": "2020-12-27T00:23:19Z",
    "created_at": "2020-08-12T09:49:18Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Graphs: point-graph of generalised polygons",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30343",
    "user": "https://github.com/Ivo-Maffei"
}
```
Added constructions to obtain distance-regular graphs from generalised polygons.

CC:  @dimpase

Branch/Commit: a176e0b0263fc580e1cdcb438c1fca32c849cc75

Reviewer: Dima Pasechnik

Author: Ivo Maffei

Dependencies: #30337

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30343





---

archive/issue_comments_427561.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-08-12T09:50:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427561",
    "user": "https://github.com/Ivo-Maffei"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_427562.json:
```json
{
    "body": "<a id='comment:1'></a>Last 10 new commits:",
    "created_at": "2020-08-12T09:50:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427562",
    "user": "https://github.com/Ivo-Maffei"
}
```

<a id='comment:1'></a>Last 10 new commits:



---

archive/issue_comments_427563.json:
```json
{
    "body": "<a id='comment:2'></a>should I review this before #29886 is fixed (or removed from the deps chain here)?",
    "created_at": "2020-08-12T10:03:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427563",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:2'></a>should I review this before #29886 is fixed (or removed from the deps chain here)?



---

archive/issue_comments_427564.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-08-12T10:15:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427564",
    "user": "https://github.com/Ivo-Maffei"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_427565.json:
```json
{
    "body": "<a id='comment:3'></a>Replying to [comment:2 dimpase]:\n> should I review this before #29886 is fixed (or removed from the deps chain here)?\n\nOops, I rushed this out...\nI think I'll remove #29886 from the dependency chain and update all tickets.\nOnce we decide on something for #29886, I'll make a quick patch.",
    "created_at": "2020-08-12T10:15:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427565",
    "user": "https://github.com/Ivo-Maffei"
}
```

<a id='comment:3'></a>Replying to [comment:2 dimpase]:
> should I review this before #29886 is fixed (or removed from the deps chain here)?

Oops, I rushed this out...
I think I'll remove #29886 from the dependency chain and update all tickets.
Once we decide on something for #29886, I'll make a quick patch.



---

archive/issue_comments_427566.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-12T14:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427566",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427567.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2020-08-27T08:35:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427567",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_427568.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-08-27T08:35:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427568",
    "user": "https://github.com/Ivo-Maffei"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_427569.json:
```json
{
    "body": "<a id='comment:7'></a>this is incorrect:\n\n```\n+        ValueError: generalised octagons of order (q, q^2) exist only for q odd powers of 2\n```\nwhat's correct that only for these values of q a construction is known.\n\nPlease also check for similar incorrect things elsewhere in this code.",
    "created_at": "2020-08-27T12:48:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427569",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>this is incorrect:

```
+        ValueError: generalised octagons of order (q, q^2) exist only for q odd powers of 2
```
what's correct that only for these values of q a construction is known.

Please also check for similar incorrect things elsewhere in this code.



---

archive/issue_comments_427570.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:7 dimpase]:\n\nI'm apologise for the late reply.\n\n> this is incorrect:\n> \n> ```\n> +        ValueError: generalised octagons of order (q, q^2) exist only for q odd powers of 2\n> ```\n> what's correct that only for these values of q a construction is known.\n\nWith the latest commit (5367858) I changed all such error messages.\nNow the above should read:\n\n```\nValueError((\"generalised octagons of order (q, q^2) \"\n            \"are known only for q odd powers of 2\"))\n```",
    "created_at": "2020-08-27T19:33:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427570",
    "user": "https://github.com/Ivo-Maffei"
}
```

<a id='comment:8'></a>Replying to [comment:7 dimpase]:

I'm apologise for the late reply.

> this is incorrect:
> 
> ```
> +        ValueError: generalised octagons of order (q, q^2) exist only for q odd powers of 2
> ```
> what's correct that only for these values of q a construction is known.

With the latest commit (5367858) I changed all such error messages.
Now the above should read:

```
ValueError(("generalised octagons of order (q, q^2) "
            "are known only for q odd powers of 2"))
```



---

archive/issue_comments_427571.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-28T21:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427571",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427572.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-28T21:42:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427572",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_427573.json:
```json
{
    "body": "<a id='comment:10'></a>OK, looks good.",
    "created_at": "2020-08-28T21:42:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427573",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>OK, looks good.



---

archive/issue_comments_427574.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-09-13T09:23:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427574",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_427575.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. Last 10 new commits:",
    "created_at": "2020-09-13T09:23:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427575",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. Last 10 new commits:



---

archive/issue_comments_427576.json:
```json
{
    "body": "<a id='comment:12'></a>I merged the last beta and the last changes to #30337. \nThe patch box had a weird error with the documentation of `UstimenkoGraph`. I couldn't understand what was wrong so I'll check if the issue is still there after this merging.",
    "created_at": "2020-09-13T09:26:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427576",
    "user": "https://github.com/Ivo-Maffei"
}
```

<a id='comment:12'></a>I merged the last beta and the last changes to #30337. 
The patch box had a weird error with the documentation of `UstimenkoGraph`. I couldn't understand what was wrong so I'll check if the issue is still there after this merging.



---

archive/issue_comments_427577.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-13T12:21:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427577",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427578.json:
```json
{
    "body": "<a id='comment:14'></a>The patchbot still complains about the docstrings, but I can't see any issue in the built html.",
    "created_at": "2020-09-13T12:22:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427578",
    "user": "https://github.com/Ivo-Maffei"
}
```

<a id='comment:14'></a>The patchbot still complains about the docstrings, but I can't see any issue in the built html.



---

archive/issue_comments_427579.json:
```json
{
    "body": "<a id='comment:15'></a>There should be no space before colons\n\n```\n++    while edges :\n++            try :\n```\nThis is a typography rule.\n\nAnd importing something from sagenb does not look right, as sagenb is plain dead.\n\nEDIT: you can safely forget about the patchbot complaints in graph_database.py, even if they point to real problems.",
    "created_at": "2020-09-13T14:48:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427579",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:15'></a>There should be no space before colons

```
++    while edges :
++            try :
```
This is a typography rule.

And importing something from sagenb does not look right, as sagenb is plain dead.

EDIT: you can safely forget about the patchbot complaints in graph_database.py, even if they point to real problems.



---

archive/issue_comments_427580.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-13T14:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427580",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427581.json:
```json
{
    "body": "<a id='comment:17'></a>this fixes the 2nd of the pyflakes complaints:\n\n```\nsrc/sage/graphs/graph_database.py:421:47 undefined name 'subgraphs_to_data'\nsrc/sage/graphs/graph_database.py:945:9 'sagenb.notebook.interact.input_grid' imported but unused\n```\n\nthe 1st looks like a bug, just never tested that code.",
    "created_at": "2020-09-13T14:50:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427581",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'></a>this fixes the 2nd of the pyflakes complaints:

```
src/sage/graphs/graph_database.py:421:47 undefined name 'subgraphs_to_data'
src/sage/graphs/graph_database.py:945:9 'sagenb.notebook.interact.input_grid' imported but unused
```

the 1st looks like a bug, just never tested that code.



---

archive/issue_comments_427582.json:
```json
{
    "body": "<a id='comment:18'></a>yes, both are bugs. Probably many things are broken, even if only because they depend on sagenb",
    "created_at": "2020-09-13T14:53:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427582",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'></a>yes, both are bugs. Probably many things are broken, even if only because they depend on sagenb



---

archive/issue_comments_427583.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-13T15:17:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427583",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427584.json:
```json
{
    "body": "<a id='comment:20'></a>Replying to [comment:15 chapoton]:\n> There should be no space before colons\n> \n> ```\n> ++    while edges :\n> ++            try :\n> ```\n> This is a typography rule.\n\n\nOK, thanks, that's fixed. The bot is mis-reporting the locations where these are, though.\n\n> \n> EDIT: you can safely forget about the patchbot complaints in graph_database.py, even if they point to real problems.\n\n\nyeah, that is a legacy code...",
    "created_at": "2020-09-13T15:20:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427584",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'></a>Replying to [comment:15 chapoton]:
> There should be no space before colons
> 
> ```
> ++    while edges :
> ++            try :
> ```
> This is a typography rule.


OK, thanks, that's fixed. The bot is mis-reporting the locations where these are, though.

> 
> EDIT: you can safely forget about the patchbot complaints in graph_database.py, even if they point to real problems.


yeah, that is a legacy code...



---

archive/issue_comments_427585.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-13T22:18:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427585",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_427586.json:
```json
{
    "body": "<a id='comment:21'></a>ok",
    "created_at": "2020-09-13T22:18:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427586",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>ok



---

archive/issue_comments_427587.json:
```json
{
    "body": "<a id='comment:22'></a>On some but not all machines I'm getting\n\n```\n**********************************************************************\nFile \"src/sage/graphs/generators/distance_regular.pyx\", line 1714, in sage.graphs.generators.distance_regular._line_graph_generalised_polygon\nFailed example:\n    G = graphs.GeneralisedHexagonGraph(3, 3)\nException raised:\n    Traceback (most recent call last):\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.8/site-packages/sage/doctest/forker.py\", line 720, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.8/site-packages/sage/doctest/forker.py\", line 1145, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.generators.distance_regular._line_graph_generalised_polygon[4]>\", line 1, in <module>\n        G = graphs.GeneralisedHexagonGraph(Integer(3), Integer(3))\n      File \"sage/graphs/generators/distance_regular.pyx\", line 1587, in sage.graphs.generators.distance_regular.GeneralisedHexagonGraph (build/cythonized/sage/graphs/generators/distance_regular.c:25912)\n        orb = libgap.Orbit(matrixRep, e1, libgap.OnLines)\n      File \"sage/libs/gap/element.pyx\", line 2525, in sage.libs.gap.element.GapElement_Function.__call__ (build/cythonized/sage/libs/gap/element.c:19781)\n        sig_on()\n    sage.libs.gap.util.GAPError: Error, no method found! Error, no 1st choice method found for `GeneratorsOfMagmaWithInverses' on 1 arguments\n    The 1st argument is 'fail' which might point to an earlier problem\n**********************************************************************\n```\nSame when running manually: \n\n```\nsage: graphs.GeneralisedHexagonGraph(3, 3) \n....:                                                                                                                                                            \n---------------------------------------------------------------------------\nGAPError                                  Traceback (most recent call last)\n<ipython-input-1-6dbe64b36795> in <module>\n----> 1 graphs.GeneralisedHexagonGraph(Integer(3), Integer(3))\n\n~/slave/sage_git/build/local/lib/python3.8/site-packages/sage/graphs/generators/distance_regular.pyx in sage.graphs.generators.distance_regular.GeneralisedHexagonGraph (build/cythonized/sage/graphs/generators/distance_regular.c:25912)()\n   1585             matrixRep = libgap.AtlasGroup(\"G2(3)\", libgap.Position, 7)\n   1586             e1 = vector(GF(3), [1, 0, 0, 0, 0, 0, 0])\n-> 1587             orb = libgap.Orbit(matrixRep, e1, libgap.OnLines)\n   1588             group = libgap.Action(matrixRep, orb, libgap.OnLines)\n   1589 \n\n~/slave/sage_git/build/local/lib/python3.8/site-packages/sage/libs/gap/element.pyx in sage.libs.gap.element.GapElement_Function.__call__ (build/cythonized/sage/libs/gap/element.c:19781)()\n   2523         try:\n   2524             sig_GAP_Enter()\n-> 2525             sig_on()\n   2526             if n == 0:\n   2527                 result = CALL_0ARGS(self.value)\n\nGAPError: Error, no method found! Error, no 1st choice method found for `GeneratorsOfMagmaWithInverses' on 1 arguments\nThe 1st argument is 'fail' which might point to an earlier problem\nsage:                                                                                                                                                            \nExiting Sage (CPU time 0m1.43s, Wall time 0m15.41s).\n```",
    "created_at": "2020-09-26T18:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427587",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:22'></a>On some but not all machines I'm getting

```
**********************************************************************
File "src/sage/graphs/generators/distance_regular.pyx", line 1714, in sage.graphs.generators.distance_regular._line_graph_generalised_polygon
Failed example:
    G = graphs.GeneralisedHexagonGraph(3, 3)
Exception raised:
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.8/site-packages/sage/doctest/forker.py", line 720, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.8/site-packages/sage/doctest/forker.py", line 1145, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generators.distance_regular._line_graph_generalised_polygon[4]>", line 1, in <module>
        G = graphs.GeneralisedHexagonGraph(Integer(3), Integer(3))
      File "sage/graphs/generators/distance_regular.pyx", line 1587, in sage.graphs.generators.distance_regular.GeneralisedHexagonGraph (build/cythonized/sage/graphs/generators/distance_regular.c:25912)
        orb = libgap.Orbit(matrixRep, e1, libgap.OnLines)
      File "sage/libs/gap/element.pyx", line 2525, in sage.libs.gap.element.GapElement_Function.__call__ (build/cythonized/sage/libs/gap/element.c:19781)
        sig_on()
    sage.libs.gap.util.GAPError: Error, no method found! Error, no 1st choice method found for `GeneratorsOfMagmaWithInverses' on 1 arguments
    The 1st argument is 'fail' which might point to an earlier problem
**********************************************************************
```
Same when running manually: 

```
sage: graphs.GeneralisedHexagonGraph(3, 3) 
....:                                                                                                                                                            
---------------------------------------------------------------------------
GAPError                                  Traceback (most recent call last)
<ipython-input-1-6dbe64b36795> in <module>
----> 1 graphs.GeneralisedHexagonGraph(Integer(3), Integer(3))

~/slave/sage_git/build/local/lib/python3.8/site-packages/sage/graphs/generators/distance_regular.pyx in sage.graphs.generators.distance_regular.GeneralisedHexagonGraph (build/cythonized/sage/graphs/generators/distance_regular.c:25912)()
   1585             matrixRep = libgap.AtlasGroup("G2(3)", libgap.Position, 7)
   1586             e1 = vector(GF(3), [1, 0, 0, 0, 0, 0, 0])
-> 1587             orb = libgap.Orbit(matrixRep, e1, libgap.OnLines)
   1588             group = libgap.Action(matrixRep, orb, libgap.OnLines)
   1589 

~/slave/sage_git/build/local/lib/python3.8/site-packages/sage/libs/gap/element.pyx in sage.libs.gap.element.GapElement_Function.__call__ (build/cythonized/sage/libs/gap/element.c:19781)()
   2523         try:
   2524             sig_GAP_Enter()
-> 2525             sig_on()
   2526             if n == 0:
   2527                 result = CALL_0ARGS(self.value)

GAPError: Error, no method found! Error, no 1st choice method found for `GeneratorsOfMagmaWithInverses' on 1 arguments
The 1st argument is 'fail' which might point to an earlier problem
sage:                                                                                                                                                            
Exiting Sage (CPU time 0m1.43s, Wall time 0m15.41s).
```



---

archive/issue_comments_427588.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-09-26T18:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427588",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_427589.json:
```json
{
    "body": "<a id='comment:23'></a>I cannot reproduce this (neither with python 3.7 or 3.8, neither with the currenly Sage's GAP, nor with GAP 4.11 update, with or without gap_packages installed) - do you actually have working libgap on these machines?",
    "created_at": "2020-09-27T13:08:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427589",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:23'></a>I cannot reproduce this (neither with python 3.7 or 3.8, neither with the currenly Sage's GAP, nor with GAP 4.11 update, with or without gap_packages installed) - do you actually have working libgap on these machines?



---

archive/issue_comments_427590.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-27T13:26:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427590",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427591.json:
```json
{
    "body": "<a id='comment:25'></a>It might be one of the dependent tickets...",
    "created_at": "2020-09-27T16:05:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427591",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:25'></a>It might be one of the dependent tickets...



---

archive/issue_comments_427592.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2020-09-27T16:41:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427592",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_427593.json:
```json
{
    "body": "<a id='comment:26'></a>Replying to [comment:25 vbraun]:\n> It might be one of the dependent tickets...\n\n\nDo you mean to say you mass-test some more tickets along with this one and  attribute the error you see to this one?\n\nI'm setting this to positive review, as I don't see what work  can be done here.",
    "created_at": "2020-09-27T16:41:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427593",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:26'></a>Replying to [comment:25 vbraun]:
> It might be one of the dependent tickets...


Do you mean to say you mass-test some more tickets along with this one and  attribute the error you see to this one?

I'm setting this to positive review, as I don't see what work  can be done here.



---

archive/issue_comments_427594.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-10-03T10:20:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427594",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_427595.json:
```json
{
    "body": "<a id='comment:27'></a>Its definitely this ticket thats failing. Possibly running out of memory, prematurely garbage collecting, or generator choice...",
    "created_at": "2020-10-03T10:20:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427595",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:27'></a>Its definitely this ticket thats failing. Possibly running out of memory, prematurely garbage collecting, or generator choice...



---

archive/issue_comments_427596.json:
```json
{
    "body": "<a id='comment:28'></a>\n```\nsage: libgap.AtlasGroup(\"G2(3)\")                                                                                                                   \nfail\n```",
    "created_at": "2020-10-03T22:42:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427596",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:28'></a>
```
sage: libgap.AtlasGroup("G2(3)")                                                                                                                   
fail
```



---

archive/issue_comments_427597.json:
```json
{
    "body": "<a id='comment:29'></a>After installing gap_packages:\n\n```\nsage: libgap.AtlasGroup(\"G2(3)\")                                                                                                                   \n<matrix group of size 4245696 with 2 generators>\nsage: graphs.GeneralisedHexagonGraph(3, 3)                                                                                                         \nGeneralised hexagon of order (3, 3): Graph on 364 vertices\n```",
    "created_at": "2020-10-03T22:54:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427597",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:29'></a>After installing gap_packages:

```
sage: libgap.AtlasGroup("G2(3)")                                                                                                                   
<matrix group of size 4245696 with 2 generators>
sage: graphs.GeneralisedHexagonGraph(3, 3)                                                                                                         
Generalised hexagon of order (3, 3): Graph on 364 vertices
```



---

archive/issue_comments_427598.json:
```json
{
    "body": "<a id='comment:30'></a>The test is marked with gap_packages. Is the syntax wrong or is an issue with the testing?",
    "created_at": "2020-10-03T22:56:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427598",
    "user": "https://github.com/Ivo-Maffei"
}
```

<a id='comment:30'></a>The test is marked with gap_packages. Is the syntax wrong or is an issue with the testing?



---

archive/issue_events_078600.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30343#event-78600"
}
```



---

archive/issue_comments_427599.json:
```json
{
    "body": "<a id='comment:32'></a>This ticket seems to be blocking a number of positively reviewed tickets that have it as a dependency",
    "created_at": "2020-12-14T18:25:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427599",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:32'></a>This ticket seems to be blocking a number of positively reviewed tickets that have it as a dependency



---

archive/issue_comments_427600.json:
```json
{
    "body": "<a id='comment:33'></a>I tried this ticket before and after installing `gap_packages` and I measured the memory used while testing the ticket. For me the ticket looks ok, so I don't know why the some bots are failing.\n\n```\nsapristi:sage dcoudert$ /usr/bin/time -l ./sage -t --long src/sage/graphs/generators/distance_regular.pyx\nRunning doctests with ID 2020-12-12-10-37-04-0c0dc92b.\nGit branch: HEAD\nUsing --optional=bliss,build,dochtml,homebrew,pip,python_igraph,sage,sage_numerical_backends_cplex,sage_spkg,tdlib,texttable\nDoctesting 1 file.\nsage -t --long --warn-long 203.5 --random-seed=0 src/sage/graphs/generators/distance_regular.pyx\n    [129 tests, 178.33 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 178.5 seconds\n    cpu time: 177.3 seconds\n    cumulative wall time: 178.3 seconds\n      193.93 real       179.36 user         5.70 sys\n 433836032  maximum resident set size\n         0  average shared memory size\n         0  average unshared data size\n         0  average unshared stack size\n    472070  page reclaims\n      6723  page faults\n         0  swaps\n         0  block input operations\n         0  block output operations\n         0  messages sent\n         0  messages received\n       156  signals received\n      5180  voluntary context switches\n     93942  involuntary context switches\n```\n\n```\nsapristi:sage dcoudert$ /usr/bin/time -l ./sage -t --long src/sage/graphs/generators/distance_regular.pyx\nForcing sage-location, probably because a new package was installed.\nCleaning up, do not interrupt this.\nDone cleaning.\nRunning doctests with ID 2020-12-12-11-40-44-e3fae3fc.\nGit branch: develop\nUsing --optional=bliss,build,dochtml,gap_packages,homebrew,libsemigroups,pip,python_igraph,sage,sage_numerical_backends_cplex,sage_spkg,tdlib,texttable\nDoctesting 1 file.\nsage -t --long --warn-long 203.5 --random-seed=0 src/sage/graphs/generators/distance_regular.pyx\n    [105 tests, 195.51 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 195.6 seconds\n    cpu time: 186.3 seconds\n    cumulative wall time: 195.5 seconds\n      207.59 real       187.34 user         5.13 sys\n 450232320  maximum resident set size\n         0  average shared memory size\n         0  average unshared data size\n         0  average unshared stack size\n    467254  page reclaims\n     13861  page faults\n         0  swaps\n         0  block input operations\n         0  block output operations\n         0  messages sent\n         0  messages received\n       170  signals received\n      7876  voluntary context switches\n    189530  involuntary context switches\n```",
    "created_at": "2020-12-14T22:41:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427600",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:33'></a>I tried this ticket before and after installing `gap_packages` and I measured the memory used while testing the ticket. For me the ticket looks ok, so I don't know why the some bots are failing.

```
sapristi:sage dcoudert$ /usr/bin/time -l ./sage -t --long src/sage/graphs/generators/distance_regular.pyx
Running doctests with ID 2020-12-12-10-37-04-0c0dc92b.
Git branch: HEAD
Using --optional=bliss,build,dochtml,homebrew,pip,python_igraph,sage,sage_numerical_backends_cplex,sage_spkg,tdlib,texttable
Doctesting 1 file.
sage -t --long --warn-long 203.5 --random-seed=0 src/sage/graphs/generators/distance_regular.pyx
    [129 tests, 178.33 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 178.5 seconds
    cpu time: 177.3 seconds
    cumulative wall time: 178.3 seconds
      193.93 real       179.36 user         5.70 sys
 433836032  maximum resident set size
         0  average shared memory size
         0  average unshared data size
         0  average unshared stack size
    472070  page reclaims
      6723  page faults
         0  swaps
         0  block input operations
         0  block output operations
         0  messages sent
         0  messages received
       156  signals received
      5180  voluntary context switches
     93942  involuntary context switches
```

```
sapristi:sage dcoudert$ /usr/bin/time -l ./sage -t --long src/sage/graphs/generators/distance_regular.pyx
Forcing sage-location, probably because a new package was installed.
Cleaning up, do not interrupt this.
Done cleaning.
Running doctests with ID 2020-12-12-11-40-44-e3fae3fc.
Git branch: develop
Using --optional=bliss,build,dochtml,gap_packages,homebrew,libsemigroups,pip,python_igraph,sage,sage_numerical_backends_cplex,sage_spkg,tdlib,texttable
Doctesting 1 file.
sage -t --long --warn-long 203.5 --random-seed=0 src/sage/graphs/generators/distance_regular.pyx
    [105 tests, 195.51 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 195.6 seconds
    cpu time: 186.3 seconds
    cumulative wall time: 195.5 seconds
      207.59 real       187.34 user         5.13 sys
 450232320  maximum resident set size
         0  average shared memory size
         0  average unshared data size
         0  average unshared stack size
    467254  page reclaims
     13861  page faults
         0  swaps
         0  block input operations
         0  block output operations
         0  messages sent
         0  messages received
       170  signals received
      7876  voluntary context switches
    189530  involuntary context switches
```



---

archive/issue_comments_427601.json:
```json
{
    "body": "<a id='comment:34'></a>maybe there is a line missing the tag ?\n\n```\n+         sage: G = graphs.GeneralisedHexagonGraph(3, 3)\n```",
    "created_at": "2020-12-15T10:26:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427601",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:34'></a>maybe there is a line missing the tag ?

```
+         sage: G = graphs.GeneralisedHexagonGraph(3, 3)
```



---

archive/issue_comments_427602.json:
```json
{
    "body": "<a id='comment:35'></a>Right, may be we should tag all the tests of these methods with `gap_packages`, even the trivial ones",
    "created_at": "2020-12-15T10:32:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427602",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:35'></a>Right, may be we should tag all the tests of these methods with `gap_packages`, even the trivial ones



---

archive/issue_comments_427603.json:
```json
{
    "body": "<a id='comment:36'></a>GAP is used here. As GAP has been finally updated to 4.11 in the latest beta, let's retest this ticket and see if it works.",
    "created_at": "2020-12-15T11:27:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427603",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:36'></a>GAP is used here. As GAP has been finally updated to 4.11 in the latest beta, let's retest this ticket and see if it works.



---

archive/issue_comments_427604.json:
```json
{
    "body": "<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-12-15T12:01:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427604",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_427605.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-12-15T12:03:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427605",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_427606.json:
```json
{
    "body": "<a id='comment:38'></a>rebased and added a missing tag in https://git.sagemath.org/sage.git/commit/?id=1ade78be95f0ffe4885917bc9ce36196d2b6d5e6",
    "created_at": "2020-12-15T12:03:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427606",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:38'></a>rebased and added a missing tag in https://git.sagemath.org/sage.git/commit/?id=1ade78be95f0ffe4885917bc9ce36196d2b6d5e6



---

archive/issue_comments_427607.json:
```json
{
    "body": "<a id='comment:39'></a>you must also tag the 2 lines after in the test. Depends on the result.",
    "created_at": "2020-12-15T12:30:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427607",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:39'></a>you must also tag the 2 lines after in the test. Depends on the result.



---

archive/issue_comments_427608.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-12-15T13:46:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427608",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_427609.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-12-15T13:46:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427609",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_427610.json:
```json
{
    "body": "<a id='comment:41'></a>OK, it all works now.",
    "created_at": "2020-12-15T13:46:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427610",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:41'></a>OK, it all works now.



---

archive/issue_events_078601.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-12-27T00:23:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30343#event-78601"
}
```



---

archive/issue_comments_427611.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-12-27T00:23:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30343#issuecomment-427611",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
