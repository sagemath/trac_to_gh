# Issue 30930: Add/update the system package information for the "_recommended" dummy package

archive/issues_030693.json:
```json
{
    "body": "Follow-up from #29557 (Add script package _recommended and generate \"recommended system packages\" info).\n\n\nFrom egourgoulhon #30624 and similar reports by gh-tobiasdiez, jhpalmieri #29557:\n\n  configure ends with the following recommendations:\n\n```\n  configure: hint: installing the following system packages is recommended and may \navoid building some of the above SPKGs from source:\nconfigure:   $ sudo apt-get update \n  $ sudo apt-get install texlive-generic-extra texlive-xetex latexmk pandoc dvipng \ndefault-jdk ffmpeg libavdevice-dev libcdd-dev libcdd-tools libec-dev eclib-tools \nlibgc-dev libgiac-dev xcas pari-gp2c lcalc liblfunction-dev libnauty-dev nauty \npari-gp2c libpari-dev pari-doc pari-elldata pari-galdata pari-galpol pari-seadata \nsympow\n```\n\n- #30910 replaced `texlive-generic-extra` by a package that exists in modern Debian distributions.\n- #31042 addresses `pandoc`.\n- #29372 changed the message, showing installation hints for non-enabled optional packages separately.\n- #32956 create dummy script packages for ffmpeg and imagemagick \n\nThe message is printed regardless of whether `ffmpeg` et al. are installed because `build/pkgs/_recommended/spkg-configure.m4` does not check anything.\n\nTo this end, tests need to be added for the presence of the various recommended packages in the system. \n\n**We do this by splitting out individual script packages, similar to the existing `build/pkgs/pandoc` and `build/pkgs/graphviz`.**\n\n\n\n\nDepends on #30910\n\nDepends on #31042\n\n**CC:**  @jhpalmieri @egourgoulhon @tobiasdiez @seblabbe @slel\n\n**Keywords:** sd111\n\nIssue created by migration from https://trac.sagemath.org/ticket/30930\n\n",
    "created_at": "2020-11-17T02:17:06Z",
    "labels": [
        "component: build: configure",
        "enhancement",
        "needs work"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "title": "Add/update the system package information for the \"_recommended\" dummy package",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/30930",
    "user": "https://github.com/mkoeppe"
}
```
Follow-up from #29557 (Add script package _recommended and generate "recommended system packages" info).


From egourgoulhon #30624 and similar reports by gh-tobiasdiez, jhpalmieri #29557:

  configure ends with the following recommendations:

```
  configure: hint: installing the following system packages is recommended and may 
avoid building some of the above SPKGs from source:
configure:   $ sudo apt-get update 
  $ sudo apt-get install texlive-generic-extra texlive-xetex latexmk pandoc dvipng 
default-jdk ffmpeg libavdevice-dev libcdd-dev libcdd-tools libec-dev eclib-tools 
libgc-dev libgiac-dev xcas pari-gp2c lcalc liblfunction-dev libnauty-dev nauty 
pari-gp2c libpari-dev pari-doc pari-elldata pari-galdata pari-galpol pari-seadata 
sympow
```

- #30910 replaced `texlive-generic-extra` by a package that exists in modern Debian distributions.
- #31042 addresses `pandoc`.
- #29372 changed the message, showing installation hints for non-enabled optional packages separately.
- #32956 create dummy script packages for ffmpeg and imagemagick 

The message is printed regardless of whether `ffmpeg` et al. are installed because `build/pkgs/_recommended/spkg-configure.m4` does not check anything.

To this end, tests need to be added for the presence of the various recommended packages in the system. 

**We do this by splitting out individual script packages, similar to the existing `build/pkgs/pandoc` and `build/pkgs/graphviz`.**




Depends on #30910

Depends on #31042

**CC:**  @jhpalmieri @egourgoulhon @tobiasdiez @seblabbe @slel

**Keywords:** sd111

Issue created by migration from https://trac.sagemath.org/ticket/30930





---

archive/issue_comments_498351.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,22 @@\n Follow-up from #29557 (Add script package _recommended and generate \"recommended system packages\" info).\n \n \n+From egourgoulhon #30624:\n+\n+  FWIW, I've installed Sage 9.3.beta0 from scratch on Ubuntu 20.04; \n+  configure ends with the following recommendations:\n+\n+```\n+  configure: hint: installing the following system packages is recommended and may \n+avoid building some of the above SPKGs from source:\n+configure:   $ sudo apt-get update \n+  $ sudo apt-get install texlive-generic-extra texlive-xetex latexmk pandoc dvipng \n+default-jdk ffmpeg libavdevice-dev libcdd-dev libcdd-tools libec-dev eclib-tools \n+libgc-dev libgiac-dev xcas pari-gp2c lcalc liblfunction-dev libnauty-dev nauty \n+pari-gp2c libpari-dev pari-doc pari-elldata pari-galdata pari-galpol pari-seadata \n+sympow\n+```\n+  Now, as mentioned in \u200b[#29557 comment:56](https://github.com/sagemath/sage/issues/29557#comment:56), texlive-generic-extra does not exist on Ubuntu 20.04 (there is texlive-latex-extra, which is already installed on my system). Moreover the recommended packages texlive-xetex, latexmk, pandoc, dvipng, default-jdk, ffmpeg, libavdevice-dev, libcdd-dev and libcdd-tools are already installed on my system.\n+\n+From gh-tobiasdiez #29557:\n+  The package texlive-generic-extra doesn't exist for ubuntu 20.04, and on 18.04 it was already labeled as \"transitional dummy package\". I'm not sure what's the correct replacement, maybe simply \"texlive\"?\n``````\n",
    "created_at": "2020-11-17T02:22:17Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498351",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,22 @@
 Follow-up from #29557 (Add script package _recommended and generate "recommended system packages" info).
 
 
+From egourgoulhon #30624:
+
+  FWIW, I've installed Sage 9.3.beta0 from scratch on Ubuntu 20.04; 
+  configure ends with the following recommendations:
+
+```
+  configure: hint: installing the following system packages is recommended and may 
+avoid building some of the above SPKGs from source:
+configure:   $ sudo apt-get update 
+  $ sudo apt-get install texlive-generic-extra texlive-xetex latexmk pandoc dvipng 
+default-jdk ffmpeg libavdevice-dev libcdd-dev libcdd-tools libec-dev eclib-tools 
+libgc-dev libgiac-dev xcas pari-gp2c lcalc liblfunction-dev libnauty-dev nauty 
+pari-gp2c libpari-dev pari-doc pari-elldata pari-galdata pari-galpol pari-seadata 
+sympow
+```
+  Now, as mentioned in â€‹[#29557 comment:56](https://github.com/sagemath/sage/issues/29557#comment:56), texlive-generic-extra does not exist on Ubuntu 20.04 (there is texlive-latex-extra, which is already installed on my system). Moreover the recommended packages texlive-xetex, latexmk, pandoc, dvipng, default-jdk, ffmpeg, libavdevice-dev, libcdd-dev and libcdd-tools are already installed on my system.
+
+From gh-tobiasdiez #29557:
+  The package texlive-generic-extra doesn't exist for ubuntu 20.04, and on 18.04 it was already labeled as "transitional dummy package". I'm not sure what's the correct replacement, maybe simply "texlive"?
``````




---

archive/issue_comments_498352.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -20,3 +20,19 @@\n \n From gh-tobiasdiez #29557:\n   The package texlive-generic-extra doesn't exist for ubuntu 20.04, and on 18.04 it was already labeled as \"transitional dummy package\". I'm not sure what's the correct replacement, maybe simply \"texlive\"?\n+\n+From jhpalmieri #29557:\n+  On OS X, I see this:\n+\n+```\n+configure:40015: notice: the following SPKGs did not find equivalent system packages: _recommended arb brial cbc cddlib cliquer cmake coxeter3 eclib ecm fflas_ffpack flint flintqs fplll gf2x gfan giac givaro gp2c iml lcalc libbraiding libsemigroups lrcalc m4ri m4rie ntl palp pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small perl_cpan_polymake_prereq perl_term_readline_gnu planarity rw symmetrica sympow tachyon zn_poly\n+configure:40017: checking for the package system in use\n+configure:40020: result: homebrew\n+configure:40029: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs from source:\n+configure:40031:   $ brew install pandoc ffmpeg imagemagick texinfo cmake\n+```\n+  On a follow-up, we could improve this message. First, these recommended packages don't actually help to avoid building any of the listed SPKGs. Second, this message is printed regardless of whether ffmpeg et al. are installed. Third, I actually have pandoc installed, it is correctly detected by ./configure, but it recommends installing it anyway.\n+  Replying to mkoeppe:\n+    Note there's also a separate pandoc script package\n+  Right, and that correctly detects my pandoc installation, so it would be nice if the ending message took that into account. The ending message automatically prints every recommended external package, even those which are installed and have corresponding script packages.\n+\n``````\n",
    "created_at": "2020-11-17T02:24:37Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498352",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -20,3 +20,19 @@
 
 From gh-tobiasdiez #29557:
   The package texlive-generic-extra doesn't exist for ubuntu 20.04, and on 18.04 it was already labeled as "transitional dummy package". I'm not sure what's the correct replacement, maybe simply "texlive"?
+
+From jhpalmieri #29557:
+  On OS X, I see this:
+
+```
+configure:40015: notice: the following SPKGs did not find equivalent system packages: _recommended arb brial cbc cddlib cliquer cmake coxeter3 eclib ecm fflas_ffpack flint flintqs fplll gf2x gfan giac givaro gp2c iml lcalc libbraiding libsemigroups lrcalc m4ri m4rie ntl palp pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small perl_cpan_polymake_prereq perl_term_readline_gnu planarity rw symmetrica sympow tachyon zn_poly
+configure:40017: checking for the package system in use
+configure:40020: result: homebrew
+configure:40029: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs from source:
+configure:40031:   $ brew install pandoc ffmpeg imagemagick texinfo cmake
+```
+  On a follow-up, we could improve this message. First, these recommended packages don't actually help to avoid building any of the listed SPKGs. Second, this message is printed regardless of whether ffmpeg et al. are installed. Third, I actually have pandoc installed, it is correctly detected by ./configure, but it recommends installing it anyway.
+  Replying to mkoeppe:
+    Note there's also a separate pandoc script package
+  Right, and that correctly detects my pandoc installation, so it would be nice if the ending message took that into account. The ending message automatically prints every recommended external package, even those which are installed and have corresponding script packages.
+
``````




---

archive/issue_comments_498353.json:
```json
{
    "body": "<a id='comment:3'></a>\nThe debian package providing latex is updated in #30910, which I have made a dependency.",
    "created_at": "2020-11-17T02:32:17Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498353",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
The debian package providing latex is updated in #30910, which I have made a dependency.



---

archive/issue_comments_498354.json:
```json
{
    "body": "**Dependencies:** #30910",
    "created_at": "2020-11-17T02:32:17Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498354",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #30910



---

archive/issue_comments_498355.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/add_update_the_system_package_information_for_the___recommended__dummy_package](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/add_update_the_system_package_information_for_the___recommended__dummy_package)",
    "created_at": "2020-11-17T02:39:31Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498355",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/add_update_the_system_package_information_for_the___recommended__dummy_package](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/add_update_the_system_package_information_for_the___recommended__dummy_package)



---

archive/issue_comments_498356.json:
```json
{
    "body": "**Commit:** [afdd20f36102da5afe1b8708820d656b12ee7b8b](https://github.com/sagemath/sagetrac-mirror/commit/afdd20f36102da5afe1b8708820d656b12ee7b8b)",
    "created_at": "2020-11-17T02:42:35Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498356",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [afdd20f36102da5afe1b8708820d656b12ee7b8b](https://github.com/sagemath/sagetrac-mirror/commit/afdd20f36102da5afe1b8708820d656b12ee7b8b)



---

archive/issue_comments_498357.json:
```json
{
    "body": "<a id='comment:5'></a>\nThis is taking care of the issue with pandoc.\n\n---\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/050dcb8275b3a7e0db4c7ae3503428107bb5bf17\">050dcb8</a></td><td><code>tox.ini (local-sudo): Use --yes --no-install-recommends</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8fbe0beaec3a404d330aaebdf37186e9c6becec\">c8fbe0b</a></td><td><code>tox.ini (local-sudo): Ignore errors when IGNORE_MISSING_SYSTEM_PACKAGES=yes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff34897cac35061afd348cc08a6559f95f406f14\">ff34897</a></td><td><code>tox.ini (local): Guess the package system if it is not provided as a factor</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e27ff19a5969919ceb43fe910fc8d43cfb0c7bf0\">e27ff19</a></td><td><code>Merge branch 'u/mkoeppe/tox_ini__add_environments_local_sudo_ubuntu_standard__etc_' of git://trac.sagemath.org/sage into public/build/fixwsl</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ff45c41ce97531cc845456941a982c9b583d5f7\">6ff45c4</a></td><td><code>Cleanup workflow</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53481440a24a3914430dcbf1cf4e19e4aab5267c\">5348144</a></td><td><code>Replace texlive-generic-extra</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fd029f1e2b1e8384d14995c361f90e331b784b9\">0fd029f</a></td><td><code>Narrow down events that trigger the workflow</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ccae0258309b682d6429cafbc656e90894d6ebe\">3ccae02</a></td><td><code>build/pkgs/_recommended/distros/debian.txt: Update latex package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d0e6738985ecc2e0c1db71bc644552d2346f5f1\">6d0e673</a></td><td><code>Merge branch 't/30910/public/build/fixwsl' into t/30930/add_update_the_system_package_information_for_the___recommended__dummy_package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/afdd20f36102da5afe1b8708820d656b12ee7b8b\">afdd20f</a></td><td><code>build/pkgs/_recommended/distros, src/doc/bootstrap: Remove duplication of pandoc</code></td></tr></table>\n",
    "created_at": "2020-11-17T02:42:35Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498357",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
This is taking care of the issue with pandoc.

---
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/050dcb8275b3a7e0db4c7ae3503428107bb5bf17">050dcb8</a></td><td><code>tox.ini (local-sudo): Use --yes --no-install-recommends</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8fbe0beaec3a404d330aaebdf37186e9c6becec">c8fbe0b</a></td><td><code>tox.ini (local-sudo): Ignore errors when IGNORE_MISSING_SYSTEM_PACKAGES=yes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff34897cac35061afd348cc08a6559f95f406f14">ff34897</a></td><td><code>tox.ini (local): Guess the package system if it is not provided as a factor</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e27ff19a5969919ceb43fe910fc8d43cfb0c7bf0">e27ff19</a></td><td><code>Merge branch 'u/mkoeppe/tox_ini__add_environments_local_sudo_ubuntu_standard__etc_' of git://trac.sagemath.org/sage into public/build/fixwsl</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ff45c41ce97531cc845456941a982c9b583d5f7">6ff45c4</a></td><td><code>Cleanup workflow</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53481440a24a3914430dcbf1cf4e19e4aab5267c">5348144</a></td><td><code>Replace texlive-generic-extra</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fd029f1e2b1e8384d14995c361f90e331b784b9">0fd029f</a></td><td><code>Narrow down events that trigger the workflow</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ccae0258309b682d6429cafbc656e90894d6ebe">3ccae02</a></td><td><code>build/pkgs/_recommended/distros/debian.txt: Update latex package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d0e6738985ecc2e0c1db71bc644552d2346f5f1">6d0e673</a></td><td><code>Merge branch 't/30910/public/build/fixwsl' into t/30930/add_update_the_system_package_information_for_the___recommended__dummy_package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/afdd20f36102da5afe1b8708820d656b12ee7b8b">afdd20f</a></td><td><code>build/pkgs/_recommended/distros, src/doc/bootstrap: Remove duplication of pandoc</code></td></tr></table>




---

archive/issue_comments_498358.json:
```json
{
    "body": "<a id='comment:6'></a>\nThat `configure` keeps suggesting packages from the `_recommended` dummy package is because `build/pkgs/_recommended/spkg-configure.m4` does not check anything.\n\nTo improve this, tests need to be added for the presence of the various recommended packages in the system. Either in `build/pkgs/_recommended/spkg-configure.m4` or in individual \"script packages\" similar to `build/pkgs/pandoc`.",
    "created_at": "2020-11-17T02:45:11Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498358",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
That `configure` keeps suggesting packages from the `_recommended` dummy package is because `build/pkgs/_recommended/spkg-configure.m4` does not check anything.

To improve this, tests need to be added for the presence of the various recommended packages in the system. Either in `build/pkgs/_recommended/spkg-configure.m4` or in individual "script packages" similar to `build/pkgs/pandoc`.



---

archive/issue_comments_498359.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2020-11-17T16:38:29Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498359",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_498360.json:
```json
{
    "body": "<a id='comment:8'></a>\nOK, this does the trick for pandoc. I guess  ffmpeg, imagemagick, texinfo need semi-dummy packages created (i.e. with spkg-configure checking their presence, but without real spkg-install), right?",
    "created_at": "2020-11-18T16:59:24Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498360",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>
OK, this does the trick for pandoc. I guess  ffmpeg, imagemagick, texinfo need semi-dummy packages created (i.e. with spkg-configure checking their presence, but without real spkg-install), right?



---

archive/issue_comments_498361.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [dimpase](#comment%3A8):\n> OK, this does the trick for pandoc. I guess  ffmpeg, imagemagick, texinfo need semi-dummy packages created (i.e. with spkg-configure checking their presence, but without real spkg-install), right?\n\nThat's right. Likewise for `libxml` in #30899.",
    "created_at": "2020-11-18T19:20:49Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498361",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
Replying to [dimpase](#comment%3A8):
> OK, this does the trick for pandoc. I guess  ffmpeg, imagemagick, texinfo need semi-dummy packages created (i.e. with spkg-configure checking their presence, but without real spkg-install), right?

That's right. Likewise for `libxml` in #30899.



---

archive/issue_comments_498362.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [mkoeppe](#comment%3A9):\n> Replying to [dimpase](#comment%3A8):\n> > OK, this does the trick for pandoc. I guess  ffmpeg, imagemagick, texinfo need semi-dummy packages created (i.e. with spkg-configure checking their presence, but without real spkg-install), right?\n\n> That's right. Likewise for `libxml` in #30899.\n\nshould this be done on this ticket, or rather elsewhere?",
    "created_at": "2020-11-18T22:30:11Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498362",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>
Replying to [mkoeppe](#comment%3A9):
> Replying to [dimpase](#comment%3A8):
> > OK, this does the trick for pandoc. I guess  ffmpeg, imagemagick, texinfo need semi-dummy packages created (i.e. with spkg-configure checking their presence, but without real spkg-install), right?

> That's right. Likewise for `libxml` in #30899.

should this be done on this ticket, or rather elsewhere?



---

archive/issue_comments_498363.json:
```json
{
    "body": "<a id='comment:11'></a>\nFine to do it here if it's not holding up this ticket too long",
    "created_at": "2020-11-18T22:33:25Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498363",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
Fine to do it here if it's not holding up this ticket too long



---

archive/issue_events_277348.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-22T23:52:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277348"
}
```



---

archive/issue_comments_498364.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [mkoeppe](#comment%3A9):\n> Likewise for `libxml` in #30899.\n\n\nThis is now done in #27921",
    "created_at": "2020-12-03T05:10:25Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498364",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>
Replying to [mkoeppe](#comment%3A9):
> Likewise for `libxml` in #30899.


This is now done in #27921



---

archive/issue_comments_498365.json:
```json
{
    "body": "<a id='comment:14'></a>\nNeeds review",
    "created_at": "2020-12-04T19:21:18Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498365",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
Needs review



---

archive/issue_comments_498366.json:
```json
{
    "body": "<a id='comment:15'></a>\nHoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111",
    "created_at": "2020-12-06T18:17:38Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498366",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
Hoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111



---

archive/issue_comments_498367.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"sd111\".",
    "created_at": "2020-12-06T18:17:38Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498367",
    "user": "https://github.com/mkoeppe"
}
```

**Changing keywords** from "" to "sd111".



---

archive/issue_comments_498368.json:
```json
{
    "body": "<a id='comment:16'></a>\nThe branch has a conflict on top of 9.3.beta3 (I confirm there is one)",
    "created_at": "2020-12-09T10:42:45Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498368",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:16'></a>
The branch has a conflict on top of 9.3.beta3 (I confirm there is one)



---

archive/issue_events_277349.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2020-12-09T10:42:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277349"
}
```



---

archive/issue_events_277350.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2020-12-09T10:42:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277350"
}
```



---

archive/issue_comments_498369.json:
```json
{
    "body": "**Work_Issues:** branch has conflict",
    "created_at": "2020-12-09T11:08:46Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498369",
    "user": "https://github.com/seblabbe"
}
```

**Work_Issues:** branch has conflict



---

archive/issue_comments_498370.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bdd5b9d606dafa14224fcf63092e877d1e24158d\">bdd5b9d</a></td><td><code>Merge tag '9.3.beta3' into t/30930/add_update_the_system_package_information_for_the___recommended__dummy_package</code></td></tr></table>\n",
    "created_at": "2020-12-10T06:22:14Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498370",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bdd5b9d606dafa14224fcf63092e877d1e24158d">bdd5b9d</a></td><td><code>Merge tag '9.3.beta3' into t/30930/add_update_the_system_package_information_for_the___recommended__dummy_package</code></td></tr></table>




---

archive/issue_comments_498371.json:
```json
{
    "body": "**Changing commit** from \"[afdd20f36102da5afe1b8708820d656b12ee7b8b](https://github.com/sagemath/sagetrac-mirror/commit/afdd20f36102da5afe1b8708820d656b12ee7b8b)\" to \"[bdd5b9d606dafa14224fcf63092e877d1e24158d](https://github.com/sagemath/sagetrac-mirror/commit/bdd5b9d606dafa14224fcf63092e877d1e24158d)\".",
    "created_at": "2020-12-10T06:22:14Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498371",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[afdd20f36102da5afe1b8708820d656b12ee7b8b](https://github.com/sagemath/sagetrac-mirror/commit/afdd20f36102da5afe1b8708820d656b12ee7b8b)" to "[bdd5b9d606dafa14224fcf63092e877d1e24158d](https://github.com/sagemath/sagetrac-mirror/commit/bdd5b9d606dafa14224fcf63092e877d1e24158d)".



---

archive/issue_comments_498372.json:
```json
{
    "body": "**Changing work_issues** from \"branch has conflict\" to \"\".",
    "created_at": "2020-12-10T06:23:23Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498372",
    "user": "https://github.com/mkoeppe"
}
```

**Changing work_issues** from "branch has conflict" to "".



---

archive/issue_events_277351.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-10T06:23:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277351"
}
```



---

archive/issue_events_277352.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-10T06:23:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277352"
}
```



---

archive/issue_events_277353.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2020-12-11T21:37:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277353"
}
```



---

archive/issue_events_277354.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2020-12-11T21:37:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277354"
}
```



---

archive/issue_comments_498373.json:
```json
{
    "body": "<a id='comment:20'></a>\nI tested the branch. make build works.\n\nWith the branch, I see the following message on my computer (Ubuntu 20.04):\n\n```\n    notice: the following SPKGs did not find equivalent system packages:\n\n        _recommended boost coxeter3 gp2c igraph isl libsemigroups pari_elldata pari_galpol pari_nftables pari_seadata\n        \nchecking for the package system in use... debian\nconfigure:\n\n    hint: installing the following system packages, if not\n    already present, is recommended and may avoid having to\n    build them (though some may have to be built anyway):\n\n      $ sudo apt-get update \n      $ sudo apt-get install  texlive-latex-extra texlive-xetex latexmk dvipng default-jdk ffmpeg libavdevice-dev libboost-dev pari-gp2c libigraph-dev libisl-dev\n\n    After installation, re-run configure using:\n\n      $ ./config.status --recheck && ./config.status\n```\n\nAnd `tox -e docker-archlinux-minimal -- config.status` gives this:\n\n```\n    notice: the following SPKGs did not find equivalent system packages:\n\n        _recommended arb boost boost_cropped brial cbc cddlib cliquer cmake coxeter3 eclib ecm fflas_ffpack flint flintqs fplll freetype gc gf2x gfan gfortran giac git givaro glpk gp2c gsl igraph iml isl lcalc libatomic_ops libbraiding libgd libhomfly libnauty libpng libsemigroups lrcalc m4ri m4rie mpfi nauty ninja_build ntl openblas palp pandoc pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small patch perl_cpan_polymake_prereq perl_term_readline_gnu planarity ppl python3 r rw suitesparse symmetrica sympow tachyon tox zeromq zn_poly\n        \nchecking for the package system in use... arch\nconfigure:\n\n    hint: installing the following system packages, if not\n    already present, is recommended and may avoid having to\n    build them (though some may have to be built anyway):\n\n      $ sudo pacman -Sy\n      $ sudo pacman -S  arb boost boost brial coin-or-cbc cddlib coxeter eclib fflas-ffpack flintqs gc gf2x gfan gcc-fortran libgiac giac glpk gsl igraph iml lcalc libatomic_ops libbraiding gd libhomfly lrcalc m4ri m4rie nauty ninja openblas lapack cblas palp pandoc pari pari-galdata pari-seadata pari-elldata pari-galpol pari-elldata pari-galdata pari-galpol pari-seadata pari-seadata patch perl-term-readline-gnu planarity ppl r rankwidth suitesparse symmetrica sympow tachyon zn_poly\n\n    After installation, re-run configure using:\n\n      $ ./config.status --recheck && ./config.status\n```\n\nWe see that `pandoc` still appears above. Is this what we want?\n\nCould we update the description of the ticket (which is too large), because I don't know what the branch is suppose to do exactly?",
    "created_at": "2020-12-11T21:37:15Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498373",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:20'></a>
I tested the branch. make build works.

With the branch, I see the following message on my computer (Ubuntu 20.04):

```
    notice: the following SPKGs did not find equivalent system packages:

        _recommended boost coxeter3 gp2c igraph isl libsemigroups pari_elldata pari_galpol pari_nftables pari_seadata
        
checking for the package system in use... debian
configure:

    hint: installing the following system packages, if not
    already present, is recommended and may avoid having to
    build them (though some may have to be built anyway):

      $ sudo apt-get update 
      $ sudo apt-get install  texlive-latex-extra texlive-xetex latexmk dvipng default-jdk ffmpeg libavdevice-dev libboost-dev pari-gp2c libigraph-dev libisl-dev

    After installation, re-run configure using:

      $ ./config.status --recheck && ./config.status
```

And `tox -e docker-archlinux-minimal -- config.status` gives this:

```
    notice: the following SPKGs did not find equivalent system packages:

        _recommended arb boost boost_cropped brial cbc cddlib cliquer cmake coxeter3 eclib ecm fflas_ffpack flint flintqs fplll freetype gc gf2x gfan gfortran giac git givaro glpk gp2c gsl igraph iml isl lcalc libatomic_ops libbraiding libgd libhomfly libnauty libpng libsemigroups lrcalc m4ri m4rie mpfi nauty ninja_build ntl openblas palp pandoc pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small patch perl_cpan_polymake_prereq perl_term_readline_gnu planarity ppl python3 r rw suitesparse symmetrica sympow tachyon tox zeromq zn_poly
        
checking for the package system in use... arch
configure:

    hint: installing the following system packages, if not
    already present, is recommended and may avoid having to
    build them (though some may have to be built anyway):

      $ sudo pacman -Sy
      $ sudo pacman -S  arb boost boost brial coin-or-cbc cddlib coxeter eclib fflas-ffpack flintqs gc gf2x gfan gcc-fortran libgiac giac glpk gsl igraph iml lcalc libatomic_ops libbraiding gd libhomfly lrcalc m4ri m4rie nauty ninja openblas lapack cblas palp pandoc pari pari-galdata pari-seadata pari-elldata pari-galpol pari-elldata pari-galdata pari-galpol pari-seadata pari-seadata patch perl-term-readline-gnu planarity ppl r rankwidth suitesparse symmetrica sympow tachyon zn_poly

    After installation, re-run configure using:

      $ ./config.status --recheck && ./config.status
```

We see that `pandoc` still appears above. Is this what we want?

Could we update the description of the ticket (which is too large), because I don't know what the branch is suppose to do exactly?



---

archive/issue_comments_498374.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/add_update_the_system_package_information_for_the___recommended__dummy_package](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/add_update_the_system_package_information_for_the___recommended__dummy_package)\" to \"\".",
    "created_at": "2020-12-11T22:17:59Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498374",
    "user": "https://github.com/mkoeppe"
}
```

**Changing branch** from "[u/mkoeppe/add_update_the_system_package_information_for_the___recommended__dummy_package](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/add_update_the_system_package_information_for_the___recommended__dummy_package)" to "".



---

archive/issue_comments_498375.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [slabbe](#comment%3A20):\n> Could we update the description of the ticket (which is too large), because I don't know what the branch is suppose to do exactly?\n\n\nI have instead split out the pandoc part (which is the only thing that the current branch took care of) out into the separate ticket #31042.",
    "created_at": "2020-12-11T22:17:59Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498375",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Replying to [slabbe](#comment%3A20):
> Could we update the description of the ticket (which is too large), because I don't know what the branch is suppose to do exactly?


I have instead split out the pandoc part (which is the only thing that the current branch took care of) out into the separate ticket #31042.



---

archive/issue_comments_498376.json:
```json
{
    "body": "**Changing commit** from \"[bdd5b9d606dafa14224fcf63092e877d1e24158d](https://github.com/sagemath/sagetrac-mirror/commit/bdd5b9d606dafa14224fcf63092e877d1e24158d)\" to \"\".",
    "created_at": "2020-12-11T22:17:59Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498376",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[bdd5b9d606dafa14224fcf63092e877d1e24158d](https://github.com/sagemath/sagetrac-mirror/commit/bdd5b9d606dafa14224fcf63092e877d1e24158d)" to "".



---

archive/issue_comments_498377.json:
```json
{
    "body": "**Changing dependencies** from \"#30910\" to \"#30910, #31042\".",
    "created_at": "2020-12-11T22:17:59Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498377",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#30910" to "#30910, #31042".



---

archive/issue_comments_498378.json:
```json
{
    "body": "**Changing author** from \"Matthias Koeppe\" to \"\".",
    "created_at": "2020-12-11T22:26:02Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498378",
    "user": "https://github.com/mkoeppe"
}
```

**Changing author** from "Matthias Koeppe" to "".



---

archive/issue_comments_498379.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,9 +1,8 @@\n Follow-up from #29557 (Add script package _recommended and generate \"recommended system packages\" info).\n \n \n-From egourgoulhon #30624:\n+From egourgoulhon #30624 and similar reports by gh-tobiasdiez, jhpalmieri #29557:\n \n-  FWIW, I've installed Sage 9.3.beta0 from scratch on Ubuntu 20.04; \n   configure ends with the following recommendations:\n \n ```\n@@ -16,23 +15,19 @@\n pari-gp2c libpari-dev pari-doc pari-elldata pari-galdata pari-galpol pari-seadata \n sympow\n ```\n-  Now, as mentioned in \u200b[#29557 comment:56](https://github.com/sagemath/sage/issues/29557#comment:56), texlive-generic-extra does not exist on Ubuntu 20.04 (there is texlive-latex-extra, which is already installed on my system). Moreover the recommended packages texlive-xetex, latexmk, pandoc, dvipng, default-jdk, ffmpeg, libavdevice-dev, libcdd-dev and libcdd-tools are already installed on my system.\n \n-From gh-tobiasdiez #29557:\n-  The package texlive-generic-extra doesn't exist for ubuntu 20.04, and on 18.04 it was already labeled as \"transitional dummy package\". I'm not sure what's the correct replacement, maybe simply \"texlive\"?\n+- #30910 replaced `texlive-generic-extra` by a package that exists in modern Debian distributions.\n+- #31042 addresses `pandoc`.\n \n-From jhpalmieri #29557:\n-  On OS X, I see this:\n+On this ticket, we improve the message further.\n \n-```\n-configure:40015: notice: the following SPKGs did not find equivalent system packages: _recommended arb brial cbc cddlib cliquer cmake coxeter3 eclib ecm fflas_ffpack flint flintqs fplll gf2x gfan giac givaro gp2c iml lcalc libbraiding libsemigroups lrcalc m4ri m4rie ntl palp pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small perl_cpan_polymake_prereq perl_term_readline_gnu planarity rw symmetrica sympow tachyon zn_poly\n-configure:40017: checking for the package system in use\n-configure:40020: result: homebrew\n-configure:40029: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs from source:\n-configure:40031:   $ brew install pandoc ffmpeg imagemagick texinfo cmake\n-```\n-  On a follow-up, we could improve this message. First, these recommended packages don't actually help to avoid building any of the listed SPKGs. Second, this message is printed regardless of whether ffmpeg et al. are installed. Third, I actually have pandoc installed, it is correctly detected by ./configure, but it recommends installing it anyway.\n-  Replying to mkoeppe:\n-    Note there's also a separate pandoc script package\n-  Right, and that correctly detects my pandoc installation, so it would be nice if the ending message took that into account. The ending message automatically prints every recommended external package, even those which are installed and have corresponding script packages.\n+- First, these recommended packages don't actually help to avoid building any of the listed SPKGs. \n \n+  So it could be argued that `./configure` should recommend them separately. This is similar to #29372 \"At the end of `configure`, show installation hints for disabled optional packages separately\".\n+\n+\n+- Second, this message is printed regardless of whether `ffmpeg` et al. are installed because build/pkgs/_recommended/spkg-configure.m4 does not check anything.\n+\n+  To this end, tests need to be added for the presence of the various recommended packages in the system. Either in `build/pkgs/_recommended/spkg-configure.m4` or in individual script packages similar to `build/pkgs/pandoc`.\n+\n+\n``````\n",
    "created_at": "2020-12-11T22:26:02Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498379",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,9 +1,8 @@
 Follow-up from #29557 (Add script package _recommended and generate "recommended system packages" info).
 
 
-From egourgoulhon #30624:
+From egourgoulhon #30624 and similar reports by gh-tobiasdiez, jhpalmieri #29557:
 
-  FWIW, I've installed Sage 9.3.beta0 from scratch on Ubuntu 20.04; 
   configure ends with the following recommendations:
 
 ```
@@ -16,23 +15,19 @@
 pari-gp2c libpari-dev pari-doc pari-elldata pari-galdata pari-galpol pari-seadata 
 sympow
 ```
-  Now, as mentioned in â€‹[#29557 comment:56](https://github.com/sagemath/sage/issues/29557#comment:56), texlive-generic-extra does not exist on Ubuntu 20.04 (there is texlive-latex-extra, which is already installed on my system). Moreover the recommended packages texlive-xetex, latexmk, pandoc, dvipng, default-jdk, ffmpeg, libavdevice-dev, libcdd-dev and libcdd-tools are already installed on my system.
 
-From gh-tobiasdiez #29557:
-  The package texlive-generic-extra doesn't exist for ubuntu 20.04, and on 18.04 it was already labeled as "transitional dummy package". I'm not sure what's the correct replacement, maybe simply "texlive"?
+- #30910 replaced `texlive-generic-extra` by a package that exists in modern Debian distributions.
+- #31042 addresses `pandoc`.
 
-From jhpalmieri #29557:
-  On OS X, I see this:
+On this ticket, we improve the message further.
 
-```
-configure:40015: notice: the following SPKGs did not find equivalent system packages: _recommended arb brial cbc cddlib cliquer cmake coxeter3 eclib ecm fflas_ffpack flint flintqs fplll gf2x gfan giac givaro gp2c iml lcalc libbraiding libsemigroups lrcalc m4ri m4rie ntl palp pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small perl_cpan_polymake_prereq perl_term_readline_gnu planarity rw symmetrica sympow tachyon zn_poly
-configure:40017: checking for the package system in use
-configure:40020: result: homebrew
-configure:40029: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs from source:
-configure:40031:   $ brew install pandoc ffmpeg imagemagick texinfo cmake
-```
-  On a follow-up, we could improve this message. First, these recommended packages don't actually help to avoid building any of the listed SPKGs. Second, this message is printed regardless of whether ffmpeg et al. are installed. Third, I actually have pandoc installed, it is correctly detected by ./configure, but it recommends installing it anyway.
-  Replying to mkoeppe:
-    Note there's also a separate pandoc script package
-  Right, and that correctly detects my pandoc installation, so it would be nice if the ending message took that into account. The ending message automatically prints every recommended external package, even those which are installed and have corresponding script packages.
+- First, these recommended packages don't actually help to avoid building any of the listed SPKGs. 
 
+  So it could be argued that `./configure` should recommend them separately. This is similar to #29372 "At the end of `configure`, show installation hints for disabled optional packages separately".
+
+
+- Second, this message is printed regardless of whether `ffmpeg` et al. are installed because build/pkgs/_recommended/spkg-configure.m4 does not check anything.
+
+  To this end, tests need to be added for the presence of the various recommended packages in the system. Either in `build/pkgs/_recommended/spkg-configure.m4` or in individual script packages similar to `build/pkgs/pandoc`.
+
+
``````




---

archive/issue_events_277355.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-11T22:26:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277355"
}
```



---

archive/issue_events_277356.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-11T22:26:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277356"
}
```



---

archive/issue_events_277357.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277357"
}
```



---

archive/issue_events_277358.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277358"
}
```



---

archive/issue_comments_498380.json:
```json
{
    "body": "<a id='comment:23'></a>\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498380",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>
Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_498381.json:
```json
{
    "body": "<a id='comment:24'></a>\nShould `_recommended` really be listed in this configure notice?\n\n```\n    notice: the following SPKGs did not find equivalent system packages:\n\n        _recommended cbc coxeter3 gp2c ...\n```",
    "created_at": "2021-03-22T21:20:42Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498381",
    "user": "https://github.com/slel"
}
```

<a id='comment:24'></a>
Should `_recommended` really be listed in this configure notice?

```
    notice: the following SPKGs did not find equivalent system packages:

        _recommended cbc coxeter3 gp2c ...
```



---

archive/issue_comments_498382.json:
```json
{
    "body": "<a id='comment:25'></a>\nYes, it may look funny but at least one can see that way where the system package recommendations are coming from",
    "created_at": "2021-03-22T21:27:45Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498382",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
Yes, it may look funny but at least one can see that way where the system package recommendations are coming from



---

archive/issue_comments_498383.json:
```json
{
    "body": "<a id='comment:26'></a>\nMakes sense.",
    "created_at": "2021-03-22T22:15:54Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498383",
    "user": "https://github.com/slel"
}
```

<a id='comment:26'></a>
Makes sense.



---

archive/issue_comments_498384.json:
```json
{
    "body": "<a id='comment:27'></a>\ntexinfo keeps popping up on Homebrew for some reason --- perhaps, because `texinfo` is not a program, there no such executable anymore, it's replaced by `tex2any` - but the package name remains `texinfo`.",
    "created_at": "2021-05-28T16:57:32Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498384",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'></a>
texinfo keeps popping up on Homebrew for some reason --- perhaps, because `texinfo` is not a program, there no such executable anymore, it's replaced by `tex2any` - but the package name remains `texinfo`.



---

archive/issue_comments_498385.json:
```json
{
    "body": "<a id='comment:28'></a>\nFrom the ticket description: \n  To this end, tests need to be added for the presence of the various recommended packages in the system. Either in build/pkgs/_recommended/spkg-configure.m4 or in individual script packages similar to build/pkgs/pandoc.",
    "created_at": "2021-05-28T17:01:49Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498385",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>
From the ticket description: 
  To this end, tests need to be added for the presence of the various recommended packages in the system. Either in build/pkgs/_recommended/spkg-configure.m4 or in individual script packages similar to build/pkgs/pandoc.



---

archive/issue_comments_498386.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -18,16 +18,14 @@\n \n - #30910 replaced `texlive-generic-extra` by a package that exists in modern Debian distributions.\n - #31042 addresses `pandoc`.\n-\n-On this ticket, we improve the message further.\n-\n-- First, these recommended packages don't actually help to avoid building any of the listed SPKGs. \n-\n-  So it could be argued that `./configure` should recommend them separately. This is similar to #29372 \"At the end of `configure`, show installation hints for disabled optional packages separately\".\n+- #29372 changed the message, showing installation hints for non-enabled optional packages separately.\n \n \n-- Second, this message is printed regardless of whether `ffmpeg` et al. are installed because build/pkgs/_recommended/spkg-configure.m4 does not check anything.\n+The message is printed regardless of whether `ffmpeg` et al. are installed because `build/pkgs/_recommended/spkg-configure.m4` does not check anything.\n \n-  To this end, tests need to be added for the presence of the various recommended packages in the system. Either in `build/pkgs/_recommended/spkg-configure.m4` or in individual script packages similar to `build/pkgs/pandoc`.\n+To this end, tests need to be added for the presence of the various recommended packages in the system. \n+\n+**We do this by splitting out individual script packages, similar to the existing `build/pkgs/pandoc` and `build/pkgs/graphviz`.**\n \n \n+\n``````\n",
    "created_at": "2021-06-13T00:18:23Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498386",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -18,16 +18,14 @@
 
 - #30910 replaced `texlive-generic-extra` by a package that exists in modern Debian distributions.
 - #31042 addresses `pandoc`.
-
-On this ticket, we improve the message further.
-
-- First, these recommended packages don't actually help to avoid building any of the listed SPKGs. 
-
-  So it could be argued that `./configure` should recommend them separately. This is similar to #29372 "At the end of `configure`, show installation hints for disabled optional packages separately".
+- #29372 changed the message, showing installation hints for non-enabled optional packages separately.
 
 
-- Second, this message is printed regardless of whether `ffmpeg` et al. are installed because build/pkgs/_recommended/spkg-configure.m4 does not check anything.
+The message is printed regardless of whether `ffmpeg` et al. are installed because `build/pkgs/_recommended/spkg-configure.m4` does not check anything.
 
-  To this end, tests need to be added for the presence of the various recommended packages in the system. Either in `build/pkgs/_recommended/spkg-configure.m4` or in individual script packages similar to `build/pkgs/pandoc`.
+To this end, tests need to be added for the presence of the various recommended packages in the system. 
+
+**We do this by splitting out individual script packages, similar to the existing `build/pkgs/pandoc` and `build/pkgs/graphviz`.**
 
 
+
``````




---

archive/issue_events_277359.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-09T21:26:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277359"
}
```



---

archive/issue_events_277360.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-09T21:26:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277360"
}
```



---

archive/issue_comments_498387.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -19,7 +19,7 @@\n - #30910 replaced `texlive-generic-extra` by a package that exists in modern Debian distributions.\n - #31042 addresses `pandoc`.\n - #29372 changed the message, showing installation hints for non-enabled optional packages separately.\n-\n+- #32956 create dummy script packages for ffmpeg and imagemagick \n \n The message is printed regardless of whether `ffmpeg` et al. are installed because `build/pkgs/_recommended/spkg-configure.m4` does not check anything.\n \n``````\n",
    "created_at": "2021-12-01T21:06:05Z",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30930#issuecomment-498387",
    "user": "https://github.com/seblabbe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -19,7 +19,7 @@
 - #30910 replaced `texlive-generic-extra` by a package that exists in modern Debian distributions.
 - #31042 addresses `pandoc`.
 - #29372 changed the message, showing installation hints for non-enabled optional packages separately.
-
+- #32956 create dummy script packages for ffmpeg and imagemagick 
 
 The message is printed regardless of whether `ffmpeg` et al. are installed because `build/pkgs/_recommended/spkg-configure.m4` does not check anything.
 
``````




---

archive/issue_events_277361.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-23T04:18:16Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277361"
}
```



---

archive/issue_events_277362.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-23T04:18:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277362"
}
```



---

archive/issue_events_277363.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-17T19:59:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277363"
}
```



---

archive/issue_events_277364.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-17T19:59:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277364"
}
```



---

archive/issue_events_277365.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277365"
}
```



---

archive/issue_events_277366.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30930",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30930#event-277366"
}
```
