# Issue 30246: Add optional packages jupyterlab, jupyterlab_widgets to support interacts in JupyterLab

archive/issues_030009.json:
```json
{
    "assignees": [],
    "body": "Before this ticket: interacts don't work in JupyterLab.\n\nReported at:\n\n- [Ask Sage question 50194: Interact in Jupyterlab vs Jupyter](https://ask.sagemath.org/question/50194)\n- comment to an answer at [Ask Sage question 52707](https://ask.sagemath.org/question/52707)\n\nRelated:\n\n- #29728: Meta-ticket: improve compatibility with the Python library\n\n\nCC:  @slel\n\nKeywords: **jupyterlab**\n\nBranch: **[`e169060`](https://github.com/sagemath/sagetrac-mirror/commit/e169060957d2aca9ba657599ca7f9fa4a3df23a1)**\n\nReviewer: **Matthias Koeppe**\n\nAuthor: **Joshua Campbell**\n\nComponent: **interact**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30246_\n\n",
    "closed_at": "2020-09-01T23:00:19Z",
    "created_at": "2020-07-29T11:56:57Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20interact",
        "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add optional packages jupyterlab, jupyterlab_widgets to support interacts in JupyterLab",
    "type": "issue",
    "updated_at": "2020-10-24T22:05:28Z",
    "url": "https://github.com/sagemath/sage/issues/30246",
    "user": "https://github.com/slel"
}
```
Before this ticket: interacts don't work in JupyterLab.

Reported at:

- [Ask Sage question 50194: Interact in Jupyterlab vs Jupyter](https://ask.sagemath.org/question/50194)
- comment to an answer at [Ask Sage question 52707](https://ask.sagemath.org/question/52707)

Related:

- #29728: Meta-ticket: improve compatibility with the Python library


CC:  @slel

Keywords: **jupyterlab**

Branch: **[`e169060`](https://github.com/sagemath/sagetrac-mirror/commit/e169060957d2aca9ba657599ca7f9fa4a3df23a1)**

Reviewer: **Matthias Koeppe**

Author: **Joshua Campbell**

Component: **interact**

_Issue created by migration from https://trac.sagemath.org/ticket/30246_





---

archive/issue_events_413558.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-07-29T11:56:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413558"
}
```



---

archive/issue_events_413559.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-07-29T11:56:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20interact",
    "label_color": "0000ff",
    "label_name": "c: interact",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413559"
}
```



---

archive/issue_events_413560.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-07-29T11:56:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413560"
}
```



---

archive/issue_events_413561.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-07-29T11:56:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413561"
}
```



---

archive/issue_comments_479622.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nCould this just be a documentation issue? Is it documented somewhere what extensions need to be installed in jupyterlab so that sage works?",
    "created_at": "2020-08-18T18:02:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479622",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:1" align="right">comment:1</div>

Could this just be a documentation issue? Is it documented somewhere what extensions need to be installed in jupyterlab so that sage works?



---

archive/issue_comments_479623.json:
```json
{
    "body": "Dependencies: **#26059**",
    "created_at": "2020-08-19T20:32:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479623",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#26059**



---

archive/issue_comments_479624.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@mkoeppe](#comment%3A1):\n> Could this just be a documentation issue? Is it documented somewhere what extensions need to be installed in jupyterlab so that sage works?\n\nI was able to get interacts working in jupyterlab 2.2.5 using the following command:\n[ipywidgets install instructions](https://github.com/jupyter-widgets/ipywidgets#install)\n\n```\n./sage --jupyter labextension install @jupyter-widgets/jupyterlab-manager@2.0\n```\n\nThis requires nodejs >= 10 to be installed though. Looks like jupyterlab's extension ecosystem is all based on npm. Grabbing the extension tarball directly, still need node for bundling. (webpack, if I remember; been awhile since I've done anything with node.)\n\nSo unless we want to make nodejs an optional->standard package as well, maybe just leave it to the user to install and make a note in the documentation regarding interact functionality? Similar to how imagemagick and ffmpeg are noted in [animated plots](https://doc.sagemath.org/html/en/reference/plotting/sage/plot/animate.html).",
    "created_at": "2020-08-21T18:01:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479624",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@mkoeppe](#comment%3A1):
> Could this just be a documentation issue? Is it documented somewhere what extensions need to be installed in jupyterlab so that sage works?

I was able to get interacts working in jupyterlab 2.2.5 using the following command:
[ipywidgets install instructions](https://github.com/jupyter-widgets/ipywidgets#install)

```
./sage --jupyter labextension install @jupyter-widgets/jupyterlab-manager@2.0
```

This requires nodejs >= 10 to be installed though. Looks like jupyterlab's extension ecosystem is all based on npm. Grabbing the extension tarball directly, still need node for bundling. (webpack, if I remember; been awhile since I've done anything with node.)

So unless we want to make nodejs an optional->standard package as well, maybe just leave it to the user to install and make a note in the documentation regarding interact functionality? Similar to how imagemagick and ffmpeg are noted in [animated plots](https://doc.sagemath.org/html/en/reference/plotting/sage/plot/animate.html).



---

archive/issue_comments_479625.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIs installation via https://pypi.org/project/nodeenv/ an option?",
    "created_at": "2020-08-21T18:15:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479625",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

Is installation via https://pypi.org/project/nodeenv/ an option?



---

archive/issue_comments_479626.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@mkoeppe](#comment%3A4):\n> Is installation via https://pypi.org/project/nodeenv/ an option?\n\nCool stuff. I was indeed able to get interacts working without a system nodejs using `./sage --pip install nodeenv` and creating a nodeenv to do the jupyter-widgets extension installation. Since node isn't needed for running jupyterlab, that nodeenv could probably get wiped out automatically following installation.\n\nNot having node though does prevent you from browsing/installing other extensions in the extensions sidebar of jupyterlab. I played around with modifying the main sage script to activate the nodeenv when using `./sage -n jupyterlab` and was able to install, for example, the [jupyterlab-toc](https://github.com/jupyterlab/jupyterlab-toc) extension and use it without issue.\n\nI'll continue experimenting with this for a bit longer, do some tidying up, and push a branch for review.",
    "created_at": "2020-08-21T21:48:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479626",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@mkoeppe](#comment%3A4):
> Is installation via https://pypi.org/project/nodeenv/ an option?

Cool stuff. I was indeed able to get interacts working without a system nodejs using `./sage --pip install nodeenv` and creating a nodeenv to do the jupyter-widgets extension installation. Since node isn't needed for running jupyterlab, that nodeenv could probably get wiped out automatically following installation.

Not having node though does prevent you from browsing/installing other extensions in the extensions sidebar of jupyterlab. I played around with modifying the main sage script to activate the nodeenv when using `./sage -n jupyterlab` and was able to install, for example, the [jupyterlab-toc](https://github.com/jupyterlab/jupyterlab-toc) extension and use it without issue.

I'll continue experimenting with this for a bit longer, do some tidying up, and push a branch for review.



---

archive/issue_comments_479627.json:
```json
{
    "body": "Commit: **[`d2d8c40`](https://github.com/sagemath/sagetrac-mirror/commit/d2d8c4054e946a93fa8bf3bbfe8865eeb2b6f2fa)**",
    "created_at": "2020-08-22T21:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479627",
    "user": "https://github.com/jcamp0x2a"
}
```

Commit: **[`d2d8c40`](https://github.com/sagemath/sagetrac-mirror/commit/d2d8c4054e946a93fa8bf3bbfe8865eeb2b6f2fa)**



---

archive/issue_comments_479628.json:
```json
{
    "body": "Author: **Joshua Campbell**",
    "created_at": "2020-08-22T21:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479628",
    "user": "https://github.com/jcamp0x2a"
}
```

Author: **Joshua Campbell**



---

archive/issue_events_413562.json:
```json
{
    "actor": "https://github.com/jcamp0x2a",
    "created_at": "2020-08-22T21:41:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413562"
}
```



---

archive/issue_comments_479629.json:
```json
{
    "body": "Branch: **[u/gh-jcamp0x2a/30246](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-jcamp0x2a/30246)**",
    "created_at": "2020-08-22T21:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479629",
    "user": "https://github.com/jcamp0x2a"
}
```

Branch: **[u/gh-jcamp0x2a/30246](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-jcamp0x2a/30246)**



---

archive/issue_comments_479630.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI've pushed a branch for review. It adds 4 new optional packages: nodeenv, nodejs, jupyterlab, and jupyterlab_widgets. The last one, jupyterlab_widgets, gets you everything.\n\nI opted to break them up in this way for (1) convenience in packaging them and (2) flexibility in installing them. For example, if you just want the JupyterLab client and don't care about interacts or other extensions or if you don't want JupyterLab but would like nodejs present in your Sage environment for some other purpose. Please let me know if you'd prefer a different structuring.\n\nShell scripting isn't my forte, so I welcome any feedback regarding coding conventions and best practices!",
    "created_at": "2020-08-22T21:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479630",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:6" align="right">comment:6</div>

I've pushed a branch for review. It adds 4 new optional packages: nodeenv, nodejs, jupyterlab, and jupyterlab_widgets. The last one, jupyterlab_widgets, gets you everything.

I opted to break them up in this way for (1) convenience in packaging them and (2) flexibility in installing them. For example, if you just want the JupyterLab client and don't care about interacts or other extensions or if you don't want JupyterLab but would like nodejs present in your Sage environment for some other purpose. Please let me know if you'd prefer a different structuring.

Shell scripting isn't my forte, so I welcome any feedback regarding coding conventions and best practices!



---

archive/issue_comments_479631.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI suppose this also includes what should've been worked under #26059 first and separately (just the jupyterlab package). I apologize for that; got carried away :)",
    "created_at": "2020-08-22T21:43:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479631",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:7" align="right">comment:7</div>

I suppose this also includes what should've been worked under #26059 first and separately (just the jupyterlab package). I apologize for that; got carried away :)



---

archive/issue_comments_479632.json:
```json
{
    "body": "Changed dependencies from **#26059** to none",
    "created_at": "2020-08-22T22:04:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479632",
    "user": "https://github.com/slel"
}
```

Changed dependencies from **#26059** to none



---

archive/issue_comments_479633.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@jcamp0x2a](#comment%3A7):\n> includes what should've been worked under #26059\n> first and separately\n\nWe can mark the other ticket as solved by this one.\n\nI would use https in the home page url for JupyterLab.",
    "created_at": "2020-08-22T22:04:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479633",
    "user": "https://github.com/slel"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@jcamp0x2a](#comment%3A7):
> includes what should've been worked under #26059
> first and separately

We can mark the other ticket as solved by this one.

I would use https in the home page url for JupyterLab.



---

archive/issue_comments_479634.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0b02c494a7f5cb66f8d74cca63190fc390b7bdb\"><code>c0b02c4</code></a></td><td><code>Fix sage-sh/-buildsh prompt getting wiped out by nodeenv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7010f68662a73cb26d16216b430751173fd6ae3\"><code>b7010f6</code></a></td><td><code>Use https url in doc for jupyterlab package</code></td></tr></table>\n",
    "created_at": "2020-08-22T23:17:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479634",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0b02c494a7f5cb66f8d74cca63190fc390b7bdb"><code>c0b02c4</code></a></td><td><code>Fix sage-sh/-buildsh prompt getting wiped out by nodeenv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7010f68662a73cb26d16216b430751173fd6ae3"><code>b7010f6</code></a></td><td><code>Use https url in doc for jupyterlab package</code></td></tr></table>




---

archive/issue_comments_479635.json:
```json
{
    "body": "Changed commit from **[`d2d8c40`](https://github.com/sagemath/sagetrac-mirror/commit/d2d8c4054e946a93fa8bf3bbfe8865eeb2b6f2fa)** to **[`b7010f6`](https://github.com/sagemath/sagetrac-mirror/commit/b7010f68662a73cb26d16216b430751173fd6ae3)**",
    "created_at": "2020-08-22T23:17:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479635",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d2d8c40`](https://github.com/sagemath/sagetrac-mirror/commit/d2d8c4054e946a93fa8bf3bbfe8865eeb2b6f2fa)** to **[`b7010f6`](https://github.com/sagemath/sagetrac-mirror/commit/b7010f68662a73cb26d16216b430751173fd6ae3)**



---

archive/issue_comments_479636.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThis looks great overall.\n\nI'm getting the following with this branch (without installing any packages):\n\n```\n./sage -h\n/Users/mkoeppe/s/sage/sage-rebasing/src/bin/sage-env: line 69: cd: /Users/mkoeppe/s/sage/sage-rebasing/local/share/nodejs/: No such file or directory\nSageMath version 9.2.beta10, Release Date: 2020-08-23\n...\n  --notebook=[...]    -- start the Sage notebook (valid options are\n                         'default', 'jupyter', and 'export')\n                         Current default is 'export' from sagenb to jupyter\n  -n, --notebook      -- shortcut for --notebook=default\n...\n$ ./sage -n jupyterlab\n/Users/mkoeppe/s/sage/sage-rebasing/src/bin/sage-env: line 69: cd: /Users/mkoeppe/s/sage/sage-rebasing/local/share/nodejs/: No such file or directory\nJupyterlab is not installed (at least not in this Sage installation).\nYou can install it by running\n  sage --pip install jupyterlab\n```",
    "created_at": "2020-08-23T23:44:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479636",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

This looks great overall.

I'm getting the following with this branch (without installing any packages):

```
./sage -h
/Users/mkoeppe/s/sage/sage-rebasing/src/bin/sage-env: line 69: cd: /Users/mkoeppe/s/sage/sage-rebasing/local/share/nodejs/: No such file or directory
SageMath version 9.2.beta10, Release Date: 2020-08-23
...
  --notebook=[...]    -- start the Sage notebook (valid options are
                         'default', 'jupyter', and 'export')
                         Current default is 'export' from sagenb to jupyter
  -n, --notebook      -- shortcut for --notebook=default
...
$ ./sage -n jupyterlab
/Users/mkoeppe/s/sage/sage-rebasing/src/bin/sage-env: line 69: cd: /Users/mkoeppe/s/sage/sage-rebasing/local/share/nodejs/: No such file or directory
Jupyterlab is not installed (at least not in this Sage installation).
You can install it by running
  sage --pip install jupyterlab
```



---

archive/issue_events_413563.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-23T23:44:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413563"
}
```



---

archive/issue_events_413564.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-23T23:44:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413564"
}
```



---

archive/issue_comments_479637.json:
```json
{
    "body": "Changed commit from **[`b7010f6`](https://github.com/sagemath/sagetrac-mirror/commit/b7010f68662a73cb26d16216b430751173fd6ae3)** to **[`4770d3b`](https://github.com/sagemath/sagetrac-mirror/commit/4770d3b56288e230c9a94139c3373bb286a6ecc9)**",
    "created_at": "2020-08-24T02:02:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479637",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b7010f6`](https://github.com/sagemath/sagetrac-mirror/commit/b7010f68662a73cb26d16216b430751173fd6ae3)** to **[`4770d3b`](https://github.com/sagemath/sagetrac-mirror/commit/4770d3b56288e230c9a94139c3373bb286a6ecc9)**



---

archive/issue_comments_479638.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4770d3b56288e230c9a94139c3373bb286a6ecc9\"><code>4770d3b</code></a></td><td><code>Resolve nodeenv_activate symlink `_after_` checking that it exists</code></td></tr></table>\n",
    "created_at": "2020-08-24T02:02:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479638",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4770d3b56288e230c9a94139c3373bb286a6ecc9"><code>4770d3b</code></a></td><td><code>Resolve nodeenv_activate symlink `_after_` checking that it exists</code></td></tr></table>




---

archive/issue_comments_479639.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29359e1434f5464023c72bfe652118c2fbc1906a\"><code>29359e1</code></a></td><td><code>Instruct user to install jupyterlab using -i instead of --pip install</code></td></tr></table>\n",
    "created_at": "2020-08-24T02:13:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479639",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29359e1434f5464023c72bfe652118c2fbc1906a"><code>29359e1</code></a></td><td><code>Instruct user to install jupyterlab using -i instead of --pip install</code></td></tr></table>




---

archive/issue_comments_479640.json:
```json
{
    "body": "Changed commit from **[`4770d3b`](https://github.com/sagemath/sagetrac-mirror/commit/4770d3b56288e230c9a94139c3373bb286a6ecc9)** to **[`29359e1`](https://github.com/sagemath/sagetrac-mirror/commit/29359e1434f5464023c72bfe652118c2fbc1906a)**",
    "created_at": "2020-08-24T02:13:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479640",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4770d3b`](https://github.com/sagemath/sagetrac-mirror/commit/4770d3b56288e230c9a94139c3373bb286a6ecc9)** to **[`29359e1`](https://github.com/sagemath/sagetrac-mirror/commit/29359e1434f5464023c72bfe652118c2fbc1906a)**



---

archive/issue_events_413565.json:
```json
{
    "actor": "https://github.com/jcamp0x2a",
    "created_at": "2020-08-24T02:22:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413565"
}
```



---

archive/issue_events_413566.json:
```json
{
    "actor": "https://github.com/jcamp0x2a",
    "created_at": "2020-08-24T02:22:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413566"
}
```



---

archive/issue_comments_479641.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThank you for catching that! \n\nI've pushed a couple more changes, the first making sure to check that `nodeenv_activate` symlink exists before trying to resolve it, and the second mentioning to the user to install using `sage -i jupyterlab` instead of `sage --pip install jupyterlab`.\n\nOh, do you happen to know of a good way to uninstall Sage packages? I tested these last couple changes by manually removing/moving files around in SAGE_LOCAL. I'd like to get back to a state without, for example, jupyterlab for testing, but I'd also like to avoid having to do a full clean and rebuild. I suppose I could be doing this in a VM and just snapshot and rollback.",
    "created_at": "2020-08-24T02:22:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479641",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:14" align="right">comment:14</div>

Thank you for catching that! 

I've pushed a couple more changes, the first making sure to check that `nodeenv_activate` symlink exists before trying to resolve it, and the second mentioning to the user to install using `sage -i jupyterlab` instead of `sage --pip install jupyterlab`.

Oh, do you happen to know of a good way to uninstall Sage packages? I tested these last couple changes by manually removing/moving files around in SAGE_LOCAL. I'd like to get back to a state without, for example, jupyterlab for testing, but I'd also like to avoid having to do a full clean and rebuild. I suppose I could be doing this in a VM and just snapshot and rollback.



---

archive/issue_events_413567.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2020-08-25T12:26:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413567"
}
```



---

archive/issue_events_413568.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2020-08-25T12:26:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413568"
}
```



---

archive/issue_comments_479642.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThis ticket breaks the patchbots (at least the ones i run). It seems due to some modification in `src/bin/sage-env` that tries to cd into a nonexistent `local/share/nodejs` directory. When the patchbots run:\n\n```\n./sage --python --version\n```\n\nThey get:\n\n```\n/home/sagemath/sage-9.1/src/bin/sage-env: line 69: cd: /home/sagemath/sage-9.1/local/share/nodejs/: No such file or directory\nPython 3.7.3\n```\n\nThe error should be catched (e.g. stderr could be redirected to `/dev/null`).",
    "created_at": "2020-08-25T12:26:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479642",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:15" align="right">comment:15</div>

This ticket breaks the patchbots (at least the ones i run). It seems due to some modification in `src/bin/sage-env` that tries to cd into a nonexistent `local/share/nodejs` directory. When the patchbots run:

```
./sage --python --version
```

They get:

```
/home/sagemath/sage-9.1/src/bin/sage-env: line 69: cd: /home/sagemath/sage-9.1/local/share/nodejs/: No such file or directory
Python 3.7.3
```

The error should be catched (e.g. stderr could be redirected to `/dev/null`).



---

archive/issue_events_413569.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2020-08-25T12:39:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413569"
}
```



---

archive/issue_events_413570.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2020-08-25T12:39:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413570"
}
```



---

archive/issue_comments_479643.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nApparently, you fixed the issue already, sorry for the noise, let us see if the patchbots are happy now.",
    "created_at": "2020-08-25T12:39:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479643",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:16" align="right">comment:16</div>

Apparently, you fixed the issue already, sorry for the noise, let us see if the patchbots are happy now.



---

archive/issue_comments_479644.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@sagetrac-tmonteil](#comment%3A16):\n> Apparently, you fixed the issue already, sorry for the noise, let us see if the patchbots are happy now.\n\nNo worries. Thank you for running those patchbots.",
    "created_at": "2020-08-25T15:54:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479644",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@sagetrac-tmonteil](#comment%3A16):
> Apparently, you fixed the issue already, sorry for the noise, let us see if the patchbots are happy now.

No worries. Thank you for running those patchbots.



---

archive/issue_events_413571.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-27T01:00:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413571"
}
```



---

archive/issue_events_413572.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-27T01:00:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413572"
}
```



---

archive/issue_comments_479645.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@jcamp0x2a](#comment%3A14):\n>  mentioning to the user to install using `sage -i jupyterlab` instead of `sage --pip install jupyterlab`.\n\nWould it perhaps be better to direct the user to do `sage -i jupyterlab_widgets` so that a full-featured jupyterlab is installed?",
    "created_at": "2020-08-27T01:06:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479645",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@jcamp0x2a](#comment%3A14):
>  mentioning to the user to install using `sage -i jupyterlab` instead of `sage --pip install jupyterlab`.

Would it perhaps be better to direct the user to do `sage -i jupyterlab_widgets` so that a full-featured jupyterlab is installed?



---

archive/issue_comments_479646.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nAlso, could you update the help messages in `src/bin/sage` so that jupyterlab is mentioned as an option. (Also I would guess that the default that is mentioned there is not correct.)",
    "created_at": "2020-08-27T01:10:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479646",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">comment:20</div>

Also, could you update the help messages in `src/bin/sage` so that jupyterlab is mentioned as an option. (Also I would guess that the default that is mentioned there is not correct.)



---

archive/issue_comments_479647.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\non macOS:\n\n```\n[nodejs-12.18.3] usage: grep [-abcDEFGHhIiJLlmnOoqRSsUVvwxZ] [-A num] [-B num] [-C[num]]\n[nodejs-12.18.3] \t[-e pattern] [-f file] [--binary-files=value] [--color=when]\n[nodejs-12.18.3] \t[--context[=num]] [--directories=action] [--label] [--line-buffered]\n[nodejs-12.18.3] \t[--null] [pattern] [file ...]\n[nodejs-12.18.3] Error determining which nodejs version to install ... exiting\n```",
    "created_at": "2020-08-27T01:22:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479647",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

on macOS:

```
[nodejs-12.18.3] usage: grep [-abcDEFGHhIiJLlmnOoqRSsUVvwxZ] [-A num] [-B num] [-C[num]]
[nodejs-12.18.3] 	[-e pattern] [-f file] [--binary-files=value] [--color=when]
[nodejs-12.18.3] 	[--context[=num]] [--directories=action] [--label] [--line-buffered]
[nodejs-12.18.3] 	[--null] [pattern] [file ...]
[nodejs-12.18.3] Error determining which nodejs version to install ... exiting
```



---

archive/issue_comments_479648.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\n`grep -P` is not portable",
    "created_at": "2020-08-27T01:24:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479648",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

`grep -P` is not portable



---

archive/issue_events_413573.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-27T01:24:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413573"
}
```



---

archive/issue_events_413574.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-27T01:24:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413574"
}
```



---

archive/issue_comments_479649.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@mkoeppe](#comment%3A19):\n> Would it perhaps be better to direct the user to do `sage -i jupyterlab_widgets` so that a full-featured jupyterlab is installed?\n\nI will update the message to suggest jupyterlab_widgets by default, with a short aside about a minimal installation using just jupyterlab.\n\nReplying to [@mkoeppe](#comment%3A20):\n> Also, could you update the help messages in `src/bin/sage` so that jupyterlab is mentioned as an option. (Also I would guess that the default that is mentioned there is not correct.)\n\nI will add mention of jupyterlab to the help messages. I'm not sure I understand you about the default. The help messages I see list jupyter as the default, and indeed running `sage -n` or `sage -n default` starts jupyter.\n\nReplying to [@mkoeppe](#comment%3A22):\n> `grep -P` is not portable\n\nI should know better. I remember this bit me on Solaris a few years ago, too. I will fix this.",
    "created_at": "2020-08-27T05:29:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479649",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@mkoeppe](#comment%3A19):
> Would it perhaps be better to direct the user to do `sage -i jupyterlab_widgets` so that a full-featured jupyterlab is installed?

I will update the message to suggest jupyterlab_widgets by default, with a short aside about a minimal installation using just jupyterlab.

Replying to [@mkoeppe](#comment%3A20):
> Also, could you update the help messages in `src/bin/sage` so that jupyterlab is mentioned as an option. (Also I would guess that the default that is mentioned there is not correct.)

I will add mention of jupyterlab to the help messages. I'm not sure I understand you about the default. The help messages I see list jupyter as the default, and indeed running `sage -n` or `sage -n default` starts jupyter.

Replying to [@mkoeppe](#comment%3A22):
> `grep -P` is not portable

I should know better. I remember this bit me on Solaris a few years ago, too. I will fix this.



---

archive/issue_comments_479650.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f1aad988e422578ded63d59b120d405fa7b4db4\"><code>3f1aad9</code></a></td><td><code>Recommend jupyterlab_widgets, mention jupyterlab as minimal install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bcbccd628ca923248a7e338b19dca9c1da9b3fad\"><code>bcbccd6</code></a></td><td><code>Mention jupyterlab in basic and advanced help messages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a06353ae7c91a8e66b6d1ead2561567c2b359b8\"><code>0a06353</code></a></td><td><code>Don't use grep -P in nodejs spkg-install</code></td></tr></table>\n",
    "created_at": "2020-08-27T16:55:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479650",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f1aad988e422578ded63d59b120d405fa7b4db4"><code>3f1aad9</code></a></td><td><code>Recommend jupyterlab_widgets, mention jupyterlab as minimal install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bcbccd628ca923248a7e338b19dca9c1da9b3fad"><code>bcbccd6</code></a></td><td><code>Mention jupyterlab in basic and advanced help messages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a06353ae7c91a8e66b6d1ead2561567c2b359b8"><code>0a06353</code></a></td><td><code>Don't use grep -P in nodejs spkg-install</code></td></tr></table>




---

archive/issue_comments_479651.json:
```json
{
    "body": "Changed commit from **[`29359e1`](https://github.com/sagemath/sagetrac-mirror/commit/29359e1434f5464023c72bfe652118c2fbc1906a)** to **[`0a06353`](https://github.com/sagemath/sagetrac-mirror/commit/0a06353ae7c91a8e66b6d1ead2561567c2b359b8)**",
    "created_at": "2020-08-27T16:55:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479651",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`29359e1`](https://github.com/sagemath/sagetrac-mirror/commit/29359e1434f5464023c72bfe652118c2fbc1906a)** to **[`0a06353`](https://github.com/sagemath/sagetrac-mirror/commit/0a06353ae7c91a8e66b6d1ead2561567c2b359b8)**



---

archive/issue_comments_479652.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nUpon re-reading the basic help message, I saw what you mentioned about the default needing to be updated. I've pushed changes that I believe address your feedback items.\n\nI also came across `sage --notebook --help` which had already mentioned jupyterlab and so didn't need updating, but I found that it also mentions an ipython option:\n\n```\n--notebook [NOTEBOOK], -n [NOTEBOOK], -notebook [NOTEBOOK]\n                      The notebook to run [one of: default, ipython,\n                      jupyter, jupyterlab, export]. Default is jupyter\n```\n\nLooking at the code in `src/bin/sage-notebook`, this option is currently just an alias for jupyter. Would it be valuable to mention this option in the basic and/or advanced help messages for sage as well?",
    "created_at": "2020-08-27T17:03:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479652",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:26" align="right">comment:26</div>

Upon re-reading the basic help message, I saw what you mentioned about the default needing to be updated. I've pushed changes that I believe address your feedback items.

I also came across `sage --notebook --help` which had already mentioned jupyterlab and so didn't need updating, but I found that it also mentions an ipython option:

```
--notebook [NOTEBOOK], -n [NOTEBOOK], -notebook [NOTEBOOK]
                      The notebook to run [one of: default, ipython,
                      jupyter, jupyterlab, export]. Default is jupyter
```

Looking at the code in `src/bin/sage-notebook`, this option is currently just an alias for jupyter. Would it be valuable to mention this option in the basic and/or advanced help messages for sage as well?



---

archive/issue_events_413575.json:
```json
{
    "actor": "https://github.com/jcamp0x2a",
    "created_at": "2020-08-27T17:03:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413575"
}
```



---

archive/issue_events_413576.json:
```json
{
    "actor": "https://github.com/jcamp0x2a",
    "created_at": "2020-08-27T17:03:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413576"
}
```



---

archive/issue_comments_479653.json:
```json
{
    "body": "Changed branch from **[u/gh-jcamp0x2a/30246](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-jcamp0x2a/30246)** to **[u/mkoeppe/30246](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/30246)**",
    "created_at": "2020-08-28T04:52:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479653",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/gh-jcamp0x2a/30246](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-jcamp0x2a/30246)** to **[u/mkoeppe/30246](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/30246)**



---

archive/issue_events_413577.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-28T04:53:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413577"
}
```



---

archive/issue_events_413578.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-28T04:53:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413578"
}
```



---

archive/issue_comments_479654.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe**",
    "created_at": "2020-08-28T04:53:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479654",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe**



---

archive/issue_comments_479655.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThis works for me on macOS and is looking great overall.\n\nI have added dependencies to make sure that a parallel build works correctly.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e169060957d2aca9ba657599ca7f9fa4a3df23a1\"><code>e169060</code></a></td><td><code>build/pkgs/{jupyterlab_widgets,nodeenv}: Add dependencies</code></td></tr></table>\n",
    "created_at": "2020-08-28T04:53:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479655",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

This works for me on macOS and is looking great overall.

I have added dependencies to make sure that a parallel build works correctly.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e169060957d2aca9ba657599ca7f9fa4a3df23a1"><code>e169060</code></a></td><td><code>build/pkgs/{jupyterlab_widgets,nodeenv}: Add dependencies</code></td></tr></table>




---

archive/issue_comments_479656.json:
```json
{
    "body": "Changed commit from **[`0a06353`](https://github.com/sagemath/sagetrac-mirror/commit/0a06353ae7c91a8e66b6d1ead2561567c2b359b8)** to **[`e169060`](https://github.com/sagemath/sagetrac-mirror/commit/e169060957d2aca9ba657599ca7f9fa4a3df23a1)**",
    "created_at": "2020-08-28T04:53:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479656",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`0a06353`](https://github.com/sagemath/sagetrac-mirror/commit/0a06353ae7c91a8e66b6d1ead2561567c2b359b8)** to **[`e169060`](https://github.com/sagemath/sagetrac-mirror/commit/e169060957d2aca9ba657599ca7f9fa4a3df23a1)**



---

archive/issue_events_413579.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-28T05:28:46Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "title_is": "Add optional packages jupyterlab, jupyterlab_widgets to support interacts in JupyterLab",
    "title_was": "Support interacts in JupyterLab",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413579"
}
```



---

archive/issue_comments_479657.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@mkoeppe](#comment%3A28):\n> This works for me on macOS and is looking great overall.\n> \n> I have added dependencies to make sure that a parallel build works correctly.\n\nAwesome! Thank you for all your time and assistance on this ticket.",
    "created_at": "2020-08-28T16:17:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479657",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@mkoeppe](#comment%3A28):
> This works for me on macOS and is looking great overall.
> 
> I have added dependencies to make sure that a parallel build works correctly.

Awesome! Thank you for all your time and assistance on this ticket.



---

archive/issue_events_413580.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-09-01T23:00:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413580"
}
```



---

archive/issue_events_413581.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "d88320813a50dcc372e91d3be8ab003646e67d0a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-09-01T23:00:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30246#event-413581"
}
```



---

archive/issue_comments_479658.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/30246](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/30246)** to **[`e169060`](https://github.com/sagemath/sagetrac-mirror/commit/e169060957d2aca9ba657599ca7f9fa4a3df23a1)**",
    "created_at": "2020-09-01T23:00:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479658",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/30246](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/30246)** to **[`e169060`](https://github.com/sagemath/sagetrac-mirror/commit/e169060957d2aca9ba657599ca7f9fa4a3df23a1)**



---

archive/issue_comments_479659.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nMinor booboo : after (successful) installlation, `jupyterlab_widgets` is still marked as not installed:\n\n```\ncharpent@zen-book-flip:/usr/local/sage-exp$ ./sage -optional | grep jupyter\ngap_jupyter.............................0.9 (0.9)\njupyterlab..............................2.2.6 (2.2.6)\njupyterlab_widgets......................none (2.0)\npari_jupyter............................1.3.2 (1.3.2)\nr_jupyter...............................none (not_installed)\nsingular_jupyter........................0.9.7 (0.9.7)\n```\n\nUntidy, and potentially confusing...",
    "created_at": "2020-09-04T11:22:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479659",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:32" align="right">comment:32</div>

Minor booboo : after (successful) installlation, `jupyterlab_widgets` is still marked as not installed:

```
charpent@zen-book-flip:/usr/local/sage-exp$ ./sage -optional | grep jupyter
gap_jupyter.............................0.9 (0.9)
jupyterlab..............................2.2.6 (2.2.6)
jupyterlab_widgets......................none (2.0)
pari_jupyter............................1.3.2 (1.3.2)
r_jupyter...............................none (not_installed)
singular_jupyter........................0.9.7 (0.9.7)
```

Untidy, and potentially confusing...



---

archive/issue_comments_479660.json:
```json
{
    "body": "Changed commit from **[`e169060`](https://github.com/sagemath/sagetrac-mirror/commit/e169060957d2aca9ba657599ca7f9fa4a3df23a1)** to none",
    "created_at": "2020-09-04T11:22:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479660",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changed commit from **[`e169060`](https://github.com/sagemath/sagetrac-mirror/commit/e169060957d2aca9ba657599ca7f9fa4a3df23a1)** to none



---

archive/issue_comments_479661.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nI believe the version in parentheses is the installed version while the other is the available version. I'm not sure why the available version isn't displayed since there is a package-version.txt present for jupyterlab_widgets, but I'm thinking this may be a problem for \"script\" packages in general. For example:\n\n```\n$ ./sage --installed | grep none\njupyterlab_widgets......................none (2.0)\nnodejs..................................none (12.18.3)\nsage_conf...............................none (none)\nsagelib.................................none (9.2.beta10)\nzope_interface..........................none (none)\n```",
    "created_at": "2020-09-04T16:00:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479661",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:33" align="right">comment:33</div>

I believe the version in parentheses is the installed version while the other is the available version. I'm not sure why the available version isn't displayed since there is a package-version.txt present for jupyterlab_widgets, but I'm thinking this may be a problem for "script" packages in general. For example:

```
$ ./sage --installed | grep none
jupyterlab_widgets......................none (2.0)
nodejs..................................none (12.18.3)
sage_conf...............................none (none)
sagelib.................................none (9.2.beta10)
zope_interface..........................none (none)
```



---

archive/issue_comments_479662.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nHas anyone figured out how to use MathJax in JupyterLab markdown cells?",
    "created_at": "2020-10-24T22:05:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30246#issuecomment-479662",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:34" align="right">comment:34</div>

Has anyone figured out how to use MathJax in JupyterLab markdown cells?
