# Issue 30747: Deprecate sage.misc.package functions standard_packages, optional_packages, experimental_packages

archive/issues_030510.json:
```json
{
    "body": "These functions are superseded by the more general function `list_packages`.\n\n\nThis is also a step toward deprecating all of `sage.misc.package`.\n\n\n\nCC:  @antonio-rojas @jhpalmieri @kiwifb @isuruf\n\nReviewer: John Palmieri\n\nAuthor: Matthias Koeppe\n\nBranch: 8ccc15734fb09a3db16b11d960de9dfc3075fd3c\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30747\n\n",
    "closed_at": "2020-12-06T12:49:05Z",
    "created_at": "2020-10-08T17:13:56Z",
    "labels": [
        "component: refactoring",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Deprecate sage.misc.package functions standard_packages, optional_packages, experimental_packages",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30747",
    "user": "https://github.com/mkoeppe"
}
```
These functions are superseded by the more general function `list_packages`.


This is also a step toward deprecating all of `sage.misc.package`.



CC:  @antonio-rojas @jhpalmieri @kiwifb @isuruf

Reviewer: John Palmieri

Author: Matthias Koeppe

Branch: 8ccc15734fb09a3db16b11d960de9dfc3075fd3c

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30747





---

archive/issue_events_080142.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30747",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30747#event-80142"
}
```



---

archive/issue_comments_464617.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,8 +1,12 @@\n-We move \\`is_package_installed\\` etc. to \\`sage_setup\\`, leaving deprecated \\`lazy_import\\`s behind.\n+We move \\`is_package_installed\\` etc. to \\`sage_setup\\` or \\`sage_bootstrap\\` (#29039), leaving deprecated \\`lazy_import\\`s behind.\n \n We keep \\`PackageNotFoundError\\` (after #30607, instantiation already leads to a deprecation warning).\n \n We move \\`src/bin/sage-list-packages\\` to \\`build/bin\\`. It is only used in \\`build/bin/sage-site\\` (to implement \\`sage --installed\\` etc.) and not documented individually as a script.\n+\n+\n+\n+\n \n Dependencies: #30746\n \n```\n",
    "created_at": "2020-11-01T16:57:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30747#issuecomment-464617",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,8 +1,12 @@
-We move \`is_package_installed\` etc. to \`sage_setup\`, leaving deprecated \`lazy_import\`s behind.
+We move \`is_package_installed\` etc. to \`sage_setup\` or \`sage_bootstrap\` (#29039), leaving deprecated \`lazy_import\`s behind.
 
 We keep \`PackageNotFoundError\` (after #30607, instantiation already leads to a deprecation warning).
 
 We move \`src/bin/sage-list-packages\` to \`build/bin\`. It is only used in \`build/bin/sage-site\` (to implement \`sage --installed\` etc.) and not documented individually as a script.
+
+
+
+
 
 Dependencies: #30746
 
```




---

archive/issue_comments_464618.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n+We move \\`is_package_installed\\` etc. to \\`sage_setup\\` or \\`sage_bootstrap\\` (#29039), leaving deprecated \\`lazy_import\\`s behind.\n+\n+We keep \\`PackageNotFoundError\\` (after #30607, instantiation already leads to a deprecation warning).\n+\n \n \n Dependencies: #30746\n```\n",
    "created_at": "2020-11-01T19:24:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30747#issuecomment-464618",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,7 @@
+We move \`is_package_installed\` etc. to \`sage_setup\` or \`sage_bootstrap\` (#29039), leaving deprecated \`lazy_import\`s behind.
+
+We keep \`PackageNotFoundError\` (after #30607, instantiation already leads to a deprecation warning).
+
 
 
 Dependencies: #30746
```




---

archive/issue_comments_464619.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-11-07T18:37:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30747#issuecomment-464619",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_464620.json:
```json
{
    "body": "Changing priority from major to minor.",
    "created_at": "2020-11-07T18:37:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30747#issuecomment-464620",
    "user": "https://github.com/mkoeppe"
}
```

Changing priority from major to minor.



---

archive/issue_comments_464621.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n+This is a step toward deprecating all of \\`sage.misc.package\\`.\n+\n \n \n Dependencies: #30746\n```\n",
    "created_at": "2020-11-07T18:37:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30747#issuecomment-464621",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,5 @@
+This is a step toward deprecating all of \`sage.misc.package\`.
+
 
 
 Dependencies: #30746
```




---

archive/issue_comments_464622.json:
```json
{
    "body": "<a id='comment:8'></a>New commits:",
    "created_at": "2020-11-07T18:37:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30747#issuecomment-464622",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>New commits:



---

archive/issue_comments_464623.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,8 @@\n+These functions are superseded by the more general function \\`list_packages\\`.\n+\n+\n+This is also a step toward deprecating all of \\`sage.misc.package\\`.\n+\n \n \n Dependencies: #30746\n```\n",
    "created_at": "2020-11-20T23:51:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30747#issuecomment-464623",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,8 @@
+These functions are superseded by the more general function \`list_packages\`.
+
+
+This is also a step toward deprecating all of \`sage.misc.package\`.
+
 
 
 Dependencies: #30746
```




---

archive/issue_comments_464624.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-11-20T23:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30747#issuecomment-464624",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_464625.json:
```json
{
    "body": "<a id='comment:11'></a>Looks okay to me.",
    "created_at": "2020-11-21T20:54:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30747#issuecomment-464625",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'></a>Looks okay to me.



---

archive/issue_comments_464626.json:
```json
{
    "body": "<a id='comment:12'></a>positive review?",
    "created_at": "2020-11-25T20:06:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30747#issuecomment-464626",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>positive review?



---

archive/issue_comments_464627.json:
```json
{
    "body": "<a id='comment:13'></a>Yes, sorry.",
    "created_at": "2020-11-25T21:20:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30747#issuecomment-464627",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:13'></a>Yes, sorry.



---

archive/issue_comments_464628.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-11-25T21:20:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30747#issuecomment-464628",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_464629.json:
```json
{
    "body": "<a id='comment:14'></a>Thanks!",
    "created_at": "2020-11-25T21:36:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30747#issuecomment-464629",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>Thanks!



---

archive/issue_events_080143.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-12-06T12:49:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30747",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30747#event-80143"
}
```



---

archive/issue_comments_464630.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-12-06T12:49:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30747#issuecomment-464630",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_464631.json:
```json
{
    "body": "<a id='comment:16'></a>the doctests in misc/package are sometimes failing, see\n\nhttps://patchbot.sagemath.org/log/31060/Linux/60-Ubuntu_SMP_Fri_Nov_6_10:37:59_UTC_2020/x86_64/5.4.0-54-generic/petitbonum/2020-12-16%2023:45:16?short\n\nwhich is running sage with python 3.9",
    "created_at": "2020-12-17T07:56:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30747#issuecomment-464631",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>the doctests in misc/package are sometimes failing, see

https://patchbot.sagemath.org/log/31060/Linux/60-Ubuntu_SMP_Fri_Nov_6_10:37:59_UTC_2020/x86_64/5.4.0-54-generic/petitbonum/2020-12-16%2023:45:16?short

which is running sage with python 3.9



---

archive/issue_comments_464632.json:
```json
{
    "body": "<a id='comment:17'></a>Replying to [comment:16 chapoton]:\n> the doctests in misc/package are sometimes failing, see\n> \n> https://patchbot.sagemath.org/log/31060/Linux/60-Ubuntu_SMP_Fri_Nov_6_10:37:59_UTC_2020/x86_64/5.4.0-54-generic/petitbonum/2020-12-16%2023:45:16?short\n\n\nAs part of #30940, some of these doctests are made less strict so that they work better in incremental builds that have some old packages still installed. - Needs review",
    "created_at": "2020-12-18T01:02:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30747#issuecomment-464632",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>Replying to [comment:16 chapoton]:
> the doctests in misc/package are sometimes failing, see
> 
> https://patchbot.sagemath.org/log/31060/Linux/60-Ubuntu_SMP_Fri_Nov_6_10:37:59_UTC_2020/x86_64/5.4.0-54-generic/petitbonum/2020-12-16%2023:45:16?short


As part of #30940, some of these doctests are made less strict so that they work better in incremental builds that have some old packages still installed. - Needs review
