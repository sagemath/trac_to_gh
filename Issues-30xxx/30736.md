# Issue 30736: replacing insecure git:// with secure https://

archive/issues_030499.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nadjust documentation of Sage and git-trac to use https rather than git.\n\nremove git_trac spkg, as the upstream should be used directly instead, and\nas our version is long obsolete.\n\nCC:  @vbraun @mkoeppe @embray @saraedum\n\nComponent: **scripts**\n\nKeywords: **security git trac**\n\nAuthor: **Volker Weissmann, Dima Pasechnik**\n\nBranch/Commit: **[`f482f0c`](https://github.com/sagemath/sagetrac-mirror/commit/f482f0c25a5c50cba16252dc4f527fc7092be0b7)**\n\nReviewer: **Dima Pasechnik, Matthias Koeppe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30736_\n\n",
    "closed_at": "2020-11-01T00:42:52Z",
    "created_at": "2020-10-06T23:59:59Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20scripts",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "replacing insecure git:// with secure https://",
    "type": "issue",
    "updated_at": "2020-11-01T00:42:52Z",
    "url": "https://github.com/sagemath/sage/issues/30736",
    "user": "https://github.com/Volker-Weissmann"
}
```
<div id="comment:0"></div>

adjust documentation of Sage and git-trac to use https rather than git.

remove git_trac spkg, as the upstream should be used directly instead, and
as our version is long obsolete.

CC:  @vbraun @mkoeppe @embray @saraedum

Component: **scripts**

Keywords: **security git trac**

Author: **Volker Weissmann, Dima Pasechnik**

Branch/Commit: **[`f482f0c`](https://github.com/sagemath/sagetrac-mirror/commit/f482f0c25a5c50cba16252dc4f527fc7092be0b7)**

Reviewer: **Dima Pasechnik, Matthias Koeppe**

_Issue created by migration from https://trac.sagemath.org/ticket/30736_





---

archive/issue_events_420750.json:
```json
{
    "actor": "https://github.com/Volker-Weissmann",
    "created_at": "2020-10-06T23:59:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420750"
}
```



---

archive/issue_events_420751.json:
```json
{
    "actor": "https://github.com/Volker-Weissmann",
    "created_at": "2020-10-06T23:59:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420751"
}
```



---

archive/issue_comments_490926.json:
```json
{
    "body": "Branch: **[u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___)**",
    "created_at": "2020-10-07T00:20:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490926",
    "user": "https://github.com/Volker-Weissmann"
}
```

Branch: **[u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___)**



---

archive/issue_comments_490927.json:
```json
{
    "body": "Changed branch from **[u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___)** to none",
    "created_at": "2020-10-07T01:06:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490927",
    "user": "https://github.com/Volker-Weissmann"
}
```

Changed branch from **[u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___)** to none



---

archive/issue_events_420752.json:
```json
{
    "actor": "https://github.com/Volker-Weissmann",
    "created_at": "2020-10-07T01:06:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420752"
}
```



---

archive/issue_comments_490928.json:
```json
{
    "body": "Changed keywords from none to **security git trac**",
    "created_at": "2020-10-07T01:06:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490928",
    "user": "https://github.com/Volker-Weissmann"
}
```

Changed keywords from none to **security git trac**



---

archive/issue_events_420753.json:
```json
{
    "actor": "https://github.com/Volker-Weissmann",
    "created_at": "2020-10-07T01:06:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20scripts",
    "label_color": "0000b0",
    "label_name": "c: scripts",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420753"
}
```



---

archive/issue_events_420754.json:
```json
{
    "actor": "https://github.com/Volker-Weissmann",
    "created_at": "2020-10-07T01:06:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420754"
}
```



---

archive/issue_events_420755.json:
```json
{
    "actor": "https://github.com/Volker-Weissmann",
    "created_at": "2020-10-07T01:06:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420755"
}
```



---

archive/issue_events_420756.json:
```json
{
    "actor": "https://github.com/Volker-Weissmann",
    "created_at": "2020-10-07T01:06:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420756"
}
```



---

archive/issue_comments_490929.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nSee https://github.com/sagemath/git-trac-command/pull/49 for the second part of this ticket. (This ticket won't work without the git trac PR).",
    "created_at": "2020-10-07T01:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490929",
    "user": "https://github.com/Volker-Weissmann"
}
```

<div id="comment:3" align="right">comment:3</div>

See https://github.com/sagemath/git-trac-command/pull/49 for the second part of this ticket. (This ticket won't work without the git trac PR).



---

archive/issue_comments_490930.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThe PR has been merged. So I suppose it's waiting for a new release, to update build/pkgs/git_trac/package-version.txt etc?",
    "created_at": "2020-10-07T11:51:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490930",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:4" align="right">comment:4</div>

The PR has been merged. So I suppose it's waiting for a new release, to update build/pkgs/git_trac/package-version.txt etc?



---

archive/issue_comments_490931.json:
```json
{
    "body": "Branch: **[u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___)**",
    "created_at": "2020-10-07T23:35:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490931",
    "user": "https://github.com/Volker-Weissmann"
}
```

Branch: **[u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___)**



---

archive/issue_comments_490932.json:
```json
{
    "body": "Commit: **[`1a15744`](https://github.com/sagemath/sagetrac-mirror/commit/1a15744f2fc9cf6de37ffb65f2fd9e91d43f5582)**",
    "created_at": "2020-10-07T23:45:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490932",
    "user": "https://github.com/Volker-Weissmann"
}
```

Commit: **[`1a15744`](https://github.com/sagemath/sagetrac-mirror/commit/1a15744f2fc9cf6de37ffb65f2fd9e91d43f5582)**



---

archive/issue_comments_490933.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@dimpase](#comment%3A4):\n> So I suppose it's waiting for a new release, to update build/pkgs/git_trac/package-version.txt etc?\n> \n\nI don't know what you are talking about. We don't touch build/pkgs/git_trac/package-version.txt .\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a15744f2fc9cf6de37ffb65f2fd9e91d43f5582\"><code>1a15744</code></a></td><td><code>replaced insecure git:// with secure https:// or secure git over ssh</code></td></tr></table>\n",
    "created_at": "2020-10-07T23:45:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490933",
    "user": "https://github.com/Volker-Weissmann"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@dimpase](#comment%3A4):
> So I suppose it's waiting for a new release, to update build/pkgs/git_trac/package-version.txt etc?
> 

I don't know what you are talking about. We don't touch build/pkgs/git_trac/package-version.txt .

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a15744f2fc9cf6de37ffb65f2fd9e91d43f5582"><code>1a15744</code></a></td><td><code>replaced insecure git:// with secure https:// or secure git over ssh</code></td></tr></table>




---

archive/issue_comments_490934.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@Volker-Weissmann](#comment%3A6):\n> Replying to [@dimpase](#comment%3A4):\n> > So I suppose it's waiting for a new release, to update build/pkgs/git_trac/package-version.txt etc?\n> > \n> \n> I don't know what you are talking about. We don't touch build/pkgs/git_trac/package-version.txt \n\nSage can install  git-trac as its optional package.\nThis ticket updates git-trac, so I thought it should update the optional package too.\nHowever, the optional package looks abandoned, last touched in 2016.\n\nLet's remove it here, it seems to be an oversight that it's not done years ago.",
    "created_at": "2020-10-08T10:56:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490934",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@Volker-Weissmann](#comment%3A6):
> Replying to [@dimpase](#comment%3A4):
> > So I suppose it's waiting for a new release, to update build/pkgs/git_trac/package-version.txt etc?
> > 
> 
> I don't know what you are talking about. We don't touch build/pkgs/git_trac/package-version.txt 

Sage can install  git-trac as its optional package.
This ticket updates git-trac, so I thought it should update the optional package too.
However, the optional package looks abandoned, last touched in 2016.

Let's remove it here, it seems to be an oversight that it's not done years ago.



---

archive/issue_comments_490935.json:
```json
{
    "body": "Changed branch from **[u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___)** to **[u/dimpase/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/replacing_insecure_git____with_secure_https___)**",
    "created_at": "2020-10-08T11:49:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490935",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___)** to **[u/dimpase/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/replacing_insecure_git____with_secure_https___)**



---

archive/issue_comments_490936.json:
```json
{
    "body": "Changed commit from **[`1a15744`](https://github.com/sagemath/sagetrac-mirror/commit/1a15744f2fc9cf6de37ffb65f2fd9e91d43f5582)** to **[`c28adef`](https://github.com/sagemath/sagetrac-mirror/commit/c28adeff5b638555daf89d82bce21750e070b8be)**",
    "created_at": "2020-10-08T11:49:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490936",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`1a15744`](https://github.com/sagemath/sagetrac-mirror/commit/1a15744f2fc9cf6de37ffb65f2fd9e91d43f5582)** to **[`c28adef`](https://github.com/sagemath/sagetrac-mirror/commit/c28adeff5b638555daf89d82bce21750e070b8be)**



---

archive/issue_comments_490937.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n+adjust documentation of Sage and git-trac to use https rather than git.\n \n+remove git_trac spkg, as the upstream should be used directly instead, and\n+as our version is long obsolete.\n``````\n",
    "created_at": "2020-10-08T11:49:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490937",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
+adjust documentation of Sage and git-trac to use https rather than git.
 
+remove git_trac spkg, as the upstream should be used directly instead, and
+as our version is long obsolete.
``````




---

archive/issue_comments_490938.json:
```json
{
    "body": "Author: **Volker Weissmann**",
    "created_at": "2020-10-08T11:49:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490938",
    "user": "https://github.com/dimpase"
}
```

Author: **Volker Weissmann**



---

archive/issue_comments_490939.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c28adeff5b638555daf89d82bce21750e070b8be\"><code>c28adef</code></a></td><td><code>remove git_trac spkg</code></td></tr></table>\n",
    "created_at": "2020-10-08T11:49:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490939",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:8"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c28adeff5b638555daf89d82bce21750e070b8be"><code>c28adef</code></a></td><td><code>remove git_trac spkg</code></td></tr></table>




---

archive/issue_events_420757.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-10-08T11:49:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420757"
}
```



---

archive/issue_events_420758.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-10-08T11:49:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420758"
}
```



---

archive/issue_comments_490940.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2020-10-08T11:49:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490940",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_420759.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-10-08T11:51:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420759"
}
```



---

archive/issue_events_420760.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-10-08T11:51:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420760"
}
```



---

archive/issue_comments_490941.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI am not sure about changes to `docker/Dockerfile` - isn't it replacing anonymous access with authenticated?\nSame for some scripts.",
    "created_at": "2020-10-08T11:56:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490941",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

I am not sure about changes to `docker/Dockerfile` - isn't it replacing anonymous access with authenticated?
Same for some scripts.



---

archive/issue_comments_490942.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThis looks wrong:\n\n```diff\n--- a/src/bin/sage-env\n+++ b/src/bin/sage-env\n@@ -352,7 +352,7 @@ SINGULARPATH=\"$SAGE_LOCAL/share/singular\" && export SINGULARPATH\n SINGULAR_EXECUTABLE=\"$SAGE_LOCAL/bin/Singular\" && export SINGULAR_EXECUTABLE\n \n if [ -z \"$SAGE_REPO_ANONYMOUS\" ]; then\n-    SAGE_REPO_ANONYMOUS=\"git://trac.sagemath.org/sage.git\"\n+    SAGE_REPO_ANONYMOUS=\"git@trac.sagemath.org:sage.git\"\n     export SAGE_REPO_ANONYMOUS\n fi\n if [ -z \"$SAGE_REPO_AUTHENTICATED\" ]; then\n```\nas this is anonymous access, as opposed to authenticated. So it should be left alone (as our git server does not provide `http(s):` access, only `git:` and `ssh:`.",
    "created_at": "2020-10-08T12:06:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490942",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

This looks wrong:

```diff
--- a/src/bin/sage-env
+++ b/src/bin/sage-env
@@ -352,7 +352,7 @@ SINGULARPATH="$SAGE_LOCAL/share/singular" && export SINGULARPATH
 SINGULAR_EXECUTABLE="$SAGE_LOCAL/bin/Singular" && export SINGULAR_EXECUTABLE
 
 if [ -z "$SAGE_REPO_ANONYMOUS" ]; then
-    SAGE_REPO_ANONYMOUS="git://trac.sagemath.org/sage.git"
+    SAGE_REPO_ANONYMOUS="git@trac.sagemath.org:sage.git"
     export SAGE_REPO_ANONYMOUS
 fi
 if [ -z "$SAGE_REPO_AUTHENTICATED" ]; then
```
as this is anonymous access, as opposed to authenticated. So it should be left alone (as our git server does not provide `http(s):` access, only `git:` and `ssh:`.



---

archive/issue_comments_490943.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\non the other hand, `SAGE_REPO_ANONYMOUS` is only **used** in `build/bin/sage-clone-source` - a script that is currently not used, so it's OK to change it like this. \n\nBut the dockerfile may be used by various bots, so it really matters that it's an anonymous access.\nThe proper fix would be to enable `https:` on Sage's git server, but I am so not looking forward to this exercise... Perhaps it might be easier to add a server-side post-commit hook to push changes to the github mirror https://github.com/sagemath/sagetrac-mirror, and use it for read access instead.",
    "created_at": "2020-10-08T13:55:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490943",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:12" align="right">comment:12</div>

on the other hand, `SAGE_REPO_ANONYMOUS` is only **used** in `build/bin/sage-clone-source` - a script that is currently not used, so it's OK to change it like this. 

But the dockerfile may be used by various bots, so it really matters that it's an anonymous access.
The proper fix would be to enable `https:` on Sage's git server, but I am so not looking forward to this exercise... Perhaps it might be easier to add a server-side post-commit hook to push changes to the github mirror https://github.com/sagemath/sagetrac-mirror, and use it for read access instead.



---

archive/issue_comments_490944.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThe problem with using git clone git://trac.sagemath.org/sage.git is that it does not check whether the cloned source code actually originates from sagemath.org.\nIf a hacker got control over e.g. the router, he could manipulate the cloned source code to include malware that gets executed once you build sagemath.\nThis is an unacceptable security vulnerability that needs to be fixed by either using https or ssh.\n\nI tried https://trac.sagemath.org/sage.git, but this is not supported from server-site.\nI don't see the problem with having git clone git@trac.sagemath.org:sage.git . A bot could do that, but maybe it would require setting the correct ssh fingerprint like in my other PR:\n\nhttps://github.com/sagemath/git-trac-command/pull/49/commits/1cf840b144bb49a3948361cd3368db430b75deec",
    "created_at": "2020-10-08T15:19:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490944",
    "user": "https://github.com/Volker-Weissmann"
}
```

<div id="comment:13" align="right">comment:13</div>

The problem with using git clone git://trac.sagemath.org/sage.git is that it does not check whether the cloned source code actually originates from sagemath.org.
If a hacker got control over e.g. the router, he could manipulate the cloned source code to include malware that gets executed once you build sagemath.
This is an unacceptable security vulnerability that needs to be fixed by either using https or ssh.

I tried https://trac.sagemath.org/sage.git, but this is not supported from server-site.
I don't see the problem with having git clone git@trac.sagemath.org:sage.git . A bot could do that, but maybe it would require setting the correct ssh fingerprint like in my other PR:

https://github.com/sagemath/git-trac-command/pull/49/commits/1cf840b144bb49a3948361cd3368db430b75deec



---

archive/issue_comments_490945.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@Volker-Weissmann](#comment%3A13):\n> The problem with using git clone git://trac.sagemath.org/sage.git is that it does not check whether the cloned source code actually originates from sagemath.org.\n> If a hacker got control over e.g. the router, he could manipulate the cloned source code to include malware that gets executed once you build sagemath.\n> This is an unacceptable security vulnerability that needs to be fixed by either using https or ssh.\n> \n> I tried https://trac.sagemath.org/sage.git, but this is not supported from server-site.\n\nyes, I know, I have admin rights for the host running trac.sagemath.org, and setting https access seems to be a tricky task. I can't seem to be able to find a guide on how to do this, although I didn't try too hard. The Git Book only talks about http, not https.\n\n\n> I don't see the problem with having git clone git@trac.sagemath.org:sage.git . A bot could do that, but maybe it would require setting the correct ssh fingerprint like in my other PR:\n\nI don't see how this could be useful.\nA typical bot would be, say, a host running [GitHub](../wiki/GitHub) Actions task, and the problem of distributing the keys seems to be a rather tricky one. Indeed, we do not have a way to have a read-only access rights, and so uploading an ssh key-pair to a random host does breach our security just as well.\n\n\n> \n> https://github.com/sagemath/git-trac-command/pull/49/commits/1cf840b144bb49a3948361cd3368db430b75deec \n>\n>",
    "created_at": "2020-10-08T16:01:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490945",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@Volker-Weissmann](#comment%3A13):
> The problem with using git clone git://trac.sagemath.org/sage.git is that it does not check whether the cloned source code actually originates from sagemath.org.
> If a hacker got control over e.g. the router, he could manipulate the cloned source code to include malware that gets executed once you build sagemath.
> This is an unacceptable security vulnerability that needs to be fixed by either using https or ssh.
> 
> I tried https://trac.sagemath.org/sage.git, but this is not supported from server-site.

yes, I know, I have admin rights for the host running trac.sagemath.org, and setting https access seems to be a tricky task. I can't seem to be able to find a guide on how to do this, although I didn't try too hard. The Git Book only talks about http, not https.


> I don't see the problem with having git clone git@trac.sagemath.org:sage.git . A bot could do that, but maybe it would require setting the correct ssh fingerprint like in my other PR:

I don't see how this could be useful.
A typical bot would be, say, a host running [GitHub](../wiki/GitHub) Actions task, and the problem of distributing the keys seems to be a rather tricky one. Indeed, we do not have a way to have a read-only access rights, and so uploading an ssh key-pair to a random host does breach our security just as well.


> 
> https://github.com/sagemath/git-trac-command/pull/49/commits/1cf840b144bb49a3948361cd3368db430b75deec 
>
>



---

archive/issue_comments_490946.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@dimpase](#comment%3A14):\n\n> I don't see how this could be useful.\n> A typical bot would be, say, a host running [GitHub](../wiki/GitHub) Actions task, and the problem of distributing the keys seems to be a rather tricky one. Indeed, we do not have a way to have a read-only access rights, and so uploading an ssh key-pair to a random host does breach our security just as well.\n> \n> \n> > \n> > https://github.com/sagemath/git-trac-command/pull/49/commits/1cf840b144bb49a3948361cd3368db430b75deec \n> > \n\nWhy does uploading an ssh key to a random host breach your security? Its a public key, its meant to be public. If you don't like hard-coded keys, and you can't manage to activate https on the git server, you could make a https site with the correct public ssh fingerprints. Then we could download the key using https and add them into the known_hosts file. If you don't like editing the ~/.ssh/known_hosts file, git clone can pass options to ssh and ssh has an option to use a different known_hosts file.\n\nThe only alternative I see is enabling https or switching from trac to a software that supports https.",
    "created_at": "2020-10-08T18:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490946",
    "user": "https://github.com/Volker-Weissmann"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@dimpase](#comment%3A14):

> I don't see how this could be useful.
> A typical bot would be, say, a host running [GitHub](../wiki/GitHub) Actions task, and the problem of distributing the keys seems to be a rather tricky one. Indeed, we do not have a way to have a read-only access rights, and so uploading an ssh key-pair to a random host does breach our security just as well.
> 
> 
> > 
> > https://github.com/sagemath/git-trac-command/pull/49/commits/1cf840b144bb49a3948361cd3368db430b75deec 
> > 

Why does uploading an ssh key to a random host breach your security? Its a public key, its meant to be public. If you don't like hard-coded keys, and you can't manage to activate https on the git server, you could make a https site with the correct public ssh fingerprints. Then we could download the key using https and add them into the known_hosts file. If you don't like editing the ~/.ssh/known_hosts file, git clone can pass options to ssh and ssh has an option to use a different known_hosts file.

The only alternative I see is enabling https or switching from trac to a software that supports https.



---

archive/issue_comments_490947.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@Volker-Weissmann](#comment%3A15):\n> Replying to [@dimpase](#comment%3A14):\n> \n> > I don't see how this could be useful.\n> > A typical bot would be, say, a host running [GitHub](../wiki/GitHub) Actions task, and the problem of distributing the keys seems to be a rather tricky one. Indeed, we do not have a way to have a read-only access rights, and so uploading an ssh key-pair to a random host does breach our security just as well.\n> > \n> > \n> > > \n> > > https://github.com/sagemath/git-trac-command/pull/49/commits/1cf840b144bb49a3948361cd3368db430b75deec \n> > > \n> \n> \n> Why does uploading an ssh key to a random host breach your security? Its a public key, its meant to be public.\n\nno, the bot needs a key-pair to be able to pull via ssh, just as a normal user needs a key-pair.\nGiving a pre-existing key-pair to the bot is not secure, and certainly a bot cannot generate a key-pair and upload the public key.",
    "created_at": "2020-10-08T18:30:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490947",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@Volker-Weissmann](#comment%3A15):
> Replying to [@dimpase](#comment%3A14):
> 
> > I don't see how this could be useful.
> > A typical bot would be, say, a host running [GitHub](../wiki/GitHub) Actions task, and the problem of distributing the keys seems to be a rather tricky one. Indeed, we do not have a way to have a read-only access rights, and so uploading an ssh key-pair to a random host does breach our security just as well.
> > 
> > 
> > > 
> > > https://github.com/sagemath/git-trac-command/pull/49/commits/1cf840b144bb49a3948361cd3368db430b75deec 
> > > 
> 
> 
> Why does uploading an ssh key to a random host breach your security? Its a public key, its meant to be public.

no, the bot needs a key-pair to be able to pull via ssh, just as a normal user needs a key-pair.
Giving a pre-existing key-pair to the bot is not secure, and certainly a bot cannot generate a key-pair and upload the public key.



---

archive/issue_comments_490948.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI've set up a post-commit hook on trac so that everything pushed gets immediatelly mirrored to https://github.com/sagemath/sagetrac-mirror - from which one can pull with https:.\nSo in the scripts one can replace trac with github.com/sagemath/sagetrac-mirror",
    "created_at": "2020-10-08T18:32:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490948",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

I've set up a post-commit hook on trac so that everything pushed gets immediatelly mirrored to https://github.com/sagemath/sagetrac-mirror - from which one can pull with https:.
So in the scripts one can replace trac with github.com/sagemath/sagetrac-mirror



---

archive/issue_comments_490949.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@dimpase](#comment%3A16):\n> Replying to [@Volker-Weissmann](#comment%3A15):\n> > Replying to [@dimpase](#comment%3A14):\n> > \n> > > I don't see how this could be useful.\n> > > A typical bot would be, say, a host running [GitHub](../wiki/GitHub) Actions task, and the problem of distributing the keys seems to be a rather tricky one. Indeed, we do not have a way to have a read-only access rights, and so uploading an ssh key-pair to a random host does breach our security just as well.\n> > > \n> > > \n> > > > \n> > > > https://github.com/sagemath/git-trac-command/pull/49/commits/1cf840b144bb49a3948361cd3368db430b75deec \n> > > > \n> > \n> > \n> > Why does uploading an ssh key to a random host breach your security? Its a public key, its meant to be public.\n> \n> \n> no, the bot needs a key-pair to be able to pull via ssh, just as a normal user needs a key-pair.\n> Giving a pre-existing key-pair to the bot is not secure, and certainly a bot cannot generate a key-pair and upload the public key.\n>  \n\nIf I set the correct public key in my .ssh/known_hosts file, I can just execute git clone git@trac.sagemath.org:sage.git\nI don't know why the bot should not be able to do that.",
    "created_at": "2020-10-08T18:33:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490949",
    "user": "https://github.com/Volker-Weissmann"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@dimpase](#comment%3A16):
> Replying to [@Volker-Weissmann](#comment%3A15):
> > Replying to [@dimpase](#comment%3A14):
> > 
> > > I don't see how this could be useful.
> > > A typical bot would be, say, a host running [GitHub](../wiki/GitHub) Actions task, and the problem of distributing the keys seems to be a rather tricky one. Indeed, we do not have a way to have a read-only access rights, and so uploading an ssh key-pair to a random host does breach our security just as well.
> > > 
> > > 
> > > > 
> > > > https://github.com/sagemath/git-trac-command/pull/49/commits/1cf840b144bb49a3948361cd3368db430b75deec 
> > > > 
> > 
> > 
> > Why does uploading an ssh key to a random host breach your security? Its a public key, its meant to be public.
> 
> 
> no, the bot needs a key-pair to be able to pull via ssh, just as a normal user needs a key-pair.
> Giving a pre-existing key-pair to the bot is not secure, and certainly a bot cannot generate a key-pair and upload the public key.
>  

If I set the correct public key in my .ssh/known_hosts file, I can just execute git clone git@trac.sagemath.org:sage.git
I don't know why the bot should not be able to do that.



---

archive/issue_comments_490950.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@Volker-Weissmann](#comment%3A18):\n\n> If I set the correct public key in my .ssh/known_hosts file, I can just execute git clone git@trac.sagemath.org:sage.git\n> I don't know why the bot should not be able to do that.\n\nisn't it working because you have ssh-agent running, and your public key is already on trac?\nIMHO git via ssh always does ssh authentication, even `git clone` - although I might be wrong here.",
    "created_at": "2020-10-08T19:04:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490950",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@Volker-Weissmann](#comment%3A18):

> If I set the correct public key in my .ssh/known_hosts file, I can just execute git clone git@trac.sagemath.org:sage.git
> I don't know why the bot should not be able to do that.

isn't it working because you have ssh-agent running, and your public key is already on trac?
IMHO git via ssh always does ssh authentication, even `git clone` - although I might be wrong here.



---

archive/issue_comments_490951.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nWell, yes, I am right, I did an experiment - created a new user, logged in, and\n\n```\nfoo@hilbert ~ $ git clone git@github.com:sage/sage.git\nCloning into 'sage'...\nThe authenticity of host 'github.com (140.82.121.4)' can't be established.\nRSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.\nAre you sure you want to continue connecting (yes/no/[fingerprint])? yes\nWarning: Permanently added 'github.com,140.82.121.4' (RSA) to the list of known hosts.\ngit@github.com: Permission denied (publickey).\nfatal: Could not read from remote repository.\n\nPlease make sure you have the correct access rights\nand the repository exists.\nfoo@hilbert ~ $ \nfoo@hilbert ~ $ git clone git@github.com:sage/sage.git\nCloning into 'sage'...\ngit@github.com: Permission denied (publickey).\nfatal: Could not read from remote repository.\n\nPlease make sure you have the correct access rights\nand the repository exists.\nfoo@hilbert ~ $ git clone git@trac.sagemath.org:sage.git\nCloning into 'sage'...\nThe authenticity of host 'trac.sagemath.org (104.197.143.230)' can't be established.\nECDSA key fingerprint is SHA256:4Op/q3b5792x+F1lHSKRi5UIORAPDlIFVA5cUq9YVXI.\nAre you sure you want to continue connecting (yes/no/[fingerprint])? yes\nWarning: Permanently added 'trac.sagemath.org,104.197.143.230' (ECDSA) to the list of known hosts.\ngit@trac.sagemath.org: Permission denied (publickey).\nfatal: Could not read from remote repository.\n\nPlease make sure you have the correct access rights\nand the repository exists.\nfoo@hilbert ~ $ git clone git@trac.sagemath.org:sage.git\nCloning into 'sage'...\ngit@trac.sagemath.org: Permission denied (publickey).\nfatal: Could not read from remote repository.\n\nPlease make sure you have the correct access rights\nand the repository exists.\n```\n\nThus, well, no, it won't fly.",
    "created_at": "2020-10-08T19:13:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490951",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:20" align="right">comment:20</div>

Well, yes, I am right, I did an experiment - created a new user, logged in, and

```
foo@hilbert ~ $ git clone git@github.com:sage/sage.git
Cloning into 'sage'...
The authenticity of host 'github.com (140.82.121.4)' can't be established.
RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added 'github.com,140.82.121.4' (RSA) to the list of known hosts.
git@github.com: Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
foo@hilbert ~ $ 
foo@hilbert ~ $ git clone git@github.com:sage/sage.git
Cloning into 'sage'...
git@github.com: Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
foo@hilbert ~ $ git clone git@trac.sagemath.org:sage.git
Cloning into 'sage'...
The authenticity of host 'trac.sagemath.org (104.197.143.230)' can't be established.
ECDSA key fingerprint is SHA256:4Op/q3b5792x+F1lHSKRi5UIORAPDlIFVA5cUq9YVXI.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added 'trac.sagemath.org,104.197.143.230' (ECDSA) to the list of known hosts.
git@trac.sagemath.org: Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
foo@hilbert ~ $ git clone git@trac.sagemath.org:sage.git
Cloning into 'sage'...
git@trac.sagemath.org: Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
```

Thus, well, no, it won't fly.



---

archive/issue_comments_490952.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@dimpase](#comment%3A20):\n> Well, yes, I am right, I did an experiment - created a new user, logged in, and\n> \n> ```\n> foo@hilbert ~ $ git clone git@github.com:sage/sage.git\n> Cloning into 'sage'...\n> The authenticity of host 'github.com (140.82.121.4)' can't be established.\n> RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.\n> Are you sure you want to continue connecting (yes/no/[fingerprint])? yes\n> Warning: Permanently added 'github.com,140.82.121.4' (RSA) to the list of known hosts.\n> git@github.com: Permission denied (publickey).\n> fatal: Could not read from remote repository.\n> \n> Please make sure you have the correct access rights\n> and the repository exists.\n> foo@hilbert ~ $ \n> foo@hilbert ~ $ git clone git@github.com:sage/sage.git\n> Cloning into 'sage'...\n> git@github.com: Permission denied (publickey).\n> fatal: Could not read from remote repository.\n> \n> Please make sure you have the correct access rights\n> and the repository exists.\n> foo@hilbert ~ $ git clone git@trac.sagemath.org:sage.git\n> Cloning into 'sage'...\n> The authenticity of host 'trac.sagemath.org (104.197.143.230)' can't be established.\n> ECDSA key fingerprint is SHA256:4Op/q3b5792x+F1lHSKRi5UIORAPDlIFVA5cUq9YVXI.\n> Are you sure you want to continue connecting (yes/no/[fingerprint])? yes\n> Warning: Permanently added 'trac.sagemath.org,104.197.143.230' (ECDSA) to the list of known hosts.\n> git@trac.sagemath.org: Permission denied (publickey).\n> fatal: Could not read from remote repository.\n> \n> Please make sure you have the correct access rights\n> and the repository exists.\n> foo@hilbert ~ $ git clone git@trac.sagemath.org:sage.git\n> Cloning into 'sage'...\n> git@trac.sagemath.org: Permission denied (publickey).\n> fatal: Could not read from remote repository.\n> \n> Please make sure you have the correct access rights\n> and the repository exists.\n> ```\n> \n> Thus, well, no, it won't fly.\n> \n\nOh no, that's not good, I didn't knew that.\nI think you will have to setup https then.",
    "created_at": "2020-10-08T19:52:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490952",
    "user": "https://github.com/Volker-Weissmann"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@dimpase](#comment%3A20):
> Well, yes, I am right, I did an experiment - created a new user, logged in, and
> 
> ```
> foo@hilbert ~ $ git clone git@github.com:sage/sage.git
> Cloning into 'sage'...
> The authenticity of host 'github.com (140.82.121.4)' can't be established.
> RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.
> Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
> Warning: Permanently added 'github.com,140.82.121.4' (RSA) to the list of known hosts.
> git@github.com: Permission denied (publickey).
> fatal: Could not read from remote repository.
> 
> Please make sure you have the correct access rights
> and the repository exists.
> foo@hilbert ~ $ 
> foo@hilbert ~ $ git clone git@github.com:sage/sage.git
> Cloning into 'sage'...
> git@github.com: Permission denied (publickey).
> fatal: Could not read from remote repository.
> 
> Please make sure you have the correct access rights
> and the repository exists.
> foo@hilbert ~ $ git clone git@trac.sagemath.org:sage.git
> Cloning into 'sage'...
> The authenticity of host 'trac.sagemath.org (104.197.143.230)' can't be established.
> ECDSA key fingerprint is SHA256:4Op/q3b5792x+F1lHSKRi5UIORAPDlIFVA5cUq9YVXI.
> Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
> Warning: Permanently added 'trac.sagemath.org,104.197.143.230' (ECDSA) to the list of known hosts.
> git@trac.sagemath.org: Permission denied (publickey).
> fatal: Could not read from remote repository.
> 
> Please make sure you have the correct access rights
> and the repository exists.
> foo@hilbert ~ $ git clone git@trac.sagemath.org:sage.git
> Cloning into 'sage'...
> git@trac.sagemath.org: Permission denied (publickey).
> fatal: Could not read from remote repository.
> 
> Please make sure you have the correct access rights
> and the repository exists.
> ```
> 
> Thus, well, no, it won't fly.
> 

Oh no, that's not good, I didn't knew that.
I think you will have to setup https then.



---

archive/issue_comments_490953.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b69a573ec475cd0087d0f79277855ab1fcbafe9f\"><code>b69a573</code></a></td><td><code>use github in README</code></td></tr></table>\n",
    "created_at": "2020-10-08T20:22:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490953",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b69a573ec475cd0087d0f79277855ab1fcbafe9f"><code>b69a573</code></a></td><td><code>use github in README</code></td></tr></table>




---

archive/issue_comments_490954.json:
```json
{
    "body": "Changed commit from **[`c28adef`](https://github.com/sagemath/sagetrac-mirror/commit/c28adeff5b638555daf89d82bce21750e070b8be)** to **[`b69a573`](https://github.com/sagemath/sagetrac-mirror/commit/b69a573ec475cd0087d0f79277855ab1fcbafe9f)**",
    "created_at": "2020-10-08T20:22:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490954",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c28adef`](https://github.com/sagemath/sagetrac-mirror/commit/c28adeff5b638555daf89d82bce21750e070b8be)** to **[`b69a573`](https://github.com/sagemath/sagetrac-mirror/commit/b69a573ec475cd0087d0f79277855ab1fcbafe9f)**



---

archive/issue_comments_490955.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI suppose we can get away with github.com/sagemath/sagetrac-mirror.git repo (which does allow https) for all the Docker-related stuff and CI.\nNow committing to git trac goes to  there, too. E.g. here is what I saw as I pushed the last commit:\n\n```\n$ git push trac HEAD\nEnumerating objects: 5, done.\nCounting objects: 100% (5/5), done.\nDelta compression using up to 4 threads\nCompressing objects: 100% (3/3), done.\nWriting objects: 100% (3/3), 308 bytes | 308.00 KiB/s, done.\nTotal 3 (delta 2), reused 0 (delta 0), pack-reused 0\nremote: Trac #30736: Commit changed to b69a57.\nremote: To git@github.com:sagemath/sagetrac-mirror.git\nremote:    c28adef..b69a573  u/dimpase/replacing_insecure_git____with_secure_https___ -> u/dimpase/replacing_insecure_git____with_secure_https___\nTo trac.sagemath.org:sage.git\n   c28adeff5b..b69a573ec4  HEAD -> u/dimpase/replacing_insecure_git____with_secure_https___\n```\n\nthe only drawback is that it's a bit slow (we can think for doing pushing to [GitHub](../wiki/GitHub) in the background).",
    "created_at": "2020-10-08T20:27:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490955",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:23" align="right">comment:23</div>

I suppose we can get away with github.com/sagemath/sagetrac-mirror.git repo (which does allow https) for all the Docker-related stuff and CI.
Now committing to git trac goes to  there, too. E.g. here is what I saw as I pushed the last commit:

```
$ git push trac HEAD
Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 4 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 308 bytes | 308.00 KiB/s, done.
Total 3 (delta 2), reused 0 (delta 0), pack-reused 0
remote: Trac #30736: Commit changed to b69a57.
remote: To git@github.com:sagemath/sagetrac-mirror.git
remote:    c28adef..b69a573  u/dimpase/replacing_insecure_git____with_secure_https___ -> u/dimpase/replacing_insecure_git____with_secure_https___
To trac.sagemath.org:sage.git
   c28adeff5b..b69a573ec4  HEAD -> u/dimpase/replacing_insecure_git____with_secure_https___
```

the only drawback is that it's a bit slow (we can think for doing pushing to [GitHub](../wiki/GitHub) in the background).



---

archive/issue_comments_490956.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nSeems like a good idea.",
    "created_at": "2020-10-08T20:45:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490956",
    "user": "https://github.com/Volker-Weissmann"
}
```

<div id="comment:24" align="right">comment:24</div>

Seems like a good idea.



---

archive/issue_comments_490957.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@dimpase](#comment%3A23):\n> I suppose we can get away with github.com/sagemath/sagetrac-mirror.git repo (which does allow https) for all the Docker-related stuff and CI.\n> Now committing to git trac goes to  there, too. E.g. here is what I saw as I pushed the last commit:\n> \n> ```\n> $ git push trac HEAD\n> Enumerating objects: 5, done.\n> Counting objects: 100% (5/5), done.\n> Delta compression using up to 4 threads\n> Compressing objects: 100% (3/3), done.\n> Writing objects: 100% (3/3), 308 bytes | 308.00 KiB/s, done.\n> Total 3 (delta 2), reused 0 (delta 0), pack-reused 0\n> remote: Trac #30736: Commit changed to b69a57.\n> remote: To git@github.com:sagemath/sagetrac-mirror.git\n> remote:    c28adef..b69a573  u/dimpase/replacing_insecure_git____with_secure_https___ -> u/dimpase/replacing_insecure_git____with_secure_https___\n> To trac.sagemath.org:sage.git\n>    c28adeff5b..b69a573ec4  HEAD -> u/dimpase/replacing_insecure_git____with_secure_https___\n> ```\n> \n> the only drawback is that it's a bit slow (we can think for doing pushing to [GitHub](../wiki/GitHub) in the background).\n\nDo you want to code that, or should I code that?",
    "created_at": "2020-10-09T12:56:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490957",
    "user": "https://github.com/Volker-Weissmann"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@dimpase](#comment%3A23):
> I suppose we can get away with github.com/sagemath/sagetrac-mirror.git repo (which does allow https) for all the Docker-related stuff and CI.
> Now committing to git trac goes to  there, too. E.g. here is what I saw as I pushed the last commit:
> 
> ```
> $ git push trac HEAD
> Enumerating objects: 5, done.
> Counting objects: 100% (5/5), done.
> Delta compression using up to 4 threads
> Compressing objects: 100% (3/3), done.
> Writing objects: 100% (3/3), 308 bytes | 308.00 KiB/s, done.
> Total 3 (delta 2), reused 0 (delta 0), pack-reused 0
> remote: Trac #30736: Commit changed to b69a57.
> remote: To git@github.com:sagemath/sagetrac-mirror.git
> remote:    c28adef..b69a573  u/dimpase/replacing_insecure_git____with_secure_https___ -> u/dimpase/replacing_insecure_git____with_secure_https___
> To trac.sagemath.org:sage.git
>    c28adeff5b..b69a573ec4  HEAD -> u/dimpase/replacing_insecure_git____with_secure_https___
> ```
> 
> the only drawback is that it's a bit slow (we can think for doing pushing to [GitHub](../wiki/GitHub) in the background).

Do you want to code that, or should I code that?



---

archive/issue_comments_490958.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI broke the github.com/sagemath/sagetrac-mirror.git while playing with the commit hook, removed it, and for some reason cannot re-create it on github - looks like a github problem, direct pushing from trac server of a 300Mb repo with lots of refs ends with weird\n\n```\n...\n! [remote failure]  9.2.beta9 -> 9.2.beta9 (remote failed to report status)\n! [remote failure]  9.2.rc0 -> 9.2.rc0 (remote failed to report status)\nerror: failed to push some refs to 'git@github.com:sagemath/sagetrac-mirror.git'\n```\nIf you have time please feel free to play with this (in your own [GitHub](../wiki/GitHub) repo, you can always transfer the ownership later): clone the trac repo with --mirror option, then try to push it to [GitHub](../wiki/GitHub).\n\n---\n\nThe ticket is meanwhile good to go, as the affected by it Docker and script things are currently not in use.",
    "created_at": "2020-10-09T13:19:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490958",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:26" align="right">comment:26</div>

I broke the github.com/sagemath/sagetrac-mirror.git while playing with the commit hook, removed it, and for some reason cannot re-create it on github - looks like a github problem, direct pushing from trac server of a 300Mb repo with lots of refs ends with weird

```
...
! [remote failure]  9.2.beta9 -> 9.2.beta9 (remote failed to report status)
! [remote failure]  9.2.rc0 -> 9.2.rc0 (remote failed to report status)
error: failed to push some refs to 'git@github.com:sagemath/sagetrac-mirror.git'
```
If you have time please feel free to play with this (in your own [GitHub](../wiki/GitHub) repo, you can always transfer the ownership later): clone the trac repo with --mirror option, then try to push it to [GitHub](../wiki/GitHub).

---

The ticket is meanwhile good to go, as the affected by it Docker and script things are currently not in use.



---

archive/issue_events_420761.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-10-09T13:19:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420761"
}
```



---

archive/issue_events_420762.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-10-09T13:19:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420762"
}
```



---

archive/issue_comments_490959.json:
```json
{
    "body": "Changed branch from **[u/dimpase/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/replacing_insecure_git____with_secure_https___)** to **[u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___)**",
    "created_at": "2020-10-09T14:13:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490959",
    "user": "https://github.com/Volker-Weissmann"
}
```

Changed branch from **[u/dimpase/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/replacing_insecure_git____with_secure_https___)** to **[u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___)**



---

archive/issue_comments_490960.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nBecause you said, that the script is currently not in use, I just disabled it and added a link to this ticket.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86b885dc406fef8fc6935835c0a7a2f2fe927a56\"><code>86b885d</code></a></td><td><code>Disabled a broken script</code></td></tr></table>\n",
    "created_at": "2020-10-09T14:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490960",
    "user": "https://github.com/Volker-Weissmann"
}
```

<div id="comment:28" align="right">comment:28</div>

Because you said, that the script is currently not in use, I just disabled it and added a link to this ticket.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86b885dc406fef8fc6935835c0a7a2f2fe927a56"><code>86b885d</code></a></td><td><code>Disabled a broken script</code></td></tr></table>




---

archive/issue_comments_490961.json:
```json
{
    "body": "Changed commit from **[`b69a573`](https://github.com/sagemath/sagetrac-mirror/commit/b69a573ec475cd0087d0f79277855ab1fcbafe9f)** to **[`86b885d`](https://github.com/sagemath/sagetrac-mirror/commit/86b885dc406fef8fc6935835c0a7a2f2fe927a56)**",
    "created_at": "2020-10-09T14:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490961",
    "user": "https://github.com/Volker-Weissmann"
}
```

Changed commit from **[`b69a573`](https://github.com/sagemath/sagetrac-mirror/commit/b69a573ec475cd0087d0f79277855ab1fcbafe9f)** to **[`86b885d`](https://github.com/sagemath/sagetrac-mirror/commit/86b885dc406fef8fc6935835c0a7a2f2fe927a56)**



---

archive/issue_comments_490962.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nOops, sorry, `sage-clone-source` is actually used in `sage-sdist`, which is, AFAIK, a part of Volker B.'s (vbraun) workflow to make distributions.\nBut we can assume that vbraun does use ssh authentication to pull from git trac, I suppose?\nVolker?",
    "created_at": "2020-10-09T22:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490962",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:29" align="right">comment:29</div>

Oops, sorry, `sage-clone-source` is actually used in `sage-sdist`, which is, AFAIK, a part of Volker B.'s (vbraun) workflow to make distributions.
But we can assume that vbraun does use ssh authentication to pull from git trac, I suppose?
Volker?



---

archive/issue_events_420763.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-10-09T22:17:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420763"
}
```



---

archive/issue_events_420764.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-10-09T22:17:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420764"
}
```



---

archive/issue_events_420765.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-10T00:21:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420765"
}
```



---

archive/issue_events_420766.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-10T00:21:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420766"
}
```



---

archive/issue_comments_490963.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\n`sage-sdist` is also used in CI - see `.github/workflows/tox.yml`, job `dist`.",
    "created_at": "2020-10-10T00:21:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490963",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

`sage-sdist` is also used in CI - see `.github/workflows/tox.yml`, job `dist`.



---

archive/issue_comments_490964.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@mkoeppe](#comment%3A30):\n> `sage-sdist` is also used in CI - see `.github/workflows/tox.yml`, job `dist`.\n\nbut there it's not pulling from Sage's git repo, if I  understood you correctly, right?",
    "created_at": "2020-10-10T00:37:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490964",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@mkoeppe](#comment%3A30):
> `sage-sdist` is also used in CI - see `.github/workflows/tox.yml`, job `dist`.

but there it's not pulling from Sage's git repo, if I  understood you correctly, right?



---

archive/issue_comments_490965.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nI had forgotten about this particular one. This one uses `make dist`, which leads to the use of `SAGE_REPO_ANONYMOUS`.\n\nThe idea of `make dist` (`sage-clone-source`), by the way, is that the source distribution (like the binary packages) distributes a `.git` directory that has a git remote that is accessible to any user...",
    "created_at": "2020-10-10T01:00:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490965",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:32" align="right">comment:32</div>

I had forgotten about this particular one. This one uses `make dist`, which leads to the use of `SAGE_REPO_ANONYMOUS`.

The idea of `make dist` (`sage-clone-source`), by the way, is that the source distribution (like the binary packages) distributes a `.git` directory that has a git remote that is accessible to any user...



---

archive/issue_comments_490966.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@mkoeppe](#comment%3A32):\n> I had forgotten about this particular one. This one uses `make dist`, which leads to the use of `SAGE_REPO_ANONYMOUS`.\n> \n> The idea of `make dist` (`sage-clone-source`), by the way, is that the source distribution (like the binary packages) distributes a `.git` directory that has a git remote that is accessible to any user...\n\nWhat branches are meant to be exposed this way? Experimental ones? One way or another, using a mirror rather than the git trac server could be better also for scalability (also removes the need to set up https access on git trac, something I'm not keen on doing, as it seems to be dark art :-)).\n\nI'm currenly building up a mirror on [GitLab](../wiki/GitLab) - pushing all the branches one by one, otherwise it chokes up, so it should be ready in a day or two.",
    "created_at": "2020-10-10T07:32:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490966",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@mkoeppe](#comment%3A32):
> I had forgotten about this particular one. This one uses `make dist`, which leads to the use of `SAGE_REPO_ANONYMOUS`.
> 
> The idea of `make dist` (`sage-clone-source`), by the way, is that the source distribution (like the binary packages) distributes a `.git` directory that has a git remote that is accessible to any user...

What branches are meant to be exposed this way? Experimental ones? One way or another, using a mirror rather than the git trac server could be better also for scalability (also removes the need to set up https access on git trac, something I'm not keen on doing, as it seems to be dark art :-)).

I'm currenly building up a mirror on [GitLab](../wiki/GitLab) - pushing all the branches one by one, otherwise it chokes up, so it should be ready in a day or two.



---

archive/issue_comments_490967.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nThere is also already functional https://gitlab.com/sagemath/dev/trac.git - which does updates by pulling using `git://`, so that currently defeats its purpose, security-wise. It should be possible to make it use ssh (not sure if we're in a tier that allows this for free). As well, it does pull every 30 minutes (or even a bit less often), so there is a delay.",
    "created_at": "2020-10-10T07:58:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490967",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:34" align="right">comment:34</div>

There is also already functional https://gitlab.com/sagemath/dev/trac.git - which does updates by pulling using `git://`, so that currently defeats its purpose, security-wise. It should be possible to make it use ssh (not sure if we're in a tier that allows this for free). As well, it does pull every 30 minutes (or even a bit less often), so there is a delay.



---

archive/issue_comments_490968.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nFinally I got a push mirror running on https://gitlab.com/sagemath/dev/tracmirror -\nso this should be used whereever possible to reduce the load on our git server, and use `https:` in place of `git:`.\n\nSorry that it took so long.",
    "created_at": "2020-10-22T09:07:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490968",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:36" align="right">comment:36</div>

Finally I got a push mirror running on https://gitlab.com/sagemath/dev/tracmirror -
so this should be used whereever possible to reduce the load on our git server, and use `https:` in place of `git:`.

Sorry that it took so long.



---

archive/issue_comments_490969.json:
```json
{
    "body": "Changed commit from **[`86b885d`](https://github.com/sagemath/sagetrac-mirror/commit/86b885dc406fef8fc6935835c0a7a2f2fe927a56)** to **[`c6a947d`](https://github.com/sagemath/sagetrac-mirror/commit/c6a947d138981d089a38b47d98d02f47d423e190)**",
    "created_at": "2020-10-22T09:43:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490969",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`86b885d`](https://github.com/sagemath/sagetrac-mirror/commit/86b885dc406fef8fc6935835c0a7a2f2fe927a56)** to **[`c6a947d`](https://github.com/sagemath/sagetrac-mirror/commit/c6a947d138981d089a38b47d98d02f47d423e190)**



---

archive/issue_comments_490970.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ebc40dd6dffac03545ba34a864da150011ff7f0\"><code>1ebc40d</code></a></td><td><code>replaced insecure git:// with secure https:// or secure git over ssh</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6cf3cd0fac686d7395c3fec8fc64d7e639ef9a15\"><code>6cf3cd0</code></a></td><td><code>Disabled a broken script</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ecefe50bb1d346d27166ef81eb31a158c5cd7b43\"><code>ecefe50</code></a></td><td><code>Revert \"Disabled a broken script\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6a947d138981d089a38b47d98d02f47d423e190\"><code>c6a947d</code></a></td><td><code>used https gitlab push mirror where appropriate</code></td></tr></table>\n",
    "created_at": "2020-10-22T09:43:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490970",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:37"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ebc40dd6dffac03545ba34a864da150011ff7f0"><code>1ebc40d</code></a></td><td><code>replaced insecure git:// with secure https:// or secure git over ssh</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6cf3cd0fac686d7395c3fec8fc64d7e639ef9a15"><code>6cf3cd0</code></a></td><td><code>Disabled a broken script</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ecefe50bb1d346d27166ef81eb31a158c5cd7b43"><code>ecefe50</code></a></td><td><code>Revert "Disabled a broken script"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6a947d138981d089a38b47d98d02f47d423e190"><code>c6a947d</code></a></td><td><code>used https gitlab push mirror where appropriate</code></td></tr></table>




---

archive/issue_comments_490971.json:
```json
{
    "body": "Changed branch from **[u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___)** to **[public/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/public/replacing_insecure_git____with_secure_https___)**",
    "created_at": "2020-10-22T09:43:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490971",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Volker-Weissmann/replacing_insecure_git____with_secure_https___)** to **[public/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/public/replacing_insecure_git____with_secure_https___)**



---

archive/issue_events_420767.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-10-22T09:43:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420767"
}
```



---

archive/issue_events_420768.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-10-22T09:43:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420768"
}
```



---

archive/issue_comments_490972.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6797e46d64442438c7e82c598538ab97b12308c6\"><code>6797e46</code></a></td><td><code>remove git_trac spkg</code></td></tr></table>\n",
    "created_at": "2020-10-22T09:48:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490972",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6797e46d64442438c7e82c598538ab97b12308c6"><code>6797e46</code></a></td><td><code>remove git_trac spkg</code></td></tr></table>




---

archive/issue_comments_490973.json:
```json
{
    "body": "Changed commit from **[`c6a947d`](https://github.com/sagemath/sagetrac-mirror/commit/c6a947d138981d089a38b47d98d02f47d423e190)** to **[`6797e46`](https://github.com/sagemath/sagetrac-mirror/commit/6797e46d64442438c7e82c598538ab97b12308c6)**",
    "created_at": "2020-10-22T09:48:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490973",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c6a947d`](https://github.com/sagemath/sagetrac-mirror/commit/c6a947d138981d089a38b47d98d02f47d423e190)** to **[`6797e46`](https://github.com/sagemath/sagetrac-mirror/commit/6797e46d64442438c7e82c598538ab97b12308c6)**



---

archive/issue_comments_490974.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nOK, so now it's as intended. Please review.",
    "created_at": "2020-10-22T09:50:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490974",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:39" align="right">comment:39</div>

OK, so now it's as intended. Please review.



---

archive/issue_comments_490975.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nI don't understand how this is different from https://gitlab.com/sagemath/dev/trac which we already had.",
    "created_at": "2020-10-22T13:21:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490975",
    "user": "https://github.com/embray"
}
```

<div id="comment:40" align="right">comment:40</div>

I don't understand how this is different from https://gitlab.com/sagemath/dev/trac which we already had.



---

archive/issue_comments_490976.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nReplying to [@embray](#comment%3A40):\n> I don't understand how this is different from https://gitlab.com/sagemath/dev/trac which we already had. \n\nthe old one is a pull mirror, so there is a 30+ min delay in updating it, as opposed to the new one, which is a push mirror, updated immediately via push from trac git server (via a post-receive commit hook)",
    "created_at": "2020-10-22T14:12:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490976",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:41" align="right">comment:41</div>

Replying to [@embray](#comment%3A40):
> I don't understand how this is different from https://gitlab.com/sagemath/dev/trac which we already had. 

the old one is a pull mirror, so there is a 30+ min delay in updating it, as opposed to the new one, which is a push mirror, updated immediately via push from trac git server (via a post-receive commit hook)



---

archive/issue_comments_490977.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nThis change seems to have been made mechanically without checking whether the server exists\n\n```\n--- a/build/pkgs/tdlib/SPKG.rst\n+++ b/build/pkgs/tdlib/SPKG.rst\n@@ -24,7 +24,7 @@ Upstream Contact\n ----------------\n \n - Lukas Larisch (larisch@informatik.uni-frankfurt.de)\n-- git-repo: git://pholia.tdi.cs.uni-frankfurt.de/git/tdlib\n+- git-repo: https://pholia.tdi.cs.uni-frankfurt.de/git/tdlib\n```",
    "created_at": "2020-10-22T15:32:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490977",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:42" align="right">comment:42</div>

This change seems to have been made mechanically without checking whether the server exists

```
--- a/build/pkgs/tdlib/SPKG.rst
+++ b/build/pkgs/tdlib/SPKG.rst
@@ -24,7 +24,7 @@ Upstream Contact
 ----------------
 
 - Lukas Larisch (larisch@informatik.uni-frankfurt.de)
-- git-repo: git://pholia.tdi.cs.uni-frankfurt.de/git/tdlib
+- git-repo: https://pholia.tdi.cs.uni-frankfurt.de/git/tdlib
```



---

archive/issue_comments_490978.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\n\n```\n if [ -z \"$SAGE_REPO_ANONYMOUS\" ]; then\n-    SAGE_REPO_ANONYMOUS=\"git://trac.sagemath.org/sage.git\"\n+    SAGE_REPO_ANONYMOUS=\"https://gitlab.com/sagemath/dev/tracmirror.git\"\n     export SAGE_REPO_ANONYMOUS\n fi\n```\nThis is the one that the source tarballs made using `make dist` will be referring to. Why is this one using gitlab instead of the new mirror?",
    "created_at": "2020-10-22T15:35:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490978",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:43" align="right">comment:43</div>


```
 if [ -z "$SAGE_REPO_ANONYMOUS" ]; then
-    SAGE_REPO_ANONYMOUS="git://trac.sagemath.org/sage.git"
+    SAGE_REPO_ANONYMOUS="https://gitlab.com/sagemath/dev/tracmirror.git"
     export SAGE_REPO_ANONYMOUS
 fi
```
This is the one that the source tarballs made using `make dist` will be referring to. Why is this one using gitlab instead of the new mirror?



---

archive/issue_comments_490979.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nReplying to [@mkoeppe](#comment%3A43):\n> \n> ```\n>  if [ -z \"$SAGE_REPO_ANONYMOUS\" ]; then\n> -    SAGE_REPO_ANONYMOUS=\"git://trac.sagemath.org/sage.git\"\n> +    SAGE_REPO_ANONYMOUS=\"https://gitlab.com/sagemath/dev/tracmirror.git\"\n>      export SAGE_REPO_ANONYMOUS\n>  fi\n> ```\n> This is the one that the source tarballs made using `make dist` will be referring to. Why is this one using gitlab instead of the new mirror?\n> \n\nSorry, I meant: Why is this one not using the github URL to match what is advertised in README?",
    "created_at": "2020-10-22T15:37:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490979",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:44" align="right">comment:44</div>

Replying to [@mkoeppe](#comment%3A43):
> 
> ```
>  if [ -z "$SAGE_REPO_ANONYMOUS" ]; then
> -    SAGE_REPO_ANONYMOUS="git://trac.sagemath.org/sage.git"
> +    SAGE_REPO_ANONYMOUS="https://gitlab.com/sagemath/dev/tracmirror.git"
>      export SAGE_REPO_ANONYMOUS
>  fi
> ```
> This is the one that the source tarballs made using `make dist` will be referring to. Why is this one using gitlab instead of the new mirror?
> 

Sorry, I meant: Why is this one not using the github URL to match what is advertised in README?



---

archive/issue_comments_490980.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@mkoeppe](#comment%3A44):\n> Replying to [@mkoeppe](#comment%3A43):\n> > \n> > ```\n> >  if [ -z \"$SAGE_REPO_ANONYMOUS\" ]; then\n> > -    SAGE_REPO_ANONYMOUS=\"git://trac.sagemath.org/sage.git\"\n> > +    SAGE_REPO_ANONYMOUS=\"https://gitlab.com/sagemath/dev/tracmirror.git\"\n> >      export SAGE_REPO_ANONYMOUS\n> >  fi\n> > ```\n> > This is the one that the source tarballs made using `make dist` will be referring to. Why is this one using gitlab instead of the new mirror?\n> > \n> \n> \n> Sorry, I meant: Why is this one not using the github URL to match what is advertised in README?\n\non github we now only have a repo with develop and master branches (and all the tags for betas/rcs, starting from 8.5.beta1)\n\nthe gitlab repo used on this ticket is a true push mirror, carrying all the branches, and only behind the git trac server by seconds.\n(and as git trac does not allow https access, we use the gitlab repo, which does allow https)",
    "created_at": "2020-10-22T17:05:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490980",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@mkoeppe](#comment%3A44):
> Replying to [@mkoeppe](#comment%3A43):
> > 
> > ```
> >  if [ -z "$SAGE_REPO_ANONYMOUS" ]; then
> > -    SAGE_REPO_ANONYMOUS="git://trac.sagemath.org/sage.git"
> > +    SAGE_REPO_ANONYMOUS="https://gitlab.com/sagemath/dev/tracmirror.git"
> >      export SAGE_REPO_ANONYMOUS
> >  fi
> > ```
> > This is the one that the source tarballs made using `make dist` will be referring to. Why is this one using gitlab instead of the new mirror?
> > 
> 
> 
> Sorry, I meant: Why is this one not using the github URL to match what is advertised in README?

on github we now only have a repo with develop and master branches (and all the tags for betas/rcs, starting from 8.5.beta1)

the gitlab repo used on this ticket is a true push mirror, carrying all the branches, and only behind the git trac server by seconds.
(and as git trac does not allow https access, we use the gitlab repo, which does allow https)



---

archive/issue_comments_490981.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nThat's great, thanks for the explanation.",
    "created_at": "2020-10-22T17:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490981",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:46" align="right">comment:46</div>

That's great, thanks for the explanation.



---

archive/issue_comments_490982.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nI think `sage-clone-source` should be changed so that either the `push` URL is removed, or set to trac.",
    "created_at": "2020-10-22T17:11:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490982",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:47" align="right">comment:47</div>

I think `sage-clone-source` should be changed so that either the `push` URL is removed, or set to trac.



---

archive/issue_comments_490983.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@mkoeppe](#comment%3A47):\n> I think `sage-clone-source` should be changed so that either the `push` URL is removed, or set to trac.\n\nRight now we have:\n\n```\n$ git remote -v\norigin\thttps://gitlab.com/sagemath/dev/tracmirror.git (fetch)\norigin\thttps://gitlab.com/sagemath/dev/tracmirror.git (push)\n```",
    "created_at": "2020-10-22T17:19:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490983",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@mkoeppe](#comment%3A47):
> I think `sage-clone-source` should be changed so that either the `push` URL is removed, or set to trac.

Right now we have:

```
$ git remote -v
origin	https://gitlab.com/sagemath/dev/tracmirror.git (fetch)
origin	https://gitlab.com/sagemath/dev/tracmirror.git (push)
```



---

archive/issue_comments_490984.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\n\n```\ndiff --git a/build/bin/sage-clone-source b/build/bin/sage-clone-source\nindex 6720ea7391..dbbf33a786 100755\n--- a/build/bin/sage-clone-source\n+++ b/build/bin/sage-clone-source\n@@ -35,6 +35,7 @@ git clone \"$SRC\" \"$DST\"\n \n cd \"$DST\"\n git remote set-url origin \"$SAGE_REPO_ANONYMOUS\"\n+git remote set-url --push origin \"$SAGE_REPO_AUTHENTICATED\"\n \n # Save space\n git gc --aggressive --prune=now\n```",
    "created_at": "2020-10-22T17:23:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490984",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:49" align="right">comment:49</div>


```
diff --git a/build/bin/sage-clone-source b/build/bin/sage-clone-source
index 6720ea7391..dbbf33a786 100755
--- a/build/bin/sage-clone-source
+++ b/build/bin/sage-clone-source
@@ -35,6 +35,7 @@ git clone "$SRC" "$DST"
 
 cd "$DST"
 git remote set-url origin "$SAGE_REPO_ANONYMOUS"
+git remote set-url --push origin "$SAGE_REPO_AUTHENTICATED"
 
 # Save space
 git gc --aggressive --prune=now
```



---

archive/issue_comments_490985.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nReplying to [@mkoeppe](#comment%3A42):\n> This change seems to have been made mechanically without checking whether the server exists\n\nI agree. It seems that the current active upstream is at https://github.com/freetdi/tdlib\nand the old servers are long gone.\n(email is obsolete too, the current affiliation of Larisch appears to be KAUST:\nhttps://cemse.kaust.edu.sa/cs/people/person/lukas-larisch)\n\nI'll fix this.",
    "created_at": "2020-10-22T17:25:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490985",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:50" align="right">comment:50</div>

Replying to [@mkoeppe](#comment%3A42):
> This change seems to have been made mechanically without checking whether the server exists

I agree. It seems that the current active upstream is at https://github.com/freetdi/tdlib
and the old servers are long gone.
(email is obsolete too, the current affiliation of Larisch appears to be KAUST:
https://cemse.kaust.edu.sa/cs/people/person/lukas-larisch)

I'll fix this.



---

archive/issue_comments_490986.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nI've opened #30813 to investigate a possibility to update tdlib.",
    "created_at": "2020-10-22T17:31:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490986",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:51" align="right">comment:51</div>

I've opened #30813 to investigate a possibility to update tdlib.



---

archive/issue_comments_490987.json:
```json
{
    "body": "<div id=\"comment:52\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9a542f2b7bb74964256ecd85a9c203487b65abd\"><code>c9a542f</code></a></td><td><code>correct push URL - needs authentication</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f482f0c25a5c50cba16252dc4f527fc7092be0b7\"><code>f482f0c</code></a></td><td><code>update tdlib info</code></td></tr></table>\n",
    "created_at": "2020-10-22T18:18:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490987",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9a542f2b7bb74964256ecd85a9c203487b65abd"><code>c9a542f</code></a></td><td><code>correct push URL - needs authentication</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f482f0c25a5c50cba16252dc4f527fc7092be0b7"><code>f482f0c</code></a></td><td><code>update tdlib info</code></td></tr></table>




---

archive/issue_comments_490988.json:
```json
{
    "body": "Changed commit from **[`6797e46`](https://github.com/sagemath/sagetrac-mirror/commit/6797e46d64442438c7e82c598538ab97b12308c6)** to **[`f482f0c`](https://github.com/sagemath/sagetrac-mirror/commit/f482f0c25a5c50cba16252dc4f527fc7092be0b7)**",
    "created_at": "2020-10-22T18:18:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490988",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6797e46`](https://github.com/sagemath/sagetrac-mirror/commit/6797e46d64442438c7e82c598538ab97b12308c6)** to **[`f482f0c`](https://github.com/sagemath/sagetrac-mirror/commit/f482f0c25a5c50cba16252dc4f527fc7092be0b7)**



---

archive/issue_events_420769.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-22T19:17:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420769"
}
```



---

archive/issue_events_420770.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-22T19:17:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420770"
}
```



---

archive/issue_events_420771.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-22T19:17:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420771"
}
```



---

archive/issue_events_420772.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-22T19:17:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420772"
}
```



---

archive/issue_comments_490989.json:
```json
{
    "body": "Changed reviewer from **Dima Pasechnik** to **Dima Pasechnik, Matthias Koeppe**",
    "created_at": "2020-10-22T19:17:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490989",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Dima Pasechnik** to **Dima Pasechnik, Matthias Koeppe**



---

archive/issue_comments_490990.json:
```json
{
    "body": "Changed author from **Volker Weissmann** to **Volker Weissmann, Dima Pasechnik**",
    "created_at": "2020-10-22T19:17:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490990",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Volker Weissmann** to **Volker Weissmann, Dima Pasechnik**



---

archive/issue_events_420773.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-10-24T11:07:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420773"
}
```



---

archive/issue_events_420774.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-10-24T11:07:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420774"
}
```



---

archive/issue_comments_490991.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nNot a blocker",
    "created_at": "2020-10-24T11:07:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490991",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:54" align="right">comment:54</div>

Not a blocker



---

archive/issue_comments_490992.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nwell, if you prefer leaving security holes open...",
    "created_at": "2020-10-24T11:14:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490992",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:55" align="right">comment:55</div>

well, if you prefer leaving security holes open...



---

archive/issue_events_420775.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420775"
}
```



---

archive/issue_events_420776.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420776"
}
```



---

archive/issue_comments_490993.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nwill this allow to fix our current docker hub problem ?\n\nApparently if fails on the following line in docker/Dockerfile:\n\n```\ngit remote add trac git://trac.sagemath.org/sage.git\n```\n\nSee https://gitlab.com/sagemath/sage/-/pipelines",
    "created_at": "2020-10-25T19:23:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490993",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:57" align="right">comment:57</div>

will this allow to fix our current docker hub problem ?

Apparently if fails on the following line in docker/Dockerfile:

```
git remote add trac git://trac.sagemath.org/sage.git
```

See https://gitlab.com/sagemath/sage/-/pipelines



---

archive/issue_events_420777.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-01T00:42:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420777"
}
```



---

archive/issue_events_420778.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3b8797ebf6145954dc4e0cf1670b40c420db6e7b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-11-01T00:42:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30736#event-420778"
}
```



---

archive/issue_comments_490994.json:
```json
{
    "body": "Changed branch from **[public/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/public/replacing_insecure_git____with_secure_https___)** to **[`f482f0c`](https://github.com/sagemath/sagetrac-mirror/commit/f482f0c25a5c50cba16252dc4f527fc7092be0b7)**",
    "created_at": "2020-11-01T00:42:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30736#issuecomment-490994",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/replacing_insecure_git____with_secure_https___](https://github.com/sagemath/sagetrac-mirror/tree/public/replacing_insecure_git____with_secure_https___)** to **[`f482f0c`](https://github.com/sagemath/sagetrac-mirror/commit/f482f0c25a5c50cba16252dc4f527fc7092be0b7)**
