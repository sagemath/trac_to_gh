# Issue 30698: Add Gauss-Legendre integrator to documentation

archive/issues_030461.json:
```json
{
    "assignees": [],
    "body": "A method for Gauss-Legendre integration of fast-callable\npolynomials was added in #23140.\n\nIt lives in `src/sage/numerical/gauss_legendre.pyx`.\n\nThis ticket is to make it appear in the documentation.\n\nIdeally add examples and do a bit of pep8 formatting.\n\nRelated:\n\n- [Ask Sage question 44545: Gauss-Legendre quadrature](https://ask.sagemath.org/question/44545)\n\nCC:  @slel\n\nKeywords: **gauss_legendre**\n\nBranch/Commit: **[e74a32b](https://github.com/sagemath/sagetrac-mirror/commit/e74a32b3a68b78bde03c6e15608436dee3012bd0)**\n\nReviewer: **Samuel Leli\u00e8vre, Nils Bruin**\n\nAuthor: **Linden Disney-Hogg**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30698_\n\n",
    "closed_at": "2021-06-29T23:08:54Z",
    "created_at": "2020-10-02T12:32:43Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20numerical",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add Gauss-Legendre integrator to documentation",
    "type": "issue",
    "updated_at": "2021-06-29T23:08:54Z",
    "url": "https://github.com/sagemath/sage/issues/30698",
    "user": "https://github.com/slel"
}
```
A method for Gauss-Legendre integration of fast-callable
polynomials was added in #23140.

It lives in `src/sage/numerical/gauss_legendre.pyx`.

This ticket is to make it appear in the documentation.

Ideally add examples and do a bit of pep8 formatting.

Related:

- [Ask Sage question 44545: Gauss-Legendre quadrature](https://ask.sagemath.org/question/44545)

CC:  @slel

Keywords: **gauss_legendre**

Branch/Commit: **[e74a32b](https://github.com/sagemath/sagetrac-mirror/commit/e74a32b3a68b78bde03c6e15608436dee3012bd0)**

Reviewer: **Samuel Lelièvre, Nils Bruin**

Author: **Linden Disney-Hogg**

_Issue created by migration from https://trac.sagemath.org/ticket/30698_





---

archive/issue_events_405072.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-10-02T12:32:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405072"
}
```



---

archive/issue_events_405073.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-10-02T12:32:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20numerical",
    "label_color": "0000ff",
    "label_name": "component: numerical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405073"
}
```



---

archive/issue_events_405074.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-10-02T12:32:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405074"
}
```



---

archive/issue_events_405075.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-10-02T12:32:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405075"
}
```



---

archive/issue_comments_493355.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,12 @@\n A method for Gauss-Legendre integration of fast-callable\n polynomials was added in #23140.\n \n+It lives in `src/sage/numerical/gauss_legendre.pyx`.\n+\n This ticket is to make it appear in the documentation.\n \n-Ideally add examples and do a bit of pep8 reformatting.\n+Ideally add examples and do a bit of pep8 formatting.\n \n+Related:\n+\n+- [Ask Sage question 44545: Gauss-Legendre quadrature](https://ask.sagemath.org/question/44545)\n``````\n",
    "created_at": "2020-10-03T18:01:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493355",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,12 @@
 A method for Gauss-Legendre integration of fast-callable
 polynomials was added in #23140.
 
+It lives in `src/sage/numerical/gauss_legendre.pyx`.
+
 This ticket is to make it appear in the documentation.
 
-Ideally add examples and do a bit of pep8 reformatting.
+Ideally add examples and do a bit of pep8 formatting.
 
+Related:
+
+- [Ask Sage question 44545: Gauss-Legendre quadrature](https://ask.sagemath.org/question/44545)
``````




---

archive/issue_events_405076.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405076"
}
```



---

archive/issue_events_405077.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405077"
}
```



---

archive/issue_comments_493356.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493356",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">Comment 3</div>

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_405078.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405078"
}
```



---

archive/issue_events_405079.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405079"
}
```



---

archive/issue_comments_493357.json:
```json
{
    "body": "Branch: **[u/gh-DisneyHogg/add_gauss_legendre_integrator_to_documentation](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DisneyHogg/add_gauss_legendre_integrator_to_documentation)**",
    "created_at": "2021-05-27T10:14:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493357",
    "user": "https://github.com/DisneyHogg"
}
```

Branch: **[u/gh-DisneyHogg/add_gauss_legendre_integrator_to_documentation](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DisneyHogg/add_gauss_legendre_integrator_to_documentation)**



---

archive/issue_comments_493358.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f65c2d903775ded4e91cfd630d17a1b86cc2592\">1f65c2d</a></td><td><code>Documentation edited and integrate_vector changed</code></td></tr></table>\n",
    "created_at": "2021-06-17T16:25:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493358",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5" align="right">Comment 5</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f65c2d903775ded4e91cfd630d17a1b86cc2592">1f65c2d</a></td><td><code>Documentation edited and integrate_vector changed</code></td></tr></table>




---

archive/issue_comments_493359.json:
```json
{
    "body": "Commit: **[1f65c2d](https://github.com/sagemath/sagetrac-mirror/commit/1f65c2d903775ded4e91cfd630d17a1b86cc2592)**",
    "created_at": "2021-06-17T16:25:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493359",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[1f65c2d](https://github.com/sagemath/sagetrac-mirror/commit/1f65c2d903775ded4e91cfd630d17a1b86cc2592)**



---

archive/issue_comments_493360.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nLooks good! Some comments based on an initial reading of the code:\n- I don't think \"REC\" algorithm is universally accepted terminology. If you want to call it that, I think it needs a literature reference with it. This could be something like:\n\n```\nCompute the integration nodes and weights for the Gauss-Legendre quadrature scheme.\n\nWe use the recurrence relations for Legendre polynomials to compute their values. This is a version of the algorithm that in [Neurohr ...] is called the REC algorithm.\n\nNOTE:\n\nIt may be worth testing if using the Arb algorithm for finding the nodes and weights in `arb/acb_calc/integrate_gl_auto_deg.c` has better performance.\n```\n- Concerning `range` in cython code: See [Cython doc](https://cython.readthedocs.io/en/latest/src/userguide/pyrex_differences.html#automatic-range-conversion). This gets compiled to an actual c-for loop (it's important here that cython has type-information on what `len` returns (an actual c-integer-type) so that it can provide the loop with sufficient type hints so that the C compiler can actually compile it.\nThe fact that xrange still works indicates that in these situations, cython considers range and xrange as synonyms and that this behaviour has been maintained (at least with the settings that sage uses for its cython library). Moving to `range` if you're touching the code anyway makes sense.",
    "created_at": "2021-06-18T15:45:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493360",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:6" align="right">Comment 6</div>

Looks good! Some comments based on an initial reading of the code:
- I don't think "REC" algorithm is universally accepted terminology. If you want to call it that, I think it needs a literature reference with it. This could be something like:

```
Compute the integration nodes and weights for the Gauss-Legendre quadrature scheme.

We use the recurrence relations for Legendre polynomials to compute their values. This is a version of the algorithm that in [Neurohr ...] is called the REC algorithm.

NOTE:

It may be worth testing if using the Arb algorithm for finding the nodes and weights in `arb/acb_calc/integrate_gl_auto_deg.c` has better performance.
```
- Concerning `range` in cython code: See [Cython doc](https://cython.readthedocs.io/en/latest/src/userguide/pyrex_differences.html#automatic-range-conversion). This gets compiled to an actual c-for loop (it's important here that cython has type-information on what `len` returns (an actual c-integer-type) so that it can provide the loop with sufficient type hints so that the C compiler can actually compile it.
The fact that xrange still works indicates that in these situations, cython considers range and xrange as synonyms and that this behaviour has been maintained (at least with the settings that sage uses for its cython library). Moving to `range` if you're touching the code anyway makes sense.



---

archive/issue_comments_493361.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nRemember to set the ticket to \"needs review\" when ready for review.\n\nSome comments on the branch you pushed, in addition to those by @nbruin.\n\n**Split into two tickets?**\n\nI like your proposed change to `integrate_vector`\nallowing to specify a number of nodes instead of \nspecifying `epsilon`, but for clarity I would\nseparate that change out to a different ticket,\nand stick to documentation and reformatting here.\n\nNow some comments on the changes in the existing branch.\n\n**Addition to the documentation**\n\nWell done adding a line to `src/doc/en/reference/numerical/index.rst`\nto make Gauss-Legendre integration appear in the documentation.\n\n**Reformatting**\n\nGood job on the reformatting overall.\n\nGood call adding a double-colon changing `NOTE:` into `NOTE::`,\nand indenting its content.\n\nTo finish up, I think it needs to become `.. NOTE::`.\n\nSome ways I would push the reformatting a bit further:\n\n```diff\n-        sage: L1 = nodes(24,53)\n+        sage: L1 = nodes(24, 53)\n-        sage: P = RR['x'](sage.functions.orthogonal_polys.legendre_P(24,x))\n+        sage: P = RR['x'](sage.functions.orthogonal_polys.legendre_P(24, x))\n         sage: Pdif = P.diff()\n-        sage: L2 = [((r+1)/2,1/(1-r^2)/Pdif(r)^2) for r,_ in RR['x'](P).roots()]\n+        sage: L2 = [((r + 1)/2, 1/(1 - r^2)/Pdif(r)^2)\n+        ....:       for r, _ in RR['x'](P).roots()]\n-        sage: all((a[0]-b[0]).abs() < 10^-15 and (a[1]-b[1]).abs() < 10^-9 for a,b in zip(L1,L2))\n+        sage: all((a[0] - b[0]).abs() < 1e-15 and (a[1] - b[1]).abs() < 1e-9\n+        ....:     for a, b in zip(L1, L2))\n         True\n```\n\n```diff\n         sage: prec = 200\n         sage: K = RealField(prec)\n-        sage: V = VectorSpace(K,2)\n+        sage: V = VectorSpace(K, 2)\n-        sage: epsilon = K(2^(-prec+4))\n+        sage: epsilon = K(2^(-prec + 4))\n-        sage: f = lambda t:V((1+t^2,1/(1+t^2)))\n+        sage: f = lambda t: V((1 + t^2, 1/(1 + t^2)))\n-        sage: I = integrate_vector(f, prec, epsilon)\n+        sage: I = integrate_vector(f, prec, epsilon=epsilon)\n-        sage: J = V((4/3, pi/4))\n+        sage: J = V((4/3, pi/4))\n-        sage: max(c.abs() for c in (I-J)) < epsilon\n+        sage: max(c.abs() for c in I - J) < epsilon\n```\n\n```diff\n         sage: prec = 200\n         sage: Kreal = RealField(prec)\n         sage: K = ComplexField(prec)\n-        sage: V = VectorSpace(K,2)\n+        sage: V = VectorSpace(K, 2)\n-        sage: epsilon = Kreal(2^(-prec+4))\n+        sage: epsilon = Kreal(2^(-prec + 4))\n-        sage: f = lambda t: V((t,K(exp(2*pi*t*K.0))))\n+        sage: f = lambda t: V((t, K(exp(2*pi*t*K.0))))\n-        sage: I = integrate_vector(f, prec, epsilon)\n+        sage: I = integrate_vector(f, prec, epsilon=epsilon)\n-        sage: J = V((1/2,0))\n+        sage: J = V((1/2, 0))\n-        sage: max(c.abs() for c in (I-J)) < epsilon\n+        sage: max(c.abs() for c in I - J) < epsilon\n```\n\n```diff\n-        for i in range(1,len(nodelist)):\n+        for i in range(1, len(nodelist)):\n```\n\n**Changes to `integrate_vector`**\n\nPerhaps the new `N=None` keyword should come after\nthe existing `N=None` keyword.\n\nOtherwise, this line, which appears twice in the doctests:\n\n```\n        sage: I = integrate_vector(f, prec, epsilon)\n```\nis really executing\n\n```diff\n        sage: I = integrate_vector(f, prec, N=epsilon)\n```\nwhich is likely not intended, and this change\nmight similarly break existing user code.\n\nIn any case, the examples should be explicit about\nwhich keyword is passed, using one of:\n\n```\n        sage: I = integrate_vector(f, prec, epsilon=epsilon)\n        sage: I = integrate_vector(f, prec, N=N)\n```\nand possibly new examples should be added using\n\n```\n        sage: I = integrate_vector(f, prec, epsilon=epsilon, N=N)\n        sage: I = integrate_vector(f, prec, N=N, epsilon=epsilon)\n```\nto illustrate that specifying `N` overrides specifying `epsilon`.\n\nThere is a typo \"specificed\" for \"specified\" in the new line\ndescribing ``N``. Suggested change:\n\n```diff\n-     - ``N`` -- integer. Number of nodes to use. If specificed, the target error ``epsilon`` is ignored. \n+     - ``N`` -- integer. Number of nodes to use.\n+       If specified, the target error ``epsilon`` is ignored. \n```",
    "created_at": "2021-06-19T12:39:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493361",
    "user": "https://github.com/slel"
}
```

<div id="comment:7" align="right">Comment 7</div>

Remember to set the ticket to "needs review" when ready for review.

Some comments on the branch you pushed, in addition to those by @nbruin.

**Split into two tickets?**

I like your proposed change to `integrate_vector`
allowing to specify a number of nodes instead of 
specifying `epsilon`, but for clarity I would
separate that change out to a different ticket,
and stick to documentation and reformatting here.

Now some comments on the changes in the existing branch.

**Addition to the documentation**

Well done adding a line to `src/doc/en/reference/numerical/index.rst`
to make Gauss-Legendre integration appear in the documentation.

**Reformatting**

Good job on the reformatting overall.

Good call adding a double-colon changing `NOTE:` into `NOTE::`,
and indenting its content.

To finish up, I think it needs to become `.. NOTE::`.

Some ways I would push the reformatting a bit further:

```diff
-        sage: L1 = nodes(24,53)
+        sage: L1 = nodes(24, 53)
-        sage: P = RR['x'](sage.functions.orthogonal_polys.legendre_P(24,x))
+        sage: P = RR['x'](sage.functions.orthogonal_polys.legendre_P(24, x))
         sage: Pdif = P.diff()
-        sage: L2 = [((r+1)/2,1/(1-r^2)/Pdif(r)^2) for r,_ in RR['x'](P).roots()]
+        sage: L2 = [((r + 1)/2, 1/(1 - r^2)/Pdif(r)^2)
+        ....:       for r, _ in RR['x'](P).roots()]
-        sage: all((a[0]-b[0]).abs() < 10^-15 and (a[1]-b[1]).abs() < 10^-9 for a,b in zip(L1,L2))
+        sage: all((a[0] - b[0]).abs() < 1e-15 and (a[1] - b[1]).abs() < 1e-9
+        ....:     for a, b in zip(L1, L2))
         True
```

```diff
         sage: prec = 200
         sage: K = RealField(prec)
-        sage: V = VectorSpace(K,2)
+        sage: V = VectorSpace(K, 2)
-        sage: epsilon = K(2^(-prec+4))
+        sage: epsilon = K(2^(-prec + 4))
-        sage: f = lambda t:V((1+t^2,1/(1+t^2)))
+        sage: f = lambda t: V((1 + t^2, 1/(1 + t^2)))
-        sage: I = integrate_vector(f, prec, epsilon)
+        sage: I = integrate_vector(f, prec, epsilon=epsilon)
-        sage: J = V((4/3, pi/4))
+        sage: J = V((4/3, pi/4))
-        sage: max(c.abs() for c in (I-J)) < epsilon
+        sage: max(c.abs() for c in I - J) < epsilon
```

```diff
         sage: prec = 200
         sage: Kreal = RealField(prec)
         sage: K = ComplexField(prec)
-        sage: V = VectorSpace(K,2)
+        sage: V = VectorSpace(K, 2)
-        sage: epsilon = Kreal(2^(-prec+4))
+        sage: epsilon = Kreal(2^(-prec + 4))
-        sage: f = lambda t: V((t,K(exp(2*pi*t*K.0))))
+        sage: f = lambda t: V((t, K(exp(2*pi*t*K.0))))
-        sage: I = integrate_vector(f, prec, epsilon)
+        sage: I = integrate_vector(f, prec, epsilon=epsilon)
-        sage: J = V((1/2,0))
+        sage: J = V((1/2, 0))
-        sage: max(c.abs() for c in (I-J)) < epsilon
+        sage: max(c.abs() for c in I - J) < epsilon
```

```diff
-        for i in range(1,len(nodelist)):
+        for i in range(1, len(nodelist)):
```

**Changes to `integrate_vector`**

Perhaps the new `N=None` keyword should come after
the existing `N=None` keyword.

Otherwise, this line, which appears twice in the doctests:

```
        sage: I = integrate_vector(f, prec, epsilon)
```
is really executing

```diff
        sage: I = integrate_vector(f, prec, N=epsilon)
```
which is likely not intended, and this change
might similarly break existing user code.

In any case, the examples should be explicit about
which keyword is passed, using one of:

```
        sage: I = integrate_vector(f, prec, epsilon=epsilon)
        sage: I = integrate_vector(f, prec, N=N)
```
and possibly new examples should be added using

```
        sage: I = integrate_vector(f, prec, epsilon=epsilon, N=N)
        sage: I = integrate_vector(f, prec, N=N, epsilon=epsilon)
```
to illustrate that specifying `N` overrides specifying `epsilon`.

There is a typo "specificed" for "specified" in the new line
describing ``N``. Suggested change:

```diff
-     - ``N`` -- integer. Number of nodes to use. If specificed, the target error ``epsilon`` is ignored. 
+     - ``N`` -- integer. Number of nodes to use.
+       If specified, the target error ``epsilon`` is ignored. 
```



---

archive/issue_comments_493362.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nReplying to [@slel](#comment%3A7):\n> Perhaps the new `N=None` keyword should come after\n> the existing `N=None` keyword.\n\nafter the existing `epsilon=None` keyword, is probably what you meant. Good point! It actually suggests that override is not safe, since it's too easy to mix the two parameters up. So probably a ValueError (or something like that) should be raised if both N and epsilon have a non-None value. It would still not guard against accidental mix-ups due to positional parameters being confused with keyword parameters.\n\nWhat this is actually indicative of is that the API of the routine is getting crowded and that there really are two routines here: one that integrates with a give number of nodes and one that uses heuristic error estimation to try and get a result within a given accuracy. The second routine may call the first for code reuse, but inlining the code would be acceptable for performance reasons.\n\nSo ... splitting is the way to go! It also leads to the fastest code because you select the branch by the name of the routine you call (and with cython that means the choice can be locked in compile-time!) rather than by the type of parameters that are passed in (which need runtime testing to determine in python and cython)",
    "created_at": "2021-06-20T00:44:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493362",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:8" align="right">Comment 8</div>

Replying to [@slel](#comment%3A7):
> Perhaps the new `N=None` keyword should come after
> the existing `N=None` keyword.

after the existing `epsilon=None` keyword, is probably what you meant. Good point! It actually suggests that override is not safe, since it's too easy to mix the two parameters up. So probably a ValueError (or something like that) should be raised if both N and epsilon have a non-None value. It would still not guard against accidental mix-ups due to positional parameters being confused with keyword parameters.

What this is actually indicative of is that the API of the routine is getting crowded and that there really are two routines here: one that integrates with a give number of nodes and one that uses heuristic error estimation to try and get a result within a given accuracy. The second routine may call the first for code reuse, but inlining the code would be acceptable for performance reasons.

So ... splitting is the way to go! It also leads to the fastest code because you select the branch by the name of the routine you call (and with cython that means the choice can be locked in compile-time!) rather than by the type of parameters that are passed in (which need runtime testing to determine in python and cython)



---

archive/issue_comments_493363.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nReplying to [@nbruin](#comment%3A8):\n> It would still not guard against accidental mix-ups due to positional parameters being confused with keyword parameters.\n\nThis could also be solved by using [keyword-only arguments](https://www.python.org/dev/peps/pep-3102/). In order to maintain backward compatibility, it could be implemented like this:\n\n```python\ndef integrate_vector(f, prec, epsilon_deprecated=None, *, epsilon=None, N=None):\n    if epsilon_deprecated is not None:\n        from sage.misc.superseded import deprecation\n        deprecation(30698, \"positional argument epsilon should be passed as keyword argument\")\n        if epsilon is None:\n            epsilon = epsilon_deprecated\n        else:\n            raise ValueError(\"...\")\n```",
    "created_at": "2021-06-20T18:41:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493363",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:9" align="right">Comment 9</div>

Replying to [@nbruin](#comment%3A8):
> It would still not guard against accidental mix-ups due to positional parameters being confused with keyword parameters.

This could also be solved by using [keyword-only arguments](https://www.python.org/dev/peps/pep-3102/). In order to maintain backward compatibility, it could be implemented like this:

```python
def integrate_vector(f, prec, epsilon_deprecated=None, *, epsilon=None, N=None):
    if epsilon_deprecated is not None:
        from sage.misc.superseded import deprecation
        deprecation(30698, "positional argument epsilon should be passed as keyword argument")
        if epsilon is None:
            epsilon = epsilon_deprecated
        else:
            raise ValueError("...")
```



---

archive/issue_comments_493364.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nReplying to [@slel](#comment%3A7):\n\nThanks for all the comments, will get cracking on them! \n \n> **Split into two tickets?**\n> \n> I like your proposed change to `integrate_vector`\n> allowing to specify a number of nodes instead of \n> specifying `epsilon`, but for clarity I would\n> separate that change out to a different ticket,\n> and stick to documentation and reformatting here.\n> \n\nI have opened a new ticket #32014 for the changes to integrate_vector itself.",
    "created_at": "2021-06-20T20:49:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493364",
    "user": "https://github.com/DisneyHogg"
}
```

<div id="comment:10" align="right">Comment 10</div>

Replying to [@slel](#comment%3A7):

Thanks for all the comments, will get cracking on them! 
 
> **Split into two tickets?**
> 
> I like your proposed change to `integrate_vector`
> allowing to specify a number of nodes instead of 
> specifying `epsilon`, but for clarity I would
> separate that change out to a different ticket,
> and stick to documentation and reformatting here.
> 

I have opened a new ticket #32014 for the changes to integrate_vector itself.



---

archive/issue_comments_493365.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nReplying to [@mwageringel](#comment%3A9):\n> Replying to [@nbruin](#comment%3A8):\n> > It would still not guard against accidental mix-ups due to positional parameters being confused with keyword parameters.\n\n> \n> This could also be solved by using [keyword-only arguments](https://www.python.org/dev/peps/pep-3102/). In order to maintain backward compatibility, it could be implemented like this:\n> \n> ```python\n> def integrate_vector(f, prec, epsilon_deprecated=None, *, epsilon=None, N=None):\n>     if epsilon_deprecated is not None:\n>         from sage.misc.superseded import deprecation\n>         deprecation(30698, \"positional argument epsilon should be passed as keyword argument\")\n>         if epsilon is None:\n>             epsilon = epsilon_deprecated\n>         else:\n>             raise ValueError(\"...\")\n> ```\n\nIt doesn't remove the [Code smell of boolean parameters](https://medium.com/@amlcurran/clean-code-the-curse-of-a-boolean-parameter-c237a830b7a3), and these code-path-determining signatures have a similar smell. There is also the complexity: testing the function arguments is forcing us an extra runtime branch that is almost always resolvable at compile-time (because the branch is determined by essentially the call signature that is used, and writing code where the call signature is only determined at runtime is, while possible in python, difficult to do and, thankfully, rare). So distinguishing between the two uses with different callables is in this case definitely the right design. These routines are in fact used in rather tight loops. While in most applications any call overhead will be dwarfed by the required evaluations, it's near a point where you might not want to introduce extra overhead unnecessarily. I suspect the contribution will be very small, though, so the main argument here is really just clean code design.\n\n(it's also an internal routine; at least it was up to this ticket, so deprecation wouldn't be necessary. I think in this case there's a cleaner solution that doesn't require API changes to existing routines at all! -- for those reading this and not familiar with the term \"bikeshedding\": this is a prime example of it, and it illustrates the limited productivity that ensues from it)",
    "created_at": "2021-06-20T21:12:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493365",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:11" align="right">Comment 11</div>

Replying to [@mwageringel](#comment%3A9):
> Replying to [@nbruin](#comment%3A8):
> > It would still not guard against accidental mix-ups due to positional parameters being confused with keyword parameters.

> 
> This could also be solved by using [keyword-only arguments](https://www.python.org/dev/peps/pep-3102/). In order to maintain backward compatibility, it could be implemented like this:
> 
> ```python
> def integrate_vector(f, prec, epsilon_deprecated=None, *, epsilon=None, N=None):
>     if epsilon_deprecated is not None:
>         from sage.misc.superseded import deprecation
>         deprecation(30698, "positional argument epsilon should be passed as keyword argument")
>         if epsilon is None:
>             epsilon = epsilon_deprecated
>         else:
>             raise ValueError("...")
> ```

It doesn't remove the [Code smell of boolean parameters](https://medium.com/@amlcurran/clean-code-the-curse-of-a-boolean-parameter-c237a830b7a3), and these code-path-determining signatures have a similar smell. There is also the complexity: testing the function arguments is forcing us an extra runtime branch that is almost always resolvable at compile-time (because the branch is determined by essentially the call signature that is used, and writing code where the call signature is only determined at runtime is, while possible in python, difficult to do and, thankfully, rare). So distinguishing between the two uses with different callables is in this case definitely the right design. These routines are in fact used in rather tight loops. While in most applications any call overhead will be dwarfed by the required evaluations, it's near a point where you might not want to introduce extra overhead unnecessarily. I suspect the contribution will be very small, though, so the main argument here is really just clean code design.

(it's also an internal routine; at least it was up to this ticket, so deprecation wouldn't be necessary. I think in this case there's a cleaner solution that doesn't require API changes to existing routines at all! -- for those reading this and not familiar with the term "bikeshedding": this is a prime example of it, and it illustrates the limited productivity that ensues from it)



---

archive/issue_comments_493366.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b55bec31bbfed772def9b95ed4e1921f06c9ce9f\">b55bec3</a></td><td><code>Format changes</code></td></tr></table>\n",
    "created_at": "2021-06-21T12:33:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493366",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12" align="right">Comment 12</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b55bec31bbfed772def9b95ed4e1921f06c9ce9f">b55bec3</a></td><td><code>Format changes</code></td></tr></table>




---

archive/issue_comments_493367.json:
```json
{
    "body": "Changed commit from **[1f65c2d](https://github.com/sagemath/sagetrac-mirror/commit/1f65c2d903775ded4e91cfd630d17a1b86cc2592)** to **[b55bec3](https://github.com/sagemath/sagetrac-mirror/commit/b55bec31bbfed772def9b95ed4e1921f06c9ce9f)**",
    "created_at": "2021-06-21T12:33:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493367",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1f65c2d](https://github.com/sagemath/sagetrac-mirror/commit/1f65c2d903775ded4e91cfd630d17a1b86cc2592)** to **[b55bec3](https://github.com/sagemath/sagetrac-mirror/commit/b55bec31bbfed772def9b95ed4e1921f06c9ce9f)**



---

archive/issue_comments_493368.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87886ccda6687881688947100019df24d8e06d48\">87886cc</a></td><td><code>Added reference for REC algorithm</code></td></tr></table>\n",
    "created_at": "2021-06-21T13:38:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493368",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13" align="right">Comment 13</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87886ccda6687881688947100019df24d8e06d48">87886cc</a></td><td><code>Added reference for REC algorithm</code></td></tr></table>




---

archive/issue_comments_493369.json:
```json
{
    "body": "Changed commit from **[b55bec3](https://github.com/sagemath/sagetrac-mirror/commit/b55bec31bbfed772def9b95ed4e1921f06c9ce9f)** to **[87886cc](https://github.com/sagemath/sagetrac-mirror/commit/87886ccda6687881688947100019df24d8e06d48)**",
    "created_at": "2021-06-21T13:38:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493369",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b55bec3](https://github.com/sagemath/sagetrac-mirror/commit/b55bec31bbfed772def9b95ed4e1921f06c9ce9f)** to **[87886cc](https://github.com/sagemath/sagetrac-mirror/commit/87886ccda6687881688947100019df24d8e06d48)**



---

archive/issue_comments_493370.json:
```json
{
    "body": "Changed commit from **[87886cc](https://github.com/sagemath/sagetrac-mirror/commit/87886ccda6687881688947100019df24d8e06d48)** to **[f8c19a2](https://github.com/sagemath/sagetrac-mirror/commit/f8c19a22f0cf7029f24d5b0e29c27c5fcf6f1119)**",
    "created_at": "2021-06-21T13:52:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493370",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[87886cc](https://github.com/sagemath/sagetrac-mirror/commit/87886ccda6687881688947100019df24d8e06d48)** to **[f8c19a2](https://github.com/sagemath/sagetrac-mirror/commit/f8c19a22f0cf7029f24d5b0e29c27c5fcf6f1119)**



---

archive/issue_comments_493371.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8c19a22f0cf7029f24d5b0e29c27c5fcf6f1119\">f8c19a2</a></td><td><code>Added TODO for nodes method</code></td></tr></table>\n",
    "created_at": "2021-06-21T13:52:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493371",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14" align="right">Comment 14</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8c19a22f0cf7029f24d5b0e29c27c5fcf6f1119">f8c19a2</a></td><td><code>Added TODO for nodes method</code></td></tr></table>




---

archive/issue_comments_493372.json:
```json
{
    "body": "Changed commit from **[f8c19a2](https://github.com/sagemath/sagetrac-mirror/commit/f8c19a22f0cf7029f24d5b0e29c27c5fcf6f1119)** to **[a56b3c1](https://github.com/sagemath/sagetrac-mirror/commit/a56b3c1333bce409e672b2f7de09d65591acf800)**",
    "created_at": "2021-06-22T14:33:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493372",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f8c19a2](https://github.com/sagemath/sagetrac-mirror/commit/f8c19a22f0cf7029f24d5b0e29c27c5fcf6f1119)** to **[a56b3c1](https://github.com/sagemath/sagetrac-mirror/commit/a56b3c1333bce409e672b2f7de09d65591acf800)**



---

archive/issue_comments_493373.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a56b3c1333bce409e672b2f7de09d65591acf800\">a56b3c1</a></td><td><code>Undid changes to integrate_vector</code></td></tr></table>\n",
    "created_at": "2021-06-22T14:33:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493373",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15" align="right">Comment 15</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a56b3c1333bce409e672b2f7de09d65591acf800">a56b3c1</a></td><td><code>Undid changes to integrate_vector</code></td></tr></table>




---

archive/issue_events_405080.json:
```json
{
    "actor": "https://github.com/DisneyHogg",
    "created_at": "2021-06-22T14:34:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405080"
}
```



---

archive/issue_comments_493374.json:
```json
{
    "body": "Reviewer: **Nils Bruin**",
    "created_at": "2021-06-23T22:08:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493374",
    "user": "https://github.com/nbruin"
}
```

Reviewer: **Nils Bruin**



---

archive/issue_events_405081.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2021-06-23T22:08:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405081"
}
```



---

archive/issue_events_405082.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2021-06-23T22:08:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405082"
}
```



---

archive/issue_comments_493375.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nLooks good to me; checked the resulting HTML typesetting as well.",
    "created_at": "2021-06-23T22:08:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493375",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:17" align="right">Comment 17</div>

Looks good to me; checked the resulting HTML typesetting as well.



---

archive/issue_comments_493376.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nMissing continuation prompts:\n\n```diff\n         sage: L2 = [((r + 1)/2, 1/(1 - r^2)/Pdif(r)^2)\n-                    for r, _ in RR['x'](P).roots()]\n+        ....:       for r, _ in RR['x'](P).roots()]\n         sage: all((a[0] - b[0]).abs() < 1e-15 and (a[1] - b[1]).abs() < 1e-9\n-                  for a, b in zip(L1, L2))\n+        ....:     for a, b in zip(L1, L2))\n```\nIf you fix that, set back to positive review on my behalf.",
    "created_at": "2021-06-27T22:41:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493376",
    "user": "https://github.com/slel"
}
```

<div id="comment:18" align="right">Comment 18</div>

Missing continuation prompts:

```diff
         sage: L2 = [((r + 1)/2, 1/(1 - r^2)/Pdif(r)^2)
-                    for r, _ in RR['x'](P).roots()]
+        ....:       for r, _ in RR['x'](P).roots()]
         sage: all((a[0] - b[0]).abs() < 1e-15 and (a[1] - b[1]).abs() < 1e-9
-                  for a, b in zip(L1, L2))
+        ....:     for a, b in zip(L1, L2))
```
If you fix that, set back to positive review on my behalf.



---

archive/issue_comments_493377.json:
```json
{
    "body": "Changed reviewer from **Nils Bruin** to **Samuel Leli\u00e8vre, Nils Bruin**",
    "created_at": "2021-06-27T22:41:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493377",
    "user": "https://github.com/slel"
}
```

Changed reviewer from **Nils Bruin** to **Samuel Lelièvre, Nils Bruin**



---

archive/issue_comments_493378.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nAuthor name is missing",
    "created_at": "2021-06-27T22:53:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493378",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:19" align="right">Comment 19</div>

Author name is missing



---

archive/issue_events_405083.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-06-27T22:53:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405083"
}
```



---

archive/issue_events_405084.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-06-27T22:53:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405084"
}
```



---

archive/issue_events_405085.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-06-27T23:33:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405085"
}
```



---

archive/issue_events_405086.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-06-27T23:33:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405086"
}
```



---

archive/issue_comments_493379.json:
```json
{
    "body": "Author: **Linden Disney-Hogg**",
    "created_at": "2021-06-27T23:33:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493379",
    "user": "https://github.com/slel"
}
```

Author: **Linden Disney-Hogg**



---

archive/issue_comments_493380.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nThanks, Samuel.\n\nThe continuation prompts indeed should be fixed. I'm setting the ticket back to \"needs work\" because it does, and otherwise it might get missed.\n\nOnce Linden has added continuation prompts to those two lines, he can set it back to \"positive\"; or alert me to do that.",
    "created_at": "2021-06-28T06:54:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493380",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:21" align="right">Comment 21</div>

Thanks, Samuel.

The continuation prompts indeed should be fixed. I'm setting the ticket back to "needs work" because it does, and otherwise it might get missed.

Once Linden has added continuation prompts to those two lines, he can set it back to "positive"; or alert me to do that.



---

archive/issue_events_405087.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2021-06-28T06:54:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405087"
}
```



---

archive/issue_events_405088.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2021-06-28T06:54:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405088"
}
```



---

archive/issue_comments_493381.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e74a32b3a68b78bde03c6e15608436dee3012bd0\">e74a32b</a></td><td><code>Added continuation prompts</code></td></tr></table>\n",
    "created_at": "2021-06-28T09:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493381",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22" align="right">Comment 22</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e74a32b3a68b78bde03c6e15608436dee3012bd0">e74a32b</a></td><td><code>Added continuation prompts</code></td></tr></table>




---

archive/issue_comments_493382.json:
```json
{
    "body": "Changed commit from **[a56b3c1](https://github.com/sagemath/sagetrac-mirror/commit/a56b3c1333bce409e672b2f7de09d65591acf800)** to **[e74a32b](https://github.com/sagemath/sagetrac-mirror/commit/e74a32b3a68b78bde03c6e15608436dee3012bd0)**",
    "created_at": "2021-06-28T09:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493382",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a56b3c1](https://github.com/sagemath/sagetrac-mirror/commit/a56b3c1333bce409e672b2f7de09d65591acf800)** to **[e74a32b](https://github.com/sagemath/sagetrac-mirror/commit/e74a32b3a68b78bde03c6e15608436dee3012bd0)**



---

archive/issue_events_405089.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2021-06-28T15:31:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405089"
}
```



---

archive/issue_events_405090.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2021-06-28T15:31:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405090"
}
```



---

archive/issue_comments_493383.json:
```json
{
    "body": "Changed branch from **[u/gh-DisneyHogg/add_gauss_legendre_integrator_to_documentation](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DisneyHogg/add_gauss_legendre_integrator_to_documentation)** to **[e74a32b](https://github.com/sagemath/sagetrac-mirror/commit/e74a32b3a68b78bde03c6e15608436dee3012bd0)**",
    "created_at": "2021-06-29T23:08:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30698#issuecomment-493383",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gh-DisneyHogg/add_gauss_legendre_integrator_to_documentation](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DisneyHogg/add_gauss_legendre_integrator_to_documentation)** to **[e74a32b](https://github.com/sagemath/sagetrac-mirror/commit/e74a32b3a68b78bde03c6e15608436dee3012bd0)**



---

archive/issue_events_405091.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-06-29T23:08:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405091"
}
```



---

archive/issue_events_405092.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "c920272293e7609defc2ecdbf798e6933ab60a47",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-06-29T23:08:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30698",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30698#event-405092"
}
```
