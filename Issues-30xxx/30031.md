# Issue 30031: Use `./sage -t`, not `sage -t` in output of tests ran from `SAGE_ROOT`

archive/issues_030031.json:
```json
{
    "body": "This is to modify output of tests in the case where\n`SAGE_ROOT` exists and tests are ran from `SAGE_ROOT`.\n\nFor example when running `make test` when building\nSage in an extracted source tarball or a git clone.\n\nBefore this ticket, failures and timeouts show with `sage -t`:\n\n```\nsage -t --random-seed=0 src/sage/misc/latex.py  # 1 doctest failed\nsage -t --random-seed=0 src/sage/plot/animate.py  # Timed out\n```\n\nAfter this ticket, failures and timeouts show with `./sage -t`:\n\n```\n./sage -t --random-seed=0 src/sage/misc/latex.py  # 1 doctest failed\n./sage -t --random-seed=0 src/sage/plot/animate.py  # Timed out\n```\n\nThis makes the testing process less error-prone.\n\nIndeed, the natural next action is to run each test\nagain by itself, typically by copying and pasting the\nlines from the above report. A developer might have\nseveral versions of Sage installed, and the `sage`\nin their `PATH` might not be the one currently being\ntested, so one could easy inadvertently retest with\nthe wrong Sage and draw wrong conclusions. Since the\npaths to tested files in the report are local, the\ncopy-pasted line must be run from the `SAGE_ROOT`\ndirectory, so using `./sage` is perfectly sensible.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/30268\n\n",
    "created_at": "2020-08-02T06:02:07Z",
    "labels": [
        "component: doctest framework"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Use `./sage -t`, not `sage -t` in output of tests ran from `SAGE_ROOT`",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30031",
    "user": "https://github.com/slel"
}
```
This is to modify output of tests in the case where
`SAGE_ROOT` exists and tests are ran from `SAGE_ROOT`.

For example when running `make test` when building
Sage in an extracted source tarball or a git clone.

Before this ticket, failures and timeouts show with `sage -t`:

```
sage -t --random-seed=0 src/sage/misc/latex.py  # 1 doctest failed
sage -t --random-seed=0 src/sage/plot/animate.py  # Timed out
```

After this ticket, failures and timeouts show with `./sage -t`:

```
./sage -t --random-seed=0 src/sage/misc/latex.py  # 1 doctest failed
./sage -t --random-seed=0 src/sage/plot/animate.py  # Timed out
```

This makes the testing process less error-prone.

Indeed, the natural next action is to run each test
again by itself, typically by copying and pasting the
lines from the above report. A developer might have
several versions of Sage installed, and the `sage`
in their `PATH` might not be the one currently being
tested, so one could easy inadvertently retest with
the wrong Sage and draw wrong conclusions. Since the
paths to tested files in the report are local, the
copy-pasted line must be run from the `SAGE_ROOT`
directory, so using `./sage` is perfectly sensible.


Issue created by migration from https://trac.sagemath.org/ticket/30268





---

archive/issue_comments_426422.json:
```json
{
    "body": "`sage -t` is perfectly normal and natural for sage-on-distros. In fact `./sage` doesn't make any sense there since `SAGE_ROOT` doesn't exist.\n\nIf you want to display this, make it dependent on `SAGE_ROOT` not being undefined please.",
    "created_at": "2020-08-02T08:27:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30031#issuecomment-426422",
    "user": "https://github.com/kiwifb"
}
```

`sage -t` is perfectly normal and natural for sage-on-distros. In fact `./sage` doesn't make any sense there since `SAGE_ROOT` doesn't exist.

If you want to display this, make it dependent on `SAGE_ROOT` not being undefined please.



---

archive/issue_comments_426423.json:
```json
{
    "body": "Good point. I modified the summary and description accordingly.",
    "created_at": "2020-08-02T10:36:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30031#issuecomment-426423",
    "user": "https://github.com/slel"
}
```

Good point. I modified the summary and description accordingly.



---

archive/issue_events_078291.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30031",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30031#event-78291"
}
```



---

archive/issue_comments_426424.json:
```json
{
    "body": "Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30031#issuecomment-426424",
    "user": "https://github.com/mkoeppe"
}
```

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_078292.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30031",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30031#event-78292"
}
```



---

archive/issue_events_078293.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30031",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30031#event-78293"
}
```



---

archive/issue_events_078294.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30031",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30031#event-78294"
}
```



---

archive/issue_events_078295.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30031",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30031#event-78295"
}
```



---

archive/issue_events_078296.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30031",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30031#event-78296"
}
```



---

archive/issue_events_078297.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30031",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30031#event-78297"
}
```



---

archive/issue_events_078298.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30031",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30031#event-78298"
}
```



---

archive/issue_events_078299.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30031",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30031#event-78299"
}
```



---

archive/issue_events_078300.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T16:33:45Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30031",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30031#event-78300"
}
```



---

archive/issue_events_078301.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T16:33:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30031",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30031#event-78301"
}
```
