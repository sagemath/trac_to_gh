# Issue 30597: Define a sparse bitset structure

archive/issues_030360.json:
```json
{
    "assignees": [],
    "body": "This structure is a copy of `bitset_t` for now and at the moment mainly illustrates that the entire setup with a fused type in `biteset.pxi` works.\n\nAfter combinatorial polyhedron uses this type for its atom-representation it should contain some additional information about which limbs are relevant. So it will increase slightly in memory usage, while still using constant memory (dependent on size). However, access to non-zero limbs will be improved.\n\nDepends on #30572\nDepends on #30596\n\nCC:  @tscrim\n\nKeywords: **sparse bitset**\n\nBranch/Commit: **[9d3ebc7](https://github.com/sagemath/sagetrac-mirror/commit/9d3ebc763f05e6e4768ea026a16d90d21cd9b5b3)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Jonathan Kliem**\n\nComponent: **cython**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30597_\n\n",
    "closed_at": "2020-09-30T22:30:01Z",
    "created_at": "2020-09-18T13:18:04Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20cython",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Define a sparse bitset structure",
    "type": "issue",
    "updated_at": "2020-09-30T22:52:20Z",
    "url": "https://github.com/sagemath/sage/issues/30597",
    "user": "https://github.com/kliem"
}
```
This structure is a copy of `bitset_t` for now and at the moment mainly illustrates that the entire setup with a fused type in `biteset.pxi` works.

After combinatorial polyhedron uses this type for its atom-representation it should contain some additional information about which limbs are relevant. So it will increase slightly in memory usage, while still using constant memory (dependent on size). However, access to non-zero limbs will be improved.

Depends on #30572
Depends on #30596

CC:  @tscrim

Keywords: **sparse bitset**

Branch/Commit: **[9d3ebc7](https://github.com/sagemath/sagetrac-mirror/commit/9d3ebc763f05e6e4768ea026a16d90d21cd9b5b3)**

Reviewer: **Travis Scrimshaw**

Author: **Jonathan Kliem**

Component: **cython**

_Issue created by migration from https://trac.sagemath.org/ticket/30597_





---

archive/issue_events_421850.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-09-18T13:18:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30597#event-421850"
}
```



---

archive/issue_events_421851.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-09-18T13:18:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20cython",
    "label_color": "000080",
    "label_name": "c: cython",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30597#event-421851"
}
```



---

archive/issue_events_421852.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-09-18T13:18:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30597#event-421852"
}
```



---

archive/issue_events_421853.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-09-18T13:18:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30597#event-421853"
}
```



---

archive/issue_comments_488318.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d3ebc763f05e6e4768ea026a16d90d21cd9b5b3\">9d3ebc7</a></td><td><code>define sparse_bitset_t</code></td></tr></table>\n",
    "created_at": "2020-09-18T13:23:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30597#issuecomment-488318",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:1"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d3ebc763f05e6e4768ea026a16d90d21cd9b5b3">9d3ebc7</a></td><td><code>define sparse_bitset_t</code></td></tr></table>




---

archive/issue_comments_488319.json:
```json
{
    "body": "Changed commit from **[2f2b73f](https://github.com/sagemath/sagetrac-mirror/commit/2f2b73f5d7f285b6c006a1acce4dd407ce11f068)** to **[9d3ebc7](https://github.com/sagemath/sagetrac-mirror/commit/9d3ebc763f05e6e4768ea026a16d90d21cd9b5b3)**",
    "created_at": "2020-09-18T13:23:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30597#issuecomment-488319",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2f2b73f](https://github.com/sagemath/sagetrac-mirror/commit/2f2b73f5d7f285b6c006a1acce4dd407ce11f068)** to **[9d3ebc7](https://github.com/sagemath/sagetrac-mirror/commit/9d3ebc763f05e6e4768ea026a16d90d21cd9b5b3)**



---

archive/issue_events_421854.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-09-18T13:25:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30597#event-421854"
}
```



---

archive/issue_events_421855.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-09-18T13:25:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30597#event-421855"
}
```



---

archive/issue_events_421856.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-09-18T13:25:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30597#event-421856"
}
```



---

archive/issue_comments_488320.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-This structure is a copy of `bitset_t` for now and at the moment mainly illustrates that the entire setup with a fuzed type in `biteset.pxi` works.\n+This structure is a copy of `bitset_t` for now and at the moment mainly illustrates that the entire setup with a fused type in `biteset.pxi` works.\n \n After combinatorial polyhedron uses this type for its atom-representation it should contain some additional information about which limbs are relevant. So it will increase slightly in memory usage, while still using constant memory (dependent on size). However, access to non-zero limbs will be improved.\n``````\n",
    "created_at": "2020-09-19T05:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30597#issuecomment-488320",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-This structure is a copy of `bitset_t` for now and at the moment mainly illustrates that the entire setup with a fuzed type in `biteset.pxi` works.
+This structure is a copy of `bitset_t` for now and at the moment mainly illustrates that the entire setup with a fused type in `biteset.pxi` works.
 
 After combinatorial polyhedron uses this type for its atom-representation it should contain some additional information about which limbs are relevant. So it will increase slightly in memory usage, while still using constant memory (dependent on size). However, access to non-zero limbs will be improved.
``````




---

archive/issue_comments_488321.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nLGTM.",
    "created_at": "2020-09-19T05:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30597#issuecomment-488321",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:4" align="right">comment:4</div>

LGTM.



---

archive/issue_events_421857.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-09-19T05:39:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30597#event-421857"
}
```



---

archive/issue_events_421858.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-09-19T05:39:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30597#event-421858"
}
```



---

archive/issue_comments_488322.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2020-09-19T05:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30597#issuecomment-488322",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_488323.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThank you.",
    "created_at": "2020-09-21T05:00:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30597#issuecomment-488323",
    "user": "https://github.com/kliem"
}
```

<div id="comment:5" align="right">comment:5</div>

Thank you.



---

archive/issue_comments_488324.json:
```json
{
    "body": "Changed branch from **[u/gh-kliem/sparse_bitsets_via_fuzed_types](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/sparse_bitsets_via_fuzed_types)** to **[9d3ebc7](https://github.com/sagemath/sagetrac-mirror/commit/9d3ebc763f05e6e4768ea026a16d90d21cd9b5b3)**",
    "created_at": "2020-09-30T22:30:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30597#issuecomment-488324",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gh-kliem/sparse_bitsets_via_fuzed_types](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/sparse_bitsets_via_fuzed_types)** to **[9d3ebc7](https://github.com/sagemath/sagetrac-mirror/commit/9d3ebc763f05e6e4768ea026a16d90d21cd9b5b3)**



---

archive/issue_events_421859.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-09-30T22:30:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30597#event-421859"
}
```



---

archive/issue_events_421860.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "89bf834ab3abe8ad2398abc8fe4e21ce457648fb",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-09-30T22:30:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30597#event-421860"
}
```



---

archive/issue_events_421861.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-30T22:52:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30597#event-421861"
}
```



---

archive/issue_events_421862.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-30T22:52:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30597",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30597#event-421862"
}
```
