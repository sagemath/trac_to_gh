# Issue 30039: Implement weighted version of 2Dsweep and DiFUB

archive/issues_029802.json:
```json
{
    "assignees": [],
    "body": "This ticket aims to implement weighted version of `2Dsweep` and `DiFUB`\n\nDepends on #29422\n\nCC:  @dcoudert\n\nKeywords: **gsoc2020**\n\nBranch/Commit: **[`7bcd9db`](https://github.com/sagemath/sagetrac-mirror/commit/7bcd9db9dd80f8902a6bc938b34486a6801ac7c0)**\n\nReviewer: **David Coudert**\n\nAuthor: **Vipul Gupta**\n\nComponent: **graph theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30039_\n\n",
    "closed_at": "2020-08-02T08:20:46Z",
    "created_at": "2020-07-01T12:59:19Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implement weighted version of 2Dsweep and DiFUB",
    "type": "issue",
    "updated_at": "2020-08-02T08:20:46Z",
    "url": "https://github.com/sagemath/sage/issues/30039",
    "user": "https://github.com/vipul79321"
}
```
This ticket aims to implement weighted version of `2Dsweep` and `DiFUB`

Depends on #29422

CC:  @dcoudert

Keywords: **gsoc2020**

Branch/Commit: **[`7bcd9db`](https://github.com/sagemath/sagetrac-mirror/commit/7bcd9db9dd80f8902a6bc938b34486a6801ac7c0)**

Reviewer: **David Coudert**

Author: **Vipul Gupta**

Component: **graph theory**

_Issue created by migration from https://trac.sagemath.org/ticket/30039_





---

archive/issue_events_413623.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-07-01T12:59:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413623"
}
```



---

archive/issue_events_413624.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-07-01T12:59:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413624"
}
```



---

archive/issue_events_413625.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-07-01T12:59:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413625"
}
```



---

archive/issue_events_413626.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-07-01T12:59:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413626"
}
```



---

archive/issue_comments_475469.json:
```json
{
    "body": "Branch: **[public/graphs/30039_weighted_difub](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/30039_weighted_difub)**",
    "created_at": "2020-07-01T13:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475469",
    "user": "https://github.com/vipul79321"
}
```

Branch: **[public/graphs/30039_weighted_difub](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/30039_weighted_difub)**



---

archive/issue_events_413627.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-07-01T13:00:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413627"
}
```



---

archive/issue_comments_475470.json:
```json
{
    "body": "Commit: **[`2d53b3e`](https://github.com/sagemath/sagetrac-mirror/commit/2d53b3edca6ef352aeaf12b4ff1221ac6b18f534)**",
    "created_at": "2020-07-01T13:01:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475470",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`2d53b3e`](https://github.com/sagemath/sagetrac-mirror/commit/2d53b3edca6ef352aeaf12b4ff1221ac6b18f534)**



---

archive/issue_comments_475471.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef68ef391b8cba890af4ef872ff08de47071ed52\"><code>ef68ef3</code></a></td><td><code>code added</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8546f52d3af19b6437f8c5b325fb76d5de2b791e\"><code>8546f52</code></a></td><td><code>documentation added</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c73b6387f926480a7db45b2a62a0c787cc8ae2e\"><code>0c73b63</code></a></td><td><code>trac #29422: merged with 9.2.beta2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb335a5cc0787fc19863311d0e9ce25452b3c793\"><code>eb335a5</code></a></td><td><code>trac #29422: review commit</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0697f89c42f0894ab1178c39d8ab0264dfebe05\"><code>d0697f8</code></a></td><td><code>Exposed in  digraph.py and fixed patchbots issues</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d53b3edca6ef352aeaf12b4ff1221ac6b18f534\"><code>2d53b3e</code></a></td><td><code> weighted 2Dsweep added</code></td></tr></table>\n",
    "created_at": "2020-07-01T13:01:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475471",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef68ef391b8cba890af4ef872ff08de47071ed52"><code>ef68ef3</code></a></td><td><code>code added</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8546f52d3af19b6437f8c5b325fb76d5de2b791e"><code>8546f52</code></a></td><td><code>documentation added</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c73b6387f926480a7db45b2a62a0c787cc8ae2e"><code>0c73b63</code></a></td><td><code>trac #29422: merged with 9.2.beta2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb335a5cc0787fc19863311d0e9ce25452b3c793"><code>eb335a5</code></a></td><td><code>trac #29422: review commit</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0697f89c42f0894ab1178c39d8ab0264dfebe05"><code>d0697f8</code></a></td><td><code>Exposed in  digraph.py and fixed patchbots issues</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d53b3edca6ef352aeaf12b4ff1221ac6b18f534"><code>2d53b3e</code></a></td><td><code> weighted 2Dsweep added</code></td></tr></table>




---

archive/issue_comments_475472.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@sagetrac-git](#comment:2):\n|                                                                                                                                                 |                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n|[2d53b3e](https://github.com/sagemath/sagetrac-mirror/commit/2d53b3edca6ef352aeaf12b4ff1221ac6b18f534)|` weighted 2Dsweep added`|\n\nHello David, \n\nI have added weighted version of `2Dsweep` and wrapper method for `diameter` computation similar to in `distances_all_pairs.pyx`. Its not final yet, I just wanted to keep you updated with how I have decided to organize it.\n\nKindly take a look at it. Any suggestions will be helpful.\n\nI will hopefully complete the weighted version of `DiFUB` by tomorrow.\n\nVipul",
    "created_at": "2020-07-01T13:09:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475472",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@sagetrac-git](#comment:2):
|                                                                                                                                                 |                         |
|-------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
|[2d53b3e](https://github.com/sagemath/sagetrac-mirror/commit/2d53b3edca6ef352aeaf12b4ff1221ac6b18f534)|` weighted 2Dsweep added`|

Hello David, 

I have added weighted version of `2Dsweep` and wrapper method for `diameter` computation similar to in `distances_all_pairs.pyx`. Its not final yet, I just wanted to keep you updated with how I have decided to organize it.

Kindly take a look at it. Any suggestions will be helpful.

I will hopefully complete the weighted version of `DiFUB` by tomorrow.

Vipul



---

archive/issue_comments_475473.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nYou don't compute distances from antipodes...",
    "created_at": "2020-07-01T15:41:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475473",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:4" align="right">comment:4</div>

You don't compute distances from antipodes...



---

archive/issue_comments_475474.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@dcoudert](#comment:4):\n> You don't compute distances from antipodes...\n> \n> \n\nI didnt quite understand what you are saying, are you suggesting to stop 2Dsweep after 2nd step. But i would like to mention that we have followed the same steps in unweighted version of 2Dsweep. \n\nSorry to bother you.. But can you please expalin you are saying.",
    "created_at": "2020-07-01T17:22:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475474",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@dcoudert](#comment:4):
> You don't compute distances from antipodes...
> 
> 

I didnt quite understand what you are saying, are you suggesting to stop 2Dsweep after 2nd step. But i would like to mention that we have followed the same steps in unweighted version of 2Dsweep. 

Sorry to bother you.. But can you please expalin you are saying.



---

archive/issue_comments_475475.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI missed these lines\n\n```\n+    source_1 = antipode_1\n+    source_2 = antipode_2\n```\nso it's ok.",
    "created_at": "2020-07-01T17:41:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475475",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:6" align="right">comment:6</div>

I missed these lines

```
+    source_1 = antipode_1
+    source_2 = antipode_2
```
so it's ok.



---

archive/issue_comments_475476.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/867a0a8dd653dc70b0280ec1f8532a781ece1a95\"><code>867a0a8</code></a></td><td><code>weighted difub added and exposed in digraph.py</code></td></tr></table>\n",
    "created_at": "2020-07-02T13:42:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475476",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/867a0a8dd653dc70b0280ec1f8532a781ece1a95"><code>867a0a8</code></a></td><td><code>weighted difub added and exposed in digraph.py</code></td></tr></table>




---

archive/issue_comments_475477.json:
```json
{
    "body": "Changed commit from **[`2d53b3e`](https://github.com/sagemath/sagetrac-mirror/commit/2d53b3edca6ef352aeaf12b4ff1221ac6b18f534)** to **[`867a0a8`](https://github.com/sagemath/sagetrac-mirror/commit/867a0a8dd653dc70b0280ec1f8532a781ece1a95)**",
    "created_at": "2020-07-02T13:42:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475477",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2d53b3e`](https://github.com/sagemath/sagetrac-mirror/commit/2d53b3edca6ef352aeaf12b4ff1221ac6b18f534)** to **[`867a0a8`](https://github.com/sagemath/sagetrac-mirror/commit/867a0a8dd653dc70b0280ec1f8532a781ece1a95)**



---

archive/issue_comments_475478.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@sagetrac-git](#comment:7):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/867a0a8dd653dc70b0280ec1f8532a781ece1a95\"><code>867a0a8</code></a></td><td><code>weighted difub added and exposed in digraph.py</code></td></tr></table>\n\nP.S. - I have made the changes in `eccentricity` method in `digraph.py` similar to `graph.py`",
    "created_at": "2020-07-02T13:43:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475478",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@sagetrac-git](#comment:7):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/867a0a8dd653dc70b0280ec1f8532a781ece1a95"><code>867a0a8</code></a></td><td><code>weighted difub added and exposed in digraph.py</code></td></tr></table>

P.S. - I have made the changes in `eccentricity` method in `digraph.py` similar to `graph.py`



---

archive/issue_comments_475479.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\n\n```diff\n-    Returns lower bound on the diamter of weighted digraph using the weighted\n-    version of the algorithm proposed in [Broder2000]_.\n+    Return a lower bound on the diameter of `G`.\n+    \n+    This method implements the weighted version of the algorithm proposed\n+    in [Broder2000]_ to compute a lower bound of the weighted digraph `G`.\n```\n\nThis should work and be slightly faster (ok, minor improvement)\n\n```diff\n-        order_1.push_back(pair[double, v_index](distances[v], v))\n+        order_1.emplace_back(distances[v], v)\n```\n\n```diff\n-            computed diameter. They also works with negative weight, if there is\n+            computed diameter. They also work with negative weight, if there is\n```\n\nThe documentation you added in `digraph.py` suggests that we don't have a basic method for weighted digraphs, but we do.\n\nIn the comparison of methods, you can compare DiFUB with any exact algorithm based on eccentricity.",
    "created_at": "2020-07-02T15:36:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475479",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:9" align="right">comment:9</div>


```diff
-    Returns lower bound on the diamter of weighted digraph using the weighted
-    version of the algorithm proposed in [Broder2000]_.
+    Return a lower bound on the diameter of `G`.
+    
+    This method implements the weighted version of the algorithm proposed
+    in [Broder2000]_ to compute a lower bound of the weighted digraph `G`.
```

This should work and be slightly faster (ok, minor improvement)

```diff
-        order_1.push_back(pair[double, v_index](distances[v], v))
+        order_1.emplace_back(distances[v], v)
```

```diff
-            computed diameter. They also works with negative weight, if there is
+            computed diameter. They also work with negative weight, if there is
```

The documentation you added in `digraph.py` suggests that we don't have a basic method for weighted digraphs, but we do.

In the comparison of methods, you can compare DiFUB with any exact algorithm based on eccentricity.



---

archive/issue_comments_475480.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14e44ec709d3daf6bb3b849febb419605a400d57\"><code>14e44ec</code></a></td><td><code>minor changes in documentation</code></td></tr></table>\n",
    "created_at": "2020-07-03T11:12:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475480",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14e44ec709d3daf6bb3b849febb419605a400d57"><code>14e44ec</code></a></td><td><code>minor changes in documentation</code></td></tr></table>




---

archive/issue_comments_475481.json:
```json
{
    "body": "Changed commit from **[`867a0a8`](https://github.com/sagemath/sagetrac-mirror/commit/867a0a8dd653dc70b0280ec1f8532a781ece1a95)** to **[`14e44ec`](https://github.com/sagemath/sagetrac-mirror/commit/14e44ec709d3daf6bb3b849febb419605a400d57)**",
    "created_at": "2020-07-03T11:12:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475481",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`867a0a8`](https://github.com/sagemath/sagetrac-mirror/commit/867a0a8dd653dc70b0280ec1f8532a781ece1a95)** to **[`14e44ec`](https://github.com/sagemath/sagetrac-mirror/commit/14e44ec709d3daf6bb3b849febb419605a400d57)**



---

archive/issue_comments_475482.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@dcoudert](#comment:9):\n> \n\n> This should work and be slightly faster (ok, minor improvement)\n> \n> ```diff\n> -        order_1.push_back(pair[double, v_index](distances[v], v))\n> +        order_1.emplace_back(distances[v], v)\n> ```\n> \n\nThis threw an error, so I kept the previous version.\n\n> The documentation you added in `digraph.py` suggests that we don't have a basic method for weighted digraphs, but we do.\n> \n\nI have made changes for that, but i am not sure are those changes sufficient?\n\n> In the comparison of methods, you can compare DiFUB with any exact algorithm based on eccentricity.\n\nDone.",
    "created_at": "2020-07-03T11:14:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475482",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@dcoudert](#comment:9):
> 

> This should work and be slightly faster (ok, minor improvement)
> 
> ```diff
> -        order_1.push_back(pair[double, v_index](distances[v], v))
> +        order_1.emplace_back(distances[v], v)
> ```
> 

This threw an error, so I kept the previous version.

> The documentation you added in `digraph.py` suggests that we don't have a basic method for weighted digraphs, but we do.
> 

I have made changes for that, but i am not sure are those changes sufficient?

> In the comparison of methods, you can compare DiFUB with any exact algorithm based on eccentricity.

Done.



---

archive/issue_comments_475483.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nhave also a look at the errors reported by the patchbot.",
    "created_at": "2020-07-03T11:15:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475483",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:12" align="right">comment:12</div>

have also a look at the errors reported by the patchbot.



---

archive/issue_comments_475484.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4fe3d4ac2c6bcfe8891bea8b2accfa2237a2c591\"><code>4fe3d4a</code></a></td><td><code>Patchbot issues fixed</code></td></tr></table>\n",
    "created_at": "2020-07-05T17:09:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475484",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4fe3d4ac2c6bcfe8891bea8b2accfa2237a2c591"><code>4fe3d4a</code></a></td><td><code>Patchbot issues fixed</code></td></tr></table>




---

archive/issue_comments_475485.json:
```json
{
    "body": "Changed commit from **[`14e44ec`](https://github.com/sagemath/sagetrac-mirror/commit/14e44ec709d3daf6bb3b849febb419605a400d57)** to **[`4fe3d4a`](https://github.com/sagemath/sagetrac-mirror/commit/4fe3d4ac2c6bcfe8891bea8b2accfa2237a2c591)**",
    "created_at": "2020-07-05T17:09:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475485",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`14e44ec`](https://github.com/sagemath/sagetrac-mirror/commit/14e44ec709d3daf6bb3b849febb419605a400d57)** to **[`4fe3d4a`](https://github.com/sagemath/sagetrac-mirror/commit/4fe3d4ac2c6bcfe8891bea8b2accfa2237a2c591)**



---

archive/issue_comments_475486.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@dcoudert](#comment:12):\n> have also a look at the errors reported by the patchbot.\n\nDone",
    "created_at": "2020-07-05T17:09:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475486",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@dcoudert](#comment:12):
> have also a look at the errors reported by the patchbot.

Done



---

archive/issue_comments_475487.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nactually, one of these issue should be fixed in #29422, right ?",
    "created_at": "2020-07-05T17:23:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475487",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:15" align="right">comment:15</div>

actually, one of these issue should be fixed in #29422, right ?



---

archive/issue_comments_475488.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@dcoudert](#comment:15):\n> actually, one of these issue should be fixed in #29422, right ?\n\nYeah, i will do the same update there too.",
    "created_at": "2020-07-05T17:28:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475488",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@dcoudert](#comment:15):
> actually, one of these issue should be fixed in #29422, right ?

Yeah, i will do the same update there too.



---

archive/issue_comments_475489.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nWhile running doctests on the graph module, I get the following error.\n\n```\nsage -t src/sage/graphs/base/boost_graph.pyx\n**********************************************************************\nFile \"src/sage/graphs/base/boost_graph.pyx\", line 2121, in sage.graphs.base.boost_graph.?\nFailed example:\n    diameter(G, algorithm='DiFUB', weight_function=lambda e:e[2])\nExpected:\n    2.0\nGot:\n    Traceback (most recent call last):\n      File \"sage/graphs/base/boost_graph.pyx\", line 1869, in sage.graphs.base.boost_graph.diameter_lower_bound_2Dsweep (build/cythonized/sage/graphs/base/boost_graph.cpp:20737)\n    cysignals.signals.SignalError: Segmentation fault\n    Exception ignored in: 'sage.graphs.base.boost_graph.diameter_DiFUB'\n    Traceback (most recent call last):\n      File \"sage/graphs/base/boost_graph.pyx\", line 1869, in sage.graphs.base.boost_graph.diameter_lower_bound_2Dsweep (build/cythonized/sage/graphs/base/boost_graph.cpp:20737)\n    cysignals.signals.SignalError: Segmentation fault\n    0.0\n```\n\nAlso, you could add specific doctests for `2Dsweep` and `DiFUB`.",
    "created_at": "2020-07-08T07:37:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475489",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:17" align="right">comment:17</div>

While running doctests on the graph module, I get the following error.

```
sage -t src/sage/graphs/base/boost_graph.pyx
**********************************************************************
File "src/sage/graphs/base/boost_graph.pyx", line 2121, in sage.graphs.base.boost_graph.?
Failed example:
    diameter(G, algorithm='DiFUB', weight_function=lambda e:e[2])
Expected:
    2.0
Got:
    Traceback (most recent call last):
      File "sage/graphs/base/boost_graph.pyx", line 1869, in sage.graphs.base.boost_graph.diameter_lower_bound_2Dsweep (build/cythonized/sage/graphs/base/boost_graph.cpp:20737)
    cysignals.signals.SignalError: Segmentation fault
    Exception ignored in: 'sage.graphs.base.boost_graph.diameter_DiFUB'
    Traceback (most recent call last):
      File "sage/graphs/base/boost_graph.pyx", line 1869, in sage.graphs.base.boost_graph.diameter_lower_bound_2Dsweep (build/cythonized/sage/graphs/base/boost_graph.cpp:20737)
    cysignals.signals.SignalError: Segmentation fault
    0.0
```

Also, you could add specific doctests for `2Dsweep` and `DiFUB`.



---

archive/issue_comments_475490.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@dcoudert](#comment:17):\n> While running doctests on the graph module, I get the following error.\n> \n> ```\n> sage -t src/sage/graphs/base/boost_graph.pyx\n> **********************************************************************\n> File \"src/sage/graphs/base/boost_graph.pyx\", line 2121, in sage.graphs.base.boost_graph.?\n> Failed example:\n>     diameter(G, algorithm='DiFUB', weight_function=lambda e:e[2])\n> Expected:\n>     2.0\n> Got:\n>     Traceback (most recent call last):\n>       File \"sage/graphs/base/boost_graph.pyx\", line 1869, in sage.graphs.base.boost_graph.diameter_lower_bound_2Dsweep (build/cythonized/sage/graphs/base/boost_graph.cpp:20737)\n>     cysignals.signals.SignalError: Segmentation fault\n>     Exception ignored in: 'sage.graphs.base.boost_graph.diameter_DiFUB'\n>     Traceback (most recent call last):\n>       File \"sage/graphs/base/boost_graph.pyx\", line 1869, in sage.graphs.base.boost_graph.diameter_lower_bound_2Dsweep (build/cythonized/sage/graphs/base/boost_graph.cpp:20737)\n>     cysignals.signals.SignalError: Segmentation fault\n>     0.0\n> ```\n> \n\nThat's weird, when ran doctest on my system it passed with no error. I have checked it again. Still no problem.\n\n```\nsage: from sage.graphs.base.boost_graph import diameter\nsage: G = DiGraph([(0,1,2), (1,0,-1)])\nsage: diameter(G, algorithm='DiFUB')\n1.0\nsage: diameter(G, algorithm='DiFUB', weight_function=lambda e:e[2])\n2.0\n```\n\n---\n\n```\nvipul@vipul-Predator-G3-572:~/sage$ ./sage -t src/sage/graphs/base/boost_graph.pyx\nRunning doctests with ID 2020-07-08-13-24-51-0d1b09f6.\nGit branch: weighted_difub\nUsing --optional=build,dochtml,memlimit,python_openid,sage,speaklater\nDoctesting 1 file.\nsage -t --warn-long 45.7 src/sage/graphs/base/boost_graph.pyx\n    [135 tests, 0.37 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 0.4 seconds\n    cpu time: 0.4 seconds\n    cumulative wall time: 0.4 seconds\n```\n\n\nP.S - I am currently on latest beta release.",
    "created_at": "2020-07-08T07:57:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475490",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@dcoudert](#comment:17):
> While running doctests on the graph module, I get the following error.
> 
> ```
> sage -t src/sage/graphs/base/boost_graph.pyx
> **********************************************************************
> File "src/sage/graphs/base/boost_graph.pyx", line 2121, in sage.graphs.base.boost_graph.?
> Failed example:
>     diameter(G, algorithm='DiFUB', weight_function=lambda e:e[2])
> Expected:
>     2.0
> Got:
>     Traceback (most recent call last):
>       File "sage/graphs/base/boost_graph.pyx", line 1869, in sage.graphs.base.boost_graph.diameter_lower_bound_2Dsweep (build/cythonized/sage/graphs/base/boost_graph.cpp:20737)
>     cysignals.signals.SignalError: Segmentation fault
>     Exception ignored in: 'sage.graphs.base.boost_graph.diameter_DiFUB'
>     Traceback (most recent call last):
>       File "sage/graphs/base/boost_graph.pyx", line 1869, in sage.graphs.base.boost_graph.diameter_lower_bound_2Dsweep (build/cythonized/sage/graphs/base/boost_graph.cpp:20737)
>     cysignals.signals.SignalError: Segmentation fault
>     0.0
> ```
> 

That's weird, when ran doctest on my system it passed with no error. I have checked it again. Still no problem.

```
sage: from sage.graphs.base.boost_graph import diameter
sage: G = DiGraph([(0,1,2), (1,0,-1)])
sage: diameter(G, algorithm='DiFUB')
1.0
sage: diameter(G, algorithm='DiFUB', weight_function=lambda e:e[2])
2.0
```

---

```
vipul@vipul-Predator-G3-572:~/sage$ ./sage -t src/sage/graphs/base/boost_graph.pyx
Running doctests with ID 2020-07-08-13-24-51-0d1b09f6.
Git branch: weighted_difub
Using --optional=build,dochtml,memlimit,python_openid,sage,speaklater
Doctesting 1 file.
sage -t --warn-long 45.7 src/sage/graphs/base/boost_graph.pyx
    [135 tests, 0.37 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 0.4 seconds
    cpu time: 0.4 seconds
    cumulative wall time: 0.4 seconds
```


P.S - I am currently on latest beta release.



---

archive/issue_comments_475491.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@dcoudert](#comment:17):\n> While running doctests on the graph module, I get the following error.\n> \n> ```\n> sage -t src/sage/graphs/base/boost_graph.pyx\n> **********************************************************************\n> File \"src/sage/graphs/base/boost_graph.pyx\", line 2121, in sage.graphs.base.boost_graph.?\n> Failed example:\n>     diameter(G, algorithm='DiFUB', weight_function=lambda e:e[2])\n> Expected:\n>     2.0\n> Got:\n>     Traceback (most recent call last):\n>       File \"sage/graphs/base/boost_graph.pyx\", line 1869, in sage.graphs.base.boost_graph.diameter_lower_bound_2Dsweep (build/cythonized/sage/graphs/base/boost_graph.cpp:20737)\n>     cysignals.signals.SignalError: Segmentation fault\n>     Exception ignored in: 'sage.graphs.base.boost_graph.diameter_DiFUB'\n> ```\n\nOne more thing, I would like to ask is why the execption is being ignored. Why it is not raising exception in that method itself.\n\n> Also, you could add specific doctests for `2Dsweep` and `DiFUB`.\n\nOk",
    "created_at": "2020-07-08T07:59:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475491",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@dcoudert](#comment:17):
> While running doctests on the graph module, I get the following error.
> 
> ```
> sage -t src/sage/graphs/base/boost_graph.pyx
> **********************************************************************
> File "src/sage/graphs/base/boost_graph.pyx", line 2121, in sage.graphs.base.boost_graph.?
> Failed example:
>     diameter(G, algorithm='DiFUB', weight_function=lambda e:e[2])
> Expected:
>     2.0
> Got:
>     Traceback (most recent call last):
>       File "sage/graphs/base/boost_graph.pyx", line 1869, in sage.graphs.base.boost_graph.diameter_lower_bound_2Dsweep (build/cythonized/sage/graphs/base/boost_graph.cpp:20737)
>     cysignals.signals.SignalError: Segmentation fault
>     Exception ignored in: 'sage.graphs.base.boost_graph.diameter_DiFUB'
> ```

One more thing, I would like to ask is why the execption is being ignored. Why it is not raising exception in that method itself.

> Also, you could add specific doctests for `2Dsweep` and `DiFUB`.

Ok



---

archive/issue_comments_475492.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThis is due to default value of `antipode_2` in `2Dsweep`. Indeed, to find the antipode, you initialize `LB_2 = 0`. But with this graph, the eccentricity of vertex 1 is -1. So `antipode_2` stays at the default value (depends on the system).\n\nIf I change the weights, I can get the error with `antipode_1`\n\n```\nsage: G = DiGraph([(0,1,-1), (1,0,2)])\nsage: diameter(G, algorithm='2Dsweep', weight_function=lambda e:e[2])\n---------------------------------------------------------------------------\nSignalError                               Traceback (most recent call last)\n<ipython-input-6-283ef9f979bc> in <module>()\n----> 1 diameter(G, algorithm='2Dsweep', weight_function=lambda e:e[Integer(2)])\n\n/Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/base/boost_graph.pyx in sage.graphs.base.boost_graph.diameter (build/cythonized/sage/graphs/base/boost_graph.cpp:23444)()\n   2077     return LB\n   2078 \n-> 2079 cpdef diameter(G, algorithm=None, source=None,\n   2080                weight_function=None, check_weight=True):\n   2081     r\"\"\"\n\n/Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/base/boost_graph.pyx in sage.graphs.base.boost_graph.diameter (build/cythonized/sage/graphs/base/boost_graph.cpp:23145)()\n   2188 \n   2189     if algorithm == '2Dsweep':\n-> 2190         LB = diameter_lower_bound_2Dsweep(g_boost, rev_g_boost,\n   2191                                             isource, algo)[0]\n   2192 \n\n/Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/base/boost_graph.pyx in sage.graphs.base.boost_graph.diameter_lower_bound_2Dsweep (build/cythonized/sage/graphs/base/boost_graph.cpp:20568)()\n   1847     # maximum backward distance. LB_1 will be Backward eccentricity of source_1.\n   1848     if algorithm == 'Bellman-Ford':\n-> 1849         sig_on()\n   1850         result_1 = rev_g_boost.bellman_ford_shortest_paths(source_1)\n   1851         sig_off()\n\nSignalError: Segmentation fault\n```",
    "created_at": "2020-07-08T08:20:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475492",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:20" align="right">comment:20</div>

This is due to default value of `antipode_2` in `2Dsweep`. Indeed, to find the antipode, you initialize `LB_2 = 0`. But with this graph, the eccentricity of vertex 1 is -1. So `antipode_2` stays at the default value (depends on the system).

If I change the weights, I can get the error with `antipode_1`

```
sage: G = DiGraph([(0,1,-1), (1,0,2)])
sage: diameter(G, algorithm='2Dsweep', weight_function=lambda e:e[2])
---------------------------------------------------------------------------
SignalError                               Traceback (most recent call last)
<ipython-input-6-283ef9f979bc> in <module>()
----> 1 diameter(G, algorithm='2Dsweep', weight_function=lambda e:e[Integer(2)])

/Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/base/boost_graph.pyx in sage.graphs.base.boost_graph.diameter (build/cythonized/sage/graphs/base/boost_graph.cpp:23444)()
   2077     return LB
   2078 
-> 2079 cpdef diameter(G, algorithm=None, source=None,
   2080                weight_function=None, check_weight=True):
   2081     r"""

/Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/base/boost_graph.pyx in sage.graphs.base.boost_graph.diameter (build/cythonized/sage/graphs/base/boost_graph.cpp:23145)()
   2188 
   2189     if algorithm == '2Dsweep':
-> 2190         LB = diameter_lower_bound_2Dsweep(g_boost, rev_g_boost,
   2191                                             isource, algo)[0]
   2192 

/Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/base/boost_graph.pyx in sage.graphs.base.boost_graph.diameter_lower_bound_2Dsweep (build/cythonized/sage/graphs/base/boost_graph.cpp:20568)()
   1847     # maximum backward distance. LB_1 will be Backward eccentricity of source_1.
   1848     if algorithm == 'Bellman-Ford':
-> 1849         sig_on()
   1850         result_1 = rev_g_boost.bellman_ford_shortest_paths(source_1)
   1851         sig_off()

SignalError: Segmentation fault
```



---

archive/issue_comments_475493.json:
```json
{
    "body": "Changed commit from **[`4fe3d4a`](https://github.com/sagemath/sagetrac-mirror/commit/4fe3d4ac2c6bcfe8891bea8b2accfa2237a2c591)** to **[`e9a4520`](https://github.com/sagemath/sagetrac-mirror/commit/e9a452008ac35064258f7889851d72ac640eb083)**",
    "created_at": "2020-07-09T05:43:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475493",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4fe3d4a`](https://github.com/sagemath/sagetrac-mirror/commit/4fe3d4ac2c6bcfe8891bea8b2accfa2237a2c591)** to **[`e9a4520`](https://github.com/sagemath/sagetrac-mirror/commit/e9a452008ac35064258f7889851d72ac640eb083)**



---

archive/issue_comments_475494.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a8552fc4e775ba0fde59228aadc84b500371ff8\"><code>7a8552f</code></a></td><td><code>Merge branch 'public/graphs/30039_weighted_difub' of git://trac.sagemath.org/sage into weighted_difub</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9a452008ac35064258f7889851d72ac640eb083\"><code>e9a4520</code></a></td><td><code>Fixed segmentation fault in 2dsweep</code></td></tr></table>\n",
    "created_at": "2020-07-09T05:43:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475494",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a8552fc4e775ba0fde59228aadc84b500371ff8"><code>7a8552f</code></a></td><td><code>Merge branch 'public/graphs/30039_weighted_difub' of git://trac.sagemath.org/sage into weighted_difub</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9a452008ac35064258f7889851d72ac640eb083"><code>e9a4520</code></a></td><td><code>Fixed segmentation fault in 2dsweep</code></td></tr></table>




---

archive/issue_comments_475495.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@sagetrac-git](#comment:21):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n\n|                                                                                                                                                 |                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[e9a4520](https://github.com/sagemath/sagetrac-mirror/commit/e9a452008ac35064258f7889851d72ac640eb083)|`Fixed segmentation fault in 2dsweep`|\n\nI have added equality while looking for antipode. So that atleast one vertex will be made antipode and i think it will solve it.\n\nPlease check that it works (because i am unable to confirm it).\n\nVipul",
    "created_at": "2020-07-09T05:46:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475495",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@sagetrac-git](#comment:21):
> Branch pushed to git repo; I updated commit sha1. New commits:

|                                                                                                                                                 |                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[e9a4520](https://github.com/sagemath/sagetrac-mirror/commit/e9a452008ac35064258f7889851d72ac640eb083)|`Fixed segmentation fault in 2dsweep`|

I have added equality while looking for antipode. So that atleast one vertex will be made antipode and i think it will solve it.

Please check that it works (because i am unable to confirm it).

Vipul



---

archive/issue_comments_475496.json:
```json
{
    "body": "Changed commit from **[`e9a4520`](https://github.com/sagemath/sagetrac-mirror/commit/e9a452008ac35064258f7889851d72ac640eb083)** to **[`f7e1ad5`](https://github.com/sagemath/sagetrac-mirror/commit/f7e1ad5313c6e861f8bcdd06d62ce76e96492154)**",
    "created_at": "2020-07-09T13:41:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475496",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e9a4520`](https://github.com/sagemath/sagetrac-mirror/commit/e9a452008ac35064258f7889851d72ac640eb083)** to **[`f7e1ad5`](https://github.com/sagemath/sagetrac-mirror/commit/f7e1ad5313c6e861f8bcdd06d62ce76e96492154)**



---

archive/issue_comments_475497.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09dc6beed39075d71aeabb936e7111505370062f\"><code>09dc6be</code></a></td><td><code>trac #30039: merged with 9.2.beta4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7e1ad5313c6e861f8bcdd06d62ce76e96492154\"><code>f7e1ad5</code></a></td><td><code>trac 30039: review commit</code></td></tr></table>\n",
    "created_at": "2020-07-09T13:41:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475497",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09dc6beed39075d71aeabb936e7111505370062f"><code>09dc6be</code></a></td><td><code>trac #30039: merged with 9.2.beta4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7e1ad5313c6e861f8bcdd06d62ce76e96492154"><code>f7e1ad5</code></a></td><td><code>trac 30039: review commit</code></td></tr></table>




---

archive/issue_comments_475498.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\ncheck that.",
    "created_at": "2020-07-09T13:42:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475498",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:24" align="right">comment:24</div>

check that.



---

archive/issue_comments_475499.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d033760a973be8fd73d49377c4a00f75ea6f40e5\"><code>d033760</code></a></td><td><code>minor improvements</code></td></tr></table>\n",
    "created_at": "2020-07-10T05:32:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475499",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d033760a973be8fd73d49377c4a00f75ea6f40e5"><code>d033760</code></a></td><td><code>minor improvements</code></td></tr></table>




---

archive/issue_comments_475500.json:
```json
{
    "body": "Changed commit from **[`f7e1ad5`](https://github.com/sagemath/sagetrac-mirror/commit/f7e1ad5313c6e861f8bcdd06d62ce76e96492154)** to **[`d033760`](https://github.com/sagemath/sagetrac-mirror/commit/d033760a973be8fd73d49377c4a00f75ea6f40e5)**",
    "created_at": "2020-07-10T05:32:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475500",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f7e1ad5`](https://github.com/sagemath/sagetrac-mirror/commit/f7e1ad5313c6e861f8bcdd06d62ce76e96492154)** to **[`d033760`](https://github.com/sagemath/sagetrac-mirror/commit/d033760a973be8fd73d49377c4a00f75ea6f40e5)**



---

archive/issue_comments_475501.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\n\n```\nsage: G = DiGraph([(0,1,-2), (1,0,1)])\nsage: G.diameter(by_weight=True)\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n/home/vipul/sage/local/lib/python3.7/site-packages/sage/graphs/base/boost_graph.pyx in sage.graphs.base.boost_graph.diameter_lower_bound_2Dsweep (build/cythonized/sage/graphs/base/boost_graph.cpp:22068)()\n   2012         sig_off()\n   2013     if not result_1.distances.size():\n-> 2014         raise ValueError(\"the graph contains a negative cycle\")\n   2015 \n   2016     LB_1 = -sys.float_info.max\n\nValueError: the graph contains a negative cycle\nException ignored in: 'sage.graphs.base.boost_graph.diameter_DiFUB'\nTraceback (most recent call last):\n  File \"sage/graphs/base/boost_graph.pyx\", line 2014, in sage.graphs.base.boost_graph.diameter_lower_bound_2Dsweep (build/cythonized/sage/graphs/base/boost_graph.cpp:22068)\nValueError: the graph contains a negative cycle\n0.0\n\n```\n\nIs there anyway we can properly get an error and not printing 0.0 ?",
    "created_at": "2020-07-10T05:35:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475501",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:26" align="right">comment:26</div>


```
sage: G = DiGraph([(0,1,-2), (1,0,1)])
sage: G.diameter(by_weight=True)
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
/home/vipul/sage/local/lib/python3.7/site-packages/sage/graphs/base/boost_graph.pyx in sage.graphs.base.boost_graph.diameter_lower_bound_2Dsweep (build/cythonized/sage/graphs/base/boost_graph.cpp:22068)()
   2012         sig_off()
   2013     if not result_1.distances.size():
-> 2014         raise ValueError("the graph contains a negative cycle")
   2015 
   2016     LB_1 = -sys.float_info.max

ValueError: the graph contains a negative cycle
Exception ignored in: 'sage.graphs.base.boost_graph.diameter_DiFUB'
Traceback (most recent call last):
  File "sage/graphs/base/boost_graph.pyx", line 2014, in sage.graphs.base.boost_graph.diameter_lower_bound_2Dsweep (build/cythonized/sage/graphs/base/boost_graph.cpp:22068)
ValueError: the graph contains a negative cycle
0.0

```

Is there anyway we can properly get an error and not printing 0.0 ?



---

archive/issue_comments_475502.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI don't understand why the 0.0 is printed. It should not be the case. I don't understand either why it is written that an exception is ignored in `DiFUB`. Which one ? the issue occurs in `2Dsweep`. Have you localized when is 0.0 returned ?",
    "created_at": "2020-07-10T07:14:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475502",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:27" align="right">comment:27</div>

I don't understand why the 0.0 is printed. It should not be the case. I don't understand either why it is written that an exception is ignored in `DiFUB`. Which one ? the issue occurs in `2Dsweep`. Have you localized when is 0.0 returned ?



---

archive/issue_comments_475503.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@dcoudert](#comment:27):\n>Have you localized when is 0.0 returned ?\n\nIt will occur only via `DiFUB` and this will occur only when there is an error raised in `2DSweep`.\n\nI am also unable to understand it properly since it is receiving error, instead of terminating right then, it is ignoring it and sending garbage value stored in LB(on my system it is 0.0) without executing remaining part of code.\n\nI am guessing if you run this example on your system you might encounter different value than 0.0(as it has previously happened in case of antipode).",
    "created_at": "2020-07-10T16:37:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475503",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@dcoudert](#comment:27):
>Have you localized when is 0.0 returned ?

It will occur only via `DiFUB` and this will occur only when there is an error raised in `2DSweep`.

I am also unable to understand it properly since it is receiving error, instead of terminating right then, it is ignoring it and sending garbage value stored in LB(on my system it is 0.0) without executing remaining part of code.

I am guessing if you run this example on your system you might encounter different value than 0.0(as it has previously happened in case of antipode).



---

archive/issue_comments_475504.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b6163b9d58dcd0bc917a34d858d4cfe38f4f9d1\"><code>9b6163b</code></a></td><td><code>trac #30039: fix error message and some compilation warnings</code></td></tr></table>\n",
    "created_at": "2020-07-11T13:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475504",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b6163b9d58dcd0bc917a34d858d4cfe38f4f9d1"><code>9b6163b</code></a></td><td><code>trac #30039: fix error message and some compilation warnings</code></td></tr></table>




---

archive/issue_comments_475505.json:
```json
{
    "body": "Changed commit from **[`d033760`](https://github.com/sagemath/sagetrac-mirror/commit/d033760a973be8fd73d49377c4a00f75ea6f40e5)** to **[`9b6163b`](https://github.com/sagemath/sagetrac-mirror/commit/9b6163b9d58dcd0bc917a34d858d4cfe38f4f9d1)**",
    "created_at": "2020-07-11T13:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475505",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d033760`](https://github.com/sagemath/sagetrac-mirror/commit/d033760a973be8fd73d49377c4a00f75ea6f40e5)** to **[`9b6163b`](https://github.com/sagemath/sagetrac-mirror/commit/9b6163b9d58dcd0bc917a34d858d4cfe38f4f9d1)**



---

archive/issue_comments_475506.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\ngot it ! the error was not correctly transmitted to caller method. So the solution was:\n\n```diff\n-                           str algorithm):\n+                           str algorithm) except? -1:\n```\nSee https://cython.readthedocs.io/en/latest/src/userguide/language_basics.html#error-return-values for more details. \n\nOn the way, I fixed some compilation warnings (got bored of them).",
    "created_at": "2020-07-11T13:20:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475506",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:30" align="right">comment:30</div>

got it ! the error was not correctly transmitted to caller method. So the solution was:

```diff
-                           str algorithm):
+                           str algorithm) except? -1:
```
See https://cython.readthedocs.io/en/latest/src/userguide/language_basics.html#error-return-values for more details. 

On the way, I fixed some compilation warnings (got bored of them).



---

archive/issue_comments_475507.json:
```json
{
    "body": "Reviewer: **David Coudert**",
    "created_at": "2020-07-11T13:21:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475507",
    "user": "https://github.com/dcoudert"
}
```

Reviewer: **David Coudert**



---

archive/issue_comments_475508.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/002b8c2ea12b30b05231c35fe6a39997f422d5a3\"><code>002b8c2</code></a></td><td><code>doc test added</code></td></tr></table>\n",
    "created_at": "2020-07-12T10:46:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475508",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/002b8c2ea12b30b05231c35fe6a39997f422d5a3"><code>002b8c2</code></a></td><td><code>doc test added</code></td></tr></table>




---

archive/issue_comments_475509.json:
```json
{
    "body": "Changed commit from **[`9b6163b`](https://github.com/sagemath/sagetrac-mirror/commit/9b6163b9d58dcd0bc917a34d858d4cfe38f4f9d1)** to **[`002b8c2`](https://github.com/sagemath/sagetrac-mirror/commit/002b8c2ea12b30b05231c35fe6a39997f422d5a3)**",
    "created_at": "2020-07-12T10:46:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475509",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9b6163b`](https://github.com/sagemath/sagetrac-mirror/commit/9b6163b9d58dcd0bc917a34d858d4cfe38f4f9d1)** to **[`002b8c2`](https://github.com/sagemath/sagetrac-mirror/commit/002b8c2ea12b30b05231c35fe6a39997f422d5a3)**



---

archive/issue_comments_475510.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@dcoudert](#comment:30):\n> got it ! the error was not correctly transmitted to caller method. So the solution was:\n> \n> ```diff\n> -                           str algorithm):\n> +                           str algorithm) except? -1:\n> ```\n> See https://cython.readthedocs.io/en/latest/src/userguide/language_basics.html#error-return-values for more details. \n\nOk.\n> \n> On the way, I fixed some compilation warnings (got bored of them).\n\nWell, that's some relief to eyes. \n\nI have added a doctest for `DiFUB` and I think there is nothing more to do.",
    "created_at": "2020-07-12T10:48:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475510",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@dcoudert](#comment:30):
> got it ! the error was not correctly transmitted to caller method. So the solution was:
> 
> ```diff
> -                           str algorithm):
> +                           str algorithm) except? -1:
> ```
> See https://cython.readthedocs.io/en/latest/src/userguide/language_basics.html#error-return-values for more details. 

Ok.
> 
> On the way, I fixed some compilation warnings (got bored of them).

Well, that's some relief to eyes. 

I have added a doctest for `DiFUB` and I think there is nothing more to do.



---

archive/issue_events_413628.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-07-12T12:58:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413628"
}
```



---

archive/issue_events_413629.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-07-12T12:58:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413629"
}
```



---

archive/issue_comments_475511.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nLGTM. Successfully tested over 9.2.beta5.",
    "created_at": "2020-07-12T12:58:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475511",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:34" align="right">comment:34</div>

LGTM. Successfully tested over 9.2.beta5.



---

archive/issue_events_413630.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-07-15T12:09:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413630"
}
```



---

archive/issue_events_413631.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-07-15T12:09:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413631"
}
```



---

archive/issue_comments_475512.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\na small edit is needed.",
    "created_at": "2020-07-15T12:09:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475512",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:35" align="right">comment:35</div>

a small edit is needed.



---

archive/issue_comments_475513.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6db6a55c45606f41d2f5abf997bc66875673f10\"><code>f6db6a5</code></a></td><td><code>trac #30039: use edges instead of edge_iterator</code></td></tr></table>\n",
    "created_at": "2020-07-15T12:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475513",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6db6a55c45606f41d2f5abf997bc66875673f10"><code>f6db6a5</code></a></td><td><code>trac #30039: use edges instead of edge_iterator</code></td></tr></table>




---

archive/issue_comments_475514.json:
```json
{
    "body": "Changed commit from **[`002b8c2`](https://github.com/sagemath/sagetrac-mirror/commit/002b8c2ea12b30b05231c35fe6a39997f422d5a3)** to **[`f6db6a5`](https://github.com/sagemath/sagetrac-mirror/commit/f6db6a55c45606f41d2f5abf997bc66875673f10)**",
    "created_at": "2020-07-15T12:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475514",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`002b8c2`](https://github.com/sagemath/sagetrac-mirror/commit/002b8c2ea12b30b05231c35fe6a39997f422d5a3)** to **[`f6db6a5`](https://github.com/sagemath/sagetrac-mirror/commit/f6db6a55c45606f41d2f5abf997bc66875673f10)**



---

archive/issue_events_413632.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-07-15T12:13:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413632"
}
```



---

archive/issue_events_413633.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-07-15T12:13:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413633"
}
```



---

archive/issue_comments_475515.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nsmall modification to use `.edges` instead of `edge_iterator` (see #30145).",
    "created_at": "2020-07-15T12:13:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475515",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:37" align="right">comment:37</div>

small modification to use `.edges` instead of `edge_iterator` (see #30145).



---

archive/issue_events_413634.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-15T22:59:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413634"
}
```



---

archive/issue_events_413635.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-15T22:59:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413635"
}
```



---

archive/issue_comments_475516.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nMerge conflict",
    "created_at": "2020-07-15T22:59:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475516",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:38" align="right">comment:38</div>

Merge conflict



---

archive/issue_comments_475517.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7bcd9db9dd80f8902a6bc938b34486a6801ac7c0\"><code>7bcd9db</code></a></td><td><code>merge conflict fixed</code></td></tr></table>\n",
    "created_at": "2020-07-27T16:15:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475517",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7bcd9db9dd80f8902a6bc938b34486a6801ac7c0"><code>7bcd9db</code></a></td><td><code>merge conflict fixed</code></td></tr></table>




---

archive/issue_comments_475518.json:
```json
{
    "body": "Changed commit from **[`f6db6a5`](https://github.com/sagemath/sagetrac-mirror/commit/f6db6a55c45606f41d2f5abf997bc66875673f10)** to **[`7bcd9db`](https://github.com/sagemath/sagetrac-mirror/commit/7bcd9db9dd80f8902a6bc938b34486a6801ac7c0)**",
    "created_at": "2020-07-27T16:15:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475518",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f6db6a5`](https://github.com/sagemath/sagetrac-mirror/commit/f6db6a55c45606f41d2f5abf997bc66875673f10)** to **[`7bcd9db`](https://github.com/sagemath/sagetrac-mirror/commit/7bcd9db9dd80f8902a6bc938b34486a6801ac7c0)**



---

archive/issue_comments_475519.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@sagetrac-git](#comment:39):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7bcd9db9dd80f8902a6bc938b34486a6801ac7c0\"><code>7bcd9db</code></a></td><td><code>merge conflict fixed</code></td></tr></table>\n\nSolved merge conflict in `boost_graph.pyx`.",
    "created_at": "2020-07-27T16:16:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475519",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@sagetrac-git](#comment:39):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7bcd9db9dd80f8902a6bc938b34486a6801ac7c0"><code>7bcd9db</code></a></td><td><code>merge conflict fixed</code></td></tr></table>

Solved merge conflict in `boost_graph.pyx`.



---

archive/issue_events_413636.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-07-27T16:16:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413636"
}
```



---

archive/issue_events_413637.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-07-27T16:16:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413637"
}
```



---

archive/issue_events_413638.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-07-27T21:03:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413638"
}
```



---

archive/issue_events_413639.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-07-27T21:03:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413639"
}
```



---

archive/issue_comments_475520.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nLGTM.",
    "created_at": "2020-07-27T21:03:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475520",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:41" align="right">comment:41</div>

LGTM.



---

archive/issue_events_413640.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-02T08:20:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413640"
}
```



---

archive/issue_events_413641.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "2e58bf7d39f814f23aa6e80bdc5d0e02ce51fceb",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-08-02T08:20:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30039#event-413641"
}
```



---

archive/issue_comments_475521.json:
```json
{
    "body": "Changed branch from **[public/graphs/30039_weighted_difub](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/30039_weighted_difub)** to **[`7bcd9db`](https://github.com/sagemath/sagetrac-mirror/commit/7bcd9db9dd80f8902a6bc938b34486a6801ac7c0)**",
    "created_at": "2020-08-02T08:20:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30039#issuecomment-475521",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/graphs/30039_weighted_difub](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/30039_weighted_difub)** to **[`7bcd9db`](https://github.com/sagemath/sagetrac-mirror/commit/7bcd9db9dd80f8902a6bc938b34486a6801ac7c0)**
