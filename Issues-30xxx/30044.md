# Issue 30044: tox.ini: Test on voidlinux

archive/issues_029807.json:
```json
{
    "body": "Prompted by installation trouble reported at\nhttps://groups.google.com/d/msg/sage-devel/kiEh8JgbWeQ/Oqe77sQTCAAJ\n\nwe add infrastructure to test on voidlinux installations via Docker\nby repeating the steps done for Slackware in #29354\n\nTo test:\n\n```\ntox -e docker-voidlinux-standard\n```\n\nReferences: \n- https://hub.docker.com/r/voidlinux/voidlinux\n- https://github.com/void-linux/xbps\n\n\n\nCC:  @dimpase @orlitzky @kliem @slel\n\nBranch/Commit: [d43730cdbe9bb09b1045ba16daad841f83419642](https://github.com/sagemath/sagetrac-mirror/commit/d43730cdbe9bb09b1045ba16daad841f83419642)\n\nReviewer: Jonathan Kliem\n\nAuthor: Nicol\u00f2 Piazzalunga, Matthias Koeppe\n\nDependencies: #30064\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30044\n\n",
    "closed_at": "2020-08-14T22:23:17Z",
    "created_at": "2020-07-02T04:15:53Z",
    "labels": [
        "component: porting",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "tox.ini: Test on voidlinux",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30044",
    "user": "https://github.com/mkoeppe"
}
```
Prompted by installation trouble reported at
https://groups.google.com/d/msg/sage-devel/kiEh8JgbWeQ/Oqe77sQTCAAJ

we add infrastructure to test on voidlinux installations via Docker
by repeating the steps done for Slackware in #29354

To test:

```
tox -e docker-voidlinux-standard
```

References: 
- https://hub.docker.com/r/voidlinux/voidlinux
- https://github.com/void-linux/xbps



CC:  @dimpase @orlitzky @kliem @slel

Branch/Commit: [d43730cdbe9bb09b1045ba16daad841f83419642](https://github.com/sagemath/sagetrac-mirror/commit/d43730cdbe9bb09b1045ba16daad841f83419642)

Reviewer: Jonathan Kliem

Author: Nicol√≤ Piazzalunga, Matthias Koeppe

Dependencies: #30064

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30044





---

archive/issue_comments_591145.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,12 @@\n+Prompted by installation trouble reported at\n https://groups.google.com/d/msg/sage-devel/kiEh8JgbWeQ/Oqe77sQTCAAJ\n \n-https://hub.docker.com/r/voidlinux/voidlinux\n-\n-https://github.com/void-linux/xbps\n+we add infrastructure to test on voidlinux installations via Docker\n+by repeating the steps done for Slackware in #29354\n \n \n+References: \n+- https://hub.docker.com/r/voidlinux/voidlinux\n+- https://github.com/void-linux/xbps\n+\n+\n``````\n",
    "created_at": "2020-07-03T13:27:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591145",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,12 @@
+Prompted by installation trouble reported at
 https://groups.google.com/d/msg/sage-devel/kiEh8JgbWeQ/Oqe77sQTCAAJ
 
-https://hub.docker.com/r/voidlinux/voidlinux
-
-https://github.com/void-linux/xbps
+we add infrastructure to test on voidlinux installations via Docker
+by repeating the steps done for Slackware in #29354
 
 
+References: 
+- https://hub.docker.com/r/voidlinux/voidlinux
+- https://github.com/void-linux/xbps
+
+
``````




---

archive/issue_comments_591146.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/tox_ini__test_on_voidlinux\"",
    "created_at": "2020-07-07T19:13:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591146",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/tox_ini__test_on_voidlinux"



---

archive/issue_comments_591147.json:
```json
{
    "body": "<a id='comment:3'></a>\nNew commits:\n|                                                                                                                                          |                                                                                                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------|\n|[a31b522](https://github.com/sagemath/sagetrac-mirror/commit/a31b522a8391e9eb93a900f4f97ce1b85a154437)|`build/bin/{sage-guess-package-system,sage-print-system-package-command,build/bin/write-dockerfile.sh}: Handle voidlinux (xbps).`|\n|[49bdc21](https://github.com/sagemath/sagetrac-mirror/commit/49bdc21c067cdcbc78995c0356aa6dd9090a6752)|`tox.ini: Add voidlinux`|\n|[e01c37d](https://github.com/sagemath/sagetrac-mirror/commit/e01c37dae7968358fbdd1e51c09ce77cd4a6f023)|`build/pkgs/void-bootstrap.txt: New`|\n|[0faf817](https://github.com/sagemath/sagetrac-mirror/commit/0faf817d3cff061ab08b46916f4ec654ede2ef80)|`build/bin/write-dockerfile.sh [voidlinux]: Fix typo`|",
    "created_at": "2020-07-07T19:14:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591147",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
New commits:
|                                                                                                                                          |                                                                                                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------|
|[a31b522](https://github.com/sagemath/sagetrac-mirror/commit/a31b522a8391e9eb93a900f4f97ce1b85a154437)|`build/bin/{sage-guess-package-system,sage-print-system-package-command,build/bin/write-dockerfile.sh}: Handle voidlinux (xbps).`|
|[49bdc21](https://github.com/sagemath/sagetrac-mirror/commit/49bdc21c067cdcbc78995c0356aa6dd9090a6752)|`tox.ini: Add voidlinux`|
|[e01c37d](https://github.com/sagemath/sagetrac-mirror/commit/e01c37dae7968358fbdd1e51c09ce77cd4a6f023)|`build/pkgs/void-bootstrap.txt: New`|
|[0faf817](https://github.com/sagemath/sagetrac-mirror/commit/0faf817d3cff061ab08b46916f4ec654ede2ef80)|`build/bin/write-dockerfile.sh [voidlinux]: Fix typo`|



---

archive/issue_comments_591148.json:
```json
{
    "body": "Changing commit from \"\" to \"0faf817d3cff061ab08b46916f4ec654ede2ef80\"",
    "created_at": "2020-07-07T19:14:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591148",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "0faf817d3cff061ab08b46916f4ec654ede2ef80"



---

archive/issue_comments_591149.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#30064\"",
    "created_at": "2020-07-07T19:14:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591149",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#30064"



---

archive/issue_comments_591150.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------|\n|[539c182](https://github.com/sagemath/sagetrac-mirror/commit/539c1828dd17c90e5baa63d814f2c84419146f90)|`build/make/install: Do not depend on src/bin/sage-version.sh`|\n|[761092c](https://github.com/sagemath/sagetrac-mirror/commit/761092cf85b86b7dc3e9ee873bd7adf96c5abf24)|`Merge branch 't/29987/build_make_install__do_not_depend_on_src_bin_sage_version_sh' into t/30064/fix_tox_docker_builds_broken_by__29884`|\n|[f2efa6a](https://github.com/sagemath/sagetrac-mirror/commit/f2efa6ae443d74920fa942699996d820d7faa4f5)|`src/doc/bootstrap: Create the directory src/doc/en/reference/repl if it does not exist`|\n|[b7bf43b](https://github.com/sagemath/sagetrac-mirror/commit/b7bf43b488ad8ed5e0808dc7d4942c0c32f7a8d9)|`build/bin/write-dockerfile.sh: ADD src/bin for bootstrapping, needed by src/doc/bootstrap after #29884`|\n|[bc5c2db](https://github.com/sagemath/sagetrac-mirror/commit/bc5c2dbd8e979b6780e13e1a246aefdc6fed8dfe)|`Merge branch 't/30064/fix_tox_docker_builds_broken_by__29884' into t/30044/tox_ini__test_on_voidlinux`|",
    "created_at": "2020-07-07T19:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591150",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------|
|[539c182](https://github.com/sagemath/sagetrac-mirror/commit/539c1828dd17c90e5baa63d814f2c84419146f90)|`build/make/install: Do not depend on src/bin/sage-version.sh`|
|[761092c](https://github.com/sagemath/sagetrac-mirror/commit/761092cf85b86b7dc3e9ee873bd7adf96c5abf24)|`Merge branch 't/29987/build_make_install__do_not_depend_on_src_bin_sage_version_sh' into t/30064/fix_tox_docker_builds_broken_by__29884`|
|[f2efa6a](https://github.com/sagemath/sagetrac-mirror/commit/f2efa6ae443d74920fa942699996d820d7faa4f5)|`src/doc/bootstrap: Create the directory src/doc/en/reference/repl if it does not exist`|
|[b7bf43b](https://github.com/sagemath/sagetrac-mirror/commit/b7bf43b488ad8ed5e0808dc7d4942c0c32f7a8d9)|`build/bin/write-dockerfile.sh: ADD src/bin for bootstrapping, needed by src/doc/bootstrap after #29884`|
|[bc5c2db](https://github.com/sagemath/sagetrac-mirror/commit/bc5c2dbd8e979b6780e13e1a246aefdc6fed8dfe)|`Merge branch 't/30064/fix_tox_docker_builds_broken_by__29884' into t/30044/tox_ini__test_on_voidlinux`|



---

archive/issue_comments_591151.json:
```json
{
    "body": "Changing commit from \"0faf817d3cff061ab08b46916f4ec654ede2ef80\" to \"bc5c2dbd8e979b6780e13e1a246aefdc6fed8dfe\"",
    "created_at": "2020-07-07T19:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591151",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0faf817d3cff061ab08b46916f4ec654ede2ef80" to "bc5c2dbd8e979b6780e13e1a246aefdc6fed8dfe"



---

archive/issue_comments_591152.json:
```json
{
    "body": "Changing commit from \"bc5c2dbd8e979b6780e13e1a246aefdc6fed8dfe\" to \"8043c9c4adc2d2848d0ef585f88a0d537fc13793\"",
    "created_at": "2020-07-08T13:51:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591152",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bc5c2dbd8e979b6780e13e1a246aefdc6fed8dfe" to "8043c9c4adc2d2848d0ef585f88a0d537fc13793"



---

archive/issue_comments_591153.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[8043c9c](https://github.com/sagemath/sagetrac-mirror/commit/8043c9c4adc2d2848d0ef585f88a0d537fc13793)|`build/pkgs/void-bootstrap.txt: Add gettext-devel`|",
    "created_at": "2020-07-08T13:51:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591153",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[8043c9c](https://github.com/sagemath/sagetrac-mirror/commit/8043c9c4adc2d2848d0ef585f88a0d537fc13793)|`build/pkgs/void-bootstrap.txt: Add gettext-devel`|



---

archive/issue_comments_591154.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|\n|[f2fe15b](https://github.com/sagemath/sagetrac-mirror/commit/f2fe15b984b97bcfcebd08da842d3c48c3e899f0)|`Merge tag '9.2.beta5' into t/30044/tox_ini__test_on_voidlinux`|\n|[83c240e](https://github.com/sagemath/sagetrac-mirror/commit/83c240e58cb5315be4349fbcafffb7f8cc8c034e)|`Add more voidlinux packages`|\n|[9f4a232](https://github.com/sagemath/sagetrac-mirror/commit/9f4a232aee35913b1134063171a64dc9914c0f95)|`Add voidlinux package for giac`|",
    "created_at": "2020-07-12T18:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591154",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|
|[f2fe15b](https://github.com/sagemath/sagetrac-mirror/commit/f2fe15b984b97bcfcebd08da842d3c48c3e899f0)|`Merge tag '9.2.beta5' into t/30044/tox_ini__test_on_voidlinux`|
|[83c240e](https://github.com/sagemath/sagetrac-mirror/commit/83c240e58cb5315be4349fbcafffb7f8cc8c034e)|`Add more voidlinux packages`|
|[9f4a232](https://github.com/sagemath/sagetrac-mirror/commit/9f4a232aee35913b1134063171a64dc9914c0f95)|`Add voidlinux package for giac`|



---

archive/issue_comments_591155.json:
```json
{
    "body": "Changing commit from \"8043c9c4adc2d2848d0ef585f88a0d537fc13793\" to \"9f4a232aee35913b1134063171a64dc9914c0f95\"",
    "created_at": "2020-07-12T18:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591155",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8043c9c4adc2d2848d0ef585f88a0d537fc13793" to "9f4a232aee35913b1134063171a64dc9914c0f95"



---

archive/issue_comments_591156.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[d43730c](https://github.com/sagemath/sagetrac-mirror/commit/d43730cdbe9bb09b1045ba16daad841f83419642)|`remove glib2 (typo?)`|",
    "created_at": "2020-07-22T17:16:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591156",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[d43730c](https://github.com/sagemath/sagetrac-mirror/commit/d43730cdbe9bb09b1045ba16daad841f83419642)|`remove glib2 (typo?)`|



---

archive/issue_comments_591157.json:
```json
{
    "body": "Changing commit from \"9f4a232aee35913b1134063171a64dc9914c0f95\" to \"d43730cdbe9bb09b1045ba16daad841f83419642\"",
    "created_at": "2020-07-22T17:16:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591157",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9f4a232aee35913b1134063171a64dc9914c0f95" to "d43730cdbe9bb09b1045ba16daad841f83419642"



---

archive/issue_comments_591158.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,11 @@\n we add infrastructure to test on voidlinux installations via Docker\n by repeating the steps done for Slackware in #29354\n \n+To test:\n+\n+```\n+tox -e docker-voidlinux-standard\n+```\n \n References: \n - https://hub.docker.com/r/voidlinux/voidlinux\n``````\n",
    "created_at": "2020-07-22T17:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591158",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,11 @@
 we add infrastructure to test on voidlinux installations via Docker
 by repeating the steps done for Slackware in #29354
 
+To test:
+
+```
+tox -e docker-voidlinux-standard
+```
 
 References: 
 - https://hub.docker.com/r/voidlinux/voidlinux
``````




---

archive/issue_comments_591159.json:
```json
{
    "body": "<a id='comment:9'></a>\nThis works well enough to reproduce at least some of the reported build errors. Needs review",
    "created_at": "2020-07-24T17:36:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591159",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
This works well enough to reproduce at least some of the reported build errors. Needs review



---

archive/issue_comments_591160.json:
```json
{
    "body": "Changing author from \"\" to \"Nicol\u00f2 Piazzalunga, Matthias Koeppe\"",
    "created_at": "2020-07-24T17:36:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591160",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Nicol√≤ Piazzalunga, Matthias Koeppe"



---

archive/issue_comments_591161.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-07-24T17:36:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591161",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_591162.json:
```json
{
    "body": "<a id='comment:11'></a>\nLet's get this in please",
    "created_at": "2020-08-10T23:36:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591162",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
Let's get this in please



---

archive/issue_comments_591163.json:
```json
{
    "body": "<a id='comment:12'></a>\nI'm running some tests to see whether voidlinux somehow works with github actions:\n\nhttps://github.com/kliem/sage/pull/22/checks",
    "created_at": "2020-08-11T04:55:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591163",
    "user": "https://github.com/kliem"
}
```

<a id='comment:12'></a>
I'm running some tests to see whether voidlinux somehow works with github actions:

https://github.com/kliem/sage/pull/22/checks



---

archive/issue_comments_591164.json:
```json
{
    "body": "<a id='comment:13'></a>\nIn principle this seems capable of reproducing problems. However, I'm getting errors in log file artifacts. Did I do something wrong? Is it a problem with github? Is it caused by this ticket?",
    "created_at": "2020-08-11T12:45:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591164",
    "user": "https://github.com/kliem"
}
```

<a id='comment:13'></a>
In principle this seems capable of reproducing problems. However, I'm getting errors in log file artifacts. Did I do something wrong? Is it a problem with github? Is it caused by this ticket?



---

archive/issue_comments_591165.json:
```json
{
    "body": "<a id='comment:14'></a>\n\n```diff\ndiff --git a/.github/workflows/tox.yml b/.github/workflows/tox.yml\nindex d6f46bd7b1..27f2f34dd4 100644\n--- a/.github/workflows/tox.yml\n+++ b/.github/workflows/tox.yml\n@@ -36,7 +36,7 @@ jobs:\n       fail-fast: false\n       max-parallel: 20\n       matrix:\n-        tox_system_factor: [ubuntu-trusty, ubuntu-xenial, ubuntu-bionic, ubuntu-eoan, ubuntu-focal, debian-jessie, debian-stretch, debian-buster, debian-bullseye, debian-sid, linuxmint-17, linuxmint-18, linuxmint-19, linuxmint-19.3, fedora-26, fedora-27, fedora-28, fedora-29, fedora-30, fedora-31, fedora-32, centos-7, centos-8, gentoo, archlinux-latest, slackware-14.2, conda-forge, ubuntu-bionic-i386, ubuntu-eoan-i386, debian-buster-i386, centos-7-i386]\n+        tox_system_factor: [debian-buster, voidlinux]\n         tox_packages_factor: [minimal, standard]\n     env:\n       TOX_ENV: docker-${{ matrix.tox_system_factor }}-${{ matrix.tox_packages_factor }}\n@@ -94,173 +94,3 @@ jobs:\n             done || echo \"(Ignoring errors)\"\n           fi\n         if: always()\n-\n-  local-macos:\n-\n-    runs-on: macos-latest\n-    strategy:\n-      fail-fast: false\n-      max-parallel: 4\n-      matrix:\n-        tox_system_factor: [homebrew-macos, homebrew-macos-python3_xcode, homebrew-macos-python3_xcode-nokegonly, homebrew-macos-python3_pythonorg, homebrew-macos-python3_xcode-gcc_spkg, conda-forge-macos]\n-        tox_packages_factor: [minimal, standard]\n-    env:\n-      TOX_ENV: local-${{ matrix.tox_system_factor }}-${{ matrix.tox_packages_factor }}\n-      LOGS_ARTIFACT_NAME: logs-commit-${{ github.sha }}-tox-local-${{ matrix.tox_system_factor }}-${{ matrix.tox_packages_factor }}\n-    steps:\n-      - uses: actions/checkout@v2\n-      - name: Install test prerequisites\n-        run: |\n-          brew install tox\n-      - name: Install python3 from python.org\n-        # As of 2020-03-30 (https://github.com/actions/virtual-environments/blob/master/images/macos/macos-10.15-Readme.md),\n-        # Python 3.7.7 is installed on GitHub Actions runners.  But we install our own copy from the python.org binary package.\n-        run: |\n-          curl -o python3.pkg https://www.python.org/ftp/python/3.7.7/python-3.7.7-macosx10.9.pkg\n-          sudo installer -verbose -pkg python3.pkg -target /\n-        if: contains(matrix.tox_system_factor, 'python3_pythonorg')\n-      - name: Build and test with tox\n-        # We use a high parallelization on purpose in order to catch possible parallelization bugs in the build scripts.\n-        # For doctesting, we use a lower parallelization to avoid timeouts.\n-        run: |\n-          MAKE=\"make -j12\" tox -e $TOX_ENV -- SAGE_NUM_THREADS=4 $TARGETS\n-      - name: Prepare logs artifact\n-        run: |\n-          mkdir -p \"artifacts/$LOGS_ARTIFACT_NAME\"; cp -r .tox/*/log \"artifacts/$LOGS_ARTIFACT_NAME\"\n-        if: always()\n-      - uses: actions/upload-artifact@v1\n-        with:\n-          path: artifacts\n-          name: ${{ env.LOGS_ARTIFACT_NAME }}\n-        if: always()\n-      - name: Print out logs for immediate inspection\n-        # and markup the output with GitHub Actions logging commands\n-        run: |\n-          .github/workflows/scan-logs.sh \"artifacts/$LOGS_ARTIFACT_NAME\"\n-        if: always()\n-\n-  local-ubuntu:\n-\n-    runs-on: ubuntu-latest\n-    strategy:\n-      fail-fast: false\n-      max-parallel: 1\n-      matrix:\n-        tox_system_factor: [conda-forge-ubuntu]\n-        tox_packages_factor: [minimal, standard]\n-    env:\n-      TOX_ENV: local-${{ matrix.tox_system_factor }}-${{ matrix.tox_packages_factor }}\n-      LOGS_ARTIFACT_NAME: logs-commit-${{ github.sha }}-tox-local-${{ matrix.tox_system_factor }}-${{ matrix.tox_packages_factor }}\n-    steps:\n-      - uses: actions/checkout@v2\n-      - name: Install test prerequisites\n-        run: |\n-          sudo DEBIAN_FRONTEND=noninteractive apt-get update\n-          sudo DEBIAN_FRONTEND=noninteractive apt-get install python-tox\n-      - name: Build and test with tox\n-        # We use a high parallelization on purpose in order to catch possible parallelization bugs in the build scripts.\n-        # For doctesting, we use a lower parallelization to avoid timeouts.\n-        run: |\n-          MAKE=\"make -j12\" tox -e $TOX_ENV -- SAGE_NUM_THREADS=4 $TARGETS\n-      - name: Prepare logs artifact\n-        run: |\n-          mkdir -p \"artifacts/$LOGS_ARTIFACT_NAME\"; cp -r .tox/*/log \"artifacts/$LOGS_ARTIFACT_NAME\"\n-        if: always()\n-      - uses: actions/upload-artifact@v1\n-        with:\n-          path: artifacts\n-          name: ${{ env.LOGS_ARTIFACT_NAME }}\n-        if: always()\n-      - name: Print out logs for immediate inspection\n-        # and markup the output with GitHub Actions logging commands\n-        run: |\n-          .github/workflows/scan-logs.sh \"artifacts/$LOGS_ARTIFACT_NAME\"\n-        if: always()\n-\n-  dist:\n-\n-    runs-on: ubuntu-latest\n-    steps:\n-      - uses: actions/checkout@v2\n-        with:\n-          fetch-depth: 500\n-      - name: fetch tags\n-        run: git fetch --depth=1 origin +refs/tags/*:refs/tags/*\n-      - name: Install bootstrap prerequisites\n-        run: |\n-          sudo DEBIAN_FRONTEND=noninteractive apt-get update\n-          sudo DEBIAN_FRONTEND=noninteractive apt-get install $(sed \"s/#.*//;\" build/pkgs/debian-bootstrap.txt)\n-      - name: Bootstrap with sage-update-version\n-        # We set SAGE_ROOT and SAGE_SRC by hand\n-        # because 'sage -sh' does not work with an unconfigured tree,\n-        # giving: Error: SAGE_SCRIPTS_DIR is set to a bad value\n-        run: |\n-          git config --global user.email \"nobody@example.com\"\n-          git config --global user.name \"Sage GitHub CI\"\n-          SAGE_ROOT=. SAGE_SRC=./src src/bin/sage-update-version $(git describe)\n-      - name: make dist\n-        run: |\n-          ./configure && make dist\n-      - uses: actions/upload-artifact@v2\n-        with:\n-          path: \"dist/*.tar.gz\"\n-          name: dist\n-\n-  local-macos-nohomebrew:\n-\n-    needs: [dist]\n-\n-    runs-on: macos-latest\n-    strategy:\n-      fail-fast: false\n-      max-parallel: 4\n-      matrix:\n-        tox_system_factor: [macos-nobootstrap, macos-nobootstrap-python3_pythonorg]\n-        tox_packages_factor: [minimal]\n-    env:\n-      TOX_ENV: local-${{ matrix.tox_system_factor }}-${{ matrix.tox_packages_factor }}\n-      LOGS_ARTIFACT_NAME: logs-commit-${{ github.sha }}-tox-local-${{ matrix.tox_system_factor }}-${{ matrix.tox_packages_factor }}\n-    steps:\n-      - uses: actions/checkout@v2\n-        if: \"!contains(matrix.tox_system_factor, 'nobootstrap')\"\n-      - uses: actions/download-artifact@v2\n-        with:\n-          path: .\n-          name: dist\n-        if: contains(matrix.tox_system_factor, 'nobootstrap')\n-      - name: Unpack sage dist\n-        run: |\n-          tar xf sage*.tar.gz --strip-components=1\n-        if: contains(matrix.tox_system_factor, 'nobootstrap')\n-      - name: Move homebrew away\n-        run: |\n-          (cd /usr/local && for a in bin etc include lib opt sbin share; do mv $a $a-moved; done)\n-      - name: Install test prerequisites\n-        run: |\n-          /usr/bin/python3 -m pip install --user tox\n-      - name: Install python3 from python.org\n-        # As of 2020-03-30 (https://github.com/actions/virtual-environments/blob/master/images/macos/macos-10.15-Readme.md),\n-        # Python 3.7.7 is installed on GitHub Actions runners.  But we install our own copy from the python.org binary package.\n-        run: |\n-          curl -o python3.pkg https://www.python.org/ftp/python/3.7.7/python-3.7.7-macosx10.9.pkg\n-          sudo installer -verbose -pkg python3.pkg -target /\n-        if: contains(matrix.tox_system_factor, 'python3_pythonorg')\n-      - name: Build and test with tox\n-        # We use a high parallelization on purpose in order to catch possible parallelization bugs in the build scripts.\n-        # For doctesting, we use a lower parallelization to avoid timeouts.\n-        run: |\n-          MAKE=\"make -j12\" tox -e $TOX_ENV -- SAGE_NUM_THREADS=4 $TARGETS\n-      - name: Prepare logs artifact\n-        run: |\n-          mkdir -p \"artifacts/$LOGS_ARTIFACT_NAME\"; cp -r .tox/*/log \"artifacts/$LOGS_ARTIFACT_NAME\"\n-        if: always()\n-      - uses: actions/upload-artifact@v1\n-        with:\n-          path: artifacts\n-          name: ${{ env.LOGS_ARTIFACT_NAME }}\n-        if: always()\n-      - name: Print out logs for immediate inspection\n-        # and markup the output with GitHub Actions logging commands\n-        run: |\n-          .github/workflows/scan-logs.sh \"artifacts/$LOGS_ARTIFACT_NAME\"\n-        if: always()\n```",
    "created_at": "2020-08-11T12:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591165",
    "user": "https://github.com/kliem"
}
```

<a id='comment:14'></a>

```diff
diff --git a/.github/workflows/tox.yml b/.github/workflows/tox.yml
index d6f46bd7b1..27f2f34dd4 100644
--- a/.github/workflows/tox.yml
+++ b/.github/workflows/tox.yml
@@ -36,7 +36,7 @@ jobs:
       fail-fast: false
       max-parallel: 20
       matrix:
-        tox_system_factor: [ubuntu-trusty, ubuntu-xenial, ubuntu-bionic, ubuntu-eoan, ubuntu-focal, debian-jessie, debian-stretch, debian-buster, debian-bullseye, debian-sid, linuxmint-17, linuxmint-18, linuxmint-19, linuxmint-19.3, fedora-26, fedora-27, fedora-28, fedora-29, fedora-30, fedora-31, fedora-32, centos-7, centos-8, gentoo, archlinux-latest, slackware-14.2, conda-forge, ubuntu-bionic-i386, ubuntu-eoan-i386, debian-buster-i386, centos-7-i386]
+        tox_system_factor: [debian-buster, voidlinux]
         tox_packages_factor: [minimal, standard]
     env:
       TOX_ENV: docker-${{ matrix.tox_system_factor }}-${{ matrix.tox_packages_factor }}
@@ -94,173 +94,3 @@ jobs:
             done || echo "(Ignoring errors)"
           fi
         if: always()
-
-  local-macos:
-
-    runs-on: macos-latest
-    strategy:
-      fail-fast: false
-      max-parallel: 4
-      matrix:
-        tox_system_factor: [homebrew-macos, homebrew-macos-python3_xcode, homebrew-macos-python3_xcode-nokegonly, homebrew-macos-python3_pythonorg, homebrew-macos-python3_xcode-gcc_spkg, conda-forge-macos]
-        tox_packages_factor: [minimal, standard]
-    env:
-      TOX_ENV: local-${{ matrix.tox_system_factor }}-${{ matrix.tox_packages_factor }}
-      LOGS_ARTIFACT_NAME: logs-commit-${{ github.sha }}-tox-local-${{ matrix.tox_system_factor }}-${{ matrix.tox_packages_factor }}
-    steps:
-      - uses: actions/checkout@v2
-      - name: Install test prerequisites
-        run: |
-          brew install tox
-      - name: Install python3 from python.org
-        # As of 2020-03-30 (https://github.com/actions/virtual-environments/blob/master/images/macos/macos-10.15-Readme.md),
-        # Python 3.7.7 is installed on GitHub Actions runners.  But we install our own copy from the python.org binary package.
-        run: |
-          curl -o python3.pkg https://www.python.org/ftp/python/3.7.7/python-3.7.7-macosx10.9.pkg
-          sudo installer -verbose -pkg python3.pkg -target /
-        if: contains(matrix.tox_system_factor, 'python3_pythonorg')
-      - name: Build and test with tox
-        # We use a high parallelization on purpose in order to catch possible parallelization bugs in the build scripts.
-        # For doctesting, we use a lower parallelization to avoid timeouts.
-        run: |
-          MAKE="make -j12" tox -e $TOX_ENV -- SAGE_NUM_THREADS=4 $TARGETS
-      - name: Prepare logs artifact
-        run: |
-          mkdir -p "artifacts/$LOGS_ARTIFACT_NAME"; cp -r .tox/*/log "artifacts/$LOGS_ARTIFACT_NAME"
-        if: always()
-      - uses: actions/upload-artifact@v1
-        with:
-          path: artifacts
-          name: ${{ env.LOGS_ARTIFACT_NAME }}
-        if: always()
-      - name: Print out logs for immediate inspection
-        # and markup the output with GitHub Actions logging commands
-        run: |
-          .github/workflows/scan-logs.sh "artifacts/$LOGS_ARTIFACT_NAME"
-        if: always()
-
-  local-ubuntu:
-
-    runs-on: ubuntu-latest
-    strategy:
-      fail-fast: false
-      max-parallel: 1
-      matrix:
-        tox_system_factor: [conda-forge-ubuntu]
-        tox_packages_factor: [minimal, standard]
-    env:
-      TOX_ENV: local-${{ matrix.tox_system_factor }}-${{ matrix.tox_packages_factor }}
-      LOGS_ARTIFACT_NAME: logs-commit-${{ github.sha }}-tox-local-${{ matrix.tox_system_factor }}-${{ matrix.tox_packages_factor }}
-    steps:
-      - uses: actions/checkout@v2
-      - name: Install test prerequisites
-        run: |
-          sudo DEBIAN_FRONTEND=noninteractive apt-get update
-          sudo DEBIAN_FRONTEND=noninteractive apt-get install python-tox
-      - name: Build and test with tox
-        # We use a high parallelization on purpose in order to catch possible parallelization bugs in the build scripts.
-        # For doctesting, we use a lower parallelization to avoid timeouts.
-        run: |
-          MAKE="make -j12" tox -e $TOX_ENV -- SAGE_NUM_THREADS=4 $TARGETS
-      - name: Prepare logs artifact
-        run: |
-          mkdir -p "artifacts/$LOGS_ARTIFACT_NAME"; cp -r .tox/*/log "artifacts/$LOGS_ARTIFACT_NAME"
-        if: always()
-      - uses: actions/upload-artifact@v1
-        with:
-          path: artifacts
-          name: ${{ env.LOGS_ARTIFACT_NAME }}
-        if: always()
-      - name: Print out logs for immediate inspection
-        # and markup the output with GitHub Actions logging commands
-        run: |
-          .github/workflows/scan-logs.sh "artifacts/$LOGS_ARTIFACT_NAME"
-        if: always()
-
-  dist:
-
-    runs-on: ubuntu-latest
-    steps:
-      - uses: actions/checkout@v2
-        with:
-          fetch-depth: 500
-      - name: fetch tags
-        run: git fetch --depth=1 origin +refs/tags/*:refs/tags/*
-      - name: Install bootstrap prerequisites
-        run: |
-          sudo DEBIAN_FRONTEND=noninteractive apt-get update
-          sudo DEBIAN_FRONTEND=noninteractive apt-get install $(sed "s/#.*//;" build/pkgs/debian-bootstrap.txt)
-      - name: Bootstrap with sage-update-version
-        # We set SAGE_ROOT and SAGE_SRC by hand
-        # because 'sage -sh' does not work with an unconfigured tree,
-        # giving: Error: SAGE_SCRIPTS_DIR is set to a bad value
-        run: |
-          git config --global user.email "nobody@example.com"
-          git config --global user.name "Sage GitHub CI"
-          SAGE_ROOT=. SAGE_SRC=./src src/bin/sage-update-version $(git describe)
-      - name: make dist
-        run: |
-          ./configure && make dist
-      - uses: actions/upload-artifact@v2
-        with:
-          path: "dist/*.tar.gz"
-          name: dist
-
-  local-macos-nohomebrew:
-
-    needs: [dist]
-
-    runs-on: macos-latest
-    strategy:
-      fail-fast: false
-      max-parallel: 4
-      matrix:
-        tox_system_factor: [macos-nobootstrap, macos-nobootstrap-python3_pythonorg]
-        tox_packages_factor: [minimal]
-    env:
-      TOX_ENV: local-${{ matrix.tox_system_factor }}-${{ matrix.tox_packages_factor }}
-      LOGS_ARTIFACT_NAME: logs-commit-${{ github.sha }}-tox-local-${{ matrix.tox_system_factor }}-${{ matrix.tox_packages_factor }}
-    steps:
-      - uses: actions/checkout@v2
-        if: "!contains(matrix.tox_system_factor, 'nobootstrap')"
-      - uses: actions/download-artifact@v2
-        with:
-          path: .
-          name: dist
-        if: contains(matrix.tox_system_factor, 'nobootstrap')
-      - name: Unpack sage dist
-        run: |
-          tar xf sage*.tar.gz --strip-components=1
-        if: contains(matrix.tox_system_factor, 'nobootstrap')
-      - name: Move homebrew away
-        run: |
-          (cd /usr/local && for a in bin etc include lib opt sbin share; do mv $a $a-moved; done)
-      - name: Install test prerequisites
-        run: |
-          /usr/bin/python3 -m pip install --user tox
-      - name: Install python3 from python.org
-        # As of 2020-03-30 (https://github.com/actions/virtual-environments/blob/master/images/macos/macos-10.15-Readme.md),
-        # Python 3.7.7 is installed on GitHub Actions runners.  But we install our own copy from the python.org binary package.
-        run: |
-          curl -o python3.pkg https://www.python.org/ftp/python/3.7.7/python-3.7.7-macosx10.9.pkg
-          sudo installer -verbose -pkg python3.pkg -target /
-        if: contains(matrix.tox_system_factor, 'python3_pythonorg')
-      - name: Build and test with tox
-        # We use a high parallelization on purpose in order to catch possible parallelization bugs in the build scripts.
-        # For doctesting, we use a lower parallelization to avoid timeouts.
-        run: |
-          MAKE="make -j12" tox -e $TOX_ENV -- SAGE_NUM_THREADS=4 $TARGETS
-      - name: Prepare logs artifact
-        run: |
-          mkdir -p "artifacts/$LOGS_ARTIFACT_NAME"; cp -r .tox/*/log "artifacts/$LOGS_ARTIFACT_NAME"
-        if: always()
-      - uses: actions/upload-artifact@v1
-        with:
-          path: artifacts
-          name: ${{ env.LOGS_ARTIFACT_NAME }}
-        if: always()
-      - name: Print out logs for immediate inspection
-        # and markup the output with GitHub Actions logging commands
-        run: |
-          .github/workflows/scan-logs.sh "artifacts/$LOGS_ARTIFACT_NAME"
-        if: always()
```



---

archive/issue_comments_591166.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [gh-kliem](#comment%3A13):\n> In principle this seems capable of reproducing problems. However, I'm getting errors in log file artifacts. Did I do something wrong? Is it a problem with github? Is it caused by this ticket?\n\nIt's a problem with github. I have had a lot of trouble with it in the past weeks.",
    "created_at": "2020-08-11T14:22:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591166",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
Replying to [gh-kliem](#comment%3A13):
> In principle this seems capable of reproducing problems. However, I'm getting errors in log file artifacts. Did I do something wrong? Is it a problem with github? Is it caused by this ticket?

It's a problem with github. I have had a lot of trouble with it in the past weeks.



---

archive/issue_comments_591167.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jonathan Kliem\"",
    "created_at": "2020-08-11T14:30:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591167",
    "user": "https://github.com/kliem"
}
```

Changing reviewer from "" to "Jonathan Kliem"



---

archive/issue_comments_591168.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-11T14:30:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591168",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_591169.json:
```json
{
    "body": "<a id='comment:16'></a>\nLGTM.",
    "created_at": "2020-08-11T14:30:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591169",
    "user": "https://github.com/kliem"
}
```

<a id='comment:16'></a>
LGTM.



---

archive/issue_comments_591170.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-08-14T22:23:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591170",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_087142.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-14T22:23:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30044#event-87142"
}
```



---

archive/issue_comments_591171.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/tox_ini__test_on_voidlinux\" to \"d43730cdbe9bb09b1045ba16daad841f83419642\"",
    "created_at": "2020-08-14T22:23:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30044",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30044#issuecomment-591171",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/tox_ini__test_on_voidlinux" to "d43730cdbe9bb09b1045ba16daad841f83419642"
