# Issue 30256: Stein-Watkins database iterator not working (9.1)

archive/issues_030019.json:
```json
{
    "assignees": [],
    "body": "There appears to be an issue with the iterator for the Stein-Watkins database in Sage 9.1 the second time I use next.  See I/O below attempting to follow example from documentation:\n\n```\nsage: version()\n'SageMath version 9.1, Release Date: 2020-05-20'\nsage: d = SteinWatkinsAllData(0)\nsage: C = next(d)\nsage: C\nStein-Watkins isogeny class of conductor 11\nsage: next(d)\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-101-9b2daf1403f5> in <module>()\n----> 1 next(d)\n\n/Applications/SageMath/local/lib/python3.7/site-packages/sage/databases/stein_watkins.py in __next__(self)\n    240 \n    241     def __next__(self):\n--> 242         return next(self._iter)\n    243 \n    244     next = __next__\n\n/Applications/SageMath/local/lib/python3.7/site-packages/sage/databases/stein_watkins.py in __iter__(self)\n    226                     yield C\n    227                 x = L.split()\n--> 228                 N = int(x[0])\n    229                 C = SteinWatkinsIsogenyClass(N)\n    230                 C.rank = int(x[2])\n\nValueError: invalid literal for int() with base 10: b'[0,-1,1,0,0]'\n```\n\nIf it matters, I am running this on macOS 10.15.5 using a prebuilt binary. \n\nCC:  @alexjbest\n\nKeywords: **Stein-Watkins database**\n\nReviewer: **Markus Wageringel**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30256_\n\n",
    "closed_at": "2020-08-14T13:01:20Z",
    "created_at": "2020-07-30T18:01:53Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/duplicate"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Stein-Watkins database iterator not working (9.1)",
    "type": "issue",
    "updated_at": "2020-08-14T13:01:20Z",
    "url": "https://github.com/sagemath/sage/issues/30256",
    "user": "https://github.com/sagetrac-kimball"
}
```
There appears to be an issue with the iterator for the Stein-Watkins database in Sage 9.1 the second time I use next.  See I/O below attempting to follow example from documentation:

```
sage: version()
'SageMath version 9.1, Release Date: 2020-05-20'
sage: d = SteinWatkinsAllData(0)
sage: C = next(d)
sage: C
Stein-Watkins isogeny class of conductor 11
sage: next(d)
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-101-9b2daf1403f5> in <module>()
----> 1 next(d)

/Applications/SageMath/local/lib/python3.7/site-packages/sage/databases/stein_watkins.py in __next__(self)
    240 
    241     def __next__(self):
--> 242         return next(self._iter)
    243 
    244     next = __next__

/Applications/SageMath/local/lib/python3.7/site-packages/sage/databases/stein_watkins.py in __iter__(self)
    226                     yield C
    227                 x = L.split()
--> 228                 N = int(x[0])
    229                 C = SteinWatkinsIsogenyClass(N)
    230                 C.rank = int(x[2])

ValueError: invalid literal for int() with base 10: b'[0,-1,1,0,0]'
```

If it matters, I am running this on macOS 10.15.5 using a prebuilt binary. 

CC:  @alexjbest

Keywords: **Stein-Watkins database**

Reviewer: **Markus Wageringel**

_Issue created by migration from https://trac.sagemath.org/ticket/30256_





---

archive/issue_events_398537.json:
```json
{
    "actor": "https://github.com/sagetrac-kimball",
    "created_at": "2020-07-30T18:01:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30256",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30256#event-398537"
}
```



---

archive/issue_events_398538.json:
```json
{
    "actor": "https://github.com/sagetrac-kimball",
    "created_at": "2020-07-30T18:01:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30256",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30256#event-398538"
}
```



---

archive/issue_events_398539.json:
```json
{
    "actor": "https://github.com/sagetrac-kimball",
    "created_at": "2020-07-30T18:01:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30256",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30256#event-398539"
}
```



---

archive/issue_events_398540.json:
```json
{
    "actor": "https://github.com/sagetrac-kimball",
    "created_at": "2020-07-30T18:01:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30256",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30256#event-398540"
}
```



---

archive/issue_comments_482894.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\ndup of #28816",
    "created_at": "2020-07-30T18:50:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30256",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30256#issuecomment-482894",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:1" align="right">Comment 1</div>

dup of #28816



---

archive/issue_events_398541.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-10T03:55:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30256",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30256#event-398541"
}
```



---

archive/issue_events_398542.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-10T03:55:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30256",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30256#event-398542"
}
```



---

archive/issue_events_398543.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-10T03:55:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30256",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30256#event-398543"
}
```



---

archive/issue_events_398544.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-10T03:55:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30256",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30256#event-398544"
}
```



---

archive/issue_comments_482895.json:
```json
{
    "body": "Reviewer: **Markus Wageringel**",
    "created_at": "2020-08-13T18:23:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30256",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30256#issuecomment-482895",
    "user": "https://github.com/mwageringel"
}
```

Reviewer: **Markus Wageringel**



---

archive/issue_events_398545.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2020-08-13T18:23:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30256",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30256#event-398545"
}
```



---

archive/issue_events_398546.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2020-08-13T18:23:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30256",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30256#event-398546"
}
```



---

archive/issue_events_398547.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-08-14T13:01:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30256",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30256#event-398547"
}
```



---

archive/issue_events_398548.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-08-14T13:01:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30256",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30256#event-398548"
}
```



---

archive/issue_events_398549.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-08-14T13:01:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30256",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30256#event-398549"
}
```
