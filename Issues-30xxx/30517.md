# Issue 30517: MemoryError in doctesting combinat/designs/gen_quadrangles_with_spread.pyx

archive/issues_030280.json:
```json
{
    "assignees": [],
    "body": "There are numerous `MemoryError` instances in doctesting `gen_quadrangles_with_spread.pyx` with a final failure\n\n```\n----------------------------------------------------------------------\nsage -t --long --warn-long 127.5 --random-seed=0 src/sage/combinat/designs/gen_quadrangles_with_spread.pyx  # Bad exit: 1\n----------------------------------------------------------------------\nTotal time for all tests: 108.3 seconds\n    cpu time: 0.0 seconds\n    cumulative wall time: 0.0 seconds\n```\n\nSee ticket #30223 for background.\n\nCC:  @dimpase @Ivo-Maffei\n\nKeywords: **generalised_quadrangle**\n\nBranch: **[c40efe9](https://github.com/sagemath/sagetrac-mirror/commit/c40efe9f4b94adf9dffd778bbc68fdac997929e1)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Volker Braun, Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **combinatorial designs**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30517_\n\n",
    "closed_at": "2021-02-07T19:40:23Z",
    "created_at": "2020-09-06T15:38:00Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorial%20designs",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "MemoryError in doctesting combinat/designs/gen_quadrangles_with_spread.pyx",
    "type": "issue",
    "updated_at": "2021-05-09T23:12:05Z",
    "url": "https://github.com/sagemath/sage/issues/30517",
    "user": "https://github.com/strogdon"
}
```
There are numerous `MemoryError` instances in doctesting `gen_quadrangles_with_spread.pyx` with a final failure

```
----------------------------------------------------------------------
sage -t --long --warn-long 127.5 --random-seed=0 src/sage/combinat/designs/gen_quadrangles_with_spread.pyx  # Bad exit: 1
----------------------------------------------------------------------
Total time for all tests: 108.3 seconds
    cpu time: 0.0 seconds
    cumulative wall time: 0.0 seconds
```

See ticket #30223 for background.

CC:  @dimpase @Ivo-Maffei

Keywords: **generalised_quadrangle**

Branch: **[c40efe9](https://github.com/sagemath/sagetrac-mirror/commit/c40efe9f4b94adf9dffd778bbc68fdac997929e1)**

Reviewer: **Dima Pasechnik**

Author: **Volker Braun, Frédéric Chapoton**

Component: **combinatorial designs**

_Issue created by migration from https://trac.sagemath.org/ticket/30517_





---

archive/issue_events_420678.json:
```json
{
    "actor": "https://github.com/strogdon",
    "created_at": "2020-09-06T15:38:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30517#event-420678"
}
```



---

archive/issue_events_420679.json:
```json
{
    "actor": "https://github.com/strogdon",
    "created_at": "2020-09-06T15:38:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorial%20designs",
    "label_color": "0000ff",
    "label_name": "c: combinatorial designs",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30517#event-420679"
}
```



---

archive/issue_events_420680.json:
```json
{
    "actor": "https://github.com/strogdon",
    "created_at": "2020-09-06T15:38:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30517#event-420680"
}
```



---

archive/issue_events_420681.json:
```json
{
    "actor": "https://github.com/strogdon",
    "created_at": "2020-09-06T15:38:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30517#event-420681"
}
```



---

archive/issue_comments_486462.json:
```json
{
    "body": "Attachment: **[gen_quadrangles_with_spread.pyx_test.log](https://github.com/sagemath/sage/files/ticket30517/gen_quadrangles_with_spread.pyx_test.log)**",
    "created_at": "2020-09-06T15:40:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486462",
    "user": "https://github.com/strogdon"
}
```

Attachment: **[gen_quadrangles_with_spread.pyx_test.log](https://github.com/sagemath/sage/files/ticket30517/gen_quadrangles_with_spread.pyx_test.log)**



---

archive/issue_comments_486463.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nlog of failed doctest",
    "created_at": "2020-09-06T15:40:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486463",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:1" align="right">comment:1</div>

log of failed doctest



---

archive/issue_comments_486464.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,3 +8,5 @@\n     cpu time: 0.0 seconds\n     cumulative wall time: 0.0 seconds\n ```\n+\n+See ticket #30223 for background.\n``````\n",
    "created_at": "2020-09-06T15:46:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486464",
    "user": "https://github.com/strogdon"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,3 +8,5 @@
     cpu time: 0.0 seconds
     cumulative wall time: 0.0 seconds
 ```
+
+See ticket #30223 for background.
``````




---

archive/issue_comments_486465.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI ran every command in `gen_quadrangles_with_spread.pyx` from the sage prompt without a problem. I'm wondering if there is some weird interaction with the doctesting framework - like memory not being cleared?",
    "created_at": "2020-09-06T17:18:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486465",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:3" align="right">comment:3</div>

I ran every command in `gen_quadrangles_with_spread.pyx` from the sage prompt without a problem. I'm wondering if there is some weird interaction with the doctesting framework - like memory not being cleared?



---

archive/issue_comments_486466.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThe above [test.log](https://github.com/sagemath/sage/files/ticket30517/gen_quadrangles_with_spread.pyx_test.log) was with `9.2.beta11` which uses `python3.7`. `9.2.beta12` uses `python3.8` and the failure is more catastrophic. I will attach the full doctest with stack and cython backtraces. The doctest consumes about 2 GB of RAM before quitting. I have about 8 GB of total RAM. I do not have debugging symbols compiled in libraries. Doing that would require a significant effort.",
    "created_at": "2020-09-07T06:19:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486466",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:4" align="right">comment:4</div>

The above [test.log](https://github.com/sagemath/sage/files/ticket30517/gen_quadrangles_with_spread.pyx_test.log) was with `9.2.beta11` which uses `python3.7`. `9.2.beta12` uses `python3.8` and the failure is more catastrophic. I will attach the full doctest with stack and cython backtraces. The doctest consumes about 2 GB of RAM before quitting. I have about 8 GB of total RAM. I do not have debugging symbols compiled in libraries. Doing that would require a significant effort.



---

archive/issue_comments_486467.json:
```json
{
    "body": "full doctest using 9.2.beta12 with stack and cython backtraces",
    "created_at": "2020-09-07T06:26:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486467",
    "user": "https://github.com/strogdon"
}
```

full doctest using 9.2.beta12 with stack and cython backtraces



---

archive/issue_comments_486468.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAttachment: **[gen_quadrangles_with_spread.pyx-py3.8_test.log.bz2.gz](https://github.com/sagemath/sage/files/ticket30517/gen_quadrangles_with_spread.pyx-py3.8_test.log.bz2.gz)**",
    "created_at": "2020-09-07T06:32:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486468",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:5" align="right">comment:5</div>

Attachment: **[gen_quadrangles_with_spread.pyx-py3.8_test.log.bz2.gz](https://github.com/sagemath/sage/files/ticket30517/gen_quadrangles_with_spread.pyx-py3.8_test.log.bz2.gz)**



---

archive/issue_comments_486469.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nWas this with gcc 9 or 10?",
    "created_at": "2020-09-07T20:46:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486469",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:6" align="right">comment:6</div>

Was this with gcc 9 or 10?



---

archive/issue_comments_486470.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nWith these changes\n\n```diff\ndiff --git a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx\nindex 753d935e86..a8c1be9f09 100644\n--- a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx\n+++ b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx\n@@ -198,10 +198,6 @@ def dual_GQ_ovoid(GQ, O):\n         sage: t[0].is_generalized_quadrangle(parameters=True)\n         (9, 3)\n         sage: t = dual_GQ_ovoid(*t)\n-        sage: t[0].is_generalized_quadrangle(parameters=True)\n-        (3, 9)\n-        sage: all([x in t[0] for x in t[1]])\n-        True\n \n \n     TESTS::\n@@ -271,8 +267,6 @@ def generalised_quadrangle_hermitian_with_ovoid(const int q):\n               is_GQ_with_spread, dual_GQ_ovoid\n         sage: t = designs.generalised_quadrangle_hermitian_with_ovoid(3)\n         sage: t = dual_GQ_ovoid(*t)\n-        sage: is_GQ_with_spread(*t, s=3, t=9)\n-        True\n```\n\nI get no `MemoryError` and the doctest passes.",
    "created_at": "2020-09-07T20:47:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486470",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:7" align="right">comment:7</div>

With these changes

```diff
diff --git a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx
index 753d935e86..a8c1be9f09 100644
--- a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx
+++ b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx
@@ -198,10 +198,6 @@ def dual_GQ_ovoid(GQ, O):
         sage: t[0].is_generalized_quadrangle(parameters=True)
         (9, 3)
         sage: t = dual_GQ_ovoid(*t)
-        sage: t[0].is_generalized_quadrangle(parameters=True)
-        (3, 9)
-        sage: all([x in t[0] for x in t[1]])
-        True
 
 
     TESTS::
@@ -271,8 +267,6 @@ def generalised_quadrangle_hermitian_with_ovoid(const int q):
               is_GQ_with_spread, dual_GQ_ovoid
         sage: t = designs.generalised_quadrangle_hermitian_with_ovoid(3)
         sage: t = dual_GQ_ovoid(*t)
-        sage: is_GQ_with_spread(*t, s=3, t=9)
-        True
```

I get no `MemoryError` and the doctest passes.



---

archive/issue_comments_486471.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@kiwifb](#comment:6):\n> Was this with gcc 9 or 10?\n\nThis was with gcc 9. But I get the same result with gcc 10.",
    "created_at": "2020-09-07T20:48:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486471",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@kiwifb](#comment:6):
> Was this with gcc 9 or 10?

This was with gcc 9. But I get the same result with gcc 10.



---

archive/issue_comments_486472.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@strogdon](#comment:7):\n> With these changes\n> \n> ```diff\n> diff --git a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx\n> index 753d935e86..a8c1be9f09 100644\n> --- a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx\n> +++ b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx\n> @@ -198,10 +198,6 @@ def dual_GQ_ovoid(GQ, O):\n>          sage: t[0].is_generalized_quadrangle(parameters=True)\n>          (9, 3)\n>          sage: t = dual_GQ_ovoid(*t)\n> -        sage: t[0].is_generalized_quadrangle(parameters=True)\n> -        (3, 9)\n> -        sage: all([x in t[0] for x in t[1]])\n> -        True\n>  \n>  \n>      TESTS::\n> @@ -271,8 +267,6 @@ def generalised_quadrangle_hermitian_with_ovoid(const int q):\n>                is_GQ_with_spread, dual_GQ_ovoid\n>          sage: t = designs.generalised_quadrangle_hermitian_with_ovoid(3)\n>          sage: t = dual_GQ_ovoid(*t)\n> -        sage: is_GQ_with_spread(*t, s=3, t=9)\n> -        True\n> ```\n> \n> I get no `MemoryError` and the doctest passes.\n\nIn the first part of the diff, you are removing two tests. I am assuming that means that they would fail individually without the other one being present. Is it the case?\n\nThe fact that you could run all the command individually without problem means the environment has to be \"primed\". There is probably a memory leak somewhere that leads to that particular outcome. Finding the leak may not be obvious.",
    "created_at": "2020-09-07T20:55:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486472",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@strogdon](#comment:7):
> With these changes
> 
> ```diff
> diff --git a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx
> index 753d935e86..a8c1be9f09 100644
> --- a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx
> +++ b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx
> @@ -198,10 +198,6 @@ def dual_GQ_ovoid(GQ, O):
>          sage: t[0].is_generalized_quadrangle(parameters=True)
>          (9, 3)
>          sage: t = dual_GQ_ovoid(*t)
> -        sage: t[0].is_generalized_quadrangle(parameters=True)
> -        (3, 9)
> -        sage: all([x in t[0] for x in t[1]])
> -        True
>  
>  
>      TESTS::
> @@ -271,8 +267,6 @@ def generalised_quadrangle_hermitian_with_ovoid(const int q):
>                is_GQ_with_spread, dual_GQ_ovoid
>          sage: t = designs.generalised_quadrangle_hermitian_with_ovoid(3)
>          sage: t = dual_GQ_ovoid(*t)
> -        sage: is_GQ_with_spread(*t, s=3, t=9)
> -        True
> ```
> 
> I get no `MemoryError` and the doctest passes.

In the first part of the diff, you are removing two tests. I am assuming that means that they would fail individually without the other one being present. Is it the case?

The fact that you could run all the command individually without problem means the environment has to be "primed". There is probably a memory leak somewhere that leads to that particular outcome. Finding the leak may not be obvious.



---

archive/issue_comments_486473.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@kiwifb](#comment:9):\n> Replying to [@strogdon](#comment:7):\n> > With these changes\n> > \n> > ```diff\n> > diff --git a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx\n> > index 753d935e86..a8c1be9f09 100644\n> > --- a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx\n> > +++ b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx\n> > @@ -198,10 +198,6 @@ def dual_GQ_ovoid(GQ, O):\n> >          sage: t[0].is_generalized_quadrangle(parameters=True)\n> >          (9, 3)\n> >          sage: t = dual_GQ_ovoid(*t)\n> > -        sage: t[0].is_generalized_quadrangle(parameters=True)\n> > -        (3, 9)\n> > -        sage: all([x in t[0] for x in t[1]])\n> > -        True\n> >  \n> >  \n> >      TESTS::\n> > @@ -271,8 +267,6 @@ def generalised_quadrangle_hermitian_with_ovoid(const int q):\n> >                is_GQ_with_spread, dual_GQ_ovoid\n> >          sage: t = designs.generalised_quadrangle_hermitian_with_ovoid(3)\n> >          sage: t = dual_GQ_ovoid(*t)\n> > -        sage: is_GQ_with_spread(*t, s=3, t=9)\n> > -        True\n> > ```\n> > \n> > I get no `MemoryError` and the doctest passes.\n\n> \n> In the first part of the diff, you are removing two tests. I am assuming that means that they would fail individually without the other one being present. Is it the case?\n> \n> The fact that you could run all the command individually without problem means the environment has to be \"primed\". There is probably a memory leak somewhere that leads to that particular outcome. Finding the leak may not be obvious.\n\nI don't know if removing just the first test in the first part of the diff would be sufficient to fix things. I can try just removing the first test. It appeared to me that perhaps `t = dual_GQ_ovoid(*t)` was tainted so I removed the second test also. This may be incorrect.\n\nBut I do think you are correct in that there is a possible memory leak.",
    "created_at": "2020-09-07T21:03:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486473",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@kiwifb](#comment:9):
> Replying to [@strogdon](#comment:7):
> > With these changes
> > 
> > ```diff
> > diff --git a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx
> > index 753d935e86..a8c1be9f09 100644
> > --- a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx
> > +++ b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx
> > @@ -198,10 +198,6 @@ def dual_GQ_ovoid(GQ, O):
> >          sage: t[0].is_generalized_quadrangle(parameters=True)
> >          (9, 3)
> >          sage: t = dual_GQ_ovoid(*t)
> > -        sage: t[0].is_generalized_quadrangle(parameters=True)
> > -        (3, 9)
> > -        sage: all([x in t[0] for x in t[1]])
> > -        True
> >  
> >  
> >      TESTS::
> > @@ -271,8 +267,6 @@ def generalised_quadrangle_hermitian_with_ovoid(const int q):
> >                is_GQ_with_spread, dual_GQ_ovoid
> >          sage: t = designs.generalised_quadrangle_hermitian_with_ovoid(3)
> >          sage: t = dual_GQ_ovoid(*t)
> > -        sage: is_GQ_with_spread(*t, s=3, t=9)
> > -        True
> > ```
> > 
> > I get no `MemoryError` and the doctest passes.

> 
> In the first part of the diff, you are removing two tests. I am assuming that means that they would fail individually without the other one being present. Is it the case?
> 
> The fact that you could run all the command individually without problem means the environment has to be "primed". There is probably a memory leak somewhere that leads to that particular outcome. Finding the leak may not be obvious.

I don't know if removing just the first test in the first part of the diff would be sufficient to fix things. I can try just removing the first test. It appeared to me that perhaps `t = dual_GQ_ovoid(*t)` was tainted so I removed the second test also. This may be incorrect.

But I do think you are correct in that there is a possible memory leak.



---

archive/issue_comments_486474.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI've cc'd the author, Ivo.",
    "created_at": "2020-09-07T21:09:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486474",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

I've cc'd the author, Ivo.



---

archive/issue_comments_486475.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThis also works\n\n```diff\ndiff --git a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx\nindex 753d935e86..23ec4b3a84 100644\n--- a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx\n+++ b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx\n@@ -198,8 +198,6 @@ def dual_GQ_ovoid(GQ, O):\n         sage: t[0].is_generalized_quadrangle(parameters=True)\n         (9, 3)\n         sage: t = dual_GQ_ovoid(*t)\n-        sage: t[0].is_generalized_quadrangle(parameters=True)\n-        (3, 9)\n         sage: all([x in t[0] for x in t[1]])\n         True\n \n@@ -271,8 +269,6 @@ def generalised_quadrangle_hermitian_with_ovoid(const int q):\n               is_GQ_with_spread, dual_GQ_ovoid\n         sage: t = designs.generalised_quadrangle_hermitian_with_ovoid(3)\n         sage: t = dual_GQ_ovoid(*t)\n-        sage: is_GQ_with_spread(*t, s=3, t=9)\n-        True\n         sage: t = dual_GQ_ovoid(*(\n         ....: designs.generalised_quadrangle_hermitian_with_ovoid(2)))\n```",
    "created_at": "2020-09-07T21:10:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486475",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:12" align="right">comment:12</div>

This also works

```diff
diff --git a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx
index 753d935e86..23ec4b3a84 100644
--- a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx
+++ b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx
@@ -198,8 +198,6 @@ def dual_GQ_ovoid(GQ, O):
         sage: t[0].is_generalized_quadrangle(parameters=True)
         (9, 3)
         sage: t = dual_GQ_ovoid(*t)
-        sage: t[0].is_generalized_quadrangle(parameters=True)
-        (3, 9)
         sage: all([x in t[0] for x in t[1]])
         True
 
@@ -271,8 +269,6 @@ def generalised_quadrangle_hermitian_with_ovoid(const int q):
               is_GQ_with_spread, dual_GQ_ovoid
         sage: t = designs.generalised_quadrangle_hermitian_with_ovoid(3)
         sage: t = dual_GQ_ovoid(*t)
-        sage: is_GQ_with_spread(*t, s=3, t=9)
-        True
         sage: t = dual_GQ_ovoid(*(
         ....: designs.generalised_quadrangle_hermitian_with_ovoid(2)))
```



---

archive/issue_comments_486476.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI didn't mean to remove the Cc",
    "created_at": "2020-09-07T21:11:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486476",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:13" align="right">comment:13</div>

I didn't mean to remove the Cc



---

archive/issue_comments_486477.json:
```json
{
    "body": "Commit: **[36837a1](https://github.com/sagemath/sagetrac-mirror/commit/36837a18013d5e13beb731386f42bcdb646f0e17)**",
    "created_at": "2020-09-08T09:36:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486477",
    "user": "https://github.com/Ivo-Maffei"
}
```

Commit: **[36837a1](https://github.com/sagemath/sagetrac-mirror/commit/36837a18013d5e13beb731386f42bcdb646f0e17)**



---

archive/issue_comments_486478.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\n`is_GQ_with_spread` internally calls `is_generalized_quadrangle`, so the issue lies in the first removed doctest.\nIn #30223 we had a similar issue with `is_generalized_quadrangle` which was called on an incidence structure not manipulated with `dual_GQ_ovoid`, so I'm keen to assume that `dual_GQ_ovoid` is not the cause of the issue.\n\nI can't reproduce the `MemoryError` on my machine so I created a test-function whose doctests should pretty much cover all operations done in `is_generalised_quadrangle`. Could you please run the doctests and let me know all lines (if any) that fail?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36837a18013d5e13beb731386f42bcdb646f0e17\">36837a1</a></td><td><code>added test function</code></td></tr></table>\n",
    "created_at": "2020-09-08T09:36:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486478",
    "user": "https://github.com/Ivo-Maffei"
}
```

<div id="comment:14" align="right">comment:14</div>

`is_GQ_with_spread` internally calls `is_generalized_quadrangle`, so the issue lies in the first removed doctest.
In #30223 we had a similar issue with `is_generalized_quadrangle` which was called on an incidence structure not manipulated with `dual_GQ_ovoid`, so I'm keen to assume that `dual_GQ_ovoid` is not the cause of the issue.

I can't reproduce the `MemoryError` on my machine so I created a test-function whose doctests should pretty much cover all operations done in `is_generalised_quadrangle`. Could you please run the doctests and let me know all lines (if any) that fail?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36837a18013d5e13beb731386f42bcdb646f0e17">36837a1</a></td><td><code>added test function</code></td></tr></table>




---

archive/issue_comments_486479.json:
```json
{
    "body": "Branch: **[public/combinat/30517](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/30517)**",
    "created_at": "2020-09-08T09:36:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486479",
    "user": "https://github.com/Ivo-Maffei"
}
```

Branch: **[public/combinat/30517](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/30517)**



---

archive/issue_comments_486480.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nwe should improve `is_generalized_quadrangle`.\n\n\nthere is no need to construct the incidence graph. In the regular+uniform  case, i.e. if (s,t) are defined, just check that the collinearity graph (aka block graph) is s.r.g. with the correct parameters.\n\nOtherwise,\nif neither s nor t are defined, it is not a GQ, for either t or s must be 1. To finish, if s is not 1, take the dual, so now s=1, and the collinearity graph must be complete bipartite.",
    "created_at": "2020-09-08T14:14:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486480",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">comment:15</div>

we should improve `is_generalized_quadrangle`.


there is no need to construct the incidence graph. In the regular+uniform  case, i.e. if (s,t) are defined, just check that the collinearity graph (aka block graph) is s.r.g. with the correct parameters.

Otherwise,
if neither s nor t are defined, it is not a GQ, for either t or s must be 1. To finish, if s is not 1, take the dual, so now s=1, and the collinearity graph must be complete bipartite.



---

archive/issue_comments_486481.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@dimpase](#comment:15):\n> there is no need to construct the incidence graph. In the regular+uniform  case, i.e. if (s,t) are defined, just check that the collinearity graph (aka block graph) is s.r.g. with the correct parameters.\n\nI understand that the collinearity graph of a GQ is a srg, but I'm uncertain about the converse.\nIn particular, there are many difference incidence structures that have the same collinearity graph.\nIf we allow duplicate blocks, then an incidence structure which is a regular GQ with a duplicated block is no more a GQ, but its collinearity graph is the same. Perhaps this is just an edge-case and not allowing duplicate blocks would fix the converse, but I'm not sure.\n\n> Otherwise,\n> if neither s nor t are defined, it is not a GQ\n\nI don't see why this would be the case, but I trust you.\nAlso you say that if s is not defined, then t must be 1 and vice versa?\n\n> now s=1, and the collinearity graph must be complete bipartite.\n\nConsider the incidence structure with blocks `[[1, 2], [2, 3]]`.\nThen s = 1 and t is not defined.\nIts collinearity graph has edges `[(1, 2), (2, 3)]` which is complete bipartite K_{2, 1}, but the incidence structure is not a GQ.\nI think that more generally complete bipartite K_{n, 1} are not GQ, is this right?",
    "created_at": "2020-09-08T15:38:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486481",
    "user": "https://github.com/Ivo-Maffei"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@dimpase](#comment:15):
> there is no need to construct the incidence graph. In the regular+uniform  case, i.e. if (s,t) are defined, just check that the collinearity graph (aka block graph) is s.r.g. with the correct parameters.

I understand that the collinearity graph of a GQ is a srg, but I'm uncertain about the converse.
In particular, there are many difference incidence structures that have the same collinearity graph.
If we allow duplicate blocks, then an incidence structure which is a regular GQ with a duplicated block is no more a GQ, but its collinearity graph is the same. Perhaps this is just an edge-case and not allowing duplicate blocks would fix the converse, but I'm not sure.

> Otherwise,
> if neither s nor t are defined, it is not a GQ

I don't see why this would be the case, but I trust you.
Also you say that if s is not defined, then t must be 1 and vice versa?

> now s=1, and the collinearity graph must be complete bipartite.

Consider the incidence structure with blocks `[[1, 2], [2, 3]]`.
Then s = 1 and t is not defined.
Its collinearity graph has edges `[(1, 2), (2, 3)]` which is complete bipartite K_{2, 1}, but the incidence structure is not a GQ.
I think that more generally complete bipartite K_{n, 1} are not GQ, is this right?



---

archive/issue_comments_486482.json:
```json
{
    "body": "Attachment: **[quadrangles_with_spread.pyx_newtest.log](https://github.com/sagemath/sage/files/ticket30517/quadrangles_with_spread.pyx_newtest.log)**\n\nThese are the failures I get with the added tests in `test()`",
    "created_at": "2020-09-08T17:25:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486482",
    "user": "https://github.com/strogdon"
}
```

Attachment: **[quadrangles_with_spread.pyx_newtest.log](https://github.com/sagemath/sage/files/ticket30517/quadrangles_with_spread.pyx_newtest.log)**

These are the failures I get with the added tests in `test()`



---

archive/issue_comments_486483.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@Ivo-Maffei](#comment:16):\n> Replying to [@dimpase](#comment:15):\n> > there is no need to construct the incidence graph. In the regular+uniform  case, i.e. if (s,t) are defined, just check that the collinearity graph (aka block graph) is s.r.g. with the correct parameters.\n\n> I understand that the collinearity graph of a GQ is a srg, but I'm uncertain about the converse.\n> In particular, there are many difference incidence structures that have the same collinearity graph.\n> If we allow duplicate blocks, then an incidence structure which is a regular GQ with a duplicated block is no more a GQ, but its collinearity graph is the same. Perhaps this is just an edge-case and not allowing duplicate blocks would fix the converse, but I'm not sure.\n> \n> > Otherwise,\n> > if neither s nor t are defined, it is not a GQ\n\n> I don't see why this would be the case, but I trust you.\n> Also you say that if s is not defined, then t must be 1 and vice versa?\n> \n> > now s=1, and the collinearity graph must be complete bipartite.\n\n> Consider the incidence structure with blocks `[[1, 2], [2, 3]]`.\n> Then s = 1 and t is not defined.\n> Its collinearity graph has edges `[(1, 2), (2, 3)]` which is complete bipartite K_{2, 1}, but the incidence structure is not a GQ.\n> I think that more generally complete bipartite K_{n, 1} are not GQ, is this right?\n\nright, these are so called degenerate generalised polygons (a number of lines all intersecting in one point). Usually, but not excluded from the definition. Let's exclude this case.\n\nWe should also exclude the case of repeated lines.\n\n\nNote that it is immediate (there cannot be any triangls, but for any point p and line L not on L there is a point collinear on L collinear to p) from the definition of a generalised quadrangle that two non-intersecting lines have the same size. \nDually, for any 2 non-collinear points the number of lines on each of then must be the same.  \n\nIt follows that there are either lines of two different sizes, and you have a \"grid\" (just 2 lines on each point, so t=1), or all lines are of the same size.",
    "created_at": "2020-09-08T17:32:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486483",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@Ivo-Maffei](#comment:16):
> Replying to [@dimpase](#comment:15):
> > there is no need to construct the incidence graph. In the regular+uniform  case, i.e. if (s,t) are defined, just check that the collinearity graph (aka block graph) is s.r.g. with the correct parameters.

> I understand that the collinearity graph of a GQ is a srg, but I'm uncertain about the converse.
> In particular, there are many difference incidence structures that have the same collinearity graph.
> If we allow duplicate blocks, then an incidence structure which is a regular GQ with a duplicated block is no more a GQ, but its collinearity graph is the same. Perhaps this is just an edge-case and not allowing duplicate blocks would fix the converse, but I'm not sure.
> 
> > Otherwise,
> > if neither s nor t are defined, it is not a GQ

> I don't see why this would be the case, but I trust you.
> Also you say that if s is not defined, then t must be 1 and vice versa?
> 
> > now s=1, and the collinearity graph must be complete bipartite.

> Consider the incidence structure with blocks `[[1, 2], [2, 3]]`.
> Then s = 1 and t is not defined.
> Its collinearity graph has edges `[(1, 2), (2, 3)]` which is complete bipartite K_{2, 1}, but the incidence structure is not a GQ.
> I think that more generally complete bipartite K_{n, 1} are not GQ, is this right?

right, these are so called degenerate generalised polygons (a number of lines all intersecting in one point). Usually, but not excluded from the definition. Let's exclude this case.

We should also exclude the case of repeated lines.


Note that it is immediate (there cannot be any triangls, but for any point p and line L not on L there is a point collinear on L collinear to p) from the definition of a generalised quadrangle that two non-intersecting lines have the same size. 
Dually, for any 2 non-collinear points the number of lines on each of then must be the same.  

It follows that there are either lines of two different sizes, and you have a "grid" (just 2 lines on each point, so t=1), or all lines are of the same size.



---

archive/issue_comments_486484.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nDoesn't\n\n```\nUsing --optional=build,dochtml,memlimit,sage\n```\nmean that tests limit memory in some way?",
    "created_at": "2020-09-08T17:38:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486484",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:18" align="right">comment:18</div>

Doesn't

```
Using --optional=build,dochtml,memlimit,sage
```
mean that tests limit memory in some way?



---

archive/issue_comments_486485.json:
```json
{
    "body": "Attachment: **[newtest.pyx_test.log](https://github.com/sagemath/sage/files/ticket30517/newtest.pyx_test.log)**\n\nTests in https://github.com/sagemath/sage/files/ticket30517/quadrangles_with_spread.pyx_newtest.log may be contaminated by prior failures. Attached are results of just the tests in `test()`",
    "created_at": "2020-09-08T18:01:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486485",
    "user": "https://github.com/strogdon"
}
```

Attachment: **[newtest.pyx_test.log](https://github.com/sagemath/sage/files/ticket30517/newtest.pyx_test.log)**

Tests in https://github.com/sagemath/sage/files/ticket30517/quadrangles_with_spread.pyx_newtest.log may be contaminated by prior failures. Attached are results of just the tests in `test()`



---

archive/issue_comments_486486.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@dimpase](#comment:18):\n> Doesn't\n> \n> ```\n> Using --optional=build,dochtml,memlimit,sage\n> ```\n> mean that tests limit memory in some way?\n\nThis\n\n```\nTesting files:\n\n  -t [options] <files|dir> -- test examples in .py, .pyx, .sage\n                              or .tex files.  Options:\n     --long           -- include lines with the phrase 'long time'\n     --verbose        -- print debugging output during the test\n     --all            -- test all files\n     --optional       -- also test all examples labeled \"# optional\"\n```\nseems to imply relative to doctesting that files so marked will also be tested. Not sure what the `Using --optional=...` implies, nor do I know how to change it.",
    "created_at": "2020-09-08T18:16:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486486",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@dimpase](#comment:18):
> Doesn't
> 
> ```
> Using --optional=build,dochtml,memlimit,sage
> ```
> mean that tests limit memory in some way?

This

```
Testing files:

  -t [options] <files|dir> -- test examples in .py, .pyx, .sage
                              or .tex files.  Options:
     --long           -- include lines with the phrase 'long time'
     --verbose        -- print debugging output during the test
     --all            -- test all files
     --optional       -- also test all examples labeled "# optional"
```
seems to imply relative to doctesting that files so marked will also be tested. Not sure what the `Using --optional=...` implies, nor do I know how to change it.



---

archive/issue_comments_486487.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nIt seems from reading `src/bin/sage-runtests` that the default, if there is `memlimit` in\n`--optional`, is 3300 MB \"per test\"",
    "created_at": "2020-09-08T19:03:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486487",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:20" align="right">comment:20</div>

It seems from reading `src/bin/sage-runtests` that the default, if there is `memlimit` in
`--optional`, is 3300 MB "per test"



---

archive/issue_comments_486488.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@dimpase](#comment:20):\n> It seems from reading `src/bin/sage-runtests` that the default, if there is `memlimit` in\n> `--optional`, is 3300 MB \"per test\"\n\nWell, isn't that interesting. Doing\n\n```\n./sage -t --long --verbose --warn-long 127.5 --random-seed=0 --memlimit=0 src/sage/combinat/designs/gen_quadrangles_with_spread.pyx\n```\ngives no failing tests. When I use `memlimit=0` then `memlimit` does not appear\n\n```\nUsing --optional=build,dochtml,sage\n```\nWhat do you have in your `Using` line and how are the `--optional` items set? Is this really the issue?",
    "created_at": "2020-09-08T19:28:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486488",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@dimpase](#comment:20):
> It seems from reading `src/bin/sage-runtests` that the default, if there is `memlimit` in
> `--optional`, is 3300 MB "per test"

Well, isn't that interesting. Doing

```
./sage -t --long --verbose --warn-long 127.5 --random-seed=0 --memlimit=0 src/sage/combinat/designs/gen_quadrangles_with_spread.pyx
```
gives no failing tests. When I use `memlimit=0` then `memlimit` does not appear

```
Using --optional=build,dochtml,sage
```
What do you have in your `Using` line and how are the `--optional` items set? Is this really the issue?



---

archive/issue_comments_486489.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@strogdon](#comment:21):\n\n> ```\n> Using --optional=build,dochtml,sage\n> ```\n> What do you have in your `Using` line and how are the `--optional` items set? Is this really the issue?\n\nthat was just a copy/paste from the log you attached here. By default `memlimit` is there.\n\nIt could be just few memory-hungry tests run in parallel, and not a memory leak.",
    "created_at": "2020-09-08T20:27:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486489",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@strogdon](#comment:21):

> ```
> Using --optional=build,dochtml,sage
> ```
> What do you have in your `Using` line and how are the `--optional` items set? Is this really the issue?

that was just a copy/paste from the log you attached here. By default `memlimit` is there.

It could be just few memory-hungry tests run in parallel, and not a memory leak.



---

archive/issue_events_420682.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30517#event-420682"
}
```



---

archive/issue_events_420683.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30517#event-420683"
}
```



---

archive/issue_comments_486490.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThis almost always runs out of memory on the kucalc buildbot:\n\n```\nsage: from sage.combinat.designs.gen_quadrangles_with_spread import is_GQ_with_spread, dual_GQ_ovoid ## line 270 ##\nsage: t = designs.generalised_quadrangle_hermitian_with_ovoid(3) ## line 272 ##\nsage: t = dual_GQ_ovoid(*t) ## line 273 ##\nsage: is_GQ_with_spread(*t, s=3, t=9) ## line 274 ##\n\n**********************************************************************\n----------------------------------------------------------------------\nsage -t --long --random-seed=0 src/sage/combinat/designs/gen_quadrangles_with_spread.pyx  # Bad exit: 1\n----------------------------------------------------------------------\n```\nFor example, running the last `is_GQ_with_spread` command eats about 170Mb per invocation that is never released.",
    "created_at": "2021-01-31T15:12:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486490",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:24" align="right">comment:24</div>

This almost always runs out of memory on the kucalc buildbot:

```
sage: from sage.combinat.designs.gen_quadrangles_with_spread import is_GQ_with_spread, dual_GQ_ovoid ## line 270 ##
sage: t = designs.generalised_quadrangle_hermitian_with_ovoid(3) ## line 272 ##
sage: t = dual_GQ_ovoid(*t) ## line 273 ##
sage: is_GQ_with_spread(*t, s=3, t=9) ## line 274 ##

**********************************************************************
----------------------------------------------------------------------
sage -t --long --random-seed=0 src/sage/combinat/designs/gen_quadrangles_with_spread.pyx  # Bad exit: 1
----------------------------------------------------------------------
```
For example, running the last `is_GQ_with_spread` command eats about 170Mb per invocation that is never released.



---

archive/issue_comments_486491.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@strogdon](#comment:7):\n> With these changes\n> \n> ```diff\n> diff --git a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx\n> index 753d935e86..a8c1be9f09 100644\n> --- a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx\n> +++ b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx\n> @@ -198,10 +198,6 @@ def dual_GQ_ovoid(GQ, O):\n>          sage: t[0].is_generalized_quadrangle(parameters=True)\n>          (9, 3)\n>          sage: t = dual_GQ_ovoid(*t)\n> -        sage: t[0].is_generalized_quadrangle(parameters=True)\n> -        (3, 9)\n> -        sage: all([x in t[0] for x in t[1]])\n> -        True\n>  \n>  \n>      TESTS::\n> @@ -271,8 +267,6 @@ def generalised_quadrangle_hermitian_with_ovoid(const int q):\n>                is_GQ_with_spread, dual_GQ_ovoid\n>          sage: t = designs.generalised_quadrangle_hermitian_with_ovoid(3)\n>          sage: t = dual_GQ_ovoid(*t)\n> -        sage: is_GQ_with_spread(*t, s=3, t=9)\n> -        True\n> ```\n> \n> I get no `MemoryError` and the doctest passes.\n\nIf you want to tag those up as `# known bug` I'll be happy to review",
    "created_at": "2021-01-31T15:20:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486491",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@strogdon](#comment:7):
> With these changes
> 
> ```diff
> diff --git a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx
> index 753d935e86..a8c1be9f09 100644
> --- a/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx
> +++ b/src/sage/combinat/designs/gen_quadrangles_with_spread.pyx
> @@ -198,10 +198,6 @@ def dual_GQ_ovoid(GQ, O):
>          sage: t[0].is_generalized_quadrangle(parameters=True)
>          (9, 3)
>          sage: t = dual_GQ_ovoid(*t)
> -        sage: t[0].is_generalized_quadrangle(parameters=True)
> -        (3, 9)
> -        sage: all([x in t[0] for x in t[1]])
> -        True
>  
>  
>      TESTS::
> @@ -271,8 +267,6 @@ def generalised_quadrangle_hermitian_with_ovoid(const int q):
>                is_GQ_with_spread, dual_GQ_ovoid
>          sage: t = designs.generalised_quadrangle_hermitian_with_ovoid(3)
>          sage: t = dual_GQ_ovoid(*t)
> -        sage: is_GQ_with_spread(*t, s=3, t=9)
> -        True
> ```
> 
> I get no `MemoryError` and the doctest passes.

If you want to tag those up as `# known bug` I'll be happy to review



---

archive/issue_comments_486492.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/08b88903af9a1e52b298d3558bcc6818fefbceea\">08b8890</a></td><td><code>Merge branch 'public/combinat/30517' in 9.3.b6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6841da0ccbacea94b6815241b7be02e78dfda32\">a6841da</a></td><td><code>adding known bug tags</code></td></tr></table>\n",
    "created_at": "2021-01-31T16:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486492",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/08b88903af9a1e52b298d3558bcc6818fefbceea">08b8890</a></td><td><code>Merge branch 'public/combinat/30517' in 9.3.b6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6841da0ccbacea94b6815241b7be02e78dfda32">a6841da</a></td><td><code>adding known bug tags</code></td></tr></table>




---

archive/issue_comments_486493.json:
```json
{
    "body": "Changed commit from **[36837a1](https://github.com/sagemath/sagetrac-mirror/commit/36837a18013d5e13beb731386f42bcdb646f0e17)** to **[a6841da](https://github.com/sagemath/sagetrac-mirror/commit/a6841da0ccbacea94b6815241b7be02e78dfda32)**",
    "created_at": "2021-01-31T16:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486493",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[36837a1](https://github.com/sagemath/sagetrac-mirror/commit/36837a18013d5e13beb731386f42bcdb646f0e17)** to **[a6841da](https://github.com/sagemath/sagetrac-mirror/commit/a6841da0ccbacea94b6815241b7be02e78dfda32)**



---

archive/issue_comments_486494.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI have added a commit on top of the public branch, just adding the 3 suggested known bug tags",
    "created_at": "2021-01-31T16:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486494",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:27" align="right">comment:27</div>

I have added a commit on top of the public branch, just adding the 3 suggested known bug tags



---

archive/issue_comments_486495.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@fchapoton](#comment:27):\n> I have added a commit on top of the public branch, just adding the 3 suggested known bug tags \n\nIs the `def test()` function needed?",
    "created_at": "2021-01-31T16:39:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486495",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@fchapoton](#comment:27):
> I have added a commit on top of the public branch, just adding the 3 suggested known bug tags 

Is the `def test()` function needed?



---

archive/issue_comments_486496.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI have not idea. Feel free to remove it and squash the branch if you think this is better.",
    "created_at": "2021-01-31T16:57:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486496",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:29" align="right">comment:29</div>

I have not idea. Feel free to remove it and squash the branch if you think this is better.



---

archive/issue_comments_486497.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@strogdon](#comment:28):\n> Is the `def test()` function needed?\n\n`def test()` is a function I added it in [here](#comment:14) to help debug the issue. I guess it can go now that vbraun found the problem.",
    "created_at": "2021-01-31T19:37:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486497",
    "user": "https://github.com/Ivo-Maffei"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@strogdon](#comment:28):
> Is the `def test()` function needed?

`def test()` is a function I added it in [here](#comment:14) to help debug the issue. I guess it can go now that vbraun found the problem.



---

archive/issue_comments_486498.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@Ivo-Maffei](#comment:30):\n> Replying to [@strogdon](#comment:28):\n> > Is the `def test()` function needed?\n\n> `def test()` is a function I added it in [here](#comment:14) to help debug the issue. I guess it can go now that vbraun found the problem.\n\nwell, not that Volker found the problem, he found a test to disable to avoid this doctesting issue.",
    "created_at": "2021-01-31T20:38:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486498",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@Ivo-Maffei](#comment:30):
> Replying to [@strogdon](#comment:28):
> > Is the `def test()` function needed?

> `def test()` is a function I added it in [here](#comment:14) to help debug the issue. I guess it can go now that vbraun found the problem.

well, not that Volker found the problem, he found a test to disable to avoid this doctesting issue.



---

archive/issue_comments_486499.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c40efe9f4b94adf9dffd778bbc68fdac997929e1\">c40efe9</a></td><td><code>removed test()</code></td></tr></table>\n",
    "created_at": "2021-01-31T20:46:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486499",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c40efe9f4b94adf9dffd778bbc68fdac997929e1">c40efe9</a></td><td><code>removed test()</code></td></tr></table>




---

archive/issue_comments_486500.json:
```json
{
    "body": "Changed commit from **[a6841da](https://github.com/sagemath/sagetrac-mirror/commit/a6841da0ccbacea94b6815241b7be02e78dfda32)** to **[c40efe9](https://github.com/sagemath/sagetrac-mirror/commit/c40efe9f4b94adf9dffd778bbc68fdac997929e1)**",
    "created_at": "2021-01-31T20:46:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486500",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a6841da](https://github.com/sagemath/sagetrac-mirror/commit/a6841da0ccbacea94b6815241b7be02e78dfda32)** to **[c40efe9](https://github.com/sagemath/sagetrac-mirror/commit/c40efe9f4b94adf9dffd778bbc68fdac997929e1)**



---

archive/issue_events_420684.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-01-31T20:47:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30517#event-420684"
}
```



---

archive/issue_comments_486501.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2021-01-31T20:47:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486501",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_486502.json:
```json
{
    "body": "Author: **Volker Braun, Frederic Chapoton**",
    "created_at": "2021-01-31T20:47:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486502",
    "user": "https://github.com/dimpase"
}
```

Author: **Volker Braun, Frederic Chapoton**



---

archive/issue_events_420685.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-01-31T20:47:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30517#event-420685"
}
```



---

archive/issue_events_420686.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-01-31T20:47:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30517#event-420686"
}
```



---

archive/issue_comments_486503.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nFollowup for the underlying issue at #31313",
    "created_at": "2021-01-31T20:50:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486503",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:35" align="right">comment:35</div>

Followup for the underlying issue at #31313



---

archive/issue_comments_486504.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d10c62d4354e6e722b857e43f92a39e1f745be67\">d10c62d</a></td><td><code>remove \"known bug\" tags</code></td></tr></table>\n",
    "created_at": "2021-02-03T06:29:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486504",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d10c62d4354e6e722b857e43f92a39e1f745be67">d10c62d</a></td><td><code>remove "known bug" tags</code></td></tr></table>




---

archive/issue_comments_486505.json:
```json
{
    "body": "Changed commit from **[c40efe9](https://github.com/sagemath/sagetrac-mirror/commit/c40efe9f4b94adf9dffd778bbc68fdac997929e1)** to **[d10c62d](https://github.com/sagemath/sagetrac-mirror/commit/d10c62d4354e6e722b857e43f92a39e1f745be67)**",
    "created_at": "2021-02-03T06:29:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486505",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c40efe9](https://github.com/sagemath/sagetrac-mirror/commit/c40efe9f4b94adf9dffd778bbc68fdac997929e1)** to **[d10c62d](https://github.com/sagemath/sagetrac-mirror/commit/d10c62d4354e6e722b857e43f92a39e1f745be67)**



---

archive/issue_events_420687.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-02-03T06:29:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30517#event-420687"
}
```



---

archive/issue_events_420688.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-02-03T06:29:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30517#event-420688"
}
```



---

archive/issue_comments_486506.json:
```json
{
    "body": "Dependencies: **#31313**",
    "created_at": "2021-02-03T06:33:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486506",
    "user": "https://github.com/DaveWitteMorris"
}
```

Dependencies: **#31313**



---

archive/issue_comments_486507.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nThe memory leak was fixed at #31313, so I removed the \"known bug\" tags. I think it is cleaner to do that here, instead of on #31313. Revert my PR if I am wrong.",
    "created_at": "2021-02-03T06:33:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486507",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:37" align="right">comment:37</div>

The memory leak was fixed at #31313, so I removed the "known bug" tags. I think it is cleaner to do that here, instead of on #31313. Revert my PR if I am wrong.



---

archive/issue_comments_486508.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nnever ever change something on a positive reviewed ticket unless you have very good reasons",
    "created_at": "2021-02-03T09:09:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486508",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:38" align="right">comment:38</div>

never ever change something on a positive reviewed ticket unless you have very good reasons



---

archive/issue_comments_486509.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nas you can see here, the former branch had already been used by our release manager \n\nhttps://github.com/vbraun/sage/commits/develop\n\nso *please* revert and put back the exact same branch that was here when it was set to positive",
    "created_at": "2021-02-03T16:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486509",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:39" align="right">comment:39</div>

as you can see here, the former branch had already been used by our release manager 

https://github.com/vbraun/sage/commits/develop

so *please* revert and put back the exact same branch that was here when it was set to positive



---

archive/issue_comments_486510.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nI'm very sorry I goofed things up. I thought it was only closed tickets that should not be messed with.\n\nI also thought it would be easy to revert my commit, so I'm also sorry that I don't know how to \"put back the exact same branch that was here\". My attempt was rejected:\n\n```\nSTDERR: error: failed to push some refs to 'git@trac.sagemath.org:sage.git'\nSTDERR: hint: Updates were rejected because a pushed branch tip is behind its remote\n```\nI know very little about git, so, since this didn't work, all I would know how to do is push a reversion commit to undo my erroneous change, but I don't think you want me to do that, because it would add yet another commit to the history.  (Maybe a \"forced push\" would work, but I am not confident enough to try something like that, because my understanding is that it has the potential to mess things up permanently.)",
    "created_at": "2021-02-03T18:33:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486510",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:40" align="right">comment:40</div>

I'm very sorry I goofed things up. I thought it was only closed tickets that should not be messed with.

I also thought it would be easy to revert my commit, so I'm also sorry that I don't know how to "put back the exact same branch that was here". My attempt was rejected:

```
STDERR: error: failed to push some refs to 'git@trac.sagemath.org:sage.git'
STDERR: hint: Updates were rejected because a pushed branch tip is behind its remote
```
I know very little about git, so, since this didn't work, all I would know how to do is push a reversion commit to undo my erroneous change, but I don't think you want me to do that, because it would add yet another commit to the history.  (Maybe a "forced push" would work, but I am not confident enough to try something like that, because my understanding is that it has the potential to mess things up permanently.)



---

archive/issue_comments_486511.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nno problem, errare humanum est. I hope that I have not have sound rude..\n\nI will handle the restoration",
    "created_at": "2021-02-03T19:49:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486511",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:41" align="right">comment:41</div>

no problem, errare humanum est. I hope that I have not have sound rude..

I will handle the restoration



---

archive/issue_comments_486512.json:
```json
{
    "body": "Changed dependencies from **#31313** to none",
    "created_at": "2021-02-03T19:51:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486512",
    "user": "https://github.com/fchapoton"
}
```

Changed dependencies from **#31313** to none



---

archive/issue_comments_486513.json:
```json
{
    "body": "Changed commit from **[d10c62d](https://github.com/sagemath/sagetrac-mirror/commit/d10c62d4354e6e722b857e43f92a39e1f745be67)** to **[c40efe9](https://github.com/sagemath/sagetrac-mirror/commit/c40efe9f4b94adf9dffd778bbc68fdac997929e1)**",
    "created_at": "2021-02-03T19:54:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486513",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[d10c62d](https://github.com/sagemath/sagetrac-mirror/commit/d10c62d4354e6e722b857e43f92a39e1f745be67)** to **[c40efe9](https://github.com/sagemath/sagetrac-mirror/commit/c40efe9f4b94adf9dffd778bbc68fdac997929e1)**



---

archive/issue_comments_486514.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\n@vbraun\n\nthe new correct branch name is \"public/quadrangles_restored\"",
    "created_at": "2021-02-03T19:54:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486514",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:43" align="right">comment:43</div>

@vbraun

the new correct branch name is "public/quadrangles_restored"



---

archive/issue_comments_486515.json:
```json
{
    "body": "Changed branch from **[public/combinat/30517](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/30517)** to **[public/quadrangles_restored](https://github.com/sagemath/sagetrac-mirror/tree/public/quadrangles_restored)**",
    "created_at": "2021-02-03T19:54:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486515",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[public/combinat/30517](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/30517)** to **[public/quadrangles_restored](https://github.com/sagemath/sagetrac-mirror/tree/public/quadrangles_restored)**



---

archive/issue_events_420689.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-02-03T19:54:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30517#event-420689"
}
```



---

archive/issue_events_420690.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-02-03T19:54:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30517#event-420690"
}
```



---

archive/issue_comments_486516.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nand I am setting back to positive",
    "created_at": "2021-02-03T19:54:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486516",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:44" align="right">comment:44</div>

and I am setting back to positive



---

archive/issue_comments_486517.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nThanks for fixing this! I'm sorry to have made extra work for you.",
    "created_at": "2021-02-03T20:19:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486517",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:45" align="right">comment:45</div>

Thanks for fixing this! I'm sorry to have made extra work for you.



---

archive/issue_events_420691.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-02-07T19:40:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30517#event-420691"
}
```



---

archive/issue_events_420692.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6096110e060e441df3219fd8caef1c4525145983",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-02-07T19:40:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30517#event-420692"
}
```



---

archive/issue_comments_486518.json:
```json
{
    "body": "Changed branch from **[public/quadrangles_restored](https://github.com/sagemath/sagetrac-mirror/tree/public/quadrangles_restored)** to **[c40efe9](https://github.com/sagemath/sagetrac-mirror/commit/c40efe9f4b94adf9dffd778bbc68fdac997929e1)**",
    "created_at": "2021-02-07T19:40:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486518",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/quadrangles_restored](https://github.com/sagemath/sagetrac-mirror/tree/public/quadrangles_restored)** to **[c40efe9](https://github.com/sagemath/sagetrac-mirror/commit/c40efe9f4b94adf9dffd778bbc68fdac997929e1)**



---

archive/issue_comments_486519.json:
```json
{
    "body": "Changed author from **Volker Braun, Frederic Chapoton** to **Volker Braun, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2021-05-09T23:12:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486519",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Volker Braun, Frederic Chapoton** to **Volker Braun, Frédéric Chapoton**



---

archive/issue_comments_486520.json:
```json
{
    "body": "Changed commit from **[c40efe9](https://github.com/sagemath/sagetrac-mirror/commit/c40efe9f4b94adf9dffd778bbc68fdac997929e1)** to none",
    "created_at": "2021-05-09T23:12:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30517#issuecomment-486520",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[c40efe9](https://github.com/sagemath/sagetrac-mirror/commit/c40efe9f4b94adf9dffd778bbc68fdac997929e1)** to none
