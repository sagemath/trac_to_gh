# Issue 30412: Upgrade gf2x to 1.3

archive/issues_030175.json:
```json
{
    "assignees": [],
    "body": "Upstream autotoolized tarball : https://prod-gitlab.inria.fr/gf2x/gf2x/uploads/c46b1047ba841c20d1225ae73ad6e4cd/gf2x-1.3.0.tar.gz\n\nWarning: do not use !https://gitlab.inria.fr/gf2x/gf2x/-/archive/gf2x-1.3.0/gf2x-gf2x-1.3.0.tar.gz\n\n\nCC:  @slel @dimpase @zimmermann6\n\nBranch/Commit: **[`d3772f6`](https://github.com/sagemath/sagetrac-mirror/commit/d3772f64daaaac38db5ef84d1f2bd3eef2ba2209)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Thierry Monteil**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30412_\n\n",
    "closed_at": "2020-08-30T08:38:47Z",
    "created_at": "2020-08-21T00:36:28Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade gf2x to 1.3",
    "type": "issue",
    "updated_at": "2020-08-30T08:38:47Z",
    "url": "https://github.com/sagemath/sage/issues/30412",
    "user": "https://github.com/mkoeppe"
}
```
Upstream autotoolized tarball : https://prod-gitlab.inria.fr/gf2x/gf2x/uploads/c46b1047ba841c20d1225ae73ad6e4cd/gf2x-1.3.0.tar.gz

Warning: do not use !https://gitlab.inria.fr/gf2x/gf2x/-/archive/gf2x-1.3.0/gf2x-gf2x-1.3.0.tar.gz


CC:  @slel @dimpase @zimmermann6

Branch/Commit: **[`d3772f6`](https://github.com/sagemath/sagetrac-mirror/commit/d3772f64daaaac38db5ef84d1f2bd3eef2ba2209)**

Reviewer: **Dima Pasechnik**

Author: **Thierry Monteil**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/30412_





---

archive/issue_events_421247.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-21T00:36:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30412#event-421247"
}
```



---

archive/issue_events_421248.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-21T00:36:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30412#event-421248"
}
```



---

archive/issue_events_421249.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-21T00:36:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30412#event-421249"
}
```



---

archive/issue_events_421250.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-21T00:36:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30412#event-421250"
}
```



---

archive/issue_comments_484205.json:
```json
{
    "body": "Branch: **[u/tmonteil/upgrade_gf2x_to_1_3](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/upgrade_gf2x_to_1_3)**",
    "created_at": "2020-08-21T10:39:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484205",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Branch: **[u/tmonteil/upgrade_gf2x_to_1_3](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/upgrade_gf2x_to_1_3)**



---

archive/issue_events_421251.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2020-08-21T10:44:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30412#event-421251"
}
```



---

archive/issue_comments_484206.json:
```json
{
    "body": "Commit: **[`3c9c8f2`](https://github.com/sagemath/sagetrac-mirror/commit/3c9c8f20e134aaa385b444aacfe3e32bbeb8eb27)**",
    "created_at": "2020-08-21T10:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484206",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Commit: **[`3c9c8f2`](https://github.com/sagemath/sagetrac-mirror/commit/3c9c8f20e134aaa385b444aacfe3e32bbeb8eb27)**



---

archive/issue_comments_484207.json:
```json
{
    "body": "Author: **Thierry Monteil**",
    "created_at": "2020-08-21T10:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484207",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Author: **Thierry Monteil**



---

archive/issue_comments_484208.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nSince `gf2x-1.3.0` does not provide a `configure` script anymore (only `configure.ac`) i called autotools (and removed touching files that was related to some patch that does not exist anymore). Tell me if it is the correct way to do.\n\nSelf-tests work well for me.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e4d97c9169083e8a4f7f6b0fd8660126c689ad8\"><code>2e4d97c</code></a></td><td><code>#30412 : remove old patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d9b3bb3a380264a7bdd7b91e761ffadea7e4fff\"><code>3d9b3bb</code></a></td><td><code>#30412 : update package version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c9c8f20e134aaa385b444aacfe3e32bbeb8eb27\"><code>3c9c8f2</code></a></td><td><code>#30412 : gf2x does not provide a configure script anymore</code></td></tr></table>\n",
    "created_at": "2020-08-21T10:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484208",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:2" align="right">comment:2</div>

Since `gf2x-1.3.0` does not provide a `configure` script anymore (only `configure.ac`) i called autotools (and removed touching files that was related to some patch that does not exist anymore). Tell me if it is the correct way to do.

Self-tests work well for me.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e4d97c9169083e8a4f7f6b0fd8660126c689ad8"><code>2e4d97c</code></a></td><td><code>#30412 : remove old patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d9b3bb3a380264a7bdd7b91e761ffadea7e4fff"><code>3d9b3bb</code></a></td><td><code>#30412 : update package version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c9c8f20e134aaa385b444aacfe3e32bbeb8eb27"><code>3c9c8f2</code></a></td><td><code>#30412 : gf2x does not provide a configure script anymore</code></td></tr></table>




---

archive/issue_comments_484209.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nCan't run autotools in `spkg-install`.",
    "created_at": "2020-08-21T14:25:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484209",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

Can't run autotools in `spkg-install`.



---

archive/issue_comments_484210.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIf i do not add those lines, i got : \n\n```\n[gf2x-1.3.0] /opt/sagemath/sage-source/build/bin/sage-dist-helpers: line 165: ./configure: No such file or directory\n```\n\nSo, what is the good way ?",
    "created_at": "2020-08-21T14:49:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484210",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:4" align="right">comment:4</div>

If i do not add those lines, i got : 

```
[gf2x-1.3.0] /opt/sagemath/sage-source/build/bin/sage-dist-helpers: line 165: ./configure: No such file or directory
```

So, what is the good way ?



---

archive/issue_comments_484211.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\none needs to prepare a tarball (or a patch) with all the stuff produced by `autoreconf -ivf` or something like this.",
    "created_at": "2020-08-21T14:52:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484211",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:5" align="right">comment:5</div>

one needs to prepare a tarball (or a patch) with all the stuff produced by `autoreconf -ivf` or something like this.



---

archive/issue_comments_484212.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThat's right. See https://doc.sagemath.org/html/en/developer/packaging.html#when-to-patch-when-to-repackage-when-to-autoconfiscate -- it falls in the case as \"If you have to make changes to configure.ac or other source files of the autotools build system...\"\n\nIt's an unfortunate trend that upstream maintainers don't prepare actual release tarballs any more...\n\nAfter the autoreconf as suggested by Dima, run `./configure && make distcheck`.\n\nPut these instructions into an `spkg-src` script.\nThe tarball can be put as an attachment on the ticket.",
    "created_at": "2020-08-21T15:54:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484212",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

That's right. See https://doc.sagemath.org/html/en/developer/packaging.html#when-to-patch-when-to-repackage-when-to-autoconfiscate -- it falls in the case as "If you have to make changes to configure.ac or other source files of the autotools build system..."

It's an unfortunate trend that upstream maintainers don't prepare actual release tarballs any more...

After the autoreconf as suggested by Dima, run `./configure && make distcheck`.

Put these instructions into an `spkg-src` script.
The tarball can be put as an attachment on the ticket.



---

archive/issue_comments_484213.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI'll try to ping gf2x people on this - but first one needs to get an account on the INRIA [GitLab](../wiki/GitLab) server (I just asked for one).\n\nBy the way, did you check that none of the tarballs/zipfiles they offer contains `./configure` ?",
    "created_at": "2020-08-22T11:21:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484213",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">comment:7</div>

I'll try to ping gf2x people on this - but first one needs to get an account on the INRIA [GitLab](../wiki/GitLab) server (I just asked for one).

By the way, did you check that none of the tarballs/zipfiles they offer contains `./configure` ?



---

archive/issue_comments_484214.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@dimpase](#comment:7):\n> I'll try to ping gf2x people on this - but first one needs to get an account on the INRIA [GitLab](../wiki/GitLab) server (I just asked for one).\n\nI am about to do the same (by direct email). For me, they forgot to produce the file since the `README` still speaks about running `./configure`.\n \n> By the way, did you check that none of the tarballs/zipfiles they offer contains `./configure` ? \n\nNo. I will do that in case.",
    "created_at": "2020-08-22T12:29:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484214",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@dimpase](#comment:7):
> I'll try to ping gf2x people on this - but first one needs to get an account on the INRIA [GitLab](../wiki/GitLab) server (I just asked for one).

I am about to do the same (by direct email). For me, they forgot to produce the file since the `README` still speaks about running `./configure`.
 
> By the way, did you check that none of the tarballs/zipfiles they offer contains `./configure` ? 

No. I will do that in case.



---

archive/issue_comments_484215.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@sagetrac-tmonteil](#comment:8):\n> Replying to [@dimpase](#comment:7):\n> > By the way, did you check that none of the tarballs/zipfiles they offer contains `./configure` ? \n\n> \n> No. I will do that in case.\n\nNone of the archives contain a `configure` script.",
    "created_at": "2020-08-22T12:32:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484215",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@sagetrac-tmonteil](#comment:8):
> Replying to [@dimpase](#comment:7):
> > By the way, did you check that none of the tarballs/zipfiles they offer contains `./configure` ? 

> 
> No. I will do that in case.

None of the archives contain a `configure` script.



---

archive/issue_comments_484216.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI sent an email to Emmanuel Thom\u00e9 and Paul Zimmermann (also Cc-ed on the ticket). I would prefer to ship an upstream traball than an ad-hoc one.",
    "created_at": "2020-08-22T13:50:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484216",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:10" align="right">comment:10</div>

I sent an email to Emmanuel Thomé and Paul Zimmermann (also Cc-ed on the ticket). I would prefer to ship an upstream traball than an ad-hoc one.



---

archive/issue_comments_484217.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nthanks for the heads up.\n\nyes of course you're right.\n\nwhen ditching gforge in favor of gitlab a few weeks ago, I accidentally forgot the implication that the tarballs that are attached to git tags no longer contain the autotools-generated configure scripts.\n\nI'll try to fix that (and first, find out what is \"the right way\" to do it).\n\nAs regards the sponsorship wall on the inria gitlab account, this has recently been forced on us, and I have only limited hope that we can do something about it. I'm not at all confident that I have the right to create \"normal\" invitee accounts :-(. All I can do is hope that the sponsorship maze that they have invented is at least possible to work out if you have the will to try (and as for me, I'm 100% fine with ticking yes for anyone who wants to contribute to issue trackers)",
    "created_at": "2020-08-22T17:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484217",
    "user": "https://github.com/emmanuelthome"
}
```

<div id="comment:11" align="right">comment:11</div>

thanks for the heads up.

yes of course you're right.

when ditching gforge in favor of gitlab a few weeks ago, I accidentally forgot the implication that the tarballs that are attached to git tags no longer contain the autotools-generated configure scripts.

I'll try to fix that (and first, find out what is "the right way" to do it).

As regards the sponsorship wall on the inria gitlab account, this has recently been forced on us, and I have only limited hope that we can do something about it. I'm not at all confident that I have the right to create "normal" invitee accounts :-(. All I can do is hope that the sponsorship maze that they have invented is at least possible to work out if you have the will to try (and as for me, I'm 100% fine with ticking yes for anyone who wants to contribute to issue trackers)



---

archive/issue_comments_484218.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@emmanuelthome](#comment:11):\n> thanks for the heads up.\n> \n> yes of course you're right.\n> \n> when ditching gforge in favor of gitlab a few weeks ago, I accidentally forgot the implication that the tarballs that are attached to git tags no longer contain the autotools-generated configure scripts.\n> \n> I'll try to fix that (and first, find out what is \"the right way\" to do it).\n\nunlike [GitHub](../wiki/GitHub), gitlab does not seem to allow attaching binary blobs to releases, only links can be added.\nThus you can create a tarball and post it somewhere. E.g. clone the gitlab repo to a public [GitHub](../wiki/GitHub), and post the tarball there in a release.\nThen you could make a link to it in [GitLab](../wiki/GitLab).\nOr just put it somewhere else on the web.\n\n\n> \n> As regards the sponsorship wall on the inria gitlab account, this has recently been forced on us, and I have only limited hope that we can do something about it. I'm not at all confident that I have the right to create \"normal\" invitee accounts :-(. All I can do is hope that the sponsorship maze that they have invented is at least possible to work out if you have the will to try (and as for me, I'm 100% fine with ticking yes for anyone who wants to contribute to issue trackers)\n\nThis is ludicrous (good luck explaining to your bosses that it goes against the whole concept of open source...). Why couldn't you host a de facto main repo somewhere that allows the public to comment, provide patches/pull requests, etc?",
    "created_at": "2020-08-23T10:44:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484218",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@emmanuelthome](#comment:11):
> thanks for the heads up.
> 
> yes of course you're right.
> 
> when ditching gforge in favor of gitlab a few weeks ago, I accidentally forgot the implication that the tarballs that are attached to git tags no longer contain the autotools-generated configure scripts.
> 
> I'll try to fix that (and first, find out what is "the right way" to do it).

unlike [GitHub](../wiki/GitHub), gitlab does not seem to allow attaching binary blobs to releases, only links can be added.
Thus you can create a tarball and post it somewhere. E.g. clone the gitlab repo to a public [GitHub](../wiki/GitHub), and post the tarball there in a release.
Then you could make a link to it in [GitLab](../wiki/GitLab).
Or just put it somewhere else on the web.


> 
> As regards the sponsorship wall on the inria gitlab account, this has recently been forced on us, and I have only limited hope that we can do something about it. I'm not at all confident that I have the right to create "normal" invitee accounts :-(. All I can do is hope that the sponsorship maze that they have invented is at least possible to work out if you have the will to try (and as for me, I'm 100% fine with ticking yes for anyone who wants to contribute to issue trackers)

This is ludicrous (good luck explaining to your bosses that it goes against the whole concept of open source...). Why couldn't you host a de facto main repo somewhere that allows the public to comment, provide patches/pull requests, etc?



---

archive/issue_comments_484219.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@dimpase](#comment:12):\n> unlike [GitHub](../wiki/GitHub), gitlab does not seem to allow attaching binary blobs to releases, only links can be added.\n> Thus you can create a tarball and post it somewhere. E.g. clone the gitlab repo to a public [GitHub](../wiki/GitHub), and post the tarball there in a release.\n> Then you could make a link to it in [GitLab](../wiki/GitLab).\n> Or just put it somewhere else on the web.\n\nAs a matter of fact, you can add file attachments to the release notes. While this is a manual process that has some some obvious shortcomings, it will do for the time being. I searched a bit for a process that would ship a \"make dist\"-generated tarball as part of gitlab's ci/cd pipelines, but that does not seem to be possible as of now. Maybe in the future.\n\nFor the time being, I did just that, and attached tar.gz for the existing releases (exactly the same tarballs as the ones that used to exist on gforge).\n\nI'm not entirely satisfied, and at this point the url to download these files is too long. Hopefully I'll figure out a way to do that better. But the tar.gz files themselves won't change.",
    "created_at": "2020-08-23T13:09:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484219",
    "user": "https://github.com/emmanuelthome"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@dimpase](#comment:12):
> unlike [GitHub](../wiki/GitHub), gitlab does not seem to allow attaching binary blobs to releases, only links can be added.
> Thus you can create a tarball and post it somewhere. E.g. clone the gitlab repo to a public [GitHub](../wiki/GitHub), and post the tarball there in a release.
> Then you could make a link to it in [GitLab](../wiki/GitLab).
> Or just put it somewhere else on the web.

As a matter of fact, you can add file attachments to the release notes. While this is a manual process that has some some obvious shortcomings, it will do for the time being. I searched a bit for a process that would ship a "make dist"-generated tarball as part of gitlab's ci/cd pipelines, but that does not seem to be possible as of now. Maybe in the future.

For the time being, I did just that, and attached tar.gz for the existing releases (exactly the same tarballs as the ones that used to exist on gforge).

I'm not entirely satisfied, and at this point the url to download these files is too long. Hopefully I'll figure out a way to do that better. But the tar.gz files themselves won't change.



---

archive/issue_comments_484220.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@emmanuelthome](#comment:13):\n> I'm not entirely satisfied, and at this point the url to download these files is too long. Hopefully I'll figure out a way to do that better. But the tar.gz files themselves won't change.\n\nNot sure if that's what you are looking for but if you create these tar.gz files during one of the [GitLab](../wiki/GitLab) CI steps and treat them as build artifacts, they automatically get a reasonable public URL. Here's for a example a log file that is created during the build-from-clean step of the [GitLab](../wiki/GitLab) CI that [SageMath](../wiki/SageMath) is using:\n\nhttps://gitlab.com/sagemath/sage/builds/artifacts/9.2.beta3/file/gitlab-build-docker.log?job=build-from-clean",
    "created_at": "2020-08-23T13:52:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484220",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@emmanuelthome](#comment:13):
> I'm not entirely satisfied, and at this point the url to download these files is too long. Hopefully I'll figure out a way to do that better. But the tar.gz files themselves won't change.

Not sure if that's what you are looking for but if you create these tar.gz files during one of the [GitLab](../wiki/GitLab) CI steps and treat them as build artifacts, they automatically get a reasonable public URL. Here's for a example a log file that is created during the build-from-clean step of the [GitLab](../wiki/GitLab) CI that [SageMath](../wiki/SageMath) is using:

https://gitlab.com/sagemath/sage/builds/artifacts/9.2.beta3/file/gitlab-build-docker.log?job=build-from-clean



---

archive/issue_comments_484221.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0049e35e9a6628b193b7143dd7a58b1d0d8b820\"><code>a0049e3</code></a></td><td><code>#30412 : new upstream tarball that ships configure script</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd5d292893604193ec03e67a14cfb11f8024da95\"><code>cd5d292</code></a></td><td><code>#30412 : do not run autotools in spkg-install</code></td></tr></table>\n",
    "created_at": "2020-08-23T16:56:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484221",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0049e35e9a6628b193b7143dd7a58b1d0d8b820"><code>a0049e3</code></a></td><td><code>#30412 : new upstream tarball that ships configure script</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd5d292893604193ec03e67a14cfb11f8024da95"><code>cd5d292</code></a></td><td><code>#30412 : do not run autotools in spkg-install</code></td></tr></table>




---

archive/issue_comments_484222.json:
```json
{
    "body": "Changed commit from **[`3c9c8f2`](https://github.com/sagemath/sagetrac-mirror/commit/3c9c8f20e134aaa385b444aacfe3e32bbeb8eb27)** to **[`cd5d292`](https://github.com/sagemath/sagetrac-mirror/commit/cd5d292893604193ec03e67a14cfb11f8024da95)**",
    "created_at": "2020-08-23T16:56:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484222",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3c9c8f2`](https://github.com/sagemath/sagetrac-mirror/commit/3c9c8f20e134aaa385b444aacfe3e32bbeb8eb27)** to **[`cd5d292`](https://github.com/sagemath/sagetrac-mirror/commit/cd5d292893604193ec03e67a14cfb11f8024da95)**



---

archive/issue_comments_484223.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThanks for providing an antotoolized tarball. I updated the branch (needs review).",
    "created_at": "2020-08-23T17:01:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484223",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:16" align="right">comment:16</div>

Thanks for providing an antotoolized tarball. I updated the branch (needs review).



---

archive/issue_comments_484224.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n-https://prod-gitlab.inria.fr/gf2x/gf2x/-/releases\n+Upstream autotoolized tarball : https://prod-gitlab.inria.fr/gf2x/gf2x/uploads/c46b1047ba841c20d1225ae73ad6e4cd/gf2x-1.3.0.tar.gz\n+\n+Warning: do not use !https://gitlab.inria.fr/gf2x/gf2x/-/archive/gf2x-1.3.0/gf2x-gf2x-1.3.0.tar.gz\n+\n``````\n",
    "created_at": "2020-08-23T17:01:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484224",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
-https://prod-gitlab.inria.fr/gf2x/gf2x/-/releases
+Upstream autotoolized tarball : https://prod-gitlab.inria.fr/gf2x/gf2x/uploads/c46b1047ba841c20d1225ae73ad6e4cd/gf2x-1.3.0.tar.gz
+
+Warning: do not use !https://gitlab.inria.fr/gf2x/gf2x/-/archive/gf2x-1.3.0/gf2x-gf2x-1.3.0.tar.gz
+
``````




---

archive/issue_comments_484225.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nplease update `upstream_url:` to point to the correct tarball",
    "created_at": "2020-08-23T17:31:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484225",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

please update `upstream_url:` to point to the correct tarball



---

archive/issue_comments_484226.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nNote: the url starts with `prod-gitlab` but starting with\nthe simpler `gitlab` without `prod-` seems to work too.",
    "created_at": "2020-08-23T19:01:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484226",
    "user": "https://github.com/slel"
}
```

<div id="comment:18" align="right">comment:18</div>

Note: the url starts with `prod-gitlab` but starting with
the simpler `gitlab` without `prod-` seems to work too.



---

archive/issue_comments_484227.json:
```json
{
    "body": "Changed commit from **[`cd5d292`](https://github.com/sagemath/sagetrac-mirror/commit/cd5d292893604193ec03e67a14cfb11f8024da95)** to **[`d3772f6`](https://github.com/sagemath/sagetrac-mirror/commit/d3772f64daaaac38db5ef84d1f2bd3eef2ba2209)**",
    "created_at": "2020-08-23T21:20:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484227",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cd5d292`](https://github.com/sagemath/sagetrac-mirror/commit/cd5d292893604193ec03e67a14cfb11f8024da95)** to **[`d3772f6`](https://github.com/sagemath/sagetrac-mirror/commit/d3772f64daaaac38db5ef84d1f2bd3eef2ba2209)**



---

archive/issue_comments_484228.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3772f64daaaac38db5ef84d1f2bd3eef2ba2209\"><code>d3772f6</code></a></td><td><code>#30412 : link to updated upstream tarball location</code></td></tr></table>\n",
    "created_at": "2020-08-23T21:20:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484228",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3772f64daaaac38db5ef84d1f2bd3eef2ba2209"><code>d3772f6</code></a></td><td><code>#30412 : link to updated upstream tarball location</code></td></tr></table>




---

archive/issue_comments_484229.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nDone, i was thinking the generic URL is useful when updating for next release.",
    "created_at": "2020-08-23T22:20:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484229",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:20" align="right">comment:20</div>

Done, i was thinking the generic URL is useful when updating for next release.



---

archive/issue_comments_484230.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nlgtm",
    "created_at": "2020-08-24T16:40:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484230",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:21" align="right">comment:21</div>

lgtm



---

archive/issue_comments_484231.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2020-08-24T16:40:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484231",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_421252.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-08-24T16:40:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30412#event-421252"
}
```



---

archive/issue_events_421253.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-08-24T16:40:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30412#event-421253"
}
```



---

archive/issue_events_421254.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-30T08:38:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30412#event-421254"
}
```



---

archive/issue_events_421255.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "766f974cf5fb12568be8530aa3074fbe9ed195d1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-08-30T08:38:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30412#event-421255"
}
```



---

archive/issue_comments_484232.json:
```json
{
    "body": "Changed branch from **[u/tmonteil/upgrade_gf2x_to_1_3](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/upgrade_gf2x_to_1_3)** to **[`d3772f6`](https://github.com/sagemath/sagetrac-mirror/commit/d3772f64daaaac38db5ef84d1f2bd3eef2ba2209)**",
    "created_at": "2020-08-30T08:38:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30412",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30412#issuecomment-484232",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/tmonteil/upgrade_gf2x_to_1_3](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/upgrade_gf2x_to_1_3)** to **[`d3772f6`](https://github.com/sagemath/sagetrac-mirror/commit/d3772f64daaaac38db5ef84d1f2bd3eef2ba2209)**
