# Issue 30195: tox.ini: Add centos-6, docker-nobootstrap, manylinux-*

archive/issues_029958.json:
```json
{
    "assignees": [],
    "body": "The `docker-nobootstrap` option uses `bootstrap -D`; thus, autotools are not required on the host for the build.\n\nThis enables building with `centos-6` and the `manylinux` images based on `centos-6` (https://github.com/pypa/manylinux).\n\nExamples:\n\n```\ntox -e docker-manylinux-2014-standard\ntox -e docker-manylinux-2014-standard-python3.9\ntox -e docker-manylinux-2010-standard-i686-python3.8\n```\n\n\n\nDepends on #29929\n\nCC:  @kliem @slel\n\nBranch/Commit: **[14da64d](https://github.com/sagemath/sagetrac-mirror/commit/14da64d27c43ad7f3328da208ee942a54b889b5b)**\n\nReviewer: **Jonathan Kliem**\n\nAuthor: **Matthias Koeppe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30195_\n\n",
    "closed_at": "2020-07-28T22:32:03Z",
    "created_at": "2020-07-22T02:39:12Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20porting",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "tox.ini: Add centos-6, docker-nobootstrap, manylinux-*",
    "type": "issue",
    "updated_at": "2020-07-28T22:32:03Z",
    "url": "https://github.com/sagemath/sage/issues/30195",
    "user": "https://github.com/mkoeppe"
}
```
The `docker-nobootstrap` option uses `bootstrap -D`; thus, autotools are not required on the host for the build.

This enables building with `centos-6` and the `manylinux` images based on `centos-6` (https://github.com/pypa/manylinux).

Examples:

```
tox -e docker-manylinux-2014-standard
tox -e docker-manylinux-2014-standard-python3.9
tox -e docker-manylinux-2010-standard-i686-python3.8
```



Depends on #29929

CC:  @kliem @slel

Branch/Commit: **[14da64d](https://github.com/sagemath/sagetrac-mirror/commit/14da64d27c43ad7f3328da208ee942a54b889b5b)**

Reviewer: **Jonathan Kliem**

Author: **Matthias Koeppe**

_Issue created by migration from https://trac.sagemath.org/ticket/30195_





---

archive/issue_events_397603.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-22T02:39:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30195#event-397603"
}
```



---

archive/issue_events_397604.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-22T02:39:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20porting",
    "label_color": "000080",
    "label_name": "component: porting",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30195#event-397604"
}
```



---

archive/issue_events_397605.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-22T02:39:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30195#event-397605"
}
```



---

archive/issue_events_397606.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-22T02:39:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30195#event-397606"
}
```



---

archive/issue_comments_481437.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,13 @@\n-https://github.com/pypa/manylinux\n+The `docker-nobootstrap` option uses `bootstrap -D`; thus, autotools are not required on the host for the build.\n+\n+This enables building with `centos-6` and the `manylinux` images based on `centos-6` (https://github.com/pypa/manylinux).\n+\n+Examples:\n+\n+```\n+tox -e docker-manylinux-2014-standard\n+tox -e docker-manylinux-2014-standard-python3.9\n+tox -e docker-manylinux-2010-standard-i686-python3.8\n+```\n+\n+\n``````\n",
    "created_at": "2020-07-22T04:04:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481437",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,13 @@
-https://github.com/pypa/manylinux
+The `docker-nobootstrap` option uses `bootstrap -D`; thus, autotools are not required on the host for the build.
+
+This enables building with `centos-6` and the `manylinux` images based on `centos-6` (https://github.com/pypa/manylinux).
+
+Examples:
+
+```
+tox -e docker-manylinux-2014-standard
+tox -e docker-manylinux-2014-standard-python3.9
+tox -e docker-manylinux-2010-standard-i686-python3.8
+```
+
+
``````




---

archive/issue_events_397607.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-22T04:04:57Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "title_is": "tox.ini: Add centos-6, docker-nobootstrap, manylinux-*",
    "title_was": "tox.ini: Add manylinux",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30195#event-397607"
}
```



---

archive/issue_comments_481438.json:
```json
{
    "body": "Dependencies: **#29929**",
    "created_at": "2020-07-22T04:04:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481438",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#29929**



---

archive/issue_comments_481439.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-07-22T04:04:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481439",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_481440.json:
```json
{
    "body": "Branch: **[u/mkoeppe/tox_ini__add_manylinux](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_manylinux)**",
    "created_at": "2020-07-22T04:07:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481440",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/tox_ini__add_manylinux](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_manylinux)**



---

archive/issue_comments_481441.json:
```json
{
    "body": "Commit: **[585bdac](https://github.com/sagemath/sagetrac-mirror/commit/585bdac80224f6f6daace3d7d8ab663bf309f752)**",
    "created_at": "2020-07-22T04:08:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481441",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[585bdac](https://github.com/sagemath/sagetrac-mirror/commit/585bdac80224f6f6daace3d7d8ab663bf309f752)**



---

archive/issue_events_397608.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-22T04:08:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30195#event-397608"
}
```



---

archive/issue_comments_481442.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nBranch is 1 commit on top of #29929, which also needs review\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25393b03b5add035608cd09543b3aa4666d100f9\">25393b0</a></td><td><code>Handle SAGE_CHECK_PACKAGES in build/make/Makefile.in, not sage-spkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe\">5aca238</a></td><td><code>Merge branch 't/30118/handle_sage_check_packages_in_build_make_makefile_in__not_sage_spkg' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a17c655a2aac9c80a52893c5373805a233731186\">a17c655</a></td><td><code>m4/sage_spkg_collect.m4: Do not include script packages in SAGE_SDIST_PACKAGES</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/827923adc48858709deba6f99464665e689dc5ef\">827923a</a></td><td><code>bootstrap: Accept 2020s in config.guess version check</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c30ac5431056413c24b1544c2a6a142a4ece9dc5\">c30ac54</a></td><td><code>tox.ini: Add local-nobootstrap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de6464db6b94fcebd5f88337681994fc0eb07e4b\">de6464d</a></td><td><code>.github/workflows/tox.yml: Add jobs \"dist\", \"local-macos-nohomebrew</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/775b7f7a8a406f9ae8aa9ef542384c060b4cbbd4\">775b7f7</a></td><td><code>Trac #30088: add a few explanatory comments to m4/sage_spkg_collect.m4.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/160862fb38046c22a4798f9aa00c6cad4415f540\">160862f</a></td><td><code>m4/sage_spkg_collect.m4: Mention sagelib in the comment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0\">d1a2cbf</a></td><td><code>Merge branch 't/30088/fix__make_sdist___add_test_run_to_github_actions' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/585bdac80224f6f6daace3d7d8ab663bf309f752\">585bdac</a></td><td><code>tox.ini: Add centos-6, docker-nobootstrap, manylinux-*</code></td></tr></table>\n",
    "created_at": "2020-07-22T04:08:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481442",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">Comment 3</div>

Branch is 1 commit on top of #29929, which also needs review

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25393b03b5add035608cd09543b3aa4666d100f9">25393b0</a></td><td><code>Handle SAGE_CHECK_PACKAGES in build/make/Makefile.in, not sage-spkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe">5aca238</a></td><td><code>Merge branch 't/30118/handle_sage_check_packages_in_build_make_makefile_in__not_sage_spkg' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a17c655a2aac9c80a52893c5373805a233731186">a17c655</a></td><td><code>m4/sage_spkg_collect.m4: Do not include script packages in SAGE_SDIST_PACKAGES</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/827923adc48858709deba6f99464665e689dc5ef">827923a</a></td><td><code>bootstrap: Accept 2020s in config.guess version check</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c30ac5431056413c24b1544c2a6a142a4ece9dc5">c30ac54</a></td><td><code>tox.ini: Add local-nobootstrap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de6464db6b94fcebd5f88337681994fc0eb07e4b">de6464d</a></td><td><code>.github/workflows/tox.yml: Add jobs "dist", "local-macos-nohomebrew</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/775b7f7a8a406f9ae8aa9ef542384c060b4cbbd4">775b7f7</a></td><td><code>Trac #30088: add a few explanatory comments to m4/sage_spkg_collect.m4.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/160862fb38046c22a4798f9aa00c6cad4415f540">160862f</a></td><td><code>m4/sage_spkg_collect.m4: Mention sagelib in the comment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0">d1a2cbf</a></td><td><code>Merge branch 't/30088/fix__make_sdist___add_test_run_to_github_actions' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/585bdac80224f6f6daace3d7d8ab663bf309f752">585bdac</a></td><td><code>tox.ini: Add centos-6, docker-nobootstrap, manylinux-*</code></td></tr></table>




---

archive/issue_comments_481443.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nCan you provide an example of this at work?\n\nAccording to the readme, only CPython up to 3.8 are provided with manylinux. Why have you configured python3.9?",
    "created_at": "2020-07-22T07:35:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481443",
    "user": "https://github.com/kliem"
}
```

<div id="comment:4" align="right">Comment 4</div>

Can you provide an example of this at work?

According to the readme, only CPython up to 3.8 are provided with manylinux. Why have you configured python3.9?



---

archive/issue_comments_481444.json:
```json
{
    "body": "Reviewer: **Jonathan Kliem**",
    "created_at": "2020-07-22T07:35:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481444",
    "user": "https://github.com/kliem"
}
```

Reviewer: **Jonathan Kliem**



---

archive/issue_comments_481445.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nThe readme does not seem to be up to date. On an actual docker image:\n\n```\n[root@4185c8d9310b /]# /opt/python/cp3 TAB\ncp35-cp35m/ cp36-cp36m/ cp37-cp37m/ cp38-cp38/  cp39-cp39/  \n```",
    "created_at": "2020-07-22T07:39:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481445",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">Comment 5</div>

The readme does not seem to be up to date. On an actual docker image:

```
[root@4185c8d9310b /]# /opt/python/cp3 TAB
cp35-cp35m/ cp36-cp36m/ cp37-cp37m/ cp38-cp38/  cp39-cp39/  
```



---

archive/issue_comments_481446.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nThat was one of my guesses.\n\nDo the new environments work with github actions? If you haven't tested it yet, I have free capacities and can just test this ticket.",
    "created_at": "2020-07-22T07:41:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481446",
    "user": "https://github.com/kliem"
}
```

<div id="comment:6" align="right">Comment 6</div>

That was one of my guesses.

Do the new environments work with github actions? If you haven't tested it yet, I have free capacities and can just test this ticket.



---

archive/issue_comments_481447.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nThey should work, just add them to tox.yml for testing. I haven't tested them widely yet, only one run of `docker-manylinux-2014-standard` on my computer. Best to test together with #30173",
    "created_at": "2020-07-22T07:43:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481447",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">Comment 7</div>

They should work, just add them to tox.yml for testing. I haven't tested them widely yet, only one run of `docker-manylinux-2014-standard` on my computer. Best to test together with #30173



---

archive/issue_comments_481448.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\n\n```\n File \"/usr/lib/python3/dist-packages/tox/session.py\", line 38, in main\n    config = prepare(args)\n  File \"/usr/lib/python3/dist-packages/tox/session.py\", line 26, in prepare\n    config = parseconfig(args)\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 239, in parseconfig\n    parseini(config, inipath)\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 760, in __init__\n    self.make_envconfig(name, section, reader._subs, config)\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 791, in make_envconfig\n    res = meth(env_attr.name, env_attr.default)\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 964, in getargvlist\n    return _ArgvlistReader.getargvlist(self, s)\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 1134, in getargvlist\n    commands.append(cls.processcommand(reader, current_command))\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 1164, in processcommand\n    new_word = reader._replace(word)\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 1008, in _replace\n    return Replacer(self, crossonly=crossonly).do_replace(value)\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 1028, in do_replace\n    return self.RE_ITEM_REF.sub(self._replace_match, x)\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 1057, in _replace_match\n    return self._replace_env(match)\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 1077, in _replace_env\n    (envkey, envkey))\ntox.ConfigError: ConfigError: substitution env:'BOOTSTRAP': unknown environment variable 'BOOTSTRAP'  or recursive definition.\n##[error]Process completed with exit code 1.\n```\n\nhttps://github.com/kliem/sage/runs/897566509?check_suite_focus=true",
    "created_at": "2020-07-22T09:25:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481448",
    "user": "https://github.com/kliem"
}
```

<div id="comment:8" align="right">Comment 8</div>


```
 File "/usr/lib/python3/dist-packages/tox/session.py", line 38, in main
    config = prepare(args)
  File "/usr/lib/python3/dist-packages/tox/session.py", line 26, in prepare
    config = parseconfig(args)
  File "/usr/lib/python3/dist-packages/tox/config.py", line 239, in parseconfig
    parseini(config, inipath)
  File "/usr/lib/python3/dist-packages/tox/config.py", line 760, in __init__
    self.make_envconfig(name, section, reader._subs, config)
  File "/usr/lib/python3/dist-packages/tox/config.py", line 791, in make_envconfig
    res = meth(env_attr.name, env_attr.default)
  File "/usr/lib/python3/dist-packages/tox/config.py", line 964, in getargvlist
    return _ArgvlistReader.getargvlist(self, s)
  File "/usr/lib/python3/dist-packages/tox/config.py", line 1134, in getargvlist
    commands.append(cls.processcommand(reader, current_command))
  File "/usr/lib/python3/dist-packages/tox/config.py", line 1164, in processcommand
    new_word = reader._replace(word)
  File "/usr/lib/python3/dist-packages/tox/config.py", line 1008, in _replace
    return Replacer(self, crossonly=crossonly).do_replace(value)
  File "/usr/lib/python3/dist-packages/tox/config.py", line 1028, in do_replace
    return self.RE_ITEM_REF.sub(self._replace_match, x)
  File "/usr/lib/python3/dist-packages/tox/config.py", line 1057, in _replace_match
    return self._replace_env(match)
  File "/usr/lib/python3/dist-packages/tox/config.py", line 1077, in _replace_env
    (envkey, envkey))
tox.ConfigError: ConfigError: substitution env:'BOOTSTRAP': unknown environment variable 'BOOTSTRAP'  or recursive definition.
##[error]Process completed with exit code 1.
```

https://github.com/kliem/sage/runs/897566509?check_suite_focus=true



---

archive/issue_comments_481449.json:
```json
{
    "body": "Changed commit from **[585bdac](https://github.com/sagemath/sagetrac-mirror/commit/585bdac80224f6f6daace3d7d8ab663bf309f752)** to **[756f310](https://github.com/sagemath/sagetrac-mirror/commit/756f310bce050bd1c4303398638d061a0705feb4)**",
    "created_at": "2020-07-22T15:47:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481449",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[585bdac](https://github.com/sagemath/sagetrac-mirror/commit/585bdac80224f6f6daace3d7d8ab663bf309f752)** to **[756f310](https://github.com/sagemath/sagetrac-mirror/commit/756f310bce050bd1c4303398638d061a0705feb4)**



---

archive/issue_comments_481450.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/756f310bce050bd1c4303398638d061a0705feb4\">756f310</a></td><td><code>tox.ini: Initialize the BOOTSTRAP variable</code></td></tr></table>\n",
    "created_at": "2020-07-22T15:47:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481450",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9" align="right">Comment 9</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/756f310bce050bd1c4303398638d061a0705feb4">756f310</a></td><td><code>tox.ini: Initialize the BOOTSTRAP variable</code></td></tr></table>




---

archive/issue_comments_481451.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nThanks for catching this",
    "created_at": "2020-07-22T15:47:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481451",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">Comment 10</div>

Thanks for catching this



---

archive/issue_comments_481452.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nCentos 6 seems to work in the way that it fails to buil `mpir`.\n\nThere are many errors with manylinux like\n\n```\n   File \"/usr/lib/python3/dist-packages/tox/config.py\", line 1008, in _replace\n    return Replacer(self, crossonly=crossonly).do_replace(value)\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 1028, in do_replace\n    return self.RE_ITEM_REF.sub(self._replace_match, x)\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 1057, in _replace_match\n    return self._replace_env(match)\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 1071, in _replace_env\n    envvalue = self.reader.get_environ_value(envkey)\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 903, in get_environ_value\n    return self._setenv.get(name)\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 286, in get\n    self.resolved[name] = res = self.reader._replace(val)\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 1008, in _replace\n    return Replacer(self, crossonly=crossonly).do_replace(value)\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 1028, in do_replace\n    return self.RE_ITEM_REF.sub(self._replace_match, x)\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 1057, in _replace_match\n    return self._replace_env(match)\n  File \"/usr/lib/python3/dist-packages/tox/config.py\", line 1077, in _replace_env\n    (envkey, envkey))\ntox.ConfigError: ConfigError: substitution env:'BASE_IMAGE': unknown environment variable 'BASE_IMAGE'  or recursive definition.\n```\n\nhttps://github.com/kliem/sage/runs/899346008?check_suite_focus=true\n\nand \n\n```\n Step 14/18 : RUN ${BOOTSTRAP}\n ---> Running in d5c9ccb6ceb3\nrm -rf config configure build/make/Makefile-auto.in\nrm -f src/doc/en/installation/*.txt\nrm -rf src/doc/en/reference/spkg/*.rst\nrm -f src/doc/en/reference/repl/*.txt\nTraceback (most recent call last):\n  File \"/sage/build/bin/sage-download-file\", line 27, in ?\n    from sage_bootstrap.download.cmdline import run_safe\n  File \"/sage/build/bin/../sage_bootstrap/download/__init__.py\", line 7, in ?\n    from sage_bootstrap.download.transfer import Download\n  File \"/sage/build/bin/../sage_bootstrap/download/transfer.py\", line 43\n    n = 0 if chunks_so_far == 0 else self.length // 2\n           ^\nSyntaxError: invalid syntax\nError: downloading configure-339b4599590f3dc3acec5eace4b7a82f210d3219.tar.gz failed\n```\n\nhttps://github.com/kliem/sage/runs/899346035?check_suite_focus=true\n\nShould they be fixed here?",
    "created_at": "2020-07-23T17:09:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481452",
    "user": "https://github.com/kliem"
}
```

<div id="comment:11" align="right">Comment 11</div>

Centos 6 seems to work in the way that it fails to buil `mpir`.

There are many errors with manylinux like

```
   File "/usr/lib/python3/dist-packages/tox/config.py", line 1008, in _replace
    return Replacer(self, crossonly=crossonly).do_replace(value)
  File "/usr/lib/python3/dist-packages/tox/config.py", line 1028, in do_replace
    return self.RE_ITEM_REF.sub(self._replace_match, x)
  File "/usr/lib/python3/dist-packages/tox/config.py", line 1057, in _replace_match
    return self._replace_env(match)
  File "/usr/lib/python3/dist-packages/tox/config.py", line 1071, in _replace_env
    envvalue = self.reader.get_environ_value(envkey)
  File "/usr/lib/python3/dist-packages/tox/config.py", line 903, in get_environ_value
    return self._setenv.get(name)
  File "/usr/lib/python3/dist-packages/tox/config.py", line 286, in get
    self.resolved[name] = res = self.reader._replace(val)
  File "/usr/lib/python3/dist-packages/tox/config.py", line 1008, in _replace
    return Replacer(self, crossonly=crossonly).do_replace(value)
  File "/usr/lib/python3/dist-packages/tox/config.py", line 1028, in do_replace
    return self.RE_ITEM_REF.sub(self._replace_match, x)
  File "/usr/lib/python3/dist-packages/tox/config.py", line 1057, in _replace_match
    return self._replace_env(match)
  File "/usr/lib/python3/dist-packages/tox/config.py", line 1077, in _replace_env
    (envkey, envkey))
tox.ConfigError: ConfigError: substitution env:'BASE_IMAGE': unknown environment variable 'BASE_IMAGE'  or recursive definition.
```

https://github.com/kliem/sage/runs/899346008?check_suite_focus=true

and 

```
 Step 14/18 : RUN ${BOOTSTRAP}
 ---> Running in d5c9ccb6ceb3
rm -rf config configure build/make/Makefile-auto.in
rm -f src/doc/en/installation/*.txt
rm -rf src/doc/en/reference/spkg/*.rst
rm -f src/doc/en/reference/repl/*.txt
Traceback (most recent call last):
  File "/sage/build/bin/sage-download-file", line 27, in ?
    from sage_bootstrap.download.cmdline import run_safe
  File "/sage/build/bin/../sage_bootstrap/download/__init__.py", line 7, in ?
    from sage_bootstrap.download.transfer import Download
  File "/sage/build/bin/../sage_bootstrap/download/transfer.py", line 43
    n = 0 if chunks_so_far == 0 else self.length // 2
           ^
SyntaxError: invalid syntax
Error: downloading configure-339b4599590f3dc3acec5eace4b7a82f210d3219.tar.gz failed
```

https://github.com/kliem/sage/runs/899346035?check_suite_focus=true

Should they be fixed here?



---

archive/issue_comments_481453.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nI'll look into the tox config error first.",
    "created_at": "2020-07-23T17:27:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481453",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">Comment 12</div>

I'll look into the tox config error first.



---

archive/issue_events_397609.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-23T17:27:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30195#event-397609"
}
```



---

archive/issue_events_397610.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-23T17:27:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30195#event-397610"
}
```



---

archive/issue_comments_481454.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nReplying to [@kliem](#comment%3A11):\n> Centos 6 seems to work in the way that it fails to buil `mpir`.\n\nRight... errors from an ancient assembler version.\n\n```\ntmp-mul_1.s: Assembler messages:\ntmp-mul_1.s:94: Error: no such instruction: `mulx (%rsi),%r9,%r8'\ntmp-mul_1.s:95: Error: no such instruction: `mulx 8(%rsi),%r11,%r10'\ntmp-mul_1.s:96: Error: no such instruction: `mulx 16(%rsi),%rcx,%r12'\n```\nWe'll definitely not try to support `centos-6` and shouldn't be adding it to `tox.yml`.",
    "created_at": "2020-07-23T23:13:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481454",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">Comment 13</div>

Replying to [@kliem](#comment%3A11):
> Centos 6 seems to work in the way that it fails to buil `mpir`.

Right... errors from an ancient assembler version.

```
tmp-mul_1.s: Assembler messages:
tmp-mul_1.s:94: Error: no such instruction: `mulx (%rsi),%r9,%r8'
tmp-mul_1.s:95: Error: no such instruction: `mulx 8(%rsi),%r11,%r10'
tmp-mul_1.s:96: Error: no such instruction: `mulx 16(%rsi),%rcx,%r12'
```
We'll definitely not try to support `centos-6` and shouldn't be adding it to `tox.yml`.



---

archive/issue_comments_481455.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nReplying to [@kliem](#comment%3A11):\n> Centos 6 seems to work in the way that it fails to buil `mpir`.\n> \n> There are many errors with manylinux like\n> \n> ```\n> tox.ConfigError: ConfigError: substitution env:'BASE_IMAGE': unknown environment variable 'BASE_IMAGE'  or recursive definition.\n> ```\n\nThis is just caused by me not adding documentation and leaving you to guess what is supported. `manylinux` is not a configuration - only `manylinux-1`, `manylinux-2010`, `manylinux-2014` are.\n\nI'll make `manylinux` an alias for `manylinux-2014` and add some documentation.",
    "created_at": "2020-07-23T23:16:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481455",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">Comment 14</div>

Replying to [@kliem](#comment%3A11):
> Centos 6 seems to work in the way that it fails to buil `mpir`.
> 
> There are many errors with manylinux like
> 
> ```
> tox.ConfigError: ConfigError: substitution env:'BASE_IMAGE': unknown environment variable 'BASE_IMAGE'  or recursive definition.
> ```

This is just caused by me not adding documentation and leaving you to guess what is supported. `manylinux` is not a configuration - only `manylinux-1`, `manylinux-2010`, `manylinux-2014` are.

I'll make `manylinux` an alias for `manylinux-2014` and add some documentation.



---

archive/issue_comments_481456.json:
```json
{
    "body": "Changed commit from **[756f310](https://github.com/sagemath/sagetrac-mirror/commit/756f310bce050bd1c4303398638d061a0705feb4)** to **[8c13ac7](https://github.com/sagemath/sagetrac-mirror/commit/8c13ac7bef0b07070f761035064c6920384ca46b)**",
    "created_at": "2020-07-23T23:17:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481456",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[756f310](https://github.com/sagemath/sagetrac-mirror/commit/756f310bce050bd1c4303398638d061a0705feb4)** to **[8c13ac7](https://github.com/sagemath/sagetrac-mirror/commit/8c13ac7bef0b07070f761035064c6920384ca46b)**



---

archive/issue_comments_481457.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c13ac7bef0b07070f761035064c6920384ca46b\">8c13ac7</a></td><td><code>tox.ini: Make manylinux default to manylinux-2014, add documentation</code></td></tr></table>\n",
    "created_at": "2020-07-23T23:17:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481457",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15" align="right">Comment 15</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c13ac7bef0b07070f761035064c6920384ca46b">8c13ac7</a></td><td><code>tox.ini: Make manylinux default to manylinux-2014, add documentation</code></td></tr></table>




---

archive/issue_comments_481458.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nReplying to [@kliem](#comment%3A11):\n> \n> ```\n>   File \"/sage/build/bin/../sage_bootstrap/download/transfer.py\", line 43\n>     n = 0 if chunks_so_far == 0 else self.length // 2\n>            ^\n> SyntaxError: invalid syntax\n> Error: downloading configure-339b4599590f3dc3acec5eace4b7a82f210d3219.tar.gz failed\n> ```\n> \n> https://github.com/kliem/sage/runs/899346035?check_suite_focus=true\n\nThe added comments also explain this one -- `manylinux-1` is too old, after all, and sage cannot build on it",
    "created_at": "2020-07-23T23:19:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481458",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">Comment 16</div>

Replying to [@kliem](#comment%3A11):
> 
> ```
>   File "/sage/build/bin/../sage_bootstrap/download/transfer.py", line 43
>     n = 0 if chunks_so_far == 0 else self.length // 2
>            ^
> SyntaxError: invalid syntax
> Error: downloading configure-339b4599590f3dc3acec5eace4b7a82f210d3219.tar.gz failed
> ```
> 
> https://github.com/kliem/sage/runs/899346035?check_suite_focus=true

The added comments also explain this one -- `manylinux-1` is too old, after all, and sage cannot build on it



---

archive/issue_comments_481459.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nOn `manylinux-2010-minimal` (https://github.com/kliem/sage/runs/899346056), building python3 fails with `./python: error while loading shared libraries: libcrypt.so.2: cannot open shared object file: No such file or directory` (related to #29012?)\n... but actually it was intended to use the installed python3 in `/opt`. Looks like I need to make adjustments for `-2010`.",
    "created_at": "2020-07-23T23:28:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481459",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">Comment 17</div>

On `manylinux-2010-minimal` (https://github.com/kliem/sage/runs/899346056), building python3 fails with `./python: error while loading shared libraries: libcrypt.so.2: cannot open shared object file: No such file or directory` (related to #29012?)
... but actually it was intended to use the installed python3 in `/opt`. Looks like I need to make adjustments for `-2010`.



---

archive/issue_comments_481460.json:
```json
{
    "body": "Changed commit from **[8c13ac7](https://github.com/sagemath/sagetrac-mirror/commit/8c13ac7bef0b07070f761035064c6920384ca46b)** to **[2747c37](https://github.com/sagemath/sagetrac-mirror/commit/2747c379b26310253b4a5996b9dd6e74858d3323)**",
    "created_at": "2020-07-24T01:23:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481460",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8c13ac7](https://github.com/sagemath/sagetrac-mirror/commit/8c13ac7bef0b07070f761035064c6920384ca46b)** to **[2747c37](https://github.com/sagemath/sagetrac-mirror/commit/2747c379b26310253b4a5996b9dd6e74858d3323)**



---

archive/issue_comments_481461.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c670d38765d730a4e54e2bc502d92aecc687b5e\">4c670d3</a></td><td><code>build/pkgs/xz/spkg-configure.m4: Slightly lower the xz version bound set in #26286, for manylinux-2010</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f431648cad8a3b649a94bd6b7d9ef2e70ad3f4f\">2f43164</a></td><td><code>tox.ini [manylinux]: Use --with-system-python3=force</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2747c379b26310253b4a5996b9dd6e74858d3323\">2747c37</a></td><td><code>tox.ini [manylinux]: Patch the downloaded configure file so that system xz is accepted</code></td></tr></table>\n",
    "created_at": "2020-07-24T01:23:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481461",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18" align="right">Comment 18</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c670d38765d730a4e54e2bc502d92aecc687b5e">4c670d3</a></td><td><code>build/pkgs/xz/spkg-configure.m4: Slightly lower the xz version bound set in #26286, for manylinux-2010</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f431648cad8a3b649a94bd6b7d9ef2e70ad3f4f">2f43164</a></td><td><code>tox.ini [manylinux]: Use --with-system-python3=force</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2747c379b26310253b4a5996b9dd6e74858d3323">2747c37</a></td><td><code>tox.ini [manylinux]: Patch the downloaded configure file so that system xz is accepted</code></td></tr></table>




---

archive/issue_events_397611.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-24T01:25:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30195#event-397611"
}
```



---

archive/issue_events_397612.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-24T01:25:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30195#event-397612"
}
```



---

archive/issue_comments_481462.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nWhen you have a chance, please test this version again. See above on my comments on the supported tox environments. Also note the images for non-x86 archs can't work on Linux Docker (and thus on GH Actions) because they are not multi-arch images. They work on macOS Docker Desktop because they are running inside of an emulator.",
    "created_at": "2020-07-24T01:46:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481462",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">Comment 20</div>

When you have a chance, please test this version again. See above on my comments on the supported tox environments. Also note the images for non-x86 archs can't work on Linux Docker (and thus on GH Actions) because they are not multi-arch images. They work on macOS Docker Desktop because they are running inside of an emulator.



---

archive/issue_comments_481463.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nhttps://github.com/kliem/sage/actions/runs/180807074\n\nThat is what I'm testing for now:\n\n```\n tox_system_factor: [ubuntu-focal, debian-buster, centos-8, manylinux-1, manylinux-2010, manylinux-2014, manylinux-2014-python3.7]\n```\n\nmanylinux-1 will of course fail.",
    "created_at": "2020-07-24T06:19:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481463",
    "user": "https://github.com/kliem"
}
```

<div id="comment:21" align="right">Comment 21</div>

https://github.com/kliem/sage/actions/runs/180807074

That is what I'm testing for now:

```
 tox_system_factor: [ubuntu-focal, debian-buster, centos-8, manylinux-1, manylinux-2010, manylinux-2014, manylinux-2014-python3.7]
```

manylinux-1 will of course fail.



---

archive/issue_comments_481464.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nI'm getting configure failures with minimal. Will this be a subject of this ticket or of another one?\n\nOtherwise it's looking fine.",
    "created_at": "2020-07-24T11:09:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481464",
    "user": "https://github.com/kliem"
}
```

<div id="comment:22" align="right">Comment 22</div>

I'm getting configure failures with minimal. Will this be a subject of this ticket or of another one?

Otherwise it's looking fine.



---

archive/issue_comments_481465.json:
```json
{
    "body": "Changed commit from **[2747c37](https://github.com/sagemath/sagetrac-mirror/commit/2747c379b26310253b4a5996b9dd6e74858d3323)** to **[14da64d](https://github.com/sagemath/sagetrac-mirror/commit/14da64d27c43ad7f3328da208ee942a54b889b5b)**",
    "created_at": "2020-07-24T15:38:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481465",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2747c37](https://github.com/sagemath/sagetrac-mirror/commit/2747c379b26310253b4a5996b9dd6e74858d3323)** to **[14da64d](https://github.com/sagemath/sagetrac-mirror/commit/14da64d27c43ad7f3328da208ee942a54b889b5b)**



---

archive/issue_comments_481466.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14da64d27c43ad7f3328da208ee942a54b889b5b\">14da64d</a></td><td><code>tox.ini [manylinux]: Do not use --with-system-python3=force for -minimal</code></td></tr></table>\n",
    "created_at": "2020-07-24T15:38:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481466",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23" align="right">Comment 23</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14da64d27c43ad7f3328da208ee942a54b889b5b">14da64d</a></td><td><code>tox.ini [manylinux]: Do not use --with-system-python3=force for -minimal</code></td></tr></table>




---

archive/issue_comments_481467.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nmanylinux-2014-python3.7, minimal still fails at configuration.\n\nhttps://github.com/kliem/sage/runs/908012032?check_suite_focus=true\n\nMaybe I just got the name scheme wrong.",
    "created_at": "2020-07-24T19:42:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481467",
    "user": "https://github.com/kliem"
}
```

<div id="comment:24" align="right">Comment 24</div>

manylinux-2014-python3.7, minimal still fails at configuration.

https://github.com/kliem/sage/runs/908012032?check_suite_focus=true

Maybe I just got the name scheme wrong.



---

archive/issue_comments_481468.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\n`minimal` with `python3.7` cannot work because python3 dependencies such as sqlite3 are not available from the system and therefore it cannot use system python3.",
    "created_at": "2020-07-24T19:46:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481468",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">Comment 25</div>

`minimal` with `python3.7` cannot work because python3 dependencies such as sqlite3 are not available from the system and therefore it cannot use system python3.



---

archive/issue_comments_481469.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nhttps://github.com/kliem/sage/actions/runs/181590963\n\nThis seems to work well. At least according to the timings we are well in the build process. Any failures are probably subject to different tickets now.\n\nIf the run turns out to your satisfaction, you can put it on positive review on my behalf.",
    "created_at": "2020-07-24T21:14:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481469",
    "user": "https://github.com/kliem"
}
```

<div id="comment:26" align="right">Comment 26</div>

https://github.com/kliem/sage/actions/runs/181590963

This seems to work well. At least according to the timings we are well in the build process. Any failures are probably subject to different tickets now.

If the run turns out to your satisfaction, you can put it on positive review on my behalf.



---

archive/issue_comments_481470.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nThank you!",
    "created_at": "2020-07-25T01:49:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481470",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:27" align="right">Comment 27</div>

Thank you!



---

archive/issue_events_397613.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-25T01:49:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30195#event-397613"
}
```



---

archive/issue_events_397614.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-25T01:49:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30195#event-397614"
}
```



---

archive/issue_events_397615.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-28T22:32:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30195#event-397615"
}
```



---

archive/issue_events_397616.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "95d311d3e654ba097f857bdfe081cea6206493d3",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-07-28T22:32:03Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30195#event-397616"
}
```



---

archive/issue_comments_481471.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/tox_ini__add_manylinux](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_manylinux)** to **[14da64d](https://github.com/sagemath/sagetrac-mirror/commit/14da64d27c43ad7f3328da208ee942a54b889b5b)**",
    "created_at": "2020-07-28T22:32:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30195",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30195#issuecomment-481471",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/tox_ini__add_manylinux](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_manylinux)** to **[14da64d](https://github.com/sagemath/sagetrac-mirror/commit/14da64d27c43ad7f3328da208ee942a54b889b5b)**
