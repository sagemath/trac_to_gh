# Issue 30310: Immutability of chart functions

archive/issues_030073.json:
```json
{
    "body": "Immutability of chart functions, see #30261.\n\n**CC:**  @egourgoulhon @tscrim @mkoeppe\n\n**Keywords:** immutability\n\n**Branch/Commit:** [e855ebc9c793e8ca9e66b3cb667758fc1b3bcaa3](https://github.com/sagemath/sagetrac-mirror/commit/e855ebc9c793e8ca9e66b3cb667758fc1b3bcaa3)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Michael Jung\n\n**Dependencies:** #31181, #31182\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30310\n\n",
    "closed_at": "2021-03-09T00:02:27Z",
    "created_at": "2020-08-07T12:28:27Z",
    "labels": [
        "component: manifolds"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Immutability of chart functions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30310",
    "user": "https://github.com/mjungmath"
}
```
Immutability of chart functions, see #30261.

**CC:**  @egourgoulhon @tscrim @mkoeppe

**Keywords:** immutability

**Branch/Commit:** [e855ebc9c793e8ca9e66b3cb667758fc1b3bcaa3](https://github.com/sagemath/sagetrac-mirror/commit/e855ebc9c793e8ca9e66b3cb667758fc1b3bcaa3)

**Reviewer:** Travis Scrimshaw

**Author:** Michael Jung

**Dependencies:** #31181, #31182

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/30310





---

archive/issue_comments_597304.json:
```json
{
    "body": "**Branch:** [u/gh-mjungmath/immutability_of_chart_functions](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mjungmath/immutability_of_chart_functions)",
    "created_at": "2020-08-07T12:55:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597304",
    "user": "https://github.com/mjungmath"
}
```

**Branch:** [u/gh-mjungmath/immutability_of_chart_functions](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mjungmath/immutability_of_chart_functions)



---

archive/issue_comments_597305.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+Immutability of chart functions, see #30261.\n``````\n",
    "created_at": "2020-08-07T12:57:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597305",
    "user": "https://github.com/mjungmath"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+Immutability of chart functions, see #30261.
``````




---

archive/issue_comments_597306.json:
```json
{
    "body": "**Author:** Michael Jung",
    "created_at": "2020-08-07T12:57:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597306",
    "user": "https://github.com/mjungmath"
}
```

**Author:** Michael Jung



---

archive/issue_comments_597307.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/286d3c604d0fe9aa2f78b5c09773c4af3bb3369b\">286d3c6</a></td><td><code>FreeModuleTensor, Vector: Subclass a new class ModuleElementWithMutability</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9df3d22ca84da6b604226d5b88d2a581b0cc53ca\">9df3d22</a></td><td><code>sage.tensor.modules: Make all zero() and one() elements immutable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4373ea269d9d426163fa3d1e72bdf6e20c412f87\">4373ea2</a></td><td><code>FreeModuleTensor: Replace special casing of the immutable zero by is_immutable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2ee8beb504477a3215e002391e44a51b2957ca2\">a2ee8be</a></td><td><code>ModuleElementWithMutability.is_immutable, is_mutable: Change def to cpdef</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8600c2d249532a7487d771cadde799adc264f091\">8600c2d</a></td><td><code>Merge branch 't/30181/immutable_elements_of_freemoduletensor' into t/30310/immutability_of_chart_functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76229bd5c1111d77dc7c98da97e96c0cc653fcda\">76229bd</a></td><td><code>Trac #30310: immutability of chart functions</code></td></tr></table>\n",
    "created_at": "2020-08-07T12:57:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597307",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/286d3c604d0fe9aa2f78b5c09773c4af3bb3369b">286d3c6</a></td><td><code>FreeModuleTensor, Vector: Subclass a new class ModuleElementWithMutability</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9df3d22ca84da6b604226d5b88d2a581b0cc53ca">9df3d22</a></td><td><code>sage.tensor.modules: Make all zero() and one() elements immutable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4373ea269d9d426163fa3d1e72bdf6e20c412f87">4373ea2</a></td><td><code>FreeModuleTensor: Replace special casing of the immutable zero by is_immutable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2ee8beb504477a3215e002391e44a51b2957ca2">a2ee8be</a></td><td><code>ModuleElementWithMutability.is_immutable, is_mutable: Change def to cpdef</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8600c2d249532a7487d771cadde799adc264f091">8600c2d</a></td><td><code>Merge branch 't/30181/immutable_elements_of_freemoduletensor' into t/30310/immutability_of_chart_functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76229bd5c1111d77dc7c98da97e96c0cc653fcda">76229bd</a></td><td><code>Trac #30310: immutability of chart functions</code></td></tr></table>




---

archive/issue_comments_597308.json:
```json
{
    "body": "**Commit:** [76229bd5c1111d77dc7c98da97e96c0cc653fcda](https://github.com/sagemath/sagetrac-mirror/commit/76229bd5c1111d77dc7c98da97e96c0cc653fcda)",
    "created_at": "2020-08-07T12:57:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597308",
    "user": "https://github.com/mjungmath"
}
```

**Commit:** [76229bd5c1111d77dc7c98da97e96c0cc653fcda](https://github.com/sagemath/sagetrac-mirror/commit/76229bd5c1111d77dc7c98da97e96c0cc653fcda)



---

archive/issue_comments_597309.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"immutability\".",
    "created_at": "2020-08-07T12:57:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597309",
    "user": "https://github.com/mjungmath"
}
```

**Changing keywords** from "" to "immutability".



---

archive/issue_comments_597310.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2020-08-07T12:57:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597310",
    "user": "https://github.com/mjungmath"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_597311.json:
```json
{
    "body": "**Dependencies:** #30181",
    "created_at": "2020-08-07T13:09:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597311",
    "user": "https://github.com/mjungmath"
}
```

**Dependencies:** #30181



---

archive/issue_comments_597312.json:
```json
{
    "body": "<a id='comment:4'></a>\nWhy is #30181 a dependency of this ticket? A priori chart functions are totally independent from tensor fields. They even exist on pure topological manifolds.",
    "created_at": "2020-08-07T14:47:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597312",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:4'></a>
Why is #30181 a dependency of this ticket? A priori chart functions are totally independent from tensor fields. They even exist on pure topological manifolds.



---

archive/issue_comments_597313.json:
```json
{
    "body": "<a id='comment:5'></a>\nIt is because of\n\n```diff\n-from sage.structure.element import AlgebraElement\n+from sage.structure.element import AlgebraElement, ModuleElementWithMutability\n...\n-class ChartFunction(AlgebraElement):\n+class ChartFunction(AlgebraElement, ModuleElementWithMutability):\n```",
    "created_at": "2020-08-07T15:45:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597313",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:5'></a>
It is because of

```diff
-from sage.structure.element import AlgebraElement
+from sage.structure.element import AlgebraElement, ModuleElementWithMutability
...
-class ChartFunction(AlgebraElement):
+class ChartFunction(AlgebraElement, ModuleElementWithMutability):
```



---

archive/issue_comments_597314.json:
```json
{
    "body": "<a id='comment:6'></a>\n`ModuleElementWithMutability` is first introduced in #30181.",
    "created_at": "2020-08-07T16:08:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597314",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:6'></a>
`ModuleElementWithMutability` is first introduced in #30181.



---

archive/issue_comments_597315.json:
```json
{
    "body": "<a id='comment:7'></a>\nI feel like the `MultiCoordFunction` should inherit from `Mutability` rather than copy the same code.",
    "created_at": "2020-08-07T22:41:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597315",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
I feel like the `MultiCoordFunction` should inherit from `Mutability` rather than copy the same code.



---

archive/issue_comments_597316.json:
```json
{
    "body": "<a id='comment:8'></a>\nIt'd be the same issue like we had for affine connections (#30280): `__reduce__` (#30281).",
    "created_at": "2020-08-07T22:47:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597316",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:8'></a>
It'd be the same issue like we had for affine connections (#30280): `__reduce__` (#30281).



---

archive/issue_comments_597317.json:
```json
{
    "body": "<a id='comment:9'></a>\nI know, but as a stop-gap, you could instead implement a `__reduce__`. I don't really like this duplication. Hopefully this week I can get around to properly doing #30281...",
    "created_at": "2020-08-07T22:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597317",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
I know, but as a stop-gap, you could instead implement a `__reduce__`. I don't really like this duplication. Hopefully this week I can get around to properly doing #30281...



---

archive/issue_comments_597318.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [gh-mjungmath](#comment%3A5):\n> It is because of\n> \n> ```diff\n> -from sage.structure.element import AlgebraElement\n> +from sage.structure.element import AlgebraElement, ModuleElementWithMutability\n> ...\n> -class ChartFunction(AlgebraElement):\n> +class ChartFunction(AlgebraElement, ModuleElementWithMutability):\n> ```\n\n\nAh yes, thanks.",
    "created_at": "2020-08-09T12:50:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597318",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:10'></a>
Replying to [gh-mjungmath](#comment%3A5):
> It is because of
> 
> ```diff
> -from sage.structure.element import AlgebraElement
> +from sage.structure.element import AlgebraElement, ModuleElementWithMutability
> ...
> -class ChartFunction(AlgebraElement):
> +class ChartFunction(AlgebraElement, ModuleElementWithMutability):
> ```


Ah yes, thanks.



---

archive/issue_events_088473.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30310#event-88473"
}
```



---

archive/issue_comments_597319.json:
```json
{
    "body": "<a id='comment:12'></a>\nI tried to remove the redundant code and inherit from `Mutability` after #30281. For some reason, I still get a pickling error during doctest.\n\nFurthermore, the code seems broken: `is_immutable` does not return anything:\n\n```python\n    def is_immutable(self):\n        \"\"\"\n        ...\n        \"\"\"\n        self._is_immutable\n```\n\nWhen did that happen?",
    "created_at": "2021-01-04T17:30:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597319",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:12'></a>
I tried to remove the redundant code and inherit from `Mutability` after #30281. For some reason, I still get a pickling error during doctest.

Furthermore, the code seems broken: `is_immutable` does not return anything:

```python
    def is_immutable(self):
        """
        ...
        """
        self._is_immutable
```

When did that happen?



---

archive/issue_comments_597320.json:
```json
{
    "body": "<a id='comment:14'></a>\nI opened a ticket for the missing `return`: #31181.\n\nFurthermore, I've opened a ticket for the still remaining pickling test error: #31182.",
    "created_at": "2021-01-04T20:16:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597320",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:14'></a>
I opened a ticket for the missing `return`: #31181.

Furthermore, I've opened a ticket for the still remaining pickling test error: #31182.



---

archive/issue_comments_597321.json:
```json
{
    "body": "**Changing commit** from \"[76229bd5c1111d77dc7c98da97e96c0cc653fcda](https://github.com/sagemath/sagetrac-mirror/commit/76229bd5c1111d77dc7c98da97e96c0cc653fcda)\" to \"[09086cf653e0ce2d26757733189ff70561f783fd](https://github.com/sagemath/sagetrac-mirror/commit/09086cf653e0ce2d26757733189ff70561f783fd)\".",
    "created_at": "2021-01-07T11:27:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597321",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[76229bd5c1111d77dc7c98da97e96c0cc653fcda](https://github.com/sagemath/sagetrac-mirror/commit/76229bd5c1111d77dc7c98da97e96c0cc653fcda)" to "[09086cf653e0ce2d26757733189ff70561f783fd](https://github.com/sagemath/sagetrac-mirror/commit/09086cf653e0ce2d26757733189ff70561f783fd)".



---

archive/issue_comments_597322.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09086cf653e0ce2d26757733189ff70561f783fd\">09086cf</a></td><td><code>Trac #30310: inherit from  Mutability</code></td></tr></table>\n",
    "created_at": "2021-01-07T11:27:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597322",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09086cf653e0ce2d26757733189ff70561f783fd">09086cf</a></td><td><code>Trac #30310: inherit from  Mutability</code></td></tr></table>




---

archive/issue_comments_597323.json:
```json
{
    "body": "**Changing dependencies** from \"#30181\" to \"#31181, #31182\".",
    "created_at": "2021-01-07T11:28:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597323",
    "user": "https://github.com/mjungmath"
}
```

**Changing dependencies** from "#30181" to "#31181, #31182".



---

archive/issue_comments_597324.json:
```json
{
    "body": "**Changing commit** from \"[09086cf653e0ce2d26757733189ff70561f783fd](https://github.com/sagemath/sagetrac-mirror/commit/09086cf653e0ce2d26757733189ff70561f783fd)\" to \"[6c76b66df5a673560dd700f8a942af07da6e6d19](https://github.com/sagemath/sagetrac-mirror/commit/6c76b66df5a673560dd700f8a942af07da6e6d19)\".",
    "created_at": "2021-01-21T16:36:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597324",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[09086cf653e0ce2d26757733189ff70561f783fd](https://github.com/sagemath/sagetrac-mirror/commit/09086cf653e0ce2d26757733189ff70561f783fd)" to "[6c76b66df5a673560dd700f8a942af07da6e6d19](https://github.com/sagemath/sagetrac-mirror/commit/6c76b66df5a673560dd700f8a942af07da6e6d19)".



---

archive/issue_comments_597325.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c76b66df5a673560dd700f8a942af07da6e6d19\">6c76b66</a></td><td><code>Trac #30310: AssertionError -> ValueError</code></td></tr></table>\n",
    "created_at": "2021-01-21T16:36:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597325",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c76b66df5a673560dd700f8a942af07da6e6d19">6c76b66</a></td><td><code>Trac #30310: AssertionError -> ValueError</code></td></tr></table>




---

archive/issue_comments_597326.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7247620186a93981bbd2e5ab9796fb68564ebb91\">7247620</a></td><td><code>Merge branch 'develop' into t/30310/immutability_of_chart_functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ecbf3a4896e2ccc10f3f16d4100e197de6a6fea\">5ecbf3a</a></td><td><code>Trac #31181: return added</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b20fc4dd11e1be49b6e8db4652d9fd259aaae3b\">8b20fc4</a></td><td><code>Merge branch 't/31181/mutability_class_does_not_return_is_immutable' into t/30310/immutability_of_chart_functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c3393509d75c6a040b312732a1801f190b88142\">4c33935</a></td><td><code>Trac #31196: minor code improvements, py3 compatibility, documentation improved</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e5228d3b87529167876c09b693f498e636677d49\">e5228d3</a></td><td><code>Trac #31196: cpdef require methods + example added</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d957f73a5ac9ab8f198e9d6eb0a3cac266e5d8ba\">d957f73</a></td><td><code>Trac #31196: unnecessary line in docstring removed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6d6ba416ad27f586ffbe2137c7a1867f1a78130\">d6d6ba4</a></td><td><code>Trac #31182: `__getstate__` and `__setstate__`</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6cbd1fd918ef9fdc73310b10e9a50e6c9bf4b7ed\">6cbd1fd</a></td><td><code>Trac #31182: doctests added for `__setstate__` and `__getstate__`</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/848e96bf4fed67afe74d434cb4d7f946d2cc595c\">848e96b</a></td><td><code>Merge branch 't/31182/mutability_class_and_pickling' into t/30310/immutability_of_chart_functions</code></td></tr></table>\n",
    "created_at": "2021-01-21T16:39:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597326",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7247620186a93981bbd2e5ab9796fb68564ebb91">7247620</a></td><td><code>Merge branch 'develop' into t/30310/immutability_of_chart_functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ecbf3a4896e2ccc10f3f16d4100e197de6a6fea">5ecbf3a</a></td><td><code>Trac #31181: return added</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b20fc4dd11e1be49b6e8db4652d9fd259aaae3b">8b20fc4</a></td><td><code>Merge branch 't/31181/mutability_class_does_not_return_is_immutable' into t/30310/immutability_of_chart_functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c3393509d75c6a040b312732a1801f190b88142">4c33935</a></td><td><code>Trac #31196: minor code improvements, py3 compatibility, documentation improved</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e5228d3b87529167876c09b693f498e636677d49">e5228d3</a></td><td><code>Trac #31196: cpdef require methods + example added</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d957f73a5ac9ab8f198e9d6eb0a3cac266e5d8ba">d957f73</a></td><td><code>Trac #31196: unnecessary line in docstring removed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6d6ba416ad27f586ffbe2137c7a1867f1a78130">d6d6ba4</a></td><td><code>Trac #31182: `__getstate__` and `__setstate__`</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6cbd1fd918ef9fdc73310b10e9a50e6c9bf4b7ed">6cbd1fd</a></td><td><code>Trac #31182: doctests added for `__setstate__` and `__getstate__`</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/848e96bf4fed67afe74d434cb4d7f946d2cc595c">848e96b</a></td><td><code>Merge branch 't/31182/mutability_class_and_pickling' into t/30310/immutability_of_chart_functions</code></td></tr></table>




---

archive/issue_comments_597327.json:
```json
{
    "body": "**Changing commit** from \"[6c76b66df5a673560dd700f8a942af07da6e6d19](https://github.com/sagemath/sagetrac-mirror/commit/6c76b66df5a673560dd700f8a942af07da6e6d19)\" to \"[848e96bf4fed67afe74d434cb4d7f946d2cc595c](https://github.com/sagemath/sagetrac-mirror/commit/848e96bf4fed67afe74d434cb4d7f946d2cc595c)\".",
    "created_at": "2021-01-21T16:39:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597327",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6c76b66df5a673560dd700f8a942af07da6e6d19](https://github.com/sagemath/sagetrac-mirror/commit/6c76b66df5a673560dd700f8a942af07da6e6d19)" to "[848e96bf4fed67afe74d434cb4d7f946d2cc595c](https://github.com/sagemath/sagetrac-mirror/commit/848e96bf4fed67afe74d434cb4d7f946d2cc595c)".



---

archive/issue_comments_597328.json:
```json
{
    "body": "<a id='comment:19'></a>\nGreen patchbot.",
    "created_at": "2021-01-21T20:08:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597328",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:19'></a>
Green patchbot.



---

archive/issue_comments_597329.json:
```json
{
    "body": "<a id='comment:20'></a>\nI think you are better off explicitly calling\n\n```\nModuleElementWithMutability.__init__(self, parent)\n```",
    "created_at": "2021-01-21T23:03:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597329",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:20'></a>
I think you are better off explicitly calling

```
ModuleElementWithMutability.__init__(self, parent)
```



---

archive/issue_comments_597330.json:
```json
{
    "body": "<a id='comment:21'></a>\nYes thanks, this should be better.",
    "created_at": "2021-01-21T23:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597330",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:21'></a>
Yes thanks, this should be better.



---

archive/issue_comments_597331.json:
```json
{
    "body": "<a id='comment:22'></a>\nPushed.",
    "created_at": "2021-01-21T23:12:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597331",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:22'></a>
Pushed.



---

archive/issue_comments_597332.json:
```json
{
    "body": "**Changing commit** from \"[848e96bf4fed67afe74d434cb4d7f946d2cc595c](https://github.com/sagemath/sagetrac-mirror/commit/848e96bf4fed67afe74d434cb4d7f946d2cc595c)\" to \"[e855ebc9c793e8ca9e66b3cb667758fc1b3bcaa3](https://github.com/sagemath/sagetrac-mirror/commit/e855ebc9c793e8ca9e66b3cb667758fc1b3bcaa3)\".",
    "created_at": "2021-01-21T23:12:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597332",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[848e96bf4fed67afe74d434cb4d7f946d2cc595c](https://github.com/sagemath/sagetrac-mirror/commit/848e96bf4fed67afe74d434cb4d7f946d2cc595c)" to "[e855ebc9c793e8ca9e66b3cb667758fc1b3bcaa3](https://github.com/sagemath/sagetrac-mirror/commit/e855ebc9c793e8ca9e66b3cb667758fc1b3bcaa3)".



---

archive/issue_comments_597333.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e855ebc9c793e8ca9e66b3cb667758fc1b3bcaa3\">e855ebc</a></td><td><code>Trac #30310: init ModuleElementWithMutability directly</code></td></tr></table>\n",
    "created_at": "2021-01-21T23:12:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597333",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e855ebc9c793e8ca9e66b3cb667758fc1b3bcaa3">e855ebc</a></td><td><code>Trac #30310: init ModuleElementWithMutability directly</code></td></tr></table>




---

archive/issue_comments_597334.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2021-01-22T00:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597334",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_597335.json:
```json
{
    "body": "<a id='comment:24'></a>\nGreen bot => positive review.",
    "created_at": "2021-01-22T00:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597335",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:24'></a>
Green bot => positive review.



---

archive/issue_comments_597336.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2021-01-22T03:51:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597336",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_597337.json:
```json
{
    "body": "<a id='comment:26'></a>\nThank you.",
    "created_at": "2021-01-22T09:41:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597337",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:26'></a>
Thank you.



---

archive/issue_comments_597338.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2021-03-09T00:02:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597338",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_events_088474.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-09T00:02:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30310#event-88474"
}
```



---

archive/issue_comments_597339.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-mjungmath/immutability_of_chart_functions](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mjungmath/immutability_of_chart_functions)\" to \"[e855ebc9c793e8ca9e66b3cb667758fc1b3bcaa3](https://github.com/sagemath/sagetrac-mirror/commit/e855ebc9c793e8ca9e66b3cb667758fc1b3bcaa3)\".",
    "created_at": "2021-03-09T00:02:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30310#issuecomment-597339",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/gh-mjungmath/immutability_of_chart_functions](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mjungmath/immutability_of_chart_functions)" to "[e855ebc9c793e8ca9e66b3cb667758fc1b3bcaa3](https://github.com/sagemath/sagetrac-mirror/commit/e855ebc9c793e8ca9e66b3cb667758fc1b3bcaa3)".
