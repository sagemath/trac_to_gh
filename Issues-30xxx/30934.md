# Issue 30934: Use system python for generation of conway_polynomials and elliptic_curves

archive/issues_030697.json:
```json
{
    "body": "Instead of sage's python, the installation of conway_polynomials and elliptic_curves now uses the system python. This enables one to call `make conway_polynomials` without a prior compilation of python (which is helpful for #30371). Since the installation of these packages uses python only to convert files into the right format, using the system python should be fine.\n\nCC:  @mkoeppe\n\nReviewer: Tobias Diez\n\nDependencies: #30731\n\nResolution: duplicate\n\nIssue created by migration from https://trac.sagemath.org/ticket/30934\n\n",
    "closed_at": "2020-12-19T18:11:42Z",
    "created_at": "2020-11-18T10:04:28Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Use system python for generation of conway_polynomials and elliptic_curves",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30934",
    "user": "https://github.com/tobiasdiez"
}
```
Instead of sage's python, the installation of conway_polynomials and elliptic_curves now uses the system python. This enables one to call `make conway_polynomials` without a prior compilation of python (which is helpful for #30371). Since the installation of these packages uses python only to convert files into the right format, using the system python should be fine.

CC:  @mkoeppe

Reviewer: Tobias Diez

Dependencies: #30731

Resolution: duplicate

Issue created by migration from https://trac.sagemath.org/ticket/30934





---

archive/issue_comments_613729.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-11-18T10:04:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613729",
    "user": "https://github.com/tobiasdiez"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_613730.json:
```json
{
    "body": "<a id='comment:2'></a>These packages declare `$(PYTHON)` as a dependency, so they are allowed to use Sage's python.\n\n`sage-system-python` is not the correct choice here. It can be a wide range of Python versions (including 2.x), and certainly existence of the sqlite module in that python, as required in `build/pkgs/elliptic_curves/spkg-install.py`, is not guaranteed.\n(Note #30627 renames this script to `sage-bootstrap-python`.)",
    "created_at": "2020-11-18T21:50:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613730",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>These packages declare `$(PYTHON)` as a dependency, so they are allowed to use Sage's python.

`sage-system-python` is not the correct choice here. It can be a wide range of Python versions (including 2.x), and certainly existence of the sqlite module in that python, as required in `build/pkgs/elliptic_curves/spkg-install.py`, is not guaranteed.
(Note #30627 renames this script to `sage-bootstrap-python`.)



---

archive/issue_events_080784.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-18T21:50:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30934#event-80784"
}
```



---

archive/issue_comments_613731.json:
```json
{
    "body": "<a id='comment:3'></a>Thanks for the feedback. So what is the correct choice if the user does have a suitable system python?",
    "created_at": "2020-11-18T21:59:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613731",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:3'></a>Thanks for the feedback. So what is the correct choice if the user does have a suitable system python?



---

archive/issue_comments_613732.json:
```json
{
    "body": "<a id='comment:4'></a>When there is a suitable system python3, then Sage creates a venv over it, so `python3` works. When there is no suitable system python3, then Sage builds one, so `python3` also works.",
    "created_at": "2020-11-18T22:36:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613732",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>When there is a suitable system python3, then Sage creates a venv over it, so `python3` works. When there is no suitable system python3, then Sage builds one, so `python3` also works.



---

archive/issue_comments_613733.json:
```json
{
    "body": "Changing commit from \"218fe09a5873f61fe4f0efc004502dea85f56de3\" to \"9f15544b8ddb9ca2770c6eec88ab80180672ce7e\"",
    "created_at": "2020-11-19T08:41:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613733",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "218fe09a5873f61fe4f0efc004502dea85f56de3" to "9f15544b8ddb9ca2770c6eec88ab80180672ce7e"



---

archive/issue_comments_613734.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-19T08:41:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613734",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_613735.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:4 mkoeppe]:\n> When there is a suitable system python3, then Sage creates a venv over it, so `python3` works. When there is no suitable system python3, then Sage builds one, so `python3` also works.\n\n\n\nThanks! I've now used `python3` and it works indeed in the context of #30371.",
    "created_at": "2020-11-19T08:42:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613735",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:6'></a>Replying to [comment:4 mkoeppe]:
> When there is a suitable system python3, then Sage creates a venv over it, so `python3` works. When there is no suitable system python3, then Sage builds one, so `python3` also works.



Thanks! I've now used `python3` and it works indeed in the context of #30371.



---

archive/issue_events_080785.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-11-25T16:38:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30934#event-80785"
}
```



---

archive/issue_events_080786.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-11-25T16:38:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30934#event-80786"
}
```



---

archive/issue_comments_613736.json:
```json
{
    "body": "<a id='comment:8'></a>This change should not be done for one package but uniformly for all packages - in #30731.\nYou can push the branch from here to that ticket to get it started.",
    "created_at": "2020-11-25T18:00:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613736",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>This change should not be done for one package but uniformly for all packages - in #30731.
You can push the branch from here to that ticket to get it started.



---

archive/issue_comments_613737.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#30731\"",
    "created_at": "2020-11-25T18:00:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613737",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#30731"



---

archive/issue_events_080787.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-25T18:00:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30934#event-80787"
}
```



---

archive/issue_events_080788.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-25T18:00:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30934#event-80788"
}
```



---

archive/issue_comments_613738.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-11-25T19:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613738",
    "user": "https://github.com/tobiasdiez"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_613739.json:
```json
{
    "body": "<a id='comment:9'></a>Ok, then close this ticket here, although I don't really see why #30731 could't build upon this ticket.",
    "created_at": "2020-11-25T19:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613739",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:9'></a>Ok, then close this ticket here, although I don't really see why #30731 could't build upon this ticket.



---

archive/issue_comments_613740.json:
```json
{
    "body": "<a id='comment:10'></a>Because this ticket on its own makes the codebase less uniform.",
    "created_at": "2020-11-25T19:41:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613740",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>Because this ticket on its own makes the codebase less uniform.



---

archive/issue_comments_613741.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Tobias Diez\"",
    "created_at": "2020-11-25T19:42:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613741",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "" to "Tobias Diez"



---

archive/issue_comments_613742.json:
```json
{
    "body": "Changing author from \"Tobias Diez\" to \"\"",
    "created_at": "2020-11-25T19:42:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613742",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "Tobias Diez" to ""



---

archive/issue_comments_613743.json:
```json
{
    "body": "Changing commit from \"9f15544b8ddb9ca2770c6eec88ab80180672ce7e\" to \"7cb43a574c3869e27824b9b8202310910831ad44\"",
    "created_at": "2020-12-18T22:37:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613743",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9f15544b8ddb9ca2770c6eec88ab80180672ce7e" to "7cb43a574c3869e27824b9b8202310910831ad44"



---

archive/issue_comments_613744.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2020-12-18T22:37:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613744",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_613745.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-12-18T22:37:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613745",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_613746.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-12-18T22:44:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613746",
    "user": "https://github.com/tobiasdiez"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_613747.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2020-12-19T03:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613747",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_613748.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-12-19T03:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613748",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_613749.json:
```json
{
    "body": "Changing commit from \"7cb43a574c3869e27824b9b8202310910831ad44\" to \"df2822c5c130811bcba1d7e65743b100444083dd\"",
    "created_at": "2020-12-19T03:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613749",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7cb43a574c3869e27824b9b8202310910831ad44" to "df2822c5c130811bcba1d7e65743b100444083dd"



---

archive/issue_comments_613750.json:
```json
{
    "body": "Changing commit from \"df2822c5c130811bcba1d7e65743b100444083dd\" to \"\"",
    "created_at": "2020-12-19T03:31:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613750",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "df2822c5c130811bcba1d7e65743b100444083dd" to ""



---

archive/issue_comments_613751.json:
```json
{
    "body": "Changing branch from \"public/build/sharedSystemPython\" to \"\"",
    "created_at": "2020-12-19T03:31:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613751",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "public/build/sharedSystemPython" to ""



---

archive/issue_comments_613752.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-12-19T03:31:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613752",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_613753.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2020-12-19T18:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30934#issuecomment-613753",
    "user": "https://github.com/fchapoton"
}
```

Resolution: duplicate



---

archive/issue_events_080789.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-12-19T18:11:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30934",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30934#event-80789"
}
```
