# Issue 30906: let pari's spkg-configure accept pari 2.13

archive/issues_030669.json:
```json
{
    "body": "some formats have changed, so tests fail, see \nhttps://trac.sagemath.org/ticket/30801#comment:6\n\nCC:  @tobihan @thierry-freebsd @orlitzky @mkoeppe @antonio-rojas @videlec @dkwo\n\nBranch: [u/dimpase/build/pari213fix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/build/pari213fix)\n\nCommit: [ad702bf59ea7372ce12c37f53a18662cd9baee0b](https://github.com/sagemath/sagetrac-mirror/commit/ad702bf59ea7372ce12c37f53a18662cd9baee0b)\n\nReviewer: Dima Pasechnik\n\nDependencies: #30801\n\nResolution: invalid\n\nIssue created by migration from https://trac.sagemath.org/ticket/30906\n\n",
    "closed_at": "2021-06-13T06:40:58Z",
    "created_at": "2020-11-13T11:37:09Z",
    "labels": [
        "component: build: configure",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "let pari's spkg-configure accept pari 2.13",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30906",
    "user": "https://github.com/dimpase"
}
```
some formats have changed, so tests fail, see 
https://trac.sagemath.org/ticket/30801#comment:6

CC:  @tobihan @thierry-freebsd @orlitzky @mkoeppe @antonio-rojas @videlec @dkwo

Branch: [u/dimpase/build/pari213fix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/build/pari213fix)

Commit: [ad702bf59ea7372ce12c37f53a18662cd9baee0b](https://github.com/sagemath/sagetrac-mirror/commit/ad702bf59ea7372ce12c37f53a18662cd9baee0b)

Reviewer: Dima Pasechnik

Dependencies: #30801

Resolution: invalid

Issue created by migration from https://trac.sagemath.org/ticket/30906





---

archive/issue_comments_613511.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-11-13T12:48:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613511",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_613512.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[ad702bf](https://github.com/sagemath/sagetrac-mirror/commit/ad702bf59ea7372ce12c37f53a18662cd9baee0b)|`do the bnfisunit check in Pari, not rely on output`|",
    "created_at": "2020-11-13T12:48:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613512",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[ad702bf](https://github.com/sagemath/sagetrac-mirror/commit/ad702bf59ea7372ce12c37f53a18662cd9baee0b)|`do the bnfisunit check in Pari, not rely on output`|



---

archive/issue_comments_613513.json:
```json
{
    "body": "Commit: [ad702bf59ea7372ce12c37f53a18662cd9baee0b](https://github.com/sagemath/sagetrac-mirror/commit/ad702bf59ea7372ce12c37f53a18662cd9baee0b)",
    "created_at": "2020-11-13T12:48:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613513",
    "user": "https://github.com/dimpase"
}
```

Commit: [ad702bf59ea7372ce12c37f53a18662cd9baee0b](https://github.com/sagemath/sagetrac-mirror/commit/ad702bf59ea7372ce12c37f53a18662cd9baee0b)



---

archive/issue_comments_613514.json:
```json
{
    "body": "Author: Dima Pasechnik",
    "created_at": "2020-11-13T12:48:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613514",
    "user": "https://github.com/dimpase"
}
```

Author: Dima Pasechnik



---

archive/issue_comments_613515.json:
```json
{
    "body": "Branch: [u/dimpase/build/pari213fix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/build/pari213fix)",
    "created_at": "2020-11-13T12:48:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613515",
    "user": "https://github.com/dimpase"
}
```

Branch: [u/dimpase/build/pari213fix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/build/pari213fix)



---

archive/issue_comments_613516.json:
```json
{
    "body": "<a id='comment:4'></a>\nping",
    "created_at": "2020-12-03T09:54:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613516",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>
ping



---

archive/issue_comments_613517.json:
```json
{
    "body": "<a id='comment:5'></a>\non Gentoo this blocks using system pari",
    "created_at": "2020-12-03T09:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613517",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>
on Gentoo this blocks using system pari



---

archive/issue_comments_613518.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2020-12-03T17:47:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613518",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_613519.json:
```json
{
    "body": "<a id='comment:7'></a>\nThe pari upgrade to the same version in #30801 seems to require nontrivial changes to Sage code and tests and also involves an upgrade of cypari2. How come we should just be able to be accepting system pari 2.13?",
    "created_at": "2020-12-03T17:47:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613519",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
The pari upgrade to the same version in #30801 seems to require nontrivial changes to Sage code and tests and also involves an upgrade of cypari2. How come we should just be able to be accepting system pari 2.13?



---

archive/issue_comments_613520.json:
```json
{
    "body": "<a id='comment:9'></a>\nmade it conditional on pari update to 2.13",
    "created_at": "2020-12-31T00:15:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613520",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
made it conditional on pari update to 2.13



---

archive/issue_comments_613521.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2020-12-31T00:15:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613521",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_613522.json:
```json
{
    "body": "Dependencies: #30801",
    "created_at": "2020-12-31T00:15:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613522",
    "user": "https://github.com/dimpase"
}
```

Dependencies: #30801



---

archive/issue_comments_613523.json:
```json
{
    "body": "<a id='comment:10'></a>\nOn my Void linux machine, what works is\n\n```\n$ echo \"bnf = bnfinit(y^4-y-1); bnfisunit(bnf,-y^3+2*y^2-1)==[0,2,0]~\" | gp -qf\n1\n```\nwith only one square parenthesis, not two.",
    "created_at": "2021-02-09T17:42:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613523",
    "user": "https://github.com/dkwo"
}
```

<a id='comment:10'></a>
On my Void linux machine, what works is

```
$ echo "bnf = bnfinit(y^4-y-1); bnfisunit(bnf,-y^3+2*y^2-1)==[0,2,0]~" | gp -qf
1
```
with only one square parenthesis, not two.



---

archive/issue_comments_613524.json:
```json
{
    "body": "<a id='comment:12'></a>\nthe two brackets are m4 syntax",
    "created_at": "2021-02-09T19:02:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613524",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
the two brackets are m4 syntax



---

archive/issue_comments_613525.json:
```json
{
    "body": "<a id='comment:13'></a>\nI see, thanks.\nHowever, even if I edit the file as per the commit, the bnfisunit test still fails for me with pari 2.13.0 using ./config, even though from a shell I get as above.\n\nWhat am I missing?",
    "created_at": "2021-02-09T20:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613525",
    "user": "https://github.com/dkwo"
}
```

<a id='comment:13'></a>
I see, thanks.
However, even if I edit the file as per the commit, the bnfisunit test still fails for me with pari 2.13.0 using ./config, even though from a shell I get as above.

What am I missing?



---

archive/issue_comments_613526.json:
```json
{
    "body": "<a id='comment:14'></a>\nDid you run `./bootstrap`?",
    "created_at": "2021-02-09T20:10:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613526",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
Did you run `./bootstrap`?



---

archive/issue_comments_613527.json:
```json
{
    "body": "<a id='comment:15'></a>\nThat fixes it, thanks.",
    "created_at": "2021-02-09T20:40:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613527",
    "user": "https://github.com/dkwo"
}
```

<a id='comment:15'></a>
That fixes it, thanks.



---

archive/issue_comments_613528.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-02-13T21:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613528",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_613529.json:
```json
{
    "body": "<a id='comment:17'></a>\nLooks like #30801 is taking care of this",
    "created_at": "2021-03-17T20:17:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613529",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
Looks like #30801 is taking care of this



---

archive/issue_comments_613530.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-03-17T20:17:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613530",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_613531.json:
```json
{
    "body": "Changing author from \"Dima Pasechnik\" to \"\"",
    "created_at": "2021-03-17T20:17:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613531",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "Dima Pasechnik" to ""



---

archive/issue_events_090913.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-17T20:17:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30906#event-90913"
}
```



---

archive/issue_comments_613532.json:
```json
{
    "body": "<a id='comment:18'></a>\nyep. looks like the fix here was copied there.",
    "created_at": "2021-03-18T11:26:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613532",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>
yep. looks like the fix here was copied there.



---

archive/issue_comments_613533.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-03-18T11:26:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613533",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_613534.json:
```json
{
    "body": "Reviewer: Dima Pasechnik",
    "created_at": "2021-03-18T11:26:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613534",
    "user": "https://github.com/dimpase"
}
```

Reviewer: Dima Pasechnik



---

archive/issue_events_090914.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-13T06:40:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30906#event-90914"
}
```



---

archive/issue_comments_613535.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2021-06-13T06:40:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30906#issuecomment-613535",
    "user": "https://github.com/mkoeppe"
}
```

Resolution: invalid
