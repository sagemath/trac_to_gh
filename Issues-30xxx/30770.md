# Issue 30770: cython_aliases: Use ecl-config to determine compiler/linker flags for ecl

archive/issues_030533.json:
```json
{
    "assignees": [],
    "body": "We use ecl-config to determine compiler/linker flags for ecl. This is a step towards using a system-installed ecl and is needed/helpful for installing sage in virtual environments (#30371).\n\n```\n$ ecl-config --help\nUsage: /usr/local/bin/ecl-config [OPTIONS] [LIBS]\nOptions: \n\t[--cflags]\n\t[--libs|--ldflags]\nLibs:\n\tcmp\n```\nSample output:\n\n```\n> ./local/bin/ecl-config --cflags --libs\n-Dlinux   -I/mnt/d/Programming/sage/local/include\n-Wl,--rpath,/mnt/d/Programming/sage/local/lib -L/mnt/d/Programming/sage/local/lib -lecl -Wl,-rpath-link,/mnt/d/Programming/sage/local/lib -L/mnt/d/Programming/sage/local/lib -Wl,-rpath,/mnt/d/Programming/sage/local/lib      -ldl -lm\n```\n\n\n\nCC:  @dimpase @orlitzky @spaghettisalat @jhpalmieri @tobiasdiez @isuruf @kiwifb @antonio-rojas\n\nComponent: **build**\n\nKeywords: **sd111**\n\nAuthor: **Tobias Diez, Matthias Koeppe**\n\nBranch: **[`11ad40a`](https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f)**\n\nReviewer: **Matthias Koeppe, Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30770_\n\n",
    "closed_at": "2021-02-20T10:46:49Z",
    "created_at": "2020-10-15T03:25:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "cython_aliases: Use ecl-config to determine compiler/linker flags for ecl",
    "type": "issue",
    "updated_at": "2022-05-05T17:18:04Z",
    "url": "https://github.com/sagemath/sage/issues/30770",
    "user": "https://github.com/mkoeppe"
}
```
We use ecl-config to determine compiler/linker flags for ecl. This is a step towards using a system-installed ecl and is needed/helpful for installing sage in virtual environments (#30371).

```
$ ecl-config --help
Usage: /usr/local/bin/ecl-config [OPTIONS] [LIBS]
Options: 
	[--cflags]
	[--libs|--ldflags]
Libs:
	cmp
```
Sample output:

```
> ./local/bin/ecl-config --cflags --libs
-Dlinux   -I/mnt/d/Programming/sage/local/include
-Wl,--rpath,/mnt/d/Programming/sage/local/lib -L/mnt/d/Programming/sage/local/lib -lecl -Wl,-rpath-link,/mnt/d/Programming/sage/local/lib -L/mnt/d/Programming/sage/local/lib -Wl,-rpath,/mnt/d/Programming/sage/local/lib      -ldl -lm
```



CC:  @dimpase @orlitzky @spaghettisalat @jhpalmieri @tobiasdiez @isuruf @kiwifb @antonio-rojas

Component: **build**

Keywords: **sd111**

Author: **Tobias Diez, Matthias Koeppe**

Branch: **[`11ad40a`](https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f)**

Reviewer: **Matthias Koeppe, Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/30770_





---

archive/issue_events_421283.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-15T03:25:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-421283"
}
```



---

archive/issue_events_421284.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-15T03:25:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-421284"
}
```



---

archive/issue_events_421285.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-15T03:25:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-421285"
}
```



---

archive/issue_events_421286.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-15T03:25:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-421286"
}
```



---

archive/issue_events_421287.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-421287"
}
```



---

archive/issue_events_421288.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-421288"
}
```



---

archive/issue_comments_491970.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nIdeally, of course, ecl would install a pkg-config module...",
    "created_at": "2020-11-01T16:35:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491970",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">comment:2</div>

Ideally, of course, ecl would install a pkg-config module...



---

archive/issue_comments_491971.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nHoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111",
    "created_at": "2020-12-06T18:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491971",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

Hoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111



---

archive/issue_comments_491972.json:
```json
{
    "body": "Changed keywords from none to **sd111**",
    "created_at": "2020-12-06T18:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491972",
    "user": "https://github.com/mkoeppe"
}
```

Changed keywords from none to **sd111**



---

archive/issue_comments_491973.json:
```json
{
    "body": "Commit: **[`3049e53`](https://github.com/sagemath/sagetrac-mirror/commit/3049e53618902318c8247e277d28f50c1f59f545)**",
    "created_at": "2021-01-11T14:53:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491973",
    "user": "https://github.com/tobiasdiez"
}
```

Commit: **[`3049e53`](https://github.com/sagemath/sagetrac-mirror/commit/3049e53618902318c8247e277d28f50c1f59f545)**



---

archive/issue_comments_491974.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n+We use ecl-config to determine compiler/linker flags for ecl. This is a step towards using a system-installed ecl and is needed/helpful for installing sage in virtual environments (#30371).\n \n ```\n $ ecl-config --help\n@@ -8,5 +9,12 @@\n Libs:\n \tcmp\n ```\n+Sample output:\n+\n+```\n+> ./local/bin/ecl-config --cflags --libs\n+-Dlinux   -I/mnt/d/Programming/sage/local/include\n+-Wl,--rpath,/mnt/d/Programming/sage/local/lib -L/mnt/d/Programming/sage/local/lib -lecl -Wl,-rpath-link,/mnt/d/Programming/sage/local/lib -L/mnt/d/Programming/sage/local/lib -Wl,-rpath,/mnt/d/Programming/sage/local/lib      -ldl -lm\n+```\n \n \n``````\n",
    "created_at": "2021-01-11T14:53:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491974",
    "user": "https://github.com/tobiasdiez"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
+We use ecl-config to determine compiler/linker flags for ecl. This is a step towards using a system-installed ecl and is needed/helpful for installing sage in virtual environments (#30371).
 
 ```
 $ ecl-config --help
@@ -8,5 +9,12 @@
 Libs:
 	cmp
 ```
+Sample output:
+
+```
+> ./local/bin/ecl-config --cflags --libs
+-Dlinux   -I/mnt/d/Programming/sage/local/include
+-Wl,--rpath,/mnt/d/Programming/sage/local/lib -L/mnt/d/Programming/sage/local/lib -lecl -Wl,-rpath-link,/mnt/d/Programming/sage/local/lib -L/mnt/d/Programming/sage/local/lib -Wl,-rpath,/mnt/d/Programming/sage/local/lib      -ldl -lm
+```
 
 
``````




---

archive/issue_comments_491975.json:
```json
{
    "body": "Branch: **[public/build/ecl-config](https://github.com/sagemath/sagetrac-mirror/tree/public/build/ecl-config)**",
    "created_at": "2021-01-11T14:53:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491975",
    "user": "https://github.com/tobiasdiez"
}
```

Branch: **[public/build/ecl-config](https://github.com/sagemath/sagetrac-mirror/tree/public/build/ecl-config)**



---

archive/issue_events_421289.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2021-01-11T14:53:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-421289"
}
```



---

archive/issue_comments_491976.json:
```json
{
    "body": "Author: **Tobias Diez**",
    "created_at": "2021-01-11T14:53:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491976",
    "user": "https://github.com/tobiasdiez"
}
```

Author: **Tobias Diez**



---

archive/issue_comments_491977.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThe following is working for me (in the context of #30371).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3049e53618902318c8247e277d28f50c1f59f545\"><code>3049e53</code></a></td><td><code>Use ecl-config to determine compiler/linker flags for ecl</code></td></tr></table>\n",
    "created_at": "2021-01-11T14:53:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491977",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:6" align="right">comment:6</div>

The following is working for me (in the context of #30371).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3049e53618902318c8247e277d28f50c1f59f545"><code>3049e53</code></a></td><td><code>Use ecl-config to determine compiler/linker flags for ecl</code></td></tr></table>




---

archive/issue_comments_491978.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nFollowing the conventions of autoconf, this variable should be called `ECL_CONFIG`, not `ECL_CONFIG_PATH`",
    "created_at": "2021-01-11T17:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491978",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

Following the conventions of autoconf, this variable should be called `ECL_CONFIG`, not `ECL_CONFIG_PATH`



---

archive/issue_comments_491979.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1041128342253f609a9c3b8f8efe4495bc314a2e\"><code>1041128</code></a></td><td><code>Rename ecl config variable</code></td></tr></table>\n",
    "created_at": "2021-01-12T12:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491979",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1041128342253f609a9c3b8f8efe4495bc314a2e"><code>1041128</code></a></td><td><code>Rename ecl config variable</code></td></tr></table>




---

archive/issue_comments_491980.json:
```json
{
    "body": "Changed commit from **[`3049e53`](https://github.com/sagemath/sagetrac-mirror/commit/3049e53618902318c8247e277d28f50c1f59f545)** to **[`1041128`](https://github.com/sagemath/sagetrac-mirror/commit/1041128342253f609a9c3b8f8efe4495bc314a2e)**",
    "created_at": "2021-01-12T12:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491980",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3049e53`](https://github.com/sagemath/sagetrac-mirror/commit/3049e53618902318c8247e277d28f50c1f59f545)** to **[`1041128`](https://github.com/sagemath/sagetrac-mirror/commit/1041128342253f609a9c3b8f8efe4495bc314a2e)**



---

archive/issue_comments_491981.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@mkoeppe](#comment%3A7):\n> Following the conventions of autoconf, this variable should be called `ECL_CONFIG`, not `ECL_CONFIG_PATH`\n\nI'm not sure if one should follow the autoconf conventions here since the variable is (right now) only used in python scripts, but I've renamed it anyway.",
    "created_at": "2021-01-12T12:28:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491981",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@mkoeppe](#comment%3A7):
> Following the conventions of autoconf, this variable should be called `ECL_CONFIG`, not `ECL_CONFIG_PATH`

I'm not sure if one should follow the autoconf conventions here since the variable is (right now) only used in python scripts, but I've renamed it anyway.



---

archive/issue_comments_491982.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\n`capture_output` is not available on Python 3.6 - see #30758",
    "created_at": "2021-01-12T17:13:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491982",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

`capture_output` is not available on Python 3.6 - see #30758



---

archive/issue_comments_491983.json:
```json
{
    "body": "Dependencies: **#30551**",
    "created_at": "2021-01-12T21:48:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491983",
    "user": "https://github.com/tobiasdiez"
}
```

Dependencies: **#30551**



---

archive/issue_comments_491984.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI think it's better to make the simple change of the code as in https://github.com/sagemath/sagetrac-mirror/commit/a569b88f02ab4dfdd8eec6e8ad0472f1f537d2c8\ninstead of deferring this ticket until after we drop support for python 3.6",
    "created_at": "2021-01-12T23:16:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491984",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

I think it's better to make the simple change of the code as in https://github.com/sagemath/sagetrac-mirror/commit/a569b88f02ab4dfdd8eec6e8ad0472f1f537d2c8
instead of deferring this ticket until after we drop support for python 3.6



---

archive/issue_comments_491985.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI have yet to see a system that ships patched ECL, allowing one to build Maxima in Sage, etc.",
    "created_at": "2021-01-13T14:29:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491985",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:13" align="right">comment:13</div>

I have yet to see a system that ships patched ECL, allowing one to build Maxima in Sage, etc.



---

archive/issue_comments_491986.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI use this ticket successfully in #30371 to build sage in a new python virtual environment using sage's ecl precisely because the system ecl is not working.",
    "created_at": "2021-01-13T14:49:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491986",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:14" align="right">comment:14</div>

I use this ticket successfully in #30371 to build sage in a new python virtual environment using sage's ecl precisely because the system ecl is not working.



---

archive/issue_comments_491987.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@dimpase](#comment%3A13):\n> I have yet to see a system that ships patched ECL, allowing one to build Maxima in Sage, etc.\n\nSurely distributions that ship sage must have a suitable package: conda, arch, ...?",
    "created_at": "2021-01-13T17:44:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491987",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@dimpase](#comment%3A13):
> I have yet to see a system that ships patched ECL, allowing one to build Maxima in Sage, etc.

Surely distributions that ship sage must have a suitable package: conda, arch, ...?



---

archive/issue_comments_491988.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\n\n```\n@@ -203,6 +204,7 @@ var('MAXIMA_FAS')\n var('SAGE_NAUTY_BINS_PREFIX',        '')\n var('ARB_LIBRARY',                   'arb')\n var('CBLAS_PC_MODULES',              'cblas:openblas:blas')\n+var('ECL_CONFIG')\n \n # misc\n var('SAGE_BANNER', '')\n```\n\nPlease add a fallback here, otherwise this will break distro packaging without sage_conf",
    "created_at": "2021-01-13T21:00:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491988",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:17" align="right">comment:17</div>


```
@@ -203,6 +204,7 @@ var('MAXIMA_FAS')
 var('SAGE_NAUTY_BINS_PREFIX',        '')
 var('ARB_LIBRARY',                   'arb')
 var('CBLAS_PC_MODULES',              'cblas:openblas:blas')
+var('ECL_CONFIG')
 
 # misc
 var('SAGE_BANNER', '')
```

Please add a fallback here, otherwise this will break distro packaging without sage_conf



---

archive/issue_comments_491989.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nGiven that sage's maxima is patched to install a fas module in ecl's tree, how is this supposed to work with a system ecl?",
    "created_at": "2021-01-13T21:02:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491989",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:18" align="right">comment:18</div>

Given that sage's maxima is patched to install a fas module in ecl's tree, how is this supposed to work with a system ecl?



---

archive/issue_comments_491990.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI think we can change our maxima installation to use a different installation directoery and then pass the full path using the existing variable `sage.env.MAXIMA_FAS`",
    "created_at": "2021-01-13T21:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491990",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">comment:19</div>

I think we can change our maxima installation to use a different installation directoery and then pass the full path using the existing variable `sage.env.MAXIMA_FAS`



---

archive/issue_comments_491991.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@antonio-rojas](#comment%3A17):\n> \n> ```\n> @@ -203,6 +204,7 @@ var('MAXIMA_FAS')\n>  var('SAGE_NAUTY_BINS_PREFIX',        '')\n>  var('ARB_LIBRARY',                   'arb')\n>  var('CBLAS_PC_MODULES',              'cblas:openblas:blas')\n> +var('ECL_CONFIG')\n>  \n>  # misc\n>  var('SAGE_BANNER', '')\n> ```\n> \n> Please add a fallback here, otherwise this will break distro packaging without sage_conf\n\nI agree, this should fall back to just `'ecl-config'`",
    "created_at": "2021-01-13T23:51:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491991",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@antonio-rojas](#comment%3A17):
> 
> ```
> @@ -203,6 +204,7 @@ var('MAXIMA_FAS')
>  var('SAGE_NAUTY_BINS_PREFIX',        '')
>  var('ARB_LIBRARY',                   'arb')
>  var('CBLAS_PC_MODULES',              'cblas:openblas:blas')
> +var('ECL_CONFIG')
>  
>  # misc
>  var('SAGE_BANNER', '')
> ```
> 
> Please add a fallback here, otherwise this will break distro packaging without sage_conf

I agree, this should fall back to just `'ecl-config'`



---

archive/issue_comments_491992.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nGood catch, I've now added a fallback!",
    "created_at": "2021-01-14T09:15:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491992",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:21" align="right">comment:21</div>

Good catch, I've now added a fallback!



---

archive/issue_comments_491993.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd05a972b62b0014995887f1372e7934866fdf24\"><code>fd05a97</code></a></td><td><code>Add fallback</code></td></tr></table>\n",
    "created_at": "2021-01-14T09:15:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491993",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd05a972b62b0014995887f1372e7934866fdf24"><code>fd05a97</code></a></td><td><code>Add fallback</code></td></tr></table>




---

archive/issue_comments_491994.json:
```json
{
    "body": "Changed commit from **[`1041128`](https://github.com/sagemath/sagetrac-mirror/commit/1041128342253f609a9c3b8f8efe4495bc314a2e)** to **[`fd05a97`](https://github.com/sagemath/sagetrac-mirror/commit/fd05a972b62b0014995887f1372e7934866fdf24)**",
    "created_at": "2021-01-14T09:15:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491994",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1041128`](https://github.com/sagemath/sagetrac-mirror/commit/1041128342253f609a9c3b8f8efe4495bc314a2e)** to **[`fd05a97`](https://github.com/sagemath/sagetrac-mirror/commit/fd05a972b62b0014995887f1372e7934866fdf24)**



---

archive/issue_comments_491995.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\n#30551 is for 9.4, why is this one still for 9.3 ? (I'd rather switch #30551 to 9.3, though)",
    "created_at": "2021-01-15T14:16:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491995",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:23" align="right">comment:23</div>

#30551 is for 9.4, why is this one still for 9.3 ? (I'd rather switch #30551 to 9.3, though)



---

archive/issue_comments_491996.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nI've put #30551 now to 9.3 since I agree it would be convenient to drop python 3.6 support soon. Matthias, please feel free to put both tickets onto 9.4 if you strongly feel that 3.6 still needs to be supported.",
    "created_at": "2021-01-15T14:26:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491996",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:24" align="right">comment:24</div>

I've put #30551 now to 9.3 since I agree it would be convenient to drop python 3.6 support soon. Matthias, please feel free to put both tickets onto 9.4 if you strongly feel that 3.6 still needs to be supported.



---

archive/issue_comments_491997.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nLet's please not use a ticket like this where we know exactly how to write python 3.6 conforming code to force a decision that needs proper discussion in #30551.",
    "created_at": "2021-01-15T17:46:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491997",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

Let's please not use a ticket like this where we know exactly how to write python 3.6 conforming code to force a decision that needs proper discussion in #30551.



---

archive/issue_events_421290.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-15T17:46:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-421290"
}
```



---

archive/issue_events_421291.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-15T17:46:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-421291"
}
```



---

archive/issue_comments_491998.json:
```json
{
    "body": "Changed commit from **[`fd05a97`](https://github.com/sagemath/sagetrac-mirror/commit/fd05a972b62b0014995887f1372e7934866fdf24)** to **[`6370c34`](https://github.com/sagemath/sagetrac-mirror/commit/6370c345114d50095e84a9b2e7917dd8cae3bfe6)**",
    "created_at": "2021-01-15T17:51:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491998",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fd05a97`](https://github.com/sagemath/sagetrac-mirror/commit/fd05a972b62b0014995887f1372e7934866fdf24)** to **[`6370c34`](https://github.com/sagemath/sagetrac-mirror/commit/6370c345114d50095e84a9b2e7917dd8cae3bfe6)**



---

archive/issue_comments_491999.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6370c345114d50095e84a9b2e7917dd8cae3bfe6\"><code>6370c34</code></a></td><td><code>src/sage/env.py: Do not use capture_output, which requires python 3.7</code></td></tr></table>\n",
    "created_at": "2021-01-15T17:51:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-491999",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6370c345114d50095e84a9b2e7917dd8cae3bfe6"><code>6370c34</code></a></td><td><code>src/sage/env.py: Do not use capture_output, which requires python 3.7</code></td></tr></table>




---

archive/issue_events_421292.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-15T17:51:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-421292"
}
```



---

archive/issue_events_421293.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-15T17:51:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-421293"
}
```



---

archive/issue_comments_492000.json:
```json
{
    "body": "Changed author from **Tobias Diez** to **Tobias Diez, Matthias Koeppe**",
    "created_at": "2021-01-15T17:51:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492000",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Tobias Diez** to **Tobias Diez, Matthias Koeppe**



---

archive/issue_comments_492001.json:
```json
{
    "body": "Changed commit from **[`6370c34`](https://github.com/sagemath/sagetrac-mirror/commit/6370c345114d50095e84a9b2e7917dd8cae3bfe6)** to **[`31f1bbb`](https://github.com/sagemath/sagetrac-mirror/commit/31f1bbba244263160e887613b34111bc3a20d4f4)**",
    "created_at": "2021-01-16T04:35:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492001",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6370c34`](https://github.com/sagemath/sagetrac-mirror/commit/6370c345114d50095e84a9b2e7917dd8cae3bfe6)** to **[`31f1bbb`](https://github.com/sagemath/sagetrac-mirror/commit/31f1bbba244263160e887613b34111bc3a20d4f4)**



---

archive/issue_comments_492002.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31f1bbba244263160e887613b34111bc3a20d4f4\"><code>31f1bbb</code></a></td><td><code>Also use universal_newlines instead of text, for python 3.6 compatibility</code></td></tr></table>\n",
    "created_at": "2021-01-16T04:35:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492002",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31f1bbba244263160e887613b34111bc3a20d4f4"><code>31f1bbb</code></a></td><td><code>Also use universal_newlines instead of text, for python 3.6 compatibility</code></td></tr></table>




---

archive/issue_comments_492003.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@sagetrac-git](#comment%3A28):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31f1bbba244263160e887613b34111bc3a20d4f4\"><code>31f1bbb</code></a></td><td><code>Also use universal_newlines instead of text, for python 3.6 compatibility</code></td></tr></table>\n\nWhy do you push Python-3.6-needed changes to a ticket that depends on #30551 ?\nIt just makes no sense to me.",
    "created_at": "2021-01-16T10:19:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492003",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@sagetrac-git](#comment%3A28):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31f1bbba244263160e887613b34111bc3a20d4f4"><code>31f1bbb</code></a></td><td><code>Also use universal_newlines instead of text, for python 3.6 compatibility</code></td></tr></table>

Why do you push Python-3.6-needed changes to a ticket that depends on #30551 ?
It just makes no sense to me.



---

archive/issue_comments_492004.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nThanks. I forgot to remove the dependency.",
    "created_at": "2021-01-16T16:34:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492004",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

Thanks. I forgot to remove the dependency.



---

archive/issue_comments_492005.json:
```json
{
    "body": "Changed dependencies from **#30551** to none",
    "created_at": "2021-01-16T16:34:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492005",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30551** to none



---

archive/issue_comments_492006.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@antonio-rojas](#comment%3A18):\n> Given that sage's maxima is patched to install a fas module in ecl's tree, how is this supposed to work with a system ecl?\n\nWhere do distributions install compiled common lisp libraries?",
    "created_at": "2021-01-16T18:32:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492006",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@antonio-rojas](#comment%3A18):
> Given that sage's maxima is patched to install a fas module in ecl's tree, how is this supposed to work with a system ecl?

Where do distributions install compiled common lisp libraries?



---

archive/issue_comments_492007.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@mkoeppe](#comment%3A31):\n> Replying to [@antonio-rojas](#comment%3A18):\n> > Given that sage's maxima is patched to install a fas module in ecl's tree, how is this supposed to work with a system ecl?\n\n> \n> Where do distributions install compiled common lisp libraries?\n\nGentoo does it in `/usr/lib64/ecl-20.4.24` - as can be seen it is versioned. This is the place where ecl put a lot of its own libraries. It is determined by running the following ecl lisp formula, which I believe is the same in vanilla sage.\n\n```\necl -eval \"(princ (SI:GET-LIBRARY-PATHNAME))\" -eval \"(quit)\"\n```\nIt could be interesting to know other, or how to set other, paths to install .fas files for ecl.",
    "created_at": "2021-01-16T19:57:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492007",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@mkoeppe](#comment%3A31):
> Replying to [@antonio-rojas](#comment%3A18):
> > Given that sage's maxima is patched to install a fas module in ecl's tree, how is this supposed to work with a system ecl?

> 
> Where do distributions install compiled common lisp libraries?

Gentoo does it in `/usr/lib64/ecl-20.4.24` - as can be seen it is versioned. This is the place where ecl put a lot of its own libraries. It is determined by running the following ecl lisp formula, which I believe is the same in vanilla sage.

```
ecl -eval "(princ (SI:GET-LIBRARY-PATHNAME))" -eval "(quit)"
```
It could be interesting to know other, or how to set other, paths to install .fas files for ecl.



---

archive/issue_comments_492008.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@kiwifb](#comment%3A32):\n> Replying to [@mkoeppe](#comment%3A31):\n> > Replying to [@antonio-rojas](#comment%3A18):\n> > > Given that sage's maxima is patched to install a fas module in ecl's tree, how is this supposed to work with a system ecl?\n\n> > \n> > Where do distributions install compiled common lisp libraries?\n\n> Gentoo does it in `/usr/lib64/ecl-20.4.24` - as can be seen it is versioned. This is the place where ecl put a lot of its own libraries. It is determined by running the following ecl lisp formula, which I believe is the same in vanilla sage.\n> \n> ```\n> ecl -eval \"(princ (SI:GET-LIBRARY-PATHNAME))\" -eval \"(quit)\"\n> ```\n> It could be interesting to know other, or how to set other, paths to install .fas files for ecl. \n\nThere is no universally agreed place to put .fas files, after all you can just use `(load \"/wherever/whatever.fas\")` to load them from any place you like. But `/usr/lib64/ecl-20.4.24` makes the most sense for libraries useable for multiple projects and also allows you to call `(require :whatever)` to use the fas in ECL. On the other hand, if the .fas file is only useable for a single project, I would rather put it in `/usr/lib64/some-other-project/` and explicitely load it from there.",
    "created_at": "2021-01-17T19:10:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492008",
    "user": "https://github.com/spaghettisalat"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@kiwifb](#comment%3A32):
> Replying to [@mkoeppe](#comment%3A31):
> > Replying to [@antonio-rojas](#comment%3A18):
> > > Given that sage's maxima is patched to install a fas module in ecl's tree, how is this supposed to work with a system ecl?

> > 
> > Where do distributions install compiled common lisp libraries?

> Gentoo does it in `/usr/lib64/ecl-20.4.24` - as can be seen it is versioned. This is the place where ecl put a lot of its own libraries. It is determined by running the following ecl lisp formula, which I believe is the same in vanilla sage.
> 
> ```
> ecl -eval "(princ (SI:GET-LIBRARY-PATHNAME))" -eval "(quit)"
> ```
> It could be interesting to know other, or how to set other, paths to install .fas files for ecl. 

There is no universally agreed place to put .fas files, after all you can just use `(load "/wherever/whatever.fas")` to load them from any place you like. But `/usr/lib64/ecl-20.4.24` makes the most sense for libraries useable for multiple projects and also allows you to call `(require :whatever)` to use the fas in ECL. On the other hand, if the .fas file is only useable for a single project, I would rather put it in `/usr/lib64/some-other-project/` and explicitely load it from there.



---

archive/issue_comments_492009.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe, ...**",
    "created_at": "2021-01-17T19:13:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492009",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe, ...**



---

archive/issue_comments_492010.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nThis is extremely interesting, how would you load a .fas from an arbitrary location?",
    "created_at": "2021-01-17T19:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492010",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:35" align="right">comment:35</div>

This is extremely interesting, how would you load a .fas from an arbitrary location?



---

archive/issue_comments_492011.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@kiwifb](#comment%3A35):\n> This is extremely interesting, how would you load a .fas from an arbitrary location?\n\nAs I said, you just call `(load \"/path/to/lib.fas\")`. This is a standard common lisp function for loading compiled code or source code into the running image, much like `dlopen` loads a shared library in C.",
    "created_at": "2021-01-17T19:19:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492011",
    "user": "https://github.com/spaghettisalat"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@kiwifb](#comment%3A35):
> This is extremely interesting, how would you load a .fas from an arbitrary location?

As I said, you just call `(load "/path/to/lib.fas")`. This is a standard common lisp function for loading compiled code or source code into the running image, much like `dlopen` loads a shared library in C.



---

archive/issue_comments_492012.json:
```json
{
    "body": "Changed commit from **[`31f1bbb`](https://github.com/sagemath/sagetrac-mirror/commit/31f1bbba244263160e887613b34111bc3a20d4f4)** to **[`11ad40a`](https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f)**",
    "created_at": "2021-01-19T16:32:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492012",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`31f1bbb`](https://github.com/sagemath/sagetrac-mirror/commit/31f1bbba244263160e887613b34111bc3a20d4f4)** to **[`11ad40a`](https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f)**



---

archive/issue_comments_492013.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ac4cc8aeea651adeaf05632d798025e6ec530df\"><code>2ac4cc8</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into public/build/ecl-config</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f\"><code>11ad40a</code></a></td><td><code>Merge branch 'public/build/ecl-config' of git://trac.sagemath.org/sage into public/build/ecl-config</code></td></tr></table>\n",
    "created_at": "2021-01-19T16:32:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492013",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ac4cc8aeea651adeaf05632d798025e6ec530df"><code>2ac4cc8</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into public/build/ecl-config</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f"><code>11ad40a</code></a></td><td><code>Merge branch 'public/build/ecl-config' of git://trac.sagemath.org/sage into public/build/ecl-config</code></td></tr></table>




---

archive/issue_comments_492014.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nLet's continue the discussion on Maxima FASL installation in #29617 (spkg-configure.m4 and distros/ information for ecl)\n\nThe present ticket is about the parameters for compiling the `sage.libs.ecl` extension. Needs review",
    "created_at": "2021-01-19T21:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492014",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:38" align="right">comment:38</div>

Let's continue the discussion on Maxima FASL installation in #29617 (spkg-configure.m4 and distros/ information for ecl)

The present ticket is about the parameters for compiling the `sage.libs.ecl` extension. Needs review



---

archive/issue_comments_492015.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nLet's please get this in",
    "created_at": "2021-02-02T21:04:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492015",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:39" align="right">comment:39</div>

Let's please get this in



---

archive/issue_events_421294.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-02T21:04:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-421294"
}
```



---

archive/issue_events_421295.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-02T21:04:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-421295"
}
```



---

archive/issue_comments_492016.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nlgtm",
    "created_at": "2021-02-03T00:38:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492016",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:40" align="right">comment:40</div>

lgtm



---

archive/issue_comments_492017.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, Dima Pasechnik**",
    "created_at": "2021-02-03T00:38:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492017",
    "user": "https://github.com/dimpase"
}
```

Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, Dima Pasechnik**



---

archive/issue_events_421296.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-02-03T00:38:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-421296"
}
```



---

archive/issue_events_421297.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-02-03T00:38:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-421297"
}
```



---

archive/issue_comments_492018.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nThanks!",
    "created_at": "2021-02-03T09:21:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492018",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:41" align="right">comment:41</div>

Thanks!



---

archive/issue_comments_492019.json:
```json
{
    "body": "Changed branch from **[public/build/ecl-config](https://github.com/sagemath/sagetrac-mirror/tree/public/build/ecl-config)** to **[`11ad40a`](https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f)**",
    "created_at": "2021-02-20T10:46:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492019",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/build/ecl-config](https://github.com/sagemath/sagetrac-mirror/tree/public/build/ecl-config)** to **[`11ad40a`](https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f)**



---

archive/issue_events_421298.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-02-20T10:46:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-421298"
}
```



---

archive/issue_events_421299.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "94156f67ab6d41fc833eade41d26f20359916834",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-02-20T10:46:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-421299"
}
```



---

archive/issue_comments_492020.json:
```json
{
    "body": "Changed commit from **[`11ad40a`](https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f)** to none",
    "created_at": "2022-05-05T17:18:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492020",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`11ad40a`](https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f)** to none



---

archive/issue_comments_492021.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nFollow up in #33803",
    "created_at": "2022-05-05T17:18:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-492021",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:43" align="right">comment:43</div>

Follow up in #33803
