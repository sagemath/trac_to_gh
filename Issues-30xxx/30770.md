# Issue 30770: cython_aliases: Use ecl-config to determine compiler/linker flags for ecl

archive/issues_030533.json:
```json
{
    "assignees": [],
    "body": "We use ecl-config to determine compiler/linker flags for ecl. This is a step towards using a system-installed ecl and is needed/helpful for installing sage in virtual environments (#30371).\n\n```\n$ ecl-config --help\nUsage: /usr/local/bin/ecl-config [OPTIONS] [LIBS]\nOptions: \n\t[--cflags]\n\t[--libs|--ldflags]\nLibs:\n\tcmp\n```\nSample output:\n\n```\n> ./local/bin/ecl-config --cflags --libs\n-Dlinux   -I/mnt/d/Programming/sage/local/include\n-Wl,--rpath,/mnt/d/Programming/sage/local/lib -L/mnt/d/Programming/sage/local/lib -lecl -Wl,-rpath-link,/mnt/d/Programming/sage/local/lib -L/mnt/d/Programming/sage/local/lib -Wl,-rpath,/mnt/d/Programming/sage/local/lib      -ldl -lm\n```\n\n\n\nCC:  @dimpase @orlitzky @spaghettisalat @jhpalmieri @tobiasdiez @isuruf @kiwifb @antonio-rojas\n\nKeywords: **sd111**\n\nBranch: **[11ad40a](https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f)**\n\nReviewer: **Matthias Koeppe, Dima Pasechnik**\n\nAuthor: **Tobias Diez, Matthias Koeppe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30770_\n\n",
    "closed_at": "2021-02-20T10:46:49Z",
    "created_at": "2020-10-15T03:25:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "cython_aliases: Use ecl-config to determine compiler/linker flags for ecl",
    "type": "issue",
    "updated_at": "2022-05-05T17:18:04Z",
    "url": "https://github.com/sagemath/sage/issues/30770",
    "user": "https://github.com/mkoeppe"
}
```
We use ecl-config to determine compiler/linker flags for ecl. This is a step towards using a system-installed ecl and is needed/helpful for installing sage in virtual environments (#30371).

```
$ ecl-config --help
Usage: /usr/local/bin/ecl-config [OPTIONS] [LIBS]
Options: 
	[--cflags]
	[--libs|--ldflags]
Libs:
	cmp
```
Sample output:

```
> ./local/bin/ecl-config --cflags --libs
-Dlinux   -I/mnt/d/Programming/sage/local/include
-Wl,--rpath,/mnt/d/Programming/sage/local/lib -L/mnt/d/Programming/sage/local/lib -lecl -Wl,-rpath-link,/mnt/d/Programming/sage/local/lib -L/mnt/d/Programming/sage/local/lib -Wl,-rpath,/mnt/d/Programming/sage/local/lib      -ldl -lm
```



CC:  @dimpase @orlitzky @spaghettisalat @jhpalmieri @tobiasdiez @isuruf @kiwifb @antonio-rojas

Keywords: **sd111**

Branch: **[11ad40a](https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f)**

Reviewer: **Matthias Koeppe, Dima Pasechnik**

Author: **Tobias Diez, Matthias Koeppe**

_Issue created by migration from https://trac.sagemath.org/ticket/30770_





---

archive/issue_events_406147.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-15T03:25:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-406147"
}
```



---

archive/issue_events_406148.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-15T03:25:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-406148"
}
```



---

archive/issue_events_406149.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-15T03:25:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-406149"
}
```



---

archive/issue_events_406150.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-15T03:25:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-406150"
}
```



---

archive/issue_events_406151.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-406151"
}
```



---

archive/issue_events_406152.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-406152"
}
```



---

archive/issue_comments_495034.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nIdeally, of course, ecl would install a pkg-config module...",
    "created_at": "2020-11-01T16:35:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495034",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">Comment 2</div>

Ideally, of course, ecl would install a pkg-config module...



---

archive/issue_comments_495035.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nHoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111",
    "created_at": "2020-12-06T18:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495035",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">Comment 3</div>

Hoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111



---

archive/issue_comments_495036.json:
```json
{
    "body": "Changed keywords from **** to **sd111**",
    "created_at": "2020-12-06T18:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495036",
    "user": "https://github.com/mkoeppe"
}
```

Changed keywords from **** to **sd111**



---

archive/issue_comments_495037.json:
```json
{
    "body": "Commit: **[3049e53](https://github.com/sagemath/sagetrac-mirror/commit/3049e53618902318c8247e277d28f50c1f59f545)**",
    "created_at": "2021-01-11T14:53:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495037",
    "user": "https://github.com/tobiasdiez"
}
```

Commit: **[3049e53](https://github.com/sagemath/sagetrac-mirror/commit/3049e53618902318c8247e277d28f50c1f59f545)**



---

archive/issue_comments_495038.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n+We use ecl-config to determine compiler/linker flags for ecl. This is a step towards using a system-installed ecl and is needed/helpful for installing sage in virtual environments (#30371).\n \n ```\n $ ecl-config --help\n@@ -8,5 +9,12 @@\n Libs:\n \tcmp\n ```\n+Sample output:\n+\n+```\n+> ./local/bin/ecl-config --cflags --libs\n+-Dlinux   -I/mnt/d/Programming/sage/local/include\n+-Wl,--rpath,/mnt/d/Programming/sage/local/lib -L/mnt/d/Programming/sage/local/lib -lecl -Wl,-rpath-link,/mnt/d/Programming/sage/local/lib -L/mnt/d/Programming/sage/local/lib -Wl,-rpath,/mnt/d/Programming/sage/local/lib      -ldl -lm\n+```\n \n \n``````\n",
    "created_at": "2021-01-11T14:53:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495038",
    "user": "https://github.com/tobiasdiez"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
+We use ecl-config to determine compiler/linker flags for ecl. This is a step towards using a system-installed ecl and is needed/helpful for installing sage in virtual environments (#30371).
 
 ```
 $ ecl-config --help
@@ -8,5 +9,12 @@
 Libs:
 	cmp
 ```
+Sample output:
+
+```
+> ./local/bin/ecl-config --cflags --libs
+-Dlinux   -I/mnt/d/Programming/sage/local/include
+-Wl,--rpath,/mnt/d/Programming/sage/local/lib -L/mnt/d/Programming/sage/local/lib -lecl -Wl,-rpath-link,/mnt/d/Programming/sage/local/lib -L/mnt/d/Programming/sage/local/lib -Wl,-rpath,/mnt/d/Programming/sage/local/lib      -ldl -lm
+```
 
 
``````




---

archive/issue_comments_495039.json:
```json
{
    "body": "Branch: **[public/build/ecl-config](https://github.com/sagemath/sagetrac-mirror/tree/public/build/ecl-config)**",
    "created_at": "2021-01-11T14:53:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495039",
    "user": "https://github.com/tobiasdiez"
}
```

Branch: **[public/build/ecl-config](https://github.com/sagemath/sagetrac-mirror/tree/public/build/ecl-config)**



---

archive/issue_events_406153.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2021-01-11T14:53:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-406153"
}
```



---

archive/issue_comments_495040.json:
```json
{
    "body": "Author: **Tobias Diez**",
    "created_at": "2021-01-11T14:53:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495040",
    "user": "https://github.com/tobiasdiez"
}
```

Author: **Tobias Diez**



---

archive/issue_comments_495041.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nThe following is working for me (in the context of #30371).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3049e53618902318c8247e277d28f50c1f59f545\">3049e53</a></td><td><code>Use ecl-config to determine compiler/linker flags for ecl</code></td></tr></table>\n",
    "created_at": "2021-01-11T14:53:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495041",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:6" align="right">Comment 6</div>

The following is working for me (in the context of #30371).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3049e53618902318c8247e277d28f50c1f59f545">3049e53</a></td><td><code>Use ecl-config to determine compiler/linker flags for ecl</code></td></tr></table>




---

archive/issue_comments_495042.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nFollowing the conventions of autoconf, this variable should be called `ECL_CONFIG`, not `ECL_CONFIG_PATH`",
    "created_at": "2021-01-11T17:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495042",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">Comment 7</div>

Following the conventions of autoconf, this variable should be called `ECL_CONFIG`, not `ECL_CONFIG_PATH`



---

archive/issue_comments_495043.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1041128342253f609a9c3b8f8efe4495bc314a2e\">1041128</a></td><td><code>Rename ecl config variable</code></td></tr></table>\n",
    "created_at": "2021-01-12T12:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495043",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8" align="right">Comment 8</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1041128342253f609a9c3b8f8efe4495bc314a2e">1041128</a></td><td><code>Rename ecl config variable</code></td></tr></table>




---

archive/issue_comments_495044.json:
```json
{
    "body": "Changed commit from **[3049e53](https://github.com/sagemath/sagetrac-mirror/commit/3049e53618902318c8247e277d28f50c1f59f545)** to **[1041128](https://github.com/sagemath/sagetrac-mirror/commit/1041128342253f609a9c3b8f8efe4495bc314a2e)**",
    "created_at": "2021-01-12T12:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495044",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3049e53](https://github.com/sagemath/sagetrac-mirror/commit/3049e53618902318c8247e277d28f50c1f59f545)** to **[1041128](https://github.com/sagemath/sagetrac-mirror/commit/1041128342253f609a9c3b8f8efe4495bc314a2e)**



---

archive/issue_comments_495045.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nReplying to [@mkoeppe](#comment%3A7):\n> Following the conventions of autoconf, this variable should be called `ECL_CONFIG`, not `ECL_CONFIG_PATH`\n\nI'm not sure if one should follow the autoconf conventions here since the variable is (right now) only used in python scripts, but I've renamed it anyway.",
    "created_at": "2021-01-12T12:28:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495045",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:9" align="right">Comment 9</div>

Replying to [@mkoeppe](#comment%3A7):
> Following the conventions of autoconf, this variable should be called `ECL_CONFIG`, not `ECL_CONFIG_PATH`

I'm not sure if one should follow the autoconf conventions here since the variable is (right now) only used in python scripts, but I've renamed it anyway.



---

archive/issue_comments_495046.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\n`capture_output` is not available on Python 3.6 - see #30758",
    "created_at": "2021-01-12T17:13:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495046",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">Comment 10</div>

`capture_output` is not available on Python 3.6 - see #30758



---

archive/issue_comments_495047.json:
```json
{
    "body": "Dependencies: **#30551**",
    "created_at": "2021-01-12T21:48:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495047",
    "user": "https://github.com/tobiasdiez"
}
```

Dependencies: **#30551**



---

archive/issue_comments_495048.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nI think it's better to make the simple change of the code as in https://github.com/sagemath/sagetrac-mirror/commit/a569b88f02ab4dfdd8eec6e8ad0472f1f537d2c8\ninstead of deferring this ticket until after we drop support for python 3.6",
    "created_at": "2021-01-12T23:16:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495048",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">Comment 12</div>

I think it's better to make the simple change of the code as in https://github.com/sagemath/sagetrac-mirror/commit/a569b88f02ab4dfdd8eec6e8ad0472f1f537d2c8
instead of deferring this ticket until after we drop support for python 3.6



---

archive/issue_comments_495049.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nI have yet to see a system that ships patched ECL, allowing one to build Maxima in Sage, etc.",
    "created_at": "2021-01-13T14:29:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495049",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:13" align="right">Comment 13</div>

I have yet to see a system that ships patched ECL, allowing one to build Maxima in Sage, etc.



---

archive/issue_comments_495050.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nI use this ticket successfully in #30371 to build sage in a new python virtual environment using sage's ecl precisely because the system ecl is not working.",
    "created_at": "2021-01-13T14:49:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495050",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:14" align="right">Comment 14</div>

I use this ticket successfully in #30371 to build sage in a new python virtual environment using sage's ecl precisely because the system ecl is not working.



---

archive/issue_comments_495051.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nReplying to [@dimpase](#comment%3A13):\n> I have yet to see a system that ships patched ECL, allowing one to build Maxima in Sage, etc.\n\nSurely distributions that ship sage must have a suitable package: conda, arch, ...?",
    "created_at": "2021-01-13T17:44:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495051",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">Comment 15</div>

Replying to [@dimpase](#comment%3A13):
> I have yet to see a system that ships patched ECL, allowing one to build Maxima in Sage, etc.

Surely distributions that ship sage must have a suitable package: conda, arch, ...?



---

archive/issue_comments_495052.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\n\n```\n@@ -203,6 +204,7 @@ var('MAXIMA_FAS')\n var('SAGE_NAUTY_BINS_PREFIX',        '')\n var('ARB_LIBRARY',                   'arb')\n var('CBLAS_PC_MODULES',              'cblas:openblas:blas')\n+var('ECL_CONFIG')\n \n # misc\n var('SAGE_BANNER', '')\n```\n\nPlease add a fallback here, otherwise this will break distro packaging without sage_conf",
    "created_at": "2021-01-13T21:00:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495052",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:17" align="right">Comment 17</div>


```
@@ -203,6 +204,7 @@ var('MAXIMA_FAS')
 var('SAGE_NAUTY_BINS_PREFIX',        '')
 var('ARB_LIBRARY',                   'arb')
 var('CBLAS_PC_MODULES',              'cblas:openblas:blas')
+var('ECL_CONFIG')
 
 # misc
 var('SAGE_BANNER', '')
```

Please add a fallback here, otherwise this will break distro packaging without sage_conf



---

archive/issue_comments_495053.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nGiven that sage's maxima is patched to install a fas module in ecl's tree, how is this supposed to work with a system ecl?",
    "created_at": "2021-01-13T21:02:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495053",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:18" align="right">Comment 18</div>

Given that sage's maxima is patched to install a fas module in ecl's tree, how is this supposed to work with a system ecl?



---

archive/issue_comments_495054.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nI think we can change our maxima installation to use a different installation directoery and then pass the full path using the existing variable `sage.env.MAXIMA_FAS`",
    "created_at": "2021-01-13T21:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495054",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">Comment 19</div>

I think we can change our maxima installation to use a different installation directoery and then pass the full path using the existing variable `sage.env.MAXIMA_FAS`



---

archive/issue_comments_495055.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nReplying to [@antonio-rojas](#comment%3A17):\n> \n> ```\n> @@ -203,6 +204,7 @@ var('MAXIMA_FAS')\n>  var('SAGE_NAUTY_BINS_PREFIX',        '')\n>  var('ARB_LIBRARY',                   'arb')\n>  var('CBLAS_PC_MODULES',              'cblas:openblas:blas')\n> +var('ECL_CONFIG')\n>  \n>  # misc\n>  var('SAGE_BANNER', '')\n> ```\n> \n> Please add a fallback here, otherwise this will break distro packaging without sage_conf\n\nI agree, this should fall back to just `'ecl-config'`",
    "created_at": "2021-01-13T23:51:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495055",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">Comment 20</div>

Replying to [@antonio-rojas](#comment%3A17):
> 
> ```
> @@ -203,6 +204,7 @@ var('MAXIMA_FAS')
>  var('SAGE_NAUTY_BINS_PREFIX',        '')
>  var('ARB_LIBRARY',                   'arb')
>  var('CBLAS_PC_MODULES',              'cblas:openblas:blas')
> +var('ECL_CONFIG')
>  
>  # misc
>  var('SAGE_BANNER', '')
> ```
> 
> Please add a fallback here, otherwise this will break distro packaging without sage_conf

I agree, this should fall back to just `'ecl-config'`



---

archive/issue_comments_495056.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nGood catch, I've now added a fallback!",
    "created_at": "2021-01-14T09:15:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495056",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:21" align="right">Comment 21</div>

Good catch, I've now added a fallback!



---

archive/issue_comments_495057.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd05a972b62b0014995887f1372e7934866fdf24\">fd05a97</a></td><td><code>Add fallback</code></td></tr></table>\n",
    "created_at": "2021-01-14T09:15:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495057",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22" align="right">Comment 22</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd05a972b62b0014995887f1372e7934866fdf24">fd05a97</a></td><td><code>Add fallback</code></td></tr></table>




---

archive/issue_comments_495058.json:
```json
{
    "body": "Changed commit from **[1041128](https://github.com/sagemath/sagetrac-mirror/commit/1041128342253f609a9c3b8f8efe4495bc314a2e)** to **[fd05a97](https://github.com/sagemath/sagetrac-mirror/commit/fd05a972b62b0014995887f1372e7934866fdf24)**",
    "created_at": "2021-01-14T09:15:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495058",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1041128](https://github.com/sagemath/sagetrac-mirror/commit/1041128342253f609a9c3b8f8efe4495bc314a2e)** to **[fd05a97](https://github.com/sagemath/sagetrac-mirror/commit/fd05a972b62b0014995887f1372e7934866fdf24)**



---

archive/issue_comments_495059.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\n#30551 is for 9.4, why is this one still for 9.3 ? (I'd rather switch #30551 to 9.3, though)",
    "created_at": "2021-01-15T14:16:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495059",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:23" align="right">Comment 23</div>

#30551 is for 9.4, why is this one still for 9.3 ? (I'd rather switch #30551 to 9.3, though)



---

archive/issue_comments_495060.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nI've put #30551 now to 9.3 since I agree it would be convenient to drop python 3.6 support soon. Matthias, please feel free to put both tickets onto 9.4 if you strongly feel that 3.6 still needs to be supported.",
    "created_at": "2021-01-15T14:26:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495060",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:24" align="right">Comment 24</div>

I've put #30551 now to 9.3 since I agree it would be convenient to drop python 3.6 support soon. Matthias, please feel free to put both tickets onto 9.4 if you strongly feel that 3.6 still needs to be supported.



---

archive/issue_comments_495061.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nLet's please not use a ticket like this where we know exactly how to write python 3.6 conforming code to force a decision that needs proper discussion in #30551.",
    "created_at": "2021-01-15T17:46:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495061",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">Comment 25</div>

Let's please not use a ticket like this where we know exactly how to write python 3.6 conforming code to force a decision that needs proper discussion in #30551.



---

archive/issue_events_406154.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-15T17:46:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-406154"
}
```



---

archive/issue_events_406155.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-15T17:46:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-406155"
}
```



---

archive/issue_comments_495062.json:
```json
{
    "body": "Changed commit from **[fd05a97](https://github.com/sagemath/sagetrac-mirror/commit/fd05a972b62b0014995887f1372e7934866fdf24)** to **[6370c34](https://github.com/sagemath/sagetrac-mirror/commit/6370c345114d50095e84a9b2e7917dd8cae3bfe6)**",
    "created_at": "2021-01-15T17:51:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495062",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fd05a97](https://github.com/sagemath/sagetrac-mirror/commit/fd05a972b62b0014995887f1372e7934866fdf24)** to **[6370c34](https://github.com/sagemath/sagetrac-mirror/commit/6370c345114d50095e84a9b2e7917dd8cae3bfe6)**



---

archive/issue_comments_495063.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6370c345114d50095e84a9b2e7917dd8cae3bfe6\">6370c34</a></td><td><code>src/sage/env.py: Do not use capture_output, which requires python 3.7</code></td></tr></table>\n",
    "created_at": "2021-01-15T17:51:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495063",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26" align="right">Comment 26</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6370c345114d50095e84a9b2e7917dd8cae3bfe6">6370c34</a></td><td><code>src/sage/env.py: Do not use capture_output, which requires python 3.7</code></td></tr></table>




---

archive/issue_events_406156.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-15T17:51:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-406156"
}
```



---

archive/issue_events_406157.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-15T17:51:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-406157"
}
```



---

archive/issue_comments_495064.json:
```json
{
    "body": "Changed author from **Tobias Diez** to **Tobias Diez, Matthias Koeppe**",
    "created_at": "2021-01-15T17:51:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495064",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Tobias Diez** to **Tobias Diez, Matthias Koeppe**



---

archive/issue_comments_495065.json:
```json
{
    "body": "Changed commit from **[6370c34](https://github.com/sagemath/sagetrac-mirror/commit/6370c345114d50095e84a9b2e7917dd8cae3bfe6)** to **[31f1bbb](https://github.com/sagemath/sagetrac-mirror/commit/31f1bbba244263160e887613b34111bc3a20d4f4)**",
    "created_at": "2021-01-16T04:35:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495065",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6370c34](https://github.com/sagemath/sagetrac-mirror/commit/6370c345114d50095e84a9b2e7917dd8cae3bfe6)** to **[31f1bbb](https://github.com/sagemath/sagetrac-mirror/commit/31f1bbba244263160e887613b34111bc3a20d4f4)**



---

archive/issue_comments_495066.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31f1bbba244263160e887613b34111bc3a20d4f4\">31f1bbb</a></td><td><code>Also use universal_newlines instead of text, for python 3.6 compatibility</code></td></tr></table>\n",
    "created_at": "2021-01-16T04:35:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495066",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28" align="right">Comment 28</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31f1bbba244263160e887613b34111bc3a20d4f4">31f1bbb</a></td><td><code>Also use universal_newlines instead of text, for python 3.6 compatibility</code></td></tr></table>




---

archive/issue_comments_495067.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nReplying to [@sagetrac-git](#comment%3A28):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31f1bbba244263160e887613b34111bc3a20d4f4\">31f1bbb</a></td><td><code>Also use universal_newlines instead of text, for python 3.6 compatibility</code></td></tr></table>\n\nWhy do you push Python-3.6-needed changes to a ticket that depends on #30551 ?\nIt just makes no sense to me.",
    "created_at": "2021-01-16T10:19:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495067",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:29" align="right">Comment 29</div>

Replying to [@sagetrac-git](#comment%3A28):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31f1bbba244263160e887613b34111bc3a20d4f4">31f1bbb</a></td><td><code>Also use universal_newlines instead of text, for python 3.6 compatibility</code></td></tr></table>

Why do you push Python-3.6-needed changes to a ticket that depends on #30551 ?
It just makes no sense to me.



---

archive/issue_comments_495068.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nThanks. I forgot to remove the dependency.",
    "created_at": "2021-01-16T16:34:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495068",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">Comment 30</div>

Thanks. I forgot to remove the dependency.



---

archive/issue_comments_495069.json:
```json
{
    "body": "Changed dependencies from **#30551** to none",
    "created_at": "2021-01-16T16:34:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495069",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30551** to none



---

archive/issue_comments_495070.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nReplying to [@antonio-rojas](#comment%3A18):\n> Given that sage's maxima is patched to install a fas module in ecl's tree, how is this supposed to work with a system ecl?\n\nWhere do distributions install compiled common lisp libraries?",
    "created_at": "2021-01-16T18:32:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495070",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:31" align="right">Comment 31</div>

Replying to [@antonio-rojas](#comment%3A18):
> Given that sage's maxima is patched to install a fas module in ecl's tree, how is this supposed to work with a system ecl?

Where do distributions install compiled common lisp libraries?



---

archive/issue_comments_495071.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nReplying to [@mkoeppe](#comment%3A31):\n> Replying to [@antonio-rojas](#comment%3A18):\n> > Given that sage's maxima is patched to install a fas module in ecl's tree, how is this supposed to work with a system ecl?\n\n> \n> Where do distributions install compiled common lisp libraries?\n\nGentoo does it in `/usr/lib64/ecl-20.4.24` - as can be seen it is versioned. This is the place where ecl put a lot of its own libraries. It is determined by running the following ecl lisp formula, which I believe is the same in vanilla sage.\n\n```\necl -eval \"(princ (SI:GET-LIBRARY-PATHNAME))\" -eval \"(quit)\"\n```\nIt could be interesting to know other, or how to set other, paths to install .fas files for ecl.",
    "created_at": "2021-01-16T19:57:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495071",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:32" align="right">Comment 32</div>

Replying to [@mkoeppe](#comment%3A31):
> Replying to [@antonio-rojas](#comment%3A18):
> > Given that sage's maxima is patched to install a fas module in ecl's tree, how is this supposed to work with a system ecl?

> 
> Where do distributions install compiled common lisp libraries?

Gentoo does it in `/usr/lib64/ecl-20.4.24` - as can be seen it is versioned. This is the place where ecl put a lot of its own libraries. It is determined by running the following ecl lisp formula, which I believe is the same in vanilla sage.

```
ecl -eval "(princ (SI:GET-LIBRARY-PATHNAME))" -eval "(quit)"
```
It could be interesting to know other, or how to set other, paths to install .fas files for ecl.



---

archive/issue_comments_495072.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nReplying to [@kiwifb](#comment%3A32):\n> Replying to [@mkoeppe](#comment%3A31):\n> > Replying to [@antonio-rojas](#comment%3A18):\n> > > Given that sage's maxima is patched to install a fas module in ecl's tree, how is this supposed to work with a system ecl?\n\n> > \n> > Where do distributions install compiled common lisp libraries?\n\n> Gentoo does it in `/usr/lib64/ecl-20.4.24` - as can be seen it is versioned. This is the place where ecl put a lot of its own libraries. It is determined by running the following ecl lisp formula, which I believe is the same in vanilla sage.\n> \n> ```\n> ecl -eval \"(princ (SI:GET-LIBRARY-PATHNAME))\" -eval \"(quit)\"\n> ```\n> It could be interesting to know other, or how to set other, paths to install .fas files for ecl. \n\nThere is no universally agreed place to put .fas files, after all you can just use `(load \"/wherever/whatever.fas\")` to load them from any place you like. But `/usr/lib64/ecl-20.4.24` makes the most sense for libraries useable for multiple projects and also allows you to call `(require :whatever)` to use the fas in ECL. On the other hand, if the .fas file is only useable for a single project, I would rather put it in `/usr/lib64/some-other-project/` and explicitely load it from there.",
    "created_at": "2021-01-17T19:10:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495072",
    "user": "https://github.com/spaghettisalat"
}
```

<div id="comment:33" align="right">Comment 33</div>

Replying to [@kiwifb](#comment%3A32):
> Replying to [@mkoeppe](#comment%3A31):
> > Replying to [@antonio-rojas](#comment%3A18):
> > > Given that sage's maxima is patched to install a fas module in ecl's tree, how is this supposed to work with a system ecl?

> > 
> > Where do distributions install compiled common lisp libraries?

> Gentoo does it in `/usr/lib64/ecl-20.4.24` - as can be seen it is versioned. This is the place where ecl put a lot of its own libraries. It is determined by running the following ecl lisp formula, which I believe is the same in vanilla sage.
> 
> ```
> ecl -eval "(princ (SI:GET-LIBRARY-PATHNAME))" -eval "(quit)"
> ```
> It could be interesting to know other, or how to set other, paths to install .fas files for ecl. 

There is no universally agreed place to put .fas files, after all you can just use `(load "/wherever/whatever.fas")` to load them from any place you like. But `/usr/lib64/ecl-20.4.24` makes the most sense for libraries useable for multiple projects and also allows you to call `(require :whatever)` to use the fas in ECL. On the other hand, if the .fas file is only useable for a single project, I would rather put it in `/usr/lib64/some-other-project/` and explicitely load it from there.



---

archive/issue_comments_495073.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe, ...**",
    "created_at": "2021-01-17T19:13:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495073",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe, ...**



---

archive/issue_comments_495074.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nThis is extremely interesting, how would you load a .fas from an arbitrary location?",
    "created_at": "2021-01-17T19:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495074",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:35" align="right">Comment 35</div>

This is extremely interesting, how would you load a .fas from an arbitrary location?



---

archive/issue_comments_495075.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nReplying to [@kiwifb](#comment%3A35):\n> This is extremely interesting, how would you load a .fas from an arbitrary location?\n\nAs I said, you just call `(load \"/path/to/lib.fas\")`. This is a standard common lisp function for loading compiled code or source code into the running image, much like `dlopen` loads a shared library in C.",
    "created_at": "2021-01-17T19:19:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495075",
    "user": "https://github.com/spaghettisalat"
}
```

<div id="comment:36" align="right">Comment 36</div>

Replying to [@kiwifb](#comment%3A35):
> This is extremely interesting, how would you load a .fas from an arbitrary location?

As I said, you just call `(load "/path/to/lib.fas")`. This is a standard common lisp function for loading compiled code or source code into the running image, much like `dlopen` loads a shared library in C.



---

archive/issue_comments_495076.json:
```json
{
    "body": "Changed commit from **[31f1bbb](https://github.com/sagemath/sagetrac-mirror/commit/31f1bbba244263160e887613b34111bc3a20d4f4)** to **[11ad40a](https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f)**",
    "created_at": "2021-01-19T16:32:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495076",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[31f1bbb](https://github.com/sagemath/sagetrac-mirror/commit/31f1bbba244263160e887613b34111bc3a20d4f4)** to **[11ad40a](https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f)**



---

archive/issue_comments_495077.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ac4cc8aeea651adeaf05632d798025e6ec530df\">2ac4cc8</a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into public/build/ecl-config</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f\">11ad40a</a></td><td><code>Merge branch 'public/build/ecl-config' of git://trac.sagemath.org/sage into public/build/ecl-config</code></td></tr></table>\n",
    "created_at": "2021-01-19T16:32:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495077",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37" align="right">Comment 37</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ac4cc8aeea651adeaf05632d798025e6ec530df">2ac4cc8</a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into public/build/ecl-config</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f">11ad40a</a></td><td><code>Merge branch 'public/build/ecl-config' of git://trac.sagemath.org/sage into public/build/ecl-config</code></td></tr></table>




---

archive/issue_comments_495078.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nLet's continue the discussion on Maxima FASL installation in #29617 (spkg-configure.m4 and distros/ information for ecl)\n\nThe present ticket is about the parameters for compiling the `sage.libs.ecl` extension. Needs review",
    "created_at": "2021-01-19T21:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495078",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:38" align="right">Comment 38</div>

Let's continue the discussion on Maxima FASL installation in #29617 (spkg-configure.m4 and distros/ information for ecl)

The present ticket is about the parameters for compiling the `sage.libs.ecl` extension. Needs review



---

archive/issue_comments_495079.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nLet's please get this in",
    "created_at": "2021-02-02T21:04:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495079",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:39" align="right">Comment 39</div>

Let's please get this in



---

archive/issue_events_406158.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-02T21:04:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-406158"
}
```



---

archive/issue_events_406159.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-02T21:04:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-406159"
}
```



---

archive/issue_comments_495080.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nlgtm",
    "created_at": "2021-02-03T00:38:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495080",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:40" align="right">Comment 40</div>

lgtm



---

archive/issue_comments_495081.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, Dima Pasechnik**",
    "created_at": "2021-02-03T00:38:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495081",
    "user": "https://github.com/dimpase"
}
```

Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, Dima Pasechnik**



---

archive/issue_events_406160.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-02-03T00:38:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-406160"
}
```



---

archive/issue_events_406161.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-02-03T00:38:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-406161"
}
```



---

archive/issue_comments_495082.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\nThanks!",
    "created_at": "2021-02-03T09:21:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495082",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:41" align="right">Comment 41</div>

Thanks!



---

archive/issue_comments_495083.json:
```json
{
    "body": "Changed branch from **[public/build/ecl-config](https://github.com/sagemath/sagetrac-mirror/tree/public/build/ecl-config)** to **[11ad40a](https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f)**",
    "created_at": "2021-02-20T10:46:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495083",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/build/ecl-config](https://github.com/sagemath/sagetrac-mirror/tree/public/build/ecl-config)** to **[11ad40a](https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f)**



---

archive/issue_events_406162.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-02-20T10:46:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-406162"
}
```



---

archive/issue_events_406163.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "94156f67ab6d41fc833eade41d26f20359916834",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-02-20T10:46:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30770#event-406163"
}
```



---

archive/issue_comments_495084.json:
```json
{
    "body": "Changed commit from **[11ad40a](https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f)** to none",
    "created_at": "2022-05-05T17:18:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495084",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[11ad40a](https://github.com/sagemath/sagetrac-mirror/commit/11ad40ae805a29feb59f0db4816cc21cd5be9f4f)** to none



---

archive/issue_comments_495085.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nFollow up in #33803",
    "created_at": "2022-05-05T17:18:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30770#issuecomment-495085",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:43" align="right">Comment 43</div>

Follow up in #33803
