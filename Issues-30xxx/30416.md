# Issue 30416: Make tox a standard package

archive/issues_030179.json:
```json
{
    "body": "see #30410.\n\n[Discussion/vote at sage-devel](https://groups.google.com/d/msg/sage-devel/G5kMggTecA8/ikT04wi8AQAJ).\n\n\n\n**CC:**  @jhpalmieri @tobiasdiez @fchapoton @slel @orlitzky\n\n**Branch:** [65e6330c118a89e21b8ba13bcfc9a407550bad63](https://github.com/sagemath/sagetrac-mirror/commit/65e6330c118a89e21b8ba13bcfc9a407550bad63)\n\n**Reviewer:** John Palmieri\n\n**Author:** Matthias Koeppe\n\n**Dependencies:** #31699\n\nIssue created by migration from https://trac.sagemath.org/ticket/30416\n\n",
    "closed_at": "2021-06-20T08:14:31Z",
    "created_at": "2020-08-21T17:43:03Z",
    "labels": [
        "component: packages: standard",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Make tox a standard package",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30416",
    "user": "https://github.com/mkoeppe"
}
```
see #30410.

[Discussion/vote at sage-devel](https://groups.google.com/d/msg/sage-devel/G5kMggTecA8/ikT04wi8AQAJ).



**CC:**  @jhpalmieri @tobiasdiez @fchapoton @slel @orlitzky

**Branch:** [65e6330c118a89e21b8ba13bcfc9a407550bad63](https://github.com/sagemath/sagetrac-mirror/commit/65e6330c118a89e21b8ba13bcfc9a407550bad63)

**Reviewer:** John Palmieri

**Author:** Matthias Koeppe

**Dependencies:** #31699

Issue created by migration from https://trac.sagemath.org/ticket/30416





---

archive/issue_comments_573930.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n-see #30410; this will need a discussion/vote at sage-devel.\n+see #30410.\n+\n+[Discussion/vote at sage-devel](https://groups.google.com/d/msg/sage-devel/G5kMggTecA8/ikT04wi8AQAJ).\n+\n``````\n",
    "created_at": "2020-09-09T16:00:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573930",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,4 @@
-see #30410; this will need a discussion/vote at sage-devel.
+see #30410.
+
+[Discussion/vote at sage-devel](https://groups.google.com/d/msg/sage-devel/G5kMggTecA8/ikT04wi8AQAJ).
+
``````




---

archive/issue_comments_573931.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/make_tox_a_standard_package](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/make_tox_a_standard_package)",
    "created_at": "2020-09-09T17:03:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573931",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/make_tox_a_standard_package](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/make_tox_a_standard_package)



---

archive/issue_comments_573932.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2020-09-09T17:03:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573932",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_573933.json:
```json
{
    "body": "<a id='comment:4'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8a7ee6c4e498c455b96701c159f55edeb8348bb\">f8a7ee6</a></td><td><code>build/pkgs/tox: Make it a standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/471ab84f2fc863432b91f52e2648560b0a867667\">471ab84</a></td><td><code>build/pkgs/tox/SPKG.rst: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6913cd8cf3cb18a6873696bcaf7678e95f60f37a\">6913cd8</a></td><td><code>build/pkgs/tox/dependencies: New</code></td></tr></table>\n",
    "created_at": "2020-09-09T17:03:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573933",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8a7ee6c4e498c455b96701c159f55edeb8348bb">f8a7ee6</a></td><td><code>build/pkgs/tox: Make it a standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/471ab84f2fc863432b91f52e2648560b0a867667">471ab84</a></td><td><code>build/pkgs/tox/SPKG.rst: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6913cd8cf3cb18a6873696bcaf7678e95f60f37a">6913cd8</a></td><td><code>build/pkgs/tox/dependencies: New</code></td></tr></table>




---

archive/issue_comments_573934.json:
```json
{
    "body": "**Commit:** [6913cd8cf3cb18a6873696bcaf7678e95f60f37a](https://github.com/sagemath/sagetrac-mirror/commit/6913cd8cf3cb18a6873696bcaf7678e95f60f37a)",
    "created_at": "2020-09-09T17:03:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573934",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [6913cd8cf3cb18a6873696bcaf7678e95f60f37a](https://github.com/sagemath/sagetrac-mirror/commit/6913cd8cf3cb18a6873696bcaf7678e95f60f37a)



---

archive/issue_comments_573935.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2020-09-09T17:03:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573935",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_573936.json:
```json
{
    "body": "<a id='comment:5'></a>\nShould there also be an `spkg-configure.m4` file? (As a policy issue, should all new standard packages be encouraged, required if at all possible, to have such files, to try to maintain the momentum toward working well with distros?)",
    "created_at": "2020-09-09T18:19:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573936",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:5'></a>
Should there also be an `spkg-configure.m4` file? (As a policy issue, should all new standard packages be encouraged, required if at all possible, to have such files, to try to maintain the momentum toward working well with distros?)



---

archive/issue_comments_573937.json:
```json
{
    "body": "<a id='comment:6'></a>\nThat's a good idea, and I would support adding this policy too.",
    "created_at": "2020-09-09T18:21:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573937",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
That's a good idea, and I would support adding this policy too.



---

archive/issue_comments_573938.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2020-09-09T18:21:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573938",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_573939.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b510ddb24aac1161817570f09b336f34c8185af\">3b510dd</a></td><td><code>build/pkgs/tox/spkg-configure.m4: New</code></td></tr></table>\n",
    "created_at": "2020-09-09T21:02:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573939",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b510ddb24aac1161817570f09b336f34c8185af">3b510dd</a></td><td><code>build/pkgs/tox/spkg-configure.m4: New</code></td></tr></table>




---

archive/issue_comments_573940.json:
```json
{
    "body": "**Changing commit** from \"[6913cd8cf3cb18a6873696bcaf7678e95f60f37a](https://github.com/sagemath/sagetrac-mirror/commit/6913cd8cf3cb18a6873696bcaf7678e95f60f37a)\" to \"[3b510ddb24aac1161817570f09b336f34c8185af](https://github.com/sagemath/sagetrac-mirror/commit/3b510ddb24aac1161817570f09b336f34c8185af)\".",
    "created_at": "2020-09-09T21:02:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573940",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6913cd8cf3cb18a6873696bcaf7678e95f60f37a](https://github.com/sagemath/sagetrac-mirror/commit/6913cd8cf3cb18a6873696bcaf7678e95f60f37a)" to "[3b510ddb24aac1161817570f09b336f34c8185af](https://github.com/sagemath/sagetrac-mirror/commit/3b510ddb24aac1161817570f09b336f34c8185af)".



---

archive/issue_comments_573941.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2020-09-09T21:07:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573941",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_573942.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [mkoeppe](#comment%3A6):\n> That's a good idea, and I would support adding this policy too.\n\n\nSee #30543 for documentation for spkg-configure.m4 and the statement of this policy.",
    "created_at": "2020-09-09T21:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573942",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:9'></a>
Replying to [mkoeppe](#comment%3A6):
> That's a good idea, and I would support adding this policy too.


See #30543 for documentation for spkg-configure.m4 and the statement of this policy.



---

archive/issue_comments_573943.json:
```json
{
    "body": "<a id='comment:10'></a>\nWe're missing some dependencies:\n\n```\ninstall_requires = \n\tfilelock>=3.0.0\n\tpackaging>=14\n\tpluggy>=0.12.0\n\tpy>=1.4.17\n\tsix>=1.14.0 # required when virtualenv>=20\n\ttoml>=0.9.4\n        virtualenv!=20.0.0,!=20.0.1,!=20.0.2,!=20.0.3,!=20.0.4,!=20.0.5,!=20.0.6,!=20.0.7,>=16.0.0\n\tcolorama>=0.4.1 ;platform_system==\"Windows\"\n\timportlib-metadata>=0.12,<2;python_version<\"3.8\"\n```\nWhen I run `./sage --tox --version`, I get\n\n```\nModuleNotFoundError: No module named 'pluggy'\n```",
    "created_at": "2020-09-09T22:41:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573943",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:10'></a>
We're missing some dependencies:

```
install_requires = 
	filelock>=3.0.0
	packaging>=14
	pluggy>=0.12.0
	py>=1.4.17
	six>=1.14.0 # required when virtualenv>=20
	toml>=0.9.4
        virtualenv!=20.0.0,!=20.0.1,!=20.0.2,!=20.0.3,!=20.0.4,!=20.0.5,!=20.0.6,!=20.0.7,>=16.0.0
	colorama>=0.4.1 ;platform_system=="Windows"
	importlib-metadata>=0.12,<2;python_version<"3.8"
```
When I run `./sage --tox --version`, I get

```
ModuleNotFoundError: No module named 'pluggy'
```



---

archive/issue_comments_573944.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2020-09-10T00:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573944",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_573945.json:
```json
{
    "body": "<a id='comment:11'></a>\nIndeed, thanks for catching this.",
    "created_at": "2020-09-10T00:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573945",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
Indeed, thanks for catching this.



---

archive/issue_comments_573946.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,3 +2,4 @@\n \n [Discussion/vote at sage-devel](https://groups.google.com/d/msg/sage-devel/G5kMggTecA8/ikT04wi8AQAJ).\n \n+System packages: https://repology.org/project/python:tox/versions\n``````\n",
    "created_at": "2020-09-10T00:01:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573946",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,3 +2,4 @@
 
 [Discussion/vote at sage-devel](https://groups.google.com/d/msg/sage-devel/G5kMggTecA8/ikT04wi8AQAJ).
 
+System packages: https://repology.org/project/python:tox/versions
``````




---

archive/issue_comments_573947.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n [Discussion/vote at sage-devel](https://groups.google.com/d/msg/sage-devel/G5kMggTecA8/ikT04wi8AQAJ).\n \n-System packages: https://repology.org/project/python:tox/versions\n+\n``````\n",
    "created_at": "2020-09-10T00:39:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573947",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 [Discussion/vote at sage-devel](https://groups.google.com/d/msg/sage-devel/G5kMggTecA8/ikT04wi8AQAJ).
 
-System packages: https://repology.org/project/python:tox/versions
+
``````




---

archive/issue_events_088604.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-10T00:39:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30416#event-88604"
}
```



---

archive/issue_comments_573948.json:
```json
{
    "body": "**Dependencies:** #30544",
    "created_at": "2020-09-10T00:39:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573948",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #30544



---

archive/issue_comments_573949.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** New commits:",
    "created_at": "2020-09-10T00:41:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573949",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** New commits:



---

archive/issue_comments_573950.json:
```json
{
    "body": "**Changing commit** from \"[3b510ddb24aac1161817570f09b336f34c8185af](https://github.com/sagemath/sagetrac-mirror/commit/3b510ddb24aac1161817570f09b336f34c8185af)\" to \"[f8a7ee6c4e498c455b96701c159f55edeb8348bb](https://github.com/sagemath/sagetrac-mirror/commit/f8a7ee6c4e498c455b96701c159f55edeb8348bb)\".",
    "created_at": "2020-09-10T00:41:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573950",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3b510ddb24aac1161817570f09b336f34c8185af](https://github.com/sagemath/sagetrac-mirror/commit/3b510ddb24aac1161817570f09b336f34c8185af)" to "[f8a7ee6c4e498c455b96701c159f55edeb8348bb](https://github.com/sagemath/sagetrac-mirror/commit/f8a7ee6c4e498c455b96701c159f55edeb8348bb)".



---

archive/issue_comments_573951.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7db399c6b640954e49bb229ae66e59d2e21245e8\">7db399c</a></td><td><code>build/pkgs/tox: Make it a standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b3b26d89febf26a274dcd8ce4686d08477afde7\">2b3b26d</a></td><td><code>build/pkgs: Add tox dependencies: filelock py toml virtualenv pluggy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c50e9f2cf4e3b51e4caf0a8adfe963c05b078a12\">c50e9f2</a></td><td><code>build/pkgs/packaging: Update to 20.8</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e7cc2aed7f075cba0ff6b0b60ae382f3af58638\">9e7cc2a</a></td><td><code>build/pkgs/tox: Add to dependencies</code></td></tr></table>\n",
    "created_at": "2020-12-27T18:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573951",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7db399c6b640954e49bb229ae66e59d2e21245e8">7db399c</a></td><td><code>build/pkgs/tox: Make it a standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b3b26d89febf26a274dcd8ce4686d08477afde7">2b3b26d</a></td><td><code>build/pkgs: Add tox dependencies: filelock py toml virtualenv pluggy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c50e9f2cf4e3b51e4caf0a8adfe963c05b078a12">c50e9f2</a></td><td><code>build/pkgs/packaging: Update to 20.8</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e7cc2aed7f075cba0ff6b0b60ae382f3af58638">9e7cc2a</a></td><td><code>build/pkgs/tox: Add to dependencies</code></td></tr></table>




---

archive/issue_comments_573952.json:
```json
{
    "body": "**Changing commit** from \"[f8a7ee6c4e498c455b96701c159f55edeb8348bb](https://github.com/sagemath/sagetrac-mirror/commit/f8a7ee6c4e498c455b96701c159f55edeb8348bb)\" to \"[9e7cc2aed7f075cba0ff6b0b60ae382f3af58638](https://github.com/sagemath/sagetrac-mirror/commit/9e7cc2aed7f075cba0ff6b0b60ae382f3af58638)\".",
    "created_at": "2020-12-27T18:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573952",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f8a7ee6c4e498c455b96701c159f55edeb8348bb](https://github.com/sagemath/sagetrac-mirror/commit/f8a7ee6c4e498c455b96701c159f55edeb8348bb)" to "[9e7cc2aed7f075cba0ff6b0b60ae382f3af58638](https://github.com/sagemath/sagetrac-mirror/commit/9e7cc2aed7f075cba0ff6b0b60ae382f3af58638)".



---

archive/issue_comments_573953.json:
```json
{
    "body": "<a id='comment:17'></a>\nAdded these dependencies using the new tool described at https://wiki.sagemath.org/ReleaseTours/sage-9.3#For_developers:_Setting_up_Python_packages_from_PyPI_as_Sage_packages\n\nUntested so far - possibly needs more dependencies\n\nAnd probably the dependencies that are only needed by `tox` should be marked as not required if system tox is found.",
    "created_at": "2020-12-27T18:29:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573953",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
Added these dependencies using the new tool described at https://wiki.sagemath.org/ReleaseTours/sage-9.3#For_developers:_Setting_up_Python_packages_from_PyPI_as_Sage_packages

Untested so far - possibly needs more dependencies

And probably the dependencies that are only needed by `tox` should be marked as not required if system tox is found.



---

archive/issue_comments_573954.json:
```json
{
    "body": "<a id='comment:18'></a>\n`virtualenv` has the following additional dependencies:\n\n```\n        appdirs>=1.4.3,<2\n        distlib>=0.3.1,<1\n        filelock>=3.0.0,<4\n        six>=1.9.0,<2   # keep it >=1.9.0 as it may cause problems on LTS platforms\n        importlib-metadata>=0.12;python_version<\"3.8\"\n        importlib-resources>=1.0;python_version<\"3.7\"\n```",
    "created_at": "2021-01-02T04:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573954",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>
`virtualenv` has the following additional dependencies:

```
        appdirs>=1.4.3,<2
        distlib>=0.3.1,<1
        filelock>=3.0.0,<4
        six>=1.9.0,<2   # keep it >=1.9.0 as it may cause problems on LTS platforms
        importlib-metadata>=0.12;python_version<"3.8"
        importlib-resources>=1.0;python_version<"3.7"
```



---

archive/issue_comments_573955.json:
```json
{
    "body": "**Changing commit** from \"[9e7cc2aed7f075cba0ff6b0b60ae382f3af58638](https://github.com/sagemath/sagetrac-mirror/commit/9e7cc2aed7f075cba0ff6b0b60ae382f3af58638)\" to \"[b51cf6b6e467f1cc8f761ca6bb0698c6a49e534c](https://github.com/sagemath/sagetrac-mirror/commit/b51cf6b6e467f1cc8f761ca6bb0698c6a49e534c)\".",
    "created_at": "2021-01-02T04:39:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573955",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9e7cc2aed7f075cba0ff6b0b60ae382f3af58638](https://github.com/sagemath/sagetrac-mirror/commit/9e7cc2aed7f075cba0ff6b0b60ae382f3af58638)" to "[b51cf6b6e467f1cc8f761ca6bb0698c6a49e534c](https://github.com/sagemath/sagetrac-mirror/commit/b51cf6b6e467f1cc8f761ca6bb0698c6a49e534c)".



---

archive/issue_comments_573956.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f3b86433f7d3d8b2bcc11c27ed802b420355663\">6f3b864</a></td><td><code>build/pkgs/[s-t]*/SPKG.rst: Reformat title in format 'spkg_name: Short description'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23558f8ef6dda94942f988f59420b93e72869e66\">23558f8</a></td><td><code>build/pkgs/[t-z]*/SPKG.rst: Reformat title in format 'spkg_name: Short description' -- completes coverage of all standard packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17789df836a24dd8d9d69320b955ff6382bf575b\">17789df</a></td><td><code>build/pkgs/[z-z]*/SPKG.rst: Reformat title in format 'spkg_name: Short description' -- completes coverage of all optional packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/944408d71cdb29af41319bc1aa251f215cc97aef\">944408d</a></td><td><code>build/pkgs/[a-z]*/SPKG.rst: Reformat title in format 'spkg_name: Short description' -- completes coverage of all experimental packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/feafa60f9f30315e69399b250e70ed50ed065991\">feafa60</a></td><td><code>src/doc/en/installation/standard_packages.rst: Remove</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58c63e151a4e8523e2724f1af61ad041cf98d2c8\">58c63e1</a></td><td><code>src/doc/bootstrap: Add brief explanation of the standard/optional/experimental package types</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54d4fb18a83bfb2fdfec3d3483cae1e6383582c2\">54d4fb1</a></td><td><code>extra line after version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/565dd46e9d4fa8c56feb8a541f9a2fd5652c9630\">565dd46</a></td><td><code>Merge branch 't/29655/improve_build_pkgs___spkg_rst' into t/30416/make_tox_a_standard_package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f4c0b2da4420e813eb2873b016664c70c3bd82b\">7f4c0b2</a></td><td><code>build/pkgs/{distlib,appdirs,importlib_resources}: Add dependencies of virtualenv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b51cf6b6e467f1cc8f761ca6bb0698c6a49e534c\">b51cf6b</a></td><td><code>build/pkgs/virtualenv/dependencies: Add deps</code></td></tr></table>\n",
    "created_at": "2021-01-02T04:39:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573956",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f3b86433f7d3d8b2bcc11c27ed802b420355663">6f3b864</a></td><td><code>build/pkgs/[s-t]*/SPKG.rst: Reformat title in format 'spkg_name: Short description'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23558f8ef6dda94942f988f59420b93e72869e66">23558f8</a></td><td><code>build/pkgs/[t-z]*/SPKG.rst: Reformat title in format 'spkg_name: Short description' -- completes coverage of all standard packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17789df836a24dd8d9d69320b955ff6382bf575b">17789df</a></td><td><code>build/pkgs/[z-z]*/SPKG.rst: Reformat title in format 'spkg_name: Short description' -- completes coverage of all optional packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/944408d71cdb29af41319bc1aa251f215cc97aef">944408d</a></td><td><code>build/pkgs/[a-z]*/SPKG.rst: Reformat title in format 'spkg_name: Short description' -- completes coverage of all experimental packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/feafa60f9f30315e69399b250e70ed50ed065991">feafa60</a></td><td><code>src/doc/en/installation/standard_packages.rst: Remove</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58c63e151a4e8523e2724f1af61ad041cf98d2c8">58c63e1</a></td><td><code>src/doc/bootstrap: Add brief explanation of the standard/optional/experimental package types</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54d4fb18a83bfb2fdfec3d3483cae1e6383582c2">54d4fb1</a></td><td><code>extra line after version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/565dd46e9d4fa8c56feb8a541f9a2fd5652c9630">565dd46</a></td><td><code>Merge branch 't/29655/improve_build_pkgs___spkg_rst' into t/30416/make_tox_a_standard_package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f4c0b2da4420e813eb2873b016664c70c3bd82b">7f4c0b2</a></td><td><code>build/pkgs/{distlib,appdirs,importlib_resources}: Add dependencies of virtualenv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b51cf6b6e467f1cc8f761ca6bb0698c6a49e534c">b51cf6b</a></td><td><code>build/pkgs/virtualenv/dependencies: Add deps</code></td></tr></table>




---

archive/issue_comments_573957.json:
```json
{
    "body": "**Changing dependencies** from \"#30544\" to \"#29655\".",
    "created_at": "2021-01-02T04:39:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573957",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#30544" to "#29655".



---

archive/issue_events_088605.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-20T19:14:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30416#event-88605"
}
```



---

archive/issue_events_088606.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-20T19:14:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30416#event-88606"
}
```



---

archive/issue_comments_573958.json:
```json
{
    "body": "**Changing dependencies** from \"#29655\" to \"#31699\".",
    "created_at": "2021-05-27T22:48:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573958",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#29655" to "#31699".



---

archive/issue_comments_573959.json:
```json
{
    "body": "**Changing commit** from \"[b51cf6b6e467f1cc8f761ca6bb0698c6a49e534c](https://github.com/sagemath/sagetrac-mirror/commit/b51cf6b6e467f1cc8f761ca6bb0698c6a49e534c)\" to \"[cc2f4ae779d1dc5b03ee94f0f5e1e17c422363ad](https://github.com/sagemath/sagetrac-mirror/commit/cc2f4ae779d1dc5b03ee94f0f5e1e17c422363ad)\".",
    "created_at": "2021-05-27T22:52:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573959",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b51cf6b6e467f1cc8f761ca6bb0698c6a49e534c](https://github.com/sagemath/sagetrac-mirror/commit/b51cf6b6e467f1cc8f761ca6bb0698c6a49e534c)" to "[cc2f4ae779d1dc5b03ee94f0f5e1e17c422363ad](https://github.com/sagemath/sagetrac-mirror/commit/cc2f4ae779d1dc5b03ee94f0f5e1e17c422363ad)".



---

archive/issue_comments_573960.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/012774f5f914574764e9d2845f9cbb1a25d141e6\">012774f</a></td><td><code>build/pkgs/packaging: Update to 20.9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fff89bc2ff73d2261dcb04af334d0e392933898d\">fff89bc</a></td><td><code>build/pkgs/importlib_metadata: Update to 4.0.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e14a5ede8ae98330caea1b9ffa54e115e0a0acce\">e14a5ed</a></td><td><code>build/pkgs/pip: Update to 21.1.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3386fa12fa5e377d79f17f96bbed9c2479308b36\">3386fa1</a></td><td><code>build/pkgs/toml: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71aeec7be29d04c90ef8c1ccaff06d1feff35b1e\">71aeec7</a></td><td><code>build/pkgs/typing_extensions: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ecdf3e17bf79246065033531d95181a96cacdd86\">ecdf3e1</a></td><td><code>build/pkgs/importlib_metadata/dependencies: Update</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e7401474106b5383afe0ffac7ca6a68b73e9812\">2e74014</a></td><td><code>Merge #31699</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e694b15834292f2962862176c2de8714731ced05\">e694b15</a></td><td><code>build/pkgs/tox: Make it a standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c7a1c2333882039d19da02872a691808c0f9e22\">9c7a1c2</a></td><td><code>build/pkgs: Add tox dependencies: filelock py virtualenv pluggy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc2f4ae779d1dc5b03ee94f0f5e1e17c422363ad\">cc2f4ae</a></td><td><code>build/pkgs/{distlib,appdirs,importlib_resources}: Add dependencies of virtualenv</code></td></tr></table>\n",
    "created_at": "2021-05-27T22:52:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573960",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/012774f5f914574764e9d2845f9cbb1a25d141e6">012774f</a></td><td><code>build/pkgs/packaging: Update to 20.9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fff89bc2ff73d2261dcb04af334d0e392933898d">fff89bc</a></td><td><code>build/pkgs/importlib_metadata: Update to 4.0.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e14a5ede8ae98330caea1b9ffa54e115e0a0acce">e14a5ed</a></td><td><code>build/pkgs/pip: Update to 21.1.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3386fa12fa5e377d79f17f96bbed9c2479308b36">3386fa1</a></td><td><code>build/pkgs/toml: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71aeec7be29d04c90ef8c1ccaff06d1feff35b1e">71aeec7</a></td><td><code>build/pkgs/typing_extensions: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ecdf3e17bf79246065033531d95181a96cacdd86">ecdf3e1</a></td><td><code>build/pkgs/importlib_metadata/dependencies: Update</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e7401474106b5383afe0ffac7ca6a68b73e9812">2e74014</a></td><td><code>Merge #31699</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e694b15834292f2962862176c2de8714731ced05">e694b15</a></td><td><code>build/pkgs/tox: Make it a standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c7a1c2333882039d19da02872a691808c0f9e22">9c7a1c2</a></td><td><code>build/pkgs: Add tox dependencies: filelock py virtualenv pluggy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc2f4ae779d1dc5b03ee94f0f5e1e17c422363ad">cc2f4ae</a></td><td><code>build/pkgs/{distlib,appdirs,importlib_resources}: Add dependencies of virtualenv</code></td></tr></table>




---

archive/issue_comments_573961.json:
```json
{
    "body": "**Changing commit** from \"[cc2f4ae779d1dc5b03ee94f0f5e1e17c422363ad](https://github.com/sagemath/sagetrac-mirror/commit/cc2f4ae779d1dc5b03ee94f0f5e1e17c422363ad)\" to \"[b9c4ec8aadeb3c2977e9899cbd65bae7d9bc2761](https://github.com/sagemath/sagetrac-mirror/commit/b9c4ec8aadeb3c2977e9899cbd65bae7d9bc2761)\".",
    "created_at": "2021-05-27T23:11:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573961",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[cc2f4ae779d1dc5b03ee94f0f5e1e17c422363ad](https://github.com/sagemath/sagetrac-mirror/commit/cc2f4ae779d1dc5b03ee94f0f5e1e17c422363ad)" to "[b9c4ec8aadeb3c2977e9899cbd65bae7d9bc2761](https://github.com/sagemath/sagetrac-mirror/commit/b9c4ec8aadeb3c2977e9899cbd65bae7d9bc2761)".



---

archive/issue_comments_573962.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5488ecd9be89b3bc60be1fe58b5544b62dc562ce\">5488ecd</a></td><td><code>build/pkgs: Update tox and dependencies to latest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b9c4ec8aadeb3c2977e9899cbd65bae7d9bc2761\">b9c4ec8</a></td><td><code>build/pkgs/packaging/checksums.ini: Add upstream_url</code></td></tr></table>\n",
    "created_at": "2021-05-27T23:11:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573962",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5488ecd9be89b3bc60be1fe58b5544b62dc562ce">5488ecd</a></td><td><code>build/pkgs: Update tox and dependencies to latest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b9c4ec8aadeb3c2977e9899cbd65bae7d9bc2761">b9c4ec8</a></td><td><code>build/pkgs/packaging/checksums.ini: Add upstream_url</code></td></tr></table>




---

archive/issue_comments_573963.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2021-05-27T23:12:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573963",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_573964.json:
```json
{
    "body": "<a id='comment:26'></a>\n`py` doesn't build for me; even if it did, it looks like it's trying to download things at the start of its build process. Log attached.",
    "created_at": "2021-05-28T05:27:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573964",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:26'></a>
`py` doesn't build for me; even if it did, it looks like it's trying to download things at the start of its build process. Log attached.



---

archive/attachments_021388.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "py-1.10.0.log",
    "asset_url": "tarball://root/attachments/some-uuid/ticket30416/py-1.10.0.log",
    "created_at": "2021-05-28T05:35:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.log",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```



---

archive/issue_comments_573965.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef12a3e489273a6c82c8629ab61b8032a82850a6\">ef12a3e</a></td><td><code>build/pkgs/pkgconfig/checksums.ini: Add upstream_url</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a6d0b61e5fc52cd1e7dc37c03b1d370da1c8595\">7a6d0b6</a></td><td><code>build/pkgs/packaging/checksums.ini: Add upstream_url</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6abfe846f84fe0c17da94c8f12b40a87825f2b12\">6abfe84</a></td><td><code>Merge #31699</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce2ec11d5f9cdb37e4b8d746836dbb5461e64ed7\">ce2ec11</a></td><td><code>build/pkgs/py/dependencies: Add setuptools_scm (a setup-requires)</code></td></tr></table>\n",
    "created_at": "2021-05-28T05:35:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573965",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef12a3e489273a6c82c8629ab61b8032a82850a6">ef12a3e</a></td><td><code>build/pkgs/pkgconfig/checksums.ini: Add upstream_url</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a6d0b61e5fc52cd1e7dc37c03b1d370da1c8595">7a6d0b6</a></td><td><code>build/pkgs/packaging/checksums.ini: Add upstream_url</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6abfe846f84fe0c17da94c8f12b40a87825f2b12">6abfe84</a></td><td><code>Merge #31699</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce2ec11d5f9cdb37e4b8d746836dbb5461e64ed7">ce2ec11</a></td><td><code>build/pkgs/py/dependencies: Add setuptools_scm (a setup-requires)</code></td></tr></table>




---

archive/issue_comments_573966.json:
```json
{
    "body": "**Changing commit** from \"[b9c4ec8aadeb3c2977e9899cbd65bae7d9bc2761](https://github.com/sagemath/sagetrac-mirror/commit/b9c4ec8aadeb3c2977e9899cbd65bae7d9bc2761)\" to \"[ce2ec11d5f9cdb37e4b8d746836dbb5461e64ed7](https://github.com/sagemath/sagetrac-mirror/commit/ce2ec11d5f9cdb37e4b8d746836dbb5461e64ed7)\".",
    "created_at": "2021-05-28T05:35:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573966",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b9c4ec8aadeb3c2977e9899cbd65bae7d9bc2761](https://github.com/sagemath/sagetrac-mirror/commit/b9c4ec8aadeb3c2977e9899cbd65bae7d9bc2761)" to "[ce2ec11d5f9cdb37e4b8d746836dbb5461e64ed7](https://github.com/sagemath/sagetrac-mirror/commit/ce2ec11d5f9cdb37e4b8d746836dbb5461e64ed7)".



---

archive/issue_comments_573967.json:
```json
{
    "body": "<a id='comment:28'></a>\nIt's a little unfortunate that the top-level `configure` recognizes that\n\n```\nconfigure:38013: checking for tox >= 2.5.0\nconfigure:38096: result: /usr/local/bin/tox\nconfigure:38107: will use system package and not install SPKG tox\n```\nbut our build system isn't smart enough to skip its dependencies.",
    "created_at": "2021-05-28T16:50:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573967",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:28'></a>
It's a little unfortunate that the top-level `configure` recognizes that

```
configure:38013: checking for tox >= 2.5.0
configure:38096: result: /usr/local/bin/tox
configure:38107: will use system package and not install SPKG tox
```
but our build system isn't smart enough to skip its dependencies.



---

archive/issue_comments_573968.json:
```json
{
    "body": "<a id='comment:29'></a>\nGreat point! I'll see what I can do about this",
    "created_at": "2021-05-28T16:55:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573968",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>
Great point! I'll see what I can do about this



---

archive/issue_comments_573969.json:
```json
{
    "body": "**Changing commit** from \"[ce2ec11d5f9cdb37e4b8d746836dbb5461e64ed7](https://github.com/sagemath/sagetrac-mirror/commit/ce2ec11d5f9cdb37e4b8d746836dbb5461e64ed7)\" to \"[65e6330c118a89e21b8ba13bcfc9a407550bad63](https://github.com/sagemath/sagetrac-mirror/commit/65e6330c118a89e21b8ba13bcfc9a407550bad63)\".",
    "created_at": "2021-05-29T00:54:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573969",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ce2ec11d5f9cdb37e4b8d746836dbb5461e64ed7](https://github.com/sagemath/sagetrac-mirror/commit/ce2ec11d5f9cdb37e4b8d746836dbb5461e64ed7)" to "[65e6330c118a89e21b8ba13bcfc9a407550bad63](https://github.com/sagemath/sagetrac-mirror/commit/65e6330c118a89e21b8ba13bcfc9a407550bad63)".



---

archive/issue_comments_573970.json:
```json
{
    "body": "<a id='comment:30'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65e6330c118a89e21b8ba13bcfc9a407550bad63\">65e6330</a></td><td><code>build/pkgs{appdirs,distlib,filelock,virtualenv}/spkg-configure.m4: Mark as not required if system tox is used</code></td></tr></table>\n",
    "created_at": "2021-05-29T00:54:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573970",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65e6330c118a89e21b8ba13bcfc9a407550bad63">65e6330</a></td><td><code>build/pkgs{appdirs,distlib,filelock,virtualenv}/spkg-configure.m4: Mark as not required if system tox is used</code></td></tr></table>




---

archive/issue_comments_573971.json:
```json
{
    "body": "<a id='comment:31'></a>\nHere's something that will avoid installing 4 packages in this case:\n- `appdirs`, `distlib`, `filelock`, `virtualenv`\n\nI haven't added the same logic to the other packages:\n- `pluggy`, `py`, `toml` -- because they will also be needed as dependencies of `pytest` (see #31110)\n- `importlib_resources` -- because it is useful as a backport package (see #31306)",
    "created_at": "2021-05-29T01:06:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573971",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'></a>
Here's something that will avoid installing 4 packages in this case:
- `appdirs`, `distlib`, `filelock`, `virtualenv`

I haven't added the same logic to the other packages:
- `pluggy`, `py`, `toml` -- because they will also be needed as dependencies of `pytest` (see #31110)
- `importlib_resources` -- because it is useful as a backport package (see #31306)



---

archive/issue_comments_573972.json:
```json
{
    "body": "<a id='comment:32'></a>\nOkay, thanks, looks good.",
    "created_at": "2021-05-31T03:53:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573972",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:32'></a>
Okay, thanks, looks good.



---

archive/issue_comments_573973.json:
```json
{
    "body": "**Reviewer:** John Palmieri",
    "created_at": "2021-05-31T03:53:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573973",
    "user": "https://github.com/jhpalmieri"
}
```

**Reviewer:** John Palmieri



---

archive/issue_comments_573974.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2021-05-31T03:53:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573974",
    "user": "https://github.com/jhpalmieri"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_573975.json:
```json
{
    "body": "<a id='comment:33'></a>\nThanks!",
    "created_at": "2021-05-31T05:32:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573975",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>
Thanks!



---

archive/issue_comments_573976.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/make_tox_a_standard_package](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/make_tox_a_standard_package)\" to \"[65e6330c118a89e21b8ba13bcfc9a407550bad63](https://github.com/sagemath/sagetrac-mirror/commit/65e6330c118a89e21b8ba13bcfc9a407550bad63)\".",
    "created_at": "2021-06-20T08:14:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573976",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/make_tox_a_standard_package](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/make_tox_a_standard_package)" to "[65e6330c118a89e21b8ba13bcfc9a407550bad63](https://github.com/sagemath/sagetrac-mirror/commit/65e6330c118a89e21b8ba13bcfc9a407550bad63)".



---

archive/issue_events_088607.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-06-20T08:14:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30416#event-88607"
}
```



---

archive/issue_comments_573977.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [jhpalmieri](#comment%3A26):\n> `py` doesn't build for me; even if it did, it looks like it's trying to download things at the start of its build process. Log attached.\n\n\nWhat was the resolution to this?\n\nI'm getting build failure of sage because of this now. It's not terrible and I guess `py` isn't needed by anything. But I'm also wondering, why it is a dependency of `tox` and `pytest` in the first place. Neither of them lists `py` as a dependency. Where do we use it?",
    "created_at": "2021-06-22T09:00:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573977",
    "user": "https://github.com/kliem"
}
```

<a id='comment:35'></a>
Replying to [jhpalmieri](#comment%3A26):
> `py` doesn't build for me; even if it did, it looks like it's trying to download things at the start of its build process. Log attached.


What was the resolution to this?

I'm getting build failure of sage because of this now. It's not terrible and I guess `py` isn't needed by anything. But I'm also wondering, why it is a dependency of `tox` and `pytest` in the first place. Neither of them lists `py` as a dependency. Where do we use it?



---

archive/issue_comments_573978.json:
```json
{
    "body": "**Changing commit** from \"[65e6330c118a89e21b8ba13bcfc9a407550bad63](https://github.com/sagemath/sagetrac-mirror/commit/65e6330c118a89e21b8ba13bcfc9a407550bad63)\" to \"\".",
    "created_at": "2021-06-22T09:00:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573978",
    "user": "https://github.com/kliem"
}
```

**Changing commit** from "[65e6330c118a89e21b8ba13bcfc9a407550bad63](https://github.com/sagemath/sagetrac-mirror/commit/65e6330c118a89e21b8ba13bcfc9a407550bad63)" to "".



---

archive/issue_comments_573979.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [gh-kliem](#comment%3A35):\n> Replying to [jhpalmieri](#comment%3A26):\n> > `py` doesn't build for me; even if it did, it looks like it's trying to download things at the start of its build process. Log attached.\n\n> \n> What was the resolution to this?\n\n\nThe missing dependency on `setuptools_scm` was added\n\n> I'm getting build failure of sage because of this now. It's not terrible and I guess `py` isn't needed by anything. But I'm also wondering, why it is a dependency of `tox` and `pytest` in the first place. Neither of them lists `py` as a dependency. Where do we use it?\n\n\nIt's an `install_requires` of tox: https://github.com/tox-dev/tox/blob/master/setup.cfg",
    "created_at": "2021-06-22T13:41:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30416#issuecomment-573979",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'></a>
Replying to [gh-kliem](#comment%3A35):
> Replying to [jhpalmieri](#comment%3A26):
> > `py` doesn't build for me; even if it did, it looks like it's trying to download things at the start of its build process. Log attached.

> 
> What was the resolution to this?


The missing dependency on `setuptools_scm` was added

> I'm getting build failure of sage because of this now. It's not terrible and I guess `py` isn't needed by anything. But I'm also wondering, why it is a dependency of `tox` and `pytest` in the first place. Neither of them lists `py` as a dependency. Where do we use it?


It's an `install_requires` of tox: https://github.com/tox-dev/tox/blob/master/setup.cfg
