# Issue 30453: Document "sage -tox"

archive/issues_030216.json:
```json
{
    "body": "(from #30410)\n\nAs of #30503, `sage -advanced` shows:\n\n```\nTesting files:\n\n  -t [options] <files|dir> -- test examples in .py, .pyx, .sage\n                              or .tex files.  Options:\n     --long           -- include lines with the phrase 'long time'\n...\n  --tox [options] <files|dirs> -- general entry point for testing\n                                  and linting of the Sage library\n     -e <envlist>     -- run specific test environments (default: run all)\n        doctest          -- run the Sage doctester \n                            (same as \"sage -t\")\n        coverage         -- give information about doctest coverage of files \n                            (same as \"sage --coverage[all]\")\n        startuptime      -- display how long each component of Sage takes to start up \n                            (same as \"sage --startuptime\")\n        pycodestyle      -- check against the Python style conventions of PEP8\n        relint           -- check whether some forbidden patterns appear \n                            (includes all patchbot pattern-exclusion plugins)\n        codespell        -- check for misspelled words in source code\n     -p auto          -- run test environments in parallel\n     --help           -- show tox help\n\n```\n\nIn this ticket, we expand the section in the developers' guide added in #30361 to cover these tools, expanding upon https://wiki.sagemath.org/ReleaseTours/sage-9.2#Testing_and_linting_with_tox\n\n\n\nSee also:\n- #29520 Mention `.lgtm.yml` in the Developer's Guide\n- #30448 `src/tox.ini`: Add validation of rst files and docstrings\n- #28936 Meta-ticket: Adopt mainstream Python testing/linting infrastructure, describe in Developer's Guide\n- #30573 `src/tox.ini`: Add flake8\n\n\nCC:  @dimpase @tobiasdiez @fchapoton @jhpalmieri @slel @yuan-zhou\n\nBranch/Commit: 4632eb32bb3f8af20bc63ac2baf0241abeca9269\n\nReviewer: Dima Pasechnik, Tobias Diez\n\nAuthor: Matthias Koeppe\n\nDependencies: #32899\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30453\n\n",
    "closed_at": "2021-12-23T20:26:31Z",
    "created_at": "2020-08-27T21:04:35Z",
    "labels": [
        "component: documentation",
        "critical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Document \"sage -tox\"",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30453",
    "user": "https://github.com/mkoeppe"
}
```
(from #30410)

As of #30503, `sage -advanced` shows:

```
Testing files:

  -t [options] <files|dir> -- test examples in .py, .pyx, .sage
                              or .tex files.  Options:
     --long           -- include lines with the phrase 'long time'
...
  --tox [options] <files|dirs> -- general entry point for testing
                                  and linting of the Sage library
     -e <envlist>     -- run specific test environments (default: run all)
        doctest          -- run the Sage doctester 
                            (same as "sage -t")
        coverage         -- give information about doctest coverage of files 
                            (same as "sage --coverage[all]")
        startuptime      -- display how long each component of Sage takes to start up 
                            (same as "sage --startuptime")
        pycodestyle      -- check against the Python style conventions of PEP8
        relint           -- check whether some forbidden patterns appear 
                            (includes all patchbot pattern-exclusion plugins)
        codespell        -- check for misspelled words in source code
     -p auto          -- run test environments in parallel
     --help           -- show tox help

```

In this ticket, we expand the section in the developers' guide added in #30361 to cover these tools, expanding upon https://wiki.sagemath.org/ReleaseTours/sage-9.2#Testing_and_linting_with_tox



See also:
- #29520 Mention `.lgtm.yml` in the Developer's Guide
- #30448 `src/tox.ini`: Add validation of rst files and docstrings
- #28936 Meta-ticket: Adopt mainstream Python testing/linting infrastructure, describe in Developer's Guide
- #30573 `src/tox.ini`: Add flake8


CC:  @dimpase @tobiasdiez @fchapoton @jhpalmieri @slel @yuan-zhou

Branch/Commit: 4632eb32bb3f8af20bc63ac2baf0241abeca9269

Reviewer: Dima Pasechnik, Tobias Diez

Author: Matthias Koeppe

Dependencies: #32899

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30453





---

archive/issue_comments_601372.json:
```json
{
    "body": "<a id='comment:1'></a>Perhaps we also need `sage -btox` and `sage -btoxp` (in analogy to `sage -bt`, `sage -btp`)",
    "created_at": "2020-08-29T00:24:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601372",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:1'></a>Perhaps we also need `sage -btox` and `sage -btoxp` (in analogy to `sage -bt`, `sage -btp`)



---

archive/issue_comments_601373.json:
```json
{
    "body": "Changing dependencies from \"#30410,\" to \"#30410, #30452\"",
    "created_at": "2020-08-29T00:24:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601373",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#30410," to "#30410, #30452"



---

archive/issue_comments_601374.json:
```json
{
    "body": "Changing dependencies from \"#30410, #30452\" to \"#30410, #30452, #30467\"",
    "created_at": "2020-08-30T20:04:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601374",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#30410, #30452" to "#30410, #30452, #30467"



---

archive/issue_comments_601375.json:
```json
{
    "body": "Changing dependencies from \"#30410, #30452, #30467\" to \"#30361, #30410, #30452, #30467\"",
    "created_at": "2020-08-30T20:08:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601375",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#30410, #30452, #30467" to "#30361, #30410, #30452, #30467"



---

archive/issue_comments_601376.json:
```json
{
    "body": "Changing dependencies from \"#30361, #30410, #30452, #30467\" to \"#30361, #30410, #30452, #30467, #30503\"",
    "created_at": "2020-09-07T19:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601376",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#30361, #30410, #30452, #30467" to "#30361, #30410, #30452, #30467, #30503"



---

archive/issue_comments_601377.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,36 @@\n (from #30410)\n \n+As of #30503, `sage -advanced` shows:\n+\n+```\n+Testing files:\n+\n+  -t [options] <files|dir> -- test examples in .py, .pyx, .sage\n+                              or .tex files.  Options:\n+     --long           -- include lines with the phrase 'long time'\n+...\n+  --tox [options] <files|dirs> -- general entry point for testing\n+                                  and linting of the Sage library\n+     -e <envlist>     -- run specific test environments (default: run all)\n+        doctest          -- run the Sage doctester \n+                            (same as \"sage -t\")\n+        coverage         -- give information about doctest coverage of files \n+                            (same as \"sage --coverage[all]\")\n+        startuptime      -- display how long each component of Sage takes to start up \n+                            (same as \"sage --startuptime\")\n+        pycodestyle      -- check against the Python style conventions of PEP8\n+        relint           -- check whether some forbidden patterns appear \n+                            (includes all patchbot pattern-exclusion plugins)\n+        codespell        -- check for misspelled words in source code\n+     -p auto          -- run test environments in parallel\n+     --help           -- show tox help\n+\n+```\n+\n+In this ticket, we expand the section in the developers' guide added in #30361 to cover these tools.\n+\n+\n+\n+\n+\n+\n``````\n",
    "created_at": "2020-09-07T19:54:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601377",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,36 @@
 (from #30410)
 
+As of #30503, `sage -advanced` shows:
+
+```
+Testing files:
+
+  -t [options] <files|dir> -- test examples in .py, .pyx, .sage
+                              or .tex files.  Options:
+     --long           -- include lines with the phrase 'long time'
+...
+  --tox [options] <files|dirs> -- general entry point for testing
+                                  and linting of the Sage library
+     -e <envlist>     -- run specific test environments (default: run all)
+        doctest          -- run the Sage doctester 
+                            (same as "sage -t")
+        coverage         -- give information about doctest coverage of files 
+                            (same as "sage --coverage[all]")
+        startuptime      -- display how long each component of Sage takes to start up 
+                            (same as "sage --startuptime")
+        pycodestyle      -- check against the Python style conventions of PEP8
+        relint           -- check whether some forbidden patterns appear 
+                            (includes all patchbot pattern-exclusion plugins)
+        codespell        -- check for misspelled words in source code
+     -p auto          -- run test environments in parallel
+     --help           -- show tox help
+
+```
+
+In this ticket, we expand the section in the developers' guide added in #30361 to cover these tools.
+
+
+
+
+
+
``````




---

archive/issue_comments_601378.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -31,6 +31,7 @@\n \n \n \n+See also:\n+- #29520 Mention `.lgtm.yml` in the Developer's Guide\n \n \n-\n``````\n",
    "created_at": "2020-09-07T19:56:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601378",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -31,6 +31,7 @@
 
 
 
+See also:
+- #29520 Mention `.lgtm.yml` in the Developer's Guide
 
 
-
``````




---

archive/issue_comments_601379.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -33,5 +33,6 @@\n \n See also:\n - #29520 Mention `.lgtm.yml` in the Developer's Guide\n+- #30448 src/tox.ini: Add validation of rst files and docstrings\n+- #28936 Meta-ticket: Adopt mainstream Python testing/linting infrastructure, describe in Developer's Guide\n \n-\n``````\n",
    "created_at": "2020-09-09T17:10:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601379",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -33,5 +33,6 @@
 
 See also:
 - #29520 Mention `.lgtm.yml` in the Developer's Guide
+- #30448 src/tox.ini: Add validation of rst files and docstrings
+- #28936 Meta-ticket: Adopt mainstream Python testing/linting infrastructure, describe in Developer's Guide
 
-
``````




---

archive/issue_comments_601380.json:
```json
{
    "body": "Changing dependencies from \"#30361, #30410, #30452, #30467, #30503\" to \"#30361, #30410, #30452, #30467, #30503, #30416\"",
    "created_at": "2020-09-09T17:10:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601380",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#30361, #30410, #30452, #30467, #30503" to "#30361, #30410, #30452, #30467, #30503, #30416"



---

archive/issue_comments_601381.json:
```json
{
    "body": "Changing dependencies from \"#30361, #30410, #30452, #30467, #30503, #30416\" to \"#30361, #30410, #30452, #30467, #30503, #30544\"",
    "created_at": "2020-09-10T01:29:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601381",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#30361, #30410, #30452, #30467, #30503, #30416" to "#30361, #30410, #30452, #30467, #30503, #30544"



---

archive/issue_comments_601382.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -33,6 +33,7 @@\n \n See also:\n - #29520 Mention `.lgtm.yml` in the Developer's Guide\n-- #30448 src/tox.ini: Add validation of rst files and docstrings\n+- #30448 `src/tox.ini`: Add validation of rst files and docstrings\n - #28936 Meta-ticket: Adopt mainstream Python testing/linting infrastructure, describe in Developer's Guide\n+- #30573 `src/tox.ini`: Add flake8\n \n``````\n",
    "created_at": "2020-09-14T19:24:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601382",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -33,6 +33,7 @@
 
 See also:
 - #29520 Mention `.lgtm.yml` in the Developer's Guide
-- #30448 src/tox.ini: Add validation of rst files and docstrings
+- #30448 `src/tox.ini`: Add validation of rst files and docstrings
 - #28936 Meta-ticket: Adopt mainstream Python testing/linting infrastructure, describe in Developer's Guide
+- #30573 `src/tox.ini`: Add flake8
 
``````




---

archive/issue_events_079041.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30453#event-79041"
}
```



---

archive/issue_comments_601383.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -27,7 +27,7 @@\n \n ```\n \n-In this ticket, we expand the section in the developers' guide added in #30361 to cover these tools.\n+In this ticket, we expand the section in the developers' guide added in #30361 to cover these tools, expanding upon https://wiki.sagemath.org/ReleaseTours/sage-9.2#Testing_and_linting_with_tox\n \n \n \n``````\n",
    "created_at": "2021-01-31T01:18:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601383",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -27,7 +27,7 @@
 
 ```
 
-In this ticket, we expand the section in the developers' guide added in #30361 to cover these tools.
+In this ticket, we expand the section in the developers' guide added in #30361 to cover these tools, expanding upon https://wiki.sagemath.org/ReleaseTours/sage-9.2#Testing_and_linting_with_tox
 
 
 
``````




---

archive/issue_comments_601384.json:
```json
{
    "body": "<a id='comment:13'></a>Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-04-07T19:29:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601384",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_079042.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-07T19:29:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30453#event-79042"
}
```



---

archive/issue_events_079043.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-07T19:29:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30453#event-79043"
}
```



---

archive/issue_events_079044.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30453#event-79044"
}
```



---

archive/issue_events_079045.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30453#event-79045"
}
```



---

archive/issue_comments_601385.json:
```json
{
    "body": "Changing dependencies from \"#30361, #30410, #30452, #30467, #30503, #30544\" to \"\"",
    "created_at": "2021-11-12T22:20:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601385",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#30361, #30410, #30452, #30467, #30503, #30544" to ""



---

archive/issue_comments_601386.json:
```json
{
    "body": "<a id='comment:16'></a>I don't think we should stop advertising \"make ...test...\". Intefaces to tox, pytest, etc are insane, one needs to look in the manuals all the time.",
    "created_at": "2021-11-12T23:29:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601386",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:16'></a>I don't think we should stop advertising "make ...test...". Intefaces to tox, pytest, etc are insane, one needs to look in the manuals all the time.



---

archive/issue_comments_601387.json:
```json
{
    "body": "<a id='comment:17'></a>`make` is sage-the-distribution-specific. \n\n`sage -t` and `sage --tox` work in all settings.\n\nThat's why we should change it.",
    "created_at": "2021-11-13T00:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601387",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>`make` is sage-the-distribution-specific. 

`sage -t` and `sage --tox` work in all settings.

That's why we should change it.



---

archive/issue_comments_601388.json:
```json
{
    "body": "<a id='comment:18'></a>why break something that works, and is superior in usability?",
    "created_at": "2021-11-13T00:11:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601388",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>why break something that works, and is superior in usability?



---

archive/issue_comments_601389.json:
```json
{
    "body": "<a id='comment:19'></a>Everyone already has to learn about `sage -t` for testing, because that's the only way that you can test something specific. \n\nSo advertising both `sage -t` and `make test` is one too many.",
    "created_at": "2021-11-13T00:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601389",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>Everyone already has to learn about `sage -t` for testing, because that's the only way that you can test something specific. 

So advertising both `sage -t` and `make test` is one too many.



---

archive/issue_comments_601390.json:
```json
{
    "body": "<a id='comment:20'></a>my brain is small, and while I know that `./sage -tp --log --all >logs/ptest.log` is more or less the same (I would still need to look up the correct way to pipe stderr) as `make ptest` - I wish I knew something more useful instead.\n\nthis is really akin to \"who needs makefiles, you can just type the compiler calls by hand\" nonsense.",
    "created_at": "2021-11-13T01:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601390",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'></a>my brain is small, and while I know that `./sage -tp --log --all >logs/ptest.log` is more or less the same (I would still need to look up the correct way to pipe stderr) as `make ptest` - I wish I knew something more useful instead.

this is really akin to "who needs makefiles, you can just type the compiler calls by hand" nonsense.



---

archive/issue_comments_601391.json:
```json
{
    "body": "<a id='comment:21'></a>Something like `make test` or `make check` is common with various packages, and I don't see a reason to stop advertising it. Three options doesn't seem like too many, since they do different things (`./sage -t ...` tests specific files, `make ...test...` tests all files and logs the output, `./sage --tox ...` tests in a different way). Maybe part of my resistance is that I don't understand how to use `./sage --tox ...` effectively; with `make ptestlong`, I can open up the log file while it's going and see the progress, but I haven't figured out how to do that with `tox`. When I just ran `sage --tox src/sage/homology`, it ended in an error, but I'm not sure why. Because the code uses a variable `mone` which `codespell` thinks is misspelled?",
    "created_at": "2021-11-13T21:56:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601391",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:21'></a>Something like `make test` or `make check` is common with various packages, and I don't see a reason to stop advertising it. Three options doesn't seem like too many, since they do different things (`./sage -t ...` tests specific files, `make ...test...` tests all files and logs the output, `./sage --tox ...` tests in a different way). Maybe part of my resistance is that I don't understand how to use `./sage --tox ...` effectively; with `make ptestlong`, I can open up the log file while it's going and see the progress, but I haven't figured out how to do that with `tox`. When I just ran `sage --tox src/sage/homology`, it ended in an error, but I'm not sure why. Because the code uses a variable `mone` which `codespell` thinks is misspelled?



---

archive/issue_comments_601392.json:
```json
{
    "body": "<a id='comment:22'></a>Note that I was suggesting to replace `make test` in the manuals by `sage -t`, not by `sage --tox`.\n\nNote that all `make *test*` targets have equivalents in `sage -t --all` with additional options, so I wouldn't say that the difference is that `./sage -t ...` tests specific files and `make ...test...` tests all files.\n\nBut you have a good point about logging.  That is indeed something (sage-the-distribution-specific) that `make test` offers over `sage -t`.",
    "created_at": "2021-11-13T22:31:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601392",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>Note that I was suggesting to replace `make test` in the manuals by `sage -t`, not by `sage --tox`.

Note that all `make *test*` targets have equivalents in `sage -t --all` with additional options, so I wouldn't say that the difference is that `./sage -t ...` tests specific files and `make ...test...` tests all files.

But you have a good point about logging.  That is indeed something (sage-the-distribution-specific) that `make test` offers over `sage -t`.



---

archive/issue_comments_601393.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#32899\"",
    "created_at": "2021-11-27T01:34:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601393",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#32899"



---

archive/issue_comments_601394.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/document__sage__tox_\"",
    "created_at": "2021-11-27T02:53:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601394",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/document__sage__tox_"



---

archive/issue_comments_601395.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-27T03:07:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601395",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_601396.json:
```json
{
    "body": "Changing commit from \"\" to \"7d31d586f330ac9175c94cad0cf6422928c12b5f\"",
    "created_at": "2021-11-27T03:07:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601396",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "7d31d586f330ac9175c94cad0cf6422928c12b5f"



---

archive/issue_comments_601397.json:
```json
{
    "body": "<a id='comment:27'></a>Replying to [comment:21 jhpalmieri]:\n> When I just ran `sage --tox src/sage/homology`, it ended in an error, but I'm not sure why. Because the code uses a variable `mone` which `codespell` thinks is misspelled?\n\n\nI've added a bit of documentation for codespell",
    "created_at": "2021-11-27T03:13:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601397",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>Replying to [comment:21 jhpalmieri]:
> When I just ran `sage --tox src/sage/homology`, it ended in an error, but I'm not sure why. Because the code uses a variable `mone` which `codespell` thinks is misspelled?


I've added a bit of documentation for codespell



---

archive/issue_comments_601398.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2021-11-27T03:13:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601398",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_601399.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-11-27T03:13:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601399",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_601400.json:
```json
{
    "body": "<a id='comment:29'></a>Many shell code blocks are indented by 2 spaces,\naren't 4 required by rst / Sphinx?\n\nTypo (a -> an):\n\n```diff\n-packages, that prefix needs to be a implicit namespace package, i.e., there\n+packages, that prefix needs to be an implicit namespace package, i.e., there\n```\n\nPerhaps split some long lines:\n\n```diff\n-packages via the file `pyproject.toml <https://pip.pypa.io/en/stable/reference/build-system/pyproject-toml/>`_\n+packages via the file\n+`pyproject.toml <https://pip.pypa.io/en/stable/reference/build-system/pyproject-toml/>`_\n```\n\n```diff\n-such optional dependencies as `extras_require <https://setuptools.pypa.io/en/latest/userguide/dependency_management.html#optional-dependencies>`_ in ``setup.cfg``\n+such optional dependencies as\n+`extras_require <https://setuptools.pypa.io/en/latest/userguide/dependency_management.html#optional-dependencies>`_\n+in ``setup.cfg``\n```\n\n```diff\n-- VS Code: Activate by adding the setting ``\"python.linting.pycodestyleEnabled\": true``, see `official VS Code documentation <https://code.visualstudio.com/docs/python/linting>`__ for details.\n+- VS Code: Activate by adding the setting\n+  ``\"python.linting.pycodestyleEnabled\": true``, see\n+  `official VS Code documentation <https://code.visualstudio.com/docs/python/linting>`__\n+  for details.\n```\n\n```diff\n-*Note*: Currently, only the package :mod:`sage.manifolds` is checked. Further packages can be added in the ``pyrightconfig.json`` file.\n+*Note*: Currently, only the package :mod:`sage.manifolds` is checked.\n+Further packages can be added in the ``pyrightconfig.json`` file.\n```",
    "created_at": "2021-11-27T14:13:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601400",
    "user": "https://github.com/slel"
}
```

<a id='comment:29'></a>Many shell code blocks are indented by 2 spaces,
aren't 4 required by rst / Sphinx?

Typo (a -> an):

```diff
-packages, that prefix needs to be a implicit namespace package, i.e., there
+packages, that prefix needs to be an implicit namespace package, i.e., there
```

Perhaps split some long lines:

```diff
-packages via the file `pyproject.toml <https://pip.pypa.io/en/stable/reference/build-system/pyproject-toml/>`_
+packages via the file
+`pyproject.toml <https://pip.pypa.io/en/stable/reference/build-system/pyproject-toml/>`_
```

```diff
-such optional dependencies as `extras_require <https://setuptools.pypa.io/en/latest/userguide/dependency_management.html#optional-dependencies>`_ in ``setup.cfg``
+such optional dependencies as
+`extras_require <https://setuptools.pypa.io/en/latest/userguide/dependency_management.html#optional-dependencies>`_
+in ``setup.cfg``
```

```diff
-- VS Code: Activate by adding the setting ``"python.linting.pycodestyleEnabled": true``, see `official VS Code documentation <https://code.visualstudio.com/docs/python/linting>`__ for details.
+- VS Code: Activate by adding the setting
+  ``"python.linting.pycodestyleEnabled": true``, see
+  `official VS Code documentation <https://code.visualstudio.com/docs/python/linting>`__
+  for details.
```

```diff
-*Note*: Currently, only the package :mod:`sage.manifolds` is checked. Further packages can be added in the ``pyrightconfig.json`` file.
+*Note*: Currently, only the package :mod:`sage.manifolds` is checked.
+Further packages can be added in the ``pyrightconfig.json`` file.
```



---

archive/issue_comments_601401.json:
```json
{
    "body": "<a id='comment:30'></a>Feel free to push changes of this kind to the ticket",
    "created_at": "2021-11-27T17:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601401",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>Feel free to push changes of this kind to the ticket



---

archive/issue_comments_601402.json:
```json
{
    "body": "<a id='comment:31'></a>What I'm missing (as it confused me quite a bit) is a remark about the python (and other packages) used by tox and how/if a new virtual environment is created, especially for `src/tox.ini`. \"Normally\", you have environments like\n\n```\nenvlist = py{27,34,36}-django{15,16}-{sqlite,mysql}, docs\n```\n\nThat is, you run your test command in different configurations and new virtual environments; with additional special commands like documentation or linting. Sage's usage of tox is rather non-standard in this regard, so I think its good to point this out.\n\nConcerning the documentation of pycodestyle, I'm not sure if the output of the various tox commands adds much. Instead, maybe stress that `-minimal` needs to pass for a ticket to be merged, while the other configuration is what sage is striving for in the future, so progress in that direction is welcome.",
    "created_at": "2021-11-28T16:58:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601402",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:31'></a>What I'm missing (as it confused me quite a bit) is a remark about the python (and other packages) used by tox and how/if a new virtual environment is created, especially for `src/tox.ini`. "Normally", you have environments like

```
envlist = py{27,34,36}-django{15,16}-{sqlite,mysql}, docs
```

That is, you run your test command in different configurations and new virtual environments; with additional special commands like documentation or linting. Sage's usage of tox is rather non-standard in this regard, so I think its good to point this out.

Concerning the documentation of pycodestyle, I'm not sure if the output of the various tox commands adds much. Instead, maybe stress that `-minimal` needs to pass for a ticket to be merged, while the other configuration is what sage is striving for in the future, so progress in that direction is welcome.



---

archive/issue_comments_601403.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-28T20:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601403",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_601404.json:
```json
{
    "body": "Changing commit from \"7d31d586f330ac9175c94cad0cf6422928c12b5f\" to \"426ca9e0f8612bc7b5c707c9a9f4c0c65fe43a93\"",
    "created_at": "2021-11-28T20:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601404",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7d31d586f330ac9175c94cad0cf6422928c12b5f" to "426ca9e0f8612bc7b5c707c9a9f4c0c65fe43a93"



---

archive/issue_comments_601405.json:
```json
{
    "body": "<a id='comment:33'></a>Thanks for the comments! I have made some changes",
    "created_at": "2021-11-28T20:13:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601405",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>Thanks for the comments! I have made some changes



---

archive/issue_comments_601406.json:
```json
{
    "body": "<a id='comment:34'></a>Replying to [comment:30 mkoeppe]:\n> Feel free to push changes of this kind to the ticket\n... or post the unedited output of `git diff` so I can apply these changes",
    "created_at": "2021-11-28T21:14:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601406",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'></a>Replying to [comment:30 mkoeppe]:
> Feel free to push changes of this kind to the ticket
... or post the unedited output of `git diff` so I can apply these changes



---

archive/issue_comments_601407.json:
```json
{
    "body": "Changing commit from \"426ca9e0f8612bc7b5c707c9a9f4c0c65fe43a93\" to \"4632eb32bb3f8af20bc63ac2baf0241abeca9269\"",
    "created_at": "2021-12-01T04:45:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601407",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "426ca9e0f8612bc7b5c707c9a9f4c0c65fe43a93" to "4632eb32bb3f8af20bc63ac2baf0241abeca9269"



---

archive/issue_comments_601408.json:
```json
{
    "body": "<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-01T04:45:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601408",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_601409.json:
```json
{
    "body": "<a id='comment:36'></a>Replying to [comment:33 mkoeppe]:\n> Thanks for the comments! I have made some changes \n\n\nThese changes look good to me, thanks!",
    "created_at": "2021-12-01T17:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601409",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:36'></a>Replying to [comment:33 mkoeppe]:
> Thanks for the comments! I have made some changes 


These changes look good to me, thanks!



---

archive/issue_comments_601410.json:
```json
{
    "body": "<a id='comment:37'></a>If there are no more comments, let's get this in please",
    "created_at": "2021-12-04T21:04:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601410",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:37'></a>If there are no more comments, let's get this in please



---

archive/issue_comments_601411.json:
```json
{
    "body": "<a id='comment:38'></a>OK",
    "created_at": "2021-12-04T21:24:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601411",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:38'></a>OK



---

archive/issue_comments_601412.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik, Tobias Diez\"",
    "created_at": "2021-12-04T21:24:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601412",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik, Tobias Diez"



---

archive/issue_comments_601413.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-12-04T21:24:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601413",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_601414.json:
```json
{
    "body": "<a id='comment:39'></a>Thanks!",
    "created_at": "2021-12-04T23:07:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601414",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>Thanks!



---

archive/issue_comments_601415.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2021-12-12T17:46:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601415",
    "user": "https://github.com/mkoeppe"
}
```

Changing priority from major to critical.



---

archive/issue_comments_601416.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/document__sage__tox_\" to \"4632eb32bb3f8af20bc63ac2baf0241abeca9269\"",
    "created_at": "2021-12-23T20:26:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601416",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/document__sage__tox_" to "4632eb32bb3f8af20bc63ac2baf0241abeca9269"



---

archive/issue_events_079046.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-23T20:26:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30453#event-79046"
}
```



---

archive/issue_comments_601417.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-12-23T20:26:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-601417",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
