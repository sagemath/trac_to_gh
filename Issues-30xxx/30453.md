# Issue 30453: Document "sage -tox"

archive/issues_030216.json:
```json
{
    "body": "(from #30410)\n\nAs of #30503, `sage -advanced` shows:\n\n```\nTesting files:\n\n  -t [options] <files|dir> -- test examples in .py, .pyx, .sage\n                              or .tex files.  Options:\n     --long           -- include lines with the phrase 'long time'\n...\n  --tox [options] <files|dirs> -- general entry point for testing\n                                  and linting of the Sage library\n     -e <envlist>     -- run specific test environments (default: run all)\n        doctest          -- run the Sage doctester \n                            (same as \"sage -t\")\n        coverage         -- give information about doctest coverage of files \n                            (same as \"sage --coverage[all]\")\n        startuptime      -- display how long each component of Sage takes to start up \n                            (same as \"sage --startuptime\")\n        pycodestyle      -- check against the Python style conventions of PEP8\n        relint           -- check whether some forbidden patterns appear \n                            (includes all patchbot pattern-exclusion plugins)\n        codespell        -- check for misspelled words in source code\n     -p auto          -- run test environments in parallel\n     --help           -- show tox help\n\n```\n\nIn this ticket, we expand the section in the developers' guide added in #30361 to cover these tools, expanding upon https://wiki.sagemath.org/ReleaseTours/sage-9.2#Testing_and_linting_with_tox\n\n\n\nSee also:\n- #29520 Mention `.lgtm.yml` in the Developer's Guide\n- #30448 `src/tox.ini`: Add validation of rst files and docstrings\n- #28936 Meta-ticket: Adopt mainstream Python testing/linting infrastructure, describe in Developer's Guide\n- #30573 `src/tox.ini`: Add flake8\n\n\nCC:  @dimpase @tobiasdiez @fchapoton @jhpalmieri @slel @yuan-zhou\n\nBranch/Commit: [4632eb32bb3f8af20bc63ac2baf0241abeca9269](https://github.com/sagemath/sagetrac-mirror/commit/4632eb32bb3f8af20bc63ac2baf0241abeca9269)\n\nReviewer: Dima Pasechnik, Tobias Diez\n\nAuthor: Matthias Koeppe\n\nDependencies: #32899\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30453\n\n",
    "closed_at": "2021-12-23T20:26:31Z",
    "created_at": "2020-08-27T21:04:35Z",
    "labels": [
        "component: documentation",
        "critical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Document \"sage -tox\"",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30453",
    "user": "https://github.com/mkoeppe"
}
```
(from #30410)

As of #30503, `sage -advanced` shows:

```
Testing files:

  -t [options] <files|dir> -- test examples in .py, .pyx, .sage
                              or .tex files.  Options:
     --long           -- include lines with the phrase 'long time'
...
  --tox [options] <files|dirs> -- general entry point for testing
                                  and linting of the Sage library
     -e <envlist>     -- run specific test environments (default: run all)
        doctest          -- run the Sage doctester 
                            (same as "sage -t")
        coverage         -- give information about doctest coverage of files 
                            (same as "sage --coverage[all]")
        startuptime      -- display how long each component of Sage takes to start up 
                            (same as "sage --startuptime")
        pycodestyle      -- check against the Python style conventions of PEP8
        relint           -- check whether some forbidden patterns appear 
                            (includes all patchbot pattern-exclusion plugins)
        codespell        -- check for misspelled words in source code
     -p auto          -- run test environments in parallel
     --help           -- show tox help

```

In this ticket, we expand the section in the developers' guide added in #30361 to cover these tools, expanding upon https://wiki.sagemath.org/ReleaseTours/sage-9.2#Testing_and_linting_with_tox



See also:
- #29520 Mention `.lgtm.yml` in the Developer's Guide
- #30448 `src/tox.ini`: Add validation of rst files and docstrings
- #28936 Meta-ticket: Adopt mainstream Python testing/linting infrastructure, describe in Developer's Guide
- #30573 `src/tox.ini`: Add flake8


CC:  @dimpase @tobiasdiez @fchapoton @jhpalmieri @slel @yuan-zhou

Branch/Commit: [4632eb32bb3f8af20bc63ac2baf0241abeca9269](https://github.com/sagemath/sagetrac-mirror/commit/4632eb32bb3f8af20bc63ac2baf0241abeca9269)

Reviewer: Dima Pasechnik, Tobias Diez

Author: Matthias Koeppe

Dependencies: #32899

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30453





---

archive/issue_comments_602059.json:
```json
{
    "body": "<a id='comment:1'></a>\nPerhaps we also need `sage -btox` and `sage -btoxp` (in analogy to `sage -bt`, `sage -btp`)",
    "created_at": "2020-08-29T00:24:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602059",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:1'></a>
Perhaps we also need `sage -btox` and `sage -btoxp` (in analogy to `sage -bt`, `sage -btp`)



---

archive/issue_comments_602060.json:
```json
{
    "body": "Changing dependencies from \"#30410,\" to \"#30410, #30452\"",
    "created_at": "2020-08-29T00:24:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602060",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#30410," to "#30410, #30452"



---

archive/issue_comments_602061.json:
```json
{
    "body": "Changing dependencies from \"#30410, #30452\" to \"#30410, #30452, #30467\"",
    "created_at": "2020-08-30T20:04:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602061",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#30410, #30452" to "#30410, #30452, #30467"



---

archive/issue_comments_602062.json:
```json
{
    "body": "Changing dependencies from \"#30410, #30452, #30467\" to \"#30361, #30410, #30452, #30467\"",
    "created_at": "2020-08-30T20:08:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602062",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#30410, #30452, #30467" to "#30361, #30410, #30452, #30467"



---

archive/issue_comments_602063.json:
```json
{
    "body": "Changing dependencies from \"#30361, #30410, #30452, #30467\" to \"#30361, #30410, #30452, #30467, #30503\"",
    "created_at": "2020-09-07T19:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602063",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#30361, #30410, #30452, #30467" to "#30361, #30410, #30452, #30467, #30503"



---

archive/issue_comments_602064.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,36 @@\n (from #30410)\n \n+As of #30503, `sage -advanced` shows:\n+\n+```\n+Testing files:\n+\n+  -t [options] <files|dir> -- test examples in .py, .pyx, .sage\n+                              or .tex files.  Options:\n+     --long           -- include lines with the phrase 'long time'\n+...\n+  --tox [options] <files|dirs> -- general entry point for testing\n+                                  and linting of the Sage library\n+     -e <envlist>     -- run specific test environments (default: run all)\n+        doctest          -- run the Sage doctester \n+                            (same as \"sage -t\")\n+        coverage         -- give information about doctest coverage of files \n+                            (same as \"sage --coverage[all]\")\n+        startuptime      -- display how long each component of Sage takes to start up \n+                            (same as \"sage --startuptime\")\n+        pycodestyle      -- check against the Python style conventions of PEP8\n+        relint           -- check whether some forbidden patterns appear \n+                            (includes all patchbot pattern-exclusion plugins)\n+        codespell        -- check for misspelled words in source code\n+     -p auto          -- run test environments in parallel\n+     --help           -- show tox help\n+\n+```\n+\n+In this ticket, we expand the section in the developers' guide added in #30361 to cover these tools.\n+\n+\n+\n+\n+\n+\n``````\n",
    "created_at": "2020-09-07T19:54:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602064",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,36 @@
 (from #30410)
 
+As of #30503, `sage -advanced` shows:
+
+```
+Testing files:
+
+  -t [options] <files|dir> -- test examples in .py, .pyx, .sage
+                              or .tex files.  Options:
+     --long           -- include lines with the phrase 'long time'
+...
+  --tox [options] <files|dirs> -- general entry point for testing
+                                  and linting of the Sage library
+     -e <envlist>     -- run specific test environments (default: run all)
+        doctest          -- run the Sage doctester 
+                            (same as "sage -t")
+        coverage         -- give information about doctest coverage of files 
+                            (same as "sage --coverage[all]")
+        startuptime      -- display how long each component of Sage takes to start up 
+                            (same as "sage --startuptime")
+        pycodestyle      -- check against the Python style conventions of PEP8
+        relint           -- check whether some forbidden patterns appear 
+                            (includes all patchbot pattern-exclusion plugins)
+        codespell        -- check for misspelled words in source code
+     -p auto          -- run test environments in parallel
+     --help           -- show tox help
+
+```
+
+In this ticket, we expand the section in the developers' guide added in #30361 to cover these tools.
+
+
+
+
+
+
``````




---

archive/issue_comments_602065.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -31,6 +31,7 @@\n \n \n \n+See also:\n+- #29520 Mention `.lgtm.yml` in the Developer's Guide\n \n \n-\n``````\n",
    "created_at": "2020-09-07T19:56:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602065",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -31,6 +31,7 @@
 
 
 
+See also:
+- #29520 Mention `.lgtm.yml` in the Developer's Guide
 
 
-
``````




---

archive/issue_comments_602066.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -33,5 +33,6 @@\n \n See also:\n - #29520 Mention `.lgtm.yml` in the Developer's Guide\n+- #30448 src/tox.ini: Add validation of rst files and docstrings\n+- #28936 Meta-ticket: Adopt mainstream Python testing/linting infrastructure, describe in Developer's Guide\n \n-\n``````\n",
    "created_at": "2020-09-09T17:10:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602066",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -33,5 +33,6 @@
 
 See also:
 - #29520 Mention `.lgtm.yml` in the Developer's Guide
+- #30448 src/tox.ini: Add validation of rst files and docstrings
+- #28936 Meta-ticket: Adopt mainstream Python testing/linting infrastructure, describe in Developer's Guide
 
-
``````




---

archive/issue_comments_602067.json:
```json
{
    "body": "Changing dependencies from \"#30361, #30410, #30452, #30467, #30503\" to \"#30361, #30410, #30452, #30467, #30503, #30416\"",
    "created_at": "2020-09-09T17:10:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602067",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#30361, #30410, #30452, #30467, #30503" to "#30361, #30410, #30452, #30467, #30503, #30416"



---

archive/issue_comments_602068.json:
```json
{
    "body": "Changing dependencies from \"#30361, #30410, #30452, #30467, #30503, #30416\" to \"#30361, #30410, #30452, #30467, #30503, #30544\"",
    "created_at": "2020-09-10T01:29:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602068",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#30361, #30410, #30452, #30467, #30503, #30416" to "#30361, #30410, #30452, #30467, #30503, #30544"



---

archive/issue_comments_602069.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -33,6 +33,7 @@\n \n See also:\n - #29520 Mention `.lgtm.yml` in the Developer's Guide\n-- #30448 src/tox.ini: Add validation of rst files and docstrings\n+- #30448 `src/tox.ini`: Add validation of rst files and docstrings\n - #28936 Meta-ticket: Adopt mainstream Python testing/linting infrastructure, describe in Developer's Guide\n+- #30573 `src/tox.ini`: Add flake8\n \n``````\n",
    "created_at": "2020-09-14T19:24:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602069",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -33,6 +33,7 @@
 
 See also:
 - #29520 Mention `.lgtm.yml` in the Developer's Guide
-- #30448 src/tox.ini: Add validation of rst files and docstrings
+- #30448 `src/tox.ini`: Add validation of rst files and docstrings
 - #28936 Meta-ticket: Adopt mainstream Python testing/linting infrastructure, describe in Developer's Guide
+- #30573 `src/tox.ini`: Add flake8
 
``````




---

archive/issue_events_089075.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30453#event-89075"
}
```



---

archive/issue_comments_602070.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -27,7 +27,7 @@\n \n ```\n \n-In this ticket, we expand the section in the developers' guide added in #30361 to cover these tools.\n+In this ticket, we expand the section in the developers' guide added in #30361 to cover these tools, expanding upon https://wiki.sagemath.org/ReleaseTours/sage-9.2#Testing_and_linting_with_tox\n \n \n \n``````\n",
    "created_at": "2021-01-31T01:18:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602070",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -27,7 +27,7 @@
 
 ```
 
-In this ticket, we expand the section in the developers' guide added in #30361 to cover these tools.
+In this ticket, we expand the section in the developers' guide added in #30361 to cover these tools, expanding upon https://wiki.sagemath.org/ReleaseTours/sage-9.2#Testing_and_linting_with_tox
 
 
 
``````




---

archive/issue_comments_602071.json:
```json
{
    "body": "<a id='comment:13'></a>\nSage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-04-07T19:29:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602071",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>
Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_089076.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-07T19:29:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30453#event-89076"
}
```



---

archive/issue_events_089077.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-07T19:29:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30453#event-89077"
}
```



---

archive/issue_events_089078.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30453#event-89078"
}
```



---

archive/issue_events_089079.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30453#event-89079"
}
```



---

archive/issue_events_089080.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "rename": {
        "from": "Document \"sage -tox\"",
        "to": "Document \"sage -tox\", stop advertising \"make ...test...\""
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30453#event-89080"
}
```



---

archive/issue_comments_602072.json:
```json
{
    "body": "Changing dependencies from \"#30361, #30410, #30452, #30467, #30503, #30544\" to \"\"",
    "created_at": "2021-11-12T22:20:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602072",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#30361, #30410, #30452, #30467, #30503, #30544" to ""



---

archive/issue_comments_602073.json:
```json
{
    "body": "<a id='comment:16'></a>\nI don't think we should stop advertising \"make ...test...\". Intefaces to tox, pytest, etc are insane, one needs to look in the manuals all the time.",
    "created_at": "2021-11-12T23:29:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602073",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:16'></a>
I don't think we should stop advertising "make ...test...". Intefaces to tox, pytest, etc are insane, one needs to look in the manuals all the time.



---

archive/issue_comments_602074.json:
```json
{
    "body": "<a id='comment:17'></a>\n`make` is sage-the-distribution-specific. \n\n`sage -t` and `sage --tox` work in all settings.\n\nThat's why we should change it.",
    "created_at": "2021-11-13T00:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602074",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
`make` is sage-the-distribution-specific. 

`sage -t` and `sage --tox` work in all settings.

That's why we should change it.



---

archive/issue_comments_602075.json:
```json
{
    "body": "<a id='comment:18'></a>\nwhy break something that works, and is superior in usability?",
    "created_at": "2021-11-13T00:11:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602075",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>
why break something that works, and is superior in usability?



---

archive/issue_comments_602076.json:
```json
{
    "body": "<a id='comment:19'></a>\nEveryone already has to learn about `sage -t` for testing, because that's the only way that you can test something specific. \n\nSo advertising both `sage -t` and `make test` is one too many.",
    "created_at": "2021-11-13T00:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602076",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>
Everyone already has to learn about `sage -t` for testing, because that's the only way that you can test something specific. 

So advertising both `sage -t` and `make test` is one too many.



---

archive/issue_comments_602077.json:
```json
{
    "body": "<a id='comment:20'></a>\nmy brain is small, and while I know that `./sage -tp --log --all >logs/ptest.log` is more or less the same (I would still need to look up the correct way to pipe stderr) as `make ptest` - I wish I knew something more useful instead.\n\nthis is really akin to \"who needs makefiles, you can just type the compiler calls by hand\" nonsense.",
    "created_at": "2021-11-13T01:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602077",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'></a>
my brain is small, and while I know that `./sage -tp --log --all >logs/ptest.log` is more or less the same (I would still need to look up the correct way to pipe stderr) as `make ptest` - I wish I knew something more useful instead.

this is really akin to "who needs makefiles, you can just type the compiler calls by hand" nonsense.



---

archive/issue_comments_602078.json:
```json
{
    "body": "<a id='comment:21'></a>\nSomething like `make test` or `make check` is common with various packages, and I don't see a reason to stop advertising it. Three options doesn't seem like too many, since they do different things (`./sage -t ...` tests specific files, `make ...test...` tests all files and logs the output, `./sage --tox ...` tests in a different way). Maybe part of my resistance is that I don't understand how to use `./sage --tox ...` effectively; with `make ptestlong`, I can open up the log file while it's going and see the progress, but I haven't figured out how to do that with `tox`. When I just ran `sage --tox src/sage/homology`, it ended in an error, but I'm not sure why. Because the code uses a variable `mone` which `codespell` thinks is misspelled?",
    "created_at": "2021-11-13T21:56:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602078",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:21'></a>
Something like `make test` or `make check` is common with various packages, and I don't see a reason to stop advertising it. Three options doesn't seem like too many, since they do different things (`./sage -t ...` tests specific files, `make ...test...` tests all files and logs the output, `./sage --tox ...` tests in a different way). Maybe part of my resistance is that I don't understand how to use `./sage --tox ...` effectively; with `make ptestlong`, I can open up the log file while it's going and see the progress, but I haven't figured out how to do that with `tox`. When I just ran `sage --tox src/sage/homology`, it ended in an error, but I'm not sure why. Because the code uses a variable `mone` which `codespell` thinks is misspelled?



---

archive/issue_comments_602079.json:
```json
{
    "body": "<a id='comment:22'></a>\nNote that I was suggesting to replace `make test` in the manuals by `sage -t`, not by `sage --tox`.\n\nNote that all `make *test*` targets have equivalents in `sage -t --all` with additional options, so I wouldn't say that the difference is that `./sage -t ...` tests specific files and `make ...test...` tests all files.\n\nBut you have a good point about logging.  That is indeed something (sage-the-distribution-specific) that `make test` offers over `sage -t`.",
    "created_at": "2021-11-13T22:31:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602079",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
Note that I was suggesting to replace `make test` in the manuals by `sage -t`, not by `sage --tox`.

Note that all `make *test*` targets have equivalents in `sage -t --all` with additional options, so I wouldn't say that the difference is that `./sage -t ...` tests specific files and `make ...test...` tests all files.

But you have a good point about logging.  That is indeed something (sage-the-distribution-specific) that `make test` offers over `sage -t`.



---

archive/issue_events_089081.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "rename": {
        "from": "Document \"sage -tox\", stop advertising \"make ...test...\"",
        "to": "Document \"sage -tox\""
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30453#event-89081"
}
```



---

archive/issue_comments_602080.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#32899\"",
    "created_at": "2021-11-27T01:34:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602080",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#32899"



---

archive/issue_comments_602081.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/document__sage__tox_\"",
    "created_at": "2021-11-27T02:53:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602081",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/document__sage__tox_"



---

archive/issue_comments_602082.json:
```json
{
    "body": "<a id='comment:26'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[7d31d58](https://github.com/sagemath/sagetrac-mirror/commit/7d31d586f330ac9175c94cad0cf6422928c12b5f)|`src/doc/en/developer/tools.rst: Add codespell`|",
    "created_at": "2021-11-27T03:07:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602082",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[7d31d58](https://github.com/sagemath/sagetrac-mirror/commit/7d31d586f330ac9175c94cad0cf6422928c12b5f)|`src/doc/en/developer/tools.rst: Add codespell`|



---

archive/issue_comments_602083.json:
```json
{
    "body": "Changing commit from \"\" to \"7d31d586f330ac9175c94cad0cf6422928c12b5f\"",
    "created_at": "2021-11-27T03:07:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602083",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "7d31d586f330ac9175c94cad0cf6422928c12b5f"



---

archive/issue_comments_602084.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [jhpalmieri](#comment%3A21):\n> When I just ran `sage --tox src/sage/homology`, it ended in an error, but I'm not sure why. Because the code uses a variable `mone` which `codespell` thinks is misspelled?\n\n\nI've added a bit of documentation for codespell",
    "created_at": "2021-11-27T03:13:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602084",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>
Replying to [jhpalmieri](#comment%3A21):
> When I just ran `sage --tox src/sage/homology`, it ended in an error, but I'm not sure why. Because the code uses a variable `mone` which `codespell` thinks is misspelled?


I've added a bit of documentation for codespell



---

archive/issue_comments_602085.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2021-11-27T03:13:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602085",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_602086.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-11-27T03:13:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602086",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_602087.json:
```json
{
    "body": "<a id='comment:29'></a>\nMany shell code blocks are indented by 2 spaces,\naren't 4 required by rst / Sphinx?\n\nTypo (a -> an):\n\n```diff\n-packages, that prefix needs to be a implicit namespace package, i.e., there\n+packages, that prefix needs to be an implicit namespace package, i.e., there\n```\n\nPerhaps split some long lines:\n\n```diff\n-packages via the file `pyproject.toml <https://pip.pypa.io/en/stable/reference/build-system/pyproject-toml/>`_\n+packages via the file\n+`pyproject.toml <https://pip.pypa.io/en/stable/reference/build-system/pyproject-toml/>`_\n```\n\n```diff\n-such optional dependencies as `extras_require <https://setuptools.pypa.io/en/latest/userguide/dependency_management.html#optional-dependencies>`_ in ``setup.cfg``\n+such optional dependencies as\n+`extras_require <https://setuptools.pypa.io/en/latest/userguide/dependency_management.html#optional-dependencies>`_\n+in ``setup.cfg``\n```\n\n```diff\n-- VS Code: Activate by adding the setting ``\"python.linting.pycodestyleEnabled\": true``, see `official VS Code documentation <https://code.visualstudio.com/docs/python/linting>`__ for details.\n+- VS Code: Activate by adding the setting\n+  ``\"python.linting.pycodestyleEnabled\": true``, see\n+  `official VS Code documentation <https://code.visualstudio.com/docs/python/linting>`__\n+  for details.\n```\n\n```diff\n-*Note*: Currently, only the package :mod:`sage.manifolds` is checked. Further packages can be added in the ``pyrightconfig.json`` file.\n+*Note*: Currently, only the package :mod:`sage.manifolds` is checked.\n+Further packages can be added in the ``pyrightconfig.json`` file.\n```",
    "created_at": "2021-11-27T14:13:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602087",
    "user": "https://github.com/slel"
}
```

<a id='comment:29'></a>
Many shell code blocks are indented by 2 spaces,
aren't 4 required by rst / Sphinx?

Typo (a -> an):

```diff
-packages, that prefix needs to be a implicit namespace package, i.e., there
+packages, that prefix needs to be an implicit namespace package, i.e., there
```

Perhaps split some long lines:

```diff
-packages via the file `pyproject.toml <https://pip.pypa.io/en/stable/reference/build-system/pyproject-toml/>`_
+packages via the file
+`pyproject.toml <https://pip.pypa.io/en/stable/reference/build-system/pyproject-toml/>`_
```

```diff
-such optional dependencies as `extras_require <https://setuptools.pypa.io/en/latest/userguide/dependency_management.html#optional-dependencies>`_ in ``setup.cfg``
+such optional dependencies as
+`extras_require <https://setuptools.pypa.io/en/latest/userguide/dependency_management.html#optional-dependencies>`_
+in ``setup.cfg``
```

```diff
-- VS Code: Activate by adding the setting ``"python.linting.pycodestyleEnabled": true``, see `official VS Code documentation <https://code.visualstudio.com/docs/python/linting>`__ for details.
+- VS Code: Activate by adding the setting
+  ``"python.linting.pycodestyleEnabled": true``, see
+  `official VS Code documentation <https://code.visualstudio.com/docs/python/linting>`__
+  for details.
```

```diff
-*Note*: Currently, only the package :mod:`sage.manifolds` is checked. Further packages can be added in the ``pyrightconfig.json`` file.
+*Note*: Currently, only the package :mod:`sage.manifolds` is checked.
+Further packages can be added in the ``pyrightconfig.json`` file.
```



---

archive/issue_comments_602088.json:
```json
{
    "body": "<a id='comment:30'></a>\nFeel free to push changes of this kind to the ticket",
    "created_at": "2021-11-27T17:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602088",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>
Feel free to push changes of this kind to the ticket



---

archive/issue_comments_602089.json:
```json
{
    "body": "<a id='comment:31'></a>\nWhat I'm missing (as it confused me quite a bit) is a remark about the python (and other packages) used by tox and how/if a new virtual environment is created, especially for `src/tox.ini`. \"Normally\", you have environments like\n\n```\nenvlist = py{27,34,36}-django{15,16}-{sqlite,mysql}, docs\n```\n\nThat is, you run your test command in different configurations and new virtual environments; with additional special commands like documentation or linting. Sage's usage of tox is rather non-standard in this regard, so I think its good to point this out.\n\nConcerning the documentation of pycodestyle, I'm not sure if the output of the various tox commands adds much. Instead, maybe stress that `-minimal` needs to pass for a ticket to be merged, while the other configuration is what sage is striving for in the future, so progress in that direction is welcome.",
    "created_at": "2021-11-28T16:58:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602089",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:31'></a>
What I'm missing (as it confused me quite a bit) is a remark about the python (and other packages) used by tox and how/if a new virtual environment is created, especially for `src/tox.ini`. "Normally", you have environments like

```
envlist = py{27,34,36}-django{15,16}-{sqlite,mysql}, docs
```

That is, you run your test command in different configurations and new virtual environments; with additional special commands like documentation or linting. Sage's usage of tox is rather non-standard in this regard, so I think its good to point this out.

Concerning the documentation of pycodestyle, I'm not sure if the output of the various tox commands adds much. Instead, maybe stress that `-minimal` needs to pass for a ticket to be merged, while the other configuration is what sage is striving for in the future, so progress in that direction is welcome.



---

archive/issue_comments_602090.json:
```json
{
    "body": "<a id='comment:32'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|\n|[c3f566b](https://github.com/sagemath/sagetrac-mirror/commit/c3f566beaea4203c878550a9c545eb7959714778)|`src/doc/en/developer/tools.rst: Document tox -e doctest,coverage,startuptime and explain in which venv they runs`|\n|[426ca9e](https://github.com/sagemath/sagetrac-mirror/commit/426ca9e0f8612bc7b5c707c9a9f4c0c65fe43a93)|`src/doc/en/developer/tools.rst: Add guidance for developers regarding pycodestyle[-minimal]`|",
    "created_at": "2021-11-28T20:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602090",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|
|[c3f566b](https://github.com/sagemath/sagetrac-mirror/commit/c3f566beaea4203c878550a9c545eb7959714778)|`src/doc/en/developer/tools.rst: Document tox -e doctest,coverage,startuptime and explain in which venv they runs`|
|[426ca9e](https://github.com/sagemath/sagetrac-mirror/commit/426ca9e0f8612bc7b5c707c9a9f4c0c65fe43a93)|`src/doc/en/developer/tools.rst: Add guidance for developers regarding pycodestyle[-minimal]`|



---

archive/issue_comments_602091.json:
```json
{
    "body": "Changing commit from \"7d31d586f330ac9175c94cad0cf6422928c12b5f\" to \"426ca9e0f8612bc7b5c707c9a9f4c0c65fe43a93\"",
    "created_at": "2021-11-28T20:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602091",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7d31d586f330ac9175c94cad0cf6422928c12b5f" to "426ca9e0f8612bc7b5c707c9a9f4c0c65fe43a93"



---

archive/issue_comments_602092.json:
```json
{
    "body": "<a id='comment:33'></a>\nThanks for the comments! I have made some changes",
    "created_at": "2021-11-28T20:13:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602092",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>
Thanks for the comments! I have made some changes



---

archive/issue_comments_602093.json:
```json
{
    "body": "<a id='comment:34'></a>\nReplying to [mkoeppe](#comment%3A30):\n> Feel free to push changes of this kind to the ticket\n... or post the unedited output of `git diff` so I can apply these changes",
    "created_at": "2021-11-28T21:14:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602093",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'></a>
Replying to [mkoeppe](#comment%3A30):
> Feel free to push changes of this kind to the ticket
... or post the unedited output of `git diff` so I can apply these changes



---

archive/issue_comments_602094.json:
```json
{
    "body": "Changing commit from \"426ca9e0f8612bc7b5c707c9a9f4c0c65fe43a93\" to \"4632eb32bb3f8af20bc63ac2baf0241abeca9269\"",
    "created_at": "2021-12-01T04:45:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602094",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "426ca9e0f8612bc7b5c707c9a9f4c0c65fe43a93" to "4632eb32bb3f8af20bc63ac2baf0241abeca9269"



---

archive/issue_comments_602095.json:
```json
{
    "body": "<a id='comment:35'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|\n|[4632eb3](https://github.com/sagemath/sagetrac-mirror/commit/4632eb32bb3f8af20bc63ac2baf0241abeca9269)|`src/doc/en/developer/tools.rst: Add section on relint`|",
    "created_at": "2021-12-01T04:45:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602095",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
|[4632eb3](https://github.com/sagemath/sagetrac-mirror/commit/4632eb32bb3f8af20bc63ac2baf0241abeca9269)|`src/doc/en/developer/tools.rst: Add section on relint`|



---

archive/issue_comments_602096.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [mkoeppe](#comment%3A33):\n> Thanks for the comments! I have made some changes \n\n\nThese changes look good to me, thanks!",
    "created_at": "2021-12-01T17:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602096",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:36'></a>
Replying to [mkoeppe](#comment%3A33):
> Thanks for the comments! I have made some changes 


These changes look good to me, thanks!



---

archive/issue_comments_602097.json:
```json
{
    "body": "<a id='comment:37'></a>\nIf there are no more comments, let's get this in please",
    "created_at": "2021-12-04T21:04:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602097",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:37'></a>
If there are no more comments, let's get this in please



---

archive/issue_comments_602098.json:
```json
{
    "body": "<a id='comment:38'></a>\nOK",
    "created_at": "2021-12-04T21:24:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602098",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:38'></a>
OK



---

archive/issue_comments_602099.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik, Tobias Diez\"",
    "created_at": "2021-12-04T21:24:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602099",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik, Tobias Diez"



---

archive/issue_comments_602100.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-12-04T21:24:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602100",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_602101.json:
```json
{
    "body": "<a id='comment:39'></a>\nThanks!",
    "created_at": "2021-12-04T23:07:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602101",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>
Thanks!



---

archive/issue_comments_602102.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/document__sage__tox_\" to \"4632eb32bb3f8af20bc63ac2baf0241abeca9269\"",
    "created_at": "2021-12-23T20:26:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602102",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/document__sage__tox_" to "4632eb32bb3f8af20bc63ac2baf0241abeca9269"



---

archive/issue_events_089082.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-23T20:26:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30453#event-89082"
}
```



---

archive/issue_comments_602103.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-12-23T20:26:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30453#issuecomment-602103",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
