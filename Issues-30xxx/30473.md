# Issue 30473: Unicode operators for sage.manifolds

archive/issues_030236.json:
```json
{
    "body": "Replacing\n* `/\\` by \u2227 (U+2227)\n* `*` by \u2297 (U+2297) for tensor products  \n* `-->` by \u2192 (U+2192), `|-->` by \u21a6 (U+21A6)\n* `d/dx` by \u2202/\u2202x, etc. (U+2202)\n* `R` (real field) by \u211d (U+211D)\n* `C` (complex field) by \u2102 (U+2102)\n\nSome references:\n- https://docs.python.org/3/howto/unicode.html\n- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject\n- https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode\n- https://unicode.org/charts/PDF/U2200.pdf\n- https://unicode.org/charts/PDF/U2100.pdf\n\nWith the code introduced in this ticket, we have\n\n```\nsage: M = Manifold(2, 'M')\nsage: X.<x,y> = M.chart()\nsage: M.identity_map().display()\nId_M: M \u2192 M\n   (x, y) \u21a6 (x, y)\nsage: M.zero_scalar_field().display()\nzero: M \u2192 \u211d\n   (x, y) \u21a6 0\nsage: v = M.vector_field(-y, x, name='v')\nsage: v.display()\nv = -y \u2202/\u2202x + x \u2202/\u2202y\nsage: X.frame()\nCoordinate frame (M, (\u2202/\u2202x,\u2202/\u2202y))\nsage: v.wedge(X.frame()[0]).display()\nv\u2227\u2202/\u2202x = -x \u2202/\u2202x\u2227\u2202/\u2202y\nsage: f = M.scalar_field(x^2 + y^2, name='f')\nsage: f.display()\nf: M \u2192 \u211d\n   (x, y) \u21a6 x^2 + y^2\nsage: diff(f).display()\ndf = 2*x dx + 2*y dy\nsage: (v*diff(f)).display()\nv\u2297df = -2*x*y \u2202/\u2202x\u2297dx - 2*y^2 \u2202/\u2202x\u2297dy + 2*x^2 \u2202/\u2202y\u2297dx + 2*x*y \u2202/\u2202y\u2297dy\n```\n\nCC:  @egourgoulhon @tscrim @mwageringel @fchapoton\n\nBranch/Commit: f2ae50e68687b59af27e35a4ec02b0f667ea828c\n\nReviewer: Matthias Koeppe\n\nAuthor: Eric Gourgoulhon\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30473\n\n",
    "closed_at": "2021-07-18T22:53:38Z",
    "created_at": "2020-08-30T16:45:36Z",
    "labels": [
        "component: user interface"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Unicode operators for sage.manifolds",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30473",
    "user": "https://github.com/mkoeppe"
}
```
Replacing
* `/\` by ∧ (U+2227)
* `*` by ⊗ (U+2297) for tensor products  
* `-->` by → (U+2192), `|-->` by ↦ (U+21A6)
* `d/dx` by ∂/∂x, etc. (U+2202)
* `R` (real field) by ℝ (U+211D)
* `C` (complex field) by ℂ (U+2102)

Some references:
- https://docs.python.org/3/howto/unicode.html
- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject
- https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode
- https://unicode.org/charts/PDF/U2200.pdf
- https://unicode.org/charts/PDF/U2100.pdf

With the code introduced in this ticket, we have

```
sage: M = Manifold(2, 'M')
sage: X.<x,y> = M.chart()
sage: M.identity_map().display()
Id_M: M → M
   (x, y) ↦ (x, y)
sage: M.zero_scalar_field().display()
zero: M → ℝ
   (x, y) ↦ 0
sage: v = M.vector_field(-y, x, name='v')
sage: v.display()
v = -y ∂/∂x + x ∂/∂y
sage: X.frame()
Coordinate frame (M, (∂/∂x,∂/∂y))
sage: v.wedge(X.frame()[0]).display()
v∧∂/∂x = -x ∂/∂x∧∂/∂y
sage: f = M.scalar_field(x^2 + y^2, name='f')
sage: f.display()
f: M → ℝ
   (x, y) ↦ x^2 + y^2
sage: diff(f).display()
df = 2*x dx + 2*y dy
sage: (v*diff(f)).display()
v⊗df = -2*x*y ∂/∂x⊗dx - 2*y^2 ∂/∂x⊗dy + 2*x^2 ∂/∂y⊗dx + 2*x*y ∂/∂y⊗dy
```

CC:  @egourgoulhon @tscrim @mwageringel @fchapoton

Branch/Commit: f2ae50e68687b59af27e35a4ec02b0f667ea828c

Reviewer: Matthias Koeppe

Author: Eric Gourgoulhon

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30473





---

archive/issue_comments_459595.json:
```json
{
    "body": "<a id='comment:1'></a>Sounds a good idea!",
    "created_at": "2020-08-30T19:33:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459595",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:1'></a>Sounds a good idea!



---

archive/issue_events_079108.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30473#event-79108"
}
```



---

archive/issue_comments_459596.json:
```json
{
    "body": "<a id='comment:4'></a>That's a really nice idea! Is it also possible to entail the first two characters as operators in Python code?",
    "created_at": "2021-01-23T10:45:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459596",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:4'></a>That's a really nice idea! Is it also possible to entail the first two characters as operators in Python code?



---

archive/issue_comments_459597.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 gh-mjungmath]:\n> Is it also possible to entail the first two characters as operators in Python code?\n\n\nThat is not possible in Python, but it could be added to the Sage preparser, as has been done for the [backslash operator](https://gitlab.com/sagemath/sage/-/blob/13b40902a9a8c7157957cbc61ebc5e3934c331fc/src/sage/repl/preparse.py#L1836). Some people at sd109 voiced an interest in such custom unicode operators.\n\nThere is also a [decorator](https://doc.sagemath.org/html/en/reference/misc/sage/misc/decorators.html#sage.misc.decorators.infix_operator) that turns functions into infix operators which works similarly to the backslash operator, but, as unicode operators are not valid function names, that does not really help.",
    "created_at": "2021-01-23T13:26:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459597",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:5'></a>Replying to [comment:4 gh-mjungmath]:
> Is it also possible to entail the first two characters as operators in Python code?


That is not possible in Python, but it could be added to the Sage preparser, as has been done for the [backslash operator](https://gitlab.com/sagemath/sage/-/blob/13b40902a9a8c7157957cbc61ebc5e3934c331fc/src/sage/repl/preparse.py#L1836). Some people at sd109 voiced an interest in such custom unicode operators.

There is also a [decorator](https://doc.sagemath.org/html/en/reference/misc/sage/misc/decorators.html#sage.misc.decorators.infix_operator) that turns functions into infix operators which works similarly to the backslash operator, but, as unicode operators are not valid function names, that does not really help.



---

archive/issue_comments_459598.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:5 gh-mwageringel]:\n> Replying to [comment:4 gh-mjungmath]:\n> > Is it also possible to entail the first two characters as operators in Python code?\n\n> \n> That is not possible in Python, but it could be added to the Sage preparser, as has been done for the [backslash operator](https://gitlab.com/sagemath/sage/-/blob/13b40902a9a8c7157957cbc61ebc5e3934c331fc/src/sage/repl/preparse.py#L1836). Some people at sd109 voiced an interest in such custom unicode operators.\n> \n\n\nI'd like that very much, too. Is the preparser also capable of something like\n\ntype \"\\otimes\" -> press `TAB` -> unicode character pops up\n\nsimilarly to Greek letters in Py3 right now?",
    "created_at": "2021-01-23T14:42:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459598",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:6'></a>Replying to [comment:5 gh-mwageringel]:
> Replying to [comment:4 gh-mjungmath]:
> > Is it also possible to entail the first two characters as operators in Python code?

> 
> That is not possible in Python, but it could be added to the Sage preparser, as has been done for the [backslash operator](https://gitlab.com/sagemath/sage/-/blob/13b40902a9a8c7157957cbc61ebc5e3934c331fc/src/sage/repl/preparse.py#L1836). Some people at sd109 voiced an interest in such custom unicode operators.
> 


I'd like that very much, too. Is the preparser also capable of something like

type "\otimes" -> press `TAB` -> unicode character pops up

similarly to Greek letters in Py3 right now?



---

archive/issue_comments_459599.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 gh-mjungmath]:\n> Is the preparser also capable of something like\n> \n> type \"\\otimes\" -> press `TAB` -> unicode character pops up\n> \n> similarly to Greek letters in Py3 right now?\n\n\nThat is an IPython feature, which does not seem to be implemented for operators like `\\otimes`. The preparser is not capable of this.",
    "created_at": "2021-01-23T14:50:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459599",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:7'></a>Replying to [comment:6 gh-mjungmath]:
> Is the preparser also capable of something like
> 
> type "\otimes" -> press `TAB` -> unicode character pops up
> 
> similarly to Greek letters in Py3 right now?


That is an IPython feature, which does not seem to be implemented for operators like `\otimes`. The preparser is not capable of this.



---

archive/issue_comments_459600.json:
```json
{
    "body": "<a id='comment:8'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459600",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_079109.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30473#event-79109"
}
```



---

archive/issue_events_079110.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30473#event-79110"
}
```



---

archive/issue_comments_459601.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -2,6 +2,11 @@\n * \\`/\\\\` by \u2227 (U+2227)\n * \\`*\\` by \u2297 (U+2297) for tensor products  \n * \\`-->\\` by \u2192 (U+2192), \\`|-->\\` by \u21a6 (U+21A6)\n+\n+Some references:\n+- https://docs.python.org/3/howto/unicode.html\n+- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject\n+- https://unicode.org/charts/PDF/U2200.pdf\n \n Comment: 1\n \n```\n",
    "created_at": "2021-06-25T09:41:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459601",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
```diff
--- 
+++ 
@@ -2,6 +2,11 @@
 * \`/\\` by ∧ (U+2227)
 * \`*\` by ⊗ (U+2297) for tensor products  
 * \`-->\` by → (U+2192), \`|-->\` by ↦ (U+21A6)
+
+Some references:
+- https://docs.python.org/3/howto/unicode.html
+- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject
+- https://unicode.org/charts/PDF/U2200.pdf
 
 Comment: 1
 
```




---

archive/issue_comments_459602.json:
```json
{
    "body": "<a id='comment:10'></a>I gave it a try, by changing line 736 of `src/sage/tensor/modules/free_module_tensor.py`:\n\n```diff\n-                basis_term_txt = \"*\".join(bases_txt)\n+                basis_term_txt = \"\\u2297\".join(bases_txt)\n```\nand changing doctests accordingly. Everything seems OK with doctests and the html documentation.\nHowever, generating the pdf documentation by \n\n```\nsage -docbuild reference/tensor_free_modules pdf\n```\nfailed, with the error:\n\n```\n! Package inputenc Error: Unicode character \u2297 (U+2297)\n(inputenc)                not set up for use with LaTeX.\n```\nI had to add the following line in `src/sage/docs/conf.py` (after line 407):\n\n```\n    \\DeclareUnicodeCharacter{2297}{\\ensuremath{\\otimes}}\n```\nto make the pdf documentation build without any error. The pdf output is fine (the tensor product operator is correctly displayed). However, before to proceed, I would like to know if this the correct way to fix the pdf doc building...",
    "created_at": "2021-06-25T09:54:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459602",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:10'></a>I gave it a try, by changing line 736 of `src/sage/tensor/modules/free_module_tensor.py`:

```diff
-                basis_term_txt = "*".join(bases_txt)
+                basis_term_txt = "\u2297".join(bases_txt)
```
and changing doctests accordingly. Everything seems OK with doctests and the html documentation.
However, generating the pdf documentation by 

```
sage -docbuild reference/tensor_free_modules pdf
```
failed, with the error:

```
! Package inputenc Error: Unicode character ⊗ (U+2297)
(inputenc)                not set up for use with LaTeX.
```
I had to add the following line in `src/sage/docs/conf.py` (after line 407):

```
    \DeclareUnicodeCharacter{2297}{\ensuremath{\otimes}}
```
to make the pdf documentation build without any error. The pdf output is fine (the tensor product operator is correctly displayed). However, before to proceed, I would like to know if this the correct way to fix the pdf doc building...



---

archive/issue_comments_459603.json:
```json
{
    "body": "<a id='comment:11'></a>There is already a tensor product somewhere, with no pdf problem:\n\n```\nsage: A=algebras.FreeDendriform(QQ,'a')  \nsage: %display unicode_art                                                      \nsage: a=A.an_element()                                                          \nsage: A.coproduct(a)                                                            \n1 \u2a02 B  + 2*1 \u2a02 B    + 2*1 \u2a02 B    + B  \u2a02 1 + 4*B  \u2a02 B  + 2*B    \u2a02 1 + 2*B    \u2a02 1\n     a          a              a    a          a    a      a              a    \n                 \u2572            \u2571                             \u2572            \u2571     \n                  a          a                               a          a   \n```\n\n***EDIT***\n\n```\ngit grep \"\u2a02\" src/sage\nsrc/sage/categories/signed_tensor.py:    unicode_symbol = \" \u2a02 \"\nsrc/sage/categories/tensor.py:    unicode_symbol = \" \u2a02 \"\nsrc/sage/combinat/free_module.py:                R    \u2a02 R\n```\n\n*EDIT* : But in fact, it does not appear in pdf doc, because it's only in hidden methods.",
    "created_at": "2021-06-25T10:40:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459603",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>There is already a tensor product somewhere, with no pdf problem:

```
sage: A=algebras.FreeDendriform(QQ,'a')  
sage: %display unicode_art                                                      
sage: a=A.an_element()                                                          
sage: A.coproduct(a)                                                            
1 ⨂ B  + 2*1 ⨂ B    + 2*1 ⨂ B    + B  ⨂ 1 + 4*B  ⨂ B  + 2*B    ⨂ 1 + 2*B    ⨂ 1
     a          a              a    a          a    a      a              a    
                 ╲            ╱                             ╲            ╱     
                  a          a                               a          a   
```

***EDIT***

```
git grep "⨂" src/sage
src/sage/categories/signed_tensor.py:    unicode_symbol = " ⨂ "
src/sage/categories/tensor.py:    unicode_symbol = " ⨂ "
src/sage/combinat/free_module.py:                R    ⨂ R
```

*EDIT* : But in fact, it does not appear in pdf doc, because it's only in hidden methods.



---

archive/issue_comments_459604.json:
```json
{
    "body": "<a id='comment:12'></a>Replying to [comment:11 chapoton]:\n> There is already a tensor product somewhere, with no pdf problem:\n> > \n\n> *EDIT* : But in fact, it does not appear in pdf doc, because it's only in hidden methods.\n\nThank you for pointing out the existence of \u2a02 in `src/sage/categories/tensor.py`. It is U+2A02 (unicode name: *n-ary circled times operator*), while U+2297 is for \u2297 (unicode name: *circled times*). In terms of readability, U+2A02 is much better than U+2297, so we should definitely use U+2A02.",
    "created_at": "2021-06-25T12:45:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459604",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:12'></a>Replying to [comment:11 chapoton]:
> There is already a tensor product somewhere, with no pdf problem:
> > 

> *EDIT* : But in fact, it does not appear in pdf doc, because it's only in hidden methods.

Thank you for pointing out the existence of ⨂ in `src/sage/categories/tensor.py`. It is U+2A02 (unicode name: *n-ary circled times operator*), while U+2297 is for ⊗ (unicode name: *circled times*). In terms of readability, U+2A02 is much better than U+2297, so we should definitely use U+2A02.



---

archive/issue_comments_459605.json:
```json
{
    "body": "<a id='comment:13'></a>With U+2A02, I had to perform the following change to `src/sage/docs/conf.py` to get the pdf doc built:\n\n```diff\n-    \\DeclareUnicodeCharacter{2A02}{\\otimes}\n+    \\DeclareUnicodeCharacter{2A02}{\\ensuremath{\\otimes}}\n```\nThe output pdf looks OK.",
    "created_at": "2021-06-25T12:57:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459605",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:13'></a>With U+2A02, I had to perform the following change to `src/sage/docs/conf.py` to get the pdf doc built:

```diff
-    \DeclareUnicodeCharacter{2A02}{\otimes}
+    \DeclareUnicodeCharacter{2A02}{\ensuremath{\otimes}}
```
The output pdf looks OK.



---

archive/issue_comments_459606.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,13 @@\n+replacing\n+* \\`/\\\\` by \u2227 (U+2227)\n+* \\`*\\` by \u2297 (U+2297) for tensor products  \n+* \\`-->\\` by \u2192 (U+2192), \\`|-->\\` by \u21a6 (U+21A6)\n \n+Some references:\n+- https://docs.python.org/3/howto/unicode.html\n+- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject\n+- https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode\n+- https://unicode.org/charts/PDF/U2200.pdf\n \n Comment: 1\n \n```\n",
    "created_at": "2021-06-25T15:22:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459606",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,13 @@
+replacing
+* \`/\\` by ∧ (U+2227)
+* \`*\` by ⊗ (U+2297) for tensor products  
+* \`-->\` by → (U+2192), \`|-->\` by ↦ (U+21A6)
 
+Some references:
+- https://docs.python.org/3/howto/unicode.html
+- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject
+- https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode
+- https://unicode.org/charts/PDF/U2200.pdf
 
 Comment: 1
 
```




---

archive/issue_comments_459607.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,14 @@\n+replacing\n+* \\`/\\\\` by \u2227 (U+2227)\n+* \\`*\\` by \u2297 (U+2297) for tensor products  \n+* \\`-->\\` by \u2192 (U+2192), \\`|-->\\` by \u21a6 (U+21A6)\n+* \\`d/dx\\` by \u2202/\u2202x, etc. (U+2202)\n \n+Some references:\n+- https://docs.python.org/3/howto/unicode.html\n+- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject\n+- https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode\n+- https://unicode.org/charts/PDF/U2200.pdf\n \n Comment: 1\n \n```\n",
    "created_at": "2021-06-25T15:38:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459607",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,14 @@
+replacing
+* \`/\\` by ∧ (U+2227)
+* \`*\` by ⊗ (U+2297) for tensor products  
+* \`-->\` by → (U+2192), \`|-->\` by ↦ (U+21A6)
+* \`d/dx\` by ∂/∂x, etc. (U+2202)
 
+Some references:
+- https://docs.python.org/3/howto/unicode.html
+- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject
+- https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode
+- https://unicode.org/charts/PDF/U2200.pdf
 
 Comment: 1
 
```




---

archive/issue_comments_459608.json:
```json
{
    "body": "<a id='comment:16'></a>You may want to make this change on top of the branch of #31880, which touches the same file, to avoid merge conflicts",
    "created_at": "2021-06-25T18:28:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459608",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>You may want to make this change on top of the branch of #31880, which touches the same file, to avoid merge conflicts



---

archive/issue_comments_459609.json:
```json
{
    "body": "<a id='comment:17'></a>Replying to [comment:12 egourgoulhon]:\n> In terms of readability, U+2A02 is much better than U+2297, so we should definitely use U+2A02. \n\n\nI am in favor of U+2297, as it is used as a binary operator. The n-ary operator would correspond to `\\bigotimes` in tex instead. At least with the Dejavu Sans Mono font, the binary operator looks good to me, whereas the n-ary operator U+2A02 is too wide for a monospaced font (which could lead to misaligned unicode art).\n\nReplying to [comment:10 egourgoulhon]:\n> However, before to proceed, I would like to know if this the correct way to fix the pdf doc building...\n\n\nYes, this is the correct way to add support for unicode characters to the pdf documentation.",
    "created_at": "2021-06-25T20:55:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459609",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:17'></a>Replying to [comment:12 egourgoulhon]:
> In terms of readability, U+2A02 is much better than U+2297, so we should definitely use U+2A02. 


I am in favor of U+2297, as it is used as a binary operator. The n-ary operator would correspond to `\bigotimes` in tex instead. At least with the Dejavu Sans Mono font, the binary operator looks good to me, whereas the n-ary operator U+2A02 is too wide for a monospaced font (which could lead to misaligned unicode art).

Replying to [comment:10 egourgoulhon]:
> However, before to proceed, I would like to know if this the correct way to fix the pdf doc building...


Yes, this is the correct way to add support for unicode characters to the pdf documentation.



---

archive/issue_comments_459610.json:
```json
{
    "body": "Attachment [tensor_product-2A02.png](tarball://root/attachments/some-uuid/ticket30473/tensor_product-2A02.png) by @egourgoulhon created at 2021-06-26 13:50:54",
    "created_at": "2021-06-26T13:50:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459610",
    "user": "https://github.com/egourgoulhon"
}
```

Attachment [tensor_product-2A02.png](tarball://root/attachments/some-uuid/ticket30473/tensor_product-2A02.png) by @egourgoulhon created at 2021-06-26 13:50:54



---

archive/issue_comments_459611.json:
```json
{
    "body": "Attachment [tensor_product-2297.png](tarball://root/attachments/some-uuid/ticket30473/tensor_product-2297.png) by @egourgoulhon created at 2021-06-26 13:51:22",
    "created_at": "2021-06-26T13:51:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459611",
    "user": "https://github.com/egourgoulhon"
}
```

Attachment [tensor_product-2297.png](tarball://root/attachments/some-uuid/ticket30473/tensor_product-2297.png) by @egourgoulhon created at 2021-06-26 13:51:22



---

archive/issue_comments_459612.json:
```json
{
    "body": "<a id='comment:18'></a>Attachment [tensor_product_Ubuntu_Mono_13.png](tarball://root/attachments/some-uuid/ticket30473/tensor_product_Ubuntu_Mono_13.png) by @egourgoulhon created at 2021-06-26 14:05:39\n\nReplying to [comment:17 gh-mwageringel]:\n> Replying to [comment:12 egourgoulhon]:\n> > In terms of readability, U+2A02 is much better than U+2297, so we should definitely use U+2A02. \n\n> \n> I am in favor of U+2297, as it is used as a binary operator. The n-ary operator would correspond to `\\bigotimes` in tex instead. At least with the Dejavu Sans Mono font, the binary operator looks good to me, whereas the n-ary operator U+2A02 is too wide for a monospaced font (which could lead to misaligned unicode art).\n\n\nMy initial preference for U+2A02 came from the appearance in Sage's console in the Ubuntu terminal (font: Monospace Regular 13): \n\n- for U+2A02: ![](tensor_product-2A02.png)\n- for U+2297: ![](tensor_product-2297.png) \n\nHowever, when cutting and pasting to gedit (font: Ubuntu Mono 13), we get:\n\n![](tensor_product_Ubuntu_Mono_13.png)\n\nAs you said, U+2A02 appears too large. So, unless someone argues against it, I am going to revert to U+2297. It's also more natural since U+2297 is the standard symbol for tensor product as a binary operator, as your pointed out. Thanks for your advice!\n\n> \n> Replying to [comment:10 egourgoulhon]:\n> > However, before to proceed, I would like to know if this the correct way to fix the pdf doc building...\n\n> \n> Yes, this is the correct way to add support for unicode characters to the pdf documentation.\n\n\nThanks for your answer!",
    "created_at": "2021-06-26T14:05:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459612",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:18'></a>Attachment [tensor_product_Ubuntu_Mono_13.png](tarball://root/attachments/some-uuid/ticket30473/tensor_product_Ubuntu_Mono_13.png) by @egourgoulhon created at 2021-06-26 14:05:39

Replying to [comment:17 gh-mwageringel]:
> Replying to [comment:12 egourgoulhon]:
> > In terms of readability, U+2A02 is much better than U+2297, so we should definitely use U+2A02. 

> 
> I am in favor of U+2297, as it is used as a binary operator. The n-ary operator would correspond to `\bigotimes` in tex instead. At least with the Dejavu Sans Mono font, the binary operator looks good to me, whereas the n-ary operator U+2A02 is too wide for a monospaced font (which could lead to misaligned unicode art).


My initial preference for U+2A02 came from the appearance in Sage's console in the Ubuntu terminal (font: Monospace Regular 13): 

- for U+2A02: ![](tensor_product-2A02.png)
- for U+2297: ![](tensor_product-2297.png) 

However, when cutting and pasting to gedit (font: Ubuntu Mono 13), we get:

![](tensor_product_Ubuntu_Mono_13.png)

As you said, U+2A02 appears too large. So, unless someone argues against it, I am going to revert to U+2297. It's also more natural since U+2297 is the standard symbol for tensor product as a binary operator, as your pointed out. Thanks for your advice!

> 
> Replying to [comment:10 egourgoulhon]:
> > However, before to proceed, I would like to know if this the correct way to fix the pdf doc building...

> 
> Yes, this is the correct way to add support for unicode characters to the pdf documentation.


Thanks for your answer!



---

archive/issue_comments_459613.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [comment:16 mkoeppe]:\n> You may want to make this change on top of the branch of #31880, which touches the same file, to avoid merge conflicts\n\nThanks for the advice; however this ticket has no logical connection with #31880 and the merge conflict in `src/sage/docs/conf.py` will be a trivial one. Moreover, since I am touching almost all files in `src/sage/manifolds` and `src/sage/tensor/modules`, there will be merge conflicts with the next beta anyway.",
    "created_at": "2021-06-26T17:51:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459613",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:19'></a>Replying to [comment:16 mkoeppe]:
> You may want to make this change on top of the branch of #31880, which touches the same file, to avoid merge conflicts

Thanks for the advice; however this ticket has no logical connection with #31880 and the merge conflict in `src/sage/docs/conf.py` will be a trivial one. Moreover, since I am touching almost all files in `src/sage/manifolds` and `src/sage/tensor/modules`, there will be merge conflicts with the next beta anyway.



---

archive/issue_comments_459614.json:
```json
{
    "body": "<a id='comment:20'></a>Here is a preliminary version, which implements `\u2297` and `\u2227`. There remains to implement `\u2192`, `\u21a6` and `\u2202` (I shall do it tomorrow).\n\n---\nNew commits:",
    "created_at": "2021-06-27T15:35:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459614",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:20'></a>Here is a preliminary version, which implements `⊗` and `∧`. There remains to implement `→`, `↦` and `∂` (I shall do it tomorrow).

---
New commits:



---

archive/issue_comments_459615.json:
```json
{
    "body": "<a id='comment:21'></a>Perhaps it might be a good idea to refactor the code in such a way that the symbols can be changed easily? Something like global variables such as `wedge_symbol`?\n\nThis might have the following benefits:\n\n- Unification throughout Sage, i.e. tensor products are used not only for free modules.\n- It is easier to change if we are not quite satisfied with the result at a later point.",
    "created_at": "2021-06-27T17:47:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459615",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:21'></a>Perhaps it might be a good idea to refactor the code in such a way that the symbols can be changed easily? Something like global variables such as `wedge_symbol`?

This might have the following benefits:

- Unification throughout Sage, i.e. tensor products are used not only for free modules.
- It is easier to change if we are not quite satisfied with the result at a later point.



---

archive/issue_comments_459616.json:
```json
{
    "body": "<a id='comment:22'></a>Replying to [comment:21 gh-mjungmath]:\n> Perhaps it might be a good idea to refactor the code in such a way that the symbols can be changed easily? Something like global variables such as `wedge_symbol`?\n\n\n+1",
    "created_at": "2021-06-27T23:22:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459616",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:22'></a>Replying to [comment:21 gh-mjungmath]:
> Perhaps it might be a good idea to refactor the code in such a way that the symbols can be changed easily? Something like global variables such as `wedge_symbol`?


+1



---

archive/issue_comments_459617.json:
```json
{
    "body": "<a id='comment:23'></a>Replying to [comment:21 gh-mjungmath]:\n> Perhaps it might be a good idea to refactor the code in such a way that the symbols can be changed easily? Something like global variables such as `wedge_symbol`?\n> \n\nI don't think it's worth to clutter Sage's global variables for such a thing. There aren't actually so many unicode options. For instance, for the tensor product of tensor fields, there are two of them: U+2297 and U+2A02 and the discussion in comment:17 and comment:18 reveals that U+2A02 is not appropriate. Moreover, it is quite easy to spot where the symbols are implemented in Sage's code: from `src/sage`,\n\n```\ngit grep 'u2297'\n```\nyields\n\n```\ntensor/modules/free_module_tensor.py:                basis_term_txt = \"\\u2297\".join(bases_txt)\ntensor/modules/free_module_tensor.py:            result._name = format_mul_txt(self._name, '\\u2297', other._name)\n```\nBy the way, this is the reason why I used `basis_term_txt = \"\\u2297\".join(bases_txt)` instead of `basis_term_txt = \"\u2297\".join(bases_txt)`, which would have been equivalent in terms of output.\n\nIn any case, I would vote for the discussion about global variables to be deferred to another ticket. To minimize merge conflicts, it would be helpful to have the current ticket merged not too late.",
    "created_at": "2021-06-28T06:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459617",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:23'></a>Replying to [comment:21 gh-mjungmath]:
> Perhaps it might be a good idea to refactor the code in such a way that the symbols can be changed easily? Something like global variables such as `wedge_symbol`?
> 

I don't think it's worth to clutter Sage's global variables for such a thing. There aren't actually so many unicode options. For instance, for the tensor product of tensor fields, there are two of them: U+2297 and U+2A02 and the discussion in comment:17 and comment:18 reveals that U+2A02 is not appropriate. Moreover, it is quite easy to spot where the symbols are implemented in Sage's code: from `src/sage`,

```
git grep 'u2297'
```
yields

```
tensor/modules/free_module_tensor.py:                basis_term_txt = "\u2297".join(bases_txt)
tensor/modules/free_module_tensor.py:            result._name = format_mul_txt(self._name, '\u2297', other._name)
```
By the way, this is the reason why I used `basis_term_txt = "\u2297".join(bases_txt)` instead of `basis_term_txt = "⊗".join(bases_txt)`, which would have been equivalent in terms of output.

In any case, I would vote for the discussion about global variables to be deferred to another ticket. To minimize merge conflicts, it would be helpful to have the current ticket merged not too late.



---

archive/issue_comments_459618.json:
```json
{
    "body": "<a id='comment:24'></a>Maybe add a comment? And use single quotes both times?\n\n```diff\n-                basis_term_txt = \"\\u2297\".join(bases_txt)\n+                # Unicode character '\\u2297' is '\u2297'; see ticket #30473\n+                basis_term_txt = '\\u2297'.join(bases_txt)\n```\n\n```diff\n+            # Unicode character '\\u2297' is '\u2297'; see ticket #30473\n             result._name = format_mul_txt(self._name, '\\u2297', other._name)\n```",
    "created_at": "2021-06-28T08:34:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459618",
    "user": "https://github.com/slel"
}
```

<a id='comment:24'></a>Maybe add a comment? And use single quotes both times?

```diff
-                basis_term_txt = "\u2297".join(bases_txt)
+                # Unicode character '\u2297' is '⊗'; see ticket #30473
+                basis_term_txt = '\u2297'.join(bases_txt)
```

```diff
+            # Unicode character '\u2297' is '⊗'; see ticket #30473
             result._name = format_mul_txt(self._name, '\u2297', other._name)
```



---

archive/issue_comments_459619.json:
```json
{
    "body": "<a id='comment:25'></a>I just see that all three `display` methods basically contain the same code. I think some common parts should be outsourced for example in `sage.tensor.format_utilities`.\n\nThis might also be useful in view of mixed forms, which have their own `display` method as well.",
    "created_at": "2021-06-28T09:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459619",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:25'></a>I just see that all three `display` methods basically contain the same code. I think some common parts should be outsourced for example in `sage.tensor.format_utilities`.

This might also be useful in view of mixed forms, which have their own `display` method as well.



---

archive/issue_comments_459620.json:
```json
{
    "body": "<a id='comment:26'></a>`@`Eric: Could you change the wedge symbol in `mixed_form.py` as well please?",
    "created_at": "2021-06-28T09:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459620",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:26'></a>`@`Eric: Could you change the wedge symbol in `mixed_form.py` as well please?



---

archive/issue_comments_459621.json:
```json
{
    "body": "<a id='comment:27'></a>Replying to [comment:26 gh-mjungmath]:\n> `@`Eric: Could you change the wedge symbol in `mixed_form.py` as well please?\n\nThis is already done, see https://git.sagemath.org/sage.git/diff/src/sage/manifolds/differentiable/mixed_form.py?id=f6bcc9d7e94ee770679c58d9e06ed0ed6f29f94b&id2=a60179ab6b642246ee54120e43fdf9663afe5638",
    "created_at": "2021-06-28T10:22:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459621",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:27'></a>Replying to [comment:26 gh-mjungmath]:
> `@`Eric: Could you change the wedge symbol in `mixed_form.py` as well please?

This is already done, see https://git.sagemath.org/sage.git/diff/src/sage/manifolds/differentiable/mixed_form.py?id=f6bcc9d7e94ee770679c58d9e06ed0ed6f29f94b&id2=a60179ab6b642246ee54120e43fdf9663afe5638



---

archive/issue_comments_459622.json:
```json
{
    "body": "<a id='comment:28'></a>I wasn't thinking of adding this to the global namespace, but having a file where people can import the symbols to use in their string outputs.",
    "created_at": "2021-06-28T10:46:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459622",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:28'></a>I wasn't thinking of adding this to the global namespace, but having a file where people can import the symbols to use in their string outputs.



---

archive/issue_comments_459623.json:
```json
{
    "body": "<a id='comment:29'></a>Replying to [comment:27 egourgoulhon]:\n> Replying to [comment:26 gh-mjungmath]:\n> > `@`Eric: Could you change the wedge symbol in `mixed_form.py` as well please?\n\n> This is already done, see https://git.sagemath.org/sage.git/diff/src/sage/manifolds/differentiable/mixed_form.py?id=f6bcc9d7e94ee770679c58d9e06ed0ed6f29f94b&id2=a60179ab6b642246ee54120e43fdf9663afe5638\n\nAh perfect. Sorry, haven't noticed. Thanks! :)",
    "created_at": "2021-06-28T11:06:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459623",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:29'></a>Replying to [comment:27 egourgoulhon]:
> Replying to [comment:26 gh-mjungmath]:
> > `@`Eric: Could you change the wedge symbol in `mixed_form.py` as well please?

> This is already done, see https://git.sagemath.org/sage.git/diff/src/sage/manifolds/differentiable/mixed_form.py?id=f6bcc9d7e94ee770679c58d9e06ed0ed6f29f94b&id2=a60179ab6b642246ee54120e43fdf9663afe5638

Ah perfect. Sorry, haven't noticed. Thanks! :)



---

archive/issue_comments_459624.json:
```json
{
    "body": "<a id='comment:30'></a>Replying to [comment:28 tscrim]:\n> I wasn't thinking of adding this to the global namespace, but having a file where people can import the symbols to use in their string outputs.\n\nYes, that's what I understood, but IMHO this implies some discussion: \n- where to put this file?\n- shall we homogenize between various parts of Sage? (for instance as pointed out in comment:11, tensor products of modules use U+2A02 (\\bigotimes), while here, we are using here U+2297 (\\otimes) for tensor products of elements)\n- how to name the Python variables? (I would suggest a naming convention from the LaTeX names of the symbols, e.g. something like `unicode_otimes`, `unicode_mapsto`, etc.)\n- how to articulate this file with `src/sage/docs/conf.py`? (i.e. ensure that each time a new variable is added to this file, it will be taken into account in `conf.py`)\n\nFor this reason, I would prefer this to be done in another ticket.",
    "created_at": "2021-06-28T13:07:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459624",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:30'></a>Replying to [comment:28 tscrim]:
> I wasn't thinking of adding this to the global namespace, but having a file where people can import the symbols to use in their string outputs.

Yes, that's what I understood, but IMHO this implies some discussion: 
- where to put this file?
- shall we homogenize between various parts of Sage? (for instance as pointed out in comment:11, tensor products of modules use U+2A02 (\bigotimes), while here, we are using here U+2297 (\otimes) for tensor products of elements)
- how to name the Python variables? (I would suggest a naming convention from the LaTeX names of the symbols, e.g. something like `unicode_otimes`, `unicode_mapsto`, etc.)
- how to articulate this file with `src/sage/docs/conf.py`? (i.e. ensure that each time a new variable is added to this file, it will be taken into account in `conf.py`)

For this reason, I would prefer this to be done in another ticket.



---

archive/issue_comments_459625.json:
```json
{
    "body": "<a id='comment:31'></a>Replying to [comment:25 gh-mjungmath]:\n> I just see that all three `display` methods basically contain the same code. I think some common parts should be outsourced for example in `sage.tensor.format_utilities`.\n\n\nYes certainly, but in another ticket.",
    "created_at": "2021-06-28T13:08:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459625",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:31'></a>Replying to [comment:25 gh-mjungmath]:
> I just see that all three `display` methods basically contain the same code. I think some common parts should be outsourced for example in `sage.tensor.format_utilities`.


Yes certainly, but in another ticket.



---

archive/issue_comments_459626.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-28T15:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459626",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_459627.json:
```json
{
    "body": "<a id='comment:33'></a>Here is a new provisory version, implementing `\u2192`, `\u21a6`, as well as `\u211d` and `\u2102` for the codomains of scalar fields on respectively real and complex manifolds. \n\nThere remains to implement `\u2202` for coordinate frames.",
    "created_at": "2021-06-28T15:26:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459627",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:33'></a>Here is a new provisory version, implementing `→`, `↦`, as well as `ℝ` and `ℂ` for the codomains of scalar fields on respectively real and complex manifolds. 

There remains to implement `∂` for coordinate frames.



---

archive/issue_comments_459628.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,16 @@\n+replacing\n+* \\`/\\\\` by \u2227 (U+2227)\n+* \\`*\\` by \u2297 (U+2297) for tensor products  \n+* \\`-->\\` by \u2192 (U+2192), \\`|-->\\` by \u21a6 (U+21A6)\n+* \\`d/dx\\` by \u2202/\u2202x, etc. (U+2202)\n+* \\`R\\` (real field) by \u211d (U+211D)\n+* \\`C\\` (complex field) by \u2102 (U+2102)\n \n+Some references:\n+- https://docs.python.org/3/howto/unicode.html\n+- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject\n+- https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode\n+- https://unicode.org/charts/PDF/U2200.pdf\n \n Comment: 1\n \n```\n",
    "created_at": "2021-06-28T15:27:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459628",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,16 @@
+replacing
+* \`/\\` by ∧ (U+2227)
+* \`*\` by ⊗ (U+2297) for tensor products  
+* \`-->\` by → (U+2192), \`|-->\` by ↦ (U+21A6)
+* \`d/dx\` by ∂/∂x, etc. (U+2202)
+* \`R\` (real field) by ℝ (U+211D)
+* \`C\` (complex field) by ℂ (U+2102)
 
+Some references:
+- https://docs.python.org/3/howto/unicode.html
+- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject
+- https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode
+- https://unicode.org/charts/PDF/U2200.pdf
 
 Comment: 1
 
```




---

archive/issue_comments_459629.json:
```json
{
    "body": "<a id='comment:35'></a>Replying to [comment:24 slelievre]:\n> Maybe add a comment? And use single quotes both times?\n> \n> ```diff\n> -                basis_term_txt = \"\\u2297\".join(bases_txt)\n> +                # Unicode character '\\u2297' is '\u2297'; see ticket #30473\n> +                basis_term_txt = '\\u2297'.join(bases_txt)\n> ```\n\n\nThanks for the suggestion. This is done in the latest version (comment:32).",
    "created_at": "2021-06-28T15:29:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459629",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:35'></a>Replying to [comment:24 slelievre]:
> Maybe add a comment? And use single quotes both times?
> 
> ```diff
> -                basis_term_txt = "\u2297".join(bases_txt)
> +                # Unicode character '\u2297' is '⊗'; see ticket #30473
> +                basis_term_txt = '\u2297'.join(bases_txt)
> ```


Thanks for the suggestion. This is done in the latest version (comment:32).



---

archive/issue_comments_459630.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,17 @@\n+replacing\n+* \\`/\\\\` by \u2227 (U+2227)\n+* \\`*\\` by \u2297 (U+2297) for tensor products  \n+* \\`-->\\` by \u2192 (U+2192), \\`|-->\\` by \u21a6 (U+21A6)\n+* \\`d/dx\\` by \u2202/\u2202x, etc. (U+2202)\n+* \\`R\\` (real field) by \u211d (U+211D)\n+* \\`C\\` (complex field) by \u2102 (U+2102)\n \n+Some references:\n+- https://docs.python.org/3/howto/unicode.html\n+- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject\n+- https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode\n+- https://unicode.org/charts/PDF/U2200.pdf\n+- https://unicode.org/charts/PDF/U2100.pdf\n \n Comment: 1\n \n```\n",
    "created_at": "2021-06-28T15:35:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459630",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,17 @@
+replacing
+* \`/\\` by ∧ (U+2227)
+* \`*\` by ⊗ (U+2297) for tensor products  
+* \`-->\` by → (U+2192), \`|-->\` by ↦ (U+21A6)
+* \`d/dx\` by ∂/∂x, etc. (U+2202)
+* \`R\` (real field) by ℝ (U+211D)
+* \`C\` (complex field) by ℂ (U+2102)
 
+Some references:
+- https://docs.python.org/3/howto/unicode.html
+- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject
+- https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode
+- https://unicode.org/charts/PDF/U2200.pdf
+- https://unicode.org/charts/PDF/U2100.pdf
 
 Comment: 1
 
```




---

archive/issue_comments_459631.json:
```json
{
    "body": "<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-29T11:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459631",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_459632.json:
```json
{
    "body": "<a id='comment:38'></a>Replying to [comment:30 egourgoulhon]:\n> Replying to [comment:28 tscrim]:\n> > I wasn't thinking of adding this to the global namespace, but having a file where people can import the symbols to use in their string outputs.\n\n> Yes, that's what I understood, but IMHO this implies some discussion [...]\n> \n> For this reason, I would prefer this to be done in another ticket.\n\n\nHaving slept on it, I've finally included this in the current ticket ;-)  \n\nI've put the file defining Python identifiers for Unicode characters in `src/sage/typeset` and named it `unicode_characters.py`, cf. \nhttps://github.com/sagemath/sagetrac-mirror/blob/master/src/sage/typeset/unicode_characters.py?id=4e13ffa05615e91d6b266660481516c72c39d25e\n\nI've also included it in the reference manual, in the section \"Programming -> Utilities -> Formatted Output -> Unicode characters\".\n\nRegarding the last point of :comment:30, there is no (automatic) articulation with `src/sage/docs/conf.py` yet.",
    "created_at": "2021-06-29T12:06:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459632",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:38'></a>Replying to [comment:30 egourgoulhon]:
> Replying to [comment:28 tscrim]:
> > I wasn't thinking of adding this to the global namespace, but having a file where people can import the symbols to use in their string outputs.

> Yes, that's what I understood, but IMHO this implies some discussion [...]
> 
> For this reason, I would prefer this to be done in another ticket.


Having slept on it, I've finally included this in the current ticket ;-)  

I've put the file defining Python identifiers for Unicode characters in `src/sage/typeset` and named it `unicode_characters.py`, cf. 
https://github.com/sagemath/sagetrac-mirror/blob/master/src/sage/typeset/unicode_characters.py?id=4e13ffa05615e91d6b266660481516c72c39d25e

I've also included it in the reference manual, in the section "Programming -> Utilities -> Formatted Output -> Unicode characters".

Regarding the last point of :comment:30, there is no (automatic) articulation with `src/sage/docs/conf.py` yet.



---

archive/issue_comments_459633.json:
```json
{
    "body": "<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-29T14:00:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459633",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_459634.json:
```json
{
    "body": "<a id='comment:40'></a>In the above commit, I used the new file `unicode_characters.py` to deal with the symbol \u2a02 (bigotimes) pointed out in comment:11. Fr\u00e9d\u00e9ric, Travis, do you agree?",
    "created_at": "2021-06-29T14:06:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459634",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:40'></a>In the above commit, I used the new file `unicode_characters.py` to deal with the symbol ⨂ (bigotimes) pointed out in comment:11. Frédéric, Travis, do you agree?



---

archive/issue_comments_459635.json:
```json
{
    "body": "<a id='comment:41'></a>Have you considered formatted strings instead of additions?\n\n```diff\n-    unicode_symbol = \" \" + unicode_bigotimes + \" \"\n+    unicode_symbol = f\" {unicode_bigotimes} \"\n```",
    "created_at": "2021-06-29T15:43:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459635",
    "user": "https://github.com/slel"
}
```

<a id='comment:41'></a>Have you considered formatted strings instead of additions?

```diff
-    unicode_symbol = " " + unicode_bigotimes + " "
+    unicode_symbol = f" {unicode_bigotimes} "
```



---

archive/issue_comments_459636.json:
```json
{
    "body": "<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-29T17:35:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459636",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_459637.json:
```json
{
    "body": "<a id='comment:43'></a>Replying to [comment:41 slelievre]:\n> Have you considered formatted strings instead of additions?\n> \n> ```diff\n> -    unicode_symbol = \" \" + unicode_bigotimes + \" \"\n> +    unicode_symbol = f\" {unicode_bigotimes} \"\n> ```\n\nThanks for the tip; this is done in the latest version.",
    "created_at": "2021-06-29T17:38:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459637",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:43'></a>Replying to [comment:41 slelievre]:
> Have you considered formatted strings instead of additions?
> 
> ```diff
> -    unicode_symbol = " " + unicode_bigotimes + " "
> +    unicode_symbol = f" {unicode_bigotimes} "
> ```

Thanks for the tip; this is done in the latest version.



---

archive/issue_comments_459638.json:
```json
{
    "body": "<a id='comment:44'></a>I've added \u2202/\u2202... for the vector fields of coordinate frames and \u211d for the real line. So I think this is ready for review now.",
    "created_at": "2021-06-29T17:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459638",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:44'></a>I've added ∂/∂... for the vector fields of coordinate frames and ℝ for the real line. So I think this is ready for review now.



---

archive/issue_comments_459639.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-06-29T17:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459639",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_459640.json:
```json
{
    "body": "<a id='comment:45'></a>Shouldn't unicode output only be used if `%display unicode_art` is set? It is not set by default, which means that it would not be necessary to touch all the doctests in this ticket.\n\nAs unicode output requires the presence of suitable fonts, I think it might be best if it stays optional.",
    "created_at": "2021-06-29T18:36:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459640",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:45'></a>Shouldn't unicode output only be used if `%display unicode_art` is set? It is not set by default, which means that it would not be necessary to touch all the doctests in this ticket.

As unicode output requires the presence of suitable fonts, I think it might be best if it stays optional.



---

archive/issue_comments_459641.json:
```json
{
    "body": "<a id='comment:46'></a>Replying to [comment:45 gh-mwageringel]:\n> Shouldn't unicode output only be used if `%display unicode_art` is set? It is not set by default, which means that it would not be necessary to touch all the doctests in this ticket.\n\n\nNo, I don't think so. \"Unicode art\", in extension of \"ASCII art\", means to use multiline character art. Merely using non-ASCII characters does not make something unicode art.",
    "created_at": "2021-06-29T18:52:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459641",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:46'></a>Replying to [comment:45 gh-mwageringel]:
> Shouldn't unicode output only be used if `%display unicode_art` is set? It is not set by default, which means that it would not be necessary to touch all the doctests in this ticket.


No, I don't think so. "Unicode art", in extension of "ASCII art", means to use multiline character art. Merely using non-ASCII characters does not make something unicode art.



---

archive/issue_comments_459642.json:
```json
{
    "body": "<a id='comment:47'></a>(The title of the ticket should probably be changed.)",
    "created_at": "2021-06-29T18:54:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459642",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:47'></a>(The title of the ticket should probably be changed.)



---

archive/issue_comments_459643.json:
```json
{
    "body": "<a id='comment:48'></a>Replying to [comment:46 mkoeppe]:\n> No, I don't think so. \"Unicode art\", in extension of \"ASCII art\", means to use multiline character art. Merely using non-ASCII characters does not make something unicode art. \n\n\nOk, thanks for clarifying.",
    "created_at": "2021-06-29T19:04:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459643",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:48'></a>Replying to [comment:46 mkoeppe]:
> No, I don't think so. "Unicode art", in extension of "ASCII art", means to use multiline character art. Merely using non-ASCII characters does not make something unicode art. 


Ok, thanks for clarifying.



---

archive/issue_comments_459644.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,41 @@\n+Replacing\n+* \\`/\\\\` by \u2227 (U+2227)\n+* \\`*\\` by \u2297 (U+2297) for tensor products  \n+* \\`-->\\` by \u2192 (U+2192), \\`|-->\\` by \u21a6 (U+21A6)\n+* \\`d/dx\\` by \u2202/\u2202x, etc. (U+2202)\n+* \\`R\\` (real field) by \u211d (U+211D)\n+* \\`C\\` (complex field) by \u2102 (U+2102)\n \n+Some references:\n+- https://docs.python.org/3/howto/unicode.html\n+- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject\n+- https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode\n+- https://unicode.org/charts/PDF/U2200.pdf\n+- https://unicode.org/charts/PDF/U2100.pdf\n+\n+With the code introduced in this ticket, we have\n+\n+\\`\\`\\`\n+sage: M = Manifold(2, 'M')\n+sage: X.<x,y> = M.chart()\n+sage: M.identity_map().display()\n+Id_M: M \u2192 M\n+   (x, y) \u21a6 (x, y)\n+sage: M.zero_scalar_field().display()\n+zero: M \u2192 \u211d\n+   (x, y) \u21a6 0\n+sage: v = M.vector_field(-y, x, name='v')\n+sage: v.display()\n+v = -y \u2202/\u2202x + x \u2202/\u2202y\n+sage: f = M.scalar_field(x^2 + y^2, name='f')\n+sage: f.display()\n+f: M \u2192 \u211d\n+   (x, y) \u21a6 x^2 + y^2\n+sage: diff(f).display()\n+df = 2*x dx + 2*y dy\n+sage: (v*diff(f)).display()\n+v\u2297df = -2*x*y \u2202/\u2202x\u2297dx - 2*y^2 \u2202/\u2202x\u2297dy + 2*x^2 \u2202/\u2202y\u2297dx + 2*x*y \u2202/\u2202y\u2297dy\n+\\`\\`\\`\n \n Comment: 1\n \n```\n",
    "created_at": "2021-06-29T20:14:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459644",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,41 @@
+Replacing
+* \`/\\` by ∧ (U+2227)
+* \`*\` by ⊗ (U+2297) for tensor products  
+* \`-->\` by → (U+2192), \`|-->\` by ↦ (U+21A6)
+* \`d/dx\` by ∂/∂x, etc. (U+2202)
+* \`R\` (real field) by ℝ (U+211D)
+* \`C\` (complex field) by ℂ (U+2102)
 
+Some references:
+- https://docs.python.org/3/howto/unicode.html
+- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject
+- https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode
+- https://unicode.org/charts/PDF/U2200.pdf
+- https://unicode.org/charts/PDF/U2100.pdf
+
+With the code introduced in this ticket, we have
+
+\`\`\`
+sage: M = Manifold(2, 'M')
+sage: X.<x,y> = M.chart()
+sage: M.identity_map().display()
+Id_M: M → M
+   (x, y) ↦ (x, y)
+sage: M.zero_scalar_field().display()
+zero: M → ℝ
+   (x, y) ↦ 0
+sage: v = M.vector_field(-y, x, name='v')
+sage: v.display()
+v = -y ∂/∂x + x ∂/∂y
+sage: f = M.scalar_field(x^2 + y^2, name='f')
+sage: f.display()
+f: M → ℝ
+   (x, y) ↦ x^2 + y^2
+sage: diff(f).display()
+df = 2*x dx + 2*y dy
+sage: (v*diff(f)).display()
+v⊗df = -2*x*y ∂/∂x⊗dx - 2*y^2 ∂/∂x⊗dy + 2*x^2 ∂/∂y⊗dx + 2*x*y ∂/∂y⊗dy
+\`\`\`
 
 Comment: 1
 
```




---

archive/issue_comments_459645.json:
```json
{
    "body": "<a id='comment:50'></a>Replying to [comment:48 gh-mwageringel]:\n> Replying to [comment:46 mkoeppe]:\n> > No, I don't think so. \"Unicode art\", in extension of \"ASCII art\", means to use multiline character art. Merely using non-ASCII characters does not make something unicode art. \n\n> \n> Ok, thanks for clarifying.\n\nI've updated the ticket description to show the purpose of this ticket via some examples.",
    "created_at": "2021-06-29T20:18:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459645",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:50'></a>Replying to [comment:48 gh-mwageringel]:
> Replying to [comment:46 mkoeppe]:
> > No, I don't think so. "Unicode art", in extension of "ASCII art", means to use multiline character art. Merely using non-ASCII characters does not make something unicode art. 

> 
> Ok, thanks for clarifying.

I've updated the ticket description to show the purpose of this ticket via some examples.



---

archive/issue_comments_459646.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,45 @@\n+Replacing\n+* \\`/\\\\` by \u2227 (U+2227)\n+* \\`*\\` by \u2297 (U+2297) for tensor products  \n+* \\`-->\\` by \u2192 (U+2192), \\`|-->\\` by \u21a6 (U+21A6)\n+* \\`d/dx\\` by \u2202/\u2202x, etc. (U+2202)\n+* \\`R\\` (real field) by \u211d (U+211D)\n+* \\`C\\` (complex field) by \u2102 (U+2102)\n \n+Some references:\n+- https://docs.python.org/3/howto/unicode.html\n+- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject\n+- https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode\n+- https://unicode.org/charts/PDF/U2200.pdf\n+- https://unicode.org/charts/PDF/U2100.pdf\n+\n+With the code introduced in this ticket, we have\n+\n+\\`\\`\\`\n+sage: M = Manifold(2, 'M')\n+sage: X.<x,y> = M.chart()\n+sage: M.identity_map().display()\n+Id_M: M \u2192 M\n+   (x, y) \u21a6 (x, y)\n+sage: M.zero_scalar_field().display()\n+zero: M \u2192 \u211d\n+   (x, y) \u21a6 0\n+sage: v = M.vector_field(-y, x, name='v')\n+sage: v.display()\n+v = -y \u2202/\u2202x + x \u2202/\u2202y\n+sage: X.frame()\n+Coordinate frame (M, (\u2202/\u2202x,\u2202/\u2202y))\n+sage: v.wedge(X.frame()[0]).display()\n+v\u2227\u2202/\u2202x = -x \u2202/\u2202x\u2227\u2202/\u2202y\n+sage: f = M.scalar_field(x^2 + y^2, name='f')\n+sage: f.display()\n+f: M \u2192 \u211d\n+   (x, y) \u21a6 x^2 + y^2\n+sage: diff(f).display()\n+df = 2*x dx + 2*y dy\n+sage: (v*diff(f)).display()\n+v\u2297df = -2*x*y \u2202/\u2202x\u2297dx - 2*y^2 \u2202/\u2202x\u2297dy + 2*x^2 \u2202/\u2202y\u2297dx + 2*x*y \u2202/\u2202y\u2297dy\n+\\`\\`\\`\n \n Comment: 1\n \n```\n",
    "created_at": "2021-06-29T20:24:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459646",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,45 @@
+Replacing
+* \`/\\` by ∧ (U+2227)
+* \`*\` by ⊗ (U+2297) for tensor products  
+* \`-->\` by → (U+2192), \`|-->\` by ↦ (U+21A6)
+* \`d/dx\` by ∂/∂x, etc. (U+2202)
+* \`R\` (real field) by ℝ (U+211D)
+* \`C\` (complex field) by ℂ (U+2102)
 
+Some references:
+- https://docs.python.org/3/howto/unicode.html
+- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject
+- https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode
+- https://unicode.org/charts/PDF/U2200.pdf
+- https://unicode.org/charts/PDF/U2100.pdf
+
+With the code introduced in this ticket, we have
+
+\`\`\`
+sage: M = Manifold(2, 'M')
+sage: X.<x,y> = M.chart()
+sage: M.identity_map().display()
+Id_M: M → M
+   (x, y) ↦ (x, y)
+sage: M.zero_scalar_field().display()
+zero: M → ℝ
+   (x, y) ↦ 0
+sage: v = M.vector_field(-y, x, name='v')
+sage: v.display()
+v = -y ∂/∂x + x ∂/∂y
+sage: X.frame()
+Coordinate frame (M, (∂/∂x,∂/∂y))
+sage: v.wedge(X.frame()[0]).display()
+v∧∂/∂x = -x ∂/∂x∧∂/∂y
+sage: f = M.scalar_field(x^2 + y^2, name='f')
+sage: f.display()
+f: M → ℝ
+   (x, y) ↦ x^2 + y^2
+sage: diff(f).display()
+df = 2*x dx + 2*y dy
+sage: (v*diff(f)).display()
+v⊗df = -2*x*y ∂/∂x⊗dx - 2*y^2 ∂/∂x⊗dy + 2*x^2 ∂/∂y⊗dx + 2*x*y ∂/∂y⊗dy
+\`\`\`
 
 Comment: 1
 
```




---

archive/issue_comments_459647.json:
```json
{
    "body": "<a id='comment:52'></a>I think in `*TensorProductFunctor`, we should use `U+2297` -- i.e., `unicode_otimes` -- since it is a binary operator.",
    "created_at": "2021-06-29T23:28:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459647",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:52'></a>I think in `*TensorProductFunctor`, we should use `U+2297` -- i.e., `unicode_otimes` -- since it is a binary operator.



---

archive/issue_comments_459648.json:
```json
{
    "body": "<a id='comment:53'></a>Replying to [comment:7 gh-mwageringel]:\n> Replying to [comment:6 gh-mjungmath]:\n> > Is the preparser also capable of something like\n> > \n> > type \"\\otimes\" -> press `TAB` -> unicode character pops up\n> > \n> > similarly to Greek letters in Py3 right now?\n\n> \n> That is an IPython feature, which does not seem to be implemented for operators like `\\otimes`. The preparser is not capable of this.\n\n\nTh IPython feature could be hooked into. The relevant dictionaries are `IPython.core.latex_symbols.latex_symbols` and `IPython.core.latex_symbols.reverse_latex_symbols`. You could install new translations by updating those dictionaries. It would probably be worth trialing it a bit to see if there are unwanted side-effects (the dictionary may be used for other purposes -- the source mentions it's a list borrowed from Julia, with entries removed that do not yield valid Python identifiers)",
    "created_at": "2021-06-30T01:55:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459648",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:53'></a>Replying to [comment:7 gh-mwageringel]:
> Replying to [comment:6 gh-mjungmath]:
> > Is the preparser also capable of something like
> > 
> > type "\otimes" -> press `TAB` -> unicode character pops up
> > 
> > similarly to Greek letters in Py3 right now?

> 
> That is an IPython feature, which does not seem to be implemented for operators like `\otimes`. The preparser is not capable of this.


Th IPython feature could be hooked into. The relevant dictionaries are `IPython.core.latex_symbols.latex_symbols` and `IPython.core.latex_symbols.reverse_latex_symbols`. You could install new translations by updating those dictionaries. It would probably be worth trialing it a bit to see if there are unwanted side-effects (the dictionary may be used for other purposes -- the source mentions it's a list borrowed from Julia, with entries removed that do not yield valid Python identifiers)



---

archive/issue_comments_459649.json:
```json
{
    "body": "<a id='comment:54'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-30T19:58:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459649",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:54'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_459650.json:
```json
{
    "body": "<a id='comment:55'></a>Replying to [comment:52 tscrim]:\n> I think in `*TensorProductFunctor`, we should use `U+2297` -- i.e., `unicode_otimes` -- since it is a binary operator.\n\n\nDone in the latest commit. Incidently, note that this is doctested by only one test, in `src/sage/combinat/free_module.py`, and never shows up in the reference manual, as pointed out in comment:11.",
    "created_at": "2021-06-30T20:05:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459650",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:55'></a>Replying to [comment:52 tscrim]:
> I think in `*TensorProductFunctor`, we should use `U+2297` -- i.e., `unicode_otimes` -- since it is a binary operator.


Done in the latest commit. Incidently, note that this is doctested by only one test, in `src/sage/combinat/free_module.py`, and never shows up in the reference manual, as pointed out in comment:11.



---

archive/issue_comments_459651.json:
```json
{
    "body": "<a id='comment:56'></a>What's wrong with the patchbot? I'm looking forward for a positive review due to #30272.",
    "created_at": "2021-07-05T09:08:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459651",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:56'></a>What's wrong with the patchbot? I'm looking forward for a positive review due to #30272.



---

archive/issue_comments_459652.json:
```json
{
    "body": "<a id='comment:57'></a>Some patchbots are stuck due to #29977.",
    "created_at": "2021-07-05T09:12:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459652",
    "user": "https://github.com/slel"
}
```

<a id='comment:57'></a>Some patchbots are stuck due to #29977.



---

archive/issue_comments_459653.json:
```json
{
    "body": "<a id='comment:58'></a>\n```\nsage -t --random-seed=0 src/sage/manifolds/differentiable/diff_map.py\n**********************************************************************\nFile \"src/sage/manifolds/differentiable/diff_map.py\", line 933, in sage.manifolds.differentiable.diff_map.DiffMap.pullback\nFailed example:\n    gM.display()\nExpected:\n    (2*cos(t) + 2) dt*dt\nGot:\n    (2*cos(t) + 2) dt\u2297dt\n```",
    "created_at": "2021-07-05T16:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459653",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:58'></a>
```
sage -t --random-seed=0 src/sage/manifolds/differentiable/diff_map.py
**********************************************************************
File "src/sage/manifolds/differentiable/diff_map.py", line 933, in sage.manifolds.differentiable.diff_map.DiffMap.pullback
Failed example:
    gM.display()
Expected:
    (2*cos(t) + 2) dt*dt
Got:
    (2*cos(t) + 2) dt⊗dt
```



---

archive/issue_comments_459654.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-07-05T16:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459654",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_459655.json:
```json
{
    "body": "<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-05T17:14:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459655",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_459656.json:
```json
{
    "body": "<a id='comment:60'></a>Replying to [comment:58 mkoeppe]:\n> {{{\n> sage -t --random-seed=0 src/sage/manifolds/differentiable/diff_map.py\n> **********************************************************************\n> File \"src/sage/manifolds/differentiable/diff_map.py\", line 933, in sage.manifolds.differentiable.diff_map.DiffMap.pullback\n> Failed example:\n>     gM.display()\n> Expected:\n>     (2*cos(t) + 2) dt*dt\n> Got:\n>     (2*cos(t) + 2) dt\u2297dt\n> }}}\n\nThanks for pointing this out (this was due to the merge of #31904 in 9.4.beta4).",
    "created_at": "2021-07-05T17:16:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459656",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:60'></a>Replying to [comment:58 mkoeppe]:
> {{{
> sage -t --random-seed=0 src/sage/manifolds/differentiable/diff_map.py
> **********************************************************************
> File "src/sage/manifolds/differentiable/diff_map.py", line 933, in sage.manifolds.differentiable.diff_map.DiffMap.pullback
> Failed example:
>     gM.display()
> Expected:
>     (2*cos(t) + 2) dt*dt
> Got:
>     (2*cos(t) + 2) dt⊗dt
> }}}

Thanks for pointing this out (this was due to the merge of #31904 in 9.4.beta4).



---

archive/issue_comments_459657.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-07-05T17:16:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459657",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_459658.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-05T17:38:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459658",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_459659.json:
```json
{
    "body": "<a id='comment:62'></a>Thank you for the review!",
    "created_at": "2021-07-05T20:10:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459659",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:62'></a>Thank you for the review!



---

archive/issue_comments_459660.json:
```json
{
    "body": "<a id='comment:63'></a>I'm getting a lot of test failures of the form \n\n```\n**********************************************************************\nFile \"src/sage/calculus/functional.py\", line 145, in sage.calculus.functional.derivative\nFailed example:\n    derivative(a).display()\nExpected:\n    da = 2 dx/\\dy\nGot:\n    da = 2 dx\u2227dy\n**********************************************************************\n```\ncan you please do a whole `make ptestlong`",
    "created_at": "2021-07-07T20:55:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459660",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:63'></a>I'm getting a lot of test failures of the form 

```
**********************************************************************
File "src/sage/calculus/functional.py", line 145, in sage.calculus.functional.derivative
Failed example:
    derivative(a).display()
Expected:
    da = 2 dx/\dy
Got:
    da = 2 dx∧dy
**********************************************************************
```
can you please do a whole `make ptestlong`



---

archive/issue_comments_459661.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-07-07T20:55:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459661",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_459662.json:
```json
{
    "body": "<a id='comment:64'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-07T22:15:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459662",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:64'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_459663.json:
```json
{
    "body": "<a id='comment:65'></a>Replying to [comment:63 vbraun]:\n> I'm getting a lot of test failures of the form \n> [...]\n> can you please do a whole `make ptestlong`\n\n\nThanks for pointing this out. This is fixed in the latest commit.",
    "created_at": "2021-07-07T22:19:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459663",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:65'></a>Replying to [comment:63 vbraun]:
> I'm getting a lot of test failures of the form 
> [...]
> can you please do a whole `make ptestlong`


Thanks for pointing this out. This is fixed in the latest commit.



---

archive/issue_comments_459664.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-07-07T22:19:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459664",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_459665.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-07T23:06:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459665",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_079111.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-18T22:53:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30473#event-79111"
}
```



---

archive/issue_comments_459666.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-07-18T22:53:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30473#issuecomment-459666",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
