# Issue 30473: Unicode operators for sage.manifolds

archive/issues_030236.json:
```json
{
    "assignees": [],
    "body": "Replacing\n* `/\\` by \u2227 (U+2227)\n* `*` by \u2297 (U+2297) for tensor products  \n* `-->` by \u2192 (U+2192), `|-->` by \u21a6 (U+21A6)\n* `d/dx` by \u2202/\u2202x, etc. (U+2202)\n* `R` (real field) by \u211d (U+211D)\n* `C` (complex field) by \u2102 (U+2102)\n\nSome references:\n- https://docs.python.org/3/howto/unicode.html\n- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject\n- https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode\n- https://unicode.org/charts/PDF/U2200.pdf\n- https://unicode.org/charts/PDF/U2100.pdf\n\nWith the code introduced in this ticket, we have\n\n```\nsage: M = Manifold(2, 'M')\nsage: X.<x,y> = M.chart()\nsage: M.identity_map().display()\nId_M: M \u2192 M\n   (x, y) \u21a6 (x, y)\nsage: M.zero_scalar_field().display()\nzero: M \u2192 \u211d\n   (x, y) \u21a6 0\nsage: v = M.vector_field(-y, x, name='v')\nsage: v.display()\nv = -y \u2202/\u2202x + x \u2202/\u2202y\nsage: X.frame()\nCoordinate frame (M, (\u2202/\u2202x,\u2202/\u2202y))\nsage: v.wedge(X.frame()[0]).display()\nv\u2227\u2202/\u2202x = -x \u2202/\u2202x\u2227\u2202/\u2202y\nsage: f = M.scalar_field(x^2 + y^2, name='f')\nsage: f.display()\nf: M \u2192 \u211d\n   (x, y) \u21a6 x^2 + y^2\nsage: diff(f).display()\ndf = 2*x dx + 2*y dy\nsage: (v*diff(f)).display()\nv\u2297df = -2*x*y \u2202/\u2202x\u2297dx - 2*y^2 \u2202/\u2202x\u2297dy + 2*x^2 \u2202/\u2202y\u2297dx + 2*x*y \u2202/\u2202y\u2297dy\n```\n\nCC:  @egourgoulhon @tscrim @mwageringel @fchapoton\n\nComponent: **user interface**\n\nAuthor: **Eric Gourgoulhon**\n\nBranch/Commit: **[`f2ae50e`](https://github.com/sagemath/sagetrac-mirror/commit/f2ae50e68687b59af27e35a4ec02b0f667ea828c)**\n\nReviewer: **Matthias Koeppe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30473_\n\n",
    "closed_at": "2021-07-18T22:53:38Z",
    "created_at": "2020-08-30T16:45:36Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Unicode operators for sage.manifolds",
    "type": "issue",
    "updated_at": "2021-07-18T22:53:38Z",
    "url": "https://github.com/sagemath/sage/issues/30473",
    "user": "https://github.com/mkoeppe"
}
```
Replacing
* `/\` by ∧ (U+2227)
* `*` by ⊗ (U+2297) for tensor products  
* `-->` by → (U+2192), `|-->` by ↦ (U+21A6)
* `d/dx` by ∂/∂x, etc. (U+2202)
* `R` (real field) by ℝ (U+211D)
* `C` (complex field) by ℂ (U+2102)

Some references:
- https://docs.python.org/3/howto/unicode.html
- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject
- https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode
- https://unicode.org/charts/PDF/U2200.pdf
- https://unicode.org/charts/PDF/U2100.pdf

With the code introduced in this ticket, we have

```
sage: M = Manifold(2, 'M')
sage: X.<x,y> = M.chart()
sage: M.identity_map().display()
Id_M: M → M
   (x, y) ↦ (x, y)
sage: M.zero_scalar_field().display()
zero: M → ℝ
   (x, y) ↦ 0
sage: v = M.vector_field(-y, x, name='v')
sage: v.display()
v = -y ∂/∂x + x ∂/∂y
sage: X.frame()
Coordinate frame (M, (∂/∂x,∂/∂y))
sage: v.wedge(X.frame()[0]).display()
v∧∂/∂x = -x ∂/∂x∧∂/∂y
sage: f = M.scalar_field(x^2 + y^2, name='f')
sage: f.display()
f: M → ℝ
   (x, y) ↦ x^2 + y^2
sage: diff(f).display()
df = 2*x dx + 2*y dy
sage: (v*diff(f)).display()
v⊗df = -2*x*y ∂/∂x⊗dx - 2*y^2 ∂/∂x⊗dy + 2*x^2 ∂/∂y⊗dx + 2*x*y ∂/∂y⊗dy
```

CC:  @egourgoulhon @tscrim @mwageringel @fchapoton

Component: **user interface**

Author: **Eric Gourgoulhon**

Branch/Commit: **[`f2ae50e`](https://github.com/sagemath/sagetrac-mirror/commit/f2ae50e68687b59af27e35a4ec02b0f667ea828c)**

Reviewer: **Matthias Koeppe**

_Issue created by migration from https://trac.sagemath.org/ticket/30473_





---

archive/issue_events_416962.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-30T16:45:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416962"
}
```



---

archive/issue_events_416963.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-30T16:45:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
    "label_color": "0000b0",
    "label_name": "c: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416963"
}
```



---

archive/issue_events_416964.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-30T16:45:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416964"
}
```



---

archive/issue_events_416965.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-30T16:45:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416965"
}
```



---

archive/issue_comments_485459.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nSounds a good idea!",
    "created_at": "2020-08-30T19:33:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485459",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:1" align="right">comment:1</div>

Sounds a good idea!



---

archive/issue_events_416966.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416966"
}
```



---

archive/issue_events_416967.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416967"
}
```



---

archive/issue_comments_485460.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThat's a really nice idea! Is it also possible to entail the first two characters as operators in Python code?",
    "created_at": "2021-01-23T10:45:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485460",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:4" align="right">comment:4</div>

That's a really nice idea! Is it also possible to entail the first two characters as operators in Python code?



---

archive/issue_comments_485461.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@mjungmath](#comment%3A4):\n> Is it also possible to entail the first two characters as operators in Python code?\n\nThat is not possible in Python, but it could be added to the Sage preparser, as has been done for the [backslash operator](https://gitlab.com/sagemath/sage/-/blob/13b40902a9a8c7157957cbc61ebc5e3934c331fc/src/sage/repl/preparse.py#L1836). Some people at sd109 voiced an interest in such custom unicode operators.\n\nThere is also a [decorator](https://doc.sagemath.org/html/en/reference/misc/sage/misc/decorators.html#sage.misc.decorators.infix_operator) that turns functions into infix operators which works similarly to the backslash operator, but, as unicode operators are not valid function names, that does not really help.",
    "created_at": "2021-01-23T13:26:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485461",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@mjungmath](#comment%3A4):
> Is it also possible to entail the first two characters as operators in Python code?

That is not possible in Python, but it could be added to the Sage preparser, as has been done for the [backslash operator](https://gitlab.com/sagemath/sage/-/blob/13b40902a9a8c7157957cbc61ebc5e3934c331fc/src/sage/repl/preparse.py#L1836). Some people at sd109 voiced an interest in such custom unicode operators.

There is also a [decorator](https://doc.sagemath.org/html/en/reference/misc/sage/misc/decorators.html#sage.misc.decorators.infix_operator) that turns functions into infix operators which works similarly to the backslash operator, but, as unicode operators are not valid function names, that does not really help.



---

archive/issue_comments_485462.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@mwageringel](#comment%3A5):\n> Replying to [@mjungmath](#comment%3A4):\n> > Is it also possible to entail the first two characters as operators in Python code?\n\n> \n> That is not possible in Python, but it could be added to the Sage preparser, as has been done for the [backslash operator](https://gitlab.com/sagemath/sage/-/blob/13b40902a9a8c7157957cbc61ebc5e3934c331fc/src/sage/repl/preparse.py#L1836). Some people at sd109 voiced an interest in such custom unicode operators.\n> \n\nI'd like that very much, too. Is the preparser also capable of something like\n\ntype \"\\otimes\" -> press `TAB` -> unicode character pops up\n\nsimilarly to Greek letters in Py3 right now?",
    "created_at": "2021-01-23T14:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485462",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@mwageringel](#comment%3A5):
> Replying to [@mjungmath](#comment%3A4):
> > Is it also possible to entail the first two characters as operators in Python code?

> 
> That is not possible in Python, but it could be added to the Sage preparser, as has been done for the [backslash operator](https://gitlab.com/sagemath/sage/-/blob/13b40902a9a8c7157957cbc61ebc5e3934c331fc/src/sage/repl/preparse.py#L1836). Some people at sd109 voiced an interest in such custom unicode operators.
> 

I'd like that very much, too. Is the preparser also capable of something like

type "\otimes" -> press `TAB` -> unicode character pops up

similarly to Greek letters in Py3 right now?



---

archive/issue_comments_485463.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@mjungmath](#comment%3A6):\n> Is the preparser also capable of something like\n> \n> type \"\\otimes\" -> press `TAB` -> unicode character pops up\n> \n> similarly to Greek letters in Py3 right now?\n\nThat is an IPython feature, which does not seem to be implemented for operators like `\\otimes`. The preparser is not capable of this.",
    "created_at": "2021-01-23T14:50:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485463",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@mjungmath](#comment%3A6):
> Is the preparser also capable of something like
> 
> type "\otimes" -> press `TAB` -> unicode character pops up
> 
> similarly to Greek letters in Py3 right now?

That is an IPython feature, which does not seem to be implemented for operators like `\otimes`. The preparser is not capable of this.



---

archive/issue_comments_485464.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485464",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_416968.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416968"
}
```



---

archive/issue_events_416969.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416969"
}
```



---

archive/issue_comments_485465.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,7 @@\n * `*` by \u2297 (U+2297) for tensor products  \n * `-->` by \u2192 (U+2192), `|-->` by \u21a6 (U+21A6)\n \n+Some references:\n+- https://docs.python.org/3/howto/unicode.html\n+- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject\n+- https://unicode.org/charts/PDF/U2200.pdf\n``````\n",
    "created_at": "2021-06-25T09:41:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485465",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,7 @@
 * `*` by ⊗ (U+2297) for tensor products  
 * `-->` by → (U+2192), `|-->` by ↦ (U+21A6)
 
+Some references:
+- https://docs.python.org/3/howto/unicode.html
+- https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject
+- https://unicode.org/charts/PDF/U2200.pdf
``````




---

archive/issue_comments_485466.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI gave it a try, by changing line 736 of `src/sage/tensor/modules/free_module_tensor.py`:\n\n```diff\n-                basis_term_txt = \"*\".join(bases_txt)\n+                basis_term_txt = \"\\u2297\".join(bases_txt)\n```\nand changing doctests accordingly. Everything seems OK with doctests and the html documentation.\nHowever, generating the pdf documentation by \n\n```\nsage -docbuild reference/tensor_free_modules pdf\n```\nfailed, with the error:\n\n```\n! Package inputenc Error: Unicode character \u2297 (U+2297)\n(inputenc)                not set up for use with LaTeX.\n```\nI had to add the following line in `src/sage/docs/conf.py` (after line 407):\n\n```\n    \\DeclareUnicodeCharacter{2297}{\\ensuremath{\\otimes}}\n```\nto make the pdf documentation build without any error. The pdf output is fine (the tensor product operator is correctly displayed). However, before to proceed, I would like to know if this the correct way to fix the pdf doc building...",
    "created_at": "2021-06-25T09:54:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485466",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:10" align="right">comment:10</div>

I gave it a try, by changing line 736 of `src/sage/tensor/modules/free_module_tensor.py`:

```diff
-                basis_term_txt = "*".join(bases_txt)
+                basis_term_txt = "\u2297".join(bases_txt)
```
and changing doctests accordingly. Everything seems OK with doctests and the html documentation.
However, generating the pdf documentation by 

```
sage -docbuild reference/tensor_free_modules pdf
```
failed, with the error:

```
! Package inputenc Error: Unicode character ⊗ (U+2297)
(inputenc)                not set up for use with LaTeX.
```
I had to add the following line in `src/sage/docs/conf.py` (after line 407):

```
    \DeclareUnicodeCharacter{2297}{\ensuremath{\otimes}}
```
to make the pdf documentation build without any error. The pdf output is fine (the tensor product operator is correctly displayed). However, before to proceed, I would like to know if this the correct way to fix the pdf doc building...



---

archive/issue_comments_485467.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThere is already a tensor product somewhere, with no pdf problem:\n\n```\nsage: A=algebras.FreeDendriform(QQ,'a')  \nsage: %display unicode_art                                                      \nsage: a=A.an_element()                                                          \nsage: A.coproduct(a)                                                            \n1 \u2a02 B  + 2*1 \u2a02 B    + 2*1 \u2a02 B    + B  \u2a02 1 + 4*B  \u2a02 B  + 2*B    \u2a02 1 + 2*B    \u2a02 1\n     a          a              a    a          a    a      a              a    \n                 \u2572            \u2571                             \u2572            \u2571     \n                  a          a                               a          a   \n```\n\n***EDIT***\n\n```\ngit grep \"\u2a02\" src/sage\nsrc/sage/categories/signed_tensor.py:    unicode_symbol = \" \u2a02 \"\nsrc/sage/categories/tensor.py:    unicode_symbol = \" \u2a02 \"\nsrc/sage/combinat/free_module.py:                R    \u2a02 R\n```\n\n*EDIT* : But in fact, it does not appear in pdf doc, because it's only in hidden methods.",
    "created_at": "2021-06-25T10:40:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485467",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:11" align="right">comment:11</div>

There is already a tensor product somewhere, with no pdf problem:

```
sage: A=algebras.FreeDendriform(QQ,'a')  
sage: %display unicode_art                                                      
sage: a=A.an_element()                                                          
sage: A.coproduct(a)                                                            
1 ⨂ B  + 2*1 ⨂ B    + 2*1 ⨂ B    + B  ⨂ 1 + 4*B  ⨂ B  + 2*B    ⨂ 1 + 2*B    ⨂ 1
     a          a              a    a          a    a      a              a    
                 ╲            ╱                             ╲            ╱     
                  a          a                               a          a   
```

***EDIT***

```
git grep "⨂" src/sage
src/sage/categories/signed_tensor.py:    unicode_symbol = " ⨂ "
src/sage/categories/tensor.py:    unicode_symbol = " ⨂ "
src/sage/combinat/free_module.py:                R    ⨂ R
```

*EDIT* : But in fact, it does not appear in pdf doc, because it's only in hidden methods.



---

archive/issue_comments_485468.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@fchapoton](#comment%3A11):\n> There is already a tensor product somewhere, with no pdf problem:\n> > \n\n> *EDIT* : But in fact, it does not appear in pdf doc, because it's only in hidden methods.\n\nThank you for pointing out the existence of \u2a02 in `src/sage/categories/tensor.py`. It is U+2A02 (unicode name: *n-ary circled times operator*), while U+2297 is for \u2297 (unicode name: *circled times*). In terms of readability, U+2A02 is much better than U+2297, so we should definitely use U+2A02.",
    "created_at": "2021-06-25T12:45:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485468",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@fchapoton](#comment%3A11):
> There is already a tensor product somewhere, with no pdf problem:
> > 

> *EDIT* : But in fact, it does not appear in pdf doc, because it's only in hidden methods.

Thank you for pointing out the existence of ⨂ in `src/sage/categories/tensor.py`. It is U+2A02 (unicode name: *n-ary circled times operator*), while U+2297 is for ⊗ (unicode name: *circled times*). In terms of readability, U+2A02 is much better than U+2297, so we should definitely use U+2A02.



---

archive/issue_comments_485469.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nWith U+2A02, I had to perform the following change to `src/sage/docs/conf.py` to get the pdf doc built:\n\n```diff\n-    \\DeclareUnicodeCharacter{2A02}{\\otimes}\n+    \\DeclareUnicodeCharacter{2A02}{\\ensuremath{\\otimes}}\n```\nThe output pdf looks OK.",
    "created_at": "2021-06-25T12:57:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485469",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:13" align="right">comment:13</div>

With U+2A02, I had to perform the following change to `src/sage/docs/conf.py` to get the pdf doc built:

```diff
-    \DeclareUnicodeCharacter{2A02}{\otimes}
+    \DeclareUnicodeCharacter{2A02}{\ensuremath{\otimes}}
```
The output pdf looks OK.



---

archive/issue_comments_485470.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,4 +6,5 @@\n Some references:\n - https://docs.python.org/3/howto/unicode.html\n - https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject\n+- https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode\n - https://unicode.org/charts/PDF/U2200.pdf\n``````\n",
    "created_at": "2021-06-25T15:22:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485470",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,4 +6,5 @@
 Some references:
 - https://docs.python.org/3/howto/unicode.html
 - https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject
+- https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode
 - https://unicode.org/charts/PDF/U2200.pdf
``````




---

archive/issue_comments_485471.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,6 +2,7 @@\n * `/\\` by \u2227 (U+2227)\n * `*` by \u2297 (U+2297) for tensor products  \n * `-->` by \u2192 (U+2192), `|-->` by \u21a6 (U+21A6)\n+* `d/dx` by \u2202/\u2202x, etc. (U+2202)\n \n Some references:\n - https://docs.python.org/3/howto/unicode.html\n``````\n",
    "created_at": "2021-06-25T15:38:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485471",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,6 +2,7 @@
 * `/\` by ∧ (U+2227)
 * `*` by ⊗ (U+2297) for tensor products  
 * `-->` by → (U+2192), `|-->` by ↦ (U+21A6)
+* `d/dx` by ∂/∂x, etc. (U+2202)
 
 Some references:
 - https://docs.python.org/3/howto/unicode.html
``````




---

archive/issue_comments_485472.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nYou may want to make this change on top of the branch of #31880, which touches the same file, to avoid merge conflicts",
    "created_at": "2021-06-25T18:28:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485472",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

You may want to make this change on top of the branch of #31880, which touches the same file, to avoid merge conflicts



---

archive/issue_comments_485473.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@egourgoulhon](#comment%3A12):\n> In terms of readability, U+2A02 is much better than U+2297, so we should definitely use U+2A02. \n\nI am in favor of U+2297, as it is used as a binary operator. The n-ary operator would correspond to `\\bigotimes` in tex instead. At least with the Dejavu Sans Mono font, the binary operator looks good to me, whereas the n-ary operator U+2A02 is too wide for a monospaced font (which could lead to misaligned unicode art).\n\nReplying to [@egourgoulhon](#comment%3A10):\n> However, before to proceed, I would like to know if this the correct way to fix the pdf doc building...\n\nYes, this is the correct way to add support for unicode characters to the pdf documentation.",
    "created_at": "2021-06-25T20:55:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485473",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@egourgoulhon](#comment%3A12):
> In terms of readability, U+2A02 is much better than U+2297, so we should definitely use U+2A02. 

I am in favor of U+2297, as it is used as a binary operator. The n-ary operator would correspond to `\bigotimes` in tex instead. At least with the Dejavu Sans Mono font, the binary operator looks good to me, whereas the n-ary operator U+2A02 is too wide for a monospaced font (which could lead to misaligned unicode art).

Replying to [@egourgoulhon](#comment%3A10):
> However, before to proceed, I would like to know if this the correct way to fix the pdf doc building...

Yes, this is the correct way to add support for unicode characters to the pdf documentation.



---

archive/issue_comments_485474.json:
```json
{
    "body": "Attachment: **[tensor_product-2A02.png](https://github.com/sagemath/sage/files/ticket30473/tensor_product-2A02.png)**",
    "created_at": "2021-06-26T13:50:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485474",
    "user": "https://github.com/egourgoulhon"
}
```

Attachment: **[tensor_product-2A02.png](https://github.com/sagemath/sage/files/ticket30473/tensor_product-2A02.png)**



---

archive/issue_comments_485475.json:
```json
{
    "body": "Attachment: **[tensor_product-2297.png](https://github.com/sagemath/sage/files/ticket30473/tensor_product-2297.png)**",
    "created_at": "2021-06-26T13:51:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485475",
    "user": "https://github.com/egourgoulhon"
}
```

Attachment: **[tensor_product-2297.png](https://github.com/sagemath/sage/files/ticket30473/tensor_product-2297.png)**



---

archive/issue_comments_485476.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nAttachment: **[tensor_product_Ubuntu_Mono_13.png](https://github.com/sagemath/sage/files/ticket30473/tensor_product_Ubuntu_Mono_13.png)**\n\nReplying to [@mwageringel](#comment%3A17):\n> Replying to [@egourgoulhon](#comment%3A12):\n> > In terms of readability, U+2A02 is much better than U+2297, so we should definitely use U+2A02. \n\n> \n> I am in favor of U+2297, as it is used as a binary operator. The n-ary operator would correspond to `\\bigotimes` in tex instead. At least with the Dejavu Sans Mono font, the binary operator looks good to me, whereas the n-ary operator U+2A02 is too wide for a monospaced font (which could lead to misaligned unicode art).\n\nMy initial preference for U+2A02 came from the appearance in Sage's console in the Ubuntu terminal (font: Monospace Regular 13): \n\n- for U+2A02: ![](https://github.com/sagemath/sage/files/ticket30473/tensor_product-2A02.png)\n- for U+2297: ![](https://github.com/sagemath/sage/files/ticket30473/tensor_product-2297.png) \n\nHowever, when cutting and pasting to gedit (font: Ubuntu Mono 13), we get:\n\n![](https://github.com/sagemath/sage/files/ticket30473/tensor_product_Ubuntu_Mono_13.png)\n\nAs you said, U+2A02 appears too large. So, unless someone argues against it, I am going to revert to U+2297. It's also more natural since U+2297 is the standard symbol for tensor product as a binary operator, as your pointed out. Thanks for your advice!\n\n> \n> Replying to [@egourgoulhon](#comment%3A10):\n> > However, before to proceed, I would like to know if this the correct way to fix the pdf doc building...\n\n> \n> Yes, this is the correct way to add support for unicode characters to the pdf documentation.\n\nThanks for your answer!",
    "created_at": "2021-06-26T14:05:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485476",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:18" align="right">comment:18</div>

Attachment: **[tensor_product_Ubuntu_Mono_13.png](https://github.com/sagemath/sage/files/ticket30473/tensor_product_Ubuntu_Mono_13.png)**

Replying to [@mwageringel](#comment%3A17):
> Replying to [@egourgoulhon](#comment%3A12):
> > In terms of readability, U+2A02 is much better than U+2297, so we should definitely use U+2A02. 

> 
> I am in favor of U+2297, as it is used as a binary operator. The n-ary operator would correspond to `\bigotimes` in tex instead. At least with the Dejavu Sans Mono font, the binary operator looks good to me, whereas the n-ary operator U+2A02 is too wide for a monospaced font (which could lead to misaligned unicode art).

My initial preference for U+2A02 came from the appearance in Sage's console in the Ubuntu terminal (font: Monospace Regular 13): 

- for U+2A02: ![](https://github.com/sagemath/sage/files/ticket30473/tensor_product-2A02.png)
- for U+2297: ![](https://github.com/sagemath/sage/files/ticket30473/tensor_product-2297.png) 

However, when cutting and pasting to gedit (font: Ubuntu Mono 13), we get:

![](https://github.com/sagemath/sage/files/ticket30473/tensor_product_Ubuntu_Mono_13.png)

As you said, U+2A02 appears too large. So, unless someone argues against it, I am going to revert to U+2297. It's also more natural since U+2297 is the standard symbol for tensor product as a binary operator, as your pointed out. Thanks for your advice!

> 
> Replying to [@egourgoulhon](#comment%3A10):
> > However, before to proceed, I would like to know if this the correct way to fix the pdf doc building...

> 
> Yes, this is the correct way to add support for unicode characters to the pdf documentation.

Thanks for your answer!



---

archive/issue_comments_485477.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@mkoeppe](#comment%3A16):\n> You may want to make this change on top of the branch of #31880, which touches the same file, to avoid merge conflicts\n\nThanks for the advice; however this ticket has no logical connection with #31880 and the merge conflict in `src/sage/docs/conf.py` will be a trivial one. Moreover, since I am touching almost all files in `src/sage/manifolds` and `src/sage/tensor/modules`, there will be merge conflicts with the next beta anyway.",
    "created_at": "2021-06-26T17:51:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485477",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@mkoeppe](#comment%3A16):
> You may want to make this change on top of the branch of #31880, which touches the same file, to avoid merge conflicts

Thanks for the advice; however this ticket has no logical connection with #31880 and the merge conflict in `src/sage/docs/conf.py` will be a trivial one. Moreover, since I am touching almost all files in `src/sage/manifolds` and `src/sage/tensor/modules`, there will be merge conflicts with the next beta anyway.



---

archive/issue_comments_485478.json:
```json
{
    "body": "Branch: **[public/manifolds/unicode_art](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/unicode_art)**",
    "created_at": "2021-06-27T15:35:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485478",
    "user": "https://github.com/egourgoulhon"
}
```

Branch: **[public/manifolds/unicode_art](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/unicode_art)**



---

archive/issue_comments_485479.json:
```json
{
    "body": "Commit: **[`f6bcc9d`](https://github.com/sagemath/sagetrac-mirror/commit/f6bcc9d7e94ee770679c58d9e06ed0ed6f29f94b)**",
    "created_at": "2021-06-27T15:35:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485479",
    "user": "https://github.com/egourgoulhon"
}
```

Commit: **[`f6bcc9d`](https://github.com/sagemath/sagetrac-mirror/commit/f6bcc9d7e94ee770679c58d9e06ed0ed6f29f94b)**



---

archive/issue_comments_485480.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nHere is a preliminary version, which implements `\u2297` and `\u2227`. There remains to implement `\u2192`, `\u21a6` and `\u2202` (I shall do it tomorrow).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33aec3c396a4d77e59b99ecbf62ffe9886ebd8ef\"><code>33aec3c</code></a></td><td><code>Use unicode symbol 2A02 for tensor product on finite rank free modules</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8dac450b7a8620b9d5faabfa8c9c80f4847bc9a\"><code>f8dac45</code></a></td><td><code>Use Unicode symbol 2227 for exterior product on finite rank free modules</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47638865ce8b0a322f7a0ebdbb3ab093c7ba1209\"><code>4763886</code></a></td><td><code>Used Unicode symbol 2297 for tensor product on finite rank free modules</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fb91b4da805b7cceaa5d37b3f06e1bad5d85d9a\"><code>8fb91b4</code></a></td><td><code>WIP: Unicode symbols for exterior and tensor products of tensor fields</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6bcc9d7e94ee770679c58d9e06ed0ed6f29f94b\"><code>f6bcc9d</code></a></td><td><code>Unicode symbols for exterior and tensor products of tensor fields</code></td></tr></table>\n",
    "created_at": "2021-06-27T15:35:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485480",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:20" align="right">comment:20</div>

Here is a preliminary version, which implements `⊗` and `∧`. There remains to implement `→`, `↦` and `∂` (I shall do it tomorrow).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33aec3c396a4d77e59b99ecbf62ffe9886ebd8ef"><code>33aec3c</code></a></td><td><code>Use unicode symbol 2A02 for tensor product on finite rank free modules</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8dac450b7a8620b9d5faabfa8c9c80f4847bc9a"><code>f8dac45</code></a></td><td><code>Use Unicode symbol 2227 for exterior product on finite rank free modules</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47638865ce8b0a322f7a0ebdbb3ab093c7ba1209"><code>4763886</code></a></td><td><code>Used Unicode symbol 2297 for tensor product on finite rank free modules</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fb91b4da805b7cceaa5d37b3f06e1bad5d85d9a"><code>8fb91b4</code></a></td><td><code>WIP: Unicode symbols for exterior and tensor products of tensor fields</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6bcc9d7e94ee770679c58d9e06ed0ed6f29f94b"><code>f6bcc9d</code></a></td><td><code>Unicode symbols for exterior and tensor products of tensor fields</code></td></tr></table>




---

archive/issue_comments_485481.json:
```json
{
    "body": "Author: **Eric Gourgoulhon**",
    "created_at": "2021-06-27T15:35:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485481",
    "user": "https://github.com/egourgoulhon"
}
```

Author: **Eric Gourgoulhon**



---

archive/issue_comments_485482.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nPerhaps it might be a good idea to refactor the code in such a way that the symbols can be changed easily? Something like global variables such as `wedge_symbol`?\n\nThis might have the following benefits:\n\n- Unification throughout Sage, i.e. tensor products are used not only for free modules.\n- It is easier to change if we are not quite satisfied with the result at a later point.",
    "created_at": "2021-06-27T17:47:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485482",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:21" align="right">comment:21</div>

Perhaps it might be a good idea to refactor the code in such a way that the symbols can be changed easily? Something like global variables such as `wedge_symbol`?

This might have the following benefits:

- Unification throughout Sage, i.e. tensor products are used not only for free modules.
- It is easier to change if we are not quite satisfied with the result at a later point.



---

archive/issue_comments_485483.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@mjungmath](#comment%3A21):\n> Perhaps it might be a good idea to refactor the code in such a way that the symbols can be changed easily? Something like global variables such as `wedge_symbol`?\n\n+1",
    "created_at": "2021-06-27T23:22:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485483",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@mjungmath](#comment%3A21):
> Perhaps it might be a good idea to refactor the code in such a way that the symbols can be changed easily? Something like global variables such as `wedge_symbol`?

+1



---

archive/issue_comments_485484.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@mjungmath](#comment%3A21):\n> Perhaps it might be a good idea to refactor the code in such a way that the symbols can be changed easily? Something like global variables such as `wedge_symbol`?\n> \n\nI don't think it's worth to clutter Sage's global variables for such a thing. There aren't actually so many unicode options. For instance, for the tensor product of tensor fields, there are two of them: U+2297 and U+2A02 and the discussion in [comment:17](#comment%3A17) and [comment:18](#comment%3A18) reveals that U+2A02 is not appropriate. Moreover, it is quite easy to spot where the symbols are implemented in Sage's code: from `src/sage`,\n\n```\ngit grep 'u2297'\n```\nyields\n\n```\ntensor/modules/free_module_tensor.py:                basis_term_txt = \"\\u2297\".join(bases_txt)\ntensor/modules/free_module_tensor.py:            result._name = format_mul_txt(self._name, '\\u2297', other._name)\n```\nBy the way, this is the reason why I used `basis_term_txt = \"\\u2297\".join(bases_txt)` instead of `basis_term_txt = \"\u2297\".join(bases_txt)`, which would have been equivalent in terms of output.\n\nIn any case, I would vote for the discussion about global variables to be deferred to another ticket. To minimize merge conflicts, it would be helpful to have the current ticket merged not too late.",
    "created_at": "2021-06-28T06:56:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485484",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@mjungmath](#comment%3A21):
> Perhaps it might be a good idea to refactor the code in such a way that the symbols can be changed easily? Something like global variables such as `wedge_symbol`?
> 

I don't think it's worth to clutter Sage's global variables for such a thing. There aren't actually so many unicode options. For instance, for the tensor product of tensor fields, there are two of them: U+2297 and U+2A02 and the discussion in [comment:17](#comment%3A17) and [comment:18](#comment%3A18) reveals that U+2A02 is not appropriate. Moreover, it is quite easy to spot where the symbols are implemented in Sage's code: from `src/sage`,

```
git grep 'u2297'
```
yields

```
tensor/modules/free_module_tensor.py:                basis_term_txt = "\u2297".join(bases_txt)
tensor/modules/free_module_tensor.py:            result._name = format_mul_txt(self._name, '\u2297', other._name)
```
By the way, this is the reason why I used `basis_term_txt = "\u2297".join(bases_txt)` instead of `basis_term_txt = "⊗".join(bases_txt)`, which would have been equivalent in terms of output.

In any case, I would vote for the discussion about global variables to be deferred to another ticket. To minimize merge conflicts, it would be helpful to have the current ticket merged not too late.



---

archive/issue_comments_485485.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nMaybe add a comment? And use single quotes both times?\n\n```diff\n-                basis_term_txt = \"\\u2297\".join(bases_txt)\n+                # Unicode character '\\u2297' is '\u2297'; see ticket #30473\n+                basis_term_txt = '\\u2297'.join(bases_txt)\n```\n\n```diff\n+            # Unicode character '\\u2297' is '\u2297'; see ticket #30473\n             result._name = format_mul_txt(self._name, '\\u2297', other._name)\n```",
    "created_at": "2021-06-28T08:34:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485485",
    "user": "https://github.com/slel"
}
```

<div id="comment:24" align="right">comment:24</div>

Maybe add a comment? And use single quotes both times?

```diff
-                basis_term_txt = "\u2297".join(bases_txt)
+                # Unicode character '\u2297' is '⊗'; see ticket #30473
+                basis_term_txt = '\u2297'.join(bases_txt)
```

```diff
+            # Unicode character '\u2297' is '⊗'; see ticket #30473
             result._name = format_mul_txt(self._name, '\u2297', other._name)
```



---

archive/issue_comments_485486.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI just see that all three `display` methods basically contain the same code. I think some common parts should be outsourced for example in `sage.tensor.format_utilities`.\n\nThis might also be useful in view of mixed forms, which have their own `display` method as well.",
    "created_at": "2021-06-28T09:19:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485486",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:25" align="right">comment:25</div>

I just see that all three `display` methods basically contain the same code. I think some common parts should be outsourced for example in `sage.tensor.format_utilities`.

This might also be useful in view of mixed forms, which have their own `display` method as well.



---

archive/issue_comments_485487.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\n`@`Eric: Could you change the wedge symbol in `mixed_form.py` as well please?",
    "created_at": "2021-06-28T09:26:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485487",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:26" align="right">comment:26</div>

`@`Eric: Could you change the wedge symbol in `mixed_form.py` as well please?



---

archive/issue_comments_485488.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@mjungmath](#comment%3A26):\n> `@`Eric: Could you change the wedge symbol in `mixed_form.py` as well please?\n\nThis is already done, see https://github.com/sagemath/sagetrac-mirror/blob/f6bcc9d7e94ee770679c58d9e06ed0ed6f29f94b/src/sage/manifolds/differentiable/mixed_form.py&id2=a60179ab6b642246ee54120e43fdf9663afe5638",
    "created_at": "2021-06-28T10:22:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485488",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@mjungmath](#comment%3A26):
> `@`Eric: Could you change the wedge symbol in `mixed_form.py` as well please?

This is already done, see https://github.com/sagemath/sagetrac-mirror/blob/f6bcc9d7e94ee770679c58d9e06ed0ed6f29f94b/src/sage/manifolds/differentiable/mixed_form.py&id2=a60179ab6b642246ee54120e43fdf9663afe5638



---

archive/issue_comments_485489.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI wasn't thinking of adding this to the global namespace, but having a file where people can import the symbols to use in their string outputs.",
    "created_at": "2021-06-28T10:46:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485489",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:28" align="right">comment:28</div>

I wasn't thinking of adding this to the global namespace, but having a file where people can import the symbols to use in their string outputs.



---

archive/issue_comments_485490.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@egourgoulhon](#comment%3A27):\n> Replying to [@mjungmath](#comment%3A26):\n> > `@`Eric: Could you change the wedge symbol in `mixed_form.py` as well please?\n\n> This is already done, see https://github.com/sagemath/sagetrac-mirror/blob/f6bcc9d7e94ee770679c58d9e06ed0ed6f29f94b/src/sage/manifolds/differentiable/mixed_form.py&id2=a60179ab6b642246ee54120e43fdf9663afe5638\n\nAh perfect. Sorry, haven't noticed. Thanks! :)",
    "created_at": "2021-06-28T11:06:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485490",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@egourgoulhon](#comment%3A27):
> Replying to [@mjungmath](#comment%3A26):
> > `@`Eric: Could you change the wedge symbol in `mixed_form.py` as well please?

> This is already done, see https://github.com/sagemath/sagetrac-mirror/blob/f6bcc9d7e94ee770679c58d9e06ed0ed6f29f94b/src/sage/manifolds/differentiable/mixed_form.py&id2=a60179ab6b642246ee54120e43fdf9663afe5638

Ah perfect. Sorry, haven't noticed. Thanks! :)



---

archive/issue_comments_485491.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@tscrim](#comment%3A28):\n> I wasn't thinking of adding this to the global namespace, but having a file where people can import the symbols to use in their string outputs.\n\nYes, that's what I understood, but IMHO this implies some discussion: \n- where to put this file?\n- shall we homogenize between various parts of Sage? (for instance as pointed out in [comment:11](#comment%3A11), tensor products of modules use U+2A02 (\\bigotimes), while here, we are using here U+2297 (\\otimes) for tensor products of elements)\n- how to name the Python variables? (I would suggest a naming convention from the LaTeX names of the symbols, e.g. something like `unicode_otimes`, `unicode_mapsto`, etc.)\n- how to articulate this file with `src/sage/docs/conf.py`? (i.e. ensure that each time a new variable is added to this file, it will be taken into account in `conf.py`)\n\nFor this reason, I would prefer this to be done in another ticket.",
    "created_at": "2021-06-28T13:07:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485491",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@tscrim](#comment%3A28):
> I wasn't thinking of adding this to the global namespace, but having a file where people can import the symbols to use in their string outputs.

Yes, that's what I understood, but IMHO this implies some discussion: 
- where to put this file?
- shall we homogenize between various parts of Sage? (for instance as pointed out in [comment:11](#comment%3A11), tensor products of modules use U+2A02 (\bigotimes), while here, we are using here U+2297 (\otimes) for tensor products of elements)
- how to name the Python variables? (I would suggest a naming convention from the LaTeX names of the symbols, e.g. something like `unicode_otimes`, `unicode_mapsto`, etc.)
- how to articulate this file with `src/sage/docs/conf.py`? (i.e. ensure that each time a new variable is added to this file, it will be taken into account in `conf.py`)

For this reason, I would prefer this to be done in another ticket.



---

archive/issue_comments_485492.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@mjungmath](#comment%3A25):\n> I just see that all three `display` methods basically contain the same code. I think some common parts should be outsourced for example in `sage.tensor.format_utilities`.\n\nYes certainly, but in another ticket.",
    "created_at": "2021-06-28T13:08:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485492",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@mjungmath](#comment%3A25):
> I just see that all three `display` methods basically contain the same code. I think some common parts should be outsourced for example in `sage.tensor.format_utilities`.

Yes certainly, but in another ticket.



---

archive/issue_comments_485493.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e91c14398732cf1474f6d3b35941d0071a4269a\"><code>7e91c14</code></a></td><td><code>#30473: Add some comments about unicode symbols</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9091e7d48109bb3ae790eaad21a26cb26baa0520\"><code>9091e7d</code></a></td><td><code>Unicode symbol 21A6 for text display of continuous maps and chart functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db2f163b81d26b7111eec4eb0b2fbec153e5bece\"><code>db2f163</code></a></td><td><code>Unicode symbol 2192 for text display of continuous maps and scalar fields</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/afa0e72feba703b762508c907795a6d787ac5b00\"><code>afa0e72</code></a></td><td><code>Unicode symbols 211D and 2102 for text display of the codomains of scalar fields</code></td></tr></table>\n",
    "created_at": "2021-06-28T15:20:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485493",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e91c14398732cf1474f6d3b35941d0071a4269a"><code>7e91c14</code></a></td><td><code>#30473: Add some comments about unicode symbols</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9091e7d48109bb3ae790eaad21a26cb26baa0520"><code>9091e7d</code></a></td><td><code>Unicode symbol 21A6 for text display of continuous maps and chart functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db2f163b81d26b7111eec4eb0b2fbec153e5bece"><code>db2f163</code></a></td><td><code>Unicode symbol 2192 for text display of continuous maps and scalar fields</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/afa0e72feba703b762508c907795a6d787ac5b00"><code>afa0e72</code></a></td><td><code>Unicode symbols 211D and 2102 for text display of the codomains of scalar fields</code></td></tr></table>




---

archive/issue_comments_485494.json:
```json
{
    "body": "Changed commit from **[`f6bcc9d`](https://github.com/sagemath/sagetrac-mirror/commit/f6bcc9d7e94ee770679c58d9e06ed0ed6f29f94b)** to **[`afa0e72`](https://github.com/sagemath/sagetrac-mirror/commit/afa0e72feba703b762508c907795a6d787ac5b00)**",
    "created_at": "2021-06-28T15:20:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485494",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f6bcc9d`](https://github.com/sagemath/sagetrac-mirror/commit/f6bcc9d7e94ee770679c58d9e06ed0ed6f29f94b)** to **[`afa0e72`](https://github.com/sagemath/sagetrac-mirror/commit/afa0e72feba703b762508c907795a6d787ac5b00)**



---

archive/issue_comments_485495.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nHere is a new provisory version, implementing `\u2192`, `\u21a6`, as well as `\u211d` and `\u2102` for the codomains of scalar fields on respectively real and complex manifolds. \n\nThere remains to implement `\u2202` for coordinate frames.",
    "created_at": "2021-06-28T15:26:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485495",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:33" align="right">comment:33</div>

Here is a new provisory version, implementing `→`, `↦`, as well as `ℝ` and `ℂ` for the codomains of scalar fields on respectively real and complex manifolds. 

There remains to implement `∂` for coordinate frames.



---

archive/issue_comments_485496.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,6 +3,8 @@\n * `*` by \u2297 (U+2297) for tensor products  \n * `-->` by \u2192 (U+2192), `|-->` by \u21a6 (U+21A6)\n * `d/dx` by \u2202/\u2202x, etc. (U+2202)\n+* `R` (real field) by \u211d (U+211D)\n+* `C` (complex field) by \u2102 (U+2102)\n \n Some references:\n - https://docs.python.org/3/howto/unicode.html\n``````\n",
    "created_at": "2021-06-28T15:27:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485496",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,6 +3,8 @@
 * `*` by ⊗ (U+2297) for tensor products  
 * `-->` by → (U+2192), `|-->` by ↦ (U+21A6)
 * `d/dx` by ∂/∂x, etc. (U+2202)
+* `R` (real field) by ℝ (U+211D)
+* `C` (complex field) by ℂ (U+2102)
 
 Some references:
 - https://docs.python.org/3/howto/unicode.html
``````




---

archive/issue_comments_485497.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@slel](#comment%3A24):\n> Maybe add a comment? And use single quotes both times?\n> \n> ```diff\n> -                basis_term_txt = \"\\u2297\".join(bases_txt)\n> +                # Unicode character '\\u2297' is '\u2297'; see ticket #30473\n> +                basis_term_txt = '\\u2297'.join(bases_txt)\n> ```\n\nThanks for the suggestion. This is done in the latest version (comment:32).",
    "created_at": "2021-06-28T15:29:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485497",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@slel](#comment%3A24):
> Maybe add a comment? And use single quotes both times?
> 
> ```diff
> -                basis_term_txt = "\u2297".join(bases_txt)
> +                # Unicode character '\u2297' is '⊗'; see ticket #30473
> +                basis_term_txt = '\u2297'.join(bases_txt)
> ```

Thanks for the suggestion. This is done in the latest version (comment:32).



---

archive/issue_comments_485498.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,3 +11,4 @@\n - https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject\n - https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode\n - https://unicode.org/charts/PDF/U2200.pdf\n+- https://unicode.org/charts/PDF/U2100.pdf\n``````\n",
    "created_at": "2021-06-28T15:35:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485498",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,3 +11,4 @@
 - https://en.wikipedia.org/wiki/List_of_mathematical_symbols_by_subject
 - https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode
 - https://unicode.org/charts/PDF/U2200.pdf
+- https://unicode.org/charts/PDF/U2100.pdf
``````




---

archive/issue_comments_485499.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e13ffa05615e91d6b266660481516c72c39d25e\"><code>4e13ffa</code></a></td><td><code>Unicode symbols defined in new file src/sage/typeset/unicode_characters.py</code></td></tr></table>\n",
    "created_at": "2021-06-29T11:53:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485499",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e13ffa05615e91d6b266660481516c72c39d25e"><code>4e13ffa</code></a></td><td><code>Unicode symbols defined in new file src/sage/typeset/unicode_characters.py</code></td></tr></table>




---

archive/issue_comments_485500.json:
```json
{
    "body": "Changed commit from **[`afa0e72`](https://github.com/sagemath/sagetrac-mirror/commit/afa0e72feba703b762508c907795a6d787ac5b00)** to **[`4e13ffa`](https://github.com/sagemath/sagetrac-mirror/commit/4e13ffa05615e91d6b266660481516c72c39d25e)**",
    "created_at": "2021-06-29T11:53:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485500",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`afa0e72`](https://github.com/sagemath/sagetrac-mirror/commit/afa0e72feba703b762508c907795a6d787ac5b00)** to **[`4e13ffa`](https://github.com/sagemath/sagetrac-mirror/commit/4e13ffa05615e91d6b266660481516c72c39d25e)**



---

archive/issue_comments_485501.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@egourgoulhon](#comment%3A30):\n> Replying to [@tscrim](#comment%3A28):\n> > I wasn't thinking of adding this to the global namespace, but having a file where people can import the symbols to use in their string outputs.\n\n> Yes, that's what I understood, but IMHO this implies some discussion [...]\n> \n> For this reason, I would prefer this to be done in another ticket.\n\nHaving slept on it, I've finally included this in the current ticket ;-)  \n\nI've put the file defining Python identifiers for Unicode characters in `src/sage/typeset` and named it `unicode_characters.py`, cf. \nhttps://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/typeset/unicode_characters.py?id=4e13ffa05615e91d6b266660481516c72c39d25e\n\nI've also included it in the reference manual, in the section \"Programming -> Utilities -> Formatted Output -> Unicode characters\".\n\nRegarding the last point of :comment:30, there is no (automatic) articulation with `src/sage/docs/conf.py` yet.",
    "created_at": "2021-06-29T12:06:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485501",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@egourgoulhon](#comment%3A30):
> Replying to [@tscrim](#comment%3A28):
> > I wasn't thinking of adding this to the global namespace, but having a file where people can import the symbols to use in their string outputs.

> Yes, that's what I understood, but IMHO this implies some discussion [...]
> 
> For this reason, I would prefer this to be done in another ticket.

Having slept on it, I've finally included this in the current ticket ;-)  

I've put the file defining Python identifiers for Unicode characters in `src/sage/typeset` and named it `unicode_characters.py`, cf. 
https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/typeset/unicode_characters.py?id=4e13ffa05615e91d6b266660481516c72c39d25e

I've also included it in the reference manual, in the section "Programming -> Utilities -> Formatted Output -> Unicode characters".

Regarding the last point of :comment:30, there is no (automatic) articulation with `src/sage/docs/conf.py` yet.



---

archive/issue_comments_485502.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da8893f5c68353345ba8a18a07d371705084a9e7\"><code>da8893f</code></a></td><td><code>Use sage.typeset.unicode_characters in TensorProductFunctor and SignedTensorProductFunctor</code></td></tr></table>\n",
    "created_at": "2021-06-29T14:00:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485502",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da8893f5c68353345ba8a18a07d371705084a9e7"><code>da8893f</code></a></td><td><code>Use sage.typeset.unicode_characters in TensorProductFunctor and SignedTensorProductFunctor</code></td></tr></table>




---

archive/issue_comments_485503.json:
```json
{
    "body": "Changed commit from **[`4e13ffa`](https://github.com/sagemath/sagetrac-mirror/commit/4e13ffa05615e91d6b266660481516c72c39d25e)** to **[`da8893f`](https://github.com/sagemath/sagetrac-mirror/commit/da8893f5c68353345ba8a18a07d371705084a9e7)**",
    "created_at": "2021-06-29T14:00:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485503",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4e13ffa`](https://github.com/sagemath/sagetrac-mirror/commit/4e13ffa05615e91d6b266660481516c72c39d25e)** to **[`da8893f`](https://github.com/sagemath/sagetrac-mirror/commit/da8893f5c68353345ba8a18a07d371705084a9e7)**



---

archive/issue_comments_485504.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nIn the above commit, I used the new file `unicode_characters.py` to deal with the symbol \u2a02 (bigotimes) pointed out in [comment:11](#comment%3A11). Fr\u00e9d\u00e9ric, Travis, do you agree?",
    "created_at": "2021-06-29T14:06:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485504",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:40" align="right">comment:40</div>

In the above commit, I used the new file `unicode_characters.py` to deal with the symbol ⨂ (bigotimes) pointed out in [comment:11](#comment%3A11). Frédéric, Travis, do you agree?



---

archive/issue_comments_485505.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nHave you considered formatted strings instead of additions?\n\n```diff\n-    unicode_symbol = \" \" + unicode_bigotimes + \" \"\n+    unicode_symbol = f\" {unicode_bigotimes} \"\n```",
    "created_at": "2021-06-29T15:43:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485505",
    "user": "https://github.com/slel"
}
```

<div id="comment:41" align="right">comment:41</div>

Have you considered formatted strings instead of additions?

```diff
-    unicode_symbol = " " + unicode_bigotimes + " "
+    unicode_symbol = f" {unicode_bigotimes} "
```



---

archive/issue_comments_485506.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a23cb59c229343e5d0716fe157bea6fc3366b39\"><code>2a23cb5</code></a></td><td><code>Unicode symbol 2202 (partial) for the text display of coordinate frames</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d096f1c5125297c291793409d9837dcf8f9128e\"><code>5d096f1</code></a></td><td><code>f-string for unicode_symbol in TensorProductFunctor and SignedTensorProductFunctor</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76c2fd56bbf0b734d0a1a5cef3c94b5276270b92\"><code>76c2fd5</code></a></td><td><code>Use Unicode symbol for the Riemann sphere example</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5167e6cfc4130eb88b78ddf9eb5e130c089f39f9\"><code>5167e6c</code></a></td><td><code>Use Unicode symbol for default text display of RealLine</code></td></tr></table>\n",
    "created_at": "2021-06-29T17:35:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485506",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a23cb59c229343e5d0716fe157bea6fc3366b39"><code>2a23cb5</code></a></td><td><code>Unicode symbol 2202 (partial) for the text display of coordinate frames</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d096f1c5125297c291793409d9837dcf8f9128e"><code>5d096f1</code></a></td><td><code>f-string for unicode_symbol in TensorProductFunctor and SignedTensorProductFunctor</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76c2fd56bbf0b734d0a1a5cef3c94b5276270b92"><code>76c2fd5</code></a></td><td><code>Use Unicode symbol for the Riemann sphere example</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5167e6cfc4130eb88b78ddf9eb5e130c089f39f9"><code>5167e6c</code></a></td><td><code>Use Unicode symbol for default text display of RealLine</code></td></tr></table>




---

archive/issue_comments_485507.json:
```json
{
    "body": "Changed commit from **[`da8893f`](https://github.com/sagemath/sagetrac-mirror/commit/da8893f5c68353345ba8a18a07d371705084a9e7)** to **[`5167e6c`](https://github.com/sagemath/sagetrac-mirror/commit/5167e6cfc4130eb88b78ddf9eb5e130c089f39f9)**",
    "created_at": "2021-06-29T17:35:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485507",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`da8893f`](https://github.com/sagemath/sagetrac-mirror/commit/da8893f5c68353345ba8a18a07d371705084a9e7)** to **[`5167e6c`](https://github.com/sagemath/sagetrac-mirror/commit/5167e6cfc4130eb88b78ddf9eb5e130c089f39f9)**



---

archive/issue_comments_485508.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@slel](#comment%3A41):\n> Have you considered formatted strings instead of additions?\n> \n> ```diff\n> -    unicode_symbol = \" \" + unicode_bigotimes + \" \"\n> +    unicode_symbol = f\" {unicode_bigotimes} \"\n> ```\n\nThanks for the tip; this is done in the latest version.",
    "created_at": "2021-06-29T17:38:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485508",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@slel](#comment%3A41):
> Have you considered formatted strings instead of additions?
> 
> ```diff
> -    unicode_symbol = " " + unicode_bigotimes + " "
> +    unicode_symbol = f" {unicode_bigotimes} "
> ```

Thanks for the tip; this is done in the latest version.



---

archive/issue_comments_485509.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nI've added \u2202/\u2202... for the vector fields of coordinate frames and \u211d for the real line. So I think this is ready for review now.",
    "created_at": "2021-06-29T17:44:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485509",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:44" align="right">comment:44</div>

I've added ∂/∂... for the vector fields of coordinate frames and ℝ for the real line. So I think this is ready for review now.



---

archive/issue_events_416970.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2021-06-29T17:44:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416970"
}
```



---

archive/issue_comments_485510.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nShouldn't unicode output only be used if `%display unicode_art` is set? It is not set by default, which means that it would not be necessary to touch all the doctests in this ticket.\n\nAs unicode output requires the presence of suitable fonts, I think it might be best if it stays optional.",
    "created_at": "2021-06-29T18:36:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485510",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:45" align="right">comment:45</div>

Shouldn't unicode output only be used if `%display unicode_art` is set? It is not set by default, which means that it would not be necessary to touch all the doctests in this ticket.

As unicode output requires the presence of suitable fonts, I think it might be best if it stays optional.



---

archive/issue_comments_485511.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nReplying to [@mwageringel](#comment%3A45):\n> Shouldn't unicode output only be used if `%display unicode_art` is set? It is not set by default, which means that it would not be necessary to touch all the doctests in this ticket.\n\nNo, I don't think so. \"Unicode art\", in extension of \"ASCII art\", means to use multiline character art. Merely using non-ASCII characters does not make something unicode art.",
    "created_at": "2021-06-29T18:52:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485511",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:46" align="right">comment:46</div>

Replying to [@mwageringel](#comment%3A45):
> Shouldn't unicode output only be used if `%display unicode_art` is set? It is not set by default, which means that it would not be necessary to touch all the doctests in this ticket.

No, I don't think so. "Unicode art", in extension of "ASCII art", means to use multiline character art. Merely using non-ASCII characters does not make something unicode art.



---

archive/issue_events_416971.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-29T18:54:01Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "title_is": "Unicode operators for sage.manifolds",
    "title_was": "Unicode art for sage.manifolds",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416971"
}
```



---

archive/issue_comments_485512.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\n(The title of the ticket should probably be changed.)",
    "created_at": "2021-06-29T18:54:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485512",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:47" align="right">comment:47</div>

(The title of the ticket should probably be changed.)



---

archive/issue_comments_485513.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@mkoeppe](#comment%3A46):\n> No, I don't think so. \"Unicode art\", in extension of \"ASCII art\", means to use multiline character art. Merely using non-ASCII characters does not make something unicode art. \n\nOk, thanks for clarifying.",
    "created_at": "2021-06-29T19:04:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485513",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@mkoeppe](#comment%3A46):
> No, I don't think so. "Unicode art", in extension of "ASCII art", means to use multiline character art. Merely using non-ASCII characters does not make something unicode art. 

Ok, thanks for clarifying.



---

archive/issue_comments_485514.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-replacing\n+Replacing\n * `/\\` by \u2227 (U+2227)\n * `*` by \u2297 (U+2297) for tensor products  \n * `-->` by \u2192 (U+2192), `|-->` by \u21a6 (U+21A6)\n@@ -12,3 +12,27 @@\n - https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode\n - https://unicode.org/charts/PDF/U2200.pdf\n - https://unicode.org/charts/PDF/U2100.pdf\n+\n+With the code introduced in this ticket, we have\n+\n+```\n+sage: M = Manifold(2, 'M')\n+sage: X.<x,y> = M.chart()\n+sage: M.identity_map().display()\n+Id_M: M \u2192 M\n+   (x, y) \u21a6 (x, y)\n+sage: M.zero_scalar_field().display()\n+zero: M \u2192 \u211d\n+   (x, y) \u21a6 0\n+sage: v = M.vector_field(-y, x, name='v')\n+sage: v.display()\n+v = -y \u2202/\u2202x + x \u2202/\u2202y\n+sage: f = M.scalar_field(x^2 + y^2, name='f')\n+sage: f.display()\n+f: M \u2192 \u211d\n+   (x, y) \u21a6 x^2 + y^2\n+sage: diff(f).display()\n+df = 2*x dx + 2*y dy\n+sage: (v*diff(f)).display()\n+v\u2297df = -2*x*y \u2202/\u2202x\u2297dx - 2*y^2 \u2202/\u2202x\u2297dy + 2*x^2 \u2202/\u2202y\u2297dx + 2*x*y \u2202/\u2202y\u2297dy\n+```\n``````\n",
    "created_at": "2021-06-29T20:14:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485514",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-replacing
+Replacing
 * `/\` by ∧ (U+2227)
 * `*` by ⊗ (U+2297) for tensor products  
 * `-->` by → (U+2192), `|-->` by ↦ (U+21A6)
@@ -12,3 +12,27 @@
 - https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode
 - https://unicode.org/charts/PDF/U2200.pdf
 - https://unicode.org/charts/PDF/U2100.pdf
+
+With the code introduced in this ticket, we have
+
+```
+sage: M = Manifold(2, 'M')
+sage: X.<x,y> = M.chart()
+sage: M.identity_map().display()
+Id_M: M → M
+   (x, y) ↦ (x, y)
+sage: M.zero_scalar_field().display()
+zero: M → ℝ
+   (x, y) ↦ 0
+sage: v = M.vector_field(-y, x, name='v')
+sage: v.display()
+v = -y ∂/∂x + x ∂/∂y
+sage: f = M.scalar_field(x^2 + y^2, name='f')
+sage: f.display()
+f: M → ℝ
+   (x, y) ↦ x^2 + y^2
+sage: diff(f).display()
+df = 2*x dx + 2*y dy
+sage: (v*diff(f)).display()
+v⊗df = -2*x*y ∂/∂x⊗dx - 2*y^2 ∂/∂x⊗dy + 2*x^2 ∂/∂y⊗dx + 2*x*y ∂/∂y⊗dy
+```
``````




---

archive/issue_comments_485515.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nReplying to [@mwageringel](#comment%3A48):\n> Replying to [@mkoeppe](#comment%3A46):\n> > No, I don't think so. \"Unicode art\", in extension of \"ASCII art\", means to use multiline character art. Merely using non-ASCII characters does not make something unicode art. \n\n> \n> Ok, thanks for clarifying.\n\nI've updated the ticket description to show the purpose of this ticket via some examples.",
    "created_at": "2021-06-29T20:18:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485515",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:50" align="right">comment:50</div>

Replying to [@mwageringel](#comment%3A48):
> Replying to [@mkoeppe](#comment%3A46):
> > No, I don't think so. "Unicode art", in extension of "ASCII art", means to use multiline character art. Merely using non-ASCII characters does not make something unicode art. 

> 
> Ok, thanks for clarifying.

I've updated the ticket description to show the purpose of this ticket via some examples.



---

archive/issue_comments_485516.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -27,6 +27,10 @@\n sage: v = M.vector_field(-y, x, name='v')\n sage: v.display()\n v = -y \u2202/\u2202x + x \u2202/\u2202y\n+sage: X.frame()\n+Coordinate frame (M, (\u2202/\u2202x,\u2202/\u2202y))\n+sage: v.wedge(X.frame()[0]).display()\n+v\u2227\u2202/\u2202x = -x \u2202/\u2202x\u2227\u2202/\u2202y\n sage: f = M.scalar_field(x^2 + y^2, name='f')\n sage: f.display()\n f: M \u2192 \u211d\n``````\n",
    "created_at": "2021-06-29T20:24:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485516",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -27,6 +27,10 @@
 sage: v = M.vector_field(-y, x, name='v')
 sage: v.display()
 v = -y ∂/∂x + x ∂/∂y
+sage: X.frame()
+Coordinate frame (M, (∂/∂x,∂/∂y))
+sage: v.wedge(X.frame()[0]).display()
+v∧∂/∂x = -x ∂/∂x∧∂/∂y
 sage: f = M.scalar_field(x^2 + y^2, name='f')
 sage: f.display()
 f: M → ℝ
``````




---

archive/issue_comments_485517.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nI think in `*TensorProductFunctor`, we should use `U+2297` -- i.e., `unicode_otimes` -- since it is a binary operator.",
    "created_at": "2021-06-29T23:28:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485517",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:52" align="right">comment:52</div>

I think in `*TensorProductFunctor`, we should use `U+2297` -- i.e., `unicode_otimes` -- since it is a binary operator.



---

archive/issue_comments_485518.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [@mwageringel](#comment%3A7):\n> Replying to [@mjungmath](#comment%3A6):\n> > Is the preparser also capable of something like\n> > \n> > type \"\\otimes\" -> press `TAB` -> unicode character pops up\n> > \n> > similarly to Greek letters in Py3 right now?\n\n> \n> That is an IPython feature, which does not seem to be implemented for operators like `\\otimes`. The preparser is not capable of this.\n\nTh IPython feature could be hooked into. The relevant dictionaries are `IPython.core.latex_symbols.latex_symbols` and `IPython.core.latex_symbols.reverse_latex_symbols`. You could install new translations by updating those dictionaries. It would probably be worth trialing it a bit to see if there are unwanted side-effects (the dictionary may be used for other purposes -- the source mentions it's a list borrowed from Julia, with entries removed that do not yield valid Python identifiers)",
    "created_at": "2021-06-30T01:55:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485518",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [@mwageringel](#comment%3A7):
> Replying to [@mjungmath](#comment%3A6):
> > Is the preparser also capable of something like
> > 
> > type "\otimes" -> press `TAB` -> unicode character pops up
> > 
> > similarly to Greek letters in Py3 right now?

> 
> That is an IPython feature, which does not seem to be implemented for operators like `\otimes`. The preparser is not capable of this.

Th IPython feature could be hooked into. The relevant dictionaries are `IPython.core.latex_symbols.latex_symbols` and `IPython.core.latex_symbols.reverse_latex_symbols`. You could install new translations by updating those dictionaries. It would probably be worth trialing it a bit to see if there are unwanted side-effects (the dictionary may be used for other purposes -- the source mentions it's a list borrowed from Julia, with entries removed that do not yield valid Python identifiers)



---

archive/issue_comments_485519.json:
```json
{
    "body": "Changed commit from **[`5167e6c`](https://github.com/sagemath/sagetrac-mirror/commit/5167e6cfc4130eb88b78ddf9eb5e130c089f39f9)** to **[`332410b`](https://github.com/sagemath/sagetrac-mirror/commit/332410b486ea3e180c073042980947d820824674)**",
    "created_at": "2021-06-30T19:58:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485519",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5167e6c`](https://github.com/sagemath/sagetrac-mirror/commit/5167e6cfc4130eb88b78ddf9eb5e130c089f39f9)** to **[`332410b`](https://github.com/sagemath/sagetrac-mirror/commit/332410b486ea3e180c073042980947d820824674)**



---

archive/issue_comments_485520.json:
```json
{
    "body": "<div id=\"comment:54\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/332410b486ea3e180c073042980947d820824674\"><code>332410b</code></a></td><td><code>Use unicode_otimes in TensorProductFunctor and SignedTensorProductFunctor</code></td></tr></table>\n",
    "created_at": "2021-06-30T19:58:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485520",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:54"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/332410b486ea3e180c073042980947d820824674"><code>332410b</code></a></td><td><code>Use unicode_otimes in TensorProductFunctor and SignedTensorProductFunctor</code></td></tr></table>




---

archive/issue_comments_485521.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nReplying to [@tscrim](#comment%3A52):\n> I think in `*TensorProductFunctor`, we should use `U+2297` -- i.e., `unicode_otimes` -- since it is a binary operator.\n\nDone in the latest commit. Incidently, note that this is doctested by only one test, in `src/sage/combinat/free_module.py`, and never shows up in the reference manual, as pointed out in [comment:11](#comment%3A11).",
    "created_at": "2021-06-30T20:05:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485521",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:55" align="right">comment:55</div>

Replying to [@tscrim](#comment%3A52):
> I think in `*TensorProductFunctor`, we should use `U+2297` -- i.e., `unicode_otimes` -- since it is a binary operator.

Done in the latest commit. Incidently, note that this is doctested by only one test, in `src/sage/combinat/free_module.py`, and never shows up in the reference manual, as pointed out in [comment:11](#comment%3A11).



---

archive/issue_comments_485522.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nWhat's wrong with the patchbot? I'm looking forward for a positive review due to #30272.",
    "created_at": "2021-07-05T09:08:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485522",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:56" align="right">comment:56</div>

What's wrong with the patchbot? I'm looking forward for a positive review due to #30272.



---

archive/issue_comments_485523.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nSome patchbots are stuck due to #29977.",
    "created_at": "2021-07-05T09:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485523",
    "user": "https://github.com/slel"
}
```

<div id="comment:57" align="right">comment:57</div>

Some patchbots are stuck due to #29977.



---

archive/issue_comments_485524.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\n\n```\nsage -t --random-seed=0 src/sage/manifolds/differentiable/diff_map.py\n**********************************************************************\nFile \"src/sage/manifolds/differentiable/diff_map.py\", line 933, in sage.manifolds.differentiable.diff_map.DiffMap.pullback\nFailed example:\n    gM.display()\nExpected:\n    (2*cos(t) + 2) dt*dt\nGot:\n    (2*cos(t) + 2) dt\u2297dt\n```",
    "created_at": "2021-07-05T16:47:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485524",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:58" align="right">comment:58</div>


```
sage -t --random-seed=0 src/sage/manifolds/differentiable/diff_map.py
**********************************************************************
File "src/sage/manifolds/differentiable/diff_map.py", line 933, in sage.manifolds.differentiable.diff_map.DiffMap.pullback
Failed example:
    gM.display()
Expected:
    (2*cos(t) + 2) dt*dt
Got:
    (2*cos(t) + 2) dt⊗dt
```



---

archive/issue_events_416972.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-05T16:47:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416972"
}
```



---

archive/issue_events_416973.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-05T16:47:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416973"
}
```



---

archive/issue_comments_485525.json:
```json
{
    "body": "Changed commit from **[`332410b`](https://github.com/sagemath/sagetrac-mirror/commit/332410b486ea3e180c073042980947d820824674)** to **[`d87d09b`](https://github.com/sagemath/sagetrac-mirror/commit/d87d09b7e101ac462c04372b2f8cd691cdb774a1)**",
    "created_at": "2021-07-05T17:14:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485525",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`332410b`](https://github.com/sagemath/sagetrac-mirror/commit/332410b486ea3e180c073042980947d820824674)** to **[`d87d09b`](https://github.com/sagemath/sagetrac-mirror/commit/d87d09b7e101ac462c04372b2f8cd691cdb774a1)**



---

archive/issue_comments_485526.json:
```json
{
    "body": "<div id=\"comment:59\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5d15d263101b4ab17343cf6f2c206025a12ccd7\"><code>f5d15d2</code></a></td><td><code>Merge branch 'public/manifolds/unicode_art' of git://trac.sagemath.org/sage into Sage 9.4.beta4.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d87d09b7e101ac462c04372b2f8cd691cdb774a1\"><code>d87d09b</code></a></td><td><code>#30473: fix doctest error in DiffMap.pullback</code></td></tr></table>\n",
    "created_at": "2021-07-05T17:14:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485526",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:59"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5d15d263101b4ab17343cf6f2c206025a12ccd7"><code>f5d15d2</code></a></td><td><code>Merge branch 'public/manifolds/unicode_art' of git://trac.sagemath.org/sage into Sage 9.4.beta4.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d87d09b7e101ac462c04372b2f8cd691cdb774a1"><code>d87d09b</code></a></td><td><code>#30473: fix doctest error in DiffMap.pullback</code></td></tr></table>




---

archive/issue_comments_485527.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nReplying to [@mkoeppe](#comment%3A58):\n> \n> ```\n> sage -t --random-seed=0 src/sage/manifolds/differentiable/diff_map.py\n> **********************************************************************\n> File \"src/sage/manifolds/differentiable/diff_map.py\", line 933, in sage.manifolds.differentiable.diff_map.DiffMap.pullback\n> Failed example:\n>     gM.display()\n> Expected:\n>     (2*cos(t) + 2) dt*dt\n> Got:\n>     (2*cos(t) + 2) dt\u2297dt\n> ```\n\nThanks for pointing this out (this was due to the merge of #31904 in 9.4.beta4).",
    "created_at": "2021-07-05T17:16:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485527",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:60" align="right">comment:60</div>

Replying to [@mkoeppe](#comment%3A58):
> 
> ```
> sage -t --random-seed=0 src/sage/manifolds/differentiable/diff_map.py
> **********************************************************************
> File "src/sage/manifolds/differentiable/diff_map.py", line 933, in sage.manifolds.differentiable.diff_map.DiffMap.pullback
> Failed example:
>     gM.display()
> Expected:
>     (2*cos(t) + 2) dt*dt
> Got:
>     (2*cos(t) + 2) dt⊗dt
> ```

Thanks for pointing this out (this was due to the merge of #31904 in 9.4.beta4).



---

archive/issue_events_416974.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2021-07-05T17:16:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416974"
}
```



---

archive/issue_events_416975.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2021-07-05T17:16:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416975"
}
```



---

archive/issue_comments_485528.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe**",
    "created_at": "2021-07-05T17:38:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485528",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe**



---

archive/issue_events_416976.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-05T17:38:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416976"
}
```



---

archive/issue_events_416977.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-05T17:38:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416977"
}
```



---

archive/issue_comments_485529.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nThank you for the review!",
    "created_at": "2021-07-05T20:10:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485529",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:62" align="right">comment:62</div>

Thank you for the review!



---

archive/issue_comments_485530.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nI'm getting a lot of test failures of the form \n\n```\n**********************************************************************\nFile \"src/sage/calculus/functional.py\", line 145, in sage.calculus.functional.derivative\nFailed example:\n    derivative(a).display()\nExpected:\n    da = 2 dx/\\dy\nGot:\n    da = 2 dx\u2227dy\n**********************************************************************\n```\ncan you please do a whole `make ptestlong`",
    "created_at": "2021-07-07T20:55:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485530",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:63" align="right">comment:63</div>

I'm getting a lot of test failures of the form 

```
**********************************************************************
File "src/sage/calculus/functional.py", line 145, in sage.calculus.functional.derivative
Failed example:
    derivative(a).display()
Expected:
    da = 2 dx/\dy
Got:
    da = 2 dx∧dy
**********************************************************************
```
can you please do a whole `make ptestlong`



---

archive/issue_events_416978.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-07T20:55:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416978"
}
```



---

archive/issue_events_416979.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-07T20:55:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416979"
}
```



---

archive/issue_comments_485531.json:
```json
{
    "body": "<div id=\"comment:64\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2ae50e68687b59af27e35a4ec02b0f667ea828c\"><code>f2ae50e</code></a></td><td><code>#30473: fix doctests outside sage/manifolds and sage/tensor/modules</code></td></tr></table>\n",
    "created_at": "2021-07-07T22:15:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485531",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:64"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2ae50e68687b59af27e35a4ec02b0f667ea828c"><code>f2ae50e</code></a></td><td><code>#30473: fix doctests outside sage/manifolds and sage/tensor/modules</code></td></tr></table>




---

archive/issue_comments_485532.json:
```json
{
    "body": "Changed commit from **[`d87d09b`](https://github.com/sagemath/sagetrac-mirror/commit/d87d09b7e101ac462c04372b2f8cd691cdb774a1)** to **[`f2ae50e`](https://github.com/sagemath/sagetrac-mirror/commit/f2ae50e68687b59af27e35a4ec02b0f667ea828c)**",
    "created_at": "2021-07-07T22:15:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485532",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d87d09b`](https://github.com/sagemath/sagetrac-mirror/commit/d87d09b7e101ac462c04372b2f8cd691cdb774a1)** to **[`f2ae50e`](https://github.com/sagemath/sagetrac-mirror/commit/f2ae50e68687b59af27e35a4ec02b0f667ea828c)**



---

archive/issue_comments_485533.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nReplying to [@vbraun](#comment%3A63):\n> I'm getting a lot of test failures of the form \n> [...]\n> can you please do a whole `make ptestlong`\n\nThanks for pointing this out. This is fixed in the latest commit.",
    "created_at": "2021-07-07T22:19:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485533",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:65" align="right">comment:65</div>

Replying to [@vbraun](#comment%3A63):
> I'm getting a lot of test failures of the form 
> [...]
> can you please do a whole `make ptestlong`

Thanks for pointing this out. This is fixed in the latest commit.



---

archive/issue_events_416980.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2021-07-07T22:19:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416980"
}
```



---

archive/issue_events_416981.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2021-07-07T22:19:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416981"
}
```



---

archive/issue_events_416982.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-07T23:06:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416982"
}
```



---

archive/issue_events_416983.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-07T23:06:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416983"
}
```



---

archive/issue_comments_485534.json:
```json
{
    "body": "Changed branch from **[public/manifolds/unicode_art](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/unicode_art)** to **[`f2ae50e`](https://github.com/sagemath/sagetrac-mirror/commit/f2ae50e68687b59af27e35a4ec02b0f667ea828c)**",
    "created_at": "2021-07-18T22:53:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30473#issuecomment-485534",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/manifolds/unicode_art](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/unicode_art)** to **[`f2ae50e`](https://github.com/sagemath/sagetrac-mirror/commit/f2ae50e68687b59af27e35a4ec02b0f667ea828c)**



---

archive/issue_events_416984.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-18T22:53:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416984"
}
```



---

archive/issue_events_416985.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "26e5a2734fae44b8cb813e326cae828666930ff5",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-07-18T22:53:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30473",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30473#event-416985"
}
```
