# Issue 30984: sage_setup: Replace imports from distutils by setuptools

archive/issues_030747.json:
```json
{
    "body": "... in anticipation of the `distutils` deprecation (https://www.python.org/dev/peps/pep-0632/)\n\nFrom https://setuptools.readthedocs.io/en/latest/deprecated/distutils-legacy.html \n\n- `distutils.core.setup` \u2192 `setuptools.setup`\n- `distutils.cmd.Command` \u2192 `setuptools.Command`\n- `distutils.log` \u2192 `(no replacement yet)`\n- `distutils.version.*` \u2192 `packaging.version.*`\n\n\"If a project relies on uses of distutils that do not have a suitable replacement above, please search the Setuptools issue tracker and file a request, describing the use-case so that Setuptools\u2019 maintainers can investigate.\"\n\nPart of #31295 (Meta-ticket: Replace imports from deprecated distutils)\n\n\nCC:  @jhpalmieri @kiwifb @kliem\n\nBranch/Commit: 25b877c066e4d139ccf8bcd70c2148a5dd507211\n\nReviewer: Matthias Koeppe, John Palmieri\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton, Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30984\n\n",
    "closed_at": "2021-03-07T17:06:10Z",
    "created_at": "2020-11-30T16:37:58Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "sage_setup: Replace imports from distutils by setuptools",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30984",
    "user": "https://github.com/mkoeppe"
}
```
... in anticipation of the `distutils` deprecation (https://www.python.org/dev/peps/pep-0632/)

From https://setuptools.readthedocs.io/en/latest/deprecated/distutils-legacy.html 

- `distutils.core.setup` → `setuptools.setup`
- `distutils.cmd.Command` → `setuptools.Command`
- `distutils.log` → `(no replacement yet)`
- `distutils.version.*` → `packaging.version.*`

"If a project relies on uses of distutils that do not have a suitable replacement above, please search the Setuptools issue tracker and file a request, describing the use-case so that Setuptools’ maintainers can investigate."

Part of #31295 (Meta-ticket: Replace imports from deprecated distutils)


CC:  @jhpalmieri @kiwifb @kliem

Branch/Commit: 25b877c066e4d139ccf8bcd70c2148a5dd507211

Reviewer: Matthias Koeppe, John Palmieri

Author: Frédéric Chapoton, Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30984





---

archive/issue_comments_468896.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-... in anticipation of the `distutils` deprecation\n+... in anticipation of the `distutils` deprecation (https://www.python.org/dev/peps/pep-0632/)\n \n Comment: 1\n \n``````\n",
    "created_at": "2020-11-30T16:39:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30984#issuecomment-468896",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-... in anticipation of the `distutils` deprecation
+... in anticipation of the `distutils` deprecation (https://www.python.org/dev/peps/pep-0632/)
 
 Comment: 1
 
``````




---

archive/issue_comments_468897.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,17 @@\n+... in anticipation of the `distutils` deprecation (https://www.python.org/dev/peps/pep-0632/)\n+\n+From https://setuptools.readthedocs.io/en/latest/deprecated/distutils-legacy.html \n+\n+- `distutils.core.setup` \u2192 `setuptools.setup`\n+\n+- `distutils.cmd.Command` \u2192 `setuptools.Command`\n+\n+- `distutils.log` \u2192 `(no replacement yet)`\n+\n+- `distutils.version.*` \u2192 `packaging.version.*`\n+\n+\"If a project relies on uses of distutils that do not have a suitable replacement above, please search the Setuptools issue tracker and file a request, describing the use-case so that Setuptools\u2019 maintainers can investigate.\"\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-12-01T04:41:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30984#issuecomment-468897",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,17 @@
+... in anticipation of the `distutils` deprecation (https://www.python.org/dev/peps/pep-0632/)
+
+From https://setuptools.readthedocs.io/en/latest/deprecated/distutils-legacy.html 
+
+- `distutils.core.setup` → `setuptools.setup`
+
+- `distutils.cmd.Command` → `setuptools.Command`
+
+- `distutils.log` → `(no replacement yet)`
+
+- `distutils.version.*` → `packaging.version.*`
+
+"If a project relies on uses of distutils that do not have a suitable replacement above, please search the Setuptools issue tracker and file a request, describing the use-case so that Setuptools’ maintainers can investigate."
+
 
 
 Comment: 1
``````




---

archive/issue_comments_468898.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2020-12-13T10:55:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30984#issuecomment-468898",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_468899.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-12-13T10:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30984#issuecomment-468899",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_468900.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-02-06T03:40:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30984#issuecomment-468900",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_468901.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-02-06T03:48:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30984#issuecomment-468901",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_468902.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,14 @@\n+... in anticipation of the `distutils` deprecation (https://www.python.org/dev/peps/pep-0632/)\n+\n+From https://setuptools.readthedocs.io/en/latest/deprecated/distutils-legacy.html \n+\n+- `distutils.core.setup` \u2192 `setuptools.setup`\n+- `distutils.cmd.Command` \u2192 `setuptools.Command`\n+- `distutils.log` \u2192 `(no replacement yet)`\n+- `distutils.version.*` \u2192 `packaging.version.*`\n+\n+\"If a project relies on uses of distutils that do not have a suitable replacement above, please search the Setuptools issue tracker and file a request, describing the use-case so that Setuptools\u2019 maintainers can investigate.\"\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2021-02-06T03:52:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30984#issuecomment-468902",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,14 @@
+... in anticipation of the `distutils` deprecation (https://www.python.org/dev/peps/pep-0632/)
+
+From https://setuptools.readthedocs.io/en/latest/deprecated/distutils-legacy.html 
+
+- `distutils.core.setup` → `setuptools.setup`
+- `distutils.cmd.Command` → `setuptools.Command`
+- `distutils.log` → `(no replacement yet)`
+- `distutils.version.*` → `packaging.version.*`
+
+"If a project relies on uses of distutils that do not have a suitable replacement above, please search the Setuptools issue tracker and file a request, describing the use-case so that Setuptools’ maintainers can investigate."
+
 
 
 Comment: 1
``````




---

archive/issue_comments_468903.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-02-06T03:55:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30984#issuecomment-468903",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_468904.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-02-06T03:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30984#issuecomment-468904",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_468905.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-06T04:13:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30984#issuecomment-468905",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_468906.json:
```json
{
    "body": "<a id='comment:14'></a>This works for me when building Sage and when upgrading `sagelib` from 9.3.beta6 to 9.3.beta7, or from building the develop branch to building this one. What else should I test?",
    "created_at": "2021-02-12T00:32:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30984#issuecomment-468906",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:14'></a>This works for me when building Sage and when upgrading `sagelib` from 9.3.beta6 to 9.3.beta7, or from building the develop branch to building this one. What else should I test?



---

archive/issue_comments_468907.json:
```json
{
    "body": "<a id='comment:15'></a>I've used it for a while now, I wouldn't know what else to test either.",
    "created_at": "2021-02-12T00:36:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30984#issuecomment-468907",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>I've used it for a while now, I wouldn't know what else to test either.



---

archive/issue_comments_468908.json:
```json
{
    "body": "<a id='comment:16'></a>The title shows that the ticket is very specific, are there other tickets I have missed for:\n* setup.py\n* sage/misc/cython.py\n* sage/env.py\n* documentation mentioning distutils specifically",
    "created_at": "2021-02-12T00:51:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30984#issuecomment-468908",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:16'></a>The title shows that the ticket is very specific, are there other tickets I have missed for:
* setup.py
* sage/misc/cython.py
* sage/env.py
* documentation mentioning distutils specifically



---

archive/issue_comments_468909.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,15 @@\n+... in anticipation of the `distutils` deprecation (https://www.python.org/dev/peps/pep-0632/)\n+\n+From https://setuptools.readthedocs.io/en/latest/deprecated/distutils-legacy.html \n+\n+- `distutils.core.setup` \u2192 `setuptools.setup`\n+- `distutils.cmd.Command` \u2192 `setuptools.Command`\n+- `distutils.log` \u2192 `(no replacement yet)`\n+- `distutils.version.*` \u2192 `packaging.version.*`\n+\n+\"If a project relies on uses of distutils that do not have a suitable replacement above, please search the Setuptools issue tracker and file a request, describing the use-case so that Setuptools\u2019 maintainers can investigate.\"\n+\n+Part of #31295 (Meta-ticket: Replace imports from deprecated distutils)\n \n \n Comment: 1\n``````\n",
    "created_at": "2021-02-12T00:53:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30984#issuecomment-468909",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,15 @@
+... in anticipation of the `distutils` deprecation (https://www.python.org/dev/peps/pep-0632/)
+
+From https://setuptools.readthedocs.io/en/latest/deprecated/distutils-legacy.html 
+
+- `distutils.core.setup` → `setuptools.setup`
+- `distutils.cmd.Command` → `setuptools.Command`
+- `distutils.log` → `(no replacement yet)`
+- `distutils.version.*` → `packaging.version.*`
+
+"If a project relies on uses of distutils that do not have a suitable replacement above, please search the Setuptools issue tracker and file a request, describing the use-case so that Setuptools’ maintainers can investigate."
+
+Part of #31295 (Meta-ticket: Replace imports from deprecated distutils)
 
 
 Comment: 1
``````




---

archive/issue_comments_468910.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-02-16T21:05:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30984#issuecomment-468910",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_468911.json:
```json
{
    "body": "<a id='comment:20'></a>Thank you!",
    "created_at": "2021-02-16T21:11:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30984#issuecomment-468911",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>Thank you!



---

archive/issue_comments_468912.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-03-07T17:06:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30984#issuecomment-468912",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_080912.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-07T17:06:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30984",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30984#event-80912"
}
```
