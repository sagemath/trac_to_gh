# Issue 30085: Implemented constructions for Kasami codes

archive/issues_029848.json:
```json
{
    "body": "We added methods to generate the extended Kasami codes and the Kasami codes.\nFor a definition of those codes see the book \"Distance-Regular Graphs\" by Brouwer et. al.\n\nDepends on #21226\n\n**CC:**  @dimpase @johanrosenkilde @xcaruso\n\n**Keywords:** linear_codes\n\n**Branch/Commit:** [b94cc3b1a2a9ec61e294bc8310b77590b4f3df44](https://github.com/sagemath/sagetrac-mirror/commit/b94cc3b1a2a9ec61e294bc8310b77590b4f3df44)\n\n**Reviewer:** Dima Pasechnik\n\n**Author:** Ivo Maffei\n\nIssue created by migration from https://trac.sagemath.org/ticket/30085\n\n",
    "closed_at": "2020-07-25T22:51:07Z",
    "created_at": "2020-07-07T11:43:09Z",
    "labels": [
        "component: coding theory",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "title": "Implemented constructions for Kasami codes",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/30085",
    "user": "https://github.com/Ivo-Maffei"
}
```
We added methods to generate the extended Kasami codes and the Kasami codes.
For a definition of those codes see the book "Distance-Regular Graphs" by Brouwer et. al.

Depends on #21226

**CC:**  @dimpase @johanrosenkilde @xcaruso

**Keywords:** linear_codes

**Branch/Commit:** [b94cc3b1a2a9ec61e294bc8310b77590b4f3df44](https://github.com/sagemath/sagetrac-mirror/commit/b94cc3b1a2a9ec61e294bc8310b77590b4f3df44)

**Reviewer:** Dima Pasechnik

**Author:** Ivo Maffei

Issue created by migration from https://trac.sagemath.org/ticket/30085





---

archive/issue_events_268695.json:
```json
{
    "actor": "https://github.com/Ivo-Maffei",
    "created_at": "2020-07-07T11:45:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30085#event-268695"
}
```



---

archive/issue_comments_479020.json:
```json
{
    "body": "<a id='comment:2'></a>\nOK, could you add checks on things like minimal distances of these codes?\nAlso, IIRC they are used to construct certain d.r.g.'s - could you mention which ones?",
    "created_at": "2020-07-07T15:37:25Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479020",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:2'></a>
OK, could you add checks on things like minimal distances of these codes?
Also, IIRC they are used to construct certain d.r.g.'s - could you mention which ones?



---

archive/issue_comments_479021.json:
```json
{
    "body": "<a id='comment:3'></a>\nA minor merge conflict with #21226 - perhaps base this on top of the branch of #21226.\n\nWould be also nice to have it seen by coding theory people - I CCd two.",
    "created_at": "2020-07-08T12:08:15Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479021",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>
A minor merge conflict with #21226 - perhaps base this on top of the branch of #21226.

Would be also nice to have it seen by coding theory people - I CCd two.



---

archive/issue_comments_479022.json:
```json
{
    "body": "**Changing commit** from \"[8fe145b3e32446926c68c66b0367837ef540327f](https://github.com/sagemath/sagetrac-mirror/commit/8fe145b3e32446926c68c66b0367837ef540327f)\" to \"[b9fe4094f24f2546a1f4119f5dbec61d8f6ca091](https://github.com/sagemath/sagetrac-mirror/commit/b9fe4094f24f2546a1f4119f5dbec61d8f6ca091)\".",
    "created_at": "2020-07-08T12:16:34Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479022",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8fe145b3e32446926c68c66b0367837ef540327f](https://github.com/sagemath/sagetrac-mirror/commit/8fe145b3e32446926c68c66b0367837ef540327f)" to "[b9fe4094f24f2546a1f4119f5dbec61d8f6ca091](https://github.com/sagemath/sagetrac-mirror/commit/b9fe4094f24f2546a1f4119f5dbec61d8f6ca091)".



---

archive/issue_comments_479023.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b9fe4094f24f2546a1f4119f5dbec61d8f6ca091\">b9fe409</a></td><td><code>added drg to docstring; added minimum dist tests</code></td></tr></table>\n",
    "created_at": "2020-07-08T12:16:34Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479023",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b9fe4094f24f2546a1f4119f5dbec61d8f6ca091">b9fe409</a></td><td><code>added drg to docstring; added minimum dist tests</code></td></tr></table>




---

archive/issue_comments_479024.json:
```json
{
    "body": "**Changing commit** from \"[b9fe4094f24f2546a1f4119f5dbec61d8f6ca091](https://github.com/sagemath/sagetrac-mirror/commit/b9fe4094f24f2546a1f4119f5dbec61d8f6ca091)\" to \"[b413fee4402793e08f60de8740a6d2abf390611f](https://github.com/sagemath/sagetrac-mirror/commit/b413fee4402793e08f60de8740a6d2abf390611f)\".",
    "created_at": "2020-07-08T12:25:04Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479024",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b9fe4094f24f2546a1f4119f5dbec61d8f6ca091](https://github.com/sagemath/sagetrac-mirror/commit/b9fe4094f24f2546a1f4119f5dbec61d8f6ca091)" to "[b413fee4402793e08f60de8740a6d2abf390611f](https://github.com/sagemath/sagetrac-mirror/commit/b413fee4402793e08f60de8740a6d2abf390611f)".



---

archive/issue_comments_479025.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7d9438a1596c15c68504afb53f9757c2a523661\">f7d9438</a></td><td><code>Merge in 28350, Linear Code No Metric</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4d3e89225c99905740c59610d8fb3c51973ed03\">d4d3e89</a></td><td><code>No Metric changes. Removed Relative Finite Field Extension, added vector_space method and basis option. Doctests and documentation. Deleted rank metric specific encoders.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e32a0cadd9fba911695d4a975a06b115abc5adf\">1e32a0c</a></td><td><code>Super method of LinearRankMetricCode includes basis.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3917048479d99e1ce640444fbef072dc2de45088\">3917048</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into rank_metric</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd317046798c5223c9723d569941fdf1f3f10b69\">bd31704</a></td><td><code>Merge branch 'u/gh-emes4/coding/no_metric' of git://trac.sagemath.org/sage into rank_metric</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a115d0f608465d1f59cdd2068add8669df912e7\">0a115d0</a></td><td><code>Removed zero method. Added field extension method.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ea97acc7b4ab1d9d4d1346872b7b92985cb0e71\">5ea97ac</a></td><td><code>Merge branch 'u/gh-emes4/coding/linear_rank_metric' of git://trac.sagemath.org/sage into rank_metric_codes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f0d00ce7b29a7373b1537f1c8e53388fa39afe0\">3f0d00c</a></td><td><code>Merge remote-tracking branch 'trac/develop' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ffb82979425927ee12a53ddb3da9d66a53b473a8\">ffb8297</a></td><td><code>take into account map change in trac:#28481</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b413fee4402793e08f60de8740a6d2abf390611f\">b413fee</a></td><td><code>merged u/dimpase/coding/linear_rank_metric</code></td></tr></table>\n",
    "created_at": "2020-07-08T12:25:04Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479025",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7d9438a1596c15c68504afb53f9757c2a523661">f7d9438</a></td><td><code>Merge in 28350, Linear Code No Metric</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4d3e89225c99905740c59610d8fb3c51973ed03">d4d3e89</a></td><td><code>No Metric changes. Removed Relative Finite Field Extension, added vector_space method and basis option. Doctests and documentation. Deleted rank metric specific encoders.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e32a0cadd9fba911695d4a975a06b115abc5adf">1e32a0c</a></td><td><code>Super method of LinearRankMetricCode includes basis.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3917048479d99e1ce640444fbef072dc2de45088">3917048</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into rank_metric</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd317046798c5223c9723d569941fdf1f3f10b69">bd31704</a></td><td><code>Merge branch 'u/gh-emes4/coding/no_metric' of git://trac.sagemath.org/sage into rank_metric</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a115d0f608465d1f59cdd2068add8669df912e7">0a115d0</a></td><td><code>Removed zero method. Added field extension method.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ea97acc7b4ab1d9d4d1346872b7b92985cb0e71">5ea97ac</a></td><td><code>Merge branch 'u/gh-emes4/coding/linear_rank_metric' of git://trac.sagemath.org/sage into rank_metric_codes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f0d00ce7b29a7373b1537f1c8e53388fa39afe0">3f0d00c</a></td><td><code>Merge remote-tracking branch 'trac/develop' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ffb82979425927ee12a53ddb3da9d66a53b473a8">ffb8297</a></td><td><code>take into account map change in trac:#28481</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b413fee4402793e08f60de8740a6d2abf390611f">b413fee</a></td><td><code>merged u/dimpase/coding/linear_rank_metric</code></td></tr></table>




---

archive/issue_comments_479026.json:
```json
{
    "body": "**Dependencies:** #21226",
    "created_at": "2020-07-08T12:26:24Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479026",
    "user": "https://github.com/Ivo-Maffei"
}
```

**Dependencies:** #21226



---

archive/issue_comments_479027.json:
```json
{
    "body": "<a id='comment:7'></a>\nI don't know these codes, but I a priori think it would be better to follow the general convention for codes that they be classes. The idea is that if one has special knowledge on such codes (e.g. know either their minimum distance, their weight enumerator, etc.) then a sub-class of AbstractLinearCode would be able to override those methods with specialised, fast ones. Converting your functions to classes requires a bit more boilerplate, but you can follow the thematic tutorial on this.",
    "created_at": "2020-07-08T14:00:10Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479027",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:7'></a>
I don't know these codes, but I a priori think it would be better to follow the general convention for codes that they be classes. The idea is that if one has special knowledge on such codes (e.g. know either their minimum distance, their weight enumerator, etc.) then a sub-class of AbstractLinearCode would be able to override those methods with specialised, fast ones. Converting your functions to classes requires a bit more boilerplate, but you can follow the thematic tutorial on this.



---

archive/issue_comments_479028.json:
```json
{
    "body": "<a id='comment:8'></a>\nIf you insist on keeping these as functions, consider putting the functions in the `code_constructions` module (where other similar functions that produce `LinearCode`s are).",
    "created_at": "2020-07-08T14:03:29Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479028",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:8'></a>
If you insist on keeping these as functions, consider putting the functions in the `code_constructions` module (where other similar functions that produce `LinearCode`s are).



---

archive/issue_comments_479029.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/140ea7e83ce0ca9a839fd40911118c68720744c4\">140ea7e</a></td><td><code>swapped kasami codes to a class</code></td></tr></table>\n",
    "created_at": "2020-07-09T13:40:35Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479029",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/140ea7e83ce0ca9a839fd40911118c68720744c4">140ea7e</a></td><td><code>swapped kasami codes to a class</code></td></tr></table>




---

archive/issue_comments_479030.json:
```json
{
    "body": "**Changing commit** from \"[b413fee4402793e08f60de8740a6d2abf390611f](https://github.com/sagemath/sagetrac-mirror/commit/b413fee4402793e08f60de8740a6d2abf390611f)\" to \"[140ea7e83ce0ca9a839fd40911118c68720744c4](https://github.com/sagemath/sagetrac-mirror/commit/140ea7e83ce0ca9a839fd40911118c68720744c4)\".",
    "created_at": "2020-07-09T13:40:35Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479030",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b413fee4402793e08f60de8740a6d2abf390611f](https://github.com/sagemath/sagetrac-mirror/commit/b413fee4402793e08f60de8740a6d2abf390611f)" to "[140ea7e83ce0ca9a839fd40911118c68720744c4](https://github.com/sagemath/sagetrac-mirror/commit/140ea7e83ce0ca9a839fd40911118c68720744c4)".



---

archive/issue_comments_479031.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/babe9ad0cb7be80970555053c77cf4cdf98e0012\">babe9ad</a></td><td><code>Merge branch 'develop' into kasami_codes</code></td></tr></table>\n",
    "created_at": "2020-07-09T15:29:32Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479031",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/babe9ad0cb7be80970555053c77cf4cdf98e0012">babe9ad</a></td><td><code>Merge branch 'develop' into kasami_codes</code></td></tr></table>




---

archive/issue_comments_479032.json:
```json
{
    "body": "**Changing commit** from \"[140ea7e83ce0ca9a839fd40911118c68720744c4](https://github.com/sagemath/sagetrac-mirror/commit/140ea7e83ce0ca9a839fd40911118c68720744c4)\" to \"[babe9ad0cb7be80970555053c77cf4cdf98e0012](https://github.com/sagemath/sagetrac-mirror/commit/babe9ad0cb7be80970555053c77cf4cdf98e0012)\".",
    "created_at": "2020-07-09T15:29:32Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479032",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[140ea7e83ce0ca9a839fd40911118c68720744c4](https://github.com/sagemath/sagetrac-mirror/commit/140ea7e83ce0ca9a839fd40911118c68720744c4)" to "[babe9ad0cb7be80970555053c77cf4cdf98e0012](https://github.com/sagemath/sagetrac-mirror/commit/babe9ad0cb7be80970555053c77cf4cdf98e0012)".



---

archive/issue_comments_479033.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2020-07-11T10:52:07Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479033",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_comments_479034.json:
```json
{
    "body": "<a id='comment:11'></a>\nJohan, are you happy with the design now? (tests pass, by the way)",
    "created_at": "2020-07-11T10:52:07Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479034",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>
Johan, are you happy with the design now? (tests pass, by the way)



---

archive/issue_comments_479035.json:
```json
{
    "body": "<a id='comment:12'></a>\nI think it is not a good idea to put all the interesting doctests in underscore functions.\n\nActually, I do not see why you need those helper functions. Couldn't you put directly all your code in the method `generator_matrix`?",
    "created_at": "2020-07-11T19:39:51Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479035",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:12'></a>
I think it is not a good idea to put all the interesting doctests in underscore functions.

Actually, I do not see why you need those helper functions. Couldn't you put directly all your code in the method `generator_matrix`?



---

archive/issue_comments_479036.json:
```json
{
    "body": "<a id='comment:13'></a>\nMoreover, on patchbot's report:\n\n```\nsage -t --long src/sage/coding/kasami_codes.pyx  # Timed out\n```\nI think it is more reasonable to remove\n\n```\nsage: C = codes.KasamiCode(64,4)\nsage: C.minimum_distance()  # long time\n4\n```\nand\n\n```\nsage: C = codes.KasamiCode(64,4, extended=False)\nsage: C.minimum_distance()  # long time\n3\n```",
    "created_at": "2020-07-12T06:38:14Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479036",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:13'></a>
Moreover, on patchbot's report:

```
sage -t --long src/sage/coding/kasami_codes.pyx  # Timed out
```
I think it is more reasonable to remove

```
sage: C = codes.KasamiCode(64,4)
sage: C.minimum_distance()  # long time
4
```
and

```
sage: C = codes.KasamiCode(64,4, extended=False)
sage: C.minimum_distance()  # long time
3
```



---

archive/issue_comments_479037.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe8d9a6007d9bcf626c1191666d2b7ca2f0423c3\">fe8d9a6</a></td><td><code>incorporated auxiliary functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12462e076b325a505ca83d13c78b2fa2630a44d3\">12462e0</a></td><td><code>fix bug and whitespaces</code></td></tr></table>\n",
    "created_at": "2020-07-12T10:41:18Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479037",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe8d9a6007d9bcf626c1191666d2b7ca2f0423c3">fe8d9a6</a></td><td><code>incorporated auxiliary functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12462e076b325a505ca83d13c78b2fa2630a44d3">12462e0</a></td><td><code>fix bug and whitespaces</code></td></tr></table>




---

archive/issue_comments_479038.json:
```json
{
    "body": "**Changing commit** from \"[babe9ad0cb7be80970555053c77cf4cdf98e0012](https://github.com/sagemath/sagetrac-mirror/commit/babe9ad0cb7be80970555053c77cf4cdf98e0012)\" to \"[12462e076b325a505ca83d13c78b2fa2630a44d3](https://github.com/sagemath/sagetrac-mirror/commit/12462e076b325a505ca83d13c78b2fa2630a44d3)\".",
    "created_at": "2020-07-12T10:41:18Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479038",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[babe9ad0cb7be80970555053c77cf4cdf98e0012](https://github.com/sagemath/sagetrac-mirror/commit/babe9ad0cb7be80970555053c77cf4cdf98e0012)" to "[12462e076b325a505ca83d13c78b2fa2630a44d3](https://github.com/sagemath/sagetrac-mirror/commit/12462e076b325a505ca83d13c78b2fa2630a44d3)".



---

archive/issue_comments_479039.json:
```json
{
    "body": "<a id='comment:15'></a>\nStructural comments:\n\n- Please reference (also) Kasami's original paper(s): this is more correct and\n  is for many academics more easily obtained than Brouwer's book.\n\n- Please add the definition of Kasami codes in the top of the file. The\n  definition is short and compact (at least the one given in Brouwer). In\n  particular, it should be explicitly mentioned that these are binary codes. They are in fact subfield subcodes of the code having those three equations as parity checks (see also below), so that could be emphasised.\n\n- According to Brouwer, the minimum distance of (extended) Kasami codes is\n  always known. Such cases are exactly the motivation for special classes for a\n  code family: please override `minimum_distance` to return this number without\n  computation.\n\n- Kasami's 1966 technical report is about \"weight distributions\" of codes. Is\n  the entire weight distribution of (extended) Kasami codes known? In that case,\n  it would be much nicer to override `weight_distribution` to return this\n  without having to go through the whole code (see `grs_code.py` for an\n  example). I won't insist, though.\n\n- Whether it's the extended Kasami code or not should perhaps be stored in a\n  local parameter instead of matching on the length all the time.\n\n- I'm concerned that the string epresentation of the code is confusing. Normally\n  we say \"[n, k] linear code\" or \"[n, k] Generalized Reed-Solomon code\" etc.,\n  and printing \"(s, t) <Extended> Kasami code\" may confuse users. Consider\n  e.g. printing \"[n, k] <Extended> (s, t)-Kasami code\".\n\n\nCode comments:\n\nThere are many lines exceeding 80 chars. Is this not still a convention of\nSageMath?\n\n`generator_matrix` is much more complicated than it needs to be: Note that the\nKasami code is a subfield subcode of a code with 3 parity checks over `GF(s)`.\nHere is a few lines of code which produces a generator matrix for the Kasami\ncode:\n\n```\ns = 8\nt = 4\nn = s\nF = GF(s)\nCext = codes.from_parity_check_matrix(matrix(F, 3, n,\n                                      [[1]*n,\n                                       F.list(),\n                                       [ a^(t+1) for a in F]]))\nG = codes.SubfieldSubcode(Cext, GF(2)).generator_matrix()\n```\n\nThe main disadvantage is that this currently emits a warning, because\n#24279 is still not merged. Perhaps this is a good motivation to finish up that\nticket, and use the shorter, more mathematical code for Kasami codes?",
    "created_at": "2020-07-13T08:21:30Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479039",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:15'></a>
Structural comments:

- Please reference (also) Kasami's original paper(s): this is more correct and
  is for many academics more easily obtained than Brouwer's book.

- Please add the definition of Kasami codes in the top of the file. The
  definition is short and compact (at least the one given in Brouwer). In
  particular, it should be explicitly mentioned that these are binary codes. They are in fact subfield subcodes of the code having those three equations as parity checks (see also below), so that could be emphasised.

- According to Brouwer, the minimum distance of (extended) Kasami codes is
  always known. Such cases are exactly the motivation for special classes for a
  code family: please override `minimum_distance` to return this number without
  computation.

- Kasami's 1966 technical report is about "weight distributions" of codes. Is
  the entire weight distribution of (extended) Kasami codes known? In that case,
  it would be much nicer to override `weight_distribution` to return this
  without having to go through the whole code (see `grs_code.py` for an
  example). I won't insist, though.

- Whether it's the extended Kasami code or not should perhaps be stored in a
  local parameter instead of matching on the length all the time.

- I'm concerned that the string epresentation of the code is confusing. Normally
  we say "[n, k] linear code" or "[n, k] Generalized Reed-Solomon code" etc.,
  and printing "(s, t) <Extended> Kasami code" may confuse users. Consider
  e.g. printing "[n, k] <Extended> (s, t)-Kasami code".


Code comments:

There are many lines exceeding 80 chars. Is this not still a convention of
SageMath?

`generator_matrix` is much more complicated than it needs to be: Note that the
Kasami code is a subfield subcode of a code with 3 parity checks over `GF(s)`.
Here is a few lines of code which produces a generator matrix for the Kasami
code:

```
s = 8
t = 4
n = s
F = GF(s)
Cext = codes.from_parity_check_matrix(matrix(F, 3, n,
                                      [[1]*n,
                                       F.list(),
                                       [ a^(t+1) for a in F]]))
G = codes.SubfieldSubcode(Cext, GF(2)).generator_matrix()
```

The main disadvantage is that this currently emits a warning, because
#24279 is still not merged. Perhaps this is a good motivation to finish up that
ticket, and use the shorter, more mathematical code for Kasami codes?



---

archive/issue_comments_479040.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [jsrn](#comment%3A15):\n> The main disadvantage is that this currently emits a warning, because\n> #24279 is still not merged. Perhaps this is a good motivation to finish up that\n> ticket, and use the shorter, more mathematical code for Kasami codes?\n\n\nOf course, it would be very nice to close #24279 and subsequent tickets but I would let this for another time since I'm not sure it will be an easy job.\nIndeed, notice that #21413 is now ready (and merged!) and that several people (including possibly myself at some point) are working on implementing relative finite fields extensions in #28485, which could be a (better?) alternative to #24279.",
    "created_at": "2020-07-13T10:21:46Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479040",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:16'></a>
Replying to [jsrn](#comment%3A15):
> The main disadvantage is that this currently emits a warning, because
> #24279 is still not merged. Perhaps this is a good motivation to finish up that
> ticket, and use the shorter, more mathematical code for Kasami codes?


Of course, it would be very nice to close #24279 and subsequent tickets but I would let this for another time since I'm not sure it will be an easy job.
Indeed, notice that #21413 is now ready (and merged!) and that several people (including possibly myself at some point) are working on implementing relative finite fields extensions in #28485, which could be a (better?) alternative to #24279.



---

archive/issue_comments_479041.json:
```json
{
    "body": "<a id='comment:17'></a>\nlong lines in the code (apart from output of doctests) should not be too long - officially, 80 chars, make it 90 if really needed, but no more.",
    "created_at": "2020-07-13T10:33:00Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479041",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'></a>
long lines in the code (apart from output of doctests) should not be too long - officially, 80 chars, make it 90 if really needed, but no more.



---

archive/issue_comments_479042.json:
```json
{
    "body": "<a id='comment:18'></a>\n@xcaruso: Sure, it's a valid point to not wish to defer progress here by first fixing up stuff elsewhere. I definitely wouldn't wait for #28485, since #24279 is a much easier fix using stuff already shipped in Sage. If not waiting for either tickets is preferred, I see two good options: 1) Use my 2-line implementation above and accept the warning for now. In #24279, we remove this warning. 2) Expand my 2-line implementation to a 5-line one which basically implements the meat of `SubfieldSubcode` itself using the `GF(s).vector space()` method (or simply uses `a.polynomial().list()` since we're going down to `GF(2)`.)",
    "created_at": "2020-07-13T10:53:11Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479042",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:18'></a>
@xcaruso: Sure, it's a valid point to not wish to defer progress here by first fixing up stuff elsewhere. I definitely wouldn't wait for #28485, since #24279 is a much easier fix using stuff already shipped in Sage. If not waiting for either tickets is preferred, I see two good options: 1) Use my 2-line implementation above and accept the warning for now. In #24279, we remove this warning. 2) Expand my 2-line implementation to a 5-line one which basically implements the meat of `SubfieldSubcode` itself using the `GF(s).vector space()` method (or simply uses `a.polynomial().list()` since we're going down to `GF(2)`.)



---

archive/issue_comments_479043.json:
```json
{
    "body": "<a id='comment:19'></a>\nHere is an implementation avoiding `SubfieldSubcode`:\n\n```\ns, t= 16, 4\nm = log(s, 2)\nF = GF(s)\nHext = matrix(F, 3, s, [[1]*s,\n                        F.list(),\n                        [ a^(t+1) for a in F]])\ndef exp(row):\n       return matrix(F, len(row), m,\n                     [ l + [0]*(m-len(l)) for l in\n                       [ a.polynomial().list() for a in row ]])\\\n                .transpose()\nH = block_matrix(GF(2), 3, 1, [ exp(row) for row in Hext.rows() ])\nG = H.right_kernel().basis_matrix()\n```",
    "created_at": "2020-07-13T11:02:08Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479043",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:19'></a>
Here is an implementation avoiding `SubfieldSubcode`:

```
s, t= 16, 4
m = log(s, 2)
F = GF(s)
Hext = matrix(F, 3, s, [[1]*s,
                        F.list(),
                        [ a^(t+1) for a in F]])
def exp(row):
       return matrix(F, len(row), m,
                     [ l + [0]*(m-len(l)) for l in
                       [ a.polynomial().list() for a in row ]])\
                .transpose()
H = block_matrix(GF(2), 3, 1, [ exp(row) for row in Hext.rows() ])
G = H.right_kernel().basis_matrix()
```



---

archive/issue_comments_479044.json:
```json
{
    "body": "<a id='comment:20'></a>\nThanks for the feedback, I'm now working on fixing all point raised.\nI have little knowledge of coding theory but I need the Kasami codes for a later ticket.\n\nI referenced the Kasami's papers which are quoted by Brouwer and Wikipedia, but I don't see how these relates to these codes.\n\nBrouwer does not provide a proof for the minimum distances stated and I believe they are wrong.\nFor instance:\n1.  the extended Kasami code (4,2) is empty, so I'm not sure how the minimum distance is defined;\n2. the extended Kasami code (8,2) has only 2 vectors (zero vector and one vector), so has minimum distance 8 not 6 as stated by Brouwer.\n\nI have no idea if the weight distribution of these codes is known.\n\nAs far as the generator matrix is concerned, I'm happy that there is a quicker way to compute it.\nI'll try to expand what suggested by @johanrosenkilde to something that doesn't emit any warning.",
    "created_at": "2020-07-13T11:02:31Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479044",
    "user": "https://github.com/Ivo-Maffei"
}
```

<a id='comment:20'></a>
Thanks for the feedback, I'm now working on fixing all point raised.
I have little knowledge of coding theory but I need the Kasami codes for a later ticket.

I referenced the Kasami's papers which are quoted by Brouwer and Wikipedia, but I don't see how these relates to these codes.

Brouwer does not provide a proof for the minimum distances stated and I believe they are wrong.
For instance:
1.  the extended Kasami code (4,2) is empty, so I'm not sure how the minimum distance is defined;
2. the extended Kasami code (8,2) has only 2 vectors (zero vector and one vector), so has minimum distance 8 not 6 as stated by Brouwer.

I have no idea if the weight distribution of these codes is known.

As far as the generator matrix is concerned, I'm happy that there is a quicker way to compute it.
I'll try to expand what suggested by @johanrosenkilde to something that doesn't emit any warning.



---

archive/issue_comments_479045.json:
```json
{
    "body": "**Changing commit** from \"[12462e076b325a505ca83d13c78b2fa2630a44d3](https://github.com/sagemath/sagetrac-mirror/commit/12462e076b325a505ca83d13c78b2fa2630a44d3)\" to \"[466961f832024f13ac67e208fd44f0779ed1d8ac](https://github.com/sagemath/sagetrac-mirror/commit/466961f832024f13ac67e208fd44f0779ed1d8ac)\".",
    "created_at": "2020-07-13T12:56:28Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479045",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[12462e076b325a505ca83d13c78b2fa2630a44d3](https://github.com/sagemath/sagetrac-mirror/commit/12462e076b325a505ca83d13c78b2fa2630a44d3)" to "[466961f832024f13ac67e208fd44f0779ed1d8ac](https://github.com/sagemath/sagetrac-mirror/commit/466961f832024f13ac67e208fd44f0779ed1d8ac)".



---

archive/issue_comments_479046.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9946dbaed64a972020d0d1048f20e3f9d15c5cd7\">9946dba</a></td><td><code>Merge branch 'develop' into kasami_codes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/466961f832024f13ac67e208fd44f0779ed1d8ac\">466961f</a></td><td><code>added references to Kasami's papers; new generator function method; all line within 80 columns</code></td></tr></table>\n",
    "created_at": "2020-07-13T12:56:28Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479046",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9946dbaed64a972020d0d1048f20e3f9d15c5cd7">9946dba</a></td><td><code>Merge branch 'develop' into kasami_codes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/466961f832024f13ac67e208fd44f0779ed1d8ac">466961f</a></td><td><code>added references to Kasami's papers; new generator function method; all line within 80 columns</code></td></tr></table>




---

archive/issue_comments_479047.json:
```json
{
    "body": "<a id='comment:22'></a>\nThe doctoring doesn't compile. I get an error\n\n```\nOSError: docstring of sage.coding.kasami_codes:18: WARNING: Unexpected indentation.\n```\n\nI really don't see what's wrong as it matches the sphinx guidelines (https://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html). Any help is highly appreciated.",
    "created_at": "2020-07-13T12:59:40Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479047",
    "user": "https://github.com/Ivo-Maffei"
}
```

<a id='comment:22'></a>
The doctoring doesn't compile. I get an error

```
OSError: docstring of sage.coding.kasami_codes:18: WARNING: Unexpected indentation.
```

I really don't see what's wrong as it matches the sphinx guidelines (https://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html). Any help is highly appreciated.



---

archive/issue_comments_479048.json:
```json
{
    "body": "<a id='comment:23'></a>\nI'd check on `:` vs `::`, and perhaps missing empty lines before lists with `*`-items.\n\nI'm building your branch now, will see later myself.",
    "created_at": "2020-07-13T13:36:52Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479048",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:23'></a>
I'd check on `:` vs `::`, and perhaps missing empty lines before lists with `*`-items.

I'm building your branch now, will see later myself.



---

archive/issue_comments_479049.json:
```json
{
    "body": "**Changing commit** from \"[466961f832024f13ac67e208fd44f0779ed1d8ac](https://github.com/sagemath/sagetrac-mirror/commit/466961f832024f13ac67e208fd44f0779ed1d8ac)\" to \"[45975642179088d38bfdbf052315aa6fd4f82c3a](https://github.com/sagemath/sagetrac-mirror/commit/45975642179088d38bfdbf052315aa6fd4f82c3a)\".",
    "created_at": "2020-07-13T15:53:08Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479049",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[466961f832024f13ac67e208fd44f0779ed1d8ac](https://github.com/sagemath/sagetrac-mirror/commit/466961f832024f13ac67e208fd44f0779ed1d8ac)" to "[45975642179088d38bfdbf052315aa6fd4f82c3a](https://github.com/sagemath/sagetrac-mirror/commit/45975642179088d38bfdbf052315aa6fd4f82c3a)".



---

archive/issue_comments_479050.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb710e1ccb4aca12e4db6670c29e5b19ff173d16\">cb710e1</a></td><td><code>fix docstring whitespaces</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45975642179088d38bfdbf052315aa6fd4f82c3a\">4597564</a></td><td><code>improve formattting without breaking docstring</code></td></tr></table>\n",
    "created_at": "2020-07-13T15:53:08Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479050",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb710e1ccb4aca12e4db6670c29e5b19ff173d16">cb710e1</a></td><td><code>fix docstring whitespaces</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45975642179088d38bfdbf052315aa6fd4f82c3a">4597564</a></td><td><code>improve formattting without breaking docstring</code></td></tr></table>




---

archive/issue_comments_479051.json:
```json
{
    "body": "<a id='comment:25'></a>\nAnother point: you should document the function `__eq__`",
    "created_at": "2020-07-14T06:32:03Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479051",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:25'></a>
Another point: you should document the function `__eq__`



---

archive/issue_comments_479052.json:
```json
{
    "body": "**Changing commit** from \"[45975642179088d38bfdbf052315aa6fd4f82c3a](https://github.com/sagemath/sagetrac-mirror/commit/45975642179088d38bfdbf052315aa6fd4f82c3a)\" to \"[a2b060c04945072f042b767e0dd3ecefdf81bd05](https://github.com/sagemath/sagetrac-mirror/commit/a2b060c04945072f042b767e0dd3ecefdf81bd05)\".",
    "created_at": "2020-07-14T09:11:24Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479052",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[45975642179088d38bfdbf052315aa6fd4f82c3a](https://github.com/sagemath/sagetrac-mirror/commit/45975642179088d38bfdbf052315aa6fd4f82c3a)" to "[a2b060c04945072f042b767e0dd3ecefdf81bd05](https://github.com/sagemath/sagetrac-mirror/commit/a2b060c04945072f042b767e0dd3ecefdf81bd05)".



---

archive/issue_comments_479053.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c22a092492761b2c4a4dc5291bf5a3a21de0068\">5c22a09</a></td><td><code>make `__eq__` function clearer</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2b060c04945072f042b767e0dd3ecefdf81bd05\">a2b060c</a></td><td><code>added more documentaion on __eq__</code></td></tr></table>\n",
    "created_at": "2020-07-14T09:11:24Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479053",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c22a092492761b2c4a4dc5291bf5a3a21de0068">5c22a09</a></td><td><code>make `__eq__` function clearer</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2b060c04945072f042b767e0dd3ecefdf81bd05">a2b060c</a></td><td><code>added more documentaion on __eq__</code></td></tr></table>




---

archive/issue_comments_479054.json:
```json
{
    "body": "this fixed docbuild errors",
    "created_at": "2020-07-14T11:16:17Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479054",
    "user": "https://github.com/dimpase"
}
```

this fixed docbuild errors



---

archive/attachments_022101.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "typeset.diff",
    "asset_url": "tarball://root/attachments/ticket30085/typeset.diff",
    "created_at": "2020-07-14T11:17:01Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket30085/typeset.diff",
    "user": "https://github.com/dimpase"
}
```



---

archive/issue_comments_479055.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Attachment:** [typeset.diff](https://github.com/sagemath/sage/files/ticket30085/typeset.diff)\n\nI've attached a diff which makes the docs build. (probably far from minimal, but OK)",
    "created_at": "2020-07-14T11:17:01Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479055",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'></a>
**Attachment:** [typeset.diff](https://github.com/sagemath/sage/files/ticket30085/typeset.diff)

I've attached a diff which makes the docs build. (probably far from minimal, but OK)



---

archive/issue_comments_479056.json:
```json
{
    "body": "**Changing commit** from \"[a2b060c04945072f042b767e0dd3ecefdf81bd05](https://github.com/sagemath/sagetrac-mirror/commit/a2b060c04945072f042b767e0dd3ecefdf81bd05)\" to \"[b94cc3b1a2a9ec61e294bc8310b77590b4f3df44](https://github.com/sagemath/sagetrac-mirror/commit/b94cc3b1a2a9ec61e294bc8310b77590b4f3df44)\".",
    "created_at": "2020-07-14T12:30:25Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479056",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a2b060c04945072f042b767e0dd3ecefdf81bd05](https://github.com/sagemath/sagetrac-mirror/commit/a2b060c04945072f042b767e0dd3ecefdf81bd05)" to "[b94cc3b1a2a9ec61e294bc8310b77590b4f3df44](https://github.com/sagemath/sagetrac-mirror/commit/b94cc3b1a2a9ec61e294bc8310b77590b4f3df44)".



---

archive/issue_comments_479057.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b94cc3b1a2a9ec61e294bc8310b77590b4f3df44\">b94cc3b</a></td><td><code>fixed docstring build error</code></td></tr></table>\n",
    "created_at": "2020-07-14T12:30:25Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479057",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b94cc3b1a2a9ec61e294bc8310b77590b4f3df44">b94cc3b</a></td><td><code>fixed docstring build error</code></td></tr></table>




---

archive/issue_comments_479058.json:
```json
{
    "body": "<a id='comment:29'></a>\nSorry, I was meaning the `__eq__` method you added in `sage.coding.linear_code_no_metric`; it misses doctests.\n\nBtw, I'm not quite sure but it's maybe better to implement `_richcmp_` than `__eq__` (actually, it's what I'm doing usually). Does somebody know more about this?",
    "created_at": "2020-07-15T05:34:07Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479058",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:29'></a>
Sorry, I was meaning the `__eq__` method you added in `sage.coding.linear_code_no_metric`; it misses doctests.

Btw, I'm not quite sure but it's maybe better to implement `_richcmp_` than `__eq__` (actually, it's what I'm doing usually). Does somebody know more about this?



---

archive/issue_comments_479059.json:
```json
{
    "body": "<a id='comment:30'></a>\nOK, I just realized that this method was added in #21226...",
    "created_at": "2020-07-15T05:35:22Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479059",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:30'></a>
OK, I just realized that this method was added in #21226...



---

archive/issue_comments_479060.json:
```json
{
    "body": "<a id='comment:31'></a>\n#21226 has been fixed, so this looks good to go, too.",
    "created_at": "2020-07-17T07:13:50Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479060",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:31'></a>
#21226 has been fixed, so this looks good to go, too.



---

archive/issue_events_268696.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-07-17T07:13:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30085#event-268696"
}
```



---

archive/issue_events_268697.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-07-17T07:13:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30085#event-268697"
}
```



---

archive/issue_comments_479061.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-Ivo-Maffei/kasami_codes](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Ivo-Maffei/kasami_codes)\" to \"[b94cc3b1a2a9ec61e294bc8310b77590b4f3df44](https://github.com/sagemath/sagetrac-mirror/commit/b94cc3b1a2a9ec61e294bc8310b77590b4f3df44)\".",
    "created_at": "2020-07-25T22:51:07Z",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30085#issuecomment-479061",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/gh-Ivo-Maffei/kasami_codes](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Ivo-Maffei/kasami_codes)" to "[b94cc3b1a2a9ec61e294bc8310b77590b4f3df44](https://github.com/sagemath/sagetrac-mirror/commit/b94cc3b1a2a9ec61e294bc8310b77590b4f3df44)".



---

archive/issue_events_268698.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-25T22:51:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30085#event-268698"
}
```



---

archive/issue_events_268699.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "147309da177a02754922d848099be964a0b69818",
    "created_at": "2020-07-25T22:51:07Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30085",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30085#event-268699"
}
```
