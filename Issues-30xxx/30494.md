# Issue 30494: Meta-ticket: Support Xcode 12

archive/issues_030257.json:
```json
{
    "assignees": [],
    "body": "Xcode 12 was publicly released on 2020-09-16. \n\nSage does not build from source using Xcode 12.2 beta, released 2020.09.17, clang version 12.0.0 (clang-1200.0.32.4)\n\n- https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ\n- https://github.com/mkoeppe/sage/runs/1059961873\n\nFailing packages (blockers):\n\n- gf2x #30593\n- ecm #30600\n- symmetrica #30608 or #29061\n- ecl #30594\n- scipy #30604\n\nFailing packages with replacements available via homebrew:\n\n- openblas #30610\n- readline #30603\n- gmp #30625\n- mpir\n- gsl (?)\n- r #30631\n\nFailing optional packages:\n\n- rubiks (see also #28022)\n- gap_packages (#30729)\n- polylib (#33758)\n\nFailing experimental packages:\n\n- gdb, valgrind (to be removed in #30158)\n- gap3, cocoalib, awali, libtheora, surf, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)\n\nTickets:\n\n- #30487 - GH Actions: Test also with Xcode 12 beta\n- #27754 - Upgrade: Python 3.8.5\n- #28022 - Downgrade `rubiks` to optional\n- #31227 - Accept `/usr/bin/python3` from XCode 12.3 on macOS 10.15 (Catalina)\n\nFollow-up:\n\n- #30651 - Meta-ticket: support macOS 11\n\n\n**CC:**  @jhpalmieri @dimpase @slel @vbraun\n\n**Keywords:** macOS, Xcode\n\n**Reviewer:** Dima Pasechnik\n\nIssue created by migration from https://trac.sagemath.org/ticket/30494\n\n",
    "created_at": "2020-09-02T16:08:09Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20porting",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/positive%20review",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Meta-ticket: Support Xcode 12",
    "type": "issue",
    "updated_at": "2022-11-25T00:21:18Z",
    "url": "https://github.com/sagemath/sage/issues/30494",
    "user": "https://github.com/mkoeppe"
}
```
Xcode 12 was publicly released on 2020-09-16. 

Sage does not build from source using Xcode 12.2 beta, released 2020.09.17, clang version 12.0.0 (clang-1200.0.32.4)

- https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ
- https://github.com/mkoeppe/sage/runs/1059961873

Failing packages (blockers):

- gf2x #30593
- ecm #30600
- symmetrica #30608 or #29061
- ecl #30594
- scipy #30604

Failing packages with replacements available via homebrew:

- openblas #30610
- readline #30603
- gmp #30625
- mpir
- gsl (?)
- r #30631

Failing optional packages:

- rubiks (see also #28022)
- gap_packages (#30729)
- polylib (#33758)

Failing experimental packages:

- gdb, valgrind (to be removed in #30158)
- gap3, cocoalib, awali, libtheora, surf, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)

Tickets:

- #30487 - GH Actions: Test also with Xcode 12 beta
- #27754 - Upgrade: Python 3.8.5
- #28022 - Downgrade `rubiks` to optional
- #31227 - Accept `/usr/bin/python3` from XCode 12.3 on macOS 10.15 (Catalina)

Follow-up:

- #30651 - Meta-ticket: support macOS 11


**CC:**  @jhpalmieri @dimpase @slel @vbraun

**Keywords:** macOS, Xcode

**Reviewer:** Dima Pasechnik

Issue created by migration from https://trac.sagemath.org/ticket/30494





---

archive/issue_comments_488760.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,8 +1,15 @@\n Sage does not build from source using Xcode 12 beta.\n \n - https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ\n-- \n+- https://github.com/mkoeppe/sage/runs/1059961873\n \n+Failing packages:\n+- gf2x\n+- ecm\n+- symmetrica\n+- rubiks\n+- ecl\n+- scipy\n \n Tickets: \n - #30487 - GH Actions: Test also with Xcode 12 beta\n``````\n",
    "created_at": "2020-09-02T16:19:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488760",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,8 +1,15 @@
 Sage does not build from source using Xcode 12 beta.
 
 - https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ
-- 
+- https://github.com/mkoeppe/sage/runs/1059961873
 
+Failing packages:
+- gf2x
+- ecm
+- symmetrica
+- rubiks
+- ecl
+- scipy
 
 Tickets: 
 - #30487 - GH Actions: Test also with Xcode 12 beta
``````




---

archive/issue_comments_488761.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -13,4 +13,4 @@\n \n Tickets: \n - #30487 - GH Actions: Test also with Xcode 12 beta\n-\n+- #28022 - Downgrade `rubiks` to optional\n``````\n",
    "created_at": "2020-09-02T16:39:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488761",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -13,4 +13,4 @@
 
 Tickets: 
 - #30487 - GH Actions: Test also with Xcode 12 beta
-
+- #28022 - Downgrade `rubiks` to optional
``````




---

archive/issue_comments_488762.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -13,4 +13,5 @@\n \n Tickets: \n - #30487 - GH Actions: Test also with Xcode 12 beta\n+- #27754 - Upgrade: Python 3.8.5\n - #28022 - Downgrade `rubiks` to optional\n``````\n",
    "created_at": "2020-09-02T16:44:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488762",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -13,4 +13,5 @@
 
 Tickets: 
 - #30487 - GH Actions: Test also with Xcode 12 beta
+- #27754 - Upgrade: Python 3.8.5
 - #28022 - Downgrade `rubiks` to optional
``````




---

archive/issue_comments_488763.json:
```json
{
    "body": "<a id='comment:4'></a>\nFor what it's worth, I was trying to build without setting `MACOSX_DEPLOYMENT_TARGET` at all: I removed those lines from `src/bin/sage-env`.",
    "created_at": "2020-09-02T17:05:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488763",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:4'></a>
For what it's worth, I was trying to build without setting `MACOSX_DEPLOYMENT_TARGET` at all: I removed those lines from `src/bin/sage-env`.



---

archive/issue_comments_488764.json:
```json
{
    "body": "<a id='comment:5'></a>\nNote that these lines are only executed when using python3 installed from spkg, not system python",
    "created_at": "2020-09-02T17:54:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488764",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
Note that these lines are only executed when using python3 installed from spkg, not system python



---

archive/issue_comments_488765.json:
```json
{
    "body": "<a id='comment:6'></a>\nlooks like this should wait till 9.3",
    "created_at": "2020-09-05T20:54:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488765",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>
looks like this should wait till 9.3



---

archive/issue_comments_488766.json:
```json
{
    "body": "<a id='comment:7'></a>\nSure, Big Sur is still in beta.",
    "created_at": "2020-09-05T20:55:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488766",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:7'></a>
Sure, Big Sur is still in beta.



---

archive/issue_events_273021.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T21:11:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273021"
}
```



---

archive/issue_events_273022.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T21:11:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273022"
}
```



---

archive/issue_comments_488767.json:
```json
{
    "body": "<a id='comment:9'></a>\nXcode 12 has been released, and it causes breakage with Catalina, so perhaps this should be a blocker for 9.2. (For example I now cannot build Sage: I upgraded a laptop to a beta release of Big Sur, and on my main machine Xcode updated itself to version 12 overnight.)",
    "created_at": "2020-09-17T17:41:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488767",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:9'></a>
Xcode 12 has been released, and it causes breakage with Catalina, so perhaps this should be a blocker for 9.2. (For example I now cannot build Sage: I upgraded a laptop to a beta release of Big Sur, and on my main machine Xcode updated itself to version 12 overnight.)



---

archive/issue_comments_488768.json:
```json
{
    "body": "<a id='comment:10'></a>\nI agree. It would be good to figure out if the upstream maintainers of these packages are already aware of these issues.",
    "created_at": "2020-09-17T19:06:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488768",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
I agree. It would be good to figure out if the upstream maintainers of these packages are already aware of these issues.



---

archive/issue_events_273023.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-17T19:06:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/critical",
    "label_color": "ff0000",
    "label_name": "critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273023"
}
```



---

archive/issue_events_273024.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-17T19:06:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/blocker",
    "label_color": "ff0000",
    "label_name": "blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273024"
}
```



---

archive/issue_comments_488769.json:
```json
{
    "body": "<a id='comment:11'></a>\nCan we score an https://en.wikipedia.org/wiki/Developer_Transition_Kit_(2020) - and Apple ARM prototype for developers somehow?\nIt might be very useful for testing. Probably a Raspberry Pi with a 64-bit OS comes close, but not as much.",
    "created_at": "2020-09-17T20:26:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488769",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>
Can we score an https://en.wikipedia.org/wiki/Developer_Transition_Kit_(2020) - and Apple ARM prototype for developers somehow?
It might be very useful for testing. Probably a Raspberry Pi with a 64-bit OS comes close, but not as much.



---

archive/issue_comments_488770.json:
```json
{
    "body": "<a id='comment:12'></a>\nThis is unrelated to this ticket.",
    "created_at": "2020-09-17T20:27:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488770",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
This is unrelated to this ticket.



---

archive/issue_comments_488771.json:
```json
{
    "body": "<a id='comment:13'></a>\nI have opened #30592 (Meta-ticket: Port to Apple silicon) for that. Let's keep the present ticket focused please. No new hardware is required.",
    "created_at": "2020-09-17T20:31:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488771",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>
I have opened #30592 (Meta-ticket: Port to Apple silicon) for that. Let's keep the present ticket focused please. No new hardware is required.



---

archive/issue_comments_488772.json:
```json
{
    "body": "<a id='comment:14'></a>\nIt seems that when configuring `gf2x` and `ecl`, at least, something like `-Wall` is being used. I see this kind of thing in the `config.log` files for those:\n\n```\nconftest.c:4:3: error: implicitly declaring library function 'exit' with type 'void (int) __attribute__((noreturn))' [-Werror,-Wimplicit-function-declaration]\n  exit(0);\n  ^\nconftest.c:4:3: note: include the header <stdlib.h> or explicitly provide a declaration for 'exit'\n1 error generated.\n```\nIs there some setting in Xcode's command-line tools that has changed, causing these errors?",
    "created_at": "2020-09-17T20:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488772",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:14'></a>
It seems that when configuring `gf2x` and `ecl`, at least, something like `-Wall` is being used. I see this kind of thing in the `config.log` files for those:

```
conftest.c:4:3: error: implicitly declaring library function 'exit' with type 'void (int) __attribute__((noreturn))' [-Werror,-Wimplicit-function-declaration]
  exit(0);
  ^
conftest.c:4:3: note: include the header <stdlib.h> or explicitly provide a declaration for 'exit'
1 error generated.
```
Is there some setting in Xcode's command-line tools that has changed, causing these errors?



---

archive/issue_comments_488773.json:
```json
{
    "body": "<a id='comment:15'></a>\nSimilar with `ecm`:\n\n```\nconfigure:13286: clang -O2 -pedantic -fomit-frame-pointer -m64 -mtune=nehalem -march=nehalem  -c conftes1.c >&5 && clang -O2 -pedantic -fomit-frame-pointer -m64 -mtune=nehalem -march=nehalem -c conftes2.s >&5 && clang -O2 -pedantic -fomit-frame-pointer -m64 -mtune=nehalem -march=nehalem  conftes1.o conftes2.o >&5\nconftes1.c:4:1: warning: type specifier missing, defaults to 'int' [-Wimplicit-int]\nmain () { underscore_test(); }\n^\nconftes1.c:4:11: error: implicit declaration of function 'underscore_test' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\nmain () { underscore_test(); }\n          ^\n1 warning and 1 error generated.\n```",
    "created_at": "2020-09-17T20:43:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488773",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:15'></a>
Similar with `ecm`:

```
configure:13286: clang -O2 -pedantic -fomit-frame-pointer -m64 -mtune=nehalem -march=nehalem  -c conftes1.c >&5 && clang -O2 -pedantic -fomit-frame-pointer -m64 -mtune=nehalem -march=nehalem -c conftes2.s >&5 && clang -O2 -pedantic -fomit-frame-pointer -m64 -mtune=nehalem -march=nehalem  conftes1.o conftes2.o >&5
conftes1.c:4:1: warning: type specifier missing, defaults to 'int' [-Wimplicit-int]
main () { underscore_test(); }
^
conftes1.c:4:11: error: implicit declaration of function 'underscore_test' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
main () { underscore_test(); }
          ^
1 warning and 1 error generated.
```



---

archive/issue_comments_488774.json:
```json
{
    "body": "<a id='comment:16'></a>\nHi,\n\nI just learned about this ticket. (me = upstream gf2x)\n\nI don't have access to a box of this kind, so I can't test. (all I have is macOS 10.15.5 + XCode 11.6).\n\nIt looks like latest xcode doesn't like the tests that are generated by autotools, right ? If yes, does a autoreconf with fresh autotools fix the problem ?\n\nE.",
    "created_at": "2020-09-17T20:47:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488774",
    "user": "https://github.com/emmanuelthome"
}
```

<a id='comment:16'></a>
Hi,

I just learned about this ticket. (me = upstream gf2x)

I don't have access to a box of this kind, so I can't test. (all I have is macOS 10.15.5 + XCode 11.6).

It looks like latest xcode doesn't like the tests that are generated by autotools, right ? If yes, does a autoreconf with fresh autotools fix the problem ?

E.



---

archive/issue_comments_488775.json:
```json
{
    "body": "<a id='comment:17'></a>\nThe Sage build log for `symmetrica` contains:\n\n```\nhiccup.c:478:3: error: implicit declaration of function 'set_multiplier' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n                set_multiplier(S_MO_K(S_L_S(a)));\n                ^\n```",
    "created_at": "2020-09-17T20:49:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488775",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:17'></a>
The Sage build log for `symmetrica` contains:

```
hiccup.c:478:3: error: implicit declaration of function 'set_multiplier' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
                set_multiplier(S_MO_K(S_L_S(a)));
                ^
```



---

archive/issue_comments_488776.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [@emmanuelthome](#comment%3A16):\n> Hi,\n> \n> I just learned about this ticket. (me = upstream gf2x)\n> \n> I don't have access to a box of this kind, so I can't test. (all I have is macOS 10.15.5 + XCode 11.6).\n\nI'm seeing this on OS X 10.15.6 after an upgrade to Xcode 12. You could try upgrading to Xcode 12, if you're willing to take that risk.\n\n> It looks like latest xcode doesn't like the tests that are generated by autotools, right ? If yes, does a autoreconf with fresh autotools fix the problem ?\n\nI'm not an expert in this sort of thing, but I don't think this will work. `autoreconf` would help if Sage's top-level `configure` script were running into problems, but the problems are coming from Sage packages. Those are just tarballs, and running `autoreconf` once won't help with those. For what it's worth, I unpacked the `gf2x` tarball and ran `autoreconf` on it, but I got the same error.\n\n(This is with `autoreconf` 2.69 installed via homebrew. I did `brew upgrade` first. I'm not sure how to get a \"fresh autotools\".)",
    "created_at": "2020-09-17T21:02:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488776",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:18'></a>
Replying to [@emmanuelthome](#comment%3A16):
> Hi,
> 
> I just learned about this ticket. (me = upstream gf2x)
> 
> I don't have access to a box of this kind, so I can't test. (all I have is macOS 10.15.5 + XCode 11.6).

I'm seeing this on OS X 10.15.6 after an upgrade to Xcode 12. You could try upgrading to Xcode 12, if you're willing to take that risk.

> It looks like latest xcode doesn't like the tests that are generated by autotools, right ? If yes, does a autoreconf with fresh autotools fix the problem ?

I'm not an expert in this sort of thing, but I don't think this will work. `autoreconf` would help if Sage's top-level `configure` script were running into problems, but the problems are coming from Sage packages. Those are just tarballs, and running `autoreconf` once won't help with those. For what it's worth, I unpacked the `gf2x` tarball and ran `autoreconf` on it, but I got the same error.

(This is with `autoreconf` 2.69 installed via homebrew. I did `brew upgrade` first. I'm not sure how to get a "fresh autotools".)



---

archive/issue_comments_488777.json:
```json
{
    "body": "gf2x config.log",
    "created_at": "2020-09-17T21:05:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488777",
    "user": "https://github.com/jhpalmieri"
}
```

gf2x config.log



---

archive/issue_comments_488778.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Attachment:** [config.log](https://github.com/sagemath/sage/files/ticket30494/config.log)\n\nHere is the `config.log` for `gf2x`, in case it helps.",
    "created_at": "2020-09-17T21:05:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488778",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:19'></a>
**Attachment:** [config.log](https://github.com/sagemath/sage/files/ticket30494/config.log)

Here is the `config.log` for `gf2x`, in case it helps.



---

archive/issue_comments_488779.json:
```json
{
    "body": "<a id='comment:20'></a>\nI'm happy to run some experiments, if you have suggestions.",
    "created_at": "2020-09-17T21:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488779",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:20'></a>
I'm happy to run some experiments, if you have suggestions.



---

archive/issue_comments_488780.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [@jhpalmieri](#comment%3A14):\n> It seems that when configuring `gf2x` and `ecl`, at least, something like `-Wall` is being used. I see this kind of thing in the `config.log` files for those:\n> \n> ```\n> conftest.c:4:3: error: implicitly declaring library function 'exit' with type 'void (int) __attribute__((noreturn))' [-Werror,-Wimplicit-function-declaration]\n>   exit(0);\n>   ^\n> conftest.c:4:3: note: include the header <stdlib.h> or explicitly provide a declaration for 'exit'\n> 1 error generated.\n> ```\n> Is there some setting in Xcode's command-line tools that has changed, causing these errors?\n\nI think errors like this are usually from code incorrectly assuming that some header pulls in some other header.  Adding the correct includes should fix this.",
    "created_at": "2020-09-17T21:11:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488780",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Replying to [@jhpalmieri](#comment%3A14):
> It seems that when configuring `gf2x` and `ecl`, at least, something like `-Wall` is being used. I see this kind of thing in the `config.log` files for those:
> 
> ```
> conftest.c:4:3: error: implicitly declaring library function 'exit' with type 'void (int) __attribute__((noreturn))' [-Werror,-Wimplicit-function-declaration]
>   exit(0);
>   ^
> conftest.c:4:3: note: include the header <stdlib.h> or explicitly provide a declaration for 'exit'
> 1 error generated.
> ```
> Is there some setting in Xcode's command-line tools that has changed, causing these errors?

I think errors like this are usually from code incorrectly assuming that some header pulls in some other header.  Adding the correct includes should fix this.



---

archive/issue_comments_488781.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [@jhpalmieri](#comment%3A18):\n> > I don't have access to a box of this kind, so I can't test. (all I have is macOS 10.15.5 + XCode 11.6).\n\n> \n> I'm seeing this on OS X 10.15.6 after an upgrade to Xcode 12. You could try upgrading to Xcode 12, if you're willing to take that risk.\n\nNot light-heartedly for sure. It's a mac mini that has been living in an office of (very) mac-averse researchers for years and years, crawling under the ram demands of the latest macOS (and actually last it can support).\n\n\n> > It looks like latest xcode doesn't like the tests that are generated by autotools, right ? If yes, does a autoreconf with fresh autotools fix the problem ?\n\n> \n> I'm not an expert in this sort of thing, but I don't think this will work. `autoreconf` would help if Sage's top-level `configure` script were running into problems, but the problems are coming from Sage packages.\n\nI didn't make myself clear. Of course I mean autoreconf for gf2x.\n\n> Those are just tarballs, and running `autoreconf` once won't help with those. For what it's worth, I unpacked the `gf2x` tarball and ran `autoreconf` on it, but I got the same error.\n\nok.\n\n> (This is with `autoreconf` 2.69 installed via homebrew. I did `brew upgrade` first. I'm not sure how to get a \"fresh autotools\".)\n\ndoesn't say much. 2.69 is the banner under which all autoconf version have been presenting themselves for 8 years. IDK about the others, but I suspect autoconf is at fault here anyway.",
    "created_at": "2020-09-17T21:16:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488781",
    "user": "https://github.com/emmanuelthome"
}
```

<a id='comment:22'></a>
Replying to [@jhpalmieri](#comment%3A18):
> > I don't have access to a box of this kind, so I can't test. (all I have is macOS 10.15.5 + XCode 11.6).

> 
> I'm seeing this on OS X 10.15.6 after an upgrade to Xcode 12. You could try upgrading to Xcode 12, if you're willing to take that risk.

Not light-heartedly for sure. It's a mac mini that has been living in an office of (very) mac-averse researchers for years and years, crawling under the ram demands of the latest macOS (and actually last it can support).


> > It looks like latest xcode doesn't like the tests that are generated by autotools, right ? If yes, does a autoreconf with fresh autotools fix the problem ?

> 
> I'm not an expert in this sort of thing, but I don't think this will work. `autoreconf` would help if Sage's top-level `configure` script were running into problems, but the problems are coming from Sage packages.

I didn't make myself clear. Of course I mean autoreconf for gf2x.

> Those are just tarballs, and running `autoreconf` once won't help with those. For what it's worth, I unpacked the `gf2x` tarball and ran `autoreconf` on it, but I got the same error.

ok.

> (This is with `autoreconf` 2.69 installed via homebrew. I did `brew upgrade` first. I'm not sure how to get a "fresh autotools".)

doesn't say much. 2.69 is the banner under which all autoconf version have been presenting themselves for 8 years. IDK about the others, but I suspect autoconf is at fault here anyway.



---

archive/issue_comments_488782.json:
```json
{
    "body": "<a id='comment:23'></a>\nThe `gf2x` configure script says\n\n```\ncat >conftest.c <<EOF\nint\nmain ()\n{\n  exit(0);\n}\nEOF\n```\nand it looks like this is the file causing the problems. How is this generated? `autotools`? Should `autotools` be adding some includes?\n\nEdit: this is in `config/acinclude.m4`.",
    "created_at": "2020-09-17T21:32:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488782",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:23'></a>
The `gf2x` configure script says

```
cat >conftest.c <<EOF
int
main ()
{
  exit(0);
}
EOF
```
and it looks like this is the file causing the problems. How is this generated? `autotools`? Should `autotools` be adding some includes?

Edit: this is in `config/acinclude.m4`.



---

archive/issue_comments_488783.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Attachment:** [gf2x-1.3.0-cc_for_build_stdlib.patch.gz](https://github.com/sagemath/sage/files/ticket30494/gf2x-1.3.0-cc_for_build_stdlib.patch.gz)\n\ngrr. trac deleted my comment.\nTry the patch above. This will fix both the autoconf input (just in case) and output (so that you don't have to rerun autoconf, a plain ./configure would do).\nThese bits of the config checks are created by m4 code that sits in gf2x, so it's really a gf2x bug.",
    "created_at": "2020-09-17T21:34:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488783",
    "user": "https://github.com/emmanuelthome"
}
```

<a id='comment:24'></a>
**Attachment:** [gf2x-1.3.0-cc_for_build_stdlib.patch.gz](https://github.com/sagemath/sage/files/ticket30494/gf2x-1.3.0-cc_for_build_stdlib.patch.gz)

grr. trac deleted my comment.
Try the patch above. This will fix both the autoconf input (just in case) and output (so that you don't have to rerun autoconf, a plain ./configure would do).
These bits of the config checks are created by m4 code that sits in gf2x, so it's really a gf2x bug.



---

archive/issue_comments_488784.json:
```json
{
    "body": "<a id='comment:25'></a>\nThat looks good: `./configure; make; make check` now works. Thanks!",
    "created_at": "2020-09-17T21:36:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488784",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:25'></a>
That looks good: `./configure; make; make check` now works. Thanks!



---

archive/issue_comments_488785.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [@jhpalmieri](#comment%3A14):\n> It seems that when configuring `gf2x` and `ecl`, at least, something like `-Wall` is being used.\n\nI think that -Wall is not the problem. We're witnessing a -Werror behaviour here. That is odd. -Werror in config checks is a bit extreme, and easily counter-productive. config checks that battle the -Werror reports might well defeat the grand portability goal of autoconf\n\nThe catch with my patch above is that because of this -Werror behaviour, I think that more failures are likely to show up down the line. (well, you seem to say that it works fine. good!)",
    "created_at": "2020-09-17T21:38:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488785",
    "user": "https://github.com/emmanuelthome"
}
```

<a id='comment:26'></a>
Replying to [@jhpalmieri](#comment%3A14):
> It seems that when configuring `gf2x` and `ecl`, at least, something like `-Wall` is being used.

I think that -Wall is not the problem. We're witnessing a -Werror behaviour here. That is odd. -Werror in config checks is a bit extreme, and easily counter-productive. config checks that battle the -Werror reports might well defeat the grand portability goal of autoconf

The catch with my patch above is that because of this -Werror behaviour, I think that more failures are likely to show up down the line. (well, you seem to say that it works fine. good!)



---

archive/issue_comments_488786.json:
```json
{
    "body": "<a id='comment:27'></a>\nI can do the same kind of fix with `ecl`: add `#include <stdlib.h>` in the `configure` script. I'm not sure what to do with `ecm` or `symmetrica`. I haven't looked at `scipy` yet at all.",
    "created_at": "2020-09-17T22:12:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488786",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:27'></a>
I can do the same kind of fix with `ecl`: add `#include <stdlib.h>` in the `configure` script. I'm not sure what to do with `ecm` or `symmetrica`. I haven't looked at `scipy` yet at all.



---

archive/issue_comments_488787.json:
```json
{
    "body": "<a id='comment:28'></a>\nI've put the `gf2x` fix on #30593.",
    "created_at": "2020-09-17T23:06:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488787",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:28'></a>
I've put the `gf2x` fix on #30593.



---

archive/issue_comments_488788.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n - https://github.com/mkoeppe/sage/runs/1059961873\n \n Failing packages:\n-- gf2x\n+- gf2x #30593\n - ecm\n - symmetrica\n - rubiks\n``````\n",
    "created_at": "2020-09-17T23:06:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488788",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 - https://github.com/mkoeppe/sage/runs/1059961873
 
 Failing packages:
-- gf2x
+- gf2x #30593
 - ecm
 - symmetrica
 - rubiks
``````




---

archive/issue_comments_488789.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,8 +7,8 @@\n - gf2x #30593\n - ecm\n - symmetrica\n-- rubiks\n-- ecl\n+- rubiks (see also #28022)\n+- ecl #30594\n - scipy\n \n Tickets: \n``````\n",
    "created_at": "2020-09-17T23:10:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488789",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,8 +7,8 @@
 - gf2x #30593
 - ecm
 - symmetrica
-- rubiks
-- ecl
+- rubiks (see also #28022)
+- ecl #30594
 - scipy
 
 Tickets: 
``````




---

archive/issue_comments_488790.json:
```json
{
    "body": "<a id='comment:29'></a>\nChange for `ecl` is at #30594. I don't know if it's the best approach, but it appears to work.",
    "created_at": "2020-09-17T23:10:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488790",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:29'></a>
Change for `ecl` is at #30594. I don't know if it's the best approach, but it appears to work.



---

archive/issue_comments_488791.json:
```json
{
    "body": "<a id='comment:30'></a>\nFound only one somewhat related discussion on the SciPy issue tracker\n\n- [SciPy issue 12656: Building wheel fails when building from source and installing from PyPI](https://github.com/scipy/scipy/issues/12656)\n  \n\nMight be worth opening a ticket there.",
    "created_at": "2020-09-17T23:18:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488791",
    "user": "https://github.com/slel"
}
```

<a id='comment:30'></a>
Found only one somewhat related discussion on the SciPy issue tracker

- [SciPy issue 12656: Building wheel fails when building from source and installing from PyPI](https://github.com/scipy/scipy/issues/12656)
  

Might be worth opening a ticket there.



---

archive/issue_comments_488792.json:
```json
{
    "body": "<a id='comment:31'></a>\nI opened https://github.com/scipy/scipy/issues/12860",
    "created_at": "2020-09-18T03:06:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488792",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:31'></a>
I opened https://github.com/scipy/scipy/issues/12860



---

archive/issue_comments_488793.json:
```json
{
    "body": "<a id='comment:32'></a>\nThank you for finding the older scipy issue, by the way.",
    "created_at": "2020-09-18T03:09:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488793",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:32'></a>
Thank you for finding the older scipy issue, by the way.



---

archive/issue_comments_488794.json:
```json
{
    "body": "<a id='comment:33'></a>\nfor the gmp-ecm issue, please can you report it on the ecm-discuss@lists.gforge.inria.fr list,\nconfiguring it outside of Sage, and specifying which release you used?",
    "created_at": "2020-09-18T06:50:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488794",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:33'></a>
for the gmp-ecm issue, please can you report it on the ecm-discuss@lists.gforge.inria.fr list,
configuring it outside of Sage, and specifying which release you used?



---

archive/issue_comments_488795.json:
```json
{
    "body": "<a id='comment:34'></a>\nI cannot reproduce the breakade you are talking about. It all works for me with Xcode 12.0 on macOS 10.15.6. \nThe latest Xcode 12 beta is in fact 12.2.beta. I'll check with it shortly.",
    "created_at": "2020-09-18T09:47:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488795",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:34'></a>
I cannot reproduce the breakade you are talking about. It all works for me with Xcode 12.0 on macOS 10.15.6. 
The latest Xcode 12 beta is in fact 12.2.beta. I'll check with it shortly.



---

archive/issue_events_273025.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-18T11:36:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/blocker",
    "label_color": "ff0000",
    "label_name": "blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273025"
}
```



---

archive/issue_events_273026.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-18T11:36:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/critical",
    "label_color": "ff0000",
    "label_name": "critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273026"
}
```



---

archive/issue_comments_488796.json:
```json
{
    "body": "<a id='comment:35'></a>\nDowngraded to critical, as this is about a beta, which should not stop the release.\n\nVolker, what is your take on this? This is all about betaOS/beta tools. Would be nice to have in 9.2 fixed, but not strictly necessary.",
    "created_at": "2020-09-18T11:36:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488796",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:35'></a>
Downgraded to critical, as this is about a beta, which should not stop the release.

Volker, what is your take on this? This is all about betaOS/beta tools. Would be nice to have in 9.2 fixed, but not strictly necessary.



---

archive/issue_comments_488797.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Sage does not build from source using Xcode 12 beta.\n+Sage does not build from source using Xcode 12.2 beta, released 2020.09.17, clang version 12.0.0 (clang-1200.0.32.4)\n \n - https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ\n - https://github.com/mkoeppe/sage/runs/1059961873\n``````\n",
    "created_at": "2020-09-18T11:36:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488797",
    "user": "https://github.com/dimpase"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Sage does not build from source using Xcode 12 beta.
+Sage does not build from source using Xcode 12.2 beta, released 2020.09.17, clang version 12.0.0 (clang-1200.0.32.4)
 
 - https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ
 - https://github.com/mkoeppe/sage/runs/1059961873
``````




---

archive/issue_events_273027.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-18T12:47:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/critical",
    "label_color": "ff0000",
    "label_name": "critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273027"
}
```



---

archive/issue_events_273028.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-18T12:47:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/blocker",
    "label_color": "ff0000",
    "label_name": "blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273028"
}
```



---

archive/issue_comments_488798.json:
```json
{
    "body": "<a id='comment:36'></a>\nsorry for noise - it turns out that to properly reinstall command line tools, one needs to `sudo rm -rf /Library/Developer/CommandLineTools`\nOnce I did the latter, and reinstalled, I got clang 12 there, too.\n\nThat is, XCode 12 (stable) also suffers from these ailments.",
    "created_at": "2020-09-18T12:47:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488798",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:36'></a>
sorry for noise - it turns out that to properly reinstall command line tools, one needs to `sudo rm -rf /Library/Developer/CommandLineTools`
Once I did the latter, and reinstalled, I got clang 12 there, too.

That is, XCode 12 (stable) also suffers from these ailments.



---

archive/issue_comments_488799.json:
```json
{
    "body": "<a id='comment:37'></a>\nReplying to [@zimmermann6](#comment%3A33):\n> for the gmp-ecm issue, please can you report it on the ecm-discuss@lists.gforge.inria.fr list,\n> configuring it outside of Sage, and specifying which release you used?\n\nI can report directly on gmp-ecm bug tracker - but it's still on gforge. Are you planning to move to https://gitlab.inria.fr/ ?",
    "created_at": "2020-09-18T13:33:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488799",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:37'></a>
Replying to [@zimmermann6](#comment%3A33):
> for the gmp-ecm issue, please can you report it on the ecm-discuss@lists.gforge.inria.fr list,
> configuring it outside of Sage, and specifying which release you used?

I can report directly on gmp-ecm bug tracker - but it's still on gforge. Are you planning to move to https://gitlab.inria.fr/ ?



---

archive/issue_comments_488800.json:
```json
{
    "body": "<a id='comment:38'></a>\nReplying to [@dimpase](#comment%3A37):\n> Replying to [@zimmermann6](#comment%3A33):\n> > for the gmp-ecm issue, please can you report it on the ecm-discuss@lists.gforge.inria.fr list,\n> > configuring it outside of Sage, and specifying which release you used?\n\n> \n> I can report directly on gmp-ecm bug tracker - but it's still on gforge. Are you planning to move to https://gitlab.inria.fr/ ? \n\nReported on https://gforge.inria.fr/tracker/index.php?func=detail&aid=21856&group_id=135&atid=623",
    "created_at": "2020-09-18T13:37:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488800",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:38'></a>
Replying to [@dimpase](#comment%3A37):
> Replying to [@zimmermann6](#comment%3A33):
> > for the gmp-ecm issue, please can you report it on the ecm-discuss@lists.gforge.inria.fr list,
> > configuring it outside of Sage, and specifying which release you used?

> 
> I can report directly on gmp-ecm bug tracker - but it's still on gforge. Are you planning to move to https://gitlab.inria.fr/ ? 

Reported on https://gforge.inria.fr/tracker/index.php?func=detail&aid=21856&group_id=135&atid=623



---

archive/issue_comments_488801.json:
```json
{
    "body": "<a id='comment:39'></a>\nthanks. Yes it is planned to move to gitlab, when I find some time to do so...",
    "created_at": "2020-09-18T13:38:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488801",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:39'></a>
thanks. Yes it is planned to move to gitlab, when I find some time to do so...



---

archive/issue_comments_488802.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,7 +5,7 @@\n \n Failing packages:\n - gf2x #30593\n-- ecm\n+- ecm #30600\n - symmetrica\n - rubiks (see also #28022)\n - ecl #30594\n``````\n",
    "created_at": "2020-09-18T15:28:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488802",
    "user": "https://github.com/dimpase"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,7 +5,7 @@
 
 Failing packages:
 - gf2x #30593
-- ecm
+- ecm #30600
 - symmetrica
 - rubiks (see also #28022)
 - ecl #30594
``````




---

archive/issue_comments_488803.json:
```json
{
    "body": "<a id='comment:41'></a>\nthe gmp-ecm issue is fixed upstream, and waiting for a new release, the patch at the link in comment [comment:38] can be used in Sage.",
    "created_at": "2020-09-18T15:30:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488803",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:41'></a>
the gmp-ecm issue is fixed upstream, and waiting for a new release, the patch at the link in comment [comment:38] can be used in Sage.



---

archive/issue_comments_488804.json:
```json
{
    "body": "<a id='comment:42'></a>\nReplying to [@zimmermann6](#comment%3A41):\n> the gmp-ecm issue is fixed upstream, and waiting for a new release, the patch at the link in comment [comment:38] can be used in Sage.\n\nit is already in #30600 - with a configure patch too, naturally (as we don't require autotools).",
    "created_at": "2020-09-18T16:44:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488804",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:42'></a>
Replying to [@zimmermann6](#comment%3A41):
> the gmp-ecm issue is fixed upstream, and waiting for a new release, the patch at the link in comment [comment:38] can be used in Sage.

it is already in #30600 - with a configure patch too, naturally (as we don't require autotools).



---

archive/issue_comments_488805.json:
```json
{
    "body": "<a id='comment:43'></a>\nas to symmetrica - I don't grok its code. It seems that `set_root_multiplier` is a no-op?\n\n```\n% cd upstream/symmetrica-2.0\n% grep -R set_root_mu .\n./hiccup.c:\tset_root_multiplier (OP extra);\n./hiccup.c:\t\tset_root_multiplier(S_MO_K(S_L_S(a)));\n./hiccup.c:set_root_multiplier (extra) OP extra;\n./hiccup.c:\t\tset_root_multiplier(S_MO_K(S_L_S(a)));\n```",
    "created_at": "2020-09-18T17:03:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488805",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:43'></a>
as to symmetrica - I don't grok its code. It seems that `set_root_multiplier` is a no-op?

```
% cd upstream/symmetrica-2.0
% grep -R set_root_mu .
./hiccup.c:	set_root_multiplier (OP extra);
./hiccup.c:		set_root_multiplier(S_MO_K(S_L_S(a)));
./hiccup.c:set_root_multiplier (extra) OP extra;
./hiccup.c:		set_root_multiplier(S_MO_K(S_L_S(a)));
```



---

archive/issue_comments_488806.json:
```json
{
    "body": "<a id='comment:44'></a>\nI don't really know what I'm doing, but I feel like I've made some progress with symmetrica with the attached patch and with this change to Sage:\n\n```diff\ndiff --git a/build/pkgs/symmetrica/spkg-install.in b/build/pkgs/symmetrica/spkg-install.in\nindex bc5d8e5f26..a071b6fece 100644\n--- a/build/pkgs/symmetrica/spkg-install.in\n+++ b/build/pkgs/symmetrica/spkg-install.in\n@@ -4,7 +4,7 @@ cd src\n # as it has (syntactically) nothing in common with ours.\n cp -f ../patches/makefile makefile || exit $?\n \n-export CFLAGS=\"-O2 -g $CFLAGS -fPIC -DFAST -DALLTRUE\"\n+export CFLAGS=\"-O2 -g $CFLAGS -fPIC -DFAST -DALLTRUE -DUNDEF\"\n \n sdh_make\n sdh_install libsymmetrica.a \"$SAGE_LOCAL/lib\"\n```\nI don't know if this is a good approach, though.",
    "created_at": "2020-09-18T18:21:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488806",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:44'></a>
I don't really know what I'm doing, but I feel like I've made some progress with symmetrica with the attached patch and with this change to Sage:

```diff
diff --git a/build/pkgs/symmetrica/spkg-install.in b/build/pkgs/symmetrica/spkg-install.in
index bc5d8e5f26..a071b6fece 100644
--- a/build/pkgs/symmetrica/spkg-install.in
+++ b/build/pkgs/symmetrica/spkg-install.in
@@ -4,7 +4,7 @@ cd src
 # as it has (syntactically) nothing in common with ours.
 cp -f ../patches/makefile makefile || exit $?
 
-export CFLAGS="-O2 -g $CFLAGS -fPIC -DFAST -DALLTRUE"
+export CFLAGS="-O2 -g $CFLAGS -fPIC -DFAST -DALLTRUE -DUNDEF"
 
 sdh_make
 sdh_install libsymmetrica.a "$SAGE_LOCAL/lib"
```
I don't know if this is a good approach, though.



---

archive/issue_comments_488807.json:
```json
{
    "body": "Attempting to patch symmetrica to build with Xcode 12",
    "created_at": "2020-09-18T18:23:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488807",
    "user": "https://github.com/jhpalmieri"
}
```

Attempting to patch symmetrica to build with Xcode 12



---

archive/issue_comments_488808.json:
```json
{
    "body": "<a id='comment:45'></a>\n**Attachment:** [symmetrica-xcode12.patch.gz](https://github.com/sagemath/sage/files/ticket30494/symmetrica-xcode12.patch.gz)\n\n`openblas`: same kind of issue\n\n```\nlapacke_cggsvp_work.c:52:9: error: implicit declaration of function 'cggsvp_' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n        LAPACK_cggsvp( &jobu, &jobv, &jobq, &m, &p, &n, a, &lda, b, &ldb, &tola,\n        ^\n```",
    "created_at": "2020-09-18T18:46:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488808",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:45'></a>
**Attachment:** [symmetrica-xcode12.patch.gz](https://github.com/sagemath/sage/files/ticket30494/symmetrica-xcode12.patch.gz)

`openblas`: same kind of issue

```
lapacke_cggsvp_work.c:52:9: error: implicit declaration of function 'cggsvp_' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
        LAPACK_cggsvp( &jobu, &jobv, &jobq, &m, &p, &n, a, &lda, b, &ldb, &tola,
        ^
```



---

archive/issue_comments_488809.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,6 +10,7 @@\n - rubiks (see also #28022)\n - ecl #30594\n - scipy\n+- openblas\n \n Tickets: \n - #30487 - GH Actions: Test also with Xcode 12 beta\n``````\n",
    "created_at": "2020-09-18T18:46:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488809",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -10,6 +10,7 @@
 - rubiks (see also #28022)
 - ecl #30594
 - scipy
+- openblas
 
 Tickets: 
 - #30487 - GH Actions: Test also with Xcode 12 beta
``````




---

archive/issue_comments_488810.json:
```json
{
    "body": "<a id='comment:46'></a>\nAnd `readline`, too:\n\n```\n../terminal.c:242:7: error: implicit declaration of function 'ioctl' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n  if (ioctl (tty, TIOCGWINSZ, &window_size) == 0)\n      ^\n```",
    "created_at": "2020-09-18T18:47:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488810",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:46'></a>
And `readline`, too:

```
../terminal.c:242:7: error: implicit declaration of function 'ioctl' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
  if (ioctl (tty, TIOCGWINSZ, &window_size) == 0)
      ^
```



---

archive/issue_comments_488811.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,6 +11,7 @@\n - ecl #30594\n - scipy\n - openblas\n+- readline\n \n Tickets: \n - #30487 - GH Actions: Test also with Xcode 12 beta\n``````\n",
    "created_at": "2020-09-18T18:47:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488811",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,6 +11,7 @@
 - ecl #30594
 - scipy
 - openblas
+- readline
 
 Tickets: 
 - #30487 - GH Actions: Test also with Xcode 12 beta
``````




---

archive/issue_comments_488812.json:
```json
{
    "body": "<a id='comment:47'></a>\nUpgrading to readline 8.0 worked for me. Is there a ticket for that?",
    "created_at": "2020-09-18T18:52:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488812",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:47'></a>
Upgrading to readline 8.0 worked for me. Is there a ticket for that?



---

archive/issue_comments_488813.json:
```json
{
    "body": "<a id='comment:48'></a>\nI opened #30603 for readline.",
    "created_at": "2020-09-18T19:06:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488813",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:48'></a>
I opened #30603 for readline.



---

archive/issue_comments_488814.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,7 +11,7 @@\n - ecl #30594\n - scipy\n - openblas\n-- readline\n+- readline #30603\n \n Tickets: \n - #30487 - GH Actions: Test also with Xcode 12 beta\n``````\n",
    "created_at": "2020-09-18T19:06:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488814",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,7 +11,7 @@
 - ecl #30594
 - scipy
 - openblas
-- readline
+- readline #30603
 
 Tickets: 
 - #30487 - GH Actions: Test also with Xcode 12 beta
``````




---

archive/issue_comments_488815.json:
```json
{
    "body": "<a id='comment:49'></a>\nopenblas - see https://github.com/xianyi/OpenBLAS/issues/2805",
    "created_at": "2020-09-18T19:33:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488815",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:49'></a>
openblas - see https://github.com/xianyi/OpenBLAS/issues/2805



---

archive/issue_comments_488816.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n+Xcode 12 was publicly released on 2020-09-16. \n+\n Sage does not build from source using Xcode 12.2 beta, released 2020.09.17, clang version 12.0.0 (clang-1200.0.32.4)\n \n - https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ\n``````\n",
    "created_at": "2020-09-18T19:38:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488816",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
+Xcode 12 was publicly released on 2020-09-16. 
+
 Sage does not build from source using Xcode 12.2 beta, released 2020.09.17, clang version 12.0.0 (clang-1200.0.32.4)
 
 - https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ
``````




---

archive/issue_comments_488817.json:
```json
{
    "body": "<a id='comment:51'></a>\nI have a patch for scipy that makes it build - posting on #30604 in a moment.",
    "created_at": "2020-09-18T20:09:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488817",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:51'></a>
I have a patch for scipy that makes it build - posting on #30604 in a moment.



---

archive/issue_events_273029.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-18T20:09:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273029"
}
```



---

archive/issue_events_273030.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-18T20:09:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273030"
}
```



---

archive/issue_comments_488818.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,7 +11,7 @@\n - symmetrica\n - rubiks (see also #28022)\n - ecl #30594\n-- scipy\n+- scipy #30604\n - openblas\n - readline #30603\n \n``````\n",
    "created_at": "2020-09-18T20:09:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488818",
    "user": "https://github.com/dimpase"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,7 +11,7 @@
 - symmetrica
 - rubiks (see also #28022)
 - ecl #30594
-- scipy
+- scipy #30604
 - openblas
 - readline #30603
 
``````




---

archive/issue_comments_488819.json:
```json
{
    "body": "<a id='comment:52'></a>\nReplying to [@mkoeppe](#comment%3A49):\n> openblas - see https://github.com/xianyi/OpenBLAS/issues/2805\n\nI am using openblas from Homebrew, it works with XCode 12 (on macOS 10), no?",
    "created_at": "2020-09-18T20:12:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488819",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:52'></a>
Replying to [@mkoeppe](#comment%3A49):
> openblas - see https://github.com/xianyi/OpenBLAS/issues/2805

I am using openblas from Homebrew, it works with XCode 12 (on macOS 10), no?



---

archive/issue_comments_488820.json:
```json
{
    "body": "<a id='comment:53'></a>\nReplying to [@mkoeppe](#comment%3A49):\n> openblas - see https://github.com/xianyi/OpenBLAS/issues/2805\n\nWith that patch I don't get the \"implicit declaration\" errors, but instead I get errors like\n\n```\nlapacke_dggsvp_work.c:49:71: error: too many arguments to function call, expected 21, have 24\n                       &tolb, k, l, u, &ldu, v, &ldv, q, &ldq, iwork, tau, work,\n                                                                      ^~~~~~~~~~\n```",
    "created_at": "2020-09-18T20:13:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488820",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:53'></a>
Replying to [@mkoeppe](#comment%3A49):
> openblas - see https://github.com/xianyi/OpenBLAS/issues/2805

With that patch I don't get the "implicit declaration" errors, but instead I get errors like

```
lapacke_dggsvp_work.c:49:71: error: too many arguments to function call, expected 21, have 24
                       &tolb, k, l, u, &ldu, v, &ldv, q, &ldq, iwork, tau, work,
                                                                      ^~~~~~~~~~
```



---

archive/issue_comments_488821.json:
```json
{
    "body": "<a id='comment:54'></a>\nI tried upgrading to OpenBLAS 0.3.10, but I get the same problem.",
    "created_at": "2020-09-18T20:14:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488821",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:54'></a>
I tried upgrading to OpenBLAS 0.3.10, but I get the same problem.



---

archive/issue_comments_488822.json:
```json
{
    "body": "<a id='comment:55'></a>\nReplying to [@dimpase](#comment%3A52):\n> Replying to [@mkoeppe](#comment%3A49):\n> > openblas - see https://github.com/xianyi/OpenBLAS/issues/2805\n\n> \n> I am using openblas from Homebrew, it works with XCode 12 (on macOS 10), no?\n\nYes, that works fine for me. Same for readline, but both of those were reported as failures on sage-release.",
    "created_at": "2020-09-18T20:14:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488822",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:55'></a>
Replying to [@dimpase](#comment%3A52):
> Replying to [@mkoeppe](#comment%3A49):
> > openblas - see https://github.com/xianyi/OpenBLAS/issues/2805

> 
> I am using openblas from Homebrew, it works with XCode 12 (on macOS 10), no?

Yes, that works fine for me. Same for readline, but both of those were reported as failures on sage-release.



---

archive/issue_comments_488823.json:
```json
{
    "body": "<a id='comment:56'></a>\nPerhaps the Xcode 12 tickets for packages for which we can use working homebrew packages should be considered \"critical\", not \"blockers\" - but they need to be fixed too.",
    "created_at": "2020-09-18T20:19:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488823",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:56'></a>
Perhaps the Xcode 12 tickets for packages for which we can use working homebrew packages should be considered "critical", not "blockers" - but they need to be fixed too.



---

archive/issue_comments_488824.json:
```json
{
    "body": "<a id='comment:57'></a>\nSure, sounds good.",
    "created_at": "2020-09-18T20:28:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488824",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:57'></a>
Sure, sounds good.



---

archive/issue_comments_488825.json:
```json
{
    "body": "<a id='comment:58'></a>\nI think we're just down to symmetrica now, combined with a reasonable set of homebrew packages. I don't know enough (read: any) C to be able to do anything meaningful with symmetrica, though.",
    "created_at": "2020-09-18T21:44:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488825",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:58'></a>
I think we're just down to symmetrica now, combined with a reasonable set of homebrew packages. I don't know enough (read: any) C to be able to do anything meaningful with symmetrica, though.



---

archive/issue_comments_488826.json:
```json
{
    "body": "<a id='comment:59'></a>\nI'll fix symmetrica, no worries",
    "created_at": "2020-09-18T22:12:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488826",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:59'></a>
I'll fix symmetrica, no worries



---

archive/issue_comments_488827.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,7 +8,7 @@\n Failing packages:\n - gf2x #30593\n - ecm #30600\n-- symmetrica\n+- symmetrica #30608\n - rubiks (see also #28022)\n - ecl #30594\n - scipy #30604\n``````\n",
    "created_at": "2020-09-18T22:14:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488827",
    "user": "https://github.com/dimpase"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,7 +8,7 @@
 Failing packages:
 - gf2x #30593
 - ecm #30600
-- symmetrica
+- symmetrica #30608
 - rubiks (see also #28022)
 - ecl #30594
 - scipy #30604
``````




---

archive/issue_comments_488828.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -12,7 +12,7 @@\n - rubiks (see also #28022)\n - ecl #30594\n - scipy #30604\n-- openblas\n+- openblas #30610\n - readline #30603\n \n Tickets: \n``````\n",
    "created_at": "2020-09-18T22:26:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488828",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -12,7 +12,7 @@
 - rubiks (see also #28022)
 - ecl #30594
 - scipy #30604
-- openblas
+- openblas #30610
 - readline #30603
 
 Tickets: 
``````




---

archive/issue_comments_488829.json:
```json
{
    "body": "<a id='comment:61'></a>\nI opened #30610 for OpenBLAS, not that I know how to fix it.",
    "created_at": "2020-09-18T22:26:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488829",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:61'></a>
I opened #30610 for OpenBLAS, not that I know how to fix it.



---

archive/issue_comments_488830.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -14,6 +14,7 @@\n - scipy #30604\n - openblas #30610\n - readline #30603\n+- mpir\n \n Tickets: \n - #30487 - GH Actions: Test also with Xcode 12 beta\n``````\n",
    "created_at": "2020-09-19T02:51:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488830",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -14,6 +14,7 @@
 - scipy #30604
 - openblas #30610
 - readline #30603
+- mpir
 
 Tickets: 
 - #30487 - GH Actions: Test also with Xcode 12 beta
``````




---

archive/issue_comments_488831.json:
```json
{
    "body": "<a id='comment:62'></a>\n`mpir` has a similar issue: its configure script fails because of the same sort of error. Again, the homebrew package works just fine.",
    "created_at": "2020-09-19T02:51:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488831",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:62'></a>
`mpir` has a similar issue: its configure script fails because of the same sort of error. Again, the homebrew package works just fine.



---

archive/issue_comments_488832.json:
```json
{
    "body": "<a id='comment:63'></a>\n`python3` builds with Xcode 12 on OS X 10.15.6, which is nice. It failed the last time I tried it with OS X 11, but maybe that's just a `MACOSX_DEPLOYMENT_TARGET` misconfiguration. It can be dealt with later, in any case.",
    "created_at": "2020-09-19T03:15:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488832",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:63'></a>
`python3` builds with Xcode 12 on OS X 10.15.6, which is nice. It failed the last time I tried it with OS X 11, but maybe that's just a `MACOSX_DEPLOYMENT_TARGET` misconfiguration. It can be dealt with later, in any case.



---

archive/issue_comments_488833.json:
```json
{
    "body": "<a id='comment:64'></a>\n`gsl` fails. Its `config.log` says\n\n```\nconfigure:3504: gcc -g -O2   -L/Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/new-xcode/sage-9.2.beta12/local/lib -Wl,-rpath,/Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/new-xcode/sage-9.2.beta12/local/lib  conftest.c -lopenblas -lm >&5\nld: library not found for -lopenblas\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nconfigure:3508: $? = 1\nconfigure:3546: result: no\nconfigure: failed program was:\n| /* confdefs.h */\n| #define PACKAGE_NAME \"gsl\"\n| #define PACKAGE_TARNAME \"gsl\"\n| #define PACKAGE_VERSION \"2.6\"\n| #define PACKAGE_STRING \"gsl 2.6\"\n| #define PACKAGE_BUGREPORT \"\"\n| #define PACKAGE_URL \"\"\n| #define PACKAGE \"gsl\"\n| #define VERSION \"2.6\"\n| #define RELEASED /**/\n| /* end confdefs.h.  */\n| \n| int\n| main ()\n| {\n| \n|   ;\n|   return 0;\n| }\nconfigure:3551: error: in `/Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/new-xcode/sage-9.2.beta12/local/var/tmp/sage/build/gsl-2.6/src':\nconfigure:3553: error: C compiler cannot create executables\nSee `config.log' for more details\n```\n(This is the only `config.log` file around, so I'm not sure what it's talking about.) Maybe the homebrew installations of `openblas` and `gsl` are confusing it. To be honest, I'm not sure that Sage's `gsl` built with the homebrew `openblas` before.",
    "created_at": "2020-09-19T04:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488833",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:64'></a>
`gsl` fails. Its `config.log` says

```
configure:3504: gcc -g -O2   -L/Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/new-xcode/sage-9.2.beta12/local/lib -Wl,-rpath,/Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/new-xcode/sage-9.2.beta12/local/lib  conftest.c -lopenblas -lm >&5
ld: library not found for -lopenblas
clang: error: linker command failed with exit code 1 (use -v to see invocation)
configure:3508: $? = 1
configure:3546: result: no
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "gsl"
| #define PACKAGE_TARNAME "gsl"
| #define PACKAGE_VERSION "2.6"
| #define PACKAGE_STRING "gsl 2.6"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define PACKAGE "gsl"
| #define VERSION "2.6"
| #define RELEASED /**/
| /* end confdefs.h.  */
| 
| int
| main ()
| {
| 
|   ;
|   return 0;
| }
configure:3551: error: in `/Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/new-xcode/sage-9.2.beta12/local/var/tmp/sage/build/gsl-2.6/src':
configure:3553: error: C compiler cannot create executables
See `config.log' for more details
```
(This is the only `config.log` file around, so I'm not sure what it's talking about.) Maybe the homebrew installations of `openblas` and `gsl` are confusing it. To be honest, I'm not sure that Sage's `gsl` built with the homebrew `openblas` before.



---

archive/issue_comments_488834.json:
```json
{
    "body": "<a id='comment:65'></a>\n`r` also fails, with some familiar errors and an unexpected one:\n\n```\nconftest.c:250:11: warning: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Wincompatible-pointer-types-discards-qualifiers]\n    char *ver = BZ2_bzlibVersion();\n          ^     ~~~~~~~~~~~~~~~~~~\nconftest.c:251:5: error: implicitly declaring library function 'exit' with type 'void (int) __attribute__((noreturn))' [-Werror,-Wimplicit-function-declaration]\n    exit(strcmp(ver, \"1.0.6\") < 0);\n    ^\nconftest.c:251:5: note: include the header <stdlib.h> or explicitly provide a declaration for 'exit'\nconftest.c:251:10: error: implicitly declaring library function 'strcmp' with type 'int (const char *, const char *)' [-Werror,-Wimplicit-function-declaration]\n    exit(strcmp(ver, \"1.0.6\") < 0);\n         ^\nconftest.c:251:10: note: include the header <string.h> or explicitly provide a declaration for 'strcmp'\n```\nand then\n\n```\nconfigure:42275: result: no\nconfigure:42281: checking whether bzip2 support suffices\nconfigure:42288: error: bzip2 library and headers are required\n```\n(This is using the system bzip2 installation.)",
    "created_at": "2020-09-19T04:10:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488834",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:65'></a>
`r` also fails, with some familiar errors and an unexpected one:

```
conftest.c:250:11: warning: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Wincompatible-pointer-types-discards-qualifiers]
    char *ver = BZ2_bzlibVersion();
          ^     ~~~~~~~~~~~~~~~~~~
conftest.c:251:5: error: implicitly declaring library function 'exit' with type 'void (int) __attribute__((noreturn))' [-Werror,-Wimplicit-function-declaration]
    exit(strcmp(ver, "1.0.6") < 0);
    ^
conftest.c:251:5: note: include the header <stdlib.h> or explicitly provide a declaration for 'exit'
conftest.c:251:10: error: implicitly declaring library function 'strcmp' with type 'int (const char *, const char *)' [-Werror,-Wimplicit-function-declaration]
    exit(strcmp(ver, "1.0.6") < 0);
         ^
conftest.c:251:10: note: include the header <string.h> or explicitly provide a declaration for 'strcmp'
```
and then

```
configure:42275: result: no
configure:42281: checking whether bzip2 support suffices
configure:42288: error: bzip2 library and headers are required
```
(This is using the system bzip2 installation.)



---

archive/issue_comments_488835.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -15,6 +15,8 @@\n - openblas #30610\n - readline #30603\n - mpir\n+- gsl (?)\n+- r\n \n Tickets: \n - #30487 - GH Actions: Test also with Xcode 12 beta\n``````\n",
    "created_at": "2020-09-19T04:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488835",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -15,6 +15,8 @@
 - openblas #30610
 - readline #30603
 - mpir
+- gsl (?)
+- r
 
 Tickets: 
 - #30487 - GH Actions: Test also with Xcode 12 beta
``````




---

archive/issue_comments_488836.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,19 +5,24 @@\n - https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ\n - https://github.com/mkoeppe/sage/runs/1059961873\n \n-Failing packages:\n+Failing packages (blockers):\n - gf2x #30593\n - ecm #30600\n - symmetrica #30608\n-- rubiks (see also #28022)\n - ecl #30594\n - scipy #30604\n+\n+Failing packages with replacements available via homebrew:\n - openblas #30610\n - readline #30603\n - mpir\n - gsl (?)\n - r\n \n+Failing optional packages:\n+- rubiks (see also #28022)\n+\n+\n Tickets: \n - #30487 - GH Actions: Test also with Xcode 12 beta\n - #27754 - Upgrade: Python 3.8.5\n``````\n",
    "created_at": "2020-09-19T04:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488836",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,19 +5,24 @@
 - https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ
 - https://github.com/mkoeppe/sage/runs/1059961873
 
-Failing packages:
+Failing packages (blockers):
 - gf2x #30593
 - ecm #30600
 - symmetrica #30608
-- rubiks (see also #28022)
 - ecl #30594
 - scipy #30604
+
+Failing packages with replacements available via homebrew:
 - openblas #30610
 - readline #30603
 - mpir
 - gsl (?)
 - r
 
+Failing optional packages:
+- rubiks (see also #28022)
+
+
 Tickets: 
 - #30487 - GH Actions: Test also with Xcode 12 beta
 - #27754 - Upgrade: Python 3.8.5
``````




---

archive/issue_comments_488837.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,7 +8,7 @@\n Failing packages (blockers):\n - gf2x #30593\n - ecm #30600\n-- symmetrica #30608\n+- symmetrica #30608 or #29061\n - ecl #30594\n - scipy #30604\n \n``````\n",
    "created_at": "2020-09-19T08:21:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488837",
    "user": "https://github.com/dimpase"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,7 +8,7 @@
 Failing packages (blockers):
 - gf2x #30593
 - ecm #30600
-- symmetrica #30608
+- symmetrica #30608 or #29061
 - ecl #30594
 - scipy #30604
 
``````




---

archive/issue_comments_488838.json:
```json
{
    "body": "<a id='comment:69'></a>\nThere is a problem with another package, but I can't figure out which. If I run\n\n```\n$ ./configure --with-system-boost_cropped=no --with-system-curl=yes --with-system-freetype=no --with-system-glpk=no --with-system-gmp=no --with-system-libffi=no --with-system-libgd=no --with-system-libpng=no --with-system-mpc=no --with-system-mpfi=no --with-system-mpfr=no --with-system-ninja_build=no --with-system-ntl=no --with-system-pkgconf=no --with-system-ppl=no --with-system-python3=no --with-system-sqlite=no --with-system-suitesparse=no --with-system-yasm=no --with-system-zeromq=no --with-system-zlib\n```\nthen Sage builds, but the docs fail with this:\n\n```\nWarning: Missing title for sage.combinat.posets.mobile\n[combinat ] building [inventory]: targets for 378 source files that are out of date\n[combinat ] updating environment: [new config] 378 added, 0 changed, 0 removed\n------------------------------------------------------------------------\n0   signals.cpython-38-darwin.so        0x000000011139862a print_backtrace + 58\n1   signals.cpython-38-darwin.so        0x000000011139c277 sigdie + 39\n2   signals.cpython-38-darwin.so        0x000000011139c1f0 sigdie_for_sig + 256\n3   libsystem_platform.dylib            0x00007fff6a9965fd _sigtramp + 29\n4   ???                                 0xf687400000000001 0x0 + 17764237623930388481\n5   libsystem_c.dylib                   0x00007fff6a86c808 abort + 120\n6   libsystem_malloc.dylib              0x00007fff6a96250b has_default_zone0 + 0\n7   libsystem_malloc.dylib              0x00007fff6a96540f malloc_report + 151\n8   memory.cpython-38-darwin.so         0x000000033a29b144 __pyx_f_4sage_3ext_6memory_sage_sig_free + 20\n9   polyhedron.cpython-38-darwin.so     0x000000034423eb71 _ZN23Parma_Polyhedra_Library10PolyhedronD2Ev + 49\n10  polyhedron.cpython-38-darwin.so     0x000000034423d742 _ZL47__pyx_tp_dealloc_3ppl_10polyhedron_C_PolyhedronP7_object + 82\n11  libpython3.8.dylib                  0x000000010f4fe76e dict_dealloc + 510\n12  libpython3.8.dylib                  0x000000010f52f83c subtype_clear + 252\n13  libpython3.8.dylib                  0x000000010f611c6b collect + 3563\n14  libpython3.8.dylib                  0x000000010f612135 _PyObject_GC_Alloc + 389\n15  libpython3.8.dylib                  0x000000010f6121a5 _PyObject_GC_New + 21\n16  libpython3.8.dylib                  0x000000010f5ff9ab PyTraceBack_Here + 155\n17  category_object.cpython-38-darwin.s 0x000000011246d177 __Pyx_AddTraceback + 839\n18  category_object.cpython-38-darwin.s 0x0000000112472795 __pyx_f_4sage_9structure_15category_object_14CategoryObject_getattr_from_category + 453\n19  category_object.cpython-38-darwin.s 0x0000000112472f90 __pyx_tp_getattro_4sage_9structure_15category_object_CategoryObject + 64\n20  cachefunc.cpython-38-darwin.so      0x0000000112272703 __pyx_pw_4sage_4misc_9cachefunc_24CachedMethodCallerNoArgs_1__init__ + 2275\n21  libpython3.8.dylib                  0x000000010f520774 type_call + 292\n22  cachefunc.cpython-38-darwin.so      0x0000000112250d71 __Pyx_PyObject_Call + 97\n23  cachefunc.cpython-38-darwin.so      0x000000011226784b __pyx_tp_descr_get_4sage_4misc_9cachefunc_CachedMethod + 1579\n24  libpython3.8.dylib                  0x000000010f50e527 _PyObject_GenericGetAttrWithDict + 487\n25  category_object.cpython-38-darwin.s 0x0000000112472f62 __pyx_tp_getattro_4sage_9structure_15category_object_CategoryObject + 18\n26  libpython3.8.dylib                  0x000000010f50e77c _PyObject_GetMethod + 268\n27  libpython3.8.dylib                  0x000000010f5a7e91 _PyEval_EvalFrameDefault + 29489\n28  libpython3.8.dylib                  0x000000010f4cbe2d function_code_fastcall + 237\n29  libpython3.8.dylib                  0x000000010f4cb2aa _PyObject_FastCallDict + 218\n30  libpython3.8.dylib                  0x000000010f4cc993 _PyObject_Call_Prepend + 131\n31  libpython3.8.dylib                  0x000000010f525354 slot_tp_init + 180\n32  libpython3.8.dylib                  0x000000010f520774 type_call + 292\n33  libpython3.8.dylib                  0x000000010f4cb476 _PyObject_MakeTpCall + 374\n34  libpython3.8.dylib                  0x000000010f5aba0c call_function + 652\n35  libpython3.8.dylib                  0x000000010f5a806a _PyEval_EvalFrameDefault + 29962\n...\n[snip]\n...\n457 libpython3.8.dylib                  0x000000010f5ac967 _PyEval_EvalCodeWithName + 3287\n458 libpython3.8.dylib                  0x000000010f4cbfad _PyFunction_Vectorcall + 253\n459 libpython3.8.dylib                  0x000000010f4cb7c4 PyVectorcall_Call + 100\n460 libpython3.8.dylib                  0x000000010f6107d3 pymain_run_module + 179\n461 libpython3.8.dylib                  0x000000010f60fec8 Py_RunMain + 1416\n462 libpython3.8.dylib                  0x000000010f6106b3 pymain_main + 403\n463 libpython3.8.dylib                  0x000000010f61070b Py_BytesMain + 43\n464 libdyld.dylib                       0x00007fff6a79dcc9 start + 1\n465 ???                                 0x0000000000000006 0x0 + 6\n------------------------------------------------------------------------\nUnhandled SIGABRT: An abort() occurred.\nThis probably occurred because a *compiled* module has a bug\nin it and is not properly wrapped with sig_on(), sig_off().\nPython will now terminate.\n------------------------------------------------------------------------\n```\nI've tried configuring with a subset of those packages specified, but I haven't been able to narrow it down.",
    "created_at": "2020-09-20T02:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488838",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:69'></a>
There is a problem with another package, but I can't figure out which. If I run

```
$ ./configure --with-system-boost_cropped=no --with-system-curl=yes --with-system-freetype=no --with-system-glpk=no --with-system-gmp=no --with-system-libffi=no --with-system-libgd=no --with-system-libpng=no --with-system-mpc=no --with-system-mpfi=no --with-system-mpfr=no --with-system-ninja_build=no --with-system-ntl=no --with-system-pkgconf=no --with-system-ppl=no --with-system-python3=no --with-system-sqlite=no --with-system-suitesparse=no --with-system-yasm=no --with-system-zeromq=no --with-system-zlib
```
then Sage builds, but the docs fail with this:

```
Warning: Missing title for sage.combinat.posets.mobile
[combinat ] building [inventory]: targets for 378 source files that are out of date
[combinat ] updating environment: [new config] 378 added, 0 changed, 0 removed
------------------------------------------------------------------------
0   signals.cpython-38-darwin.so        0x000000011139862a print_backtrace + 58
1   signals.cpython-38-darwin.so        0x000000011139c277 sigdie + 39
2   signals.cpython-38-darwin.so        0x000000011139c1f0 sigdie_for_sig + 256
3   libsystem_platform.dylib            0x00007fff6a9965fd _sigtramp + 29
4   ???                                 0xf687400000000001 0x0 + 17764237623930388481
5   libsystem_c.dylib                   0x00007fff6a86c808 abort + 120
6   libsystem_malloc.dylib              0x00007fff6a96250b has_default_zone0 + 0
7   libsystem_malloc.dylib              0x00007fff6a96540f malloc_report + 151
8   memory.cpython-38-darwin.so         0x000000033a29b144 __pyx_f_4sage_3ext_6memory_sage_sig_free + 20
9   polyhedron.cpython-38-darwin.so     0x000000034423eb71 _ZN23Parma_Polyhedra_Library10PolyhedronD2Ev + 49
10  polyhedron.cpython-38-darwin.so     0x000000034423d742 _ZL47__pyx_tp_dealloc_3ppl_10polyhedron_C_PolyhedronP7_object + 82
11  libpython3.8.dylib                  0x000000010f4fe76e dict_dealloc + 510
12  libpython3.8.dylib                  0x000000010f52f83c subtype_clear + 252
13  libpython3.8.dylib                  0x000000010f611c6b collect + 3563
14  libpython3.8.dylib                  0x000000010f612135 _PyObject_GC_Alloc + 389
15  libpython3.8.dylib                  0x000000010f6121a5 _PyObject_GC_New + 21
16  libpython3.8.dylib                  0x000000010f5ff9ab PyTraceBack_Here + 155
17  category_object.cpython-38-darwin.s 0x000000011246d177 __Pyx_AddTraceback + 839
18  category_object.cpython-38-darwin.s 0x0000000112472795 __pyx_f_4sage_9structure_15category_object_14CategoryObject_getattr_from_category + 453
19  category_object.cpython-38-darwin.s 0x0000000112472f90 __pyx_tp_getattro_4sage_9structure_15category_object_CategoryObject + 64
20  cachefunc.cpython-38-darwin.so      0x0000000112272703 __pyx_pw_4sage_4misc_9cachefunc_24CachedMethodCallerNoArgs_1__init__ + 2275
21  libpython3.8.dylib                  0x000000010f520774 type_call + 292
22  cachefunc.cpython-38-darwin.so      0x0000000112250d71 __Pyx_PyObject_Call + 97
23  cachefunc.cpython-38-darwin.so      0x000000011226784b __pyx_tp_descr_get_4sage_4misc_9cachefunc_CachedMethod + 1579
24  libpython3.8.dylib                  0x000000010f50e527 _PyObject_GenericGetAttrWithDict + 487
25  category_object.cpython-38-darwin.s 0x0000000112472f62 __pyx_tp_getattro_4sage_9structure_15category_object_CategoryObject + 18
26  libpython3.8.dylib                  0x000000010f50e77c _PyObject_GetMethod + 268
27  libpython3.8.dylib                  0x000000010f5a7e91 _PyEval_EvalFrameDefault + 29489
28  libpython3.8.dylib                  0x000000010f4cbe2d function_code_fastcall + 237
29  libpython3.8.dylib                  0x000000010f4cb2aa _PyObject_FastCallDict + 218
30  libpython3.8.dylib                  0x000000010f4cc993 _PyObject_Call_Prepend + 131
31  libpython3.8.dylib                  0x000000010f525354 slot_tp_init + 180
32  libpython3.8.dylib                  0x000000010f520774 type_call + 292
33  libpython3.8.dylib                  0x000000010f4cb476 _PyObject_MakeTpCall + 374
34  libpython3.8.dylib                  0x000000010f5aba0c call_function + 652
35  libpython3.8.dylib                  0x000000010f5a806a _PyEval_EvalFrameDefault + 29962
...
[snip]
...
457 libpython3.8.dylib                  0x000000010f5ac967 _PyEval_EvalCodeWithName + 3287
458 libpython3.8.dylib                  0x000000010f4cbfad _PyFunction_Vectorcall + 253
459 libpython3.8.dylib                  0x000000010f4cb7c4 PyVectorcall_Call + 100
460 libpython3.8.dylib                  0x000000010f6107d3 pymain_run_module + 179
461 libpython3.8.dylib                  0x000000010f60fec8 Py_RunMain + 1416
462 libpython3.8.dylib                  0x000000010f6106b3 pymain_main + 403
463 libpython3.8.dylib                  0x000000010f61070b Py_BytesMain + 43
464 libdyld.dylib                       0x00007fff6a79dcc9 start + 1
465 ???                                 0x0000000000000006 0x0 + 6
------------------------------------------------------------------------
Unhandled SIGABRT: An abort() occurred.
This probably occurred because a *compiled* module has a bug
in it and is not properly wrapped with sig_on(), sig_off().
Python will now terminate.
------------------------------------------------------------------------
```
I've tried configuring with a subset of those packages specified, but I haven't been able to narrow it down.



---

archive/issue_comments_488839.json:
```json
{
    "body": "<a id='comment:70'></a>\nThere's some ppl stuff in the backtrace, so that would be my first guess",
    "created_at": "2020-09-20T02:19:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488839",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:70'></a>
There's some ppl stuff in the backtrace, so that would be my first guess



---

archive/issue_comments_488840.json:
```json
{
    "body": "<a id='comment:71'></a>\nI saw that, too. I thought I'd checked it, but I'll try again. (Taking a working build and then doing `./sage -f ppl` resulted in a successful build, but I'll try from scratch.)",
    "created_at": "2020-09-20T04:26:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488840",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:71'></a>
I saw that, too. I thought I'd checked it, but I'll try again. (Taking a working build and then doing `./sage -f ppl` resulted in a successful build, but I'll try from scratch.)



---

archive/issue_comments_488841.json:
```json
{
    "body": "<a id='comment:72'></a>\nAfter running\n\n```\n./configure --with-system-glpk=no --with-system-gmp=no --with-system-ppl=no\n```\n`sagelib` fails to build, and there are lots of messages like this:\n\n```\nld: illegal thread local variable reference to regular symbol __ZN3NTL20ZZXFac_InitNumPrimesE for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nerror: command 'g++' failed with exit status 1\n```",
    "created_at": "2020-09-20T05:30:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488841",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:72'></a>
After running

```
./configure --with-system-glpk=no --with-system-gmp=no --with-system-ppl=no
```
`sagelib` fails to build, and there are lots of messages like this:

```
ld: illegal thread local variable reference to regular symbol __ZN3NTL20ZZXFac_InitNumPrimesE for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
error: command 'g++' failed with exit status 1
```



---

archive/issue_comments_488842.json:
```json
{
    "body": "<a id='comment:73'></a>\nThis might be unrelated breakage coming from homebrew's ntl/flint packages - tracked at #29339/#27764",
    "created_at": "2020-09-20T05:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488842",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:73'></a>
This might be unrelated breakage coming from homebrew's ntl/flint packages - tracked at #29339/#27764



---

archive/issue_comments_488843.json:
```json
{
    "body": "<a id='comment:74'></a>\nBest to remove these from the homebrew installation. In some situations these packages seem to leak into Sage even with `--with-system...=no`, as reported recently on sage-devel",
    "created_at": "2020-09-20T05:41:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488843",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:74'></a>
Best to remove these from the homebrew installation. In some situations these packages seem to leak into Sage even with `--with-system...=no`, as reported recently on sage-devel



---

archive/issue_comments_488844.json:
```json
{
    "body": "<a id='comment:75'></a>\nOkay, after removing homebrew's `ntl`, I see the failure in [comment:69](#comment%3A69) with `./configure --with-system-glpk=no --with-system-gmp=no --with-system-ppl=no`. For what it's worth, if I do `make distclean`, followed by the above configure command, followed by `export SAGE_CHECK=yes` and `make ppl`, then `ppl` passes its test suite.",
    "created_at": "2020-09-20T23:01:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488844",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:75'></a>
Okay, after removing homebrew's `ntl`, I see the failure in [comment:69](#comment%3A69) with `./configure --with-system-glpk=no --with-system-gmp=no --with-system-ppl=no`. For what it's worth, if I do `make distclean`, followed by the above configure command, followed by `export SAGE_CHECK=yes` and `make ppl`, then `ppl` passes its test suite.



---

archive/issue_comments_488845.json:
```json
{
    "body": "<a id='comment:76'></a>\n`glpk` pass its test suite, and `gmp` shows one failure:\n\n```\n../../test-driver: line 107: 32897 Abort trap: 6           \"$@\" > $log_file 2>&1\nFAIL: t-sqrlo\n```",
    "created_at": "2020-09-20T23:43:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488845",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:76'></a>
`glpk` pass its test suite, and `gmp` shows one failure:

```
../../test-driver: line 107: 32897 Abort trap: 6           "$@" > $log_file 2>&1
FAIL: t-sqrlo
```



---

archive/issue_comments_488846.json:
```json
{
    "body": "**Reviewer:** https://github.com/mkoeppe/sage/actions/runs/264223897",
    "created_at": "2020-09-21T00:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488846",
    "user": "https://github.com/mkoeppe"
}
```

**Reviewer:** https://github.com/mkoeppe/sage/actions/runs/264223897



---

archive/issue_comments_488847.json:
```json
{
    "body": "**Changing reviewer** from \"https://github.com/mkoeppe/sage/actions/runs/264223897\" to \"https://github.com/mkoeppe/sage/actions/runs/264540655\".",
    "created_at": "2020-09-21T05:39:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488847",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "https://github.com/mkoeppe/sage/actions/runs/264223897" to "https://github.com/mkoeppe/sage/actions/runs/264540655".



---

archive/issue_comments_488848.json:
```json
{
    "body": "<a id='comment:79'></a>\nReplying to [@jhpalmieri](#comment%3A76):\n> `glpk` pass its test suite, and `gmp` shows one failure:\n> \n> ```\n> ../../test-driver: line 107: 32897 Abort trap: 6           \"$@\" > $log_file 2>&1\n> FAIL: t-sqrlo\n> ```\n\nDid you try with Sage's GMP 6.1.2?\nIt's old. I tried building and testing GMP 6.2.0, all its tests pass.\nFor the record, it's on `kabylake-apple-darwin19.6.0`, clang version 1200.0.32.4\n\nThis is the same GMP version as on Homebrew, so it should be OK to use the latter.",
    "created_at": "2020-09-21T13:07:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488848",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:79'></a>
Replying to [@jhpalmieri](#comment%3A76):
> `glpk` pass its test suite, and `gmp` shows one failure:
> 
> ```
> ../../test-driver: line 107: 32897 Abort trap: 6           "$@" > $log_file 2>&1
> FAIL: t-sqrlo
> ```

Did you try with Sage's GMP 6.1.2?
It's old. I tried building and testing GMP 6.2.0, all its tests pass.
For the record, it's on `kabylake-apple-darwin19.6.0`, clang version 1200.0.32.4

This is the same GMP version as on Homebrew, so it should be OK to use the latter.



---

archive/issue_comments_488849.json:
```json
{
    "body": "<a id='comment:81'></a>\nI've opened #30625 to update GMP",
    "created_at": "2020-09-21T13:13:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488849",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:81'></a>
I've opened #30625 to update GMP



---

archive/issue_comments_488850.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -15,6 +15,7 @@\n Failing packages with replacements available via homebrew:\n - openblas #30610\n - readline #30603\n+- gmp (#30625)\n - mpir\n - gsl (?)\n - r\n``````\n",
    "created_at": "2020-09-21T13:13:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488850",
    "user": "https://github.com/dimpase"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -15,6 +15,7 @@
 Failing packages with replacements available via homebrew:
 - openblas #30610
 - readline #30603
+- gmp (#30625)
 - mpir
 - gsl (?)
 - r
``````




---

archive/issue_comments_488851.json:
```json
{
    "body": "<a id='comment:82'></a>\nReplying to [@dimpase](#comment%3A79):\n> Replying to [@jhpalmieri](#comment%3A76):\n> > `glpk` pass its test suite, and `gmp` shows one failure:\n> > \n> > ```\n> > ../../test-driver: line 107: 32897 Abort trap: 6           \"$@\" > $log_file 2>&1\n> > FAIL: t-sqrlo\n> > ```\n\n> \n> Did you try with Sage's GMP 6.1.2?\n\nYes: using Sage's gmp, glpk, and ppl leads to failures when building the documentation (and also doctest failures along the same lines): see [comment:69](#comment%3A69). I was trying to see if the packages passed their test suites after seeming to install correctly.",
    "created_at": "2020-09-21T15:48:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488851",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:82'></a>
Replying to [@dimpase](#comment%3A79):
> Replying to [@jhpalmieri](#comment%3A76):
> > `glpk` pass its test suite, and `gmp` shows one failure:
> > 
> > ```
> > ../../test-driver: line 107: 32897 Abort trap: 6           "$@" > $log_file 2>&1
> > FAIL: t-sqrlo
> > ```

> 
> Did you try with Sage's GMP 6.1.2?

Yes: using Sage's gmp, glpk, and ppl leads to failures when building the documentation (and also doctest failures along the same lines): see [comment:69](#comment%3A69). I was trying to see if the packages passed their test suites after seeming to install correctly.



---

archive/issue_comments_488852.json:
```json
{
    "body": "<a id='comment:83'></a>\nI also see an error in a scipy selftest, related to Cython.",
    "created_at": "2020-09-21T16:39:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488852",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:83'></a>
I also see an error in a scipy selftest, related to Cython.



---

archive/issue_comments_488853.json:
```json
{
    "body": "<a id='comment:84'></a>\nR does not build, as its bzlib2/bzip2 check fails. Indeed, the corr. C test has undeclared external functions\n\n```\nconfigure:42230: checking if bzip2 version >= 1.0.6\nconfigure:42258: clang -o conftest  -g -O2  -fPIC -fPIC   -L/Users/dima/software/sagetrac-mirror/local/lib/R/lib -Wl,-rpath,/Users/dima/software/sagetrac-mirror/local/lib/R/lib -L/Users/dima/software/sage\ntrac-mirror/local/lib -Wl,-rpath,/Users/dima/software/sagetrac-mirror/local/lib  conftest.c -lbz2 -lz -licucore -ldl -lm  -liconv >&5\nconftest.c:251:11: warning: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Wincompatible-pointer-types-discards-qualifiers]\n    char *ver = BZ2_bzlibVersion();\n          ^     ~~~~~~~~~~~~~~~~~~\nconftest.c:252:5: error: implicitly declaring library function 'exit' with type 'void (int) __attribute__((noreturn))' [-Werror,-Wimplicit-function-declaration]\n    exit(strcmp(ver, \"1.0.6\") < 0);\n    ^\nconftest.c:252:5: note: include the header <stdlib.h> or explicitly provide a declaration for 'exit'\nconftest.c:252:10: error: implicitly declaring library function 'strcmp' with type 'int (const char *, const char *)' [-Werror,-Wimplicit-function-declaration]\n    exit(strcmp(ver, \"1.0.6\") < 0);\n         ^\nconftest.c:252:10: note: include the header <string.h> or explicitly provide a declaration for 'strcmp'\n1 warning and 2 errors generated.\n```",
    "created_at": "2020-09-22T17:14:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488853",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:84'></a>
R does not build, as its bzlib2/bzip2 check fails. Indeed, the corr. C test has undeclared external functions

```
configure:42230: checking if bzip2 version >= 1.0.6
configure:42258: clang -o conftest  -g -O2  -fPIC -fPIC   -L/Users/dima/software/sagetrac-mirror/local/lib/R/lib -Wl,-rpath,/Users/dima/software/sagetrac-mirror/local/lib/R/lib -L/Users/dima/software/sage
trac-mirror/local/lib -Wl,-rpath,/Users/dima/software/sagetrac-mirror/local/lib  conftest.c -lbz2 -lz -licucore -ldl -lm  -liconv >&5
conftest.c:251:11: warning: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Wincompatible-pointer-types-discards-qualifiers]
    char *ver = BZ2_bzlibVersion();
          ^     ~~~~~~~~~~~~~~~~~~
conftest.c:252:5: error: implicitly declaring library function 'exit' with type 'void (int) __attribute__((noreturn))' [-Werror,-Wimplicit-function-declaration]
    exit(strcmp(ver, "1.0.6") < 0);
    ^
conftest.c:252:5: note: include the header <stdlib.h> or explicitly provide a declaration for 'exit'
conftest.c:252:10: error: implicitly declaring library function 'strcmp' with type 'int (const char *, const char *)' [-Werror,-Wimplicit-function-declaration]
    exit(strcmp(ver, "1.0.6") < 0);
         ^
conftest.c:252:10: note: include the header <string.h> or explicitly provide a declaration for 'strcmp'
1 warning and 2 errors generated.
```



---

archive/issue_comments_488854.json:
```json
{
    "body": "<a id='comment:85'></a>\ngsl did build well with the patch for openblas from #30610",
    "created_at": "2020-09-22T17:25:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488854",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:85'></a>
gsl did build well with the patch for openblas from #30610



---

archive/issue_comments_488855.json:
```json
{
    "body": "<a id='comment:86'></a>\nsee #30631 for an R fix",
    "created_at": "2020-09-22T18:15:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488855",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:86'></a>
see #30631 for an R fix



---

archive/issue_comments_488856.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -15,10 +15,10 @@\n Failing packages with replacements available via homebrew:\n - openblas #30610\n - readline #30603\n-- gmp (#30625)\n+- gmp #30625\n - mpir\n - gsl (?)\n-- r\n+- r #30631\n \n Failing optional packages:\n - rubiks (see also #28022)\n``````\n",
    "created_at": "2020-09-22T18:15:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488856",
    "user": "https://github.com/dimpase"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -15,10 +15,10 @@
 Failing packages with replacements available via homebrew:
 - openblas #30610
 - readline #30603
-- gmp (#30625)
+- gmp #30625
 - mpir
 - gsl (?)
-- r
+- r #30631
 
 Failing optional packages:
 - rubiks (see also #28022)
``````




---

archive/issue_comments_488857.json:
```json
{
    "body": "<a id='comment:87'></a>\n`giac` builds, but hangs on startup. And some giac-related tests time out too.",
    "created_at": "2020-09-22T20:50:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488857",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:87'></a>
`giac` builds, but hangs on startup. And some giac-related tests time out too.



---

archive/issue_comments_488858.json:
```json
{
    "body": "<a id='comment:88'></a>\nWith beta13, #29061, #28623, #30486 (i.e. arb 2.18) and flint(2.6.1)+ntl+gmp+mpfr+mpc+mpfi+readline(and deps)+boost from Homebrew - but openblas, gsl, R built by Sage (with the updates),\nall the long tests pass. So this seems to be sorted, more or less.",
    "created_at": "2020-09-23T06:45:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488858",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:88'></a>
With beta13, #29061, #28623, #30486 (i.e. arb 2.18) and flint(2.6.1)+ntl+gmp+mpfr+mpc+mpfi+readline(and deps)+boost from Homebrew - but openblas, gsl, R built by Sage (with the updates),
all the long tests pass. So this seems to be sorted, more or less.



---

archive/issue_comments_488859.json:
```json
{
    "body": "<a id='comment:89'></a>\nI agree that the Xcode 12 issue is in good shape, but not OS X 11. I'm trying to build on a beta version of that and Python is failing to build. First, Sage insists on building Python because its check for sqlite3 fails:\n\n```\nconfigure:30755: ./conftest\nAssertion failed: (strcmp(sqlite3_libversion(),SQLITE_VERSION)==0), function main, file conftest.cpp, line 73.\n./configure: line 3360:  9722 Abort trap: 6           ./conftest$ac_exeext\nconfigure:30755: $? = 134\nconfigure: program exited with status 134\n...\nconfigure:30759: result: no\nconfigure:30787: no suitable system package found for SPKG sqlite\n```\nThis also triggers the Python build. That fails because: first it failed to build the `zlib` module. When I installed Sage's zlib, then it started complaining that it couldn't build the `readline` module. I'm still trying...",
    "created_at": "2020-09-23T20:26:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488859",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:89'></a>
I agree that the Xcode 12 issue is in good shape, but not OS X 11. I'm trying to build on a beta version of that and Python is failing to build. First, Sage insists on building Python because its check for sqlite3 fails:

```
configure:30755: ./conftest
Assertion failed: (strcmp(sqlite3_libversion(),SQLITE_VERSION)==0), function main, file conftest.cpp, line 73.
./configure: line 3360:  9722 Abort trap: 6           ./conftest$ac_exeext
configure:30755: $? = 134
configure: program exited with status 134
...
configure:30759: result: no
configure:30787: no suitable system package found for SPKG sqlite
```
This also triggers the Python build. That fails because: first it failed to build the `zlib` module. When I installed Sage's zlib, then it started complaining that it couldn't build the `readline` module. I'm still trying...



---

archive/issue_comments_488860.json:
```json
{
    "body": "<a id='comment:90'></a>\nIt would be worth checking whether using the homebrew package for sqlite is helpful",
    "created_at": "2020-09-24T00:05:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488860",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:90'></a>
It would be worth checking whether using the homebrew package for sqlite is helpful



---

archive/issue_comments_488861.json:
```json
{
    "body": "<a id='comment:91'></a>\nIt's installed. \n\nBy installing Sage's `sqlite` and `readline` (and by unsetting `MACOSX_DEPLOYMENT_TARGET` \u2014 don't know if this was necessary), I've gotten `python3` to build. Now `scipy` is causing problems, even with #30604:\n\n```\n  /usr/local/bin/gfortran -Wall -g -Wall -g -undefined dynamic_lookup -bundle -bundle -undefined dynamic_lookup -L/Users/palmieri/Sage/sage-9.2.beta13/local/lib -Wl,-rpath,/Users/palmieri/Sage/sage-9.2.beta13/local/lib build/temp.macosx-11.0-x86_64-3.8/scipy/integrate/_quadpackmodule.o -L/usr/local/Cellar/openblas/0.3.10_1/lib -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0 -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0/../../.. -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0/../../.. -L/Users/palmieri/Sage/sage-9.2.beta13/local/lib -Lbuild/temp.macosx-11.0-x86_64-3.8 -lquadpack -lmach -lopenblas -lopenblas -lgfortran -o build/lib.macosx-11.0-x86_64-3.8/scipy/integrate/_quadpack.cpython-38-darwin.so\n  gfortran: warning: couldn't understand version 11.0\n  ld: library not found for -lgcc_s.10.4\n  collect2: error: ld returned 1 exit status\n  Running from SciPy source directory.\n  /Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/site-packages/numpy/distutils/system_info.py:838: UserWarning: Specified path /usr/local/include/python3.8 is invalid.\n    return self.get_paths(self.section, key)\n  error: Command \"/usr/local/bin/gfortran -Wall -g -Wall -g -undefined dynamic_lookup -bundle -bundle -undefined dynamic_lookup -L/Users/palmieri/Sage/sage-9.2.beta13/local/lib -Wl,-rpath,/Users/palmieri/Sage/sage-9.2.beta13/local/lib build/temp.macosx-11.0-x86_64-3.8/scipy/integrate/_quadpackmodule.o -L/usr/local/Cellar/openblas/0.3.10_1/lib -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0 -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0/../../.. -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0/../../.. -L/Users/palmieri/Sage/sage-9.2.beta13/local/lib -Lbuild/temp.macosx-11.0-x86_64-3.8 -lquadpack -lmach -lopenblas -lopenblas -lgfortran -o build/lib.macosx-11.0-x86_64-3.8/scipy/integrate/_quadpack.cpython-38-darwin.so\" failed with exit status 1\n  Building wheel for scipy (PEP 517): finished with status 'error'\n  ERROR: Failed building wheel for scipy\n```",
    "created_at": "2020-09-24T00:16:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488861",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:91'></a>
It's installed. 

By installing Sage's `sqlite` and `readline` (and by unsetting `MACOSX_DEPLOYMENT_TARGET`  don't know if this was necessary), I've gotten `python3` to build. Now `scipy` is causing problems, even with #30604:

```
  /usr/local/bin/gfortran -Wall -g -Wall -g -undefined dynamic_lookup -bundle -bundle -undefined dynamic_lookup -L/Users/palmieri/Sage/sage-9.2.beta13/local/lib -Wl,-rpath,/Users/palmieri/Sage/sage-9.2.beta13/local/lib build/temp.macosx-11.0-x86_64-3.8/scipy/integrate/_quadpackmodule.o -L/usr/local/Cellar/openblas/0.3.10_1/lib -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0 -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0/../../.. -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0/../../.. -L/Users/palmieri/Sage/sage-9.2.beta13/local/lib -Lbuild/temp.macosx-11.0-x86_64-3.8 -lquadpack -lmach -lopenblas -lopenblas -lgfortran -o build/lib.macosx-11.0-x86_64-3.8/scipy/integrate/_quadpack.cpython-38-darwin.so
  gfortran: warning: couldn't understand version 11.0
  ld: library not found for -lgcc_s.10.4
  collect2: error: ld returned 1 exit status
  Running from SciPy source directory.
  /Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/site-packages/numpy/distutils/system_info.py:838: UserWarning: Specified path /usr/local/include/python3.8 is invalid.
    return self.get_paths(self.section, key)
  error: Command "/usr/local/bin/gfortran -Wall -g -Wall -g -undefined dynamic_lookup -bundle -bundle -undefined dynamic_lookup -L/Users/palmieri/Sage/sage-9.2.beta13/local/lib -Wl,-rpath,/Users/palmieri/Sage/sage-9.2.beta13/local/lib build/temp.macosx-11.0-x86_64-3.8/scipy/integrate/_quadpackmodule.o -L/usr/local/Cellar/openblas/0.3.10_1/lib -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0 -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0/../../.. -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0/../../.. -L/Users/palmieri/Sage/sage-9.2.beta13/local/lib -Lbuild/temp.macosx-11.0-x86_64-3.8 -lquadpack -lmach -lopenblas -lopenblas -lgfortran -o build/lib.macosx-11.0-x86_64-3.8/scipy/integrate/_quadpack.cpython-38-darwin.so" failed with exit status 1
  Building wheel for scipy (PEP 517): finished with status 'error'
  ERROR: Failed building wheel for scipy
```



---

archive/issue_comments_488862.json:
```json
{
    "body": "<a id='comment:92'></a>\nTry with gfortran from the spkg. My guess is that the homebrew package for gfortran is not ready yet for macOS 11",
    "created_at": "2020-09-24T00:26:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488862",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:92'></a>
Try with gfortran from the spkg. My guess is that the homebrew package for gfortran is not ready yet for macOS 11



---

archive/issue_comments_488863.json:
```json
{
    "body": "<a id='comment:93'></a>\nI did that, and now `numpy` won't build:\n\n```\nbuild_src\nbuilding py_modules sources\ncreating build\ncreating build/src.macosx-11.0-x86_64-3.8\ncreating build/src.macosx-11.0-x86_64-3.8/numpy\ncreating build/src.macosx-11.0-x86_64-3.8/numpy/distutils\nbuilding library \"npymath\" sources\ngfortran: warning: couldn't understand version 11.0\n\ngfortran: warning: couldn't understand version 11.0\n\ngfortran: warning: couldn't understand version 11.0\n\ngfortran: warning: couldn't understand version 11.0\n\nRunning from numpy source directory.\n/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py:274: UserWarning: Unknown distribution option: 'define_macros'\n  warnings.warn(msg)\nTraceback (most recent call last):\n  File \"setup.py\", line 499, in <module>\n    setup_package()\n  File \"setup.py\", line 491, in setup_package\n    setup(**metadata)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/core.py\", line 169, in setup\n    return old_setup(**new_attr)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/site-packages/setuptools/__init__.py\", line 163, in setup\n    return distutils.core.setup(**attrs)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/core.py\", line 148, in setup\n    dist.run_commands()\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py\", line 966, in run_commands\n    self.run_command(cmd)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py\", line 985, in run_command\n    cmd_obj.run()\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/install.py\", line 60, in run\n    r = self.setuptools_run()\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/install.py\", line 34, in setuptools_run\n    return distutils_install.run(self)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/command/install.py\", line 545, in run\n    self.run_command('build')\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/cmd.py\", line 313, in run_command\n    self.distribution.run_command(command)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py\", line 985, in run_command\n    cmd_obj.run()\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build.py\", line 40, in run\n    old_build.run(self)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/command/build.py\", line 135, in run\n    self.run_command(cmd_name)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/cmd.py\", line 313, in run_command\n    self.distribution.run_command(command)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py\", line 985, in run_command\n    cmd_obj.run()\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build_src.py\", line 144, in run\n    self.build_sources()\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build_src.py\", line 155, in build_sources\n    self.build_library_sources(*libname_info)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build_src.py\", line 288, in build_library_sources\n    sources = self.generate_sources(sources, (lib_name, build_info))\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build_src.py\", line 378, in generate_sources\n    source = func(extension, build_dir)\n  File \"numpy/core/setup.py\", line 650, in get_mathlib_info\n    st = config_cmd.try_link('int main(void) { return 0;}')\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/command/config.py\", line 241, in try_link\n    self._check_compiler()\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/config.py\", line 79, in _check_compiler\n    self.fcompiler = new_fcompiler(compiler=self.fcompiler,\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/__init__.py\", line 880, in new_fcompiler\n    compiler = get_default_fcompiler(plat, requiref90=requiref90,\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/__init__.py\", line 851, in get_default_fcompiler\n    compiler_type =  _find_existing_fcompiler(matching_compiler_types,\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/__init__.py\", line 803, in _find_existing_fcompiler\n    v = c.get_version()\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/__init__.py\", line 426, in get_version\n    version = CCompiler.get_version(self, force=force, ok_status=ok_status)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/ccompiler.py\", line 90, in <lambda>\n    m = lambda self, *args, **kw: func(self, *args, **kw)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/ccompiler.py\", line 657, in CCompiler_get_version\n    version = matcher(output)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/gnu.py\", line 278, in version_match\n    v = self.gnu_version_match(version_string)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/gnu.py\", line 80, in gnu_version_match\n    raise ValueError(err + version_string)\nValueError: A valid Fortran version was not found in this string:\n\n9.2.0\n```",
    "created_at": "2020-09-24T03:28:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488863",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:93'></a>
I did that, and now `numpy` won't build:

```
build_src
building py_modules sources
creating build
creating build/src.macosx-11.0-x86_64-3.8
creating build/src.macosx-11.0-x86_64-3.8/numpy
creating build/src.macosx-11.0-x86_64-3.8/numpy/distutils
building library "npymath" sources
gfortran: warning: couldn't understand version 11.0

gfortran: warning: couldn't understand version 11.0

gfortran: warning: couldn't understand version 11.0

gfortran: warning: couldn't understand version 11.0

Running from numpy source directory.
/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py:274: UserWarning: Unknown distribution option: 'define_macros'
  warnings.warn(msg)
Traceback (most recent call last):
  File "setup.py", line 499, in <module>
    setup_package()
  File "setup.py", line 491, in setup_package
    setup(**metadata)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/core.py", line 169, in setup
    return old_setup(**new_attr)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/site-packages/setuptools/__init__.py", line 163, in setup
    return distutils.core.setup(**attrs)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/core.py", line 148, in setup
    dist.run_commands()
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py", line 966, in run_commands
    self.run_command(cmd)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py", line 985, in run_command
    cmd_obj.run()
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/install.py", line 60, in run
    r = self.setuptools_run()
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/install.py", line 34, in setuptools_run
    return distutils_install.run(self)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/command/install.py", line 545, in run
    self.run_command('build')
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/cmd.py", line 313, in run_command
    self.distribution.run_command(command)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py", line 985, in run_command
    cmd_obj.run()
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build.py", line 40, in run
    old_build.run(self)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/command/build.py", line 135, in run
    self.run_command(cmd_name)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/cmd.py", line 313, in run_command
    self.distribution.run_command(command)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py", line 985, in run_command
    cmd_obj.run()
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build_src.py", line 144, in run
    self.build_sources()
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build_src.py", line 155, in build_sources
    self.build_library_sources(*libname_info)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build_src.py", line 288, in build_library_sources
    sources = self.generate_sources(sources, (lib_name, build_info))
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build_src.py", line 378, in generate_sources
    source = func(extension, build_dir)
  File "numpy/core/setup.py", line 650, in get_mathlib_info
    st = config_cmd.try_link('int main(void) { return 0;}')
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/command/config.py", line 241, in try_link
    self._check_compiler()
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/config.py", line 79, in _check_compiler
    self.fcompiler = new_fcompiler(compiler=self.fcompiler,
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/__init__.py", line 880, in new_fcompiler
    compiler = get_default_fcompiler(plat, requiref90=requiref90,
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/__init__.py", line 851, in get_default_fcompiler
    compiler_type =  _find_existing_fcompiler(matching_compiler_types,
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/__init__.py", line 803, in _find_existing_fcompiler
    v = c.get_version()
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/__init__.py", line 426, in get_version
    version = CCompiler.get_version(self, force=force, ok_status=ok_status)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/ccompiler.py", line 90, in <lambda>
    m = lambda self, *args, **kw: func(self, *args, **kw)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/ccompiler.py", line 657, in CCompiler_get_version
    version = matcher(output)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/gnu.py", line 278, in version_match
    v = self.gnu_version_match(version_string)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/gnu.py", line 80, in gnu_version_match
    raise ValueError(err + version_string)
ValueError: A valid Fortran version was not found in this string:

9.2.0
```



---

archive/issue_comments_488864.json:
```json
{
    "body": "<a id='comment:94'></a>\nlet us split this ticket into two, one for XCode 12 on macOS 10, and the other for macOS 11.",
    "created_at": "2020-09-24T09:10:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488864",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:94'></a>
let us split this ticket into two, one for XCode 12 on macOS 10, and the other for macOS 11.



---

archive/issue_comments_488865.json:
```json
{
    "body": "<a id='comment:95'></a>\nnow that the GMP-ECM related issue has been fixed, is there a way I can stop receiving updates from that ticket, which are quite frequent, and no really interesting for me?",
    "created_at": "2020-09-24T09:20:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488865",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:95'></a>
now that the GMP-ECM related issue has been fixed, is there a way I can stop receiving updates from that ticket, which are quite frequent, and no really interesting for me?



---

archive/issue_comments_488866.json:
```json
{
    "body": "<a id='comment:96'></a>\nReplying to [@zimmermann6](#comment%3A95):\n> now that the GMP-ECM related issue has been fixed,\n> is there a way I can stop receiving updates from\n> that ticket, which are quite frequent,\n> and not really interesting for me?\n\nSorry, our Trac server does not offer that option.\n\nThat could be solved by updating Trac or adding\nsome Trac plugin or moving to a different issue\ntracker, such as the GitLab one. None of these\nseems likely to happen very soon.\n\nSo far all you can do is filter emails on your\nside to send such updates to the trash.\n\nSorry about that.",
    "created_at": "2020-09-24T09:44:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488866",
    "user": "https://github.com/slel"
}
```

<a id='comment:96'></a>
Replying to [@zimmermann6](#comment%3A95):
> now that the GMP-ECM related issue has been fixed,
> is there a way I can stop receiving updates from
> that ticket, which are quite frequent,
> and not really interesting for me?

Sorry, our Trac server does not offer that option.

That could be solved by updating Trac or adding
some Trac plugin or moving to a different issue
tracker, such as the GitLab one. None of these
seems likely to happen very soon.

So far all you can do is filter emails on your
side to send such updates to the trash.

Sorry about that.



---

archive/issue_comments_488867.json:
```json
{
    "body": "<a id='comment:97'></a>\nReplying to [@dimpase](#comment%3A94):\n> let us split this ticket into two, one for Xcode 12 on macOS 10,\n> and the other for macOS 11.\n\nDone:\n\n- #30494 (present ticket): Xcode 12\n- #30651: macOS 11",
    "created_at": "2020-09-24T11:33:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488867",
    "user": "https://github.com/slel"
}
```

<a id='comment:97'></a>
Replying to [@dimpase](#comment%3A94):
> let us split this ticket into two, one for Xcode 12 on macOS 10,
> and the other for macOS 11.

Done:

- #30494 (present ticket): Xcode 12
- #30651: macOS 11



---

archive/issue_events_273031.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-09-24T11:33:26Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "rename": {
        "from": "Meta-ticket: Support Xcode 12, macOS 11 Big Sur",
        "to": "Meta-ticket: Support Xcode 12"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273031"
}
```



---

archive/issue_comments_488868.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"macOS, Xcode\".",
    "created_at": "2020-09-24T11:33:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488868",
    "user": "https://github.com/slel"
}
```

**Changing keywords** from "" to "macOS, Xcode".



---

archive/issue_comments_488869.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,6 +6,7 @@\n - https://github.com/mkoeppe/sage/runs/1059961873\n \n Failing packages (blockers):\n+\n - gf2x #30593\n - ecm #30600\n - symmetrica #30608 or #29061\n@@ -13,6 +14,7 @@\n - scipy #30604\n \n Failing packages with replacements available via homebrew:\n+\n - openblas #30610\n - readline #30603\n - gmp #30625\n@@ -21,10 +23,17 @@\n - r #30631\n \n Failing optional packages:\n+\n - rubiks (see also #28022)\n \n \n-Tickets: \n+Tickets:\n+\n - #30487 - GH Actions: Test also with Xcode 12 beta\n - #27754 - Upgrade: Python 3.8.5\n - #28022 - Downgrade `rubiks` to optional\n+\n+Follow-up:\n+\n+- #30651 - Meta-ticket: support macOS 11\n+\n``````\n",
    "created_at": "2020-09-24T11:33:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488869",
    "user": "https://github.com/slel"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,6 +6,7 @@
 - https://github.com/mkoeppe/sage/runs/1059961873
 
 Failing packages (blockers):
+
 - gf2x #30593
 - ecm #30600
 - symmetrica #30608 or #29061
@@ -13,6 +14,7 @@
 - scipy #30604
 
 Failing packages with replacements available via homebrew:
+
 - openblas #30610
 - readline #30603
 - gmp #30625
@@ -21,10 +23,17 @@
 - r #30631
 
 Failing optional packages:
+
 - rubiks (see also #28022)
 
 
-Tickets: 
+Tickets:
+
 - #30487 - GH Actions: Test also with Xcode 12 beta
 - #27754 - Upgrade: Python 3.8.5
 - #28022 - Downgrade `rubiks` to optional
+
+Follow-up:
+
+- #30651 - Meta-ticket: support macOS 11
+
``````




---

archive/issue_comments_488870.json:
```json
{
    "body": "<a id='comment:98'></a>\n`gap_packages` need https://github.com/sagemath/sagetrac-mirror/commit/3435c24a53490f484ff28267b61498282c8afbbb from #29314\n\n---\n\nwhile I am at it, I keep getting one doctest failure on Singular:\n\n```\nsrc/sage/interfaces/singular.py\n...\nsage: a = singular(1) ## line 503 ##\nsage: _ = singular._expect.sendline('1+')  # unfinished input ## line 504 ##\nsage: try:\n    alarm(0.5)\n    singular._expect_expr('>')  # interrupt this\nexcept KeyboardInterrupt:\n    pass ## line 505 ##\nControl-C pressed. Interrupting Singular. Please wait a few seconds...\nsage: 2*a ## line 514 ##\n------------------------------------------------------------------------\n0   signals.cpython-38-darwin.so        0x0000000104bd6622 print_backtrace + 66\n1   signals.cpython-38-darwin.so        0x0000000104bda267 sigdie + 39\n2   signals.cpython-38-darwin.so        0x0000000104bda213 sigdie_for_sig + 307\n...\n```\n\nlooks like singals/pexpect trouble",
    "created_at": "2020-09-24T13:56:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488870",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:98'></a>
`gap_packages` need https://github.com/sagemath/sagetrac-mirror/commit/3435c24a53490f484ff28267b61498282c8afbbb from #29314

---

while I am at it, I keep getting one doctest failure on Singular:

```
src/sage/interfaces/singular.py
...
sage: a = singular(1) ## line 503 ##
sage: _ = singular._expect.sendline('1+')  # unfinished input ## line 504 ##
sage: try:
    alarm(0.5)
    singular._expect_expr('>')  # interrupt this
except KeyboardInterrupt:
    pass ## line 505 ##
Control-C pressed. Interrupting Singular. Please wait a few seconds...
sage: 2*a ## line 514 ##
------------------------------------------------------------------------
0   signals.cpython-38-darwin.so        0x0000000104bd6622 print_backtrace + 66
1   signals.cpython-38-darwin.so        0x0000000104bda267 sigdie + 39
2   signals.cpython-38-darwin.so        0x0000000104bda213 sigdie_for_sig + 307
...
```

looks like singals/pexpect trouble



---

archive/issue_comments_488871.json:
```json
{
    "body": "<a id='comment:99'></a>\nI'm getting that singular error randomly also on linux",
    "created_at": "2020-09-30T22:38:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488871",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:99'></a>
I'm getting that singular error randomly also on linux



---

archive/issue_comments_488872.json:
```json
{
    "body": "<a id='comment:0'></a>\nIn `homebrew-macos-minimal-12` (https://github.com/mkoeppe/sage/runs/1201629992), which builds python3 from SPKG, several doctests fail because of annoying messages \n\n```\n    ld: warning: dylib (/usr/local/lib/libmpfr.dylib) was built for newer macOS version (10.15) than being linked (10.9)\n```\nI have opened #30711 for this",
    "created_at": "2020-10-03T20:20:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488872",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:0'></a>
In `homebrew-macos-minimal-12` (https://github.com/mkoeppe/sage/runs/1201629992), which builds python3 from SPKG, several doctests fail because of annoying messages 

```
    ld: warning: dylib (/usr/local/lib/libmpfr.dylib) was built for newer macOS version (10.15) than being linked (10.9)
```
I have opened #30711 for this



---

archive/issue_comments_488873.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -25,7 +25,7 @@\n Failing optional packages:\n \n - rubiks (see also #28022)\n-\n+- gap_packages (#30720)\n \n Tickets:\n \n``````\n",
    "created_at": "2020-10-04T23:06:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488873",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -25,7 +25,7 @@
 Failing optional packages:
 
 - rubiks (see also #28022)
-
+- gap_packages (#30720)
 
 Tickets:
 
``````




---

archive/issue_comments_488874.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -25,7 +25,7 @@\n Failing optional packages:\n \n - rubiks (see also #28022)\n-- gap_packages (#30720)\n+- gap_packages (#30729)\n \n Tickets:\n \n``````\n",
    "created_at": "2020-10-05T19:10:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488874",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -25,7 +25,7 @@
 Failing optional packages:
 
 - rubiks (see also #28022)
-- gap_packages (#30720)
+- gap_packages (#30729)
 
 Tickets:
 
``````




---

archive/issue_comments_488875.json:
```json
{
    "body": "**Changing reviewer** from \"https://github.com/mkoeppe/sage/actions/runs/264540655\" to \"\".",
    "created_at": "2020-10-06T18:24:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488875",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "https://github.com/mkoeppe/sage/actions/runs/264540655" to "".



---

archive/issue_comments_488876.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -26,6 +26,11 @@\n \n - rubiks (see also #28022)\n - gap_packages (#30729)\n+- fricas, e_antic, boost, deformation, polylib, csdp, atlas, termcap [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)\n+\n+Failing experimental packages:\n+\n+- gap3, cocoalib, gdb, awali, libtheora, lrslib, surf, valgrind, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)\n \n Tickets:\n \n``````\n",
    "created_at": "2020-10-06T18:55:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488876",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -26,6 +26,11 @@
 
 - rubiks (see also #28022)
 - gap_packages (#30729)
+- fricas, e_antic, boost, deformation, polylib, csdp, atlas, termcap [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)
+
+Failing experimental packages:
+
+- gap3, cocoalib, gdb, awali, libtheora, lrslib, surf, valgrind, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)
 
 Tickets:
 
``````




---

archive/issue_events_273032.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273032"
}
```



---

archive/issue_events_273033.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273033"
}
```



---

archive/issue_comments_488877.json:
```json
{
    "body": "<a id='comment:6'></a>\nCan this be closed? I can build with Xcode 12, although it's with the support of various homebrew packages. Are minimal homebrew installations workable, or installations without homebrew at all?\n\n(I may be able to test these, but maybe we already know the answers.)",
    "created_at": "2020-11-22T20:51:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488877",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>
Can this be closed? I can build with Xcode 12, although it's with the support of various homebrew packages. Are minimal homebrew installations workable, or installations without homebrew at all?

(I may be able to test these, but maybe we already know the answers.)



---

archive/issue_comments_488878.json:
```json
{
    "body": "<a id='comment:7'></a>\nIt's certainly not a blocker any more, but perhaps useful to keep open to keep track of issues in optional/experimental packages",
    "created_at": "2020-11-22T20:53:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488878",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
It's certainly not a blocker any more, but perhaps useful to keep open to keep track of issues in optional/experimental packages



---

archive/issue_events_273034.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-22T20:53:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/blocker",
    "label_color": "ff0000",
    "label_name": "blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273034"
}
```



---

archive/issue_comments_488879.json:
```json
{
    "body": "<a id='comment:8'></a>\nCan this be closed, or do we still want to keep it open for optional/experimental packages?",
    "created_at": "2021-01-12T03:02:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488879",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:8'></a>
Can this be closed, or do we still want to keep it open for optional/experimental packages?



---

archive/issue_comments_488880.json:
```json
{
    "body": "<a id='comment:9'></a>\nI've added #31227 (Accept /usr/bin/python3 from XCode 12.3 on macOS 10.15 (Catalina))",
    "created_at": "2021-01-13T18:23:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488880",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
I've added #31227 (Accept /usr/bin/python3 from XCode 12.3 on macOS 10.15 (Catalina))



---

archive/issue_comments_488881.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -37,6 +37,7 @@\n - #30487 - GH Actions: Test also with Xcode 12 beta\n - #27754 - Upgrade: Python 3.8.5\n - #28022 - Downgrade `rubiks` to optional\n+- #31227 - Accept `/usr/bin/python3` from XCode 12.3 on macOS 10.15 (Catalina)\n \n Follow-up:\n \n``````\n",
    "created_at": "2021-01-13T18:23:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488881",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -37,6 +37,7 @@
 - #30487 - GH Actions: Test also with Xcode 12 beta
 - #27754 - Upgrade: Python 3.8.5
 - #28022 - Downgrade `rubiks` to optional
+- #31227 - Accept `/usr/bin/python3` from XCode 12.3 on macOS 10.15 (Catalina)
 
 Follow-up:
 
``````




---

archive/issue_comments_488882.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -38,6 +38,7 @@\n - #27754 - Upgrade: Python 3.8.5\n - #28022 - Downgrade `rubiks` to optional\n - #31227 - Accept `/usr/bin/python3` from XCode 12.3 on macOS 10.15 (Catalina)\n+- #31314 - Failing sage_setup doctests when PYTHONPYCACHEPREFIX is set\n \n Follow-up:\n \n``````\n",
    "created_at": "2021-02-02T19:22:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488882",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -38,6 +38,7 @@
 - #27754 - Upgrade: Python 3.8.5
 - #28022 - Downgrade `rubiks` to optional
 - #31227 - Accept `/usr/bin/python3` from XCode 12.3 on macOS 10.15 (Catalina)
+- #31314 - Failing sage_setup doctests when PYTHONPYCACHEPREFIX is set
 
 Follow-up:
 
``````




---

archive/issue_comments_488883.json:
```json
{
    "body": "<a id='comment:1'></a>\nI think we can close it now",
    "created_at": "2021-04-07T19:31:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488883",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:1'></a>
I think we can close it now



---

archive/issue_events_273035.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-07T19:31:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273035"
}
```



---

archive/issue_events_273036.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-07T19:31:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273036"
}
```



---

archive/issue_comments_488884.json:
```json
{
    "body": "<a id='comment:2'></a>\nit remains #31314 ?",
    "created_at": "2021-04-07T19:58:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488884",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:2'></a>
it remains #31314 ?



---

archive/issue_comments_488885.json:
```json
{
    "body": "<a id='comment:3'></a>\nThat one is not really specific to Xcode 12, and we don't need a meta-ticket to keep track of a single open ticket",
    "created_at": "2021-06-07T00:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488885",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
That one is not really specific to Xcode 12, and we don't need a meta-ticket to keep track of a single open ticket



---

archive/issue_comments_488886.json:
```json
{
    "body": "<a id='comment:4'></a>\nthen why is it in the description of this ticket? One could remove it from the description?",
    "created_at": "2021-06-07T06:23:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488886",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:4'></a>
then why is it in the description of this ticket? One could remove it from the description?



---

archive/issue_comments_488887.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -38,7 +38,6 @@\n - #27754 - Upgrade: Python 3.8.5\n - #28022 - Downgrade `rubiks` to optional\n - #31227 - Accept `/usr/bin/python3` from XCode 12.3 on macOS 10.15 (Catalina)\n-- #31314 - Failing sage_setup doctests when PYTHONPYCACHEPREFIX is set\n \n Follow-up:\n \n``````\n",
    "created_at": "2022-04-24T19:26:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488887",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -38,7 +38,6 @@
 - #27754 - Upgrade: Python 3.8.5
 - #28022 - Downgrade `rubiks` to optional
 - #31227 - Accept `/usr/bin/python3` from XCode 12.3 on macOS 10.15 (Catalina)
-- #31314 - Failing sage_setup doctests when PYTHONPYCACHEPREFIX is set
 
 Follow-up:
 
``````




---

archive/issue_comments_488888.json:
```json
{
    "body": "<a id='comment:5'></a>\nI've removed the ticket from the description. \nLet's close this meta-ticket",
    "created_at": "2022-04-24T19:26:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488888",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
I've removed the ticket from the description. 
Let's close this meta-ticket



---

archive/issue_comments_488889.json:
```json
{
    "body": "<a id='comment:6'></a>\nWhat about the optional packages? Do they still fail?",
    "created_at": "2022-04-25T05:00:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488889",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>
What about the optional packages? Do they still fail?



---

archive/issue_events_273037.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-25T05:13:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273037"
}
```



---

archive/issue_events_273038.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-25T05:13:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273038"
}
```



---

archive/issue_events_273039.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-25T05:13:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273039"
}
```



---

archive/issue_comments_488890.json:
```json
{
    "body": "<a id='comment:7'></a>\nGood point, I again forgot about these. And it turns out they are not being tested - I've opened #33755 for this",
    "created_at": "2022-04-25T05:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488890",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
Good point, I again forgot about these. And it turns out they are not being tested - I've opened #33755 for this



---

archive/issue_comments_488891.json:
```json
{
    "body": "<a id='comment:8'></a>\nFor what it's worth, I tried building `rubiks` and it seemed to hang. I'm trying again with a fresh Sage install, and also trying a few other packages at the same time.",
    "created_at": "2022-04-25T05:25:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488891",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:8'></a>
For what it's worth, I tried building `rubiks` and it seemed to hang. I'm trying again with a fresh Sage install, and also trying a few other packages at the same time.



---

archive/issue_comments_488892.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -26,7 +26,7 @@\n \n - rubiks (see also #28022)\n - gap_packages (#30729)\n-- fricas, e_antic, boost, deformation, polylib, csdp, atlas, termcap [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)\n+- fricas, e_antic, boost, polylib, csdp, atlas, termcap [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)\n \n Failing experimental packages:\n \n``````\n",
    "created_at": "2022-04-25T17:27:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488892",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -26,7 +26,7 @@
 
 - rubiks (see also #28022)
 - gap_packages (#30729)
-- fricas, e_antic, boost, deformation, polylib, csdp, atlas, termcap [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)
+- fricas, e_antic, boost, polylib, csdp, atlas, termcap [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)
 
 Failing experimental packages:
 
``````




---

archive/issue_comments_488893.json:
```json
{
    "body": "<a id='comment:0'></a>\n`deformation` succeeded for me, so I removed it from the ticket description. `polylib` fails on two different machines with the old familiar message `error: implicit declaration of function`. The `rubiks` build hangs on two different machines shortly after starting:\n\n```\nBuilding Rubiks cube solvers\nInstalling rubiks-20070912.p21\nfor dir in dietz/cu2 dietz/mcube dietz/solver dik reid; do \\\n\t\t(cd ${dir} && make all)\\\n\tdone\ng++ -std=gnu++11 -g -O2  -c cu2.cpp\ng++ -std=gnu++11 -g -O2  -c main.cpp\ng++ -std=gnu++11 -g -O2   -o cu2  cu2.o main.o  -L/Users/jpalmier/Desktop/Sage/sage_builds/TESTING/sage-9.6.rc1/local/lib -Wl,-rpath,/Users/jpalmier/Desktop/Sage/sage_builds/TESTING/sage-9.6.rc1/local/lib \ng++ -std=gnu++11 -g -O2  -c mcube.cpp\ng++ -std=gnu++11 -g -O2  -c main.cpp\nmcube.cpp:1966:38: warning: if statement has empty body [-Wempty-body]\n        else if (fy == 3 && fz == 3) ;\n                                     ^\nmcube.cpp:1966:38: note: put the semicolon on a separate line to silence this warning\nmcube.cpp:1977:38: warning: if statement has empty body [-Wempty-body]\n        else if (fx == 3 && fy == 3) ;\n                                     ^\nmcube.cpp:1977:38: note: put the semicolon on a separate line to silence this warning\n```",
    "created_at": "2022-04-25T17:29:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488893",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:0'></a>
`deformation` succeeded for me, so I removed it from the ticket description. `polylib` fails on two different machines with the old familiar message `error: implicit declaration of function`. The `rubiks` build hangs on two different machines shortly after starting:

```
Building Rubiks cube solvers
Installing rubiks-20070912.p21
for dir in dietz/cu2 dietz/mcube dietz/solver dik reid; do \
		(cd ${dir} && make all)\
	done
g++ -std=gnu++11 -g -O2  -c cu2.cpp
g++ -std=gnu++11 -g -O2  -c main.cpp
g++ -std=gnu++11 -g -O2   -o cu2  cu2.o main.o  -L/Users/jpalmier/Desktop/Sage/sage_builds/TESTING/sage-9.6.rc1/local/lib -Wl,-rpath,/Users/jpalmier/Desktop/Sage/sage_builds/TESTING/sage-9.6.rc1/local/lib 
g++ -std=gnu++11 -g -O2  -c mcube.cpp
g++ -std=gnu++11 -g -O2  -c main.cpp
mcube.cpp:1966:38: warning: if statement has empty body [-Wempty-body]
        else if (fy == 3 && fz == 3) ;
                                     ^
mcube.cpp:1966:38: note: put the semicolon on a separate line to silence this warning
mcube.cpp:1977:38: warning: if statement has empty body [-Wempty-body]
        else if (fx == 3 && fy == 3) ;
                                     ^
mcube.cpp:1977:38: note: put the semicolon on a separate line to silence this warning
```



---

archive/issue_comments_488894.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -26,7 +26,8 @@\n \n - rubiks (see also #28022)\n - gap_packages (#30729)\n-- fricas, e_antic, boost, polylib, csdp, atlas, termcap [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)\n+- polylib (#33758)\n+- fricas, e_antic, boost, csdp [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)\n \n Failing experimental packages:\n \n``````\n",
    "created_at": "2022-04-25T17:56:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488894",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -26,7 +26,8 @@
 
 - rubiks (see also #28022)
 - gap_packages (#30729)
-- fricas, e_antic, boost, polylib, csdp, atlas, termcap [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)
+- polylib (#33758)
+- fricas, e_antic, boost, csdp [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)
 
 Failing experimental packages:
 
``````




---

archive/issue_comments_488895.json:
```json
{
    "body": "<a id='comment:2'></a>\n`boost` is no longer a package, and `fricas`, `e_antic`, and `csdp` all work for me.",
    "created_at": "2022-04-25T17:58:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488895",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>
`boost` is no longer a package, and `fricas`, `e_antic`, and `csdp` all work for me.



---

archive/issue_comments_488896.json:
```json
{
    "body": "<a id='comment:3'></a>\nThe experimental packages don't matter much (since they're experimental), but `lrslib` works for me. The others don't. `scipoptsuite` is broken because the tarball can't be found.",
    "created_at": "2022-04-25T18:04:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488896",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:3'></a>
The experimental packages don't matter much (since they're experimental), but `lrslib` works for me. The others don't. `scipoptsuite` is broken because the tarball can't be found.



---

archive/issue_comments_488897.json:
```json
{
    "body": "<a id='comment:4'></a>\nI see the hanging build for `rubiks` now too. This must be a very recent regression. I built it quite recently (before upgrading to macOS Monterey)",
    "created_at": "2022-04-25T18:48:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488897",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
I see the hanging build for `rubiks` now too. This must be a very recent regression. I built it quite recently (before upgrading to macOS Monterey)



---

archive/issue_comments_488898.json:
```json
{
    "body": "<a id='comment:125'></a>\nReplying to [@jhpalmieri](#comment%3A123):\n> `scipoptsuite` is broken because the tarball can't be found.\n\nMaybe this is intentional, given `SPKG.rst`: \n\n```\nWe do not have permission to redistribute SCIP or SoPlex. Hence, you\nmust download it yourself from http://scip.zib.de and put the tarball\n``scipoptsuite-VERSION.tgz`` in ``$SAGE_ROOT/upstream``, renaming\nit to ``scipoptsuite-VERSION-do-not-distribute.tgz``.\n```\nIf anyone cares about this package, they should create a better error message: maybe create `spkg-preinst.in` that tests for the presence of the tarball in `upstream` and exit with an appropriate message if it's not there. I don't know if that would actually work, or if the tarball is attempted to be downloaded before anything else happens. Anyway, I don't care about this package, so I am not likely to work on it.",
    "created_at": "2022-04-25T20:05:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488898",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:125'></a>
Replying to [@jhpalmieri](#comment%3A123):
> `scipoptsuite` is broken because the tarball can't be found.

Maybe this is intentional, given `SPKG.rst`: 

```
We do not have permission to redistribute SCIP or SoPlex. Hence, you
must download it yourself from http://scip.zib.de and put the tarball
``scipoptsuite-VERSION.tgz`` in ``$SAGE_ROOT/upstream``, renaming
it to ``scipoptsuite-VERSION-do-not-distribute.tgz``.
```
If anyone cares about this package, they should create a better error message: maybe create `spkg-preinst.in` that tests for the presence of the tarball in `upstream` and exit with an appropriate message if it's not there. I don't know if that would actually work, or if the tarball is attempted to be downloaded before anything else happens. Anyway, I don't care about this package, so I am not likely to work on it.



---

archive/issue_comments_488899.json:
```json
{
    "body": "<a id='comment:6'></a>\nYes, it is intentional that there is no upstream_url and no tarball on our mirror.",
    "created_at": "2022-04-25T20:06:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488899",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
Yes, it is intentional that there is no upstream_url and no tarball on our mirror.



---

archive/issue_comments_488900.json:
```json
{
    "body": "<a id='comment:7'></a>\nThere appears to be an effort to provide a version of scipoptsuite under a free software license. I'll wait for that before putting more effort into packaging it",
    "created_at": "2022-04-25T20:09:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488900",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
There appears to be an effort to provide a version of scipoptsuite under a free software license. I'll wait for that before putting more effort into packaging it



---

archive/issue_comments_488901.json:
```json
{
    "body": "<a id='comment:128'></a>\nReplying to [@jhpalmieri](#comment%3A122):\n> `boost` is no longer a package, and `fricas`, `e_antic`, and `csdp` all work for me.\n\nOK, I've removed them (and lrslib) from the ticket description",
    "created_at": "2022-04-25T20:18:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488901",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:128'></a>
Replying to [@jhpalmieri](#comment%3A122):
> `boost` is no longer a package, and `fricas`, `e_antic`, and `csdp` all work for me.

OK, I've removed them (and lrslib) from the ticket description



---

archive/issue_comments_488902.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -27,11 +27,10 @@\n - rubiks (see also #28022)\n - gap_packages (#30729)\n - polylib (#33758)\n-- fricas, e_antic, boost, csdp [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)\n \n Failing experimental packages:\n \n-- gap3, cocoalib, gdb, awali, libtheora, lrslib, surf, valgrind, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)\n+- gap3, cocoalib, gdb, awali, libtheora, surf, valgrind, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)\n \n Tickets:\n \n``````\n",
    "created_at": "2022-04-25T20:18:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488902",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -27,11 +27,10 @@
 - rubiks (see also #28022)
 - gap_packages (#30729)
 - polylib (#33758)
-- fricas, e_antic, boost, csdp [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)
 
 Failing experimental packages:
 
-- gap3, cocoalib, gdb, awali, libtheora, lrslib, surf, valgrind, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)
+- gap3, cocoalib, gdb, awali, libtheora, surf, valgrind, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)
 
 Tickets:
 
``````




---

archive/issue_comments_488903.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -30,7 +30,8 @@\n \n Failing experimental packages:\n \n-- gap3, cocoalib, gdb, awali, libtheora, surf, valgrind, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)\n+- gdb, valgrind (to be removed in #30158)\n+- gap3, cocoalib, awali, libtheora, surf, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)\n \n Tickets:\n \n``````\n",
    "created_at": "2022-04-25T20:19:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488903",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -30,7 +30,8 @@
 
 Failing experimental packages:
 
-- gap3, cocoalib, gdb, awali, libtheora, surf, valgrind, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)
+- gdb, valgrind (to be removed in #30158)
+- gap3, cocoalib, awali, libtheora, surf, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)
 
 Tickets:
 
``````




---

archive/issue_events_273040.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273040"
}
```



---

archive/issue_events_273041.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273041"
}
```



---

archive/issue_comments_488904.json:
```json
{
    "body": "<a id='comment:1'></a>\nKeep this open for `polylib`? Or close it?",
    "created_at": "2022-11-16T01:05:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488904",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:1'></a>
Keep this open for `polylib`? Or close it?



---

archive/issue_events_273042.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-24T22:11:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273042"
}
```



---

archive/issue_events_273043.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-24T22:11:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273043"
}
```



---

archive/issue_events_273044.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-24T22:11:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273044"
}
```



---

archive/issue_comments_488905.json:
```json
{
    "body": "<a id='comment:2'></a>\nLet's close it.",
    "created_at": "2022-11-24T22:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488905",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
Let's close it.



---

archive/issue_comments_488906.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2022-11-25T00:21:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488906",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_events_273045.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-11-25T00:21:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273045"
}
```



---

archive/issue_events_273046.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-11-25T00:21:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-273046"
}
```
