# Issue 30494: Meta-ticket: Support Xcode 12

archive/issues_030257.json:
```json
{
    "assignees": [],
    "body": "Xcode 12 was publicly released on 2020-09-16. \n\nSage does not build from source using Xcode 12.2 beta, released 2020.09.17, clang version 12.0.0 (clang-1200.0.32.4)\n\n- https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ\n- https://github.com/mkoeppe/sage/runs/1059961873\n\nFailing packages (blockers):\n\n- gf2x #30593\n- ecm #30600\n- symmetrica #30608 or #29061\n- ecl #30594\n- scipy #30604\n\nFailing packages with replacements available via homebrew:\n\n- openblas #30610\n- readline #30603\n- gmp #30625\n- mpir\n- gsl (?)\n- r #30631\n\nFailing optional packages:\n\n- rubiks (see also #28022)\n- gap_packages (#30729)\n- polylib (#33758)\n\nFailing experimental packages:\n\n- gdb, valgrind (to be removed in #30158)\n- gap3, cocoalib, awali, libtheora, surf, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)\n\nTickets:\n\n- #30487 - GH Actions: Test also with Xcode 12 beta\n- #27754 - Upgrade: Python 3.8.5\n- #28022 - Downgrade `rubiks` to optional\n- #31227 - Accept `/usr/bin/python3` from XCode 12.3 on macOS 10.15 (Catalina)\n\nFollow-up:\n\n- #30651 - Meta-ticket: support macOS 11\n\n\nCC:  @jhpalmieri @dimpase @slel @vbraun\n\nKeywords: **macOS, Xcode**\n\nReviewer: **Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30494_\n\n",
    "closed_at": "2023-01-01T03:09:33Z",
    "created_at": "2020-09-02T16:08:09Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20porting",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Meta-ticket: Support Xcode 12",
    "type": "issue",
    "updated_at": "2023-01-01T03:09:33Z",
    "url": "https://github.com/sagemath/sage/issues/30494",
    "user": "https://github.com/mkoeppe"
}
```
Xcode 12 was publicly released on 2020-09-16. 

Sage does not build from source using Xcode 12.2 beta, released 2020.09.17, clang version 12.0.0 (clang-1200.0.32.4)

- https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ
- https://github.com/mkoeppe/sage/runs/1059961873

Failing packages (blockers):

- gf2x #30593
- ecm #30600
- symmetrica #30608 or #29061
- ecl #30594
- scipy #30604

Failing packages with replacements available via homebrew:

- openblas #30610
- readline #30603
- gmp #30625
- mpir
- gsl (?)
- r #30631

Failing optional packages:

- rubiks (see also #28022)
- gap_packages (#30729)
- polylib (#33758)

Failing experimental packages:

- gdb, valgrind (to be removed in #30158)
- gap3, cocoalib, awali, libtheora, surf, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)

Tickets:

- #30487 - GH Actions: Test also with Xcode 12 beta
- #27754 - Upgrade: Python 3.8.5
- #28022 - Downgrade `rubiks` to optional
- #31227 - Accept `/usr/bin/python3` from XCode 12.3 on macOS 10.15 (Catalina)

Follow-up:

- #30651 - Meta-ticket: support macOS 11


CC:  @jhpalmieri @dimpase @slel @vbraun

Keywords: **macOS, Xcode**

Reviewer: **Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/30494_





---

archive/issue_events_402111.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-02T16:08:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402111"
}
```



---

archive/issue_events_402112.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-02T16:08:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20porting",
    "label_color": "000080",
    "label_name": "component: porting",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402112"
}
```



---

archive/issue_events_402113.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-02T16:08:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402113"
}
```



---

archive/issue_events_402114.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-02T16:08:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402114"
}
```



---

archive/issue_comments_488958.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,15 @@\n Sage does not build from source using Xcode 12 beta.\n \n - https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ\n-- \n+- https://github.com/mkoeppe/sage/runs/1059961873\n \n+Failing packages:\n+- gf2x\n+- ecm\n+- symmetrica\n+- rubiks\n+- ecl\n+- scipy\n \n Tickets: \n - #30487 - GH Actions: Test also with Xcode 12 beta\n``````\n",
    "created_at": "2020-09-02T16:19:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488958",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,15 @@
 Sage does not build from source using Xcode 12 beta.
 
 - https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ
-- 
+- https://github.com/mkoeppe/sage/runs/1059961873
 
+Failing packages:
+- gf2x
+- ecm
+- symmetrica
+- rubiks
+- ecl
+- scipy
 
 Tickets: 
 - #30487 - GH Actions: Test also with Xcode 12 beta
``````




---

archive/issue_comments_488959.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,4 +13,4 @@\n \n Tickets: \n - #30487 - GH Actions: Test also with Xcode 12 beta\n-\n+- #28022 - Downgrade `rubiks` to optional\n``````\n",
    "created_at": "2020-09-02T16:39:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488959",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,4 +13,4 @@
 
 Tickets: 
 - #30487 - GH Actions: Test also with Xcode 12 beta
-
+- #28022 - Downgrade `rubiks` to optional
``````




---

archive/issue_comments_488960.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,4 +13,5 @@\n \n Tickets: \n - #30487 - GH Actions: Test also with Xcode 12 beta\n+- #27754 - Upgrade: Python 3.8.5\n - #28022 - Downgrade `rubiks` to optional\n``````\n",
    "created_at": "2020-09-02T16:44:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488960",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,4 +13,5 @@
 
 Tickets: 
 - #30487 - GH Actions: Test also with Xcode 12 beta
+- #27754 - Upgrade: Python 3.8.5
 - #28022 - Downgrade `rubiks` to optional
``````




---

archive/issue_comments_488961.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nFor what it's worth, I was trying to build without setting `MACOSX_DEPLOYMENT_TARGET` at all: I removed those lines from `src/bin/sage-env`.",
    "created_at": "2020-09-02T17:05:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488961",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:4" align="right">Comment 4</div>

For what it's worth, I was trying to build without setting `MACOSX_DEPLOYMENT_TARGET` at all: I removed those lines from `src/bin/sage-env`.



---

archive/issue_comments_488962.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nNote that these lines are only executed when using python3 installed from spkg, not system python",
    "created_at": "2020-09-02T17:54:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488962",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">Comment 5</div>

Note that these lines are only executed when using python3 installed from spkg, not system python



---

archive/issue_comments_488963.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nlooks like this should wait till 9.3",
    "created_at": "2020-09-05T20:54:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488963",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:6" align="right">Comment 6</div>

looks like this should wait till 9.3



---

archive/issue_comments_488964.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nSure, Big Sur is still in beta.",
    "created_at": "2020-09-05T20:55:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488964",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:7" align="right">Comment 7</div>

Sure, Big Sur is still in beta.



---

archive/issue_events_402115.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T21:11:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402115"
}
```



---

archive/issue_events_402116.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T21:11:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402116"
}
```



---

archive/issue_comments_488965.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nXcode 12 has been released, and it causes breakage with Catalina, so perhaps this should be a blocker for 9.2. (For example I now cannot build Sage: I upgraded a laptop to a beta release of Big Sur, and on my main machine Xcode updated itself to version 12 overnight.)",
    "created_at": "2020-09-17T17:41:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488965",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:9" align="right">Comment 9</div>

Xcode 12 has been released, and it causes breakage with Catalina, so perhaps this should be a blocker for 9.2. (For example I now cannot build Sage: I upgraded a laptop to a beta release of Big Sur, and on my main machine Xcode updated itself to version 12 overnight.)



---

archive/issue_comments_488966.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nI agree. It would be good to figure out if the upstream maintainers of these packages are already aware of these issues.",
    "created_at": "2020-09-17T19:06:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488966",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">Comment 10</div>

I agree. It would be good to figure out if the upstream maintainers of these packages are already aware of these issues.



---

archive/issue_events_402117.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-17T19:06:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402117"
}
```



---

archive/issue_events_402118.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-17T19:06:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402118"
}
```



---

archive/issue_comments_488967.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nCan we score an https://en.wikipedia.org/wiki/Developer_Transition_Kit_(2020) - and Apple ARM prototype for developers somehow?\nIt might be very useful for testing. Probably a Raspberry Pi with a 64-bit OS comes close, but not as much.",
    "created_at": "2020-09-17T20:26:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488967",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">Comment 11</div>

Can we score an https://en.wikipedia.org/wiki/Developer_Transition_Kit_(2020) - and Apple ARM prototype for developers somehow?
It might be very useful for testing. Probably a Raspberry Pi with a 64-bit OS comes close, but not as much.



---

archive/issue_comments_488968.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nThis is unrelated to this ticket.",
    "created_at": "2020-09-17T20:27:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488968",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">Comment 12</div>

This is unrelated to this ticket.



---

archive/issue_comments_488969.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nI have opened #30592 (Meta-ticket: Port to Apple silicon) for that. Let's keep the present ticket focused please. No new hardware is required.",
    "created_at": "2020-09-17T20:31:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488969",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">Comment 13</div>

I have opened #30592 (Meta-ticket: Port to Apple silicon) for that. Let's keep the present ticket focused please. No new hardware is required.



---

archive/issue_comments_488970.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nIt seems that when configuring `gf2x` and `ecl`, at least, something like `-Wall` is being used. I see this kind of thing in the `config.log` files for those:\n\n```\nconftest.c:4:3: error: implicitly declaring library function 'exit' with type 'void (int) __attribute__((noreturn))' [-Werror,-Wimplicit-function-declaration]\n  exit(0);\n  ^\nconftest.c:4:3: note: include the header <stdlib.h> or explicitly provide a declaration for 'exit'\n1 error generated.\n```\nIs there some setting in Xcode's command-line tools that has changed, causing these errors?",
    "created_at": "2020-09-17T20:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488970",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:14" align="right">Comment 14</div>

It seems that when configuring `gf2x` and `ecl`, at least, something like `-Wall` is being used. I see this kind of thing in the `config.log` files for those:

```
conftest.c:4:3: error: implicitly declaring library function 'exit' with type 'void (int) __attribute__((noreturn))' [-Werror,-Wimplicit-function-declaration]
  exit(0);
  ^
conftest.c:4:3: note: include the header <stdlib.h> or explicitly provide a declaration for 'exit'
1 error generated.
```
Is there some setting in Xcode's command-line tools that has changed, causing these errors?



---

archive/issue_comments_488971.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nSimilar with `ecm`:\n\n```\nconfigure:13286: clang -O2 -pedantic -fomit-frame-pointer -m64 -mtune=nehalem -march=nehalem  -c conftes1.c >&5 && clang -O2 -pedantic -fomit-frame-pointer -m64 -mtune=nehalem -march=nehalem -c conftes2.s >&5 && clang -O2 -pedantic -fomit-frame-pointer -m64 -mtune=nehalem -march=nehalem  conftes1.o conftes2.o >&5\nconftes1.c:4:1: warning: type specifier missing, defaults to 'int' [-Wimplicit-int]\nmain () { underscore_test(); }\n^\nconftes1.c:4:11: error: implicit declaration of function 'underscore_test' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\nmain () { underscore_test(); }\n          ^\n1 warning and 1 error generated.\n```",
    "created_at": "2020-09-17T20:43:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488971",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:15" align="right">Comment 15</div>

Similar with `ecm`:

```
configure:13286: clang -O2 -pedantic -fomit-frame-pointer -m64 -mtune=nehalem -march=nehalem  -c conftes1.c >&5 && clang -O2 -pedantic -fomit-frame-pointer -m64 -mtune=nehalem -march=nehalem -c conftes2.s >&5 && clang -O2 -pedantic -fomit-frame-pointer -m64 -mtune=nehalem -march=nehalem  conftes1.o conftes2.o >&5
conftes1.c:4:1: warning: type specifier missing, defaults to 'int' [-Wimplicit-int]
main () { underscore_test(); }
^
conftes1.c:4:11: error: implicit declaration of function 'underscore_test' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
main () { underscore_test(); }
          ^
1 warning and 1 error generated.
```



---

archive/issue_comments_488972.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nHi,\n\nI just learned about this ticket. (me = upstream gf2x)\n\nI don't have access to a box of this kind, so I can't test. (all I have is macOS 10.15.5 + XCode 11.6).\n\nIt looks like latest xcode doesn't like the tests that are generated by autotools, right ? If yes, does a autoreconf with fresh autotools fix the problem ?\n\nE.",
    "created_at": "2020-09-17T20:47:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488972",
    "user": "https://github.com/emmanuelthome"
}
```

<div id="comment:16" align="right">Comment 16</div>

Hi,

I just learned about this ticket. (me = upstream gf2x)

I don't have access to a box of this kind, so I can't test. (all I have is macOS 10.15.5 + XCode 11.6).

It looks like latest xcode doesn't like the tests that are generated by autotools, right ? If yes, does a autoreconf with fresh autotools fix the problem ?

E.



---

archive/issue_comments_488973.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nThe Sage build log for `symmetrica` contains:\n\n```\nhiccup.c:478:3: error: implicit declaration of function 'set_multiplier' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n                set_multiplier(S_MO_K(S_L_S(a)));\n                ^\n```",
    "created_at": "2020-09-17T20:49:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488973",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:17" align="right">Comment 17</div>

The Sage build log for `symmetrica` contains:

```
hiccup.c:478:3: error: implicit declaration of function 'set_multiplier' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
                set_multiplier(S_MO_K(S_L_S(a)));
                ^
```



---

archive/issue_comments_488974.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nReplying to [@emmanuelthome](#comment%3A16):\n> Hi,\n> \n> I just learned about this ticket. (me = upstream gf2x)\n> \n> I don't have access to a box of this kind, so I can't test. (all I have is macOS 10.15.5 + XCode 11.6).\n\nI'm seeing this on OS X 10.15.6 after an upgrade to Xcode 12. You could try upgrading to Xcode 12, if you're willing to take that risk.\n\n> It looks like latest xcode doesn't like the tests that are generated by autotools, right ? If yes, does a autoreconf with fresh autotools fix the problem ?\n\nI'm not an expert in this sort of thing, but I don't think this will work. `autoreconf` would help if Sage's top-level `configure` script were running into problems, but the problems are coming from Sage packages. Those are just tarballs, and running `autoreconf` once won't help with those. For what it's worth, I unpacked the `gf2x` tarball and ran `autoreconf` on it, but I got the same error.\n\n(This is with `autoreconf` 2.69 installed via homebrew. I did `brew upgrade` first. I'm not sure how to get a \"fresh autotools\".)",
    "created_at": "2020-09-17T21:02:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488974",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:18" align="right">Comment 18</div>

Replying to [@emmanuelthome](#comment%3A16):
> Hi,
> 
> I just learned about this ticket. (me = upstream gf2x)
> 
> I don't have access to a box of this kind, so I can't test. (all I have is macOS 10.15.5 + XCode 11.6).

I'm seeing this on OS X 10.15.6 after an upgrade to Xcode 12. You could try upgrading to Xcode 12, if you're willing to take that risk.

> It looks like latest xcode doesn't like the tests that are generated by autotools, right ? If yes, does a autoreconf with fresh autotools fix the problem ?

I'm not an expert in this sort of thing, but I don't think this will work. `autoreconf` would help if Sage's top-level `configure` script were running into problems, but the problems are coming from Sage packages. Those are just tarballs, and running `autoreconf` once won't help with those. For what it's worth, I unpacked the `gf2x` tarball and ran `autoreconf` on it, but I got the same error.

(This is with `autoreconf` 2.69 installed via homebrew. I did `brew upgrade` first. I'm not sure how to get a "fresh autotools".)



---

archive/issue_comments_488975.json:
```json
{
    "body": "Attachment: **[config.log](https://github.com/sagemath/sage/files/ticket30494/config.log)**\n\ngf2x config.log",
    "created_at": "2020-09-17T21:05:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488975",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[config.log](https://github.com/sagemath/sage/files/ticket30494/config.log)**

gf2x config.log



---

archive/issue_comments_488976.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nHere is the `config.log` for `gf2x`, in case it helps.",
    "created_at": "2020-09-17T21:05:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488976",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:19" align="right">Comment 19</div>

Here is the `config.log` for `gf2x`, in case it helps.



---

archive/issue_comments_488977.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nI'm happy to run some experiments, if you have suggestions.",
    "created_at": "2020-09-17T21:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488977",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:20" align="right">Comment 20</div>

I'm happy to run some experiments, if you have suggestions.



---

archive/issue_comments_488978.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nReplying to [@jhpalmieri](#comment%3A14):\n> It seems that when configuring `gf2x` and `ecl`, at least, something like `-Wall` is being used. I see this kind of thing in the `config.log` files for those:\n> \n> ```\n> conftest.c:4:3: error: implicitly declaring library function 'exit' with type 'void (int) __attribute__((noreturn))' [-Werror,-Wimplicit-function-declaration]\n>   exit(0);\n>   ^\n> conftest.c:4:3: note: include the header <stdlib.h> or explicitly provide a declaration for 'exit'\n> 1 error generated.\n> ```\n> Is there some setting in Xcode's command-line tools that has changed, causing these errors?\n\nI think errors like this are usually from code incorrectly assuming that some header pulls in some other header.  Adding the correct includes should fix this.",
    "created_at": "2020-09-17T21:11:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488978",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">Comment 21</div>

Replying to [@jhpalmieri](#comment%3A14):
> It seems that when configuring `gf2x` and `ecl`, at least, something like `-Wall` is being used. I see this kind of thing in the `config.log` files for those:
> 
> ```
> conftest.c:4:3: error: implicitly declaring library function 'exit' with type 'void (int) __attribute__((noreturn))' [-Werror,-Wimplicit-function-declaration]
>   exit(0);
>   ^
> conftest.c:4:3: note: include the header <stdlib.h> or explicitly provide a declaration for 'exit'
> 1 error generated.
> ```
> Is there some setting in Xcode's command-line tools that has changed, causing these errors?

I think errors like this are usually from code incorrectly assuming that some header pulls in some other header.  Adding the correct includes should fix this.



---

archive/issue_comments_488979.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nReplying to [@jhpalmieri](#comment%3A18):\n> > I don't have access to a box of this kind, so I can't test. (all I have is macOS 10.15.5 + XCode 11.6).\n\n> \n> I'm seeing this on OS X 10.15.6 after an upgrade to Xcode 12. You could try upgrading to Xcode 12, if you're willing to take that risk.\n\nNot light-heartedly for sure. It's a mac mini that has been living in an office of (very) mac-averse researchers for years and years, crawling under the ram demands of the latest macOS (and actually last it can support).\n\n\n> > It looks like latest xcode doesn't like the tests that are generated by autotools, right ? If yes, does a autoreconf with fresh autotools fix the problem ?\n\n> \n> I'm not an expert in this sort of thing, but I don't think this will work. `autoreconf` would help if Sage's top-level `configure` script were running into problems, but the problems are coming from Sage packages.\n\nI didn't make myself clear. Of course I mean autoreconf for gf2x.\n\n> Those are just tarballs, and running `autoreconf` once won't help with those. For what it's worth, I unpacked the `gf2x` tarball and ran `autoreconf` on it, but I got the same error.\n\nok.\n\n> (This is with `autoreconf` 2.69 installed via homebrew. I did `brew upgrade` first. I'm not sure how to get a \"fresh autotools\".)\n\ndoesn't say much. 2.69 is the banner under which all autoconf version have been presenting themselves for 8 years. IDK about the others, but I suspect autoconf is at fault here anyway.",
    "created_at": "2020-09-17T21:16:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488979",
    "user": "https://github.com/emmanuelthome"
}
```

<div id="comment:22" align="right">Comment 22</div>

Replying to [@jhpalmieri](#comment%3A18):
> > I don't have access to a box of this kind, so I can't test. (all I have is macOS 10.15.5 + XCode 11.6).

> 
> I'm seeing this on OS X 10.15.6 after an upgrade to Xcode 12. You could try upgrading to Xcode 12, if you're willing to take that risk.

Not light-heartedly for sure. It's a mac mini that has been living in an office of (very) mac-averse researchers for years and years, crawling under the ram demands of the latest macOS (and actually last it can support).


> > It looks like latest xcode doesn't like the tests that are generated by autotools, right ? If yes, does a autoreconf with fresh autotools fix the problem ?

> 
> I'm not an expert in this sort of thing, but I don't think this will work. `autoreconf` would help if Sage's top-level `configure` script were running into problems, but the problems are coming from Sage packages.

I didn't make myself clear. Of course I mean autoreconf for gf2x.

> Those are just tarballs, and running `autoreconf` once won't help with those. For what it's worth, I unpacked the `gf2x` tarball and ran `autoreconf` on it, but I got the same error.

ok.

> (This is with `autoreconf` 2.69 installed via homebrew. I did `brew upgrade` first. I'm not sure how to get a "fresh autotools".)

doesn't say much. 2.69 is the banner under which all autoconf version have been presenting themselves for 8 years. IDK about the others, but I suspect autoconf is at fault here anyway.



---

archive/issue_comments_488980.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nThe `gf2x` configure script says\n\n```\ncat >conftest.c <<EOF\nint\nmain ()\n{\n  exit(0);\n}\nEOF\n```\nand it looks like this is the file causing the problems. How is this generated? `autotools`? Should `autotools` be adding some includes?\n\nEdit: this is in `config/acinclude.m4`.",
    "created_at": "2020-09-17T21:32:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488980",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:23" align="right">Comment 23</div>

The `gf2x` configure script says

```
cat >conftest.c <<EOF
int
main ()
{
  exit(0);
}
EOF
```
and it looks like this is the file causing the problems. How is this generated? `autotools`? Should `autotools` be adding some includes?

Edit: this is in `config/acinclude.m4`.



---

archive/issue_comments_488981.json:
```json
{
    "body": "Attachment: **[gf2x-1.3.0-cc_for_build_stdlib.patch.gz](https://github.com/sagemath/sage/files/ticket30494/gf2x-1.3.0-cc_for_build_stdlib.patch.gz)**",
    "created_at": "2020-09-17T21:32:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488981",
    "user": "https://github.com/emmanuelthome"
}
```

Attachment: **[gf2x-1.3.0-cc_for_build_stdlib.patch.gz](https://github.com/sagemath/sage/files/ticket30494/gf2x-1.3.0-cc_for_build_stdlib.patch.gz)**



---

archive/issue_comments_488982.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\ngrr. trac deleted my comment.\nTry the patch above. This will fix both the autoconf input (just in case) and output (so that you don't have to rerun autoconf, a plain ./configure would do).\nThese bits of the config checks are created by m4 code that sits in gf2x, so it's really a gf2x bug.",
    "created_at": "2020-09-17T21:34:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488982",
    "user": "https://github.com/emmanuelthome"
}
```

<div id="comment:24" align="right">Comment 24</div>

grr. trac deleted my comment.
Try the patch above. This will fix both the autoconf input (just in case) and output (so that you don't have to rerun autoconf, a plain ./configure would do).
These bits of the config checks are created by m4 code that sits in gf2x, so it's really a gf2x bug.



---

archive/issue_comments_488983.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nThat looks good: `./configure; make; make check` now works. Thanks!",
    "created_at": "2020-09-17T21:36:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488983",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:25" align="right">Comment 25</div>

That looks good: `./configure; make; make check` now works. Thanks!



---

archive/issue_comments_488984.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nReplying to [@jhpalmieri](#comment%3A14):\n> It seems that when configuring `gf2x` and `ecl`, at least, something like `-Wall` is being used.\n\nI think that -Wall is not the problem. We're witnessing a -Werror behaviour here. That is odd. -Werror in config checks is a bit extreme, and easily counter-productive. config checks that battle the -Werror reports might well defeat the grand portability goal of autoconf\n\nThe catch with my patch above is that because of this -Werror behaviour, I think that more failures are likely to show up down the line. (well, you seem to say that it works fine. good!)",
    "created_at": "2020-09-17T21:38:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488984",
    "user": "https://github.com/emmanuelthome"
}
```

<div id="comment:26" align="right">Comment 26</div>

Replying to [@jhpalmieri](#comment%3A14):
> It seems that when configuring `gf2x` and `ecl`, at least, something like `-Wall` is being used.

I think that -Wall is not the problem. We're witnessing a -Werror behaviour here. That is odd. -Werror in config checks is a bit extreme, and easily counter-productive. config checks that battle the -Werror reports might well defeat the grand portability goal of autoconf

The catch with my patch above is that because of this -Werror behaviour, I think that more failures are likely to show up down the line. (well, you seem to say that it works fine. good!)



---

archive/issue_comments_488985.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nI can do the same kind of fix with `ecl`: add `#include <stdlib.h>` in the `configure` script. I'm not sure what to do with `ecm` or `symmetrica`. I haven't looked at `scipy` yet at all.",
    "created_at": "2020-09-17T22:12:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488985",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:27" align="right">Comment 27</div>

I can do the same kind of fix with `ecl`: add `#include <stdlib.h>` in the `configure` script. I'm not sure what to do with `ecm` or `symmetrica`. I haven't looked at `scipy` yet at all.



---

archive/issue_comments_488986.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n - https://github.com/mkoeppe/sage/runs/1059961873\n \n Failing packages:\n-- gf2x\n+- gf2x #30593\n - ecm\n - symmetrica\n - rubiks\n``````\n",
    "created_at": "2020-09-17T23:06:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488986",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 - https://github.com/mkoeppe/sage/runs/1059961873
 
 Failing packages:
-- gf2x
+- gf2x #30593
 - ecm
 - symmetrica
 - rubiks
``````




---

archive/issue_comments_488987.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nI've put the `gf2x` fix on #30593.",
    "created_at": "2020-09-17T23:06:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488987",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:28" align="right">Comment 28</div>

I've put the `gf2x` fix on #30593.



---

archive/issue_comments_488988.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,8 +7,8 @@\n - gf2x #30593\n - ecm\n - symmetrica\n-- rubiks\n-- ecl\n+- rubiks (see also #28022)\n+- ecl #30594\n - scipy\n \n Tickets: \n``````\n",
    "created_at": "2020-09-17T23:10:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488988",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,8 +7,8 @@
 - gf2x #30593
 - ecm
 - symmetrica
-- rubiks
-- ecl
+- rubiks (see also #28022)
+- ecl #30594
 - scipy
 
 Tickets: 
``````




---

archive/issue_comments_488989.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nChange for `ecl` is at #30594. I don't know if it's the best approach, but it appears to work.",
    "created_at": "2020-09-17T23:10:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488989",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:29" align="right">Comment 29</div>

Change for `ecl` is at #30594. I don't know if it's the best approach, but it appears to work.



---

archive/issue_comments_488990.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nFound only one somewhat related discussion on the SciPy issue tracker\n\n- [SciPy issue 12656: Building wheel fails when building from source and installing from PyPI](https://github.com/scipy/scipy/issues/12656)\n  \n\nMight be worth opening a ticket there.",
    "created_at": "2020-09-17T23:18:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488990",
    "user": "https://github.com/slel"
}
```

<div id="comment:30" align="right">Comment 30</div>

Found only one somewhat related discussion on the SciPy issue tracker

- [SciPy issue 12656: Building wheel fails when building from source and installing from PyPI](https://github.com/scipy/scipy/issues/12656)
  

Might be worth opening a ticket there.



---

archive/issue_comments_488991.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nI opened https://github.com/scipy/scipy/issues/12860",
    "created_at": "2020-09-18T03:06:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488991",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:31" align="right">Comment 31</div>

I opened https://github.com/scipy/scipy/issues/12860



---

archive/issue_comments_488992.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nThank you for finding the older scipy issue, by the way.",
    "created_at": "2020-09-18T03:09:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488992",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:32" align="right">Comment 32</div>

Thank you for finding the older scipy issue, by the way.



---

archive/issue_comments_488993.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nfor the gmp-ecm issue, please can you report it on the ecm-discuss@lists.gforge.inria.fr list,\nconfiguring it outside of Sage, and specifying which release you used?",
    "created_at": "2020-09-18T06:50:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488993",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:33" align="right">Comment 33</div>

for the gmp-ecm issue, please can you report it on the ecm-discuss@lists.gforge.inria.fr list,
configuring it outside of Sage, and specifying which release you used?



---

archive/issue_comments_488994.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nI cannot reproduce the breakade you are talking about. It all works for me with Xcode 12.0 on macOS 10.15.6. \nThe latest Xcode 12 beta is in fact 12.2.beta. I'll check with it shortly.",
    "created_at": "2020-09-18T09:47:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488994",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:34" align="right">Comment 34</div>

I cannot reproduce the breakade you are talking about. It all works for me with Xcode 12.0 on macOS 10.15.6. 
The latest Xcode 12 beta is in fact 12.2.beta. I'll check with it shortly.



---

archive/issue_comments_488995.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nDowngraded to critical, as this is about a beta, which should not stop the release.\n\nVolker, what is your take on this? This is all about betaOS/beta tools. Would be nice to have in 9.2 fixed, but not strictly necessary.",
    "created_at": "2020-09-18T11:36:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488995",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:35" align="right">Comment 35</div>

Downgraded to critical, as this is about a beta, which should not stop the release.

Volker, what is your take on this? This is all about betaOS/beta tools. Would be nice to have in 9.2 fixed, but not strictly necessary.



---

archive/issue_events_402119.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-18T11:36:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402119"
}
```



---

archive/issue_events_402120.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-18T11:36:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402120"
}
```



---

archive/issue_comments_488996.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Sage does not build from source using Xcode 12 beta.\n+Sage does not build from source using Xcode 12.2 beta, released 2020.09.17, clang version 12.0.0 (clang-1200.0.32.4)\n \n - https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ\n - https://github.com/mkoeppe/sage/runs/1059961873\n``````\n",
    "created_at": "2020-09-18T11:36:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488996",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Sage does not build from source using Xcode 12 beta.
+Sage does not build from source using Xcode 12.2 beta, released 2020.09.17, clang version 12.0.0 (clang-1200.0.32.4)
 
 - https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ
 - https://github.com/mkoeppe/sage/runs/1059961873
``````




---

archive/issue_events_402121.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-18T12:47:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402121"
}
```



---

archive/issue_events_402122.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-18T12:47:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402122"
}
```



---

archive/issue_comments_488997.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nsorry for noise - it turns out that to properly reinstall command line tools, one needs to `sudo rm -rf /Library/Developer/CommandLineTools`\nOnce I did the latter, and reinstalled, I got clang 12 there, too.\n\nThat is, XCode 12 (stable) also suffers from these ailments.",
    "created_at": "2020-09-18T12:47:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488997",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:36" align="right">Comment 36</div>

sorry for noise - it turns out that to properly reinstall command line tools, one needs to `sudo rm -rf /Library/Developer/CommandLineTools`
Once I did the latter, and reinstalled, I got clang 12 there, too.

That is, XCode 12 (stable) also suffers from these ailments.



---

archive/issue_comments_488998.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nReplying to [@zimmermann6](#comment%3A33):\n> for the gmp-ecm issue, please can you report it on the ecm-discuss@lists.gforge.inria.fr list,\n> configuring it outside of Sage, and specifying which release you used?\n\nI can report directly on gmp-ecm bug tracker - but it's still on gforge. Are you planning to move to https://gitlab.inria.fr/ ?",
    "created_at": "2020-09-18T13:33:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488998",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:37" align="right">Comment 37</div>

Replying to [@zimmermann6](#comment%3A33):
> for the gmp-ecm issue, please can you report it on the ecm-discuss@lists.gforge.inria.fr list,
> configuring it outside of Sage, and specifying which release you used?

I can report directly on gmp-ecm bug tracker - but it's still on gforge. Are you planning to move to https://gitlab.inria.fr/ ?



---

archive/issue_comments_488999.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nReplying to [@dimpase](#comment%3A37):\n> Replying to [@zimmermann6](#comment%3A33):\n> > for the gmp-ecm issue, please can you report it on the ecm-discuss@lists.gforge.inria.fr list,\n> > configuring it outside of Sage, and specifying which release you used?\n\n> \n> I can report directly on gmp-ecm bug tracker - but it's still on gforge. Are you planning to move to https://gitlab.inria.fr/ ? \n\nReported on https://gforge.inria.fr/tracker/index.php?func=detail&aid=21856&group_id=135&atid=623",
    "created_at": "2020-09-18T13:37:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-488999",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:38" align="right">Comment 38</div>

Replying to [@dimpase](#comment%3A37):
> Replying to [@zimmermann6](#comment%3A33):
> > for the gmp-ecm issue, please can you report it on the ecm-discuss@lists.gforge.inria.fr list,
> > configuring it outside of Sage, and specifying which release you used?

> 
> I can report directly on gmp-ecm bug tracker - but it's still on gforge. Are you planning to move to https://gitlab.inria.fr/ ? 

Reported on https://gforge.inria.fr/tracker/index.php?func=detail&aid=21856&group_id=135&atid=623



---

archive/issue_comments_489000.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nthanks. Yes it is planned to move to gitlab, when I find some time to do so...",
    "created_at": "2020-09-18T13:38:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489000",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:39" align="right">Comment 39</div>

thanks. Yes it is planned to move to gitlab, when I find some time to do so...



---

archive/issue_comments_489001.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,7 +5,7 @@\n \n Failing packages:\n - gf2x #30593\n-- ecm\n+- ecm #30600\n - symmetrica\n - rubiks (see also #28022)\n - ecl #30594\n``````\n",
    "created_at": "2020-09-18T15:28:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489001",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,7 +5,7 @@
 
 Failing packages:
 - gf2x #30593
-- ecm
+- ecm #30600
 - symmetrica
 - rubiks (see also #28022)
 - ecl #30594
``````




---

archive/issue_comments_489002.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\nthe gmp-ecm issue is fixed upstream, and waiting for a new release, the patch at the link in comment [comment:38] can be used in Sage.",
    "created_at": "2020-09-18T15:30:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489002",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:41" align="right">Comment 41</div>

the gmp-ecm issue is fixed upstream, and waiting for a new release, the patch at the link in comment [comment:38] can be used in Sage.



---

archive/issue_comments_489003.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nReplying to [@zimmermann6](#comment%3A41):\n> the gmp-ecm issue is fixed upstream, and waiting for a new release, the patch at the link in comment [comment:38] can be used in Sage.\n\nit is already in #30600 - with a configure patch too, naturally (as we don't require autotools).",
    "created_at": "2020-09-18T16:44:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489003",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:42" align="right">Comment 42</div>

Replying to [@zimmermann6](#comment%3A41):
> the gmp-ecm issue is fixed upstream, and waiting for a new release, the patch at the link in comment [comment:38] can be used in Sage.

it is already in #30600 - with a configure patch too, naturally (as we don't require autotools).



---

archive/issue_comments_489004.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nas to symmetrica - I don't grok its code. It seems that `set_root_multiplier` is a no-op?\n\n```\n% cd upstream/symmetrica-2.0\n% grep -R set_root_mu .\n./hiccup.c:\tset_root_multiplier (OP extra);\n./hiccup.c:\t\tset_root_multiplier(S_MO_K(S_L_S(a)));\n./hiccup.c:set_root_multiplier (extra) OP extra;\n./hiccup.c:\t\tset_root_multiplier(S_MO_K(S_L_S(a)));\n```",
    "created_at": "2020-09-18T17:03:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489004",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:43" align="right">Comment 43</div>

as to symmetrica - I don't grok its code. It seems that `set_root_multiplier` is a no-op?

```
% cd upstream/symmetrica-2.0
% grep -R set_root_mu .
./hiccup.c:	set_root_multiplier (OP extra);
./hiccup.c:		set_root_multiplier(S_MO_K(S_L_S(a)));
./hiccup.c:set_root_multiplier (extra) OP extra;
./hiccup.c:		set_root_multiplier(S_MO_K(S_L_S(a)));
```



---

archive/issue_comments_489005.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nI don't really know what I'm doing, but I feel like I've made some progress with symmetrica with the attached patch and with this change to Sage:\n\n```diff\ndiff --git a/build/pkgs/symmetrica/spkg-install.in b/build/pkgs/symmetrica/spkg-install.in\nindex bc5d8e5f26..a071b6fece 100644\n--- a/build/pkgs/symmetrica/spkg-install.in\n+++ b/build/pkgs/symmetrica/spkg-install.in\n@@ -4,7 +4,7 @@ cd src\n # as it has (syntactically) nothing in common with ours.\n cp -f ../patches/makefile makefile || exit $?\n \n-export CFLAGS=\"-O2 -g $CFLAGS -fPIC -DFAST -DALLTRUE\"\n+export CFLAGS=\"-O2 -g $CFLAGS -fPIC -DFAST -DALLTRUE -DUNDEF\"\n \n sdh_make\n sdh_install libsymmetrica.a \"$SAGE_LOCAL/lib\"\n```\nI don't know if this is a good approach, though.",
    "created_at": "2020-09-18T18:21:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489005",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:44" align="right">Comment 44</div>

I don't really know what I'm doing, but I feel like I've made some progress with symmetrica with the attached patch and with this change to Sage:

```diff
diff --git a/build/pkgs/symmetrica/spkg-install.in b/build/pkgs/symmetrica/spkg-install.in
index bc5d8e5f26..a071b6fece 100644
--- a/build/pkgs/symmetrica/spkg-install.in
+++ b/build/pkgs/symmetrica/spkg-install.in
@@ -4,7 +4,7 @@ cd src
 # as it has (syntactically) nothing in common with ours.
 cp -f ../patches/makefile makefile || exit $?
 
-export CFLAGS="-O2 -g $CFLAGS -fPIC -DFAST -DALLTRUE"
+export CFLAGS="-O2 -g $CFLAGS -fPIC -DFAST -DALLTRUE -DUNDEF"
 
 sdh_make
 sdh_install libsymmetrica.a "$SAGE_LOCAL/lib"
```
I don't know if this is a good approach, though.



---

archive/issue_comments_489006.json:
```json
{
    "body": "Attachment: **[symmetrica-xcode12.patch.gz](https://github.com/sagemath/sage/files/ticket30494/symmetrica-xcode12.patch.gz)**\n\nAttempting to patch symmetrica to build with Xcode 12",
    "created_at": "2020-09-18T18:23:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489006",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[symmetrica-xcode12.patch.gz](https://github.com/sagemath/sage/files/ticket30494/symmetrica-xcode12.patch.gz)**

Attempting to patch symmetrica to build with Xcode 12



---

archive/issue_comments_489007.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,6 +10,7 @@\n - rubiks (see also #28022)\n - ecl #30594\n - scipy\n+- openblas\n \n Tickets: \n - #30487 - GH Actions: Test also with Xcode 12 beta\n``````\n",
    "created_at": "2020-09-18T18:46:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489007",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,6 +10,7 @@
 - rubiks (see also #28022)
 - ecl #30594
 - scipy
+- openblas
 
 Tickets: 
 - #30487 - GH Actions: Test also with Xcode 12 beta
``````




---

archive/issue_comments_489008.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">Comment 45</div>\n\n`openblas`: same kind of issue\n\n```\nlapacke_cggsvp_work.c:52:9: error: implicit declaration of function 'cggsvp_' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n        LAPACK_cggsvp( &jobu, &jobv, &jobq, &m, &p, &n, a, &lda, b, &ldb, &tola,\n        ^\n```",
    "created_at": "2020-09-18T18:46:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489008",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:45" align="right">Comment 45</div>

`openblas`: same kind of issue

```
lapacke_cggsvp_work.c:52:9: error: implicit declaration of function 'cggsvp_' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
        LAPACK_cggsvp( &jobu, &jobv, &jobq, &m, &p, &n, a, &lda, b, &ldb, &tola,
        ^
```



---

archive/issue_comments_489009.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">Comment 46</div>\n\nAnd `readline`, too:\n\n```\n../terminal.c:242:7: error: implicit declaration of function 'ioctl' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n  if (ioctl (tty, TIOCGWINSZ, &window_size) == 0)\n      ^\n```",
    "created_at": "2020-09-18T18:47:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489009",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:46" align="right">Comment 46</div>

And `readline`, too:

```
../terminal.c:242:7: error: implicit declaration of function 'ioctl' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
  if (ioctl (tty, TIOCGWINSZ, &window_size) == 0)
      ^
```



---

archive/issue_comments_489010.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,6 +11,7 @@\n - ecl #30594\n - scipy\n - openblas\n+- readline\n \n Tickets: \n - #30487 - GH Actions: Test also with Xcode 12 beta\n``````\n",
    "created_at": "2020-09-18T18:47:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489010",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,6 +11,7 @@
 - ecl #30594
 - scipy
 - openblas
+- readline
 
 Tickets: 
 - #30487 - GH Actions: Test also with Xcode 12 beta
``````




---

archive/issue_comments_489011.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">Comment 47</div>\n\nUpgrading to readline 8.0 worked for me. Is there a ticket for that?",
    "created_at": "2020-09-18T18:52:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489011",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:47" align="right">Comment 47</div>

Upgrading to readline 8.0 worked for me. Is there a ticket for that?



---

archive/issue_comments_489012.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,7 +11,7 @@\n - ecl #30594\n - scipy\n - openblas\n-- readline\n+- readline #30603\n \n Tickets: \n - #30487 - GH Actions: Test also with Xcode 12 beta\n``````\n",
    "created_at": "2020-09-18T19:06:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489012",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,7 +11,7 @@
 - ecl #30594
 - scipy
 - openblas
-- readline
+- readline #30603
 
 Tickets: 
 - #30487 - GH Actions: Test also with Xcode 12 beta
``````




---

archive/issue_comments_489013.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">Comment 48</div>\n\nI opened #30603 for readline.",
    "created_at": "2020-09-18T19:06:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489013",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:48" align="right">Comment 48</div>

I opened #30603 for readline.



---

archive/issue_comments_489014.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">Comment 49</div>\n\nopenblas - see https://github.com/xianyi/OpenBLAS/issues/2805",
    "created_at": "2020-09-18T19:33:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489014",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:49" align="right">Comment 49</div>

openblas - see https://github.com/xianyi/OpenBLAS/issues/2805



---

archive/issue_comments_489015.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n+Xcode 12 was publicly released on 2020-09-16. \n+\n Sage does not build from source using Xcode 12.2 beta, released 2020.09.17, clang version 12.0.0 (clang-1200.0.32.4)\n \n - https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ\n``````\n",
    "created_at": "2020-09-18T19:38:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489015",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
+Xcode 12 was publicly released on 2020-09-16. 
+
 Sage does not build from source using Xcode 12.2 beta, released 2020.09.17, clang version 12.0.0 (clang-1200.0.32.4)
 
 - https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ
``````




---

archive/issue_comments_489016.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">Comment 51</div>\n\nI have a patch for scipy that makes it build - posting on #30604 in a moment.",
    "created_at": "2020-09-18T20:09:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489016",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:51" align="right">Comment 51</div>

I have a patch for scipy that makes it build - posting on #30604 in a moment.



---

archive/issue_comments_489017.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,7 +11,7 @@\n - symmetrica\n - rubiks (see also #28022)\n - ecl #30594\n-- scipy\n+- scipy #30604\n - openblas\n - readline #30603\n \n``````\n",
    "created_at": "2020-09-18T20:09:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489017",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,7 +11,7 @@
 - symmetrica
 - rubiks (see also #28022)
 - ecl #30594
-- scipy
+- scipy #30604
 - openblas
 - readline #30603
 
``````




---

archive/issue_events_402123.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-18T20:09:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402123"
}
```



---

archive/issue_events_402124.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-18T20:09:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402124"
}
```



---

archive/issue_comments_489018.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">Comment 52</div>\n\nReplying to [@mkoeppe](#comment%3A49):\n> openblas - see https://github.com/xianyi/OpenBLAS/issues/2805\n\nI am using openblas from Homebrew, it works with XCode 12 (on macOS 10), no?",
    "created_at": "2020-09-18T20:12:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489018",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:52" align="right">Comment 52</div>

Replying to [@mkoeppe](#comment%3A49):
> openblas - see https://github.com/xianyi/OpenBLAS/issues/2805

I am using openblas from Homebrew, it works with XCode 12 (on macOS 10), no?



---

archive/issue_comments_489019.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">Comment 53</div>\n\nReplying to [@mkoeppe](#comment%3A49):\n> openblas - see https://github.com/xianyi/OpenBLAS/issues/2805\n\nWith that patch I don't get the \"implicit declaration\" errors, but instead I get errors like\n\n```\nlapacke_dggsvp_work.c:49:71: error: too many arguments to function call, expected 21, have 24\n                       &tolb, k, l, u, &ldu, v, &ldv, q, &ldq, iwork, tau, work,\n                                                                      ^~~~~~~~~~\n```",
    "created_at": "2020-09-18T20:13:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489019",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:53" align="right">Comment 53</div>

Replying to [@mkoeppe](#comment%3A49):
> openblas - see https://github.com/xianyi/OpenBLAS/issues/2805

With that patch I don't get the "implicit declaration" errors, but instead I get errors like

```
lapacke_dggsvp_work.c:49:71: error: too many arguments to function call, expected 21, have 24
                       &tolb, k, l, u, &ldu, v, &ldv, q, &ldq, iwork, tau, work,
                                                                      ^~~~~~~~~~
```



---

archive/issue_comments_489020.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">Comment 54</div>\n\nI tried upgrading to OpenBLAS 0.3.10, but I get the same problem.",
    "created_at": "2020-09-18T20:14:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489020",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:54" align="right">Comment 54</div>

I tried upgrading to OpenBLAS 0.3.10, but I get the same problem.



---

archive/issue_comments_489021.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">Comment 55</div>\n\nReplying to [@dimpase](#comment%3A52):\n> Replying to [@mkoeppe](#comment%3A49):\n> > openblas - see https://github.com/xianyi/OpenBLAS/issues/2805\n\n> \n> I am using openblas from Homebrew, it works with XCode 12 (on macOS 10), no?\n\nYes, that works fine for me. Same for readline, but both of those were reported as failures on sage-release.",
    "created_at": "2020-09-18T20:14:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489021",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:55" align="right">Comment 55</div>

Replying to [@dimpase](#comment%3A52):
> Replying to [@mkoeppe](#comment%3A49):
> > openblas - see https://github.com/xianyi/OpenBLAS/issues/2805

> 
> I am using openblas from Homebrew, it works with XCode 12 (on macOS 10), no?

Yes, that works fine for me. Same for readline, but both of those were reported as failures on sage-release.



---

archive/issue_comments_489022.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">Comment 56</div>\n\nPerhaps the Xcode 12 tickets for packages for which we can use working homebrew packages should be considered \"critical\", not \"blockers\" - but they need to be fixed too.",
    "created_at": "2020-09-18T20:19:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489022",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:56" align="right">Comment 56</div>

Perhaps the Xcode 12 tickets for packages for which we can use working homebrew packages should be considered "critical", not "blockers" - but they need to be fixed too.



---

archive/issue_comments_489023.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">Comment 57</div>\n\nSure, sounds good.",
    "created_at": "2020-09-18T20:28:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489023",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:57" align="right">Comment 57</div>

Sure, sounds good.



---

archive/issue_comments_489024.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">Comment 58</div>\n\nI think we're just down to symmetrica now, combined with a reasonable set of homebrew packages. I don't know enough (read: any) C to be able to do anything meaningful with symmetrica, though.",
    "created_at": "2020-09-18T21:44:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489024",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:58" align="right">Comment 58</div>

I think we're just down to symmetrica now, combined with a reasonable set of homebrew packages. I don't know enough (read: any) C to be able to do anything meaningful with symmetrica, though.



---

archive/issue_comments_489025.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">Comment 59</div>\n\nI'll fix symmetrica, no worries",
    "created_at": "2020-09-18T22:12:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489025",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:59" align="right">Comment 59</div>

I'll fix symmetrica, no worries



---

archive/issue_comments_489026.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,7 +8,7 @@\n Failing packages:\n - gf2x #30593\n - ecm #30600\n-- symmetrica\n+- symmetrica #30608\n - rubiks (see also #28022)\n - ecl #30594\n - scipy #30604\n``````\n",
    "created_at": "2020-09-18T22:14:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489026",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,7 +8,7 @@
 Failing packages:
 - gf2x #30593
 - ecm #30600
-- symmetrica
+- symmetrica #30608
 - rubiks (see also #28022)
 - ecl #30594
 - scipy #30604
``````




---

archive/issue_comments_489027.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,7 +12,7 @@\n - rubiks (see also #28022)\n - ecl #30594\n - scipy #30604\n-- openblas\n+- openblas #30610\n - readline #30603\n \n Tickets: \n``````\n",
    "created_at": "2020-09-18T22:26:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489027",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,7 +12,7 @@
 - rubiks (see also #28022)
 - ecl #30594
 - scipy #30604
-- openblas
+- openblas #30610
 - readline #30603
 
 Tickets: 
``````




---

archive/issue_comments_489028.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">Comment 61</div>\n\nI opened #30610 for OpenBLAS, not that I know how to fix it.",
    "created_at": "2020-09-18T22:26:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489028",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:61" align="right">Comment 61</div>

I opened #30610 for OpenBLAS, not that I know how to fix it.



---

archive/issue_comments_489029.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">Comment 62</div>\n\n`mpir` has a similar issue: its configure script fails because of the same sort of error. Again, the homebrew package works just fine.",
    "created_at": "2020-09-19T02:51:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489029",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:62" align="right">Comment 62</div>

`mpir` has a similar issue: its configure script fails because of the same sort of error. Again, the homebrew package works just fine.



---

archive/issue_comments_489030.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,6 +14,7 @@\n - scipy #30604\n - openblas #30610\n - readline #30603\n+- mpir\n \n Tickets: \n - #30487 - GH Actions: Test also with Xcode 12 beta\n``````\n",
    "created_at": "2020-09-19T02:51:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489030",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,6 +14,7 @@
 - scipy #30604
 - openblas #30610
 - readline #30603
+- mpir
 
 Tickets: 
 - #30487 - GH Actions: Test also with Xcode 12 beta
``````




---

archive/issue_comments_489031.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">Comment 63</div>\n\n`python3` builds with Xcode 12 on OS X 10.15.6, which is nice. It failed the last time I tried it with OS X 11, but maybe that's just a `MACOSX_DEPLOYMENT_TARGET` misconfiguration. It can be dealt with later, in any case.",
    "created_at": "2020-09-19T03:15:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489031",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:63" align="right">Comment 63</div>

`python3` builds with Xcode 12 on OS X 10.15.6, which is nice. It failed the last time I tried it with OS X 11, but maybe that's just a `MACOSX_DEPLOYMENT_TARGET` misconfiguration. It can be dealt with later, in any case.



---

archive/issue_comments_489032.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">Comment 64</div>\n\n`gsl` fails. Its `config.log` says\n\n```\nconfigure:3504: gcc -g -O2   -L/Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/new-xcode/sage-9.2.beta12/local/lib -Wl,-rpath,/Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/new-xcode/sage-9.2.beta12/local/lib  conftest.c -lopenblas -lm >&5\nld: library not found for -lopenblas\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nconfigure:3508: $? = 1\nconfigure:3546: result: no\nconfigure: failed program was:\n| /* confdefs.h */\n| #define PACKAGE_NAME \"gsl\"\n| #define PACKAGE_TARNAME \"gsl\"\n| #define PACKAGE_VERSION \"2.6\"\n| #define PACKAGE_STRING \"gsl 2.6\"\n| #define PACKAGE_BUGREPORT \"\"\n| #define PACKAGE_URL \"\"\n| #define PACKAGE \"gsl\"\n| #define VERSION \"2.6\"\n| #define RELEASED /**/\n| /* end confdefs.h.  */\n| \n| int\n| main ()\n| {\n| \n|   ;\n|   return 0;\n| }\nconfigure:3551: error: in `/Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/new-xcode/sage-9.2.beta12/local/var/tmp/sage/build/gsl-2.6/src':\nconfigure:3553: error: C compiler cannot create executables\nSee `config.log' for more details\n```\n(This is the only `config.log` file around, so I'm not sure what it's talking about.) Maybe the homebrew installations of `openblas` and `gsl` are confusing it. To be honest, I'm not sure that Sage's `gsl` built with the homebrew `openblas` before.",
    "created_at": "2020-09-19T04:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489032",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:64" align="right">Comment 64</div>

`gsl` fails. Its `config.log` says

```
configure:3504: gcc -g -O2   -L/Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/new-xcode/sage-9.2.beta12/local/lib -Wl,-rpath,/Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/new-xcode/sage-9.2.beta12/local/lib  conftest.c -lopenblas -lm >&5
ld: library not found for -lopenblas
clang: error: linker command failed with exit code 1 (use -v to see invocation)
configure:3508: $? = 1
configure:3546: result: no
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "gsl"
| #define PACKAGE_TARNAME "gsl"
| #define PACKAGE_VERSION "2.6"
| #define PACKAGE_STRING "gsl 2.6"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define PACKAGE "gsl"
| #define VERSION "2.6"
| #define RELEASED /**/
| /* end confdefs.h.  */
| 
| int
| main ()
| {
| 
|   ;
|   return 0;
| }
configure:3551: error: in `/Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/new-xcode/sage-9.2.beta12/local/var/tmp/sage/build/gsl-2.6/src':
configure:3553: error: C compiler cannot create executables
See `config.log' for more details
```
(This is the only `config.log` file around, so I'm not sure what it's talking about.) Maybe the homebrew installations of `openblas` and `gsl` are confusing it. To be honest, I'm not sure that Sage's `gsl` built with the homebrew `openblas` before.



---

archive/issue_comments_489033.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">Comment 65</div>\n\n`r` also fails, with some familiar errors and an unexpected one:\n\n```\nconftest.c:250:11: warning: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Wincompatible-pointer-types-discards-qualifiers]\n    char *ver = BZ2_bzlibVersion();\n          ^     ~~~~~~~~~~~~~~~~~~\nconftest.c:251:5: error: implicitly declaring library function 'exit' with type 'void (int) __attribute__((noreturn))' [-Werror,-Wimplicit-function-declaration]\n    exit(strcmp(ver, \"1.0.6\") < 0);\n    ^\nconftest.c:251:5: note: include the header <stdlib.h> or explicitly provide a declaration for 'exit'\nconftest.c:251:10: error: implicitly declaring library function 'strcmp' with type 'int (const char *, const char *)' [-Werror,-Wimplicit-function-declaration]\n    exit(strcmp(ver, \"1.0.6\") < 0);\n         ^\nconftest.c:251:10: note: include the header <string.h> or explicitly provide a declaration for 'strcmp'\n```\nand then\n\n```\nconfigure:42275: result: no\nconfigure:42281: checking whether bzip2 support suffices\nconfigure:42288: error: bzip2 library and headers are required\n```\n(This is using the system bzip2 installation.)",
    "created_at": "2020-09-19T04:10:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489033",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:65" align="right">Comment 65</div>

`r` also fails, with some familiar errors and an unexpected one:

```
conftest.c:250:11: warning: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Wincompatible-pointer-types-discards-qualifiers]
    char *ver = BZ2_bzlibVersion();
          ^     ~~~~~~~~~~~~~~~~~~
conftest.c:251:5: error: implicitly declaring library function 'exit' with type 'void (int) __attribute__((noreturn))' [-Werror,-Wimplicit-function-declaration]
    exit(strcmp(ver, "1.0.6") < 0);
    ^
conftest.c:251:5: note: include the header <stdlib.h> or explicitly provide a declaration for 'exit'
conftest.c:251:10: error: implicitly declaring library function 'strcmp' with type 'int (const char *, const char *)' [-Werror,-Wimplicit-function-declaration]
    exit(strcmp(ver, "1.0.6") < 0);
         ^
conftest.c:251:10: note: include the header <string.h> or explicitly provide a declaration for 'strcmp'
```
and then

```
configure:42275: result: no
configure:42281: checking whether bzip2 support suffices
configure:42288: error: bzip2 library and headers are required
```
(This is using the system bzip2 installation.)



---

archive/issue_comments_489034.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,6 +15,8 @@\n - openblas #30610\n - readline #30603\n - mpir\n+- gsl (?)\n+- r\n \n Tickets: \n - #30487 - GH Actions: Test also with Xcode 12 beta\n``````\n",
    "created_at": "2020-09-19T04:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489034",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,6 +15,8 @@
 - openblas #30610
 - readline #30603
 - mpir
+- gsl (?)
+- r
 
 Tickets: 
 - #30487 - GH Actions: Test also with Xcode 12 beta
``````




---

archive/issue_comments_489035.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,19 +5,24 @@\n - https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ\n - https://github.com/mkoeppe/sage/runs/1059961873\n \n-Failing packages:\n+Failing packages (blockers):\n - gf2x #30593\n - ecm #30600\n - symmetrica #30608\n-- rubiks (see also #28022)\n - ecl #30594\n - scipy #30604\n+\n+Failing packages with replacements available via homebrew:\n - openblas #30610\n - readline #30603\n - mpir\n - gsl (?)\n - r\n \n+Failing optional packages:\n+- rubiks (see also #28022)\n+\n+\n Tickets: \n - #30487 - GH Actions: Test also with Xcode 12 beta\n - #27754 - Upgrade: Python 3.8.5\n``````\n",
    "created_at": "2020-09-19T04:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489035",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,19 +5,24 @@
 - https://groups.google.com/d/msg/sage-support/ZLgu-1pi6nc/W7Hqe7AgAgAJ
 - https://github.com/mkoeppe/sage/runs/1059961873
 
-Failing packages:
+Failing packages (blockers):
 - gf2x #30593
 - ecm #30600
 - symmetrica #30608
-- rubiks (see also #28022)
 - ecl #30594
 - scipy #30604
+
+Failing packages with replacements available via homebrew:
 - openblas #30610
 - readline #30603
 - mpir
 - gsl (?)
 - r
 
+Failing optional packages:
+- rubiks (see also #28022)
+
+
 Tickets: 
 - #30487 - GH Actions: Test also with Xcode 12 beta
 - #27754 - Upgrade: Python 3.8.5
``````




---

archive/issue_comments_489036.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,7 +8,7 @@\n Failing packages (blockers):\n - gf2x #30593\n - ecm #30600\n-- symmetrica #30608\n+- symmetrica #30608 or #29061\n - ecl #30594\n - scipy #30604\n \n``````\n",
    "created_at": "2020-09-19T08:21:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489036",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,7 +8,7 @@
 Failing packages (blockers):
 - gf2x #30593
 - ecm #30600
-- symmetrica #30608
+- symmetrica #30608 or #29061
 - ecl #30594
 - scipy #30604
 
``````




---

archive/issue_comments_489037.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">Comment 69</div>\n\nThere is a problem with another package, but I can't figure out which. If I run\n\n```\n$ ./configure --with-system-boost_cropped=no --with-system-curl=yes --with-system-freetype=no --with-system-glpk=no --with-system-gmp=no --with-system-libffi=no --with-system-libgd=no --with-system-libpng=no --with-system-mpc=no --with-system-mpfi=no --with-system-mpfr=no --with-system-ninja_build=no --with-system-ntl=no --with-system-pkgconf=no --with-system-ppl=no --with-system-python3=no --with-system-sqlite=no --with-system-suitesparse=no --with-system-yasm=no --with-system-zeromq=no --with-system-zlib\n```\nthen Sage builds, but the docs fail with this:\n\n```\nWarning: Missing title for sage.combinat.posets.mobile\n[combinat ] building [inventory]: targets for 378 source files that are out of date\n[combinat ] updating environment: [new config] 378 added, 0 changed, 0 removed\n------------------------------------------------------------------------\n0   signals.cpython-38-darwin.so        0x000000011139862a print_backtrace + 58\n1   signals.cpython-38-darwin.so        0x000000011139c277 sigdie + 39\n2   signals.cpython-38-darwin.so        0x000000011139c1f0 sigdie_for_sig + 256\n3   libsystem_platform.dylib            0x00007fff6a9965fd _sigtramp + 29\n4   ???                                 0xf687400000000001 0x0 + 17764237623930388481\n5   libsystem_c.dylib                   0x00007fff6a86c808 abort + 120\n6   libsystem_malloc.dylib              0x00007fff6a96250b has_default_zone0 + 0\n7   libsystem_malloc.dylib              0x00007fff6a96540f malloc_report + 151\n8   memory.cpython-38-darwin.so         0x000000033a29b144 __pyx_f_4sage_3ext_6memory_sage_sig_free + 20\n9   polyhedron.cpython-38-darwin.so     0x000000034423eb71 _ZN23Parma_Polyhedra_Library10PolyhedronD2Ev + 49\n10  polyhedron.cpython-38-darwin.so     0x000000034423d742 _ZL47__pyx_tp_dealloc_3ppl_10polyhedron_C_PolyhedronP7_object + 82\n11  libpython3.8.dylib                  0x000000010f4fe76e dict_dealloc + 510\n12  libpython3.8.dylib                  0x000000010f52f83c subtype_clear + 252\n13  libpython3.8.dylib                  0x000000010f611c6b collect + 3563\n14  libpython3.8.dylib                  0x000000010f612135 _PyObject_GC_Alloc + 389\n15  libpython3.8.dylib                  0x000000010f6121a5 _PyObject_GC_New + 21\n16  libpython3.8.dylib                  0x000000010f5ff9ab PyTraceBack_Here + 155\n17  category_object.cpython-38-darwin.s 0x000000011246d177 __Pyx_AddTraceback + 839\n18  category_object.cpython-38-darwin.s 0x0000000112472795 __pyx_f_4sage_9structure_15category_object_14CategoryObject_getattr_from_category + 453\n19  category_object.cpython-38-darwin.s 0x0000000112472f90 __pyx_tp_getattro_4sage_9structure_15category_object_CategoryObject + 64\n20  cachefunc.cpython-38-darwin.so      0x0000000112272703 __pyx_pw_4sage_4misc_9cachefunc_24CachedMethodCallerNoArgs_1__init__ + 2275\n21  libpython3.8.dylib                  0x000000010f520774 type_call + 292\n22  cachefunc.cpython-38-darwin.so      0x0000000112250d71 __Pyx_PyObject_Call + 97\n23  cachefunc.cpython-38-darwin.so      0x000000011226784b __pyx_tp_descr_get_4sage_4misc_9cachefunc_CachedMethod + 1579\n24  libpython3.8.dylib                  0x000000010f50e527 _PyObject_GenericGetAttrWithDict + 487\n25  category_object.cpython-38-darwin.s 0x0000000112472f62 __pyx_tp_getattro_4sage_9structure_15category_object_CategoryObject + 18\n26  libpython3.8.dylib                  0x000000010f50e77c _PyObject_GetMethod + 268\n27  libpython3.8.dylib                  0x000000010f5a7e91 _PyEval_EvalFrameDefault + 29489\n28  libpython3.8.dylib                  0x000000010f4cbe2d function_code_fastcall + 237\n29  libpython3.8.dylib                  0x000000010f4cb2aa _PyObject_FastCallDict + 218\n30  libpython3.8.dylib                  0x000000010f4cc993 _PyObject_Call_Prepend + 131\n31  libpython3.8.dylib                  0x000000010f525354 slot_tp_init + 180\n32  libpython3.8.dylib                  0x000000010f520774 type_call + 292\n33  libpython3.8.dylib                  0x000000010f4cb476 _PyObject_MakeTpCall + 374\n34  libpython3.8.dylib                  0x000000010f5aba0c call_function + 652\n35  libpython3.8.dylib                  0x000000010f5a806a _PyEval_EvalFrameDefault + 29962\n...\n[snip]\n...\n457 libpython3.8.dylib                  0x000000010f5ac967 _PyEval_EvalCodeWithName + 3287\n458 libpython3.8.dylib                  0x000000010f4cbfad _PyFunction_Vectorcall + 253\n459 libpython3.8.dylib                  0x000000010f4cb7c4 PyVectorcall_Call + 100\n460 libpython3.8.dylib                  0x000000010f6107d3 pymain_run_module + 179\n461 libpython3.8.dylib                  0x000000010f60fec8 Py_RunMain + 1416\n462 libpython3.8.dylib                  0x000000010f6106b3 pymain_main + 403\n463 libpython3.8.dylib                  0x000000010f61070b Py_BytesMain + 43\n464 libdyld.dylib                       0x00007fff6a79dcc9 start + 1\n465 ???                                 0x0000000000000006 0x0 + 6\n------------------------------------------------------------------------\nUnhandled SIGABRT: An abort() occurred.\nThis probably occurred because a *compiled* module has a bug\nin it and is not properly wrapped with sig_on(), sig_off().\nPython will now terminate.\n------------------------------------------------------------------------\n```\nI've tried configuring with a subset of those packages specified, but I haven't been able to narrow it down.",
    "created_at": "2020-09-20T02:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489037",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:69" align="right">Comment 69</div>

There is a problem with another package, but I can't figure out which. If I run

```
$ ./configure --with-system-boost_cropped=no --with-system-curl=yes --with-system-freetype=no --with-system-glpk=no --with-system-gmp=no --with-system-libffi=no --with-system-libgd=no --with-system-libpng=no --with-system-mpc=no --with-system-mpfi=no --with-system-mpfr=no --with-system-ninja_build=no --with-system-ntl=no --with-system-pkgconf=no --with-system-ppl=no --with-system-python3=no --with-system-sqlite=no --with-system-suitesparse=no --with-system-yasm=no --with-system-zeromq=no --with-system-zlib
```
then Sage builds, but the docs fail with this:

```
Warning: Missing title for sage.combinat.posets.mobile
[combinat ] building [inventory]: targets for 378 source files that are out of date
[combinat ] updating environment: [new config] 378 added, 0 changed, 0 removed
------------------------------------------------------------------------
0   signals.cpython-38-darwin.so        0x000000011139862a print_backtrace + 58
1   signals.cpython-38-darwin.so        0x000000011139c277 sigdie + 39
2   signals.cpython-38-darwin.so        0x000000011139c1f0 sigdie_for_sig + 256
3   libsystem_platform.dylib            0x00007fff6a9965fd _sigtramp + 29
4   ???                                 0xf687400000000001 0x0 + 17764237623930388481
5   libsystem_c.dylib                   0x00007fff6a86c808 abort + 120
6   libsystem_malloc.dylib              0x00007fff6a96250b has_default_zone0 + 0
7   libsystem_malloc.dylib              0x00007fff6a96540f malloc_report + 151
8   memory.cpython-38-darwin.so         0x000000033a29b144 __pyx_f_4sage_3ext_6memory_sage_sig_free + 20
9   polyhedron.cpython-38-darwin.so     0x000000034423eb71 _ZN23Parma_Polyhedra_Library10PolyhedronD2Ev + 49
10  polyhedron.cpython-38-darwin.so     0x000000034423d742 _ZL47__pyx_tp_dealloc_3ppl_10polyhedron_C_PolyhedronP7_object + 82
11  libpython3.8.dylib                  0x000000010f4fe76e dict_dealloc + 510
12  libpython3.8.dylib                  0x000000010f52f83c subtype_clear + 252
13  libpython3.8.dylib                  0x000000010f611c6b collect + 3563
14  libpython3.8.dylib                  0x000000010f612135 _PyObject_GC_Alloc + 389
15  libpython3.8.dylib                  0x000000010f6121a5 _PyObject_GC_New + 21
16  libpython3.8.dylib                  0x000000010f5ff9ab PyTraceBack_Here + 155
17  category_object.cpython-38-darwin.s 0x000000011246d177 __Pyx_AddTraceback + 839
18  category_object.cpython-38-darwin.s 0x0000000112472795 __pyx_f_4sage_9structure_15category_object_14CategoryObject_getattr_from_category + 453
19  category_object.cpython-38-darwin.s 0x0000000112472f90 __pyx_tp_getattro_4sage_9structure_15category_object_CategoryObject + 64
20  cachefunc.cpython-38-darwin.so      0x0000000112272703 __pyx_pw_4sage_4misc_9cachefunc_24CachedMethodCallerNoArgs_1__init__ + 2275
21  libpython3.8.dylib                  0x000000010f520774 type_call + 292
22  cachefunc.cpython-38-darwin.so      0x0000000112250d71 __Pyx_PyObject_Call + 97
23  cachefunc.cpython-38-darwin.so      0x000000011226784b __pyx_tp_descr_get_4sage_4misc_9cachefunc_CachedMethod + 1579
24  libpython3.8.dylib                  0x000000010f50e527 _PyObject_GenericGetAttrWithDict + 487
25  category_object.cpython-38-darwin.s 0x0000000112472f62 __pyx_tp_getattro_4sage_9structure_15category_object_CategoryObject + 18
26  libpython3.8.dylib                  0x000000010f50e77c _PyObject_GetMethod + 268
27  libpython3.8.dylib                  0x000000010f5a7e91 _PyEval_EvalFrameDefault + 29489
28  libpython3.8.dylib                  0x000000010f4cbe2d function_code_fastcall + 237
29  libpython3.8.dylib                  0x000000010f4cb2aa _PyObject_FastCallDict + 218
30  libpython3.8.dylib                  0x000000010f4cc993 _PyObject_Call_Prepend + 131
31  libpython3.8.dylib                  0x000000010f525354 slot_tp_init + 180
32  libpython3.8.dylib                  0x000000010f520774 type_call + 292
33  libpython3.8.dylib                  0x000000010f4cb476 _PyObject_MakeTpCall + 374
34  libpython3.8.dylib                  0x000000010f5aba0c call_function + 652
35  libpython3.8.dylib                  0x000000010f5a806a _PyEval_EvalFrameDefault + 29962
...
[snip]
...
457 libpython3.8.dylib                  0x000000010f5ac967 _PyEval_EvalCodeWithName + 3287
458 libpython3.8.dylib                  0x000000010f4cbfad _PyFunction_Vectorcall + 253
459 libpython3.8.dylib                  0x000000010f4cb7c4 PyVectorcall_Call + 100
460 libpython3.8.dylib                  0x000000010f6107d3 pymain_run_module + 179
461 libpython3.8.dylib                  0x000000010f60fec8 Py_RunMain + 1416
462 libpython3.8.dylib                  0x000000010f6106b3 pymain_main + 403
463 libpython3.8.dylib                  0x000000010f61070b Py_BytesMain + 43
464 libdyld.dylib                       0x00007fff6a79dcc9 start + 1
465 ???                                 0x0000000000000006 0x0 + 6
------------------------------------------------------------------------
Unhandled SIGABRT: An abort() occurred.
This probably occurred because a *compiled* module has a bug
in it and is not properly wrapped with sig_on(), sig_off().
Python will now terminate.
------------------------------------------------------------------------
```
I've tried configuring with a subset of those packages specified, but I haven't been able to narrow it down.



---

archive/issue_comments_489038.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">Comment 70</div>\n\nThere's some ppl stuff in the backtrace, so that would be my first guess",
    "created_at": "2020-09-20T02:19:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489038",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:70" align="right">Comment 70</div>

There's some ppl stuff in the backtrace, so that would be my first guess



---

archive/issue_comments_489039.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">Comment 71</div>\n\nI saw that, too. I thought I'd checked it, but I'll try again. (Taking a working build and then doing `./sage -f ppl` resulted in a successful build, but I'll try from scratch.)",
    "created_at": "2020-09-20T04:26:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489039",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:71" align="right">Comment 71</div>

I saw that, too. I thought I'd checked it, but I'll try again. (Taking a working build and then doing `./sage -f ppl` resulted in a successful build, but I'll try from scratch.)



---

archive/issue_comments_489040.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">Comment 72</div>\n\nAfter running\n\n```\n./configure --with-system-glpk=no --with-system-gmp=no --with-system-ppl=no\n```\n`sagelib` fails to build, and there are lots of messages like this:\n\n```\nld: illegal thread local variable reference to regular symbol __ZN3NTL20ZZXFac_InitNumPrimesE for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nerror: command 'g++' failed with exit status 1\n```",
    "created_at": "2020-09-20T05:30:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489040",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:72" align="right">Comment 72</div>

After running

```
./configure --with-system-glpk=no --with-system-gmp=no --with-system-ppl=no
```
`sagelib` fails to build, and there are lots of messages like this:

```
ld: illegal thread local variable reference to regular symbol __ZN3NTL20ZZXFac_InitNumPrimesE for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
error: command 'g++' failed with exit status 1
```



---

archive/issue_comments_489041.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">Comment 73</div>\n\nThis might be unrelated breakage coming from homebrew's ntl/flint packages - tracked at #29339/#27764",
    "created_at": "2020-09-20T05:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489041",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:73" align="right">Comment 73</div>

This might be unrelated breakage coming from homebrew's ntl/flint packages - tracked at #29339/#27764



---

archive/issue_comments_489042.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">Comment 74</div>\n\nBest to remove these from the homebrew installation. In some situations these packages seem to leak into Sage even with `--with-system...=no`, as reported recently on sage-devel",
    "created_at": "2020-09-20T05:41:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489042",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:74" align="right">Comment 74</div>

Best to remove these from the homebrew installation. In some situations these packages seem to leak into Sage even with `--with-system...=no`, as reported recently on sage-devel



---

archive/issue_comments_489043.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">Comment 75</div>\n\nOkay, after removing homebrew's `ntl`, I see the failure in [comment:69](#comment%3A69) with `./configure --with-system-glpk=no --with-system-gmp=no --with-system-ppl=no`. For what it's worth, if I do `make distclean`, followed by the above configure command, followed by `export SAGE_CHECK=yes` and `make ppl`, then `ppl` passes its test suite.",
    "created_at": "2020-09-20T23:01:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489043",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:75" align="right">Comment 75</div>

Okay, after removing homebrew's `ntl`, I see the failure in [comment:69](#comment%3A69) with `./configure --with-system-glpk=no --with-system-gmp=no --with-system-ppl=no`. For what it's worth, if I do `make distclean`, followed by the above configure command, followed by `export SAGE_CHECK=yes` and `make ppl`, then `ppl` passes its test suite.



---

archive/issue_comments_489044.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">Comment 76</div>\n\n`glpk` pass its test suite, and `gmp` shows one failure:\n\n```\n../../test-driver: line 107: 32897 Abort trap: 6           \"$@\" > $log_file 2>&1\nFAIL: t-sqrlo\n```",
    "created_at": "2020-09-20T23:43:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489044",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:76" align="right">Comment 76</div>

`glpk` pass its test suite, and `gmp` shows one failure:

```
../../test-driver: line 107: 32897 Abort trap: 6           "$@" > $log_file 2>&1
FAIL: t-sqrlo
```



---

archive/issue_comments_489045.json:
```json
{
    "body": "Reviewer: **https://github.com/mkoeppe/sage/actions/runs/264223897**",
    "created_at": "2020-09-21T00:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489045",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **https://github.com/mkoeppe/sage/actions/runs/264223897**



---

archive/issue_comments_489046.json:
```json
{
    "body": "Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/264223897** to **https://github.com/mkoeppe/sage/actions/runs/264540655**",
    "created_at": "2020-09-21T05:39:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489046",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/264223897** to **https://github.com/mkoeppe/sage/actions/runs/264540655**



---

archive/issue_comments_489047.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">Comment 79</div>\n\nReplying to [@jhpalmieri](#comment%3A76):\n> `glpk` pass its test suite, and `gmp` shows one failure:\n> \n> ```\n> ../../test-driver: line 107: 32897 Abort trap: 6           \"$@\" > $log_file 2>&1\n> FAIL: t-sqrlo\n> ```\n\nDid you try with Sage's GMP 6.1.2?\nIt's old. I tried building and testing GMP 6.2.0, all its tests pass.\nFor the record, it's on `kabylake-apple-darwin19.6.0`, clang version 1200.0.32.4\n\nThis is the same GMP version as on Homebrew, so it should be OK to use the latter.",
    "created_at": "2020-09-21T13:07:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489047",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:79" align="right">Comment 79</div>

Replying to [@jhpalmieri](#comment%3A76):
> `glpk` pass its test suite, and `gmp` shows one failure:
> 
> ```
> ../../test-driver: line 107: 32897 Abort trap: 6           "$@" > $log_file 2>&1
> FAIL: t-sqrlo
> ```

Did you try with Sage's GMP 6.1.2?
It's old. I tried building and testing GMP 6.2.0, all its tests pass.
For the record, it's on `kabylake-apple-darwin19.6.0`, clang version 1200.0.32.4

This is the same GMP version as on Homebrew, so it should be OK to use the latter.



---

archive/issue_comments_489048.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,6 +15,7 @@\n Failing packages with replacements available via homebrew:\n - openblas #30610\n - readline #30603\n+- gmp (#30625)\n - mpir\n - gsl (?)\n - r\n``````\n",
    "created_at": "2020-09-21T13:13:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489048",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,6 +15,7 @@
 Failing packages with replacements available via homebrew:
 - openblas #30610
 - readline #30603
+- gmp (#30625)
 - mpir
 - gsl (?)
 - r
``````




---

archive/issue_comments_489049.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">Comment 81</div>\n\nI've opened #30625 to update GMP",
    "created_at": "2020-09-21T13:13:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489049",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:81" align="right">Comment 81</div>

I've opened #30625 to update GMP



---

archive/issue_comments_489050.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">Comment 82</div>\n\nReplying to [@dimpase](#comment%3A79):\n> Replying to [@jhpalmieri](#comment%3A76):\n> > `glpk` pass its test suite, and `gmp` shows one failure:\n> > \n> > ```\n> > ../../test-driver: line 107: 32897 Abort trap: 6           \"$@\" > $log_file 2>&1\n> > FAIL: t-sqrlo\n> > ```\n\n> \n> Did you try with Sage's GMP 6.1.2?\n\nYes: using Sage's gmp, glpk, and ppl leads to failures when building the documentation (and also doctest failures along the same lines): see [comment:69](#comment%3A69). I was trying to see if the packages passed their test suites after seeming to install correctly.",
    "created_at": "2020-09-21T15:48:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489050",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:82" align="right">Comment 82</div>

Replying to [@dimpase](#comment%3A79):
> Replying to [@jhpalmieri](#comment%3A76):
> > `glpk` pass its test suite, and `gmp` shows one failure:
> > 
> > ```
> > ../../test-driver: line 107: 32897 Abort trap: 6           "$@" > $log_file 2>&1
> > FAIL: t-sqrlo
> > ```

> 
> Did you try with Sage's GMP 6.1.2?

Yes: using Sage's gmp, glpk, and ppl leads to failures when building the documentation (and also doctest failures along the same lines): see [comment:69](#comment%3A69). I was trying to see if the packages passed their test suites after seeming to install correctly.



---

archive/issue_comments_489051.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">Comment 83</div>\n\nI also see an error in a scipy selftest, related to Cython.",
    "created_at": "2020-09-21T16:39:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489051",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:83" align="right">Comment 83</div>

I also see an error in a scipy selftest, related to Cython.



---

archive/issue_comments_489052.json:
```json
{
    "body": "<div id=\"comment:84\" align=\"right\">Comment 84</div>\n\nR does not build, as its bzlib2/bzip2 check fails. Indeed, the corr. C test has undeclared external functions\n\n```\nconfigure:42230: checking if bzip2 version >= 1.0.6\nconfigure:42258: clang -o conftest  -g -O2  -fPIC -fPIC   -L/Users/dima/software/sagetrac-mirror/local/lib/R/lib -Wl,-rpath,/Users/dima/software/sagetrac-mirror/local/lib/R/lib -L/Users/dima/software/sage\ntrac-mirror/local/lib -Wl,-rpath,/Users/dima/software/sagetrac-mirror/local/lib  conftest.c -lbz2 -lz -licucore -ldl -lm  -liconv >&5\nconftest.c:251:11: warning: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Wincompatible-pointer-types-discards-qualifiers]\n    char *ver = BZ2_bzlibVersion();\n          ^     ~~~~~~~~~~~~~~~~~~\nconftest.c:252:5: error: implicitly declaring library function 'exit' with type 'void (int) __attribute__((noreturn))' [-Werror,-Wimplicit-function-declaration]\n    exit(strcmp(ver, \"1.0.6\") < 0);\n    ^\nconftest.c:252:5: note: include the header <stdlib.h> or explicitly provide a declaration for 'exit'\nconftest.c:252:10: error: implicitly declaring library function 'strcmp' with type 'int (const char *, const char *)' [-Werror,-Wimplicit-function-declaration]\n    exit(strcmp(ver, \"1.0.6\") < 0);\n         ^\nconftest.c:252:10: note: include the header <string.h> or explicitly provide a declaration for 'strcmp'\n1 warning and 2 errors generated.\n```",
    "created_at": "2020-09-22T17:14:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489052",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:84" align="right">Comment 84</div>

R does not build, as its bzlib2/bzip2 check fails. Indeed, the corr. C test has undeclared external functions

```
configure:42230: checking if bzip2 version >= 1.0.6
configure:42258: clang -o conftest  -g -O2  -fPIC -fPIC   -L/Users/dima/software/sagetrac-mirror/local/lib/R/lib -Wl,-rpath,/Users/dima/software/sagetrac-mirror/local/lib/R/lib -L/Users/dima/software/sage
trac-mirror/local/lib -Wl,-rpath,/Users/dima/software/sagetrac-mirror/local/lib  conftest.c -lbz2 -lz -licucore -ldl -lm  -liconv >&5
conftest.c:251:11: warning: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Wincompatible-pointer-types-discards-qualifiers]
    char *ver = BZ2_bzlibVersion();
          ^     ~~~~~~~~~~~~~~~~~~
conftest.c:252:5: error: implicitly declaring library function 'exit' with type 'void (int) __attribute__((noreturn))' [-Werror,-Wimplicit-function-declaration]
    exit(strcmp(ver, "1.0.6") < 0);
    ^
conftest.c:252:5: note: include the header <stdlib.h> or explicitly provide a declaration for 'exit'
conftest.c:252:10: error: implicitly declaring library function 'strcmp' with type 'int (const char *, const char *)' [-Werror,-Wimplicit-function-declaration]
    exit(strcmp(ver, "1.0.6") < 0);
         ^
conftest.c:252:10: note: include the header <string.h> or explicitly provide a declaration for 'strcmp'
1 warning and 2 errors generated.
```



---

archive/issue_comments_489053.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">Comment 85</div>\n\ngsl did build well with the patch for openblas from #30610",
    "created_at": "2020-09-22T17:25:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489053",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:85" align="right">Comment 85</div>

gsl did build well with the patch for openblas from #30610



---

archive/issue_comments_489054.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">Comment 86</div>\n\nsee #30631 for an R fix",
    "created_at": "2020-09-22T18:15:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489054",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:86" align="right">Comment 86</div>

see #30631 for an R fix



---

archive/issue_comments_489055.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,10 +15,10 @@\n Failing packages with replacements available via homebrew:\n - openblas #30610\n - readline #30603\n-- gmp (#30625)\n+- gmp #30625\n - mpir\n - gsl (?)\n-- r\n+- r #30631\n \n Failing optional packages:\n - rubiks (see also #28022)\n``````\n",
    "created_at": "2020-09-22T18:15:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489055",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,10 +15,10 @@
 Failing packages with replacements available via homebrew:
 - openblas #30610
 - readline #30603
-- gmp (#30625)
+- gmp #30625
 - mpir
 - gsl (?)
-- r
+- r #30631
 
 Failing optional packages:
 - rubiks (see also #28022)
``````




---

archive/issue_comments_489056.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">Comment 87</div>\n\n`giac` builds, but hangs on startup. And some giac-related tests time out too.",
    "created_at": "2020-09-22T20:50:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489056",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:87" align="right">Comment 87</div>

`giac` builds, but hangs on startup. And some giac-related tests time out too.



---

archive/issue_comments_489057.json:
```json
{
    "body": "<div id=\"comment:88\" align=\"right\">Comment 88</div>\n\nWith beta13, #29061, #28623, #30486 (i.e. arb 2.18) and flint(2.6.1)+ntl+gmp+mpfr+mpc+mpfi+readline(and deps)+boost from Homebrew - but openblas, gsl, R built by Sage (with the updates),\nall the long tests pass. So this seems to be sorted, more or less.",
    "created_at": "2020-09-23T06:45:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489057",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:88" align="right">Comment 88</div>

With beta13, #29061, #28623, #30486 (i.e. arb 2.18) and flint(2.6.1)+ntl+gmp+mpfr+mpc+mpfi+readline(and deps)+boost from Homebrew - but openblas, gsl, R built by Sage (with the updates),
all the long tests pass. So this seems to be sorted, more or less.



---

archive/issue_comments_489058.json:
```json
{
    "body": "<div id=\"comment:89\" align=\"right\">Comment 89</div>\n\nI agree that the Xcode 12 issue is in good shape, but not OS X 11. I'm trying to build on a beta version of that and Python is failing to build. First, Sage insists on building Python because its check for sqlite3 fails:\n\n```\nconfigure:30755: ./conftest\nAssertion failed: (strcmp(sqlite3_libversion(),SQLITE_VERSION)==0), function main, file conftest.cpp, line 73.\n./configure: line 3360:  9722 Abort trap: 6           ./conftest$ac_exeext\nconfigure:30755: $? = 134\nconfigure: program exited with status 134\n...\nconfigure:30759: result: no\nconfigure:30787: no suitable system package found for SPKG sqlite\n```\nThis also triggers the Python build. That fails because: first it failed to build the `zlib` module. When I installed Sage's zlib, then it started complaining that it couldn't build the `readline` module. I'm still trying...",
    "created_at": "2020-09-23T20:26:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489058",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:89" align="right">Comment 89</div>

I agree that the Xcode 12 issue is in good shape, but not OS X 11. I'm trying to build on a beta version of that and Python is failing to build. First, Sage insists on building Python because its check for sqlite3 fails:

```
configure:30755: ./conftest
Assertion failed: (strcmp(sqlite3_libversion(),SQLITE_VERSION)==0), function main, file conftest.cpp, line 73.
./configure: line 3360:  9722 Abort trap: 6           ./conftest$ac_exeext
configure:30755: $? = 134
configure: program exited with status 134
...
configure:30759: result: no
configure:30787: no suitable system package found for SPKG sqlite
```
This also triggers the Python build. That fails because: first it failed to build the `zlib` module. When I installed Sage's zlib, then it started complaining that it couldn't build the `readline` module. I'm still trying...



---

archive/issue_comments_489059.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">Comment 90</div>\n\nIt would be worth checking whether using the homebrew package for sqlite is helpful",
    "created_at": "2020-09-24T00:05:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489059",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:90" align="right">Comment 90</div>

It would be worth checking whether using the homebrew package for sqlite is helpful



---

archive/issue_comments_489060.json:
```json
{
    "body": "<div id=\"comment:91\" align=\"right\">Comment 91</div>\n\nIt's installed. \n\nBy installing Sage's `sqlite` and `readline` (and by unsetting `MACOSX_DEPLOYMENT_TARGET` \u2014 don't know if this was necessary), I've gotten `python3` to build. Now `scipy` is causing problems, even with #30604:\n\n```\n  /usr/local/bin/gfortran -Wall -g -Wall -g -undefined dynamic_lookup -bundle -bundle -undefined dynamic_lookup -L/Users/palmieri/Sage/sage-9.2.beta13/local/lib -Wl,-rpath,/Users/palmieri/Sage/sage-9.2.beta13/local/lib build/temp.macosx-11.0-x86_64-3.8/scipy/integrate/_quadpackmodule.o -L/usr/local/Cellar/openblas/0.3.10_1/lib -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0 -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0/../../.. -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0/../../.. -L/Users/palmieri/Sage/sage-9.2.beta13/local/lib -Lbuild/temp.macosx-11.0-x86_64-3.8 -lquadpack -lmach -lopenblas -lopenblas -lgfortran -o build/lib.macosx-11.0-x86_64-3.8/scipy/integrate/_quadpack.cpython-38-darwin.so\n  gfortran: warning: couldn't understand version 11.0\n  ld: library not found for -lgcc_s.10.4\n  collect2: error: ld returned 1 exit status\n  Running from SciPy source directory.\n  /Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/site-packages/numpy/distutils/system_info.py:838: UserWarning: Specified path /usr/local/include/python3.8 is invalid.\n    return self.get_paths(self.section, key)\n  error: Command \"/usr/local/bin/gfortran -Wall -g -Wall -g -undefined dynamic_lookup -bundle -bundle -undefined dynamic_lookup -L/Users/palmieri/Sage/sage-9.2.beta13/local/lib -Wl,-rpath,/Users/palmieri/Sage/sage-9.2.beta13/local/lib build/temp.macosx-11.0-x86_64-3.8/scipy/integrate/_quadpackmodule.o -L/usr/local/Cellar/openblas/0.3.10_1/lib -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0 -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0/../../.. -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0/../../.. -L/Users/palmieri/Sage/sage-9.2.beta13/local/lib -Lbuild/temp.macosx-11.0-x86_64-3.8 -lquadpack -lmach -lopenblas -lopenblas -lgfortran -o build/lib.macosx-11.0-x86_64-3.8/scipy/integrate/_quadpack.cpython-38-darwin.so\" failed with exit status 1\n  Building wheel for scipy (PEP 517): finished with status 'error'\n  ERROR: Failed building wheel for scipy\n```",
    "created_at": "2020-09-24T00:16:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489060",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:91" align="right">Comment 91</div>

It's installed. 

By installing Sage's `sqlite` and `readline` (and by unsetting `MACOSX_DEPLOYMENT_TARGET` — don't know if this was necessary), I've gotten `python3` to build. Now `scipy` is causing problems, even with #30604:

```
  /usr/local/bin/gfortran -Wall -g -Wall -g -undefined dynamic_lookup -bundle -bundle -undefined dynamic_lookup -L/Users/palmieri/Sage/sage-9.2.beta13/local/lib -Wl,-rpath,/Users/palmieri/Sage/sage-9.2.beta13/local/lib build/temp.macosx-11.0-x86_64-3.8/scipy/integrate/_quadpackmodule.o -L/usr/local/Cellar/openblas/0.3.10_1/lib -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0 -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0/../../.. -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0/../../.. -L/Users/palmieri/Sage/sage-9.2.beta13/local/lib -Lbuild/temp.macosx-11.0-x86_64-3.8 -lquadpack -lmach -lopenblas -lopenblas -lgfortran -o build/lib.macosx-11.0-x86_64-3.8/scipy/integrate/_quadpack.cpython-38-darwin.so
  gfortran: warning: couldn't understand version 11.0
  ld: library not found for -lgcc_s.10.4
  collect2: error: ld returned 1 exit status
  Running from SciPy source directory.
  /Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/site-packages/numpy/distutils/system_info.py:838: UserWarning: Specified path /usr/local/include/python3.8 is invalid.
    return self.get_paths(self.section, key)
  error: Command "/usr/local/bin/gfortran -Wall -g -Wall -g -undefined dynamic_lookup -bundle -bundle -undefined dynamic_lookup -L/Users/palmieri/Sage/sage-9.2.beta13/local/lib -Wl,-rpath,/Users/palmieri/Sage/sage-9.2.beta13/local/lib build/temp.macosx-11.0-x86_64-3.8/scipy/integrate/_quadpackmodule.o -L/usr/local/Cellar/openblas/0.3.10_1/lib -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0 -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0/../../.. -L/usr/local/Cellar/gcc/10.2.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10.2.0/../../.. -L/Users/palmieri/Sage/sage-9.2.beta13/local/lib -Lbuild/temp.macosx-11.0-x86_64-3.8 -lquadpack -lmach -lopenblas -lopenblas -lgfortran -o build/lib.macosx-11.0-x86_64-3.8/scipy/integrate/_quadpack.cpython-38-darwin.so" failed with exit status 1
  Building wheel for scipy (PEP 517): finished with status 'error'
  ERROR: Failed building wheel for scipy
```



---

archive/issue_comments_489061.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">Comment 92</div>\n\nTry with gfortran from the spkg. My guess is that the homebrew package for gfortran is not ready yet for macOS 11",
    "created_at": "2020-09-24T00:26:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489061",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:92" align="right">Comment 92</div>

Try with gfortran from the spkg. My guess is that the homebrew package for gfortran is not ready yet for macOS 11



---

archive/issue_comments_489062.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">Comment 93</div>\n\nI did that, and now `numpy` won't build:\n\n```\nbuild_src\nbuilding py_modules sources\ncreating build\ncreating build/src.macosx-11.0-x86_64-3.8\ncreating build/src.macosx-11.0-x86_64-3.8/numpy\ncreating build/src.macosx-11.0-x86_64-3.8/numpy/distutils\nbuilding library \"npymath\" sources\ngfortran: warning: couldn't understand version 11.0\n\ngfortran: warning: couldn't understand version 11.0\n\ngfortran: warning: couldn't understand version 11.0\n\ngfortran: warning: couldn't understand version 11.0\n\nRunning from numpy source directory.\n/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py:274: UserWarning: Unknown distribution option: 'define_macros'\n  warnings.warn(msg)\nTraceback (most recent call last):\n  File \"setup.py\", line 499, in <module>\n    setup_package()\n  File \"setup.py\", line 491, in setup_package\n    setup(**metadata)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/core.py\", line 169, in setup\n    return old_setup(**new_attr)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/site-packages/setuptools/__init__.py\", line 163, in setup\n    return distutils.core.setup(**attrs)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/core.py\", line 148, in setup\n    dist.run_commands()\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py\", line 966, in run_commands\n    self.run_command(cmd)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py\", line 985, in run_command\n    cmd_obj.run()\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/install.py\", line 60, in run\n    r = self.setuptools_run()\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/install.py\", line 34, in setuptools_run\n    return distutils_install.run(self)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/command/install.py\", line 545, in run\n    self.run_command('build')\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/cmd.py\", line 313, in run_command\n    self.distribution.run_command(command)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py\", line 985, in run_command\n    cmd_obj.run()\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build.py\", line 40, in run\n    old_build.run(self)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/command/build.py\", line 135, in run\n    self.run_command(cmd_name)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/cmd.py\", line 313, in run_command\n    self.distribution.run_command(command)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py\", line 985, in run_command\n    cmd_obj.run()\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build_src.py\", line 144, in run\n    self.build_sources()\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build_src.py\", line 155, in build_sources\n    self.build_library_sources(*libname_info)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build_src.py\", line 288, in build_library_sources\n    sources = self.generate_sources(sources, (lib_name, build_info))\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build_src.py\", line 378, in generate_sources\n    source = func(extension, build_dir)\n  File \"numpy/core/setup.py\", line 650, in get_mathlib_info\n    st = config_cmd.try_link('int main(void) { return 0;}')\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/command/config.py\", line 241, in try_link\n    self._check_compiler()\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/config.py\", line 79, in _check_compiler\n    self.fcompiler = new_fcompiler(compiler=self.fcompiler,\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/__init__.py\", line 880, in new_fcompiler\n    compiler = get_default_fcompiler(plat, requiref90=requiref90,\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/__init__.py\", line 851, in get_default_fcompiler\n    compiler_type =  _find_existing_fcompiler(matching_compiler_types,\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/__init__.py\", line 803, in _find_existing_fcompiler\n    v = c.get_version()\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/__init__.py\", line 426, in get_version\n    version = CCompiler.get_version(self, force=force, ok_status=ok_status)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/ccompiler.py\", line 90, in <lambda>\n    m = lambda self, *args, **kw: func(self, *args, **kw)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/ccompiler.py\", line 657, in CCompiler_get_version\n    version = matcher(output)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/gnu.py\", line 278, in version_match\n    v = self.gnu_version_match(version_string)\n  File \"/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/gnu.py\", line 80, in gnu_version_match\n    raise ValueError(err + version_string)\nValueError: A valid Fortran version was not found in this string:\n\n9.2.0\n```",
    "created_at": "2020-09-24T03:28:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489062",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:93" align="right">Comment 93</div>

I did that, and now `numpy` won't build:

```
build_src
building py_modules sources
creating build
creating build/src.macosx-11.0-x86_64-3.8
creating build/src.macosx-11.0-x86_64-3.8/numpy
creating build/src.macosx-11.0-x86_64-3.8/numpy/distutils
building library "npymath" sources
gfortran: warning: couldn't understand version 11.0

gfortran: warning: couldn't understand version 11.0

gfortran: warning: couldn't understand version 11.0

gfortran: warning: couldn't understand version 11.0

Running from numpy source directory.
/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py:274: UserWarning: Unknown distribution option: 'define_macros'
  warnings.warn(msg)
Traceback (most recent call last):
  File "setup.py", line 499, in <module>
    setup_package()
  File "setup.py", line 491, in setup_package
    setup(**metadata)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/core.py", line 169, in setup
    return old_setup(**new_attr)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/site-packages/setuptools/__init__.py", line 163, in setup
    return distutils.core.setup(**attrs)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/core.py", line 148, in setup
    dist.run_commands()
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py", line 966, in run_commands
    self.run_command(cmd)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py", line 985, in run_command
    cmd_obj.run()
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/install.py", line 60, in run
    r = self.setuptools_run()
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/install.py", line 34, in setuptools_run
    return distutils_install.run(self)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/command/install.py", line 545, in run
    self.run_command('build')
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/cmd.py", line 313, in run_command
    self.distribution.run_command(command)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py", line 985, in run_command
    cmd_obj.run()
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build.py", line 40, in run
    old_build.run(self)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/command/build.py", line 135, in run
    self.run_command(cmd_name)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/cmd.py", line 313, in run_command
    self.distribution.run_command(command)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/dist.py", line 985, in run_command
    cmd_obj.run()
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build_src.py", line 144, in run
    self.build_sources()
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build_src.py", line 155, in build_sources
    self.build_library_sources(*libname_info)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build_src.py", line 288, in build_library_sources
    sources = self.generate_sources(sources, (lib_name, build_info))
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/build_src.py", line 378, in generate_sources
    source = func(extension, build_dir)
  File "numpy/core/setup.py", line 650, in get_mathlib_info
    st = config_cmd.try_link('int main(void) { return 0;}')
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/lib/python3.8/distutils/command/config.py", line 241, in try_link
    self._check_compiler()
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/command/config.py", line 79, in _check_compiler
    self.fcompiler = new_fcompiler(compiler=self.fcompiler,
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/__init__.py", line 880, in new_fcompiler
    compiler = get_default_fcompiler(plat, requiref90=requiref90,
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/__init__.py", line 851, in get_default_fcompiler
    compiler_type =  _find_existing_fcompiler(matching_compiler_types,
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/__init__.py", line 803, in _find_existing_fcompiler
    v = c.get_version()
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/__init__.py", line 426, in get_version
    version = CCompiler.get_version(self, force=force, ok_status=ok_status)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/ccompiler.py", line 90, in <lambda>
    m = lambda self, *args, **kw: func(self, *args, **kw)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/ccompiler.py", line 657, in CCompiler_get_version
    version = matcher(output)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/gnu.py", line 278, in version_match
    v = self.gnu_version_match(version_string)
  File "/Users/palmieri/Sage/sage-9.2.beta13/local/var/tmp/sage/build/numpy-1.19.1/src/numpy/distutils/fcompiler/gnu.py", line 80, in gnu_version_match
    raise ValueError(err + version_string)
ValueError: A valid Fortran version was not found in this string:

9.2.0
```



---

archive/issue_comments_489063.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">Comment 94</div>\n\nlet us split this ticket into two, one for XCode 12 on macOS 10, and the other for macOS 11.",
    "created_at": "2020-09-24T09:10:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489063",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:94" align="right">Comment 94</div>

let us split this ticket into two, one for XCode 12 on macOS 10, and the other for macOS 11.



---

archive/issue_comments_489064.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">Comment 95</div>\n\nnow that the GMP-ECM related issue has been fixed, is there a way I can stop receiving updates from that ticket, which are quite frequent, and no really interesting for me?",
    "created_at": "2020-09-24T09:20:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489064",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:95" align="right">Comment 95</div>

now that the GMP-ECM related issue has been fixed, is there a way I can stop receiving updates from that ticket, which are quite frequent, and no really interesting for me?



---

archive/issue_comments_489065.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">Comment 96</div>\n\nReplying to [@zimmermann6](#comment%3A95):\n> now that the GMP-ECM related issue has been fixed,\n> is there a way I can stop receiving updates from\n> that ticket, which are quite frequent,\n> and not really interesting for me?\n\nSorry, our Trac server does not offer that option.\n\nThat could be solved by updating Trac or adding\nsome Trac plugin or moving to a different issue\ntracker, such as the GitLab one. None of these\nseems likely to happen very soon.\n\nSo far all you can do is filter emails on your\nside to send such updates to the trash.\n\nSorry about that.",
    "created_at": "2020-09-24T09:44:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489065",
    "user": "https://github.com/slel"
}
```

<div id="comment:96" align="right">Comment 96</div>

Replying to [@zimmermann6](#comment%3A95):
> now that the GMP-ECM related issue has been fixed,
> is there a way I can stop receiving updates from
> that ticket, which are quite frequent,
> and not really interesting for me?

Sorry, our Trac server does not offer that option.

That could be solved by updating Trac or adding
some Trac plugin or moving to a different issue
tracker, such as the GitLab one. None of these
seems likely to happen very soon.

So far all you can do is filter emails on your
side to send such updates to the trash.

Sorry about that.



---

archive/issue_comments_489066.json:
```json
{
    "body": "<div id=\"comment:97\" align=\"right\">Comment 97</div>\n\nReplying to [@dimpase](#comment%3A94):\n> let us split this ticket into two, one for Xcode 12 on macOS 10,\n> and the other for macOS 11.\n\nDone:\n\n- #30494 (present ticket): Xcode 12\n- #30651: macOS 11",
    "created_at": "2020-09-24T11:33:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489066",
    "user": "https://github.com/slel"
}
```

<div id="comment:97" align="right">Comment 97</div>

Replying to [@dimpase](#comment%3A94):
> let us split this ticket into two, one for Xcode 12 on macOS 10,
> and the other for macOS 11.

Done:

- #30494 (present ticket): Xcode 12
- #30651: macOS 11



---

archive/issue_events_402125.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-09-24T11:33:26Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "title_is": "Meta-ticket: Support Xcode 12",
    "title_was": "Meta-ticket: Support Xcode 12, macOS 11 Big Sur",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402125"
}
```



---

archive/issue_comments_489067.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,6 +6,7 @@\n - https://github.com/mkoeppe/sage/runs/1059961873\n \n Failing packages (blockers):\n+\n - gf2x #30593\n - ecm #30600\n - symmetrica #30608 or #29061\n@@ -13,6 +14,7 @@\n - scipy #30604\n \n Failing packages with replacements available via homebrew:\n+\n - openblas #30610\n - readline #30603\n - gmp #30625\n@@ -21,10 +23,17 @@\n - r #30631\n \n Failing optional packages:\n+\n - rubiks (see also #28022)\n \n \n-Tickets: \n+Tickets:\n+\n - #30487 - GH Actions: Test also with Xcode 12 beta\n - #27754 - Upgrade: Python 3.8.5\n - #28022 - Downgrade `rubiks` to optional\n+\n+Follow-up:\n+\n+- #30651 - Meta-ticket: support macOS 11\n+\n``````\n",
    "created_at": "2020-09-24T11:33:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489067",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,6 +6,7 @@
 - https://github.com/mkoeppe/sage/runs/1059961873
 
 Failing packages (blockers):
+
 - gf2x #30593
 - ecm #30600
 - symmetrica #30608 or #29061
@@ -13,6 +14,7 @@
 - scipy #30604
 
 Failing packages with replacements available via homebrew:
+
 - openblas #30610
 - readline #30603
 - gmp #30625
@@ -21,10 +23,17 @@
 - r #30631
 
 Failing optional packages:
+
 - rubiks (see also #28022)
 
 
-Tickets: 
+Tickets:
+
 - #30487 - GH Actions: Test also with Xcode 12 beta
 - #27754 - Upgrade: Python 3.8.5
 - #28022 - Downgrade `rubiks` to optional
+
+Follow-up:
+
+- #30651 - Meta-ticket: support macOS 11
+
``````




---

archive/issue_comments_489068.json:
```json
{
    "body": "Changed keywords from none to **macOS, Xcode**",
    "created_at": "2020-09-24T11:33:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489068",
    "user": "https://github.com/slel"
}
```

Changed keywords from none to **macOS, Xcode**



---

archive/issue_comments_489069.json:
```json
{
    "body": "<div id=\"comment:98\" align=\"right\">Comment 98</div>\n\n`gap_packages` need https://github.com/sagemath/sagetrac-mirror/commit/3435c24a53490f484ff28267b61498282c8afbbb from #29314\n\n---\n\nwhile I am at it, I keep getting one doctest failure on Singular:\n\n```\nsrc/sage/interfaces/singular.py\n...\nsage: a = singular(1) ## line 503 ##\nsage: _ = singular._expect.sendline('1+')  # unfinished input ## line 504 ##\nsage: try:\n    alarm(0.5)\n    singular._expect_expr('>')  # interrupt this\nexcept KeyboardInterrupt:\n    pass ## line 505 ##\nControl-C pressed. Interrupting Singular. Please wait a few seconds...\nsage: 2*a ## line 514 ##\n------------------------------------------------------------------------\n0   signals.cpython-38-darwin.so        0x0000000104bd6622 print_backtrace + 66\n1   signals.cpython-38-darwin.so        0x0000000104bda267 sigdie + 39\n2   signals.cpython-38-darwin.so        0x0000000104bda213 sigdie_for_sig + 307\n...\n```\n\nlooks like singals/pexpect trouble",
    "created_at": "2020-09-24T13:56:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489069",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:98" align="right">Comment 98</div>

`gap_packages` need https://github.com/sagemath/sagetrac-mirror/commit/3435c24a53490f484ff28267b61498282c8afbbb from #29314

---

while I am at it, I keep getting one doctest failure on Singular:

```
src/sage/interfaces/singular.py
...
sage: a = singular(1) ## line 503 ##
sage: _ = singular._expect.sendline('1+')  # unfinished input ## line 504 ##
sage: try:
    alarm(0.5)
    singular._expect_expr('>')  # interrupt this
except KeyboardInterrupt:
    pass ## line 505 ##
Control-C pressed. Interrupting Singular. Please wait a few seconds...
sage: 2*a ## line 514 ##
------------------------------------------------------------------------
0   signals.cpython-38-darwin.so        0x0000000104bd6622 print_backtrace + 66
1   signals.cpython-38-darwin.so        0x0000000104bda267 sigdie + 39
2   signals.cpython-38-darwin.so        0x0000000104bda213 sigdie_for_sig + 307
...
```

looks like singals/pexpect trouble



---

archive/issue_comments_489070.json:
```json
{
    "body": "<div id=\"comment:99\" align=\"right\">Comment 99</div>\n\nI'm getting that singular error randomly also on linux",
    "created_at": "2020-09-30T22:38:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489070",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:99" align="right">Comment 99</div>

I'm getting that singular error randomly also on linux



---

archive/issue_comments_489071.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">Comment 0</div>\n\nIn `homebrew-macos-minimal-12` (https://github.com/mkoeppe/sage/runs/1201629992), which builds python3 from SPKG, several doctests fail because of annoying messages \n\n```\n    ld: warning: dylib (/usr/local/lib/libmpfr.dylib) was built for newer macOS version (10.15) than being linked (10.9)\n```\nI have opened #30711 for this",
    "created_at": "2020-10-03T20:20:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489071",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:0" align="right">Comment 0</div>

In `homebrew-macos-minimal-12` (https://github.com/mkoeppe/sage/runs/1201629992), which builds python3 from SPKG, several doctests fail because of annoying messages 

```
    ld: warning: dylib (/usr/local/lib/libmpfr.dylib) was built for newer macOS version (10.15) than being linked (10.9)
```
I have opened #30711 for this



---

archive/issue_comments_489072.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -25,7 +25,7 @@\n Failing optional packages:\n \n - rubiks (see also #28022)\n-\n+- gap_packages (#30720)\n \n Tickets:\n \n``````\n",
    "created_at": "2020-10-04T23:06:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489072",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -25,7 +25,7 @@
 Failing optional packages:
 
 - rubiks (see also #28022)
-
+- gap_packages (#30720)
 
 Tickets:
 
``````




---

archive/issue_comments_489073.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -25,7 +25,7 @@\n Failing optional packages:\n \n - rubiks (see also #28022)\n-- gap_packages (#30720)\n+- gap_packages (#30729)\n \n Tickets:\n \n``````\n",
    "created_at": "2020-10-05T19:10:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489073",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -25,7 +25,7 @@
 Failing optional packages:
 
 - rubiks (see also #28022)
-- gap_packages (#30720)
+- gap_packages (#30729)
 
 Tickets:
 
``````




---

archive/issue_comments_489074.json:
```json
{
    "body": "Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/264540655** to none",
    "created_at": "2020-10-06T18:24:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489074",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/264540655** to none



---

archive/issue_comments_489075.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -26,6 +26,11 @@\n \n - rubiks (see also #28022)\n - gap_packages (#30729)\n+- fricas, e_antic, boost, deformation, polylib, csdp, atlas, termcap [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)\n+\n+Failing experimental packages:\n+\n+- gap3, cocoalib, gdb, awali, libtheora, lrslib, surf, valgrind, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)\n \n Tickets:\n \n``````\n",
    "created_at": "2020-10-06T18:55:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489075",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -26,6 +26,11 @@
 
 - rubiks (see also #28022)
 - gap_packages (#30729)
+- fricas, e_antic, boost, deformation, polylib, csdp, atlas, termcap [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)
+
+Failing experimental packages:
+
+- gap3, cocoalib, gdb, awali, libtheora, lrslib, surf, valgrind, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)
 
 Tickets:
 
``````




---

archive/issue_events_402126.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402126"
}
```



---

archive/issue_events_402127.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402127"
}
```



---

archive/issue_comments_489076.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nCan this be closed? I can build with Xcode 12, although it's with the support of various homebrew packages. Are minimal homebrew installations workable, or installations without homebrew at all?\n\n(I may be able to test these, but maybe we already know the answers.)",
    "created_at": "2020-11-22T20:51:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489076",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:6" align="right">Comment 6</div>

Can this be closed? I can build with Xcode 12, although it's with the support of various homebrew packages. Are minimal homebrew installations workable, or installations without homebrew at all?

(I may be able to test these, but maybe we already know the answers.)



---

archive/issue_comments_489077.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nIt's certainly not a blocker any more, but perhaps useful to keep open to keep track of issues in optional/experimental packages",
    "created_at": "2020-11-22T20:53:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489077",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">Comment 7</div>

It's certainly not a blocker any more, but perhaps useful to keep open to keep track of issues in optional/experimental packages



---

archive/issue_events_402128.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-22T20:53:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402128"
}
```



---

archive/issue_events_402129.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-22T20:53:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402129"
}
```



---

archive/issue_comments_489078.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nCan this be closed, or do we still want to keep it open for optional/experimental packages?",
    "created_at": "2021-01-12T03:02:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489078",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:8" align="right">Comment 8</div>

Can this be closed, or do we still want to keep it open for optional/experimental packages?



---

archive/issue_comments_489079.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nI've added #31227 (Accept /usr/bin/python3 from XCode 12.3 on macOS 10.15 (Catalina))",
    "created_at": "2021-01-13T18:23:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489079",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">Comment 9</div>

I've added #31227 (Accept /usr/bin/python3 from XCode 12.3 on macOS 10.15 (Catalina))



---

archive/issue_comments_489080.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -37,6 +37,7 @@\n - #30487 - GH Actions: Test also with Xcode 12 beta\n - #27754 - Upgrade: Python 3.8.5\n - #28022 - Downgrade `rubiks` to optional\n+- #31227 - Accept `/usr/bin/python3` from XCode 12.3 on macOS 10.15 (Catalina)\n \n Follow-up:\n \n``````\n",
    "created_at": "2021-01-13T18:23:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489080",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -37,6 +37,7 @@
 - #30487 - GH Actions: Test also with Xcode 12 beta
 - #27754 - Upgrade: Python 3.8.5
 - #28022 - Downgrade `rubiks` to optional
+- #31227 - Accept `/usr/bin/python3` from XCode 12.3 on macOS 10.15 (Catalina)
 
 Follow-up:
 
``````




---

archive/issue_comments_489081.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -38,6 +38,7 @@\n - #27754 - Upgrade: Python 3.8.5\n - #28022 - Downgrade `rubiks` to optional\n - #31227 - Accept `/usr/bin/python3` from XCode 12.3 on macOS 10.15 (Catalina)\n+- #31314 - Failing sage_setup doctests when PYTHONPYCACHEPREFIX is set\n \n Follow-up:\n \n``````\n",
    "created_at": "2021-02-02T19:22:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489081",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -38,6 +38,7 @@
 - #27754 - Upgrade: Python 3.8.5
 - #28022 - Downgrade `rubiks` to optional
 - #31227 - Accept `/usr/bin/python3` from XCode 12.3 on macOS 10.15 (Catalina)
+- #31314 - Failing sage_setup doctests when PYTHONPYCACHEPREFIX is set
 
 Follow-up:
 
``````




---

archive/issue_comments_489082.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nI think we can close it now",
    "created_at": "2021-04-07T19:31:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489082",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:1" align="right">Comment 1</div>

I think we can close it now



---

archive/issue_events_402130.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-07T19:31:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402130"
}
```



---

archive/issue_events_402131.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-07T19:31:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402131"
}
```



---

archive/issue_events_402132.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-07T19:31:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402132"
}
```



---

archive/issue_events_402133.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-07T19:31:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402133"
}
```



---

archive/issue_comments_489083.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nit remains #31314 ?",
    "created_at": "2021-04-07T19:58:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489083",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:2" align="right">Comment 2</div>

it remains #31314 ?



---

archive/issue_comments_489084.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nThat one is not really specific to Xcode 12, and we don't need a meta-ticket to keep track of a single open ticket",
    "created_at": "2021-06-07T00:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489084",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">Comment 3</div>

That one is not really specific to Xcode 12, and we don't need a meta-ticket to keep track of a single open ticket



---

archive/issue_comments_489085.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nthen why is it in the description of this ticket? One could remove it from the description?",
    "created_at": "2021-06-07T06:23:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489085",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:4" align="right">Comment 4</div>

then why is it in the description of this ticket? One could remove it from the description?



---

archive/issue_comments_489086.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nI've removed the ticket from the description. \nLet's close this meta-ticket",
    "created_at": "2022-04-24T19:26:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489086",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">Comment 5</div>

I've removed the ticket from the description. 
Let's close this meta-ticket



---

archive/issue_comments_489087.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -38,7 +38,6 @@\n - #27754 - Upgrade: Python 3.8.5\n - #28022 - Downgrade `rubiks` to optional\n - #31227 - Accept `/usr/bin/python3` from XCode 12.3 on macOS 10.15 (Catalina)\n-- #31314 - Failing sage_setup doctests when PYTHONPYCACHEPREFIX is set\n \n Follow-up:\n \n``````\n",
    "created_at": "2022-04-24T19:26:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489087",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -38,7 +38,6 @@
 - #27754 - Upgrade: Python 3.8.5
 - #28022 - Downgrade `rubiks` to optional
 - #31227 - Accept `/usr/bin/python3` from XCode 12.3 on macOS 10.15 (Catalina)
-- #31314 - Failing sage_setup doctests when PYTHONPYCACHEPREFIX is set
 
 Follow-up:
 
``````




---

archive/issue_comments_489088.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nWhat about the optional packages? Do they still fail?",
    "created_at": "2022-04-25T05:00:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489088",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:6" align="right">Comment 6</div>

What about the optional packages? Do they still fail?



---

archive/issue_events_402134.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-25T05:13:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402134"
}
```



---

archive/issue_comments_489089.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nGood point, I again forgot about these. And it turns out they are not being tested - I've opened #33755 for this",
    "created_at": "2022-04-25T05:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489089",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">Comment 7</div>

Good point, I again forgot about these. And it turns out they are not being tested - I've opened #33755 for this



---

archive/issue_events_402135.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-25T05:13:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402135"
}
```



---

archive/issue_events_402136.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-25T05:13:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402136"
}
```



---

archive/issue_comments_489090.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nFor what it's worth, I tried building `rubiks` and it seemed to hang. I'm trying again with a fresh Sage install, and also trying a few other packages at the same time.",
    "created_at": "2022-04-25T05:25:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489090",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:8" align="right">Comment 8</div>

For what it's worth, I tried building `rubiks` and it seemed to hang. I'm trying again with a fresh Sage install, and also trying a few other packages at the same time.



---

archive/issue_comments_489091.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -26,7 +26,7 @@\n \n - rubiks (see also #28022)\n - gap_packages (#30729)\n-- fricas, e_antic, boost, deformation, polylib, csdp, atlas, termcap [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)\n+- fricas, e_antic, boost, polylib, csdp, atlas, termcap [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)\n \n Failing experimental packages:\n \n``````\n",
    "created_at": "2022-04-25T17:27:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489091",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -26,7 +26,7 @@
 
 - rubiks (see also #28022)
 - gap_packages (#30729)
-- fricas, e_antic, boost, deformation, polylib, csdp, atlas, termcap [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)
+- fricas, e_antic, boost, polylib, csdp, atlas, termcap [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)
 
 Failing experimental packages:
 
``````




---

archive/issue_comments_489092.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">Comment 0</div>\n\n`deformation` succeeded for me, so I removed it from the ticket description. `polylib` fails on two different machines with the old familiar message `error: implicit declaration of function`. The `rubiks` build hangs on two different machines shortly after starting:\n\n```\nBuilding Rubiks cube solvers\nInstalling rubiks-20070912.p21\nfor dir in dietz/cu2 dietz/mcube dietz/solver dik reid; do \\\n\t\t(cd ${dir} && make all)\\\n\tdone\ng++ -std=gnu++11 -g -O2  -c cu2.cpp\ng++ -std=gnu++11 -g -O2  -c main.cpp\ng++ -std=gnu++11 -g -O2   -o cu2  cu2.o main.o  -L/Users/jpalmier/Desktop/Sage/sage_builds/TESTING/sage-9.6.rc1/local/lib -Wl,-rpath,/Users/jpalmier/Desktop/Sage/sage_builds/TESTING/sage-9.6.rc1/local/lib \ng++ -std=gnu++11 -g -O2  -c mcube.cpp\ng++ -std=gnu++11 -g -O2  -c main.cpp\nmcube.cpp:1966:38: warning: if statement has empty body [-Wempty-body]\n        else if (fy == 3 && fz == 3) ;\n                                     ^\nmcube.cpp:1966:38: note: put the semicolon on a separate line to silence this warning\nmcube.cpp:1977:38: warning: if statement has empty body [-Wempty-body]\n        else if (fx == 3 && fy == 3) ;\n                                     ^\nmcube.cpp:1977:38: note: put the semicolon on a separate line to silence this warning\n```",
    "created_at": "2022-04-25T17:29:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489092",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:0" align="right">Comment 0</div>

`deformation` succeeded for me, so I removed it from the ticket description. `polylib` fails on two different machines with the old familiar message `error: implicit declaration of function`. The `rubiks` build hangs on two different machines shortly after starting:

```
Building Rubiks cube solvers
Installing rubiks-20070912.p21
for dir in dietz/cu2 dietz/mcube dietz/solver dik reid; do \
		(cd ${dir} && make all)\
	done
g++ -std=gnu++11 -g -O2  -c cu2.cpp
g++ -std=gnu++11 -g -O2  -c main.cpp
g++ -std=gnu++11 -g -O2   -o cu2  cu2.o main.o  -L/Users/jpalmier/Desktop/Sage/sage_builds/TESTING/sage-9.6.rc1/local/lib -Wl,-rpath,/Users/jpalmier/Desktop/Sage/sage_builds/TESTING/sage-9.6.rc1/local/lib 
g++ -std=gnu++11 -g -O2  -c mcube.cpp
g++ -std=gnu++11 -g -O2  -c main.cpp
mcube.cpp:1966:38: warning: if statement has empty body [-Wempty-body]
        else if (fy == 3 && fz == 3) ;
                                     ^
mcube.cpp:1966:38: note: put the semicolon on a separate line to silence this warning
mcube.cpp:1977:38: warning: if statement has empty body [-Wempty-body]
        else if (fx == 3 && fy == 3) ;
                                     ^
mcube.cpp:1977:38: note: put the semicolon on a separate line to silence this warning
```



---

archive/issue_comments_489093.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -26,7 +26,8 @@\n \n - rubiks (see also #28022)\n - gap_packages (#30729)\n-- fricas, e_antic, boost, polylib, csdp, atlas, termcap [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)\n+- polylib (#33758)\n+- fricas, e_antic, boost, csdp [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)\n \n Failing experimental packages:\n \n``````\n",
    "created_at": "2022-04-25T17:56:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489093",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -26,7 +26,8 @@
 
 - rubiks (see also #28022)
 - gap_packages (#30729)
-- fricas, e_antic, boost, polylib, csdp, atlas, termcap [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)
+- polylib (#33758)
+- fricas, e_antic, boost, csdp [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)
 
 Failing experimental packages:
 
``````




---

archive/issue_comments_489094.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\n`boost` is no longer a package, and `fricas`, `e_antic`, and `csdp` all work for me.",
    "created_at": "2022-04-25T17:58:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489094",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:2" align="right">Comment 2</div>

`boost` is no longer a package, and `fricas`, `e_antic`, and `csdp` all work for me.



---

archive/issue_comments_489095.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nThe experimental packages don't matter much (since they're experimental), but `lrslib` works for me. The others don't. `scipoptsuite` is broken because the tarball can't be found.",
    "created_at": "2022-04-25T18:04:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489095",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:3" align="right">Comment 3</div>

The experimental packages don't matter much (since they're experimental), but `lrslib` works for me. The others don't. `scipoptsuite` is broken because the tarball can't be found.



---

archive/issue_comments_489096.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nI see the hanging build for `rubiks` now too. This must be a very recent regression. I built it quite recently (before upgrading to macOS Monterey)",
    "created_at": "2022-04-25T18:48:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489096",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">Comment 4</div>

I see the hanging build for `rubiks` now too. This must be a very recent regression. I built it quite recently (before upgrading to macOS Monterey)



---

archive/issue_comments_489097.json:
```json
{
    "body": "<div id=\"comment:125\" align=\"right\">Comment 125</div>\n\nReplying to [@jhpalmieri](#comment%3A123):\n> `scipoptsuite` is broken because the tarball can't be found.\n\nMaybe this is intentional, given `SPKG.rst`: \n\n```\nWe do not have permission to redistribute SCIP or SoPlex. Hence, you\nmust download it yourself from http://scip.zib.de and put the tarball\n``scipoptsuite-VERSION.tgz`` in ``$SAGE_ROOT/upstream``, renaming\nit to ``scipoptsuite-VERSION-do-not-distribute.tgz``.\n```\nIf anyone cares about this package, they should create a better error message: maybe create `spkg-preinst.in` that tests for the presence of the tarball in `upstream` and exit with an appropriate message if it's not there. I don't know if that would actually work, or if the tarball is attempted to be downloaded before anything else happens. Anyway, I don't care about this package, so I am not likely to work on it.",
    "created_at": "2022-04-25T20:05:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489097",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:125" align="right">Comment 125</div>

Replying to [@jhpalmieri](#comment%3A123):
> `scipoptsuite` is broken because the tarball can't be found.

Maybe this is intentional, given `SPKG.rst`: 

```
We do not have permission to redistribute SCIP or SoPlex. Hence, you
must download it yourself from http://scip.zib.de and put the tarball
``scipoptsuite-VERSION.tgz`` in ``$SAGE_ROOT/upstream``, renaming
it to ``scipoptsuite-VERSION-do-not-distribute.tgz``.
```
If anyone cares about this package, they should create a better error message: maybe create `spkg-preinst.in` that tests for the presence of the tarball in `upstream` and exit with an appropriate message if it's not there. I don't know if that would actually work, or if the tarball is attempted to be downloaded before anything else happens. Anyway, I don't care about this package, so I am not likely to work on it.



---

archive/issue_comments_489098.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nYes, it is intentional that there is no upstream_url and no tarball on our mirror.",
    "created_at": "2022-04-25T20:06:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489098",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">Comment 6</div>

Yes, it is intentional that there is no upstream_url and no tarball on our mirror.



---

archive/issue_comments_489099.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nThere appears to be an effort to provide a version of scipoptsuite under a free software license. I'll wait for that before putting more effort into packaging it",
    "created_at": "2022-04-25T20:09:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489099",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">Comment 7</div>

There appears to be an effort to provide a version of scipoptsuite under a free software license. I'll wait for that before putting more effort into packaging it



---

archive/issue_comments_489100.json:
```json
{
    "body": "<div id=\"comment:128\" align=\"right\">Comment 128</div>\n\nReplying to [@jhpalmieri](#comment%3A122):\n> `boost` is no longer a package, and `fricas`, `e_antic`, and `csdp` all work for me.\n\nOK, I've removed them (and lrslib) from the ticket description",
    "created_at": "2022-04-25T20:18:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489100",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:128" align="right">Comment 128</div>

Replying to [@jhpalmieri](#comment%3A122):
> `boost` is no longer a package, and `fricas`, `e_antic`, and `csdp` all work for me.

OK, I've removed them (and lrslib) from the ticket description



---

archive/issue_comments_489101.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -27,11 +27,10 @@\n - rubiks (see also #28022)\n - gap_packages (#30729)\n - polylib (#33758)\n-- fricas, e_antic, boost, csdp [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)\n \n Failing experimental packages:\n \n-- gap3, cocoalib, gdb, awali, libtheora, lrslib, surf, valgrind, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)\n+- gap3, cocoalib, gdb, awali, libtheora, surf, valgrind, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)\n \n Tickets:\n \n``````\n",
    "created_at": "2022-04-25T20:18:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489101",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -27,11 +27,10 @@
 - rubiks (see also #28022)
 - gap_packages (#30729)
 - polylib (#33758)
-- fricas, e_antic, boost, csdp [https://github.com/mkoeppe/sage/actions/runs/289319582](https://github.com/mkoeppe/sage/actions/runs/289319582)
 
 Failing experimental packages:
 
-- gap3, cocoalib, gdb, awali, libtheora, lrslib, surf, valgrind, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)
+- gap3, cocoalib, gdb, awali, libtheora, surf, valgrind, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)
 
 Tickets:
 
``````




---

archive/issue_comments_489102.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -30,7 +30,8 @@\n \n Failing experimental packages:\n \n-- gap3, cocoalib, gdb, awali, libtheora, surf, valgrind, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)\n+- gdb, valgrind (to be removed in #30158)\n+- gap3, cocoalib, awali, libtheora, surf, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)\n \n Tickets:\n \n``````\n",
    "created_at": "2022-04-25T20:19:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489102",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -30,7 +30,8 @@
 
 Failing experimental packages:
 
-- gap3, cocoalib, gdb, awali, libtheora, surf, valgrind, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)
+- gdb, valgrind (to be removed in #30158)
+- gap3, cocoalib, awali, libtheora, surf, scipoptsuite [https://github.com/mkoeppe/sage/actions/runs/289319580](https://github.com/mkoeppe/sage/actions/runs/289319580)
 
 Tickets:
 
``````




---

archive/issue_events_402137.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402137"
}
```



---

archive/issue_events_402138.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402138"
}
```



---

archive/issue_comments_489103.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nKeep this open for `polylib`? Or close it?",
    "created_at": "2022-11-16T01:05:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489103",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:1" align="right">Comment 1</div>

Keep this open for `polylib`? Or close it?



---

archive/issue_events_402139.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-24T22:11:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402139"
}
```



---

archive/issue_events_402140.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-24T22:11:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402140"
}
```



---

archive/issue_events_402141.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-24T22:11:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402141"
}
```



---

archive/issue_comments_489104.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nLet's close it.",
    "created_at": "2022-11-24T22:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489104",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">Comment 2</div>

Let's close it.



---

archive/issue_events_402142.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-11-25T00:21:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402142"
}
```



---

archive/issue_events_402143.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-11-25T00:21:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402143"
}
```



---

archive/issue_comments_489105.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2022-11-25T00:21:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30494#issuecomment-489105",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_402144.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-01T03:09:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402144"
}
```



---

archive/issue_events_402145.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-01T03:09:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30494",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30494#event-402145"
}
```
