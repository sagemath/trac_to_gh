# Issue 30998: Compute the treelength of graphs

archive/issues_030761.json:
```json
{
    "body": "We add a method to compute the treelength of a graph. This measure of tree-likeness express how the metric structure of a graph is close to a tree metric.\n\nSome implementation choices:\n- Check if the input graph is chordal (treelength 1)\n- Use decomposition by clique minimal separators as preprocessing, and so compute only the treelength of the atoms of the graph.\n- Use isomorphisms between atoms to avoid computing the treelength of isomorphic atoms.\n- Implement a specific class to compute the treelength of an atom (which is working for all graphs but without pre-processing)\n- The main algorithm is an adaptation of algorithm `'sage'` for treewidth.\n\nBranch/Commit: 26079ff80d81d7b42bd9a3dad9adc21882c22c79\n\nReviewer: Travis Scrimshaw\n\nAuthor: David Coudert\n\nDependencies: #30993\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30998\n\n",
    "closed_at": "2021-10-10T10:17:09Z",
    "created_at": "2020-12-03T19:20:19Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Compute the treelength of graphs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30998",
    "user": "https://github.com/dcoudert"
}
```
We add a method to compute the treelength of a graph. This measure of tree-likeness express how the metric structure of a graph is close to a tree metric.

Some implementation choices:
- Check if the input graph is chordal (treelength 1)
- Use decomposition by clique minimal separators as preprocessing, and so compute only the treelength of the atoms of the graph.
- Use isomorphisms between atoms to avoid computing the treelength of isomorphic atoms.
- Implement a specific class to compute the treelength of an atom (which is working for all graphs but without pre-processing)
- The main algorithm is an adaptation of algorithm `'sage'` for treewidth.

Branch/Commit: 26079ff80d81d7b42bd9a3dad9adc21882c22c79

Reviewer: Travis Scrimshaw

Author: David Coudert

Dependencies: #30993

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30998





---

archive/issue_comments_614933.json:
```json
{
    "body": "Changing branch from \"\" to \"public/graphs/30998_treelength\"",
    "created_at": "2020-12-03T19:21:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614933",
    "user": "https://github.com/dcoudert"
}
```

Changing branch from "" to "public/graphs/30998_treelength"



---

archive/issue_comments_614934.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2020-12-03T19:21:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614934",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_614935.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-12-03T19:21:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614935",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_614936.json:
```json
{
    "body": "Changing commit from \"\" to \"030ee8646075ff26814c6b825d5e4c36e52daa6a\"",
    "created_at": "2020-12-03T19:21:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614936",
    "user": "https://github.com/dcoudert"
}
```

Changing commit from "" to "030ee8646075ff26814c6b825d5e4c36e52daa6a"



---

archive/issue_comments_614937.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-12-03T21:19:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614937",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_614938.json:
```json
{
    "body": "Changing commit from \"030ee8646075ff26814c6b825d5e4c36e52daa6a\" to \"32bb9b247654231f6ffc9b4b678e25223279f833\"",
    "created_at": "2020-12-03T21:19:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614938",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "030ee8646075ff26814c6b825d5e4c36e52daa6a" to "32bb9b247654231f6ffc9b4b678e25223279f833"



---

archive/issue_comments_614939.json:
```json
{
    "body": "<a id='comment:3'></a>Let's see if the doctest coverage is better this way.",
    "created_at": "2020-12-03T21:20:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614939",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:3'></a>Let's see if the doctest coverage is better this way.



---

archive/issue_comments_614940.json:
```json
{
    "body": "Changing commit from \"32bb9b247654231f6ffc9b4b678e25223279f833\" to \"5fbe0c5014ee11161f1107d07f3a7c7b74daa6ff\"",
    "created_at": "2020-12-05T15:34:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614940",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "32bb9b247654231f6ffc9b4b678e25223279f833" to "5fbe0c5014ee11161f1107d07f3a7c7b74daa6ff"



---

archive/issue_comments_614941.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-12-05T15:34:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614941",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_614942.json:
```json
{
    "body": "<a id='comment:5'></a>I have simplified some parts of the code.",
    "created_at": "2020-12-05T15:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614942",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:5'></a>I have simplified some parts of the code.



---

archive/issue_comments_614943.json:
```json
{
    "body": "<a id='comment:6'></a>I will rebase this ticket on top of #30993 (and remove dependency on #30986 which has been merged in 9.3.beta3).",
    "created_at": "2020-12-07T16:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614943",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:6'></a>I will rebase this ticket on top of #30993 (and remove dependency on #30986 which has been merged in 9.3.beta3).



---

archive/issue_comments_614944.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-12-07T16:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614944",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_614945.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2020-12-07T17:52:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614945",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_614946.json:
```json
{
    "body": "Changing commit from \"5fbe0c5014ee11161f1107d07f3a7c7b74daa6ff\" to \"4fb2610585cc1ed5e28df6c4a57921a6ca7e2d5a\"",
    "created_at": "2020-12-07T17:52:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614946",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5fbe0c5014ee11161f1107d07f3a7c7b74daa6ff" to "4fb2610585cc1ed5e28df6c4a57921a6ca7e2d5a"



---

archive/issue_comments_614947.json:
```json
{
    "body": "Changing dependencies from \"#30986\" to \"#30993\"",
    "created_at": "2020-12-07T17:56:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614947",
    "user": "https://github.com/dcoudert"
}
```

Changing dependencies from "#30986" to "#30993"



---

archive/issue_comments_614948.json:
```json
{
    "body": "<a id='comment:8'></a>I have rebased this ticket over #30993 (instead of #30986). I hope I did it correctly...",
    "created_at": "2020-12-07T17:56:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614948",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:8'></a>I have rebased this ticket over #30993 (instead of #30986). I hope I did it correctly...



---

archive/issue_comments_614949.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-12-07T17:56:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614949",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_events_080945.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30998#event-80945"
}
```



---

archive/issue_comments_614950.json:
```json
{
    "body": "<a id='comment:9'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-15T22:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614950",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_080946.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30998#event-80946"
}
```



---

archive/issue_events_080947.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30998#event-80947"
}
```



---

archive/issue_comments_614951.json:
```json
{
    "body": "<a id='comment:10'></a>Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614951",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_comments_614952.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-18T15:51:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614952",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_614953.json:
```json
{
    "body": "Changing commit from \"4fb2610585cc1ed5e28df6c4a57921a6ca7e2d5a\" to \"d1ab94dc3fa123934478ba14a681ee8bf2658237\"",
    "created_at": "2021-09-18T15:51:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614953",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4fb2610585cc1ed5e28df6c4a57921a6ca7e2d5a" to "d1ab94dc3fa123934478ba14a681ee8bf2658237"



---

archive/issue_comments_614954.json:
```json
{
    "body": "<a id='comment:12'></a>Fix merge conflict with 9.5.beta1",
    "created_at": "2021-09-18T15:52:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614954",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:12'></a>Fix merge conflict with 9.5.beta1



---

archive/issue_comments_614955.json:
```json
{
    "body": "<a id='comment:13'></a>Some little comments:\n\nI know Matthias would like the `from sage.functions.other import ceil` import to be in the method that uses it to help him with the Sage modularization.\n\nThe text for `OUTPUT:` and `ALGORITHM:` should not be indented.\n\nIn `treelength()` and `_treelength()`, do you want to give some of your variables type information? For example, isn't `cc` a `set`?\n\nShouldn't `__destroy__` be `__dealloc__`?\n\n```diff\n-    TESTS::\n+    TESTS:\n \n     Check that the decomposition by clique separators is valid::\n```",
    "created_at": "2021-10-03T08:47:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614955",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>Some little comments:

I know Matthias would like the `from sage.functions.other import ceil` import to be in the method that uses it to help him with the Sage modularization.

The text for `OUTPUT:` and `ALGORITHM:` should not be indented.

In `treelength()` and `_treelength()`, do you want to give some of your variables type information? For example, isn't `cc` a `set`?

Shouldn't `__destroy__` be `__dealloc__`?

```diff
-    TESTS::
+    TESTS:
 
     Check that the decomposition by clique separators is valid::
```



---

archive/issue_comments_614956.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-03T10:54:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614956",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_614957.json:
```json
{
    "body": "Changing commit from \"d1ab94dc3fa123934478ba14a681ee8bf2658237\" to \"01d200b8f047ddc356dad7eb3172530f6fe1eee8\"",
    "created_at": "2021-10-03T10:54:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614957",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d1ab94dc3fa123934478ba14a681ee8bf2658237" to "01d200b8f047ddc356dad7eb3172530f6fe1eee8"



---

archive/issue_comments_614958.json:
```json
{
    "body": "<a id='comment:15'></a>I have implemented your comments, except for typing. I'm not sure how to add types information. It has not yet been done in the graph module.\n\nSurprisingly, the documentation of `tree_decomposition` was not built. I added it and made a few corrections.",
    "created_at": "2021-10-03T10:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614958",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:15'></a>I have implemented your comments, except for typing. I'm not sure how to add types information. It has not yet been done in the graph module.

Surprisingly, the documentation of `tree_decomposition` was not built. I added it and made a few corrections.



---

archive/issue_comments_614959.json:
```json
{
    "body": "<a id='comment:16'></a>Replying to [comment:15 dcoudert]:\n> I have implemented your comments, except for typing. I'm not sure how to add types information. It has not yet been done in the graph module.\n\n\nI meant for Cython, like `cdef list result`.\n\n> Surprisingly, the documentation of `tree_decomposition` was not built. I added it and made a few corrections.\n\n\nThat is quite surprising. Well, let's wait for the patchbot.",
    "created_at": "2021-10-03T11:31:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614959",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>Replying to [comment:15 dcoudert]:
> I have implemented your comments, except for typing. I'm not sure how to add types information. It has not yet been done in the graph module.


I meant for Cython, like `cdef list result`.

> Surprisingly, the documentation of `tree_decomposition` was not built. I added it and made a few corrections.


That is quite surprising. Well, let's wait for the patchbot.



---

archive/issue_comments_614960.json:
```json
{
    "body": "Changing commit from \"01d200b8f047ddc356dad7eb3172530f6fe1eee8\" to \"26079ff80d81d7b42bd9a3dad9adc21882c22c79\"",
    "created_at": "2021-10-03T12:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614960",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "01d200b8f047ddc356dad7eb3172530f6fe1eee8" to "26079ff80d81d7b42bd9a3dad9adc21882c22c79"



---

archive/issue_comments_614961.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-03T12:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614961",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_614962.json:
```json
{
    "body": "<a id='comment:18'></a>I added a few type informations.\n\nFor the documentation, I suspect that `tree_decomposition` has been inadvertently removed from `src/doc/en/reference/graphs/index.rst`.",
    "created_at": "2021-10-03T12:27:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614962",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:18'></a>I added a few type informations.

For the documentation, I suspect that `tree_decomposition` has been inadvertently removed from `src/doc/en/reference/graphs/index.rst`.



---

archive/issue_comments_614963.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2021-10-03T12:36:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614963",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_614964.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [comment:18 dcoudert]:\n> I added a few type informations.\n\n\nThanks. That should make it run a bit faster (although it probably is at the mirco-optimization level).\n\n> For the documentation, I suspect that `tree_decomposition` has been inadvertently removed from `src/doc/en/reference/graphs/index.rst`. \n\n\nQuite possibly. Anyways, if the patchbot comes back green, then positive review.",
    "created_at": "2021-10-03T12:36:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614964",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:19'></a>Replying to [comment:18 dcoudert]:
> I added a few type informations.


Thanks. That should make it run a bit faster (although it probably is at the mirco-optimization level).

> For the documentation, I suspect that `tree_decomposition` has been inadvertently removed from `src/doc/en/reference/graphs/index.rst`. 


Quite possibly. Anyways, if the patchbot comes back green, then positive review.



---

archive/issue_comments_614965.json:
```json
{
    "body": "<a id='comment:20'></a>A patchbot reports a reduction of the doctest coverage. I don't understand why. All methods (except methods defined inside another method) have either an `EXAMPLES` block or a `TESTS` block or both. Actually, 3 methods have only `TESTS` blocks and the patchbot says that the coverage is 11/14. Should I change these blocks to `EXAMPLES` (or add something) ?",
    "created_at": "2021-10-03T15:32:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614965",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:20'></a>A patchbot reports a reduction of the doctest coverage. I don't understand why. All methods (except methods defined inside another method) have either an `EXAMPLES` block or a `TESTS` block or both. Actually, 3 methods have only `TESTS` blocks and the patchbot says that the coverage is 11/14. Should I change these blocks to `EXAMPLES` (or add something) ?



---

archive/issue_comments_614966.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-03T23:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614966",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_614967.json:
```json
{
    "body": "<a id='comment:21'></a>It is picking up the internal functions:\n\n```\ntravis@apricot:~/sage-build$ ./sage --coverage src/sage/graphs/graph_decompositions/tree_decomposition.pyx \n------------------------------------------------------------------------\nSCORE src/sage/graphs/graph_decompositions/tree_decomposition.pyx: 78.6% (11 of 14)\n\nMissing documentation:\n     * line 1077: def rec(cut, cc)\n     * line 1172: def good_label(x)\n     * line 1175: def good_label(x)\n```\nso it's fine. My guess is this is a bug in the coverage script by not filtering them out properly because they are within a `cdef` function.",
    "created_at": "2021-10-03T23:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614967",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:21'></a>It is picking up the internal functions:

```
travis@apricot:~/sage-build$ ./sage --coverage src/sage/graphs/graph_decompositions/tree_decomposition.pyx 
------------------------------------------------------------------------
SCORE src/sage/graphs/graph_decompositions/tree_decomposition.pyx: 78.6% (11 of 14)

Missing documentation:
     * line 1077: def rec(cut, cc)
     * line 1172: def good_label(x)
     * line 1175: def good_label(x)
```
so it's fine. My guess is this is a bug in the coverage script by not filtering them out properly because they are within a `cdef` function.



---

archive/issue_comments_614968.json:
```json
{
    "body": "<a id='comment:22'></a>Thank you for the review !",
    "created_at": "2021-10-04T06:00:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614968",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:22'></a>Thank you for the review !



---

archive/issue_events_080948.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-10T10:17:09Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30998#event-80948"
}
```



---

archive/issue_comments_614969.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-10T10:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614969",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_614970.json:
```json
{
    "body": "Changing branch from \"public/graphs/30998_treelength\" to \"26079ff80d81d7b42bd9a3dad9adc21882c22c79\"",
    "created_at": "2021-10-10T10:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30998#issuecomment-614970",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/graphs/30998_treelength" to "26079ff80d81d7b42bd9a3dad9adc21882c22c79"
