# Issue 30108: Not equal comparison for mixed forms

archive/issues_029871.json:
```json
{
    "assignees": [],
    "body": "At this stage, the not equal comparison fails:\n\n```\nsage: M = Manifold(4, 'M')\nsage: X.<x,y,z,t> = M.chart()\nsage: Form0 = M.mixed_form(comp=([0,0,0,0,0]))\nsage: Form1 = M.mixed_form(comp=([1,0,0,0,0]))\nsage: Form0 != Form1\nFalse\n```\n\n(reported at https://ask.sagemath.org/question/52409/why-doesnt-or-work-for-mixed-forms/)\n\nI already spotted the error: originally, `richcmp` is checked separately on each component and returns `False` if the check fails for at least one element. But for the inequality, it is enough when the check succeeds for at least one element because then both mixed forms are already unequal.\n\nThis bug gets fixed in this ticket. Furthermore, an equality check between mixed forms and differential forms will be possible.\n\nCC:  @egourgoulhon @tscrim @fchapoton @mkoeppe\n\nKeywords: **mixed_forms, manifolds**\n\nBranch/Commit: **[6f0f537](https://github.com/sagemath/sagetrac-mirror/commit/6f0f537ac836a781b276141d3e34199f4dd5781b)**\n\nReviewer: **Eric Gourgoulhon**\n\nAuthor: **Michael Jung**\n\nComponent: **manifolds**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30108_\n\n",
    "closed_at": "2020-08-02T08:20:35Z",
    "created_at": "2020-07-11T10:15:14Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20manifolds",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Not equal comparison for mixed forms",
    "type": "issue",
    "updated_at": "2020-08-02T08:20:35Z",
    "url": "https://github.com/sagemath/sage/issues/30108",
    "user": "https://github.com/mjungmath"
}
```
At this stage, the not equal comparison fails:

```
sage: M = Manifold(4, 'M')
sage: X.<x,y,z,t> = M.chart()
sage: Form0 = M.mixed_form(comp=([0,0,0,0,0]))
sage: Form1 = M.mixed_form(comp=([1,0,0,0,0]))
sage: Form0 != Form1
False
```

(reported at https://ask.sagemath.org/question/52409/why-doesnt-or-work-for-mixed-forms/)

I already spotted the error: originally, `richcmp` is checked separately on each component and returns `False` if the check fails for at least one element. But for the inequality, it is enough when the check succeeds for at least one element because then both mixed forms are already unequal.

This bug gets fixed in this ticket. Furthermore, an equality check between mixed forms and differential forms will be possible.

CC:  @egourgoulhon @tscrim @fchapoton @mkoeppe

Keywords: **mixed_forms, manifolds**

Branch/Commit: **[6f0f537](https://github.com/sagemath/sagetrac-mirror/commit/6f0f537ac836a781b276141d3e34199f4dd5781b)**

Reviewer: **Eric Gourgoulhon**

Author: **Michael Jung**

Component: **manifolds**

_Issue created by migration from https://trac.sagemath.org/ticket/30108_





---

archive/issue_events_414604.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-11T10:15:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414604"
}
```



---

archive/issue_events_414605.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-11T10:15:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414605"
}
```



---

archive/issue_events_414606.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-11T10:15:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414606"
}
```



---

archive/issue_events_414607.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-11T10:15:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414607"
}
```



---

archive/issue_comments_476782.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,6 +9,8 @@\n False\n ```\n \n+(reported at https://ask.sagemath.org/question/52409/why-doesnt-or-work-for-mixed-forms/)\n+\n I already spotted the error: originally, `richcmp` is checked separately on each component and returns `False` if the check fails for at least one element. But for the inequality, it is enough when the check succeeds for at least one element because then both mixed forms are already unequal.\n \n I will remove the method `_richcmp_` and replace it with `__eq__`. Since only `==` and `!=` are mathematically well-defined for mixed forms, this is perfectly fine.\n``````\n",
    "created_at": "2020-07-11T10:15:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476782",
    "user": "https://github.com/mjungmath"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,6 +9,8 @@
 False
 ```
 
+(reported at https://ask.sagemath.org/question/52409/why-doesnt-or-work-for-mixed-forms/)
+
 I already spotted the error: originally, `richcmp` is checked separately on each component and returns `False` if the check fails for at least one element. But for the inequality, it is enough when the check succeeds for at least one element because then both mixed forms are already unequal.
 
 I will remove the method `_richcmp_` and replace it with `__eq__`. Since only `==` and `!=` are mathematically well-defined for mixed forms, this is perfectly fine.
``````




---

archive/issue_comments_476783.json:
```json
{
    "body": "Branch: **[u/gh-mjungmath/inequality_test_mixed](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mjungmath/inequality_test_mixed)**",
    "created_at": "2020-07-11T10:26:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476783",
    "user": "https://github.com/mjungmath"
}
```

Branch: **[u/gh-mjungmath/inequality_test_mixed](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mjungmath/inequality_test_mixed)**



---

archive/issue_comments_476784.json:
```json
{
    "body": "Commit: **[0203a6d](https://github.com/sagemath/sagetrac-mirror/commit/0203a6d96388bba0e583915354fe0900c1b9b80d)**",
    "created_at": "2020-07-11T10:28:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476784",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[0203a6d](https://github.com/sagemath/sagetrac-mirror/commit/0203a6d96388bba0e583915354fe0900c1b9b80d)**



---

archive/issue_comments_476785.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0203a6d96388bba0e583915354fe0900c1b9b80d\">0203a6d</a></td><td><code>Trac #30108: doctest cleaned</code></td></tr></table>\n",
    "created_at": "2020-07-11T10:28:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476785",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0203a6d96388bba0e583915354fe0900c1b9b80d">0203a6d</a></td><td><code>Trac #30108: doctest cleaned</code></td></tr></table>




---

archive/issue_events_414608.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-11T10:31:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414608"
}
```



---

archive/issue_comments_476786.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37ebad94b3a77f4dc6b43f82db26b238210d0f9e\">37ebad9</a></td><td><code>Trac #30108: doctest to check whether bug is fixed</code></td></tr></table>\n",
    "created_at": "2020-07-11T10:36:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476786",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37ebad94b3a77f4dc6b43f82db26b238210d0f9e">37ebad9</a></td><td><code>Trac #30108: doctest to check whether bug is fixed</code></td></tr></table>




---

archive/issue_comments_476787.json:
```json
{
    "body": "Changed commit from **[0203a6d](https://github.com/sagemath/sagetrac-mirror/commit/0203a6d96388bba0e583915354fe0900c1b9b80d)** to **[37ebad9](https://github.com/sagemath/sagetrac-mirror/commit/37ebad94b3a77f4dc6b43f82db26b238210d0f9e)**",
    "created_at": "2020-07-11T10:36:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476787",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0203a6d](https://github.com/sagemath/sagetrac-mirror/commit/0203a6d96388bba0e583915354fe0900c1b9b80d)** to **[37ebad9](https://github.com/sagemath/sagetrac-mirror/commit/37ebad94b3a77f4dc6b43f82db26b238210d0f9e)**



---

archive/issue_comments_476788.json:
```json
{
    "body": "Changed commit from **[37ebad9](https://github.com/sagemath/sagetrac-mirror/commit/37ebad94b3a77f4dc6b43f82db26b238210d0f9e)** to **[3312d46](https://github.com/sagemath/sagetrac-mirror/commit/3312d465a49eb75359bb46a18c58722d69f606a4)**",
    "created_at": "2020-07-11T10:43:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476788",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[37ebad9](https://github.com/sagemath/sagetrac-mirror/commit/37ebad94b3a77f4dc6b43f82db26b238210d0f9e)** to **[3312d46](https://github.com/sagemath/sagetrac-mirror/commit/3312d465a49eb75359bb46a18c58722d69f606a4)**



---

archive/issue_comments_476789.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3312d465a49eb75359bb46a18c58722d69f606a4\">3312d46</a></td><td><code>Trac #30108: comment new doctest for documentation</code></td></tr></table>\n",
    "created_at": "2020-07-11T10:43:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476789",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3312d465a49eb75359bb46a18c58722d69f606a4">3312d46</a></td><td><code>Trac #30108: comment new doctest for documentation</code></td></tr></table>




---

archive/issue_events_414609.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-11T15:56:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414609"
}
```



---

archive/issue_events_414610.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-11T15:56:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414610"
}
```



---

archive/issue_comments_476790.json:
```json
{
    "body": "Changed commit from **[3312d46](https://github.com/sagemath/sagetrac-mirror/commit/3312d465a49eb75359bb46a18c58722d69f606a4)** to **[3eba4e1](https://github.com/sagemath/sagetrac-mirror/commit/3eba4e13c69609daf63ec89005fc98b37cee2b11)**",
    "created_at": "2020-07-11T17:13:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476790",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3312d46](https://github.com/sagemath/sagetrac-mirror/commit/3312d465a49eb75359bb46a18c58722d69f606a4)** to **[3eba4e1](https://github.com/sagemath/sagetrac-mirror/commit/3eba4e13c69609daf63ec89005fc98b37cee2b11)**



---

archive/issue_comments_476791.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3eba4e13c69609daf63ec89005fc98b37cee2b11\">3eba4e1</a></td><td><code>Trac #30108: != bug fixed</code></td></tr></table>\n",
    "created_at": "2020-07-11T17:13:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476791",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3eba4e13c69609daf63ec89005fc98b37cee2b11">3eba4e1</a></td><td><code>Trac #30108: != bug fixed</code></td></tr></table>




---

archive/issue_comments_476792.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,4 +13,4 @@\n \n I already spotted the error: originally, `richcmp` is checked separately on each component and returns `False` if the check fails for at least one element. But for the inequality, it is enough when the check succeeds for at least one element because then both mixed forms are already unequal.\n \n-I will remove the method `_richcmp_` and replace it with `__eq__`. Since only `==` and `!=` are mathematically well-defined for mixed forms, this is perfectly fine.\n+This bug gets fixed in this ticket. Furthermore, an equality check between mixed forms and differential forms will be possible.\n``````\n",
    "created_at": "2020-07-11T17:15:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476792",
    "user": "https://github.com/mjungmath"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,4 +13,4 @@
 
 I already spotted the error: originally, `richcmp` is checked separately on each component and returns `False` if the check fails for at least one element. But for the inequality, it is enough when the check succeeds for at least one element because then both mixed forms are already unequal.
 
-I will remove the method `_richcmp_` and replace it with `__eq__`. Since only `==` and `!=` are mathematically well-defined for mixed forms, this is perfectly fine.
+This bug gets fixed in this ticket. Furthermore, an equality check between mixed forms and differential forms will be possible.
``````




---

archive/issue_events_414611.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-11T17:15:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414611"
}
```



---

archive/issue_events_414612.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-11T17:15:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414612"
}
```



---

archive/issue_comments_476793.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI have overwritten my former approach. This should be much cleaner.",
    "created_at": "2020-07-11T17:15:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476793",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:10" align="right">comment:10</div>

I have overwritten my former approach. This should be much cleaner.



---

archive/issue_comments_476794.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa605ab62771d4e0e5c0282f15ee910bf210f966\">aa605ab</a></td><td><code>Trac #30108: eq check between scalar fields and mixed forms</code></td></tr></table>\n",
    "created_at": "2020-07-11T17:24:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476794",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa605ab62771d4e0e5c0282f15ee910bf210f966">aa605ab</a></td><td><code>Trac #30108: eq check between scalar fields and mixed forms</code></td></tr></table>




---

archive/issue_comments_476795.json:
```json
{
    "body": "Changed commit from **[3eba4e1](https://github.com/sagemath/sagetrac-mirror/commit/3eba4e13c69609daf63ec89005fc98b37cee2b11)** to **[aa605ab](https://github.com/sagemath/sagetrac-mirror/commit/aa605ab62771d4e0e5c0282f15ee910bf210f966)**",
    "created_at": "2020-07-11T17:24:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476795",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3eba4e1](https://github.com/sagemath/sagetrac-mirror/commit/3eba4e13c69609daf63ec89005fc98b37cee2b11)** to **[aa605ab](https://github.com/sagemath/sagetrac-mirror/commit/aa605ab62771d4e0e5c0282f15ee910bf210f966)**



---

archive/issue_comments_476796.json:
```json
{
    "body": "Changed commit from **[aa605ab](https://github.com/sagemath/sagetrac-mirror/commit/aa605ab62771d4e0e5c0282f15ee910bf210f966)** to **[b7d9f47](https://github.com/sagemath/sagetrac-mirror/commit/b7d9f475e9aff734e814a4607f20ba469d29c36d)**",
    "created_at": "2020-07-11T17:27:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476796",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[aa605ab](https://github.com/sagemath/sagetrac-mirror/commit/aa605ab62771d4e0e5c0282f15ee910bf210f966)** to **[b7d9f47](https://github.com/sagemath/sagetrac-mirror/commit/b7d9f475e9aff734e814a4607f20ba469d29c36d)**



---

archive/issue_comments_476797.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7d9f475e9aff734e814a4607f20ba469d29c36d\">b7d9f47</a></td><td><code>Trac #30108: wrong import</code></td></tr></table>\n",
    "created_at": "2020-07-11T17:27:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476797",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7d9f475e9aff734e814a4607f20ba469d29c36d">b7d9f47</a></td><td><code>Trac #30108: wrong import</code></td></tr></table>




---

archive/issue_comments_476798.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nFor the sake of consistency, and compatibility, I think that the method `__eq__` should be replaced by `_richcmp_` in `scalarfield.py` and `tensorfield.py`. The method `_richcmp_` tries to coerce both elements into elements of a common parent first which makes most of the current checks obsolete and increases compatibility.\n\nEric, what do you think?\n\nI have already opened a new ticket for this: #30116",
    "created_at": "2020-07-11T17:34:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476798",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:13" align="right">comment:13</div>

For the sake of consistency, and compatibility, I think that the method `__eq__` should be replaced by `_richcmp_` in `scalarfield.py` and `tensorfield.py`. The method `_richcmp_` tries to coerce both elements into elements of a common parent first which makes most of the current checks obsolete and increases compatibility.

Eric, what do you think?

I have already opened a new ticket for this: #30116



---

archive/issue_comments_476799.json:
```json
{
    "body": "Changed commit from **[b7d9f47](https://github.com/sagemath/sagetrac-mirror/commit/b7d9f475e9aff734e814a4607f20ba469d29c36d)** to **[0b93b22](https://github.com/sagemath/sagetrac-mirror/commit/0b93b22c6aeb12b08a9ab210dc16a1e58d3d6685)**",
    "created_at": "2020-07-11T18:22:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476799",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b7d9f47](https://github.com/sagemath/sagetrac-mirror/commit/b7d9f475e9aff734e814a4607f20ba469d29c36d)** to **[0b93b22](https://github.com/sagemath/sagetrac-mirror/commit/0b93b22c6aeb12b08a9ab210dc16a1e58d3d6685)**



---

archive/issue_comments_476800.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0b93b22c6aeb12b08a9ab210dc16a1e58d3d6685\">0b93b22</a></td><td><code>Trac #30108: unused import richcmp removed</code></td></tr></table>\n",
    "created_at": "2020-07-11T18:22:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476800",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0b93b22c6aeb12b08a9ab210dc16a1e58d3d6685">0b93b22</a></td><td><code>Trac #30108: unused import richcmp removed</code></td></tr></table>




---

archive/issue_events_414613.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-14T17:07:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414613"
}
```



---

archive/issue_events_414614.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-14T17:07:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20manifolds",
    "label_color": "0000ff",
    "label_name": "c: manifolds",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414614"
}
```



---

archive/issue_events_414615.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2020-07-15T14:15:05Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "title_is": "Not equal comparison for mixed forms",
    "title_was": "Inequality comparison for mixed forms",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414615"
}
```



---

archive/issue_comments_476801.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-At this stage, the inequality comparison fails:\n+At this stage, the not equal comparison fails:\n \n ```\n sage: M = Manifold(4, 'M')\n``````\n",
    "created_at": "2020-07-15T14:15:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476801",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-At this stage, the inequality comparison fails:
+At this stage, the not equal comparison fails:
 
 ```
 sage: M = Manifold(4, 'M')
``````




---

archive/issue_comments_476802.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@mjungmath](#comment:13):\n> For the sake of consistency, and compatibility, I think that the method `__eq__` should be replaced by `_richcmp_` in `scalarfield.py` and `tensorfield.py`. The method `_richcmp_` tries to coerce both elements into elements of a common parent first which makes most of the current checks obsolete and increases compatibility.\n> \n> Eric, what do you think?\n\nThis sounds like a good idea, except maybe when efficiency matters, like for `ManifoldPoint`, since points are parameters of `UniqueRepresentation` objects, namely tangent spaces.",
    "created_at": "2020-07-15T14:19:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476802",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@mjungmath](#comment:13):
> For the sake of consistency, and compatibility, I think that the method `__eq__` should be replaced by `_richcmp_` in `scalarfield.py` and `tensorfield.py`. The method `_richcmp_` tries to coerce both elements into elements of a common parent first which makes most of the current checks obsolete and increases compatibility.
> 
> Eric, what do you think?

This sounds like a good idea, except maybe when efficiency matters, like for `ManifoldPoint`, since points are parameters of `UniqueRepresentation` objects, namely tangent spaces.



---

archive/issue_comments_476803.json:
```json
{
    "body": "Changed commit from **[0b93b22](https://github.com/sagemath/sagetrac-mirror/commit/0b93b22c6aeb12b08a9ab210dc16a1e58d3d6685)** to **[4a39629](https://github.com/sagemath/sagetrac-mirror/commit/4a396298d78588463356c01806c2095bf4ce1dda)**",
    "created_at": "2020-07-20T12:37:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476803",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0b93b22](https://github.com/sagemath/sagetrac-mirror/commit/0b93b22c6aeb12b08a9ab210dc16a1e58d3d6685)** to **[4a39629](https://github.com/sagemath/sagetrac-mirror/commit/4a396298d78588463356c01806c2095bf4ce1dda)**



---

archive/issue_comments_476804.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a396298d78588463356c01806c2095bf4ce1dda\">4a39629</a></td><td><code>Trac #30108: use super()</code></td></tr></table>\n",
    "created_at": "2020-07-20T12:37:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476804",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a396298d78588463356c01806c2095bf4ce1dda">4a39629</a></td><td><code>Trac #30108: use super()</code></td></tr></table>




---

archive/issue_comments_476805.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nCan someone please review this ticket? There's not much change going on, and someone asked, rather indirectly, for a fix.",
    "created_at": "2020-07-20T12:42:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476805",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:19" align="right">comment:19</div>

Can someone please review this ticket? There's not much change going on, and someone asked, rather indirectly, for a fix.



---

archive/issue_comments_476806.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@mjungmath](#comment:19):\n> Can someone please review this ticket? There's not much change going on, and someone asked, rather indirectly, for a fix.\n\nLGTM. Just waiting for the patchbot green light.",
    "created_at": "2020-07-20T12:51:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476806",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@mjungmath](#comment:19):
> Can someone please review this ticket? There's not much change going on, and someone asked, rather indirectly, for a fix.

LGTM. Just waiting for the patchbot green light.



---

archive/issue_comments_476807.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@egourgoulhon](#comment:20):\n> Replying to [@mjungmath](#comment:19):\n> > Can someone please review this ticket? There's not much change going on, and someone asked, rather indirectly, for a fix.\n\n> \n> LGTM. Just waiting for the patchbot green light. \n\nPatchbot appears to be green now. Thank you.",
    "created_at": "2020-07-20T15:50:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476807",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@egourgoulhon](#comment:20):
> Replying to [@mjungmath](#comment:19):
> > Can someone please review this ticket? There's not much change going on, and someone asked, rather indirectly, for a fix.

> 
> LGTM. Just waiting for the patchbot green light. 

Patchbot appears to be green now. Thank you.



---

archive/issue_comments_476808.json:
```json
{
    "body": "Reviewer: **Eric Gourgoulhon**",
    "created_at": "2020-07-21T08:39:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476808",
    "user": "https://github.com/egourgoulhon"
}
```

Reviewer: **Eric Gourgoulhon**



---

archive/issue_events_414616.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2020-07-21T08:39:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414616"
}
```



---

archive/issue_events_414617.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2020-07-21T08:39:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414617"
}
```



---

archive/issue_comments_476809.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nGood to go!",
    "created_at": "2020-07-21T08:39:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476809",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:22" align="right">comment:22</div>

Good to go!



---

archive/issue_comments_476810.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nPerfect. Thank you! :)",
    "created_at": "2020-07-21T08:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476810",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:23" align="right">comment:23</div>

Perfect. Thank you! :)



---

archive/issue_comments_476811.json:
```json
{
    "body": "Changed commit from **[4a39629](https://github.com/sagemath/sagetrac-mirror/commit/4a396298d78588463356c01806c2095bf4ce1dda)** to **[6f0f537](https://github.com/sagemath/sagetrac-mirror/commit/6f0f537ac836a781b276141d3e34199f4dd5781b)**",
    "created_at": "2020-07-26T15:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476811",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4a39629](https://github.com/sagemath/sagetrac-mirror/commit/4a396298d78588463356c01806c2095bf4ce1dda)** to **[6f0f537](https://github.com/sagemath/sagetrac-mirror/commit/6f0f537ac836a781b276141d3e34199f4dd5781b)**



---

archive/issue_events_414618.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2020-07-26T15:21:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414618"
}
```



---

archive/issue_events_414619.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2020-07-26T15:21:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414619"
}
```



---

archive/issue_comments_476812.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f0f537ac836a781b276141d3e34199f4dd5781b\">6f0f537</a></td><td><code>Trac #30108: Merge branch 'develop' into t/30108/inequality_test_mixed</code></td></tr></table>\n",
    "created_at": "2020-07-26T15:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476812",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f0f537ac836a781b276141d3e34199f4dd5781b">6f0f537</a></td><td><code>Trac #30108: Merge branch 'develop' into t/30108/inequality_test_mixed</code></td></tr></table>




---

archive/issue_events_414620.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-26T15:22:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414620"
}
```



---

archive/issue_events_414621.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2020-07-26T15:22:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414621"
}
```



---

archive/issue_comments_476813.json:
```json
{
    "body": "Changed branch from **[u/gh-mjungmath/inequality_test_mixed](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mjungmath/inequality_test_mixed)** to **[6f0f537](https://github.com/sagemath/sagetrac-mirror/commit/6f0f537ac836a781b276141d3e34199f4dd5781b)**",
    "created_at": "2020-08-02T08:20:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30108#issuecomment-476813",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gh-mjungmath/inequality_test_mixed](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mjungmath/inequality_test_mixed)** to **[6f0f537](https://github.com/sagemath/sagetrac-mirror/commit/6f0f537ac836a781b276141d3e34199f4dd5781b)**



---

archive/issue_events_414622.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-02T08:20:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414622"
}
```



---

archive/issue_events_414623.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "8a27369699c7444d7d5e84e1fc6ffcee684428d3",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-08-02T08:20:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30108",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30108#event-414623"
}
```
