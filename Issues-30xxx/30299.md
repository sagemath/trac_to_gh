# Issue 30299: Minimal fix for broken jupyter notebook

archive/issues_030062.json:
```json
{
    "assignees": [],
    "body": "\n\nCC:  @dimpase @nbruin @slel @paulmasson @kiwifb @EmmanuelCharpentier @jhpalmieri @jcamp0x2a\n\nComponent: **user interface**\n\nKeywords: **jupyter threejs jsmol mathjax**\n\nAuthor: **Matthias Koeppe**\n\nBranch: **[`79317b8`](https://github.com/sagemath/sagetrac-mirror/commit/79317b8d45ca9a5ef1973dea978278fa0f1f84d2)**\n\nReviewer: **Paul Masson**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30299_\n\n",
    "closed_at": "2020-08-09T08:47:42Z",
    "created_at": "2020-08-06T02:20:54Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
        "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Minimal fix for broken jupyter notebook",
    "type": "issue",
    "updated_at": "2020-08-09T10:31:16Z",
    "url": "https://github.com/sagemath/sage/issues/30299",
    "user": "https://github.com/mkoeppe"
}
```


CC:  @dimpase @nbruin @slel @paulmasson @kiwifb @EmmanuelCharpentier @jhpalmieri @jcamp0x2a

Component: **user interface**

Keywords: **jupyter threejs jsmol mathjax**

Author: **Matthias Koeppe**

Branch: **[`79317b8`](https://github.com/sagemath/sagetrac-mirror/commit/79317b8d45ca9a5ef1973dea978278fa0f1f84d2)**

Reviewer: **Paul Masson**

_Issue created by migration from https://trac.sagemath.org/ticket/30299_





---

archive/issue_events_414271.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-06T02:20:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30299#event-414271"
}
```



---

archive/issue_events_414272.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-06T02:20:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
    "label_color": "0000b0",
    "label_name": "c: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30299#event-414272"
}
```



---

archive/issue_events_414273.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-06T02:20:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30299#event-414273"
}
```



---

archive/issue_events_414274.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-06T02:20:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30299#event-414274"
}
```



---

archive/issue_comments_480580.json:
```json
{
    "body": "Branch: **[u/mkoeppe/minimal_fix_for_broken_jupyter_notebook](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/minimal_fix_for_broken_jupyter_notebook)**",
    "created_at": "2020-08-06T02:22:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30299#issuecomment-480580",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/minimal_fix_for_broken_jupyter_notebook](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/minimal_fix_for_broken_jupyter_notebook)**



---

archive/issue_comments_480581.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-08-06T02:23:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30299#issuecomment-480581",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_480582.json:
```json
{
    "body": "Commit: **[`79317b8`](https://github.com/sagemath/sagetrac-mirror/commit/79317b8d45ca9a5ef1973dea978278fa0f1f84d2)**",
    "created_at": "2020-08-06T02:23:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30299#issuecomment-480582",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`79317b8`](https://github.com/sagemath/sagetrac-mirror/commit/79317b8d45ca9a5ef1973dea978278fa0f1f84d2)**



---

archive/issue_comments_480583.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79317b8d45ca9a5ef1973dea978278fa0f1f84d2\"><code>79317b8</code></a></td><td><code>build/pkgs/sage_conf/src/sage_conf.py.in: Add JSMOL_DIR, MATHJAX_DIR, THREEJS_DIR</code></td></tr></table>\n",
    "created_at": "2020-08-06T02:23:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30299#issuecomment-480583",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79317b8d45ca9a5ef1973dea978278fa0f1f84d2"><code>79317b8</code></a></td><td><code>build/pkgs/sage_conf/src/sage_conf.py.in: Add JSMOL_DIR, MATHJAX_DIR, THREEJS_DIR</code></td></tr></table>




---

archive/issue_comments_480584.json:
```json
{
    "body": "Changed keywords from none to **jupyter threejs jsmol mathjax**",
    "created_at": "2020-08-06T20:01:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30299#issuecomment-480584",
    "user": "https://github.com/paulmasson"
}
```

Changed keywords from none to **jupyter threejs jsmol mathjax**



---

archive/issue_comments_480585.json:
```json
{
    "body": "Reviewer: **Paul Masson**",
    "created_at": "2020-08-06T20:01:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30299#issuecomment-480585",
    "user": "https://github.com/paulmasson"
}
```

Reviewer: **Paul Masson**



---

archive/issue_comments_480586.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI can confirm this fix allows the notebook to run and both Three.js and JSMol function as expected. If it is ready for review, then it can be set to positive so it gets into the next beta.",
    "created_at": "2020-08-06T20:01:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30299#issuecomment-480586",
    "user": "https://github.com/paulmasson"
}
```

<div id="comment:3" align="right">comment:3</div>

I can confirm this fix allows the notebook to run and both Three.js and JSMol function as expected. If it is ready for review, then it can be set to positive so it gets into the next beta.



---

archive/issue_events_414275.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-06T20:04:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30299#event-414275"
}
```



---

archive/issue_comments_480587.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThanks for testing!",
    "created_at": "2020-08-06T20:04:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30299#issuecomment-480587",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

Thanks for testing!



---

archive/issue_events_414276.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2020-08-06T20:58:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30299#event-414276"
}
```



---

archive/issue_events_414277.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2020-08-06T20:58:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30299#event-414277"
}
```



---

archive/issue_comments_480588.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThanks. Somewhat related, can anyone help with the plot3d issue at:\n\n- https://ask.sagemath.org/question/52722",
    "created_at": "2020-08-07T00:41:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30299#issuecomment-480588",
    "user": "https://github.com/slel"
}
```

<div id="comment:6" align="right">comment:6</div>

Thanks. Somewhat related, can anyone help with the plot3d issue at:

- https://ask.sagemath.org/question/52722



---

archive/issue_comments_480589.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nJoshua, can you replicate the plot3d error in the Ask Sage question? Happening on a version of Ubuntu.",
    "created_at": "2020-08-07T02:02:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30299#issuecomment-480589",
    "user": "https://github.com/paulmasson"
}
```

<div id="comment:8" align="right">comment:8</div>

Joshua, can you replicate the plot3d error in the Ask Sage question? Happening on a version of Ubuntu.



---

archive/issue_comments_480590.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHeya! 20.04 bricked my Ubuntu machine, and I've been too stubborn to rollback as of yet. I tried the example in the AskSage question with my WSL installation of Ubuntu 18.04 and was unable to reproduce the reported problem. The plot showed up just fine. I'll try again once I either get my upgrade woes sorted out or (very) begrudgingly rollback.",
    "created_at": "2020-08-07T22:48:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30299#issuecomment-480590",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:9" align="right">comment:9</div>

Heya! 20.04 bricked my Ubuntu machine, and I've been too stubborn to rollback as of yet. I tried the example in the AskSage question with my WSL installation of Ubuntu 18.04 and was unable to reproduce the reported problem. The plot showed up just fine. I'll try again once I either get my upgrade woes sorted out or (very) begrudgingly rollback.



---

archive/issue_events_414278.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-09T08:47:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30299#event-414278"
}
```



---

archive/issue_events_414279.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "663c71bb89c51a95f27505a61837bed9f2906a42",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-08-09T08:47:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30299#event-414279"
}
```



---

archive/issue_comments_480591.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/minimal_fix_for_broken_jupyter_notebook](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/minimal_fix_for_broken_jupyter_notebook)** to **[`79317b8`](https://github.com/sagemath/sagetrac-mirror/commit/79317b8d45ca9a5ef1973dea978278fa0f1f84d2)**",
    "created_at": "2020-08-09T08:47:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30299#issuecomment-480591",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/minimal_fix_for_broken_jupyter_notebook](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/minimal_fix_for_broken_jupyter_notebook)** to **[`79317b8`](https://github.com/sagemath/sagetrac-mirror/commit/79317b8d45ca9a5ef1973dea978278fa0f1f84d2)**



---

archive/issue_comments_480592.json:
```json
{
    "body": "Changed commit from **[`79317b8`](https://github.com/sagemath/sagetrac-mirror/commit/79317b8d45ca9a5ef1973dea978278fa0f1f84d2)** to none",
    "created_at": "2020-08-09T10:31:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30299#issuecomment-480592",
    "user": "https://github.com/egourgoulhon"
}
```

Changed commit from **[`79317b8`](https://github.com/sagemath/sagetrac-mirror/commit/79317b8d45ca9a5ef1973dea978278fa0f1f84d2)** to none



---

archive/issue_comments_480593.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@jcamp0x2a](#comment%3A9):\n> Heya! 20.04 bricked my Ubuntu machine, and I've been too stubborn to rollback as of yet. I tried the example in the AskSage question with my WSL installation of Ubuntu 18.04 and was unable to reproduce the reported problem. The plot showed up just fine. I'll try again once I either get my upgrade woes sorted out or (very) begrudgingly rollback.\n\nI confirm that the example in the AskSage question works fine with Sage 9.1 on my Ubuntu 18.04 machine (same version of Ubuntu than the OP).",
    "created_at": "2020-08-09T10:31:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30299#issuecomment-480593",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@jcamp0x2a](#comment%3A9):
> Heya! 20.04 bricked my Ubuntu machine, and I've been too stubborn to rollback as of yet. I tried the example in the AskSage question with my WSL installation of Ubuntu 18.04 and was unable to reproduce the reported problem. The plot showed up just fine. I'll try again once I either get my upgrade woes sorted out or (very) begrudgingly rollback.

I confirm that the example in the AskSage question works fine with Sage 9.1 on my Ubuntu 18.04 machine (same version of Ubuntu than the OP).
