# Issue 30408: Add pycodestyle config via tox, add tox environment

archive/issues_030171.json:
```json
{
    "body": "Adds the current configuration of pycodestyle (as taken from the patchbot) to the src/tox.ini file. Thus, it can be run now locally via the cli `pycodestyle`. Moreover, tools like VS Code can pick it up automatically. The corresponding changes for the patchbot are done in https://github.com/sagemath/sage-patchbot/pull/145.\n\nDocumentation will be added in #30361.\n\nCC:  @mkoeppe @fchapoton\n\nReviewer: Matthias Koeppe, Tobias Diez\n\nAuthor: Tobias Diez, Matthias Koeppe\n\nBranch: 939e9e0e08d7d5c4e4c073a571ca8e4aac22ef77\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30408\n\n",
    "closed_at": "2020-08-26T21:15:39Z",
    "created_at": "2020-08-20T18:32:18Z",
    "labels": [
        "component: build",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Add pycodestyle config via tox, add tox environment",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30408",
    "user": "https://github.com/tobiasdiez"
}
```
Adds the current configuration of pycodestyle (as taken from the patchbot) to the src/tox.ini file. Thus, it can be run now locally via the cli `pycodestyle`. Moreover, tools like VS Code can pick it up automatically. The corresponding changes for the patchbot are done in https://github.com/sagemath/sage-patchbot/pull/145.

Documentation will be added in #30361.

CC:  @mkoeppe @fchapoton

Reviewer: Matthias Koeppe, Tobias Diez

Author: Tobias Diez, Matthias Koeppe

Branch: 939e9e0e08d7d5c4e4c073a571ca8e4aac22ef77

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30408





---

archive/issue_comments_458522.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-08-20T18:32:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30408#issuecomment-458522",
    "user": "https://github.com/tobiasdiez"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_458523.json:
```json
{
    "body": "<a id='comment:2'></a>Perhaps also add a tox environment that runs pycodestyle?",
    "created_at": "2020-08-20T18:49:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30408#issuecomment-458523",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>Perhaps also add a tox environment that runs pycodestyle?



---

archive/issue_comments_458524.json:
```json
{
    "body": "<a id='comment:3'></a>Speaking of vs code, would it make sense to add a configuration or configuration template for that as well in ~/.vscode so that it knows to launch local/bin/sage and local/bin/python3?",
    "created_at": "2020-08-20T18:51:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30408#issuecomment-458524",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>Speaking of vs code, would it make sense to add a configuration or configuration template for that as well in ~/.vscode so that it knows to launch local/bin/sage and local/bin/python3?



---

archive/issue_comments_458525.json:
```json
{
    "body": "<a id='comment:4'></a>> Perhaps also add a tox environment that runs pycodestyle?\n\n\nI've no experience with tox, and thus cannot decide if this makes sense or not. Feel free to hijack this PR and add the necessary config.\n\n\n> Speaking of vs code, would it make sense to add a configuration or configuration template for that as well in ~/.vscode so that it knows to launch local/bin/sage and local/bin/python3?\n\n\nThis definitely makes sense! However, the last time I tried to point vscode to the local sage python environment, it didn't work. My hope was that with the inplace compilation it will work.",
    "created_at": "2020-08-20T19:02:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30408#issuecomment-458525",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:4'></a>> Perhaps also add a tox environment that runs pycodestyle?


I've no experience with tox, and thus cannot decide if this makes sense or not. Feel free to hijack this PR and add the necessary config.


> Speaking of vs code, would it make sense to add a configuration or configuration template for that as well in ~/.vscode so that it knows to launch local/bin/sage and local/bin/python3?


This definitely makes sense! However, the last time I tried to point vscode to the local sage python environment, it didn't work. My hope was that with the inplace compilation it will work.



---

archive/issue_comments_458526.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 gh-tobiasdiez]:\n> > Speaking of vs code, would it make sense to add a configuration or configuration template for that as well in ~/.vscode so that it knows to launch local/bin/sage and local/bin/python3?\n\n> \n> This definitely makes sense! However, the last time I tried to point vscode to the local sage python environment, it didn't work. My hope was that with the inplace compilation it will work.\n\n\nI was able to set it so that it can run local/bin/python3 and that was good enough to do some debugging work",
    "created_at": "2020-08-20T19:10:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30408#issuecomment-458526",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>Replying to [comment:4 gh-tobiasdiez]:
> > Speaking of vs code, would it make sense to add a configuration or configuration template for that as well in ~/.vscode so that it knows to launch local/bin/sage and local/bin/python3?

> 
> This definitely makes sense! However, the last time I tried to point vscode to the local sage python environment, it didn't work. My hope was that with the inplace compilation it will work.


I was able to set it so that it can run local/bin/python3 and that was good enough to do some debugging work



---

archive/issue_comments_458527.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:4 gh-tobiasdiez]:\n> > Perhaps also add a tox environment that runs pycodestyle?\n\n> \n> I've no experience with tox, and thus cannot decide if this makes sense or not. Feel free to hijack this PR and add the necessary config.\n\n\nSure, will do",
    "created_at": "2020-08-20T19:10:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30408#issuecomment-458527",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>Replying to [comment:4 gh-tobiasdiez]:
> > Perhaps also add a tox environment that runs pycodestyle?

> 
> I've no experience with tox, and thus cannot decide if this makes sense or not. Feel free to hijack this PR and add the necessary config.


Sure, will do



---

archive/issue_comments_458528.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-20T20:22:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30408#issuecomment-458528",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_458529.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-20T20:27:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30408#issuecomment-458529",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_458530.json:
```json
{
    "body": "<a id='comment:10'></a>This auto-provisions pycodestyle\n\nCan do the same also for pyright via https://pypi.org/project/nodeenv/",
    "created_at": "2020-08-20T20:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30408#issuecomment-458530",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>This auto-provisions pycodestyle

Can do the same also for pyright via https://pypi.org/project/nodeenv/



---

archive/issue_comments_458531.json:
```json
{
    "body": "<a id='comment:11'></a>Thanks!\n\nIf you want to enable type checking in a purely pythonic environment, then perhaps mypy (or pytype or PyCharm) are better alternatives. Pyright was mainly designed to be used in combination with VS code and for CI. Anyway, that's not the topic of this ticket ;-).",
    "created_at": "2020-08-20T22:02:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30408#issuecomment-458531",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:11'></a>Thanks!

If you want to enable type checking in a purely pythonic environment, then perhaps mypy (or pytype or PyCharm) are better alternatives. Pyright was mainly designed to be used in combination with VS code and for CI. Anyway, that's not the topic of this ticket ;-).



---

archive/issue_comments_458532.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:11 gh-tobiasdiez]:\n>  Pyright was mainly designed to be used in combination with VS code and for CI. Anyway, that's not the topic of this ticket ;-).\n\n\nOK, I've opened #30411 for this, but it's not a high priority to work on it.",
    "created_at": "2020-08-20T22:46:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30408#issuecomment-458532",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>Replying to [comment:11 gh-tobiasdiez]:
>  Pyright was mainly designed to be used in combination with VS code and for CI. Anyway, that's not the topic of this ticket ;-).


OK, I've opened #30411 for this, but it's not a high priority to work on it.



---

archive/issue_comments_458533.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-21T09:30:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30408#issuecomment-458533",
    "user": "https://github.com/tobiasdiez"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_458534.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-08-26T21:15:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30408#issuecomment-458534",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_078856.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-26T21:15:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30408",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30408#event-78856"
}
```



---

archive/issue_comments_458535.json:
```json
{
    "body": "<a id='comment:17'></a>Replying to [comment:3 mkoeppe]:\n> Speaking of vs code, would it make sense to add a configuration or configuration template for that as well in ~/.vscode so that it knows to launch local/bin/sage and local/bin/python3?\n\n\nThis is now #30484",
    "created_at": "2020-09-01T21:54:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30408#issuecomment-458535",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>Replying to [comment:3 mkoeppe]:
> Speaking of vs code, would it make sense to add a configuration or configuration template for that as well in ~/.vscode so that it knows to launch local/bin/sage and local/bin/python3?


This is now #30484
