# Issue 30850: No Future

archive/issues_030613.json:
```json
{
    "body": "The `__future__` import statements were part of the Python2-to-Python3 migration scaffolding. Since it is unlikely we will move back to supporting Python 2, we should remove those.\n\nThis ticket only deals with files within `SAGE_ROOT/src/sage`.\n\nDescription of commits:\n- the first commit is a raw removal of the `__future__` import statements\n- the second commit removes the `del absolute_import,...` statements that were here to avoid those to appear in the tab completion\n- the third commit fixes a doctest\n- the fourth commit removes the automatic addition of `__future__` complieflags from the doctest framework\n\nAfter applying the branch, you might have to rebuild `psutil` and `sympy`.\n\n\n\nCC:  @fchapoton @mkoeppe @slel\n\nBranch/Commit: 7e718983175210bf34394508a97042b7c7fdff6c\n\nReviewer: Matthias Koeppe\n\nAuthor: Thierry Monteil\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30850\n\n",
    "closed_at": "2020-12-05T22:13:16Z",
    "created_at": "2020-11-02T10:30:30Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "No Future",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30850",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```
The `__future__` import statements were part of the Python2-to-Python3 migration scaffolding. Since it is unlikely we will move back to supporting Python 2, we should remove those.

This ticket only deals with files within `SAGE_ROOT/src/sage`.

Description of commits:
- the first commit is a raw removal of the `__future__` import statements
- the second commit removes the `del absolute_import,...` statements that were here to avoid those to appear in the tab completion
- the third commit fixes a doctest
- the fourth commit removes the automatic addition of `__future__` complieflags from the doctest framework

After applying the branch, you might have to rebuild `psutil` and `sympy`.



CC:  @fchapoton @mkoeppe @slel

Branch/Commit: 7e718983175210bf34394508a97042b7c7fdff6c

Reviewer: Matthias Koeppe

Author: Thierry Monteil

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30850





---

archive/issue_comments_611763.json:
```json
{
    "body": "Changing branch from \"\" to \"u/tmonteil/no_future\"",
    "created_at": "2020-11-02T12:14:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611763",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing branch from "" to "u/tmonteil/no_future"



---

archive/issue_comments_611764.json:
```json
{
    "body": "Changing commit from \"\" to \"5dcb9de900e538feb6c16849057a84bac5608342\"",
    "created_at": "2020-11-02T12:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611764",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing commit from "" to "5dcb9de900e538feb6c16849057a84bac5608342"



---

archive/issue_comments_611765.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,3 +2,11 @@\n \n In order not to interfere with #30627, the `__future__` import statements of `SAGE_ROOT/build/` are not removed.\n \n+Desctiption of commits:\n+- the first commit is a raw removal of the `__future__` import statements.\n+- the second commit removes the `del absolute_import,...` statements that were here to avoid those to appear in the tab completion\n+- the third commit is about preparsing (reverts #27719)\n+- the fourth commit fixes a doctest\n+\n+After applying the branch, you might have to rebuild `psutil` and `sympy`.\n+\n``````\n",
    "created_at": "2020-11-02T12:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611765",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,3 +2,11 @@
 
 In order not to interfere with #30627, the `__future__` import statements of `SAGE_ROOT/build/` are not removed.
 
+Desctiption of commits:
+- the first commit is a raw removal of the `__future__` import statements.
+- the second commit removes the `del absolute_import,...` statements that were here to avoid those to appear in the tab completion
+- the third commit is about preparsing (reverts #27719)
+- the fourth commit fixes a doctest
+
+After applying the branch, you might have to rebuild `psutil` and `sympy`.
+
``````




---

archive/issue_comments_611766.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[4df63e3](https://git.sagemath.org/sage.git/commit?id=4df63e35d4144e7c96e99b69a82e2cfa8f2c8d25)|`#30850: remove __future__ import statements`|\n|[7255b53](https://git.sagemath.org/sage.git/commit?id=7255b5318eb2a140cfced14d27d870488c31783b)|`#30850: remove deletion of absolute_import from the tab-completion`|\n|[99e26f3](https://git.sagemath.org/sage.git/commit?id=99e26f3b9fe0fe57d58976b19452d7385bc0810b)|`#30850: remove __future__ imports preparsing (revert #27719)`|\n|[5dcb9de](https://git.sagemath.org/sage.git/commit?id=5dcb9de900e538feb6c16849057a84bac5608342)|`#30850: fix doctests for src/sage/misc/abstract_method.py and src/sage/misc/lazy_attribute.pyx`|",
    "created_at": "2020-11-02T12:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611766",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[4df63e3](https://git.sagemath.org/sage.git/commit?id=4df63e35d4144e7c96e99b69a82e2cfa8f2c8d25)|`#30850: remove __future__ import statements`|
|[7255b53](https://git.sagemath.org/sage.git/commit?id=7255b5318eb2a140cfced14d27d870488c31783b)|`#30850: remove deletion of absolute_import from the tab-completion`|
|[99e26f3](https://git.sagemath.org/sage.git/commit?id=99e26f3b9fe0fe57d58976b19452d7385bc0810b)|`#30850: remove __future__ imports preparsing (revert #27719)`|
|[5dcb9de](https://git.sagemath.org/sage.git/commit?id=5dcb9de900e538feb6c16849057a84bac5608342)|`#30850: fix doctests for src/sage/misc/abstract_method.py and src/sage/misc/lazy_attribute.pyx`|



---

archive/issue_comments_611767.json:
```json
{
    "body": "<a id='comment:3'></a>\nDoctests pass on my computer, let us see if patchbots can handle it without rebuilding `psutil` and `sympy`.",
    "created_at": "2020-11-02T15:34:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611767",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:3'></a>
Doctests pass on my computer, let us see if patchbots can handle it without rebuilding `psutil` and `sympy`.



---

archive/issue_comments_611768.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-11-02T15:34:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611768",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_611769.json:
```json
{
    "body": "<a id='comment:4'></a>\npatchbot will not run, because this is \"unsafe\" (changes outside of src/sage)",
    "created_at": "2020-11-02T17:07:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611769",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
patchbot will not run, because this is "unsafe" (changes outside of src/sage)



---

archive/issue_comments_611770.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,3 +10,5 @@\n \n After applying the branch, you might have to rebuild `psutil` and `sympy`.\n \n+Reviewers have to run the doctests by themselves since the patchbot will not.\n+\n``````\n",
    "created_at": "2020-11-02T17:29:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611770",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,3 +10,5 @@
 
 After applying the branch, you might have to rebuild `psutil` and `sympy`.
 
+Reviewers have to run the doctests by themselves since the patchbot will not.
+
``````




---

archive/issue_comments_611771.json:
```json
{
    "body": "<a id='comment:5'></a>\nOK i see.",
    "created_at": "2020-11-02T17:29:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611771",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:5'></a>
OK i see.



---

archive/issue_comments_611772.json:
```json
{
    "body": "<a id='comment:6'></a>\nmaybe there is a way to use github actions to test this ticket ?",
    "created_at": "2020-11-02T18:57:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611772",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
maybe there is a way to use github actions to test this ticket ?



---

archive/issue_comments_611773.json:
```json
{
    "body": "<a id='comment:7'></a>\nYes, you set a tag and push the tag to a [GitHub](GitHub) repository.",
    "created_at": "2020-11-02T19:10:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611773",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
Yes, you set a tag and push the tag to a [GitHub](GitHub) repository.



---

archive/issue_comments_611774.json:
```json
{
    "body": "<a id='comment:8'></a>\nAll tests pass for me on OS X 10.15.7, using a system installation of Python 3.8.6.",
    "created_at": "2020-11-02T21:06:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611774",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:8'></a>
All tests pass for me on OS X 10.15.7, using a system installation of Python 3.8.6.



---

archive/issue_comments_611775.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-11-10T14:25:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611775",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_611776.json:
```json
{
    "body": "<a id='comment:9'></a>\ndoes not apply on the latest beta => needs work",
    "created_at": "2020-11-10T14:25:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611776",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
does not apply on the latest beta => needs work



---

archive/issue_comments_611777.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[67cf0b5](https://git.sagemath.org/sage.git/commit/?id=67cf0b5fe10a1b82ba87347f2826550c6b7290a7)|`#30850 : merge with develop.9.3.beta1`|",
    "created_at": "2020-11-10T15:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611777",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[67cf0b5](https://git.sagemath.org/sage.git/commit/?id=67cf0b5fe10a1b82ba87347f2826550c6b7290a7)|`#30850 : merge with develop.9.3.beta1`|



---

archive/issue_comments_611778.json:
```json
{
    "body": "Changing commit from \"5dcb9de900e538feb6c16849057a84bac5608342\" to \"67cf0b5fe10a1b82ba87347f2826550c6b7290a7\"",
    "created_at": "2020-11-10T15:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611778",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5dcb9de900e538feb6c16849057a84bac5608342" to "67cf0b5fe10a1b82ba87347f2826550c6b7290a7"



---

archive/issue_comments_611779.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-11-10T15:12:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611779",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_611780.json:
```json
{
    "body": "<a id='comment:11'></a>\nMerge done.",
    "created_at": "2020-11-10T15:12:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611780",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:11'></a>
Merge done.



---

archive/issue_comments_611781.json:
```json
{
    "body": "<a id='comment:12'></a>\nI would suggest to make here only the changes in src/sage/ and keep the rest for another ticket. This would allow the patchbots to run.",
    "created_at": "2020-11-10T15:55:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611781",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>
I would suggest to make here only the changes in src/sage/ and keep the rest for another ticket. This would allow the patchbots to run.



---

archive/issue_comments_611782.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,8 +2,8 @@\n \n In order not to interfere with #30627, the `__future__` import statements of `SAGE_ROOT/build/` are not removed.\n \n-Desctiption of commits:\n-- the first commit is a raw removal of the `__future__` import statements.\n+Description of commits:\n+- the first commit is a raw removal of the `__future__` import statements\n - the second commit removes the `del absolute_import,...` statements that were here to avoid those to appear in the tab completion\n - the third commit is about preparsing (reverts #27719)\n - the fourth commit fixes a doctest\n``````\n",
    "created_at": "2020-11-11T15:16:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611782",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,8 +2,8 @@
 
 In order not to interfere with #30627, the `__future__` import statements of `SAGE_ROOT/build/` are not removed.
 
-Desctiption of commits:
-- the first commit is a raw removal of the `__future__` import statements.
+Description of commits:
+- the first commit is a raw removal of the `__future__` import statements
 - the second commit removes the `del absolute_import,...` statements that were here to avoid those to appear in the tab completion
 - the third commit is about preparsing (reverts #27719)
 - the fourth commit fixes a doctest
``````




---

archive/issue_comments_611783.json:
```json
{
    "body": "<a id='comment:14'></a>\nRunning all the doctests with `-p 4` takes less than an hour on a laptop. I just did it.",
    "created_at": "2020-11-11T15:38:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611783",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:14'></a>
Running all the doctests with `-p 4` takes less than an hour on a laptop. I just did it.



---

archive/issue_comments_611784.json:
```json
{
    "body": "<a id='comment:15'></a>\nI suggest not changing `src/bin/sage-preparse`, in case users have files with `from future import ...` in them: we should still handle such lines correctly.",
    "created_at": "2020-11-12T00:29:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611784",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:15'></a>
I suggest not changing `src/bin/sage-preparse`, in case users have files with `from future import ...` in them: we should still handle such lines correctly.



---

archive/issue_comments_611785.json:
```json
{
    "body": "<a id='comment:16'></a>\n#29355 removes `src/bin/sage-pypkg-location` and #30867 removes `src/mac-app`. By merging now you can avoid later merge conflicts",
    "created_at": "2020-11-12T00:40:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611785",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
#29355 removes `src/bin/sage-pypkg-location` and #30867 removes `src/mac-app`. By merging now you can avoid later merge conflicts



---

archive/issue_comments_611786.json:
```json
{
    "body": "<a id='comment:17'></a>\nLikewise, #30846 moves `src/bin/sage-list-packages`",
    "created_at": "2020-11-12T00:41:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611786",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
Likewise, #30846 moves `src/bin/sage-list-packages`



---

archive/issue_comments_611787.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-11-17T19:22:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611787",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_611788.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [jhpalmieri](#comment%3A15):\n> I suggest not changing `src/bin/sage-preparse`, in case users have files with `from future import ...` in them: we should still handle such lines correctly.\n\n\nIndeed, and moreover also the 3.x series is introducing more `__future__` features, for example `from __future__ import annotations`: https://docs.python.org/3/library/__future__.html",
    "created_at": "2020-11-17T19:22:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611788",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>
Replying to [jhpalmieri](#comment%3A15):
> I suggest not changing `src/bin/sage-preparse`, in case users have files with `from future import ...` in them: we should still handle such lines correctly.


Indeed, and moreover also the 3.x series is introducing more `__future__` features, for example `from __future__ import annotations`: https://docs.python.org/3/library/__future__.html



---

archive/issue_comments_611789.json:
```json
{
    "body": "Changing commit from \"67cf0b5fe10a1b82ba87347f2826550c6b7290a7\" to \"a0691cc3a1d904ab0a72710b5fa5f9fc026e13ef\"",
    "created_at": "2020-11-20T12:08:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611789",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "67cf0b5fe10a1b82ba87347f2826550c6b7290a7" to "a0691cc3a1d904ab0a72710b5fa5f9fc026e13ef"



---

archive/issue_comments_611790.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[d2ab979](https://git.sagemath.org/sage.git/commit/?id=d2ab97999f73aee514af3a484642f55d377ebd63)|`#30850: remove __future__ import statements`|\n|[9e8cbe6](https://git.sagemath.org/sage.git/commit/?id=9e8cbe612efceb12103b04a8a3bbd5fb85b44e82)|`#30850: remove deletion of absolute_import from the tab-completion`|\n|[7fa7e4f](https://git.sagemath.org/sage.git/commit/?id=7fa7e4f582dc2431f3c60bc39d99a5bd8f6e2118)|`#30850: fix doctests for src/sage/misc/abstract_method.py and src/sage/misc/lazy_attribute.pyx`|\n|[a0691cc](https://git.sagemath.org/sage.git/commit/?id=a0691cc3a1d904ab0a72710b5fa5f9fc026e13ef)|`#30850: do not add __future__ compileflags when doctesting`|",
    "created_at": "2020-11-20T12:08:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611790",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[d2ab979](https://git.sagemath.org/sage.git/commit/?id=d2ab97999f73aee514af3a484642f55d377ebd63)|`#30850: remove __future__ import statements`|
|[9e8cbe6](https://git.sagemath.org/sage.git/commit/?id=9e8cbe612efceb12103b04a8a3bbd5fb85b44e82)|`#30850: remove deletion of absolute_import from the tab-completion`|
|[7fa7e4f](https://git.sagemath.org/sage.git/commit/?id=7fa7e4f582dc2431f3c60bc39d99a5bd8f6e2118)|`#30850: fix doctests for src/sage/misc/abstract_method.py and src/sage/misc/lazy_attribute.pyx`|
|[a0691cc](https://git.sagemath.org/sage.git/commit/?id=a0691cc3a1d904ab0a72710b5fa5f9fc026e13ef)|`#30850: do not add __future__ compileflags when doctesting`|



---

archive/issue_comments_611791.json:
```json
{
    "body": "<a id='comment:20'></a>\nThe current branch only touches files within `SAGE_ROOT/src/sage/`.",
    "created_at": "2020-11-20T12:09:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611791",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:20'></a>
The current branch only touches files within `SAGE_ROOT/src/sage/`.



---

archive/issue_comments_611792.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-11-20T12:09:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611792",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_611793.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,14 +1,13 @@\n The `__future__` import statements were part of the Python2-to-Python3 migration scaffolding. Since it is unlikely we will move back to supporting Python 2, we should remove those.\n \n-In order not to interfere with #30627, the `__future__` import statements of `SAGE_ROOT/build/` are not removed.\n+This ticket only deals with files within `SAGE_ROOT/src/sage`.\n \n Description of commits:\n - the first commit is a raw removal of the `__future__` import statements\n - the second commit removes the `del absolute_import,...` statements that were here to avoid those to appear in the tab completion\n-- the third commit is about preparsing (reverts #27719)\n-- the fourth commit fixes a doctest\n+- the third commit fixes a doctest\n+- the fourth commit removes the automatic addition of `__future__` complieflags from the doctest framework\n \n After applying the branch, you might have to rebuild `psutil` and `sympy`.\n \n-Reviewers have to run the doctests by themselves since the patchbot will not.\n \n``````\n",
    "created_at": "2020-11-20T12:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611793",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,14 +1,13 @@
 The `__future__` import statements were part of the Python2-to-Python3 migration scaffolding. Since it is unlikely we will move back to supporting Python 2, we should remove those.
 
-In order not to interfere with #30627, the `__future__` import statements of `SAGE_ROOT/build/` are not removed.
+This ticket only deals with files within `SAGE_ROOT/src/sage`.
 
 Description of commits:
 - the first commit is a raw removal of the `__future__` import statements
 - the second commit removes the `del absolute_import,...` statements that were here to avoid those to appear in the tab completion
-- the third commit is about preparsing (reverts #27719)
-- the fourth commit fixes a doctest
+- the third commit fixes a doctest
+- the fourth commit removes the automatic addition of `__future__` complieflags from the doctest framework
 
 After applying the branch, you might have to rebuild `psutil` and `sympy`.
 
-Reviewers have to run the doctests by themselves since the patchbot will not.
 
``````




---

archive/issue_comments_611794.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Matthias Koeppe\"",
    "created_at": "2020-11-20T18:12:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611794",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "" to "Matthias Koeppe"



---

archive/issue_comments_611795.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-11-20T18:12:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611795",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_611796.json:
```json
{
    "body": "<a id='comment:23'></a>\nMerge conflict",
    "created_at": "2020-11-24T23:13:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611796",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:23'></a>
Merge conflict



---

archive/issue_comments_611797.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-11-24T23:13:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611797",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_611798.json:
```json
{
    "body": "Changing branch from \"u/tmonteil/no_future\" to \"u/mkoeppe/no_future\"",
    "created_at": "2020-11-24T23:45:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611798",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "u/tmonteil/no_future" to "u/mkoeppe/no_future"



---

archive/issue_comments_611799.json:
```json
{
    "body": "Changing commit from \"a0691cc3a1d904ab0a72710b5fa5f9fc026e13ef\" to \"7e718983175210bf34394508a97042b7c7fdff6c\"",
    "created_at": "2020-11-24T23:45:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611799",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "a0691cc3a1d904ab0a72710b5fa5f9fc026e13ef" to "7e718983175210bf34394508a97042b7c7fdff6c"



---

archive/issue_comments_611800.json:
```json
{
    "body": "<a id='comment:25'></a>\nNew commits:\n|                                                                                                                                          |                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[7e71898](https://git.sagemath.org/sage.git/commit?id=7e718983175210bf34394508a97042b7c7fdff6c)|`Merge tag '9.3.beta2' into t/30850/no_future`|",
    "created_at": "2020-11-24T23:45:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611800",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
New commits:
|                                                                                                                                          |                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[7e71898](https://git.sagemath.org/sage.git/commit?id=7e718983175210bf34394508a97042b7c7fdff6c)|`Merge tag '9.3.beta2' into t/30850/no_future`|



---

archive/issue_comments_611801.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2020-11-24T23:45:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611801",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_611802.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/no_future\" to \"7e718983175210bf34394508a97042b7c7fdff6c\"",
    "created_at": "2020-12-05T22:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611802",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/no_future" to "7e718983175210bf34394508a97042b7c7fdff6c"



---

archive/issue_events_080498.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-12-05T22:13:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30850#event-80498"
}
```



---

archive/issue_comments_611803.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-12-05T22:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30850#issuecomment-611803",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
