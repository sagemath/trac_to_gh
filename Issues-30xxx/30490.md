# Issue 30490: Reduce doctesting time for polyhedra

archive/issues_030253.json:
```json
{
    "body": "Even with #30489 I still get the following times (with `pynormaliz`):\n\n```\nsage -t --long --warn-long 87.1 --random-seed=0 ppl_lattice_polytope.py\n    [175 tests, 10.41 s]\nsage -t --long --warn-long 86.8 --random-seed=0 library.py\n    [409 tests, 118.82 s]\n```\n\nThis ticket tries to reduce this time somewhat by removing super long doctest.\n\nNew timings with this ticket\n\n```\nsage -t --long --warn-long 87.1 --random-seed=0 ppl_lattice_polytope.py\n    [175 tests, 4.46 s]\nsage -t --long --warn-long 86.8 --random-seed=0 library.py\n    [409 tests, 73.42 s]\n```\n\nRelated tickets:\n- #30492 removes cythonizing in doctests related to `CombinatorialPolyhedron`\n\nCC:  @mkoeppe\n\nReviewer: Matthias Koeppe\n\nAuthor: Jonathan Kliem\n\nBranch: 242d4ae7e312349dda16d01b6def2c9906c1f798\n\nDependencies: #30489\n\nCommit: 242d4ae7e312349dda16d01b6def2c9906c1f798\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30490\n\n",
    "closed_at": "2020-09-06T21:51:15Z",
    "created_at": "2020-09-02T07:48:45Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Reduce doctesting time for polyhedra",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30490",
    "user": "https://github.com/kliem"
}
```
Even with #30489 I still get the following times (with `pynormaliz`):

```
sage -t --long --warn-long 87.1 --random-seed=0 ppl_lattice_polytope.py
    [175 tests, 10.41 s]
sage -t --long --warn-long 86.8 --random-seed=0 library.py
    [409 tests, 118.82 s]
```

This ticket tries to reduce this time somewhat by removing super long doctest.

New timings with this ticket

```
sage -t --long --warn-long 87.1 --random-seed=0 ppl_lattice_polytope.py
    [175 tests, 4.46 s]
sage -t --long --warn-long 86.8 --random-seed=0 library.py
    [409 tests, 73.42 s]
```

Related tickets:
- #30492 removes cythonizing in doctests related to `CombinatorialPolyhedron`

CC:  @mkoeppe

Reviewer: Matthias Koeppe

Author: Jonathan Kliem

Branch: 242d4ae7e312349dda16d01b6def2c9906c1f798

Dependencies: #30489

Commit: 242d4ae7e312349dda16d01b6def2c9906c1f798

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30490





---

archive/issue_comments_430854.json:
```json
{
    "body": "<a id='comment:6'></a>`src/sage/geometry/polyhedron/ppl_lattice_polytope.py`\n\ncontains benchmarking. This is pointless as an doctest (unless you want to prove that you can run this thing multiple times without throwing an error) and it's better to provide the reader with the information which method works fastest.",
    "created_at": "2020-09-02T12:54:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30490",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30490#issuecomment-430854",
    "user": "https://github.com/kliem"
}
```

<a id='comment:6'></a>`src/sage/geometry/polyhedron/ppl_lattice_polytope.py`

contains benchmarking. This is pointless as an doctest (unless you want to prove that you can run this thing multiple times without throwing an error) and it's better to provide the reader with the information which method works fastest.



---

archive/issue_comments_430855.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-09-02T14:35:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30490",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30490#issuecomment-430855",
    "user": "https://github.com/kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_430856.json:
```json
{
    "body": "<a id='comment:8'></a>New commits:",
    "created_at": "2020-09-02T14:35:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30490",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30490#issuecomment-430856",
    "user": "https://github.com/kliem"
}
```

<a id='comment:8'></a>New commits:



---

archive/issue_comments_430857.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-02T16:25:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30490",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30490#issuecomment-430857",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_430858.json:
```json
{
    "body": "<a id='comment:10'></a>Thank you.",
    "created_at": "2020-09-02T16:36:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30490",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30490#issuecomment-430858",
    "user": "https://github.com/kliem"
}
```

<a id='comment:10'></a>Thank you.



---

archive/issue_comments_430859.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-09-06T21:51:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30490",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30490#issuecomment-430859",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_079184.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-09-06T21:51:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30490",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30490#event-79184"
}
```
