# Issue 30923: tox.ini: Add environments local-sudo-ubuntu-standard, etc.

archive/issues_030686.json:
```json
{
    "assignees": [],
    "body": "These environments would just run `sudo apt-get ...` etc. to install (but not remove!) packages, for use at the user's own risk.\n\nTo test (on an Ubuntu system):\n\n```\n    tox -e local-sudo-ubuntu-bionic-standard\n```\nor\n\n```\n    tox -e local-sudo-standard\n```\n\n\n  \n\nCC:  @tobiasdiez @dimpase\n\nBranch: **[ff34897](https://github.com/sagemath/sagetrac-mirror/commit/ff34897cac35061afd348cc08a6559f95f406f14)**\n\nReviewer: **Tobias Diez, Dima Pasechnik**\n\nAuthor: **Matthias Koeppe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30923_\n\n",
    "closed_at": "2020-11-22T15:05:26Z",
    "created_at": "2020-11-15T23:38:33Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20porting",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "tox.ini: Add environments local-sudo-ubuntu-standard, etc.",
    "type": "issue",
    "updated_at": "2020-11-22T17:54:07Z",
    "url": "https://github.com/sagemath/sage/issues/30923",
    "user": "https://github.com/mkoeppe"
}
```
These environments would just run `sudo apt-get ...` etc. to install (but not remove!) packages, for use at the user's own risk.

To test (on an Ubuntu system):

```
    tox -e local-sudo-ubuntu-bionic-standard
```
or

```
    tox -e local-sudo-standard
```


  

CC:  @tobiasdiez @dimpase

Branch: **[ff34897](https://github.com/sagemath/sagetrac-mirror/commit/ff34897cac35061afd348cc08a6559f95f406f14)**

Reviewer: **Tobias Diez, Dima Pasechnik**

Author: **Matthias Koeppe**

_Issue created by migration from https://trac.sagemath.org/ticket/30923_





---

archive/issue_events_394383.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-15T23:38:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30923#event-394383"
}
```



---

archive/issue_events_394384.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-15T23:38:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20porting",
    "label_color": "000080",
    "label_name": "component: porting",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30923#event-394384"
}
```



---

archive/issue_events_394385.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-15T23:38:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30923#event-394385"
}
```



---

archive/issue_events_394386.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-15T23:38:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30923#event-394386"
}
```



---

archive/issue_comments_498463.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-11-15T23:46:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498463",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_498464.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nIs it possible to put the sudo outside? I.e. `sudo tox -r local-ubuntu-standard`?",
    "created_at": "2020-11-16T00:03:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498464",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:2'>Comment 2:</a>
Is it possible to put the sudo outside? I.e. `sudo tox -r local-ubuntu-standard`?



---

archive/issue_comments_498465.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nBut we would only want to do the package installation as root, not the Sage build",
    "created_at": "2020-11-16T00:06:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498465",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'>Comment 3:</a>
But we would only want to do the package installation as root, not the Sage build



---

archive/issue_comments_498466.json:
```json
{
    "body": "Branch: **[u/mkoeppe/tox_ini__add_environments_local_sudo_ubuntu_standard__etc_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_environments_local_sudo_ubuntu_standard__etc_)**",
    "created_at": "2020-11-16T00:07:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498466",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/tox_ini__add_environments_local_sudo_ubuntu_standard__etc_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_environments_local_sudo_ubuntu_standard__etc_)**



---

archive/issue_comments_498467.json:
```json
{
    "body": "Commit: **[30e624a](https://github.com/sagemath/sagetrac-mirror/commit/30e624abbc52b5a5a060a4eca801e8fda303937f)**",
    "created_at": "2020-11-16T00:07:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498467",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[30e624a](https://github.com/sagemath/sagetrac-mirror/commit/30e624abbc52b5a5a060a4eca801e8fda303937f)**



---

archive/issue_comments_498468.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nHere's a first approximation.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30e624abbc52b5a5a060a4eca801e8fda303937f\">30e624a</a></td><td><code>tox.ini: Add local-sudo</code></td></tr></table>\n",
    "created_at": "2020-11-16T00:07:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498468",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'>Comment 5:</a>
Here's a first approximation.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30e624abbc52b5a5a060a4eca801e8fda303937f">30e624a</a></td><td><code>tox.ini: Add local-sudo</code></td></tr></table>




---

archive/issue_comments_498469.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,10 @@\n These environments would just run `sudo apt-get ...` etc. to install (but not remove!) packages, for use at the user's own risk.\n \n+To test (on an Ubuntu system):\n+\n+```\n+    tox -e local-sudo-ubuntu-standard\n+```\n+\n+\n+  \n``````\n",
    "created_at": "2020-11-16T00:09:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498469",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,10 @@
 These environments would just run `sudo apt-get ...` etc. to install (but not remove!) packages, for use at the user's own risk.
 
+To test (on an Ubuntu system):
+
+```
+    tox -e local-sudo-ubuntu-standard
+```
+
+
+  
``````




---

archive/issue_comments_498470.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nI think you forgot the confirmation `-y` after `install`: https://github.com/tobiasdiez/sage/commit/942149ee76a97628046042b7255a2d31630e7721\n\nMoreover, I was wondering if one should also read the `debian-bootstrap.txt` files.\n\nFinally, there are problems that some of the packages are not found. First, one should probably add `sudo add-apt-repository ppa:deadsnakes/ppa` since otherwise `libpython3.7-dev` is not found on ubuntu 20.04. Second, `texlive-generic-extra` doesn't exist on ubuntu 20.04.\nhttps://github.com/tobiasdiez/sage/runs/1404001507?check_suite_focus=true\n\nOther than that, looks good to me! Thanks a lot.",
    "created_at": "2020-11-16T00:50:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498470",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:7'>Comment 7:</a>
I think you forgot the confirmation `-y` after `install`: https://github.com/tobiasdiez/sage/commit/942149ee76a97628046042b7255a2d31630e7721

Moreover, I was wondering if one should also read the `debian-bootstrap.txt` files.

Finally, there are problems that some of the packages are not found. First, one should probably add `sudo add-apt-repository ppa:deadsnakes/ppa` since otherwise `libpython3.7-dev` is not found on ubuntu 20.04. Second, `texlive-generic-extra` doesn't exist on ubuntu 20.04.
https://github.com/tobiasdiez/sage/runs/1404001507?check_suite_focus=true

Other than that, looks good to me! Thanks a lot.



---

archive/issue_comments_498471.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nYes, I'll add bootstrap\n\nI don't think we have `libpython3.7-dev` listed in the debian.txt files any more.\n\nBut yes, handling `IGNORE_MISSING_SYSTEM_PACKAGES` needs to be done.\n\nFor deadsnakes, there's #30217. This would not be the default, but a mix-in flavor.",
    "created_at": "2020-11-16T00:55:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498471",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'>Comment 8:</a>
Yes, I'll add bootstrap

I don't think we have `libpython3.7-dev` listed in the debian.txt files any more.

But yes, handling `IGNORE_MISSING_SYSTEM_PACKAGES` needs to be done.

For deadsnakes, there's #30217. This would not be the default, but a mix-in flavor.



---

archive/issue_comments_498472.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nOn a second thought, do you really thing it's the job of tox to install system packages? I would feel more comfortable to put the code into a  shell script that you can run as `build/install_system_packages ubuntu-2004`, say. (Having such a script might be a good idea anyway).",
    "created_at": "2020-11-16T00:56:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498472",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:9'>Comment 9:</a>
On a second thought, do you really thing it's the job of tox to install system packages? I would feel more comfortable to put the code into a  shell script that you can run as `build/install_system_packages ubuntu-2004`, say. (Having such a script might be a good idea anyway).



---

archive/issue_comments_498473.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75ecd11e878e34a4c508d2f983b6d7527e689f94\">75ecd11</a></td><td><code>tox.ini (local-sudo): Also use ...-bootstrap.txt</code></td></tr></table>\n",
    "created_at": "2020-11-16T00:57:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498473",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75ecd11e878e34a4c508d2f983b6d7527e689f94">75ecd11</a></td><td><code>tox.ini (local-sudo): Also use ...-bootstrap.txt</code></td></tr></table>




---

archive/issue_comments_498474.json:
```json
{
    "body": "Changed commit from **[30e624a](https://github.com/sagemath/sagetrac-mirror/commit/30e624abbc52b5a5a060a4eca801e8fda303937f)** to **[75ecd11](https://github.com/sagemath/sagetrac-mirror/commit/75ecd11e878e34a4c508d2f983b6d7527e689f94)**",
    "created_at": "2020-11-16T00:57:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498474",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[30e624a](https://github.com/sagemath/sagetrac-mirror/commit/30e624abbc52b5a5a060a4eca801e8fda303937f)** to **[75ecd11](https://github.com/sagemath/sagetrac-mirror/commit/75ecd11e878e34a4c508d2f983b6d7527e689f94)**



---

archive/issue_comments_498475.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@mkoeppe](#comment%3A8):\n> But yes, handling `IGNORE_MISSING_SYSTEM_PACKAGES` needs to be done.\n\nand/or change `texlive-generic-extra` that exist on modern ubuntu systems as well.",
    "created_at": "2020-11-16T00:59:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498475",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@mkoeppe](#comment%3A8):
> But yes, handling `IGNORE_MISSING_SYSTEM_PACKAGES` needs to be done.

and/or change `texlive-generic-extra` that exist on modern ubuntu systems as well.



---

archive/issue_comments_498476.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nReplying to [git](#comment%3A10):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75ecd11e878e34a4c508d2f983b6d7527e689f94\">75ecd11</a></td><td><code>tox.ini (local-sudo): Also use ...-bootstrap.txt</code></td></tr></table>\n\nDon't forget to change local-sudo-standard/maximal as well.",
    "created_at": "2020-11-16T01:01:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498476",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:12'>Comment 12:</a>
Replying to [git](#comment%3A10):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75ecd11e878e34a4c508d2f983b6d7527e689f94">75ecd11</a></td><td><code>tox.ini (local-sudo): Also use ...-bootstrap.txt</code></td></tr></table>

Don't forget to change local-sudo-standard/maximal as well.



---

archive/issue_comments_498477.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nReplying to [@tobiasdiez](#comment%3A9):\n> On a second thought, do you really thing it's the job of tox to install system packages? I would feel more comfortable to put the code into a  shell script that you can run as `build/install_system_packages ubuntu-2004`, say. (Having such a script might be a good idea anyway).  \n\nIt's working well with tox, in particular the environment factors give a nice compact way of expressing different configurations. \n\nAnd I definitely do not want to add user-facing scripts to Sage that promises to install all necessary system packages. We deliberately only offer system package *advice* (at the end of `./configure`). Already now users complain if that advice is not entirely accurate -- so we definitely do not want to make stronger promises! We simply do not have enough developers who could keep it up to date.\n\nBut there is a lot of room for refactoring what is in `tox.ini` into various helper scripts. I have described some possible directions in #30865 -- help is very welcome there.",
    "created_at": "2020-11-16T01:08:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498477",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'>Comment 13:</a>
Replying to [@tobiasdiez](#comment%3A9):
> On a second thought, do you really thing it's the job of tox to install system packages? I would feel more comfortable to put the code into a  shell script that you can run as `build/install_system_packages ubuntu-2004`, say. (Having such a script might be a good idea anyway).  

It's working well with tox, in particular the environment factors give a nice compact way of expressing different configurations. 

And I definitely do not want to add user-facing scripts to Sage that promises to install all necessary system packages. We deliberately only offer system package *advice* (at the end of `./configure`). Already now users complain if that advice is not entirely accurate -- so we definitely do not want to make stronger promises! We simply do not have enough developers who could keep it up to date.

But there is a lot of room for refactoring what is in `tox.ini` into various helper scripts. I have described some possible directions in #30865 -- help is very welcome there.



---

archive/issue_comments_498478.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nReplying to [@tobiasdiez](#comment%3A12):\n> Replying to [git](#comment%3A10):\n> > Branch pushed to git repo; I updated commit sha1. New commits:\n\n> |                                                                                                                                                 |                                                  |\n> |-------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n> |[75ecd11](https://github.com/sagemath/sagetrac-mirror/commit/75ecd11e878e34a4c508d2f983b6d7527e689f94)|`tox.ini (local-sudo): Also use ...-bootstrap.txt`|\n> \n> Don't forget to change local-sudo-standard/maximal as well.\n\nNo, that line is also executed for these environments - by the magic of tox's factor conditions.",
    "created_at": "2020-11-16T01:09:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498478",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'>Comment 14:</a>
Replying to [@tobiasdiez](#comment%3A12):
> Replying to [git](#comment%3A10):
> > Branch pushed to git repo; I updated commit sha1. New commits:

> |                                                                                                                                                 |                                                  |
> |-------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
> |[75ecd11](https://github.com/sagemath/sagetrac-mirror/commit/75ecd11e878e34a4c508d2f983b6d7527e689f94)|`tox.ini (local-sudo): Also use ...-bootstrap.txt`|
> 
> Don't forget to change local-sudo-standard/maximal as well.

No, that line is also executed for these environments - by the magic of tox's factor conditions.



---

archive/issue_comments_498479.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0dc79eb4b542a11aa8c226ca8cf9f0e2306698eb\">0dc79eb</a></td><td><code>build/bin/sage-print-system-package-command: Handle --no-install-recommends, --yes for systems for which write-dockerfile.sh knows these flags</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/050dcb8275b3a7e0db4c7ae3503428107bb5bf17\">050dcb8</a></td><td><code>tox.ini (local-sudo): Use --yes --no-install-recommends</code></td></tr></table>\n",
    "created_at": "2020-11-16T01:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498479",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:15'>Comment 15:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0dc79eb4b542a11aa8c226ca8cf9f0e2306698eb">0dc79eb</a></td><td><code>build/bin/sage-print-system-package-command: Handle --no-install-recommends, --yes for systems for which write-dockerfile.sh knows these flags</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/050dcb8275b3a7e0db4c7ae3503428107bb5bf17">050dcb8</a></td><td><code>tox.ini (local-sudo): Use --yes --no-install-recommends</code></td></tr></table>




---

archive/issue_comments_498480.json:
```json
{
    "body": "Changed commit from **[75ecd11](https://github.com/sagemath/sagetrac-mirror/commit/75ecd11e878e34a4c508d2f983b6d7527e689f94)** to **[050dcb8](https://github.com/sagemath/sagetrac-mirror/commit/050dcb8275b3a7e0db4c7ae3503428107bb5bf17)**",
    "created_at": "2020-11-16T01:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498480",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[75ecd11](https://github.com/sagemath/sagetrac-mirror/commit/75ecd11e878e34a4c508d2f983b6d7527e689f94)** to **[050dcb8](https://github.com/sagemath/sagetrac-mirror/commit/050dcb8275b3a7e0db4c7ae3503428107bb5bf17)**



---

archive/issue_comments_498481.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8fbe0beaec3a404d330aaebdf37186e9c6becec\">c8fbe0b</a></td><td><code>tox.ini (local-sudo): Ignore errors when IGNORE_MISSING_SYSTEM_PACKAGES=yes</code></td></tr></table>\n",
    "created_at": "2020-11-16T01:57:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498481",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'>Comment 16:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8fbe0beaec3a404d330aaebdf37186e9c6becec">c8fbe0b</a></td><td><code>tox.ini (local-sudo): Ignore errors when IGNORE_MISSING_SYSTEM_PACKAGES=yes</code></td></tr></table>




---

archive/issue_comments_498482.json:
```json
{
    "body": "Changed commit from **[050dcb8](https://github.com/sagemath/sagetrac-mirror/commit/050dcb8275b3a7e0db4c7ae3503428107bb5bf17)** to **[c8fbe0b](https://github.com/sagemath/sagetrac-mirror/commit/c8fbe0beaec3a404d330aaebdf37186e9c6becec)**",
    "created_at": "2020-11-16T01:57:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498482",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[050dcb8](https://github.com/sagemath/sagetrac-mirror/commit/050dcb8275b3a7e0db4c7ae3503428107bb5bf17)** to **[c8fbe0b](https://github.com/sagemath/sagetrac-mirror/commit/c8fbe0beaec3a404d330aaebdf37186e9c6becec)**



---

archive/issue_events_394387.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-16T02:05:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30923#event-394387"
}
```



---

archive/issue_comments_498483.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,8 +3,7 @@\n To test (on an Ubuntu system):\n \n ```\n-    tox -e local-sudo-ubuntu-standard\n+    tox -e local-sudo-ubuntu-bionic-standard\n ```\n \n-\n   \n``````\n",
    "created_at": "2020-11-16T02:05:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498483",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,8 +3,7 @@
 To test (on an Ubuntu system):
 
 ```
-    tox -e local-sudo-ubuntu-standard
+    tox -e local-sudo-ubuntu-bionic-standard
 ```
 
-
   
``````




---

archive/issue_comments_498484.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff34897cac35061afd348cc08a6559f95f406f14\">ff34897</a></td><td><code>tox.ini (local): Guess the package system if it is not provided as a factor</code></td></tr></table>\n",
    "created_at": "2020-11-16T03:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498484",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'>Comment 18:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff34897cac35061afd348cc08a6559f95f406f14">ff34897</a></td><td><code>tox.ini (local): Guess the package system if it is not provided as a factor</code></td></tr></table>




---

archive/issue_comments_498485.json:
```json
{
    "body": "Changed commit from **[c8fbe0b](https://github.com/sagemath/sagetrac-mirror/commit/c8fbe0beaec3a404d330aaebdf37186e9c6becec)** to **[ff34897](https://github.com/sagemath/sagetrac-mirror/commit/ff34897cac35061afd348cc08a6559f95f406f14)**",
    "created_at": "2020-11-16T03:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498485",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c8fbe0b](https://github.com/sagemath/sagetrac-mirror/commit/c8fbe0beaec3a404d330aaebdf37186e9c6becec)** to **[ff34897](https://github.com/sagemath/sagetrac-mirror/commit/ff34897cac35061afd348cc08a6559f95f406f14)**



---

archive/issue_comments_498486.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,5 +5,11 @@\n ```\n     tox -e local-sudo-ubuntu-bionic-standard\n ```\n+or\n+\n+```\n+    tox -e local-sudo-standard\n+```\n+\n \n   \n``````\n",
    "created_at": "2020-11-16T03:01:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498486",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,5 +5,11 @@
 ```
     tox -e local-sudo-ubuntu-bionic-standard
 ```
+or
+
+```
+    tox -e local-sudo-standard
+```
+
 
   
``````




---

archive/issue_comments_498487.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nReplying to [@mkoeppe](#comment%3A13):\n> Replying to [@tobiasdiez](#comment%3A9):\n> > On a second thought, do you really thing it's the job of tox to install system packages? I would feel more comfortable to put the code into a  shell script that you can run as `build/install_system_packages ubuntu-2004`, say. (Having such a script might be a good idea anyway).  \n\n> \n> It's working well with tox, in particular the environment factors give a nice compact way of expressing different configurations. \n\nSure, but it feels a bit like you are using tox for something it wasn't designed. Normally, in a tox setting, \"environment\" refers to a virtual python env, but for sage it is the complete system env including the os and system packages. I have the feeling a more general-purpose framework like invoke would be a better solution to manage these things.\n\n> And I definitely do not want to add user-facing scripts to Sage that promises to install all necessary system packages.\n\nI didn't meant it as a user-facing script, but only for developers (i.e don't ship it).",
    "created_at": "2020-11-16T10:57:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498487",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:20'>Comment 20:</a>
Replying to [@mkoeppe](#comment%3A13):
> Replying to [@tobiasdiez](#comment%3A9):
> > On a second thought, do you really thing it's the job of tox to install system packages? I would feel more comfortable to put the code into a  shell script that you can run as `build/install_system_packages ubuntu-2004`, say. (Having such a script might be a good idea anyway).  

> 
> It's working well with tox, in particular the environment factors give a nice compact way of expressing different configurations. 

Sure, but it feels a bit like you are using tox for something it wasn't designed. Normally, in a tox setting, "environment" refers to a virtual python env, but for sage it is the complete system env including the os and system packages. I have the feeling a more general-purpose framework like invoke would be a better solution to manage these things.

> And I definitely do not want to add user-facing scripts to Sage that promises to install all necessary system packages.

I didn't meant it as a user-facing script, but only for developers (i.e don't ship it).



---

archive/issue_comments_498488.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nI've tested the current code in the wsl github workflow and it seems to work well: https://github.com/tobiasdiez/sage/actions/runs/365823571",
    "created_at": "2020-11-16T10:58:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498488",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:21'>Comment 21:</a>
I've tested the current code in the wsl github workflow and it seems to work well: https://github.com/tobiasdiez/sage/actions/runs/365823571



---

archive/issue_comments_498489.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nSounds like a positive review?",
    "created_at": "2020-11-16T18:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498489",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'>Comment 22:</a>
Sounds like a positive review?



---

archive/issue_comments_498490.json:
```json
{
    "body": "Reviewer: **Tobias Diez, ...**",
    "created_at": "2020-11-16T19:45:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498490",
    "user": "https://github.com/tobiasdiez"
}
```

Reviewer: **Tobias Diez, ...**



---

archive/issue_comments_498491.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nYes, in principle. But I cannot really judge the changes in the bash script.",
    "created_at": "2020-11-16T19:45:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498491",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:23'>Comment 23:</a>
Yes, in principle. But I cannot really judge the changes in the bash script.



---

archive/issue_events_394388.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-11-17T22:17:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30923#event-394388"
}
```



---

archive/issue_events_394389.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-11-17T22:17:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30923#event-394389"
}
```



---

archive/issue_comments_498492.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nok",
    "created_at": "2020-11-17T22:17:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498492",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:25'>Comment 25:</a>
ok



---

archive/issue_comments_498493.json:
```json
{
    "body": "Changed reviewer from **Tobias Diez, ...** to **Tobias Diez, Dima Pasechnik**",
    "created_at": "2020-11-17T22:17:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498493",
    "user": "https://github.com/dimpase"
}
```

Changed reviewer from **Tobias Diez, ...** to **Tobias Diez, Dima Pasechnik**



---

archive/issue_comments_498494.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nThanks!",
    "created_at": "2020-11-17T22:18:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498494",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'>Comment 26:</a>
Thanks!



---

archive/issue_comments_498495.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nIs it possible to call only the system package install code via tox (i.e. don't run rest of build and tests)? \n\nThat would be handy for #30371.",
    "created_at": "2020-11-21T12:51:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498495",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:27'>Comment 27:</a>
Is it possible to call only the system package install code via tox (i.e. don't run rest of build and tests)? 

That would be handy for #30371.



---

archive/issue_comments_498496.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nReplying to [@tobiasdiez](#comment%3A27):\n> Is it possible to call only the system package install code via tox (i.e. don't run rest of build and tests)? \n\nYes, you can pass make targets to tox, e.g., `tox -e local-sudo-standard -- configure` will only run `bootstrap`, or `tox -e local-sudo-standard -- config.status` will stop after running `./configure`",
    "created_at": "2020-11-21T18:54:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498496",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'>Comment 28:</a>
Replying to [@tobiasdiez](#comment%3A27):
> Is it possible to call only the system package install code via tox (i.e. don't run rest of build and tests)? 

Yes, you can pass make targets to tox, e.g., `tox -e local-sudo-standard -- configure` will only run `bootstrap`, or `tox -e local-sudo-standard -- config.status` will stop after running `./configure`



---

archive/issue_comments_498497.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nThanks! That kind of worked. I had to install `sudo` manually, since this is not installed by default on github actions and also not necessary.\nIt would be nice if you could try to make it work without sudo.\n\n```\nlocal-sudo-standard run-test: commands[2] | bash -c 'PACKAGES=`sed \"s/#.*//;\" build/pkgs/$(build/bin/sage-guess-package-system)*.txt`; $(build/bin/sage-print-system-package-command $(build/bin/sage-guess-package-system) --sudo --yes --no-install-recommends install $PACKAGES) || [ \"$IGNORE_MISSING_SYSTEM_PACKAGES\" = yes ] && echo \"(ignoring errors)\" '\n/usr/bin/bash: sudo: command not found\n\nERROR: InvocationError for command /usr/bin/bash -c 'PACKAGES=`sed \"s/#.*//;\" build/pkgs/$(build/bin/sage-guess-package-system)*.txt`; $(build/bin/sage-print-system-package-command $(build/bin/sage-guess-package-system) --sudo --yes --no-install-recommends install $PACKAGES) || [ \"$IGNORE_MISSING_SYSTEM_PACKAGES\" = yes ] && echo \"(ignoring errors)\" ' (exited with code 1)\n```\n\nEdit: Moreover, `DEBIAN_FRONTEND: noninteractive` was/is missing. And it fails with \n\n```\nconfigure: error: You cannot build Sage as root, switch to an unprivileged user.  (If building in a container, use --enable-build-as-root.)\n```\nFinally, `tox -e local-sudo-standard -- config.status` doesn't stop after contigure and continues with `make`, see https://github.com/tobiasdiez/sage/runs/1438029552?check_suite_focus=true\n\nSince using this tox command for ci was one of the motivations but doesn't really work at the moment without extra modifications, I'll set the ticket back to needs work.",
    "created_at": "2020-11-22T10:10:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498497",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:29'>Comment 29:</a>
Thanks! That kind of worked. I had to install `sudo` manually, since this is not installed by default on github actions and also not necessary.
It would be nice if you could try to make it work without sudo.

```
local-sudo-standard run-test: commands[2] | bash -c 'PACKAGES=`sed "s/#.*//;" build/pkgs/$(build/bin/sage-guess-package-system)*.txt`; $(build/bin/sage-print-system-package-command $(build/bin/sage-guess-package-system) --sudo --yes --no-install-recommends install $PACKAGES) || [ "$IGNORE_MISSING_SYSTEM_PACKAGES" = yes ] && echo "(ignoring errors)" '
/usr/bin/bash: sudo: command not found

ERROR: InvocationError for command /usr/bin/bash -c 'PACKAGES=`sed "s/#.*//;" build/pkgs/$(build/bin/sage-guess-package-system)*.txt`; $(build/bin/sage-print-system-package-command $(build/bin/sage-guess-package-system) --sudo --yes --no-install-recommends install $PACKAGES) || [ "$IGNORE_MISSING_SYSTEM_PACKAGES" = yes ] && echo "(ignoring errors)" ' (exited with code 1)
```

Edit: Moreover, `DEBIAN_FRONTEND: noninteractive` was/is missing. And it fails with 

```
configure: error: You cannot build Sage as root, switch to an unprivileged user.  (If building in a container, use --enable-build-as-root.)
```
Finally, `tox -e local-sudo-standard -- config.status` doesn't stop after contigure and continues with `make`, see https://github.com/tobiasdiez/sage/runs/1438029552?check_suite_focus=true

Since using this tox command for ci was one of the motivations but doesn't really work at the moment without extra modifications, I'll set the ticket back to needs work.



---

archive/issue_events_394390.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-11-22T10:26:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30923#event-394390"
}
```



---

archive/issue_events_394391.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-11-22T10:26:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30923#event-394391"
}
```



---

archive/issue_events_394392.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-22T15:05:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30923#event-394392"
}
```



---

archive/issue_events_394393.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "40c167483f5706511593270f9b216b8f0f236706",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-11-22T15:05:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30923#event-394393"
}
```



---

archive/issue_comments_498498.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/tox_ini__add_environments_local_sudo_ubuntu_standard__etc_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_environments_local_sudo_ubuntu_standard__etc_)** to **[ff34897](https://github.com/sagemath/sagetrac-mirror/commit/ff34897cac35061afd348cc08a6559f95f406f14)**",
    "created_at": "2020-11-22T15:05:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498498",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/tox_ini__add_environments_local_sudo_ubuntu_standard__etc_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_environments_local_sudo_ubuntu_standard__etc_)** to **[ff34897](https://github.com/sagemath/sagetrac-mirror/commit/ff34897cac35061afd348cc08a6559f95f406f14)**



---

archive/issue_comments_498499.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nCan you make a separate ticket for that? Once a ticket is in positive review I'll only unmerge it for critical bugs, not things that would also be good to have.",
    "created_at": "2020-11-22T15:13:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498499",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:32'>Comment 32:</a>
Can you make a separate ticket for that? Once a ticket is in positive review I'll only unmerge it for critical bugs, not things that would also be good to have.



---

archive/issue_comments_498500.json:
```json
{
    "body": "Changed commit from **[ff34897](https://github.com/sagemath/sagetrac-mirror/commit/ff34897cac35061afd348cc08a6559f95f406f14)** to none",
    "created_at": "2020-11-22T15:13:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498500",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[ff34897](https://github.com/sagemath/sagetrac-mirror/commit/ff34897cac35061afd348cc08a6559f95f406f14)** to none



---

archive/issue_comments_498501.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nSure! It's now #30944. Sorry if I broke any (unwritten) laws; I wasn't sure about resetting it to \"needs work\".",
    "created_at": "2020-11-22T17:54:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30923#issuecomment-498501",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:33'>Comment 33:</a>
Sure! It's now #30944. Sorry if I broke any (unwritten) laws; I wasn't sure about resetting it to "needs work".
