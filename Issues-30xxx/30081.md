# Issue 30081: Cleaning and improving consistency in `distances` methods in graph module

archive/issues_029844.json:
```json
{
    "body": "This ticket aims to improve consistency in distance computation methods such as `shortest_path`, `shortest_path_length`, `shortest_path_all_pairs` etc.\n\nCC:  @dcoudert\n\nKeywords: gsoc2020\n\nBranch/Commit: [90c081ba1612b14d978073c282ee96f1c7225dec](https://github.com/sagemath/sagetrac-mirror/commit/90c081ba1612b14d978073c282ee96f1c7225dec)\n\nReviewer: David Coudert\n\nAuthor: Vipul Gupta\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30081\n\n",
    "closed_at": "2020-07-12T08:30:27Z",
    "created_at": "2020-07-06T19:07:36Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Cleaning and improving consistency in `distances` methods in graph module",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30081",
    "user": "https://github.com/vipul79321"
}
```
This ticket aims to improve consistency in distance computation methods such as `shortest_path`, `shortest_path_length`, `shortest_path_all_pairs` etc.

CC:  @dcoudert

Keywords: gsoc2020

Branch/Commit: [90c081ba1612b14d978073c282ee96f1c7225dec](https://github.com/sagemath/sagetrac-mirror/commit/90c081ba1612b14d978073c282ee96f1c7225dec)

Reviewer: David Coudert

Author: Vipul Gupta

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30081





---

archive/issue_comments_591932.json:
```json
{
    "body": "Branch: [public/graphs/30081_distances](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/30081_distances)",
    "created_at": "2020-07-06T19:08:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30081",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30081#issuecomment-591932",
    "user": "https://github.com/vipul79321"
}
```

Branch: [public/graphs/30081_distances](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/30081_distances)



---

archive/issue_comments_591933.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-07-06T19:08:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30081",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30081#issuecomment-591933",
    "user": "https://github.com/vipul79321"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_591934.json:
```json
{
    "body": "Commit: [203efd20054250d66eff8b75ddfd862eb0f724b1](https://github.com/sagemath/sagetrac-mirror/commit/203efd20054250d66eff8b75ddfd862eb0f724b1)",
    "created_at": "2020-07-06T19:08:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30081",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30081#issuecomment-591934",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Commit: [203efd20054250d66eff8b75ddfd862eb0f724b1](https://github.com/sagemath/sagetrac-mirror/commit/203efd20054250d66eff8b75ddfd862eb0f724b1)



---

archive/issue_comments_591935.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[203efd2](https://github.com/sagemath/sagetrac-mirror/commit/203efd20054250d66eff8b75ddfd862eb0f724b1)|`improved overall consistency in weight_function`|",
    "created_at": "2020-07-06T19:08:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30081",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30081#issuecomment-591935",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[203efd2](https://github.com/sagemath/sagetrac-mirror/commit/203efd20054250d66eff8b75ddfd862eb0f724b1)|`improved overall consistency in weight_function`|



---

archive/issue_comments_591936.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [git](#comment%3A2):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> |                                                                                                                                           |                                                 |\n> |-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n> |[203efd2](https://github.com/sagemath/sagetrac-mirror/commit/203efd20054250d66eff8b75ddfd862eb0f724b1)|`improved overall consistency in weight_function`|\n\n\nI have made use of `weight_function` consistent in all distance method.\n\nHave a look at it. Any suggestion will be helpful.\n\nVipul",
    "created_at": "2020-07-06T19:10:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30081",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30081#issuecomment-591936",
    "user": "https://github.com/vipul79321"
}
```

<a id='comment:3'></a>
Replying to [git](#comment%3A2):
> Branch pushed to git repo; I updated commit sha1. New commits:
> |                                                                                                                                           |                                                 |
> |-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
> |[203efd2](https://github.com/sagemath/sagetrac-mirror/commit/203efd20054250d66eff8b75ddfd862eb0f724b1)|`improved overall consistency in weight_function`|


I have made use of `weight_function` consistent in all distance method.

Have a look at it. Any suggestion will be helpful.

Vipul



---

archive/issue_comments_591937.json:
```json
{
    "body": "<a id='comment:4'></a>\nhave you also checked `src/sage/graphs/base/c_graph.pyx` ?",
    "created_at": "2020-07-07T08:39:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30081",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30081#issuecomment-591937",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:4'></a>
have you also checked `src/sage/graphs/base/c_graph.pyx` ?



---

archive/issue_comments_591938.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[11067fa](https://github.com/sagemath/sagetrac-mirror/commit/11067fab1d98eeff314dcc7427fdc6ef27906f7c)|`made changes in c_graph.pyx`|",
    "created_at": "2020-07-08T06:50:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30081",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30081#issuecomment-591938",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[11067fa](https://github.com/sagemath/sagetrac-mirror/commit/11067fab1d98eeff314dcc7427fdc6ef27906f7c)|`made changes in c_graph.pyx`|



---

archive/issue_comments_591939.json:
```json
{
    "body": "Changing commit from \"[203efd20054250d66eff8b75ddfd862eb0f724b1](https://github.com/sagemath/sagetrac-mirror/commit/203efd20054250d66eff8b75ddfd862eb0f724b1)\" to \"[11067fab1d98eeff314dcc7427fdc6ef27906f7c](https://github.com/sagemath/sagetrac-mirror/commit/11067fab1d98eeff314dcc7427fdc6ef27906f7c)\"",
    "created_at": "2020-07-08T06:50:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30081",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30081#issuecomment-591939",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[203efd20054250d66eff8b75ddfd862eb0f724b1](https://github.com/sagemath/sagetrac-mirror/commit/203efd20054250d66eff8b75ddfd862eb0f724b1)" to "[11067fab1d98eeff314dcc7427fdc6ef27906f7c](https://github.com/sagemath/sagetrac-mirror/commit/11067fab1d98eeff314dcc7427fdc6ef27906f7c)"



---

archive/issue_comments_591940.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[90c081b](https://github.com/sagemath/sagetrac-mirror/commit/90c081ba1612b14d978073c282ee96f1c7225dec)|`made changes in digraph.py`|",
    "created_at": "2020-07-08T06:59:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30081",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30081#issuecomment-591940",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[90c081b](https://github.com/sagemath/sagetrac-mirror/commit/90c081ba1612b14d978073c282ee96f1c7225dec)|`made changes in digraph.py`|



---

archive/issue_comments_591941.json:
```json
{
    "body": "Changing commit from \"[11067fab1d98eeff314dcc7427fdc6ef27906f7c](https://github.com/sagemath/sagetrac-mirror/commit/11067fab1d98eeff314dcc7427fdc6ef27906f7c)\" to \"[90c081ba1612b14d978073c282ee96f1c7225dec](https://github.com/sagemath/sagetrac-mirror/commit/90c081ba1612b14d978073c282ee96f1c7225dec)\"",
    "created_at": "2020-07-08T06:59:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30081",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30081#issuecomment-591941",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[11067fab1d98eeff314dcc7427fdc6ef27906f7c](https://github.com/sagemath/sagetrac-mirror/commit/11067fab1d98eeff314dcc7427fdc6ef27906f7c)" to "[90c081ba1612b14d978073c282ee96f1c7225dec](https://github.com/sagemath/sagetrac-mirror/commit/90c081ba1612b14d978073c282ee96f1c7225dec)"



---

archive/issue_comments_591942.json:
```json
{
    "body": "<a id='comment:7'></a>\nI have done all the changes for improving consistency of `weight_function` usage.\n\nTell me, if i have missed something.\n\nVipul\n\nP.S- `weight_function` changes in `eccentricity` , `radius`, `diameter` method of `graph.py` and `digraph.py` are done in their respective tickets.\nFor `digraph.py` in #30039 and for `graph.py` in #29744, #27934",
    "created_at": "2020-07-08T07:18:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30081",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30081#issuecomment-591942",
    "user": "https://github.com/vipul79321"
}
```

<a id='comment:7'></a>
I have done all the changes for improving consistency of `weight_function` usage.

Tell me, if i have missed something.

Vipul

P.S- `weight_function` changes in `eccentricity` , `radius`, `diameter` method of `graph.py` and `digraph.py` are done in their respective tickets.
For `digraph.py` in #30039 and for `graph.py` in #29744, #27934



---

archive/issue_comments_591943.json:
```json
{
    "body": "<a id='comment:8'></a>\nLGTM.",
    "created_at": "2020-07-11T13:34:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30081",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30081#issuecomment-591943",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:8'></a>
LGTM.



---

archive/issue_comments_591944.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-07-11T13:34:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30081",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30081#issuecomment-591944",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_591945.json:
```json
{
    "body": "Reviewer: David Coudert",
    "created_at": "2020-07-11T13:34:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30081",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30081#issuecomment-591945",
    "user": "https://github.com/dcoudert"
}
```

Reviewer: David Coudert



---

archive/issue_comments_591946.json:
```json
{
    "body": "Changing branch from \"[public/graphs/30081_distances](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/30081_distances)\" to \"[90c081ba1612b14d978073c282ee96f1c7225dec](https://github.com/sagemath/sagetrac-mirror/commit/90c081ba1612b14d978073c282ee96f1c7225dec)\"",
    "created_at": "2020-07-12T08:30:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30081",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30081#issuecomment-591946",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[public/graphs/30081_distances](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/30081_distances)" to "[90c081ba1612b14d978073c282ee96f1c7225dec](https://github.com/sagemath/sagetrac-mirror/commit/90c081ba1612b14d978073c282ee96f1c7225dec)"



---

archive/issue_events_087309.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-12T08:30:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30081",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30081#event-87309"
}
```



---

archive/issue_comments_591947.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-07-12T08:30:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30081",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30081#issuecomment-591947",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
