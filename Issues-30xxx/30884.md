# Issue 30884: Replace sage_wraps by decorator library

archive/issues_030647.json:
```json
{
    "assignees": [],
    "body": "Replace the sage custom sage_wrap and decorator_defaults methods by the well-maintained decorator library https://github.com/micheles/decorator.\n\nMy motivation is to replace sage's autodoc sphinx extension with the built-in one. For this, the Phyton introspection code needs to work without sage's customization. This ticket is a first step towards this goal. But independently of this motivation the approach using decorator library already provides cleaner code and better introspection results with respect to annotations (e.g. typing information). See the following test script for a comparison:\n\n```\nimport inspect\nfrom pathlib import Path\nfrom sage.misc.decorators import decorator_keywords, sage_wraps\nfrom decorator import decorator, getfullargspec\nfrom sage.misc.sageinspect import sage_getargspec\n\n@decorator\ndef warn_slow(func, timelimit=60, *args, **kw):\n    print('%s took %d seconds', func.__name__, timelimit)\n    return func(*args, **kw)\n\n@warn_slow\ndef preprocess_input_files(inputdir: Path, tempdir):\n    pass\n\n@warn_slow(timelimit=600)\ndef run_calculation(tempdir, outdir):\n    pass\n\nprint(\"With decorator\")\nprint(getfullargspec(preprocess_input_files))\n# FullArgSpec(args=['inputdir', 'tempdir'], varargs=None, varkw=None, defaults=None, kwonlyargs=[], kwonlydefaults=None, annotations={'inputdir': <class 'pathlib.Path'>})\nprint(inspect.getfullargspec(preprocess_input_files))\n# FullArgSpec(args=['inputdir', 'tempdir'], varargs=None, varkw=None, defaults=None, kwonlyargs=[], kwonlydefaults=None, annotations={'inputdir': <class 'pathlib.Path'>})\n# !! Yields full information as expected\nprint(sage_getargspec(preprocess_input_files))\n# ArgSpec(args=['inputdir', 'tempdir'], varargs=None, keywords=None, defaults=None)\n# !! No annotation information\nprint(getfullargspec(run_calculation))\n# FullArgSpec(args=['tempdir', 'outdir'], varargs=None, varkw=None, defaults=None, kwonlyargs=[], kwonlydefaults=None, annotations={})\nprint(inspect.getfullargspec(run_calculation))\n# FullArgSpec(args=['tempdir', 'outdir'], varargs=None, varkw=None, defaults=None, kwonlyargs=[], kwonlydefaults=None, annotations={})\nprint(sage_getargspec(preprocess_input_files))\n# ArgSpec(args=['inputdir', 'tempdir'], varargs=None, keywords=None, defaults=None)\n\n@decorator_keywords\ndef warn_slow_sage(func=None, timelimit=60):\n     @sage_wraps(func)\n     def wrapper(*args, **kwargs):\n         print('%s took %d seconds', func.__name__, timelimit)\n         return func(*args, **kw)\n     return wrapper\n\n@warn_slow_sage\ndef preprocess_input_files_sage(inputdir: Path, tempdir):\n    pass\n\n@warn_slow_sage(timelimit=600)\ndef run_calculation_sage(tempdir, outdir):\n    pass\n\nprint(\"With sage\")\nprint(getfullargspec(preprocess_input_files_sage))\n# FullArgSpec(args=[], varargs='args', varkw='kwargs', defaults=None, kwonlyargs=[], kwonlydefaults=None, annotations={})\nprint(inspect.getfullargspec(preprocess_input_files_sage))\n# FullArgSpec(args=[], varargs='args', varkw='kwargs', defaults=None, kwonlyargs=[], kwonlydefaults=None, annotations={})\n# !! No args nor annotation\nprint(sage_getargspec(preprocess_input_files_sage))\n# ArgSpec(args=['inputdir', 'tempdir'], varargs=None, keywords=None, defaults=None)\nprint(getfullargspec(run_calculation_sage))\n# !! No annotation info\n# FullArgSpec(args=[], varargs='args', varkw='kwargs', defaults=None, kwonlyargs=[], kwonlydefaults=None, annotations={})\nprint(inspect.getfullargspec(run_calculation_sage))\n# FullArgSpec(args=[], varargs='args', varkw='kwargs', defaults=None, kwonlyargs=[], kwonlydefaults=None, annotations={})\nprint(sage_getargspec(preprocess_input_files_sage))\n# ArgSpec(args=['inputdir', 'tempdir'], varargs=None, keywords=None, defaults=None)\n```\n\nReplacing `sage_getargspec` with `inspect.getfullargspec` will be done in a follow-up ticket (as this is already big enough).\n\n\nTodo (as follow-up): Migrate cachefunction etc to decorator framework. The documentation https://github.com/micheles/decorator/blob/master/docs/documentation.md#the-solution contains an example (memoize) of how this may look like.\n\nDepends on #26254\n\nCC:  @mkoeppe @kwankyu\n\nBranch/Commit: **[public/documentation/replaceDecorator](https://github.com/sagemath/sagetrac-mirror/tree/public/documentation/replaceDecorator) @ [`1b656a3`](https://github.com/sagemath/sagetrac-mirror/commit/1b656a3b28cc8aa2fb530783f53f05be79846dc7)**\n\nWork Issues: **Fix patchbot warnings**\n\nAuthor: **Tobias Diez**\n\nComponent: **doctest framework**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30884_\n\n",
    "created_at": "2020-11-10T23:42:18Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20doctest%20framework",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Replace sage_wraps by decorator library",
    "type": "issue",
    "updated_at": "2022-08-31T02:51:13Z",
    "url": "https://github.com/sagemath/sage/issues/30884",
    "user": "https://github.com/tobiasdiez"
}
```
Replace the sage custom sage_wrap and decorator_defaults methods by the well-maintained decorator library https://github.com/micheles/decorator.

My motivation is to replace sage's autodoc sphinx extension with the built-in one. For this, the Phyton introspection code needs to work without sage's customization. This ticket is a first step towards this goal. But independently of this motivation the approach using decorator library already provides cleaner code and better introspection results with respect to annotations (e.g. typing information). See the following test script for a comparison:

```
import inspect
from pathlib import Path
from sage.misc.decorators import decorator_keywords, sage_wraps
from decorator import decorator, getfullargspec
from sage.misc.sageinspect import sage_getargspec

@decorator
def warn_slow(func, timelimit=60, *args, **kw):
    print('%s took %d seconds', func.__name__, timelimit)
    return func(*args, **kw)

@warn_slow
def preprocess_input_files(inputdir: Path, tempdir):
    pass

@warn_slow(timelimit=600)
def run_calculation(tempdir, outdir):
    pass

print("With decorator")
print(getfullargspec(preprocess_input_files))
# FullArgSpec(args=['inputdir', 'tempdir'], varargs=None, varkw=None, defaults=None, kwonlyargs=[], kwonlydefaults=None, annotations={'inputdir': <class 'pathlib.Path'>})
print(inspect.getfullargspec(preprocess_input_files))
# FullArgSpec(args=['inputdir', 'tempdir'], varargs=None, varkw=None, defaults=None, kwonlyargs=[], kwonlydefaults=None, annotations={'inputdir': <class 'pathlib.Path'>})
# !! Yields full information as expected
print(sage_getargspec(preprocess_input_files))
# ArgSpec(args=['inputdir', 'tempdir'], varargs=None, keywords=None, defaults=None)
# !! No annotation information
print(getfullargspec(run_calculation))
# FullArgSpec(args=['tempdir', 'outdir'], varargs=None, varkw=None, defaults=None, kwonlyargs=[], kwonlydefaults=None, annotations={})
print(inspect.getfullargspec(run_calculation))
# FullArgSpec(args=['tempdir', 'outdir'], varargs=None, varkw=None, defaults=None, kwonlyargs=[], kwonlydefaults=None, annotations={})
print(sage_getargspec(preprocess_input_files))
# ArgSpec(args=['inputdir', 'tempdir'], varargs=None, keywords=None, defaults=None)

@decorator_keywords
def warn_slow_sage(func=None, timelimit=60):
     @sage_wraps(func)
     def wrapper(*args, **kwargs):
         print('%s took %d seconds', func.__name__, timelimit)
         return func(*args, **kw)
     return wrapper

@warn_slow_sage
def preprocess_input_files_sage(inputdir: Path, tempdir):
    pass

@warn_slow_sage(timelimit=600)
def run_calculation_sage(tempdir, outdir):
    pass

print("With sage")
print(getfullargspec(preprocess_input_files_sage))
# FullArgSpec(args=[], varargs='args', varkw='kwargs', defaults=None, kwonlyargs=[], kwonlydefaults=None, annotations={})
print(inspect.getfullargspec(preprocess_input_files_sage))
# FullArgSpec(args=[], varargs='args', varkw='kwargs', defaults=None, kwonlyargs=[], kwonlydefaults=None, annotations={})
# !! No args nor annotation
print(sage_getargspec(preprocess_input_files_sage))
# ArgSpec(args=['inputdir', 'tempdir'], varargs=None, keywords=None, defaults=None)
print(getfullargspec(run_calculation_sage))
# !! No annotation info
# FullArgSpec(args=[], varargs='args', varkw='kwargs', defaults=None, kwonlyargs=[], kwonlydefaults=None, annotations={})
print(inspect.getfullargspec(run_calculation_sage))
# FullArgSpec(args=[], varargs='args', varkw='kwargs', defaults=None, kwonlyargs=[], kwonlydefaults=None, annotations={})
print(sage_getargspec(preprocess_input_files_sage))
# ArgSpec(args=['inputdir', 'tempdir'], varargs=None, keywords=None, defaults=None)
```

Replacing `sage_getargspec` with `inspect.getfullargspec` will be done in a follow-up ticket (as this is already big enough).


Todo (as follow-up): Migrate cachefunction etc to decorator framework. The documentation https://github.com/micheles/decorator/blob/master/docs/documentation.md#the-solution contains an example (memoize) of how this may look like.

Depends on #26254

CC:  @mkoeppe @kwankyu

Branch/Commit: **[public/documentation/replaceDecorator](https://github.com/sagemath/sagetrac-mirror/tree/public/documentation/replaceDecorator) @ [`1b656a3`](https://github.com/sagemath/sagetrac-mirror/commit/1b656a3b28cc8aa2fb530783f53f05be79846dc7)**

Work Issues: **Fix patchbot warnings**

Author: **Tobias Diez**

Component: **doctest framework**

_Issue created by migration from https://trac.sagemath.org/ticket/30884_





---

archive/issue_events_422820.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-11-10T23:42:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422820"
}
```



---

archive/issue_events_422821.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-11-10T23:42:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20doctest%20framework",
    "label_color": "0000b0",
    "label_name": "c: doctest framework",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422821"
}
```



---

archive/issue_events_422822.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-11-10T23:42:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422822"
}
```



---

archive/issue_comments_494467.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbe456a3284638262e552261f437c68e2e90809c\"><code>dbe456a</code></a></td><td><code>Remove unused decorator_defaults</code></td></tr></table>\n",
    "created_at": "2020-11-10T23:50:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494467",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:1"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbe456a3284638262e552261f437c68e2e90809c"><code>dbe456a</code></a></td><td><code>Remove unused decorator_defaults</code></td></tr></table>




---

archive/issue_comments_494468.json:
```json
{
    "body": "Changed commit from **[`b414b8e`](https://github.com/sagemath/sagetrac-mirror/commit/b414b8e5225fd69bd99de981756c3b97359a2aa0)** to **[`dbe456a`](https://github.com/sagemath/sagetrac-mirror/commit/dbe456a3284638262e552261f437c68e2e90809c)**",
    "created_at": "2020-11-10T23:50:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494468",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b414b8e`](https://github.com/sagemath/sagetrac-mirror/commit/b414b8e5225fd69bd99de981756c3b97359a2aa0)** to **[`dbe456a`](https://github.com/sagemath/sagetrac-mirror/commit/dbe456a3284638262e552261f437c68e2e90809c)**



---

archive/issue_comments_494469.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0547957e16c38d48edcc222cc4f77e43723cfb7a\"><code>0547957</code></a></td><td><code>Fix stupid mistakes</code></td></tr></table>\n",
    "created_at": "2020-11-10T23:52:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494469",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0547957e16c38d48edcc222cc4f77e43723cfb7a"><code>0547957</code></a></td><td><code>Fix stupid mistakes</code></td></tr></table>




---

archive/issue_comments_494470.json:
```json
{
    "body": "Changed commit from **[`dbe456a`](https://github.com/sagemath/sagetrac-mirror/commit/dbe456a3284638262e552261f437c68e2e90809c)** to **[`0547957`](https://github.com/sagemath/sagetrac-mirror/commit/0547957e16c38d48edcc222cc4f77e43723cfb7a)**",
    "created_at": "2020-11-10T23:52:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494470",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dbe456a`](https://github.com/sagemath/sagetrac-mirror/commit/dbe456a3284638262e552261f437c68e2e90809c)** to **[`0547957`](https://github.com/sagemath/sagetrac-mirror/commit/0547957e16c38d48edcc222cc4f77e43723cfb7a)**



---

archive/issue_comments_494471.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nFunctions such as `sage_wraps` cannot just be removed, as they may be used by user code. They need to go through deprecation",
    "created_at": "2020-11-11T00:08:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494471",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

Functions such as `sage_wraps` cannot just be removed, as they may be used by user code. They need to go through deprecation



---

archive/issue_comments_494472.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a433f73891a898cdc146e0bfbd3b43e81a6ebf1\"><code>3a433f7</code></a></td><td><code>Fix option wrappers</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b0558242511b4bba4ca04b20bb586b74d3d7a8e\"><code>8b05582</code></a></td><td><code>Readd unused functions, but deprecated them</code></td></tr></table>\n",
    "created_at": "2020-11-11T15:52:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494472",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a433f73891a898cdc146e0bfbd3b43e81a6ebf1"><code>3a433f7</code></a></td><td><code>Fix option wrappers</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b0558242511b4bba4ca04b20bb586b74d3d7a8e"><code>8b05582</code></a></td><td><code>Readd unused functions, but deprecated them</code></td></tr></table>




---

archive/issue_comments_494473.json:
```json
{
    "body": "Changed commit from **[`0547957`](https://github.com/sagemath/sagetrac-mirror/commit/0547957e16c38d48edcc222cc4f77e43723cfb7a)** to **[`8b05582`](https://github.com/sagemath/sagetrac-mirror/commit/8b0558242511b4bba4ca04b20bb586b74d3d7a8e)**",
    "created_at": "2020-11-11T15:52:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494473",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0547957`](https://github.com/sagemath/sagetrac-mirror/commit/0547957e16c38d48edcc222cc4f77e43723cfb7a)** to **[`8b05582`](https://github.com/sagemath/sagetrac-mirror/commit/8b0558242511b4bba4ca04b20bb586b74d3d7a8e)**



---

archive/issue_comments_494474.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nGood to know! I've readded and marked as deprecated them.\n\nThis should be now ready for review.",
    "created_at": "2020-11-11T15:53:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494474",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:5" align="right">comment:5</div>

Good to know! I've readded and marked as deprecated them.

This should be now ready for review.



---

archive/issue_events_422823.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-11-11T15:53:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422823"
}
```



---

archive/issue_comments_494475.json:
```json
{
    "body": "Changed work issues from **Fix patchbot warnings** to none",
    "created_at": "2020-11-11T15:53:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494475",
    "user": "https://github.com/tobiasdiez"
}
```

Changed work issues from **Fix patchbot warnings** to none



---

archive/issue_events_422824.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-11-11T15:54:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422824"
}
```



---

archive/issue_comments_494476.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nBetter squash changes like this so that `git blame` is more accurate",
    "created_at": "2020-11-11T16:43:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494476",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

Better squash changes like this so that `git blame` is more accurate



---

archive/issue_events_422825.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-11T16:57:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422825"
}
```



---

archive/issue_events_422826.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-11T16:57:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422826"
}
```



---

archive/issue_comments_494477.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nDoes the `decorator` library really misspell `decorator` as `decorater`?",
    "created_at": "2020-11-11T16:57:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494477",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

Does the `decorator` library really misspell `decorator` as `decorater`?



---

archive/issue_comments_494478.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c781d9cb5fc987ed7881692c626e315e49d4647\"><code>2c781d9</code></a></td><td><code>Fix imports</code></td></tr></table>\n",
    "created_at": "2020-11-11T16:59:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494478",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c781d9cb5fc987ed7881692c626e315e49d4647"><code>2c781d9</code></a></td><td><code>Fix imports</code></td></tr></table>




---

archive/issue_comments_494479.json:
```json
{
    "body": "Changed commit from **[`8b05582`](https://github.com/sagemath/sagetrac-mirror/commit/8b0558242511b4bba4ca04b20bb586b74d3d7a8e)** to **[`2c781d9`](https://github.com/sagemath/sagetrac-mirror/commit/2c781d9cb5fc987ed7881692c626e315e49d4647)**",
    "created_at": "2020-11-11T16:59:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494479",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8b05582`](https://github.com/sagemath/sagetrac-mirror/commit/8b0558242511b4bba4ca04b20bb586b74d3d7a8e)** to **[`2c781d9`](https://github.com/sagemath/sagetrac-mirror/commit/2c781d9cb5fc987ed7881692c626e315e49d4647)**



---

archive/issue_comments_494480.json:
```json
{
    "body": "Changed commit from **[`2c781d9`](https://github.com/sagemath/sagetrac-mirror/commit/2c781d9cb5fc987ed7881692c626e315e49d4647)** to **[`3f04a50`](https://github.com/sagemath/sagetrac-mirror/commit/3f04a50851022092996f5fc6a359db6552c5990a)**",
    "created_at": "2020-11-11T17:02:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494480",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2c781d9`](https://github.com/sagemath/sagetrac-mirror/commit/2c781d9cb5fc987ed7881692c626e315e49d4647)** to **[`3f04a50`](https://github.com/sagemath/sagetrac-mirror/commit/3f04a50851022092996f5fc6a359db6552c5990a)**



---

archive/issue_comments_494481.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f04a50851022092996f5fc6a359db6552c5990a\"><code>3f04a50</code></a></td><td><code>Fix spelling</code></td></tr></table>\n",
    "created_at": "2020-11-11T17:02:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494481",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f04a50851022092996f5fc6a359db6552c5990a"><code>3f04a50</code></a></td><td><code>Fix spelling</code></td></tr></table>




---

archive/issue_comments_494482.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@mkoeppe](#comment%3A9):\n> Does the `decorator` library really misspell `decorator` as `decorater`?\n\nNo of course not. That was a result of some last minute changes on my side. Fixed now.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f04a50851022092996f5fc6a359db6552c5990a\"><code>3f04a50</code></a></td><td><code>Fix spelling</code></td></tr></table>\n",
    "created_at": "2020-11-11T17:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494482",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@mkoeppe](#comment%3A9):
> Does the `decorator` library really misspell `decorator` as `decorater`?

No of course not. That was a result of some last minute changes on my side. Fixed now.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f04a50851022092996f5fc6a359db6552c5990a"><code>3f04a50</code></a></td><td><code>Fix spelling</code></td></tr></table>




---

archive/issue_events_422827.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-11-11T17:03:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422827"
}
```



---

archive/issue_events_422828.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-11-11T17:03:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422828"
}
```



---

archive/issue_comments_494483.json:
```json
{
    "body": "Work Issues: **Fix patchbot warnings**",
    "created_at": "2020-11-11T17:05:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494483",
    "user": "https://github.com/tobiasdiez"
}
```

Work Issues: **Fix patchbot warnings**



---

archive/issue_events_422829.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-11-11T17:05:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422829"
}
```



---

archive/issue_events_422830.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-11-11T17:05:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422830"
}
```



---

archive/issue_comments_494484.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nCan you explain the purpose of the change\n\n```diff\ndiff --git a/src/sage_setup/docbuild/__init__.py b/src/sage_setup/docbuild/__init__.py\nindex b07e9c1..a4ba68e 100644\n--- a/src/sage_setup/docbuild/__init__.py\n+++ b/src/sage_setup/docbuild/__init__.py\n@@ -564,7 +564,7 @@ class ReferenceBuilder(AllBuilder):\n             if not os.path.exists(refdir):\n                 continue\n             logger.info('Building bibliography')\n-            self._build_bibliography(lang, format, *args, **kwds)\n+            #self._build_bibliography(lang, format, *args, **kwds)\n             logger.info('Bibliography finished, building dependent manuals')\n             self._build_everything_except_bibliography(lang, format, *args, **kwds)\n             # The html refman must be build at the end to ensure correct\n```\n?",
    "created_at": "2020-11-11T18:37:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494484",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:15" align="right">comment:15</div>

Can you explain the purpose of the change

```diff
diff --git a/src/sage_setup/docbuild/__init__.py b/src/sage_setup/docbuild/__init__.py
index b07e9c1..a4ba68e 100644
--- a/src/sage_setup/docbuild/__init__.py
+++ b/src/sage_setup/docbuild/__init__.py
@@ -564,7 +564,7 @@ class ReferenceBuilder(AllBuilder):
             if not os.path.exists(refdir):
                 continue
             logger.info('Building bibliography')
-            self._build_bibliography(lang, format, *args, **kwds)
+            #self._build_bibliography(lang, format, *args, **kwds)
             logger.info('Bibliography finished, building dependent manuals')
             self._build_everything_except_bibliography(lang, format, *args, **kwds)
             # The html refman must be build at the end to ensure correct
```
?



---

archive/issue_comments_494485.json:
```json
{
    "body": "Changed commit from **[`3f04a50`](https://github.com/sagemath/sagetrac-mirror/commit/3f04a50851022092996f5fc6a359db6552c5990a)** to **[`f7c1b7e`](https://github.com/sagemath/sagetrac-mirror/commit/f7c1b7e7674dcd560b7da25cac08cf85b59710f7)**",
    "created_at": "2020-11-11T19:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494485",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3f04a50`](https://github.com/sagemath/sagetrac-mirror/commit/3f04a50851022092996f5fc6a359db6552c5990a)** to **[`f7c1b7e`](https://github.com/sagemath/sagetrac-mirror/commit/f7c1b7e7674dcd560b7da25cac08cf85b59710f7)**



---

archive/issue_comments_494486.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7c1b7e7674dcd560b7da25cac08cf85b59710f7\"><code>f7c1b7e</code></a></td><td><code>Pass arguments along in cached decorators</code></td></tr></table>\n",
    "created_at": "2020-11-11T19:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494486",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7c1b7e7674dcd560b7da25cac08cf85b59710f7"><code>f7c1b7e</code></a></td><td><code>Pass arguments along in cached decorators</code></td></tr></table>




---

archive/issue_comments_494487.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThat's only a temporary fix (that I accidentally committed) since I don't have latex installed.",
    "created_at": "2020-11-11T19:11:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494487",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:17" align="right">comment:17</div>

That's only a temporary fix (that I accidentally committed) since I don't have latex installed.



---

archive/issue_comments_494488.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93386379d73ea208f5dfec0f6ea1c5ce2f5dd7d9\"><code>9338637</code></a></td><td><code>Pass by keywords</code></td></tr></table>\n",
    "created_at": "2020-11-11T20:26:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494488",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93386379d73ea208f5dfec0f6ea1c5ce2f5dd7d9"><code>9338637</code></a></td><td><code>Pass by keywords</code></td></tr></table>




---

archive/issue_comments_494489.json:
```json
{
    "body": "Changed commit from **[`f7c1b7e`](https://github.com/sagemath/sagetrac-mirror/commit/f7c1b7e7674dcd560b7da25cac08cf85b59710f7)** to **[`9338637`](https://github.com/sagemath/sagetrac-mirror/commit/93386379d73ea208f5dfec0f6ea1c5ce2f5dd7d9)**",
    "created_at": "2020-11-11T20:26:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494489",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f7c1b7e`](https://github.com/sagemath/sagetrac-mirror/commit/f7c1b7e7674dcd560b7da25cac08cf85b59710f7)** to **[`9338637`](https://github.com/sagemath/sagetrac-mirror/commit/93386379d73ea208f5dfec0f6ea1c5ce2f5dd7d9)**



---

archive/issue_comments_494490.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ab7c72b9d4036e7a36dfa539add524316a5bba6\"><code>8ab7c72</code></a></td><td><code>Replace instancedoc annotation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/517c964999cbfceee9f74d2377803147031a9521\"><code>517c964</code></a></td><td><code>Remove double keyword arguments</code></td></tr></table>\n",
    "created_at": "2020-11-11T21:53:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494490",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ab7c72b9d4036e7a36dfa539add524316a5bba6"><code>8ab7c72</code></a></td><td><code>Replace instancedoc annotation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/517c964999cbfceee9f74d2377803147031a9521"><code>517c964</code></a></td><td><code>Remove double keyword arguments</code></td></tr></table>




---

archive/issue_comments_494491.json:
```json
{
    "body": "Changed commit from **[`9338637`](https://github.com/sagemath/sagetrac-mirror/commit/93386379d73ea208f5dfec0f6ea1c5ce2f5dd7d9)** to **[`517c964`](https://github.com/sagemath/sagetrac-mirror/commit/517c964999cbfceee9f74d2377803147031a9521)**",
    "created_at": "2020-11-11T21:53:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494491",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9338637`](https://github.com/sagemath/sagetrac-mirror/commit/93386379d73ea208f5dfec0f6ea1c5ce2f5dd7d9)** to **[`517c964`](https://github.com/sagemath/sagetrac-mirror/commit/517c964999cbfceee9f74d2377803147031a9521)**



---

archive/issue_comments_494492.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7cd66a6683db3b85f49e639b84faa86fa9479ce7\"><code>7cd66a6</code></a></td><td><code>Expand keywrod argument...</code></td></tr></table>\n",
    "created_at": "2020-11-11T22:15:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494492",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7cd66a6683db3b85f49e639b84faa86fa9479ce7"><code>7cd66a6</code></a></td><td><code>Expand keywrod argument...</code></td></tr></table>




---

archive/issue_comments_494493.json:
```json
{
    "body": "Changed commit from **[`517c964`](https://github.com/sagemath/sagetrac-mirror/commit/517c964999cbfceee9f74d2377803147031a9521)** to **[`7cd66a6`](https://github.com/sagemath/sagetrac-mirror/commit/7cd66a6683db3b85f49e639b84faa86fa9479ce7)**",
    "created_at": "2020-11-11T22:15:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494493",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`517c964`](https://github.com/sagemath/sagetrac-mirror/commit/517c964999cbfceee9f74d2377803147031a9521)** to **[`7cd66a6`](https://github.com/sagemath/sagetrac-mirror/commit/7cd66a6683db3b85f49e639b84faa86fa9479ce7)**



---

archive/issue_comments_494494.json:
```json
{
    "body": "Changed commit from **[`7cd66a6`](https://github.com/sagemath/sagetrac-mirror/commit/7cd66a6683db3b85f49e639b84faa86fa9479ce7)** to **[`a9a758c`](https://github.com/sagemath/sagetrac-mirror/commit/a9a758c2372a7c202276e557d93f45c75e703b13)**",
    "created_at": "2020-11-12T08:44:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494494",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7cd66a6`](https://github.com/sagemath/sagetrac-mirror/commit/7cd66a6683db3b85f49e639b84faa86fa9479ce7)** to **[`a9a758c`](https://github.com/sagemath/sagetrac-mirror/commit/a9a758c2372a7c202276e557d93f45c75e703b13)**



---

archive/issue_comments_494495.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9a758c2372a7c202276e557d93f45c75e703b13\"><code>a9a758c</code></a></td><td><code>Remove indication for keyword argurments</code></td></tr></table>\n",
    "created_at": "2020-11-12T08:44:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494495",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9a758c2372a7c202276e557d93f45c75e703b13"><code>a9a758c</code></a></td><td><code>Remove indication for keyword argurments</code></td></tr></table>




---

archive/issue_comments_494496.json:
```json
{
    "body": "Changed commit from **[`a9a758c`](https://github.com/sagemath/sagetrac-mirror/commit/a9a758c2372a7c202276e557d93f45c75e703b13)** to **[`fc23e73`](https://github.com/sagemath/sagetrac-mirror/commit/fc23e73c8e4163fe34623a71054cfe53d39c31e6)**",
    "created_at": "2020-11-12T09:17:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494496",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a9a758c`](https://github.com/sagemath/sagetrac-mirror/commit/a9a758c2372a7c202276e557d93f45c75e703b13)** to **[`fc23e73`](https://github.com/sagemath/sagetrac-mirror/commit/fc23e73c8e4163fe34623a71054cfe53d39c31e6)**



---

archive/issue_comments_494497.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc23e73c8e4163fe34623a71054cfe53d39c31e6\"><code>fc23e73</code></a></td><td><code>Proper syntax for decorators with arguments</code></td></tr></table>\n",
    "created_at": "2020-11-12T09:17:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494497",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc23e73c8e4163fe34623a71054cfe53d39c31e6"><code>fc23e73</code></a></td><td><code>Proper syntax for decorators with arguments</code></td></tr></table>




---

archive/issue_comments_494498.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nWhat's the status of this ticket? Just came across a `sage_getargspec` bug (#31309), so it would be great if we can get rid of it",
    "created_at": "2021-01-31T07:31:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494498",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:23" align="right">comment:23</div>

What's the status of this ticket? Just came across a `sage_getargspec` bug (#31309), so it would be great if we can get rid of it



---

archive/issue_comments_494499.json:
```json
{
    "body": "Changed commit from **[`fc23e73`](https://github.com/sagemath/sagetrac-mirror/commit/fc23e73c8e4163fe34623a71054cfe53d39c31e6)** to **[`b4f05c7`](https://github.com/sagemath/sagetrac-mirror/commit/b4f05c75e0496048726dc4032e199bd44730d235)**",
    "created_at": "2021-02-02T17:22:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494499",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fc23e73`](https://github.com/sagemath/sagetrac-mirror/commit/fc23e73c8e4163fe34623a71054cfe53d39c31e6)** to **[`b4f05c7`](https://github.com/sagemath/sagetrac-mirror/commit/b4f05c75e0496048726dc4032e199bd44730d235)**



---

archive/issue_comments_494500.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99002b9b3810cdd5a6014636a80240e72482b03f\"><code>99002b9</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into public/documentation/replaceDecorator</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4f05c75e0496048726dc4032e199bd44730d235\"><code>b4f05c7</code></a></td><td><code>Fix compile error</code></td></tr></table>\n",
    "created_at": "2021-02-02T17:22:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494500",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99002b9b3810cdd5a6014636a80240e72482b03f"><code>99002b9</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into public/documentation/replaceDecorator</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4f05c75e0496048726dc4032e199bd44730d235"><code>b4f05c7</code></a></td><td><code>Fix compile error</code></td></tr></table>




---

archive/issue_comments_494501.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nIt is working in principle, but I still need to fix a few things here and there. The biggest problem is that there are some changes to cython files needed, for which it would be really handy if we could get #30371 merged.",
    "created_at": "2021-02-02T17:24:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494501",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:25" align="right">comment:25</div>

It is working in principle, but I still need to fix a few things here and there. The biggest problem is that there are some changes to cython files needed, for which it would be really handy if we could get #30371 merged.



---

archive/issue_events_422831.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422831"
}
```



---

archive/issue_events_422832.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422832"
}
```



---

archive/issue_comments_494502.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-15T22:07:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494502",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_422833.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422833"
}
```



---

archive/issue_events_422834.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422834"
}
```



---

archive/issue_comments_494503.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494503",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:27" align="right">comment:27</div>

Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_comments_494504.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73c6544f22f5edeb699b24fc1bd92b9f18b2e862\"><code>73c6544</code></a></td><td><code>Merge branch 'develop' of https://github.com/sagemath/sage into public/documentation/replaceDecorator</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a20f208844ef7749b586e7d687a6666167474290\"><code>a20f208</code></a></td><td><code>Fix a few things</code></td></tr></table>\n",
    "created_at": "2021-11-28T20:00:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494504",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73c6544f22f5edeb699b24fc1bd92b9f18b2e862"><code>73c6544</code></a></td><td><code>Merge branch 'develop' of https://github.com/sagemath/sage into public/documentation/replaceDecorator</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a20f208844ef7749b586e7d687a6666167474290"><code>a20f208</code></a></td><td><code>Fix a few things</code></td></tr></table>




---

archive/issue_comments_494505.json:
```json
{
    "body": "Changed commit from **[`b4f05c7`](https://github.com/sagemath/sagetrac-mirror/commit/b4f05c75e0496048726dc4032e199bd44730d235)** to **[`a20f208`](https://github.com/sagemath/sagetrac-mirror/commit/a20f208844ef7749b586e7d687a6666167474290)**",
    "created_at": "2021-11-28T20:00:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494505",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b4f05c7`](https://github.com/sagemath/sagetrac-mirror/commit/b4f05c75e0496048726dc4032e199bd44730d235)** to **[`a20f208`](https://github.com/sagemath/sagetrac-mirror/commit/a20f208844ef7749b586e7d687a6666167474290)**



---

archive/issue_comments_494506.json:
```json
{
    "body": "Changed work issues from **Fix patchbot warnings** to **Wait for https://github.com/micheles/decorator/pull/137 to be merged and released, update decorator lib, x patchbot warnings**",
    "created_at": "2021-11-28T20:01:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494506",
    "user": "https://github.com/tobiasdiez"
}
```

Changed work issues from **Fix patchbot warnings** to **Wait for https://github.com/micheles/decorator/pull/137 to be merged and released, update decorator lib, x patchbot warnings**



---

archive/issue_events_422835.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422835"
}
```



---

archive/issue_events_422836.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422836"
}
```



---

archive/issue_comments_494507.json:
```json
{
    "body": "Changed work issues from **Wait for https://github.com/micheles/decorator/pull/137 to be merged and released, update decorator lib, x patchbot warnings** to **Fix patchbot warnings**",
    "created_at": "2022-01-08T12:17:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494507",
    "user": "https://github.com/tobiasdiez"
}
```

Changed work issues from **Wait for https://github.com/micheles/decorator/pull/137 to be merged and released, update decorator lib, x patchbot warnings** to **Fix patchbot warnings**



---

archive/issue_comments_494508.json:
```json
{
    "body": "Dependencies: **#26254**",
    "created_at": "2022-01-08T12:17:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494508",
    "user": "https://github.com/tobiasdiez"
}
```

Dependencies: **#26254**



---

archive/issue_comments_494509.json:
```json
{
    "body": "Changed commit from **[`a20f208`](https://github.com/sagemath/sagetrac-mirror/commit/a20f208844ef7749b586e7d687a6666167474290)** to **[`89487a7`](https://github.com/sagemath/sagetrac-mirror/commit/89487a770120f4997a795c32403adbd70648d097)**",
    "created_at": "2022-01-08T12:17:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494509",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a20f208`](https://github.com/sagemath/sagetrac-mirror/commit/a20f208844ef7749b586e7d687a6666167474290)** to **[`89487a7`](https://github.com/sagemath/sagetrac-mirror/commit/89487a770120f4997a795c32403adbd70648d097)**



---

archive/issue_comments_494510.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5751b7d7a9d2b37e49e2a55832b41e635374cd70\"><code>5751b7d</code></a></td><td><code>Merge branch 'develop' of https://github.com/sagemath/sage into public/documentation/replaceDecorator</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca86cc9760e2167f20bfc6a65a6bc8f21e6cd1bd\"><code>ca86cc9</code></a></td><td><code>build/pkgs/decorator: Update to 5.1.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/146bc0b130b7ec52b1080a24f3be940ebf5a30bc\"><code>146bc0b</code></a></td><td><code>Revert changes to cache functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bff4f3a696dca0696b9e6db2de7812b03099591d\"><code>bff4f3a</code></a></td><td><code>Replace deprecated decorator by message</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3d5bc09e9fd1e77e885985d3bac7f7fefb2904c\"><code>e3d5bc0</code></a></td><td><code>Fix deprecation wrapper</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89487a770120f4997a795c32403adbd70648d097\"><code>89487a7</code></a></td><td><code>Activate binding=true compiler directive</code></td></tr></table>\n",
    "created_at": "2022-01-08T12:17:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494510",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5751b7d7a9d2b37e49e2a55832b41e635374cd70"><code>5751b7d</code></a></td><td><code>Merge branch 'develop' of https://github.com/sagemath/sage into public/documentation/replaceDecorator</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca86cc9760e2167f20bfc6a65a6bc8f21e6cd1bd"><code>ca86cc9</code></a></td><td><code>build/pkgs/decorator: Update to 5.1.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/146bc0b130b7ec52b1080a24f3be940ebf5a30bc"><code>146bc0b</code></a></td><td><code>Revert changes to cache functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bff4f3a696dca0696b9e6db2de7812b03099591d"><code>bff4f3a</code></a></td><td><code>Replace deprecated decorator by message</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3d5bc09e9fd1e77e885985d3bac7f7fefb2904c"><code>e3d5bc0</code></a></td><td><code>Fix deprecation wrapper</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89487a770120f4997a795c32403adbd70648d097"><code>89487a7</code></a></td><td><code>Activate binding=true compiler directive</code></td></tr></table>




---

archive/issue_comments_494511.json:
```json
{
    "body": "Changed commit from **[`89487a7`](https://github.com/sagemath/sagetrac-mirror/commit/89487a770120f4997a795c32403adbd70648d097)** to **[`1b656a3`](https://github.com/sagemath/sagetrac-mirror/commit/1b656a3b28cc8aa2fb530783f53f05be79846dc7)**",
    "created_at": "2022-01-08T12:36:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494511",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`89487a7`](https://github.com/sagemath/sagetrac-mirror/commit/89487a770120f4997a795c32403adbd70648d097)** to **[`1b656a3`](https://github.com/sagemath/sagetrac-mirror/commit/1b656a3b28cc8aa2fb530783f53f05be79846dc7)**



---

archive/issue_comments_494512.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6adf9da4539dad4f68f4cc1c4b5c7c90f1b85508\"><code>6adf9da</code></a></td><td><code>Readd empty line</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b656a3b28cc8aa2fb530783f53f05be79846dc7\"><code>1b656a3</code></a></td><td><code>Readd sage_wraps in deprecated methods</code></td></tr></table>\n",
    "created_at": "2022-01-08T12:36:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494512",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6adf9da4539dad4f68f4cc1c4b5c7c90f1b85508"><code>6adf9da</code></a></td><td><code>Readd empty line</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b656a3b28cc8aa2fb530783f53f05be79846dc7"><code>1b656a3</code></a></td><td><code>Readd sage_wraps in deprecated methods</code></td></tr></table>




---

archive/issue_comments_494513.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -72,3 +72,6 @@\n ```\n \n Replacing `sage_getargspec` with `inspect.getfullargspec` will be done in a follow-up ticket (as this is already big enough).\n+\n+\n+Todo (as follow-up): Migrate cachefunction etc to decorator framework. The documentation https://github.com/micheles/decorator/blob/master/docs/documentation.md#the-solution contains an example (memoize) of how this may look like.\n``````\n",
    "created_at": "2022-01-08T12:56:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30884#issuecomment-494513",
    "user": "https://github.com/tobiasdiez"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -72,3 +72,6 @@
 ```
 
 Replacing `sage_getargspec` with `inspect.getfullargspec` will be done in a follow-up ticket (as this is already big enough).
+
+
+Todo (as follow-up): Migrate cachefunction etc to decorator framework. The documentation https://github.com/micheles/decorator/blob/master/docs/documentation.md#the-solution contains an example (memoize) of how this may look like.
``````




---

archive/issue_events_422837.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422837"
}
```



---

archive/issue_events_422838.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422838"
}
```



---

archive/issue_events_422839.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422839"
}
```



---

archive/issue_events_422840.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30884",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30884#event-422840"
}
```
