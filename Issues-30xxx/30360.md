# Issue 30360: Fix multiplication of number field element * ZZ-vector by handling latex names of number field generators

archive/issues_030123.json:
```json
{
    "assignees": [],
    "body": "\n```\nsage: 1/2*vector([1,2,3])\n(1/2, 1, 3/2)\n```\n\n```\nsage: AA(2).sqrt()*vector([1,2,3])                                                                                                                                                                                                                                                                                                                                         \n(1.414213562373095?, 2.828427124746190?, 4.242640687119285?)\n```\n\n```\nsage: K.<sqrt5> = QuadraticField(5, embedding=AA(5).sqrt())                                                                                                                                                                                                                                                                                                                \nsage: sqrt5*vector([1,2])                                                                                                                                                                                                                                                                                                                                                  \n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-65-1ac790b433d6> in <module>\n----> 1 sqrt5*vector([Integer(1),Integer(2)])\n\n~/Applications/sage/local/lib/python3.7/site-packages/sage/structure/element.pyx in sage.structure.element.Element.__mul__ (build/cythonized/sage/structure/element.c:12196)()\n   1513             return (<Element>left)._mul_(right)\n   1514         if BOTH_ARE_ELEMENT(cl):\n-> 1515             return coercion_model.bin_op(left, right, mul)\n   1516 \n   1517         cdef long value\n\n~/Applications/sage/local/lib/python3.7/site-packages/sage/structure/coerce.pyx in sage.structure.coerce.CoercionModel.bin_op (build/cythonized/sage/structure/coerce.c:11304)()\n   1246         # We should really include the underlying error.\n   1247         # This causes so much headache.\n-> 1248         raise bin_op_exception(op, x, y)\n   1249 \n   1250     cpdef canonical_coercion(self, x, y):\n\nTypeError: unsupported operand parent(s) for *: 'Number Field in sqrt5 with defining polynomial x^2 - 5 with sqrt5 = 2.236067977499790?' and 'Ambient free module of rank 2 over the principal ideal domain Integer Ring'\n```\n\nIt doesn't matter whether you specify the embedding or not.\n\nDepends on #30372\n\nCC:  @videlec @tscrim\n\nKeywords: **action, scalar, free module**\n\nBranch/Commit: **[`a3c790f`](https://github.com/sagemath/sagetrac-mirror/commit/a3c790f6fb38fca37c37dae86e568a5acdedb1c0)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Matthias Koeppe, Francis Clarke**\n\nComponent: **coercion**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30360_\n\n",
    "closed_at": "2020-09-01T22:59:36Z",
    "created_at": "2020-08-14T20:21:18Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20coercion",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20number%20fields"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix multiplication of number field element * ZZ-vector by handling latex names of number field generators",
    "type": "issue",
    "updated_at": "2020-09-01T22:59:36Z",
    "url": "https://github.com/sagemath/sage/issues/30360",
    "user": "https://github.com/kliem"
}
```

```
sage: 1/2*vector([1,2,3])
(1/2, 1, 3/2)
```

```
sage: AA(2).sqrt()*vector([1,2,3])                                                                                                                                                                                                                                                                                                                                         
(1.414213562373095?, 2.828427124746190?, 4.242640687119285?)
```

```
sage: K.<sqrt5> = QuadraticField(5, embedding=AA(5).sqrt())                                                                                                                                                                                                                                                                                                                
sage: sqrt5*vector([1,2])                                                                                                                                                                                                                                                                                                                                                  
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-65-1ac790b433d6> in <module>
----> 1 sqrt5*vector([Integer(1),Integer(2)])

~/Applications/sage/local/lib/python3.7/site-packages/sage/structure/element.pyx in sage.structure.element.Element.__mul__ (build/cythonized/sage/structure/element.c:12196)()
   1513             return (<Element>left)._mul_(right)
   1514         if BOTH_ARE_ELEMENT(cl):
-> 1515             return coercion_model.bin_op(left, right, mul)
   1516 
   1517         cdef long value

~/Applications/sage/local/lib/python3.7/site-packages/sage/structure/coerce.pyx in sage.structure.coerce.CoercionModel.bin_op (build/cythonized/sage/structure/coerce.c:11304)()
   1246         # We should really include the underlying error.
   1247         # This causes so much headache.
-> 1248         raise bin_op_exception(op, x, y)
   1249 
   1250     cpdef canonical_coercion(self, x, y):

TypeError: unsupported operand parent(s) for *: 'Number Field in sqrt5 with defining polynomial x^2 - 5 with sqrt5 = 2.236067977499790?' and 'Ambient free module of rank 2 over the principal ideal domain Integer Ring'
```

It doesn't matter whether you specify the embedding or not.

Depends on #30372

CC:  @videlec @tscrim

Keywords: **action, scalar, free module**

Branch/Commit: **[`a3c790f`](https://github.com/sagemath/sagetrac-mirror/commit/a3c790f6fb38fca37c37dae86e568a5acdedb1c0)**

Reviewer: **Travis Scrimshaw**

Author: **Matthias Koeppe, Francis Clarke**

Component: **coercion**

_Issue created by migration from https://trac.sagemath.org/ticket/30360_





---

archive/issue_events_415194.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-08-14T20:21:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415194"
}
```



---

archive/issue_events_415195.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-08-14T20:21:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20coercion",
    "label_color": "0000ff",
    "label_name": "c: coercion",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415195"
}
```



---

archive/issue_events_415196.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-08-14T20:21:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415196"
}
```



---

archive/issue_events_415197.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-08-14T20:21:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415197"
}
```



---

archive/issue_events_415198.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-08-14T20:21:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20number%20fields",
    "label_color": "0000ff",
    "label_name": "c: number fields",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415198"
}
```



---

archive/issue_comments_482031.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nIt's not really the pushout that's failing here:\n\n```\nsage: from sage.categories.pushout import pushout\nsage: pushout(sqrt5.parent(), vector([1,2]).parent())\nVector space of dimension 2 over Number Field in sqrt5 with defining polynomial x^2 - 5 with sqrt5 = 2.236067977499790?\n```",
    "created_at": "2020-08-14T23:37:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482031",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">comment:2</div>

It's not really the pushout that's failing here:

```
sage: from sage.categories.pushout import pushout
sage: pushout(sqrt5.parent(), vector([1,2]).parent())
Vector space of dimension 2 over Number Field in sqrt5 with defining polynomial x^2 - 5 with sqrt5 = 2.236067977499790?
```



---

archive/issue_comments_482032.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI think the methods `_lmul_` and `_rmul_` of `NumberFieldElement_quadratic` are in the way. I think they may just need to be removed (haven't tried)",
    "created_at": "2020-08-14T23:53:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482032",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

I think the methods `_lmul_` and `_rmul_` of `NumberFieldElement_quadratic` are in the way. I think they may just need to be removed (haven't tried)



---

archive/issue_events_415199.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-08-15T05:29:30Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "title_is": "Action of number field on free module over ZZ not discovered",
    "title_was": "Pushout of number field and free module over ZZ fails",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415199"
}
```



---

archive/issue_comments_482033.json:
```json
{
    "body": "Changed keywords from **pushout, free module** to **action, scalar, free module**",
    "created_at": "2020-08-15T11:24:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482033",
    "user": "https://github.com/kliem"
}
```

Changed keywords from **pushout, free module** to **action, scalar, free module**



---

archive/issue_comments_482034.json:
```json
{
    "body": "Branch: **[u/mkoeppe/action_of_number_field_on_free_module_over_zz_not_discovered](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/action_of_number_field_on_free_module_over_zz_not_discovered)**",
    "created_at": "2020-08-15T16:21:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482034",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/action_of_number_field_on_free_module_over_zz_not_discovered](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/action_of_number_field_on_free_module_over_zz_not_discovered)**



---

archive/issue_comments_482035.json:
```json
{
    "body": "Commit: **[`8a9c2aa`](https://github.com/sagemath/sagetrac-mirror/commit/8a9c2aa05454dc3695a1f8eceb4b657047fda489)**",
    "created_at": "2020-08-15T16:21:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482035",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`8a9c2aa`](https://github.com/sagemath/sagetrac-mirror/commit/8a9c2aa05454dc3695a1f8eceb4b657047fda489)**



---

archive/issue_comments_482036.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@mkoeppe](#comment%3A3):\n> I think the methods `_lmul_` and `_rmul_` of `NumberFieldElement_quadratic` are in the way. I think they may just need to be removed (haven't tried)\n\nBy itself this does not fix it... (see branch)\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a9c2aa05454dc3695a1f8eceb4b657047fda489\"><code>8a9c2aa</code></a></td><td><code>WIP: NumberFieldElement_quadratic._lmul_, _rmul_: Remove</code></td></tr></table>\n",
    "created_at": "2020-08-15T16:21:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482036",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@mkoeppe](#comment%3A3):
> I think the methods `_lmul_` and `_rmul_` of `NumberFieldElement_quadratic` are in the way. I think they may just need to be removed (haven't tried)

By itself this does not fix it... (see branch)

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a9c2aa05454dc3695a1f8eceb4b657047fda489"><code>8a9c2aa</code></a></td><td><code>WIP: NumberFieldElement_quadratic._lmul_, _rmul_: Remove</code></td></tr></table>




---

archive/issue_comments_482037.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nYou are right, the action is missing.\n\n```\nsage: cm.explain(AA, vector([1,2]).parent(), operator.mul)                                                                                                          \nAction discovered.\n    Left scalar multiplication by Algebraic Real Field on Ambient free module of rank 2 over the principal ideal domain Integer Ring\nResult lives in Vector space of dimension 2 over Algebraic Real Field\nVector space of dimension 2 over Algebraic Real Field\nsage: cm.explain(K, vector([1,2]).parent(), operator.mul)                                                                                                           \n\nUnknown result parent.\n```",
    "created_at": "2020-08-15T16:27:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482037",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

You are right, the action is missing.

```
sage: cm.explain(AA, vector([1,2]).parent(), operator.mul)                                                                                                          
Action discovered.
    Left scalar multiplication by Algebraic Real Field on Ambient free module of rank 2 over the principal ideal domain Integer Ring
Result lives in Vector space of dimension 2 over Algebraic Real Field
Vector space of dimension 2 over Algebraic Real Field
sage: cm.explain(K, vector([1,2]).parent(), operator.mul)                                                                                                           

Unknown result parent.
```



---

archive/issue_comments_482038.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nIt looks like this is because of a unique representation / equality bug for number fields",
    "created_at": "2020-08-15T16:54:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482038",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

It looks like this is because of a unique representation / equality bug for number fields



---

archive/issue_comments_482039.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\n\n```\nsage: K.<sqrt5> = QuadraticField(5, embedding=AA(5).sqrt())\nsage: V = vector([1, 2]).parent()\nsage: from sage.structure.coerce_actions import LeftModuleAction                                                                                                    \nsage: LeftModuleAction(AA, V)\nLeft scalar multiplication by Algebraic Real Field on Ambient free module of rank 2 over the principal ideal domain Integer Ring\nsage: LeftModuleAction(K, V)                                                                                                                               \nCoercionException: Actor must be coercible into base.\n```\n\nLooking at `LeftModuleAction.__init__`, this boils down to:\n\n```\nsage: from sage.categories.pushout import pushout                                                         \nsage: K                                                                                                   \nNumber Field in sqrt5 with defining polynomial x^2 - 5 with sqrt5 = 2.236067977499790?\nsage: pushout(K, ZZ) is K                                                                                 \nTrue\nsage: K2 = pushout(K, V).base(); K2                                                                       \nNumber Field in sqrt5 with defining polynomial x^2 - 5 with sqrt5 = 2.236067977499790?\nsage: K2 is K                                                                                             \nFalse\nsage: K2 == K                                                                                             \nFalse\n```",
    "created_at": "2020-08-15T17:00:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482039",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>


```
sage: K.<sqrt5> = QuadraticField(5, embedding=AA(5).sqrt())
sage: V = vector([1, 2]).parent()
sage: from sage.structure.coerce_actions import LeftModuleAction                                                                                                    
sage: LeftModuleAction(AA, V)
Left scalar multiplication by Algebraic Real Field on Ambient free module of rank 2 over the principal ideal domain Integer Ring
sage: LeftModuleAction(K, V)                                                                                                                               
CoercionException: Actor must be coercible into base.
```

Looking at `LeftModuleAction.__init__`, this boils down to:

```
sage: from sage.categories.pushout import pushout                                                         
sage: K                                                                                                   
Number Field in sqrt5 with defining polynomial x^2 - 5 with sqrt5 = 2.236067977499790?
sage: pushout(K, ZZ) is K                                                                                 
True
sage: K2 = pushout(K, V).base(); K2                                                                       
Number Field in sqrt5 with defining polynomial x^2 - 5 with sqrt5 = 2.236067977499790?
sage: K2 is K                                                                                             
False
sage: K2 == K                                                                                             
False
```



---

archive/issue_comments_482040.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThis bug seems specific to quadratic fields:\n\n```\nsage: K = QuadraticField(5)                                                                               \nsage: pushout(K, ZZ^2).base() is K                                                                        \nFalse\nsage: K.<a> = NumberField(x^3 + 2/3*x + 1)                                                                \nsage: pushout(K, ZZ^2).base() is K                                                                        \nTrue\nsage: K.<a> = NumberField(x^3 + 2/3*x + 1, embedding=AA(1))                                               \nsage: pushout(K, ZZ^2).base() is K                                                                        \nTrue\n```",
    "created_at": "2020-08-15T17:06:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482040",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

This bug seems specific to quadratic fields:

```
sage: K = QuadraticField(5)                                                                               
sage: pushout(K, ZZ^2).base() is K                                                                        
False
sage: K.<a> = NumberField(x^3 + 2/3*x + 1)                                                                
sage: pushout(K, ZZ^2).base() is K                                                                        
True
sage: K.<a> = NumberField(x^3 + 2/3*x + 1, embedding=AA(1))                                               
sage: pushout(K, ZZ^2).base() is K                                                                        
True
```



---

archive/issue_comments_482041.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\n\n```\nsage: QuadraticField(5).latex_variable_name()                                                                                       \n'\\\\sqrt{5}'\nsage: pushout(QuadraticField(5), ZZ^2).base().latex_variable_name()                                                                 \n'a'\n```\nThat's why they're not equal...",
    "created_at": "2020-08-15T17:27:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482041",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>


```
sage: QuadraticField(5).latex_variable_name()                                                                                       
'\\sqrt{5}'
sage: pushout(QuadraticField(5), ZZ^2).base().latex_variable_name()                                                                 
'a'
```
That's why they're not equal...



---

archive/issue_comments_482042.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\n\n```\nsage: K = QuadraticField(5, latex_name=None)                                                                                        \nsage: pushout(K, ZZ^2).base() is K                                                                                                  \nTrue\nsage: K.<sqrt5> = QuadraticField(5, embedding=AA(5).sqrt(), latex_name=None)                                                                                                                                                                                                                                                                                                                \nsage: sqrt5*vector([1,2])  \n(sqrt5, 2*sqrt5)\n```",
    "created_at": "2020-08-15T17:32:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482042",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>


```
sage: K = QuadraticField(5, latex_name=None)                                                                                        
sage: pushout(K, ZZ^2).base() is K                                                                                                  
True
sage: K.<sqrt5> = QuadraticField(5, embedding=AA(5).sqrt(), latex_name=None)                                                                                                                                                                                                                                                                                                                
sage: sqrt5*vector([1,2])  
(sqrt5, 2*sqrt5)
```



---

archive/issue_comments_482043.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAlso\n\n```\nsage: K.<a> = NumberField(x^3 + 2/3*x + 1, latex_name='mangrove') \nsage: pushout(K, ZZ^2).base() is K                                                                                            \nFalse\n```",
    "created_at": "2020-08-15T17:34:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482043",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Also

```
sage: K.<a> = NumberField(x^3 + 2/3*x + 1, latex_name='mangrove') 
sage: pushout(K, ZZ^2).base() is K                                                                                            
False
```



---

archive/issue_comments_482044.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nLooks like `NumberField_generic.construction` needs to handle `latex_variable_names`.",
    "created_at": "2020-08-15T17:39:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482044",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

Looks like `NumberField_generic.construction` needs to handle `latex_variable_names`.



---

archive/issue_comments_482045.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nOne more broken thing:\n\n```\nsage: K3.<a> = NumberField(x^3+x^2+1, latex_name=['alpha'])                                                                         \nsage: K3.latex_variable_names()                                                                                                     \n['a']\nsage: K3.latex_variable_name()                                                                                                      \n'alpha'\n```",
    "created_at": "2020-08-15T18:49:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482045",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

One more broken thing:

```
sage: K3.<a> = NumberField(x^3+x^2+1, latex_name=['alpha'])                                                                         
sage: K3.latex_variable_names()                                                                                                     
['a']
sage: K3.latex_variable_name()                                                                                                      
'alpha'
```



---

archive/issue_comments_482046.json:
```json
{
    "body": "Dependencies: **#30372**",
    "created_at": "2020-08-15T19:06:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482046",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#30372**



---

archive/issue_comments_482047.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc48d6d937fd497268518d8ee8f153918ff4dde4\"><code>fc48d6d</code></a></td><td><code>sage.categories.pushout.AlgebraicExtensionFunctor: Handle latex_names</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d85068ffe6353790ea03d3dcd1cb652883a78923\"><code>d85068f</code></a></td><td><code>CommutativeRing.extension, NumberField_generic.extension, FiniteField.extension: Accept latex_name argument</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a88492013d4b4147c35d0ceb2124e38bc393aae\"><code>7a88492</code></a></td><td><code>NumberField_generic.construction: Pass latex_names to AlgebraicExtensionFunctor</code></td></tr></table>\n",
    "created_at": "2020-08-15T19:12:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482047",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc48d6d937fd497268518d8ee8f153918ff4dde4"><code>fc48d6d</code></a></td><td><code>sage.categories.pushout.AlgebraicExtensionFunctor: Handle latex_names</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d85068ffe6353790ea03d3dcd1cb652883a78923"><code>d85068f</code></a></td><td><code>CommutativeRing.extension, NumberField_generic.extension, FiniteField.extension: Accept latex_name argument</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a88492013d4b4147c35d0ceb2124e38bc393aae"><code>7a88492</code></a></td><td><code>NumberField_generic.construction: Pass latex_names to AlgebraicExtensionFunctor</code></td></tr></table>




---

archive/issue_comments_482048.json:
```json
{
    "body": "Changed commit from **[`8a9c2aa`](https://github.com/sagemath/sagetrac-mirror/commit/8a9c2aa05454dc3695a1f8eceb4b657047fda489)** to **[`7a88492`](https://github.com/sagemath/sagetrac-mirror/commit/7a88492013d4b4147c35d0ceb2124e38bc393aae)**",
    "created_at": "2020-08-15T19:12:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482048",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8a9c2aa`](https://github.com/sagemath/sagetrac-mirror/commit/8a9c2aa05454dc3695a1f8eceb4b657047fda489)** to **[`7a88492`](https://github.com/sagemath/sagetrac-mirror/commit/7a88492013d4b4147c35d0ceb2124e38bc393aae)**



---

archive/issue_comments_482049.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-08-15T19:12:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482049",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_482050.json:
```json
{
    "body": "Changed commit from **[`7a88492`](https://github.com/sagemath/sagetrac-mirror/commit/7a88492013d4b4147c35d0ceb2124e38bc393aae)** to **[`20ce248`](https://github.com/sagemath/sagetrac-mirror/commit/20ce24899b75292cec183f6c6f8c4af8c13fbcfc)**",
    "created_at": "2020-08-15T20:28:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482050",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7a88492`](https://github.com/sagemath/sagetrac-mirror/commit/7a88492013d4b4147c35d0ceb2124e38bc393aae)** to **[`20ce248`](https://github.com/sagemath/sagetrac-mirror/commit/20ce24899b75292cec183f6c6f8c4af8c13fbcfc)**



---

archive/issue_comments_482051.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1842e477e5c54140b77dae80ace0554387bf7863\"><code>1842e47</code></a></td><td><code>sage.rings.number_field.number_field.NumberField_generic: Use _latex_names instead of __latex_variable_name, deprecate .latex_variable_name()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9ceef7cd3977cd0f5cd27e2dcd959c2e817b050\"><code>f9ceef7</code></a></td><td><code>Merge branch 't/30372/replace_numberfield_generic___latex_variable_name_by___latex_name' into t/30360/action_of_number_field_on_free_module_over_zz_not_discovered</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56f6c4d754634cd764d0e9be1906047afa239456\"><code>56f6c4d</code></a></td><td><code>sage.rings.number_field.number_field.NumberFieldTower: Pass latex_name to extension</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/42eb272ad538d404e7375fb5e0560e4e2ccf6508\"><code>42eb272</code></a></td><td><code>sage.rings.number_field.number_field.NumberField_generic.construction: Collect latex_names from the tower of extensions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6697bca3c89ddae1be7ffcc5e4464832f6475199\"><code>6697bca</code></a></td><td><code>Fixup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6e828e8a6189728135588dd156e271e773a4f97\"><code>a6e828e</code></a></td><td><code>Merge branch 't/30372/replace_numberfield_generic___latex_variable_name_by___latex_name' into t/30360/action_of_number_field_on_free_module_over_zz_not_discovered</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20ce24899b75292cec183f6c6f8c4af8c13fbcfc\"><code>20ce248</code></a></td><td><code>src/sage/rings/number_field/number_field_element_quadratic.pyx: Add test for #30360</code></td></tr></table>\n",
    "created_at": "2020-08-15T20:28:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482051",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1842e477e5c54140b77dae80ace0554387bf7863"><code>1842e47</code></a></td><td><code>sage.rings.number_field.number_field.NumberField_generic: Use _latex_names instead of __latex_variable_name, deprecate .latex_variable_name()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9ceef7cd3977cd0f5cd27e2dcd959c2e817b050"><code>f9ceef7</code></a></td><td><code>Merge branch 't/30372/replace_numberfield_generic___latex_variable_name_by___latex_name' into t/30360/action_of_number_field_on_free_module_over_zz_not_discovered</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56f6c4d754634cd764d0e9be1906047afa239456"><code>56f6c4d</code></a></td><td><code>sage.rings.number_field.number_field.NumberFieldTower: Pass latex_name to extension</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/42eb272ad538d404e7375fb5e0560e4e2ccf6508"><code>42eb272</code></a></td><td><code>sage.rings.number_field.number_field.NumberField_generic.construction: Collect latex_names from the tower of extensions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6697bca3c89ddae1be7ffcc5e4464832f6475199"><code>6697bca</code></a></td><td><code>Fixup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6e828e8a6189728135588dd156e271e773a4f97"><code>a6e828e</code></a></td><td><code>Merge branch 't/30372/replace_numberfield_generic___latex_variable_name_by___latex_name' into t/30360/action_of_number_field_on_free_module_over_zz_not_discovered</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20ce24899b75292cec183f6c6f8c4af8c13fbcfc"><code>20ce248</code></a></td><td><code>src/sage/rings/number_field/number_field_element_quadratic.pyx: Add test for #30360</code></td></tr></table>




---

archive/issue_events_415200.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-15T20:28:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415200"
}
```



---

archive/issue_comments_482052.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da551dcf21959eb14e768656c7d55a6ad8760f14\"><code>da551dc</code></a></td><td><code>src/sage/rings/number_field/number_field.py: Fix error found by pyflakes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d293911c4be27878476d9c057d70d5aa59f3305\"><code>6d29391</code></a></td><td><code>Merge branch 't/30372/replace_numberfield_generic___latex_variable_name_by___latex_name' into t/30360/action_of_number_field_on_free_module_over_zz_not_discovered</code></td></tr></table>\n",
    "created_at": "2020-08-16T00:35:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482052",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da551dcf21959eb14e768656c7d55a6ad8760f14"><code>da551dc</code></a></td><td><code>src/sage/rings/number_field/number_field.py: Fix error found by pyflakes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d293911c4be27878476d9c057d70d5aa59f3305"><code>6d29391</code></a></td><td><code>Merge branch 't/30372/replace_numberfield_generic___latex_variable_name_by___latex_name' into t/30360/action_of_number_field_on_free_module_over_zz_not_discovered</code></td></tr></table>




---

archive/issue_comments_482053.json:
```json
{
    "body": "Changed commit from **[`20ce248`](https://github.com/sagemath/sagetrac-mirror/commit/20ce24899b75292cec183f6c6f8c4af8c13fbcfc)** to **[`6d29391`](https://github.com/sagemath/sagetrac-mirror/commit/6d293911c4be27878476d9c057d70d5aa59f3305)**",
    "created_at": "2020-08-16T00:35:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482053",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`20ce248`](https://github.com/sagemath/sagetrac-mirror/commit/20ce24899b75292cec183f6c6f8c4af8c13fbcfc)** to **[`6d29391`](https://github.com/sagemath/sagetrac-mirror/commit/6d293911c4be27878476d9c057d70d5aa59f3305)**



---

archive/issue_comments_482054.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThe test failure reported by the patchbot seems unrelated. Ready for review",
    "created_at": "2020-08-16T13:31:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482054",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:23" align="right">comment:23</div>

The test failure reported by the patchbot seems unrelated. Ready for review



---

archive/issue_comments_482055.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThe test failure is subject of #29989, which is now closed.",
    "created_at": "2020-08-17T05:26:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482055",
    "user": "https://github.com/kliem"
}
```

<div id="comment:24" align="right">comment:24</div>

The test failure is subject of #29989, which is now closed.



---

archive/issue_comments_482056.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nIt is a little strange that `extension()` has the parameters `name` and `names` but only `latex_name`. Although this isn't a dealbreaker, I think it would be good to have this consistent.",
    "created_at": "2020-08-17T06:00:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482056",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:25" align="right">comment:25</div>

It is a little strange that `extension()` has the parameters `name` and `names` but only `latex_name`. Although this isn't a dealbreaker, I think it would be good to have this consistent.



---

archive/issue_comments_482057.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThanks. Note that this is a comment for the dependency #30372. I have just found an old ticket with a similar goal, #19657. I am going to make the improvement regarding `latex_name`, `latex_names` on that ticket, reworking it on top of #30372.",
    "created_at": "2020-08-17T06:16:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482057",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

Thanks. Note that this is a comment for the dependency #30372. I have just found an old ticket with a similar goal, #19657. I am going to make the improvement regarding `latex_name`, `latex_names` on that ticket, reworking it on top of #30372.



---

archive/issue_comments_482058.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nSorry, I was confused.",
    "created_at": "2020-08-17T06:21:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482058",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:27" align="right">comment:27</div>

Sorry, I was confused.



---

archive/issue_events_415201.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-17T06:23:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415201"
}
```



---

archive/issue_events_415202.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-17T06:23:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415202"
}
```



---

archive/issue_comments_482059.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45aeabd06a57edc121f2d13c12224c9b77391717\"><code>45aeabd</code></a></td><td><code>doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2ffd171ddef3c2f20cfe678cafa8b59c6d289f9\"><code>f2ffd17</code></a></td><td><code>Ring.extension, NumberField...__init__: Prefer latex_names over latex_name</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e0c216bb35121c5537653800698db3cd51781578\"><code>e0c216b</code></a></td><td><code>Treat latex_names in a similar manner to names</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86b40c2a3d80f07963f012d502062bcb73b26d28\"><code>86b40c2</code></a></td><td><code>adjust _latex for elements of relative number fields</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e5cc17d9dc779dc214161860e33d2dcf63582a1\"><code>3e5cc17</code></a></td><td><code>src/sage/categories/pushout.py: Prefer latex_names in doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e40588ababaaeb1899352149d8dcc854fb7bc9a4\"><code>e40588a</code></a></td><td><code>FiniteField.extension: Make arguments latex_name, latex_names keyword-only</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c598fbbd9730a35ec17cb0c72b3f8f1608fcadf2\"><code>c598fbb</code></a></td><td><code>src/sage/rings/number_field/number_field_element.pyx: Use latex_variable_names instead of deprecated latex_variable_name</code></td></tr></table>\n",
    "created_at": "2020-08-17T22:41:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482059",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45aeabd06a57edc121f2d13c12224c9b77391717"><code>45aeabd</code></a></td><td><code>doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2ffd171ddef3c2f20cfe678cafa8b59c6d289f9"><code>f2ffd17</code></a></td><td><code>Ring.extension, NumberField...__init__: Prefer latex_names over latex_name</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e0c216bb35121c5537653800698db3cd51781578"><code>e0c216b</code></a></td><td><code>Treat latex_names in a similar manner to names</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86b40c2a3d80f07963f012d502062bcb73b26d28"><code>86b40c2</code></a></td><td><code>adjust _latex for elements of relative number fields</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e5cc17d9dc779dc214161860e33d2dcf63582a1"><code>3e5cc17</code></a></td><td><code>src/sage/categories/pushout.py: Prefer latex_names in doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e40588ababaaeb1899352149d8dcc854fb7bc9a4"><code>e40588a</code></a></td><td><code>FiniteField.extension: Make arguments latex_name, latex_names keyword-only</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c598fbbd9730a35ec17cb0c72b3f8f1608fcadf2"><code>c598fbb</code></a></td><td><code>src/sage/rings/number_field/number_field_element.pyx: Use latex_variable_names instead of deprecated latex_variable_name</code></td></tr></table>




---

archive/issue_comments_482060.json:
```json
{
    "body": "Changed commit from **[`6d29391`](https://github.com/sagemath/sagetrac-mirror/commit/6d293911c4be27878476d9c057d70d5aa59f3305)** to **[`c598fbb`](https://github.com/sagemath/sagetrac-mirror/commit/c598fbbd9730a35ec17cb0c72b3f8f1608fcadf2)**",
    "created_at": "2020-08-17T22:41:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482060",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6d29391`](https://github.com/sagemath/sagetrac-mirror/commit/6d293911c4be27878476d9c057d70d5aa59f3305)** to **[`c598fbb`](https://github.com/sagemath/sagetrac-mirror/commit/c598fbbd9730a35ec17cb0c72b3f8f1608fcadf2)**



---

archive/issue_comments_482061.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nCherry-picked some more latex-name changes from #19657.",
    "created_at": "2020-08-17T22:42:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482061",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

Cherry-picked some more latex-name changes from #19657.



---

archive/issue_events_415203.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-17T22:42:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415203"
}
```



---

archive/issue_events_415204.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-17T22:42:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415204"
}
```



---

archive/issue_comments_482062.json:
```json
{
    "body": "Changed author from **Matthias Koeppe** to **Matthias Koeppe, Francis Clarke**",
    "created_at": "2020-08-17T22:42:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482062",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Matthias Koeppe** to **Matthias Koeppe, Francis Clarke**



---

archive/issue_events_415205.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-17T22:44:31Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "title_is": "Fix multiplication of number field element * ZZ-vector by handling latex names of number field generators",
    "title_was": "Action of number field on free module over ZZ not discovered",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415205"
}
```



---

archive/issue_comments_482063.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nI am not sure about this:\n\n```python\n        if latex_name is None and latex_names is not None:\n            latex_name = latex_names\n```\nI would expect `latex_names` to be a tuple, so I would think the correct thing to do would be `latex_name = latex_names[0]`.",
    "created_at": "2020-08-18T00:11:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482063",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:32" align="right">comment:32</div>

I am not sure about this:

```python
        if latex_name is None and latex_names is not None:
            latex_name = latex_names
```
I would expect `latex_names` to be a tuple, so I would think the correct thing to do would be `latex_name = latex_names[0]`.



---

archive/issue_comments_482064.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nThis is passed on to the `extension` method, which handles both singular and plural.",
    "created_at": "2020-08-18T00:19:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482064",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:33" align="right">comment:33</div>

This is passed on to the `extension` method, which handles both singular and plural.



---

archive/issue_comments_482065.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2020-08-18T00:22:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482065",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_482066.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nOkay, good. Then let's wait for the patchbot, but if that is green, then positive review.",
    "created_at": "2020-08-18T00:22:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482066",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:34" align="right">comment:34</div>

Okay, good. Then let's wait for the patchbot, but if that is green, then positive review.



---

archive/issue_comments_482067.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nThanks!",
    "created_at": "2020-08-18T02:00:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482067",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:35" align="right">comment:35</div>

Thanks!



---

archive/issue_events_415206.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-18T02:00:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415206"
}
```



---

archive/issue_events_415207.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-18T02:00:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415207"
}
```



---

archive/issue_events_415208.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-24T22:56:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415208"
}
```



---

archive/issue_events_415209.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-24T22:56:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415209"
}
```



---

archive/issue_comments_482068.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nPDF docs don't build",
    "created_at": "2020-08-24T22:56:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482068",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:36" align="right">comment:36</div>

PDF docs don't build



---

archive/issue_comments_482069.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\n@vbraun: Can you be more precice? Is this on a test branch on top of other tickets?\n\nThe patchbot exceeds disk quota due to `ccache`, so I don't think this has anything to do with this ticket.\n\nFor me, documentation builds just fine.",
    "created_at": "2020-08-25T05:51:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482069",
    "user": "https://github.com/kliem"
}
```

<div id="comment:37" align="right">comment:37</div>

@vbraun: Can you be more precice? Is this on a test branch on top of other tickets?

The patchbot exceeds disk quota due to `ccache`, so I don't think this has anything to do with this ticket.

For me, documentation builds just fine.



---

archive/issue_events_415210.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-26T15:30:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415210"
}
```



---

archive/issue_events_415211.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-26T15:30:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415211"
}
```



---

archive/issue_comments_482070.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nPDF docs don't build (non-pdf is ok)",
    "created_at": "2020-08-26T22:54:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482070",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:39" align="right">comment:39</div>

PDF docs don't build (non-pdf is ok)



---

archive/issue_events_415212.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-26T22:54:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415212"
}
```



---

archive/issue_events_415213.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-26T22:54:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415213"
}
```



---

archive/issue_comments_482071.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\n\n```\n[docpdf] \n[docpdf] ! Package inputenc Error: Unicode character ^^G (U+0007)\n[docpdf] (inputenc)                not set up for use with LaTeX.\n[docpdf] \n[docpdf] See the inputenc package documentation for explanation.\n[docpdf] Type  H <return>  for immediate help.\n[docpdf]  ...                                              \n[docpdf]                                                   \n[docpdf] l.1012 ...G{l+s+s1}{\\PYGZsq{}}\\PYG{p}{]}\\PYG{p}{)}\n[docpdf]                                                   \n[docpdf] ? \n[docpdf] ! Emergency stop.\n```",
    "created_at": "2020-08-26T22:55:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482071",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:40" align="right">comment:40</div>


```
[docpdf] 
[docpdf] ! Package inputenc Error: Unicode character ^^G (U+0007)
[docpdf] (inputenc)                not set up for use with LaTeX.
[docpdf] 
[docpdf] See the inputenc package documentation for explanation.
[docpdf] Type  H <return>  for immediate help.
[docpdf]  ...                                              
[docpdf]                                                   
[docpdf] l.1012 ...G{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
[docpdf]                                                   
[docpdf] ? 
[docpdf] ! Emergency stop.
```



---

archive/issue_comments_482072.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI think the problem is in `NumberFieldTower`, the string is not a `r\"\"\"`. Let me see if that fixes it.",
    "created_at": "2020-08-27T00:02:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482072",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:41" align="right">comment:41</div>

I think the problem is in `NumberFieldTower`, the string is not a `r"""`. Let me see if that fixes it.



---

archive/issue_comments_482073.json:
```json
{
    "body": "Changed commit from **[`c598fbb`](https://github.com/sagemath/sagetrac-mirror/commit/c598fbbd9730a35ec17cb0c72b3f8f1608fcadf2)** to **[`a3c790f`](https://github.com/sagemath/sagetrac-mirror/commit/a3c790f6fb38fca37c37dae86e568a5acdedb1c0)**",
    "created_at": "2020-08-27T00:43:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482073",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`c598fbb`](https://github.com/sagemath/sagetrac-mirror/commit/c598fbbd9730a35ec17cb0c72b3f8f1608fcadf2)** to **[`a3c790f`](https://github.com/sagemath/sagetrac-mirror/commit/a3c790f6fb38fca37c37dae86e568a5acdedb1c0)**



---

archive/issue_comments_482074.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/action_of_number_field_on_free_module_over_zz_not_discovered](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/action_of_number_field_on_free_module_over_zz_not_discovered)** to **[public/coercion/latex_names-30360](https://github.com/sagemath/sagetrac-mirror/tree/public/coercion/latex_names-30360)**",
    "created_at": "2020-08-27T00:43:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482074",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/mkoeppe/action_of_number_field_on_free_module_over_zz_not_discovered](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/action_of_number_field_on_free_module_over_zz_not_discovered)** to **[public/coercion/latex_names-30360](https://github.com/sagemath/sagetrac-mirror/tree/public/coercion/latex_names-30360)**



---

archive/issue_events_415214.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-08-27T00:43:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415214"
}
```



---

archive/issue_events_415215.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-08-27T00:43:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415215"
}
```



---

archive/issue_comments_482075.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [@tscrim](#comment%3A41):\n> I think the problem is in `NumberFieldTower`, the string is not a `r\"\"\"`. Let me see if that fixes it.\n\nI think that fixes it. Please double-check. What a cryptic error message through...\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45e0c4f4cdfeda48e308d13b9ff740c941fd0d7b\"><code>45e0c4f</code></a></td><td><code>Merge branch 'u/mkoeppe/action_of_number_field_on_free_module_over_zz_not_discovered' of git://trac.sagemath.org/sage into public/coercion/latex_names-30360</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3c790f6fb38fca37c37dae86e568a5acdedb1c0\"><code>a3c790f</code></a></td><td><code>Fix pdf docbuild in NumberFieldTower.</code></td></tr></table>\n",
    "created_at": "2020-08-27T00:43:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482075",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [@tscrim](#comment%3A41):
> I think the problem is in `NumberFieldTower`, the string is not a `r"""`. Let me see if that fixes it.

I think that fixes it. Please double-check. What a cryptic error message through...

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45e0c4f4cdfeda48e308d13b9ff740c941fd0d7b"><code>45e0c4f</code></a></td><td><code>Merge branch 'u/mkoeppe/action_of_number_field_on_free_module_over_zz_not_discovered' of git://trac.sagemath.org/sage into public/coercion/latex_names-30360</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3c790f6fb38fca37c37dae86e568a5acdedb1c0"><code>a3c790f</code></a></td><td><code>Fix pdf docbuild in NumberFieldTower.</code></td></tr></table>




---

archive/issue_events_415216.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-27T00:54:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415216"
}
```



---

archive/issue_events_415217.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-27T00:54:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415217"
}
```



---

archive/issue_comments_482076.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nThanks, this did the job.",
    "created_at": "2020-08-27T00:54:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482076",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:43" align="right">comment:43</div>

Thanks, this did the job.



---

archive/issue_comments_482077.json:
```json
{
    "body": "Changed branch from **[public/coercion/latex_names-30360](https://github.com/sagemath/sagetrac-mirror/tree/public/coercion/latex_names-30360)** to **[`a3c790f`](https://github.com/sagemath/sagetrac-mirror/commit/a3c790f6fb38fca37c37dae86e568a5acdedb1c0)**",
    "created_at": "2020-09-01T22:59:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30360#issuecomment-482077",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/coercion/latex_names-30360](https://github.com/sagemath/sagetrac-mirror/tree/public/coercion/latex_names-30360)** to **[`a3c790f`](https://github.com/sagemath/sagetrac-mirror/commit/a3c790f6fb38fca37c37dae86e568a5acdedb1c0)**



---

archive/issue_events_415218.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-09-01T22:59:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415218"
}
```



---

archive/issue_events_415219.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "1b9d7cff30fd43e7133ef06b53f646453e35cfa1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-09-01T22:59:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30360",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30360#event-415219"
}
```
