# Issue 30049: Add sage.numerical.backends.matrix_sdp_backend (dummy SDP solver)

archive/issues_029812.json:
```json
{
    "body": "We add a class `MatrixSDPBackend`, subclassing `GenericSDPBackend`, which stores the SDP data in Sage matrices.\n\nIt will allow users to specify a base ring and thus store exact SDPs. This is similar to what `InteractiveLPBackend` provides for LPs.\n\nAttempting to solve it will give a runtime error.\n\nWe change the existing backend class `CVXOPTSDPBackend` to derive from `MatrixSDPBackend`.\n\n\nCC:  @dimpase @yuan-zhou\n\nBranch/Commit: [fc565ece0c80cbc3bebac5dcf4bbecc82232ab60](https://github.com/sagemath/sagetrac-mirror/commit/fc565ece0c80cbc3bebac5dcf4bbecc82232ab60)\n\nReviewer: Dima Pasechnik\n\nAuthor: Matthias Koeppe\n\nDependencies: #30031\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30049\n\n",
    "closed_at": "2020-09-01T22:59:55Z",
    "created_at": "2020-07-02T19:36:50Z",
    "labels": [
        "component: numerical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Add sage.numerical.backends.matrix_sdp_backend (dummy SDP solver)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30049",
    "user": "https://github.com/mkoeppe"
}
```
We add a class `MatrixSDPBackend`, subclassing `GenericSDPBackend`, which stores the SDP data in Sage matrices.

It will allow users to specify a base ring and thus store exact SDPs. This is similar to what `InteractiveLPBackend` provides for LPs.

Attempting to solve it will give a runtime error.

We change the existing backend class `CVXOPTSDPBackend` to derive from `MatrixSDPBackend`.


CC:  @dimpase @yuan-zhou

Branch/Commit: [fc565ece0c80cbc3bebac5dcf4bbecc82232ab60](https://github.com/sagemath/sagetrac-mirror/commit/fc565ece0c80cbc3bebac5dcf4bbecc82232ab60)

Reviewer: Dima Pasechnik

Author: Matthias Koeppe

Dependencies: #30031

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30049





---

archive/issue_comments_591221.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#30031\"",
    "created_at": "2020-07-02T19:40:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591221",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#30031"



---

archive/issue_comments_591222.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/add_sage_numerical_backends_matrix_sdp_backend__dummy_sdp_solver_\"",
    "created_at": "2020-07-02T19:52:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591222",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/add_sage_numerical_backends_matrix_sdp_backend__dummy_sdp_solver_"



---

archive/issue_comments_591223.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|\n|[978b9eb](https://github.com/sagemath/sagetrac-mirror/commit/978b9eb87b22839f5856db1d923f2bc89d70447c)|`sage.numerical.backends.matrix_sdp_backend.MatrixSDPBackend: Add __init__, set_sense, is_maximization`|",
    "created_at": "2020-07-02T23:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591223",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|
|[978b9eb](https://github.com/sagemath/sagetrac-mirror/commit/978b9eb87b22839f5856db1d923f2bc89d70447c)|`sage.numerical.backends.matrix_sdp_backend.MatrixSDPBackend: Add __init__, set_sense, is_maximization`|



---

archive/issue_comments_591224.json:
```json
{
    "body": "Changing commit from \"\" to \"978b9eb87b22839f5856db1d923f2bc89d70447c\"",
    "created_at": "2020-07-02T23:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591224",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "978b9eb87b22839f5856db1d923f2bc89d70447c"



---

archive/issue_comments_591225.json:
```json
{
    "body": "Changing commit from \"978b9eb87b22839f5856db1d923f2bc89d70447c\" to \"72fad876baacda7c9a7adddeb11cc20ec5f22cd5\"",
    "created_at": "2020-07-02T23:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591225",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "978b9eb87b22839f5856db1d923f2bc89d70447c" to "72fad876baacda7c9a7adddeb11cc20ec5f22cd5"



---

archive/issue_comments_591226.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------|\n|[72fad87](https://github.com/sagemath/sagetrac-mirror/commit/72fad876baacda7c9a7adddeb11cc20ec5f22cd5)|`sage.numerical.backends.matrix_sdp_backend.MatrixSDPBackend: Add problem_name`|",
    "created_at": "2020-07-02T23:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591226",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------|
|[72fad87](https://github.com/sagemath/sagetrac-mirror/commit/72fad876baacda7c9a7adddeb11cc20ec5f22cd5)|`sage.numerical.backends.matrix_sdp_backend.MatrixSDPBackend: Add problem_name`|



---

archive/issue_comments_591227.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,4 +4,5 @@\n \n Attempting to solve it will give a runtime error.\n \n+We change the existing backend class `CVXOPTSDPBackend` to derive from `MatrixSDPBackend`.\n \n``````\n",
    "created_at": "2020-07-02T23:50:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591227",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,4 +4,5 @@
 
 Attempting to solve it will give a runtime error.
 
+We change the existing backend class `CVXOPTSDPBackend` to derive from `MatrixSDPBackend`.
 
``````




---

archive/issue_comments_591228.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[80dae7d](https://github.com/sagemath/sagetrac-mirror/commit/80dae7d895b379b13bdc435f226b8de6b034b5be)|`Refactor CVXOPTSDPBackend through MatrixSDPBackend`|",
    "created_at": "2020-07-03T00:20:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591228",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[80dae7d](https://github.com/sagemath/sagetrac-mirror/commit/80dae7d895b379b13bdc435f226b8de6b034b5be)|`Refactor CVXOPTSDPBackend through MatrixSDPBackend`|



---

archive/issue_comments_591229.json:
```json
{
    "body": "Changing commit from \"72fad876baacda7c9a7adddeb11cc20ec5f22cd5\" to \"80dae7d895b379b13bdc435f226b8de6b034b5be\"",
    "created_at": "2020-07-03T00:20:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591229",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "72fad876baacda7c9a7adddeb11cc20ec5f22cd5" to "80dae7d895b379b13bdc435f226b8de6b034b5be"



---

archive/issue_comments_591230.json:
```json
{
    "body": "Changing commit from \"80dae7d895b379b13bdc435f226b8de6b034b5be\" to \"d012c01bd36c9111d233889f809e35345d63ac59\"",
    "created_at": "2020-07-03T01:19:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591230",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "80dae7d895b379b13bdc435f226b8de6b034b5be" to "d012c01bd36c9111d233889f809e35345d63ac59"



---

archive/issue_comments_591231.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|\n|[d012c01](https://github.com/sagemath/sagetrac-mirror/commit/d012c01bd36c9111d233889f809e35345d63ac59)|`SemidefiniteProgram: New keyword argument base_ring, pass to backend`|",
    "created_at": "2020-07-03T01:19:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591231",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|
|[d012c01](https://github.com/sagemath/sagetrac-mirror/commit/d012c01bd36c9111d233889f809e35345d63ac59)|`SemidefiniteProgram: New keyword argument base_ring, pass to backend`|



---

archive/issue_comments_591232.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2020-07-03T01:20:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591232",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_591233.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-07-03T01:20:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591233",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_591234.json:
```json
{
    "body": "<a id='comment:9'></a>\na rebase is needed",
    "created_at": "2020-08-26T23:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591234",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
a rebase is needed



---

archive/issue_comments_591235.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|\n|[805e81d](https://github.com/sagemath/sagetrac-mirror/commit/805e81d176b8b5cd8fd2f57b87ee8d8929719d4c)|`Merge tag '9.2.beta10' into t/30049/add_sage_numerical_backends_matrix_sdp_backend__dummy_sdp_solver_`|",
    "created_at": "2020-08-27T00:50:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591235",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|
|[805e81d](https://github.com/sagemath/sagetrac-mirror/commit/805e81d176b8b5cd8fd2f57b87ee8d8929719d4c)|`Merge tag '9.2.beta10' into t/30049/add_sage_numerical_backends_matrix_sdp_backend__dummy_sdp_solver_`|



---

archive/issue_comments_591236.json:
```json
{
    "body": "Changing commit from \"d012c01bd36c9111d233889f809e35345d63ac59\" to \"805e81d176b8b5cd8fd2f57b87ee8d8929719d4c\"",
    "created_at": "2020-08-27T00:50:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591236",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d012c01bd36c9111d233889f809e35345d63ac59" to "805e81d176b8b5cd8fd2f57b87ee8d8929719d4c"



---

archive/issue_comments_591237.json:
```json
{
    "body": "<a id='comment:11'></a>\npatchbot complains about extra space before final `:` \n\n```\ninside file:  b/src/sage/numerical/backends/matrix_sdp_backend.pyx\n@@ -0,0 +1,485 @@\n+        - ``sense`` (integer) :\n```\nthis seems to be OK, though, as docs still build.\nCan you just remove ` ``  :` there?",
    "created_at": "2020-08-27T08:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591237",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>
patchbot complains about extra space before final `:` 

```
inside file:  b/src/sage/numerical/backends/matrix_sdp_backend.pyx
@@ -0,0 +1,485 @@
+        - ``sense`` (integer) :
```
this seems to be OK, though, as docs still build.
Can you just remove ` ``  :` there?



---

archive/issue_comments_591238.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|\n|[fc565ec](https://github.com/sagemath/sagetrac-mirror/commit/fc565ece0c80cbc3bebac5dcf4bbecc82232ab60)|`src/sage/numerical/backends/matrix_sdp_backend.pyx: Docstring fix`|",
    "created_at": "2020-08-27T16:35:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591238",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|
|[fc565ec](https://github.com/sagemath/sagetrac-mirror/commit/fc565ece0c80cbc3bebac5dcf4bbecc82232ab60)|`src/sage/numerical/backends/matrix_sdp_backend.pyx: Docstring fix`|



---

archive/issue_comments_591239.json:
```json
{
    "body": "Changing commit from \"805e81d176b8b5cd8fd2f57b87ee8d8929719d4c\" to \"fc565ece0c80cbc3bebac5dcf4bbecc82232ab60\"",
    "created_at": "2020-08-27T16:35:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591239",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "805e81d176b8b5cd8fd2f57b87ee8d8929719d4c" to "fc565ece0c80cbc3bebac5dcf4bbecc82232ab60"



---

archive/issue_comments_591240.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2020-08-27T17:36:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591240",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_591241.json:
```json
{
    "body": "<a id='comment:13'></a>\nOK, good.",
    "created_at": "2020-08-27T17:36:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591241",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:13'></a>
OK, good.



---

archive/issue_comments_591242.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-27T17:36:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591242",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_591243.json:
```json
{
    "body": "<a id='comment:14'></a>\nThanks!",
    "created_at": "2020-08-27T20:26:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591243",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
Thanks!



---

archive/issue_comments_591244.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/add_sage_numerical_backends_matrix_sdp_backend__dummy_sdp_solver_\" to \"fc565ece0c80cbc3bebac5dcf4bbecc82232ab60\"",
    "created_at": "2020-09-01T22:59:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591244",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/add_sage_numerical_backends_matrix_sdp_backend__dummy_sdp_solver_" to "fc565ece0c80cbc3bebac5dcf4bbecc82232ab60"



---

archive/issue_events_087148.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-09-01T22:59:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30049#event-87148"
}
```



---

archive/issue_comments_591245.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-09-01T22:59:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30049#issuecomment-591245",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
