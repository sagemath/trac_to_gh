# Issue 30524: Remove `maybe_newfaces` in combinatorial polyhedron

archive/issues_030287.json:
```json
{
    "body": "This ticket removes `maybe_newfaces` from the face iterator.\n\nThere used to be a `uint64_t**` with the data called `maybe_newfaces` and a `uint64_t**` that points to the actual newfaces. We remove this double structure by swapping the new faces in place.\n\nWe also get rid of a superfluous function `get_next_dimension_loop` in `ListOfFaces`.\n\nWe do not expose the original pointers to the coatoms such that e.g. sorting of the coatoms would be possible in the face iterator (note that still the actual data is exposed, which one shouldn't alter anyway).\n\nCC:  @tscrim\n\nKeywords: simplification, combinatorial polyhedron\n\nBranch/Commit: fc8124a4986660d38297bab6723860d9bf99ed8c\n\nReviewer: Travis Scrimshaw\n\nAuthor: Jonathan Kliem\n\nDependencies: #30040\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30524\n\n",
    "closed_at": "2020-11-15T22:47:33Z",
    "created_at": "2020-09-07T20:01:16Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Remove `maybe_newfaces` in combinatorial polyhedron",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30524",
    "user": "https://github.com/kliem"
}
```
This ticket removes `maybe_newfaces` from the face iterator.

There used to be a `uint64_t**` with the data called `maybe_newfaces` and a `uint64_t**` that points to the actual newfaces. We remove this double structure by swapping the new faces in place.

We also get rid of a superfluous function `get_next_dimension_loop` in `ListOfFaces`.

We do not expose the original pointers to the coatoms such that e.g. sorting of the coatoms would be possible in the face iterator (note that still the actual data is exposed, which one shouldn't alter anyway).

CC:  @tscrim

Keywords: simplification, combinatorial polyhedron

Branch/Commit: fc8124a4986660d38297bab6723860d9bf99ed8c

Reviewer: Travis Scrimshaw

Author: Jonathan Kliem

Dependencies: #30040

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30524





---

archive/issue_comments_603081.json:
```json
{
    "body": "<a id='comment:1'></a>Last 10 new commits:",
    "created_at": "2020-09-07T20:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603081",
    "user": "https://github.com/kliem"
}
```

<a id='comment:1'></a>Last 10 new commits:



---

archive/issue_comments_603082.json:
```json
{
    "body": "Changing branch from \"\" to \"u/gh-kliem/no_more_maybes\"",
    "created_at": "2020-09-07T20:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603082",
    "user": "https://github.com/kliem"
}
```

Changing branch from "" to "u/gh-kliem/no_more_maybes"



---

archive/issue_comments_603083.json:
```json
{
    "body": "Changing commit from \"\" to \"6d9f9c4067dfc97ef2f51df0509e28ac7a0cef3f\"",
    "created_at": "2020-09-07T20:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603083",
    "user": "https://github.com/kliem"
}
```

Changing commit from "" to "6d9f9c4067dfc97ef2f51df0509e28ac7a0cef3f"



---

archive/issue_comments_603084.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-09-07T20:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603084",
    "user": "https://github.com/kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_603085.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-07T20:01:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603085",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_603086.json:
```json
{
    "body": "Changing commit from \"6d9f9c4067dfc97ef2f51df0509e28ac7a0cef3f\" to \"c91ae5bd4a28f3882697910167431b0d73e06f94\"",
    "created_at": "2020-09-07T20:01:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603086",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6d9f9c4067dfc97ef2f51df0509e28ac7a0cef3f" to "c91ae5bd4a28f3882697910167431b0d73e06f94"



---

archive/issue_comments_603087.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2020-09-07T20:02:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603087",
    "user": "https://github.com/kliem"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_603088.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#30040\"",
    "created_at": "2020-09-07T20:02:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603088",
    "user": "https://github.com/kliem"
}
```

Changing dependencies from "" to "#30040"



---

archive/issue_comments_603089.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-08T07:23:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603089",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_603090.json:
```json
{
    "body": "Changing commit from \"c91ae5bd4a28f3882697910167431b0d73e06f94\" to \"c16d4931d65fd6de5df9c24efb648534b98a1bb5\"",
    "created_at": "2020-09-08T07:23:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603090",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c91ae5bd4a28f3882697910167431b0d73e06f94" to "c16d4931d65fd6de5df9c24efb648534b98a1bb5"



---

archive/issue_comments_603091.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2020-09-08T22:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603091",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_603092.json:
```json
{
    "body": "<a id='comment:5'></a>LGTM.",
    "created_at": "2020-09-08T22:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603092",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>LGTM.



---

archive/issue_comments_603093.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n This ticket removes `maybe_newfaces` from the face iterator.\n \n-There used to be a `uint64_t**` with the data called `maybe_newfaces` and a `uint64_t**` that points to the actual newfaces. We remove this double structure my swapping the new faces in place.\n+There used to be a `uint64_t**` with the data called `maybe_newfaces` and a `uint64_t**` that points to the actual newfaces. We remove this double structure by swapping the new faces in place.\n \n We also get rid of a superfluous function `get_next_dimension_loop` in `ListOfFaces`.\n \n``````\n",
    "created_at": "2020-09-08T22:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603093",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 This ticket removes `maybe_newfaces` from the face iterator.
 
-There used to be a `uint64_t**` with the data called `maybe_newfaces` and a `uint64_t**` that points to the actual newfaces. We remove this double structure my swapping the new faces in place.
+There used to be a `uint64_t**` with the data called `maybe_newfaces` and a `uint64_t**` that points to the actual newfaces. We remove this double structure by swapping the new faces in place.
 
 We also get rid of a superfluous function `get_next_dimension_loop` in `ListOfFaces`.
 
``````




---

archive/issue_comments_603094.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-08T22:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603094",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_603095.json:
```json
{
    "body": "<a id='comment:6'></a>Thank you.",
    "created_at": "2020-09-09T08:16:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603095",
    "user": "https://github.com/kliem"
}
```

<a id='comment:6'></a>Thank you.



---

archive/issue_comments_603096.json:
```json
{
    "body": "Changing commit from \"c16d4931d65fd6de5df9c24efb648534b98a1bb5\" to \"fc8124a4986660d38297bab6723860d9bf99ed8c\"",
    "created_at": "2020-09-09T08:25:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603096",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c16d4931d65fd6de5df9c24efb648534b98a1bb5" to "fc8124a4986660d38297bab6723860d9bf99ed8c"



---

archive/issue_comments_603097.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. Last 10 new commits:",
    "created_at": "2020-09-09T08:25:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603097",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. Last 10 new commits:



---

archive/issue_comments_603098.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-09-09T08:25:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603098",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_603099.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-09T08:25:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603099",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_603100.json:
```json
{
    "body": "<a id='comment:8'></a>Rebased.",
    "created_at": "2020-09-09T08:25:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603100",
    "user": "https://github.com/kliem"
}
```

<a id='comment:8'></a>Rebased.



---

archive/issue_events_079316.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30524#event-79316"
}
```



---

archive/issue_events_079317.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-15T22:47:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30524#event-79317"
}
```



---

archive/issue_comments_603101.json:
```json
{
    "body": "Changing branch from \"u/gh-kliem/no_more_maybes\" to \"fc8124a4986660d38297bab6723860d9bf99ed8c\"",
    "created_at": "2020-11-15T22:47:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603101",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/gh-kliem/no_more_maybes" to "fc8124a4986660d38297bab6723860d9bf99ed8c"



---

archive/issue_comments_603102.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-11-15T22:47:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-603102",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
