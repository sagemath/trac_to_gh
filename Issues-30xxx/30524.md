# Issue 30524: Remove `maybe_newfaces` in combinatorial polyhedron

archive/issues_030287.json:
```json
{
    "body": "This ticket removes `maybe_newfaces` from the face iterator.\n\nThere used to be a `uint64_t**` with the data called `maybe_newfaces` and a `uint64_t**` that points to the actual newfaces. We remove this double structure by swapping the new faces in place.\n\nWe also get rid of a superfluous function `get_next_dimension_loop` in `ListOfFaces`.\n\nWe do not expose the original pointers to the coatoms such that e.g. sorting of the coatoms would be possible in the face iterator (note that still the actual data is exposed, which one shouldn't alter anyway).\n\nCC:  @tscrim\n\nKeywords: simplification, combinatorial polyhedron\n\nReviewer: Travis Scrimshaw\n\nAuthor: Jonathan Kliem\n\nBranch: fc8124a4986660d38297bab6723860d9bf99ed8c\n\nDependencies: #30040\n\nCommit: fc8124a4986660d38297bab6723860d9bf99ed8c\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30524\n\n",
    "closed_at": "2020-11-15T22:47:33Z",
    "created_at": "2020-09-07T20:01:16Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Remove `maybe_newfaces` in combinatorial polyhedron",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30524",
    "user": "https://github.com/kliem"
}
```
This ticket removes `maybe_newfaces` from the face iterator.

There used to be a `uint64_t**` with the data called `maybe_newfaces` and a `uint64_t**` that points to the actual newfaces. We remove this double structure by swapping the new faces in place.

We also get rid of a superfluous function `get_next_dimension_loop` in `ListOfFaces`.

We do not expose the original pointers to the coatoms such that e.g. sorting of the coatoms would be possible in the face iterator (note that still the actual data is exposed, which one shouldn't alter anyway).

CC:  @tscrim

Keywords: simplification, combinatorial polyhedron

Reviewer: Travis Scrimshaw

Author: Jonathan Kliem

Branch: fc8124a4986660d38297bab6723860d9bf99ed8c

Dependencies: #30040

Commit: fc8124a4986660d38297bab6723860d9bf99ed8c

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30524





---

archive/issue_comments_431342.json:
```json
{
    "body": "<a id='comment:1'></a>Last 10 new commits:",
    "created_at": "2020-09-07T20:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-431342",
    "user": "https://github.com/kliem"
}
```

<a id='comment:1'></a>Last 10 new commits:



---

archive/issue_comments_431343.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-09-07T20:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-431343",
    "user": "https://github.com/kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_431344.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-07T20:01:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-431344",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_431345.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2020-09-07T20:02:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-431345",
    "user": "https://github.com/kliem"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_431346.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-08T07:23:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-431346",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_431347.json:
```json
{
    "body": "<a id='comment:5'></a>LGTM.",
    "created_at": "2020-09-08T22:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-431347",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>LGTM.



---

archive/issue_comments_431348.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-08T22:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-431348",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_431349.json:
```json
{
    "body": "<a id='comment:6'></a>Thank you.",
    "created_at": "2020-09-09T08:16:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-431349",
    "user": "https://github.com/kliem"
}
```

<a id='comment:6'></a>Thank you.



---

archive/issue_comments_431350.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. Last 10 new commits:",
    "created_at": "2020-09-09T08:25:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-431350",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. Last 10 new commits:



---

archive/issue_comments_431351.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-09-09T08:25:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-431351",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_431352.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-09T08:25:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-431352",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_431353.json:
```json
{
    "body": "<a id='comment:8'></a>Rebased.",
    "created_at": "2020-09-09T08:25:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-431353",
    "user": "https://github.com/kliem"
}
```

<a id='comment:8'></a>Rebased.



---

archive/issue_events_079316.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30524#event-79316"
}
```



---

archive/issue_events_079317.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-15T22:47:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30524#event-79317"
}
```



---

archive/issue_comments_431354.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-11-15T22:47:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30524#issuecomment-431354",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
