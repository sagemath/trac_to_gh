# Issue 30306: Meta-ticket: Use system Jupyter notebook / JupyterLab

archive/issues_030069.json:
```json
{
    "body": "CC:  @antonio-rojas @kiwifb @slel @nbruin @paulmasson @egourgoulhon @kwankyu @jcamp0x2a @williamstein @mezzarobba\n\nKeywords: sd110, sd111\n\nWe wish to support all combinations of the following scenarios:\n\n1. Running `notebook` installed in `SAGE_LOCAL` from SPKG\n2. Running `notebook` installed in the system python, or in some venv unrelated to Sage\n3. Running `notebook` on a different host (which has no Sage installation), connecting to the Sage Jupyter kernel (using ssh, or https://pypi.org/project/jupyter-kernel-gateway, or ...)\n\nA. Sage-the-distribution\nB. Distribution packaging of Sage (Debian, Conda, ...)\nC. Pip-installed sagelib (#30036)\n\nThe following data items are relevant:\n\ni. The kernelspec\niii. threejs, jsmol, mathjax data\niiiii. Built Sage documentation\n\nThe following installation locations are relevant:\n\na. data installed with sagelib within the Sage venv, such as `src/sage/ext_data`\nb. data installed within `SAGE_LOCAL` as part of Sage-the-distribution \nc. data installed as \"resources\" associated with the kernelspec, on the host where notebook runs (see `jupyter kernelspec list`)\nd. data installed as Jupyter nbextensions on the host where notebook runs (see `jupyter nbextension list`)\n\nTickets for Sage 9.2:\n\n- #30299 (Minimal fix for broken Jupyter Notebook)\n- #26919 (Upgrade to Jupyter Notebook 5.7.10 or 6.1.0 ....)\n\nTickets for Sage 9.3:\n\n- #30903 Fix broken symlink to documentation in the Sage Jupyter kernelspec\n- #30476 - Doc: Add instructions on how to run the SageMath Jupyter kernel in a system Jupyter Notebook or JupyterLab\n- #30315 Switch jsmol to `jupyter-jsmol`, make jmol optional\n- #31035 Remove mathjax configuration/symlink from jupyter notebook\n- #31279 Add package `argon2-cffi` (dependency of Jupyter notebook)\n- #31328 Upgrade `ipywidgets` to 7.6.3\n- #31278 `widgetsnbextension` should not depend on `notebook`\n- #30383 Add `configure --disable-notebook`\n- #31620 Document installing sagemath kernel without copying documentation\n- #31156 - Doc: Add instructions how to run Sage + Jupyter notebook in WSL, browser in Windows\n- #31157 Doc: Add instructions on how to run the SageMath Jupyter kernel in WSL, add as a kernel to Jupyter running natively in Windows (dup: #25850)\n\nTickets for Sage 9.4:\n\n- #31369 Support `jupyter-qtconsole`\n- #31179 - Add package `ipympl` - Makes interactive features of matplotlib available also in JupyterLab\n- #30972 - Versioned installation of `threejs`\n- #30123 (Repackage Sage's cropped threejs as a pip-installable package jupyter-threejs-sage)\n- #30124 (System information, spkg-configure for Jupyter \"notebook\" package and dependencies)\n- #30296 (System package information and spkg-configure for mathjax)\n- #30298 (Rewrite jupyter kernel installation code using KernelSpecManager, create kernel install script (entry point))\n- #30313 (Doc: Add instructions how to run a remote SageMath jupyter kernel)\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/30306\n\n",
    "created_at": "2020-08-06T22:45:23Z",
    "labels": [
        "component: user interface"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Meta-ticket: Use system Jupyter notebook / JupyterLab",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30306",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @antonio-rojas @kiwifb @slel @nbruin @paulmasson @egourgoulhon @kwankyu @jcamp0x2a @williamstein @mezzarobba

Keywords: sd110, sd111

We wish to support all combinations of the following scenarios:

1. Running `notebook` installed in `SAGE_LOCAL` from SPKG
2. Running `notebook` installed in the system python, or in some venv unrelated to Sage
3. Running `notebook` on a different host (which has no Sage installation), connecting to the Sage Jupyter kernel (using ssh, or https://pypi.org/project/jupyter-kernel-gateway, or ...)

A. Sage-the-distribution
B. Distribution packaging of Sage (Debian, Conda, ...)
C. Pip-installed sagelib (#30036)

The following data items are relevant:

i. The kernelspec
iii. threejs, jsmol, mathjax data
iiiii. Built Sage documentation

The following installation locations are relevant:

a. data installed with sagelib within the Sage venv, such as `src/sage/ext_data`
b. data installed within `SAGE_LOCAL` as part of Sage-the-distribution 
c. data installed as "resources" associated with the kernelspec, on the host where notebook runs (see `jupyter kernelspec list`)
d. data installed as Jupyter nbextensions on the host where notebook runs (see `jupyter nbextension list`)

Tickets for Sage 9.2:

- #30299 (Minimal fix for broken Jupyter Notebook)
- #26919 (Upgrade to Jupyter Notebook 5.7.10 or 6.1.0 ....)

Tickets for Sage 9.3:

- #30903 Fix broken symlink to documentation in the Sage Jupyter kernelspec
- #30476 - Doc: Add instructions on how to run the SageMath Jupyter kernel in a system Jupyter Notebook or JupyterLab
- #30315 Switch jsmol to `jupyter-jsmol`, make jmol optional
- #31035 Remove mathjax configuration/symlink from jupyter notebook
- #31279 Add package `argon2-cffi` (dependency of Jupyter notebook)
- #31328 Upgrade `ipywidgets` to 7.6.3
- #31278 `widgetsnbextension` should not depend on `notebook`
- #30383 Add `configure --disable-notebook`
- #31620 Document installing sagemath kernel without copying documentation
- #31156 - Doc: Add instructions how to run Sage + Jupyter notebook in WSL, browser in Windows
- #31157 Doc: Add instructions on how to run the SageMath Jupyter kernel in WSL, add as a kernel to Jupyter running natively in Windows (dup: #25850)

Tickets for Sage 9.4:

- #31369 Support `jupyter-qtconsole`
- #31179 - Add package `ipympl` - Makes interactive features of matplotlib available also in JupyterLab
- #30972 - Versioned installation of `threejs`
- #30123 (Repackage Sage's cropped threejs as a pip-installable package jupyter-threejs-sage)
- #30124 (System information, spkg-configure for Jupyter "notebook" package and dependencies)
- #30296 (System package information and spkg-configure for mathjax)
- #30298 (Rewrite jupyter kernel installation code using KernelSpecManager, create kernel install script (entry point))
- #30313 (Doc: Add instructions how to run a remote SageMath jupyter kernel)


Issue created by migration from https://trac.sagemath.org/ticket/30306





---

archive/issue_events_078453.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-29T16:37:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30306",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30306#event-78453"
}
```



---

archive/issue_comments_426900.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd110\".",
    "created_at": "2020-10-26T21:40:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30306",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30306#issuecomment-426900",
    "user": "https://github.com/mkoeppe"
}
```

Changing keywords from "" to "sd110".



---

archive/issue_comments_426901.json:
```json
{
    "body": "Changing keywords from \"sd110\" to \"sd110, sd111\".",
    "created_at": "2020-11-22T19:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30306",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30306#issuecomment-426901",
    "user": "https://github.com/mkoeppe"
}
```

Changing keywords from "sd110" to "sd110, sd111".



---

archive/issue_events_078454.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30306",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30306#event-78454"
}
```



---

archive/issue_events_078455.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30306",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30306#event-78455"
}
```



---

archive/issue_comments_426902.json:
```json
{
    "body": "Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30306",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30306#issuecomment-426902",
    "user": "https://github.com/mkoeppe"
}
```

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_078456.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-11T22:19:14Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30306",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30306#event-78456"
}
```



---

archive/issue_events_078457.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-11T22:19:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30306",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30306#event-78457"
}
```



---

archive/issue_events_078458.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30306",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30306#event-78458"
}
```



---

archive/issue_events_078459.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30306",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30306#event-78459"
}
```



---

archive/issue_events_078460.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30306",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30306#event-78460"
}
```



---

archive/issue_events_078461.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30306",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30306#event-78461"
}
```



---

archive/issue_events_078462.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30306",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30306#event-78462"
}
```



---

archive/issue_events_078463.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30306",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30306#event-78463"
}
```
