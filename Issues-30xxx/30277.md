# Issue 30277: Remove src/module_list.py

archive/issues_030040.json:
```json
{
    "body": "#29701 made this file obsolete. We remove it.\n\n\nCC:  @dimpase @jhpalmieri\n\nBranch/Commit: df38027371870edf09f9e06fe1771d3cb2846aac\n\nReviewer: Dima Pasechnik\n\nAuthor: Matthias Koeppe\n\nDependencies: #29701, #29950\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30277\n\n",
    "closed_at": "2020-08-12T19:53:10Z",
    "created_at": "2020-08-03T00:50:36Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Remove src/module_list.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30277",
    "user": "https://github.com/mkoeppe"
}
```
#29701 made this file obsolete. We remove it.


CC:  @dimpase @jhpalmieri

Branch/Commit: df38027371870edf09f9e06fe1771d3cb2846aac

Reviewer: Dima Pasechnik

Author: Matthias Koeppe

Dependencies: #29701, #29950

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30277





---

archive/issue_comments_595835.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/remove_src_module_list_py\"",
    "created_at": "2020-08-03T00:55:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595835",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/remove_src_module_list_py"



---

archive/issue_comments_595836.json:
```json
{
    "body": "Changing dependencies from \"#29701\" to \"#29701, #29950\"",
    "created_at": "2020-08-03T00:57:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595836",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29701" to "#29701, #29950"



---

archive/issue_comments_595837.json:
```json
{
    "body": "<a id='comment:2'></a>\nLast 10 new commits:\n|                                                                                                                                          |                                                                                                                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|\n|[08f5175](https://git.sagemath.org/sage.git/commit?id=08f5175bdf71236ccf3e80f6efaffa83d5edc532)|`Merge branch 'u/mkoeppe/change-src-bin-installation' of git://trac.sagemath.org/sage into t/29950/build_sagelib_using_installed_sage_setup`|\n|[516358b](https://git.sagemath.org/sage.git/commit?id=516358b66059dbf458ed7c970ff05923b539b71c)|`build/pkgs/sagelib/src/tox.ini: Pass SAGE_LOCAL`|\n|[5e577ab](https://git.sagemath.org/sage.git/commit?id=5e577ab0bc470fb6d74500b5e855b3b6f828dd50)|`Merge branch 't/29701/replace_use_of_module_list_optionalextension' into t/29950/build_sagelib_using_installed_sage_setup`|\n|[eaced09](https://git.sagemath.org/sage.git/commit?id=eaced098339d5c7655244667b3dd1c90f5fd7f9e)|`build/pkgs/sagelib: Add remaining Python dependencies for sage.all`|\n|[b8e366e](https://git.sagemath.org/sage.git/commit?id=b8e366ec56a9d3527c81df9d8d4206afc2562be4)|`build/pkgs/sagelib/spkg-src: chmod +x`|\n|[0473ef3](https://git.sagemath.org/sage.git/commit?id=0473ef3670f0a39c7d0141c09b9e9fc738d3d0b2)|`Merge branch 't/21559/change-src-bin-installation' into t/29950/build_sagelib_using_installed_sage_setup`|\n|[7244371](https://git.sagemath.org/sage.git/commit?id=72443711047daa51d1ba92b087ec9022b2eeef06)|`Merge branch 't/29701/replace_use_of_module_list_optionalextension' into t/29950/build_sagelib_using_installed_sage_setup`|\n|[4344f89](https://git.sagemath.org/sage.git/commit?id=4344f8940fc44d959da5d20dbea43b64181b961f)|`Merge branch 't/21559/change-src-bin-installation' into t/29950/build_sagelib_using_installed_sage_setup`|\n|[01b96b0](https://git.sagemath.org/sage.git/commit?id=01b96b0f44f4ff7407fd2f3ce83de1cc74259d58)|`Merge branch 't/29701/replace_use_of_module_list_optionalextension' into t/29950/build_sagelib_using_installed_sage_setup`|\n|[2818739](https://git.sagemath.org/sage.git/commit?id=2818739c0b2088de9875683c6311f9a7685e4582)|`Merge branch 't/29950/build_sagelib_using_installed_sage_setup' into t/30277/remove_src_module_list_py`|",
    "created_at": "2020-08-03T00:57:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595837",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
Last 10 new commits:
|                                                                                                                                          |                                                                                                                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
|[08f5175](https://git.sagemath.org/sage.git/commit?id=08f5175bdf71236ccf3e80f6efaffa83d5edc532)|`Merge branch 'u/mkoeppe/change-src-bin-installation' of git://trac.sagemath.org/sage into t/29950/build_sagelib_using_installed_sage_setup`|
|[516358b](https://git.sagemath.org/sage.git/commit?id=516358b66059dbf458ed7c970ff05923b539b71c)|`build/pkgs/sagelib/src/tox.ini: Pass SAGE_LOCAL`|
|[5e577ab](https://git.sagemath.org/sage.git/commit?id=5e577ab0bc470fb6d74500b5e855b3b6f828dd50)|`Merge branch 't/29701/replace_use_of_module_list_optionalextension' into t/29950/build_sagelib_using_installed_sage_setup`|
|[eaced09](https://git.sagemath.org/sage.git/commit?id=eaced098339d5c7655244667b3dd1c90f5fd7f9e)|`build/pkgs/sagelib: Add remaining Python dependencies for sage.all`|
|[b8e366e](https://git.sagemath.org/sage.git/commit?id=b8e366ec56a9d3527c81df9d8d4206afc2562be4)|`build/pkgs/sagelib/spkg-src: chmod +x`|
|[0473ef3](https://git.sagemath.org/sage.git/commit?id=0473ef3670f0a39c7d0141c09b9e9fc738d3d0b2)|`Merge branch 't/21559/change-src-bin-installation' into t/29950/build_sagelib_using_installed_sage_setup`|
|[7244371](https://git.sagemath.org/sage.git/commit?id=72443711047daa51d1ba92b087ec9022b2eeef06)|`Merge branch 't/29701/replace_use_of_module_list_optionalextension' into t/29950/build_sagelib_using_installed_sage_setup`|
|[4344f89](https://git.sagemath.org/sage.git/commit?id=4344f8940fc44d959da5d20dbea43b64181b961f)|`Merge branch 't/21559/change-src-bin-installation' into t/29950/build_sagelib_using_installed_sage_setup`|
|[01b96b0](https://git.sagemath.org/sage.git/commit?id=01b96b0f44f4ff7407fd2f3ce83de1cc74259d58)|`Merge branch 't/29701/replace_use_of_module_list_optionalextension' into t/29950/build_sagelib_using_installed_sage_setup`|
|[2818739](https://git.sagemath.org/sage.git/commit?id=2818739c0b2088de9875683c6311f9a7685e4582)|`Merge branch 't/29950/build_sagelib_using_installed_sage_setup' into t/30277/remove_src_module_list_py`|



---

archive/issue_comments_595838.json:
```json
{
    "body": "Changing commit from \"\" to \"2818739c0b2088de9875683c6311f9a7685e4582\"",
    "created_at": "2020-08-03T00:57:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595838",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "2818739c0b2088de9875683c6311f9a7685e4582"



---

archive/issue_comments_595839.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2020-08-03T00:57:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595839",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_595840.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-08-03T00:58:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595840",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_595841.json:
```json
{
    "body": "<a id='comment:5'></a>\nit does not seem to work, all the pyx modules discovery is shot.\nPerhaps I have not rebuilt enough. Is a sagelib rebuild sufficient?",
    "created_at": "2020-08-03T14:02:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595841",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>
it does not seem to work, all the pyx modules discovery is shot.
Perhaps I have not rebuilt enough. Is a sagelib rebuild sufficient?



---

archive/issue_comments_595842.json:
```json
{
    "body": "<a id='comment:6'></a>\nspecifically, I cannot import src/sage/graphs/strongly_regular_db stuff",
    "created_at": "2020-08-03T14:06:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595842",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>
specifically, I cannot import src/sage/graphs/strongly_regular_db stuff



---

archive/issue_comments_595843.json:
```json
{
    "body": "<a id='comment:7'></a>\nOK, after a rebuild from scratch I see one doctest failing:\n\n```\nsage -t --random-seed=0 src/sage_setup/find.py\n**********************************************************************\nFile \"src/sage_setup/find.py\", line 215, in sage_setup.find.find_extra_files\nFailed example:\n    extras[\"sage/ext/interpreters\"]\nExpected:\n    ['.../src/sage/ext/interpreters/wrapper_cdf.pxd', ...wrapper_cdf.h...]\nGot:\n    ['/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_rdf.pxd',\n     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_cdf.pxd',\n     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_rdf.pyx',\n     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_cdf.pyx',\n     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_cc.pxd',\n     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_el.pxd',\n     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_rr.pxd',\n     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_cc.pyx',\n     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_py.pyx',\n     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_el.pyx',\n     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_rr.pyx',\n     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_py.pxd']\n**********************************************************************\n1 item had failures:\n   1 of   7 in sage_setup.find.find_extra_files\n    [36 tests, 1 failure, 0.73 s]\n```",
    "created_at": "2020-08-05T14:10:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595843",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>
OK, after a rebuild from scratch I see one doctest failing:

```
sage -t --random-seed=0 src/sage_setup/find.py
**********************************************************************
File "src/sage_setup/find.py", line 215, in sage_setup.find.find_extra_files
Failed example:
    extras["sage/ext/interpreters"]
Expected:
    ['.../src/sage/ext/interpreters/wrapper_cdf.pxd', ...wrapper_cdf.h...]
Got:
    ['/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_rdf.pxd',
     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_cdf.pxd',
     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_rdf.pyx',
     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_cdf.pyx',
     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_cc.pxd',
     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_el.pxd',
     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_rr.pxd',
     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_cc.pyx',
     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_py.pyx',
     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_el.pyx',
     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_rr.pyx',
     '/home/scratch2/dimpase/sage/sage/src/sage/ext/interpreters/wrapper_py.pxd']
**********************************************************************
1 item had failures:
   1 of   7 in sage_setup.find.find_extra_files
    [36 tests, 1 failure, 0.73 s]
```



---

archive/issue_comments_595844.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-08-05T14:10:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595844",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_595845.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2020-08-05T14:10:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595845",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_595846.json:
```json
{
    "body": "<a id='comment:9'></a>\nhere are all the instances of wrapper_cdf.h I have:\n\n```\n$ find . -name wrapper_cdf.h\n./local/lib/python3.7/site-packages/sage/ext/interpreters/wrapper_cdf.h\n./build/pkgs/sagelib/src/build/lib.linux-x86_64-3.7/sage/ext/interpreters/wrapper_cdf.h\n./build/pkgs/sagelib/src/build/cythonized/sage/ext/interpreters/wrapper_cdf.h\n```",
    "created_at": "2020-08-05T14:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595846",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
here are all the instances of wrapper_cdf.h I have:

```
$ find . -name wrapper_cdf.h
./local/lib/python3.7/site-packages/sage/ext/interpreters/wrapper_cdf.h
./build/pkgs/sagelib/src/build/lib.linux-x86_64-3.7/sage/ext/interpreters/wrapper_cdf.h
./build/pkgs/sagelib/src/build/cythonized/sage/ext/interpreters/wrapper_cdf.h
```



---

archive/issue_comments_595847.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|\n|[8a19fe2](https://git.sagemath.org/sage.git/commit/?id=8a19fe2a9bf4ed64a48ac3110cccbbdff97684ca)|`build/make/Makefile.in (sagelib-clean): Clean the new build location`|\n|[ccc67b0](https://git.sagemath.org/sage.git/commit/?id=ccc67b0356373330164dd75060f574c184142473)|`src/sage_setup: Update cythonized_dir in doctests`|\n|[df38027](https://git.sagemath.org/sage.git/commit/?id=df38027371870edf09f9e06fe1771d3cb2846aac)|`Merge branch 't/29950/build_sagelib_using_installed_sage_setup' into t/30277/remove_src_module_list_py`|",
    "created_at": "2020-08-08T23:12:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595847",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|
|[8a19fe2](https://git.sagemath.org/sage.git/commit/?id=8a19fe2a9bf4ed64a48ac3110cccbbdff97684ca)|`build/make/Makefile.in (sagelib-clean): Clean the new build location`|
|[ccc67b0](https://git.sagemath.org/sage.git/commit/?id=ccc67b0356373330164dd75060f574c184142473)|`src/sage_setup: Update cythonized_dir in doctests`|
|[df38027](https://git.sagemath.org/sage.git/commit/?id=df38027371870edf09f9e06fe1771d3cb2846aac)|`Merge branch 't/29950/build_sagelib_using_installed_sage_setup' into t/30277/remove_src_module_list_py`|



---

archive/issue_comments_595848.json:
```json
{
    "body": "Changing commit from \"2818739c0b2088de9875683c6311f9a7685e4582\" to \"df38027371870edf09f9e06fe1771d3cb2846aac\"",
    "created_at": "2020-08-08T23:12:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595848",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2818739c0b2088de9875683c6311f9a7685e4582" to "df38027371870edf09f9e06fe1771d3cb2846aac"



---

archive/issue_comments_595849.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-08-08T23:13:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595849",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_595850.json:
```json
{
    "body": "<a id='comment:12'></a>\nok",
    "created_at": "2020-08-10T16:44:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595850",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>
ok



---

archive/issue_comments_595851.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-10T16:44:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595851",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_595852.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-08-12T19:53:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595852",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_078336.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-12T19:53:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30277#event-78336"
}
```



---

archive/issue_comments_595853.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/remove_src_module_list_py\" to \"df38027371870edf09f9e06fe1771d3cb2846aac\"",
    "created_at": "2020-08-12T19:53:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30277#issuecomment-595853",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/remove_src_module_list_py" to "df38027371870edf09f9e06fe1771d3cb2846aac"
