# Issue 30587: Remove import of 'ppl' at startup using lazy_import with feature

archive/issues_030350.json:
```json
{
    "body": "Currently, sage imports `ppl` (from `pplpy`) at startup, via `sage.geometry.cone`, `sage.geometry.integral_points`, and `sage.geometry.lattice_polytopes`. \n\nThis should be changed, both\n- as preparation for other backends for polyhedral cones (in particular `PyNormaliz`)\n- for the modularization of sagelib (#29705).\n\n\nIn addition we add documentation to the option `feature` of lazy import and while we are at it, use this option for backend normaliz as well.\n\n\nCC:  @kliem @novoselt @vbraun winfried @jplab @orlitzky @videlec\n\nKeywords: sd111\n\nReviewer: Matthias Koeppe, Jonathan Kliem\n\nAuthor: Jonathan Kliem, Matthias Koeppe\n\nBranch: 17c4cdb90244a584e7ee5d98796877d06bfae009\n\nCommit: 17c4cdb90244a584e7ee5d98796877d06bfae009\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30587\n\n",
    "closed_at": "2020-12-14T23:53:29Z",
    "created_at": "2020-09-16T20:28:37Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Remove import of 'ppl' at startup using lazy_import with feature",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30587",
    "user": "https://github.com/mkoeppe"
}
```
Currently, sage imports `ppl` (from `pplpy`) at startup, via `sage.geometry.cone`, `sage.geometry.integral_points`, and `sage.geometry.lattice_polytopes`. 

This should be changed, both
- as preparation for other backends for polyhedral cones (in particular `PyNormaliz`)
- for the modularization of sagelib (#29705).


In addition we add documentation to the option `feature` of lazy import and while we are at it, use this option for backend normaliz as well.


CC:  @kliem @novoselt @vbraun winfried @jplab @orlitzky @videlec

Keywords: sd111

Reviewer: Matthias Koeppe, Jonathan Kliem

Author: Jonathan Kliem, Matthias Koeppe

Branch: 17c4cdb90244a584e7ee5d98796877d06bfae009

Commit: 17c4cdb90244a584e7ee5d98796877d06bfae009

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30587





---

archive/issue_comments_432324.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd111\".",
    "created_at": "2020-12-06T17:46:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432324",
    "user": "https://github.com/mkoeppe"
}
```

Changing keywords from "" to "sd111".



---

archive/issue_comments_432325.json:
```json
{
    "body": "<a id='comment:3'></a>I'm looking at this at the moment.\n\nI think one needs to also take case of `Polyhedron_base`, because once it is lazily imported, then it immediately imports all depencies, in particular the stuff from `ppl`.\n\nSo if the goal is to have a working sage as good as possible without `ppl`, then this should be touched as well.\n\n(I tested adding a line `from foo import nonsense` into `backend_ppl.py`. Sage is starting all right, but polyhedra are unusable. However, only backend ppl should fail.)",
    "created_at": "2020-12-07T20:56:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432325",
    "user": "https://github.com/kliem"
}
```

<a id='comment:3'></a>I'm looking at this at the moment.

I think one needs to also take case of `Polyhedron_base`, because once it is lazily imported, then it immediately imports all depencies, in particular the stuff from `ppl`.

So if the goal is to have a working sage as good as possible without `ppl`, then this should be touched as well.

(I tested adding a line `from foo import nonsense` into `backend_ppl.py`. Sage is starting all right, but polyhedra are unusable. However, only backend ppl should fail.)



---

archive/issue_comments_432326.json:
```json
{
    "body": "<a id='comment:5'></a>New commits:",
    "created_at": "2020-12-07T21:25:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432326",
    "user": "https://github.com/kliem"
}
```

<a id='comment:5'></a>New commits:



---

archive/issue_comments_432327.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-12-07T21:25:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432327",
    "user": "https://github.com/kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_432328.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-12-09T21:11:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432328",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_432329.json:
```json
{
    "body": "<a id='comment:7'></a>If the imports would not wind up in an extremely hot path, you might also work around the circular imports with local ones (`from foo import whatever` within the function that needs `whatever`). Those don't get run until the function is called, but it does introduce a tiny redundant dictionary lookup the second, third, etc times the function is called.",
    "created_at": "2020-12-09T21:36:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432329",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:7'></a>If the imports would not wind up in an extremely hot path, you might also work around the circular imports with local ones (`from foo import whatever` within the function that needs `whatever`). Those don't get run until the function is called, but it does introduce a tiny redundant dictionary lookup the second, third, etc times the function is called.



---

archive/issue_comments_432330.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-12-10T09:07:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432330",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_432331.json:
```json
{
    "body": "<a id='comment:9'></a>So lazy import appears to be a bit slower.\n\nFor `%timeit polytopes.cube()` I went from 411 \u00b5s to 417. I don't know if this is acceptable.\nSo there appears to be a overhead of about 6 \u00b5s per call.\n\n---\nNew commits:",
    "created_at": "2020-12-10T09:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432331",
    "user": "https://github.com/kliem"
}
```

<a id='comment:9'></a>So lazy import appears to be a bit slower.

For `%timeit polytopes.cube()` I went from 411 µs to 417. I don't know if this is acceptable.
So there appears to be a overhead of about 6 µs per call.

---
New commits:



---

archive/issue_comments_432332.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-12-10T10:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432332",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_432333.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-12-10T10:39:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432333",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_432334.json:
```json
{
    "body": "<a id='comment:12'></a>In the doctest for `lazy_import`, this text:\n\n```\n+ To install foo using the Sage package manager, you can try to run:\n+        !sage -i non-existing-package\n```\nwill only appear on sage-the-distribution but not in downstream packaged sage, so it's best to use `...` here",
    "created_at": "2020-12-10T16:43:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432334",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>In the doctest for `lazy_import`, this text:

```
+ To install foo using the Sage package manager, you can try to run:
+        !sage -i non-existing-package
```
will only appear on sage-the-distribution but not in downstream packaged sage, so it's best to use `...` here



---

archive/issue_comments_432335.json:
```json
{
    "body": "<a id='comment:13'></a>Ok, I wasn't exactly sure, what part would appear and what part would not.",
    "created_at": "2020-12-10T16:44:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432335",
    "user": "https://github.com/kliem"
}
```

<a id='comment:13'></a>Ok, I wasn't exactly sure, what part would appear and what part would not.



---

archive/issue_comments_432336.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-12-10T16:45:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432336",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_432337.json:
```json
{
    "body": "<a id='comment:15'></a>In fact, perhaps `LazyImport.__repr__` should catch this error and print itself in a friendlier way?",
    "created_at": "2020-12-10T16:48:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432337",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>In fact, perhaps `LazyImport.__repr__` should catch this error and print itself in a friendlier way?



---

archive/issue_comments_432338.json:
```json
{
    "body": "<a id='comment:16'></a>Also typo `An example of and import `: and->an",
    "created_at": "2020-12-10T16:48:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432338",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>Also typo `An example of and import `: and->an



---

archive/issue_comments_432339.json:
```json
{
    "body": "<a id='comment:17'></a>Another data point regarding performance: Without this ticket, I am getting\n\n```\nsage: %timeit Polyhedron(vertices=[[]])                                                     \n51.7 \u00b5s \u00b1 866 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000 loops each)\nsage: %timeit Polyhedron(vertices=[[]])                                                     \n53.9 \u00b5s \u00b1 774 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000 loops each)\nsage: %timeit Polyhedron(vertices=[[]])                                                     \n52.8 \u00b5s \u00b1 738 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000 loops each)\n```\n\nRight after building this branch, I am getting:\n\n```\nsage: %timeit Polyhedron(vertices=[[]])                                                     \n88.2 \u00b5s \u00b1 22.3 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\nsage: %timeit Polyhedron(vertices=[[]])                                                     \n57.2 \u00b5s \u00b1 1.22 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 10000 loops each)\nsage: %timeit Polyhedron(vertices=[[]])                                                     \n53.5 \u00b5s \u00b1 307 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000 loops each)\nsage: %timeit Polyhedron(vertices=[[]])                                                     \n53.2 \u00b5s \u00b1 508 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000 loops each)\n```\n\nSo I don't think that we should be concerned about the performance impact here.",
    "created_at": "2020-12-10T16:53:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432339",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>Another data point regarding performance: Without this ticket, I am getting

```
sage: %timeit Polyhedron(vertices=[[]])                                                     
51.7 µs ± 866 ns per loop (mean ± std. dev. of 7 runs, 10000 loops each)
sage: %timeit Polyhedron(vertices=[[]])                                                     
53.9 µs ± 774 ns per loop (mean ± std. dev. of 7 runs, 10000 loops each)
sage: %timeit Polyhedron(vertices=[[]])                                                     
52.8 µs ± 738 ns per loop (mean ± std. dev. of 7 runs, 10000 loops each)
```

Right after building this branch, I am getting:

```
sage: %timeit Polyhedron(vertices=[[]])                                                     
88.2 µs ± 22.3 µs per loop (mean ± std. dev. of 7 runs, 1 loop each)
sage: %timeit Polyhedron(vertices=[[]])                                                     
57.2 µs ± 1.22 µs per loop (mean ± std. dev. of 7 runs, 10000 loops each)
sage: %timeit Polyhedron(vertices=[[]])                                                     
53.5 µs ± 307 ns per loop (mean ± std. dev. of 7 runs, 10000 loops each)
sage: %timeit Polyhedron(vertices=[[]])                                                     
53.2 µs ± 508 ns per loop (mean ± std. dev. of 7 runs, 10000 loops each)
```

So I don't think that we should be concerned about the performance impact here.



---

archive/issue_comments_432340.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-12-10T17:13:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432340",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_432341.json:
```json
{
    "body": "<a id='comment:19'></a>I think the repr should express somehow that it is a `LazyImport` object so that users who see this output can know where this is coming from.",
    "created_at": "2020-12-10T18:06:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432341",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>I think the repr should express somehow that it is a `LazyImport` object so that users who see this output can know where this is coming from.



---

archive/issue_comments_432342.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-12-10T18:29:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432342",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_432343.json:
```json
{
    "body": "<a id='comment:21'></a>Hm... perhaps only for failed imports?",
    "created_at": "2020-12-10T18:56:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432343",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>Hm... perhaps only for failed imports?



---

archive/issue_comments_432344.json:
```json
{
    "body": "<a id='comment:22'></a>Well the other thing is lying as well. But sure.",
    "created_at": "2020-12-10T19:01:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432344",
    "user": "https://github.com/kliem"
}
```

<a id='comment:22'></a>Well the other thing is lying as well. But sure.



---

archive/issue_comments_432345.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-12-10T19:07:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432345",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_432346.json:
```json
{
    "body": "<a id='comment:24'></a>patchbot shows errors",
    "created_at": "2020-12-10T23:19:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432346",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>patchbot shows errors



---

archive/issue_comments_432347.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-12-10T23:20:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432347",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_432348.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-12-11T07:46:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432348",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_432349.json:
```json
{
    "body": "<a id='comment:27'></a>Somehow forgot that.",
    "created_at": "2020-12-11T07:46:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432349",
    "user": "https://github.com/kliem"
}
```

<a id='comment:27'></a>Somehow forgot that.



---

archive/issue_comments_432350.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-12-11T07:46:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432350",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_432351.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-12-11T20:06:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432351",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_432352.json:
```json
{
    "body": "<a id='comment:29'></a>Thank you. So I guess I know how that mechanism works, you can ping me, to do it with other packages.",
    "created_at": "2020-12-11T20:13:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432352",
    "user": "https://github.com/kliem"
}
```

<a id='comment:29'></a>Thank you. So I guess I know how that mechanism works, you can ping me, to do it with other packages.



---

archive/issue_comments_432353.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-12-13T09:37:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432353",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_432354.json:
```json
{
    "body": "<a id='comment:30'></a>On OSX:\n\n```\n**********************************************************************\nFile \"src/sage/misc/lazy_import.pyx\", line 1073, in sage.misc.lazy_import.?\nFailed example:\n    not_there\nExpected:\n    Failed lazy import:\n    foo is not available.\n    Importing not_there failed: No module named 'foo'\n    No equivalent system packages for ... are known to Sage.\n    ...\nGot:\n    Failed lazy import:\n    foo is not available.\n    Importing not_there failed: No module named 'foo'\n    To install foo using the unknown package manager, you can try to run:\n    # install the following packages:\n    To install foo using the Sage package manager, you can try to run:\n      !sage -i non-existing-package\n    No equivalent system packages for pip are known to Sage.\n**********************************************************************\n```",
    "created_at": "2020-12-13T09:37:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432354",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:30'></a>On OSX:

```
**********************************************************************
File "src/sage/misc/lazy_import.pyx", line 1073, in sage.misc.lazy_import.?
Failed example:
    not_there
Expected:
    Failed lazy import:
    foo is not available.
    Importing not_there failed: No module named 'foo'
    No equivalent system packages for ... are known to Sage.
    ...
Got:
    Failed lazy import:
    foo is not available.
    Importing not_there failed: No module named 'foo'
    To install foo using the unknown package manager, you can try to run:
    # install the following packages:
    To install foo using the Sage package manager, you can try to run:
      !sage -i non-existing-package
    No equivalent system packages for pip are known to Sage.
**********************************************************************
```



---

archive/issue_comments_432355.json:
```json
{
    "body": "<a id='comment:31'></a>Looks like we never tested the runtime system package advice on macOS without homebrew. `unknown` needs special-casing",
    "created_at": "2020-12-13T17:31:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432355",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'></a>Looks like we never tested the runtime system package advice on macOS without homebrew. `unknown` needs special-casing



---

archive/issue_comments_432356.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-12-13T17:48:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432356",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_432357.json:
```json
{
    "body": "<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-12-13T17:52:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432357",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_432358.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-12-13T17:53:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432358",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_432359.json:
```json
{
    "body": "<a id='comment:35'></a>Thanks for the quick fix.",
    "created_at": "2020-12-13T18:03:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432359",
    "user": "https://github.com/kliem"
}
```

<a id='comment:35'></a>Thanks for the quick fix.



---

archive/issue_comments_432360.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-12-13T18:03:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432360",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_432361.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-12-14T23:53:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30587#issuecomment-432361",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_079544.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-12-14T23:53:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30587",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30587#event-79544"
}
```
