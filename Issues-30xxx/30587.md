# Issue 30587: Remove import of 'ppl' at startup using lazy_import with feature

archive/issues_030350.json:
```json
{
    "assignees": [],
    "body": "Currently, sage imports `ppl` (from `pplpy`) at startup, via `sage.geometry.cone`, `sage.geometry.integral_points`, and `sage.geometry.lattice_polytopes`. \n\nThis should be changed, both\n- as preparation for other backends for polyhedral cones (in particular `PyNormaliz`)\n- for the modularization of sagelib (#29705).\n\n\nIn addition we add documentation to the option `feature` of lazy import and while we are at it, use this option for backend normaliz as well.\n\n\nCC:  @kliem @novoselt @vbraun @w-bruns @jplab @orlitzky @videlec\n\nKeywords: **sd111**\n\nBranch/Commit: **[`17c4cdb`](https://github.com/sagemath/sagetrac-mirror/commit/17c4cdb90244a584e7ee5d98796877d06bfae009)**\n\nReviewer: **Matthias Koeppe, Jonathan Kliem**\n\nAuthor: **Jonathan Kliem, Matthias Koeppe**\n\nComponent: **geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30587_\n\n",
    "closed_at": "2020-12-14T23:53:29Z",
    "created_at": "2020-09-16T20:28:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Remove import of 'ppl' at startup using lazy_import with feature",
    "type": "issue",
    "updated_at": "2020-12-14T23:53:29Z",
    "url": "https://github.com/sagemath/sage/issues/30587",
    "user": "https://github.com/mkoeppe"
}
```
Currently, sage imports `ppl` (from `pplpy`) at startup, via `sage.geometry.cone`, `sage.geometry.integral_points`, and `sage.geometry.lattice_polytopes`. 

This should be changed, both
- as preparation for other backends for polyhedral cones (in particular `PyNormaliz`)
- for the modularization of sagelib (#29705).


In addition we add documentation to the option `feature` of lazy import and while we are at it, use this option for backend normaliz as well.


CC:  @kliem @novoselt @vbraun @w-bruns @jplab @orlitzky @videlec

Keywords: **sd111**

Branch/Commit: **[`17c4cdb`](https://github.com/sagemath/sagetrac-mirror/commit/17c4cdb90244a584e7ee5d98796877d06bfae009)**

Reviewer: **Matthias Koeppe, Jonathan Kliem**

Author: **Jonathan Kliem, Matthias Koeppe**

Component: **geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/30587_





---

archive/issue_events_418582.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-16T20:28:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418582"
}
```



---

archive/issue_events_418583.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-16T20:28:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418583"
}
```



---

archive/issue_events_418584.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-16T20:28:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418584"
}
```



---

archive/issue_events_418585.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-16T20:28:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418585"
}
```



---

archive/issue_comments_487886.json:
```json
{
    "body": "Changed keywords from none to **sd111**",
    "created_at": "2020-12-06T17:46:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487886",
    "user": "https://github.com/mkoeppe"
}
```

Changed keywords from none to **sd111**



---

archive/issue_comments_487887.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI'm looking at this at the moment.\n\nI think one needs to also take case of `Polyhedron_base`, because once it is lazily imported, then it immediately imports all depencies, in particular the stuff from `ppl`.\n\nSo if the goal is to have a working sage as good as possible without `ppl`, then this should be touched as well.\n\n(I tested adding a line `from foo import nonsense` into `backend_ppl.py`. Sage is starting all right, but polyhedra are unusable. However, only backend ppl should fail.)",
    "created_at": "2020-12-07T20:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487887",
    "user": "https://github.com/kliem"
}
```

<div id="comment:3" align="right">comment:3</div>

I'm looking at this at the moment.

I think one needs to also take case of `Polyhedron_base`, because once it is lazily imported, then it immediately imports all depencies, in particular the stuff from `ppl`.

So if the goal is to have a working sage as good as possible without `ppl`, then this should be touched as well.

(I tested adding a line `from foo import nonsense` into `backend_ppl.py`. Sage is starting all right, but polyhedra are unusable. However, only backend ppl should fail.)



---

archive/issue_comments_487888.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dae2c0527dbc5919b6c73637cce8e4b11c21260\"><code>7dae2c0</code></a></td><td><code>lazy import polyhedra instances</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/736f7ae397965b2442aa7bf63e76cd260582170b\"><code>736f7ae</code></a></td><td><code>lazy import ppl for cone</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8cb27a7b85d28b8f73560a5c257b2e2265629ac\"><code>c8cb27a</code></a></td><td><code>remove import of ppl through lattice polytope</code></td></tr></table>\n",
    "created_at": "2020-12-07T21:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487888",
    "user": "https://github.com/kliem"
}
```

<div id="comment:5"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dae2c0527dbc5919b6c73637cce8e4b11c21260"><code>7dae2c0</code></a></td><td><code>lazy import polyhedra instances</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/736f7ae397965b2442aa7bf63e76cd260582170b"><code>736f7ae</code></a></td><td><code>lazy import ppl for cone</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8cb27a7b85d28b8f73560a5c257b2e2265629ac"><code>c8cb27a</code></a></td><td><code>remove import of ppl through lattice polytope</code></td></tr></table>




---

archive/issue_comments_487889.json:
```json
{
    "body": "Commit: **[`c8cb27a`](https://github.com/sagemath/sagetrac-mirror/commit/c8cb27a7b85d28b8f73560a5c257b2e2265629ac)**",
    "created_at": "2020-12-07T21:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487889",
    "user": "https://github.com/kliem"
}
```

Commit: **[`c8cb27a`](https://github.com/sagemath/sagetrac-mirror/commit/c8cb27a7b85d28b8f73560a5c257b2e2265629ac)**



---

archive/issue_events_418586.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-12-07T21:25:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418586"
}
```



---

archive/issue_comments_487890.json:
```json
{
    "body": "Author: **Jonathan Kliem**",
    "created_at": "2020-12-07T21:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487890",
    "user": "https://github.com/kliem"
}
```

Author: **Jonathan Kliem**



---

archive/issue_comments_487891.json:
```json
{
    "body": "Branch: **[public/30587](https://github.com/sagemath/sagetrac-mirror/tree/public/30587)**",
    "created_at": "2020-12-07T21:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487891",
    "user": "https://github.com/kliem"
}
```

Branch: **[public/30587](https://github.com/sagemath/sagetrac-mirror/tree/public/30587)**



---

archive/issue_comments_487892.json:
```json
{
    "body": "Work Issues: **use feature of lazy import**",
    "created_at": "2020-12-09T21:11:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487892",
    "user": "https://github.com/kliem"
}
```

Work Issues: **use feature of lazy import**



---

archive/issue_events_418587.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-12-09T21:11:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418587"
}
```



---

archive/issue_events_418588.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-12-09T21:11:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418588"
}
```



---

archive/issue_comments_487893.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nIf the imports would not wind up in an extremely hot path, you might also work around the circular imports with local ones (`from foo import whatever` within the function that needs `whatever`). Those don't get run until the function is called, but it does introduce a tiny redundant dictionary lookup the second, third, etc times the function is called.",
    "created_at": "2020-12-09T21:36:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487893",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:7" align="right">comment:7</div>

If the imports would not wind up in an extremely hot path, you might also work around the circular imports with local ones (`from foo import whatever` within the function that needs `whatever`). Those don't get run until the function is called, but it does introduce a tiny redundant dictionary lookup the second, third, etc times the function is called.



---

archive/issue_comments_487894.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8934c06ca64f8402153c7e038f987883455db4e\"><code>d8934c0</code></a></td><td><code>document feature of lazy import</code></td></tr></table>\n",
    "created_at": "2020-12-10T09:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487894",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8934c06ca64f8402153c7e038f987883455db4e"><code>d8934c0</code></a></td><td><code>document feature of lazy import</code></td></tr></table>




---

archive/issue_comments_487895.json:
```json
{
    "body": "Changed commit from **[`c8cb27a`](https://github.com/sagemath/sagetrac-mirror/commit/c8cb27a7b85d28b8f73560a5c257b2e2265629ac)** to **[`d8934c0`](https://github.com/sagemath/sagetrac-mirror/commit/d8934c06ca64f8402153c7e038f987883455db4e)**",
    "created_at": "2020-12-10T09:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487895",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c8cb27a`](https://github.com/sagemath/sagetrac-mirror/commit/c8cb27a7b85d28b8f73560a5c257b2e2265629ac)** to **[`d8934c0`](https://github.com/sagemath/sagetrac-mirror/commit/d8934c06ca64f8402153c7e038f987883455db4e)**



---

archive/issue_comments_487896.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nSo lazy import appears to be a bit slower.\n\nFor `%timeit polytopes.cube()` I went from 411 \u00b5s to 417. I don't know if this is acceptable.\nSo there appears to be a overhead of about 6 \u00b5s per call.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8934c06ca64f8402153c7e038f987883455db4e\"><code>d8934c0</code></a></td><td><code>document feature of lazy import</code></td></tr></table>\n",
    "created_at": "2020-12-10T09:16:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487896",
    "user": "https://github.com/kliem"
}
```

<div id="comment:9" align="right">comment:9</div>

So lazy import appears to be a bit slower.

For `%timeit polytopes.cube()` I went from 411 µs to 417. I don't know if this is acceptable.
So there appears to be a overhead of about 6 µs per call.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8934c06ca64f8402153c7e038f987883455db4e"><code>d8934c0</code></a></td><td><code>document feature of lazy import</code></td></tr></table>




---

archive/issue_comments_487897.json:
```json
{
    "body": "Changed commit from **[`d8934c0`](https://github.com/sagemath/sagetrac-mirror/commit/d8934c06ca64f8402153c7e038f987883455db4e)** to **[`5feb98c`](https://github.com/sagemath/sagetrac-mirror/commit/5feb98c3ebf754f6db2e26e1eced1621d8a6a163)**",
    "created_at": "2020-12-10T10:25:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487897",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d8934c0`](https://github.com/sagemath/sagetrac-mirror/commit/d8934c06ca64f8402153c7e038f987883455db4e)** to **[`5feb98c`](https://github.com/sagemath/sagetrac-mirror/commit/5feb98c3ebf754f6db2e26e1eced1621d8a6a163)**



---

archive/issue_comments_487898.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e53333c7d9e74902bce58c1f548c8670c473ff3\"><code>5e53333</code></a></td><td><code>Revert \"lazy import polyhedra instances\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aca03b0b439f33017c623a882a10d8e57215bf6f\"><code>aca03b0</code></a></td><td><code>using feature of lazy import for backend normaliz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8bd41ea2580fc7bf3c5d65ccd6cdcec68d9ef5c4\"><code>8bd41ea</code></a></td><td><code>lazy import ppl in backend_ppl</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4560302be654d73a3b02154fdea86254e2a8f97\"><code>a456030</code></a></td><td><code>add feature to cone</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19bc7e49034f9f809fdb7df6d7ae622aae749490\"><code>19bc7e4</code></a></td><td><code>add feature option to lattice polytope</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5feb98c3ebf754f6db2e26e1eced1621d8a6a163\"><code>5feb98c</code></a></td><td><code>missing import</code></td></tr></table>\n",
    "created_at": "2020-12-10T10:25:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487898",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e53333c7d9e74902bce58c1f548c8670c473ff3"><code>5e53333</code></a></td><td><code>Revert "lazy import polyhedra instances"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aca03b0b439f33017c623a882a10d8e57215bf6f"><code>aca03b0</code></a></td><td><code>using feature of lazy import for backend normaliz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8bd41ea2580fc7bf3c5d65ccd6cdcec68d9ef5c4"><code>8bd41ea</code></a></td><td><code>lazy import ppl in backend_ppl</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4560302be654d73a3b02154fdea86254e2a8f97"><code>a456030</code></a></td><td><code>add feature to cone</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19bc7e49034f9f809fdb7df6d7ae622aae749490"><code>19bc7e4</code></a></td><td><code>add feature option to lattice polytope</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5feb98c3ebf754f6db2e26e1eced1621d8a6a163"><code>5feb98c</code></a></td><td><code>missing import</code></td></tr></table>




---

archive/issue_comments_487899.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,4 +5,5 @@\n - for the modularization of sagelib (#29705).\n \n \n+In addition we add documentation to the option `feature` of lazy import and while we are at it, use this option for backend normaliz as well.\n \n``````\n",
    "created_at": "2020-12-10T10:39:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487899",
    "user": "https://github.com/kliem"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,4 +5,5 @@
 - for the modularization of sagelib (#29705).
 
 
+In addition we add documentation to the option `feature` of lazy import and while we are at it, use this option for backend normaliz as well.
 
``````




---

archive/issue_comments_487900.json:
```json
{
    "body": "Changed work issues from **use feature of lazy import** to none",
    "created_at": "2020-12-10T10:39:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487900",
    "user": "https://github.com/kliem"
}
```

Changed work issues from **use feature of lazy import** to none



---

archive/issue_events_418589.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-12-10T10:39:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418589"
}
```



---

archive/issue_events_418590.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-12-10T10:39:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418590"
}
```



---

archive/issue_comments_487901.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nIn the doctest for `lazy_import`, this text:\n\n```\n+ To install foo using the Sage package manager, you can try to run:\n+        !sage -i non-existing-package\n```\nwill only appear on sage-the-distribution but not in downstream packaged sage, so it's best to use `...` here",
    "created_at": "2020-12-10T16:43:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487901",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

In the doctest for `lazy_import`, this text:

```
+ To install foo using the Sage package manager, you can try to run:
+        !sage -i non-existing-package
```
will only appear on sage-the-distribution but not in downstream packaged sage, so it's best to use `...` here



---

archive/issue_comments_487902.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nOk, I wasn't exactly sure, what part would appear and what part would not.",
    "created_at": "2020-12-10T16:44:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487902",
    "user": "https://github.com/kliem"
}
```

<div id="comment:13" align="right">comment:13</div>

Ok, I wasn't exactly sure, what part would appear and what part would not.



---

archive/issue_comments_487903.json:
```json
{
    "body": "Changed commit from **[`5feb98c`](https://github.com/sagemath/sagetrac-mirror/commit/5feb98c3ebf754f6db2e26e1eced1621d8a6a163)** to **[`d7a2de9`](https://github.com/sagemath/sagetrac-mirror/commit/d7a2de9bcb8d20df32fd0630e3ee3a9d5a049f74)**",
    "created_at": "2020-12-10T16:45:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487903",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5feb98c`](https://github.com/sagemath/sagetrac-mirror/commit/5feb98c3ebf754f6db2e26e1eced1621d8a6a163)** to **[`d7a2de9`](https://github.com/sagemath/sagetrac-mirror/commit/d7a2de9bcb8d20df32fd0630e3ee3a9d5a049f74)**



---

archive/issue_comments_487904.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7a2de9bcb8d20df32fd0630e3ee3a9d5a049f74\"><code>d7a2de9</code></a></td><td><code>make the doctest work outside of the distribution</code></td></tr></table>\n",
    "created_at": "2020-12-10T16:45:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487904",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7a2de9bcb8d20df32fd0630e3ee3a9d5a049f74"><code>d7a2de9</code></a></td><td><code>make the doctest work outside of the distribution</code></td></tr></table>




---

archive/issue_comments_487905.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nIn fact, perhaps `LazyImport.__repr__` should catch this error and print itself in a friendlier way?",
    "created_at": "2020-12-10T16:48:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487905",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

In fact, perhaps `LazyImport.__repr__` should catch this error and print itself in a friendlier way?



---

archive/issue_comments_487906.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nAlso typo `An example of and import `: and->an",
    "created_at": "2020-12-10T16:48:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487906",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

Also typo `An example of and import `: and->an



---

archive/issue_comments_487907.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAnother data point regarding performance: Without this ticket, I am getting\n\n```\nsage: %timeit Polyhedron(vertices=[[]])                                                     \n51.7 \u00b5s \u00b1 866 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000 loops each)\nsage: %timeit Polyhedron(vertices=[[]])                                                     \n53.9 \u00b5s \u00b1 774 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000 loops each)\nsage: %timeit Polyhedron(vertices=[[]])                                                     \n52.8 \u00b5s \u00b1 738 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000 loops each)\n```\n\nRight after building this branch, I am getting:\n\n```\nsage: %timeit Polyhedron(vertices=[[]])                                                     \n88.2 \u00b5s \u00b1 22.3 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\nsage: %timeit Polyhedron(vertices=[[]])                                                     \n57.2 \u00b5s \u00b1 1.22 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 10000 loops each)\nsage: %timeit Polyhedron(vertices=[[]])                                                     \n53.5 \u00b5s \u00b1 307 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000 loops each)\nsage: %timeit Polyhedron(vertices=[[]])                                                     \n53.2 \u00b5s \u00b1 508 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000 loops each)\n```\n\nSo I don't think that we should be concerned about the performance impact here.",
    "created_at": "2020-12-10T16:53:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487907",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

Another data point regarding performance: Without this ticket, I am getting

```
sage: %timeit Polyhedron(vertices=[[]])                                                     
51.7 µs ± 866 ns per loop (mean ± std. dev. of 7 runs, 10000 loops each)
sage: %timeit Polyhedron(vertices=[[]])                                                     
53.9 µs ± 774 ns per loop (mean ± std. dev. of 7 runs, 10000 loops each)
sage: %timeit Polyhedron(vertices=[[]])                                                     
52.8 µs ± 738 ns per loop (mean ± std. dev. of 7 runs, 10000 loops each)
```

Right after building this branch, I am getting:

```
sage: %timeit Polyhedron(vertices=[[]])                                                     
88.2 µs ± 22.3 µs per loop (mean ± std. dev. of 7 runs, 1 loop each)
sage: %timeit Polyhedron(vertices=[[]])                                                     
57.2 µs ± 1.22 µs per loop (mean ± std. dev. of 7 runs, 10000 loops each)
sage: %timeit Polyhedron(vertices=[[]])                                                     
53.5 µs ± 307 ns per loop (mean ± std. dev. of 7 runs, 10000 loops each)
sage: %timeit Polyhedron(vertices=[[]])                                                     
53.2 µs ± 508 ns per loop (mean ± std. dev. of 7 runs, 10000 loops each)
```

So I don't think that we should be concerned about the performance impact here.



---

archive/issue_comments_487908.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96f151a9ea4f4fd10607153bee0fb8bf609ce7dd\"><code>96f151a</code></a></td><td><code>nicer representation of not available module</code></td></tr></table>\n",
    "created_at": "2020-12-10T17:13:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487908",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96f151a9ea4f4fd10607153bee0fb8bf609ce7dd"><code>96f151a</code></a></td><td><code>nicer representation of not available module</code></td></tr></table>




---

archive/issue_comments_487909.json:
```json
{
    "body": "Changed commit from **[`d7a2de9`](https://github.com/sagemath/sagetrac-mirror/commit/d7a2de9bcb8d20df32fd0630e3ee3a9d5a049f74)** to **[`96f151a`](https://github.com/sagemath/sagetrac-mirror/commit/96f151a9ea4f4fd10607153bee0fb8bf609ce7dd)**",
    "created_at": "2020-12-10T17:13:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487909",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d7a2de9`](https://github.com/sagemath/sagetrac-mirror/commit/d7a2de9bcb8d20df32fd0630e3ee3a9d5a049f74)** to **[`96f151a`](https://github.com/sagemath/sagetrac-mirror/commit/96f151a9ea4f4fd10607153bee0fb8bf609ce7dd)**



---

archive/issue_comments_487910.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI think the repr should express somehow that it is a `LazyImport` object so that users who see this output can know where this is coming from.",
    "created_at": "2020-12-10T18:06:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487910",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">comment:19</div>

I think the repr should express somehow that it is a `LazyImport` object so that users who see this output can know where this is coming from.



---

archive/issue_comments_487911.json:
```json
{
    "body": "Changed commit from **[`96f151a`](https://github.com/sagemath/sagetrac-mirror/commit/96f151a9ea4f4fd10607153bee0fb8bf609ce7dd)** to **[`044ae43`](https://github.com/sagemath/sagetrac-mirror/commit/044ae4389bec751bbfaf45a20284de6c02c6a284)**",
    "created_at": "2020-12-10T18:29:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487911",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`96f151a`](https://github.com/sagemath/sagetrac-mirror/commit/96f151a9ea4f4fd10607153bee0fb8bf609ce7dd)** to **[`044ae43`](https://github.com/sagemath/sagetrac-mirror/commit/044ae4389bec751bbfaf45a20284de6c02c6a284)**



---

archive/issue_comments_487912.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/044ae4389bec751bbfaf45a20284de6c02c6a284\"><code>044ae43</code></a></td><td><code>lazy import representation acknowledges its type</code></td></tr></table>\n",
    "created_at": "2020-12-10T18:29:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487912",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/044ae4389bec751bbfaf45a20284de6c02c6a284"><code>044ae43</code></a></td><td><code>lazy import representation acknowledges its type</code></td></tr></table>




---

archive/issue_comments_487913.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nHm... perhaps only for failed imports?",
    "created_at": "2020-12-10T18:56:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487913",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

Hm... perhaps only for failed imports?



---

archive/issue_comments_487914.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nWell the other thing is lying as well. But sure.",
    "created_at": "2020-12-10T19:01:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487914",
    "user": "https://github.com/kliem"
}
```

<div id="comment:22" align="right">comment:22</div>

Well the other thing is lying as well. But sure.



---

archive/issue_comments_487915.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3ec686f4e557bf7e2901ef489300d330b0436ec\"><code>b3ec686</code></a></td><td><code>only be verbose on failure</code></td></tr></table>\n",
    "created_at": "2020-12-10T19:07:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487915",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3ec686f4e557bf7e2901ef489300d330b0436ec"><code>b3ec686</code></a></td><td><code>only be verbose on failure</code></td></tr></table>




---

archive/issue_comments_487916.json:
```json
{
    "body": "Changed commit from **[`044ae43`](https://github.com/sagemath/sagetrac-mirror/commit/044ae4389bec751bbfaf45a20284de6c02c6a284)** to **[`b3ec686`](https://github.com/sagemath/sagetrac-mirror/commit/b3ec686f4e557bf7e2901ef489300d330b0436ec)**",
    "created_at": "2020-12-10T19:07:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487916",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`044ae43`](https://github.com/sagemath/sagetrac-mirror/commit/044ae4389bec751bbfaf45a20284de6c02c6a284)** to **[`b3ec686`](https://github.com/sagemath/sagetrac-mirror/commit/b3ec686f4e557bf7e2901ef489300d330b0436ec)**



---

archive/issue_comments_487917.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\npatchbot shows errors",
    "created_at": "2020-12-10T23:19:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487917",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

patchbot shows errors



---

archive/issue_events_418591.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-10T23:20:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418591"
}
```



---

archive/issue_events_418592.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-10T23:20:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418592"
}
```



---

archive/issue_comments_487918.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c7b704e2bbb421a074dfd6c3e977be25ba24d87\"><code>3c7b704</code></a></td><td><code>lazily import PyNormaliz</code></td></tr></table>\n",
    "created_at": "2020-12-11T07:46:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487918",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c7b704e2bbb421a074dfd6c3e977be25ba24d87"><code>3c7b704</code></a></td><td><code>lazily import PyNormaliz</code></td></tr></table>




---

archive/issue_comments_487919.json:
```json
{
    "body": "Changed commit from **[`b3ec686`](https://github.com/sagemath/sagetrac-mirror/commit/b3ec686f4e557bf7e2901ef489300d330b0436ec)** to **[`3c7b704`](https://github.com/sagemath/sagetrac-mirror/commit/3c7b704e2bbb421a074dfd6c3e977be25ba24d87)**",
    "created_at": "2020-12-11T07:46:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487919",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b3ec686`](https://github.com/sagemath/sagetrac-mirror/commit/b3ec686f4e557bf7e2901ef489300d330b0436ec)** to **[`3c7b704`](https://github.com/sagemath/sagetrac-mirror/commit/3c7b704e2bbb421a074dfd6c3e977be25ba24d87)**



---

archive/issue_comments_487920.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nSomehow forgot that.",
    "created_at": "2020-12-11T07:46:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487920",
    "user": "https://github.com/kliem"
}
```

<div id="comment:27" align="right">comment:27</div>

Somehow forgot that.



---

archive/issue_events_418593.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-12-11T07:46:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418593"
}
```



---

archive/issue_events_418594.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-12-11T07:46:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418594"
}
```



---

archive/issue_events_418595.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-11T20:06:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418595"
}
```



---

archive/issue_events_418596.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-11T20:06:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418596"
}
```



---

archive/issue_comments_487921.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe**",
    "created_at": "2020-12-11T20:06:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487921",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe**



---

archive/issue_events_418597.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-11T20:06:37Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "title_is": "Remove import of 'ppl' at startup using lazy_import with feature",
    "title_was": "Remove import of 'ppl' at startup",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418597"
}
```



---

archive/issue_comments_487922.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nThank you. So I guess I know how that mechanism works, you can ping me, to do it with other packages.",
    "created_at": "2020-12-11T20:13:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487922",
    "user": "https://github.com/kliem"
}
```

<div id="comment:29" align="right">comment:29</div>

Thank you. So I guess I know how that mechanism works, you can ping me, to do it with other packages.



---

archive/issue_events_418598.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-12-13T09:37:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418598"
}
```



---

archive/issue_events_418599.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-12-13T09:37:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418599"
}
```



---

archive/issue_comments_487923.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nOn OSX:\n\n```\n**********************************************************************\nFile \"src/sage/misc/lazy_import.pyx\", line 1073, in sage.misc.lazy_import.?\nFailed example:\n    not_there\nExpected:\n    Failed lazy import:\n    foo is not available.\n    Importing not_there failed: No module named 'foo'\n    No equivalent system packages for ... are known to Sage.\n    ...\nGot:\n    Failed lazy import:\n    foo is not available.\n    Importing not_there failed: No module named 'foo'\n    To install foo using the unknown package manager, you can try to run:\n    # install the following packages:\n    To install foo using the Sage package manager, you can try to run:\n      !sage -i non-existing-package\n    No equivalent system packages for pip are known to Sage.\n**********************************************************************\n```",
    "created_at": "2020-12-13T09:37:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487923",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:30" align="right">comment:30</div>

On OSX:

```
**********************************************************************
File "src/sage/misc/lazy_import.pyx", line 1073, in sage.misc.lazy_import.?
Failed example:
    not_there
Expected:
    Failed lazy import:
    foo is not available.
    Importing not_there failed: No module named 'foo'
    No equivalent system packages for ... are known to Sage.
    ...
Got:
    Failed lazy import:
    foo is not available.
    Importing not_there failed: No module named 'foo'
    To install foo using the unknown package manager, you can try to run:
    # install the following packages:
    To install foo using the Sage package manager, you can try to run:
      !sage -i non-existing-package
    No equivalent system packages for pip are known to Sage.
**********************************************************************
```



---

archive/issue_comments_487924.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nLooks like we never tested the runtime system package advice on macOS without homebrew. `unknown` needs special-casing",
    "created_at": "2020-12-13T17:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487924",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:31" align="right">comment:31</div>

Looks like we never tested the runtime system package advice on macOS without homebrew. `unknown` needs special-casing



---

archive/issue_comments_487925.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81a655efd3e477df5dddad31fc26c5e6ac23439c\"><code>81a655e</code></a></td><td><code>sage.features.package_systems: Ignore 'unknown'</code></td></tr></table>\n",
    "created_at": "2020-12-13T17:48:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487925",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81a655efd3e477df5dddad31fc26c5e6ac23439c"><code>81a655e</code></a></td><td><code>sage.features.package_systems: Ignore 'unknown'</code></td></tr></table>




---

archive/issue_comments_487926.json:
```json
{
    "body": "Changed commit from **[`3c7b704`](https://github.com/sagemath/sagetrac-mirror/commit/3c7b704e2bbb421a074dfd6c3e977be25ba24d87)** to **[`81a655e`](https://github.com/sagemath/sagetrac-mirror/commit/81a655efd3e477df5dddad31fc26c5e6ac23439c)**",
    "created_at": "2020-12-13T17:48:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487926",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3c7b704`](https://github.com/sagemath/sagetrac-mirror/commit/3c7b704e2bbb421a074dfd6c3e977be25ba24d87)** to **[`81a655e`](https://github.com/sagemath/sagetrac-mirror/commit/81a655efd3e477df5dddad31fc26c5e6ac23439c)**



---

archive/issue_comments_487927.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17c4cdb90244a584e7ee5d98796877d06bfae009\"><code>17c4cdb</code></a></td><td><code>sage.misc.lazy_import: Add some more '...' to doctest</code></td></tr></table>\n",
    "created_at": "2020-12-13T17:52:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487927",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17c4cdb90244a584e7ee5d98796877d06bfae009"><code>17c4cdb</code></a></td><td><code>sage.misc.lazy_import: Add some more '...' to doctest</code></td></tr></table>




---

archive/issue_comments_487928.json:
```json
{
    "body": "Changed commit from **[`81a655e`](https://github.com/sagemath/sagetrac-mirror/commit/81a655efd3e477df5dddad31fc26c5e6ac23439c)** to **[`17c4cdb`](https://github.com/sagemath/sagetrac-mirror/commit/17c4cdb90244a584e7ee5d98796877d06bfae009)**",
    "created_at": "2020-12-13T17:52:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487928",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`81a655e`](https://github.com/sagemath/sagetrac-mirror/commit/81a655efd3e477df5dddad31fc26c5e6ac23439c)** to **[`17c4cdb`](https://github.com/sagemath/sagetrac-mirror/commit/17c4cdb90244a584e7ee5d98796877d06bfae009)**



---

archive/issue_events_418600.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-13T17:53:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418600"
}
```



---

archive/issue_events_418601.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-13T17:53:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418601"
}
```



---

archive/issue_comments_487929.json:
```json
{
    "body": "Changed author from **Jonathan Kliem** to **Jonathan Kliem, Matthias Koeppe**",
    "created_at": "2020-12-13T17:53:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487929",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Jonathan Kliem** to **Jonathan Kliem, Matthias Koeppe**



---

archive/issue_comments_487930.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe** to **Matthias Koeppe, ...**",
    "created_at": "2020-12-13T17:53:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487930",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Matthias Koeppe** to **Matthias Koeppe, ...**



---

archive/issue_comments_487931.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nThanks for the quick fix.",
    "created_at": "2020-12-13T18:03:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487931",
    "user": "https://github.com/kliem"
}
```

<div id="comment:35" align="right">comment:35</div>

Thanks for the quick fix.



---

archive/issue_events_418602.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-12-13T18:03:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418602"
}
```



---

archive/issue_events_418603.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-12-13T18:03:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418603"
}
```



---

archive/issue_comments_487932.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, Jonathan Kliem**",
    "created_at": "2020-12-13T18:03:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487932",
    "user": "https://github.com/kliem"
}
```

Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, Jonathan Kliem**



---

archive/issue_comments_487933.json:
```json
{
    "body": "Changed branch from **[public/30587](https://github.com/sagemath/sagetrac-mirror/tree/public/30587)** to **[`17c4cdb`](https://github.com/sagemath/sagetrac-mirror/commit/17c4cdb90244a584e7ee5d98796877d06bfae009)**",
    "created_at": "2020-12-14T23:53:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30587#issuecomment-487933",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/30587](https://github.com/sagemath/sagetrac-mirror/tree/public/30587)** to **[`17c4cdb`](https://github.com/sagemath/sagetrac-mirror/commit/17c4cdb90244a584e7ee5d98796877d06bfae009)**



---

archive/issue_events_418604.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-12-14T23:53:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418604"
}
```



---

archive/issue_events_418605.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "7503467d3064fc0893527d8aac49b2922699d88b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-12-14T23:53:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30587",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30587#event-418605"
}
```
