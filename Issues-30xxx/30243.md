# Issue 30243: Enumeration and manipulation of fully commutative elements in Coxeter groups

archive/issues_030006.json:
```json
{
    "assignees": [],
    "body": "The purpose of the enhancement is to enumerate and manipulate the fully commutative (FC) elements in a Coxeter group. In particular, it accomplishes the goal of determining if a group element is FC set in Ticket: 25964. \n\nThe enhancement resides in one new file `src/sage/combinat/fully_commutative_elements.py`, with examples and tests included for every class and method. All other changes in this ticket concern only meta information such as bibliography references and documentation.\n\nThe file `src/sage/combinat/fully_commutative_elements.py` follows the standard parent-element pattern in Sage and contains two classes `FullyCommutativeElements` and `FullyCommutativeElement`, both introduced into the global namespace. Instances of `FullyCommutativeElements` are implemented in the category of enumerated sets and refined to either finite or infinite enumerated sets for groups associated to Cartan types. Each instance of `FullyCommutativeElement` is realized as a `NormalizedClonableList` via the *Cartier--Foata canonical form* of FC elements. \n\nBasic usage for enumeration of FC elements in a Coxeter group. \n\n```python\nsage: FCA3 = FullyCommutativeElements(['A', 3]); FCA3\nFully commutative elements in Coxeter system with Cartan type ['A', 3]\nsage: FCA3.category()\nCategory of finite enumerated sets\nsage: FCA3.list()\n[[],\n [1],\n [2],\n [3],\n [2, 1],\n [1, 3],\n [1, 2],\n [3, 2],\n [2, 3],\n [3, 2, 1],\n [2, 1, 3],\n [1, 3, 2],\n [1, 2, 3],\n [2, 1, 3, 2]]\n\nsage: FCAffineA2 = FullyCommutativeElements(['A', 2, 1])\nsage: FCAffineA2.category()\nCategory of infinite enumerated sets\nsage: list(FCAffineA2.iterate_to_length(4))\n[[], [0], [1], [2], [1, 0], [2, 0], [0, 1], [2, 1], [0, 2], [1,2], [2, 1, 0], [1, 2, 0], [2, 0, 1], [0, 2, 1], [1, 0, 2], [0, 1, 2], [0, 2, 1, 0], [0, 1, 2, 0], [1, 2, 0, 1], [1, 0, 2, 1], [2, 1,0, 2], [2, 0, 1, 2]]\n```\n\n```python\nsage: FCB8 = FullyCommutativeElements(['B', 8])\nsage: len(FCB8)    # long time (7 seconds)\n14299\n```\n\nElements are verified to be FC upon construction, and FC element are normalized to Cartier--Foata canonical form:\n\n```python\nsage: FCA3([1,2,1])\nTraceback (most recent call last):\n...\nValueError: The input is not a reduced word of a fully commutative element.\n\nsage: FCA3([2, 3, 1, 2])\n[2, 1, 3, 2]\n```\n\nIn addition to the construction and enumeration of FC elements in a Coxeter group, various methods are developed for each FC element, including tools for studying the *heap* posets of FC elements and for computing Kazhdan and Lusztig's (generalized) star operations on FC elements. For more details, please see the attached documentation page built by Sage.\n\nCC:  @sagetrac-gfeinberg @tscrim @sagetrac-sage-combinat\n\nKeywords: **Coxeter systems, Coxeter groups, fully commutative elements**\n\nBranch: **[`56d093f`](https://github.com/sagemath/sagetrac-mirror/commit/56d093fc63ec8117bf9fdbd1faf6a5fe979b6f7f)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Chase Meadors, Tianyuan Xu**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/30243_\n\n",
    "closed_at": "2020-08-26T21:15:42Z",
    "created_at": "2020-07-28T20:12:43Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Enumeration and manipulation of fully commutative elements in Coxeter groups",
    "type": "issue",
    "updated_at": "2023-01-14T16:15:59Z",
    "url": "https://github.com/sagemath/sage/issues/30243",
    "user": "https://github.com/cemulate"
}
```
The purpose of the enhancement is to enumerate and manipulate the fully commutative (FC) elements in a Coxeter group. In particular, it accomplishes the goal of determining if a group element is FC set in Ticket: 25964. 

The enhancement resides in one new file `src/sage/combinat/fully_commutative_elements.py`, with examples and tests included for every class and method. All other changes in this ticket concern only meta information such as bibliography references and documentation.

The file `src/sage/combinat/fully_commutative_elements.py` follows the standard parent-element pattern in Sage and contains two classes `FullyCommutativeElements` and `FullyCommutativeElement`, both introduced into the global namespace. Instances of `FullyCommutativeElements` are implemented in the category of enumerated sets and refined to either finite or infinite enumerated sets for groups associated to Cartan types. Each instance of `FullyCommutativeElement` is realized as a `NormalizedClonableList` via the *Cartier--Foata canonical form* of FC elements. 

Basic usage for enumeration of FC elements in a Coxeter group. 

```python
sage: FCA3 = FullyCommutativeElements(['A', 3]); FCA3
Fully commutative elements in Coxeter system with Cartan type ['A', 3]
sage: FCA3.category()
Category of finite enumerated sets
sage: FCA3.list()
[[],
 [1],
 [2],
 [3],
 [2, 1],
 [1, 3],
 [1, 2],
 [3, 2],
 [2, 3],
 [3, 2, 1],
 [2, 1, 3],
 [1, 3, 2],
 [1, 2, 3],
 [2, 1, 3, 2]]

sage: FCAffineA2 = FullyCommutativeElements(['A', 2, 1])
sage: FCAffineA2.category()
Category of infinite enumerated sets
sage: list(FCAffineA2.iterate_to_length(4))
[[], [0], [1], [2], [1, 0], [2, 0], [0, 1], [2, 1], [0, 2], [1,2], [2, 1, 0], [1, 2, 0], [2, 0, 1], [0, 2, 1], [1, 0, 2], [0, 1, 2], [0, 2, 1, 0], [0, 1, 2, 0], [1, 2, 0, 1], [1, 0, 2, 1], [2, 1,0, 2], [2, 0, 1, 2]]
```

```python
sage: FCB8 = FullyCommutativeElements(['B', 8])
sage: len(FCB8)    # long time (7 seconds)
14299
```

Elements are verified to be FC upon construction, and FC element are normalized to Cartier--Foata canonical form:

```python
sage: FCA3([1,2,1])
Traceback (most recent call last):
...
ValueError: The input is not a reduced word of a fully commutative element.

sage: FCA3([2, 3, 1, 2])
[2, 1, 3, 2]
```

In addition to the construction and enumeration of FC elements in a Coxeter group, various methods are developed for each FC element, including tools for studying the *heap* posets of FC elements and for computing Kazhdan and Lusztig's (generalized) star operations on FC elements. For more details, please see the attached documentation page built by Sage.

CC:  @sagetrac-gfeinberg @tscrim @sagetrac-sage-combinat

Keywords: **Coxeter systems, Coxeter groups, fully commutative elements**

Branch: **[`56d093f`](https://github.com/sagemath/sagetrac-mirror/commit/56d093fc63ec8117bf9fdbd1faf6a5fe979b6f7f)**

Reviewer: **Travis Scrimshaw**

Author: **Chase Meadors, Tianyuan Xu**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/30243_





---

archive/issue_events_418661.json:
```json
{
    "actor": "https://github.com/cemulate",
    "created_at": "2020-07-28T20:12:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30243#event-418661"
}
```



---

archive/issue_events_418662.json:
```json
{
    "actor": "https://github.com/cemulate",
    "created_at": "2020-07-28T20:12:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30243#event-418662"
}
```



---

archive/issue_comments_479507.json:
```json
{
    "body": "Branch: **[u/gh-cemulate/fully_commutatve_elements](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-cemulate/fully_commutatve_elements)**",
    "created_at": "2020-07-28T21:09:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479507",
    "user": "https://github.com/cemulate"
}
```

Branch: **[u/gh-cemulate/fully_commutatve_elements](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-cemulate/fully_commutatve_elements)**



---

archive/issue_events_418663.json:
```json
{
    "actor": "https://github.com/cemulate",
    "created_at": "2020-07-28T21:33:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30243#event-418663"
}
```



---

archive/issue_events_418664.json:
```json
{
    "actor": "https://github.com/cemulate",
    "created_at": "2020-07-28T21:33:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30243#event-418664"
}
```



---

archive/issue_comments_479508.json:
```json
{
    "body": "Author: **Chase Meadors, Tianyuan Xu**",
    "created_at": "2020-07-28T21:33:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479508",
    "user": "https://github.com/cemulate"
}
```

Author: **Chase Meadors, Tianyuan Xu**



---

archive/issue_comments_479509.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,54 @@\n+This enhancement introduces a new class whose purpose is to enumerate and manipulate the fully commutative elements in a Coxeter system.\n \n+The implementation follows the standard parent-element pattern in Sage, with `FullyCommutativeElements` being introduced into the global namespace, and its element class `FullyCommutativeElement`, which is a `NormalizedClonableList` and represents a normalized (i.e., in Cartier--Foata normal form) reduced word of a fully commutative element. Instances of `FullyCommutativeElements` will be in the category of enumerated sets, and the finite or infinite variant thereof when this information can be determined.\n+\n+All of this resides in one new file `src/sage/combinat/fully_commutative_elements.py`, and all other changes in this ticket are to do with meta information such as bibliography references, documentation, and the like.\n+\n+Simple usage for enumerating or counting FC elements:\n+\n+```python\n+sage: FCA3 = FullyCommutativeElements(['A', 3])\n+sage: FCA3.category()\n+Category of finite enumerated sets\n+sage: FCA3.list()\n+[[],\n+ [1],\n+ [2],\n+ [3],\n+ [2, 1],\n+ [1, 3],\n+ [1, 2],\n+ [3, 2],\n+ [2, 3],\n+ [3, 2, 1],\n+ [2, 1, 3],\n+ [1, 3, 2],\n+ [1, 2, 3],\n+ [2, 1, 3, 2]]\n+sage: FCAffineA2 = FullyCommutativeElements(['A', 2, 1])\n+sage: FCAffineA2.category()\n+Category of infinite enumerated sets\n+```\n+\n+```python\n+sage: FCB8 = FullyCommutativeElements(['B', 8])\n+sage: len(FCB8)    # long time (7 seconds)\n+14299\n+```\n+\n+Elements are verified to be FC upon construction, and normalized to Cartier--Foata normal form:\n+\n+```python\n+sage: FCA3([1,2,1])\n+Traceback (most recent call last):\n+...\n+ValueError: The input is not a reduced word of a fully commutative element.\n+sage: FCA3([2, 3, 1, 2])\n+[2, 1, 3, 2]\n+```\n+\n+Elements also come with various methods. Among them are methods for descents that are specialized for FC elements and thus faster, Kazhdan and Lusztig's *star operations*, and the creation and plotting of the *heap* of an FC element.\n+\n+Rather than including all examples here, I have attached a printout of the built documentation page for the module to the ticket.\n+\n+Tests are included on every class and method; there is no overlap with any other part of Sage so there should not be any breakage of existing tests.\n``````\n",
    "created_at": "2020-07-28T21:33:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479509",
    "user": "https://github.com/cemulate"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,54 @@
+This enhancement introduces a new class whose purpose is to enumerate and manipulate the fully commutative elements in a Coxeter system.
 
+The implementation follows the standard parent-element pattern in Sage, with `FullyCommutativeElements` being introduced into the global namespace, and its element class `FullyCommutativeElement`, which is a `NormalizedClonableList` and represents a normalized (i.e., in Cartier--Foata normal form) reduced word of a fully commutative element. Instances of `FullyCommutativeElements` will be in the category of enumerated sets, and the finite or infinite variant thereof when this information can be determined.
+
+All of this resides in one new file `src/sage/combinat/fully_commutative_elements.py`, and all other changes in this ticket are to do with meta information such as bibliography references, documentation, and the like.
+
+Simple usage for enumerating or counting FC elements:
+
+```python
+sage: FCA3 = FullyCommutativeElements(['A', 3])
+sage: FCA3.category()
+Category of finite enumerated sets
+sage: FCA3.list()
+[[],
+ [1],
+ [2],
+ [3],
+ [2, 1],
+ [1, 3],
+ [1, 2],
+ [3, 2],
+ [2, 3],
+ [3, 2, 1],
+ [2, 1, 3],
+ [1, 3, 2],
+ [1, 2, 3],
+ [2, 1, 3, 2]]
+sage: FCAffineA2 = FullyCommutativeElements(['A', 2, 1])
+sage: FCAffineA2.category()
+Category of infinite enumerated sets
+```
+
+```python
+sage: FCB8 = FullyCommutativeElements(['B', 8])
+sage: len(FCB8)    # long time (7 seconds)
+14299
+```
+
+Elements are verified to be FC upon construction, and normalized to Cartier--Foata normal form:
+
+```python
+sage: FCA3([1,2,1])
+Traceback (most recent call last):
+...
+ValueError: The input is not a reduced word of a fully commutative element.
+sage: FCA3([2, 3, 1, 2])
+[2, 1, 3, 2]
+```
+
+Elements also come with various methods. Among them are methods for descents that are specialized for FC elements and thus faster, Kazhdan and Lusztig's *star operations*, and the creation and plotting of the *heap* of an FC element.
+
+Rather than including all examples here, I have attached a printout of the built documentation page for the module to the ticket.
+
+Tests are included on every class and method; there is no overlap with any other part of Sage so there should not be any breakage of existing tests.
``````




---

archive/issue_events_418665.json:
```json
{
    "actor": "https://github.com/cemulate",
    "created_at": "2020-07-28T21:33:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30243#event-418665"
}
```



---

archive/issue_events_418666.json:
```json
{
    "actor": "https://github.com/cemulate",
    "created_at": "2020-07-28T21:33:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30243#event-418666"
}
```



---

archive/issue_comments_479510.json:
```json
{
    "body": "Changed keywords from none to **fully commutative, coxeter, CoxeterGroup**",
    "created_at": "2020-07-28T21:33:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479510",
    "user": "https://github.com/cemulate"
}
```

Changed keywords from none to **fully commutative, coxeter, CoxeterGroup**



---

archive/issue_comments_479511.json:
```json
{
    "body": "Commit: **[`f7811f3`](https://github.com/sagemath/sagetrac-mirror/commit/f7811f380d55431fc8c197369d43165e1ef2de38)**",
    "created_at": "2020-07-28T21:33:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479511",
    "user": "https://github.com/cemulate"
}
```

Commit: **[`f7811f3`](https://github.com/sagemath/sagetrac-mirror/commit/f7811f380d55431fc8c197369d43165e1ef2de38)**



---

archive/issue_comments_479512.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -49,6 +49,6 @@\n \n Elements also come with various methods. Among them are methods for descents that are specialized for FC elements and thus faster, Kazhdan and Lusztig's *star operations*, and the creation and plotting of the *heap* of an FC element.\n \n-Rather than including all examples here, I have attached a printout of the built documentation page for the module to the ticket.\n+Rather than including all examples here, I have attached a printout of the built documentation page for the module to the ticket, where all terms are defined in the corresponding docstring.\n \n Tests are included on every class and method; there is no overlap with any other part of Sage so there should not be any breakage of existing tests.\n``````\n",
    "created_at": "2020-07-28T21:34:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479512",
    "user": "https://github.com/cemulate"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -49,6 +49,6 @@
 
 Elements also come with various methods. Among them are methods for descents that are specialized for FC elements and thus faster, Kazhdan and Lusztig's *star operations*, and the creation and plotting of the *heap* of an FC element.
 
-Rather than including all examples here, I have attached a printout of the built documentation page for the module to the ticket.
+Rather than including all examples here, I have attached a printout of the built documentation page for the module to the ticket, where all terms are defined in the corresponding docstring.
 
 Tests are included on every class and method; there is no overlap with any other part of Sage so there should not be any breakage of existing tests.
``````




---

archive/issue_comments_479513.json:
```json
{
    "body": "Changed commit from **[`f7811f3`](https://github.com/sagemath/sagetrac-mirror/commit/f7811f380d55431fc8c197369d43165e1ef2de38)** to **[`df55061`](https://github.com/sagemath/sagetrac-mirror/commit/df550617f31c70803d26ea2711ae2c9b8cf6326e)**",
    "created_at": "2020-07-28T21:34:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479513",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f7811f3`](https://github.com/sagemath/sagetrac-mirror/commit/f7811f380d55431fc8c197369d43165e1ef2de38)** to **[`df55061`](https://github.com/sagemath/sagetrac-mirror/commit/df550617f31c70803d26ea2711ae2c9b8cf6326e)**



---

archive/issue_comments_479514.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df550617f31c70803d26ea2711ae2c9b8cf6326e\"><code>df55061</code></a></td><td><code>Remove spaces before code block indicator</code></td></tr></table>\n",
    "created_at": "2020-07-28T21:34:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479514",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df550617f31c70803d26ea2711ae2c9b8cf6326e"><code>df55061</code></a></td><td><code>Remove spaces before code block indicator</code></td></tr></table>




---

archive/issue_events_418667.json:
```json
{
    "actor": "https://github.com/cemulate",
    "created_at": "2020-07-28T21:37:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30243#event-418667"
}
```



---

archive/issue_events_418668.json:
```json
{
    "actor": "https://github.com/cemulate",
    "created_at": "2020-07-28T21:40:23Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "title_is": "Support for the enumeration and manipulation of fully commutative elements in a Coxeter system",
    "title_was": "fully-commutatve-elements",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30243#event-418668"
}
```



---

archive/issue_comments_479515.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f711d9a0d45761d80271668868c737a5457f3190\"><code>f711d9a</code></a></td><td><code>Change error messages to match Python convention.</code></td></tr></table>\n",
    "created_at": "2020-07-28T21:42:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479515",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f711d9a0d45761d80271668868c737a5457f3190"><code>f711d9a</code></a></td><td><code>Change error messages to match Python convention.</code></td></tr></table>




---

archive/issue_comments_479516.json:
```json
{
    "body": "Changed commit from **[`df55061`](https://github.com/sagemath/sagetrac-mirror/commit/df550617f31c70803d26ea2711ae2c9b8cf6326e)** to **[`f711d9a`](https://github.com/sagemath/sagetrac-mirror/commit/f711d9a0d45761d80271668868c737a5457f3190)**",
    "created_at": "2020-07-28T21:42:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479516",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`df55061`](https://github.com/sagemath/sagetrac-mirror/commit/df550617f31c70803d26ea2711ae2c9b8cf6326e)** to **[`f711d9a`](https://github.com/sagemath/sagetrac-mirror/commit/f711d9a0d45761d80271668868c737a5457f3190)**



---

archive/issue_comments_479517.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -42,7 +42,7 @@\n sage: FCA3([1,2,1])\n Traceback (most recent call last):\n ...\n-ValueError: The input is not a reduced word of a fully commutative element.\n+ValueError: the input is not a reduced word of a fully commutative element\n sage: FCA3([2, 3, 1, 2])\n [2, 1, 3, 2]\n ```\n``````\n",
    "created_at": "2020-07-28T21:50:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479517",
    "user": "https://github.com/cemulate"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -42,7 +42,7 @@
 sage: FCA3([1,2,1])
 Traceback (most recent call last):
 ...
-ValueError: The input is not a reduced word of a fully commutative element.
+ValueError: the input is not a reduced word of a fully commutative element
 sage: FCA3([2, 3, 1, 2])
 [2, 1, 3, 2]
 ```
``````




---

archive/issue_comments_479518.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,10 +1,10 @@\n-This enhancement introduces a new class whose purpose is to enumerate and manipulate the fully commutative elements in a Coxeter system.\n+The purpose of the enhancement is to enumerate and manipulate the fully commutative (FC) elements in a Coxeter group. In particular, it accomplishes the goal of determining if a group element is FC set in Ticket: 25964. \n \n-The implementation follows the standard parent-element pattern in Sage, with `FullyCommutativeElements` being introduced into the global namespace, and its element class `FullyCommutativeElement`, which is a `NormalizedClonableList` and represents a normalized (i.e., in Cartier--Foata normal form) reduced word of a fully commutative element. Instances of `FullyCommutativeElements` will be in the category of enumerated sets, and the finite or infinite variant thereof when this information can be determined.\n+The enhancement resides in one new file `src/sage/combinat/fully_commutative_elements.py`, with examples and tests included for every class and method. All other changes in this ticket concern only meta information such as bibliography references and documentation.\n \n-All of this resides in one new file `src/sage/combinat/fully_commutative_elements.py`, and all other changes in this ticket are to do with meta information such as bibliography references, documentation, and the like.\n+The file `src/sage/combinat/fully_commutative_elements.py` follows the standard parent-element pattern in Sage and contains two classes `FullyCommutativeElements` and `FullyCommutativeElement`, both introduced into the global namespace. Instances of `FullyCommutativeElements` are implemented in the category of enumerated sets and refined to either finite or infinite enumerated sets for groups associated to Cartan types. Each instance of `FullyCommutativeElement` is realized as a `NormalizedClonableList` via the *Cartier--Foata canonical form* of FC elements. \n \n-Simple usage for enumerating or counting FC elements:\n+Basic usage for enumeration of FC elements in a Coxeter group. \n \n ```python\n sage: FCA3 = FullyCommutativeElements(['A', 3])\n@@ -25,9 +25,12 @@\n  [1, 3, 2],\n  [1, 2, 3],\n  [2, 1, 3, 2]]\n+\n sage: FCAffineA2 = FullyCommutativeElements(['A', 2, 1])\n sage: FCAffineA2.category()\n Category of infinite enumerated sets\n+sage: list(FCAffineA2.iterate_to_length(4))\n+[[], [0], [1], [2], [1, 0], [2, 0], [0, 1], [2, 1], [0, 2], [1,2], [2, 1, 0], [1, 2, 0], [2, 0, 1], [0, 2, 1], [1, 0, 2], [0, 1, 2], [0, 2, 1, 0], [0, 1, 2, 0], [1, 2, 0, 1], [1, 0, 2, 1], [2, 1,0, 2], [2, 0, 1, 2]]\n ```\n \n ```python\n@@ -36,19 +39,16 @@\n 14299\n ```\n \n-Elements are verified to be FC upon construction, and normalized to Cartier--Foata normal form:\n+Elements are verified to be FC upon construction, and FC element are normalized to Cartier--Foata canonical form:\n \n ```python\n sage: FCA3([1,2,1])\n Traceback (most recent call last):\n ...\n-ValueError: the input is not a reduced word of a fully commutative element\n+ValueError: The input is not a reduced word of a fully commutative element.\n+\n sage: FCA3([2, 3, 1, 2])\n [2, 1, 3, 2]\n ```\n \n-Elements also come with various methods. Among them are methods for descents that are specialized for FC elements and thus faster, Kazhdan and Lusztig's *star operations*, and the creation and plotting of the *heap* of an FC element.\n-\n-Rather than including all examples here, I have attached a printout of the built documentation page for the module to the ticket, where all terms are defined in the corresponding docstring.\n-\n-Tests are included on every class and method; there is no overlap with any other part of Sage so there should not be any breakage of existing tests.\n+In addition to the construction and enumeration of FC elements in a Coxeter group, various methods are developed for each FC element, including tools for studying the *heap* posets of FC elements and for computing Kazhdan and Lusztig's (generalized) star operations on FC elements. For more details, please see the attached documentation page built by Sage.\n``````\n",
    "created_at": "2020-07-28T22:40:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479518",
    "user": "https://github.com/TianyuanX"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,10 +1,10 @@
-This enhancement introduces a new class whose purpose is to enumerate and manipulate the fully commutative elements in a Coxeter system.
+The purpose of the enhancement is to enumerate and manipulate the fully commutative (FC) elements in a Coxeter group. In particular, it accomplishes the goal of determining if a group element is FC set in Ticket: 25964. 
 
-The implementation follows the standard parent-element pattern in Sage, with `FullyCommutativeElements` being introduced into the global namespace, and its element class `FullyCommutativeElement`, which is a `NormalizedClonableList` and represents a normalized (i.e., in Cartier--Foata normal form) reduced word of a fully commutative element. Instances of `FullyCommutativeElements` will be in the category of enumerated sets, and the finite or infinite variant thereof when this information can be determined.
+The enhancement resides in one new file `src/sage/combinat/fully_commutative_elements.py`, with examples and tests included for every class and method. All other changes in this ticket concern only meta information such as bibliography references and documentation.
 
-All of this resides in one new file `src/sage/combinat/fully_commutative_elements.py`, and all other changes in this ticket are to do with meta information such as bibliography references, documentation, and the like.
+The file `src/sage/combinat/fully_commutative_elements.py` follows the standard parent-element pattern in Sage and contains two classes `FullyCommutativeElements` and `FullyCommutativeElement`, both introduced into the global namespace. Instances of `FullyCommutativeElements` are implemented in the category of enumerated sets and refined to either finite or infinite enumerated sets for groups associated to Cartan types. Each instance of `FullyCommutativeElement` is realized as a `NormalizedClonableList` via the *Cartier--Foata canonical form* of FC elements. 
 
-Simple usage for enumerating or counting FC elements:
+Basic usage for enumeration of FC elements in a Coxeter group. 
 
 ```python
 sage: FCA3 = FullyCommutativeElements(['A', 3])
@@ -25,9 +25,12 @@
  [1, 3, 2],
  [1, 2, 3],
  [2, 1, 3, 2]]
+
 sage: FCAffineA2 = FullyCommutativeElements(['A', 2, 1])
 sage: FCAffineA2.category()
 Category of infinite enumerated sets
+sage: list(FCAffineA2.iterate_to_length(4))
+[[], [0], [1], [2], [1, 0], [2, 0], [0, 1], [2, 1], [0, 2], [1,2], [2, 1, 0], [1, 2, 0], [2, 0, 1], [0, 2, 1], [1, 0, 2], [0, 1, 2], [0, 2, 1, 0], [0, 1, 2, 0], [1, 2, 0, 1], [1, 0, 2, 1], [2, 1,0, 2], [2, 0, 1, 2]]
 ```
 
 ```python
@@ -36,19 +39,16 @@
 14299
 ```
 
-Elements are verified to be FC upon construction, and normalized to Cartier--Foata normal form:
+Elements are verified to be FC upon construction, and FC element are normalized to Cartier--Foata canonical form:
 
 ```python
 sage: FCA3([1,2,1])
 Traceback (most recent call last):
 ...
-ValueError: the input is not a reduced word of a fully commutative element
+ValueError: The input is not a reduced word of a fully commutative element.
+
 sage: FCA3([2, 3, 1, 2])
 [2, 1, 3, 2]
 ```
 
-Elements also come with various methods. Among them are methods for descents that are specialized for FC elements and thus faster, Kazhdan and Lusztig's *star operations*, and the creation and plotting of the *heap* of an FC element.
-
-Rather than including all examples here, I have attached a printout of the built documentation page for the module to the ticket, where all terms are defined in the corresponding docstring.
-
-Tests are included on every class and method; there is no overlap with any other part of Sage so there should not be any breakage of existing tests.
+In addition to the construction and enumeration of FC elements in a Coxeter group, various methods are developed for each FC element, including tools for studying the *heap* posets of FC elements and for computing Kazhdan and Lusztig's (generalized) star operations on FC elements. For more details, please see the attached documentation page built by Sage.
``````




---

archive/issue_events_418669.json:
```json
{
    "actor": "https://github.com/TianyuanX",
    "created_at": "2020-07-28T22:40:43Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "title_is": "Enumeration and manipulation of fully commutative elements in Coxeter groups",
    "title_was": "Support for the enumeration and manipulation of fully commutative elements in a Coxeter system",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30243#event-418669"
}
```



---

archive/issue_comments_479519.json:
```json
{
    "body": "Changed keywords from **fully commutative, coxeter, CoxeterGroup** to **Coxeter systems, Coxeter groups, fully commutative elements**",
    "created_at": "2020-07-28T22:40:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479519",
    "user": "https://github.com/TianyuanX"
}
```

Changed keywords from **fully commutative, coxeter, CoxeterGroup** to **Coxeter systems, Coxeter groups, fully commutative elements**



---

archive/issue_comments_479520.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/40614a1556e7c8824876253daffffc02450e5294\"><code>40614a1</code></a></td><td><code>Remove unused variable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/455428fa3a7a60ed33e353e5d78c42e2d210ea42\"><code>455428f</code></a></td><td><code>Rearrange some misplaced docs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9044364cb8c375ca8c236809466a6c4e60809e01\"><code>9044364</code></a></td><td><code>Have .check() not return anything</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/191b7ab43b2581c849ac340c2f5c3cab7868563e\"><code>191b7ab</code></a></td><td><code>Refactor .check() and .is_fully_commutative() to be more semantically correct.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd94864b655ec2297e88b4d725c637add833333a\"><code>dd94864</code></a></td><td><code>Add `_repr_` for parent class</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/42fb3ba13c74147b1b2944c50e84ac6833724771\"><code>42fb3ba</code></a></td><td><code>Achieve 100% test coverage</code></td></tr></table>\n",
    "created_at": "2020-07-29T11:29:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479520",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/40614a1556e7c8824876253daffffc02450e5294"><code>40614a1</code></a></td><td><code>Remove unused variable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/455428fa3a7a60ed33e353e5d78c42e2d210ea42"><code>455428f</code></a></td><td><code>Rearrange some misplaced docs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9044364cb8c375ca8c236809466a6c4e60809e01"><code>9044364</code></a></td><td><code>Have .check() not return anything</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/191b7ab43b2581c849ac340c2f5c3cab7868563e"><code>191b7ab</code></a></td><td><code>Refactor .check() and .is_fully_commutative() to be more semantically correct.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd94864b655ec2297e88b4d725c637add833333a"><code>dd94864</code></a></td><td><code>Add `_repr_` for parent class</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/42fb3ba13c74147b1b2944c50e84ac6833724771"><code>42fb3ba</code></a></td><td><code>Achieve 100% test coverage</code></td></tr></table>




---

archive/issue_comments_479521.json:
```json
{
    "body": "Changed commit from **[`f711d9a`](https://github.com/sagemath/sagetrac-mirror/commit/f711d9a0d45761d80271668868c737a5457f3190)** to **[`42fb3ba`](https://github.com/sagemath/sagetrac-mirror/commit/42fb3ba13c74147b1b2944c50e84ac6833724771)**",
    "created_at": "2020-07-29T11:29:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479521",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f711d9a`](https://github.com/sagemath/sagetrac-mirror/commit/f711d9a0d45761d80271668868c737a5457f3190)** to **[`42fb3ba`](https://github.com/sagemath/sagetrac-mirror/commit/42fb3ba13c74147b1b2944c50e84ac6833724771)**



---

archive/issue_comments_479522.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,7 +7,8 @@\n Basic usage for enumeration of FC elements in a Coxeter group. \n \n ```python\n-sage: FCA3 = FullyCommutativeElements(['A', 3])\n+sage: FCA3 = FullyCommutativeElements(['A', 3]); FCA3\n+Fully commutative elements in Coxeter system with Cartan type ['A', 3]\n sage: FCA3.category()\n Category of finite enumerated sets\n sage: FCA3.list()\n``````\n",
    "created_at": "2020-07-29T11:36:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479522",
    "user": "https://github.com/cemulate"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,7 +7,8 @@
 Basic usage for enumeration of FC elements in a Coxeter group. 
 
 ```python
-sage: FCA3 = FullyCommutativeElements(['A', 3])
+sage: FCA3 = FullyCommutativeElements(['A', 3]); FCA3
+Fully commutative elements in Coxeter system with Cartan type ['A', 3]
 sage: FCA3.category()
 Category of finite enumerated sets
 sage: FCA3.list()
``````




---

archive/issue_comments_479523.json:
```json
{
    "body": "Built documentation page",
    "created_at": "2020-07-29T11:59:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479523",
    "user": "https://github.com/cemulate"
}
```

Built documentation page



---

archive/issue_comments_479524.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nAttachment: **[FullyCommutativeElements.pdf.gz](https://github.com/sagemath/sage/files/ticket30243/FullyCommutativeElements.pdf.gz)**\n\nThe test for an element of a Coxeter group to be fully commutative should also be available for the elements of a Coxeter group (probably in the category of `CoxeterGroups`).\n\n`FullyCommutativeElements` should also be a `UniqueRepresentation`. So you will also need to implement\n\n```python\n@staticmethod\n    def __classcall_private__(cls, data):\n        if isinstance(data, CoxeterMatrix):\n            matrix = data\n        else:\n            try:\n                t = CartanType(data)\n            except (TypeError, ValueError):\n                raise ValueError('input must be a CoxeterMatrix or data describing a Cartan/Coxeter type')\n            matrix = t.coxeter_matrix()\n        return super(cls, FullyCommutativeElements).__classcall__(cls, matrix)\n\n    def __init__(self, matrix):\n        self._matrix = matrix\n        # Rest of the initialization\n```\nI would also avoid the big `try-except` block in the `__init__` to handle more cases more explicitly. (This will make it easier to maintain the code later on.) I think you should also see if the data can be passed to a `CoxeterType`, possibly first before `CartanType`.",
    "created_at": "2020-07-30T01:07:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479524",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:12" align="right">comment:12</div>

Attachment: **[FullyCommutativeElements.pdf.gz](https://github.com/sagemath/sage/files/ticket30243/FullyCommutativeElements.pdf.gz)**

The test for an element of a Coxeter group to be fully commutative should also be available for the elements of a Coxeter group (probably in the category of `CoxeterGroups`).

`FullyCommutativeElements` should also be a `UniqueRepresentation`. So you will also need to implement

```python
@staticmethod
    def __classcall_private__(cls, data):
        if isinstance(data, CoxeterMatrix):
            matrix = data
        else:
            try:
                t = CartanType(data)
            except (TypeError, ValueError):
                raise ValueError('input must be a CoxeterMatrix or data describing a Cartan/Coxeter type')
            matrix = t.coxeter_matrix()
        return super(cls, FullyCommutativeElements).__classcall__(cls, matrix)

    def __init__(self, matrix):
        self._matrix = matrix
        # Rest of the initialization
```
I would also avoid the big `try-except` block in the `__init__` to handle more cases more explicitly. (This will make it easier to maintain the code later on.) I think you should also see if the data can be passed to a `CoxeterType`, possibly first before `CartanType`.



---

archive/issue_comments_479525.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nActually, rather than the Coxeter matrix, it should have the Coxeter group as the input. That way it can immediately output the actual group elements (which can depend on your group's implementation) rather than converting from the reduced words. It just saves a little bit of time for the user, and I think that is more natural anyways.\n\nFinally, I would add a hook in the category of Coxeter groups of\n\n```python\ndef fully_commutative_elements(self):\n    from sage.combinat.fully_commutative_elements import FullyCommutativeElements\n    return FullyCommutativeElements(self)\n```\nThat way it is easy to access and more natural than having something in the global namespace (which I might even say should be removed).",
    "created_at": "2020-07-30T01:09:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479525",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:13" align="right">comment:13</div>

Actually, rather than the Coxeter matrix, it should have the Coxeter group as the input. That way it can immediately output the actual group elements (which can depend on your group's implementation) rather than converting from the reduced words. It just saves a little bit of time for the user, and I think that is more natural anyways.

Finally, I would add a hook in the category of Coxeter groups of

```python
def fully_commutative_elements(self):
    from sage.combinat.fully_commutative_elements import FullyCommutativeElements
    return FullyCommutativeElements(self)
```
That way it is easy to access and more natural than having something in the global namespace (which I might even say should be removed).



---

archive/issue_comments_479526.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI like the idea of exposing everything as `CoxeterGroup.fully_commutative_elements()`. And implementing UniqueRepresentation should be fine as well. I'll get this done shortly.\n\nThe reason we differentiated the element class from the elements of a `CoxeterGroup` in the first place is that we're treating all of our operations and manipulations on elements as pure combinatorics on reduced words; depending on the implementation, calling `.(from_)reduced_word()` all the time can be quite expensive. Furthermore, we *replace* methods on `CoxeterGroup` elements such as `has_descent` and co. to provide specialized criterion that work on fully commutative reduced words, and add various other methods as well. This is why we ended up inventing a lightweight element class that simply represents \"a canonical reduced word of a fully commutative element\". \n\nI agree it might be nice to be able to go seamlessly to an element of the ambient `CoxeterGroup` (if we're going to initialize with a `CoxeterGroup` as the \"core data\" instead of a matrix, which I like), but perhaps we could just have something like `.element()` that forgets the full commutivity and gives you a regular element of the `CoxeterGroup`?",
    "created_at": "2020-07-30T11:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479526",
    "user": "https://github.com/cemulate"
}
```

<div id="comment:14" align="right">comment:14</div>

I like the idea of exposing everything as `CoxeterGroup.fully_commutative_elements()`. And implementing UniqueRepresentation should be fine as well. I'll get this done shortly.

The reason we differentiated the element class from the elements of a `CoxeterGroup` in the first place is that we're treating all of our operations and manipulations on elements as pure combinatorics on reduced words; depending on the implementation, calling `.(from_)reduced_word()` all the time can be quite expensive. Furthermore, we *replace* methods on `CoxeterGroup` elements such as `has_descent` and co. to provide specialized criterion that work on fully commutative reduced words, and add various other methods as well. This is why we ended up inventing a lightweight element class that simply represents "a canonical reduced word of a fully commutative element". 

I agree it might be nice to be able to go seamlessly to an element of the ambient `CoxeterGroup` (if we're going to initialize with a `CoxeterGroup` as the "core data" instead of a matrix, which I like), but perhaps we could just have something like `.element()` that forgets the full commutivity and gives you a regular element of the `CoxeterGroup`?



---

archive/issue_comments_479527.json:
```json
{
    "body": "Changed commit from **[`42fb3ba`](https://github.com/sagemath/sagetrac-mirror/commit/42fb3ba13c74147b1b2944c50e84ac6833724771)** to **[`dfae271`](https://github.com/sagemath/sagetrac-mirror/commit/dfae2719f9e432fecd4a3e1bcc48347e184c8f82)**",
    "created_at": "2020-07-30T20:45:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479527",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`42fb3ba`](https://github.com/sagemath/sagetrac-mirror/commit/42fb3ba13c74147b1b2944c50e84ac6833724771)** to **[`dfae271`](https://github.com/sagemath/sagetrac-mirror/commit/dfae2719f9e432fecd4a3e1bcc48347e184c8f82)**



---

archive/issue_comments_479528.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da4d47d4ac7deb2fdf508ad880ff25b88665dc5c\"><code>da4d47d</code></a></td><td><code>Add .type() accessor to CoxeterType</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3d02fd38daf4e74991eb1beb1ede3c73291d45e\"><code>a3d02fd</code></a></td><td><code>Implement unique representation and redesign initialization a bit.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/403fca9e114f16274a60f15eed3de51becbd5476\"><code>403fca9</code></a></td><td><code>Remove FullyCommutativeElements from global namespace and expose through CoxeterGroup.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dfae2719f9e432fecd4a3e1bcc48347e184c8f82\"><code>dfae271</code></a></td><td><code>Fix tests to reflect new usage method.</code></td></tr></table>\n",
    "created_at": "2020-07-30T20:45:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479528",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da4d47d4ac7deb2fdf508ad880ff25b88665dc5c"><code>da4d47d</code></a></td><td><code>Add .type() accessor to CoxeterType</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3d02fd38daf4e74991eb1beb1ede3c73291d45e"><code>a3d02fd</code></a></td><td><code>Implement unique representation and redesign initialization a bit.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/403fca9e114f16274a60f15eed3de51becbd5476"><code>403fca9</code></a></td><td><code>Remove FullyCommutativeElements from global namespace and expose through CoxeterGroup.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dfae2719f9e432fecd4a3e1bcc48347e184c8f82"><code>dfae271</code></a></td><td><code>Fix tests to reflect new usage method.</code></td></tr></table>




---

archive/issue_comments_479529.json:
```json
{
    "body": "Changed commit from **[`dfae271`](https://github.com/sagemath/sagetrac-mirror/commit/dfae2719f9e432fecd4a3e1bcc48347e184c8f82)** to **[`b1e3db5`](https://github.com/sagemath/sagetrac-mirror/commit/b1e3db538a332c1b8470d2176629e663b5e05ebb)**",
    "created_at": "2020-07-30T20:50:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479529",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dfae271`](https://github.com/sagemath/sagetrac-mirror/commit/dfae2719f9e432fecd4a3e1bcc48347e184c8f82)** to **[`b1e3db5`](https://github.com/sagemath/sagetrac-mirror/commit/b1e3db538a332c1b8470d2176629e663b5e05ebb)**



---

archive/issue_comments_479530.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1e3db538a332c1b8470d2176629e663b5e05ebb\"><code>b1e3db5</code></a></td><td><code>Add .group_element() method on fully commutative elements.</code></td></tr></table>\n",
    "created_at": "2020-07-30T20:50:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479530",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1e3db538a332c1b8470d2176629e663b5e05ebb"><code>b1e3db5</code></a></td><td><code>Add .group_element() method on fully commutative elements.</code></td></tr></table>




---

archive/issue_comments_479531.json:
```json
{
    "body": "Changed commit from **[`b1e3db5`](https://github.com/sagemath/sagetrac-mirror/commit/b1e3db538a332c1b8470d2176629e663b5e05ebb)** to **[`d4f53de`](https://github.com/sagemath/sagetrac-mirror/commit/d4f53de6ef04cdc572aacad4e8dcc8bcb4bedca9)**",
    "created_at": "2020-07-30T21:54:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479531",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b1e3db5`](https://github.com/sagemath/sagetrac-mirror/commit/b1e3db538a332c1b8470d2176629e663b5e05ebb)** to **[`d4f53de`](https://github.com/sagemath/sagetrac-mirror/commit/d4f53de6ef04cdc572aacad4e8dcc8bcb4bedca9)**



---

archive/issue_comments_479532.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/552fa0c11b894520a01fcd7f24afacda565ecbcf\"><code>552fa0c</code></a></td><td><code>Remove superfluous accessors</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1319113ccacabe2e76320877b0c3e64d6d123f95\"><code>1319113</code></a></td><td><code>Typo in rank for FC-finite classification.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4f53de6ef04cdc572aacad4e8dcc8bcb4bedca9\"><code>d4f53de</code></a></td><td><code>Improve comments on category refinement.</code></td></tr></table>\n",
    "created_at": "2020-07-30T21:54:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479532",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/552fa0c11b894520a01fcd7f24afacda565ecbcf"><code>552fa0c</code></a></td><td><code>Remove superfluous accessors</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1319113ccacabe2e76320877b0c3e64d6d123f95"><code>1319113</code></a></td><td><code>Typo in rank for FC-finite classification.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4f53de6ef04cdc572aacad4e8dcc8bcb4bedca9"><code>d4f53de</code></a></td><td><code>Improve comments on category refinement.</code></td></tr></table>




---

archive/issue_comments_479533.json:
```json
{
    "body": "Changed commit from **[`d4f53de`](https://github.com/sagemath/sagetrac-mirror/commit/d4f53de6ef04cdc572aacad4e8dcc8bcb4bedca9)** to **[`5cbdca3`](https://github.com/sagemath/sagetrac-mirror/commit/5cbdca30bbbc372c29b5f310f95acb15dac4d17a)**",
    "created_at": "2020-07-30T21:57:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479533",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d4f53de`](https://github.com/sagemath/sagetrac-mirror/commit/d4f53de6ef04cdc572aacad4e8dcc8bcb4bedca9)** to **[`5cbdca3`](https://github.com/sagemath/sagetrac-mirror/commit/5cbdca30bbbc372c29b5f310f95acb15dac4d17a)**



---

archive/issue_comments_479534.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5cbdca30bbbc372c29b5f310f95acb15dac4d17a\"><code>5cbdca3</code></a></td><td><code>Improve unique representation test.</code></td></tr></table>\n",
    "created_at": "2020-07-30T21:57:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479534",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5cbdca30bbbc372c29b5f310f95acb15dac4d17a"><code>5cbdca3</code></a></td><td><code>Improve unique representation test.</code></td></tr></table>




---

archive/issue_comments_479535.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nAlright, we've taken care of most of your suggestions:\n\n* In implementing unique representation, we've gone ahead and moved to your idea of a `CoxeterGroup` being the \"core data\" that a `FullyCommutativeElements` is initialized from. In doing so, we've restructured the initialization and category refinement steps to be a little more straightforward. To do so we had to add a .type() accessor to CoxeterType in `combinat/root_system/coxeter_type.py`, which was missing; hopefully that's no big deal. With this change we are now able to use `CoxeterType` throughout and not mention `CartanType` at all.\n\n* We've removed `FullyCommutativeElements` from the global namespace; usage is now via `CoxeterGroup(...).fully_commutative_elements()`. All docs and tests have been changed to reflect this.\n\n* We've added a `.group_element()` to get the plain Coxeter group element from a `FullyCommutativeElement`. This is in the spirit of your earlier suggestion that we should be able to \"output the actual group element\", although maybe not the \"immediately\" part:  if w is an instance of `FullyCommutativeElement`, then w itself is not to be viewed as an element of a Coxeter group in the sense of `categories/coxeter_group.py`; as such, `ElementMethods` like `cover_reflections()` from `sage.categories.coxeter_groups` make sense for `w.group_element()` but not for `w`, while methods like `.cartier_foata_form()` or `.star_operation()` from `fully_commutative_elements.py` are defined for `w` but not for `w.group_element()`. The methods in `coxeter_groups.py` and `fully_commutative_elements.py` seem to overlap only in some code about descents (though `coset_representative` from the former and `coset_decomposition` from the latter are also related), so maybe it's fine to keep the two worlds somewhat separate? We are open to other schemes with more thorough integration. Please let us know what you think.",
    "created_at": "2020-07-30T22:49:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479535",
    "user": "https://github.com/cemulate"
}
```

<div id="comment:19" align="right">comment:19</div>

Alright, we've taken care of most of your suggestions:

* In implementing unique representation, we've gone ahead and moved to your idea of a `CoxeterGroup` being the "core data" that a `FullyCommutativeElements` is initialized from. In doing so, we've restructured the initialization and category refinement steps to be a little more straightforward. To do so we had to add a .type() accessor to CoxeterType in `combinat/root_system/coxeter_type.py`, which was missing; hopefully that's no big deal. With this change we are now able to use `CoxeterType` throughout and not mention `CartanType` at all.

* We've removed `FullyCommutativeElements` from the global namespace; usage is now via `CoxeterGroup(...).fully_commutative_elements()`. All docs and tests have been changed to reflect this.

* We've added a `.group_element()` to get the plain Coxeter group element from a `FullyCommutativeElement`. This is in the spirit of your earlier suggestion that we should be able to "output the actual group element", although maybe not the "immediately" part:  if w is an instance of `FullyCommutativeElement`, then w itself is not to be viewed as an element of a Coxeter group in the sense of `categories/coxeter_group.py`; as such, `ElementMethods` like `cover_reflections()` from `sage.categories.coxeter_groups` make sense for `w.group_element()` but not for `w`, while methods like `.cartier_foata_form()` or `.star_operation()` from `fully_commutative_elements.py` are defined for `w` but not for `w.group_element()`. The methods in `coxeter_groups.py` and `fully_commutative_elements.py` seem to overlap only in some code about descents (though `coset_representative` from the former and `coset_decomposition` from the latter are also related), so maybe it's fine to keep the two worlds somewhat separate? We are open to other schemes with more thorough integration. Please let us know what you think.



---

archive/issue_comments_479536.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nSorry for the delay in responding; last week was super busy for me.\n\nHmm.. I that is a fair point with wanting to abstract away the group and just consider reduced words themselves. I like this current implementation that takes the best of both words: the abstraction and the link with a specific implementation of the group.\n\n---\n\nSome additional changes:\n\nMinor point, but can you use the standard copyright for Sage:\n\n```\n# This program is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 2 of the License, or\n# (at your option) any later version.\n#                  https://www.gnu.org/licenses/\n# ****************************************************************************\n```\n\nThis is better in terms of the internal structure:\n\n```diff\n-class FullyCommutativeElements(Parent, UniqueRepresentation):\n+class FullyCommutativeElements(UniqueRepresentation, Parent):\n```\n\nThis check is not correct:\n\n```python\nif not ctype.is_affine() or (family == 'F' and rank == 5) or (family == 'E' and rank == 9):\n```\nThis says an indefinite type will have finitely many FC elements. This does not seem to match what is in the comment. I also don't like relying on `is_affine()` failing to check for indefinite type. That feels fragile.\n\nThe `__iter__` can be simplified a bit:\n\n```diff\n         # To make the iterator deterministic, use a dictionary rather than a\n         # set, for the keys are then ordered by default by Python 3.7+:\n         recent_words = {empty_word: True}\n         yield empty_word\n-        length = 1\n-        while True:\n+        while recent_words:\n             new_words = {}\n-            for w in recent_words.keys():\n+            for w in recent_words:\n                 for s in letters:\n                     if w.still_reduced_fc_after_prepending(s):\n                         sw = self.element_class(\n                             self, [s] + list(w), check=False)\n                         # \"Add\" sw to the \"set\"\n                         new_words[sw] = True\n-            if len(new_words) == 0:\n                 return\n-            for w in new_words.keys():\n+            for w in new_words:\n                 yield w\n             recent_words = new_words\n-            length += 1\n```\nIt might also be good to say in the docstring that it iterates by increasing length.\n\nIn `iterate_to_length`, I would remove the `assert length >= 0` since it doesn't match your docstring. Also\n\n```diff\n         INPUT:\n \n-        - ``length`` -- integer; maximum length of element to generate.\n+        - ``length`` -- integer; maximum length of element to generate\n```\n\nThe `.. PLOT::` is causing the docbuild to fail. I think you need to do this\n\n```diff\n         .. PLOT::\n+            :width: 400 px\n \n-            FC = FullyCommutativeElements(['B', 5])\n+            FC = CoxeterGroup(['B', 5]).fully_commutative_elements()\n             g = FC([3,2,4,3,1]).plot_heap()\n             sphinx_plot(g)\n```",
    "created_at": "2020-08-09T01:09:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479536",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:20" align="right">comment:20</div>

Sorry for the delay in responding; last week was super busy for me.

Hmm.. I that is a fair point with wanting to abstract away the group and just consider reduced words themselves. I like this current implementation that takes the best of both words: the abstraction and the link with a specific implementation of the group.

---

Some additional changes:

Minor point, but can you use the standard copyright for Sage:

```
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 2 of the License, or
# (at your option) any later version.
#                  https://www.gnu.org/licenses/
# ****************************************************************************
```

This is better in terms of the internal structure:

```diff
-class FullyCommutativeElements(Parent, UniqueRepresentation):
+class FullyCommutativeElements(UniqueRepresentation, Parent):
```

This check is not correct:

```python
if not ctype.is_affine() or (family == 'F' and rank == 5) or (family == 'E' and rank == 9):
```
This says an indefinite type will have finitely many FC elements. This does not seem to match what is in the comment. I also don't like relying on `is_affine()` failing to check for indefinite type. That feels fragile.

The `__iter__` can be simplified a bit:

```diff
         # To make the iterator deterministic, use a dictionary rather than a
         # set, for the keys are then ordered by default by Python 3.7+:
         recent_words = {empty_word: True}
         yield empty_word
-        length = 1
-        while True:
+        while recent_words:
             new_words = {}
-            for w in recent_words.keys():
+            for w in recent_words:
                 for s in letters:
                     if w.still_reduced_fc_after_prepending(s):
                         sw = self.element_class(
                             self, [s] + list(w), check=False)
                         # "Add" sw to the "set"
                         new_words[sw] = True
-            if len(new_words) == 0:
                 return
-            for w in new_words.keys():
+            for w in new_words:
                 yield w
             recent_words = new_words
-            length += 1
```
It might also be good to say in the docstring that it iterates by increasing length.

In `iterate_to_length`, I would remove the `assert length >= 0` since it doesn't match your docstring. Also

```diff
         INPUT:
 
-        - ``length`` -- integer; maximum length of element to generate.
+        - ``length`` -- integer; maximum length of element to generate
```

The `.. PLOT::` is causing the docbuild to fail. I think you need to do this

```diff
         .. PLOT::
+            :width: 400 px
 
-            FC = FullyCommutativeElements(['B', 5])
+            FC = CoxeterGroup(['B', 5]).fully_commutative_elements()
             g = FC([3,2,4,3,1]).plot_heap()
             sphinx_plot(g)
```



---

archive/issue_comments_479537.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0c46489b459f0da08c2a88dcee7be750227c427\"><code>d0c4648</code></a></td><td><code>Fix docs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a91e1ca17042e4c9fdbfaa7c54b4c1c876480cf3\"><code>a91e1ca</code></a></td><td><code>Clean up iterator</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a50966505c8dab8063b07aef349c9b7b856c09ce\"><code>a509665</code></a></td><td><code>Standardize class inheritance; remove length assertion.</code></td></tr></table>\n",
    "created_at": "2020-08-10T04:12:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479537",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0c46489b459f0da08c2a88dcee7be750227c427"><code>d0c4648</code></a></td><td><code>Fix docs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a91e1ca17042e4c9fdbfaa7c54b4c1c876480cf3"><code>a91e1ca</code></a></td><td><code>Clean up iterator</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a50966505c8dab8063b07aef349c9b7b856c09ce"><code>a509665</code></a></td><td><code>Standardize class inheritance; remove length assertion.</code></td></tr></table>




---

archive/issue_comments_479538.json:
```json
{
    "body": "Changed commit from **[`5cbdca3`](https://github.com/sagemath/sagetrac-mirror/commit/5cbdca30bbbc372c29b5f310f95acb15dac4d17a)** to **[`a509665`](https://github.com/sagemath/sagetrac-mirror/commit/a50966505c8dab8063b07aef349c9b7b856c09ce)**",
    "created_at": "2020-08-10T04:12:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479538",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5cbdca3`](https://github.com/sagemath/sagetrac-mirror/commit/5cbdca30bbbc372c29b5f310f95acb15dac4d17a)** to **[`a509665`](https://github.com/sagemath/sagetrac-mirror/commit/a50966505c8dab8063b07aef349c9b7b856c09ce)**



---

archive/issue_comments_479539.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nNo problem, thanks for the comments. I've taken care of all the issues you mentioned and  verified that the docs build successfully now.",
    "created_at": "2020-08-10T04:14:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479539",
    "user": "https://github.com/cemulate"
}
```

<div id="comment:22" align="right">comment:22</div>

No problem, thanks for the comments. I've taken care of all the issues you mentioned and  verified that the docs build successfully now.



---

archive/issue_comments_479540.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b174c03c6cccc39e46b316c132db286af78df461\"><code>b174c03</code></a></td><td><code>Patch up FC-finite/infinite detection.</code></td></tr></table>\n",
    "created_at": "2020-08-10T17:11:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479540",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b174c03c6cccc39e46b316c132db286af78df461"><code>b174c03</code></a></td><td><code>Patch up FC-finite/infinite detection.</code></td></tr></table>




---

archive/issue_comments_479541.json:
```json
{
    "body": "Changed commit from **[`a509665`](https://github.com/sagemath/sagetrac-mirror/commit/a50966505c8dab8063b07aef349c9b7b856c09ce)** to **[`b174c03`](https://github.com/sagemath/sagetrac-mirror/commit/b174c03c6cccc39e46b316c132db286af78df461)**",
    "created_at": "2020-08-10T17:11:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479541",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a509665`](https://github.com/sagemath/sagetrac-mirror/commit/a50966505c8dab8063b07aef349c9b7b856c09ce)** to **[`b174c03`](https://github.com/sagemath/sagetrac-mirror/commit/b174c03c6cccc39e46b316c132db286af78df461)**



---

archive/issue_comments_479542.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nWe had forgotten to address your comment about the FC-finite/infinite check, but we think it's more sound now. We're not entirely sure what you mean by \"indefinite type\", but now we do not mention affine at all, as it shouldn't be necessary.",
    "created_at": "2020-08-10T17:16:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479542",
    "user": "https://github.com/cemulate"
}
```

<div id="comment:24" align="right">comment:24</div>

We had forgotten to address your comment about the FC-finite/infinite check, but we think it's more sound now. We're not entirely sure what you mean by "indefinite type", but now we do not mention affine at all, as it shouldn't be necessary.



---

archive/issue_comments_479543.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nAn indefinite type is something that is not finite nor affine.\n\nHowever, there are still issues with reducible types:\n\n```\nsage: CT = CoxeterType('F4xA2')\nsage: CT.is_finite()\nTrue\nsage: CT.type()\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n...\n```\nAn `is_reducible` method is missing from `CoxeterType` as well, but the output of `type()` will be `'reducible'`.\n\nYou also forgot to fix the copyright statement.\n\nAlso, one docstring fix:\n\n```diff\n         def fully_commutative_elements(self):\n             r\"\"\"\n-            Return the combinatorial class of fully commutative elements in this\n-            Coxeter group. See\n-            :class:`~sage.combinat.fully_commutative_elements.FullyCommutativeElements`\n-            for details.\n+            Return the set of fully commutative elements in this Coxeter group.\n+\n+            .. SEEALSO::\n+\n+                :class:`~sage.combinat.fully_commutative_elements.FullyCommutativeElements`\n```",
    "created_at": "2020-08-11T01:00:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479543",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:25" align="right">comment:25</div>

An indefinite type is something that is not finite nor affine.

However, there are still issues with reducible types:

```
sage: CT = CoxeterType('F4xA2')
sage: CT.is_finite()
True
sage: CT.type()
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
...
```
An `is_reducible` method is missing from `CoxeterType` as well, but the output of `type()` will be `'reducible'`.

You also forgot to fix the copyright statement.

Also, one docstring fix:

```diff
         def fully_commutative_elements(self):
             r"""
-            Return the combinatorial class of fully commutative elements in this
-            Coxeter group. See
-            :class:`~sage.combinat.fully_commutative_elements.FullyCommutativeElements`
-            for details.
+            Return the set of fully commutative elements in this Coxeter group.
+
+            .. SEEALSO::
+
+                :class:`~sage.combinat.fully_commutative_elements.FullyCommutativeElements`
```



---

archive/issue_comments_479544.json:
```json
{
    "body": "Changed commit from **[`b174c03`](https://github.com/sagemath/sagetrac-mirror/commit/b174c03c6cccc39e46b316c132db286af78df461)** to **[`64f22b2`](https://github.com/sagemath/sagetrac-mirror/commit/64f22b2cff0e12dde96e35a209b6ca13b197997b)**",
    "created_at": "2020-08-11T02:09:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479544",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b174c03`](https://github.com/sagemath/sagetrac-mirror/commit/b174c03c6cccc39e46b316c132db286af78df461)** to **[`64f22b2`](https://github.com/sagemath/sagetrac-mirror/commit/64f22b2cff0e12dde96e35a209b6ca13b197997b)**



---

archive/issue_comments_479545.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fee70cbb26b64fa9181e3baced0c628dc63a8971\"><code>fee70cb</code></a></td><td><code>Fix docs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/64f22b2cff0e12dde96e35a209b6ca13b197997b\"><code>64f22b2</code></a></td><td><code>Use standard Sage copyright</code></td></tr></table>\n",
    "created_at": "2020-08-11T02:09:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479545",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fee70cbb26b64fa9181e3baced0c628dc63a8971"><code>fee70cb</code></a></td><td><code>Fix docs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/64f22b2cff0e12dde96e35a209b6ca13b197997b"><code>64f22b2</code></a></td><td><code>Use standard Sage copyright</code></td></tr></table>




---

archive/issue_comments_479546.json:
```json
{
    "body": "Changed commit from **[`64f22b2`](https://github.com/sagemath/sagetrac-mirror/commit/64f22b2cff0e12dde96e35a209b6ca13b197997b)** to **[`b974c6e`](https://github.com/sagemath/sagetrac-mirror/commit/b974c6ebdabf601a5e1c57cfc6eed1497489875f)**",
    "created_at": "2020-08-11T10:17:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479546",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`64f22b2`](https://github.com/sagemath/sagetrac-mirror/commit/64f22b2cff0e12dde96e35a209b6ca13b197997b)** to **[`b974c6e`](https://github.com/sagemath/sagetrac-mirror/commit/b974c6ebdabf601a5e1c57cfc6eed1497489875f)**



---

archive/issue_comments_479547.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b974c6ebdabf601a5e1c57cfc6eed1497489875f\"><code>b974c6e</code></a></td><td><code>Redesign FC-finite/infinite detection</code></td></tr></table>\n",
    "created_at": "2020-08-11T10:17:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479547",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b974c6ebdabf601a5e1c57cfc6eed1497489875f"><code>b974c6e</code></a></td><td><code>Redesign FC-finite/infinite detection</code></td></tr></table>




---

archive/issue_comments_479548.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI've taken another stab at the category refinement step. I believe now it correctly refines to `.Finite()` or `Infinite()` in the finite or affine case, while not bothering / doing nothing in all remaining cases, which includes indefinite types and reducible types.\n\nI hope I understood your previous comment correctly; the only issue I took away from that is that we may incorrectly report the finite/infinite status of reducible or indefinite types. I was able to construct the FC elements for various product types and manipulate them just fine without any exceptions being thrown (the exception in your example session does not happen for me, as the addition of `CoxeterType.type()` resolves that).",
    "created_at": "2020-08-11T10:23:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479548",
    "user": "https://github.com/cemulate"
}
```

<div id="comment:28" align="right">comment:28</div>

I've taken another stab at the category refinement step. I believe now it correctly refines to `.Finite()` or `Infinite()` in the finite or affine case, while not bothering / doing nothing in all remaining cases, which includes indefinite types and reducible types.

I hope I understood your previous comment correctly; the only issue I took away from that is that we may incorrectly report the finite/infinite status of reducible or indefinite types. I was able to construct the FC elements for various product types and manipulate them just fine without any exceptions being thrown (the exception in your example session does not happen for me, as the addition of `CoxeterType.type()` resolves that).



---

archive/issue_comments_479549.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI don't see why you cannot handle reducible types. I believe the FC elements in a reducible type is just the product of each of the FC elements in each irreducible component. So a reducible type is finite if and only if all of its irreducible components are finite. So how I would do it would be like this:\n\n```python\nis_finite = True\nif ctype.is_reducible():\n    ctype = ctype.component_types()\nelse:\n    ctype = [ctype]\nfor ct in ctype:\n    if not is_a_finite_FC_type(ct):\n        is_finite = False\n        break\nif is_finite:\n    category = category.Finite()\nelse:\n    category = category.Infinite()\n```\nYou would need to add a few more little features to `CoxeterType` that I should have already added (but didn't think about as I didn't need it for my application at that time). However, they are all basically just redirects.",
    "created_at": "2020-08-11T23:00:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479549",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:29" align="right">comment:29</div>

I don't see why you cannot handle reducible types. I believe the FC elements in a reducible type is just the product of each of the FC elements in each irreducible component. So a reducible type is finite if and only if all of its irreducible components are finite. So how I would do it would be like this:

```python
is_finite = True
if ctype.is_reducible():
    ctype = ctype.component_types()
else:
    ctype = [ctype]
for ct in ctype:
    if not is_a_finite_FC_type(ct):
        is_finite = False
        break
if is_finite:
    category = category.Finite()
else:
    category = category.Infinite()
```
You would need to add a few more little features to `CoxeterType` that I should have already added (but didn't think about as I didn't need it for my application at that time). However, they are all basically just redirects.



---

archive/issue_comments_479550.json:
```json
{
    "body": "Changed commit from **[`b974c6e`](https://github.com/sagemath/sagetrac-mirror/commit/b974c6ebdabf601a5e1c57cfc6eed1497489875f)** to **[`46e732a`](https://github.com/sagemath/sagetrac-mirror/commit/46e732a9ad77f7275cbf857616091a7bfcc4a37e)**",
    "created_at": "2020-08-12T01:27:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479550",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b974c6e`](https://github.com/sagemath/sagetrac-mirror/commit/b974c6ebdabf601a5e1c57cfc6eed1497489875f)** to **[`46e732a`](https://github.com/sagemath/sagetrac-mirror/commit/46e732a9ad77f7275cbf857616091a7bfcc4a37e)**



---

archive/issue_comments_479551.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0bd79113ab7bd6d0095761d2c08220511eee94b7\"><code>0bd7911</code></a></td><td><code>Add more methods to CoxeterType</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46e732a9ad77f7275cbf857616091a7bfcc4a37e\"><code>46e732a</code></a></td><td><code>Redesign FC-finite/infinite detection.</code></td></tr></table>\n",
    "created_at": "2020-08-12T01:27:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479551",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0bd79113ab7bd6d0095761d2c08220511eee94b7"><code>0bd7911</code></a></td><td><code>Add more methods to CoxeterType</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46e732a9ad77f7275cbf857616091a7bfcc4a37e"><code>46e732a</code></a></td><td><code>Redesign FC-finite/infinite detection.</code></td></tr></table>




---

archive/issue_comments_479552.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nAh, I see your point; agreed.\n\nI've redone it again, this time I think it's more straightforward. I was also able to do away with the try-catch block, as `CoxeterGroup.coxeter_type()` will be a `CoxeterMatrix` (which inherits from `CoxeterType`) in the indefinite case, and a `CoxeterType` when it is able to be detected as such. I believe this is a sound approach but let me know if I've made any faulty assumptions.",
    "created_at": "2020-08-12T01:32:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479552",
    "user": "https://github.com/cemulate"
}
```

<div id="comment:31" align="right">comment:31</div>

Ah, I see your point; agreed.

I've redone it again, this time I think it's more straightforward. I was also able to do away with the try-catch block, as `CoxeterGroup.coxeter_type()` will be a `CoxeterMatrix` (which inherits from `CoxeterType`) in the indefinite case, and a `CoxeterType` when it is able to be detected as such. I believe this is a sound approach but let me know if I've made any faulty assumptions.



---

archive/issue_comments_479553.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nThank you, it is looking a lot better. Now one last bit is you can simplify the checking for the infinite case by making it a positive statement:\n\n```python\nif (not ctype.is_finite() and\n    not ((family == 'F' and rank == 5) or (family == 'E' and rank == 9))):\n    is_finite = False\n    break\n```\nIMO, this makes the code easier to read.",
    "created_at": "2020-08-12T02:17:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479553",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:32" align="right">comment:32</div>

Thank you, it is looking a lot better. Now one last bit is you can simplify the checking for the infinite case by making it a positive statement:

```python
if (not ctype.is_finite() and
    not ((family == 'F' and rank == 5) or (family == 'E' and rank == 9))):
    is_finite = False
    break
```
IMO, this makes the code easier to read.



---

archive/issue_comments_479554.json:
```json
{
    "body": "Changed commit from **[`46e732a`](https://github.com/sagemath/sagetrac-mirror/commit/46e732a9ad77f7275cbf857616091a7bfcc4a37e)** to **[`8263261`](https://github.com/sagemath/sagetrac-mirror/commit/8263261b82f6c436ccf09fe0ba0d936a9aa31c50)**",
    "created_at": "2020-08-12T08:11:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479554",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`46e732a`](https://github.com/sagemath/sagetrac-mirror/commit/46e732a9ad77f7275cbf857616091a7bfcc4a37e)** to **[`8263261`](https://github.com/sagemath/sagetrac-mirror/commit/8263261b82f6c436ccf09fe0ba0d936a9aa31c50)**



---

archive/issue_comments_479555.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2bd2cb6dbd06103619e862998c0d5d06ebd9296c\"><code>2bd2cb6</code></a></td><td><code>Make FC-finite/infinite detection more straightforward.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8263261b82f6c436ccf09fe0ba0d936a9aa31c50\"><code>8263261</code></a></td><td><code>Add tests for cardinality detection.</code></td></tr></table>\n",
    "created_at": "2020-08-12T08:11:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479555",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2bd2cb6dbd06103619e862998c0d5d06ebd9296c"><code>2bd2cb6</code></a></td><td><code>Make FC-finite/infinite detection more straightforward.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8263261b82f6c436ccf09fe0ba0d936a9aa31c50"><code>8263261</code></a></td><td><code>Add tests for cardinality detection.</code></td></tr></table>




---

archive/issue_comments_479556.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd642fe4e334d98dba1c8ea37cf2e9802add78f4\"><code>dd642fe</code></a></td><td><code>Remove extra comment.</code></td></tr></table>\n",
    "created_at": "2020-08-12T08:12:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479556",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd642fe4e334d98dba1c8ea37cf2e9802add78f4"><code>dd642fe</code></a></td><td><code>Remove extra comment.</code></td></tr></table>




---

archive/issue_comments_479557.json:
```json
{
    "body": "Changed commit from **[`8263261`](https://github.com/sagemath/sagetrac-mirror/commit/8263261b82f6c436ccf09fe0ba0d936a9aa31c50)** to **[`dd642fe`](https://github.com/sagemath/sagetrac-mirror/commit/dd642fe4e334d98dba1c8ea37cf2e9802add78f4)**",
    "created_at": "2020-08-12T08:12:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479557",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8263261`](https://github.com/sagemath/sagetrac-mirror/commit/8263261b82f6c436ccf09fe0ba0d936a9aa31c50)** to **[`dd642fe`](https://github.com/sagemath/sagetrac-mirror/commit/dd642fe4e334d98dba1c8ea37cf2e9802add78f4)**



---

archive/issue_comments_479558.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nOK, I've made it more straightforward and added some tests for the cardinality detection as well.",
    "created_at": "2020-08-12T08:12:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479558",
    "user": "https://github.com/cemulate"
}
```

<div id="comment:35" align="right">comment:35</div>

OK, I've made it more straightforward and added some tests for the cardinality detection as well.



---

archive/issue_comments_479559.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nThank you. The finite detection looks great now. We are almost there.\n\nI would just simply have `normalize = cartier_foata_form` rather than an explicit redirect. This becomes moot, but why is `normalize` even returning something when the `cartier_foata_form` returns nothing? Likewise moot, but you don't need to explicitly state the redirects.\n\nI would hide `still_reduced_fc_after_prepending` by renaming it `_still_reduced_fc_after_prepending` as the user doesn't really need that method.\n\nInstead of `\\mathbb{N}`, you can use `\\NN`, which is better for standardization within Sage. (This applies to anything similar, such at `\\ZZ` and `\\QQ`.)\n\nRemove `OPTIONAL ARGUMENTS:`; just include them in the `INPUT:` block. Also, input items should not end with a period/full-stop. Additionally, please format as <code>\\`\\`'left'\\`\\`</code>.\n\nYou probably want this:\n\n```diff\n             (3) `t` is left descent of the word `u_3`  obtained by\n             removing the leftmost `s` from `u_2`;\n+\n             ...\n+\n             (m-1) the appropriate element in `\\{s, t\\}` is a left descent\n             of the word `u_{m-1}` obtained by removing the leftmost letter\n             required to be a descent in Condition (m-2) from `u_{m-2}`.\n```\n\nI think this is much more understandable on 1 line (and therefore worth breaking the 80 char/line guideline):\n\n```diff\n-            new_string = [other] + \\\n-                cur_string if side == 'left' else cur_string + [other]\n+            new_string = [other] + cur_string if side == 'left' else cur_string + [other]\n```\n\nIn the `FullyCommutativeElements.__init__`, I would make the doctests:\n\n```python\n    def __init__(self, coxeter_group):\n        r\"\"\"\n        Initialize ``self``.\n\n        EXAMPLES::\n\n            sage: from sage.combinat.fully_commutative_elements import FullyCommutativeElements\n            sage: FC = FullyCommutativeElements(CoxeterGroup(['H', 4]))\n            sage: TestSuite(FC).run()\n        \"\"\"\n```\n\n{{{#diff\n             sage: list(FCAffineA2.iterate_to_length(4))\n-            [[], [0], [1], [2], [1, 0], [2, 0], [0, 1], [2, 1], [0, 2], [1,\n-            2], [2, 1, 0], [1, 2, 0], [2, 0, 1], [0, 2, 1], [1, 0, 2], [0, 1,\n-            2], [0, 2, 1, 0], [0, 1, 2, 0], [1, 2, 0, 1], [1, 0, 2, 1], [2, 1,\n-            0, 2], [2, 0, 1, 2]]\n+            [[], [0], [1], [2], [1, 0], [2, 0], [0, 1], [2, 1], [0, 2],\n+             [1, 2], [2, 1, 0], [1, 2, 0], [2, 0, 1], [0, 2, 1], [1, 0, 2],\n+             [0, 1, 2], [0, 2, 1, 0], [0, 1, 2, 0], [1, 2, 0, 1],\n+             [1, 0, 2, 1], [2, 1, 0, 2], [2, 0, 1, 2]]\n}}}",
    "created_at": "2020-08-14T05:55:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479559",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:36" align="right">comment:36</div>

Thank you. The finite detection looks great now. We are almost there.

I would just simply have `normalize = cartier_foata_form` rather than an explicit redirect. This becomes moot, but why is `normalize` even returning something when the `cartier_foata_form` returns nothing? Likewise moot, but you don't need to explicitly state the redirects.

I would hide `still_reduced_fc_after_prepending` by renaming it `_still_reduced_fc_after_prepending` as the user doesn't really need that method.

Instead of `\mathbb{N}`, you can use `\NN`, which is better for standardization within Sage. (This applies to anything similar, such at `\ZZ` and `\QQ`.)

Remove `OPTIONAL ARGUMENTS:`; just include them in the `INPUT:` block. Also, input items should not end with a period/full-stop. Additionally, please format as <code>\`\`'left'\`\`</code>.

You probably want this:

```diff
             (3) `t` is left descent of the word `u_3`  obtained by
             removing the leftmost `s` from `u_2`;
+
             ...
+
             (m-1) the appropriate element in `\{s, t\}` is a left descent
             of the word `u_{m-1}` obtained by removing the leftmost letter
             required to be a descent in Condition (m-2) from `u_{m-2}`.
```

I think this is much more understandable on 1 line (and therefore worth breaking the 80 char/line guideline):

```diff
-            new_string = [other] + \
-                cur_string if side == 'left' else cur_string + [other]
+            new_string = [other] + cur_string if side == 'left' else cur_string + [other]
```

In the `FullyCommutativeElements.__init__`, I would make the doctests:

```python
    def __init__(self, coxeter_group):
        r"""
        Initialize ``self``.

        EXAMPLES::

            sage: from sage.combinat.fully_commutative_elements import FullyCommutativeElements
            sage: FC = FullyCommutativeElements(CoxeterGroup(['H', 4]))
            sage: TestSuite(FC).run()
        """
```

{{{#diff
             sage: list(FCAffineA2.iterate_to_length(4))
-            [[], [0], [1], [2], [1, 0], [2, 0], [0, 1], [2, 1], [0, 2], [1,
-            2], [2, 1, 0], [1, 2, 0], [2, 0, 1], [0, 2, 1], [1, 0, 2], [0, 1,
-            2], [0, 2, 1, 0], [0, 1, 2, 0], [1, 2, 0, 1], [1, 0, 2, 1], [2, 1,
-            0, 2], [2, 0, 1, 2]]
+            [[], [0], [1], [2], [1, 0], [2, 0], [0, 1], [2, 1], [0, 2],
+             [1, 2], [2, 1, 0], [1, 2, 0], [2, 0, 1], [0, 2, 1], [1, 0, 2],
+             [0, 1, 2], [0, 2, 1, 0], [0, 1, 2, 0], [1, 2, 0, 1],
+             [1, 0, 2, 1], [2, 1, 0, 2], [2, 0, 1, 2]]
}}}



---

archive/issue_comments_479560.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6e00aa3c26a14fbad2b953197e9b9077436b7ee\"><code>a6e00aa</code></a></td><td><code>Standardize TeX in docstrings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1b56af29eadeaabb5d19369ad4e02cdbb34319d\"><code>a1b56af</code></a></td><td><code>Make still_reduced_fc_after_prepending private.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4b00b6777dd9d7058cad45a50e81691bfffe21f\"><code>d4b00b6</code></a></td><td><code>Clean up docstrings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84c3b00c26417678b65445c598f7c81109697618\"><code>84c3b00</code></a></td><td><code>Remove periods from input items in docstrings.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f37586cfc8c74bbd4c9166c7ce446ad3032d542\"><code>4f37586</code></a></td><td><code>Don't break lines in ternary expressions.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc2c7dbee7d2f24a36cfadb632ced82d375abc14\"><code>bc2c7db</code></a></td><td><code>Use TestSuite for `__init__` doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/34e3d022bd7b341256d6072cdb1ed0dc35366685\"><code>34e3d02</code></a></td><td><code>Clean up formatting on some long-output doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df500f4c2b5b1797cc4215dcd84d182f07f73c6e\"><code>df500f4</code></a></td><td><code>More string literals that should be in code delimiters.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89705b006cf8a6e9ae3ee3d95fdca63c7bd17b97\"><code>89705b0</code></a></td><td><code>Eliminate `cartier_foata_form` and just use `normalize`, instead of redirecting.</code></td></tr></table>\n",
    "created_at": "2020-08-14T07:42:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479560",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6e00aa3c26a14fbad2b953197e9b9077436b7ee"><code>a6e00aa</code></a></td><td><code>Standardize TeX in docstrings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1b56af29eadeaabb5d19369ad4e02cdbb34319d"><code>a1b56af</code></a></td><td><code>Make still_reduced_fc_after_prepending private.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4b00b6777dd9d7058cad45a50e81691bfffe21f"><code>d4b00b6</code></a></td><td><code>Clean up docstrings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84c3b00c26417678b65445c598f7c81109697618"><code>84c3b00</code></a></td><td><code>Remove periods from input items in docstrings.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f37586cfc8c74bbd4c9166c7ce446ad3032d542"><code>4f37586</code></a></td><td><code>Don't break lines in ternary expressions.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc2c7dbee7d2f24a36cfadb632ced82d375abc14"><code>bc2c7db</code></a></td><td><code>Use TestSuite for `__init__` doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/34e3d022bd7b341256d6072cdb1ed0dc35366685"><code>34e3d02</code></a></td><td><code>Clean up formatting on some long-output doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df500f4c2b5b1797cc4215dcd84d182f07f73c6e"><code>df500f4</code></a></td><td><code>More string literals that should be in code delimiters.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89705b006cf8a6e9ae3ee3d95fdca63c7bd17b97"><code>89705b0</code></a></td><td><code>Eliminate `cartier_foata_form` and just use `normalize`, instead of redirecting.</code></td></tr></table>




---

archive/issue_comments_479561.json:
```json
{
    "body": "Changed commit from **[`dd642fe`](https://github.com/sagemath/sagetrac-mirror/commit/dd642fe4e334d98dba1c8ea37cf2e9802add78f4)** to **[`89705b0`](https://github.com/sagemath/sagetrac-mirror/commit/89705b006cf8a6e9ae3ee3d95fdca63c7bd17b97)**",
    "created_at": "2020-08-14T07:42:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479561",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dd642fe`](https://github.com/sagemath/sagetrac-mirror/commit/dd642fe4e334d98dba1c8ea37cf2e9802add78f4)** to **[`89705b0`](https://github.com/sagemath/sagetrac-mirror/commit/89705b006cf8a6e9ae3ee3d95fdca63c7bd17b97)**



---

archive/issue_comments_479562.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nAlright, I believe I've addressed all your concerns. I did take care to fix other instances that were similar to the cases you pointed out when possible, and verified the docs build and look OK.\n\nPer the first suggestion, I eliminated `cartier_foata_form` and simply kept `normalize`; I think we were concerned that \"normalize\" isn't very descriptive, but given that the docstring says exactly how we are normalizing, I don't think it's a problem.",
    "created_at": "2020-08-14T07:45:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479562",
    "user": "https://github.com/cemulate"
}
```

<div id="comment:38" align="right">comment:38</div>

Alright, I believe I've addressed all your concerns. I did take care to fix other instances that were similar to the cases you pointed out when possible, and verified the docs build and look OK.

Per the first suggestion, I eliminated `cartier_foata_form` and simply kept `normalize`; I think we were concerned that "normalize" isn't very descriptive, but given that the docstring says exactly how we are normalizing, I don't think it's a problem.



---

archive/issue_comments_479563.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nThank you. Last tidbits:\n\nThe docstring of `normalize` is not correct because you are not returning anything. I would say\n\n```\nMutate ``self`` into Cartier-Foata normal form.\n```\n(the single hyphen is because this doesn't convert it to latex, sadly).\n\nI missed this when reading the docstring, but in `coset_decomposition`, I would change `l` to `\\ell` so there is no possible confusion with `1` or `I` (plus IMO, the latex version is prettier).",
    "created_at": "2020-08-14T08:07:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479563",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:39" align="right">comment:39</div>

Thank you. Last tidbits:

The docstring of `normalize` is not correct because you are not returning anything. I would say

```
Mutate ``self`` into Cartier-Foata normal form.
```
(the single hyphen is because this doesn't convert it to latex, sadly).

I missed this when reading the docstring, but in `coset_decomposition`, I would change `l` to `\ell` so there is no possible confusion with `1` or `I` (plus IMO, the latex version is prettier).



---

archive/issue_comments_479564.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d3a953a8cc268bf22dbd2eff18dfd8afce8ffa4\"><code>5d3a953</code></a></td><td><code>More docstring tweaks</code></td></tr></table>\n",
    "created_at": "2020-08-14T08:29:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479564",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d3a953a8cc268bf22dbd2eff18dfd8afce8ffa4"><code>5d3a953</code></a></td><td><code>More docstring tweaks</code></td></tr></table>




---

archive/issue_comments_479565.json:
```json
{
    "body": "Changed commit from **[`89705b0`](https://github.com/sagemath/sagetrac-mirror/commit/89705b006cf8a6e9ae3ee3d95fdca63c7bd17b97)** to **[`5d3a953`](https://github.com/sagemath/sagetrac-mirror/commit/5d3a953a8cc268bf22dbd2eff18dfd8afce8ffa4)**",
    "created_at": "2020-08-14T08:29:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479565",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`89705b0`](https://github.com/sagemath/sagetrac-mirror/commit/89705b006cf8a6e9ae3ee3d95fdca63c7bd17b97)** to **[`5d3a953`](https://github.com/sagemath/sagetrac-mirror/commit/5d3a953a8cc268bf22dbd2eff18dfd8afce8ffa4)**



---

archive/issue_comments_479566.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI agree; taken care of.",
    "created_at": "2020-08-14T08:29:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479566",
    "user": "https://github.com/cemulate"
}
```

<div id="comment:41" align="right">comment:41</div>

I agree; taken care of.



---

archive/issue_events_418670.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-08-14T08:52:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30243#event-418670"
}
```



---

archive/issue_events_418671.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-08-14T08:52:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30243#event-418671"
}
```



---

archive/issue_comments_479567.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2020-08-14T08:52:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479567",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_479568.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nThank you.",
    "created_at": "2020-08-14T08:52:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479568",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:42" align="right">comment:42</div>

Thank you.



---

archive/issue_comments_479569.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nNo problem, thanks a lot for your time and effort; we appreciate the feedback! This will help inform us on code style and Sage convention for any future submissions.",
    "created_at": "2020-08-14T09:01:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479569",
    "user": "https://github.com/cemulate"
}
```

<div id="comment:43" align="right">comment:43</div>

No problem, thanks a lot for your time and effort; we appreciate the feedback! This will help inform us on code style and Sage convention for any future submissions.



---

archive/issue_comments_479570.json:
```json
{
    "body": "Changed commit from **[`5d3a953`](https://github.com/sagemath/sagetrac-mirror/commit/5d3a953a8cc268bf22dbd2eff18dfd8afce8ffa4)** to **[`56d093f`](https://github.com/sagemath/sagetrac-mirror/commit/56d093fc63ec8117bf9fdbd1faf6a5fe979b6f7f)**",
    "created_at": "2020-08-20T02:58:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479570",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5d3a953`](https://github.com/sagemath/sagetrac-mirror/commit/5d3a953a8cc268bf22dbd2eff18dfd8afce8ffa4)** to **[`56d093f`](https://github.com/sagemath/sagetrac-mirror/commit/56d093fc63ec8117bf9fdbd1faf6a5fe979b6f7f)**



---

archive/issue_events_418672.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2020-08-20T02:58:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30243#event-418672"
}
```



---

archive/issue_events_418673.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2020-08-20T02:58:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30243#event-418673"
}
```



---

archive/issue_comments_479571.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56d093fc63ec8117bf9fdbd1faf6a5fe979b6f7f\"><code>56d093f</code></a></td><td><code>Fix pyflakes failure</code></td></tr></table>\n",
    "created_at": "2020-08-20T02:58:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479571",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56d093fc63ec8117bf9fdbd1faf6a5fe979b6f7f"><code>56d093f</code></a></td><td><code>Fix pyflakes failure</code></td></tr></table>




---

archive/issue_comments_479572.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nI checked the test failures and fixed a pyflakes error.",
    "created_at": "2020-08-20T03:00:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479572",
    "user": "https://github.com/cemulate"
}
```

<div id="comment:45" align="right">comment:45</div>

I checked the test failures and fixed a pyflakes error.



---

archive/issue_events_418674.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-08-20T23:02:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30243#event-418674"
}
```



---

archive/issue_events_418675.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-08-20T23:02:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30243#event-418675"
}
```



---

archive/issue_events_418676.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-26T21:15:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30243#event-418676"
}
```



---

archive/issue_events_418677.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "433d678113054fde926ff1638375949a3c597964",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-08-26T21:15:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30243#event-418677"
}
```



---

archive/issue_comments_479573.json:
```json
{
    "body": "Changed branch from **[u/gh-cemulate/fully_commutatve_elements](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-cemulate/fully_commutatve_elements)** to **[`56d093f`](https://github.com/sagemath/sagetrac-mirror/commit/56d093fc63ec8117bf9fdbd1faf6a5fe979b6f7f)**",
    "created_at": "2020-08-26T21:15:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479573",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gh-cemulate/fully_commutatve_elements](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-cemulate/fully_commutatve_elements)** to **[`56d093f`](https://github.com/sagemath/sagetrac-mirror/commit/56d093fc63ec8117bf9fdbd1faf6a5fe979b6f7f)**



---

archive/issue_comments_479574.json:
```json
{
    "body": "Changed commit from **[`56d093f`](https://github.com/sagemath/sagetrac-mirror/commit/56d093fc63ec8117bf9fdbd1faf6a5fe979b6f7f)** to none",
    "created_at": "2023-01-14T16:15:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30243#issuecomment-479574",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`56d093f`](https://github.com/sagemath/sagetrac-mirror/commit/56d093fc63ec8117bf9fdbd1faf6a5fe979b6f7f)** to none
