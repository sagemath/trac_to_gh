# Issue 30999: expose method hyperbolicity in graphs

archive/issues_030762.json:
```json
{
    "body": "The notion of hyperbolicity in graphs is a tree likeness parameter that measures how far is the distance metric of a graph from a tree metric. This parameter was added in #13808 but not exposed in graphs.\nWith this ticket, we can now do:\n\n```\nsage: G = graphs.PetersenGraph()\nsage: G.hyperbolicity()\n(1/2, [6, 7, 8, 9], 1/2)\n```\n\nCC:  @jfraymond\n\nBranch/Commit: 87290c384a992266ef8a04724c3d03e64104a91f\n\nReviewer: Jean-Florent Raymond\n\nAuthor: David Coudert\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30999\n\n",
    "closed_at": "2022-03-03T22:19:19Z",
    "created_at": "2020-12-03T19:34:48Z",
    "labels": [
        "component: graph theory",
        "trivial"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "expose method hyperbolicity in graphs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30999",
    "user": "https://github.com/dcoudert"
}
```
The notion of hyperbolicity in graphs is a tree likeness parameter that measures how far is the distance metric of a graph from a tree metric. This parameter was added in #13808 but not exposed in graphs.
With this ticket, we can now do:

```
sage: G = graphs.PetersenGraph()
sage: G.hyperbolicity()
(1/2, [6, 7, 8, 9], 1/2)
```

CC:  @jfraymond

Branch/Commit: 87290c384a992266ef8a04724c3d03e64104a91f

Reviewer: Jean-Florent Raymond

Author: David Coudert

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30999





---

archive/issue_comments_614971.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2020-12-03T19:35:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614971",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_614972.json:
```json
{
    "body": "Changing commit from \"\" to \"8cf3ca64c07b53c98c1c650cccea179fd7abd94f\"",
    "created_at": "2020-12-03T19:35:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614972",
    "user": "https://github.com/dcoudert"
}
```

Changing commit from "" to "8cf3ca64c07b53c98c1c650cccea179fd7abd94f"



---

archive/issue_comments_614973.json:
```json
{
    "body": "Changing branch from \"\" to \"public/graphs/30999_hyperbolicity\"",
    "created_at": "2020-12-03T19:35:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614973",
    "user": "https://github.com/dcoudert"
}
```

Changing branch from "" to "public/graphs/30999_hyperbolicity"



---

archive/issue_comments_614974.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-12-03T19:35:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614974",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_614975.json:
```json
{
    "body": "<a id='comment:2'></a>apart from the pyflakes of mcqd, we have green bot.",
    "created_at": "2020-12-04T23:12:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614975",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:2'></a>apart from the pyflakes of mcqd, we have green bot.



---

archive/issue_comments_614976.json:
```json
{
    "body": "<a id='comment:3'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-15T22:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614976",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_080949.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30999#event-80949"
}
```



---

archive/issue_comments_614977.json:
```json
{
    "body": "<a id='comment:4'></a>Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614977",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_080950.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30999#event-80950"
}
```



---

archive/issue_events_080951.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30999#event-80951"
}
```



---

archive/issue_comments_614978.json:
```json
{
    "body": "<a id='comment:5'></a>Hello! I got the following error:\n\n```python\nsage: g = graphs.PetersenGraph()                                                                                                          \nsage: g.hyperbolicity()                                                                                                                   \n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-2-b74d57c08f95> in <module>\n----> 1 g.hyperbolicity()\n\n~/sage/local/lib/python3.9/site-packages/sage/graphs/hyperbolicity.pyx in sage.graphs.hyperbolicity.hyperbolicity (build/cythonized/sage/graphs/hyperbolicity.c:9075)()\n   1048 \n   1049 \n-> 1050 def hyperbolicity(G,\n   1051                   algorithm='BCCM',\n   1052                   approximation_factor=None,\n\nTypeError: hyperbolicity() takes at least 1 positional argument (0 given)\n\n```\n\nAfter looking at other cython files it seems that the problem can be fixed by adding `# cython: binding=True` at the beginning of `hyperbolicity.pyx`. Due to my ignorance about cython I don't know if this is the best fix.\n\nIn `graph.py` I would put `hyperbolicity` in the category `Distances` rather than `Graph properties` which is essentially used for functions returning a Boolean (like `is_tree`, `is_apex`, etc.).",
    "created_at": "2021-09-14T12:26:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614978",
    "user": "https://github.com/jfraymond"
}
```

<a id='comment:5'></a>Hello! I got the following error:

```python
sage: g = graphs.PetersenGraph()                                                                                                          
sage: g.hyperbolicity()                                                                                                                   
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-2-b74d57c08f95> in <module>
----> 1 g.hyperbolicity()

~/sage/local/lib/python3.9/site-packages/sage/graphs/hyperbolicity.pyx in sage.graphs.hyperbolicity.hyperbolicity (build/cythonized/sage/graphs/hyperbolicity.c:9075)()
   1048 
   1049 
-> 1050 def hyperbolicity(G,
   1051                   algorithm='BCCM',
   1052                   approximation_factor=None,

TypeError: hyperbolicity() takes at least 1 positional argument (0 given)

```

After looking at other cython files it seems that the problem can be fixed by adding `# cython: binding=True` at the beginning of `hyperbolicity.pyx`. Due to my ignorance about cython I don't know if this is the best fix.

In `graph.py` I would put `hyperbolicity` in the category `Distances` rather than `Graph properties` which is essentially used for functions returning a Boolean (like `is_tree`, `is_apex`, etc.).



---

archive/issue_comments_614979.json:
```json
{
    "body": "Changing commit from \"8cf3ca64c07b53c98c1c650cccea179fd7abd94f\" to \"a228ebc964f87c1aeaef5ce97e52aa403973974f\"",
    "created_at": "2021-09-14T18:37:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614979",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8cf3ca64c07b53c98c1c650cccea179fd7abd94f" to "a228ebc964f87c1aeaef5ce97e52aa403973974f"



---

archive/issue_comments_614980.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-14T18:37:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614980",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_614981.json:
```json
{
    "body": "<a id='comment:8'></a>Good catch. I fixed the issues and changed the category. Thanks.",
    "created_at": "2021-09-14T18:38:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614981",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:8'></a>Good catch. I fixed the issues and changed the category. Thanks.



---

archive/issue_comments_614982.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jean-Florent Raymond\"",
    "created_at": "2021-09-15T07:23:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614982",
    "user": "https://github.com/jfraymond"
}
```

Changing reviewer from "" to "Jean-Florent Raymond"



---

archive/issue_comments_614983.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-09-15T07:23:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614983",
    "user": "https://github.com/jfraymond"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_614984.json:
```json
{
    "body": "<a id='comment:10'></a>Thank you.",
    "created_at": "2021-09-15T09:05:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614984",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:10'></a>Thank you.



---

archive/issue_comments_614985.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-10-23T23:22:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614985",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_614986.json:
```json
{
    "body": "<a id='comment:11'></a>Merge conflict",
    "created_at": "2021-10-23T23:22:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614986",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>Merge conflict



---

archive/issue_comments_614987.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-24T00:17:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614987",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_614988.json:
```json
{
    "body": "Changing commit from \"a228ebc964f87c1aeaef5ce97e52aa403973974f\" to \"87290c384a992266ef8a04724c3d03e64104a91f\"",
    "created_at": "2021-10-24T00:17:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614988",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a228ebc964f87c1aeaef5ce97e52aa403973974f" to "87290c384a992266ef8a04724c3d03e64104a91f"



---

archive/issue_comments_614989.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-10-24T00:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614989",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_614990.json:
```json
{
    "body": "<a id='comment:14'></a>Can we set this ticket back to positive ?",
    "created_at": "2021-12-07T08:46:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614990",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:14'></a>Can we set this ticket back to positive ?



---

archive/issue_comments_614991.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-12-24T08:45:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614991",
    "user": "https://github.com/jfraymond"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_614992.json:
```json
{
    "body": "<a id='comment:16'></a>Thank you.",
    "created_at": "2021-12-24T11:13:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614992",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:16'></a>Thank you.



---

archive/issue_comments_614993.json:
```json
{
    "body": "<a id='comment:17'></a>Can you add a tiny bit of text in the ticket description?",
    "created_at": "2021-12-24T19:24:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614993",
    "user": "https://github.com/slel"
}
```

<a id='comment:17'></a>Can you add a tiny bit of text in the ticket description?



---

archive/issue_comments_614994.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,11 @@\n+The notion of hyperbolicity in graphs is a tree likeness parameter that measures how far is the distance metric of a graph from a tree metric. This parameter was added in #13808 but not exposed in graphs.\n+With this ticket, we can now do:\n \n+```\n+sage: G = graphs.PetersenGraph()\n+sage: G.hyperbolicity()\n+(1/2, [6, 7, 8, 9], 1/2)\n+```\n \n Author: David Coudert\n \n``````\n",
    "created_at": "2021-12-25T00:56:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614994",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,11 @@
+The notion of hyperbolicity in graphs is a tree likeness parameter that measures how far is the distance metric of a graph from a tree metric. This parameter was added in #13808 but not exposed in graphs.
+With this ticket, we can now do:
 
+```
+sage: G = graphs.PetersenGraph()
+sage: G.hyperbolicity()
+(1/2, [6, 7, 8, 9], 1/2)
+```
 
 Author: David Coudert
 
``````




---

archive/issue_events_080952.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-28T23:03:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30999#event-80952"
}
```



---

archive/issue_events_080953.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-28T23:03:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30999#event-80953"
}
```



---

archive/issue_events_080954.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-03T22:19:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30999#event-80954"
}
```



---

archive/issue_comments_614995.json:
```json
{
    "body": "Changing branch from \"public/graphs/30999_hyperbolicity\" to \"87290c384a992266ef8a04724c3d03e64104a91f\"",
    "created_at": "2022-03-03T22:19:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614995",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/graphs/30999_hyperbolicity" to "87290c384a992266ef8a04724c3d03e64104a91f"



---

archive/issue_comments_614996.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-03T22:19:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30999#issuecomment-614996",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
