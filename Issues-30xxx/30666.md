# Issue 30666: Distributions sagemath-{flint-arb,homfly,giac,gap}, add "sage_setup: distribution" to Cython modules

archive/issues_030429.json:
```json
{
    "body": "Basically, we are making all external libraries optional, except for a minimal set of \"core\" libraries such as `cysignals` and `gmpy2` (see #29865). \n\n(from #30371): See #29705 under the items titled \"Deploy mildly modularized distributions\", \"Further modularization\" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as `sagemath-ntl`) - but some libraries come in packs that would not make much sense to separate (such as `sagemath-flint-arb-e_antic`).\n\nList of distributions:\n\n- **sagemath-flint-arb**\n      - 'sage/libs/arb/arb_version.pyx',\n      - 'sage/libs/arb/arith.pyx',\n      - 'sage/matrix/matrix_complex_ball_dense.pyx',\n      - 'sage/rings/complex_arb.pyx',\n      - 'sage/rings/number_field/number_field_element_quadratic.pyx',\n      - 'sage/rings/polynomial/polynomial_complex_arb.pyx',\n      - 'sage/rings/real_arb.pyx'\n      - etc.\n- **sagemath-homfly**: 'sage/libs/homfly.pyx'\n- **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n      - sage/libs/giac/giac.pyx\n- **sagemath-gap**:\n      - 'sage/coding/codecan/codecan.pyx',\n      - 'sage/combinat/enumeration_mod_permgroup.pyx',\n      - 'sage/combinat/root_system/reflection_group_c.pyx',\n      - 'sage/combinat/root_system/reflection_group_element.pyx',\n      - 'sage/graphs/spanning_tree.pyx',\n      - 'sage/groups/libgap_wrapper.pyx',\n      - 'sage/groups/matrix_gps/group_element.pyx',\n      - 'sage/groups/perm_gps/permgroup_element.pyx',\n      - 'sage/groups/perm_gps/partn_ref/automorphism_group_canonical_label.pyx',\n      - 'sage/groups/perm_gps/partn_ref/canonical_augmentation.pyx',\n      - 'sage/groups/perm_gps/partn_ref/data_structures.pyx',\n      - 'sage/groups/perm_gps/partn_ref/double_coset.pyx',\n      - 'sage/groups/perm_gps/partn_ref/refinement_binary.pyx',\n      - 'sage/groups/perm_gps/partn_ref/refinement_graphs.pyx',\n      - 'sage/groups/perm_gps/partn_ref/refinement_lists.pyx',\n      - 'sage/groups/perm_gps/partn_ref/refinement_matrices.pyx',\n      - 'sage/groups/perm_gps/partn_ref/refinement_python.pyx',\n      - 'sage/groups/perm_gps/partn_ref/refinement_sets.pyx',\n      - 'sage/groups/perm_gps/partn_ref2/refinement_generic.pyx',\n      - 'sage/libs/gap/element.pyx',\n      - 'sage/libs/gap/libgap.pyx',\n      - 'sage/libs/gap/util.pyx',\n      - 'sage/matrix/matrix_gap.pyx',\n      - 'sage/sets/disjoint_set.pyx'\n\nTo test:\n\n- `make SAGE_WHEELS=yes SAGE_CHECK=yes sagemath_flint_arb`\n- `make SAGE_WHEELS=yes SAGE_CHECK=yes sagemath_gap`\n- `make SAGE_WHEELS=yes SAGE_CHECK=yes sagemath_giac`\n- `make SAGE_WHEELS=yes SAGE_CHECK=yes sagemath_homfly`\n\nIn follow-up tickets:\n\n- `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n- `sagemath-ntl`\n- `sagemath-ecl` (`sage.libs.ecl`)\n- `sagemath-maxima`: requires sage-ecl\n- `sagemath-singular`: (some of these files actually may be better put in the pynac distribution)\n      - 'sage/algebras/letterplace/free_algebra_element_letterplace.pyx',\n      - 'sage/algebras/letterplace/free_algebra_letterplace.pyx',\n      - 'sage/algebras/letterplace/letterplace_ideal.pyx',\n      - 'sage/libs/pynac/constant.pyx',\n      - 'sage/libs/pynac/pynac.pyx',\n      - 'sage/libs/singular/function.pyx',\n      - 'sage/libs/singular/groebner_strategy.pyx',\n      - 'sage/libs/singular/option.pyx',\n      - 'sage/libs/singular/polynomial.pyx',\n      - 'sage/libs/singular/ring.pyx',\n      - 'sage/libs/singular/singular.pyx',\n      - 'sage/matrix/matrix_mpolynomial_dense.pyx',\n      - 'sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx',\n      - 'sage/rings/polynomial/multi_polynomial_libsingular.pyx',\n      - 'sage/rings/polynomial/plural.pyx',\n      - 'sage/symbolic/comparison.pyx',\n      - 'sage/symbolic/constants_c.pyx',\n      - 'sage/symbolic/expression.pyx',\n      - 'sage/symbolic/function.pyx',\n      - 'sage/symbolic/getitem.pyx',\n      - 'sage/symbolic/ring.pyx',\n      - 'sage/symbolic/series.pyx',\n      - 'sage/symbolic/substitution_map.pyx',\n- `sagemath-pynac`\n- `sagemath-linbox`:\n      - 'sage/libs/linbox/linbox_flint_interface.pyx',\n      - 'sage/matrix/matrix_integer_sparse.pyx',\n      - 'sage/matrix/matrix_modn_dense_double.pyx',\n      - 'sage/matrix/matrix_modn_dense_float.pyx',\n      - 'sage/matrix/matrix_modn_sparse.pyx'\n- `sagemath-znpoly` (subject to removal in #32841?)\n      - 'sage/modular/modsym/p1list.pyx',\n      - 'sage/modular/pollack_stevens/dist.pyx',\n      - 'sage/rings/fraction_field_FpT.pyx',\n      - 'sage/rings/polynomial/polynomial_zmod_flint.pyx',\n      - 'sage/schemes/hyperelliptic_curves/hypellfrob.pyx',\n- `sagemath-mari` (also requiring pbori and pbori-groebner):\n      - 'sage/matrix/matrix_gf2e_dense.pyx',\n      - 'sage/matrix/matrix_integer_dense.pyx',\n      - 'sage/matrix/matrix_mod2_dense.pyx',\n      - 'sage/matrix/matrix_rational_dense.pyx',\n      - 'sage/modules/vector_mod2_dense.pyx',\n      - 'sage/rings/polynomial/pbori/pbori.pyx',\n      - 'sage/rings/polynomial/polynomial_gf2x.pyx'\n\nThis is preparation for Meta-ticket #29705 (Modularization) and #30371.\n\n\nCC:  @tobiasdiez @dimpase\n\nKeywords: sd111\n\nReviewer: Dima Pasechnik\n\nAuthor: Matthias Koeppe\n\nBranch: u/mkoeppe/add__sage_setup__distribution__directives_to_all_cython_modules_needing_external_libraries\n\nStatus: needs_work\n\nDependencies: #31031, #34855, #34839\n\nCommit: 1531fda69d3c9179f72c0c71cb702f65630b8afc\n\nIssue created by migration from https://trac.sagemath.org/ticket/30666\n\n",
    "created_at": "2020-09-26T14:30:43Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Distributions sagemath-{flint-arb,homfly,giac,gap}, add \"sage_setup: distribution\" to Cython modules",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30666",
    "user": "https://github.com/mkoeppe"
}
```
Basically, we are making all external libraries optional, except for a minimal set of "core" libraries such as `cysignals` and `gmpy2` (see #29865). 

(from #30371): See #29705 under the items titled "Deploy mildly modularized distributions", "Further modularization" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as `sagemath-ntl`) - but some libraries come in packs that would not make much sense to separate (such as `sagemath-flint-arb-e_antic`).

List of distributions:

- **sagemath-flint-arb**
      - 'sage/libs/arb/arb_version.pyx',
      - 'sage/libs/arb/arith.pyx',
      - 'sage/matrix/matrix_complex_ball_dense.pyx',
      - 'sage/rings/complex_arb.pyx',
      - 'sage/rings/number_field/number_field_element_quadratic.pyx',
      - 'sage/rings/polynomial/polynomial_complex_arb.pyx',
      - 'sage/rings/real_arb.pyx'
      - etc.
- **sagemath-homfly**: 'sage/libs/homfly.pyx'
- **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
      - sage/libs/giac/giac.pyx
- **sagemath-gap**:
      - 'sage/coding/codecan/codecan.pyx',
      - 'sage/combinat/enumeration_mod_permgroup.pyx',
      - 'sage/combinat/root_system/reflection_group_c.pyx',
      - 'sage/combinat/root_system/reflection_group_element.pyx',
      - 'sage/graphs/spanning_tree.pyx',
      - 'sage/groups/libgap_wrapper.pyx',
      - 'sage/groups/matrix_gps/group_element.pyx',
      - 'sage/groups/perm_gps/permgroup_element.pyx',
      - 'sage/groups/perm_gps/partn_ref/automorphism_group_canonical_label.pyx',
      - 'sage/groups/perm_gps/partn_ref/canonical_augmentation.pyx',
      - 'sage/groups/perm_gps/partn_ref/data_structures.pyx',
      - 'sage/groups/perm_gps/partn_ref/double_coset.pyx',
      - 'sage/groups/perm_gps/partn_ref/refinement_binary.pyx',
      - 'sage/groups/perm_gps/partn_ref/refinement_graphs.pyx',
      - 'sage/groups/perm_gps/partn_ref/refinement_lists.pyx',
      - 'sage/groups/perm_gps/partn_ref/refinement_matrices.pyx',
      - 'sage/groups/perm_gps/partn_ref/refinement_python.pyx',
      - 'sage/groups/perm_gps/partn_ref/refinement_sets.pyx',
      - 'sage/groups/perm_gps/partn_ref2/refinement_generic.pyx',
      - 'sage/libs/gap/element.pyx',
      - 'sage/libs/gap/libgap.pyx',
      - 'sage/libs/gap/util.pyx',
      - 'sage/matrix/matrix_gap.pyx',
      - 'sage/sets/disjoint_set.pyx'

To test:

- `make SAGE_WHEELS=yes SAGE_CHECK=yes sagemath_flint_arb`
- `make SAGE_WHEELS=yes SAGE_CHECK=yes sagemath_gap`
- `make SAGE_WHEELS=yes SAGE_CHECK=yes sagemath_giac`
- `make SAGE_WHEELS=yes SAGE_CHECK=yes sagemath_homfly`

In follow-up tickets:

- `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
- `sagemath-ntl`
- `sagemath-ecl` (`sage.libs.ecl`)
- `sagemath-maxima`: requires sage-ecl
- `sagemath-singular`: (some of these files actually may be better put in the pynac distribution)
      - 'sage/algebras/letterplace/free_algebra_element_letterplace.pyx',
      - 'sage/algebras/letterplace/free_algebra_letterplace.pyx',
      - 'sage/algebras/letterplace/letterplace_ideal.pyx',
      - 'sage/libs/pynac/constant.pyx',
      - 'sage/libs/pynac/pynac.pyx',
      - 'sage/libs/singular/function.pyx',
      - 'sage/libs/singular/groebner_strategy.pyx',
      - 'sage/libs/singular/option.pyx',
      - 'sage/libs/singular/polynomial.pyx',
      - 'sage/libs/singular/ring.pyx',
      - 'sage/libs/singular/singular.pyx',
      - 'sage/matrix/matrix_mpolynomial_dense.pyx',
      - 'sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx',
      - 'sage/rings/polynomial/multi_polynomial_libsingular.pyx',
      - 'sage/rings/polynomial/plural.pyx',
      - 'sage/symbolic/comparison.pyx',
      - 'sage/symbolic/constants_c.pyx',
      - 'sage/symbolic/expression.pyx',
      - 'sage/symbolic/function.pyx',
      - 'sage/symbolic/getitem.pyx',
      - 'sage/symbolic/ring.pyx',
      - 'sage/symbolic/series.pyx',
      - 'sage/symbolic/substitution_map.pyx',
- `sagemath-pynac`
- `sagemath-linbox`:
      - 'sage/libs/linbox/linbox_flint_interface.pyx',
      - 'sage/matrix/matrix_integer_sparse.pyx',
      - 'sage/matrix/matrix_modn_dense_double.pyx',
      - 'sage/matrix/matrix_modn_dense_float.pyx',
      - 'sage/matrix/matrix_modn_sparse.pyx'
- `sagemath-znpoly` (subject to removal in #32841?)
      - 'sage/modular/modsym/p1list.pyx',
      - 'sage/modular/pollack_stevens/dist.pyx',
      - 'sage/rings/fraction_field_FpT.pyx',
      - 'sage/rings/polynomial/polynomial_zmod_flint.pyx',
      - 'sage/schemes/hyperelliptic_curves/hypellfrob.pyx',
- `sagemath-mari` (also requiring pbori and pbori-groebner):
      - 'sage/matrix/matrix_gf2e_dense.pyx',
      - 'sage/matrix/matrix_integer_dense.pyx',
      - 'sage/matrix/matrix_mod2_dense.pyx',
      - 'sage/matrix/matrix_rational_dense.pyx',
      - 'sage/modules/vector_mod2_dense.pyx',
      - 'sage/rings/polynomial/pbori/pbori.pyx',
      - 'sage/rings/polynomial/polynomial_gf2x.pyx'

This is preparation for Meta-ticket #29705 (Modularization) and #30371.


CC:  @tobiasdiez @dimpase

Keywords: sd111

Reviewer: Dima Pasechnik

Author: Matthias Koeppe

Branch: u/mkoeppe/add__sage_setup__distribution__directives_to_all_cython_modules_needing_external_libraries

Status: needs_work

Dependencies: #31031, #34855, #34839

Commit: 1531fda69d3c9179f72c0c71cb702f65630b8afc

Issue created by migration from https://trac.sagemath.org/ticket/30666





---

archive/issue_comments_463073.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n+... except for a minimal set of libraries such as `cysignals` and `gmpy2` (see #29865).\n+\n+(from #30371): See #29705 under the items titled \"Deploy mildly modularized distributions\", \"Further modularization\" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as sage-ntl) - but some libraries come in packs that would not make much sense to separate (such as sage-flint-arb-e_antic).\n+\n This is preparation for Meta-ticket #29705 (Modularization) and #30371.\n+\n \n Comment: 1\n \n``````\n",
    "created_at": "2020-09-26T17:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463073",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,9 @@
+... except for a minimal set of libraries such as `cysignals` and `gmpy2` (see #29865).
+
+(from #30371): See #29705 under the items titled "Deploy mildly modularized distributions", "Further modularization" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as sage-ntl) - but some libraries come in packs that would not make much sense to separate (such as sage-flint-arb-e_antic).
+
 This is preparation for Meta-ticket #29705 (Modularization) and #30371.
+
 
 Comment: 1
 
``````




---

archive/issue_comments_463074.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,18 @@\n+... except for a minimal set of libraries such as `cysignals` and `gmpy2` (see #29865).\n+\n+(from #30371): See #29705 under the items titled \"Deploy mildly modularized distributions\", \"Further modularization\" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as sage-ntl) - but some libraries come in packs that would not make much sense to separate (such as sage-flint-arb-e_antic).\n+\n+List of distributions:\n+\n+- `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n+- `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n+- `sage-ntl`\n+- `sage-flint-arb-e_antic`\n+- `sage-ecl` (`sage.libs.ecl`)\n+- `sage-singular`\n+- `sage-pynac`\n+\n+This is preparation for Meta-ticket #29705 (Modularization) and #30371.\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-09-26T17:30:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463074",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,18 @@
+... except for a minimal set of libraries such as `cysignals` and `gmpy2` (see #29865).
+
+(from #30371): See #29705 under the items titled "Deploy mildly modularized distributions", "Further modularization" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as sage-ntl) - but some libraries come in packs that would not make much sense to separate (such as sage-flint-arb-e_antic).
+
+List of distributions:
+
+- `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
+- `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
+- `sage-ntl`
+- `sage-flint-arb-e_antic`
+- `sage-ecl` (`sage.libs.ecl`)
+- `sage-singular`
+- `sage-pynac`
+
+This is preparation for Meta-ticket #29705 (Modularization) and #30371.
 
 
 Comment: 1
``````




---

archive/issue_comments_463075.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,18 @@\n+... except for a minimal set of \"core\" libraries such as `cysignals` and `gmpy2` (see #29865), which would require \n+\n+(from #30371): See #29705 under the items titled \"Deploy mildly modularized distributions\", \"Further modularization\" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as sage-ntl) - but some libraries come in packs that would not make much sense to separate (such as sage-flint-arb-e_antic).\n+\n+List of distributions:\n+\n+- `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n+- `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n+- `sage-ntl`\n+- `sage-flint-arb-e_antic`\n+- `sage-ecl` (`sage.libs.ecl`)\n+- `sage-singular`\n+- `sage-pynac`\n+\n+This is preparation for Meta-ticket #29705 (Modularization) and #30371.\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-09-26T17:32:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463075",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,18 @@
+... except for a minimal set of "core" libraries such as `cysignals` and `gmpy2` (see #29865), which would require 
+
+(from #30371): See #29705 under the items titled "Deploy mildly modularized distributions", "Further modularization" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as sage-ntl) - but some libraries come in packs that would not make much sense to separate (such as sage-flint-arb-e_antic).
+
+List of distributions:
+
+- `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
+- `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
+- `sage-ntl`
+- `sage-flint-arb-e_antic`
+- `sage-ecl` (`sage.libs.ecl`)
+- `sage-singular`
+- `sage-pynac`
+
+This is preparation for Meta-ticket #29705 (Modularization) and #30371.
 
 
 Comment: 1
``````




---

archive/issue_comments_463076.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,18 @@\n+Basically, we are making all external libraries optional, except for a minimal set of \"core\" libraries such as `cysignals` and `gmpy2` (see #29865). \n+\n+(from #30371): See #29705 under the items titled \"Deploy mildly modularized distributions\", \"Further modularization\" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as sage-ntl) - but some libraries come in packs that would not make much sense to separate (such as sage-flint-arb-e_antic).\n+\n+List of distributions:\n+\n+- `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n+- `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n+- `sage-ntl`\n+- `sage-flint-arb-e_antic`\n+- `sage-ecl` (`sage.libs.ecl`)\n+- `sage-singular`\n+- `sage-pynac`\n+\n+This is preparation for Meta-ticket #29705 (Modularization) and #30371.\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-09-26T17:35:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463076",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,18 @@
+Basically, we are making all external libraries optional, except for a minimal set of "core" libraries such as `cysignals` and `gmpy2` (see #29865). 
+
+(from #30371): See #29705 under the items titled "Deploy mildly modularized distributions", "Further modularization" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as sage-ntl) - but some libraries come in packs that would not make much sense to separate (such as sage-flint-arb-e_antic).
+
+List of distributions:
+
+- `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
+- `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
+- `sage-ntl`
+- `sage-flint-arb-e_antic`
+- `sage-ecl` (`sage.libs.ecl`)
+- `sage-singular`
+- `sage-pynac`
+
+This is preparation for Meta-ticket #29705 (Modularization) and #30371.
 
 
 Comment: 1
``````




---

archive/issue_comments_463077.json:
```json
{
    "body": "<a id='comment:5'></a>Good idea to separate this into a new ticket.\n\nWhile working on #30371, I noticed that most cython files using singular cannot be compiled without pynac. So maybe these should be combined.\n\nAlso, I think, there should be distributions for GAP, CCObject, linbox, ratpoints, zn_poly and mari.\n\nWhat do you think about renaming sage_setup: distribution to sage_setup: dependency? I think this better reflects the purpose. The distribution is then generated based on which dependencies are available. Another idea would be to use `distutils: libraries` which already contains some of the dependencies anyway (e.g. arb, gmp, flint).",
    "created_at": "2020-09-26T18:34:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463077",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:5'></a>Good idea to separate this into a new ticket.

While working on #30371, I noticed that most cython files using singular cannot be compiled without pynac. So maybe these should be combined.

Also, I think, there should be distributions for GAP, CCObject, linbox, ratpoints, zn_poly and mari.

What do you think about renaming sage_setup: distribution to sage_setup: dependency? I think this better reflects the purpose. The distribution is then generated based on which dependencies are available. Another idea would be to use `distutils: libraries` which already contains some of the dependencies anyway (e.g. arb, gmp, flint).



---

archive/issue_comments_463078.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:5 gh-tobiasdiez]:\n> While working on #30371, I noticed that most cython files using singular cannot be compiled without pynac. So maybe these should be combined.\n\n\nI think they should be separate because I really want to be able to make singular optional. pynac, on the other hand, is essential for our symbolics implementation.\n\n> Also, I think, there should be distributions for GAP, CCObject, linbox, ratpoints, zn_poly and mari.\n\n\nYes, please add to the list in the ticket description with explanation (what is CCObject?)\n\n> What do you think about renaming sage_setup: distribution to sage_setup: dependency?\n\n\nNo, I wouldn't like that. As soon as you start with declaring \"dependencies\", there will be combinatorial explosion from the combinations of such dependencies. I really want a well-designed partition of the source files into (relatively few) disjoint distributions. This is crucial for the modularization -- each distribution will eventually be separately compilable and installable package on PyPI.",
    "created_at": "2020-09-26T20:04:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463078",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>Replying to [comment:5 gh-tobiasdiez]:
> While working on #30371, I noticed that most cython files using singular cannot be compiled without pynac. So maybe these should be combined.


I think they should be separate because I really want to be able to make singular optional. pynac, on the other hand, is essential for our symbolics implementation.

> Also, I think, there should be distributions for GAP, CCObject, linbox, ratpoints, zn_poly and mari.


Yes, please add to the list in the ticket description with explanation (what is CCObject?)

> What do you think about renaming sage_setup: distribution to sage_setup: dependency?


No, I wouldn't like that. As soon as you start with declaring "dependencies", there will be combinatorial explosion from the combinations of such dependencies. I really want a well-designed partition of the source files into (relatively few) disjoint distributions. This is crucial for the modularization -- each distribution will eventually be separately compilable and installable package on PyPI.



---

archive/issue_comments_463079.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,23 @@\n+Basically, we are making all external libraries optional, except for a minimal set of \"core\" libraries such as `cysignals` and `gmpy2` (see #29865). \n+\n+(from #30371): See #29705 under the items titled \"Deploy mildly modularized distributions\", \"Further modularization\" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as sage-ntl) - but some libraries come in packs that would not make much sense to separate (such as sage-flint-arb-e_antic).\n+\n+List of distributions:\n+\n+- `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n+- `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n+- `sage-ntl`\n+- `sage-flint-arb-e_antic`\n+- `sage-ecl` (`sage.libs.ecl`)\n+- `sage-singular`\n+- `sage-pynac`\n+- `sage-gap` (see #30371 setup.py for which files need GAP)\n+- `sage-linbox` (see #30371 setup.py for which files need linbox)\n+- `sage-ratpoints` (see #30371 setup.py for which files need ratpoints)\n+- `sage-znpoly` (see #30371 setup.py for which files need zn_poly)\n+- `sage-mari` (see #30371 setup.py for which files need mari)\n+\n+This is preparation for Meta-ticket #29705 (Modularization) and #30371.\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-09-27T07:13:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463079",
    "user": "https://github.com/tobiasdiez"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,23 @@
+Basically, we are making all external libraries optional, except for a minimal set of "core" libraries such as `cysignals` and `gmpy2` (see #29865). 
+
+(from #30371): See #29705 under the items titled "Deploy mildly modularized distributions", "Further modularization" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as sage-ntl) - but some libraries come in packs that would not make much sense to separate (such as sage-flint-arb-e_antic).
+
+List of distributions:
+
+- `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
+- `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
+- `sage-ntl`
+- `sage-flint-arb-e_antic`
+- `sage-ecl` (`sage.libs.ecl`)
+- `sage-singular`
+- `sage-pynac`
+- `sage-gap` (see #30371 setup.py for which files need GAP)
+- `sage-linbox` (see #30371 setup.py for which files need linbox)
+- `sage-ratpoints` (see #30371 setup.py for which files need ratpoints)
+- `sage-znpoly` (see #30371 setup.py for which files need zn_poly)
+- `sage-mari` (see #30371 setup.py for which files need mari)
+
+This is preparation for Meta-ticket #29705 (Modularization) and #30371.
 
 
 Comment: 1
``````




---

archive/issue_comments_463080.json:
```json
{
    "body": "<a id='comment:8'></a>Ok, makes sense.\nWhich distribution should be assigned to files that have two dependencies (e.g use pynac and singular)?\n\nMy idea was that the cython file declares which dependencies it has, and in the setup.py file you have a list of distributions and their dependencies. If all dependencies are met, that particular distribution is built. E.g. distribution \"sage-singular\" relies on \"pynac\" and \"singular\". (That's only a feeling, but it feels strange to have distributions determined by dependencies and not by a theme or subject, e.g. \"sage-singular\" vs \"sage-symbolic calculation\". But you have a better overview, so I trust you there.)\n\nI've added the above distributions to the list.\n(Forget about CCObject, it was a missing import in #30371 that confused me.)",
    "created_at": "2020-09-27T07:48:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463080",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:8'></a>Ok, makes sense.
Which distribution should be assigned to files that have two dependencies (e.g use pynac and singular)?

My idea was that the cython file declares which dependencies it has, and in the setup.py file you have a list of distributions and their dependencies. If all dependencies are met, that particular distribution is built. E.g. distribution "sage-singular" relies on "pynac" and "singular". (That's only a feeling, but it feels strange to have distributions determined by dependencies and not by a theme or subject, e.g. "sage-singular" vs "sage-symbolic calculation". But you have a better overview, so I trust you there.)

I've added the above distributions to the list.
(Forget about CCObject, it was a missing import in #30371 that confused me.)



---

archive/issue_comments_463081.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:8 gh-tobiasdiez]:\n> Which distribution should be assigned to files that have two dependencies (e.g use pynac and singular)?\n\n\nDistributions can certainly depend on other distributions. `sage-singular` could depend on `sage-pynac`. Let's include this in the ticket description. (In the modularized build, `sage-singular`'s `setup.py` or `setup.cfg` would have `install_requires = sage-pynac`.)\n\nAlso, often it is relatively easy to remove some of these dependencies by small changes to a few source files, moving a few methods around. See for example #29911. We can take work on this in follow-up tickets.\n\n> it feels strange to have distributions determined by dependencies and not by a theme or subject, e.g. \"sage-singular\" vs \"sage-symbolic calculation\". \n\n\nPerhaps, but there is actually an important \"political\" (open source community) reason for this design too. By naming these components after major libraries that provide the features, we make these libraries and their important role for Sage more visible to end users. Attribution tends to be an important motivating factor to developers of these libraries.",
    "created_at": "2020-09-27T17:52:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463081",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>Replying to [comment:8 gh-tobiasdiez]:
> Which distribution should be assigned to files that have two dependencies (e.g use pynac and singular)?


Distributions can certainly depend on other distributions. `sage-singular` could depend on `sage-pynac`. Let's include this in the ticket description. (In the modularized build, `sage-singular`'s `setup.py` or `setup.cfg` would have `install_requires = sage-pynac`.)

Also, often it is relatively easy to remove some of these dependencies by small changes to a few source files, moving a few methods around. See for example #29911. We can take work on this in follow-up tickets.

> it feels strange to have distributions determined by dependencies and not by a theme or subject, e.g. "sage-singular" vs "sage-symbolic calculation". 


Perhaps, but there is actually an important "political" (open source community) reason for this design too. By naming these components after major libraries that provide the features, we make these libraries and their important role for Sage more visible to end users. Attribution tends to be an important motivating factor to developers of these libraries.



---

archive/issue_comments_463082.json:
```json
{
    "body": "<a id='comment:10'></a>To expand on this a little bit: I wouldn't rule out distributions named after topics. The present ticket only provides a \"skeleton\" of distributions that are (1) technically needed to take care of compile-time dependencies, (2) provides attribution. Later on (in follow-up tickets), for example, there could be a distribution `sage-feature-padics` or something like this that has `sage-ntl` as a dependency and packages `sage.rings.padics`.",
    "created_at": "2020-09-27T18:36:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463082",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>To expand on this a little bit: I wouldn't rule out distributions named after topics. The present ticket only provides a "skeleton" of distributions that are (1) technically needed to take care of compile-time dependencies, (2) provides attribution. Later on (in follow-up tickets), for example, there could be a distribution `sage-feature-padics` or something like this that has `sage-ntl` as a dependency and packages `sage.rings.padics`.



---

archive/issue_comments_463083.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,96 @@\n+Basically, we are making all external libraries optional, except for a minimal set of \"core\" libraries such as `cysignals` and `gmpy2` (see #29865). \n+\n+(from #30371): See #29705 under the items titled \"Deploy mildly modularized distributions\", \"Further modularization\" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as sage-ntl) - but some libraries come in packs that would not make much sense to separate (such as sage-flint-arb-e_antic).\n+\n+List of distributions:\n+\n+- `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n+- `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n+- `sage-ntl`\n+- `sage-flint-arb-e_antic`\n+      - 'sage/libs/arb/arith.pyx',\n+      - 'sage/matrix/matrix_complex_ball_dense.pyx',\n+      - 'sage/rings/complex_arb.pyx',\n+      - 'sage/rings/number_field/number_field_element_quadratic.pyx',\n+      - 'sage/rings/polynomial/polynomial_complex_arb.pyx',\n+      - 'sage/rings/real_arb.pyx'\n+- `sage-ecl` (`sage.libs.ecl`)\n+- `sage-singular`: (some of these files actually may be better put in the pynac distribution)\n+      - 'sage/algebras/letterplace/free_algebra_element_letterplace.pyx',\n+      - 'sage/algebras/letterplace/free_algebra_letterplace.pyx',\n+      - 'sage/algebras/letterplace/letterplace_ideal.pyx',\n+      - 'sage/libs/pynac/constant.pyx',\n+      - 'sage/libs/pynac/pynac.pyx',\n+      - 'sage/libs/singular/function.pyx',\n+      - 'sage/libs/singular/groebner_strategy.pyx',\n+      - 'sage/libs/singular/option.pyx',\n+      - 'sage/libs/singular/polynomial.pyx',\n+      - 'sage/libs/singular/ring.pyx',\n+      - 'sage/libs/singular/singular.pyx',\n+      - 'sage/matrix/matrix_mpolynomial_dense.pyx',\n+      - 'sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx',\n+      - 'sage/rings/polynomial/multi_polynomial_libsingular.pyx',\n+      - 'sage/rings/polynomial/plural.pyx',\n+      - 'sage/symbolic/comparison.pyx',\n+      - 'sage/symbolic/constants_c.pyx',\n+      - 'sage/symbolic/expression.pyx',\n+      - 'sage/symbolic/function.pyx',\n+      - 'sage/symbolic/getitem.pyx',\n+      - 'sage/symbolic/ring.pyx',\n+      - 'sage/symbolic/series.pyx',\n+      - 'sage/symbolic/substitution_map.pyx',\n+- `sage-pynac`\n+- `sage-gap`:\n+      - 'sage/coding/codecan/codecan.pyx',\n+      - 'sage/combinat/enumeration_mod_permgroup.pyx',\n+      - 'sage/combinat/root_system/reflection_group_c.pyx',\n+      - 'sage/combinat/root_system/reflection_group_element.pyx',\n+      - 'sage/graphs/spanning_tree.pyx',\n+      - 'sage/groups/libgap_wrapper.pyx',\n+      - 'sage/groups/matrix_gps/group_element.pyx',\n+      - 'sage/groups/perm_gps/permgroup_element.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/automorphism_group_canonical_label.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/canonical_augmentation.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/data_structures.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/double_coset.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_binary.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_graphs.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_lists.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_matrices.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_python.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_sets.pyx',\n+      - 'sage/groups/perm_gps/partn_ref2/refinement_generic.pyx',\n+      - 'sage/libs/gap/element.pyx',\n+      - 'sage/libs/gap/libgap.pyx',\n+      - 'sage/libs/gap/util.pyx',\n+      - 'sage/matrix/matrix_gap.pyx',\n+      - 'sage/sets/disjoint_set.pyx'\n+- `sage-linbox`:\n+      - 'sage/libs/linbox/linbox_flint_interface.pyx',\n+      - 'sage/matrix/matrix_integer_sparse.pyx',\n+      - 'sage/matrix/matrix_modn_dense_double.pyx',\n+      - 'sage/matrix/matrix_modn_dense_float.pyx',\n+      - 'sage/matrix/matrix_modn_sparse.pyx'\n+- `sage-ratpoints`: 'sage/libs/ratpoints.pyx', 'sage/schemes/elliptic_curves/descent_two_isogeny.pyx'\n+- `sage-znpoly` (see #30371 setup.py for which files need zn_poly)\n+      - 'sage/modular/modsym/p1list.pyx',\n+      - 'sage/modular/pollack_stevens/dist.pyx',\n+      - 'sage/rings/fraction_field_FpT.pyx',\n+      - 'sage/rings/polynomial/polynomial_zmod_flint.pyx',\n+      - 'sage/schemes/hyperelliptic_curves/hypellfrob.pyx',\n+- `sage-mari` (also requiring pbori and pbori-groebner):\n+      - 'sage/matrix/matrix_gf2e_dense.pyx',\n+      - 'sage/matrix/matrix_integer_dense.pyx',\n+      - 'sage/matrix/matrix_mod2_dense.pyx',\n+      - 'sage/matrix/matrix_rational_dense.pyx',\n+      - 'sage/modules/vector_mod2_dense.pyx',\n+      - 'sage/rings/polynomial/pbori/pbori.pyx',\n+      - 'sage/rings/polynomial/polynomial_gf2x.pyx'\n+- `sage-magma`: requires sage-ecl\n+- `sage-giac`: 'sage/libs/giac/giac.pyx'\n+- `sage-homfly`: 'sage/libs/homfly.pyx'\n+\n+This is preparation for Meta-ticket #29705 (Modularization) and #30371.\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-09-30T17:00:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463083",
    "user": "https://github.com/tobiasdiez"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,96 @@
+Basically, we are making all external libraries optional, except for a minimal set of "core" libraries such as `cysignals` and `gmpy2` (see #29865). 
+
+(from #30371): See #29705 under the items titled "Deploy mildly modularized distributions", "Further modularization" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as sage-ntl) - but some libraries come in packs that would not make much sense to separate (such as sage-flint-arb-e_antic).
+
+List of distributions:
+
+- `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
+- `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
+- `sage-ntl`
+- `sage-flint-arb-e_antic`
+      - 'sage/libs/arb/arith.pyx',
+      - 'sage/matrix/matrix_complex_ball_dense.pyx',
+      - 'sage/rings/complex_arb.pyx',
+      - 'sage/rings/number_field/number_field_element_quadratic.pyx',
+      - 'sage/rings/polynomial/polynomial_complex_arb.pyx',
+      - 'sage/rings/real_arb.pyx'
+- `sage-ecl` (`sage.libs.ecl`)
+- `sage-singular`: (some of these files actually may be better put in the pynac distribution)
+      - 'sage/algebras/letterplace/free_algebra_element_letterplace.pyx',
+      - 'sage/algebras/letterplace/free_algebra_letterplace.pyx',
+      - 'sage/algebras/letterplace/letterplace_ideal.pyx',
+      - 'sage/libs/pynac/constant.pyx',
+      - 'sage/libs/pynac/pynac.pyx',
+      - 'sage/libs/singular/function.pyx',
+      - 'sage/libs/singular/groebner_strategy.pyx',
+      - 'sage/libs/singular/option.pyx',
+      - 'sage/libs/singular/polynomial.pyx',
+      - 'sage/libs/singular/ring.pyx',
+      - 'sage/libs/singular/singular.pyx',
+      - 'sage/matrix/matrix_mpolynomial_dense.pyx',
+      - 'sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx',
+      - 'sage/rings/polynomial/multi_polynomial_libsingular.pyx',
+      - 'sage/rings/polynomial/plural.pyx',
+      - 'sage/symbolic/comparison.pyx',
+      - 'sage/symbolic/constants_c.pyx',
+      - 'sage/symbolic/expression.pyx',
+      - 'sage/symbolic/function.pyx',
+      - 'sage/symbolic/getitem.pyx',
+      - 'sage/symbolic/ring.pyx',
+      - 'sage/symbolic/series.pyx',
+      - 'sage/symbolic/substitution_map.pyx',
+- `sage-pynac`
+- `sage-gap`:
+      - 'sage/coding/codecan/codecan.pyx',
+      - 'sage/combinat/enumeration_mod_permgroup.pyx',
+      - 'sage/combinat/root_system/reflection_group_c.pyx',
+      - 'sage/combinat/root_system/reflection_group_element.pyx',
+      - 'sage/graphs/spanning_tree.pyx',
+      - 'sage/groups/libgap_wrapper.pyx',
+      - 'sage/groups/matrix_gps/group_element.pyx',
+      - 'sage/groups/perm_gps/permgroup_element.pyx',
+      - 'sage/groups/perm_gps/partn_ref/automorphism_group_canonical_label.pyx',
+      - 'sage/groups/perm_gps/partn_ref/canonical_augmentation.pyx',
+      - 'sage/groups/perm_gps/partn_ref/data_structures.pyx',
+      - 'sage/groups/perm_gps/partn_ref/double_coset.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_binary.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_graphs.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_lists.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_matrices.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_python.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_sets.pyx',
+      - 'sage/groups/perm_gps/partn_ref2/refinement_generic.pyx',
+      - 'sage/libs/gap/element.pyx',
+      - 'sage/libs/gap/libgap.pyx',
+      - 'sage/libs/gap/util.pyx',
+      - 'sage/matrix/matrix_gap.pyx',
+      - 'sage/sets/disjoint_set.pyx'
+- `sage-linbox`:
+      - 'sage/libs/linbox/linbox_flint_interface.pyx',
+      - 'sage/matrix/matrix_integer_sparse.pyx',
+      - 'sage/matrix/matrix_modn_dense_double.pyx',
+      - 'sage/matrix/matrix_modn_dense_float.pyx',
+      - 'sage/matrix/matrix_modn_sparse.pyx'
+- `sage-ratpoints`: 'sage/libs/ratpoints.pyx', 'sage/schemes/elliptic_curves/descent_two_isogeny.pyx'
+- `sage-znpoly` (see #30371 setup.py for which files need zn_poly)
+      - 'sage/modular/modsym/p1list.pyx',
+      - 'sage/modular/pollack_stevens/dist.pyx',
+      - 'sage/rings/fraction_field_FpT.pyx',
+      - 'sage/rings/polynomial/polynomial_zmod_flint.pyx',
+      - 'sage/schemes/hyperelliptic_curves/hypellfrob.pyx',
+- `sage-mari` (also requiring pbori and pbori-groebner):
+      - 'sage/matrix/matrix_gf2e_dense.pyx',
+      - 'sage/matrix/matrix_integer_dense.pyx',
+      - 'sage/matrix/matrix_mod2_dense.pyx',
+      - 'sage/matrix/matrix_rational_dense.pyx',
+      - 'sage/modules/vector_mod2_dense.pyx',
+      - 'sage/rings/polynomial/pbori/pbori.pyx',
+      - 'sage/rings/polynomial/polynomial_gf2x.pyx'
+- `sage-magma`: requires sage-ecl
+- `sage-giac`: 'sage/libs/giac/giac.pyx'
+- `sage-homfly`: 'sage/libs/homfly.pyx'
+
+This is preparation for Meta-ticket #29705 (Modularization) and #30371.
 
 
 Comment: 1
``````




---

archive/issue_comments_463084.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,97 @@\n+Basically, we are making all external libraries optional, except for a minimal set of \"core\" libraries such as `cysignals` and `gmpy2` (see #29865). \n+\n+(from #30371): See #29705 under the items titled \"Deploy mildly modularized distributions\", \"Further modularization\" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as sage-ntl) - but some libraries come in packs that would not make much sense to separate (such as sage-flint-arb-e_antic).\n+\n+List of distributions:\n+\n+- `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n+- `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n+- `sage-ntl`\n+- `sage-flint-arb-e_antic`\n+      - 'sage/libs/arb/arb_version.pyx',\n+      - 'sage/libs/arb/arith.pyx',\n+      - 'sage/matrix/matrix_complex_ball_dense.pyx',\n+      - 'sage/rings/complex_arb.pyx',\n+      - 'sage/rings/number_field/number_field_element_quadratic.pyx',\n+      - 'sage/rings/polynomial/polynomial_complex_arb.pyx',\n+      - 'sage/rings/real_arb.pyx'\n+- `sage-ecl` (`sage.libs.ecl`)\n+- `sage-singular`: (some of these files actually may be better put in the pynac distribution)\n+      - 'sage/algebras/letterplace/free_algebra_element_letterplace.pyx',\n+      - 'sage/algebras/letterplace/free_algebra_letterplace.pyx',\n+      - 'sage/algebras/letterplace/letterplace_ideal.pyx',\n+      - 'sage/libs/pynac/constant.pyx',\n+      - 'sage/libs/pynac/pynac.pyx',\n+      - 'sage/libs/singular/function.pyx',\n+      - 'sage/libs/singular/groebner_strategy.pyx',\n+      - 'sage/libs/singular/option.pyx',\n+      - 'sage/libs/singular/polynomial.pyx',\n+      - 'sage/libs/singular/ring.pyx',\n+      - 'sage/libs/singular/singular.pyx',\n+      - 'sage/matrix/matrix_mpolynomial_dense.pyx',\n+      - 'sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx',\n+      - 'sage/rings/polynomial/multi_polynomial_libsingular.pyx',\n+      - 'sage/rings/polynomial/plural.pyx',\n+      - 'sage/symbolic/comparison.pyx',\n+      - 'sage/symbolic/constants_c.pyx',\n+      - 'sage/symbolic/expression.pyx',\n+      - 'sage/symbolic/function.pyx',\n+      - 'sage/symbolic/getitem.pyx',\n+      - 'sage/symbolic/ring.pyx',\n+      - 'sage/symbolic/series.pyx',\n+      - 'sage/symbolic/substitution_map.pyx',\n+- `sage-pynac`\n+- `sage-gap`:\n+      - 'sage/coding/codecan/codecan.pyx',\n+      - 'sage/combinat/enumeration_mod_permgroup.pyx',\n+      - 'sage/combinat/root_system/reflection_group_c.pyx',\n+      - 'sage/combinat/root_system/reflection_group_element.pyx',\n+      - 'sage/graphs/spanning_tree.pyx',\n+      - 'sage/groups/libgap_wrapper.pyx',\n+      - 'sage/groups/matrix_gps/group_element.pyx',\n+      - 'sage/groups/perm_gps/permgroup_element.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/automorphism_group_canonical_label.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/canonical_augmentation.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/data_structures.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/double_coset.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_binary.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_graphs.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_lists.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_matrices.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_python.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_sets.pyx',\n+      - 'sage/groups/perm_gps/partn_ref2/refinement_generic.pyx',\n+      - 'sage/libs/gap/element.pyx',\n+      - 'sage/libs/gap/libgap.pyx',\n+      - 'sage/libs/gap/util.pyx',\n+      - 'sage/matrix/matrix_gap.pyx',\n+      - 'sage/sets/disjoint_set.pyx'\n+- `sage-linbox`:\n+      - 'sage/libs/linbox/linbox_flint_interface.pyx',\n+      - 'sage/matrix/matrix_integer_sparse.pyx',\n+      - 'sage/matrix/matrix_modn_dense_double.pyx',\n+      - 'sage/matrix/matrix_modn_dense_float.pyx',\n+      - 'sage/matrix/matrix_modn_sparse.pyx'\n+- `sage-ratpoints`: 'sage/libs/ratpoints.pyx', 'sage/schemes/elliptic_curves/descent_two_isogeny.pyx'\n+- `sage-znpoly` (see #30371 setup.py for which files need zn_poly)\n+      - 'sage/modular/modsym/p1list.pyx',\n+      - 'sage/modular/pollack_stevens/dist.pyx',\n+      - 'sage/rings/fraction_field_FpT.pyx',\n+      - 'sage/rings/polynomial/polynomial_zmod_flint.pyx',\n+      - 'sage/schemes/hyperelliptic_curves/hypellfrob.pyx',\n+- `sage-mari` (also requiring pbori and pbori-groebner):\n+      - 'sage/matrix/matrix_gf2e_dense.pyx',\n+      - 'sage/matrix/matrix_integer_dense.pyx',\n+      - 'sage/matrix/matrix_mod2_dense.pyx',\n+      - 'sage/matrix/matrix_rational_dense.pyx',\n+      - 'sage/modules/vector_mod2_dense.pyx',\n+      - 'sage/rings/polynomial/pbori/pbori.pyx',\n+      - 'sage/rings/polynomial/polynomial_gf2x.pyx'\n+- `sage-magma`: requires sage-ecl\n+- `sage-giac`: 'sage/libs/giac/giac.pyx'\n+- `sage-homfly`: 'sage/libs/homfly.pyx'\n+\n+This is preparation for Meta-ticket #29705 (Modularization) and #30371.\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-10-01T21:36:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463084",
    "user": "https://github.com/tobiasdiez"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,97 @@
+Basically, we are making all external libraries optional, except for a minimal set of "core" libraries such as `cysignals` and `gmpy2` (see #29865). 
+
+(from #30371): See #29705 under the items titled "Deploy mildly modularized distributions", "Further modularization" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as sage-ntl) - but some libraries come in packs that would not make much sense to separate (such as sage-flint-arb-e_antic).
+
+List of distributions:
+
+- `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
+- `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
+- `sage-ntl`
+- `sage-flint-arb-e_antic`
+      - 'sage/libs/arb/arb_version.pyx',
+      - 'sage/libs/arb/arith.pyx',
+      - 'sage/matrix/matrix_complex_ball_dense.pyx',
+      - 'sage/rings/complex_arb.pyx',
+      - 'sage/rings/number_field/number_field_element_quadratic.pyx',
+      - 'sage/rings/polynomial/polynomial_complex_arb.pyx',
+      - 'sage/rings/real_arb.pyx'
+- `sage-ecl` (`sage.libs.ecl`)
+- `sage-singular`: (some of these files actually may be better put in the pynac distribution)
+      - 'sage/algebras/letterplace/free_algebra_element_letterplace.pyx',
+      - 'sage/algebras/letterplace/free_algebra_letterplace.pyx',
+      - 'sage/algebras/letterplace/letterplace_ideal.pyx',
+      - 'sage/libs/pynac/constant.pyx',
+      - 'sage/libs/pynac/pynac.pyx',
+      - 'sage/libs/singular/function.pyx',
+      - 'sage/libs/singular/groebner_strategy.pyx',
+      - 'sage/libs/singular/option.pyx',
+      - 'sage/libs/singular/polynomial.pyx',
+      - 'sage/libs/singular/ring.pyx',
+      - 'sage/libs/singular/singular.pyx',
+      - 'sage/matrix/matrix_mpolynomial_dense.pyx',
+      - 'sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx',
+      - 'sage/rings/polynomial/multi_polynomial_libsingular.pyx',
+      - 'sage/rings/polynomial/plural.pyx',
+      - 'sage/symbolic/comparison.pyx',
+      - 'sage/symbolic/constants_c.pyx',
+      - 'sage/symbolic/expression.pyx',
+      - 'sage/symbolic/function.pyx',
+      - 'sage/symbolic/getitem.pyx',
+      - 'sage/symbolic/ring.pyx',
+      - 'sage/symbolic/series.pyx',
+      - 'sage/symbolic/substitution_map.pyx',
+- `sage-pynac`
+- `sage-gap`:
+      - 'sage/coding/codecan/codecan.pyx',
+      - 'sage/combinat/enumeration_mod_permgroup.pyx',
+      - 'sage/combinat/root_system/reflection_group_c.pyx',
+      - 'sage/combinat/root_system/reflection_group_element.pyx',
+      - 'sage/graphs/spanning_tree.pyx',
+      - 'sage/groups/libgap_wrapper.pyx',
+      - 'sage/groups/matrix_gps/group_element.pyx',
+      - 'sage/groups/perm_gps/permgroup_element.pyx',
+      - 'sage/groups/perm_gps/partn_ref/automorphism_group_canonical_label.pyx',
+      - 'sage/groups/perm_gps/partn_ref/canonical_augmentation.pyx',
+      - 'sage/groups/perm_gps/partn_ref/data_structures.pyx',
+      - 'sage/groups/perm_gps/partn_ref/double_coset.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_binary.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_graphs.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_lists.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_matrices.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_python.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_sets.pyx',
+      - 'sage/groups/perm_gps/partn_ref2/refinement_generic.pyx',
+      - 'sage/libs/gap/element.pyx',
+      - 'sage/libs/gap/libgap.pyx',
+      - 'sage/libs/gap/util.pyx',
+      - 'sage/matrix/matrix_gap.pyx',
+      - 'sage/sets/disjoint_set.pyx'
+- `sage-linbox`:
+      - 'sage/libs/linbox/linbox_flint_interface.pyx',
+      - 'sage/matrix/matrix_integer_sparse.pyx',
+      - 'sage/matrix/matrix_modn_dense_double.pyx',
+      - 'sage/matrix/matrix_modn_dense_float.pyx',
+      - 'sage/matrix/matrix_modn_sparse.pyx'
+- `sage-ratpoints`: 'sage/libs/ratpoints.pyx', 'sage/schemes/elliptic_curves/descent_two_isogeny.pyx'
+- `sage-znpoly` (see #30371 setup.py for which files need zn_poly)
+      - 'sage/modular/modsym/p1list.pyx',
+      - 'sage/modular/pollack_stevens/dist.pyx',
+      - 'sage/rings/fraction_field_FpT.pyx',
+      - 'sage/rings/polynomial/polynomial_zmod_flint.pyx',
+      - 'sage/schemes/hyperelliptic_curves/hypellfrob.pyx',
+- `sage-mari` (also requiring pbori and pbori-groebner):
+      - 'sage/matrix/matrix_gf2e_dense.pyx',
+      - 'sage/matrix/matrix_integer_dense.pyx',
+      - 'sage/matrix/matrix_mod2_dense.pyx',
+      - 'sage/matrix/matrix_rational_dense.pyx',
+      - 'sage/modules/vector_mod2_dense.pyx',
+      - 'sage/rings/polynomial/pbori/pbori.pyx',
+      - 'sage/rings/polynomial/polynomial_gf2x.pyx'
+- `sage-magma`: requires sage-ecl
+- `sage-giac`: 'sage/libs/giac/giac.pyx'
+- `sage-homfly`: 'sage/libs/homfly.pyx'
+
+This is preparation for Meta-ticket #29705 (Modularization) and #30371.
 
 
 Comment: 1
``````




---

archive/issue_comments_463085.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:6 mkoeppe]:\n> Replying to [comment:5 gh-tobiasdiez]:\n> > While working on #30371, I noticed that most cython files using singular cannot be compiled without pynac. So maybe these should be combined.\n\n> \n> I think they should be separate because I really want to be able to make singular optional. pynac, on the other hand, is essential for our symbolics implementation.\n\n\nWhen I wrote this, I didn't recall that singular's `libfactory` is actually a dependency of pynac. So I think you are right, it's best to have pynac and singular in one distribution (for now, at least).",
    "created_at": "2020-10-04T17:05:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463085",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>Replying to [comment:6 mkoeppe]:
> Replying to [comment:5 gh-tobiasdiez]:
> > While working on #30371, I noticed that most cython files using singular cannot be compiled without pynac. So maybe these should be combined.

> 
> I think they should be separate because I really want to be able to make singular optional. pynac, on the other hand, is essential for our symbolics implementation.


When I wrote this, I didn't recall that singular's `libfactory` is actually a dependency of pynac. So I think you are right, it's best to have pynac and singular in one distribution (for now, at least).



---

archive/issue_comments_463086.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd111\".",
    "created_at": "2020-12-06T17:43:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463086",
    "user": "https://github.com/mkoeppe"
}
```

Changing keywords from "" to "sd111".



---

archive/issue_comments_463087.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,97 @@\n+Basically, we are making all external libraries optional, except for a minimal set of \"core\" libraries such as `cysignals` and `gmpy2` (see #29865). \n+\n+(from #30371): See #29705 under the items titled \"Deploy mildly modularized distributions\", \"Further modularization\" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as `sagemath-ntl`) - but some libraries come in packs that would not make much sense to separate (such as `sagemath-flint-arb-e_antic`).\n+\n+List of distributions:\n+\n+- `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n+      - sage/libs/giac/giac.pyx\n+- `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n+- `sagemath-ntl`\n+- `sagemath-flint-arb-e_antic`\n+      - 'sage/libs/arb/arb_version.pyx',\n+      - 'sage/libs/arb/arith.pyx',\n+      - 'sage/matrix/matrix_complex_ball_dense.pyx',\n+      - 'sage/rings/complex_arb.pyx',\n+      - 'sage/rings/number_field/number_field_element_quadratic.pyx',\n+      - 'sage/rings/polynomial/polynomial_complex_arb.pyx',\n+      - 'sage/rings/real_arb.pyx'\n+- `sagemath-ecl` (`sage.libs.ecl`)\n+- `sagemath-maxima`: requires sage-ecl\n+- `sagemath-singular`: (some of these files actually may be better put in the pynac distribution)\n+      - 'sage/algebras/letterplace/free_algebra_element_letterplace.pyx',\n+      - 'sage/algebras/letterplace/free_algebra_letterplace.pyx',\n+      - 'sage/algebras/letterplace/letterplace_ideal.pyx',\n+      - 'sage/libs/pynac/constant.pyx',\n+      - 'sage/libs/pynac/pynac.pyx',\n+      - 'sage/libs/singular/function.pyx',\n+      - 'sage/libs/singular/groebner_strategy.pyx',\n+      - 'sage/libs/singular/option.pyx',\n+      - 'sage/libs/singular/polynomial.pyx',\n+      - 'sage/libs/singular/ring.pyx',\n+      - 'sage/libs/singular/singular.pyx',\n+      - 'sage/matrix/matrix_mpolynomial_dense.pyx',\n+      - 'sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx',\n+      - 'sage/rings/polynomial/multi_polynomial_libsingular.pyx',\n+      - 'sage/rings/polynomial/plural.pyx',\n+      - 'sage/symbolic/comparison.pyx',\n+      - 'sage/symbolic/constants_c.pyx',\n+      - 'sage/symbolic/expression.pyx',\n+      - 'sage/symbolic/function.pyx',\n+      - 'sage/symbolic/getitem.pyx',\n+      - 'sage/symbolic/ring.pyx',\n+      - 'sage/symbolic/series.pyx',\n+      - 'sage/symbolic/substitution_map.pyx',\n+- `sagemath-pynac`\n+- `sagemath-gap`:\n+      - 'sage/coding/codecan/codecan.pyx',\n+      - 'sage/combinat/enumeration_mod_permgroup.pyx',\n+      - 'sage/combinat/root_system/reflection_group_c.pyx',\n+      - 'sage/combinat/root_system/reflection_group_element.pyx',\n+      - 'sage/graphs/spanning_tree.pyx',\n+      - 'sage/groups/libgap_wrapper.pyx',\n+      - 'sage/groups/matrix_gps/group_element.pyx',\n+      - 'sage/groups/perm_gps/permgroup_element.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/automorphism_group_canonical_label.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/canonical_augmentation.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/data_structures.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/double_coset.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_binary.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_graphs.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_lists.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_matrices.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_python.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_sets.pyx',\n+      - 'sage/groups/perm_gps/partn_ref2/refinement_generic.pyx',\n+      - 'sage/libs/gap/element.pyx',\n+      - 'sage/libs/gap/libgap.pyx',\n+      - 'sage/libs/gap/util.pyx',\n+      - 'sage/matrix/matrix_gap.pyx',\n+      - 'sage/sets/disjoint_set.pyx'\n+- `sagemath-linbox`:\n+      - 'sage/libs/linbox/linbox_flint_interface.pyx',\n+      - 'sage/matrix/matrix_integer_sparse.pyx',\n+      - 'sage/matrix/matrix_modn_dense_double.pyx',\n+      - 'sage/matrix/matrix_modn_dense_float.pyx',\n+      - 'sage/matrix/matrix_modn_sparse.pyx'\n+- `sagemath-ratpoints`: 'sage/libs/ratpoints.pyx', 'sage/schemes/elliptic_curves/descent_two_isogeny.pyx'\n+- `sagemath-znpoly` (see #30371 setup.py for which files need zn_poly)\n+      - 'sage/modular/modsym/p1list.pyx',\n+      - 'sage/modular/pollack_stevens/dist.pyx',\n+      - 'sage/rings/fraction_field_FpT.pyx',\n+      - 'sage/rings/polynomial/polynomial_zmod_flint.pyx',\n+      - 'sage/schemes/hyperelliptic_curves/hypellfrob.pyx',\n+- `sagemath-mari` (also requiring pbori and pbori-groebner):\n+      - 'sage/matrix/matrix_gf2e_dense.pyx',\n+      - 'sage/matrix/matrix_integer_dense.pyx',\n+      - 'sage/matrix/matrix_mod2_dense.pyx',\n+      - 'sage/matrix/matrix_rational_dense.pyx',\n+      - 'sage/modules/vector_mod2_dense.pyx',\n+      - 'sage/rings/polynomial/pbori/pbori.pyx',\n+      - 'sage/rings/polynomial/polynomial_gf2x.pyx'\n+- `sagemath-homfly`: 'sage/libs/homfly.pyx'\n+\n+This is preparation for Meta-ticket #29705 (Modularization) and #30371.\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-12-09T01:41:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463087",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,97 @@
+Basically, we are making all external libraries optional, except for a minimal set of "core" libraries such as `cysignals` and `gmpy2` (see #29865). 
+
+(from #30371): See #29705 under the items titled "Deploy mildly modularized distributions", "Further modularization" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as `sagemath-ntl`) - but some libraries come in packs that would not make much sense to separate (such as `sagemath-flint-arb-e_antic`).
+
+List of distributions:
+
+- `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
+      - sage/libs/giac/giac.pyx
+- `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
+- `sagemath-ntl`
+- `sagemath-flint-arb-e_antic`
+      - 'sage/libs/arb/arb_version.pyx',
+      - 'sage/libs/arb/arith.pyx',
+      - 'sage/matrix/matrix_complex_ball_dense.pyx',
+      - 'sage/rings/complex_arb.pyx',
+      - 'sage/rings/number_field/number_field_element_quadratic.pyx',
+      - 'sage/rings/polynomial/polynomial_complex_arb.pyx',
+      - 'sage/rings/real_arb.pyx'
+- `sagemath-ecl` (`sage.libs.ecl`)
+- `sagemath-maxima`: requires sage-ecl
+- `sagemath-singular`: (some of these files actually may be better put in the pynac distribution)
+      - 'sage/algebras/letterplace/free_algebra_element_letterplace.pyx',
+      - 'sage/algebras/letterplace/free_algebra_letterplace.pyx',
+      - 'sage/algebras/letterplace/letterplace_ideal.pyx',
+      - 'sage/libs/pynac/constant.pyx',
+      - 'sage/libs/pynac/pynac.pyx',
+      - 'sage/libs/singular/function.pyx',
+      - 'sage/libs/singular/groebner_strategy.pyx',
+      - 'sage/libs/singular/option.pyx',
+      - 'sage/libs/singular/polynomial.pyx',
+      - 'sage/libs/singular/ring.pyx',
+      - 'sage/libs/singular/singular.pyx',
+      - 'sage/matrix/matrix_mpolynomial_dense.pyx',
+      - 'sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx',
+      - 'sage/rings/polynomial/multi_polynomial_libsingular.pyx',
+      - 'sage/rings/polynomial/plural.pyx',
+      - 'sage/symbolic/comparison.pyx',
+      - 'sage/symbolic/constants_c.pyx',
+      - 'sage/symbolic/expression.pyx',
+      - 'sage/symbolic/function.pyx',
+      - 'sage/symbolic/getitem.pyx',
+      - 'sage/symbolic/ring.pyx',
+      - 'sage/symbolic/series.pyx',
+      - 'sage/symbolic/substitution_map.pyx',
+- `sagemath-pynac`
+- `sagemath-gap`:
+      - 'sage/coding/codecan/codecan.pyx',
+      - 'sage/combinat/enumeration_mod_permgroup.pyx',
+      - 'sage/combinat/root_system/reflection_group_c.pyx',
+      - 'sage/combinat/root_system/reflection_group_element.pyx',
+      - 'sage/graphs/spanning_tree.pyx',
+      - 'sage/groups/libgap_wrapper.pyx',
+      - 'sage/groups/matrix_gps/group_element.pyx',
+      - 'sage/groups/perm_gps/permgroup_element.pyx',
+      - 'sage/groups/perm_gps/partn_ref/automorphism_group_canonical_label.pyx',
+      - 'sage/groups/perm_gps/partn_ref/canonical_augmentation.pyx',
+      - 'sage/groups/perm_gps/partn_ref/data_structures.pyx',
+      - 'sage/groups/perm_gps/partn_ref/double_coset.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_binary.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_graphs.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_lists.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_matrices.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_python.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_sets.pyx',
+      - 'sage/groups/perm_gps/partn_ref2/refinement_generic.pyx',
+      - 'sage/libs/gap/element.pyx',
+      - 'sage/libs/gap/libgap.pyx',
+      - 'sage/libs/gap/util.pyx',
+      - 'sage/matrix/matrix_gap.pyx',
+      - 'sage/sets/disjoint_set.pyx'
+- `sagemath-linbox`:
+      - 'sage/libs/linbox/linbox_flint_interface.pyx',
+      - 'sage/matrix/matrix_integer_sparse.pyx',
+      - 'sage/matrix/matrix_modn_dense_double.pyx',
+      - 'sage/matrix/matrix_modn_dense_float.pyx',
+      - 'sage/matrix/matrix_modn_sparse.pyx'
+- `sagemath-ratpoints`: 'sage/libs/ratpoints.pyx', 'sage/schemes/elliptic_curves/descent_two_isogeny.pyx'
+- `sagemath-znpoly` (see #30371 setup.py for which files need zn_poly)
+      - 'sage/modular/modsym/p1list.pyx',
+      - 'sage/modular/pollack_stevens/dist.pyx',
+      - 'sage/rings/fraction_field_FpT.pyx',
+      - 'sage/rings/polynomial/polynomial_zmod_flint.pyx',
+      - 'sage/schemes/hyperelliptic_curves/hypellfrob.pyx',
+- `sagemath-mari` (also requiring pbori and pbori-groebner):
+      - 'sage/matrix/matrix_gf2e_dense.pyx',
+      - 'sage/matrix/matrix_integer_dense.pyx',
+      - 'sage/matrix/matrix_mod2_dense.pyx',
+      - 'sage/matrix/matrix_rational_dense.pyx',
+      - 'sage/modules/vector_mod2_dense.pyx',
+      - 'sage/rings/polynomial/pbori/pbori.pyx',
+      - 'sage/rings/polynomial/polynomial_gf2x.pyx'
+- `sagemath-homfly`: 'sage/libs/homfly.pyx'
+
+This is preparation for Meta-ticket #29705 (Modularization) and #30371.
 
 
 Comment: 1
``````




---

archive/issue_comments_463088.json:
```json
{
    "body": "<a id='comment:17'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463088",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_079776.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30666#event-79776"
}
```



---

archive/issue_events_079777.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30666#event-79777"
}
```



---

archive/issue_events_079778.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30666#event-79778"
}
```



---

archive/issue_events_079779.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30666#event-79779"
}
```



---

archive/issue_events_079780.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30666#event-79780"
}
```



---

archive/issue_events_079781.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30666#event-79781"
}
```



---

archive/issue_events_079782.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30666#event-79782"
}
```



---

archive/issue_events_079783.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30666#event-79783"
}
```



---

archive/issue_events_079784.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30666#event-79784"
}
```



---

archive/issue_comments_463089.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,99 @@\n+Basically, we are making all external libraries optional, except for a minimal set of \"core\" libraries such as `cysignals` and `gmpy2` (see #29865). \n+\n+(from #30371): See #29705 under the items titled \"Deploy mildly modularized distributions\", \"Further modularization\" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as `sagemath-ntl`) - but some libraries come in packs that would not make much sense to separate (such as `sagemath-flint-arb-e_antic`).\n+\n+List of distributions:\n+\n+- **sagemath-flint-arb**\n+      - 'sage/libs/arb/arb_version.pyx',\n+      - 'sage/libs/arb/arith.pyx',\n+      - 'sage/matrix/matrix_complex_ball_dense.pyx',\n+      - 'sage/rings/complex_arb.pyx',\n+      - 'sage/rings/number_field/number_field_element_quadratic.pyx',\n+      - 'sage/rings/polynomial/polynomial_complex_arb.pyx',\n+      - 'sage/rings/real_arb.pyx'\n+      - etc.\n+- **sagemath-homfly**: 'sage/libs/homfly.pyx'\n+- **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n+      - sage/libs/giac/giac.pyx\n+\n+\n+- `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n+- `sagemath-ntl`\n+- `sagemath-ecl` (`sage.libs.ecl`)\n+- `sagemath-maxima`: requires sage-ecl\n+- `sagemath-singular`: (some of these files actually may be better put in the pynac distribution)\n+      - 'sage/algebras/letterplace/free_algebra_element_letterplace.pyx',\n+      - 'sage/algebras/letterplace/free_algebra_letterplace.pyx',\n+      - 'sage/algebras/letterplace/letterplace_ideal.pyx',\n+      - 'sage/libs/pynac/constant.pyx',\n+      - 'sage/libs/pynac/pynac.pyx',\n+      - 'sage/libs/singular/function.pyx',\n+      - 'sage/libs/singular/groebner_strategy.pyx',\n+      - 'sage/libs/singular/option.pyx',\n+      - 'sage/libs/singular/polynomial.pyx',\n+      - 'sage/libs/singular/ring.pyx',\n+      - 'sage/libs/singular/singular.pyx',\n+      - 'sage/matrix/matrix_mpolynomial_dense.pyx',\n+      - 'sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx',\n+      - 'sage/rings/polynomial/multi_polynomial_libsingular.pyx',\n+      - 'sage/rings/polynomial/plural.pyx',\n+      - 'sage/symbolic/comparison.pyx',\n+      - 'sage/symbolic/constants_c.pyx',\n+      - 'sage/symbolic/expression.pyx',\n+      - 'sage/symbolic/function.pyx',\n+      - 'sage/symbolic/getitem.pyx',\n+      - 'sage/symbolic/ring.pyx',\n+      - 'sage/symbolic/series.pyx',\n+      - 'sage/symbolic/substitution_map.pyx',\n+- `sagemath-pynac`\n+- `sagemath-gap`:\n+      - 'sage/coding/codecan/codecan.pyx',\n+      - 'sage/combinat/enumeration_mod_permgroup.pyx',\n+      - 'sage/combinat/root_system/reflection_group_c.pyx',\n+      - 'sage/combinat/root_system/reflection_group_element.pyx',\n+      - 'sage/graphs/spanning_tree.pyx',\n+      - 'sage/groups/libgap_wrapper.pyx',\n+      - 'sage/groups/matrix_gps/group_element.pyx',\n+      - 'sage/groups/perm_gps/permgroup_element.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/automorphism_group_canonical_label.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/canonical_augmentation.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/data_structures.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/double_coset.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_binary.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_graphs.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_lists.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_matrices.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_python.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_sets.pyx',\n+      - 'sage/groups/perm_gps/partn_ref2/refinement_generic.pyx',\n+      - 'sage/libs/gap/element.pyx',\n+      - 'sage/libs/gap/libgap.pyx',\n+      - 'sage/libs/gap/util.pyx',\n+      - 'sage/matrix/matrix_gap.pyx',\n+      - 'sage/sets/disjoint_set.pyx'\n+- `sagemath-linbox`:\n+      - 'sage/libs/linbox/linbox_flint_interface.pyx',\n+      - 'sage/matrix/matrix_integer_sparse.pyx',\n+      - 'sage/matrix/matrix_modn_dense_double.pyx',\n+      - 'sage/matrix/matrix_modn_dense_float.pyx',\n+      - 'sage/matrix/matrix_modn_sparse.pyx'\n+- `sagemath-znpoly` (subject to removal in #32841?)\n+      - 'sage/modular/modsym/p1list.pyx',\n+      - 'sage/modular/pollack_stevens/dist.pyx',\n+      - 'sage/rings/fraction_field_FpT.pyx',\n+      - 'sage/rings/polynomial/polynomial_zmod_flint.pyx',\n+      - 'sage/schemes/hyperelliptic_curves/hypellfrob.pyx',\n+- `sagemath-mari` (also requiring pbori and pbori-groebner):\n+      - 'sage/matrix/matrix_gf2e_dense.pyx',\n+      - 'sage/matrix/matrix_integer_dense.pyx',\n+      - 'sage/matrix/matrix_mod2_dense.pyx',\n+      - 'sage/matrix/matrix_rational_dense.pyx',\n+      - 'sage/modules/vector_mod2_dense.pyx',\n+      - 'sage/rings/polynomial/pbori/pbori.pyx',\n+      - 'sage/rings/polynomial/polynomial_gf2x.pyx'\n+\n+This is preparation for Meta-ticket #29705 (Modularization) and #30371.\n \n \n Comment: 1\n``````\n",
    "created_at": "2022-11-17T06:48:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463089",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,99 @@
+Basically, we are making all external libraries optional, except for a minimal set of "core" libraries such as `cysignals` and `gmpy2` (see #29865). 
+
+(from #30371): See #29705 under the items titled "Deploy mildly modularized distributions", "Further modularization" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as `sagemath-ntl`) - but some libraries come in packs that would not make much sense to separate (such as `sagemath-flint-arb-e_antic`).
+
+List of distributions:
+
+- **sagemath-flint-arb**
+      - 'sage/libs/arb/arb_version.pyx',
+      - 'sage/libs/arb/arith.pyx',
+      - 'sage/matrix/matrix_complex_ball_dense.pyx',
+      - 'sage/rings/complex_arb.pyx',
+      - 'sage/rings/number_field/number_field_element_quadratic.pyx',
+      - 'sage/rings/polynomial/polynomial_complex_arb.pyx',
+      - 'sage/rings/real_arb.pyx'
+      - etc.
+- **sagemath-homfly**: 'sage/libs/homfly.pyx'
+- **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
+      - sage/libs/giac/giac.pyx
+
+
+- `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
+- `sagemath-ntl`
+- `sagemath-ecl` (`sage.libs.ecl`)
+- `sagemath-maxima`: requires sage-ecl
+- `sagemath-singular`: (some of these files actually may be better put in the pynac distribution)
+      - 'sage/algebras/letterplace/free_algebra_element_letterplace.pyx',
+      - 'sage/algebras/letterplace/free_algebra_letterplace.pyx',
+      - 'sage/algebras/letterplace/letterplace_ideal.pyx',
+      - 'sage/libs/pynac/constant.pyx',
+      - 'sage/libs/pynac/pynac.pyx',
+      - 'sage/libs/singular/function.pyx',
+      - 'sage/libs/singular/groebner_strategy.pyx',
+      - 'sage/libs/singular/option.pyx',
+      - 'sage/libs/singular/polynomial.pyx',
+      - 'sage/libs/singular/ring.pyx',
+      - 'sage/libs/singular/singular.pyx',
+      - 'sage/matrix/matrix_mpolynomial_dense.pyx',
+      - 'sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx',
+      - 'sage/rings/polynomial/multi_polynomial_libsingular.pyx',
+      - 'sage/rings/polynomial/plural.pyx',
+      - 'sage/symbolic/comparison.pyx',
+      - 'sage/symbolic/constants_c.pyx',
+      - 'sage/symbolic/expression.pyx',
+      - 'sage/symbolic/function.pyx',
+      - 'sage/symbolic/getitem.pyx',
+      - 'sage/symbolic/ring.pyx',
+      - 'sage/symbolic/series.pyx',
+      - 'sage/symbolic/substitution_map.pyx',
+- `sagemath-pynac`
+- `sagemath-gap`:
+      - 'sage/coding/codecan/codecan.pyx',
+      - 'sage/combinat/enumeration_mod_permgroup.pyx',
+      - 'sage/combinat/root_system/reflection_group_c.pyx',
+      - 'sage/combinat/root_system/reflection_group_element.pyx',
+      - 'sage/graphs/spanning_tree.pyx',
+      - 'sage/groups/libgap_wrapper.pyx',
+      - 'sage/groups/matrix_gps/group_element.pyx',
+      - 'sage/groups/perm_gps/permgroup_element.pyx',
+      - 'sage/groups/perm_gps/partn_ref/automorphism_group_canonical_label.pyx',
+      - 'sage/groups/perm_gps/partn_ref/canonical_augmentation.pyx',
+      - 'sage/groups/perm_gps/partn_ref/data_structures.pyx',
+      - 'sage/groups/perm_gps/partn_ref/double_coset.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_binary.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_graphs.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_lists.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_matrices.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_python.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_sets.pyx',
+      - 'sage/groups/perm_gps/partn_ref2/refinement_generic.pyx',
+      - 'sage/libs/gap/element.pyx',
+      - 'sage/libs/gap/libgap.pyx',
+      - 'sage/libs/gap/util.pyx',
+      - 'sage/matrix/matrix_gap.pyx',
+      - 'sage/sets/disjoint_set.pyx'
+- `sagemath-linbox`:
+      - 'sage/libs/linbox/linbox_flint_interface.pyx',
+      - 'sage/matrix/matrix_integer_sparse.pyx',
+      - 'sage/matrix/matrix_modn_dense_double.pyx',
+      - 'sage/matrix/matrix_modn_dense_float.pyx',
+      - 'sage/matrix/matrix_modn_sparse.pyx'
+- `sagemath-znpoly` (subject to removal in #32841?)
+      - 'sage/modular/modsym/p1list.pyx',
+      - 'sage/modular/pollack_stevens/dist.pyx',
+      - 'sage/rings/fraction_field_FpT.pyx',
+      - 'sage/rings/polynomial/polynomial_zmod_flint.pyx',
+      - 'sage/schemes/hyperelliptic_curves/hypellfrob.pyx',
+- `sagemath-mari` (also requiring pbori and pbori-groebner):
+      - 'sage/matrix/matrix_gf2e_dense.pyx',
+      - 'sage/matrix/matrix_integer_dense.pyx',
+      - 'sage/matrix/matrix_mod2_dense.pyx',
+      - 'sage/matrix/matrix_rational_dense.pyx',
+      - 'sage/modules/vector_mod2_dense.pyx',
+      - 'sage/rings/polynomial/pbori/pbori.pyx',
+      - 'sage/rings/polynomial/polynomial_gf2x.pyx'
+
+This is preparation for Meta-ticket #29705 (Modularization) and #30371.
 
 
 Comment: 1
``````




---

archive/issue_comments_463090.json:
```json
{
    "body": "<a id='comment:23'></a>New commits:",
    "created_at": "2022-11-17T06:48:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463090",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>New commits:



---

archive/issue_comments_463091.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,99 @@\n+Basically, we are making all external libraries optional, except for a minimal set of \"core\" libraries such as `cysignals` and `gmpy2` (see #29865). \n+\n+(from #30371): See #29705 under the items titled \"Deploy mildly modularized distributions\", \"Further modularization\" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as `sagemath-ntl`) - but some libraries come in packs that would not make much sense to separate (such as `sagemath-flint-arb-e_antic`).\n+\n+List of distributions:\n+\n+- **sagemath-flint-arb**\n+      - 'sage/libs/arb/arb_version.pyx',\n+      - 'sage/libs/arb/arith.pyx',\n+      - 'sage/matrix/matrix_complex_ball_dense.pyx',\n+      - 'sage/rings/complex_arb.pyx',\n+      - 'sage/rings/number_field/number_field_element_quadratic.pyx',\n+      - 'sage/rings/polynomial/polynomial_complex_arb.pyx',\n+      - 'sage/rings/real_arb.pyx'\n+      - etc.\n+- **sagemath-homfly**: 'sage/libs/homfly.pyx'\n+- **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n+      - sage/libs/giac/giac.pyx\n+- **sagemath-gap**:\n+      - 'sage/coding/codecan/codecan.pyx',\n+      - 'sage/combinat/enumeration_mod_permgroup.pyx',\n+      - 'sage/combinat/root_system/reflection_group_c.pyx',\n+      - 'sage/combinat/root_system/reflection_group_element.pyx',\n+      - 'sage/graphs/spanning_tree.pyx',\n+      - 'sage/groups/libgap_wrapper.pyx',\n+      - 'sage/groups/matrix_gps/group_element.pyx',\n+      - 'sage/groups/perm_gps/permgroup_element.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/automorphism_group_canonical_label.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/canonical_augmentation.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/data_structures.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/double_coset.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_binary.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_graphs.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_lists.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_matrices.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_python.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_sets.pyx',\n+      - 'sage/groups/perm_gps/partn_ref2/refinement_generic.pyx',\n+      - 'sage/libs/gap/element.pyx',\n+      - 'sage/libs/gap/libgap.pyx',\n+      - 'sage/libs/gap/util.pyx',\n+      - 'sage/matrix/matrix_gap.pyx',\n+      - 'sage/sets/disjoint_set.pyx'\n+\n+\n+- `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n+- `sagemath-ntl`\n+- `sagemath-ecl` (`sage.libs.ecl`)\n+- `sagemath-maxima`: requires sage-ecl\n+- `sagemath-singular`: (some of these files actually may be better put in the pynac distribution)\n+      - 'sage/algebras/letterplace/free_algebra_element_letterplace.pyx',\n+      - 'sage/algebras/letterplace/free_algebra_letterplace.pyx',\n+      - 'sage/algebras/letterplace/letterplace_ideal.pyx',\n+      - 'sage/libs/pynac/constant.pyx',\n+      - 'sage/libs/pynac/pynac.pyx',\n+      - 'sage/libs/singular/function.pyx',\n+      - 'sage/libs/singular/groebner_strategy.pyx',\n+      - 'sage/libs/singular/option.pyx',\n+      - 'sage/libs/singular/polynomial.pyx',\n+      - 'sage/libs/singular/ring.pyx',\n+      - 'sage/libs/singular/singular.pyx',\n+      - 'sage/matrix/matrix_mpolynomial_dense.pyx',\n+      - 'sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx',\n+      - 'sage/rings/polynomial/multi_polynomial_libsingular.pyx',\n+      - 'sage/rings/polynomial/plural.pyx',\n+      - 'sage/symbolic/comparison.pyx',\n+      - 'sage/symbolic/constants_c.pyx',\n+      - 'sage/symbolic/expression.pyx',\n+      - 'sage/symbolic/function.pyx',\n+      - 'sage/symbolic/getitem.pyx',\n+      - 'sage/symbolic/ring.pyx',\n+      - 'sage/symbolic/series.pyx',\n+      - 'sage/symbolic/substitution_map.pyx',\n+- `sagemath-pynac`\n+- `sagemath-linbox`:\n+      - 'sage/libs/linbox/linbox_flint_interface.pyx',\n+      - 'sage/matrix/matrix_integer_sparse.pyx',\n+      - 'sage/matrix/matrix_modn_dense_double.pyx',\n+      - 'sage/matrix/matrix_modn_dense_float.pyx',\n+      - 'sage/matrix/matrix_modn_sparse.pyx'\n+- `sagemath-znpoly` (subject to removal in #32841?)\n+      - 'sage/modular/modsym/p1list.pyx',\n+      - 'sage/modular/pollack_stevens/dist.pyx',\n+      - 'sage/rings/fraction_field_FpT.pyx',\n+      - 'sage/rings/polynomial/polynomial_zmod_flint.pyx',\n+      - 'sage/schemes/hyperelliptic_curves/hypellfrob.pyx',\n+- `sagemath-mari` (also requiring pbori and pbori-groebner):\n+      - 'sage/matrix/matrix_gf2e_dense.pyx',\n+      - 'sage/matrix/matrix_integer_dense.pyx',\n+      - 'sage/matrix/matrix_mod2_dense.pyx',\n+      - 'sage/matrix/matrix_rational_dense.pyx',\n+      - 'sage/modules/vector_mod2_dense.pyx',\n+      - 'sage/rings/polynomial/pbori/pbori.pyx',\n+      - 'sage/rings/polynomial/polynomial_gf2x.pyx'\n+\n+This is preparation for Meta-ticket #29705 (Modularization) and #30371.\n \n \n Comment: 1\n``````\n",
    "created_at": "2022-11-17T06:58:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463091",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,99 @@
+Basically, we are making all external libraries optional, except for a minimal set of "core" libraries such as `cysignals` and `gmpy2` (see #29865). 
+
+(from #30371): See #29705 under the items titled "Deploy mildly modularized distributions", "Further modularization" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as `sagemath-ntl`) - but some libraries come in packs that would not make much sense to separate (such as `sagemath-flint-arb-e_antic`).
+
+List of distributions:
+
+- **sagemath-flint-arb**
+      - 'sage/libs/arb/arb_version.pyx',
+      - 'sage/libs/arb/arith.pyx',
+      - 'sage/matrix/matrix_complex_ball_dense.pyx',
+      - 'sage/rings/complex_arb.pyx',
+      - 'sage/rings/number_field/number_field_element_quadratic.pyx',
+      - 'sage/rings/polynomial/polynomial_complex_arb.pyx',
+      - 'sage/rings/real_arb.pyx'
+      - etc.
+- **sagemath-homfly**: 'sage/libs/homfly.pyx'
+- **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
+      - sage/libs/giac/giac.pyx
+- **sagemath-gap**:
+      - 'sage/coding/codecan/codecan.pyx',
+      - 'sage/combinat/enumeration_mod_permgroup.pyx',
+      - 'sage/combinat/root_system/reflection_group_c.pyx',
+      - 'sage/combinat/root_system/reflection_group_element.pyx',
+      - 'sage/graphs/spanning_tree.pyx',
+      - 'sage/groups/libgap_wrapper.pyx',
+      - 'sage/groups/matrix_gps/group_element.pyx',
+      - 'sage/groups/perm_gps/permgroup_element.pyx',
+      - 'sage/groups/perm_gps/partn_ref/automorphism_group_canonical_label.pyx',
+      - 'sage/groups/perm_gps/partn_ref/canonical_augmentation.pyx',
+      - 'sage/groups/perm_gps/partn_ref/data_structures.pyx',
+      - 'sage/groups/perm_gps/partn_ref/double_coset.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_binary.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_graphs.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_lists.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_matrices.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_python.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_sets.pyx',
+      - 'sage/groups/perm_gps/partn_ref2/refinement_generic.pyx',
+      - 'sage/libs/gap/element.pyx',
+      - 'sage/libs/gap/libgap.pyx',
+      - 'sage/libs/gap/util.pyx',
+      - 'sage/matrix/matrix_gap.pyx',
+      - 'sage/sets/disjoint_set.pyx'
+
+
+- `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
+- `sagemath-ntl`
+- `sagemath-ecl` (`sage.libs.ecl`)
+- `sagemath-maxima`: requires sage-ecl
+- `sagemath-singular`: (some of these files actually may be better put in the pynac distribution)
+      - 'sage/algebras/letterplace/free_algebra_element_letterplace.pyx',
+      - 'sage/algebras/letterplace/free_algebra_letterplace.pyx',
+      - 'sage/algebras/letterplace/letterplace_ideal.pyx',
+      - 'sage/libs/pynac/constant.pyx',
+      - 'sage/libs/pynac/pynac.pyx',
+      - 'sage/libs/singular/function.pyx',
+      - 'sage/libs/singular/groebner_strategy.pyx',
+      - 'sage/libs/singular/option.pyx',
+      - 'sage/libs/singular/polynomial.pyx',
+      - 'sage/libs/singular/ring.pyx',
+      - 'sage/libs/singular/singular.pyx',
+      - 'sage/matrix/matrix_mpolynomial_dense.pyx',
+      - 'sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx',
+      - 'sage/rings/polynomial/multi_polynomial_libsingular.pyx',
+      - 'sage/rings/polynomial/plural.pyx',
+      - 'sage/symbolic/comparison.pyx',
+      - 'sage/symbolic/constants_c.pyx',
+      - 'sage/symbolic/expression.pyx',
+      - 'sage/symbolic/function.pyx',
+      - 'sage/symbolic/getitem.pyx',
+      - 'sage/symbolic/ring.pyx',
+      - 'sage/symbolic/series.pyx',
+      - 'sage/symbolic/substitution_map.pyx',
+- `sagemath-pynac`
+- `sagemath-linbox`:
+      - 'sage/libs/linbox/linbox_flint_interface.pyx',
+      - 'sage/matrix/matrix_integer_sparse.pyx',
+      - 'sage/matrix/matrix_modn_dense_double.pyx',
+      - 'sage/matrix/matrix_modn_dense_float.pyx',
+      - 'sage/matrix/matrix_modn_sparse.pyx'
+- `sagemath-znpoly` (subject to removal in #32841?)
+      - 'sage/modular/modsym/p1list.pyx',
+      - 'sage/modular/pollack_stevens/dist.pyx',
+      - 'sage/rings/fraction_field_FpT.pyx',
+      - 'sage/rings/polynomial/polynomial_zmod_flint.pyx',
+      - 'sage/schemes/hyperelliptic_curves/hypellfrob.pyx',
+- `sagemath-mari` (also requiring pbori and pbori-groebner):
+      - 'sage/matrix/matrix_gf2e_dense.pyx',
+      - 'sage/matrix/matrix_integer_dense.pyx',
+      - 'sage/matrix/matrix_mod2_dense.pyx',
+      - 'sage/matrix/matrix_rational_dense.pyx',
+      - 'sage/modules/vector_mod2_dense.pyx',
+      - 'sage/rings/polynomial/pbori/pbori.pyx',
+      - 'sage/rings/polynomial/polynomial_gf2x.pyx'
+
+This is preparation for Meta-ticket #29705 (Modularization) and #30371.
 
 
 Comment: 1
``````




---

archive/issue_comments_463092.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-17T06:58:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463092",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463093.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-17T08:33:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463093",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463094.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,100 @@\n+Basically, we are making all external libraries optional, except for a minimal set of \"core\" libraries such as `cysignals` and `gmpy2` (see #29865). \n+\n+(from #30371): See #29705 under the items titled \"Deploy mildly modularized distributions\", \"Further modularization\" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as `sagemath-ntl`) - but some libraries come in packs that would not make much sense to separate (such as `sagemath-flint-arb-e_antic`).\n+\n+List of distributions:\n+\n+- **sagemath-flint-arb**\n+      - 'sage/libs/arb/arb_version.pyx',\n+      - 'sage/libs/arb/arith.pyx',\n+      - 'sage/matrix/matrix_complex_ball_dense.pyx',\n+      - 'sage/rings/complex_arb.pyx',\n+      - 'sage/rings/number_field/number_field_element_quadratic.pyx',\n+      - 'sage/rings/polynomial/polynomial_complex_arb.pyx',\n+      - 'sage/rings/real_arb.pyx'\n+      - etc.\n+- **sagemath-homfly**: 'sage/libs/homfly.pyx'\n+- **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n+      - sage/libs/giac/giac.pyx\n+- **sagemath-gap**:\n+      - 'sage/coding/codecan/codecan.pyx',\n+      - 'sage/combinat/enumeration_mod_permgroup.pyx',\n+      - 'sage/combinat/root_system/reflection_group_c.pyx',\n+      - 'sage/combinat/root_system/reflection_group_element.pyx',\n+      - 'sage/graphs/spanning_tree.pyx',\n+      - 'sage/groups/libgap_wrapper.pyx',\n+      - 'sage/groups/matrix_gps/group_element.pyx',\n+      - 'sage/groups/perm_gps/permgroup_element.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/automorphism_group_canonical_label.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/canonical_augmentation.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/data_structures.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/double_coset.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_binary.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_graphs.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_lists.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_matrices.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_python.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_sets.pyx',\n+      - 'sage/groups/perm_gps/partn_ref2/refinement_generic.pyx',\n+      - 'sage/libs/gap/element.pyx',\n+      - 'sage/libs/gap/libgap.pyx',\n+      - 'sage/libs/gap/util.pyx',\n+      - 'sage/matrix/matrix_gap.pyx',\n+      - 'sage/sets/disjoint_set.pyx'\n+\n+In follow-up tickets:\n+\n+- `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n+- `sagemath-ntl`\n+- `sagemath-ecl` (`sage.libs.ecl`)\n+- `sagemath-maxima`: requires sage-ecl\n+- `sagemath-singular`: (some of these files actually may be better put in the pynac distribution)\n+      - 'sage/algebras/letterplace/free_algebra_element_letterplace.pyx',\n+      - 'sage/algebras/letterplace/free_algebra_letterplace.pyx',\n+      - 'sage/algebras/letterplace/letterplace_ideal.pyx',\n+      - 'sage/libs/pynac/constant.pyx',\n+      - 'sage/libs/pynac/pynac.pyx',\n+      - 'sage/libs/singular/function.pyx',\n+      - 'sage/libs/singular/groebner_strategy.pyx',\n+      - 'sage/libs/singular/option.pyx',\n+      - 'sage/libs/singular/polynomial.pyx',\n+      - 'sage/libs/singular/ring.pyx',\n+      - 'sage/libs/singular/singular.pyx',\n+      - 'sage/matrix/matrix_mpolynomial_dense.pyx',\n+      - 'sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx',\n+      - 'sage/rings/polynomial/multi_polynomial_libsingular.pyx',\n+      - 'sage/rings/polynomial/plural.pyx',\n+      - 'sage/symbolic/comparison.pyx',\n+      - 'sage/symbolic/constants_c.pyx',\n+      - 'sage/symbolic/expression.pyx',\n+      - 'sage/symbolic/function.pyx',\n+      - 'sage/symbolic/getitem.pyx',\n+      - 'sage/symbolic/ring.pyx',\n+      - 'sage/symbolic/series.pyx',\n+      - 'sage/symbolic/substitution_map.pyx',\n+- `sagemath-pynac`\n+- `sagemath-linbox`:\n+      - 'sage/libs/linbox/linbox_flint_interface.pyx',\n+      - 'sage/matrix/matrix_integer_sparse.pyx',\n+      - 'sage/matrix/matrix_modn_dense_double.pyx',\n+      - 'sage/matrix/matrix_modn_dense_float.pyx',\n+      - 'sage/matrix/matrix_modn_sparse.pyx'\n+- `sagemath-znpoly` (subject to removal in #32841?)\n+      - 'sage/modular/modsym/p1list.pyx',\n+      - 'sage/modular/pollack_stevens/dist.pyx',\n+      - 'sage/rings/fraction_field_FpT.pyx',\n+      - 'sage/rings/polynomial/polynomial_zmod_flint.pyx',\n+      - 'sage/schemes/hyperelliptic_curves/hypellfrob.pyx',\n+- `sagemath-mari` (also requiring pbori and pbori-groebner):\n+      - 'sage/matrix/matrix_gf2e_dense.pyx',\n+      - 'sage/matrix/matrix_integer_dense.pyx',\n+      - 'sage/matrix/matrix_mod2_dense.pyx',\n+      - 'sage/matrix/matrix_rational_dense.pyx',\n+      - 'sage/modules/vector_mod2_dense.pyx',\n+      - 'sage/rings/polynomial/pbori/pbori.pyx',\n+      - 'sage/rings/polynomial/polynomial_gf2x.pyx'\n+\n+This is preparation for Meta-ticket #29705 (Modularization) and #30371.\n \n \n Comment: 1\n``````\n",
    "created_at": "2022-11-17T08:34:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463094",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,100 @@
+Basically, we are making all external libraries optional, except for a minimal set of "core" libraries such as `cysignals` and `gmpy2` (see #29865). 
+
+(from #30371): See #29705 under the items titled "Deploy mildly modularized distributions", "Further modularization" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as `sagemath-ntl`) - but some libraries come in packs that would not make much sense to separate (such as `sagemath-flint-arb-e_antic`).
+
+List of distributions:
+
+- **sagemath-flint-arb**
+      - 'sage/libs/arb/arb_version.pyx',
+      - 'sage/libs/arb/arith.pyx',
+      - 'sage/matrix/matrix_complex_ball_dense.pyx',
+      - 'sage/rings/complex_arb.pyx',
+      - 'sage/rings/number_field/number_field_element_quadratic.pyx',
+      - 'sage/rings/polynomial/polynomial_complex_arb.pyx',
+      - 'sage/rings/real_arb.pyx'
+      - etc.
+- **sagemath-homfly**: 'sage/libs/homfly.pyx'
+- **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
+      - sage/libs/giac/giac.pyx
+- **sagemath-gap**:
+      - 'sage/coding/codecan/codecan.pyx',
+      - 'sage/combinat/enumeration_mod_permgroup.pyx',
+      - 'sage/combinat/root_system/reflection_group_c.pyx',
+      - 'sage/combinat/root_system/reflection_group_element.pyx',
+      - 'sage/graphs/spanning_tree.pyx',
+      - 'sage/groups/libgap_wrapper.pyx',
+      - 'sage/groups/matrix_gps/group_element.pyx',
+      - 'sage/groups/perm_gps/permgroup_element.pyx',
+      - 'sage/groups/perm_gps/partn_ref/automorphism_group_canonical_label.pyx',
+      - 'sage/groups/perm_gps/partn_ref/canonical_augmentation.pyx',
+      - 'sage/groups/perm_gps/partn_ref/data_structures.pyx',
+      - 'sage/groups/perm_gps/partn_ref/double_coset.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_binary.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_graphs.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_lists.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_matrices.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_python.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_sets.pyx',
+      - 'sage/groups/perm_gps/partn_ref2/refinement_generic.pyx',
+      - 'sage/libs/gap/element.pyx',
+      - 'sage/libs/gap/libgap.pyx',
+      - 'sage/libs/gap/util.pyx',
+      - 'sage/matrix/matrix_gap.pyx',
+      - 'sage/sets/disjoint_set.pyx'
+
+In follow-up tickets:
+
+- `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
+- `sagemath-ntl`
+- `sagemath-ecl` (`sage.libs.ecl`)
+- `sagemath-maxima`: requires sage-ecl
+- `sagemath-singular`: (some of these files actually may be better put in the pynac distribution)
+      - 'sage/algebras/letterplace/free_algebra_element_letterplace.pyx',
+      - 'sage/algebras/letterplace/free_algebra_letterplace.pyx',
+      - 'sage/algebras/letterplace/letterplace_ideal.pyx',
+      - 'sage/libs/pynac/constant.pyx',
+      - 'sage/libs/pynac/pynac.pyx',
+      - 'sage/libs/singular/function.pyx',
+      - 'sage/libs/singular/groebner_strategy.pyx',
+      - 'sage/libs/singular/option.pyx',
+      - 'sage/libs/singular/polynomial.pyx',
+      - 'sage/libs/singular/ring.pyx',
+      - 'sage/libs/singular/singular.pyx',
+      - 'sage/matrix/matrix_mpolynomial_dense.pyx',
+      - 'sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx',
+      - 'sage/rings/polynomial/multi_polynomial_libsingular.pyx',
+      - 'sage/rings/polynomial/plural.pyx',
+      - 'sage/symbolic/comparison.pyx',
+      - 'sage/symbolic/constants_c.pyx',
+      - 'sage/symbolic/expression.pyx',
+      - 'sage/symbolic/function.pyx',
+      - 'sage/symbolic/getitem.pyx',
+      - 'sage/symbolic/ring.pyx',
+      - 'sage/symbolic/series.pyx',
+      - 'sage/symbolic/substitution_map.pyx',
+- `sagemath-pynac`
+- `sagemath-linbox`:
+      - 'sage/libs/linbox/linbox_flint_interface.pyx',
+      - 'sage/matrix/matrix_integer_sparse.pyx',
+      - 'sage/matrix/matrix_modn_dense_double.pyx',
+      - 'sage/matrix/matrix_modn_dense_float.pyx',
+      - 'sage/matrix/matrix_modn_sparse.pyx'
+- `sagemath-znpoly` (subject to removal in #32841?)
+      - 'sage/modular/modsym/p1list.pyx',
+      - 'sage/modular/pollack_stevens/dist.pyx',
+      - 'sage/rings/fraction_field_FpT.pyx',
+      - 'sage/rings/polynomial/polynomial_zmod_flint.pyx',
+      - 'sage/schemes/hyperelliptic_curves/hypellfrob.pyx',
+- `sagemath-mari` (also requiring pbori and pbori-groebner):
+      - 'sage/matrix/matrix_gf2e_dense.pyx',
+      - 'sage/matrix/matrix_integer_dense.pyx',
+      - 'sage/matrix/matrix_mod2_dense.pyx',
+      - 'sage/matrix/matrix_rational_dense.pyx',
+      - 'sage/modules/vector_mod2_dense.pyx',
+      - 'sage/rings/polynomial/pbori/pbori.pyx',
+      - 'sage/rings/polynomial/polynomial_gf2x.pyx'
+
+This is preparation for Meta-ticket #29705 (Modularization) and #30371.
 
 
 Comment: 1
``````




---

archive/issue_comments_463095.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-11-17T08:41:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463095",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_463096.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-18T22:40:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463096",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463097.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-12-03T00:50:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463097",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_463098.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-03T21:14:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463098",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463099.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,105 @@\n+Basically, we are making all external libraries optional, except for a minimal set of \"core\" libraries such as `cysignals` and `gmpy2` (see #29865). \n+\n+(from #30371): See #29705 under the items titled \"Deploy mildly modularized distributions\", \"Further modularization\" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as `sagemath-ntl`) - but some libraries come in packs that would not make much sense to separate (such as `sagemath-flint-arb-e_antic`).\n+\n+List of distributions:\n+\n+- **sagemath-flint-arb**\n+      - 'sage/libs/arb/arb_version.pyx',\n+      - 'sage/libs/arb/arith.pyx',\n+      - 'sage/matrix/matrix_complex_ball_dense.pyx',\n+      - 'sage/rings/complex_arb.pyx',\n+      - 'sage/rings/number_field/number_field_element_quadratic.pyx',\n+      - 'sage/rings/polynomial/polynomial_complex_arb.pyx',\n+      - 'sage/rings/real_arb.pyx'\n+      - etc.\n+- **sagemath-homfly**: 'sage/libs/homfly.pyx'\n+- **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n+      - sage/libs/giac/giac.pyx\n+- **sagemath-gap**:\n+      - 'sage/coding/codecan/codecan.pyx',\n+      - 'sage/combinat/enumeration_mod_permgroup.pyx',\n+      - 'sage/combinat/root_system/reflection_group_c.pyx',\n+      - 'sage/combinat/root_system/reflection_group_element.pyx',\n+      - 'sage/graphs/spanning_tree.pyx',\n+      - 'sage/groups/libgap_wrapper.pyx',\n+      - 'sage/groups/matrix_gps/group_element.pyx',\n+      - 'sage/groups/perm_gps/permgroup_element.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/automorphism_group_canonical_label.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/canonical_augmentation.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/data_structures.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/double_coset.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_binary.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_graphs.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_lists.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_matrices.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_python.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_sets.pyx',\n+      - 'sage/groups/perm_gps/partn_ref2/refinement_generic.pyx',\n+      - 'sage/libs/gap/element.pyx',\n+      - 'sage/libs/gap/libgap.pyx',\n+      - 'sage/libs/gap/util.pyx',\n+      - 'sage/matrix/matrix_gap.pyx',\n+      - 'sage/sets/disjoint_set.pyx'\n+\n+To test:\n+\n+- `make SAGE_WHEELS=yes SAGE_CHECK=yes sagemath_gap`\n+\n+\n+In follow-up tickets:\n+\n+- `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n+- `sagemath-ntl`\n+- `sagemath-ecl` (`sage.libs.ecl`)\n+- `sagemath-maxima`: requires sage-ecl\n+- `sagemath-singular`: (some of these files actually may be better put in the pynac distribution)\n+      - 'sage/algebras/letterplace/free_algebra_element_letterplace.pyx',\n+      - 'sage/algebras/letterplace/free_algebra_letterplace.pyx',\n+      - 'sage/algebras/letterplace/letterplace_ideal.pyx',\n+      - 'sage/libs/pynac/constant.pyx',\n+      - 'sage/libs/pynac/pynac.pyx',\n+      - 'sage/libs/singular/function.pyx',\n+      - 'sage/libs/singular/groebner_strategy.pyx',\n+      - 'sage/libs/singular/option.pyx',\n+      - 'sage/libs/singular/polynomial.pyx',\n+      - 'sage/libs/singular/ring.pyx',\n+      - 'sage/libs/singular/singular.pyx',\n+      - 'sage/matrix/matrix_mpolynomial_dense.pyx',\n+      - 'sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx',\n+      - 'sage/rings/polynomial/multi_polynomial_libsingular.pyx',\n+      - 'sage/rings/polynomial/plural.pyx',\n+      - 'sage/symbolic/comparison.pyx',\n+      - 'sage/symbolic/constants_c.pyx',\n+      - 'sage/symbolic/expression.pyx',\n+      - 'sage/symbolic/function.pyx',\n+      - 'sage/symbolic/getitem.pyx',\n+      - 'sage/symbolic/ring.pyx',\n+      - 'sage/symbolic/series.pyx',\n+      - 'sage/symbolic/substitution_map.pyx',\n+- `sagemath-pynac`\n+- `sagemath-linbox`:\n+      - 'sage/libs/linbox/linbox_flint_interface.pyx',\n+      - 'sage/matrix/matrix_integer_sparse.pyx',\n+      - 'sage/matrix/matrix_modn_dense_double.pyx',\n+      - 'sage/matrix/matrix_modn_dense_float.pyx',\n+      - 'sage/matrix/matrix_modn_sparse.pyx'\n+- `sagemath-znpoly` (subject to removal in #32841?)\n+      - 'sage/modular/modsym/p1list.pyx',\n+      - 'sage/modular/pollack_stevens/dist.pyx',\n+      - 'sage/rings/fraction_field_FpT.pyx',\n+      - 'sage/rings/polynomial/polynomial_zmod_flint.pyx',\n+      - 'sage/schemes/hyperelliptic_curves/hypellfrob.pyx',\n+- `sagemath-mari` (also requiring pbori and pbori-groebner):\n+      - 'sage/matrix/matrix_gf2e_dense.pyx',\n+      - 'sage/matrix/matrix_integer_dense.pyx',\n+      - 'sage/matrix/matrix_mod2_dense.pyx',\n+      - 'sage/matrix/matrix_rational_dense.pyx',\n+      - 'sage/modules/vector_mod2_dense.pyx',\n+      - 'sage/rings/polynomial/pbori/pbori.pyx',\n+      - 'sage/rings/polynomial/polynomial_gf2x.pyx'\n+\n+This is preparation for Meta-ticket #29705 (Modularization) and #30371.\n \n \n Comment: 1\n``````\n",
    "created_at": "2022-12-03T21:16:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463099",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,105 @@
+Basically, we are making all external libraries optional, except for a minimal set of "core" libraries such as `cysignals` and `gmpy2` (see #29865). 
+
+(from #30371): See #29705 under the items titled "Deploy mildly modularized distributions", "Further modularization" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as `sagemath-ntl`) - but some libraries come in packs that would not make much sense to separate (such as `sagemath-flint-arb-e_antic`).
+
+List of distributions:
+
+- **sagemath-flint-arb**
+      - 'sage/libs/arb/arb_version.pyx',
+      - 'sage/libs/arb/arith.pyx',
+      - 'sage/matrix/matrix_complex_ball_dense.pyx',
+      - 'sage/rings/complex_arb.pyx',
+      - 'sage/rings/number_field/number_field_element_quadratic.pyx',
+      - 'sage/rings/polynomial/polynomial_complex_arb.pyx',
+      - 'sage/rings/real_arb.pyx'
+      - etc.
+- **sagemath-homfly**: 'sage/libs/homfly.pyx'
+- **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
+      - sage/libs/giac/giac.pyx
+- **sagemath-gap**:
+      - 'sage/coding/codecan/codecan.pyx',
+      - 'sage/combinat/enumeration_mod_permgroup.pyx',
+      - 'sage/combinat/root_system/reflection_group_c.pyx',
+      - 'sage/combinat/root_system/reflection_group_element.pyx',
+      - 'sage/graphs/spanning_tree.pyx',
+      - 'sage/groups/libgap_wrapper.pyx',
+      - 'sage/groups/matrix_gps/group_element.pyx',
+      - 'sage/groups/perm_gps/permgroup_element.pyx',
+      - 'sage/groups/perm_gps/partn_ref/automorphism_group_canonical_label.pyx',
+      - 'sage/groups/perm_gps/partn_ref/canonical_augmentation.pyx',
+      - 'sage/groups/perm_gps/partn_ref/data_structures.pyx',
+      - 'sage/groups/perm_gps/partn_ref/double_coset.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_binary.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_graphs.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_lists.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_matrices.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_python.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_sets.pyx',
+      - 'sage/groups/perm_gps/partn_ref2/refinement_generic.pyx',
+      - 'sage/libs/gap/element.pyx',
+      - 'sage/libs/gap/libgap.pyx',
+      - 'sage/libs/gap/util.pyx',
+      - 'sage/matrix/matrix_gap.pyx',
+      - 'sage/sets/disjoint_set.pyx'
+
+To test:
+
+- `make SAGE_WHEELS=yes SAGE_CHECK=yes sagemath_gap`
+
+
+In follow-up tickets:
+
+- `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
+- `sagemath-ntl`
+- `sagemath-ecl` (`sage.libs.ecl`)
+- `sagemath-maxima`: requires sage-ecl
+- `sagemath-singular`: (some of these files actually may be better put in the pynac distribution)
+      - 'sage/algebras/letterplace/free_algebra_element_letterplace.pyx',
+      - 'sage/algebras/letterplace/free_algebra_letterplace.pyx',
+      - 'sage/algebras/letterplace/letterplace_ideal.pyx',
+      - 'sage/libs/pynac/constant.pyx',
+      - 'sage/libs/pynac/pynac.pyx',
+      - 'sage/libs/singular/function.pyx',
+      - 'sage/libs/singular/groebner_strategy.pyx',
+      - 'sage/libs/singular/option.pyx',
+      - 'sage/libs/singular/polynomial.pyx',
+      - 'sage/libs/singular/ring.pyx',
+      - 'sage/libs/singular/singular.pyx',
+      - 'sage/matrix/matrix_mpolynomial_dense.pyx',
+      - 'sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx',
+      - 'sage/rings/polynomial/multi_polynomial_libsingular.pyx',
+      - 'sage/rings/polynomial/plural.pyx',
+      - 'sage/symbolic/comparison.pyx',
+      - 'sage/symbolic/constants_c.pyx',
+      - 'sage/symbolic/expression.pyx',
+      - 'sage/symbolic/function.pyx',
+      - 'sage/symbolic/getitem.pyx',
+      - 'sage/symbolic/ring.pyx',
+      - 'sage/symbolic/series.pyx',
+      - 'sage/symbolic/substitution_map.pyx',
+- `sagemath-pynac`
+- `sagemath-linbox`:
+      - 'sage/libs/linbox/linbox_flint_interface.pyx',
+      - 'sage/matrix/matrix_integer_sparse.pyx',
+      - 'sage/matrix/matrix_modn_dense_double.pyx',
+      - 'sage/matrix/matrix_modn_dense_float.pyx',
+      - 'sage/matrix/matrix_modn_sparse.pyx'
+- `sagemath-znpoly` (subject to removal in #32841?)
+      - 'sage/modular/modsym/p1list.pyx',
+      - 'sage/modular/pollack_stevens/dist.pyx',
+      - 'sage/rings/fraction_field_FpT.pyx',
+      - 'sage/rings/polynomial/polynomial_zmod_flint.pyx',
+      - 'sage/schemes/hyperelliptic_curves/hypellfrob.pyx',
+- `sagemath-mari` (also requiring pbori and pbori-groebner):
+      - 'sage/matrix/matrix_gf2e_dense.pyx',
+      - 'sage/matrix/matrix_integer_dense.pyx',
+      - 'sage/matrix/matrix_mod2_dense.pyx',
+      - 'sage/matrix/matrix_rational_dense.pyx',
+      - 'sage/modules/vector_mod2_dense.pyx',
+      - 'sage/rings/polynomial/pbori/pbori.pyx',
+      - 'sage/rings/polynomial/polynomial_gf2x.pyx'
+
+This is preparation for Meta-ticket #29705 (Modularization) and #30371.
 
 
 Comment: 1
``````




---

archive/issue_comments_463100.json:
```json
{
    "body": "<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-03T21:27:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463100",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463101.json:
```json
{
    "body": "<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-03T21:29:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463101",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463102.json:
```json
{
    "body": "<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-04T04:40:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463102",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463103.json:
```json
{
    "body": "<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-04T05:50:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463103",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463104.json:
```json
{
    "body": "<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-04T07:03:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463104",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463105.json:
```json
{
    "body": "<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-04T07:05:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463105",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463106.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-04T07:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463106",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463107.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-12-04T07:29:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463107",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_463108.json:
```json
{
    "body": "<a id='comment:42'></a>How are all these tags like `# sage_setup: distribution = sagemath-gap` processed?",
    "created_at": "2022-12-04T17:42:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463108",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:42'></a>How are all these tags like `# sage_setup: distribution = sagemath-gap` processed?



---

archive/issue_comments_463109.json:
```json
{
    "body": "<a id='comment:43'></a>They are processed by the functions in `sage_setup.find`, via `sage.misc.package_dir`.",
    "created_at": "2022-12-04T18:55:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463109",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:43'></a>They are processed by the functions in `sage_setup.find`, via `sage.misc.package_dir`.



---

archive/issue_comments_463110.json:
```json
{
    "body": "<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-04T19:08:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463110",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463111.json:
```json
{
    "body": "<a id='comment:45'></a>\n```\nsage -t --random-seed=146157697718740975867546676674797881386 sage/groups/perm_gps/partn_ref/data_structures.pyx\n**********************************************************************\nFile \"sage/groups/perm_gps/partn_ref/data_structures.pyx\", line 1221, in sage.groups.perm_gps.partn_ref.data_structures.SC_test_list_perms\nFailed example:\n    for i in range(2,9):\n        test_Sn_on_m_points(i,i,1,0)\nExpected nothing\nGot:\n    ImportError: cannot import name n_is_prime\n    Exception ignored in: 'sage.groups.perm_gps.partn_ref.data_structures.SC_is_giant'\n    Traceback (most recent call last):\n      File \"<doctest sage.groups.perm_gps.partn_ref.data_structures.SC_test_list_perms[2]>\", line 4, in test_Sn_on_m_points\n```",
    "created_at": "2022-12-04T19:11:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463111",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:45'></a>
```
sage -t --random-seed=146157697718740975867546676674797881386 sage/groups/perm_gps/partn_ref/data_structures.pyx
**********************************************************************
File "sage/groups/perm_gps/partn_ref/data_structures.pyx", line 1221, in sage.groups.perm_gps.partn_ref.data_structures.SC_test_list_perms
Failed example:
    for i in range(2,9):
        test_Sn_on_m_points(i,i,1,0)
Expected nothing
Got:
    ImportError: cannot import name n_is_prime
    Exception ignored in: 'sage.groups.perm_gps.partn_ref.data_structures.SC_is_giant'
    Traceback (most recent call last):
      File "<doctest sage.groups.perm_gps.partn_ref.data_structures.SC_test_list_perms[2]>", line 4, in test_Sn_on_m_points
```



---

archive/issue_comments_463112.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-12-04T19:16:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463112",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_463113.json:
```json
{
    "body": "<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-04T20:33:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463113",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463114.json:
```json
{
    "body": "<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-04T20:39:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463114",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463115.json:
```json
{
    "body": "<a id='comment:49'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-04T20:42:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463115",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:49'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463116.json:
```json
{
    "body": "<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-06T21:27:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463116",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463117.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-12-06T21:27:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463117",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_463118.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,107 @@\n+Basically, we are making all external libraries optional, except for a minimal set of \"core\" libraries such as `cysignals` and `gmpy2` (see #29865). \n+\n+(from #30371): See #29705 under the items titled \"Deploy mildly modularized distributions\", \"Further modularization\" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as `sagemath-ntl`) - but some libraries come in packs that would not make much sense to separate (such as `sagemath-flint-arb-e_antic`).\n+\n+List of distributions:\n+\n+- **sagemath-flint-arb**\n+      - 'sage/libs/arb/arb_version.pyx',\n+      - 'sage/libs/arb/arith.pyx',\n+      - 'sage/matrix/matrix_complex_ball_dense.pyx',\n+      - 'sage/rings/complex_arb.pyx',\n+      - 'sage/rings/number_field/number_field_element_quadratic.pyx',\n+      - 'sage/rings/polynomial/polynomial_complex_arb.pyx',\n+      - 'sage/rings/real_arb.pyx'\n+      - etc.\n+- **sagemath-homfly**: 'sage/libs/homfly.pyx'\n+- **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n+      - sage/libs/giac/giac.pyx\n+- **sagemath-gap**:\n+      - 'sage/coding/codecan/codecan.pyx',\n+      - 'sage/combinat/enumeration_mod_permgroup.pyx',\n+      - 'sage/combinat/root_system/reflection_group_c.pyx',\n+      - 'sage/combinat/root_system/reflection_group_element.pyx',\n+      - 'sage/graphs/spanning_tree.pyx',\n+      - 'sage/groups/libgap_wrapper.pyx',\n+      - 'sage/groups/matrix_gps/group_element.pyx',\n+      - 'sage/groups/perm_gps/permgroup_element.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/automorphism_group_canonical_label.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/canonical_augmentation.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/data_structures.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/double_coset.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_binary.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_graphs.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_lists.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_matrices.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_python.pyx',\n+      - 'sage/groups/perm_gps/partn_ref/refinement_sets.pyx',\n+      - 'sage/groups/perm_gps/partn_ref2/refinement_generic.pyx',\n+      - 'sage/libs/gap/element.pyx',\n+      - 'sage/libs/gap/libgap.pyx',\n+      - 'sage/libs/gap/util.pyx',\n+      - 'sage/matrix/matrix_gap.pyx',\n+      - 'sage/sets/disjoint_set.pyx'\n+\n+To test:\n+\n+- `make SAGE_WHEELS=yes SAGE_CHECK=yes sagemath_flint_arb`\n+- `make SAGE_WHEELS=yes SAGE_CHECK=yes sagemath_gap`\n+- `make SAGE_WHEELS=yes SAGE_CHECK=yes sagemath_giac`\n+- `make SAGE_WHEELS=yes SAGE_CHECK=yes sagemath_homfly`\n+\n+In follow-up tickets:\n+\n+- `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n+- `sagemath-ntl`\n+- `sagemath-ecl` (`sage.libs.ecl`)\n+- `sagemath-maxima`: requires sage-ecl\n+- `sagemath-singular`: (some of these files actually may be better put in the pynac distribution)\n+      - 'sage/algebras/letterplace/free_algebra_element_letterplace.pyx',\n+      - 'sage/algebras/letterplace/free_algebra_letterplace.pyx',\n+      - 'sage/algebras/letterplace/letterplace_ideal.pyx',\n+      - 'sage/libs/pynac/constant.pyx',\n+      - 'sage/libs/pynac/pynac.pyx',\n+      - 'sage/libs/singular/function.pyx',\n+      - 'sage/libs/singular/groebner_strategy.pyx',\n+      - 'sage/libs/singular/option.pyx',\n+      - 'sage/libs/singular/polynomial.pyx',\n+      - 'sage/libs/singular/ring.pyx',\n+      - 'sage/libs/singular/singular.pyx',\n+      - 'sage/matrix/matrix_mpolynomial_dense.pyx',\n+      - 'sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx',\n+      - 'sage/rings/polynomial/multi_polynomial_libsingular.pyx',\n+      - 'sage/rings/polynomial/plural.pyx',\n+      - 'sage/symbolic/comparison.pyx',\n+      - 'sage/symbolic/constants_c.pyx',\n+      - 'sage/symbolic/expression.pyx',\n+      - 'sage/symbolic/function.pyx',\n+      - 'sage/symbolic/getitem.pyx',\n+      - 'sage/symbolic/ring.pyx',\n+      - 'sage/symbolic/series.pyx',\n+      - 'sage/symbolic/substitution_map.pyx',\n+- `sagemath-pynac`\n+- `sagemath-linbox`:\n+      - 'sage/libs/linbox/linbox_flint_interface.pyx',\n+      - 'sage/matrix/matrix_integer_sparse.pyx',\n+      - 'sage/matrix/matrix_modn_dense_double.pyx',\n+      - 'sage/matrix/matrix_modn_dense_float.pyx',\n+      - 'sage/matrix/matrix_modn_sparse.pyx'\n+- `sagemath-znpoly` (subject to removal in #32841?)\n+      - 'sage/modular/modsym/p1list.pyx',\n+      - 'sage/modular/pollack_stevens/dist.pyx',\n+      - 'sage/rings/fraction_field_FpT.pyx',\n+      - 'sage/rings/polynomial/polynomial_zmod_flint.pyx',\n+      - 'sage/schemes/hyperelliptic_curves/hypellfrob.pyx',\n+- `sagemath-mari` (also requiring pbori and pbori-groebner):\n+      - 'sage/matrix/matrix_gf2e_dense.pyx',\n+      - 'sage/matrix/matrix_integer_dense.pyx',\n+      - 'sage/matrix/matrix_mod2_dense.pyx',\n+      - 'sage/matrix/matrix_rational_dense.pyx',\n+      - 'sage/modules/vector_mod2_dense.pyx',\n+      - 'sage/rings/polynomial/pbori/pbori.pyx',\n+      - 'sage/rings/polynomial/polynomial_gf2x.pyx'\n+\n+This is preparation for Meta-ticket #29705 (Modularization) and #30371.\n \n \n Comment: 1\n``````\n",
    "created_at": "2022-12-06T21:28:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463118",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,107 @@
+Basically, we are making all external libraries optional, except for a minimal set of "core" libraries such as `cysignals` and `gmpy2` (see #29865). 
+
+(from #30371): See #29705 under the items titled "Deploy mildly modularized distributions", "Further modularization" for a sketch of such distributions. Basically, one distribution for each major C/C++ library (such as `sagemath-ntl`) - but some libraries come in packs that would not make much sense to separate (such as `sagemath-flint-arb-e_antic`).
+
+List of distributions:
+
+- **sagemath-flint-arb**
+      - 'sage/libs/arb/arb_version.pyx',
+      - 'sage/libs/arb/arith.pyx',
+      - 'sage/matrix/matrix_complex_ball_dense.pyx',
+      - 'sage/rings/complex_arb.pyx',
+      - 'sage/rings/number_field/number_field_element_quadratic.pyx',
+      - 'sage/rings/polynomial/polynomial_complex_arb.pyx',
+      - 'sage/rings/real_arb.pyx'
+      - etc.
+- **sagemath-homfly**: 'sage/libs/homfly.pyx'
+- **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
+      - sage/libs/giac/giac.pyx
+- **sagemath-gap**:
+      - 'sage/coding/codecan/codecan.pyx',
+      - 'sage/combinat/enumeration_mod_permgroup.pyx',
+      - 'sage/combinat/root_system/reflection_group_c.pyx',
+      - 'sage/combinat/root_system/reflection_group_element.pyx',
+      - 'sage/graphs/spanning_tree.pyx',
+      - 'sage/groups/libgap_wrapper.pyx',
+      - 'sage/groups/matrix_gps/group_element.pyx',
+      - 'sage/groups/perm_gps/permgroup_element.pyx',
+      - 'sage/groups/perm_gps/partn_ref/automorphism_group_canonical_label.pyx',
+      - 'sage/groups/perm_gps/partn_ref/canonical_augmentation.pyx',
+      - 'sage/groups/perm_gps/partn_ref/data_structures.pyx',
+      - 'sage/groups/perm_gps/partn_ref/double_coset.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_binary.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_graphs.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_lists.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_matrices.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_python.pyx',
+      - 'sage/groups/perm_gps/partn_ref/refinement_sets.pyx',
+      - 'sage/groups/perm_gps/partn_ref2/refinement_generic.pyx',
+      - 'sage/libs/gap/element.pyx',
+      - 'sage/libs/gap/libgap.pyx',
+      - 'sage/libs/gap/util.pyx',
+      - 'sage/matrix/matrix_gap.pyx',
+      - 'sage/sets/disjoint_set.pyx'
+
+To test:
+
+- `make SAGE_WHEELS=yes SAGE_CHECK=yes sagemath_flint_arb`
+- `make SAGE_WHEELS=yes SAGE_CHECK=yes sagemath_gap`
+- `make SAGE_WHEELS=yes SAGE_CHECK=yes sagemath_giac`
+- `make SAGE_WHEELS=yes SAGE_CHECK=yes sagemath_homfly`
+
+In follow-up tickets:
+
+- `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
+- `sagemath-ntl`
+- `sagemath-ecl` (`sage.libs.ecl`)
+- `sagemath-maxima`: requires sage-ecl
+- `sagemath-singular`: (some of these files actually may be better put in the pynac distribution)
+      - 'sage/algebras/letterplace/free_algebra_element_letterplace.pyx',
+      - 'sage/algebras/letterplace/free_algebra_letterplace.pyx',
+      - 'sage/algebras/letterplace/letterplace_ideal.pyx',
+      - 'sage/libs/pynac/constant.pyx',
+      - 'sage/libs/pynac/pynac.pyx',
+      - 'sage/libs/singular/function.pyx',
+      - 'sage/libs/singular/groebner_strategy.pyx',
+      - 'sage/libs/singular/option.pyx',
+      - 'sage/libs/singular/polynomial.pyx',
+      - 'sage/libs/singular/ring.pyx',
+      - 'sage/libs/singular/singular.pyx',
+      - 'sage/matrix/matrix_mpolynomial_dense.pyx',
+      - 'sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx',
+      - 'sage/rings/polynomial/multi_polynomial_libsingular.pyx',
+      - 'sage/rings/polynomial/plural.pyx',
+      - 'sage/symbolic/comparison.pyx',
+      - 'sage/symbolic/constants_c.pyx',
+      - 'sage/symbolic/expression.pyx',
+      - 'sage/symbolic/function.pyx',
+      - 'sage/symbolic/getitem.pyx',
+      - 'sage/symbolic/ring.pyx',
+      - 'sage/symbolic/series.pyx',
+      - 'sage/symbolic/substitution_map.pyx',
+- `sagemath-pynac`
+- `sagemath-linbox`:
+      - 'sage/libs/linbox/linbox_flint_interface.pyx',
+      - 'sage/matrix/matrix_integer_sparse.pyx',
+      - 'sage/matrix/matrix_modn_dense_double.pyx',
+      - 'sage/matrix/matrix_modn_dense_float.pyx',
+      - 'sage/matrix/matrix_modn_sparse.pyx'
+- `sagemath-znpoly` (subject to removal in #32841?)
+      - 'sage/modular/modsym/p1list.pyx',
+      - 'sage/modular/pollack_stevens/dist.pyx',
+      - 'sage/rings/fraction_field_FpT.pyx',
+      - 'sage/rings/polynomial/polynomial_zmod_flint.pyx',
+      - 'sage/schemes/hyperelliptic_curves/hypellfrob.pyx',
+- `sagemath-mari` (also requiring pbori and pbori-groebner):
+      - 'sage/matrix/matrix_gf2e_dense.pyx',
+      - 'sage/matrix/matrix_integer_dense.pyx',
+      - 'sage/matrix/matrix_mod2_dense.pyx',
+      - 'sage/matrix/matrix_rational_dense.pyx',
+      - 'sage/modules/vector_mod2_dense.pyx',
+      - 'sage/rings/polynomial/pbori/pbori.pyx',
+      - 'sage/rings/polynomial/polynomial_gf2x.pyx'
+
+This is preparation for Meta-ticket #29705 (Modularization) and #30371.
 
 
 Comment: 1
``````




---

archive/issue_comments_463119.json:
```json
{
    "body": "<a id='comment:53'></a>there are a number of files with `m4` suffix, which does not seem to be `m4` files.\nShould they rather get `in` suffux?",
    "created_at": "2022-12-07T17:33:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463119",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:53'></a>there are a number of files with `m4` suffix, which does not seem to be `m4` files.
Should they rather get `in` suffux?



---

archive/issue_comments_463120.json:
```json
{
    "body": "<a id='comment:54'></a>They are processed by m4, see `build/pkgs/sagelib/bootstrap`",
    "created_at": "2022-12-07T17:57:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463120",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:54'></a>They are processed by m4, see `build/pkgs/sagelib/bootstrap`



---

archive/issue_comments_463121.json:
```json
{
    "body": "<a id='comment:55'></a>Imho they should have .in suffix. Otherwise, looks OK.",
    "created_at": "2022-12-07T20:09:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463121",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:55'></a>Imho they should have .in suffix. Otherwise, looks OK.



---

archive/issue_comments_463122.json:
```json
{
    "body": "<a id='comment:56'></a>The .in files in use with autotools are not processed by m4.\n\nThese .m4 files are processed by m4. For example, in setup.cfg.m4 you'll see the m4 macro call `esyscmd`.",
    "created_at": "2022-12-07T20:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463122",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:56'></a>The .in files in use with autotools are not processed by m4.

These .m4 files are processed by m4. For example, in setup.cfg.m4 you'll see the m4 macro call `esyscmd`.



---

archive/issue_comments_463123.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-12-07T20:22:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463123",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_463124.json:
```json
{
    "body": "<a id='comment:57'></a>ah, OK. I misunderstood what \"processed\" means in this context.",
    "created_at": "2022-12-07T20:22:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463124",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:57'></a>ah, OK. I misunderstood what "processed" means in this context.



---

archive/issue_comments_463125.json:
```json
{
    "body": "<a id='comment:58'></a>Thanks!",
    "created_at": "2022-12-07T20:24:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463125",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:58'></a>Thanks!



---

archive/issue_comments_463126.json:
```json
{
    "body": "<a id='comment:60'></a>When I build the full sagelib with this ticket included (but I do not build those sub distribution yet) in sage-on-gentoo, building the documentation fails. After inspection, I have the sources installed for `sage/libs/flint`, `sage/libs/arb` etc, but none of compiled module are installed. Is there something I am missing or doing wrong?",
    "created_at": "2022-12-13T20:58:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463126",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:60'></a>When I build the full sagelib with this ticket included (but I do not build those sub distribution yet) in sage-on-gentoo, building the documentation fails. After inspection, I have the sources installed for `sage/libs/flint`, `sage/libs/arb` etc, but none of compiled module are installed. Is there something I am missing or doing wrong?



---

archive/issue_comments_463127.json:
```json
{
    "body": "<a id='comment:61'></a>Are you building from `src/` or from `pkgs/sagemath-standard/`?",
    "created_at": "2022-12-13T21:03:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463127",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:61'></a>Are you building from `src/` or from `pkgs/sagemath-standard/`?



---

archive/issue_comments_463128.json:
```json
{
    "body": "<a id='comment:62'></a>`src` with the `setup.py` from `sagemath-standard`. This is when I build against develop or the Volker merging branch. The main reason I am starting from `src` in those cases, is that patch does not like links.",
    "created_at": "2022-12-13T21:07:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463128",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:62'></a>`src` with the `setup.py` from `sagemath-standard`. This is when I build against develop or the Volker merging branch. The main reason I am starting from `src` in those cases, is that patch does not like links.



---

archive/issue_comments_463129.json:
```json
{
    "body": "<a id='comment:63'></a>I also delete `src/sage_setup` so it is not used instead of the installed one.",
    "created_at": "2022-12-13T21:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463129",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:63'></a>I also delete `src/sage_setup` so it is not used instead of the installed one.



---

archive/issue_comments_463130.json:
```json
{
    "body": "<a id='comment:64'></a>OK, that's something that I'll have to fix in `pkgs/sagemath-standard/setup.py`.\nThanks for catching this",
    "created_at": "2022-12-13T21:24:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463130",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:64'></a>OK, that's something that I'll have to fix in `pkgs/sagemath-standard/setup.py`.
Thanks for catching this



---

archive/issue_comments_463131.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-12-13T21:24:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463131",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_463132.json:
```json
{
    "body": "<a id='comment:65'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-14T06:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463132",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:65'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463133.json:
```json
{
    "body": "<a id='comment:67'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-12-19T05:01:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30666#issuecomment-463133",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:67'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
