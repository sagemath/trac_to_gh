# Issue 30820: some CI details

archive/issues_030583.json:
```json
{
    "body": "* no longer use WITH_PYTHON\n\n* fix a bash syntax error\n\n**CC:**  @saraedum @embray @mkoeppe @dimpase\n\n**Keywords:** docker, ContinuousIntegration\n\n**Branch/Commit:** [e9812be02ae1618d0d11b78e03b7824a0bd0129b](https://github.com/sagemath/sagetrac-mirror/commit/e9812be02ae1618d0d11b78e03b7824a0bd0129b)\n\n**Reviewer:** Dima Pasechnik\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/30820\n\n",
    "closed_at": "2020-11-07T16:23:45Z",
    "created_at": "2020-10-24T07:57:54Z",
    "labels": [
        "component: docker",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "title": "some CI details",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/30820",
    "user": "https://github.com/fchapoton"
}
```
* no longer use WITH_PYTHON

* fix a bash syntax error

**CC:**  @saraedum @embray @mkoeppe @dimpase

**Keywords:** docker, ContinuousIntegration

**Branch/Commit:** [e9812be02ae1618d0d11b78e03b7824a0bd0129b](https://github.com/sagemath/sagetrac-mirror/commit/e9812be02ae1618d0d11b78e03b7824a0bd0129b)

**Reviewer:** Dima Pasechnik

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/30820





---

archive/issue_comments_495923.json:
```json
{
    "body": "**Branch:** [public/ticket/30820](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/30820)",
    "created_at": "2020-10-24T07:58:26Z",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30820#issuecomment-495923",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [public/ticket/30820](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/30820)



---

archive/issue_events_276344.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-10-24T07:58:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30820#event-276344"
}
```



---

archive/issue_comments_495924.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9812be02ae1618d0d11b78e03b7824a0bd0129b\">e9812be</a></td><td><code>CI tweaks : no more WITH_PYTHON, fix bash syntax</code></td></tr></table>\n",
    "created_at": "2020-10-24T07:58:26Z",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30820#issuecomment-495924",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9812be02ae1618d0d11b78e03b7824a0bd0129b">e9812be</a></td><td><code>CI tweaks : no more WITH_PYTHON, fix bash syntax</code></td></tr></table>




---

archive/issue_comments_495925.json:
```json
{
    "body": "**Commit:** [e9812be02ae1618d0d11b78e03b7824a0bd0129b](https://github.com/sagemath/sagetrac-mirror/commit/e9812be02ae1618d0d11b78e03b7824a0bd0129b)",
    "created_at": "2020-10-24T07:58:26Z",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30820#issuecomment-495925",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [e9812be02ae1618d0d11b78e03b7824a0bd0129b](https://github.com/sagemath/sagetrac-mirror/commit/e9812be02ae1618d0d11b78e03b7824a0bd0129b)



---

archive/issue_comments_495926.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"docker, ContinuousIntegration\".",
    "created_at": "2020-10-24T12:25:26Z",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30820#issuecomment-495926",
    "user": "https://github.com/fchapoton"
}
```

**Changing keywords** from "" to "docker, ContinuousIntegration".



---

archive/issue_events_276345.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30820#event-276345"
}
```



---

archive/issue_events_276346.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30820#event-276346"
}
```



---

archive/issue_events_276347.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-10-26T07:39:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30820#event-276347"
}
```



---

archive/issue_events_276348.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-10-26T07:39:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30820#event-276348"
}
```



---

archive/issue_comments_495927.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2020-10-26T07:39:23Z",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30820#issuecomment-495927",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_comments_495928.json:
```json
{
    "body": "<a id='comment:6'></a>\nlet us see if it makes a difference in CI",
    "created_at": "2020-10-26T07:39:23Z",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30820#issuecomment-495928",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>
let us see if it makes a difference in CI



---

archive/issue_comments_495929.json:
```json
{
    "body": "<a id='comment:7'></a>\nThanks Dima. The changes here are not making any serious difference. Our current breaking point is handled in #30736.",
    "created_at": "2020-10-26T08:12:08Z",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30820#issuecomment-495929",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
Thanks Dima. The changes here are not making any serious difference. Our current breaking point is handled in #30736.



---

archive/issue_comments_495930.json:
```json
{
    "body": "**Dependencies:** #30736",
    "created_at": "2020-10-26T09:20:20Z",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30820#issuecomment-495930",
    "user": "https://github.com/dimpase"
}
```

**Dependencies:** #30736



---

archive/issue_comments_495931.json:
```json
{
    "body": "<a id='comment:8'></a>\nI've pushed the branch u/dimpase/ticket/30820, where I merged this ticket and #30736 - let's see if this works together.",
    "created_at": "2020-10-26T09:20:20Z",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30820#issuecomment-495931",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>
I've pushed the branch u/dimpase/ticket/30820, where I merged this ticket and #30736 - let's see if this works together.



---

archive/issue_comments_495932.json:
```json
{
    "body": "<a id='comment:9'></a>\nBut it seems that this ticket alone already does the trick, according to\nhttps://gitlab.com/sagemath/dev/trac/-/pipelines/207109801",
    "created_at": "2020-10-26T09:23:11Z",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30820#issuecomment-495932",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
But it seems that this ticket alone already does the trick, according to
https://gitlab.com/sagemath/dev/trac/-/pipelines/207109801



---

archive/issue_comments_495933.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [dimpase](#comment%3A9):\n> But it seems that this ticket alone already does the trick, according to\n> https://gitlab.com/sagemath/dev/trac/-/pipelines/207109801\n\n\nIndeed, that is good news! Although it warns about security issues.",
    "created_at": "2020-10-26T11:01:16Z",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30820#issuecomment-495933",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>
Replying to [dimpase](#comment%3A9):
> But it seems that this ticket alone already does the trick, according to
> https://gitlab.com/sagemath/dev/trac/-/pipelines/207109801


Indeed, that is good news! Although it warns about security issues.



---

archive/issue_comments_495934.json:
```json
{
    "body": "<a id='comment:11'></a>\nI only see warnings from docker \n\n```\nd11b78e03b7824a0bd0129b .ci/push-gitlab.sh sagemath\n+ docker login -u gitlab-ci-token -p [MASKED] registry.gitlab.com\nWARNING! Using --password via the CLI is insecure. Use --password-stdin.\nWARNING! Your password will be stored unencrypted in /root/.docker/config.json.\nConfigure a credential helper to remove this warning. See\nhttps://docs.docker.com/engine/reference/commandline/login/#credentials-store\nLogin Succeeded\n```\nso this is about a \"credential helper\" to be set up.\n\nno idea what it is though. nothing to do with git, I think.",
    "created_at": "2020-10-26T13:12:59Z",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30820#issuecomment-495934",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>
I only see warnings from docker 

```
d11b78e03b7824a0bd0129b .ci/push-gitlab.sh sagemath
+ docker login -u gitlab-ci-token -p [MASKED] registry.gitlab.com
WARNING! Using --password via the CLI is insecure. Use --password-stdin.
WARNING! Your password will be stored unencrypted in /root/.docker/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credentials-store
Login Succeeded
```
so this is about a "credential helper" to be set up.

no idea what it is though. nothing to do with git, I think.



---

archive/issue_comments_495935.json:
```json
{
    "body": "**Changing dependencies** from \"#30736\" to \"\".",
    "created_at": "2020-10-26T13:12:59Z",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30820#issuecomment-495935",
    "user": "https://github.com/dimpase"
}
```

**Changing dependencies** from "#30736" to "".



---

archive/issue_comments_495936.json:
```json
{
    "body": "**Changing branch** from \"[public/ticket/30820](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/30820)\" to \"[e9812be02ae1618d0d11b78e03b7824a0bd0129b](https://github.com/sagemath/sagetrac-mirror/commit/e9812be02ae1618d0d11b78e03b7824a0bd0129b)\".",
    "created_at": "2020-11-07T16:23:45Z",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30820#issuecomment-495936",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/ticket/30820](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/30820)" to "[e9812be02ae1618d0d11b78e03b7824a0bd0129b](https://github.com/sagemath/sagetrac-mirror/commit/e9812be02ae1618d0d11b78e03b7824a0bd0129b)".



---

archive/issue_events_276349.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-07T16:23:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30820#event-276349"
}
```



---

archive/issue_events_276350.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "1d7508b311b8347286f3dd9f16f9cb5cf4c67b55",
    "created_at": "2020-11-07T16:23:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30820",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30820#event-276350"
}
```
