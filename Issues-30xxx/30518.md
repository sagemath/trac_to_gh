# Issue 30518: eigenvectors over QQbar are incorrectly conjugated

archive/issues_030281.json:
```json
{
    "body": "Eigenvectors over QQbar could get incorrectly conjugated. In the following example from [devel](https://groups.google.com/g/sage-devel/c/9Ss98-XKR9c), the eigenvectors of a matrix over `QuadraticField(-1)` are computed in two ways, one of which incorrectly returns the conjugate of some eigenvectors.\n\nBy converting the matrix to `QQbar` first:\n\n```\nsage: K.<i> = QuadraticField(-1)\nsage: m = matrix(K, 4, [2,4*i,-i,0, -4*i,2,-1,0, 2*i,-2,0,0, 4*i+4, 4*i-4,1-i,-2])\nsage: sorted([(e, matrix.column(vs)) for e, vs, _ in m.change_ring(QQbar).eigenvectors_right()])\n[(\n    [  1   0]\n    [1*I   0]\n    [  0   0]\n-2, [  0   1]\n),\n (\n                      [           1.000000000000000? + 0.?e-16*I]\n                      [           0.?e-16 - 1.000000000000000?*I]\n                      [           0.?e-16 - 6.605551275463989?*I]\n-0.6055512754639893?, [1.000000000000000? + 1.000000000000000?*I]\n),\n (\n                    [           1.000000000000000? + 0.?e-17*I]\n                    [           0.?e-17 - 1.000000000000000?*I]\n                    [          0.?e-17 + 0.6055512754639893?*I]\n6.605551275463989?, [1.000000000000000? + 1.000000000000000?*I]\n)]\n```\n\nSupposedly, this result is correct. In contrast, computing the eigenvectors directly, without first converting to `QQbar`, leads to some eigenvectors getting conjugated:\n\n```\nsage: sorted([(QQbar(e), matrix.column(QQbar, vs)) for e, vs, _ in m.eigenvectors_right()])\n[(\n    [1 0]\n    [I 0]\n    [0 0]\n-2, [0 1]\n),\n (\n                      [                                        1]\n                      [           0.?e-54 + 1.000000000000000?*I]\n                      [           0.?e-53 + 6.605551275463989?*I]\n-0.6055512754639893?, [1.000000000000000? - 1.000000000000000?*I]\n),\n (\n                    [                                        1]\n                    [           0.?e-53 + 1.000000000000000?*I]\n                    [          0.?e-52 - 0.6055512754639893?*I]\n6.605551275463989?, [1.000000000000000? - 1.000000000000000?*I]\n)]\n```\n\nNote that the `QuadraticField` constructor automatically sets an embedding.\n\n```\nsage: K.coerce_embedding()\nGeneric morphism:\n  From: Number Field in i with defining polynomial x^2 + 1 with i = 1*I\n  To:   Complex Lazy Field\n  Defn: i -> 1*I\n```\n\nCC:  @videlec\n\nBranch/Commit: c227dad03dbef66c5ab1b2ba3c3cd9e7155c8bed\n\nReviewer: Marc Mezzarobba\n\nAuthor: Vincent Delecroix\n\nDependencies: #31628\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/30518\n\n",
    "closed_at": "2021-04-29T21:06:01Z",
    "created_at": "2020-09-06T15:55:35Z",
    "labels": [
        "component: number fields",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "eigenvectors over QQbar are incorrectly conjugated",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30518",
    "user": "https://github.com/mwageringel"
}
```
Eigenvectors over QQbar could get incorrectly conjugated. In the following example from [devel](https://groups.google.com/g/sage-devel/c/9Ss98-XKR9c), the eigenvectors of a matrix over `QuadraticField(-1)` are computed in two ways, one of which incorrectly returns the conjugate of some eigenvectors.

By converting the matrix to `QQbar` first:

```
sage: K.<i> = QuadraticField(-1)
sage: m = matrix(K, 4, [2,4*i,-i,0, -4*i,2,-1,0, 2*i,-2,0,0, 4*i+4, 4*i-4,1-i,-2])
sage: sorted([(e, matrix.column(vs)) for e, vs, _ in m.change_ring(QQbar).eigenvectors_right()])
[(
    [  1   0]
    [1*I   0]
    [  0   0]
-2, [  0   1]
),
 (
                      [           1.000000000000000? + 0.?e-16*I]
                      [           0.?e-16 - 1.000000000000000?*I]
                      [           0.?e-16 - 6.605551275463989?*I]
-0.6055512754639893?, [1.000000000000000? + 1.000000000000000?*I]
),
 (
                    [           1.000000000000000? + 0.?e-17*I]
                    [           0.?e-17 - 1.000000000000000?*I]
                    [          0.?e-17 + 0.6055512754639893?*I]
6.605551275463989?, [1.000000000000000? + 1.000000000000000?*I]
)]
```

Supposedly, this result is correct. In contrast, computing the eigenvectors directly, without first converting to `QQbar`, leads to some eigenvectors getting conjugated:

```
sage: sorted([(QQbar(e), matrix.column(QQbar, vs)) for e, vs, _ in m.eigenvectors_right()])
[(
    [1 0]
    [I 0]
    [0 0]
-2, [0 1]
),
 (
                      [                                        1]
                      [           0.?e-54 + 1.000000000000000?*I]
                      [           0.?e-53 + 6.605551275463989?*I]
-0.6055512754639893?, [1.000000000000000? - 1.000000000000000?*I]
),
 (
                    [                                        1]
                    [           0.?e-53 + 1.000000000000000?*I]
                    [          0.?e-52 - 0.6055512754639893?*I]
6.605551275463989?, [1.000000000000000? - 1.000000000000000?*I]
)]
```

Note that the `QuadraticField` constructor automatically sets an embedding.

```
sage: K.coerce_embedding()
Generic morphism:
  From: Number Field in i with defining polynomial x^2 + 1 with i = 1*I
  To:   Complex Lazy Field
  Defn: i -> 1*I
```

CC:  @videlec

Branch/Commit: c227dad03dbef66c5ab1b2ba3c3cd9e7155c8bed

Reviewer: Marc Mezzarobba

Author: Vincent Delecroix

Dependencies: #31628

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/30518





---

archive/issue_comments_602920.json:
```json
{
    "body": "<a id='comment:1'></a>Possibly related:\n\n- #31551: Incorrect conversion from \u211a[-i] to SR",
    "created_at": "2021-03-24T21:38:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602920",
    "user": "https://github.com/slel"
}
```

<a id='comment:1'></a>Possibly related:

- #31551: Incorrect conversion from ℚ[-i] to SR



---

archive/issue_comments_602921.json:
```json
{
    "body": "<a id='comment:2'></a>Replying to [comment:1 slelievre]:\n> Possibly related:\n> \n> - #31551: Incorrect conversion from \u211a[-i] to SR\n\n\nUnlike #31551, this happens with Sage 9.2 too. (The root cause may nevertheless be the same.)",
    "created_at": "2021-03-25T09:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602921",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:2'></a>Replying to [comment:1 slelievre]:
> Possibly related:
> 
> - #31551: Incorrect conversion from ℚ[-i] to SR


Unlike #31551, this happens with Sage 9.2 too. (The root cause may nevertheless be the same.)



---

archive/issue_comments_602922.json:
```json
{
    "body": "<a id='comment:3'></a>The fix now at #31551 does not solve this issue.",
    "created_at": "2021-03-25T10:17:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602922",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:3'></a>The fix now at #31551 does not solve this issue.



---

archive/issue_comments_602923.json:
```json
{
    "body": "<a id='comment:4'></a>I think this is better illustrated with\n\n```\nsage: for e, vs, _ in m.change_ring(QQbar).eigenvectors_right():\n....:     for v in vs:\n....:         print(m*v == e*v)\nTrue\nTrue\nTrue\nTrue\nsage: for e, vs, _ in m.eigenvectors_right():\n....:     for v in vs:\n....:         print(m*v == e*v)\nTrue\nTrue\nFalse\nFalse\n```",
    "created_at": "2021-03-25T12:11:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602923",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'></a>I think this is better illustrated with

```
sage: for e, vs, _ in m.change_ring(QQbar).eigenvectors_right():
....:     for v in vs:
....:         print(m*v == e*v)
True
True
True
True
sage: for e, vs, _ in m.eigenvectors_right():
....:     for v in vs:
....:         print(m*v == e*v)
True
True
False
False
```



---

archive/issue_comments_602924.json:
```json
{
    "body": "<a id='comment:5'></a>The problem somehow comes from line 6638 in `matrix2.pyx`\n\n```\nm = hom(eigval.parent(), e.parent(), e)\n```\nWhat happens here is that the eigenvalue is quadratic over `QQ` (not over the base field `QQ[i]`) and that the above code does not construct the embedding that preserves the one of the base field. This can be reproduced as follows\n\n```\nsage: K.<i> = QuadraticField(-1)\nsage: L = K.extension(x^2 - 6*x - 4, 'a1')\nsage: eigval = L.gen()\nsage: eigval_conj = eigval.galois_conjugates(QQbar)\nsage: f0 = hom(eigval.parent(), QQbar, eigval_conj[0])\nsage: f1 = hom(eigval.parent(), QQbar, eigval_conj[1])\nsage: f0(i)  # wrong embedding!!\n0.?e-54 - 1.000000000000000?*I\nsage: f1(i)  # wrong embedding!!\n0.?e-54 - 1.000000000000000?*I\n```",
    "created_at": "2021-03-25T12:30:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602924",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>The problem somehow comes from line 6638 in `matrix2.pyx`

```
m = hom(eigval.parent(), e.parent(), e)
```
What happens here is that the eigenvalue is quadratic over `QQ` (not over the base field `QQ[i]`) and that the above code does not construct the embedding that preserves the one of the base field. This can be reproduced as follows

```
sage: K.<i> = QuadraticField(-1)
sage: L = K.extension(x^2 - 6*x - 4, 'a1')
sage: eigval = L.gen()
sage: eigval_conj = eigval.galois_conjugates(QQbar)
sage: f0 = hom(eigval.parent(), QQbar, eigval_conj[0])
sage: f1 = hom(eigval.parent(), QQbar, eigval_conj[1])
sage: f0(i)  # wrong embedding!!
0.?e-54 - 1.000000000000000?*I
sage: f1(i)  # wrong embedding!!
0.?e-54 - 1.000000000000000?*I
```



---

archive/issue_comments_602925.json:
```json
{
    "body": "<a id='comment:6'></a>Could be fixed by\n\n```\nsage: H = Hom(eigval.parent(), QQbar)\nsage: f0 = H(eigval_conj[0], base_map=QQbar.coerce_map_from(K))\nsage: f0(i)\n0.?e-54 + 1.000000000000000?*I\n```\nBut maybe hom should consider the embedding of the base by default when it exists?",
    "created_at": "2021-03-25T12:37:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602925",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>Could be fixed by

```
sage: H = Hom(eigval.parent(), QQbar)
sage: f0 = H(eigval_conj[0], base_map=QQbar.coerce_map_from(K))
sage: f0(i)
0.?e-54 + 1.000000000000000?*I
```
But maybe hom should consider the embedding of the base by default when it exists?



---

archive/issue_comments_602926.json:
```json
{
    "body": "<a id='comment:7'></a>New commits:",
    "created_at": "2021-03-25T12:43:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602926",
    "user": "https://github.com/videlec"
}
```

<a id='comment:7'></a>New commits:



---

archive/issue_comments_602927.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-03-25T12:43:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602927",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_602928.json:
```json
{
    "body": "Changing branch from \"\" to \"u/vdelecroix/30518\"",
    "created_at": "2021-03-25T12:43:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602928",
    "user": "https://github.com/videlec"
}
```

Changing branch from "" to "u/vdelecroix/30518"



---

archive/issue_comments_602929.json:
```json
{
    "body": "Changing author from \"\" to \"Vincent Delecroix\"",
    "created_at": "2021-03-25T12:43:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602929",
    "user": "https://github.com/videlec"
}
```

Changing author from "" to "Vincent Delecroix"



---

archive/issue_comments_602930.json:
```json
{
    "body": "Changing commit from \"\" to \"852c89e335056d10cdefa6e25d9266c22b406e04\"",
    "created_at": "2021-03-25T12:43:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602930",
    "user": "https://github.com/videlec"
}
```

Changing commit from "" to "852c89e335056d10cdefa6e25d9266c22b406e04"



---

archive/issue_comments_602931.json:
```json
{
    "body": "Changing commit from \"852c89e335056d10cdefa6e25d9266c22b406e04\" to \"cf668005799173205566b30be5bf0559752f14c9\"",
    "created_at": "2021-03-25T12:44:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602931",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "852c89e335056d10cdefa6e25d9266c22b406e04" to "cf668005799173205566b30be5bf0559752f14c9"



---

archive/issue_comments_602932.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-03-25T12:44:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602932",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_602933.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,17 @@\n-In the following example from [devel](https://groups.google.com/g/sage-devel/c/9Ss98-XKR9c), the eigenvectors of a matrix over `QuadraticField(-1)` are computed in two ways, one of which incorrectly returns the conjugate of some eigenvectors.\n+```\n+sage: K.<i> = QuadraticField(-1)\n+sage: L = K.extension(x^2 - 6*x - 4, 'a1')\n+sage: eigval = L.gen()\n+sage: eigval_conj = eigval.galois_conjugates(QQbar)\n+sage: f0 = hom(eigval.parent(), QQbar, eigval_conj[0])\n+sage: f1 = hom(eigval.parent(), QQbar, eigval_conj[1])\n+sage: f0(i)  # wrong embedding!!\n+0.?e-54 - 1.000000000000000?*I\n+sage: f1(i)  # wrong embedding!!\n+0.?e-54 - 1.000000000000000?*I\n+```\n+\n+As the consequence eigenvectors over QQbar could get incorrectly conjugated. In the following example from [devel](https://groups.google.com/g/sage-devel/c/9Ss98-XKR9c), the eigenvectors of a matrix over `QuadraticField(-1)` are computed in two ways, one of which incorrectly returns the conjugate of some eigenvectors.\n \n By converting the matrix to `QQbar` first:\n \n``````\n",
    "created_at": "2021-03-25T12:46:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602933",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,17 @@
-In the following example from [devel](https://groups.google.com/g/sage-devel/c/9Ss98-XKR9c), the eigenvectors of a matrix over `QuadraticField(-1)` are computed in two ways, one of which incorrectly returns the conjugate of some eigenvectors.
+```
+sage: K.<i> = QuadraticField(-1)
+sage: L = K.extension(x^2 - 6*x - 4, 'a1')
+sage: eigval = L.gen()
+sage: eigval_conj = eigval.galois_conjugates(QQbar)
+sage: f0 = hom(eigval.parent(), QQbar, eigval_conj[0])
+sage: f1 = hom(eigval.parent(), QQbar, eigval_conj[1])
+sage: f0(i)  # wrong embedding!!
+0.?e-54 - 1.000000000000000?*I
+sage: f1(i)  # wrong embedding!!
+0.?e-54 - 1.000000000000000?*I
+```
+
+As the consequence eigenvectors over QQbar could get incorrectly conjugated. In the following example from [devel](https://groups.google.com/g/sage-devel/c/9Ss98-XKR9c), the eigenvectors of a matrix over `QuadraticField(-1)` are computed in two ways, one of which incorrectly returns the conjugate of some eigenvectors.
 
 By converting the matrix to `QQbar` first:
 
``````




---

archive/issue_comments_602934.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-03-25T12:49:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602934",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_602935.json:
```json
{
    "body": "<a id='comment:10'></a>This is actually only a \"partial\" fix. It solves the following (that also used to fail)\n\n```\nsage: K.<i> = QuadraticField(-1, embedding=QQbar.gen())\nsage: m = matrix(K, 4, [2,4*i,-i,0, -4*i,2,-1,0, 2*i,-2,0,0, 4*i+4, 4*i-4,1-i,-2])\nsage: for e, vs, _ in m.eigenvectors_right():\n....:     for v in vs:\n....:         print(m*v == e*v)\nTrue\nTrue\nTrue\nTrue\n```\nBut since\n\n```\nsage: K.<i> = QuadraticField(-1)                                                   \nsage: QQbar.coerce_map_from(K) is None\nTrue\n```\nthe original example of the ticket is not solved.",
    "created_at": "2021-03-25T12:49:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602935",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>This is actually only a "partial" fix. It solves the following (that also used to fail)

```
sage: K.<i> = QuadraticField(-1, embedding=QQbar.gen())
sage: m = matrix(K, 4, [2,4*i,-i,0, -4*i,2,-1,0, 2*i,-2,0,0, 4*i+4, 4*i-4,1-i,-2])
sage: for e, vs, _ in m.eigenvectors_right():
....:     for v in vs:
....:         print(m*v == e*v)
True
True
True
True
```
But since

```
sage: K.<i> = QuadraticField(-1)                                                   
sage: QQbar.coerce_map_from(K) is None
True
```
the original example of the ticket is not solved.



---

archive/issue_comments_602936.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,64 @@\n+Eigenvectors over QQbar could get incorrectly conjugated. In the following example from [devel](https://groups.google.com/g/sage-devel/c/9Ss98-XKR9c), the eigenvectors of a matrix over `QuadraticField(-1)` are computed in two ways, one of which incorrectly returns the conjugate of some eigenvectors.\n \n+By converting the matrix to `QQbar` first:\n+\n+```\n+sage: K.<i> = QuadraticField(-1)\n+sage: m = matrix(K, 4, [2,4*i,-i,0, -4*i,2,-1,0, 2*i,-2,0,0, 4*i+4, 4*i-4,1-i,-2])\n+sage: sorted([(e, matrix.column(vs)) for e, vs, _ in m.change_ring(QQbar).eigenvectors_right()])\n+[(\n+    [  1   0]\n+    [1*I   0]\n+    [  0   0]\n+-2, [  0   1]\n+),\n+ (\n+                      [           1.000000000000000? + 0.?e-16*I]\n+                      [           0.?e-16 - 1.000000000000000?*I]\n+                      [           0.?e-16 - 6.605551275463989?*I]\n+-0.6055512754639893?, [1.000000000000000? + 1.000000000000000?*I]\n+),\n+ (\n+                    [           1.000000000000000? + 0.?e-17*I]\n+                    [           0.?e-17 - 1.000000000000000?*I]\n+                    [          0.?e-17 + 0.6055512754639893?*I]\n+6.605551275463989?, [1.000000000000000? + 1.000000000000000?*I]\n+)]\n+```\n+\n+Supposedly, this result is correct. In contrast, computing the eigenvectors directly, without first converting to `QQbar`, leads to some eigenvectors getting conjugated:\n+\n+```\n+sage: sorted([(QQbar(e), matrix.column(QQbar, vs)) for e, vs, _ in m.eigenvectors_right()])\n+[(\n+    [1 0]\n+    [I 0]\n+    [0 0]\n+-2, [0 1]\n+),\n+ (\n+                      [                                        1]\n+                      [           0.?e-54 + 1.000000000000000?*I]\n+                      [           0.?e-53 + 6.605551275463989?*I]\n+-0.6055512754639893?, [1.000000000000000? - 1.000000000000000?*I]\n+),\n+ (\n+                    [                                        1]\n+                    [           0.?e-53 + 1.000000000000000?*I]\n+                    [          0.?e-52 - 0.6055512754639893?*I]\n+6.605551275463989?, [1.000000000000000? - 1.000000000000000?*I]\n+)]\n+```\n+\n+Note that the `QuadraticField` constructor automatically sets an embedding.\n+\n+```\n+sage: K.coerce_embedding()\n+Generic morphism:\n+  From: Number Field in i with defining polynomial x^2 + 1 with i = 1*I\n+  To:   Complex Lazy Field\n+  Defn: i -> 1*I\n+```\n \n Comment: 1\n \n``````\n",
    "created_at": "2021-03-25T12:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602936",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,64 @@
+Eigenvectors over QQbar could get incorrectly conjugated. In the following example from [devel](https://groups.google.com/g/sage-devel/c/9Ss98-XKR9c), the eigenvectors of a matrix over `QuadraticField(-1)` are computed in two ways, one of which incorrectly returns the conjugate of some eigenvectors.
 
+By converting the matrix to `QQbar` first:
+
+```
+sage: K.<i> = QuadraticField(-1)
+sage: m = matrix(K, 4, [2,4*i,-i,0, -4*i,2,-1,0, 2*i,-2,0,0, 4*i+4, 4*i-4,1-i,-2])
+sage: sorted([(e, matrix.column(vs)) for e, vs, _ in m.change_ring(QQbar).eigenvectors_right()])
+[(
+    [  1   0]
+    [1*I   0]
+    [  0   0]
+-2, [  0   1]
+),
+ (
+                      [           1.000000000000000? + 0.?e-16*I]
+                      [           0.?e-16 - 1.000000000000000?*I]
+                      [           0.?e-16 - 6.605551275463989?*I]
+-0.6055512754639893?, [1.000000000000000? + 1.000000000000000?*I]
+),
+ (
+                    [           1.000000000000000? + 0.?e-17*I]
+                    [           0.?e-17 - 1.000000000000000?*I]
+                    [          0.?e-17 + 0.6055512754639893?*I]
+6.605551275463989?, [1.000000000000000? + 1.000000000000000?*I]
+)]
+```
+
+Supposedly, this result is correct. In contrast, computing the eigenvectors directly, without first converting to `QQbar`, leads to some eigenvectors getting conjugated:
+
+```
+sage: sorted([(QQbar(e), matrix.column(QQbar, vs)) for e, vs, _ in m.eigenvectors_right()])
+[(
+    [1 0]
+    [I 0]
+    [0 0]
+-2, [0 1]
+),
+ (
+                      [                                        1]
+                      [           0.?e-54 + 1.000000000000000?*I]
+                      [           0.?e-53 + 6.605551275463989?*I]
+-0.6055512754639893?, [1.000000000000000? - 1.000000000000000?*I]
+),
+ (
+                    [                                        1]
+                    [           0.?e-53 + 1.000000000000000?*I]
+                    [          0.?e-52 - 0.6055512754639893?*I]
+6.605551275463989?, [1.000000000000000? - 1.000000000000000?*I]
+)]
+```
+
+Note that the `QuadraticField` constructor automatically sets an embedding.
+
+```
+sage: K.coerce_embedding()
+Generic morphism:
+  From: Number Field in i with defining polynomial x^2 + 1 with i = 1*I
+  To:   Complex Lazy Field
+  Defn: i -> 1*I
+```
 
 Comment: 1
 
``````




---

archive/issue_comments_602937.json:
```json
{
    "body": "Changing author from \"Vincent Delecroix\" to \"\"",
    "created_at": "2021-03-25T12:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602937",
    "user": "https://github.com/videlec"
}
```

Changing author from "Vincent Delecroix" to ""



---

archive/issue_comments_602938.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#31558\"",
    "created_at": "2021-03-25T12:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602938",
    "user": "https://github.com/videlec"
}
```

Changing dependencies from "" to "#31558"



---

archive/issue_comments_602939.json:
```json
{
    "body": "Changing commit from \"cf668005799173205566b30be5bf0559752f14c9\" to \"\"",
    "created_at": "2021-03-25T12:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602939",
    "user": "https://github.com/videlec"
}
```

Changing commit from "cf668005799173205566b30be5bf0559752f14c9" to ""



---

archive/issue_comments_602940.json:
```json
{
    "body": "Changing branch from \"u/vdelecroix/30518\" to \"\"",
    "created_at": "2021-03-25T12:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602940",
    "user": "https://github.com/videlec"
}
```

Changing branch from "u/vdelecroix/30518" to ""



---

archive/issue_comments_602941.json:
```json
{
    "body": "<a id='comment:12'></a>As a start, you can review #31558.",
    "created_at": "2021-03-25T12:52:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602941",
    "user": "https://github.com/videlec"
}
```

<a id='comment:12'></a>As a start, you can review #31558.



---

archive/issue_comments_602942.json:
```json
{
    "body": "<a id='comment:13'></a>Not fixed in Sage 9.3.rc2, in which #31551 and #31558 were merged.",
    "created_at": "2021-04-08T09:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602942",
    "user": "https://github.com/slel"
}
```

<a id='comment:13'></a>Not fixed in Sage 9.3.rc2, in which #31551 and #31558 were merged.



---

archive/issue_comments_602943.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:13 slelievre]:\n> Not fixed in Sage 9.3.rc2, in which #31551 and #31558 were merged.\n\n\nSee [comment:10].",
    "created_at": "2021-04-08T09:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602943",
    "user": "https://github.com/videlec"
}
```

<a id='comment:14'></a>Replying to [comment:13 slelievre]:
> Not fixed in Sage 9.3.rc2, in which #31551 and #31558 were merged.


See [comment:10].



---

archive/issue_comments_602944.json:
```json
{
    "body": "<a id='comment:15'></a>To my mind, the following should raise an error\n\n```\nsage: K.<i> = QuadraticField(-1)\nsage: QQbar(i)\n```\n(as there is no specified embedding in QQbar)",
    "created_at": "2021-04-08T09:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602944",
    "user": "https://github.com/videlec"
}
```

<a id='comment:15'></a>To my mind, the following should raise an error

```
sage: K.<i> = QuadraticField(-1)
sage: QQbar(i)
```
(as there is no specified embedding in QQbar)



---

archive/issue_comments_602945.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-04-08T12:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602945",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_602946.json:
```json
{
    "body": "<a id='comment:16'></a>New commits:",
    "created_at": "2021-04-08T12:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602946",
    "user": "https://github.com/videlec"
}
```

<a id='comment:16'></a>New commits:



---

archive/issue_comments_602947.json:
```json
{
    "body": "Changing author from \"\" to \"Vincent Delecroix\"",
    "created_at": "2021-04-08T12:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602947",
    "user": "https://github.com/videlec"
}
```

Changing author from "" to "Vincent Delecroix"



---

archive/issue_comments_602948.json:
```json
{
    "body": "Changing dependencies from \"#31558\" to \"\"",
    "created_at": "2021-04-08T12:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602948",
    "user": "https://github.com/videlec"
}
```

Changing dependencies from "#31558" to ""



---

archive/issue_comments_602949.json:
```json
{
    "body": "Changing branch from \"\" to \"u/vdelecroix/30518\"",
    "created_at": "2021-04-08T12:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602949",
    "user": "https://github.com/videlec"
}
```

Changing branch from "" to "u/vdelecroix/30518"



---

archive/issue_comments_602950.json:
```json
{
    "body": "Changing commit from \"\" to \"0b387f7f9b9189e3cffefb7c8ba8ea81eefb4b0e\"",
    "created_at": "2021-04-08T12:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602950",
    "user": "https://github.com/videlec"
}
```

Changing commit from "" to "0b387f7f9b9189e3cffefb7c8ba8ea81eefb4b0e"



---

archive/issue_comments_602951.json:
```json
{
    "body": "<a id='comment:17'></a>patchbot is green! please review.",
    "created_at": "2021-04-08T14:39:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602951",
    "user": "https://github.com/videlec"
}
```

<a id='comment:17'></a>patchbot is green! please review.



---

archive/issue_comments_602952.json:
```json
{
    "body": "<a id='comment:18'></a>But `QuadraticField(-1)` has a `coerce_embedding` into `CC`. So it seems to me that the issue with the original example is that the conversion to `QQbar` ignores the embedding. If it did not do that, the conversion could be declared as a coercion, even if with the `coerce_embedding` going to `CC`.",
    "created_at": "2021-04-08T14:50:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602952",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:18'></a>But `QuadraticField(-1)` has a `coerce_embedding` into `CC`. So it seems to me that the issue with the original example is that the conversion to `QQbar` ignores the embedding. If it did not do that, the conversion could be declared as a coercion, even if with the `coerce_embedding` going to `CC`.



---

archive/issue_comments_602953.json:
```json
{
    "body": "<a id='comment:19'></a>To my mind, the way number fields handle their coercions is far beyond the scope of this ticket. Even though I definitely agree that it is problematic. As soon as `QQbar.has_coerce_map_from(K)` answers `True` the eigenvalue/eigenvector code will work.\n\nThe minimal fix I provided turns wrong answers to errors. Together with #31551 and #31558, wrong answers are turned into right answers  when coerce embeddings to the algebraic closure are available.",
    "created_at": "2021-04-08T15:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602953",
    "user": "https://github.com/videlec"
}
```

<a id='comment:19'></a>To my mind, the way number fields handle their coercions is far beyond the scope of this ticket. Even though I definitely agree that it is problematic. As soon as `QQbar.has_coerce_map_from(K)` answers `True` the eigenvalue/eigenvector code will work.

The minimal fix I provided turns wrong answers to errors. Together with #31551 and #31558, wrong answers are turned into right answers  when coerce embeddings to the algebraic closure are available.



---

archive/issue_comments_602954.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Marc Mezzarobba\"",
    "created_at": "2021-04-09T08:25:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602954",
    "user": "https://github.com/mezzarobba"
}
```

Changing reviewer from "" to "Marc Mezzarobba"



---

archive/issue_comments_602955.json:
```json
{
    "body": "<a id='comment:20'></a>Ok, I tried to fix the problematic conversion and make it a coercion in #31628. You can set the present ticket to positive_review on my behalf if you want, or merge in my branch and adapt the tests.",
    "created_at": "2021-04-09T08:25:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602955",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:20'></a>Ok, I tried to fix the problematic conversion and make it a coercion in #31628. You can set the present ticket to positive_review on my behalf if you want, or merge in my branch and adapt the tests.



---

archive/issue_comments_602956.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#31628\"",
    "created_at": "2021-04-09T10:40:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602956",
    "user": "https://github.com/videlec"
}
```

Changing dependencies from "" to "#31628"



---

archive/issue_comments_602957.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-04-09T10:40:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602957",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_602958.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-04-09T10:56:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602958",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_602959.json:
```json
{
    "body": "Changing commit from \"0b387f7f9b9189e3cffefb7c8ba8ea81eefb4b0e\" to \"c227dad03dbef66c5ab1b2ba3c3cd9e7155c8bed\"",
    "created_at": "2021-04-09T10:56:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602959",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0b387f7f9b9189e3cffefb7c8ba8ea81eefb4b0e" to "c227dad03dbef66c5ab1b2ba3c3cd9e7155c8bed"



---

archive/issue_comments_602960.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-04-09T10:56:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602960",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_602961.json:
```json
{
    "body": "<a id='comment:24'></a>Actually, some of my changes made sense (were more generic, only relying on the existence of algebraic closure and not assuming that it was QQbar). I opened #31631.",
    "created_at": "2021-04-09T11:03:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602961",
    "user": "https://github.com/videlec"
}
```

<a id='comment:24'></a>Actually, some of my changes made sense (were more generic, only relying on the existence of algebraic closure and not assuming that it was QQbar). I opened #31631.



---

archive/issue_comments_602962.json:
```json
{
    "body": "<a id='comment:25'></a>I am not sure I understand: do you want to drop your original fix (0b387f7) from this ticket and recycle it in #31631? That's fine with me, but we could also keep 0b387f7 and just update it to use number fields with no complex embedding.",
    "created_at": "2021-04-09T11:21:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602962",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:25'></a>I am not sure I understand: do you want to drop your original fix (0b387f7) from this ticket and recycle it in #31631? That's fine with me, but we could also keep 0b387f7 and just update it to use number fields with no complex embedding.



---

archive/issue_comments_602963.json:
```json
{
    "body": "<a id='comment:26'></a>I want to drop it here (since it is not necessary anymore). However, going through `.algebraic_closure` (instead of hard coding `QQbar`) and checking coercion to the algebraic closure make sense. The reason why I opened #31631. I also would like to add examples related to finite field, reason why I opened an independent ticket.",
    "created_at": "2021-04-09T15:02:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602963",
    "user": "https://github.com/videlec"
}
```

<a id='comment:26'></a>I want to drop it here (since it is not necessary anymore). However, going through `.algebraic_closure` (instead of hard coding `QQbar`) and checking coercion to the algebraic closure make sense. The reason why I opened #31631. I also would like to add examples related to finite field, reason why I opened an independent ticket.



---

archive/issue_comments_602964.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-04-10T09:33:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602964",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_602965.json:
```json
{
    "body": "<a id='comment:28'></a>Ok, thanks!",
    "created_at": "2021-04-10T09:34:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602965",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:28'></a>Ok, thanks!



---

archive/issue_comments_602966.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2021-04-18T16:13:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602966",
    "user": "https://github.com/mkoeppe"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_602967.json:
```json
{
    "body": "<a id='comment:30'></a>Does the fix here provide inspiration for these somewhat similar issues?\n\n- [sage-support, 2021-03, NumberFieldEmbedding gets confused with relative number fields](https://groups.google.com/g/sage-support/c/tRRJ-yEPLu4/m/49UuX8i1BQAJ)\n- #22008: complex_embedding on relative number fields\n  is inconsistent with the base field\n- #17524: polynomial for relative number field elements",
    "created_at": "2021-04-24T13:52:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602967",
    "user": "https://github.com/slel"
}
```

<a id='comment:30'></a>Does the fix here provide inspiration for these somewhat similar issues?

- [sage-support, 2021-03, NumberFieldEmbedding gets confused with relative number fields](https://groups.google.com/g/sage-support/c/tRRJ-yEPLu4/m/49UuX8i1BQAJ)
- #22008: complex_embedding on relative number fields
  is inconsistent with the base field
- #17524: polynomial for relative number field elements



---

archive/issue_events_079295.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-04-25T12:14:07Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30518#event-79295"
}
```



---

archive/issue_comments_602968.json:
```json
{
    "body": "Changing branch from \"u/vdelecroix/30518\" to \"c227dad03dbef66c5ab1b2ba3c3cd9e7155c8bed\"",
    "created_at": "2021-04-25T12:14:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602968",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/vdelecroix/30518" to "c227dad03dbef66c5ab1b2ba3c3cd9e7155c8bed"



---

archive/issue_comments_602969.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-04-25T12:14:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602969",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_602970.json:
```json
{
    "body": "Changing commit from \"c227dad03dbef66c5ab1b2ba3c3cd9e7155c8bed\" to \"\"",
    "created_at": "2021-04-25T20:23:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602970",
    "user": "https://github.com/vbraun"
}
```

Changing commit from "c227dad03dbef66c5ab1b2ba3c3cd9e7155c8bed" to ""



---

archive/issue_comments_602971.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2021-04-25T20:23:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602971",
    "user": "https://github.com/vbraun"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_602972.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2021-04-25T20:23:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602972",
    "user": "https://github.com/vbraun"
}
```

Changing status from closed to new.



---

archive/issue_events_079296.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-04-25T20:23:17Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30518#event-79296"
}
```



---

archive/issue_comments_602973.json:
```json
{
    "body": "<a id='comment:33'></a>(back to needs review as its dependency has been hopefully fixed)\n\n---\nNew commits:",
    "created_at": "2021-04-25T21:00:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602973",
    "user": "https://github.com/videlec"
}
```

<a id='comment:33'></a>(back to needs review as its dependency has been hopefully fixed)

---
New commits:



---

archive/issue_comments_602974.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-04-25T21:00:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602974",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_602975.json:
```json
{
    "body": "Changing commit from \"\" to \"c227dad03dbef66c5ab1b2ba3c3cd9e7155c8bed\"",
    "created_at": "2021-04-25T21:00:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602975",
    "user": "https://github.com/videlec"
}
```

Changing commit from "" to "c227dad03dbef66c5ab1b2ba3c3cd9e7155c8bed"



---

archive/issue_comments_602976.json:
```json
{
    "body": "Changing branch from \"c227dad03dbef66c5ab1b2ba3c3cd9e7155c8bed\" to \"u/vdelecroix/30518\"",
    "created_at": "2021-04-25T21:00:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602976",
    "user": "https://github.com/videlec"
}
```

Changing branch from "c227dad03dbef66c5ab1b2ba3c3cd9e7155c8bed" to "u/vdelecroix/30518"



---

archive/issue_comments_602977.json:
```json
{
    "body": "<a id='comment:34'></a>Move to positive review since its dependency has been fixed.",
    "created_at": "2021-04-26T16:46:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602977",
    "user": "https://github.com/videlec"
}
```

<a id='comment:34'></a>Move to positive review since its dependency has been fixed.



---

archive/issue_comments_602978.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-04-26T16:46:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602978",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_602979.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-04-29T21:06:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602979",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_079297.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-04-29T21:06:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30518#event-79297"
}
```



---

archive/issue_comments_602980.json:
```json
{
    "body": "Changing branch from \"u/vdelecroix/30518\" to \"c227dad03dbef66c5ab1b2ba3c3cd9e7155c8bed\"",
    "created_at": "2021-04-29T21:06:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30518#issuecomment-602980",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/vdelecroix/30518" to "c227dad03dbef66c5ab1b2ba3c3cd9e7155c8bed"
