# Issue 30989: add some typing information to interval-posets

archive/issues_030752.json:
```json
{
    "assignees": [],
    "body": "just as a little experiment\n\n**CC:**  @tobiasdiez\n\n**Branch/Commit:** [2272bc31ba28e6e4411f75143476d84143edd25d](https://github.com/sagemath/sagetrac-mirror/commit/2272bc31ba28e6e4411f75143476d84143edd25d)\n\n**Reviewer:** Tobias Diez\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/30989\n\n",
    "closed_at": "2020-12-21T23:35:22Z",
    "created_at": "2020-12-01T13:09:19Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "add some typing information to interval-posets",
    "type": "issue",
    "updated_at": "2020-12-21T23:35:22Z",
    "url": "https://github.com/sagemath/sage/issues/30989",
    "user": "https://github.com/fchapoton"
}
```
just as a little experiment

**CC:**  @tobiasdiez

**Branch/Commit:** [2272bc31ba28e6e4411f75143476d84143edd25d](https://github.com/sagemath/sagetrac-mirror/commit/2272bc31ba28e6e4411f75143476d84143edd25d)

**Reviewer:** Tobias Diez

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/30989





---

archive/issue_comments_499315.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99c5273074bde9de1d2e68717dfef4209004e1cf\">99c5273</a></td><td><code>add some basic typing information to Tamari interval posets</code></td></tr></table>\n",
    "created_at": "2020-12-01T13:09:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499315",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99c5273074bde9de1d2e68717dfef4209004e1cf">99c5273</a></td><td><code>add some basic typing information to Tamari interval posets</code></td></tr></table>




---

archive/issue_events_277849.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-12-01T13:09:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277849"
}
```



---

archive/issue_comments_499316.json:
```json
{
    "body": "**Branch:** [u/chapoton/30989](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/30989)",
    "created_at": "2020-12-01T13:09:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499316",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/30989](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/30989)



---

archive/issue_comments_499317.json:
```json
{
    "body": "**Commit:** [99c5273074bde9de1d2e68717dfef4209004e1cf](https://github.com/sagemath/sagetrac-mirror/commit/99c5273074bde9de1d2e68717dfef4209004e1cf)",
    "created_at": "2020-12-01T13:09:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499317",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [99c5273074bde9de1d2e68717dfef4209004e1cf](https://github.com/sagemath/sagetrac-mirror/commit/99c5273074bde9de1d2e68717dfef4209004e1cf)



---

archive/issue_comments_499318.json:
```json
{
    "body": "**Changing commit** from \"[99c5273074bde9de1d2e68717dfef4209004e1cf](https://github.com/sagemath/sagetrac-mirror/commit/99c5273074bde9de1d2e68717dfef4209004e1cf)\" to \"[3d6644a410b9813e55b67975563858586f206d68](https://github.com/sagemath/sagetrac-mirror/commit/3d6644a410b9813e55b67975563858586f206d68)\".",
    "created_at": "2020-12-01T17:48:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499318",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[99c5273074bde9de1d2e68717dfef4209004e1cf](https://github.com/sagemath/sagetrac-mirror/commit/99c5273074bde9de1d2e68717dfef4209004e1cf)" to "[3d6644a410b9813e55b67975563858586f206d68](https://github.com/sagemath/sagetrac-mirror/commit/3d6644a410b9813e55b67975563858586f206d68)".



---

archive/issue_comments_499319.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d6644a410b9813e55b67975563858586f206d68\">3d6644a</a></td><td><code>fix bad types</code></td></tr></table>\n",
    "created_at": "2020-12-01T17:48:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499319",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d6644a410b9813e55b67975563858586f206d68">3d6644a</a></td><td><code>fix bad types</code></td></tr></table>




---

archive/issue_events_277850.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-12-01T19:21:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277850"
}
```



---

archive/issue_events_277851.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-12-01T19:21:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277851"
}
```



---

archive/issue_comments_499320.json:
```json
{
    "body": "<a id='comment:4'></a>\nIn general, this looks good to me (I have admit I didn't went through the code in detail to check whether the added typing information is correct.)\n\nOne suggestion for improvement: for lists, tuple and iterators there are special typing annotation that allow to specify also the type of elements in these lists, e.g. https://docs.python.org/3/library/typing.html#typing.Iterator\nAfter `from `__future__` import annotations`, you can simply write `list[str]` for a list of strings.\n\nMoreover, it would be good to also annotate the method parameters. For example, https://github.com/microsoft/pyright/blob/master/docs/getting-started.md comments\n> The annotations that provide most value are on function input parameters, instance variables, and return parameters (in that order).",
    "created_at": "2020-12-01T19:21:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499320",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:4'></a>
In general, this looks good to me (I have admit I didn't went through the code in detail to check whether the added typing information is correct.)

One suggestion for improvement: for lists, tuple and iterators there are special typing annotation that allow to specify also the type of elements in these lists, e.g. https://docs.python.org/3/library/typing.html#typing.Iterator
After `from `__future__` import annotations`, you can simply write `list[str]` for a list of strings.

Moreover, it would be good to also annotate the method parameters. For example, https://github.com/microsoft/pyright/blob/master/docs/getting-started.md comments
> The annotations that provide most value are on function input parameters, instance variables, and return parameters (in that order).



---

archive/issue_comments_499321.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1faf42f91a688cf0afe646779aef5962a34bea4\">e1faf42</a></td><td><code>import annotations from future</code></td></tr></table>\n",
    "created_at": "2020-12-01T20:44:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499321",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1faf42f91a688cf0afe646779aef5962a34bea4">e1faf42</a></td><td><code>import annotations from future</code></td></tr></table>




---

archive/issue_comments_499322.json:
```json
{
    "body": "**Changing commit** from \"[3d6644a410b9813e55b67975563858586f206d68](https://github.com/sagemath/sagetrac-mirror/commit/3d6644a410b9813e55b67975563858586f206d68)\" to \"[e1faf42f91a688cf0afe646779aef5962a34bea4](https://github.com/sagemath/sagetrac-mirror/commit/e1faf42f91a688cf0afe646779aef5962a34bea4)\".",
    "created_at": "2020-12-01T20:44:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499322",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[3d6644a410b9813e55b67975563858586f206d68](https://github.com/sagemath/sagetrac-mirror/commit/3d6644a410b9813e55b67975563858586f206d68)" to "[e1faf42f91a688cf0afe646779aef5962a34bea4](https://github.com/sagemath/sagetrac-mirror/commit/e1faf42f91a688cf0afe646779aef5962a34bea4)".



---

archive/issue_comments_499323.json:
```json
{
    "body": "<a id='comment:6'></a>\nThanks for the hint.\n\nI think it would be slightly premature to add more typing here, without thinking in general about the relationship with the Parent/Element framework.",
    "created_at": "2020-12-01T20:47:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499323",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
Thanks for the hint.

I think it would be slightly premature to add more typing here, without thinking in general about the relationship with the Parent/Element framework.



---

archive/issue_comments_499324.json:
```json
{
    "body": "**Reviewer:** Tobias Diez",
    "created_at": "2020-12-01T22:45:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499324",
    "user": "https://github.com/tobiasdiez"
}
```

**Reviewer:** Tobias Diez



---

archive/issue_comments_499325.json:
```json
{
    "body": "<a id='comment:7'></a>\nSure, it's already better than no typing at all.\n\nFeel free to set it to \"positive review\" after the tests pass.",
    "created_at": "2020-12-01T22:45:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499325",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:7'></a>
Sure, it's already better than no typing at all.

Feel free to set it to "positive review" after the tests pass.



---

archive/issue_comments_499326.json:
```json
{
    "body": "<a id='comment:8'></a>\nok, thanks. For sure, only a first step.\n\nI was wondering how to add typing information explaining that the output type has the same \"Parent\" as self.",
    "created_at": "2020-12-02T07:56:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499326",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
ok, thanks. For sure, only a first step.

I was wondering how to add typing information explaining that the output type has the same "Parent" as self.



---

archive/issue_events_277852.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-12-02T07:56:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277852"
}
```



---

archive/issue_events_277853.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-12-02T07:56:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277853"
}
```



---

archive/issue_comments_499327.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [@fchapoton](#comment%3A8):\n> I was wondering how to add typing information explaining that the output type has the same \"Parent\" as self.\n\nIn general you can use `@overload` for methods to provide a more refined typing information depending on the type of the arguments, in particular, also of self.\nFor example,\n\n```\n    @overload\n    def method(self: 'MyClass', other: 'OtherClass') -> 'ReturnClass':\n        pass\n\n    def method(self: Any, other: Any) -> Any:\n        ....\n```\n\nThe category framework probably needs further work to be able to provide meaningful typing information. One way path would be to use generics. For example, [sage.categories.action.Action](https://doc.sagemath.org/html/en/reference/coercion/sage/categories/action.html) could be declared as\n\n```\nG = TypeVar('G') # possibly with some constraints\nS = TypeVar('S')\n\nclass Action(Generic[G, S]):\n\n   def __init__(G: G, S: S):\n       ....\n   \n   def actor(self) -> G:\n       ....\n\n   def codomain(self) -> S:\n       ...\n```",
    "created_at": "2020-12-02T11:12:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499327",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:10'></a>
Replying to [@fchapoton](#comment%3A8):
> I was wondering how to add typing information explaining that the output type has the same "Parent" as self.

In general you can use `@overload` for methods to provide a more refined typing information depending on the type of the arguments, in particular, also of self.
For example,

```
    @overload
    def method(self: 'MyClass', other: 'OtherClass') -> 'ReturnClass':
        pass

    def method(self: Any, other: Any) -> Any:
        ....
```

The category framework probably needs further work to be able to provide meaningful typing information. One way path would be to use generics. For example, [sage.categories.action.Action](https://doc.sagemath.org/html/en/reference/coercion/sage/categories/action.html) could be declared as

```
G = TypeVar('G') # possibly with some constraints
S = TypeVar('S')

class Action(Generic[G, S]):

   def __init__(G: G, S: S):
       ....
   
   def actor(self) -> G:
       ....

   def codomain(self) -> S:
       ...
```



---

archive/issue_comments_499328.json:
```json
{
    "body": "**Dependencies:** #30551",
    "created_at": "2020-12-04T19:47:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499328",
    "user": "https://github.com/fchapoton"
}
```

**Dependencies:** #30551



---

archive/issue_comments_499329.json:
```json
{
    "body": "<a id='comment:12'></a>\nTo my understanding, type annotations themselves are supported in Python 3.6. \n`from `__future__` import annotations` is for \"postponed evaluation of annotations\" (https://www.python.org/dev/peps/pep-0563/) \n\nI think the annotations added on this ticket do not need `from `__future__` import annotations` - so this line can be removed and the dependency can be dropped",
    "created_at": "2020-12-04T19:52:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499329",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
To my understanding, type annotations themselves are supported in Python 3.6. 
`from `__future__` import annotations` is for "postponed evaluation of annotations" (https://www.python.org/dev/peps/pep-0563/) 

I think the annotations added on this ticket do not need `from `__future__` import annotations` - so this line can be removed and the dependency can be dropped



---

archive/issue_comments_499330.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** This was a forced push. **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fdadfa8a5bdf8db9fc3635f4bb562fcff20b5a88\">fdadfa8</a></td><td><code>add some basic typing information to Tamari interval posets</code></td></tr></table>\n",
    "created_at": "2020-12-05T08:09:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499330",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** This was a forced push. **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fdadfa8a5bdf8db9fc3635f4bb562fcff20b5a88">fdadfa8</a></td><td><code>add some basic typing information to Tamari interval posets</code></td></tr></table>




---

archive/issue_comments_499331.json:
```json
{
    "body": "**Changing commit** from \"[e1faf42f91a688cf0afe646779aef5962a34bea4](https://github.com/sagemath/sagetrac-mirror/commit/e1faf42f91a688cf0afe646779aef5962a34bea4)\" to \"[fdadfa8a5bdf8db9fc3635f4bb562fcff20b5a88](https://github.com/sagemath/sagetrac-mirror/commit/fdadfa8a5bdf8db9fc3635f4bb562fcff20b5a88)\".",
    "created_at": "2020-12-05T08:09:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499331",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[e1faf42f91a688cf0afe646779aef5962a34bea4](https://github.com/sagemath/sagetrac-mirror/commit/e1faf42f91a688cf0afe646779aef5962a34bea4)" to "[fdadfa8a5bdf8db9fc3635f4bb562fcff20b5a88](https://github.com/sagemath/sagetrac-mirror/commit/fdadfa8a5bdf8db9fc3635f4bb562fcff20b5a88)".



---

archive/issue_events_277854.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2020-12-05T08:09:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277854"
}
```



---

archive/issue_events_277855.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2020-12-05T08:09:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277855"
}
```



---

archive/issue_comments_499332.json:
```json
{
    "body": "<a id='comment:14'></a>\nok, here is a more basic annotation, without future import\n\nUsing python 3.8.5, I needed to change back `list[tuple]` to just `list`\n\nplease review again",
    "created_at": "2020-12-05T08:11:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499332",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
ok, here is a more basic annotation, without future import

Using python 3.8.5, I needed to change back `list[tuple]` to just `list`

please review again



---

archive/issue_comments_499333.json:
```json
{
    "body": "**Changing dependencies** from \"#30551\" to \"\".",
    "created_at": "2020-12-05T08:11:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499333",
    "user": "https://github.com/fchapoton"
}
```

**Changing dependencies** from "#30551" to "".



---

archive/issue_events_277856.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-12-05T12:41:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277856"
}
```



---

archive/issue_events_277857.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-12-05T12:41:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277857"
}
```



---

archive/issue_comments_499334.json:
```json
{
    "body": "<a id='comment:15'></a>\nIf you don't want to use `__future__`, then you have to use `List[Tuple[...]]` from `typing`, and also sometimes wrap typing information in strings (e.g. so that you don't run into issues with forward references).\nI'm in favor of using the future import, since this can easily be migrated once only >= python 3.9 is supported (by simply removing the import).\n\nI think it's a good idea to specify the complete typing information, so also specify the type of the list items, i.e. `List[str]` instead of only `List`. Same for the iterator.",
    "created_at": "2020-12-05T12:41:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499334",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:15'></a>
If you don't want to use `__future__`, then you have to use `List[Tuple[...]]` from `typing`, and also sometimes wrap typing information in strings (e.g. so that you don't run into issues with forward references).
I'm in favor of using the future import, since this can easily be migrated once only >= python 3.9 is supported (by simply removing the import).

I think it's a good idea to specify the complete typing information, so also specify the type of the list items, i.e. `List[str]` instead of only `List`. Same for the iterator.



---

archive/issue_comments_499335.json:
```json
{
    "body": "**Changing commit** from \"[fdadfa8a5bdf8db9fc3635f4bb562fcff20b5a88](https://github.com/sagemath/sagetrac-mirror/commit/fdadfa8a5bdf8db9fc3635f4bb562fcff20b5a88)\" to \"[e74fa703f7ab8bc3b52b55916a0080eaf2b85557](https://github.com/sagemath/sagetrac-mirror/commit/e74fa703f7ab8bc3b52b55916a0080eaf2b85557)\".",
    "created_at": "2020-12-05T16:47:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499335",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[fdadfa8a5bdf8db9fc3635f4bb562fcff20b5a88](https://github.com/sagemath/sagetrac-mirror/commit/fdadfa8a5bdf8db9fc3635f4bb562fcff20b5a88)" to "[e74fa703f7ab8bc3b52b55916a0080eaf2b85557](https://github.com/sagemath/sagetrac-mirror/commit/e74fa703f7ab8bc3b52b55916a0080eaf2b85557)".



---

archive/issue_comments_499336.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e74fa703f7ab8bc3b52b55916a0080eaf2b85557\">e74fa70</a></td><td><code>use List and Tuple</code></td></tr></table>\n",
    "created_at": "2020-12-05T16:47:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499336",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e74fa703f7ab8bc3b52b55916a0080eaf2b85557">e74fa70</a></td><td><code>use List and Tuple</code></td></tr></table>




---

archive/issue_comments_499337.json:
```json
{
    "body": "<a id='comment:17'></a>\nok, here is a commit for using List[Tuple]",
    "created_at": "2020-12-05T16:48:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499337",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>
ok, here is a commit for using List[Tuple]



---

archive/issue_events_277858.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-12-05T16:48:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277858"
}
```



---

archive/issue_events_277859.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-12-05T16:48:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277859"
}
```



---

archive/issue_comments_499338.json:
```json
{
    "body": "<a id='comment:19'></a>\nThere are merged conflicts now.",
    "created_at": "2020-12-07T23:34:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499338",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:19'></a>
There are merged conflicts now.



---

archive/issue_events_277860.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-12-07T23:34:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277860"
}
```



---

archive/issue_events_277861.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-12-07T23:34:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277861"
}
```



---

archive/issue_comments_499339.json:
```json
{
    "body": "**Changing commit** from \"[e74fa703f7ab8bc3b52b55916a0080eaf2b85557](https://github.com/sagemath/sagetrac-mirror/commit/e74fa703f7ab8bc3b52b55916a0080eaf2b85557)\" to \"[2272bc31ba28e6e4411f75143476d84143edd25d](https://github.com/sagemath/sagetrac-mirror/commit/2272bc31ba28e6e4411f75143476d84143edd25d)\".",
    "created_at": "2020-12-08T08:01:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499339",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[e74fa703f7ab8bc3b52b55916a0080eaf2b85557](https://github.com/sagemath/sagetrac-mirror/commit/e74fa703f7ab8bc3b52b55916a0080eaf2b85557)" to "[2272bc31ba28e6e4411f75143476d84143edd25d](https://github.com/sagemath/sagetrac-mirror/commit/2272bc31ba28e6e4411f75143476d84143edd25d)".



---

archive/issue_comments_499340.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2272bc31ba28e6e4411f75143476d84143edd25d\">2272bc3</a></td><td><code>Merge branch 'u/chapoton/30989' in 9.3.b3</code></td></tr></table>\n",
    "created_at": "2020-12-08T08:01:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499340",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2272bc31ba28e6e4411f75143476d84143edd25d">2272bc3</a></td><td><code>Merge branch 'u/chapoton/30989' in 9.3.b3</code></td></tr></table>




---

archive/issue_events_277862.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-12-08T08:01:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277862"
}
```



---

archive/issue_events_277863.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-12-08T08:01:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277863"
}
```



---

archive/issue_comments_499341.json:
```json
{
    "body": "<a id='comment:21'></a>\nmerged",
    "created_at": "2020-12-08T08:01:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499341",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'></a>
merged



---

archive/issue_comments_499342.json:
```json
{
    "body": "<a id='comment:22'></a>\nLGTM. The patchbot fails, but the errors seem not relevant to the changes on the branch.",
    "created_at": "2020-12-08T12:46:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499342",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:22'></a>
LGTM. The patchbot fails, but the errors seem not relevant to the changes on the branch.



---

archive/issue_events_277864.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-12-08T12:46:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277864"
}
```



---

archive/issue_events_277865.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2020-12-08T12:46:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277865"
}
```



---

archive/issue_events_277866.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-12-21T23:35:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277866"
}
```



---

archive/issue_events_277867.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "b235baa8f3c46d857089d60a144a45b7f8ef3cbc",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-12-21T23:35:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/30989#event-277867"
}
```



---

archive/issue_comments_499343.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/30989](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/30989)\" to \"[2272bc31ba28e6e4411f75143476d84143edd25d](https://github.com/sagemath/sagetrac-mirror/commit/2272bc31ba28e6e4411f75143476d84143edd25d)\".",
    "created_at": "2020-12-21T23:35:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/30989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/30989#issuecomment-499343",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/30989](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/30989)" to "[2272bc31ba28e6e4411f75143476d84143edd25d](https://github.com/sagemath/sagetrac-mirror/commit/2272bc31ba28e6e4411f75143476d84143edd25d)".
