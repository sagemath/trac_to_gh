# Issue 22680: update zlib to 1.2.11

archive/issues_022680.json:
```json
{
    "body": "CC:  @kiwifb @embray\n\ntime to update and to fix weirdness in handling `CC=cc`, cf \n[this comment](https://trac.sagemath.org/ticket/12426#comment:239) on #12426.\n\ntarball [here](http://www.zlib.net/zlib-1.2.11.tar.gz)\n\nIssue created by migration from https://trac.sagemath.org/ticket/22917\n\n",
    "created_at": "2017-05-01T10:33:48Z",
    "labels": [
        "packages: standard",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "update zlib to 1.2.11",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22680",
    "user": "@dimpase"
}
```
CC:  @kiwifb @embray

time to update and to fix weirdness in handling `CC=cc`, cf 
[this comment](https://trac.sagemath.org/ticket/12426#comment:239) on #12426.

tarball [here](http://www.zlib.net/zlib-1.2.11.tar.gz)

Issue created by migration from https://trac.sagemath.org/ticket/22917





---

archive/issue_comments_316297.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2017-05-01T10:45:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22680#issuecomment-316297",
    "user": "@dimpase"
}
```

Last 10 new commits:



---

archive/issue_comments_316298.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-01T11:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22680#issuecomment-316298",
    "user": "@dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_316299.json:
```json
{
    "body": "OK, this is the update. Note that it needed an update of the Cygwin patch, thus a review on Cygwin is most appreciated.",
    "created_at": "2017-05-01T11:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22680#issuecomment-316299",
    "user": "@dimpase"
}
```

OK, this is the update. Note that it needed an update of the Cygwin patch, thus a review on Cygwin is most appreciated.



---

archive/issue_comments_316300.json:
```json
{
    "body": "I am OK with this if the cygwin patch is appropriate.",
    "created_at": "2017-05-01T21:16:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22680#issuecomment-316300",
    "user": "@kiwifb"
}
```

I am OK with this if the cygwin patch is appropriate.



---

archive/issue_comments_316301.json:
```json
{
    "body": "The cygwin patch update looks ok form a functional point of view but looses a tiny piece of info stuffed into the patch.",
    "created_at": "2017-05-17T08:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22680#issuecomment-316301",
    "user": "jpflori"
}
```

The cygwin patch update looks ok form a functional point of view but looses a tiny piece of info stuffed into the patch.



---

archive/issue_comments_316302.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-05-17T09:00:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22680#issuecomment-316302",
    "user": "jpflori"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_316303.json:
```json
{
    "body": "In fact the patch should not be necessary anymore:\n* https://github.com/madler/zlib/issues/45\nPlease remove it.\n\nIt should still be nice to test it on Cygwin, `@`eric: can you do it?",
    "created_at": "2017-05-17T09:00:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22680#issuecomment-316303",
    "user": "jpflori"
}
```

In fact the patch should not be necessary anymore:
* https://github.com/madler/zlib/issues/45
Please remove it.

It should still be nice to test it on Cygwin, `@`eric: can you do it?



---

archive/issue_comments_316304.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-17T12:29:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22680#issuecomment-316304",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_316305.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-05-17T12:32:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22680#issuecomment-316305",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_316306.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-05-17T12:33:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22680#issuecomment-316306",
    "user": "@dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_316307.json:
```json
{
    "body": "OK, done.",
    "created_at": "2017-05-17T12:33:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22680#issuecomment-316307",
    "user": "@dimpase"
}
```

OK, done.



---

archive/issue_comments_316308.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-05-17T12:43:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22680#issuecomment-316308",
    "user": "jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_316309.json:
```json
{
    "body": "Good, let's merge it then.",
    "created_at": "2017-05-17T12:43:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22680#issuecomment-316309",
    "user": "jpflori"
}
```

Good, let's merge it then.



---

archive/issue_comments_316310.json:
```json
{
    "body": "I haven't tested it yet, but I don't imagine it will be a problem.  It would be nicer though if we could use the system zlib.  I'm working up a proposal for how to enable that more generally...",
    "created_at": "2017-05-18T08:41:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22680#issuecomment-316310",
    "user": "@embray"
}
```

I haven't tested it yet, but I don't imagine it will be a problem.  It would be nicer though if we could use the system zlib.  I'm working up a proposal for how to enable that more generally...



---

archive/issue_comments_316311.json:
```json
{
    "body": "Sure but as you say, it's a wider and different issue.",
    "created_at": "2017-05-18T08:45:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22680#issuecomment-316311",
    "user": "jpflori"
}
```

Sure but as you say, it's a wider and different issue.



---

archive/issue_comments_316312.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-05-19T22:10:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22680#issuecomment-316312",
    "user": "@vbraun"
}
```

Resolution: fixed
