# Issue 31046: 1000× speedup of conjugate of double dense matrices

archive/issues_031046.json:
```json
{
    "body": "CC:  @tscrim\n\nThis ticket implements `conjugate` more efficiently for matrices over CDF and RDF. This speeds up taking the conjugate, and by extension Hermitian transpose, a lot.\n\nBefore:\n\n\n```\nsage: A = matrix.random(CDF, 80)\nsage: %timeit A.C\n28.7 ms \u00b1 628 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)\nsage: %timeit A.H\n30.2 ms \u00b1 572 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)\n```\n\n\nThis is a performance bottleneck because it is much slower than matrix multiplication for example, even though that would have worse complexity.\n\nAfter:\n\n\n```\nsage: A = matrix.random(CDF, 80)\nsage: %timeit A.C\n5.96 \u00b5s \u00b1 36.9 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\nsage: %timeit A.H\n14 \u00b5s \u00b1 59.7 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n```\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/31283\n\n",
    "created_at": "2021-01-22T22:02:22Z",
    "labels": [
        "numerical",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "1000\u00d7 speedup of conjugate of double dense matrices",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31046",
    "user": "@mwageringel"
}
```
CC:  @tscrim

This ticket implements `conjugate` more efficiently for matrices over CDF and RDF. This speeds up taking the conjugate, and by extension Hermitian transpose, a lot.

Before:


```
sage: A = matrix.random(CDF, 80)
sage: %timeit A.C
28.7 ms ± 628 µs per loop (mean ± std. dev. of 7 runs, 10 loops each)
sage: %timeit A.H
30.2 ms ± 572 µs per loop (mean ± std. dev. of 7 runs, 10 loops each)
```


This is a performance bottleneck because it is much slower than matrix multiplication for example, even though that would have worse complexity.

After:


```
sage: A = matrix.random(CDF, 80)
sage: %timeit A.C
5.96 µs ± 36.9 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
sage: %timeit A.H
14 µs ± 59.7 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
```



Issue created by migration from https://trac.sagemath.org/ticket/31283





---

archive/issue_comments_443470.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-01-22T22:09:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31046#issuecomment-443470",
    "user": "@mwageringel"
}
```

New commits:



---

archive/issue_comments_443471.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-01-22T22:09:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31046#issuecomment-443471",
    "user": "@mwageringel"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_443472.json:
```json
{
    "body": "The bot is green. Please review.",
    "created_at": "2021-01-23T13:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31046#issuecomment-443472",
    "user": "@mwageringel"
}
```

The bot is green. Please review.



---

archive/issue_comments_443473.json:
```json
{
    "body": "LGTM",
    "created_at": "2021-01-23T14:25:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31046#issuecomment-443473",
    "user": "@tscrim"
}
```

LGTM



---

archive/issue_comments_443474.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-01-23T14:25:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31046#issuecomment-443474",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_443475.json:
```json
{
    "body": "Thank you.",
    "created_at": "2021-01-23T14:32:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31046#issuecomment-443475",
    "user": "@mwageringel"
}
```

Thank you.



---

archive/issue_comments_443476.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-01-31T20:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31046#issuecomment-443476",
    "user": "@vbraun"
}
```

Resolution: fixed
