# Issue 15410: Docstring and probably also code is dangerously naive about duality

Issue created by migration from Trac.

Original creator: darij

Original creation time: 2014-01-08 01:15:39

CC:  nthiery sage-combinat

Tangent off the #10963 discussion...


```
+ `@`cached_method
+ def DualObjects(self):
+ r"""
+ Return the category of duals of objects of ``self``.
+
+ The dual of a vector space `V` is the space consisting of
+ all linear functionals on `V` (see :wikipedia:`Dual_space`).
+ Additional structure on `V` can endow its dual with
+ additional structure; e.g. if `V` is an algebra, then its
+ dual is a coalgebra.
+
+ This returns the category of dual of spaces in ``self`` endowed
+ with the appropriate additional structure.
+
+ .. SEEALSO::
+
+ - :class:`.dual.DualObjectsCategory`
+ - :class:`~.covariant_functorial_construction.CovariantFunctorialConstruction`.
+
+ .. TODO:: add support for graded duals.
+
+ EXAMPLES::
+
+ sage: VectorSpaces(QQ).DualObjects()
+ Category of duals of vector spaces over Rational Field
+
+ The dual of a vector space is a vector space::
+
+ sage: VectorSpaces(QQ).DualObjects().super_categories()
+ [Category of vector spaces over Rational Field]
+
+ The dual of an algebra is a coalgebra::
+
+ sage: sorted(Algebras(QQ).DualObjects().super_categories(), key=str)
+ [Category of coalgebras over Rational Field,
+ Category of duals of vector spaces over Rational Field]
```


I know this is not a big issue since the `dual()` of an algebra *is* a coalgebra in probably all cases in which `dual()` is implemented (not least because in the infinite-dimensional cases it usually means the graded dual). But at some point it probably *will* become an issue (maybe with the introduction of non-graded bases for graded algebras?), and I'm unhappy with the docstring lying in my face. And Nicolas suggests that "we need to clean up the distinction between dual and graded dual; this is not completely obvious to set the things up so that we can still share some code between the two".


---

Comment by nthiery created at 2014-01-19 20:41:43

Changing type from task to defect.


---

Comment by mkoeppe created at 2016-11-18 01:09:40

Are there even any methods for constructing the dual of a vector space, or just a single linear functional?


---

Comment by mkoeppe created at 2020-07-08 20:17:53

Replying to [comment:5 mkoeppe]:
> Are there even any methods for constructing the dual of a vector space, or just a single linear functional?
See #30091
