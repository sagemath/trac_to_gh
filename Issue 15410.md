# Issue 15410: Docstring and probably also code is dangerously naive about duality

archive/issues_015410.json:
```json
{
    "body": "CC:  @nthiery sage-combinat\n\nTangent off the #10963 discussion...\n\n```\n+ @cached_method\n+ def DualObjects(self):\n+ r\"\"\"\n+ Return the category of duals of objects of ``self``.\n+\n+ The dual of a vector space `V` is the space consisting of\n+ all linear functionals on `V` (see :wikipedia:`Dual_space`).\n+ Additional structure on `V` can endow its dual with\n+ additional structure; e.g. if `V` is an algebra, then its\n+ dual is a coalgebra.\n+\n+ This returns the category of dual of spaces in ``self`` endowed\n+ with the appropriate additional structure.\n+\n+ .. SEEALSO::\n+\n+ - :class:`.dual.DualObjectsCategory`\n+ - :class:`~.covariant_functorial_construction.CovariantFunctorialConstruction`.\n+\n+ .. TODO:: add support for graded duals.\n+\n+ EXAMPLES::\n+\n+ sage: VectorSpaces(QQ).DualObjects()\n+ Category of duals of vector spaces over Rational Field\n+\n+ The dual of a vector space is a vector space::\n+\n+ sage: VectorSpaces(QQ).DualObjects().super_categories()\n+ [Category of vector spaces over Rational Field]\n+\n+ The dual of an algebra is a coalgebra::\n+\n+ sage: sorted(Algebras(QQ).DualObjects().super_categories(), key=str)\n+ [Category of coalgebras over Rational Field,\n+ Category of duals of vector spaces over Rational Field]\n```\n\nI know this is not a big issue since the `dual()` of an algebra *is* a coalgebra in probably all cases in which `dual()` is implemented (not least because in the infinite-dimensional cases it usually means the graded dual). But at some point it probably *will* become an issue (maybe with the introduction of non-graded bases for graded algebras?), and I'm unhappy with the docstring lying in my face. And Nicolas suggests that \"we need to clean up the distinction between dual and graded dual; this is not completely obvious to set the things up so that we can still share some code between the two\".\n\nIssue created by migration from https://trac.sagemath.org/ticket/15647\n\n",
    "created_at": "2014-01-08T01:15:39Z",
    "labels": [
        "component: categories"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Docstring and probably also code is dangerously naive about duality",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15410",
    "user": "https://github.com/darijgr"
}
```
CC:  @nthiery sage-combinat

Tangent off the #10963 discussion...

```
+ @cached_method
+ def DualObjects(self):
+ r"""
+ Return the category of duals of objects of ``self``.
+
+ The dual of a vector space `V` is the space consisting of
+ all linear functionals on `V` (see :wikipedia:`Dual_space`).
+ Additional structure on `V` can endow its dual with
+ additional structure; e.g. if `V` is an algebra, then its
+ dual is a coalgebra.
+
+ This returns the category of dual of spaces in ``self`` endowed
+ with the appropriate additional structure.
+
+ .. SEEALSO::
+
+ - :class:`.dual.DualObjectsCategory`
+ - :class:`~.covariant_functorial_construction.CovariantFunctorialConstruction`.
+
+ .. TODO:: add support for graded duals.
+
+ EXAMPLES::
+
+ sage: VectorSpaces(QQ).DualObjects()
+ Category of duals of vector spaces over Rational Field
+
+ The dual of a vector space is a vector space::
+
+ sage: VectorSpaces(QQ).DualObjects().super_categories()
+ [Category of vector spaces over Rational Field]
+
+ The dual of an algebra is a coalgebra::
+
+ sage: sorted(Algebras(QQ).DualObjects().super_categories(), key=str)
+ [Category of coalgebras over Rational Field,
+ Category of duals of vector spaces over Rational Field]
```

I know this is not a big issue since the `dual()` of an algebra *is* a coalgebra in probably all cases in which `dual()` is implemented (not least because in the infinite-dimensional cases it usually means the graded dual). But at some point it probably *will* become an issue (maybe with the introduction of non-graded bases for graded algebras?), and I'm unhappy with the docstring lying in my face. And Nicolas suggests that "we need to clean up the distinction between dual and graded dual; this is not completely obvious to set the things up so that we can still share some code between the two".

Issue created by migration from https://trac.sagemath.org/ticket/15647





---

archive/issue_comments_198677.json:
```json
{
    "body": "Changing type from task to defect.",
    "created_at": "2014-01-19T20:41:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15410#issuecomment-198677",
    "user": "https://github.com/nthiery"
}
```

Changing type from task to defect.



---

archive/issue_events_045875.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15410",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15410#event-45875"
}
```



---

archive/issue_events_045876.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15410",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15410#event-45876"
}
```



---

archive/issue_events_045877.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15410",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15410#event-45877"
}
```



---

archive/issue_events_045878.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15410",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15410#event-45878"
}
```



---

archive/issue_events_045879.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15410",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15410#event-45879"
}
```



---

archive/issue_comments_198678.json:
```json
{
    "body": "Are there even any methods for constructing the dual of a vector space, or just a single linear functional?",
    "created_at": "2016-11-18T01:09:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15410#issuecomment-198678",
    "user": "https://github.com/mkoeppe"
}
```

Are there even any methods for constructing the dual of a vector space, or just a single linear functional?



---

archive/issue_comments_198679.json:
```json
{
    "body": "Replying to [comment:5 mkoeppe]:\n> Are there even any methods for constructing the dual of a vector space, or just a single linear functional?\n\nSee #30091",
    "created_at": "2020-07-08T20:17:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15410#issuecomment-198679",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:5 mkoeppe]:
> Are there even any methods for constructing the dual of a vector space, or just a single linear functional?

See #30091
