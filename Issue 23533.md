# Issue 23533: Determine equalities implied by a MILP

archive/issues_023533.json:
```json
{
    "body": "For a research problem I'm working on, I need to know the set of equalities implied by a LP problem.\n\nIssue created by migration from https://trac.sagemath.org/ticket/23770\n\n",
    "created_at": "2017-09-01T12:19:32Z",
    "labels": [
        "numerical",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Determine equalities implied by a MILP",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23533",
    "user": "@jdemeyer"
}
```
For a research problem I'm working on, I need to know the set of equalities implied by a LP problem.

Issue created by migration from https://trac.sagemath.org/ticket/23770





---

archive/issue_comments_329725.json:
```json
{
    "body": "LP or MILP?",
    "created_at": "2017-09-03T19:38:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23533#issuecomment-329725",
    "user": "@mkoeppe"
}
```

LP or MILP?



---

archive/issue_comments_329726.json:
```json
{
    "body": "For the research problem LP, but it can work the same way for a MILP.",
    "created_at": "2017-09-03T20:55:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23533#issuecomment-329726",
    "user": "@jdemeyer"
}
```

For the research problem LP, but it can work the same way for a MILP.



---

archive/issue_comments_329727.json:
```json
{
    "body": "For LP, try `redund` from `lrslib`. I don't remember if it guarantees to find all equations. If it doesn't, then there's no way around computing the double description (in sage, setting up the polyhedron already computes that).\n\nFor MIP, in general no way around computing the integral hull. We have some methods for that in sage; the best implementation is using normaliz, which also supports the unbounded case. However, there is an interesting software, IPO by Matthias Walter (https://polyhedra-oracles.bitbucket.io/) for cases when computing things like this when computing the full integral hull is out of reach.",
    "created_at": "2017-09-03T22:30:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23533#issuecomment-329727",
    "user": "@mkoeppe"
}
```

For LP, try `redund` from `lrslib`. I don't remember if it guarantees to find all equations. If it doesn't, then there's no way around computing the double description (in sage, setting up the polyhedron already computes that).

For MIP, in general no way around computing the integral hull. We have some methods for that in sage; the best implementation is using normaliz, which also supports the unbounded case. However, there is an interesting software, IPO by Matthias Walter (https://polyhedra-oracles.bitbucket.io/) for cases when computing things like this when computing the full integral hull is out of reach.



---

archive/issue_comments_329728.json:
```json
{
    "body": "Right. My idea was essentially to use this strategy mentioned on the IPO website:\n\n> On the other hand, maximizing linear objective functions over these polyhedra (though most often NP-hard) can be done very efficiently for moderate sizes (say n=100), e.g., by mixed-integer programming solvers",
    "created_at": "2017-09-04T10:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23533#issuecomment-329728",
    "user": "@jdemeyer"
}
```

Right. My idea was essentially to use this strategy mentioned on the IPO website:

> On the other hand, maximizing linear objective functions over these polyhedra (though most often NP-hard) can be done very efficiently for moderate sizes (say n=100), e.g., by mixed-integer programming solvers



---

archive/issue_comments_329729.json:
```json
{
    "body": "His thesis is quite informative: http://matthiaswalter.org/downloads/Dissertation.pdf",
    "created_at": "2017-09-04T18:05:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23533#issuecomment-329729",
    "user": "@mkoeppe"
}
```

His thesis is quite informative: http://matthiaswalter.org/downloads/Dissertation.pdf



---

archive/issue_comments_329730.json:
```json
{
    "body": "Looks like IPO now has a cython interface too. We should get this package into sage.",
    "created_at": "2017-09-04T18:14:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23533#issuecomment-329730",
    "user": "@mkoeppe"
}
```

Looks like IPO now has a cython interface too. We should get this package into sage.



---

archive/issue_comments_329731.json:
```json
{
    "body": "Unfortunately, IPO depends on SCIP which is not open source.",
    "created_at": "2017-09-05T11:54:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23533#issuecomment-329731",
    "user": "@jdemeyer"
}
```

Unfortunately, IPO depends on SCIP which is not open source.



---

archive/issue_comments_329732.json:
```json
{
    "body": "Replying to [comment:7 jdemeyer]:\n> Unfortunately, IPO depends on SCIP which is not open source.\n\nSCIP is just one implementation that it can use. There's also a way to just hook in a Python callback as the oracle implementation. (Haven't tested this myself.)",
    "created_at": "2017-09-05T20:45:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23533#issuecomment-329732",
    "user": "@mkoeppe"
}
```

Replying to [comment:7 jdemeyer]:
> Unfortunately, IPO depends on SCIP which is not open source.

SCIP is just one implementation that it can use. There's also a way to just hook in a Python callback as the oracle implementation. (Haven't tested this myself.)
