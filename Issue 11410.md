# Issue 11410: Allow for randomness in permgroup.py test

archive/issues_011410.json:
```json
{
    "body": "Assignee: mvngu\n\nThe following test (introduced by #10334) sometimes gives different output, see #11427:\n\n```\nsage: G = PermutationGroup([(1,2,3), (2,3)]) \nsage: H = PermutationGroup([(1,2,4), (1,4)]) \nsage: G.isomorphism_to(H) \nHomomorphism : Permutation Group with generators [(2,3), (1,2,3)] --> Permutation Group with generators [(1,2,4), (1,4)] \nPermutation group morphism: \n  From: Permutation Group with generators [(2,3), (1,2,3)] \n  To:   Permutation Group with generators [(1,2,4), (1,4)] \n  Defn: [(2,3), (1,2,3)] -> [(2,4), (1,2,4)] \n```\n\n\nIn this ticket, I simply allow random output for the right hand side of `Defn:`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/11582\n\n",
    "created_at": "2011-07-08T07:38:41Z",
    "labels": [
        "doctest coverage",
        "blocker",
        "enhancement"
    ],
    "title": "Allow for randomness in permgroup.py test",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11410",
    "user": "jdemeyer"
}
```
Assignee: mvngu

The following test (introduced by #10334) sometimes gives different output, see #11427:

```
sage: G = PermutationGroup([(1,2,3), (2,3)]) 
sage: H = PermutationGroup([(1,2,4), (1,4)]) 
sage: G.isomorphism_to(H) 
Homomorphism : Permutation Group with generators [(2,3), (1,2,3)] --> Permutation Group with generators [(1,2,4), (1,4)] 
Permutation group morphism: 
  From: Permutation Group with generators [(2,3), (1,2,3)] 
  To:   Permutation Group with generators [(1,2,4), (1,4)] 
  Defn: [(2,3), (1,2,3)] -> [(2,4), (1,2,4)] 
```


In this ticket, I simply allow random output for the right hand side of `Defn:`.

Issue created by migration from https://trac.sagemath.org/ticket/11582





---

archive/issue_comments_126980.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-07-08T07:58:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11410#issuecomment-126980",
    "user": "jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_126981.json:
```json
{
    "body": "Why does it include the doctest twice?  I think the following would be better:\n\n\n```\n\nsage: G = PermutationGroup([(1,2,3), (2,3)]) \nsage: H = PermutationGroup([(1,2,4), (1,4)]) \nsage: phi = G.isomorphism_to(H); phi\nPermutation group morphism: \n  From: Permutation Group with generators [(2,3), (1,2,3)] \n  To:   Permutation Group with generators [(1,2,4), (1,4)] \n  Defn: [(2,3), (1,2,3)] -> [...] \nsage: phi(G).is_isomorphic(H)\nTrue\n```\n",
    "created_at": "2011-07-08T16:02:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11410#issuecomment-126981",
    "user": "mhansen"
}
```

Why does it include the doctest twice?  I think the following would be better:


```

sage: G = PermutationGroup([(1,2,3), (2,3)]) 
sage: H = PermutationGroup([(1,2,4), (1,4)]) 
sage: phi = G.isomorphism_to(H); phi
Permutation group morphism: 
  From: Permutation Group with generators [(2,3), (1,2,3)] 
  To:   Permutation Group with generators [(1,2,4), (1,4)] 
  Defn: [(2,3), (1,2,3)] -> [...] 
sage: phi(G).is_isomorphic(H)
True
```




---

archive/issue_comments_126982.json:
```json
{
    "body": "Indeed we have a first test marked random followed by the same test with less randomness. I would be OK with just the second test as well since only the part in \"...\" varies depending on what's installed.",
    "created_at": "2011-07-10T03:55:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11410#issuecomment-126982",
    "user": "fbissey"
}
```

Indeed we have a first test marked random followed by the same test with less randomness. I would be OK with just the second test as well since only the part in "..." varies depending on what's installed.



---

archive/issue_comments_126983.json:
```json
{
    "body": "My idea was to keep the first test as *documentation* and have the second one truly as test.  New version, changed \"random\" to \"not tested, see below\".  Please review.",
    "created_at": "2011-07-11T21:21:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11410#issuecomment-126983",
    "user": "jdemeyer"
}
```

My idea was to keep the first test as *documentation* and have the second one truly as test.  New version, changed "random" to "not tested, see below".  Please review.



---

archive/issue_comments_126984.json:
```json
{
    "body": "Attachment",
    "created_at": "2011-07-11T21:21:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11410#issuecomment-126984",
    "user": "jdemeyer"
}
```

Attachment



---

archive/issue_comments_126985.json:
```json
{
    "body": "I am quite happy with that explanation. I can give a positive review for that trivial patch. Which means that we will be able to close #11427 once this goes in.",
    "created_at": "2011-07-11T22:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11410#issuecomment-126985",
    "user": "fbissey"
}
```

I am quite happy with that explanation. I can give a positive review for that trivial patch. Which means that we will be able to close #11427 once this goes in.



---

archive/issue_comments_126986.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-07-11T22:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11410#issuecomment-126986",
    "user": "fbissey"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_126987.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-07-13T21:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11410#issuecomment-126987",
    "user": "jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_126988.json:
```json
{
    "body": "I also tested that with the optional spkg installed the doctest now works.\n\n```\n\nwstein@sage:/scratch/wstein/sd32/sage-4.7.2.alpha2$ ./sage -t -long -force_lib \"devel/sage/sage/groups/perm_gps/permgroup.py\"\nsage -t -long -force_lib \"devel/sage/sage/groups/perm_gps/permgroup.py\"\n         [15.0 s]\n \n----------------------------------------------------------------------\nAll tests passed!\nTotal time for all tests: 15.1 seconds\n\n```\n",
    "created_at": "2011-08-23T08:39:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11410#issuecomment-126988",
    "user": "was"
}
```

I also tested that with the optional spkg installed the doctest now works.

```

wstein@sage:/scratch/wstein/sd32/sage-4.7.2.alpha2$ ./sage -t -long -force_lib "devel/sage/sage/groups/perm_gps/permgroup.py"
sage -t -long -force_lib "devel/sage/sage/groups/perm_gps/permgroup.py"
         [15.0 s]
 
----------------------------------------------------------------------
All tests passed!
Total time for all tests: 15.1 seconds

```




---

archive/issue_comments_126989.json:
```json
{
    "body": "Above comment was meant for #11427. Sorry.",
    "created_at": "2011-08-23T08:40:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11410#issuecomment-126989",
    "user": "was"
}
```

Above comment was meant for #11427. Sorry.
