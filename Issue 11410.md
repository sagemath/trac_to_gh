# Issue 11410: Allow for randomness in permgroup.py test

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2011-07-08 07:38:41

Assignee: mvngu

The following test (introduced by #10334) sometimes gives different output, see #11427:

```
sage: G = PermutationGroup([(1,2,3), (2,3)]) 
sage: H = PermutationGroup([(1,2,4), (1,4)]) 
sage: G.isomorphism_to(H) 
Homomorphism : Permutation Group with generators [(2,3), (1,2,3)] --> Permutation Group with generators [(1,2,4), (1,4)] 
Permutation group morphism: 
  From: Permutation Group with generators [(2,3), (1,2,3)] 
  To:   Permutation Group with generators [(1,2,4), (1,4)] 
  Defn: [(2,3), (1,2,3)] -> [(2,4), (1,2,4)] 
```


In this ticket, I simply allow random output for the right hand side of `Defn:`.


---

Comment by jdemeyer created at 2011-07-08 07:58:43

Changing status from new to needs_review.


---

Comment by mhansen created at 2011-07-08 16:02:49

Why does it include the doctest twice?  I think the following would be better:


```

sage: G = PermutationGroup([(1,2,3), (2,3)]) 
sage: H = PermutationGroup([(1,2,4), (1,4)]) 
sage: phi = G.isomorphism_to(H); phi
Permutation group morphism: 
  From: Permutation Group with generators [(2,3), (1,2,3)] 
  To:   Permutation Group with generators [(1,2,4), (1,4)] 
  Defn: [(2,3), (1,2,3)] -> [...] 
sage: phi(G).is_isomorphic(H)
True
```



---

Comment by fbissey created at 2011-07-10 03:55:31

Indeed we have a first test marked random followed by the same test with less randomness. I would be OK with just the second test as well since only the part in "..." varies depending on what's installed.


---

Comment by jdemeyer created at 2011-07-11 21:21:36

My idea was to keep the first test as _documentation_ and have the second one truly as test.  New version, changed "random" to "not tested, see below".  Please review.


---

Attachment


---

Comment by fbissey created at 2011-07-11 22:01:40

I am quite happy with that explanation. I can give a positive review for that trivial patch. Which means that we will be able to close #11427 once this goes in.


---

Comment by fbissey created at 2011-07-11 22:01:40

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2011-07-13 21:34:06

Resolution: fixed


---

Comment by was created at 2011-08-23 08:39:26

I also tested that with the optional spkg installed the doctest now works.

```

wstein`@`sage:/scratch/wstein/sd32/sage-4.7.2.alpha2$ ./sage -t -long -force_lib "devel/sage/sage/groups/perm_gps/permgroup.py"
sage -t -long -force_lib "devel/sage/sage/groups/perm_gps/permgroup.py"
         [15.0 s]
 
----------------------------------------------------------------------
All tests passed!
Total time for all tests: 15.1 seconds

```



---

Comment by was created at 2011-08-23 08:40:27

Above comment was meant for #11427. Sorry.
