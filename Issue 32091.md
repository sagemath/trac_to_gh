# Issue 32091: Adding post_critical_set

Issue created by migration from https://trac.sagemath.org/ticket/32328

Original creator: @EnderWannabe

Original creation time: 2021-08-02 23:44:57

CC:  bhutz

Keywords: gsoc2021

This ticket aims to add a method to calculate the orbit of all the critical points for post-critically finite dynamical systems.


---

Comment by @EnderWannabe created at 2021-08-02 23:45:47

Changing status from new to needs_review.


---

Comment by @EnderWannabe created at 2021-08-02 23:45:47

New commits:


---

Comment by bhutz created at 2021-08-03 14:23:58

Changing status from needs_review to needs_work.


---

Comment by bhutz created at 2021-08-03 14:23:58

Some things to work on here:

- need check=True parameter to not do the pcf check since it is time consuming. You claim to raise an error if not pcf, but you do not actually do the check right now


- add to the documentation the definition of postcritical set: The postcritical set is union of points which are in the forward orbits of the critical points. In other words, the set of points `Q` so that `f^n(P) = Q` for some positive integer `n` and critical point `P`, where `f` is this mapping.

- Should say that you extend to the 'field_of_definition_critical()' field.


- OUTPUT rather that OUTPUTS

- OUTPUT: The set of postcritical points.

- only have examples over QQ. Should add a number field and a finite field example

- ('must not be a dynamical system on a subscheme') -> ('must be a dynamical system on projective space') since that is what you check

- postcritical set does not include the critical point unless it is peridoic (i.e., occurs as a forward image)


- Failing example

```
K.<v>=QuadraticField(2)
P.<x,y>=ProjectiveSpace(K,1)
f=DynamicalSystem([x^2+(-2)*y^2,y^2])
m=matrix(K,2,2,[v,1,0,1])
g=f.conjugate(m)
g.post_critical_set()
```


- we're likely to run into the same sorting issue on doctest output here that we've seen in some other functions lately.


---

Comment by git created at 2021-08-03 16:47:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @EnderWannabe created at 2021-08-03 16:51:12

Fixed that example and added as a test. Also, I changed all instances of "post critical" to "postcritical".


---

Comment by @EnderWannabe created at 2021-08-03 17:02:55

Changing status from needs_work to needs_review.


---

Comment by bhutz created at 2021-08-13 17:15:20

This looks fine to me. Any idea why the patchbot is getting a `blocks` failure? It doesn't look like those lines are even part of this function, but it does look like it ran after your last set of changes. I built the docs without issue just to check.


---

Comment by @EnderWannabe created at 2021-08-13 17:29:13

Replying to [comment:8 bhutz]:
> Any idea why the patchbot is getting a `blocks` failure?

No idea. The tests run on 8/3 were run on the same commit and passed. I feel like I've seen failures in `blocks` before, but I don't remember where...


---

Comment by bhutz created at 2021-08-17 18:17:59

Changing status from needs_review to positive_review.


---

Comment by bhutz created at 2021-08-17 18:17:59

well, we had another pass and another failure. Looks like all the failures are on the same patchbot machine, so it looks like it is an issue with that machine. I'll mark this positive.


---

Comment by vbraun created at 2021-10-19 20:30:45

Resolution: fixed
