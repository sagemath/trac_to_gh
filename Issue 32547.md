# Issue 32547: Filter singular system package out of tox.ini for homebrew

Issue created by migration from https://trac.sagemath.org/ticket/32784

Original creator: mjo

Original creation time: 2021-10-27 12:01:50

CC:  mkoeppe dimpase

As a follow-up to #29024, we prevent the system singular from being used to run GH actions when the homebrew prefix is not `/usr/local` (which causes problems for its singular package).



---

Comment by mjo created at 2021-10-27 12:06:15

Changing status from new to needs_review.


---

Comment by mjo created at 2021-10-27 12:06:15

Untested, needs a run on GH obviously...
----
New commits:


---

Comment by git created at 2021-10-27 12:16:21

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2021-12-19 07:24:32

Turns out this patch is not needed for our GH Actions.

Homebrew's from-source installation of `singular` only fails if there's already a homebrew-installed `flint` in `/usr/local` (or any of the paths of Singular's `DEFAULT_CHECKING_PATH`.


---

Comment by mkoeppe created at 2021-12-19 07:29:06

Homebrew does not like people to report bugs with the from-source installation, so perhaps instead we should send them a PR that adds `flint` as a dependency to https://github.com/Homebrew/homebrew-core/blob/HEAD/Formula/singular.rb


---

Comment by mjo created at 2022-01-04 02:47:08

Changing status from needs_review to needs_work.
