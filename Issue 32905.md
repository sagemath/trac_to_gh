# Issue 32905: remove doctest parsing of py2 long integers

Issue created by migration from https://trac.sagemath.org/ticket/33142

Original creator: chapoton

Original creation time: 2022-01-10 13:29:34

CC:  tscrim slelievre @kliem




---

Comment by chapoton created at 2022-01-10 13:30:29

Changing status from new to needs_review.


---

Comment by chapoton created at 2022-01-10 13:30:29

New commits:


---

Comment by git created at 2022-01-10 16:13:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-01-10 21:01:13

bot is now green, so please review

doc building seems to be broken for some reason in 9.5.rc0


---

Comment by slelievre created at 2022-01-10 23:23:51

Docbuild failure tracked at #33139.


---

Comment by tscrim created at 2022-01-11 08:57:12

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2022-01-11 08:57:12

Goodbye `L`. *waves*


---

Comment by chapoton created at 2022-01-11 09:18:28

Thanks, Travis. Happy New Year !


---

Comment by vbraun created at 2022-02-01 23:51:51

On 32-bit:

```
**********************************************************************
File "src/sage/arith/multi_modular.pyx", line 824, in sage.arith.multi_modular.MultiModularBasis_base.__getitem__
Failed example:
    mm[1]
Expected:
    10009L            
Got:
    10009
**********************************************************************
1 item had failures:
   1 of   6 in sage.arith.multi_modular.MultiModularBasis_base.__getitem__
    [134 tests, 1 failure, 0.14 s]
**********************************************************************
File "src/sage/modular/modsym/p1list.pyx", line 1279, in sage.modular.modsym.p1list.lift_to_sl2z_llong
Failed example:
    lift_to_sl2z_llong(2,6,11)
Expected:
    [1L, 8L, 2L, 17L] 
Got:
    [1, 8, 2, 17]
**********************************************************************
File "src/sage/modular/modsym/p1list.pyx", line 1347, in sage.modular.modsym.p1list.lift_to_sl2z
Failed example:
    lift_to_sl2z(2,3,6000000)
Expected:
    [1L, 1L, 2L, 3L] 
Got:
    [1, 1, 2, 3]
**********************************************************************
2 items had failures:
   1 of   6 in sage.modular.modsym.p1list.lift_to_sl2z
   1 of   5 in sage.modular.modsym.p1list.lift_to_sl2z_llong
    [122 tests, 2 failures, 0.11 s]
**********************************************************************
File "src/sage/symbolic/pynac_impl.pxi", line 223, in sage.symbolic.pynac_impl.paramset_from_Expression
Failed example:
    paramset_from_Expression(f(x).diff(x))
Expected:
    [0L] 
Got:
    [0]
**********************************************************************
1 item had failures:
   1 of   4 in sage.symbolic.pynac_impl.paramset_from_Expression
    [332 tests, 1 failure, 3.33 s]
----------------------------------------------------------------------
sage -t --long --random-seed=0 src/sage/arith/multi_modular.pyx  # 1 doctest failed
sage -t --long --random-seed=0 src/sage/modular/modsym/p1list.pyx  # 2 doctests failed
sage -t --long --random-seed=0 src/sage/symbolic/pynac_impl.pxi  # 1 doctest failed
----------------------------------------------------------------------
```



---

Comment by vbraun created at 2022-02-01 23:51:51

Changing status from positive_review to needs_work.


---

Comment by git created at 2022-02-02 08:10:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-02-02 08:16:56

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2022-02-02 08:16:56

fixed, back to "needs review"


---

Comment by tscrim created at 2022-02-02 08:33:02

LGTM.


---

Comment by tscrim created at 2022-02-02 08:33:02

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2022-02-13 10:17:25

Resolution: fixed
