# Issue 34097: Source dir cleaner for editable installs

Issue created by migration from https://trac.sagemath.org/ticket/34334

Original creator: mkoeppe

Original creation time: 2022-08-10 17:35:52

CC:  klee

We implement a simple version of `sage_setup.clean.clean_install_dir` for editable installs: Remove `.so` files and `.pyc` files that are leftovers from other branches, i.e., there is no corresponding source file (`.pyx` for `.so`; `.py` for `.pyc`).

This fixes incremental builds when a Cython module is replaced by a Python module of the same name, as noted in #34324#comment:3

This simple version, because it is only applied to the source directory, not an installation directory, will be safe for modularization (in contrast to `clean_install_dir`, see #32927).




---

Comment by mkoeppe created at 2022-08-10 17:56:08

To be checked whether it's needed at all when we switch to PEP 660 editable wheels (#34209)
