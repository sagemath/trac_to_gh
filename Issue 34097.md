# Issue 34097: Source dir cleaner for editable installs

archive/issues_034097.json:
```json
{
    "body": "CC:  klee\n\nWe implement a simple version of `sage_setup.clean.clean_install_dir` for editable installs: Remove `.so` files and `.pyc` files that are leftovers from other branches, i.e., there is no corresponding source file (`.pyx` for `.so`; `.py` for `.pyc`).\n\nThis fixes incremental builds when a Cython module is replaced by a Python module of the same name, as noted in #34324#comment:3\n\nThis simple version, because it is only applied to the source directory, not an installation directory, will be safe for modularization (in contrast to `clean_install_dir`, see #32927).\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/34334\n\n",
    "created_at": "2022-08-10T17:35:52Z",
    "labels": [
        "build",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Source dir cleaner for editable installs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34097",
    "user": "mkoeppe"
}
```
CC:  klee

We implement a simple version of `sage_setup.clean.clean_install_dir` for editable installs: Remove `.so` files and `.pyc` files that are leftovers from other branches, i.e., there is no corresponding source file (`.pyx` for `.so`; `.py` for `.pyc`).

This fixes incremental builds when a Cython module is replaced by a Python module of the same name, as noted in #34324#comment:3

This simple version, because it is only applied to the source directory, not an installation directory, will be safe for modularization (in contrast to `clean_install_dir`, see #32927).



Issue created by migration from https://trac.sagemath.org/ticket/34334





---

archive/issue_comments_483656.json:
```json
{
    "body": "To be checked whether it's needed at all when we switch to PEP 660 editable wheels (#34209)",
    "created_at": "2022-08-10T17:56:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34097#issuecomment-483656",
    "user": "mkoeppe"
}
```

To be checked whether it's needed at all when we switch to PEP 660 editable wheels (#34209)
