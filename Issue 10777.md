# Issue 10777: Faster listing of number field homsets

archive/issues_010777.json:
```json
{
    "body": "Assignee: davidloeffler\n\nCC:  lftabera robharron tfeulner simonking\n\nThe patch speeds up the calculation of homomorphisms between number fields.  This is mainly achieved by avoiding unnecessary checking.  Doctests are also updated.\n\nIssue created by migration from https://trac.sagemath.org/ticket/10843\n\n",
    "created_at": "2011-02-24T11:05:33Z",
    "labels": [
        "number fields",
        "minor",
        "enhancement"
    ],
    "title": "Faster listing of number field homsets",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10777",
    "user": "fwclarke"
}
```
Assignee: davidloeffler

CC:  lftabera robharron tfeulner simonking

The patch speeds up the calculation of homomorphisms between number fields.  This is mainly achieved by avoiding unnecessary checking.  Doctests are also updated.

Issue created by migration from https://trac.sagemath.org/ticket/10843





---

archive/issue_comments_114088.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-02-25T09:59:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10777#issuecomment-114088",
    "user": "fwclarke"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_114089.json:
```json
{
    "body": "Attachment [trac_10843.patch](tarball://root/attachments/some-uuid/ticket10843/trac_10843.patch) by fwclarke created at 2013-05-04 10:41:03\n\nrebased for 5.9",
    "created_at": "2013-05-04T10:41:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10777#issuecomment-114089",
    "user": "fwclarke"
}
```

Attachment [trac_10843.patch](tarball://root/attachments/some-uuid/ticket10843/trac_10843.patch) by fwclarke created at 2013-05-04 10:41:03

rebased for 5.9



---

archive/issue_comments_114090.json:
```json
{
    "body": "The patch has been rebased for Sage-5.9.",
    "created_at": "2013-05-04T10:51:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10777#issuecomment-114090",
    "user": "fwclarke"
}
```

The patch has been rebased for Sage-5.9.



---

archive/issue_comments_114091.json:
```json
{
    "body": "Hi,\n\nLooks nice.\n\nI uploaded your patch in a git branch and added three commits above:\n- the first one to remove the trailing whitespaces\n- the second one to fits with Sage standard for the docs and make the code more compatible with Python 3\n- the third to have a better caching\n\nPlease, tell me what you think.\n\nVincent\n----\nNew commits:",
    "created_at": "2014-06-13T20:45:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10777#issuecomment-114091",
    "user": "vdelecroix"
}
```

Hi,

Looks nice.

I uploaded your patch in a git branch and added three commits above:
- the first one to remove the trailing whitespaces
- the second one to fits with Sage standard for the docs and make the code more compatible with Python 3
- the third to have a better caching

Please, tell me what you think.

Vincent
----
New commits:



---

archive/issue_comments_114092.json:
```json
{
    "body": "Thanks for this. \u00a0It all seems to be working perfectly.",
    "created_at": "2014-07-09T18:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10777#issuecomment-114092",
    "user": "fwclarke"
}
```

Thanks for this. Â It all seems to be working perfectly.



---

archive/issue_comments_114093.json:
```json
{
    "body": "Why the separate branches for `D` absolute/relative? The following works in both cases:\n\n```\nroots = D.polynomial().roots(ring=C, multiplicities=False)\n```\n",
    "created_at": "2014-10-16T11:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10777#issuecomment-114093",
    "user": "jdemeyer"
}
```

Why the separate branches for `D` absolute/relative? The following works in both cases:

```
roots = D.polynomial().roots(ring=C, multiplicities=False)
```




---

archive/issue_comments_114094.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-10-16T11:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10777#issuecomment-114094",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_114095.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-25T15:33:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10777#issuecomment-114095",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_114096.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-10-25T15:43:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10777#issuecomment-114096",
    "user": "fwclarke"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_114097.json:
```json
{
    "body": "Replying to [comment:11 jdemeyer]:\n\n> Why the separate branches for `D` absolute/relative?\n\nAssuming that you meant `C` rather than `D`, I've changed the code as suggested.  I don't know why this was done separately.  Perhaps the simpler approach didn't work when this ticket began four years ago.\n\nI've made one other change which should have been made before.  It solves a problem which arose in [http://ask.sagemath.org/question/24173/homomorphisms-for-relative-number-fields/](http://ask.sagemath.org/question/24173/homomorphisms-for-relative-number-fields/).",
    "created_at": "2014-10-25T15:43:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10777#issuecomment-114097",
    "user": "fwclarke"
}
```

Replying to [comment:11 jdemeyer]:

> Why the separate branches for `D` absolute/relative?

Assuming that you meant `C` rather than `D`, I've changed the code as suggested.  I don't know why this was done separately.  Perhaps the simpler approach didn't work when this ticket began four years ago.

I've made one other change which should have been made before.  It solves a problem which arose in [http://ask.sagemath.org/question/24173/homomorphisms-for-relative-number-fields/](http://ask.sagemath.org/question/24173/homomorphisms-for-relative-number-fields/).



---

archive/issue_comments_114098.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-10-28T07:26:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10777#issuecomment-114098",
    "user": "jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_114099.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-10-29T10:38:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10777#issuecomment-114099",
    "user": "vbraun"
}
```

Resolution: fixed
