# Issue 10777: Faster listing of number field homsets

Issue created by migration from https://trac.sagemath.org/ticket/10843

Original creator: fwclarke

Original creation time: 2011-02-24 11:05:33

Assignee: davidloeffler

CC:  lftabera robharron tfeulner simonking

The patch speeds up the calculation of homomorphisms between number fields.  This is mainly achieved by avoiding unnecessary checking.  Doctests are also updated.


---

Comment by fwclarke created at 2011-02-25 09:59:18

Changing status from new to needs_review.


---

Attachment

rebased for 5.9


---

Comment by fwclarke created at 2013-05-04 10:51:47

The patch has been rebased for Sage-5.9.


---

Comment by vdelecroix created at 2014-06-13 20:45:01

Hi,

Looks nice.

I uploaded your patch in a git branch and added three commits above:
- the first one to remove the trailing whitespaces
- the second one to fits with Sage standard for the docs and make the code more compatible with Python 3
- the third to have a better caching

Please, tell me what you think.

Vincent
----
New commits:


---

Comment by fwclarke created at 2014-07-09 18:21:41

Thanks for this. Â It all seems to be working perfectly.


---

Comment by jdemeyer created at 2014-10-16 11:47:32

Why the separate branches for `D` absolute/relative? The following works in both cases:

```
roots = D.polynomial().roots(ring=C, multiplicities=False)
```



---

Comment by jdemeyer created at 2014-10-16 11:47:32

Changing status from needs_review to needs_work.


---

Comment by git created at 2014-10-25 15:33:01

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by fwclarke created at 2014-10-25 15:43:16

Changing status from needs_work to needs_review.


---

Comment by fwclarke created at 2014-10-25 15:43:16

Replying to [comment:11 jdemeyer]:

> Why the separate branches for `D` absolute/relative?

Assuming that you meant `C` rather than `D`, I've changed the code as suggested.  I don't know why this was done separately.  Perhaps the simpler approach didn't work when this ticket began four years ago.

I've made one other change which should have been made before.  It solves a problem which arose in [http://ask.sagemath.org/question/24173/homomorphisms-for-relative-number-fields/](http://ask.sagemath.org/question/24173/homomorphisms-for-relative-number-fields/).


---

Comment by jdemeyer created at 2014-10-28 07:26:11

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-10-29 10:38:48

Resolution: fixed
