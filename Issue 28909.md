# Issue 28909: Refactor build/bin/write_dockerfile.sh

archive/issues_028909.json:
```json
{
    "body": "CC:  @embray @vbraun @dimpase @jhpalmieri @sheerluck @slel @tobiasdiez @seblabbe\n\n`build/bin/write_dockerfile.sh`, introduced in #29053, determines lists of system packages in a rather crude way. This should be improved.\n\n- instead of passing `TYPE_PATTERN` to `build/bin/write_dockerfile.sh`, do the work in `tox.ini`.\n- helper scripts for extracting lists of packages according to criteria\n- possibly, by extending and using `sage_bootstrap`\n\nIssue created by migration from https://trac.sagemath.org/ticket/29146\n\n",
    "created_at": "2020-02-03T14:05:35Z",
    "labels": [
        "build",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Refactor build/bin/write_dockerfile.sh",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28909",
    "user": "@mkoeppe"
}
```
CC:  @embray @vbraun @dimpase @jhpalmieri @sheerluck @slel @tobiasdiez @seblabbe

`build/bin/write_dockerfile.sh`, introduced in #29053, determines lists of system packages in a rather crude way. This should be improved.

- instead of passing `TYPE_PATTERN` to `build/bin/write_dockerfile.sh`, do the work in `tox.ini`.
- helper scripts for extracting lists of packages according to criteria
- possibly, by extending and using `sage_bootstrap`

Issue created by migration from https://trac.sagemath.org/ticket/29146





---

archive/issue_comments_409246.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-05-15T19:43:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28909#issuecomment-409246",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_409247.json:
```json
{
    "body": "Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28909#issuecomment-409247",
    "user": "@mkoeppe"
}
```

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.
