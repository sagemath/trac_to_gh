# Issue 28909: Refactor build/bin/write_dockerfile.sh

Issue created by migration from https://trac.sagemath.org/ticket/29146

Original creator: mkoeppe

Original creation time: 2020-02-03 14:05:35

CC:  embray vbraun dimpase jhpalmieri @sheerluck slelievre @tobiasdiez slabbe

`build/bin/write_dockerfile.sh`, introduced in #29053, determines lists of system packages in a rather crude way. This should be improved.

- instead of passing `TYPE_PATTERN` to `build/bin/write_dockerfile.sh`, do the work in `tox.ini`.
- helper scripts for extracting lists of packages according to criteria
- possibly, by extending and using `sage_bootstrap`


---

Comment by git created at 2020-05-15 19:43:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-03-24 02:04:25

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.
