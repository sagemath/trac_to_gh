# Issue 31136: Upgrade ipython to 7.20.0 and jedi to 0.18.0

Issue created by migration from https://trac.sagemath.org/ticket/31373

Original creator: @kliem

Original creation time: 2021-02-10 08:09:16

This ticket upgrade ipython to 7.20.0 and jedi to 0.18.0.

This keeps the interactive shell from crashing when hitting tab completion after:


```
sage: P = polytopes.cube()
sage: P.f_vector(
```


Still an error is raised after this ticket, but the session restores itself.


---

Comment by @kliem created at 2021-02-10 08:10:07

New commits:


---

Comment by @kliem created at 2021-02-10 08:10:07

Changing status from new to needs_review.


---

Comment by @kliem created at 2021-02-10 09:57:23

Except for

```
sage -t --long --random-seed=0 src/sage/interfaces/singular.py  # Killed due to segmentation fault
```

all tests pass locally.


---

Comment by mkoeppe created at 2021-02-11 23:09:37

This update seems fine.


---

Comment by mkoeppe created at 2021-02-11 23:09:37

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2021-03-09 00:01:35

Resolution: fixed


---

Comment by mkoeppe created at 2021-03-10 01:22:19

Oh no! This broke support for Python 3.6 - as on `ubuntu-bionic-standard` - https://github.com/mkoeppe/sage/runs/2070658697

```
Installing ipython-7.20.0

IPython 7.17+ supports Python 3.7 and above, following NEP 29.
When using Python 2.7, please install IPython 5.x LTS Long Term Support version.
Python 3.3 and 3.4 were supported up to IPython 6.x.
Python 3.5 was supported with IPython 7.0 to 7.9.
Python 3.6 was supported with IPython up to 7.16.

See IPython `README.rst` file for more information:

    https://github.com/ipython/ipython/blob/master/README.rst

Python sys.version_info(major=3, minor=6, micro=9, releaselevel='final', serial=0) detected.
```



---

Comment by mkoeppe created at 2021-03-10 01:29:52

Follow-up = #31476
