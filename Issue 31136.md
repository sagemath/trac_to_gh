# Issue 31136: Upgrade ipython to 7.20.0 and jedi to 0.18.0

archive/issues_031136.json:
```json
{
    "body": "This ticket upgrade ipython to 7.20.0 and jedi to 0.18.0.\n\nThis keeps the interactive shell from crashing when hitting tab completion after:\n\n\n```\nsage: P = polytopes.cube()\nsage: P.f_vector(\n```\n\n\nStill an error is raised after this ticket, but the session restores itself.\n\nIssue created by migration from https://trac.sagemath.org/ticket/31373\n\n",
    "created_at": "2021-02-10T08:09:16Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Upgrade ipython to 7.20.0 and jedi to 0.18.0",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31136",
    "user": "https://github.com/kliem"
}
```
This ticket upgrade ipython to 7.20.0 and jedi to 0.18.0.

This keeps the interactive shell from crashing when hitting tab completion after:


```
sage: P = polytopes.cube()
sage: P.f_vector(
```


Still an error is raised after this ticket, but the session restores itself.

Issue created by migration from https://trac.sagemath.org/ticket/31373





---

archive/issue_comments_444285.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-02-10T08:10:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31136#issuecomment-444285",
    "user": "https://github.com/kliem"
}
```

New commits:



---

archive/issue_comments_444286.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-02-10T08:10:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31136#issuecomment-444286",
    "user": "https://github.com/kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_444287.json:
```json
{
    "body": "Except for\n\n```\nsage -t --long --random-seed=0 src/sage/interfaces/singular.py  # Killed due to segmentation fault\n```\n\nall tests pass locally.",
    "created_at": "2021-02-10T09:57:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31136#issuecomment-444287",
    "user": "https://github.com/kliem"
}
```

Except for

```
sage -t --long --random-seed=0 src/sage/interfaces/singular.py  # Killed due to segmentation fault
```

all tests pass locally.



---

archive/issue_comments_444288.json:
```json
{
    "body": "This update seems fine.",
    "created_at": "2021-02-11T23:09:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31136#issuecomment-444288",
    "user": "https://github.com/mkoeppe"
}
```

This update seems fine.



---

archive/issue_comments_444289.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-02-11T23:09:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31136#issuecomment-444289",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_444290.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-03-09T00:01:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31136#issuecomment-444290",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_028507.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2021-03-09T00:01:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31136",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31136#event-28507"
}
```



---

archive/issue_comments_444291.json:
```json
{
    "body": "Oh no! This broke support for Python 3.6 - as on `ubuntu-bionic-standard` - https://github.com/mkoeppe/sage/runs/2070658697\n\n```\nInstalling ipython-7.20.0\n\nIPython 7.17+ supports Python 3.7 and above, following NEP 29.\nWhen using Python 2.7, please install IPython 5.x LTS Long Term Support version.\nPython 3.3 and 3.4 were supported up to IPython 6.x.\nPython 3.5 was supported with IPython 7.0 to 7.9.\nPython 3.6 was supported with IPython up to 7.16.\n\nSee IPython `README.rst` file for more information:\n\n    https://github.com/ipython/ipython/blob/master/README.rst\n\nPython sys.version_info(major=3, minor=6, micro=9, releaselevel='final', serial=0) detected.\n```\n",
    "created_at": "2021-03-10T01:22:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31136#issuecomment-444291",
    "user": "https://github.com/mkoeppe"
}
```

Oh no! This broke support for Python 3.6 - as on `ubuntu-bionic-standard` - https://github.com/mkoeppe/sage/runs/2070658697

```
Installing ipython-7.20.0

IPython 7.17+ supports Python 3.7 and above, following NEP 29.
When using Python 2.7, please install IPython 5.x LTS Long Term Support version.
Python 3.3 and 3.4 were supported up to IPython 6.x.
Python 3.5 was supported with IPython 7.0 to 7.9.
Python 3.6 was supported with IPython up to 7.16.

See IPython `README.rst` file for more information:

    https://github.com/ipython/ipython/blob/master/README.rst

Python sys.version_info(major=3, minor=6, micro=9, releaselevel='final', serial=0) detected.
```




---

archive/issue_comments_444292.json:
```json
{
    "body": "Follow-up = #31476",
    "created_at": "2021-03-10T01:29:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31136#issuecomment-444292",
    "user": "https://github.com/mkoeppe"
}
```

Follow-up = #31476
