# Issue 13256: Race condition in R installation

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2012-09-04 09:19:31

Assignee: tbd

CC:  jhpalmieri

Keywords: R spkg

The following seems to occur only on OS X systems.  When building R in parallel, sometimes the following can happen:

```
[...]
mkdir /Users/jdemeyer/sage-5.3.rc0/local/lib/R/bin
mkdir /Users/jdemeyer/sage-5.3.rc0/local/lib/R/include
mkdir: /Users/jdemeyer/sage-5.3.rc0/local/lib/R/include: File exists
make[2]: *** [installdirs] Error 1
make[1]: *** [install] Error 1
make: *** [install] Error 1
Error installing R.
```

The problem is that `libintl.h` has been copied to the *file* `/Users/jdemeyer/sage-5.3.rc0/local/lib/R/include`.


---

Comment by jdemeyer created at 2012-09-04 10:13:57

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2012-09-04 12:09:44

Diff for the R spkg. For reference / review only.


---

Comment by jhpalmieri created at 2012-09-04 19:39:53

Changing status from needs_review to positive_review.


---

Attachment

The patch makes sense and this fixes the problem for me.


---

Comment by jdemeyer created at 2012-09-05 18:07:30

Resolution: fixed


---

Comment by kcrisman created at 2012-09-11 16:24:18

The bug is now marked as closed and fixed, though I haven't got the foggiest in what version, since they don't mention this.


---

Comment by jdemeyer created at 2013-01-26 22:25:32

Fixed in #14008.
