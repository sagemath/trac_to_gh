# Issue 19301: Fix LaurentPolynomialRing cohercion issues

archive/issues_019301.json:
```json
{
    "body": "CC:  drupel @tscrim\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/19538\n\n",
    "created_at": "2015-11-06T15:28:48Z",
    "labels": [],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Fix LaurentPolynomialRing cohercion issues",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19301",
    "user": "https://github.com/etn40ff"
}
```
CC:  drupel @tscrim



Issue created by migration from https://trac.sagemath.org/ticket/19538





---

archive/issue_comments_264723.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to algebra.",
    "created_at": "2015-11-06T15:53:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264723",
    "user": "https://github.com/etn40ff"
}
```

Changing component from PLEASE CHANGE to algebra.



---

archive/issue_comments_264724.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2015-11-06T15:53:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264724",
    "user": "https://github.com/etn40ff"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_264725.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-11-06T15:53:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264725",
    "user": "https://github.com/etn40ff"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_264726.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-06T16:14:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264726",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_264727.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-11-06T18:10:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264727",
    "user": "https://github.com/etn40ff"
}
```

New commits:



---

archive/issue_comments_264728.json:
```json
{
    "body": "* Is `x.parent().gens()` guaranteed to always come in the same order?\n* You use `x.parent().gens()` and also `parent`. Please use the better of the two always\n* Have you done some timing tests whether this slows down stuff?",
    "created_at": "2016-04-05T16:13:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264728",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

* Is `x.parent().gens()` guaranteed to always come in the same order?
* You use `x.parent().gens()` and also `parent`. Please use the better of the two always
* Have you done some timing tests whether this slows down stuff?



---

archive/issue_comments_264729.json:
```json
{
    "body": "With respect to the second point (conversion) the behavior should be the same as in `PolynomialRing`. Having two different conversion conventions is more confusing than having a \"bad\" one.",
    "created_at": "2016-04-05T17:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264729",
    "user": "https://github.com/videlec"
}
```

With respect to the second point (conversion) the behavior should be the same as in `PolynomialRing`. Having two different conversion conventions is more confusing than having a "bad" one.



---

archive/issue_comments_264730.json:
```json
{
    "body": "`@`stumpc5\n\n- `x.parent().gens()` should return `x.parent()._gens` which is a tuple\n  so the order should be fixed.\n\n- `x.parent().gens()` and also `parent` are in general different, the\n  whole purpose of this patch is to make sure that, when they differ, some\n  natural coercion can still be implemented.\n\n- I did not run precise tests but I expect the new version to be slower than the\n  old one (maybe even significantly slower); the point though is that the\n  current version is not working as it should. I could make a much faster\n  function that returns some hardcoded nonsense but it would clearly not be the\n  right function. More seriously I should run some benchmark, any idea on which?\n\n`@`vdelecroix\n\nI agree that the behaviour of `LaurentPolynomialRing` and that of\n`PolynomialRing` should be the same. The point is that currently they are\nnot.\n\nFor example the same code in the ticket description evaluates to\n\n```\nsage: L = PolynomialRing(ZZ, 'x0,x1,x2,y0,y1,y2')\nsage: P = PolynomialRing(ZZ, 'y0,y1,y2')\nsage: P.inject_variables()\nDefining y0, y1, y2\nsage: y0 in L\nTrue\nsage: L = PolynomialRing(ZZ, 'x', 4)\nsage: R = PolynomialRing(ZZ, 'x3,x2,t,s')\nsage: R.inject_variables()\nDefining x3, x2, t, s\nsage: L(x3)\nx0\nsage: L(t)\nx2\n```\n\nI do not know how to fix the first issue in the ticket description while leaving the second one as is. This patch just exchange one inconsistent behavior for another. Any Idea on how to deal with this in a more elegant/consistent/efficient way is extremely welcome.",
    "created_at": "2016-04-05T22:00:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264730",
    "user": "https://github.com/etn40ff"
}
```

`@`stumpc5

- `x.parent().gens()` should return `x.parent()._gens` which is a tuple
  so the order should be fixed.

- `x.parent().gens()` and also `parent` are in general different, the
  whole purpose of this patch is to make sure that, when they differ, some
  natural coercion can still be implemented.

- I did not run precise tests but I expect the new version to be slower than the
  old one (maybe even significantly slower); the point though is that the
  current version is not working as it should. I could make a much faster
  function that returns some hardcoded nonsense but it would clearly not be the
  right function. More seriously I should run some benchmark, any idea on which?

`@`vdelecroix

I agree that the behaviour of `LaurentPolynomialRing` and that of
`PolynomialRing` should be the same. The point is that currently they are
not.

For example the same code in the ticket description evaluates to

```
sage: L = PolynomialRing(ZZ, 'x0,x1,x2,y0,y1,y2')
sage: P = PolynomialRing(ZZ, 'y0,y1,y2')
sage: P.inject_variables()
Defining y0, y1, y2
sage: y0 in L
True
sage: L = PolynomialRing(ZZ, 'x', 4)
sage: R = PolynomialRing(ZZ, 'x3,x2,t,s')
sage: R.inject_variables()
Defining x3, x2, t, s
sage: L(x3)
x0
sage: L(t)
x2
```

I do not know how to fix the first issue in the ticket description while leaving the second one as is. This patch just exchange one inconsistent behavior for another. Any Idea on how to deal with this in a more elegant/consistent/efficient way is extremely welcome.



---

archive/issue_comments_264731.json:
```json
{
    "body": "Unless I did a mistake, the conversion rules are the same for `PolynomialRing` and `LaurentPolynomialRing` (but the semantic of the operation `in` is not as you noticed). The rules are as follows for a map `R -> S`:\n1. if the variables of `R` are included in the variables of `S` then the map `R -> S` is given by names of variables\n2. else if `R` has less or equal variables than `S`  then the map `R -> S` is given by the order of the variable\n3. else if some variable of `R` are present in `S` then there is a partial map considered\n4. otherwise an error is raised\n\n```\nsage: R1 = PolynomialRing(ZZ, 'x,y')\nsage: R2 = PolynomialRing(ZZ, 'x,t')\nsage: R3 = PolynomialRing(ZZ, 't,x')\nsage: R4 = PolynomialRing(ZZ, 'x,t,y')\nsage: map(R4, R1.gens()) # rule 1\n[x, y]\nsage: map(R4, R3.gens()) # rule 1\n[t, x]\nsage: map(R2, R1.gens())  # rule 2\n[x, t]\nsage: map(R1, R2.gens())  # rule 2\n[x, y]\nsage: R1(R4('y')) # rule 3\ny\nsage: R1(R4('t')) # rule 4\nTraceback (most recent call last):\n...\nTypeError: Could not find a mapping of the passed element to this ring.\n```\nThese rules should not change. You can have a look at the implementation of `_element_constructor_` for polynomial rings.",
    "created_at": "2016-04-06T00:49:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264731",
    "user": "https://github.com/videlec"
}
```

Unless I did a mistake, the conversion rules are the same for `PolynomialRing` and `LaurentPolynomialRing` (but the semantic of the operation `in` is not as you noticed). The rules are as follows for a map `R -> S`:
1. if the variables of `R` are included in the variables of `S` then the map `R -> S` is given by names of variables
2. else if `R` has less or equal variables than `S`  then the map `R -> S` is given by the order of the variable
3. else if some variable of `R` are present in `S` then there is a partial map considered
4. otherwise an error is raised

```
sage: R1 = PolynomialRing(ZZ, 'x,y')
sage: R2 = PolynomialRing(ZZ, 'x,t')
sage: R3 = PolynomialRing(ZZ, 't,x')
sage: R4 = PolynomialRing(ZZ, 'x,t,y')
sage: map(R4, R1.gens()) # rule 1
[x, y]
sage: map(R4, R3.gens()) # rule 1
[t, x]
sage: map(R2, R1.gens())  # rule 2
[x, t]
sage: map(R1, R2.gens())  # rule 2
[x, y]
sage: R1(R4('y')) # rule 3
y
sage: R1(R4('t')) # rule 4
Traceback (most recent call last):
...
TypeError: Could not find a mapping of the passed element to this ring.
```
These rules should not change. You can have a look at the implementation of `_element_constructor_` for polynomial rings.



---

archive/issue_comments_264732.json:
```json
{
    "body": "When I do the very same on `LaurentPolynomialRing`, I get into trouble, so I don't understand what you mean by \"the conversion rules are the same for `PolynomialRing` and `LaurentPolynomialRing`\", see\n\n```\nsage: R1 = LaurentPolynomialRing(ZZ, 'x,y')\nsage: R2 = LaurentPolynomialRing(ZZ, 'x,t')\nsage: R3 = LaurentPolynomialRing(ZZ, 't,x')\nsage: R4 = LaurentPolynomialRing(ZZ, 'x,t,y')\nsage: map(R4, R1.gens()) # rule 1            \n---------------------------------------------------------------------------\n...\nTypeError: tuple key must have same length as ngens\nsage: map(R4, R3.gens()) # rule 1            \n---------------------------------------------------------------------------\n...\nTypeError: tuple key must have same length as ngens\nsage: map(R1, R2.gens())  # rule 2           \n[x, y]\nsage: map(R2, R1.gens())  # rule 2           \n[x, t]\nsage: R1(R4('y')) # rule 3                   \n---------------------------------------------------------------------------\n...\nTypeError: tuple key must have same length as ngens\nsage: R1(R4('t')) # rule 4                   \n---------------------------------------------------------------------------\n...\nTypeError: tuple key must have same length as ngens\n```\nIs that behaviour what you expected?",
    "created_at": "2016-04-06T07:42:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264732",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

When I do the very same on `LaurentPolynomialRing`, I get into trouble, so I don't understand what you mean by "the conversion rules are the same for `PolynomialRing` and `LaurentPolynomialRing`", see

```
sage: R1 = LaurentPolynomialRing(ZZ, 'x,y')
sage: R2 = LaurentPolynomialRing(ZZ, 'x,t')
sage: R3 = LaurentPolynomialRing(ZZ, 't,x')
sage: R4 = LaurentPolynomialRing(ZZ, 'x,t,y')
sage: map(R4, R1.gens()) # rule 1            
---------------------------------------------------------------------------
...
TypeError: tuple key must have same length as ngens
sage: map(R4, R3.gens()) # rule 1            
---------------------------------------------------------------------------
...
TypeError: tuple key must have same length as ngens
sage: map(R1, R2.gens())  # rule 2           
[x, y]
sage: map(R2, R1.gens())  # rule 2           
[x, t]
sage: R1(R4('y')) # rule 3                   
---------------------------------------------------------------------------
...
TypeError: tuple key must have same length as ngens
sage: R1(R4('t')) # rule 4                   
---------------------------------------------------------------------------
...
TypeError: tuple key must have same length as ngens
```
Is that behaviour what you expected?



---

archive/issue_comments_264733.json:
```json
{
    "body": "I am not really happy about the formulation of rule 2. What I mean by this is\nthat I find this example extremely confusing because it maps `y` to `x`\nand `t` to `y`\n\n```\nsage: R1 = PolynomialRing(ZZ, 'x,y')\nsage: R5 = PolynomialRing(ZZ, 'y,t')\nsage: map(R1, R5.gens())  # rule 2\n[x, y]\n```\n\nWhat is the rationale behind it?",
    "created_at": "2016-04-06T08:54:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264733",
    "user": "https://github.com/etn40ff"
}
```

I am not really happy about the formulation of rule 2. What I mean by this is
that I find this example extremely confusing because it maps `y` to `x`
and `t` to `y`

```
sage: R1 = PolynomialRing(ZZ, 'x,y')
sage: R5 = PolynomialRing(ZZ, 'y,t')
sage: map(R1, R5.gens())  # rule 2
[x, y]
```

What is the rationale behind it?



---

archive/issue_comments_264734.json:
```json
{
    "body": "Replying to [comment:10 etn40ff]:\n> I am not really happy about the formulation of rule 2. What I mean by this is\n> that I find this example extremely confusing because it maps `y` to `x`\n> and `t` to `y`\n> \n> \n> ```\n> sage: R1 = PolynomialRing(ZZ, 'x,y')\n> sage: R5 = PolynomialRing(ZZ, 'y,t')\n> sage: map(R1, R5.gens())  # rule 2\n> [x, y]\n> ```\n> \n> What is the rationale behind it?\n\n\nI would say: \"A map between two rings is always better than a partial map\". Whatever you think it is how it works in Sage. If you want to change it you should ask more opinions on [sage-devel](https://groups.google.com/forum/#!forum/sage-devel).\n\nOne possibility would be to modify the rule 2 in the following form\n\n2'. else if `R` has less or equal variables than `S` then the map `R -> S` is given by a mapping of the variables of `R` into `S` first trying to match names and then in variable order.\n\nBut as I said, the place to discuss it is sage-devel and not a ticket.",
    "created_at": "2016-04-08T14:59:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264734",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:10 etn40ff]:
> I am not really happy about the formulation of rule 2. What I mean by this is
> that I find this example extremely confusing because it maps `y` to `x`
> and `t` to `y`
> 
> 
> ```
> sage: R1 = PolynomialRing(ZZ, 'x,y')
> sage: R5 = PolynomialRing(ZZ, 'y,t')
> sage: map(R1, R5.gens())  # rule 2
> [x, y]
> ```
> 
> What is the rationale behind it?


I would say: "A map between two rings is always better than a partial map". Whatever you think it is how it works in Sage. If you want to change it you should ask more opinions on [sage-devel](https://groups.google.com/forum/#!forum/sage-devel).

One possibility would be to modify the rule 2 in the following form

2'. else if `R` has less or equal variables than `S` then the map `R -> S` is given by a mapping of the variables of `R` into `S` first trying to match names and then in variable order.

But as I said, the place to discuss it is sage-devel and not a ticket.



---

archive/issue_comments_264735.json:
```json
{
    "body": "Writing to the mailing list seems the best option here; I will do so shortly.\nThanks for the advice\n\nBTW: I think the bug description is describing the wrong issue so I will change it before writing to the list",
    "created_at": "2016-04-08T21:20:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264735",
    "user": "https://github.com/etn40ff"
}
```

Writing to the mailing list seems the best option here; I will do so shortly.
Thanks for the advice

BTW: I think the bug description is describing the wrong issue so I will change it before writing to the list



---

archive/issue_comments_264736.json:
```json
{
    "body": "Let me just add that we really should be consistent between laurent polynomials and ordinary polynomials.",
    "created_at": "2016-04-08T21:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264736",
    "user": "https://github.com/jdemeyer"
}
```

Let me just add that we really should be consistent between laurent polynomials and ordinary polynomials.



---

archive/issue_comments_264737.json:
```json
{
    "body": "Related (I think) tickets: #5225, #16447, #10575.",
    "created_at": "2016-04-13T14:35:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264737",
    "user": "https://github.com/bgrenet"
}
```

Related (I think) tickets: #5225, #16447, #10575.



---

archive/issue_comments_264738.json:
```json
{
    "body": "Just to ping everyone on this, here is another issue with coercion on `LaurentPolynomialRing`\n\n```\nsage: R = LaurentPolynomialRing(QQ,'x',2)\nsage: S = LaurentPolynomialRing(QQ,'x',3)\nsage: f = S.coerce_map_from(R)\nsage: f\nConversion via _element_constructor_ map:\n  From: Multivariate Laurent Polynomial Ring in x0, x1 over Rational Field\n  To:   Multivariate Laurent Polynomial Ring in x0, x1, x2 over Rational Field\nsage: f(R.gen(0))\nTraceback (most recent call last):\n...\nTypeError: tuple key must have same length as ngens\n```\n\nOf course this work as expected on `PolynomialRing`",
    "created_at": "2016-08-06T15:15:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264738",
    "user": "https://github.com/etn40ff"
}
```

Just to ping everyone on this, here is another issue with coercion on `LaurentPolynomialRing`

```
sage: R = LaurentPolynomialRing(QQ,'x',2)
sage: S = LaurentPolynomialRing(QQ,'x',3)
sage: f = S.coerce_map_from(R)
sage: f
Conversion via _element_constructor_ map:
  From: Multivariate Laurent Polynomial Ring in x0, x1 over Rational Field
  To:   Multivariate Laurent Polynomial Ring in x0, x1, x2 over Rational Field
sage: f(R.gen(0))
Traceback (most recent call last):
...
TypeError: tuple key must have same length as ngens
```

Of course this work as expected on `PolynomialRing`



---

archive/issue_comments_264739.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-06T18:22:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264739",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_264740.json:
```json
{
    "body": "Dear All,\n\nas requested by vdelecroix I posted a question on sage-devel about this issue;\nVolker's reply was this:\n\n```\n   Let me try to summarize the expected behavior: If there is a coercion\n   of the base rings, then there should be a coercion to the (laurent)\n   polynomial ring with additional variables. The variables in the\n   different rings are identified using their name (and not index in\n   gens() or any other rule).\u00c2\n   sage: cm = get_coercion_model()\n   sage: R.<x> = QQ[]\n   sage: S.<x,t> = QQ[]\n   sage: cm.explain(R, S, operator.add)\n   Coercion on left operand via\n       Conversion map:\n         From: Univariate Polynomial Ring in x over Rational Field\n         To:   Multivariate Polynomial Ring in x, t over Rational\n   Field\n   Arithmetic performed after coercions.\n   Result lives in Multivariate Polynomial Ring in x, t over Rational\n   Field\n   Multivariate Polynomial Ring in x, t over Rational Field\n   No coercion if variable names are not strict subsets:\n   sage: T.<x,y> = QQ[]\n   sage: cm.explain(T, S, operator.add)\n   Unknown result parent.\n   But explicit conversion can still work, e.g. by falling back to the\n   index in gens():\n   sage: T(S.gen(0))\n   x\n   sage: T(S.gen(1))\n   y\n\n```\n\nAccordingly I modified this patch so that it only changes the old behaviour when trying to map a laurent polynomial `x` into a ring containing all the variables of `x.parent()`\n\nAfter the patch the behaviour is \n\n```\nsage: R = LaurentPolynomialRing(QQ,'x2,x0')\nsage: S = LaurentPolynomialRing(QQ,'x',3)\nsage: f = S.coerce_map_from(R)\nsage: f(R.gen(0) + R.gen(1)^2)\nx0^2 + x2\nsage: T = LaurentPolynomialRing(QQ,'x2,x0,t')\nsage: S.has_coerce_map_from(T)\nFalse\nsage: S(T.gen(0))\nx0\n```\n\nCould you please test this?",
    "created_at": "2016-08-06T18:36:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264740",
    "user": "https://github.com/etn40ff"
}
```

Dear All,

as requested by vdelecroix I posted a question on sage-devel about this issue;
Volker's reply was this:

```
   Let me try to summarize the expected behavior: If there is a coercion
   of the base rings, then there should be a coercion to the (laurent)
   polynomial ring with additional variables. The variables in the
   different rings are identified using their name (and not index in
   gens() or any other rule).Ã‚
   sage: cm = get_coercion_model()
   sage: R.<x> = QQ[]
   sage: S.<x,t> = QQ[]
   sage: cm.explain(R, S, operator.add)
   Coercion on left operand via
       Conversion map:
         From: Univariate Polynomial Ring in x over Rational Field
         To:   Multivariate Polynomial Ring in x, t over Rational
   Field
   Arithmetic performed after coercions.
   Result lives in Multivariate Polynomial Ring in x, t over Rational
   Field
   Multivariate Polynomial Ring in x, t over Rational Field
   No coercion if variable names are not strict subsets:
   sage: T.<x,y> = QQ[]
   sage: cm.explain(T, S, operator.add)
   Unknown result parent.
   But explicit conversion can still work, e.g. by falling back to the
   index in gens():
   sage: T(S.gen(0))
   x
   sage: T(S.gen(1))
   y

```

Accordingly I modified this patch so that it only changes the old behaviour when trying to map a laurent polynomial `x` into a ring containing all the variables of `x.parent()`

After the patch the behaviour is 

```
sage: R = LaurentPolynomialRing(QQ,'x2,x0')
sage: S = LaurentPolynomialRing(QQ,'x',3)
sage: f = S.coerce_map_from(R)
sage: f(R.gen(0) + R.gen(1)^2)
x0^2 + x2
sage: T = LaurentPolynomialRing(QQ,'x2,x0,t')
sage: S.has_coerce_map_from(T)
False
sage: S(T.gen(0))
x0
```

Could you please test this?



---

archive/issue_comments_264741.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-08-15T02:05:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264741",
    "user": "https://trac.sagemath.org/admin/accounts/users/drupel"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_264742.json:
```json
{
    "body": "The behavior of `LaurentPolynomialRing` coercions and conversions now conforms with the Sage standard as specified by Volker.  I am changing to positive review.",
    "created_at": "2016-08-15T02:05:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264742",
    "user": "https://trac.sagemath.org/admin/accounts/users/drupel"
}
```

The behavior of `LaurentPolynomialRing` coercions and conversions now conforms with the Sage standard as specified by Volker.  I am changing to positive review.



---

archive/issue_comments_264743.json:
```json
{
    "body": "The reviewer name should be your real name",
    "created_at": "2016-08-15T19:29:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264743",
    "user": "https://github.com/vbraun"
}
```

The reviewer name should be your real name



---

archive/issue_comments_264744.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2016-08-15T19:29:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264744",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_264745.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2016-08-15T19:56:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264745",
    "user": "https://trac.sagemath.org/admin/accounts/users/drupel"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_events_053811.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-19T22:45:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19301#event-53811"
}
```



---

archive/issue_comments_264746.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-08-19T22:45:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19301#issuecomment-264746",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
