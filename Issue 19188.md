# Issue 19188: Order in symbolic ring: error calling operator

archive/issues_019188.json:
```json
{
    "body": "\n```\nsage: R.<r> = ZZ[[]]\nsage: o = SR(r.O(2)).operands()[1]; o\nOrder(r^2)\nsage: o.operator()\n...\nRuntimeError: cannot find SFunction in table\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/19425\n\n",
    "created_at": "2015-10-16T17:04:49Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Order in symbolic ring: error calling operator",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19188",
    "user": "https://github.com/dkrenn"
}
```

```
sage: R.<r> = ZZ[[]]
sage: o = SR(r.O(2)).operands()[1]; o
Order(r^2)
sage: o.operator()
...
RuntimeError: cannot find SFunction in table
```


Issue created by migration from https://trac.sagemath.org/ticket/19425





---

archive/issue_comments_262968.json:
```json
{
    "body": "\n```\nsage: (x+x^2).series(x, 2).operator() is None\nTrue\n```\n",
    "created_at": "2015-10-17T05:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19188#issuecomment-262968",
    "user": "https://github.com/cheuberg"
}
```


```
sage: (x+x^2).series(x, 2).operator() is None
True
```




---

archive/issue_comments_262969.json:
```json
{
    "body": "Replying to [comment:1 cheuberg]:\n> {{{\n> sage: (x+x^2).series(x, 2).operator() is None\n> True\n> }}}\nThe topmost operator in  symbolic series `pseries` is not a registered function, but it can be seen in the expression tree:\n\n```\nsage: (x+x^2).series(x, 2)._dbgprinttree()\npseries @0x4e2c3b0, hash=0x0, flags=0x3\n    1 (numeric) @0x35d70d0, hash=0x0, flags=0x7\n    1 (numeric) @0x35d70d0, hash=0x0, flags=0x7\n    -----\n    function Order @0x4c197f0, serial=12, hash=0x0, flags=0x3, nops=1\n        1 (numeric) @0x35d70d0, hash=0x0, flags=0x7\n        =====\n    2 (numeric) @0x35d7130, hash=0x0, flags=0x7\n    -----\n    x (symbol) @0x3e5d6d0, serial=5, hash=0xf4f4bfee, flags=0xf, domain=0, iflags=0000000000000000\n    0 (numeric) @0x3647180, hash=0x0, flags=0x7\n```\n\n\nYou can see that the function `Order` is there too. `GiNaC::Order` is registered in Pynac and imported to Sage (`symbolic/ginac.pxd`). But it somehow doesn't get into Sage's registry `sfunction_serial_dict` which is created and used in `symbolic/function.pyx`.",
    "created_at": "2015-10-17T13:29:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19188#issuecomment-262969",
    "user": "https://github.com/rwst"
}
```

Replying to [comment:1 cheuberg]:
> {{{
> sage: (x+x^2).series(x, 2).operator() is None
> True
> }}}
The topmost operator in  symbolic series `pseries` is not a registered function, but it can be seen in the expression tree:

```
sage: (x+x^2).series(x, 2)._dbgprinttree()
pseries @0x4e2c3b0, hash=0x0, flags=0x3
    1 (numeric) @0x35d70d0, hash=0x0, flags=0x7
    1 (numeric) @0x35d70d0, hash=0x0, flags=0x7
    -----
    function Order @0x4c197f0, serial=12, hash=0x0, flags=0x3, nops=1
        1 (numeric) @0x35d70d0, hash=0x0, flags=0x7
        =====
    2 (numeric) @0x35d7130, hash=0x0, flags=0x7
    -----
    x (symbol) @0x3e5d6d0, serial=5, hash=0xf4f4bfee, flags=0xf, domain=0, iflags=0000000000000000
    0 (numeric) @0x3647180, hash=0x0, flags=0x7
```


You can see that the function `Order` is there too. `GiNaC::Order` is registered in Pynac and imported to Sage (`symbolic/ginac.pxd`). But it somehow doesn't get into Sage's registry `sfunction_serial_dict` which is created and used in `symbolic/function.pyx`.



---

archive/issue_comments_262970.json:
```json
{
    "body": "Replying to [comment:3 rws]:\n> But it somehow doesn't get into Sage's registry `sfunction_serial_dict` which is created and used in `symbolic/function.pyx`.\n\nThis was because `Order` was not registered. Should be fixed now.\n----\nNew commits:",
    "created_at": "2016-01-07T09:48:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19188#issuecomment-262970",
    "user": "https://github.com/behackl"
}
```

Replying to [comment:3 rws]:
> But it somehow doesn't get into Sage's registry `sfunction_serial_dict` which is created and used in `symbolic/function.pyx`.

This was because `Order` was not registered. Should be fixed now.
----
New commits:



---

archive/issue_comments_262971.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-01-07T09:48:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19188#issuecomment-262971",
    "user": "https://github.com/behackl"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_262972.json:
```json
{
    "body": "Passes tests in selected directories. As soon as a patchbot run passes this can be set positive.",
    "created_at": "2016-01-07T10:15:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19188#issuecomment-262972",
    "user": "https://github.com/rwst"
}
```

Passes tests in selected directories. As soon as a patchbot run passes this can be set positive.



---

archive/issue_comments_262973.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-01-07T17:29:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19188#issuecomment-262973",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_018298.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2016-01-07T22:41:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19188",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19188#event-18298"
}
```



---

archive/issue_comments_262974.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-01-07T22:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19188#issuecomment-262974",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
