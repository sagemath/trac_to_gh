# Issue 33926: Fix docstring markup in sage/interfaces

Issue created by migration from https://trac.sagemath.org/ticket/34163

Original creator: klee

Original creation time: 2022-07-12 06:06:05


```
sage/interfaces/qepcad.py:631:1: RST205 Explicit markup ends without a blank line; unexpected unindent.
sage/interfaces/qepcad.py:635:1: RST218 Literal block expected; none found.
sage/interfaces/polymake.py:456:1: RST201 Block quote ends without a blank line; unexpected unindent.
sage/interfaces/jmoldata.py:35:1: RST303 Unknown directive type "todo".
sage/interfaces/frobby.py:365:1: RST218 Literal block expected; none found.
sage/interfaces/interface.py:257:1: RST301 Unexpected indentation.
sage/interfaces/interface.py:258:1: RST201 Block quote ends without a blank line; unexpected unindent.
sage/interfaces/interface.py:448:1: RST213 Inline emphasis start-string without end-string.
sage/interfaces/mathics.py:983:1: RST301 Unexpected indentation.
sage/interfaces/mathics.py:984:1: RST202 Bullet list ends without a blank line; unexpected unindent.
sage/interfaces/mathics.py:987:1: RST301 Unexpected indentation.
sage/interfaces/mathics.py:988:1: RST201 Block quote ends without a blank line; unexpected unindent.
sage/interfaces/mathics.py:995:1: RST301 Unexpected indentation.
sage/interfaces/r.py:301:1: RST218 Literal block expected; none found.
sage/interfaces/r.py:340:1: RST301 Unexpected indentation.
sage/interfaces/r.py:507:1: RST218 Literal block expected; none found.
sage/interfaces/r.py:1393:1: RST202 Bullet list ends without a blank line; unexpected unindent.
sage/interfaces/r.py:2076:1: RST201 Block quote ends without a blank line; unexpected unindent.
sage/interfaces/r.py:2078:1: RST301 Unexpected indentation.
sage/interfaces/ecm.py:358:1: RST201 Block quote ends without a blank line; unexpected unindent.
sage/interfaces/ecm.py:388:1: RST301 Unexpected indentation.
sage/interfaces/ecm.py:389:1: RST201 Block quote ends without a blank line; unexpected unindent.
sage/interfaces/ecm.py:391:1: RST301 Unexpected indentation.
sage/interfaces/mathematica.py:416:1: RST218 Literal block expected; none found.
sage/interfaces/mathematica.py:729:1: RST301 Unexpected indentation.
sage/interfaces/mathematica.py:730:1: RST202 Bullet list ends without a blank line; unexpected unindent.
sage/interfaces/mathematica.py:733:1: RST301 Unexpected indentation.
sage/interfaces/mathematica.py:734:1: RST201 Block quote ends without a blank line; unexpected unindent.
sage/interfaces/mathematica.py:741:1: RST301 Unexpected indentation.
sage/interfaces/mupad.py:168:1: RST201 Block quote ends without a blank line; unexpected unindent.
sage/interfaces/giac.py:919:1: RST218 Literal block expected; none found.
sage/interfaces/giac.py:1069:1: RST301 Unexpected indentation.
sage/interfaces/giac.py:1070:1: RST202 Bullet list ends without a blank line; unexpected unindent.
sage/interfaces/magma.py:2631:1: RST218 Literal block expected; none found.
sage/interfaces/phc.py:505:1: RST201 Block quote ends without a blank line; unexpected unindent.
```



---

Comment by chapoton created at 2022-07-13 08:08:04

first tentative, not tested
----
New commits:


---

Comment by klee created at 2022-07-13 08:36:47

Tested with #30448:

```
$ ./sage -tox -e rst src/sage/interfaces
...
sage/interfaces/r.py:2075:1: RST201 Block quote ends without a blank line; unexpected unindent.
sage/interfaces/r.py:2077:1: RST301 Unexpected indentation.
```



---

Comment by klee created at 2022-07-13 08:40:07

Perhaps new:

```
sage -t --warn-long 38.3 src/sage/interfaces/mupad.py
**********************************************************************
File "src/sage/interfaces/mupad.py", line 167, in sage.interfaces.mupad.Mupad._read_in_file_command
Failed example:
    with open(filename, 'w') as f:
        f.write('x := 2;\n')
Expected nothing
Got:
    8
**********************************************************************
```



---

Comment by git created at 2022-07-13 08:42:27

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-07-13 08:42:48

both fixed now


---

Comment by klee created at 2022-07-13 08:47:42

Test passed:

```
$ ./sage -tox -e rst src/sage/interfaces
rst installed: docutils==0.19,flake8==4.0.1,flake8-rst-docstrings==0.2.6,mccabe==0.6.1,pycodestyle==2.8.0,pyflakes==2.4.0,Pygments==2.12.0,restructuredtext-lint==1.4.0
rst run-test-pre: PYTHONHASHSEED='2172514036'
rst run-test: commands[0] | flake8 --select=RST sage/interfaces
___________________________________ summary ____________________________________
  rst: commands succeeded
  congratulations :)
```



---

Comment by klee created at 2022-07-13 08:48:44

Doctest also passed!


---

Comment by chapoton created at 2022-07-13 09:09:46

Changing status from new to needs_review.


---

Comment by klee created at 2022-07-15 08:50:10

Changing status from needs_review to positive_review.


---

Comment by klee created at 2022-07-15 08:50:10

LGTM.


---

Comment by vbraun created at 2022-07-28 19:10:03

Resolution: fixed
