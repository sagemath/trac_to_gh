# Issue 32765: Adding a method in graph, poset, polyhedron, etc. classes to return an object of type TikzPicture

archive/issues_032765.json:
```json
{
    "body": "CC:  tkarn jplabbe\n\nThis will be a follow up of #20343.\n\nIssue created by migration from https://trac.sagemath.org/ticket/33002\n\n",
    "created_at": "2021-12-09T10:34:24Z",
    "labels": [
        "graphics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Adding a method in graph, poset, polyhedron, etc. classes to return an object of type TikzPicture",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32765",
    "user": "slabbe"
}
```
CC:  tkarn jplabbe

This will be a follow up of #20343.

Issue created by migration from https://trac.sagemath.org/ticket/33002





---

archive/issue_comments_467280.json:
```json
{
    "body": "What would be the interaction with [sage/graphs/graph_latex.py](https://github.com/sagemath/sage/blob/develop/src/sage/graphs/graph_latex.py)?",
    "created_at": "2022-02-24T09:11:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467280",
    "user": "vdelecroix"
}
```

What would be the interaction with [sage/graphs/graph_latex.py](https://github.com/sagemath/sage/blob/develop/src/sage/graphs/graph_latex.py)?



---

archive/issue_comments_467281.json:
```json
{
    "body": "New commits:\n|                                                                                                                                          |                                                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|\n|[119baaf](https://git.sagemath.org/sage.git/commit?id=119baaf65cf80ebb90f31b533339e30f828015a3)|`33002: tikz method of polyhedron can now output a TikzPicture object`|\nRefocussing this ticket on polyhedron only. Let's deal with `tikz` method for graph, posets, etc. in different tickets.",
    "created_at": "2022-06-30T09:44:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467281",
    "user": "slabbe"
}
```

New commits:
|                                                                                                                                          |                                                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|
|[119baaf](https://git.sagemath.org/sage.git/commit?id=119baaf65cf80ebb90f31b533339e30f828015a3)|`33002: tikz method of polyhedron can now output a TikzPicture object`|
Refocussing this ticket on polyhedron only. Let's deal with `tikz` method for graph, posets, etc. in different tickets.



---

archive/issue_comments_467282.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-06-30T09:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467282",
    "user": "slabbe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_467283.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-07-05T09:48:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467283",
    "user": "@LaisRast"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_467284.json:
```json
{
    "body": "I would suggest to implement this for the function `Projection.tikz()` (of `geometry.polyhedron.plot`),\nand then add the parameter `output_type` to `Polyhedron_base6.tikz()`.\n\nOne reason for that is sometimes you may want to modify the projection before drawing the polytope using TikZ.\nFor instance in #34113:\nyou may want to choose a different window facet for the Schlegel projection before drawing the polytope.\nSo something like this should work:\n\n```\nP.schlegel_projection(P.facets()[1]).tikz([1, 0, 0], output_type=\"TikzPicture\")\n```\n",
    "created_at": "2022-07-05T09:48:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467284",
    "user": "@LaisRast"
}
```

I would suggest to implement this for the function `Projection.tikz()` (of `geometry.polyhedron.plot`),
and then add the parameter `output_type` to `Polyhedron_base6.tikz()`.

One reason for that is sometimes you may want to modify the projection before drawing the polytope using TikZ.
For instance in #34113:
you may want to choose a different window facet for the Schlegel projection before drawing the polytope.
So something like this should work:

```
P.schlegel_projection(P.facets()[1]).tikz([1, 0, 0], output_type="TikzPicture")
```




---

archive/issue_comments_467285.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-06T15:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467285",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467286.json:
```json
{
    "body": "Good comment. I did the change.\n\nI also added a deprecation warning in favor of `output_type='TikzPicture'`.\n\nI adapted the doctests in `sage/geometry/polyhedron` and in the doc.\n\nMaybe there are remaining doctests to update? Let's see what the patchbots say.",
    "created_at": "2022-07-06T15:10:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467286",
    "user": "slabbe"
}
```

Good comment. I did the change.

I also added a deprecation warning in favor of `output_type='TikzPicture'`.

I adapted the doctests in `sage/geometry/polyhedron` and in the doc.

Maybe there are remaining doctests to update? Let's see what the patchbots say.



---

archive/issue_comments_467287.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-07-06T15:10:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467287",
    "user": "slabbe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_467288.json:
```json
{
    "body": "Dear JP, it would be good for you eyes to look at the changes made in this ticket, because I am changing code and doc that you have written in the first place starting with #12083.",
    "created_at": "2022-07-06T15:12:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467288",
    "user": "slabbe"
}
```

Dear JP, it would be good for you eyes to look at the changes made in this ticket, because I am changing code and doc that you have written in the first place starting with #12083.



---

archive/issue_comments_467289.json:
```json
{
    "body": "I will have another look at the ticket (hopefully) tomorrow. For now:\n\n* In `polytope_tikz.rst`: Please change `Since Version` to `Since version`.\n\n* The deprecation message is long. Can you please make it shorted. Maybe something like this:\n  {{{\n  The default type of the returned object will soon be changed from\n  `sage.misc.latex.LatexExpr` to `sage.misc.latex_standalone.TikzPicture`.\n  Please update your code to specify the desired output type\n  as `.tikz(output_type='LatexExpr')` to keep the old behavior\n  or `.tikz(output_type='TikzPicture')` to use the future default behavior.\n  }}}",
    "created_at": "2022-07-06T22:31:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467289",
    "user": "@LaisRast"
}
```

I will have another look at the ticket (hopefully) tomorrow. For now:

* In `polytope_tikz.rst`: Please change `Since Version` to `Since version`.

* The deprecation message is long. Can you please make it shorted. Maybe something like this:
  {{{
  The default type of the returned object will soon be changed from
  `sage.misc.latex.LatexExpr` to `sage.misc.latex_standalone.TikzPicture`.
  Please update your code to specify the desired output type
  as `.tikz(output_type='LatexExpr')` to keep the old behavior
  or `.tikz(output_type='TikzPicture')` to use the future default behavior.
  }}}



---

archive/issue_comments_467290.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-07-06T22:31:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467290",
    "user": "@LaisRast"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_467291.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-07T08:03:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467291",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467292.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-07-07T08:07:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467292",
    "user": "slabbe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_467293.json:
```json
{
    "body": "Thanks for your initial comments. I let you take a look again.",
    "created_at": "2022-07-07T08:07:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467293",
    "user": "slabbe"
}
```

Thanks for your initial comments. I let you take a look again.



---

archive/issue_comments_467294.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-07-09T12:15:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467294",
    "user": "@LaisRast"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_467295.json:
```json
{
    "body": "Seems good to me, except the following small remarks:\n\nIn `polytope_tikz.rst`:\n* Add full stop to the end of \"... the raw TikZ picture of your polytope\" \n* \"you will have a file named..\" -> \" you will have two files..\"\n\nI suggest also:\n```None``(deprecated)` -> ```None`` (to be deprecated)`",
    "created_at": "2022-07-09T12:15:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467295",
    "user": "@LaisRast"
}
```

Seems good to me, except the following small remarks:

In `polytope_tikz.rst`:
* Add full stop to the end of "... the raw TikZ picture of your polytope" 
* "you will have a file named.." -> " you will have two files.."

I suggest also:
```None``(deprecated)` -> ```None`` (to be deprecated)`



---

archive/issue_comments_467296.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-21T14:45:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467296",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467297.json:
```json
{
    "body": "Replying to [comment:16 gh-LaisRast]:\n> Seems good to me, except the following small remarks:\n> \n> In `polytope_tikz.rst`:\n> * Add full stop to the end of \"... the raw TikZ picture of your polytope\" \n> * \"you will have a file named..\" -> \" you will have two files..\"\n\nThanks, i just added a commit which does that. \n\n> I suggest also:\n> ```None``(deprecated)` -> ```None`` (to be deprecated)`\n\nI think the definition of \"deprecated\" is that the option will be change or be gone in the future. An option *is* deprecated one or two years before it is gone. So, I keep it as it is for now.\n\nNeeds review. (I will be away from internet for the next two weeks).",
    "created_at": "2022-07-21T14:48:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467297",
    "user": "slabbe"
}
```

Replying to [comment:16 gh-LaisRast]:
> Seems good to me, except the following small remarks:
> 
> In `polytope_tikz.rst`:
> * Add full stop to the end of "... the raw TikZ picture of your polytope" 
> * "you will have a file named.." -> " you will have two files.."

Thanks, i just added a commit which does that. 

> I suggest also:
> ```None``(deprecated)` -> ```None`` (to be deprecated)`

I think the definition of "deprecated" is that the option will be change or be gone in the future. An option *is* deprecated one or two years before it is gone. So, I keep it as it is for now.

Needs review. (I will be away from internet for the next two weeks).



---

archive/issue_comments_467298.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-07-21T14:48:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467298",
    "user": "slabbe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_467299.json:
```json
{
    "body": "Looks good to me.",
    "created_at": "2022-07-21T15:47:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467299",
    "user": "@LaisRast"
}
```

Looks good to me.



---

archive/issue_comments_467300.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-07-21T15:47:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467300",
    "user": "@LaisRast"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_467301.json:
```json
{
    "body": "\n```\nsage -t --long --warn-long 45.5 --random-seed=123 src/sage/misc/latex_standalone.py\n**********************************************************************\nFile \"src/sage/misc/latex_standalone.py\", line 161, in sage.misc.latex_standalone\nFailed example:\n    s = P.projection().tikz([674,108,-731],112)\nExpected nothing\nGot:\n    doctest:warning\n      File \"/home/release/Sage/src/bin/sage-runtests\", line 153, in <module>\n        err = DC.run()\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/control.py\", line 1376, in run\n        self.run_doctests()\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/control.py\", line 1057, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py\", line 2021, in dispatch\n        self.parallel_dispatch()\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py\", line 1916, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py\", line 2190, in start\n        super().start()\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/process.py\", line 121, in start\n        self._popen = self._Popen(self)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/context.py\", line 224, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/popen_fork.py\", line 19, in __init__\n        self._launch(process_obj)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/popen_fork.py\", line 71, in _launch\n        code = process_obj._bootstrap(parent_sentinel=child_r)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/process.py\", line 315, in _bootstrap\n        self.run()\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py\", line 2162, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py\", line 2492, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py\", line 2544, in _run\n        result = runner.run(test)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py\", line 866, in run\n        return self._run(test, compileflags, out)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py\", line 695, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py\", line 1093, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.misc.latex_standalone[23]>\", line 1, in <module>\n        s = P.projection().tikz([Integer(674),Integer(108),-Integer(731)],Integer(112))\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/geometry/polyhedron/plot.py\", line 1431, in tikz\n        deprecation(33002, msg)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/misc/superseded.py\", line 99, in deprecation\n        warning(trac_number, message, DeprecationWarning, stacklevel)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/misc/superseded.py\", line 180, in warning\n        warn(message, warning_class, stacklevel)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/warnings.py\", line 109, in _showwarnmsg\n        sw(msg.message, msg.category, msg.filename, msg.lineno,\n    :\n    DeprecationWarning: The default type of the returned object will soon be changed from `sage.misc.latex.LatexExpr` to `sage.misc.latex_standalone.TikzPicture`.  Please update your code to specify the desired output type as `.tikz(output_type='LatexExpr')` to keep the old behavior or `.tikz(output_type='TikzPicture')` to use the future default behavior.\n    See https://trac.sagemath.org/33002 for details.\n**********************************************************************\n```\n",
    "created_at": "2022-07-26T20:33:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467301",
    "user": "vbraun"
}
```


```
sage -t --long --warn-long 45.5 --random-seed=123 src/sage/misc/latex_standalone.py
**********************************************************************
File "src/sage/misc/latex_standalone.py", line 161, in sage.misc.latex_standalone
Failed example:
    s = P.projection().tikz([674,108,-731],112)
Expected nothing
Got:
    doctest:warning
      File "/home/release/Sage/src/bin/sage-runtests", line 153, in <module>
        err = DC.run()
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/control.py", line 1376, in run
        self.run_doctests()
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/control.py", line 1057, in run_doctests
        self.dispatcher.dispatch()
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py", line 2021, in dispatch
        self.parallel_dispatch()
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py", line 1916, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py", line 2190, in start
        super().start()
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/process.py", line 121, in start
        self._popen = self._Popen(self)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/context.py", line 224, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/popen_fork.py", line 19, in __init__
        self._launch(process_obj)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/popen_fork.py", line 71, in _launch
        code = process_obj._bootstrap(parent_sentinel=child_r)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/process.py", line 315, in _bootstrap
        self.run()
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py", line 2162, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py", line 2492, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py", line 2544, in _run
        result = runner.run(test)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py", line 866, in run
        return self._run(test, compileflags, out)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py", line 695, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py", line 1093, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.misc.latex_standalone[23]>", line 1, in <module>
        s = P.projection().tikz([Integer(674),Integer(108),-Integer(731)],Integer(112))
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/geometry/polyhedron/plot.py", line 1431, in tikz
        deprecation(33002, msg)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/misc/superseded.py", line 99, in deprecation
        warning(trac_number, message, DeprecationWarning, stacklevel)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/misc/superseded.py", line 180, in warning
        warn(message, warning_class, stacklevel)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/warnings.py", line 109, in _showwarnmsg
        sw(msg.message, msg.category, msg.filename, msg.lineno,
    :
    DeprecationWarning: The default type of the returned object will soon be changed from `sage.misc.latex.LatexExpr` to `sage.misc.latex_standalone.TikzPicture`.  Please update your code to specify the desired output type as `.tikz(output_type='LatexExpr')` to keep the old behavior or `.tikz(output_type='TikzPicture')` to use the future default behavior.
    See https://trac.sagemath.org/33002 for details.
**********************************************************************
```




---

archive/issue_comments_467302.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-07-26T20:33:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467302",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_467303.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-09T21:39:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467303",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467304.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-08-09T21:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467304",
    "user": "slabbe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_467305.json:
```json
{
    "body": "Oups, I forgot that one. The other failures seen by the patchbot (related to giac) are unrelated.\n\nNeeds review.",
    "created_at": "2022-08-09T21:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467305",
    "user": "slabbe"
}
```

Oups, I forgot that one. The other failures seen by the patchbot (related to giac) are unrelated.

Needs review.



---

archive/issue_comments_467306.json:
```json
{
    "body": "ping!\n\nMaybe there is still a chance for this to get in 9.7 ...",
    "created_at": "2022-08-30T14:47:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467306",
    "user": "slabbe"
}
```

ping!

Maybe there is still a chance for this to get in 9.7 ...



---

archive/issue_comments_467307.json:
```json
{
    "body": "Sorry for the late reply. \nSince now you fixed the test, the ticket is done.",
    "created_at": "2022-09-04T09:09:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467307",
    "user": "@LaisRast"
}
```

Sorry for the late reply. 
Since now you fixed the test, the ticket is done.



---

archive/issue_comments_467308.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-09-04T09:09:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467308",
    "user": "@LaisRast"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_467309.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-09-20T20:23:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467309",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_467310.json:
```json
{
    "body": "I created #34606 to fix the doc, because this ticket was merged in 9.8 not in 9.7.",
    "created_at": "2022-09-29T09:25:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32765#issuecomment-467310",
    "user": "slabbe"
}
```

I created #34606 to fix the doc, because this ticket was merged in 9.8 not in 9.7.
