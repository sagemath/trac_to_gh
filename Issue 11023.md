# Issue 11023: Implementation of finite reflection groups

archive/issues_011023.json:
```json
{
    "body": "Assignee: tbd\n\nCC:  vripoll kdilks simonking jmichel hivert\n\nKeywords: reflection group\n\nThis patch adds a function\n\n\n```\nsage: FiniteReflectionGroup(classification_type)\n```\n\n\nto work with finite (crystallographic, real, complex) reflection groups. It uses the data from GAP3/chevie.\n\nDepends on #8327.\n\nIssue created by migration from https://trac.sagemath.org/ticket/11187\n\n",
    "created_at": "2011-04-13T15:07:49Z",
    "labels": [
        "PLEASE CHANGE",
        "major",
        "enhancement"
    ],
    "title": "Implementation of finite reflection groups",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11023",
    "user": "stumpc5"
}
```
Assignee: tbd

CC:  vripoll kdilks simonking jmichel hivert

Keywords: reflection group

This patch adds a function


```
sage: FiniteReflectionGroup(classification_type)
```


to work with finite (crystallographic, real, complex) reflection groups. It uses the data from GAP3/chevie.

Depends on #8327.

Issue created by migration from https://trac.sagemath.org/ticket/11187





---

archive/issue_comments_119867.json:
```json
{
    "body": "Changing status from new to needs_work.",
    "created_at": "2011-04-14T00:36:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119867",
    "user": "stumpc5"
}
```

Changing status from new to needs_work.



---

archive/issue_comments_119868.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2011-04-14T00:36:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119868",
    "user": "stumpc5"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_119869.json:
```json
{
    "body": "Apply only trac_11187-finite_reflection_groups-cs.patch",
    "created_at": "2011-04-18T19:22:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119869",
    "user": "stumpc5"
}
```

Apply only trac_11187-finite_reflection_groups-cs.patch



---

archive/issue_comments_119870.json:
```json
{
    "body": "Apply only trac_11187-finite_reflection_groups-cs.patch",
    "created_at": "2011-04-24T19:23:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119870",
    "user": "stumpc5"
}
```

Apply only trac_11187-finite_reflection_groups-cs.patch



---

archive/issue_comments_119871.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-04-24T19:23:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119871",
    "user": "stumpc5"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_119872.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-06-08T21:01:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119872",
    "user": "stumpc5"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_119873.json:
```json
{
    "body": "Apply only trac_11187-finite_reflection_groups-cs.patch",
    "created_at": "2011-06-10T16:47:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119873",
    "user": "stumpc5"
}
```

Apply only trac_11187-finite_reflection_groups-cs.patch



---

archive/issue_comments_119874.json:
```json
{
    "body": "Attachment [trac_11187-finite_reflection_groups-cs.patch](tarball://root/attachments/some-uuid/ticket11187/trac_11187-finite_reflection_groups-cs.patch) by stumpc5 created at 2013-01-24 12:26:06\n\n\n```\n+    class SubcategoryMethods:\n+\n+        @cached_method\n+        def Irreducible(self):\n+            \"\"\"\n+            Returns the full subcategory of the irreducible objects of ``self``.\n+\n+            EXAMPLES::\n+\n+                sage: CoxeterGroups().Irreducible()\n+                Category of irreducible coxeter groups\n+\n+            TESTS::\n+\n+                sage: AffineWeylGroups().Irreducible.__module__\n+                'sage.categories.complex_reflection_groups'\n+            \"\"\"\n+            return self._with_adjectives(('Irreducible',))\n+\n+    class Irreducible(AdjectiveCategory):\n+        pass\n+\n```\n",
    "created_at": "2013-01-24T12:26:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119874",
    "user": "stumpc5"
}
```

Attachment [trac_11187-finite_reflection_groups-cs.patch](tarball://root/attachments/some-uuid/ticket11187/trac_11187-finite_reflection_groups-cs.patch) by stumpc5 created at 2013-01-24 12:26:06


```
+    class SubcategoryMethods:
+
+        @cached_method
+        def Irreducible(self):
+            """
+            Returns the full subcategory of the irreducible objects of ``self``.
+
+            EXAMPLES::
+
+                sage: CoxeterGroups().Irreducible()
+                Category of irreducible coxeter groups
+
+            TESTS::
+
+                sage: AffineWeylGroups().Irreducible.__module__
+                'sage.categories.complex_reflection_groups'
+            """
+            return self._with_adjectives(('Irreducible',))
+
+    class Irreducible(AdjectiveCategory):
+        pass
+
```




---

archive/issue_comments_119875.json:
```json
{
    "body": "I've factored out the `CartanMatrix` class into #14137.",
    "created_at": "2013-04-12T14:08:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119875",
    "user": "tscrim"
}
```

I've factored out the `CartanMatrix` class into #14137.



---

archive/issue_comments_119876.json:
```json
{
    "body": "I've rebased the patch and noticed that this will likely depend on #10963. I'll post a new version once I completely untangle what is going on with #10963.",
    "created_at": "2013-06-21T13:59:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119876",
    "user": "tscrim"
}
```

I've rebased the patch and noticed that this will likely depend on #10963. I'll post a new version once I completely untangle what is going on with #10963.



---

archive/issue_comments_119877.json:
```json
{
    "body": "Changing keywords from \"reflection group\" to \"reflection group, days49\".",
    "created_at": "2013-06-21T13:59:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119877",
    "user": "tscrim"
}
```

Changing keywords from "reflection group" to "reflection group, days49".



---

archive/issue_comments_119878.json:
```json
{
    "body": "Replying to [comment:11 tscrim]:\n> I've rebased the patch and noticed that this will likely depend on #10963. I'll post a new version once I completely untangle what is going on with #10963.\n\nI always made some minor changes on this patch locally - I would actually only start working on this patch after you guys are finished with #10963. If you want to actively work on this patch, ping me again, and we can discuss what is still needed to finilize this patch.\n\nCheers, Christian",
    "created_at": "2013-06-21T14:04:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119878",
    "user": "stumpc5"
}
```

Replying to [comment:11 tscrim]:
> I've rebased the patch and noticed that this will likely depend on #10963. I'll post a new version once I completely untangle what is going on with #10963.

I always made some minor changes on this patch locally - I would actually only start working on this patch after you guys are finished with #10963. If you want to actively work on this patch, ping me again, and we can discuss what is still needed to finilize this patch.

Cheers, Christian



---

archive/issue_comments_119879.json:
```json
{
    "body": "Hello Christian\n\nDo you have a git branch for this ticket somewhere ? or should I try to resurrect the patch ?",
    "created_at": "2014-06-30T19:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119879",
    "user": "chapoton"
}
```

Hello Christian

Do you have a git branch for this ticket somewhere ? or should I try to resurrect the patch ?



---

archive/issue_comments_119880.json:
```json
{
    "body": "> Do you have a git branch for this ticket somewhere ? or should I try to resurrect the patch ?\n\nNo, I don't. But I have a local old version of Sage containing that code and quite a bit more, so I wonder if I should/will try to organize it a bit and put it up here.\n\nDo you need any from that code in particular (in which case I am more tempted to work on that), or is that just a general question?",
    "created_at": "2014-07-01T02:36:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119880",
    "user": "stumpc5"
}
```

> Do you have a git branch for this ticket somewhere ? or should I try to resurrect the patch ?

No, I don't. But I have a local old version of Sage containing that code and quite a bit more, so I wonder if I should/will try to organize it a bit and put it up here.

Do you need any from that code in particular (in which case I am more tempted to work on that), or is that just a general question?



---

archive/issue_comments_119881.json:
```json
{
    "body": "Hello, no, no real need for this code, just asking a general question. Now that #10963 is over.",
    "created_at": "2014-07-01T11:32:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119881",
    "user": "chapoton"
}
```

Hello, no, no real need for this code, just asking a general question. Now that #10963 is over.



---

archive/issue_comments_119882.json:
```json
{
    "body": "Here's a git version of this patch with changes necessary to get Sage to start (I did not run any tests, so I am not saying things are working). There might be other changes to the files in question which need to be moved over too. Just as a general note from doing the rebasing, there are a bunch of methods missing doctests.\n----\nNew commits:",
    "created_at": "2014-07-28T08:12:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119882",
    "user": "tscrim"
}
```

Here's a git version of this patch with changes necessary to get Sage to start (I did not run any tests, so I am not saying things are working). There might be other changes to the files in question which need to be moved over too. Just as a general note from doing the rebasing, there are a bunch of methods missing doctests.
----
New commits:



---

archive/issue_comments_119883.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-28T20:23:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119883",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119884.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-28T20:31:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119884",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119885.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-29T11:37:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119885",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119886.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-29T12:14:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119886",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119887.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-30T12:48:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119887",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119888.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-31T09:03:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119888",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119889.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-31T20:34:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119889",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119890.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-09-08T19:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119890",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119891.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-02-24T20:43:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119891",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119892.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-31T22:00:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119892",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119893.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-01T09:37:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119893",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119894.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-02T11:06:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119894",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119895.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-02T11:41:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119895",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119896.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-02T12:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119896",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119897.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-02T14:38:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119897",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119898.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-02T19:20:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119898",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119899.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-02T19:48:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119899",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119900.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-02T20:12:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119900",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119901.json:
```json
{
    "body": "The current code gives\n\n```\nsage: C = ComplexReflectionGroups()\nsage: C.Irreducible()\nCategory of complex reflection groups\nsage: C.Irreducible() is C\nTrue\n```\n\nIs that what you intended? Perhaps the \"irreducible\" axiom should be defined on `ComplexReflectionGroups().Finite()`, not on `ComplexReflectionGroups()`.",
    "created_at": "2015-06-02T21:59:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119901",
    "user": "SimonKing"
}
```

The current code gives

```
sage: C = ComplexReflectionGroups()
sage: C.Irreducible()
Category of complex reflection groups
sage: C.Irreducible() is C
True
```

Is that what you intended? Perhaps the "irreducible" axiom should be defined on `ComplexReflectionGroups().Finite()`, not on `ComplexReflectionGroups()`.



---

archive/issue_comments_119902.json:
```json
{
    "body": "To summarise the discussion Christian and I just had: I believe `WellGenerated` should be an axiom. Christian said that the general notion of well-generated is a bit tricky for infinite groups. Hence, he actually only wants to take into account well-generatedness for *finite* complex reflection groups.\n\nHence, the aim would be to define `WellGeneratedComplexReflectionGroups` as application of an axiom to `ComplexReflectionGroups.Finite`. However, I believe that the name should contain the word \"finite\" if we really want to focus on finite well-generated groups. Alternatively, it should be implemented as a nested-nested class `WellGenerated` within the nested class `ComplexReflectionGroups.Finite`.\n\nI also think that `WellGeneratedComplexReflectionGroups` should provide a parent method `_test_well_generated` that tests whether `self` is well-generated. Such method would automatically be executed when running the test suite.",
    "created_at": "2015-06-02T22:22:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119902",
    "user": "SimonKing"
}
```

To summarise the discussion Christian and I just had: I believe `WellGenerated` should be an axiom. Christian said that the general notion of well-generated is a bit tricky for infinite groups. Hence, he actually only wants to take into account well-generatedness for *finite* complex reflection groups.

Hence, the aim would be to define `WellGeneratedComplexReflectionGroups` as application of an axiom to `ComplexReflectionGroups.Finite`. However, I believe that the name should contain the word "finite" if we really want to focus on finite well-generated groups. Alternatively, it should be implemented as a nested-nested class `WellGenerated` within the nested class `ComplexReflectionGroups.Finite`.

I also think that `WellGeneratedComplexReflectionGroups` should provide a parent method `_test_well_generated` that tests whether `self` is well-generated. Such method would automatically be executed when running the test suite.



---

archive/issue_comments_119903.json:
```json
{
    "body": "We have discussed already that in order to fix the `Irreducible` axiom, it is needed (in addition to the nested class) to have a `SubcategoryMethod` called `Irreducible`.\n\nNote that if we define `WellGeneratedComplexReflectionGroups` as a sub-category of `ComplexReflectionGroups.Finite()`, we should probably remove its subcategory-methods `Finite` and `Irreducible`, since both axioms have already been defined in the super-category.",
    "created_at": "2015-06-02T22:26:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119903",
    "user": "SimonKing"
}
```

We have discussed already that in order to fix the `Irreducible` axiom, it is needed (in addition to the nested class) to have a `SubcategoryMethod` called `Irreducible`.

Note that if we define `WellGeneratedComplexReflectionGroups` as a sub-category of `ComplexReflectionGroups.Finite()`, we should probably remove its subcategory-methods `Finite` and `Irreducible`, since both axioms have already been defined in the super-category.



---

archive/issue_comments_119904.json:
```json
{
    "body": "The iterators currently cache the list of all elements of the group. Is that (always) a good idea?",
    "created_at": "2015-06-02T22:30:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119904",
    "user": "SimonKing"
}
```

The iterators currently cache the list of all elements of the group. Is that (always) a good idea?



---

archive/issue_comments_119905.json:
```json
{
    "body": "After discussion with Christian, the iterator of a complex reflection group is a lot faster. What we did was to keep `._reduced_word` as a list, and only transform it into an actual word when needed (i.e., in the `.reduced_word()` method).\n\nBefore:\n\n```\nsage: G = ComplexReflectionGroup([2,1,4])\nsage: %timeit L = list(G); G._elements=None\nThe slowest run took 6.02 times longer than the fastest. This could mean that an intermediate result is being cached \n1 loops, best of 3: 66.4 ms per loop\n```\n\nAfter:\n\n```\nsage: G = ComplexReflectionGroup([2,1,4])\nsage: %timeit L = list(G); G._elements=None\nThe slowest run took 66.44 times longer than the fastest. This could mean that an intermediate result is being cached \n1 loops, best of 3: 5.56 ms per loop\n```\n\n----\nNew commits:",
    "created_at": "2015-06-02T23:22:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119905",
    "user": "SimonKing"
}
```

After discussion with Christian, the iterator of a complex reflection group is a lot faster. What we did was to keep `._reduced_word` as a list, and only transform it into an actual word when needed (i.e., in the `.reduced_word()` method).

Before:

```
sage: G = ComplexReflectionGroup([2,1,4])
sage: %timeit L = list(G); G._elements=None
The slowest run took 6.02 times longer than the fastest. This could mean that an intermediate result is being cached 
1 loops, best of 3: 66.4 ms per loop
```

After:

```
sage: G = ComplexReflectionGroup([2,1,4])
sage: %timeit L = list(G); G._elements=None
The slowest run took 66.44 times longer than the fastest. This could mean that an intermediate result is being cached 
1 loops, best of 3: 5.56 ms per loop
```

----
New commits:



---

archive/issue_comments_119906.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-06-03T18:58:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119906",
    "user": "chapoton"
}
```

New commits:



---

archive/issue_comments_119907.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-03T23:41:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119907",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119908.json:
```json
{
    "body": "Hi Christian,\n\nThis is not how the tests work:\n\n```python\n                def _test_well_generated(self, **options):\n                    tester = self._tester(**options)\n                    return self.is_well_generated()\n```\n\nInstead, do\n\n```python\n                def _test_well_generated(self, **options):\n                    tester = self._tester(**options)\n                    tester.assert_(self.is_well_generated())\n```\n\nor something similar.",
    "created_at": "2015-06-03T23:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119908",
    "user": "SimonKing"
}
```

Hi Christian,

This is not how the tests work:

```python
                def _test_well_generated(self, **options):
                    tester = self._tester(**options)
                    return self.is_well_generated()
```

Instead, do

```python
                def _test_well_generated(self, **options):
                    tester = self._tester(**options)
                    tester.assert_(self.is_well_generated())
```

or something similar.



---

archive/issue_comments_119909.json:
```json
{
    "body": "see patchbot reports : \n* some doctests should be marked with `# optional - chevie` or whatever\n* doctest continuation is now `....:` and not `...`\n* raise statements should use py3 syntax `raise Error('message')`",
    "created_at": "2015-06-04T07:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119909",
    "user": "chapoton"
}
```

see patchbot reports : 
* some doctests should be marked with `# optional - chevie` or whatever
* doctest continuation is now `....:` and not `...`
* raise statements should use py3 syntax `raise Error('message')`



---

archive/issue_comments_119910.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-04T11:45:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119910",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119911.json:
```json
{
    "body": "`@`Simon and Nicolas: The category for complex reflection groups (with axioms finite/irreducible/well-generated) is now sort of ready. I would now like to make `ComplexReflectionGroups().Finite().WellGenerated()` a super category of `FiniteCoxeterGroups`.\n\n* Is that what I should do?\n* If I simply add a method `supercategories` to `FiniteCoxeterGroups`, its string repr changes in a not desired way. How should I treat that?\n\nThanks, Christian",
    "created_at": "2015-06-04T11:57:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119911",
    "user": "stumpc5"
}
```

`@`Simon and Nicolas: The category for complex reflection groups (with axioms finite/irreducible/well-generated) is now sort of ready. I would now like to make `ComplexReflectionGroups().Finite().WellGenerated()` a super category of `FiniteCoxeterGroups`.

* Is that what I should do?
* If I simply add a method `supercategories` to `FiniteCoxeterGroups`, its string repr changes in a not desired way. How should I treat that?

Thanks, Christian



---

archive/issue_comments_119912.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-05T00:12:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119912",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119913.json:
```json
{
    "body": "Replying to [comment:56 stumpc5]:\n> `@`Simon and Nicolas: The category for complex reflection groups (with axioms finite/irreducible/well-generated) is now sort of ready. I would now like to make `ComplexReflectionGroups().Finite().WellGenerated()` a super category of `FiniteCoxeterGroups`.\n> \n> * Is that what I should do?\n> * If I simply add a method `supercategories` to `FiniteCoxeterGroups`, its string repr changes in a not desired way. How should I treat that?\n\nIt sounds more like you want to add `ComplexReflectionGroups().WellGenerated()` as a supercategory to `CoxeterGroups`, in particular to replace `Groups().FinitelyGenerated()` by `ComplexReflectionGroups().WellGenerated()`. I also think `ComplexReflectionGroups()` should be a subcategory of `Groups().FinitelyGenerated()` (otherwise the additional axiom should go on the supercategory for `CoxeterGroups()`). The finite part will take care of itself by the `CategoryWithAxiom` magic.",
    "created_at": "2015-06-05T06:50:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119913",
    "user": "tscrim"
}
```

Replying to [comment:56 stumpc5]:
> `@`Simon and Nicolas: The category for complex reflection groups (with axioms finite/irreducible/well-generated) is now sort of ready. I would now like to make `ComplexReflectionGroups().Finite().WellGenerated()` a super category of `FiniteCoxeterGroups`.
> 
> * Is that what I should do?
> * If I simply add a method `supercategories` to `FiniteCoxeterGroups`, its string repr changes in a not desired way. How should I treat that?

It sounds more like you want to add `ComplexReflectionGroups().WellGenerated()` as a supercategory to `CoxeterGroups`, in particular to replace `Groups().FinitelyGenerated()` by `ComplexReflectionGroups().WellGenerated()`. I also think `ComplexReflectionGroups()` should be a subcategory of `Groups().FinitelyGenerated()` (otherwise the additional axiom should go on the supercategory for `CoxeterGroups()`). The finite part will take care of itself by the `CategoryWithAxiom` magic.



---

archive/issue_comments_119914.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-05T19:04:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119914",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119915.json:
```json
{
    "body": "Hello,\n\n- once again: doctest continuation is now `....:` and not `...`\n\n- could you please put a positive review on the duplicate #9288 ?",
    "created_at": "2015-06-05T19:14:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119915",
    "user": "chapoton"
}
```

Hello,

- once again: doctest continuation is now `....:` and not `...`

- could you please put a positive review on the duplicate #9288 ?



---

archive/issue_comments_119916.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-05T19:26:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119916",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119917.json:
```json
{
    "body": "Hi\n\n> - once again: doctest continuation is now `....:` and not `...`\n\ndone\n\n> - could you please put a positive review on the duplicate #9288 ?\n\ndone\n\nThanks for looking at this (and all the other tickets!\n\n    Christian",
    "created_at": "2015-06-05T19:31:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119917",
    "user": "stumpc5"
}
```

Hi

> - once again: doctest continuation is now `....:` and not `...`

done

> - could you please put a positive review on the duplicate #9288 ?

done

Thanks for looking at this (and all the other tickets!

    Christian



---

archive/issue_comments_119918.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-05T22:46:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119918",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119919.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-06T01:16:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119919",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119920.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-06T01:18:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119920",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119921.json:
```json
{
    "body": "I took out the subword complex stuff which is handled in #11010, and which is depending on this one.",
    "created_at": "2015-06-06T01:19:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119921",
    "user": "stumpc5"
}
```

I took out the subword complex stuff which is handled in #11010, and which is depending on this one.



---

archive/issue_comments_119922.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-06T02:10:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119922",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119923.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-10T20:31:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119923",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119924.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2015-06-11T07:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119924",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_119925.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-11T08:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119925",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119926.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-12T14:26:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119926",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119927.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-12T14:37:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119927",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119928.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-14T17:23:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119928",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119929.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-15T11:27:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119929",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119930.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-15T13:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119930",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119931.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-15T14:02:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119931",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119932.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-15T14:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119932",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119933.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-15T14:55:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119933",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119934.json:
```json
{
    "body": "Changing keywords from \"reflection group, days49\" to \"reflection group, days49, days 64.5\".",
    "created_at": "2015-06-15T15:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119934",
    "user": "stumpc5"
}
```

Changing keywords from "reflection group, days49" to "reflection group, days49, days 64.5".



---

archive/issue_comments_119935.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-16T09:59:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119935",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119936.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-16T10:14:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119936",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119937.json:
```json
{
    "body": "Hello Christian,\nthanks for your hard work on this ticket. I have only had a quick look, so trivial remarks:\n* not yet 100% coverage, I think (I have seen a few methods without examples)\n* `TODO::` should be `.. TODO::`\n* Could you please replace `Returns` by `Return` everywhere.\n* Sometime the first line of the doc is made of two sentences. Please separate them as:\n\n```\nReturn something.\n\nSomething is very very important.\n```\n\n* Please try to keep the lines 80 characters long.\n* Bad alignement of EXAMPLES:: in `distinguished_reflection`, `distinguished_reflections`\n* missing optional in `sage: W = CoxeterGroup([\"A\",4], implementation=\"chevie\")`\n\nAnd you should aim to have a green light from the patchbot. So far, this has **never** been the case.",
    "created_at": "2015-06-17T07:35:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119937",
    "user": "chapoton"
}
```

Hello Christian,
thanks for your hard work on this ticket. I have only had a quick look, so trivial remarks:
* not yet 100% coverage, I think (I have seen a few methods without examples)
* `TODO::` should be `.. TODO::`
* Could you please replace `Returns` by `Return` everywhere.
* Sometime the first line of the doc is made of two sentences. Please separate them as:

```
Return something.

Something is very very important.
```

* Please try to keep the lines 80 characters long.
* Bad alignement of EXAMPLES:: in `distinguished_reflection`, `distinguished_reflections`
* missing optional in `sage: W = CoxeterGroup(["A",4], implementation="chevie")`

And you should aim to have a green light from the patchbot. So far, this has **never** been the case.



---

archive/issue_comments_119938.json:
```json
{
    "body": "Replying to [comment:86 chapoton]:\n\nThanks for having a look at this ticket!\n\n> I have only had a quick look, so trivial remarks\n\nI am aware of the stuff to do in the documentation, but before getting there (or, at least, in parallel, I'll fix your complaints now), I try to get the overall setting right (this includes the category framework, the interaction with other reflection group classes, and the dependence of chevie).\n\n> And you should aim to have a green light from the patchbot. So far, this has **never** been the case.\n\nI'd like to get it green, but it has not run in 5 days, and I can only fix stuff the patchbot complaints about if I see its results regularly after uploading a new commit sequence (a patchbot that doesn't run soon after uploading doesn't really help during a coding sprint)...\n\nThanks again, Christian",
    "created_at": "2015-06-17T07:49:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119938",
    "user": "stumpc5"
}
```

Replying to [comment:86 chapoton]:

Thanks for having a look at this ticket!

> I have only had a quick look, so trivial remarks

I am aware of the stuff to do in the documentation, but before getting there (or, at least, in parallel, I'll fix your complaints now), I try to get the overall setting right (this includes the category framework, the interaction with other reflection group classes, and the dependence of chevie).

> And you should aim to have a green light from the patchbot. So far, this has **never** been the case.

I'd like to get it green, but it has not run in 5 days, and I can only fix stuff the patchbot complaints about if I see its results regularly after uploading a new commit sequence (a patchbot that doesn't run soon after uploading doesn't really help during a coding sprint)...

Thanks again, Christian



---

archive/issue_comments_119939.json:
```json
{
    "body": "There are many patchbots, but only one that has added all your participants to its trust list (*at my demand*). This one is currently not active. You can try to contact some active patchbots owners to ask them to trust the participants (see http://wiki.sagemath.org/buildbot/owners and http://patchbot.sagemath.org/machines). Or run your own patchbot.",
    "created_at": "2015-06-17T08:08:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119939",
    "user": "chapoton"
}
```

There are many patchbots, but only one that has added all your participants to its trust list (*at my demand*). This one is currently not active. You can try to contact some active patchbots owners to ask them to trust the participants (see http://wiki.sagemath.org/buildbot/owners and http://patchbot.sagemath.org/machines). Or run your own patchbot.



---

archive/issue_comments_119940.json:
```json
{
    "body": "> There are many patchbots, but only one that has added all your participants to its trust list (at my demand).\n\nOh, I didn't know that **all** participants must be on the trust list, I thought it was only the submitter of the branch - I gonna try to get a patchbot running...",
    "created_at": "2015-06-17T08:13:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119940",
    "user": "stumpc5"
}
```

> There are many patchbots, but only one that has added all your participants to its trust list (at my demand).

Oh, I didn't know that **all** participants must be on the trust list, I thought it was only the submitter of the branch - I gonna try to get a patchbot running...



---

archive/issue_comments_119941.json:
```json
{
    "body": "Yes, this comes from some difficulty to identify the true authors of the code..\n\nFor patchbot, please see the instructions there : http://wiki.sagemath.org/buildbot/details",
    "created_at": "2015-06-17T08:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119941",
    "user": "chapoton"
}
```

Yes, this comes from some difficulty to identify the true authors of the code..

For patchbot, please see the instructions there : http://wiki.sagemath.org/buildbot/details



---

archive/issue_comments_119942.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-17T11:56:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119942",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119943.json:
```json
{
    "body": "I just started a patchbot recently, and I believe I now have it configured to trust all relevant participants and prioritize this ticket.\n\nFirst run through wasn't very helpful, since I don't have Chevie installed. Though presumably everything should be marked with some kind of optional tag so that tests are skipped if Chevie isn't installed.\n\nI'm in the process of trying to install Chevie, and if I succeed, I'll have it do another run.",
    "created_at": "2015-06-17T21:05:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119943",
    "user": "kdilks"
}
```

I just started a patchbot recently, and I believe I now have it configured to trust all relevant participants and prioritize this ticket.

First run through wasn't very helpful, since I don't have Chevie installed. Though presumably everything should be marked with some kind of optional tag so that tests are skipped if Chevie isn't installed.

I'm in the process of trying to install Chevie, and if I succeed, I'll have it do another run.



---

archive/issue_comments_119944.json:
```json
{
    "body": "I have Gap3/Chevie installed now.\n\nIt's probably easier (and a lot faster) to run\n\n`./sage -t ./src/sage/combinat/root_system/reflection_group_complex.py` ,\n\nand if things are crashing and you need to see where, then do\n\n`./sage -t --verbose ./src/sage/combinat/root_system/reflection_group_complex.py` .\n\nPatchbots are good for finding merge conflicts with new betas and seeing if you unintentionally broke other parts of Sage, but at this point I think it's sufficient to only test the one file you're changing with this ticket.\n\nAfter playing around for a bit, something seems to be broken with the iterator. The example `W = ReflectionGroup((1,1,3))` (should be isomorphic to S3) included as a test works fine, but if I try `W = ReflectionGroup((3,1,1))` (should be isomorphic to cyclic group of order 3) then it keeps printing out the three elements in a never-ending loop.",
    "created_at": "2015-06-18T10:04:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119944",
    "user": "kdilks"
}
```

I have Gap3/Chevie installed now.

It's probably easier (and a lot faster) to run

`./sage -t ./src/sage/combinat/root_system/reflection_group_complex.py` ,

and if things are crashing and you need to see where, then do

`./sage -t --verbose ./src/sage/combinat/root_system/reflection_group_complex.py` .

Patchbots are good for finding merge conflicts with new betas and seeing if you unintentionally broke other parts of Sage, but at this point I think it's sufficient to only test the one file you're changing with this ticket.

After playing around for a bit, something seems to be broken with the iterator. The example `W = ReflectionGroup((1,1,3))` (should be isomorphic to S3) included as a test works fine, but if I try `W = ReflectionGroup((3,1,1))` (should be isomorphic to cyclic group of order 3) then it keeps printing out the three elements in a never-ending loop.



---

archive/issue_comments_119945.json:
```json
{
    "body": "Replace\n\n```\n# optional (require chevie)\n```\n\nby\n\n```\n# optional - chevie\n```\n",
    "created_at": "2015-06-18T10:11:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119945",
    "user": "jdemeyer"
}
```

Replace

```
# optional (require chevie)
```

by

```
# optional - chevie
```




---

archive/issue_comments_119946.json:
```json
{
    "body": "When adding new files, you should follow [http://doc.sagemath.org/html/en/developer/coding_basics.html#headings-of-sage-library-code-files](http://doc.sagemath.org/html/en/developer/coding_basics.html#headings-of-sage-library-code-files), in particular use the correct license statement.",
    "created_at": "2015-06-18T10:13:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119946",
    "user": "jdemeyer"
}
```

When adding new files, you should follow [http://doc.sagemath.org/html/en/developer/coding_basics.html#headings-of-sage-library-code-files](http://doc.sagemath.org/html/en/developer/coding_basics.html#headings-of-sage-library-code-files), in particular use the correct license statement.



---

archive/issue_comments_119947.json:
```json
{
    "body": "Thanks for having a look here! I am currently working (since yesterday) on speeding the iteration through the group, I hope I have gotten somewhere later today...\n\nI guess I must tag each and every test as\n\n```\n# optional - chevie\n```\n\nwhich means that these tests are not run on patchbots per default, or do they run if the patchbot has chevie installed?",
    "created_at": "2015-06-18T10:14:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119947",
    "user": "stumpc5"
}
```

Thanks for having a look here! I am currently working (since yesterday) on speeding the iteration through the group, I hope I have gotten somewhere later today...

I guess I must tag each and every test as

```
# optional - chevie
```

which means that these tests are not run on patchbots per default, or do they run if the patchbot has chevie installed?



---

archive/issue_comments_119948.json:
```json
{
    "body": "Replying to [comment:96 stumpc5]:\n> I guess I must tag each and every test\n\nNot literally every test, there are probably tests which do not require `chevie`.\n\n> do they run if the patchbot has chevie installed?\n\nThey would be run if the Sage optional package `chevie` is installed. However, such a package does not exist.",
    "created_at": "2015-06-18T10:19:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119948",
    "user": "jdemeyer"
}
```

Replying to [comment:96 stumpc5]:
> I guess I must tag each and every test

Not literally every test, there are probably tests which do not require `chevie`.

> do they run if the patchbot has chevie installed?

They would be run if the Sage optional package `chevie` is installed. However, such a package does not exist.



---

archive/issue_comments_119949.json:
```json
{
    "body": "Replying to [comment:97 jdemeyer]:\n> Not literally every test, there are probably tests which do not require `chevie`.\n\nEvery test (except for the creation of the category of complex reflection groups) handle with reflection groups (no surprise), and even initializing such a group requires `chevie`.\n\nBut within finite time, I will work on making some core functionalities work without having `chevie` installed.\n\n> They would be run if the Sage optional package `chevie` is installed. However, such a package does not exist.\n\nIs that a problem? Should there be a possibility of installing `chevie` as an optional package? I update the description of this ticket to explain how to get chevie installed in a system. See #8906 for old stuff about that.",
    "created_at": "2015-06-18T11:13:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119949",
    "user": "stumpc5"
}
```

Replying to [comment:97 jdemeyer]:
> Not literally every test, there are probably tests which do not require `chevie`.

Every test (except for the creation of the category of complex reflection groups) handle with reflection groups (no surprise), and even initializing such a group requires `chevie`.

But within finite time, I will work on making some core functionalities work without having `chevie` installed.

> They would be run if the Sage optional package `chevie` is installed. However, such a package does not exist.

Is that a problem? Should there be a possibility of installing `chevie` as an optional package? I update the description of this ticket to explain how to get chevie installed in a system. See #8906 for old stuff about that.



---

archive/issue_comments_119950.json:
```json
{
    "body": "Replying to [comment:98 stumpc5]:\n> Is that a problem? Should there be a possibility of installing `chevie` as an optional package?\n\nIt's not a problem for me or for this ticket. I guess it is a problem if people want to use the code that you are writing here, since getting `chevie` to work within Sage is non-trivial.",
    "created_at": "2015-06-18T11:37:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119950",
    "user": "jdemeyer"
}
```

Replying to [comment:98 stumpc5]:
> Is that a problem? Should there be a possibility of installing `chevie` as an optional package?

It's not a problem for me or for this ticket. I guess it is a problem if people want to use the code that you are writing here, since getting `chevie` to work within Sage is non-trivial.



---

archive/issue_comments_119951.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-18T11:55:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119951",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119952.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-18T15:25:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119952",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119953.json:
```json
{
    "body": "Okay, got 100% coverage and all tests passing! But I wouldn't know how to get the startup module green as I turned the `ComplexReflectionGroups` category into a super category of `CoxeterGroups` which is loaded on startup.",
    "created_at": "2015-06-18T15:28:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119953",
    "user": "stumpc5"
}
```

Okay, got 100% coverage and all tests passing! But I wouldn't know how to get the startup module green as I turned the `ComplexReflectionGroups` category into a super category of `CoxeterGroups` which is loaded on startup.



---

archive/issue_comments_119954.json:
```json
{
    "body": "I have a failing doctest for `is_regular`. There's not a problem with the `is_regular` method, but for `W = ReflectionGroup(23)`, there are two elements where my computer returns a different reduced word than expected ( https://www.diffchecker.com/ewvevrda ). I consistently get the same different answer. Are you using the older/more stable gap-jm4, or the latest gap-jm5 ?\n\nUnrelated, but I also can't get the long_element() method to work.",
    "created_at": "2015-06-18T17:15:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119954",
    "user": "kdilks"
}
```

I have a failing doctest for `is_regular`. There's not a problem with the `is_regular` method, but for `W = ReflectionGroup(23)`, there are two elements where my computer returns a different reduced word than expected ( https://www.diffchecker.com/ewvevrda ). I consistently get the same different answer. Are you using the older/more stable gap-jm4, or the latest gap-jm5 ?

Unrelated, but I also can't get the long_element() method to work.



---

archive/issue_comments_119955.json:
```json
{
    "body": "Replying to [comment:104 kdilks]:\n> for `W = ReflectionGroup(23)`, there are two elements where my computer returns a different\n> reduced word than expected\n\nThis computation is currently done purely in my code, and it's not related to `chevie`. The iterator comes from `_iterator_tracking_words` so let's see what happens there.\n\nRelated here, and indeed also to your question on `long_element`, observe that currently\n\n```\nsage: W = ReflectionGroup(23); W\nIrreducible complex reflection group of rank 3 and type H3\nsage: W.category()\nJoin of Category of finite permutation groups and Category of irreducible finite coxeter groups\nsage: W = ReflectionGroup(['H',3]); W\nIrreducible real reflection group of rank 3 and type H3\nsage: W.category()\nJoin of Category of finite permutation groups and Category of irreducible finite coxeter groups\n```\n\n\nSince the iter algorithm for coxeter groups is slightly smarter (it takes into account that the weak order is graded), the two iter functions are different.\n\nBut:\n\n* both iter functions are supposed to return the same iteration through the group\n* both iter functions should always return the elements in the very same order (in contrary to what we see on my vs on your machine)\n\nI found a bug (having a `set` rather than a `list` in one spot), so let's see if this is fixed with my next push in a few minutes after all tests pass here.\n\n> Unrelated, but I also can't get the long_element() method to work.\n\nThe reason is, that you constructed the real group as a complex group, so the long element for `ReflectionGroup(['H',3])` works while it currently doesn't work for `ReflectionGroup(23)`. I do have to fix that and be more careful constructing the right class instance.",
    "created_at": "2015-06-18T18:12:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119955",
    "user": "stumpc5"
}
```

Replying to [comment:104 kdilks]:
> for `W = ReflectionGroup(23)`, there are two elements where my computer returns a different
> reduced word than expected

This computation is currently done purely in my code, and it's not related to `chevie`. The iterator comes from `_iterator_tracking_words` so let's see what happens there.

Related here, and indeed also to your question on `long_element`, observe that currently

```
sage: W = ReflectionGroup(23); W
Irreducible complex reflection group of rank 3 and type H3
sage: W.category()
Join of Category of finite permutation groups and Category of irreducible finite coxeter groups
sage: W = ReflectionGroup(['H',3]); W
Irreducible real reflection group of rank 3 and type H3
sage: W.category()
Join of Category of finite permutation groups and Category of irreducible finite coxeter groups
```


Since the iter algorithm for coxeter groups is slightly smarter (it takes into account that the weak order is graded), the two iter functions are different.

But:

* both iter functions are supposed to return the same iteration through the group
* both iter functions should always return the elements in the very same order (in contrary to what we see on my vs on your machine)

I found a bug (having a `set` rather than a `list` in one spot), so let's see if this is fixed with my next push in a few minutes after all tests pass here.

> Unrelated, but I also can't get the long_element() method to work.

The reason is, that you constructed the real group as a complex group, so the long element for `ReflectionGroup(['H',3])` works while it currently doesn't work for `ReflectionGroup(23)`. I do have to fix that and be more careful constructing the right class instance.



---

archive/issue_comments_119956.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-18T18:25:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119956",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119957.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-19T12:34:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119957",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119958.json:
```json
{
    "body": "There are a few failing doctests, some easy, some less clear.",
    "created_at": "2015-06-24T07:48:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119958",
    "user": "chapoton"
}
```

There are a few failing doctests, some easy, some less clear.



---

archive/issue_comments_119959.json:
```json
{
    "body": "now needs rebase, and care for the many failing doctests",
    "created_at": "2015-07-11T06:24:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119959",
    "user": "chapoton"
}
```

now needs rebase, and care for the many failing doctests



---

archive/issue_comments_119960.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-07-26T02:57:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119960",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119961.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2015-07-26T11:56:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119961",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_119962.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-24T09:49:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119962",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119963.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-04T19:06:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119963",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119964.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-03T12:06:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119964",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119965.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-15T16:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119965",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119966.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-15T17:15:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119966",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119967.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-19T09:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119967",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119968.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-19T09:51:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119968",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119969.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-27T15:56:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119969",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119970.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-28T15:32:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119970",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119971.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-28T16:55:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119971",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119972.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-02-24T19:10:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119972",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119973.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-16T07:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119973",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119974.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-16T08:29:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119974",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119975.json:
```json
{
    "body": "are you aware of Geck's [PyCox](http://journals.cambridge.org/download.php?file=%2FJCM%2FJCM15%2FS1461157012001064a.pdf&code=2dce26d518748bf0db323feb4fadd1e3)?\nhttp://www.mathematik.uni-stuttgart.de/~geckmf/chv1r6180.py",
    "created_at": "2016-03-25T20:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119975",
    "user": "dimpase"
}
```

are you aware of Geck's [PyCox](http://journals.cambridge.org/download.php?file=%2FJCM%2FJCM15%2FS1461157012001064a.pdf&code=2dce26d518748bf0db323feb4fadd1e3)?
http://www.mathematik.uni-stuttgart.de/~geckmf/chv1r6180.py



---

archive/issue_comments_119976.json:
```json
{
    "body": "Replying to [comment:129 dimpase]:\n> are you aware of Geck's [PyCox](http://journals.cambridge.org/download.php?file=%2FJCM%2FJCM15%2FS1461157012001064a.pdf&code=2dce26d518748bf0db323feb4fadd1e3)?\n> http://www.mathematik.uni-stuttgart.de/~geckmf/chv1r6180.py\n\nSure, but it is limited to finite _real_ reflection groups, while I certainly want to work with real and with complex reflection groups. E.g., the results in\n* http://jlms.oxfordjournals.org/content/90/3/919.abstract (paywall)\n* http://arxiv.org/abs/1211.2789 (free)\nwere only possible by using the code in this ticket to work in Sage with complex reflection groups from chevie through the gap3 interface.",
    "created_at": "2016-03-26T14:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119976",
    "user": "stumpc5"
}
```

Replying to [comment:129 dimpase]:
> are you aware of Geck's [PyCox](http://journals.cambridge.org/download.php?file=%2FJCM%2FJCM15%2FS1461157012001064a.pdf&code=2dce26d518748bf0db323feb4fadd1e3)?
> http://www.mathematik.uni-stuttgart.de/~geckmf/chv1r6180.py

Sure, but it is limited to finite _real_ reflection groups, while I certainly want to work with real and with complex reflection groups. E.g., the results in
* http://jlms.oxfordjournals.org/content/90/3/919.abstract (paywall)
* http://arxiv.org/abs/1211.2789 (free)
were only possible by using the code in this ticket to work in Sage with complex reflection groups from chevie through the gap3 interface.



---

archive/issue_comments_119977.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2016-04-02T15:59:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119977",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_119978.json:
```json
{
    "body": "Concerning the iteration through elements without keeping them in memory, we have to benchmark agains\n\n```\n    gap> i:=0;;\n    gap> W:=CoxeterGroup(\"E\",7);;\n    gap> ForEachElement(W,function(x)i:=i+1; \n    > if i mod 1000000=0 then Print(\"*\\c\");fi;\n    > end);Print(\"\\n\");\n    **\n```\n\nwhich takes about a second per million elements, see https://webusers.imj-prg.fr/~jean.michel/gap3/htm/chap075.htm.",
    "created_at": "2016-04-08T07:38:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119978",
    "user": "stumpc5"
}
```

Concerning the iteration through elements without keeping them in memory, we have to benchmark agains

```
    gap> i:=0;;
    gap> W:=CoxeterGroup("E",7);;
    gap> ForEachElement(W,function(x)i:=i+1; 
    > if i mod 1000000=0 then Print("*\c");fi;
    > end);Print("\n");
    **
```

which takes about a second per million elements, see https://webusers.imj-prg.fr/~jean.michel/gap3/htm/chap075.htm.



---

archive/issue_comments_119979.json:
```json
{
    "body": "Continuing the discussion from #13580.\n\nReplying to [#13580 hivert]:\n> Replying to [#13580 tscrim]:\n> > Christian, Vivien, and I are working on trying to speed up the iteration of\n> > finite Coxeter groups by using (subgroups of) permutation groups and the\n> > iterator method of generic Coxeter groups, which uses a `SearchForest` (see\n> > #11187 and the `CoxeterGroups` category). Our goal is to try and match or\n> > beat GAP3 iteration time (which we are about ~30x slower).\n> \n> I'll be both very happy and interested to have usecase for this code.\n\nThis will have the more serious use case I know of (the code in the generic Coxeter groups iterator, e.g., via `CoxeterGroup`, has not had any serious optimization attempts AFAIK).\n\n> > We are in the process pushing our successor computation code to Cython and\n> > some of our other methods, but we would appreciate any insights you have.\n> \n> Do you have a typical example relying on `SearchForest` of code on top of\n> #11187 that I can profile ? Note that I included in the documentation of\n> map_reduce.py a guide on how to profile the parallel code. I'd like to measure\n> the proportion of time that is spend on Coxeter code one one hand and on the\n> parallel infrastructure on the other.\n\nOur current test cases are B<sub>6</sub> (~0.5s) and E<sub>7</sub> (~1m).\n\n> Now, concerning coxeter group, I'm quite sure that rewriting part of the code\n> in C/C++ and using advanced parallel stuff (AVX instruction set + SIMD) you\n> can get speedup a large as several hundreds and even thousand ! As a witness\n> on https://github.com/hivert/IVMPG I wrote a code whose goal is to enumerate\n> integer vector modulo permutation group. Compared to the code we have in Sage\n> which has been Cythonized and optimized by Simon King I manage to get speedup\n> a large as x2000 ! I need help on the build system to be able to distribute\n> it. I'm pretty sure the code there is very similar to what you need in Coxeter\n> groups.\n\nOne of the thoughts I'm bouncing around is doing a full C/C++ version using arrays, and then using Cython (mainly `PermutationGroupElement`) as a transfer layer to Sage/GAP. In which case it probably should be split off as a little specialized spkg.\n\nThat is quite an impressive speedup. I know a little bit about build systems (and its on my todo to learn more for fixing up coxeter3/LiE too), but, e.g., Jeroen or Fran\u00e7ois are good people to ask. Although if you need GCC 5.x, then we will need to do some changes to Sage. Yet, I think moving to GCC 5.x is something that we want and are going to do soon...\n----\nNew commits:",
    "created_at": "2016-04-08T10:05:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119979",
    "user": "tscrim"
}
```

Continuing the discussion from #13580.

Replying to [#13580 hivert]:
> Replying to [#13580 tscrim]:
> > Christian, Vivien, and I are working on trying to speed up the iteration of
> > finite Coxeter groups by using (subgroups of) permutation groups and the
> > iterator method of generic Coxeter groups, which uses a `SearchForest` (see
> > #11187 and the `CoxeterGroups` category). Our goal is to try and match or
> > beat GAP3 iteration time (which we are about ~30x slower).
> 
> I'll be both very happy and interested to have usecase for this code.

This will have the more serious use case I know of (the code in the generic Coxeter groups iterator, e.g., via `CoxeterGroup`, has not had any serious optimization attempts AFAIK).

> > We are in the process pushing our successor computation code to Cython and
> > some of our other methods, but we would appreciate any insights you have.
> 
> Do you have a typical example relying on `SearchForest` of code on top of
> #11187 that I can profile ? Note that I included in the documentation of
> map_reduce.py a guide on how to profile the parallel code. I'd like to measure
> the proportion of time that is spend on Coxeter code one one hand and on the
> parallel infrastructure on the other.

Our current test cases are B<sub>6</sub> (~0.5s) and E<sub>7</sub> (~1m).

> Now, concerning coxeter group, I'm quite sure that rewriting part of the code
> in C/C++ and using advanced parallel stuff (AVX instruction set + SIMD) you
> can get speedup a large as several hundreds and even thousand ! As a witness
> on https://github.com/hivert/IVMPG I wrote a code whose goal is to enumerate
> integer vector modulo permutation group. Compared to the code we have in Sage
> which has been Cythonized and optimized by Simon King I manage to get speedup
> a large as x2000 ! I need help on the build system to be able to distribute
> it. I'm pretty sure the code there is very similar to what you need in Coxeter
> groups.

One of the thoughts I'm bouncing around is doing a full C/C++ version using arrays, and then using Cython (mainly `PermutationGroupElement`) as a transfer layer to Sage/GAP. In which case it probably should be split off as a little specialized spkg.

That is quite an impressive speedup. I know a little bit about build systems (and its on my todo to learn more for fixing up coxeter3/LiE too), but, e.g., Jeroen or François are good people to ask. Although if you need GCC 5.x, then we will need to do some changes to Sage. Yet, I think moving to GCC 5.x is something that we want and are going to do soon...
----
New commits:



---

archive/issue_comments_119980.json:
```json
{
    "body": "Replying to [comment:134 tscrim]:\n> One of the thoughts I'm bouncing around is doing a full C/C++ version using arrays, and then using Cython (mainly `PermutationGroupElement`) as a transfer layer to Sage/GAP. In which case it probably should be split off as a little specialized spkg.\n\nThis is very similar to what I did. The idea is that if you want large performance, you need to completely control the way you use the memory. So what I did is to build in parallel a large linked list of arrays and then thanks to Cython I returns Sage an iterator which is a view on this list which wrap the element of the linked list into proper Sage Element.",
    "created_at": "2016-04-08T11:12:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119980",
    "user": "hivert"
}
```

Replying to [comment:134 tscrim]:
> One of the thoughts I'm bouncing around is doing a full C/C++ version using arrays, and then using Cython (mainly `PermutationGroupElement`) as a transfer layer to Sage/GAP. In which case it probably should be split off as a little specialized spkg.

This is very similar to what I did. The idea is that if you want large performance, you need to completely control the way you use the memory. So what I did is to build in parallel a large linked list of arrays and then thanks to Cython I returns Sage an iterator which is a view on this list which wrap the element of the linked list into proper Sage Element.



---

archive/issue_comments_119981.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-08T13:49:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119981",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119982.json:
```json
{
    "body": "For the record: as discussed last night, the first goal would be to separate the category stuff into its own ticket (`@`tscim is working on this), and then to get the present version well documented, tested, and finished. Only after this work is done, we will start improving stuff and add functionality.\n\nTo this end, we have to:\n* get the category stuff right\n* test properly that reducible groups work as desired\n* test properly that the labelling system of simples/hyperplanes/reflections works properly\n* test that the assumptions on how we obtain the data from chevie is correct (one example here is that the code tries to get n simple reflections, N* distinguished reflections, and then the remaining (N-N*) other reflections when listing all reflections. This has to be rechecked, but there are plenty of more similar examples.\n----\nNew commits:",
    "created_at": "2016-04-09T06:43:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119982",
    "user": "stumpc5"
}
```

For the record: as discussed last night, the first goal would be to separate the category stuff into its own ticket (`@`tscim is working on this), and then to get the present version well documented, tested, and finished. Only after this work is done, we will start improving stuff and add functionality.

To this end, we have to:
* get the category stuff right
* test properly that reducible groups work as desired
* test properly that the labelling system of simples/hyperplanes/reflections works properly
* test that the assumptions on how we obtain the data from chevie is correct (one example here is that the code tries to get n simple reflections, N* distinguished reflections, and then the remaining (N-N*) other reflections when listing all reflections. This has to be rechecked, but there are plenty of more similar examples.
----
New commits:



---

archive/issue_comments_119983.json:
```json
{
    "body": "new branch, I have cleaned up the imports\n----\nNew commits:",
    "created_at": "2016-04-09T07:22:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119983",
    "user": "chapoton"
}
```

new branch, I have cleaned up the imports
----
New commits:



---

archive/issue_comments_119984.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-09T07:59:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119984",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119985.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-09T09:20:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119985",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119986.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-09T09:45:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119986",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119987.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-09T09:51:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119987",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119988.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-09T10:02:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119988",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119989.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-09T10:10:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119989",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119990.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-09T10:23:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119990",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119991.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-09T10:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119991",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119992.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-09T10:30:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119992",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119993.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-09T10:36:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119993",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_119994.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-04-09T12:51:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119994",
    "user": "tscrim"
}
```

New commits:



---

archive/issue_comments_119995.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2016-04-09T14:49:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119995",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_119996.json:
```json
{
    "body": "Everything should work now up to the printing of well-generated as part of the finite Coxeter group category.\n----\nLast 10 new commits:",
    "created_at": "2016-04-09T16:52:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119996",
    "user": "tscrim"
}
```

Everything should work now up to the printing of well-generated as part of the finite Coxeter group category.
----
Last 10 new commits:



---

archive/issue_comments_119997.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-04-09T19:12:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119997",
    "user": "chapoton"
}
```

New commits:



---

archive/issue_comments_119998.json:
```json
{
    "body": "I was able to stop `GeneralizedCoxeterGroup`, `ComplexReflectionGroup`, and `FiniteCoxeterGroup` from being imported during startup.\n----\nNew commits:",
    "created_at": "2016-04-09T21:30:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119998",
    "user": "tscrim"
}
```

I was able to stop `GeneralizedCoxeterGroup`, `ComplexReflectionGroup`, and `FiniteCoxeterGroup` from being imported during startup.
----
New commits:



---

archive/issue_comments_119999.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-10T06:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-119999",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120000.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-10T07:42:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120000",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120001.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-10T08:08:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120001",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120002.json:
```json
{
    "body": "some tiny fixes in doc, mainly\n----\nNew commits:",
    "created_at": "2016-04-10T11:48:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120002",
    "user": "chapoton"
}
```

some tiny fixes in doc, mainly
----
New commits:



---

archive/issue_comments_120003.json:
```json
{
    "body": "in the cython iterator, we should use sth like\n\n```\ntuple( W.simple_reflection(W._index_set_inverse[i]) for i in xrange(len(W._index_set)) )\n```\n",
    "created_at": "2016-04-10T12:10:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120003",
    "user": "stumpc5"
}
```

in the cython iterator, we should use sth like

```
tuple( W.simple_reflection(W._index_set_inverse[i]) for i in xrange(len(W._index_set)) )
```




---

archive/issue_comments_120004.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-04-10T12:25:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120004",
    "user": "tscrim"
}
```

New commits:



---

archive/issue_comments_120005.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2016-04-10T15:48:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120005",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_120006.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-04-10T16:38:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120006",
    "user": "stumpc5"
}
```

New commits:



---

archive/issue_comments_120007.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-10T18:42:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120007",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120008.json:
```json
{
    "body": "Only two trivial doctests failing + the missing doctest for `_test_well_generated`, though Nicolas thought he had added it.",
    "created_at": "2016-04-10T18:43:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120008",
    "user": "stumpc5"
}
```

Only two trivial doctests failing + the missing doctest for `_test_well_generated`, though Nicolas thought he had added it.



---

archive/issue_comments_120009.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-10T21:58:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120009",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120010.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T07:03:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120010",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120011.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T08:12:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120011",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120012.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T08:41:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120012",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120013.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T09:53:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120013",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120014.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T09:55:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120014",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120015.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T10:04:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120015",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120016.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T10:14:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120016",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120017.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T10:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120017",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120018.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T11:59:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120018",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120019.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T12:38:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120019",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120020.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T13:06:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120020",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120021.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T13:08:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120021",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120022.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T14:13:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120022",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120023.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T14:43:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120023",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120024.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T14:55:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120024",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120025.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T15:31:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120025",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120026.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T15:37:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120026",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120027.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T15:45:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120027",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120028.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T16:21:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120028",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120029.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T18:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120029",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120030.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T18:40:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120030",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120031.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T18:58:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120031",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120032.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T19:10:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120032",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120033.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T19:30:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120033",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120034.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T21:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120034",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120035.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T21:06:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120035",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120036.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-11T21:22:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120036",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120037.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-12T07:31:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120037",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120038.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-12T07:33:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120038",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120039.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-12T07:42:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120039",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120040.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-12T10:28:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120040",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120041.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-12T10:33:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120041",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120042.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-12T12:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120042",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120043.json:
```json
{
    "body": "Okay, all tests pass!",
    "created_at": "2016-04-12T15:49:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120043",
    "user": "stumpc5"
}
```

Okay, all tests pass!



---

archive/issue_comments_120044.json:
```json
{
    "body": "`@`trscim: For the record, the timings for iteration in E7 seem to be odd:\n\n```\nsage: W = ReflectionGroup(['E',7])                                              \nsage: %time for w in W.iteration(algorithm=\"depth\",tracking_words=False): pass  \nCPU times: user 3.71 s, sys: 0 ns, total: 3.71 s\nWall time: 3.79 s\nsage: %time for w in W.iteration(algorithm=\"breadth\",tracking_words=False): pass\nCPU times: user 8.72 s, sys: 4.84 ms, total: 8.73 s\nWall time: 8.72 s\nsage: %time for w in W.iteration(algorithm=\"depth\",tracking_words=True): pass   \nCPU times: user 5.83 s, sys: 0 ns, total: 5.83 s\nWall time: 5.81 s\nsage: %time for w in W.iteration(algorithm=\"breadth\",tracking_words=True): pass \nCPU times: user 20.6 s, sys: 67.4 ms, total: 20.6 s\nWall time: 20.7 s\n```\n\nAlso, I discussed with Nicolas yesterday, and (as what I said on the weekend), we are back at the situation that one can be much smarter concerning the ascents: Let i be an ascent of w and si and s_j commute. Then i is also an ascent of wsj. I will try to use that today, but it still seems that any test in this direction is much slower than doing the actual test for an ascent the way we already do it.",
    "created_at": "2016-04-13T07:14:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120044",
    "user": "stumpc5"
}
```

`@`trscim: For the record, the timings for iteration in E7 seem to be odd:

```
sage: W = ReflectionGroup(['E',7])                                              
sage: %time for w in W.iteration(algorithm="depth",tracking_words=False): pass  
CPU times: user 3.71 s, sys: 0 ns, total: 3.71 s
Wall time: 3.79 s
sage: %time for w in W.iteration(algorithm="breadth",tracking_words=False): pass
CPU times: user 8.72 s, sys: 4.84 ms, total: 8.73 s
Wall time: 8.72 s
sage: %time for w in W.iteration(algorithm="depth",tracking_words=True): pass   
CPU times: user 5.83 s, sys: 0 ns, total: 5.83 s
Wall time: 5.81 s
sage: %time for w in W.iteration(algorithm="breadth",tracking_words=True): pass 
CPU times: user 20.6 s, sys: 67.4 ms, total: 20.6 s
Wall time: 20.7 s
```

Also, I discussed with Nicolas yesterday, and (as what I said on the weekend), we are back at the situation that one can be much smarter concerning the ascents: Let i be an ascent of w and si and s_j commute. Then i is also an ascent of wsj. I will try to use that today, but it still seems that any test in this direction is much slower than doing the actual test for an ascent the way we already do it.



---

archive/issue_comments_120045.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-13T10:13:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120045",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120046.json:
```json
{
    "body": "Travis, could you have a look at the diffset 8497f5d; I commented out that the change is actually used, see `#for i in self.noncom[first]`, it seems to slow down the test even though much less is actually tested. Maybe you see how to get rid of the overhead the line `for i in self.noncom[first]` has compared to `for i in range(first+1,self.n)`.",
    "created_at": "2016-04-13T10:21:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120046",
    "user": "stumpc5"
}
```

Travis, could you have a look at the diffset 8497f5d; I commented out that the change is actually used, see `#for i in self.noncom[first]`, it seems to slow down the test even though much less is actually tested. Maybe you see how to get rid of the overhead the line `for i in self.noncom[first]` has compared to `for i in range(first+1,self.n)`.



---

archive/issue_comments_120047.json:
```json
{
    "body": "Travis: Also, you introduced `_reduced_word` to be a lazy attribute. This has a few drawbacks: `not self._reduced_word is None` in the length function in `reflection_group_real.py` is never triggered, and `_reduced_word` is now either a word in the index set (if the lazy attribute is triggered in the real case), or a word in `range(n)` if one has gotten it through the iterator. This way, the method `reduced_word` in the real case is always executed, even though the reduced word is already known.\n\nTwo solutions are:\n* either set `_reduced_word` to a word in the indices in the iterator for the cost of list lookups for each letter in the word\n* write the lazy attribute in the real case so that it gives a word in `range(n)`\n* do neither and forget about the info gotten from the iterator in the real case.",
    "created_at": "2016-04-13T10:33:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120047",
    "user": "stumpc5"
}
```

Travis: Also, you introduced `_reduced_word` to be a lazy attribute. This has a few drawbacks: `not self._reduced_word is None` in the length function in `reflection_group_real.py` is never triggered, and `_reduced_word` is now either a word in the index set (if the lazy attribute is triggered in the real case), or a word in `range(n)` if one has gotten it through the iterator. This way, the method `reduced_word` in the real case is always executed, even though the reduced word is already known.

Two solutions are:
* either set `_reduced_word` to a word in the indices in the iterator for the cost of list lookups for each letter in the word
* write the lazy attribute in the real case so that it gives a word in `range(n)`
* do neither and forget about the info gotten from the iterator in the real case.



---

archive/issue_comments_120048.json:
```json
{
    "body": "Replying to [comment:210 stumpc5]:\n> Travis, could you have a look at the diffset 8497f5d; I commented out that the change is actually used, see `#for i in self.noncom[first]`, it seems to slow down the test even though much less is actually tested. Maybe you see how to get rid of the overhead the line `for i in self.noncom[first]` has compared to `for i in range(first+1,self.n)`.\n\nMy guess is because Cython is smart enough to translate\n\n```python\nfor i in range(n)\n```\n\ninto\n\n```c\nfor(i=0; i<n; ++i)\n```\n\nwhereas for the other, it is iterating over some object (which, a priori, may not even be iterable). In more detail, Cython doesn't even know that it is iterating over a list, just that `self.noncom` is. Try:\n\n```python\n        nc = self.noncom[first]\n        for i in nc:\n```\n\nor the variant\n\n```python\n        nc = self.noncom[first]\n        k = len(nc)\n        for dummy in range(k):\n            i = nc[dummy]\n```\n\nwhere you have `cdef list nc` and `cdef int dummy, k` (although I suspect the former of these is faster).",
    "created_at": "2016-04-13T13:01:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120048",
    "user": "tscrim"
}
```

Replying to [comment:210 stumpc5]:
> Travis, could you have a look at the diffset 8497f5d; I commented out that the change is actually used, see `#for i in self.noncom[first]`, it seems to slow down the test even though much less is actually tested. Maybe you see how to get rid of the overhead the line `for i in self.noncom[first]` has compared to `for i in range(first+1,self.n)`.

My guess is because Cython is smart enough to translate

```python
for i in range(n)
```

into

```c
for(i=0; i<n; ++i)
```

whereas for the other, it is iterating over some object (which, a priori, may not even be iterable). In more detail, Cython doesn't even know that it is iterating over a list, just that `self.noncom` is. Try:

```python
        nc = self.noncom[first]
        for i in nc:
```

or the variant

```python
        nc = self.noncom[first]
        k = len(nc)
        for dummy in range(k):
            i = nc[dummy]
```

where you have `cdef list nc` and `cdef int dummy, k` (although I suspect the former of these is faster).



---

archive/issue_comments_120049.json:
```json
{
    "body": "Replying to [comment:211 stumpc5]:\n> Travis: Also, you introduced `_reduced_word` to be a lazy attribute. This has a few drawbacks: `not self._reduced_word is None` in the length function in `reflection_group_real.py` is never triggered, and `_reduced_word` is now either a word in the index set (if the lazy attribute is triggered in the real case), or a word in `range(n)` if one has gotten it through the iterator. This way, the method `reduced_word` in the real case is always executed, even though the reduced word is already known.\nDoing this simplified the code and probably got us a small speedup. Yet, this is a bug in my implementation.  However, I'm not sure how much it is worth it to compute the length of an arbitrary element without computing its reduced word. If it becomes that time critical for someone, we can get them an `algorithm` option for `length()`.\n\n> This way, the method `reduced_word` in the real case is always executed, even though the reduced word is already known.\n\nThis doesn't make sense. If anything `reduced_word()` will throw an error if `_reduced_word` was done by the `lazy_attribute`. The iterator overwrites (the lazy attribute) `_reduced_word` if the word comes from there, so it does not get computed twice. Otherwise it was a user created word and will never be identical (not just equals) to an element created from the iterator.\n\n> Two solutions are:\n> * write the lazy attribute in the real case so that it gives a word in `range(n)`\n\nThis is what I would do. Although we might be better off just doing our own implementation using a list (which we mutate) and starting with `self.domain()`.",
    "created_at": "2016-04-13T13:24:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120049",
    "user": "tscrim"
}
```

Replying to [comment:211 stumpc5]:
> Travis: Also, you introduced `_reduced_word` to be a lazy attribute. This has a few drawbacks: `not self._reduced_word is None` in the length function in `reflection_group_real.py` is never triggered, and `_reduced_word` is now either a word in the index set (if the lazy attribute is triggered in the real case), or a word in `range(n)` if one has gotten it through the iterator. This way, the method `reduced_word` in the real case is always executed, even though the reduced word is already known.
Doing this simplified the code and probably got us a small speedup. Yet, this is a bug in my implementation.  However, I'm not sure how much it is worth it to compute the length of an arbitrary element without computing its reduced word. If it becomes that time critical for someone, we can get them an `algorithm` option for `length()`.

> This way, the method `reduced_word` in the real case is always executed, even though the reduced word is already known.

This doesn't make sense. If anything `reduced_word()` will throw an error if `_reduced_word` was done by the `lazy_attribute`. The iterator overwrites (the lazy attribute) `_reduced_word` if the word comes from there, so it does not get computed twice. Otherwise it was a user created word and will never be identical (not just equals) to an element created from the iterator.

> Two solutions are:
> * write the lazy attribute in the real case so that it gives a word in `range(n)`

This is what I would do. Although we might be better off just doing our own implementation using a list (which we mutate) and starting with `self.domain()`.



---

archive/issue_comments_120050.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-13T14:58:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120050",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120051.json:
```json
{
    "body": "Done with \"write the lazy attribute in the real case so that it gives a word in range(n)\". This is now moved to cython (speed gain ~100 times faster).",
    "created_at": "2016-04-13T15:00:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120051",
    "user": "stumpc5"
}
```

Done with "write the lazy attribute in the real case so that it gives a word in range(n)". This is now moved to cython (speed gain ~100 times faster).



---

archive/issue_comments_120052.json:
```json
{
    "body": "One big issue that is still waiting for me to fix it is that it remains unclear if we want a left or right action. The implementation is a left action, but e.g. #20402 assumes a right action. I will get to this before the weekend and would then hope for the code to become stable and some final reviewing :-)",
    "created_at": "2016-04-13T15:04:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120052",
    "user": "stumpc5"
}
```

One big issue that is still waiting for me to fix it is that it remains unclear if we want a left or right action. The implementation is a left action, but e.g. #20402 assumes a right action. I will get to this before the weekend and would then hope for the code to become stable and some final reviewing :-)



---

archive/issue_comments_120053.json:
```json
{
    "body": "Just FYI - you have reverted a python3 compatible change with this:\n\n```diff\n-                ....:     print('%s %s'%(w.reduced_word(), w.is_regular(W.coxeter_number())))\n+                ....:     print w.reduced_word(), w.is_regular(h)\n```\n\nI think `2to3` can handle this, but I'm just stating a paranoia about it.\n\nAlthough I would advocate for making doctests that avoid printing through an iteration altogether (really annoying failures when the iteration order changes), but this isn't really a big issue.\n\nI will take a more detailed look at the recent changes before the weekend.",
    "created_at": "2016-04-13T15:43:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120053",
    "user": "tscrim"
}
```

Just FYI - you have reverted a python3 compatible change with this:

```diff
-                ....:     print('%s %s'%(w.reduced_word(), w.is_regular(W.coxeter_number())))
+                ....:     print w.reduced_word(), w.is_regular(h)
```

I think `2to3` can handle this, but I'm just stating a paranoia about it.

Although I would advocate for making doctests that avoid printing through an iteration altogether (really annoying failures when the iteration order changes), but this isn't really a big issue.

I will take a more detailed look at the recent changes before the weekend.



---

archive/issue_comments_120054.json:
```json
{
    "body": "Replying to [comment:216 stumpc5]:\n> One big issue that is still waiting for me to fix it is that it remains unclear if we want a left or right action. The implementation is a left action, but e.g. #20402 assumes a right action. I will get to this before the weekend and would then hope for the code to become stable and some final reviewing :-)\n\nHow much additional code would it take to make it work on both sides, allowing the user to do `ReflectionGroup(..., action=\"right\")`?",
    "created_at": "2016-04-13T16:48:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120054",
    "user": "nthiery"
}
```

Replying to [comment:216 stumpc5]:
> One big issue that is still waiting for me to fix it is that it remains unclear if we want a left or right action. The implementation is a left action, but e.g. #20402 assumes a right action. I will get to this before the weekend and would then hope for the code to become stable and some final reviewing :-)

How much additional code would it take to make it work on both sides, allowing the user to do `ReflectionGroup(..., action="right")`?



---

archive/issue_comments_120055.json:
```json
{
    "body": "> Just FYI - you have reverted a python3 compatible change with this\n\nI am sure there are reasons for that python3 convention, but I do prefer simple to read code. Anyway, I can also do the other if you prefer.\n\n> How much additional code would it take to make it work on both sides,\n\nI was afraid you'd ask that. in my eyes: too much. The elements are considered as permutations, words, and matrices at the same time (and there are even two types of words, in simples and in all reflections, and the simple words have wired properties in the non-real case), making options would pollute the code just soo much, I think, and would introduce so many possible mistakes. I prefer to have clean and fast code, that is hopefully getting better than chevie, eventually. Once that is achieved, I am getting in favour with adding another layer of user friendliness.",
    "created_at": "2016-04-13T17:23:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120055",
    "user": "stumpc5"
}
```

> Just FYI - you have reverted a python3 compatible change with this

I am sure there are reasons for that python3 convention, but I do prefer simple to read code. Anyway, I can also do the other if you prefer.

> How much additional code would it take to make it work on both sides,

I was afraid you'd ask that. in my eyes: too much. The elements are considered as permutations, words, and matrices at the same time (and there are even two types of words, in simples and in all reflections, and the simple words have wired properties in the non-real case), making options would pollute the code just soo much, I think, and would introduce so many possible mistakes. I prefer to have clean and fast code, that is hopefully getting better than chevie, eventually. Once that is achieved, I am getting in favour with adding another layer of user friendliness.



---

archive/issue_comments_120056.json:
```json
{
    "body": "Replying to [comment:219 stumpc5]:\n> I was afraid you'd ask that.\n\n:-)\n\n> in my eyes: too much. The elements are considered as permutations,\n> words, and matrices at the same time (and there are even two types\n> of words, in simples and in all reflections, and the simple words\n> have wired properties in the non-real case), making options would\n> pollute the code just soo much, I think, and would introduce so many\n> possible mistakes. I prefer to have clean and fast code, that is\n> hopefully getting better than chevie, eventually. Once that is\n> achieved, I am getting in favour with adding another layer of user\n> friendliness.\n\nFair enough: let's focus on getting things to work.\n\nOne thing though is that a lot of features are completely symmetric\n(e.g. the reverse of a word is a word). The only spot where things\ndiffer is when there is an explicit action. In my experience when\nimplementing representations of semigroups, it was often possible to\nabstracted everything out by manipulating elements in the code as\nfunctions whenever there is an action involved (sorry, I know, this is\na big vague).\n\nOf course, a prerequisite for implementing this seamlessly is that\npermutation groups themselves would allow for both left and right\nactions.\n\nCheers,\n                                        Nicolas",
    "created_at": "2016-04-13T17:59:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120056",
    "user": "nthiery"
}
```

Replying to [comment:219 stumpc5]:
> I was afraid you'd ask that.

:-)

> in my eyes: too much. The elements are considered as permutations,
> words, and matrices at the same time (and there are even two types
> of words, in simples and in all reflections, and the simple words
> have wired properties in the non-real case), making options would
> pollute the code just soo much, I think, and would introduce so many
> possible mistakes. I prefer to have clean and fast code, that is
> hopefully getting better than chevie, eventually. Once that is
> achieved, I am getting in favour with adding another layer of user
> friendliness.

Fair enough: let's focus on getting things to work.

One thing though is that a lot of features are completely symmetric
(e.g. the reverse of a word is a word). The only spot where things
differ is when there is an explicit action. In my experience when
implementing representations of semigroups, it was often possible to
abstracted everything out by manipulating elements in the code as
functions whenever there is an action involved (sorry, I know, this is
a big vague).

Of course, a prerequisite for implementing this seamlessly is that
permutation groups themselves would allow for both left and right
actions.

Cheers,
                                        Nicolas



---

archive/issue_comments_120057.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-13T18:47:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120057",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120058.json:
```json
{
    "body": "Replying to [comment:219 stumpc5]:\n> > Just FYI - you have reverted a python3 compatible change with this\n> \n> I am sure there are reasons for that python3 convention, but I do prefer simple to read code. Anyway, I can also do the other if you prefer.\n\nIn python3, `print` becomes an actual function, so it needs the parentheses (which due to Python's handling of parentheses, `print(foo)` gets evaluated to `print foo`, but having a comma means `(foo, bar)` becomes a tuple). So to help make the doctests 2/3 compatible and to ease the eventual transition, I do prefer the way I had it or make it into a few examples and have a doctest which does check everything (without verbose).",
    "created_at": "2016-04-13T19:05:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120058",
    "user": "tscrim"
}
```

Replying to [comment:219 stumpc5]:
> > Just FYI - you have reverted a python3 compatible change with this
> 
> I am sure there are reasons for that python3 convention, but I do prefer simple to read code. Anyway, I can also do the other if you prefer.

In python3, `print` becomes an actual function, so it needs the parentheses (which due to Python's handling of parentheses, `print(foo)` gets evaluated to `print foo`, but having a comma means `(foo, bar)` becomes a tuple). So to help make the doctests 2/3 compatible and to ease the eventual transition, I do prefer the way I had it or make it into a few examples and have a doctest which does check everything (without verbose).



---

archive/issue_comments_120059.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-13T19:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120059",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120060.json:
```json
{
    "body": "Replying to [comment:222 tscrim]:\n> In python3, `print` becomes an actual function, so it needs the parentheses\n\nI see, doesn't make it easier to read though...",
    "created_at": "2016-04-13T19:16:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120060",
    "user": "stumpc5"
}
```

Replying to [comment:222 tscrim]:
> In python3, `print` becomes an actual function, so it needs the parentheses

I see, doesn't make it easier to read though...



---

archive/issue_comments_120061.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-13T19:44:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120061",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120062.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-13T20:23:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120062",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120063.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-15T06:16:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120063",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120064.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-15T06:38:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120064",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120065.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-15T06:47:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120065",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120066.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-15T13:24:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120066",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120067.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-15T16:37:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120067",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120068.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-15T16:47:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120068",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120069.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-15T19:14:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120069",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120070.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-16T13:52:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120070",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120071.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-17T07:52:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120071",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120072.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-04-17T11:12:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120072",
    "user": "stumpc5"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_120073.json:
```json
{
    "body": "Changing keywords from \"reflection group, days49, days 64.5\" to \"reflection group, days49, days64.5, days80\".",
    "created_at": "2016-04-17T11:12:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120073",
    "user": "stumpc5"
}
```

Changing keywords from "reflection group, days49, days 64.5" to "reflection group, days49, days64.5, days80".



---

archive/issue_comments_120074.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-20T01:54:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120074",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120075.json:
```json
{
    "body": "I've done a few little beautification things. If my changes are good, then we can set this to a positive review.",
    "created_at": "2016-04-20T01:55:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120075",
    "user": "tscrim"
}
```

I've done a few little beautification things. If my changes are good, then we can set this to a positive review.



---

archive/issue_comments_120076.json:
```json
{
    "body": "Thanks Travis, looking forward to have this to positive review and then merged!",
    "created_at": "2016-04-20T07:46:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120076",
    "user": "stumpc5"
}
```

Thanks Travis, looking forward to have this to positive review and then merged!



---

archive/issue_comments_120077.json:
```json
{
    "body": "FYI - Patchbots seem happy with it.",
    "created_at": "2016-04-20T14:59:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120077",
    "user": "tscrim"
}
```

FYI - Patchbots seem happy with it.



---

archive/issue_comments_120078.json:
```json
{
    "body": "> FYI - Patchbots seem happy with it.\n\nyes, but it didn't test the gap3 stuff again (I just asked Frederic how to get the patchbot to also test those), and also we still have two new startup modules (though the patchbot sees them without indicating it, see http://patchbot.sagemath.org/log/11187/Ubuntu/14.04/x86_64/3.13.0-85-generic/librae/2016-04-20%2010:00:02?plugin=plugins.startup_modules&diff=/log/0/Ubuntu/14.04/x86_64/3.13.0-85-generic/librae/2016-04-12%2018%3A16%3A59&ticket=11187&base=7.2.beta4)",
    "created_at": "2016-04-20T15:04:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120078",
    "user": "stumpc5"
}
```

> FYI - Patchbots seem happy with it.

yes, but it didn't test the gap3 stuff again (I just asked Frederic how to get the patchbot to also test those), and also we still have two new startup modules (though the patchbot sees them without indicating it, see http://patchbot.sagemath.org/log/11187/Ubuntu/14.04/x86_64/3.13.0-85-generic/librae/2016-04-20%2010:00:02?plugin=plugins.startup_modules&diff=/log/0/Ubuntu/14.04/x86_64/3.13.0-85-generic/librae/2016-04-12%2018%3A16%3A59&ticket=11187&base=7.2.beta4)



---

archive/issue_comments_120079.json:
```json
{
    "body": "To now run the doctests `# optional - gap3`, it seems I cannot use the patchbot anymore. Should I then do instead\n\n```\nsage-patchbot/sage -tp 4 --all --long --optional=gap3\n```\n\nmyself?",
    "created_at": "2016-04-20T15:16:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120079",
    "user": "stumpc5"
}
```

To now run the doctests `# optional - gap3`, it seems I cannot use the patchbot anymore. Should I then do instead

```
sage-patchbot/sage -tp 4 --all --long --optional=gap3
```

myself?



---

archive/issue_comments_120080.json:
```json
{
    "body": "I think that will be best. I was going to try this afternoon to see if I can avoid importing those categories at startup, but I might not be successful at it.",
    "created_at": "2016-04-20T15:19:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120080",
    "user": "tscrim"
}
```

I think that will be best. I was going to try this afternoon to see if I can avoid importing those categories at startup, but I might not be successful at it.



---

archive/issue_comments_120081.json:
```json
{
    "body": "Replying to [comment:243 stumpc5]:\n> To now run the doctests `# optional - gap3`, it seems I cannot use the patchbot anymore. Should I then do instead\n> {{{\n> sage-patchbot/sage -tp 4 --all --long --optional=gap3\n> }}}\n> myself?\nI'd use `--optional=gap3,sage`",
    "created_at": "2016-04-20T15:20:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120081",
    "user": "dimpase"
}
```

Replying to [comment:243 stumpc5]:
> To now run the doctests `# optional - gap3`, it seems I cannot use the patchbot anymore. Should I then do instead
> {{{
> sage-patchbot/sage -tp 4 --all --long --optional=gap3
> }}}
> myself?
I'd use `--optional=gap3,sage`



---

archive/issue_comments_120082.json:
```json
{
    "body": "Replying to [comment:245 dimpase]:\n> I'd use `--optional=gap3,sage` \n\nwow, you are silently reading these hundreds of comments to now help out -- impressive, thanks!",
    "created_at": "2016-04-20T15:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120082",
    "user": "stumpc5"
}
```

Replying to [comment:245 dimpase]:
> I'd use `--optional=gap3,sage` 

wow, you are silently reading these hundreds of comments to now help out -- impressive, thanks!



---

archive/issue_comments_120083.json:
```json
{
    "body": "To remove `generalized_coxeter_groups.py` from the startup would either require making it a lazy import in `coxeter_groups.py` or making `coxeter_groups.py` not being imported at startup. I think the better strategy is to leave things how they are as an incentive to have `coxeter_groups.py` not be imported at startup. (Also it is only a net +1 imported at startup.)",
    "created_at": "2016-04-20T20:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120083",
    "user": "tscrim"
}
```

To remove `generalized_coxeter_groups.py` from the startup would either require making it a lazy import in `coxeter_groups.py` or making `coxeter_groups.py` not being imported at startup. I think the better strategy is to leave things how they are as an incentive to have `coxeter_groups.py` not be imported at startup. (Also it is only a net +1 imported at startup.)



---

archive/issue_comments_120084.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-21T08:12:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120084",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120085.json:
```json
{
    "body": "I also copied the other optional from the patchbot:\n\n```\n./sage -tp 6 --all --long --optional=ccache,gap3,mpir,patchbot,python2,sage\n```\n\n`@`Frederic, is that what I should do? Would it be hard (desirable?) to tell the patchbot (maybe in `config_file.json`) which optional tests should in general be run?",
    "created_at": "2016-04-21T08:25:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120085",
    "user": "stumpc5"
}
```

I also copied the other optional from the patchbot:

```
./sage -tp 6 --all --long --optional=ccache,gap3,mpir,patchbot,python2,sage
```

`@`Frederic, is that what I should do? Would it be hard (desirable?) to tell the patchbot (maybe in `config_file.json`) which optional tests should in general be run?



---

archive/issue_comments_120086.json:
```json
{
    "body": "there are still a few doctest failures that need to be fixed:\n\n```\nstumpc5@findstat:~/web-findstat/sage-patchbot$ ./sage -tp 6 --long --optional=ccache,gap3,mpir,patchbot,python2,sage src/sage/combinat/root_system/coxeter_group.py\ntoo many failed tests, not using stored timings\nRunning doctests with ID 2016-04-21-13-13-55-f420497c.\nGit branch: t/11187/public/11187\nUsing --optional=ccache,gap3,mpir,patchbot,python2,sage\nDoctesting 1 file using 6 threads.\nsage -t --long src/sage/combinat/root_system/coxeter_group.py\n**********************************************************************\nFile \"src/sage/combinat/root_system/coxeter_group.py\", line 205, in sage.combinat.root_system.coxeter_group.CoxeterGroupAsPermutationGroup.__init__\nFailed example:\n    TestSuite(W).run()             # optional - gap3\nExpected nothing\nGot:\n    Failure in _test_well_generated:\n    Traceback (most recent call last):\n      File \"/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py\", line 283, in run\n        test_method(tester = tester)\n      File \"/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/categories/finite_complex_reflection_groups.py\", line 628, in _test_well_generated\n        tester.assertEqual(self.number_of_simple_reflections(), self.rank())\n      File \"/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python/unittest/case.py\", line 515, in assertEqual\n        assertion_func(first, second, msg=msg)\n      File \"/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python/unittest/case.py\", line 508, in _baseAssertEqual\n        raise self.failureException(msg)\n    AssertionError: 3 != 27\n    ------------------------------------------------------------\n    The following tests failed: _test_well_generated\n**********************************************************************\nFile \"src/sage/combinat/root_system/coxeter_group.py\", line 231, in sage.combinat.root_system.coxeter_group.CoxeterGroupAsPermutationGroup._element_class\nFailed example:\n    W._element_class() is W.element_class                      # optional - gap3\nException raised:\n    Traceback (most recent call last):\n      File \"/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.combinat.root_system.coxeter_group.CoxeterGroupAsPermutationGroup._element_class[1]>\", line 1, in <module>\n        W._element_class() is W.element_class                      # optional - gap3\n      File \"sage/structure/parent.pyx\", line 854, in sage.structure.parent.Parent.__getattr__ (/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/src/build/cythonized/sage/structure/parent.c:8083)\n        attr = getattr_from_other_class(self, self._category.parent_class, name)\n      File \"sage/structure/misc.pyx\", line 253, in sage.structure.misc.getattr_from_other_class (/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/src/build/cythonized/sage/structure/misc.c:1763)\n        raise dummy_attribute_error\n    AttributeError: 'CoxeterMatrixGroup_with_category' object has no attribute '_element_class'\n**********************************************************************\n2 items had failures:\n   1 of   4 in sage.combinat.root_system.coxeter_group.CoxeterGroupAsPermutationGroup.__init__\n   1 of   3 in sage.combinat.root_system.coxeter_group.CoxeterGroupAsPermutationGroup._element_class\n    [54 tests, 2 failures, 10.25 s]\n----------------------------------------------------------------------\nsage -t --long src/sage/combinat/root_system/coxeter_group.py  # 2 doctests failed\n```\n",
    "created_at": "2016-04-21T11:20:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120086",
    "user": "stumpc5"
}
```

there are still a few doctest failures that need to be fixed:

```
stumpc5@findstat:~/web-findstat/sage-patchbot$ ./sage -tp 6 --long --optional=ccache,gap3,mpir,patchbot,python2,sage src/sage/combinat/root_system/coxeter_group.py
too many failed tests, not using stored timings
Running doctests with ID 2016-04-21-13-13-55-f420497c.
Git branch: t/11187/public/11187
Using --optional=ccache,gap3,mpir,patchbot,python2,sage
Doctesting 1 file using 6 threads.
sage -t --long src/sage/combinat/root_system/coxeter_group.py
**********************************************************************
File "src/sage/combinat/root_system/coxeter_group.py", line 205, in sage.combinat.root_system.coxeter_group.CoxeterGroupAsPermutationGroup.__init__
Failed example:
    TestSuite(W).run()             # optional - gap3
Expected nothing
Got:
    Failure in _test_well_generated:
    Traceback (most recent call last):
      File "/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py", line 283, in run
        test_method(tester = tester)
      File "/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/categories/finite_complex_reflection_groups.py", line 628, in _test_well_generated
        tester.assertEqual(self.number_of_simple_reflections(), self.rank())
      File "/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python/unittest/case.py", line 515, in assertEqual
        assertion_func(first, second, msg=msg)
      File "/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python/unittest/case.py", line 508, in _baseAssertEqual
        raise self.failureException(msg)
    AssertionError: 3 != 27
    ------------------------------------------------------------
    The following tests failed: _test_well_generated
**********************************************************************
File "src/sage/combinat/root_system/coxeter_group.py", line 231, in sage.combinat.root_system.coxeter_group.CoxeterGroupAsPermutationGroup._element_class
Failed example:
    W._element_class() is W.element_class                      # optional - gap3
Exception raised:
    Traceback (most recent call last):
      File "/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.combinat.root_system.coxeter_group.CoxeterGroupAsPermutationGroup._element_class[1]>", line 1, in <module>
        W._element_class() is W.element_class                      # optional - gap3
      File "sage/structure/parent.pyx", line 854, in sage.structure.parent.Parent.__getattr__ (/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/src/build/cythonized/sage/structure/parent.c:8083)
        attr = getattr_from_other_class(self, self._category.parent_class, name)
      File "sage/structure/misc.pyx", line 253, in sage.structure.misc.getattr_from_other_class (/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/src/build/cythonized/sage/structure/misc.c:1763)
        raise dummy_attribute_error
    AttributeError: 'CoxeterMatrixGroup_with_category' object has no attribute '_element_class'
**********************************************************************
2 items had failures:
   1 of   4 in sage.combinat.root_system.coxeter_group.CoxeterGroupAsPermutationGroup.__init__
   1 of   3 in sage.combinat.root_system.coxeter_group.CoxeterGroupAsPermutationGroup._element_class
    [54 tests, 2 failures, 10.25 s]
----------------------------------------------------------------------
sage -t --long src/sage/combinat/root_system/coxeter_group.py  # 2 doctests failed
```




---

archive/issue_comments_120087.json:
```json
{
    "body": "And then, there are also a few in `gap3.py`, I am not sure if we have to treat them, but if anyone knows how to do it, please go ahead (this is also necessary to get the package to be optional rather than experimental...\n\n```\nstumpc5@findstat:~/web-findstat/sage-patchbot$ ./sage -tp 6 --long --optional=ccache,gap3,mpir,patchbot,python2,sage src/sage/interfaces/gap3.py\ntoo many failed tests, not using stored timings\nRunning doctests with ID 2016-04-21-13-15-35-52e24ead.\nGit branch: t/11187/public/11187\nUsing --optional=ccache,gap3,mpir,patchbot,python2,sage\nDoctesting 1 file using 6 threads.\nsage -t --long src/sage/interfaces/gap3.py\n**********************************************************************\nFile \"src/sage/interfaces/gap3.py\", line 393, in sage.interfaces.gap3.Gap3._execute_line\nFailed example:\n    f([1,2,3])                                   #optional - gap3\nExpected:\n    Traceback (most recent call last):\n    ...\n    RuntimeError: Gap3 produced error output   \n    Error, List Element: <position> must be a positive integer at\n    return L[0] ... in\n    ... called from\n    main loop\n    brk> quit;\n    ...\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.interfaces.gap3.Gap3._execute_line[3]>\", line 1, in <module>\n        f([Integer(1),Integer(2),Integer(3)])                                   #optional - gap3\n      File \"/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/interfaces/interface.py\", line 805, in __call__\n        return getattr(P, self.name())(*args)\n      File \"/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/interfaces/interface.py\", line 607, in __call__\n        return self._parent.function_call(self._name, list(args), kwds)\n      File \"/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/interfaces/gap.py\", line 921, in function_call\n        res = self.eval(marker+cmd)\n      File \"/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/interfaces/gap.py\", line 573, in eval\n        result = Expect.eval(self, input_line, **kwds)\n      File \"/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/interfaces/expect.py\", line 1239, in eval\n        for L in code.split('\\n') if L != ''])\n      File \"/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/interfaces/gap.py\", line 771, in _eval_line\n        raise RuntimeError(message)\n    RuntimeError: Gap3 produced error output\n    Error, Function: <function> must be a function\n    <BLANKLINE>\n       executing __SAGE_LAST__:=\"__SAGE_LAST__\";;x(sage0);;\n**********************************************************************\nFile \"src/sage/interfaces/gap3.py\", line 440, in sage.interfaces.gap3.Gap3.help\nFailed example:\n    m                                        #optional - gap3\nExpected:\n    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]\nGot:\n    <BLANKLINE>\n**********************************************************************\nFile \"src/sage/interfaces/gap3.py\", line 442, in sage.interfaces.gap3.Gap3.help\nFailed example:\n    m.Print()                                #optional - gap3\nExpected:\n    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]\nGot:\n    \"__SAGE_LAST__\"\n**********************************************************************\nFile \"src/sage/interfaces/gap3.py\", line 446, in sage.interfaces.gap3.Gap3.help\nFailed example:\n    m                                        #optional - gap3\nExpected:\n    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]\nGot:\n    <BLANKLINE>\n**********************************************************************\nFile \"src/sage/interfaces/gap3.py\", line 448, in sage.interfaces.gap3.Gap3.help\nFailed example:\n    m.Print()                                #optional - gap3\nExpected:\n    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]\nGot:\n    \"__SAGE_LAST__\"\n**********************************************************************\n2 items had failures:\n   1 of   5 in sage.interfaces.gap3.Gap3._execute_line\n   4 of  10 in sage.interfaces.gap3.Gap3.help\n    [108 tests, 5 failures, 7.01 s]\n----------------------------------------------------------------------\nsage -t --long src/sage/interfaces/gap3.py  # 5 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 15.7 seconds\n    cpu time: 2.2 seconds\n    cumulative wall time: 7.0 seconds\n```\n\n}}}",
    "created_at": "2016-04-21T11:21:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120087",
    "user": "stumpc5"
}
```

And then, there are also a few in `gap3.py`, I am not sure if we have to treat them, but if anyone knows how to do it, please go ahead (this is also necessary to get the package to be optional rather than experimental...

```
stumpc5@findstat:~/web-findstat/sage-patchbot$ ./sage -tp 6 --long --optional=ccache,gap3,mpir,patchbot,python2,sage src/sage/interfaces/gap3.py
too many failed tests, not using stored timings
Running doctests with ID 2016-04-21-13-15-35-52e24ead.
Git branch: t/11187/public/11187
Using --optional=ccache,gap3,mpir,patchbot,python2,sage
Doctesting 1 file using 6 threads.
sage -t --long src/sage/interfaces/gap3.py
**********************************************************************
File "src/sage/interfaces/gap3.py", line 393, in sage.interfaces.gap3.Gap3._execute_line
Failed example:
    f([1,2,3])                                   #optional - gap3
Expected:
    Traceback (most recent call last):
    ...
    RuntimeError: Gap3 produced error output   
    Error, List Element: <position> must be a positive integer at
    return L[0] ... in
    ... called from
    main loop
    brk> quit;
    ...
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.gap3.Gap3._execute_line[3]>", line 1, in <module>
        f([Integer(1),Integer(2),Integer(3)])                                   #optional - gap3
      File "/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/interfaces/interface.py", line 805, in __call__
        return getattr(P, self.name())(*args)
      File "/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/interfaces/interface.py", line 607, in __call__
        return self._parent.function_call(self._name, list(args), kwds)
      File "/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/interfaces/gap.py", line 921, in function_call
        res = self.eval(marker+cmd)
      File "/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/interfaces/gap.py", line 573, in eval
        result = Expect.eval(self, input_line, **kwds)
      File "/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/interfaces/expect.py", line 1239, in eval
        for L in code.split('\n') if L != ''])
      File "/srv/data/findstat.imp.fu-berlin.de/sage-patchbot/local/lib/python2.7/site-packages/sage/interfaces/gap.py", line 771, in _eval_line
        raise RuntimeError(message)
    RuntimeError: Gap3 produced error output
    Error, Function: <function> must be a function
    <BLANKLINE>
       executing __SAGE_LAST__:="__SAGE_LAST__";;x(sage0);;
**********************************************************************
File "src/sage/interfaces/gap3.py", line 440, in sage.interfaces.gap3.Gap3.help
Failed example:
    m                                        #optional - gap3
Expected:
    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]
Got:
    <BLANKLINE>
**********************************************************************
File "src/sage/interfaces/gap3.py", line 442, in sage.interfaces.gap3.Gap3.help
Failed example:
    m.Print()                                #optional - gap3
Expected:
    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]
Got:
    "__SAGE_LAST__"
**********************************************************************
File "src/sage/interfaces/gap3.py", line 446, in sage.interfaces.gap3.Gap3.help
Failed example:
    m                                        #optional - gap3
Expected:
    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]
Got:
    <BLANKLINE>
**********************************************************************
File "src/sage/interfaces/gap3.py", line 448, in sage.interfaces.gap3.Gap3.help
Failed example:
    m.Print()                                #optional - gap3
Expected:
    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]
Got:
    "__SAGE_LAST__"
**********************************************************************
2 items had failures:
   1 of   5 in sage.interfaces.gap3.Gap3._execute_line
   4 of  10 in sage.interfaces.gap3.Gap3.help
    [108 tests, 5 failures, 7.01 s]
----------------------------------------------------------------------
sage -t --long src/sage/interfaces/gap3.py  # 5 doctests failed
----------------------------------------------------------------------
Total time for all tests: 15.7 seconds
    cpu time: 2.2 seconds
    cumulative wall time: 7.0 seconds
```

}}}



---

archive/issue_comments_120088.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-21T13:40:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120088",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120089.json:
```json
{
    "body": "not a good idea in general to use a bare except:\n\n```\nexcept:\n```\n\nrather find what exception it is supposed to catch",
    "created_at": "2016-04-21T13:43:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120089",
    "user": "chapoton"
}
```

not a good idea in general to use a bare except:

```
except:
```

rather find what exception it is supposed to catch



---

archive/issue_comments_120090.json:
```json
{
    "body": "I fixed the errors in `combinat/root_system/coxeter_group.py` (to which, we should be able to do most (all) of that functionality without appealing to GAP3 and we should probably fold that into `(Irreducible)RealReflectionGroup` at some point). The latter errors are indicating issues with the interface, so I would just wait on those until we do #20393. Since `gap3` is an experimental package, we are not strictly required to have all `# optional - gap3` doctests pass.",
    "created_at": "2016-04-21T13:44:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120090",
    "user": "tscrim"
}
```

I fixed the errors in `combinat/root_system/coxeter_group.py` (to which, we should be able to do most (all) of that functionality without appealing to GAP3 and we should probably fold that into `(Irreducible)RealReflectionGroup` at some point). The latter errors are indicating issues with the interface, so I would just wait on those until we do #20393. Since `gap3` is an experimental package, we are not strictly required to have all `# optional - gap3` doctests pass.



---

archive/issue_comments_120091.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-21T13:45:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120091",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120092.json:
```json
{
    "body": "Replying to [comment:253 chapoton]:\n> not a good idea in general to use a bare except:\n> {{{\n> except:\n> }}}\n> rather find what exception it is supposed to catch\n\nRight, good catch. I'm going to try and find the precise error that gets raised, but I've pushed a hack fix for now.",
    "created_at": "2016-04-21T13:47:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120092",
    "user": "tscrim"
}
```

Replying to [comment:253 chapoton]:
> not a good idea in general to use a bare except:
> {{{
> except:
> }}}
> rather find what exception it is supposed to catch

Right, good catch. I'm going to try and find the precise error that gets raised, but I've pushed a hack fix for now.



---

archive/issue_comments_120093.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-21T13:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120093",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120094.json:
```json
{
    "body": "Replying to [comment:256 tscrim]:\n> Replying to [comment:253 chapoton]:\n> > not a good idea in general to use a bare except:\n> > {{{\n> > except:\n> > }}}\n> > rather find what exception it is supposed to catch\n> \n> Right, good catch. I'm going to try and find the precise error that gets raised, but I've pushed a hack fix for now.\n\nIt only throws an `AttributeError`, and I have changed it to catch only that.",
    "created_at": "2016-04-21T13:52:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120094",
    "user": "tscrim"
}
```

Replying to [comment:256 tscrim]:
> Replying to [comment:253 chapoton]:
> > not a good idea in general to use a bare except:
> > {{{
> > except:
> > }}}
> > rather find what exception it is supposed to catch
> 
> Right, good catch. I'm going to try and find the precise error that gets raised, but I've pushed a hack fix for now.

It only throws an `AttributeError`, and I have changed it to catch only that.



---

archive/issue_comments_120095.json:
```json
{
    "body": "Thanks for the fixes, I am doing another round of doctests now...",
    "created_at": "2016-04-21T15:14:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120095",
    "user": "stumpc5"
}
```

Thanks for the fixes, I am doing another round of doctests now...



---

archive/issue_comments_120096.json:
```json
{
    "body": "okay, the only remaining failures are\n\n```\nsage -t --long src/sage/tests/cmdline.py  # 1 doctest failed\nsage -t --long src/sage/repl/interpreter.py  # 1 doctest failed\nsage -t --long src/sage/parallel/map_reduce.py  # 1 doctest failed\nsage -t --long src/sage/interfaces/gap3.py  # 5 doctests failed\nsage -t --long src/sage/repl/interface_magic.py  # 1 doctest failed\n```\n\nof which we are only responsible for `gap3.py`. I'd thus suggest to set this to positive review...",
    "created_at": "2016-04-21T18:17:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120096",
    "user": "stumpc5"
}
```

okay, the only remaining failures are

```
sage -t --long src/sage/tests/cmdline.py  # 1 doctest failed
sage -t --long src/sage/repl/interpreter.py  # 1 doctest failed
sage -t --long src/sage/parallel/map_reduce.py  # 1 doctest failed
sage -t --long src/sage/interfaces/gap3.py  # 5 doctests failed
sage -t --long src/sage/repl/interface_magic.py  # 1 doctest failed
```

of which we are only responsible for `gap3.py`. I'd thus suggest to set this to positive review...



---

archive/issue_comments_120097.json:
```json
{
    "body": "Replying to [comment:260 stumpc5]:\n> okay, the only remaining failures are\n> {{{\n> sage -t --long src/sage/tests/cmdline.py  # 1 doctest failed\n> sage -t --long src/sage/repl/interpreter.py  # 1 doctest failed\n> sage -t --long src/sage/parallel/map_reduce.py  # 1 doctest failed\n> sage -t --long src/sage/interfaces/gap3.py  # 5 doctests failed\n> sage -t --long src/sage/repl/interface_magic.py  # 1 doctest failed\n> }}}\n> of which we are only responsible for `gap3.py`. I'd thus suggest to set this to positive review...\n\nHi travis, \n\nCan you send me the log of the `map_reduce.py` error ? On what kinds of machine was it ? Is it reproducible ?\n\nFlorent",
    "created_at": "2016-04-21T18:23:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120097",
    "user": "hivert"
}
```

Replying to [comment:260 stumpc5]:
> okay, the only remaining failures are
> {{{
> sage -t --long src/sage/tests/cmdline.py  # 1 doctest failed
> sage -t --long src/sage/repl/interpreter.py  # 1 doctest failed
> sage -t --long src/sage/parallel/map_reduce.py  # 1 doctest failed
> sage -t --long src/sage/interfaces/gap3.py  # 5 doctests failed
> sage -t --long src/sage/repl/interface_magic.py  # 1 doctest failed
> }}}
> of which we are only responsible for `gap3.py`. I'd thus suggest to set this to positive review...

Hi travis, 

Can you send me the log of the `map_reduce.py` error ? On what kinds of machine was it ? Is it reproducible ?

Florent



---

archive/issue_comments_120098.json:
```json
{
    "body": "Replying to [comment:261 hivert]:\n> Replying to [comment:260 stumpc5]:\n> > okay, the only remaining failures are\n> > {{{\n> > sage -t --long src/sage/tests/cmdline.py  # 1 doctest failed\n> > sage -t --long src/sage/repl/interpreter.py  # 1 doctest failed\n> > sage -t --long src/sage/parallel/map_reduce.py  # 1 doctest failed\n> > sage -t --long src/sage/interfaces/gap3.py  # 5 doctests failed\n> > sage -t --long src/sage/repl/interface_magic.py  # 1 doctest failed\n> > }}}\n> > of which we are only responsible for `gap3.py`. I'd thus suggest to set this to positive review...\n> \n> Hi travis,\n\n...christian.\n\n> Can you send me the log of the `map_reduce.py` error ? On what kinds of machine was it ? Is it reproducible ?\n\nI didn't log the test, but I can restart it now. If it stays, I will give you the details.",
    "created_at": "2016-04-21T18:27:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120098",
    "user": "stumpc5"
}
```

Replying to [comment:261 hivert]:
> Replying to [comment:260 stumpc5]:
> > okay, the only remaining failures are
> > {{{
> > sage -t --long src/sage/tests/cmdline.py  # 1 doctest failed
> > sage -t --long src/sage/repl/interpreter.py  # 1 doctest failed
> > sage -t --long src/sage/parallel/map_reduce.py  # 1 doctest failed
> > sage -t --long src/sage/interfaces/gap3.py  # 5 doctests failed
> > sage -t --long src/sage/repl/interface_magic.py  # 1 doctest failed
> > }}}
> > of which we are only responsible for `gap3.py`. I'd thus suggest to set this to positive review...
> 
> Hi travis,

...christian.

> Can you send me the log of the `map_reduce.py` error ? On what kinds of machine was it ? Is it reproducible ?

I didn't log the test, but I can restart it now. If it stays, I will give you the details.



---

archive/issue_comments_120099.json:
```json
{
    "body": "all tests pass this time, sorry for not being able to get you the error...",
    "created_at": "2016-04-21T19:05:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120099",
    "user": "stumpc5"
}
```

all tests pass this time, sorry for not being able to get you the error...



---

archive/issue_comments_120100.json:
```json
{
    "body": "Replying to [comment:263 stumpc5]:\n> all tests pass this time, sorry for not being able to get you the error...\n\nPlease let me know if it happen again.",
    "created_at": "2016-04-21T20:19:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120100",
    "user": "hivert"
}
```

Replying to [comment:263 stumpc5]:
> all tests pass this time, sorry for not being able to get you the error...

Please let me know if it happen again.



---

archive/issue_comments_120101.json:
```json
{
    "body": "Replying to [comment:264 hivert]:\n> Replying to [comment:263 stumpc5]:\n> > all tests pass this time, sorry for not being able to get you the error...\n> \n> Please let me know if it happen again.\n\nsee there for one problem with map_reduce:\n\nhttp://patchbot.sagemath.org/log/11187/Ubuntu/14.04/x86_64/3.16.0-60-generic/irma-atlas/2016-04-19%2009:27:11?short",
    "created_at": "2016-04-22T06:55:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120101",
    "user": "chapoton"
}
```

Replying to [comment:264 hivert]:
> Replying to [comment:263 stumpc5]:
> > all tests pass this time, sorry for not being able to get you the error...
> 
> Please let me know if it happen again.

see there for one problem with map_reduce:

http://patchbot.sagemath.org/log/11187/Ubuntu/14.04/x86_64/3.16.0-60-generic/irma-atlas/2016-04-19%2009:27:11?short



---

archive/issue_comments_120102.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-22T07:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120102",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120103.json:
```json
{
    "body": "Should I actually at all still push stuff into this ticket, or should we rather get it to positive review and do everything else in individual tickets? (I have redone the doctest for `reflection_group_real.py` after this last change.)",
    "created_at": "2016-04-22T07:08:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120103",
    "user": "stumpc5"
}
```

Should I actually at all still push stuff into this ticket, or should we rather get it to positive review and do everything else in individual tickets? (I have redone the doctest for `reflection_group_real.py` after this last change.)



---

archive/issue_comments_120104.json:
```json
{
    "body": "Please **stop touching anything here** if you want this to be positive reviewed soon and not in 4 more years.",
    "created_at": "2016-04-22T07:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120104",
    "user": "chapoton"
}
```

Please **stop touching anything here** if you want this to be positive reviewed soon and not in 4 more years.



---

archive/issue_comments_120105.json:
```json
{
    "body": "> if you want this to be positive reviewed soon and not in 4 more years.\n\nThat's a little harsh for my taste. Anyway, I agree that I should stop doing anything here, the list of improvements is at #20394.",
    "created_at": "2016-04-22T08:21:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120105",
    "user": "stumpc5"
}
```

> if you want this to be positive reviewed soon and not in 4 more years.

That's a little harsh for my taste. Anyway, I agree that I should stop doing anything here, the list of improvements is at #20394.



---

archive/issue_comments_120106.json:
```json
{
    "body": "sorry for that, I am not in a good mood..",
    "created_at": "2016-04-22T08:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120106",
    "user": "chapoton"
}
```

sorry for that, I am not in a good mood..



---

archive/issue_comments_120107.json:
```json
{
    "body": "I would rebase this to `beta5`, run the patchbot and do all doctests with the gap3 flag one more time.",
    "created_at": "2016-04-22T08:29:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120107",
    "user": "stumpc5"
}
```

I would rebase this to `beta5`, run the patchbot and do all doctests with the gap3 flag one more time.



---

archive/issue_comments_120108.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-22T10:14:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120108",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_120109.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-04-22T16:27:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120109",
    "user": "chapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_120110.json:
```json
{
    "body": "ok, guys, I think it is time. I am setting to `positive review` in the name of all authors/reviewers.",
    "created_at": "2016-04-22T16:27:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120110",
    "user": "chapoton"
}
```

ok, guys, I think it is time. I am setting to `positive review` in the name of all authors/reviewers.



---

archive/issue_comments_120111.json:
```json
{
    "body": "Great -- thanks to all of you for participating!",
    "created_at": "2016-04-22T18:18:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120111",
    "user": "stumpc5"
}
```

Great -- thanks to all of you for participating!



---

archive/issue_comments_120112.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-04-23T08:45:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11023",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11023#issuecomment-120112",
    "user": "vbraun"
}
```

Resolution: fixed
