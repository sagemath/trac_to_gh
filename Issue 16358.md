# Issue 16358: Improvements to ParkingFunctions

Issue created by migration from Trac.

Original creator: virmaux

Original creation time: 2014-07-01 03:08:26

CC:  zabrocki tscrim




---

Comment by virmaux created at 2014-07-01 03:38:11

New commits:


---

Comment by virmaux created at 2014-07-01 03:38:11

Changing component from PLEASE CHANGE to combinatorics.


---

Comment by virmaux created at 2014-07-01 18:00:13

Changing type from PLEASE CHANGE to enhancement.


---

Comment by git created at 2014-07-01 18:15:25

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by virmaux created at 2014-07-01 18:15:59

Changing status from new to needs_review.


---

Comment by virmaux created at 2014-07-01 18:15:59

New commits:
----
New commits:


---

Comment by chapoton created at 2014-07-02 08:22:11

Changing keywords from "" to "parking".


---

Comment by chapoton created at 2014-07-02 08:22:11

Hello,

could you please add examples to all 4 comparison functions ?

By the way, have you seen that #16463, also on parking functions, is needing review ?


---

Comment by chapoton created at 2014-07-02 08:22:11

Changing status from needs_review to needs_work.


---

Comment by git created at 2014-07-02 13:35:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by virmaux created at 2014-07-02 13:36:06

Hello,

I just added some examples.

I did not know about #16463, I will definitely have a look :)


---

Comment by virmaux created at 2014-07-02 13:37:02

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2014-07-02 15:07:34

Here is a branch with a few minor modifications. Note that ticket #15216 is also about similar problems. 

----
New commits:


---

Comment by virmaux created at 2014-07-02 19:33:33

Great, thanks a lot. Should I give a positive review ?


---

Comment by elixyre created at 2014-07-03 03:43:17

Changing status from needs_review to needs_work.


---

Comment by elixyre created at 2014-07-03 03:43:17

It looks good about the `_call_` problem but there is some others...

```
sage: PF4 = ParkingFunctions(4)
sage: sage: a = PF4.list()[36]
sage: sage: b = PF4([1,3,2,1])
sage: a.parent()
Traceback (most recent call last):
...
AttributeError: 'ParkingFunction_class' object has no attribute 'parent'
sage: a
[1, 4, 2, 1]
sage: b.parent()
Traceback (most recent call last):
...
AttributeError: 'ParkingFunction_class' object has no attribute 'parent'
```


It seems (to me) to be easily "rewritable" with that ticket #16465. (It could be a test of that design...).


---

Comment by virmaux created at 2014-07-03 17:06:13

So what about opening another ticket for it ? Re-design the entire code maybe deserves its own ticket ?


---

Comment by elixyre created at 2014-07-03 17:31:42

If you want. That is true that if this ticket depends of #16465 it will be accepted only in few months (or y.. except if someone better than me in english accept to improve(/do) the documentation and check the code).

Before close the ticket, I want try to append a `Parent`class to ParkingFunctions... (an ugly patch will be proposed this evening).


---

Comment by chapoton created at 2014-07-04 20:04:23

Maybe this large scale rework should rather be done in #15216 ?


---

Comment by git created at 2014-07-08 23:38:48

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by elixyre created at 2014-07-08 23:39:24

Changing status from needs_work to needs_review.


---

Comment by git created at 2014-07-09 02:16:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by virmaux created at 2014-07-09 02:23:32

I added the Element framework to the ParkingFunctions_n class.

I also corrected some lines with >79 charaters in the documention.

I am still not convinced that it is the right place to do so. Indeed, even if this is a painless improvement, the entire code need to be redo at some point. For example, it would be a good idea to give a structure of monoid, and to integrate the ParkingFunction_class inside the ElementMethods of ParkingFunctions_all. We coule also see the ParkingFunctions_all as a graded set on ParkingFunctions_n and I am not sure about what to do for getting all of this.

Anyway, I still think that it deserves a new ticket.


---

Comment by chapoton created at 2014-07-09 13:02:01

This will probably conflict with #16463 and will need to be rebased.


---

Comment by chapoton created at 2014-07-19 13:23:57

needs rebase, and coordination with #15216


---

Comment by chapoton created at 2014-07-19 13:23:57

Changing status from needs_review to needs_work.


---

Comment by git created at 2014-09-02 13:33:16

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-09-02 13:43:58

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2014-09-02 14:16:06

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by virmaux created at 2014-09-02 14:16:33

The second attempt to merge is successful, but there is still a lot of failing doctest...


---

Comment by git created at 2014-09-02 14:50:49

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-05-17 18:49:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2021-03-24 10:26:02

Can we close as duplicate of #15216 ?


---

Comment by chapoton created at 2021-03-24 10:26:02

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2021-03-24 21:34:18

Yes, although we should probably add the case in the ticket description to #15216.


---

Comment by tscrim created at 2021-03-24 21:34:18

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2021-03-25 06:32:31

Resolution: duplicate
