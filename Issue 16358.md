# Issue 16358: Improvements to ParkingFunctions

archive/issues_016358.json:
```json
{
    "body": "CC:  zabrocki tscrim\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/16595\n\n",
    "created_at": "2014-07-01T03:08:26Z",
    "labels": [
        "PLEASE CHANGE",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Improvements to ParkingFunctions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16358",
    "user": "virmaux"
}
```
CC:  zabrocki tscrim



Issue created by migration from https://trac.sagemath.org/ticket/16595





---

archive/issue_comments_214579.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-07-01T03:38:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214579",
    "user": "virmaux"
}
```

New commits:



---

archive/issue_comments_214580.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2014-07-01T03:38:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214580",
    "user": "virmaux"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_214581.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2014-07-01T18:00:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214581",
    "user": "virmaux"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_214582.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-01T18:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214582",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_214583.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-07-01T18:15:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214583",
    "user": "virmaux"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_214584.json:
```json
{
    "body": "New commits:\n----\nNew commits:",
    "created_at": "2014-07-01T18:15:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214584",
    "user": "virmaux"
}
```

New commits:
----
New commits:



---

archive/issue_comments_214585.json:
```json
{
    "body": "Changing keywords from \"\" to \"parking\".",
    "created_at": "2014-07-02T08:22:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214585",
    "user": "chapoton"
}
```

Changing keywords from "" to "parking".



---

archive/issue_comments_214586.json:
```json
{
    "body": "Hello,\n\ncould you please add examples to all 4 comparison functions ?\n\nBy the way, have you seen that #16463, also on parking functions, is needing review ?",
    "created_at": "2014-07-02T08:22:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214586",
    "user": "chapoton"
}
```

Hello,

could you please add examples to all 4 comparison functions ?

By the way, have you seen that #16463, also on parking functions, is needing review ?



---

archive/issue_comments_214587.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-07-02T08:22:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214587",
    "user": "chapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_214588.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-02T13:35:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214588",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_214589.json:
```json
{
    "body": "Hello,\n\nI just added some examples.\n\nI did not know about #16463, I will definitely have a look :)",
    "created_at": "2014-07-02T13:36:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214589",
    "user": "virmaux"
}
```

Hello,

I just added some examples.

I did not know about #16463, I will definitely have a look :)



---

archive/issue_comments_214590.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-07-02T13:37:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214590",
    "user": "virmaux"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_214591.json:
```json
{
    "body": "Here is a branch with a few minor modifications. Note that ticket #15216 is also about similar problems. \n\n----\nNew commits:",
    "created_at": "2014-07-02T15:07:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214591",
    "user": "chapoton"
}
```

Here is a branch with a few minor modifications. Note that ticket #15216 is also about similar problems. 

----
New commits:



---

archive/issue_comments_214592.json:
```json
{
    "body": "Great, thanks a lot. Should I give a positive review ?",
    "created_at": "2014-07-02T19:33:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214592",
    "user": "virmaux"
}
```

Great, thanks a lot. Should I give a positive review ?



---

archive/issue_comments_214593.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-07-03T03:43:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214593",
    "user": "elixyre"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_214594.json:
```json
{
    "body": "It looks good about the `_call_` problem but there is some others...\n\n```\nsage: PF4 = ParkingFunctions(4)\nsage: sage: a = PF4.list()[36]\nsage: sage: b = PF4([1,3,2,1])\nsage: a.parent()\nTraceback (most recent call last):\n...\nAttributeError: 'ParkingFunction_class' object has no attribute 'parent'\nsage: a\n[1, 4, 2, 1]\nsage: b.parent()\nTraceback (most recent call last):\n...\nAttributeError: 'ParkingFunction_class' object has no attribute 'parent'\n```\n\n\nIt seems (to me) to be easily \"rewritable\" with that ticket #16465. (It could be a test of that design...).",
    "created_at": "2014-07-03T03:43:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214594",
    "user": "elixyre"
}
```

It looks good about the `_call_` problem but there is some others...

```
sage: PF4 = ParkingFunctions(4)
sage: sage: a = PF4.list()[36]
sage: sage: b = PF4([1,3,2,1])
sage: a.parent()
Traceback (most recent call last):
...
AttributeError: 'ParkingFunction_class' object has no attribute 'parent'
sage: a
[1, 4, 2, 1]
sage: b.parent()
Traceback (most recent call last):
...
AttributeError: 'ParkingFunction_class' object has no attribute 'parent'
```


It seems (to me) to be easily "rewritable" with that ticket #16465. (It could be a test of that design...).



---

archive/issue_comments_214595.json:
```json
{
    "body": "So what about opening another ticket for it ? Re-design the entire code maybe deserves its own ticket ?",
    "created_at": "2014-07-03T17:06:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214595",
    "user": "virmaux"
}
```

So what about opening another ticket for it ? Re-design the entire code maybe deserves its own ticket ?



---

archive/issue_comments_214596.json:
```json
{
    "body": "If you want. That is true that if this ticket depends of #16465 it will be accepted only in few months (or y.. except if someone better than me in english accept to improve(/do) the documentation and check the code).\n\nBefore close the ticket, I want try to append a `Parent`class to ParkingFunctions... (an ugly patch will be proposed this evening).",
    "created_at": "2014-07-03T17:31:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214596",
    "user": "elixyre"
}
```

If you want. That is true that if this ticket depends of #16465 it will be accepted only in few months (or y.. except if someone better than me in english accept to improve(/do) the documentation and check the code).

Before close the ticket, I want try to append a `Parent`class to ParkingFunctions... (an ugly patch will be proposed this evening).



---

archive/issue_comments_214597.json:
```json
{
    "body": "Maybe this large scale rework should rather be done in #15216 ?",
    "created_at": "2014-07-04T20:04:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214597",
    "user": "chapoton"
}
```

Maybe this large scale rework should rather be done in #15216 ?



---

archive/issue_comments_214598.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-08T23:38:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214598",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_214599.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-07-08T23:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214599",
    "user": "elixyre"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_214600.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-09T02:16:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214600",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_214601.json:
```json
{
    "body": "I added the Element framework to the ParkingFunctions_n class.\n\nI also corrected some lines with >79 charaters in the documention.\n\nI am still not convinced that it is the right place to do so. Indeed, even if this is a painless improvement, the entire code need to be redo at some point. For example, it would be a good idea to give a structure of monoid, and to integrate the ParkingFunction_class inside the ElementMethods of ParkingFunctions_all. We coule also see the ParkingFunctions_all as a graded set on ParkingFunctions_n and I am not sure about what to do for getting all of this.\n\nAnyway, I still think that it deserves a new ticket.",
    "created_at": "2014-07-09T02:23:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214601",
    "user": "virmaux"
}
```

I added the Element framework to the ParkingFunctions_n class.

I also corrected some lines with >79 charaters in the documention.

I am still not convinced that it is the right place to do so. Indeed, even if this is a painless improvement, the entire code need to be redo at some point. For example, it would be a good idea to give a structure of monoid, and to integrate the ParkingFunction_class inside the ElementMethods of ParkingFunctions_all. We coule also see the ParkingFunctions_all as a graded set on ParkingFunctions_n and I am not sure about what to do for getting all of this.

Anyway, I still think that it deserves a new ticket.



---

archive/issue_comments_214602.json:
```json
{
    "body": "This will probably conflict with #16463 and will need to be rebased.",
    "created_at": "2014-07-09T13:02:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214602",
    "user": "chapoton"
}
```

This will probably conflict with #16463 and will need to be rebased.



---

archive/issue_comments_214603.json:
```json
{
    "body": "needs rebase, and coordination with #15216",
    "created_at": "2014-07-19T13:23:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214603",
    "user": "chapoton"
}
```

needs rebase, and coordination with #15216



---

archive/issue_comments_214604.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-07-19T13:23:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214604",
    "user": "chapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_214605.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-09-02T13:33:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214605",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_214606.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-09-02T13:43:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214606",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_214607.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-09-02T14:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214607",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_214608.json:
```json
{
    "body": "The second attempt to merge is successful, but there is still a lot of failing doctest...",
    "created_at": "2014-09-02T14:16:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214608",
    "user": "virmaux"
}
```

The second attempt to merge is successful, but there is still a lot of failing doctest...



---

archive/issue_comments_214609.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-09-02T14:50:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214609",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_214610.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-17T18:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214610",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_214611.json:
```json
{
    "body": "Can we close as duplicate of #15216 ?",
    "created_at": "2021-03-24T10:26:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214611",
    "user": "chapoton"
}
```

Can we close as duplicate of #15216 ?



---

archive/issue_comments_214612.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-03-24T10:26:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214612",
    "user": "chapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_214613.json:
```json
{
    "body": "Yes, although we should probably add the case in the ticket description to #15216.",
    "created_at": "2021-03-24T21:34:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214613",
    "user": "tscrim"
}
```

Yes, although we should probably add the case in the ticket description to #15216.



---

archive/issue_comments_214614.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-03-24T21:34:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214614",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_214615.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2021-03-25T06:32:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16358#issuecomment-214615",
    "user": "chapoton"
}
```

Resolution: duplicate
