# Issue 15179: Upgrade patchbot

Issue created by migration from Trac.

Original creator: robertwb

Original creation time: 2013-11-14 08:28:57

Fix error when no user config is specified, e.g.

http://patchbot.sagemath.org/log/15289/Fedora/19/x86_64/3.11.6-200.fc19.x86_64/desktop/2013-11-10%2007:19:58%20+0000?short

New spkg at http://sage.math.washington.edu/home/robertwb/patches/patchbot-2.0.1.spkg


---

Comment by robertwb created at 2013-11-14 08:29:08

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2013-11-21 17:00:12

Does the new upgraded patchbot check documentation properly? Because the Sage Patchbot 2.0 always reports

```
========== plugins.docbuild ==========
make doc
make: Nothing to be done for `doc'.
plugins.docbuild -- 0 seconds
========== end plugins.docbuild ==========
```

(see for example [http://patchbot.sagemath.org/log/15311/Fedora/19/x86_64/3.11.6-200.fc19.x86_64/desktop/2013-11-03%2006:54:45%20+0000?plugin=plugins.docbuild](http://patchbot.sagemath.org/log/15311/Fedora/19/x86_64/3.11.6-200.fc19.x86_64/desktop/2013-11-03%2006:54:45%20+0000?plugin=plugins.docbuild))

Also, the no-ASCII check should be removed, or at least made conditional on the fact that no encoding declaration exists like [PEP 263](http://www.python.org/dev/peps/pep-0263/).


---

Comment by robertwb created at 2013-11-21 19:21:49

Replying to [comment:2 jdemeyer]:
> Does the new upgraded patchbot check documentation properly? Because the Sage Patchbot 2.0 always reports
> {{{
> ========== plugins.docbuild ==========
> make doc
> make: Nothing to be done for `doc'.
> plugins.docbuild -- 0 seconds
> ========== end plugins.docbuild ==========
> }}}
> (see for example [http://patchbot.sagemath.org/log/15311/Fedora/19/x86_64/3.11.6-200.fc19.x86_64/desktop/2013-11-03%2006:54:45%20+0000?plugin=plugins.docbuild](http://patchbot.sagemath.org/log/15311/Fedora/19/x86_64/3.11.6-200.fc19.x86_64/desktop/2013-11-03%2006:54:45%20+0000?plugin=plugins.docbuild))

Um... does "make" always make the documentation these days?  That's something to look into more.

> Also, the no-ASCII check should be removed, or at least made conditional on the fact that no encoding declaration exists like [PEP 263](http://www.python.org/dev/peps/pep-0263/).

When was this decided? I thought the consensus was to avoid non-ASCII in Sage source files.


---

Comment by jdemeyer created at 2013-11-22 13:44:01

Replying to [comment:3 robertwb]:
> When was this decided?
I remember William saying once that of course we allow UTF-8 in Sage source code files.

> I thought the consensus was to avoid non-ASCII in Sage source files. 
I never heard about this. There is also no real reason for this, Sage already works with non-ASCII source files.


---

Comment by jdemeyer created at 2013-11-22 13:46:09

Replying to [comment:3 robertwb]:
> Um... does "make" always make the documentation these days?
It normally does. So I guess it's a problem with the patchbot setup. Does it use the standard Sage `Makefile`?


---

Comment by vbraun created at 2013-11-23 02:14:27

Just "make" included the docs for a long time, possibly always. Use "make build" to just compile.

Non-ascii characters are necessary, for starters many names can't be written with 7 bits. The world doesn't end at the US border ;-) Though on a separate ticket would be fine with me.

I've updated the patchbot from the description and its working, so positive review.


---

Comment by vbraun created at 2013-11-23 02:14:27

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-11-23 12:04:39

Replying to [comment:6 vbraun]:
> I've updated the patchbot from the description and its working
"working" in the sense that the documentation is actually built?


---

Comment by vbraun created at 2013-11-23 12:36:20

No, working in the sense that the issue in the ticket description is fixed.


---

Comment by schilly created at 2013-11-24 10:22:41

spkg is updated


---

Comment by jdemeyer created at 2013-11-24 17:27:21

Resolution: fixed
