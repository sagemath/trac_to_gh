# Issue 19014: A real matrix as LinearCode.basis()

Issue created by migration from https://trac.sagemath.org/ticket/19251

Original creator: ncohen

Original creation time: 2015-09-20 07:48:10

CC:  dlucas

Right now the .basis() methd returns the rows of a matrix, which naturally have no ambiant space and only the methods of `list`. This branch makes it an alias of `generator_matrix` (it used to be an alias of `.gens()`) so that this information remains available.

Note that this matrix is also an iterable, and that one can as easily iterate on the rows of that matrix as on the elements of the list it previously returned.


---

Comment by ncohen created at 2015-09-20 07:48:38

Changing status from new to needs_review.


---

Comment by git created at 2015-09-20 07:48:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dlucas created at 2015-09-20 09:37:24

Changing status from needs_review to needs_info.


---

Comment by dlucas created at 2015-09-20 09:37:24

Hello,

Just a question: if you're not adding a deprecation warning to this (which I agree with), what do you think about adding extra info to the docstring, like
"Returns a basis of `self` as a matrix of the ambient space of `self`"?


---

Comment by git created at 2015-09-20 09:45:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2015-09-20 09:45:37

Here it is!

Nathann


---

Comment by ncohen created at 2015-09-20 09:45:37

Changing status from needs_info to needs_review.


---

Comment by dlucas created at 2015-09-20 09:55:53

Changing status from needs_review to positive_review.


---

Comment by dlucas created at 2015-09-20 09:55:53

Great!

As all tests pass, I'm giving the green bulb.

David


---

Comment by ncohen created at 2015-09-20 10:06:52

Thanks!


---

Comment by vbraun created at 2015-09-20 18:47:44

Doctests fail.

Also, a matrix is not a basis. Matrices have row and column spans, its not clear which one you mean if you just return a matrix. This is how it is supposed to work:

```
sage: (QQ^3).span([(1,2,3)]).basis()
[
(1, 2, 3)
]
sage: _.universe()
Vector space of degree 3 and dimension 1 over Rational Field
Basis matrix:
[1 2 3]
```



---

Comment by vbraun created at 2015-09-20 18:47:44

Changing status from positive_review to needs_work.


---

Comment by ncohen created at 2015-09-20 19:39:22

Changing status from needs_work to positive_review.


---

Comment by ncohen created at 2015-09-20 19:39:22

Never discuss with a release manager.

Nathann


---

Comment by jsrn created at 2015-09-20 20:46:50

There's still something of a bug, though, since the type returned by `LinearCode.basis()` is `list`, while what Volker writes about is a `Sequence_generic`, which exactly supports the `universe` method.


---

Comment by vbraun created at 2015-09-25 08:26:50

+1 to returning an immutable Sequence instead of a list... are you going to implement that?


---

Comment by vbraun created at 2015-09-25 08:26:50

Changing status from positive_review to needs_info.


---

Comment by jsrn created at 2015-09-25 08:59:47

Changing status from needs_info to needs_work.


---

Comment by jsrn created at 2015-09-25 08:59:47

Ok, I'm on it...


---

Comment by git created at 2015-09-25 09:43:27

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jsrn created at 2015-09-25 09:44:14

Changing status from needs_work to needs_review.


---

Comment by kdilks created at 2016-01-06 01:52:25

One failing test in documentation due to formatting.


```
File "src/doc/en/prep/Quickstarts/Graphs-and-Discrete.rst", line 325, in doc.en.prep.Quickstarts.Graphs-and-Discrete
Failed example:
    D.basis()
Expected:
    [(1, 0, 1, 0, 1, 0, 1), (0, 1, 1, 0, 0, 1, 1), (0, 0, 0, 1, 1, 1, 1)]
Got:
    [
    (1, 0, 1, 0, 1, 0, 1),
    (0, 1, 1, 0, 0, 1, 1),
    (0, 0, 0, 1, 1, 1, 1)
    ]
```



---

Comment by kdilks created at 2016-01-06 01:52:25

Changing status from needs_review to needs_work.


---

Comment by git created at 2016-01-15 15:35:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jsrn created at 2016-01-15 17:52:51

Missed that one - thanks. Rebased and doctest fixed.


---

Comment by jsrn created at 2016-01-15 17:52:51

Changing status from needs_work to needs_review.


---

Comment by jsrn created at 2016-06-29 08:33:13

Changing keywords from "" to "beginner".


---

Comment by git created at 2016-08-25 12:35:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by danielaugot created at 2016-08-25 12:45:04

Hi

this is perfectly immutable in my session. Nevertheless, I add to resolve a conflict when pulling.

I set it to positive review

Daniel


---

Comment by danielaugot created at 2016-08-25 13:06:42

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-08-27 08:38:08

Resolution: fixed
