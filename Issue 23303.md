# Issue 23303: twisted warnings when pyopenssl installed

Issue created by migration from Trac.

Original creator: vdelecroix

Original creation time: 2017-07-25 12:26:24

With pyopenssl installed we have warnings when we quit the console (among others)

```
sage: quit
/opt/sage/local/lib/python2.7/site-packages/twisted/protocols/tls.py:41: DeprecationWarning: OpenSSL.rand is deprecated - you should use os.urandom instead
  from OpenSSL.SSL import Error, ZeroReturnError, WantReadError
:0: UserWarning: You do not have a working installation of the service_identity module: 'No module named service_identity'.  Please install it from <https://pypi.python.org/pypi/service_identity> and make sure all of its dependencies are satisfied.  Without the service_identity module, Twisted can perform only rudimentary TLS client hostname verification.  Many valid certificate/hostname mappings may be rejected.
```



---

Comment by dimpase created at 2017-07-25 13:14:51

the latest release of `twisted` still has this `from OpenSSL.SSL ...`, so I don't know what to do here, except suppressing the warning somehow.


---

Comment by vdelecroix created at 2017-07-25 13:33:06

Note that the deprecation on pyopenssl side is recent [#658](https://github.com/pyca/pyopenssl/pull/658). And their release from 5 days ago!


---

Comment by jdemeyer created at 2017-10-04 14:57:19

Resolution: duplicate


---

Comment by jdemeyer created at 2017-10-04 14:57:19

Duplicate of #22581.
