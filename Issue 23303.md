# Issue 23303: twisted warnings when pyopenssl installed

archive/issues_023303.json:
```json
{
    "body": "With pyopenssl installed we have warnings when we quit the console (among others)\n\n```\nsage: quit\n/opt/sage/local/lib/python2.7/site-packages/twisted/protocols/tls.py:41: DeprecationWarning: OpenSSL.rand is deprecated - you should use os.urandom instead\n  from OpenSSL.SSL import Error, ZeroReturnError, WantReadError\n:0: UserWarning: You do not have a working installation of the service_identity module: 'No module named service_identity'.  Please install it from <https://pypi.python.org/pypi/service_identity> and make sure all of its dependencies are satisfied.  Without the service_identity module, Twisted can perform only rudimentary TLS client hostname verification.  Many valid certificate/hostname mappings may be rejected.\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/23540\n\n",
    "created_at": "2017-07-25T12:26:24Z",
    "labels": [
        "packages: standard",
        "major",
        "bug"
    ],
    "title": "twisted warnings when pyopenssl installed",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23303",
    "user": "vdelecroix"
}
```
With pyopenssl installed we have warnings when we quit the console (among others)

```
sage: quit
/opt/sage/local/lib/python2.7/site-packages/twisted/protocols/tls.py:41: DeprecationWarning: OpenSSL.rand is deprecated - you should use os.urandom instead
  from OpenSSL.SSL import Error, ZeroReturnError, WantReadError
:0: UserWarning: You do not have a working installation of the service_identity module: 'No module named service_identity'.  Please install it from <https://pypi.python.org/pypi/service_identity> and make sure all of its dependencies are satisfied.  Without the service_identity module, Twisted can perform only rudimentary TLS client hostname verification.  Many valid certificate/hostname mappings may be rejected.
```


Issue created by migration from https://trac.sagemath.org/ticket/23540





---

archive/issue_comments_326111.json:
```json
{
    "body": "the latest release of `twisted` still has this `from OpenSSL.SSL ...`, so I don't know what to do here, except suppressing the warning somehow.",
    "created_at": "2017-07-25T13:14:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23303#issuecomment-326111",
    "user": "dimpase"
}
```

the latest release of `twisted` still has this `from OpenSSL.SSL ...`, so I don't know what to do here, except suppressing the warning somehow.



---

archive/issue_comments_326112.json:
```json
{
    "body": "Note that the deprecation on pyopenssl side is recent [#658](https://github.com/pyca/pyopenssl/pull/658). And their release from 5 days ago!",
    "created_at": "2017-07-25T13:33:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23303#issuecomment-326112",
    "user": "vdelecroix"
}
```

Note that the deprecation on pyopenssl side is recent [#658](https://github.com/pyca/pyopenssl/pull/658). And their release from 5 days ago!



---

archive/issue_comments_326113.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2017-10-04T14:57:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23303#issuecomment-326113",
    "user": "jdemeyer"
}
```

Resolution: duplicate



---

archive/issue_comments_326114.json:
```json
{
    "body": "Duplicate of #22581.",
    "created_at": "2017-10-04T14:57:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23303#issuecomment-326114",
    "user": "jdemeyer"
}
```

Duplicate of #22581.
