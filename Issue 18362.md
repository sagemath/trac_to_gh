# Issue 18362: Maxima integral wrong

archive/issues_018362.json:
```json
{
    "body": "CC:  rws nbruin\n\nSee [this sage-devel discussion](https://groups.google.com/forum/#!topic/sage-devel/GX-hYs0grdE).\n\n\n```\nsage: from sage.symbolic.integration.external import maxima_integrator\nsage: maxima_integrator(sqrt(cot(x)^2),x)\n-1/2*log(tan(x)^2 + 1) + log(tan(x))\nsage: maxima_integrator(cot(x),x)\nlog(sin(x))\nsage: maxima_integrator(sqrt(cot(x)^2),x,pi/4,3*pi/4)\n0\nsage: maxima_integrator(cot(x),x, pi/4,3*pi/4)\n0\nsage: f(x) = maxima_integrator(sqrt(cot(x)^2),x)\nsage: f(pi/4)\n-1/2*log(2)\nsage: f(3*pi/4)\nI*pi - 1/2*log(2)\n```\n\n\nBut that is wrong, as this function is nonnegative and usually positive.  The problem is in Maxima.\n\n\n```\n(%i1) domain:complex;\n(%o1)                               complex\n(%i2) sqrt(cot(x)^2);\n                                         2\n(%o2)                            sqrt(cot (x))\n(%i3) integrate(sqrt(cot(x)^2),x,%pi/4,%pi/4*3);\n(%o3)                                  0\n(%i4) integrate(sqrt(cot(x)^2),x);\n                                             2\n                                      log(tan (x) + 1)\n(%o4)                   log(tan(x)) - ----------------\n                                             2\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/18599\n\n",
    "created_at": "2015-06-03T13:40:38Z",
    "labels": [
        "calculus",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "Maxima integral wrong",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18362",
    "user": "kcrisman"
}
```
CC:  rws nbruin

See [this sage-devel discussion](https://groups.google.com/forum/#!topic/sage-devel/GX-hYs0grdE).


```
sage: from sage.symbolic.integration.external import maxima_integrator
sage: maxima_integrator(sqrt(cot(x)^2),x)
-1/2*log(tan(x)^2 + 1) + log(tan(x))
sage: maxima_integrator(cot(x),x)
log(sin(x))
sage: maxima_integrator(sqrt(cot(x)^2),x,pi/4,3*pi/4)
0
sage: maxima_integrator(cot(x),x, pi/4,3*pi/4)
0
sage: f(x) = maxima_integrator(sqrt(cot(x)^2),x)
sage: f(pi/4)
-1/2*log(2)
sage: f(3*pi/4)
I*pi - 1/2*log(2)
```


But that is wrong, as this function is nonnegative and usually positive.  The problem is in Maxima.


```
(%i1) domain:complex;
(%o1)                               complex
(%i2) sqrt(cot(x)^2);
                                         2
(%o2)                            sqrt(cot (x))
(%i3) integrate(sqrt(cot(x)^2),x,%pi/4,%pi/4*3);
(%o3)                                  0
(%i4) integrate(sqrt(cot(x)^2),x);
                                             2
                                      log(tan (x) + 1)
(%o4)                   log(tan(x)) - ----------------
                                             2
```


Issue created by migration from https://trac.sagemath.org/ticket/18599


