# Issue 18362: Maxima integral wrong

Issue created by migration from Trac.

Original creator: kcrisman

Original creation time: 2015-06-03 13:40:38

CC:  rws nbruin

See [this sage-devel discussion](https://groups.google.com/forum/#!topic/sage-devel/GX-hYs0grdE).


```
sage: from sage.symbolic.integration.external import maxima_integrator
sage: maxima_integrator(sqrt(cot(x)^2),x)
-1/2*log(tan(x)^2 + 1) + log(tan(x))
sage: maxima_integrator(cot(x),x)
log(sin(x))
sage: maxima_integrator(sqrt(cot(x)^2),x,pi/4,3*pi/4)
0
sage: maxima_integrator(cot(x),x, pi/4,3*pi/4)
0
sage: f(x) = maxima_integrator(sqrt(cot(x)^2),x)
sage: f(pi/4)
-1/2*log(2)
sage: f(3*pi/4)
I*pi - 1/2*log(2)
```


But that is wrong, as this function is nonnegative and usually positive.  The problem is in Maxima.


```
(%i1) domain:complex;
(%o1)                               complex
(%i2) sqrt(cot(x)^2);
                                         2
(%o2)                            sqrt(cot (x))
(%i3) integrate(sqrt(cot(x)^2),x,%pi/4,%pi/4*3);
(%o3)                                  0
(%i4) integrate(sqrt(cot(x)^2),x);
                                             2
                                      log(tan (x) + 1)
(%o4)                   log(tan(x)) - ----------------
                                             2
```

