# Issue 18500: Add jeu de taquin shuffling to the SkewTableaux class

archive/issues_018500.json:
```json
{
    "body": "CC:  mariamonks @darijgr\n\nImplement a function `shuffle(t1,t2)` which, given a pair of skew standard tableaux `t1` and `t2`, such that the shape of `t2` extends the shape of `t1`, uses jeu de taquin slides to move all the squares of `t2` backwards and those of `t1` forwards until the tableaux of \"passed through\" each other.\n\nThis is called \"tableau switching\", \"tableau shuffling\", or \"infusion\" in various parts of the literature. It is related to the Littlewood-Richardson rule and to dual equivalence.\n\nIssue created by migration from https://trac.sagemath.org/ticket/18737\n\n",
    "created_at": "2015-06-19T14:04:57Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Add jeu de taquin shuffling to the SkewTableaux class",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18500",
    "user": "https://trac.sagemath.org/admin/accounts/users/j.levinson"
}
```
CC:  mariamonks @darijgr

Implement a function `shuffle(t1,t2)` which, given a pair of skew standard tableaux `t1` and `t2`, such that the shape of `t2` extends the shape of `t1`, uses jeu de taquin slides to move all the squares of `t2` backwards and those of `t1` forwards until the tableaux of "passed through" each other.

This is called "tableau switching", "tableau shuffling", or "infusion" in various parts of the literature. It is related to the Littlewood-Richardson rule and to dual equivalence.

Issue created by migration from https://trac.sagemath.org/ticket/18737





---

archive/issue_comments_251190.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-06-19T14:06:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18500#issuecomment-251190",
    "user": "https://trac.sagemath.org/admin/accounts/users/j.levinson"
}
```

New commits:



---

archive/issue_comments_251191.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-06-19T14:06:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18500#issuecomment-251191",
    "user": "https://trac.sagemath.org/admin/accounts/users/j.levinson"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_251192.json:
```json
{
    "body": "A few comments:\n\n- The first line should be in the imperative form: `Return an object` instead of `Returns an object`.\n- For the error messages, I would make them start with a lowercase since the message is not a sentence (there is an python convention on this, and a partial Sage convention).\n- I don't see the point of having a `shuffle` method in both the element and parent. I would just have a method in the element class.\n- Is there a way you could not create the intermediate `SkewPartition` objects in `shuffle` (and calling `cells`)? I would think it's easy enough to track that cell directly as what you're doing seems very heavy-handed.",
    "created_at": "2015-06-19T16:21:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18500#issuecomment-251192",
    "user": "https://github.com/tscrim"
}
```

A few comments:

- The first line should be in the imperative form: `Return an object` instead of `Returns an object`.
- For the error messages, I would make them start with a lowercase since the message is not a sentence (there is an python convention on this, and a partial Sage convention).
- I don't see the point of having a `shuffle` method in both the element and parent. I would just have a method in the element class.
- Is there a way you could not create the intermediate `SkewPartition` objects in `shuffle` (and calling `cells`)? I would think it's easy enough to track that cell directly as what you're doing seems very heavy-handed.



---

archive/issue_comments_251193.json:
```json
{
    "body": "Thank you for the comments!\n\n- I'll edit the documentation and error messages as per your corrections.\n\n- Regarding the `shuffle` method in the element class, it's useful (to me at least) to have both, even though it's true that strictly speaking the parent method is sufficient. For example, I may have a single tableau `t` that I need to transform several times, e.g. it's convenient for `t` to be able to shuffle itself past a sequence of other tableaux. Is there a particular reason not to include this functionality? (Incidentally, having both forms of the function was in fact a suggestion to me from another Sage developer.)\n\n- Regarding the tracking of the vacated cell, perhaps there is a better way. The problem is that I don't see a way of directly extracting it from the `slide()` function (short of reproducing the code of `slide()`). On the other hand I could have the code directly compute where the new cell is (by comparing the old and new shapes), but this is basically what `cells` does. I would be happy to see a nicer approach if you have one in mind!\n\nOne possibility (which I am wary of) would be to edit `slide()` to give an option for returning the coordinates of the vacated cell. But I would want input from others before doing this.",
    "created_at": "2015-06-19T18:26:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18500#issuecomment-251193",
    "user": "https://trac.sagemath.org/admin/accounts/users/j.levinson"
}
```

Thank you for the comments!

- I'll edit the documentation and error messages as per your corrections.

- Regarding the `shuffle` method in the element class, it's useful (to me at least) to have both, even though it's true that strictly speaking the parent method is sufficient. For example, I may have a single tableau `t` that I need to transform several times, e.g. it's convenient for `t` to be able to shuffle itself past a sequence of other tableaux. Is there a particular reason not to include this functionality? (Incidentally, having both forms of the function was in fact a suggestion to me from another Sage developer.)

- Regarding the tracking of the vacated cell, perhaps there is a better way. The problem is that I don't see a way of directly extracting it from the `slide()` function (short of reproducing the code of `slide()`). On the other hand I could have the code directly compute where the new cell is (by comparing the old and new shapes), but this is basically what `cells` does. I would be happy to see a nicer approach if you have one in mind!

One possibility (which I am wary of) would be to edit `slide()` to give an option for returning the coordinates of the vacated cell. But I would want input from others before doing this.



---

archive/issue_comments_251194.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-24T15:59:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18500#issuecomment-251194",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_251195.json:
```json
{
    "body": "Here is a possible solution to your last bullet point. It involves a very small edit to `slide` (which hopefully does not impact the run-time of `slide`) to allow it to (optionally) return the vacated square. This seems like a natural functionality for `slide` to have anyway.\n\nFor `shuffle`, I think it is useful to have both the element and parent method. In my research, the parent method is more natural (I have sequences of several adjacent skew tableaux and I need to compose many shuffles in different orders). The parent method also makes the involutive symmetry more apparent in the syntax, which I like.",
    "created_at": "2015-06-24T16:00:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18500#issuecomment-251195",
    "user": "https://trac.sagemath.org/admin/accounts/users/j.levinson"
}
```

Here is a possible solution to your last bullet point. It involves a very small edit to `slide` (which hopefully does not impact the run-time of `slide`) to allow it to (optionally) return the vacated square. This seems like a natural functionality for `slide` to have anyway.

For `shuffle`, I think it is useful to have both the element and parent method. In my research, the parent method is more natural (I have sequences of several adjacent skew tableaux and I need to compose many shuffles in different orders). The parent method also makes the involutive symmetry more apparent in the syntax, which I like.



---

archive/issue_comments_251196.json:
```json
{
    "body": "Well, this implementation will work for now.\n\nI made some reviewer changes, and most notably I removed shuffle from being a method of the parent because you never referenced `self` in that method and you always had to create *all* skew tableaux (otherwise the method doesn't make sense being there as it might return an element not in that parent, much less it doesn't depend on which parent of skew tableaux your consider). I also merged in #18025 because I was partially worried about conflicts and because I changed a key for the Fulton reference.\n\nIf you're happy with my changes, then it is a positive review.\n----\nLast 10 new commits:",
    "created_at": "2015-10-10T19:46:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18500#issuecomment-251196",
    "user": "https://github.com/tscrim"
}
```

Well, this implementation will work for now.

I made some reviewer changes, and most notably I removed shuffle from being a method of the parent because you never referenced `self` in that method and you always had to create *all* skew tableaux (otherwise the method doesn't make sense being there as it might return an element not in that parent, much less it doesn't depend on which parent of skew tableaux your consider). I also merged in #18025 because I was partially worried about conflicts and because I changed a key for the Fulton reference.

If you're happy with my changes, then it is a positive review.
----
Last 10 new commits:



---

archive/issue_comments_251197.json:
```json
{
    "body": "Looks good to me. Is there anything I need to do?",
    "created_at": "2015-10-13T15:42:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18500#issuecomment-251197",
    "user": "https://trac.sagemath.org/admin/accounts/users/j.levinson"
}
```

Looks good to me. Is there anything I need to do?



---

archive/issue_comments_251198.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-30T01:25:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18500#issuecomment-251198",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_251199.json:
```json
{
    "body": "Sorry, this fell off my radar. All you need to do is set this to positive review.",
    "created_at": "2015-11-30T01:26:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18500#issuecomment-251199",
    "user": "https://github.com/tscrim"
}
```

Sorry, this fell off my radar. All you need to do is set this to positive review.



---

archive/issue_comments_251200.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-11-30T02:54:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18500#issuecomment-251200",
    "user": "https://trac.sagemath.org/admin/accounts/users/j.levinson"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_251201.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-11-30T23:09:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18500#issuecomment-251201",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
