# Issue 26151: Bug in comparison of integers and libgap integers

Issue created by migration from Trac.

Original creator: SimonKing

Original creation time: 2018-10-03 09:49:05


```
sage: 1 > libgap(1)
True
sage: 1 < libgap(1)
False
sage: 1 == libgap(1)
True
```



---

Comment by SimonKing created at 2018-10-03 09:49:22

Changing keywords from "" to "libgap".


---

Comment by chapoton created at 2018-10-03 18:49:11

comes from

```
sage: x=1
sage: y=libgap(1)
sage: x._cmp_(y)
1
```



---

Comment by vklein created at 2018-10-04 13:56:10

`GapElement_Integer`'s `__gt__()` seems bugged too.


```
sage: x=1
sage: y=libgap(1)
sage: x > y
True
sage: y > x 
True
sage: libgap(1).__gt__(1)
True
```



---

Comment by vklein created at 2018-10-04 14:41:02

Set assignee to vklein.


---

Comment by vklein created at 2018-10-04 15:02:53

Remove assignee vklein.


---

Comment by vklein created at 2018-10-04 15:02:53

New commits:


---

Comment by vklein created at 2018-10-04 15:07:37

This doesn't fix `x._cmp_(y)` but i am not sure where `_cmp_` is called, and it is not in this ticket's cases.


---

Comment by vklein created at 2018-10-04 15:07:37

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-10-04 18:45:12

instead of

```
TEST #26388 is fixed::
```

write

```
Check that :trac:`26388` is fixed::
```



---

Comment by git created at 2018-10-05 08:12:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vklein created at 2018-10-05 08:13:22

Done. Thanks.


---

Comment by vdelecroix created at 2018-10-06 12:23:29

Could you also include doctests for `1 >= libgap(1)` and `1 <= libgap(1)`?


---

Comment by git created at 2018-10-08 09:00:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vklein created at 2018-10-08 09:01:12

Sure ! Done.


---

Comment by vdelecroix created at 2018-10-08 09:34:42

Actually `x < y` (calling `x` comparison method) is not the same thing as `y > x` (calling `y` comparison method). If you want to be sure that libgap comparison is checked, the libgap integer should be first.

It is of course reasonable to check whether `x < y` is the same thing as `y > x` but that is somehow a different matter.


---

Comment by vklein created at 2018-10-08 09:50:21

Yes only the modified comparison operators are tested right now. Do you prefer having a more complete test suite between `libgap(1)` and `Integer(1)` ? (with `<`, `<=` and `==`).


---

Comment by vdelecroix created at 2018-10-08 09:53:37

Make sense!


---

Comment by vdelecroix created at 2018-10-08 09:53:37

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-10-20 11:58:46

Resolution: fixed


---

Comment by embray created at 2018-10-28 14:52:23

This should be re-targeted for 8.5.
