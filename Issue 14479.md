# Issue 14479: New datastructure for iet

Issue created by migration from Trac.

Original creator: vdelecroix

Original creation time: 2013-06-03 20:42:24

Assignee: sage-combinat

CC:  fougeroc

In #8386 we decided to only move iet to sage/dynamics. This ticket stands for the creation of the new datatype and the correction of the following bug

```
sage: p = iet.Permutation('a b','b a')
sage: q = iet.Permutation('b a','a b')
sage: p == q
True
```



---

Comment by vdelecroix created at 2014-04-14 14:08:42

New commits:


---

Comment by vdelecroix created at 2014-04-14 14:08:42

Changing keywords from "" to "iet, flat surfaces".


---

Comment by chapoton created at 2014-07-18 19:25:54

rebased. Is this needs review ?
----
New commits:


---

Comment by vdelecroix created at 2014-07-19 19:36:08

Hi Frederic,

Thanks for the update. It would be nice if you provide clearer message with your commit. The following is completely meaningless

```
Merge branch 'u/vdelecroix/14683-iet_new_datastructure' of
ssh://trac.sagemath.org:22/sage into 14683
```


Vincent


---

Comment by chapoton created at 2014-07-19 20:35:49

This was just a rebase, as explained in the comment. Once again, is this ticket in "needs review" ?


---

Comment by vdelecroix created at 2014-07-20 09:39:16

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2014-07-20 09:39:16

Hi Frederic,

Your comment on trac will not appear in the git history. So please, set your message to "rebase #14683 on sage-X.betaY" or something meaningful. The fact that it is "just a rebase" is not an argument to have an ugly commit message.

And yes it is in needs review.

Vincent


---

Comment by git created at 2014-07-20 16:20:06

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-07-22 14:37:22

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-07-22 15:24:55

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2014-07-22 15:28:48

Hello Vincent,

I am in the middle of the process of reading quickly the code, making small cosmetic changes, like putting doctest continuation and raise statements to new standards, etc. Once done, I will run the tests.

If the tests pass, I could give a positive review, but without checking the new data structure. would it be ok to you ? Have you used this branch heavily, so that you know that it works (and is really better than the current state) ?


---

Comment by git created at 2014-07-23 09:20:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2014-10-01 08:48:42

Changing status from needs_review to needs_info.


---

Comment by jdemeyer created at 2014-10-01 08:48:42

What's your justification for removing doctests like

```
TESTS::

    sage: t(-3/2)
    Traceback (most recent call last):
     ...
    ValueError: value must positive and smaller than length
```

and replacing the `raise ValueError` with an `assert`?

(note that I don't really care about this ticket, I am just looking for abuses of `assert`)


---

Comment by vdelecroix created at 2014-10-01 08:58:13

Replying to [comment:15 jdemeyer]:
> What's your justification for removing doctests like
> {{{
> TESTS::
> 
>     sage: t(-3/2)
>     Traceback (most recent call last):
>      ...
>     ValueError: value must positive and smaller than length
> }}}
> and replacing the `raise ValueError` with an `assert`?

Bad design choice ;-P

This ticket is pending since it needs some more intensive testing/proof of concepts.

Vincent


---

Comment by jdemeyer created at 2014-10-01 09:05:05

Changing status from needs_info to needs_work.


---

Comment by git created at 2015-07-28 12:01:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-03-26 11:58:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2016-05-27 17:32:51

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2016-05-27 19:38:08

ok, I agree this could be closed. But maybe there would be a short way to solve the bug ?


---

Comment by vdelecroix created at 2016-05-28 00:36:06

I am focusing on #20695 and will not fix this bug in the mean time.


---

Comment by chapoton created at 2016-05-28 06:28:39

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2016-05-28 06:28:39

ok, then


---

Comment by vbraun created at 2016-06-12 12:02:30

Resolution: fixed
