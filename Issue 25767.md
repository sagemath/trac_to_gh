# Issue 25767: LatticePoset: Faster is_sectionally_complemeted

Issue created by migration from Trac.

Original creator: jmantysalo

Original creation time: 2018-08-05 17:05:57

CC:  tscrim chapoton

To be added to the source:


```
def is_sectionally_complemented(self, certificate=False):
    if not self.is_atomic():
        return False
    H = self._hasse_diagram
    downset = [None] * H.order()
    downset[0] = set()
    for e in range(1, H.order()):
        e_down = set()
        e_lc = H.neighbors_in(e)
        for a in e_lc:
            e_down = e_down.union(downset[a])
        for e_ in e_down:
            if all(e_ in downset[a] for a in e_lc):
                if certificate:
                    return (False, (L[e], L[e_]))
                return False
        e_down.add(e)
        downset[e] = e_down
    return True
```



---

Comment by jmantysalo created at 2018-08-18 05:33:21

Changing status from new to needs_review.


---

Comment by jmantysalo created at 2018-08-18 05:33:21

Sometimes thinking before coding is a good thing.
----
New commits:


---

Comment by tscrim created at 2018-08-18 06:20:41

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2018-08-18 06:20:41

Indeed, although if we always did that, then we would have no need for followup tickets. :P LGTM.


---

Comment by vbraun created at 2018-08-25 11:02:13

Resolution: fixed
