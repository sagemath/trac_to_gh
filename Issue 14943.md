# Issue 14943: create experimental package LattE Integrale

Issue created by migration from Trac.

Original creator: dimpase

Original creation time: 2013-09-09 06:31:54

CC:  novoselt vbraun nthiery tscrim schilly

Keywords: LattE, integer polytopes

[LattE (Lattice point Enumeration) Integrale](https://www.math.ucdavis.edu/~latte/) is a suite of C/C++ programs that solves  the problems of counting lattice points in and integration over convex polytopes, implementing e.g. Barvinok's algorithm for counting.

To integrate it into Sage properly, an interface needs to be created, but the first step is to make the source code installable, as executables/headers etc.

This is done in this [spkg](http://boxen.math.washington.edu/home/dima/packages/latte_int-1.6.spkg).
It has `spkg-check` script, which can be used to check the installation.



---

Comment by dimpase created at 2013-09-09 07:22:02

Changing status from new to needs_review.


---

Comment by ncohen created at 2013-09-09 12:22:43

(cc me)


---

Comment by vbraun created at 2013-12-23 13:13:01

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2013-12-23 13:13:01

Looks good to me...

Harald: please add to experimental...


---

Comment by schilly created at 2013-12-23 13:18:32

done.


---

Comment by vbraun created at 2013-12-23 22:52:01

Resolution: fixed


---

Comment by nthiery created at 2013-12-24 07:39:39

Cool! Been dreaming of LattE in Sage for a while :-) Are the LattE devs aware of the progress?


---

Comment by tscrim created at 2014-01-08 20:06:28

I just did.


---

Comment by nthiery created at 2014-08-19 04:12:12

Hi!

At Sage Days 60, a user asked me about the status of LattE integration. So I tried installing the LattE package. I first checked I had all the dependencies mentioned in the SPKG.txt (GMP (MPIR), 4ti2, NTL, cddlib):


```
sage -i
Currently installed packages:
...
4ti2-1.6.2
mpir-2.6.0.p4
ntl-6.1.0.p0
cddlib-094g.p0
...
```

The compilation failed complaining about a missing GMP dependency:


```
sage -i latte_int
...
checking for GMP >= 3.1.1... configure: error: GMP not found!
GMP version 3.1.1 or greater is required for LattE to compile. Please
make sure GMP is installed and specify its location with the option
--with-gmp=<prefix> when running configure.
```

Suggestions? Should I open a new ticket?

For the record, out of curiosity, I tried

```
mistral-~>sage -i gmp
Found local metadata for gmp-5.1.3
Attempting to download package gmp-5.1.3
>>> Trying to download http://www.sagemath.org/packages/upstream/gmp/gmp-5.1.3.tar.bz2
[Traceback (most recent call last):
  File "<stdin>", line 35, in <module>
  File "/opt/sage-git/local/lib/python/urllib.py", line 240, in retrieve
    fp = self.open(url, data)
  File "/opt/sage-git/local/lib/python/urllib.py", line 208, in open
    return getattr(self, name)(url)
  File "/opt/sage-git/local/lib/python/urllib.py", line 359, in open_http
    return self.http_error(url, fp, errcode, errmsg, headers)
  File "/opt/sage-git/local/lib/python/urllib.py", line 376, in http_error
    return self.http_error_default(url, fp, errcode, errmsg, headers)
  File "<stdin>", line 17, in http_error_default
IOError: [Errno 404] Not Found: '//www.sagemath.org/packages/upstream/gmp/gmp-5.1.3.tar.bz2'
Error: failed to download package gmp-5.1.3
```

but this is probably just outdated stuff since gmp is listed in none of the package lists (std/opt/exp).

Thanks!

  Nicolas


---

Comment by dimpase created at 2014-08-19 04:22:16

Replying to [comment:10 nthiery]:
>   Hi!
> 
> At Sage Days 60, a user asked me about the status of LattE integration. So I tried installing the LattE package. I first checked I had all the dependencies mentioned in the SPKG.txt (GMP (MPIR), 4ti2, NTL, cddlib):
> 
> {{{
> sage -i
> Currently installed packages:
> ...
> 4ti2-1.6.2
> mpir-2.6.0.p4
> ntl-6.1.0.p0
> cddlib-094g.p0
> ...
> }}}
> The compilation failed complaining about a missing GMP dependency:

It works for me on Sage 6.4.beta0.
Probably your Sage install is slightly nuked...


---

Comment by dimpase created at 2014-08-19 04:33:59

for the record, this is how results of the installation are linked on a Debian stable
system
(never mind 6.3.beta7 part in paths, I just didn't rename it...)


```
dima`@`nash:~/sage/sage-6.3.beta7/local/bin$ ldd latte-maximize 
        linux-vdso.so.1 =>  (0x00007fffddbff000)
        liblatte.so.0 => /home/dima/sage/sage-6.3.beta7/local/lib/liblatte.so.0 (0x00007fe613d58000)
        libntl.so.3 => /home/dima/sage/sage-6.3.beta7/local/lib/libntl.so.3 (0x00007fe61399a000)
        libgf2x.so.1 => /home/dima/sage/sage-6.3.beta7/local/lib/libgf2x.so.1 (0x00007fe613782000)
        libcddgmp.so.0 => /home/dima/sage/sage-6.3.beta7/local/lib/libcddgmp.so.0 (0x00007fe613542000)
        libgmpxx.so.4 => /home/dima/sage/sage-6.3.beta7/local/lib/libgmpxx.so.4 (0x00007fe61333d000)
        libstdc++.so.6 => /home/dima/sage/sage-6.3.beta7/local/lib/../lib64/libstdc++.so.6 (0x00007fe613010000)
        libgmp.so.11 => /home/dima/sage/sage-6.3.beta7/local/lib/libgmp.so.11 (0x00007fe612da2000)
        libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007fe612b14000)
        libgcc_s.so.1 => /home/dima/sage/sage-6.3.beta7/local/lib/../lib64/libgcc_s.so.1 (0x00007fe6128fe000)
        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007fe612573000)
        /lib64/ld-linux-x86-64.so.2 (0x00007fe6153b4000)

dima`@`nash:~/sage/sage-6.3.beta7/local/lib$ ldd liblatte.so
        linux-vdso.so.1 =>  (0x00007fffd39ff000)
        libntl.so.3 => /home/dima/sage/sage-6.3.beta7/local/lib/libntl.so.3 (0x00007f5048fc6000)
        libgf2x.so.1 => /home/dima/sage/sage-6.3.beta7/local/lib/libgf2x.so.1 (0x00007f5048daf000)
        libcddgmp.so.0 => /home/dima/sage/sage-6.3.beta7/local/lib/libcddgmp.so.0 (0x00007f5048b6e000)
        libgmpxx.so.4 => /home/dima/sage/sage-6.3.beta7/local/lib/libgmpxx.so.4 (0x00007f5048969000)
        libgmp.so.11 => /home/dima/sage/sage-6.3.beta7/local/lib/libgmp.so.11 (0x00007f50486fb000)
        libstdc++.so.6 => /home/dima/sage/sage-6.3.beta7/local/lib/../lib64/libstdc++.so.6 (0x00007f50483ce000)
        libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007f5048140000)
        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f5047db5000)
        libgcc_s.so.1 => /home/dima/sage/sage-6.3.beta7/local/lib/../lib64/libgcc_s.so.1 (0x00007f5047b9f000)
        /lib64/ld-linux-x86-64.so.2 (0x00007f504a9e0000)


---

Comment by dimpase created at 2014-10-11 18:47:37

Replying to [comment:10 nthiery]:
>   Hi!
> 
> At Sage Days 60, a user asked me about the status of LattE integration. So I tried installing the LattE package. I first checked I had all the dependencies mentioned in the SPKG.txt (GMP (MPIR), 4ti2, NTL, cddlib):
> 
> {{{
> sage -i
> Currently installed packages:
> ...
> 4ti2-1.6.2
> mpir-2.6.0.p4
> ntl-6.1.0.p0
> cddlib-094g.p0
> ...
> }}}
> The compilation failed complaining about a missing GMP dependency:
> 
> {{{
> sage -i latte_int
> ...
> checking for GMP >= 3.1.1... configure: error: GMP not found!
> GMP version 3.1.1 or greater is required for LattE to compile. Please
> make sure GMP is installed and specify its location with the option
> --with-gmp=<prefix> when running configure.
> }}}
> Suggestions? Should I open a new ticket?

OK, this is indeed a (trivial) bug, see #17136
