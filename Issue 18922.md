# Issue 18922: is_christoffel

Issue created by migration from https://trac.sagemath.org/ticket/19159

Original creator: mlapointe

Original creation time: 2015-09-07 20:43:44

CC:  mlapointe egunawan nadialafreniere




---

Comment by mlapointe created at 2015-09-07 20:53:55

Changing keywords from "" to "words, Christoffel, days69".


---

Comment by mlapointe created at 2015-09-07 20:53:55

Set assignee to mlapointe.


---

Comment by mlapointe created at 2015-09-07 20:53:55

Changing type from PLEASE CHANGE to enhancement.


---

Comment by mlapointe created at 2015-09-07 20:53:55

Changing component from PLEASE CHANGE to combinatorics.


---

Comment by mlapointe created at 2015-09-07 20:53:55

Changing priority from major to minor.


---

Comment by mlapointe created at 2015-09-08 17:50:38

Changing status from new to needs_review.


---

Comment by mlapointe created at 2015-09-08 17:50:38

New commits:


---

Comment by git created at 2015-09-08 17:57:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by nadialafreniere created at 2015-09-08 19:01:07

Changing status from needs_review to needs_work.


---

Comment by nadialafreniere created at 2015-09-08 19:01:07


```diff
#A Christoffel word is a non-empty word over a binary alphabet
+        if len(self) < 0 or len(self.letters()) > 2 or self.is_palindrome():
+            return False
+        elif self.is_symmetric() and self[1:len(self)-1].is_palindrome():
+            return True
+        else:
+            return False
```


A comment should always start with a space after '#'. As well, `self[1:len(self)-1]` should be transformed in `self[1:len(self) - 1]`. For more info on Python and Sage conventions, see http://doc.sagemath.org/html/en/developer/coding_basics.html#python-code-style 

I'm also wondering about the first condition: When the length of a word can be strictly shorter than 0?

Also, a single letter is a Christoffel word, according to the reference you give (Berstel et al.) Right now, it returns false because it is a palindrome. You should add a test for it.


---

Comment by git created at 2015-09-08 19:16:50

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-09-08 19:21:15

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-09-08 19:26:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by nadialafreniere created at 2015-09-08 19:42:00

It is now getting better, but I would still like to have a doctest testing if a single-letter-word is a Christoffel word.


---

Comment by git created at 2015-09-08 19:45:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by nadialafreniere created at 2015-09-08 20:53:34

The description is wrong : "Equivalently, `w` is a Christoffel word iff `w` is a symmetric 
non-empty word and `w[1:n-2]` is a palindrome". It should be `w[1:n-1]` as in the algorithm.


---

Comment by git created at 2015-09-08 21:14:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by nadialafreniere created at 2015-09-08 21:18:48

Changing status from needs_work to positive_review.


---

Comment by egunawan created at 2015-09-08 23:04:35

Changing status from positive_review to needs_work.


---

Comment by egunawan created at 2015-09-08 23:04:35

The line `See for instance _[1] and _[2].`

should be replaced with `See for instance [1]_ and [2]_.` in order to create the hyperlinks for the two references.


---

Comment by egunawan created at 2015-09-08 23:16:36

Also, you need to write the following format for the hyperlinks to work: 
``       REFERENCES:

        .. [1]  Jean Berstel. Sturmian and episturmian words (a survey of
            some recent results). In S. Bozapalidis and G. Rahonis, editors,
            CAI 2007,volume 4728 of Lecture Notes in Computer Science,
            pages 23-47. Springer-Verlag, 2007.
        .. [2]  J. Berstel, A. Lauve, C. R., F. Saliola, Combinatorics on
            words: Christoffel words and repetitions in words, CRM Monograph
            Series, 27. American Mathematical Society, Providence, RI, 2009.
            xii+147 pp. ISBN: 978-0-8218-4480-9``


---

Comment by git created at 2015-09-08 23:45:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mlapointe created at 2015-09-08 23:46:31

Changing status from needs_work to needs_review.


---

Comment by nadialafreniere created at 2015-09-09 00:15:42

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-09-09 22:14:54

Resolution: fixed


---

Comment by slabbe created at 2015-09-11 08:22:45

> As well, `self[1:len(self)-1]` should be transformed in `self[1:len(self) - 1]`.

rather in `self[1:-1]`
