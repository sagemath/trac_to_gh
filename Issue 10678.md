# Issue 10678: BinaryQF matrix actions are wrong

Issue created by migration from Trac.

Original creator: justin

Original creation time: 2011-02-04 04:53:52

Assignee: justin

Keywords: matrix, action, quadratic form

The code implementing the matrix_action_right() and matrix_action_left() is wrong.

As an example, for right actions, associativity does not hold:

sage: M=Matrix(ZZ,2,2,[1,-1,0,1])
sage: N=Matrix(ZZ,2,2,[0,1,-1,0])
sage: Q=BinaryQF(5,7,1)
sage: Q.matrix_action_right(M).matrix_action_right(N)
x^2 - 5*x*y - y^2
sage: Q.matrix_action_right(M*N)
13*x^2 - 17*x*y + 5*y^2

While the doc strings describe, in each case, the correct formulae, the code is "backwards": the left action should use the rows; the right action should use the columns.


---

Attachment


---

Comment by justin created at 2011-02-04 05:02:31

Added patch; passes 'sage -t'.


---

Comment by justin created at 2011-02-04 05:09:56

Changing status from new to needs_review.


---

Comment by rlm created at 2011-02-07 23:01:55

Changing status from needs_review to positive_review.


---

Comment by rlm created at 2011-02-07 23:01:55

applies cleanly to sage-4.6.2.a2 and passes all long doctests


---

Comment by jdemeyer created at 2011-03-17 19:23:08

Resolution: fixed
