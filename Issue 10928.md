# Issue 10928: analytic_rank() should set rank() and gens() when it returns 0

Issue created by migration from Trac.

Original creator: weigandt

Original creation time: 2011-03-25 00:30:06

Assignee: weigandt

CC:  cremona was

Keywords: rank, gens

If the analytic rank of an elliptic curve over QQ is computed to be 0, it is a theorem that the algebraic rank is 0, and we can set the generators to be []. This is not done.



```
sage: E=EllipticCurve([1, 0, 0, -1319539461660, -159402536950172400])
sage: E.analytic_rank()
0
sage: E.rank()
Unable to compute the rank with certainty (lower bound=0).
This could be because Sha(E/Q)[2] is nontrivial.
Try calling something like two_descent(second_limit=13) on the
curve then trying this command again.  You could also try rank
with only_use_mwrank=False.
---------------------------------------------------------------------------
BOOM!

RuntimeError: Rank not provably correct.

```


We could also set the rank to 1 if the analytic rank is provably 1, but it seems customary only to set the rank when we can also set the generators, so that shouldn't be done until improved Heegner point functionality is available.


---

Comment by weigandt created at 2011-03-25 01:07:18

Changing priority from major to minor.


---

Comment by weigandt created at 2011-03-25 06:18:01

Changing priority from minor to major.


---

Comment by weigandt created at 2011-03-25 06:18:01

Ooops! I misread the documentation, which says that analytic_rank returns an integer that is *probably* the analytic rank of E, as opposed to *provably*.

Perhaps the documentation should be changed to make this clearer. The letters b and v are right next to each other on the keyboard.

Much like #1848 we should probably put a proof=False flag here with the current implementation and try to run something as provable as possible for a proof=True. It seems reasonable that this could be done at least in the case of analytic rank 0.
