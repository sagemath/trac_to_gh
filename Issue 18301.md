# Issue 18301: xsrange is not an iterator when called with Python ints or longs

Issue created by migration from https://trac.sagemath.org/ticket/18538

Original creator: tmonteil

Original creation time: 2015-05-28 20:11:15

As reported in [this ask question](http://ask.sagemath.org/question/26950/range-xrange-and-ellipsis-iteration/): `xsrange` claims to return an iterator while it does not provide a `.next()` method when called with Python ints or longs:



```
sage: xsrange(int(42)).next()
AttributeError: 'xrange' object has no attribute 'next'
```


This is because in those cases, it returns an `xrange` object (which is only an iterable).


---

Comment by git created at 2015-05-28 22:22:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-05-29 06:41:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tmonteil created at 2015-05-29 06:42:39

Changing status from new to needs_review.


---

Comment by aapitzsch created at 2015-05-29 12:34:46

Please replace `next()` method by `next()` function. See #17398.


---

Comment by aapitzsch created at 2015-05-29 12:34:46

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-05-31 16:11:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tmonteil created at 2015-05-31 16:12:36

Changing status from needs_work to needs_review.


---

Comment by vdelecroix created at 2015-08-03 16:20:49

Hello,

Why `xsrange` should have a `next` method?

```
sage: next(xrange(10))
Traceback (most recent call last):
...
TypeError: xrange object is not an iterator
```

I think that we should keep compatibility between `xsrange` and `xrange`.

Vincent


---

Comment by jdemeyer created at 2015-11-04 14:24:23

I also think it's better to use `iter(foo)` instead of `foo.__iter__()`.


---

Comment by jdemeyer created at 2015-11-04 14:24:23

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2015-11-04 14:26:34

This:

```
``.next()`` or a ``.__next__()`` method
```

should be replaced by

```
``.__next__()`` method
```

But even then, I find it a bit confusing that you talk about a `__next__` method and then show two tests not explicitly involving `__next__`


---

Comment by jdemeyer created at 2016-02-22 21:30:13

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2016-02-22 21:30:13

Fixed by #20094 instead (which removes the special cases for Python `int`).


---

Comment by jdemeyer created at 2016-02-22 21:30:29

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-02-23 22:57:19

Resolution: duplicate
