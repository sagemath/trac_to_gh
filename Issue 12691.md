# Issue 12691: Roots of polynomial dies with PariError: division by zero (27)

Issue created by migration from https://trac.sagemath.org/ticket/12863

Original creator: vbraun

Original creation time: 2012-04-20 23:14:44

Assignee: was

CC:  cremona was

With a rather special polynomial of degree 32 with two roots with multiplicity 4, `roots()` dies with a PariError:

```
sage: R.<t> = PolynomialRing(ComplexField(2700), 1)
sage: p = (special polynomial)
sage: p.roots()
... correct output ...
sage: p.roots(ring=CDF)
---------------------------------------------------------------------------
PariError                                 Traceback (most recent call last)

/home/vbraun/Sage/EllipticFibration/<ipython console> in <module>()

/home/vbraun/opt/sage-5.0.beta13/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_element.so in sage.rings.polynomial.polynomial_element.Polynomial.roots (sage/rings/polynomial/polynomial_element.c:31077)()

/home/vbraun/opt/sage-5.0.beta13/local/lib/python2.7/site-packages/sage/libs/pari/gen.so in sage.libs.pari.gen._pari_trap (sage/libs/pari/gen.c:49842)()

PariError: division by zero (27)
```


Might be related to #2418


---

Comment by vbraun created at 2012-04-20 23:15:12

example polynomial exhibiting the problem


---

Attachment


---

Comment by vbraun created at 2012-04-20 23:20:25

Changing keywords from "" to "pari roots".


---

Comment by vbraun created at 2012-04-28 20:29:12

I've isolated a test case and reported the bug upstream at

http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1309


---

Comment by vbraun created at 2012-05-02 13:47:18

It turns out that this was a floating point bug in pari's `sqrt()`. For the record:

Fixed in branches master (testing, commit d1eb887b21) and pari-2.5 (stable,
commit 1550af281).


---

Comment by pbruin created at 2013-10-30 16:32:40

Changing status from new to needs_review.


---

Comment by pbruin created at 2013-10-30 16:34:47

Changing status from needs_review to positive_review.


---

Comment by pbruin created at 2013-10-30 16:34:47

This was fixed in PARI 2.5 (see comment:4), which has been in Sage for some time.


---

Comment by jdemeyer created at 2013-10-31 08:30:42

Resolution: worksforme
