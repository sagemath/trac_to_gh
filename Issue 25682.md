# Issue 25682: GelfandTsetlinPattern instances do not compare properly

archive/issues_025682.json:
```json
{
    "body": "CC:  sage-combinat @tscrim gfeinberg @bsalisbury1\n\nKeywords: sagedays@icerm\n\n`GelfandTsetlinPattern` instances created using `GelfandTsetlinPatterns(...)` with and without the `top_row` argument do not compare properly. E.g.,\n\n\n```python\nsage: GelfandTsetlinPatterns(top_row=(1,))[0]\n[[1]]\nsage: GelfandTsetlinPattern([[1]])\n[[1]]\n```\n\n\nshould compare as equal, but:\n\n\n```python\nsage: GelfandTsetlinPatterns(top_row=(1,))[0] == GelfandTsetlinPattern([[1]])\nFalse\n```\n\n\nThis is likely because the two instances have different parents (`GelfandTsetlinPatternsTopRow` vs `GelfandTsetlinPatterns`).\n\nIssue created by migration from https://trac.sagemath.org/ticket/25919\n\n",
    "created_at": "2018-07-24T19:08:08Z",
    "labels": [
        "PLEASE CHANGE",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "GelfandTsetlinPattern instances do not compare properly",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25682",
    "user": "@catch22"
}
```
CC:  sage-combinat @tscrim gfeinberg @bsalisbury1

Keywords: sagedays@icerm

`GelfandTsetlinPattern` instances created using `GelfandTsetlinPatterns(...)` with and without the `top_row` argument do not compare properly. E.g.,


```python
sage: GelfandTsetlinPatterns(top_row=(1,))[0]
[[1]]
sage: GelfandTsetlinPattern([[1]])
[[1]]
```


should compare as equal, but:


```python
sage: GelfandTsetlinPatterns(top_row=(1,))[0] == GelfandTsetlinPattern([[1]])
False
```


This is likely because the two instances have different parents (`GelfandTsetlinPatternsTopRow` vs `GelfandTsetlinPatterns`).

Issue created by migration from https://trac.sagemath.org/ticket/25919





---

archive/issue_comments_362425.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2018-07-24T19:12:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25682#issuecomment-362425",
    "user": "@catch22"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_362426.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-07-24T19:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25682#issuecomment-362426",
    "user": "@catch22"
}
```

New commits:



---

archive/issue_comments_362427.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-07-24T19:36:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25682#issuecomment-362427",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_362428.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-07-24T19:37:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25682#issuecomment-362428",
    "user": "@catch22"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_362429.json:
```json
{
    "body": "Copying Travis as the author of this component.",
    "created_at": "2018-07-24T19:45:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25682#issuecomment-362429",
    "user": "@catch22"
}
```

Copying Travis as the author of this component.



---

archive/issue_comments_362430.json:
```json
{
    "body": "Set assignee to @catch22.",
    "created_at": "2018-07-24T19:45:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25682#issuecomment-362430",
    "user": "@catch22"
}
```

Set assignee to @catch22.



---

archive/issue_comments_362431.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-07-24T23:41:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25682#issuecomment-362431",
    "user": "gfeinberg"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_362432.json:
```json
{
    "body": "All tests passed. Thanks for the good work.",
    "created_at": "2018-07-24T23:41:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25682#issuecomment-362432",
    "user": "gfeinberg"
}
```

All tests passed. Thanks for the good work.



---

archive/issue_comments_362433.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-07-25T11:55:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25682#issuecomment-362433",
    "user": "@tscrim"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_362434.json:
```json
{
    "body": "First, author real name.\n\nSecond, this is wrong on a few different levels. What is going wrong is basically a lack of coercion and subclasses of `ClonableArray` take the parent into consideration. So in some ways, it is a \"feature\" of the class, and what you should be doing is actually implementing a coercion. We don't do this for tableaux both as that is more complicated and historical reasons (e.g., comparing with a list). Note that this change expands what can be compared. I also am not sure I agree with mapping the rows to a tuple of tuples; seems like a waste.\n\nYou should remove the `.. TODO::` because this is not a decided policy change that this says it is (I agree with you that it should change).\n\nOther trivial point, your `INPUT:` block is mis-formatted, you should start `- ``other``` (but that and the `OUTPUT:` block can be left off because both they are trivial and common and this is hidden method).",
    "created_at": "2018-07-25T11:55:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25682#issuecomment-362434",
    "user": "@tscrim"
}
```

First, author real name.

Second, this is wrong on a few different levels. What is going wrong is basically a lack of coercion and subclasses of `ClonableArray` take the parent into consideration. So in some ways, it is a "feature" of the class, and what you should be doing is actually implementing a coercion. We don't do this for tableaux both as that is more complicated and historical reasons (e.g., comparing with a list). Note that this change expands what can be compared. I also am not sure I agree with mapping the rows to a tuple of tuples; seems like a waste.

You should remove the `.. TODO::` because this is not a decided policy change that this says it is (I agree with you that it should change).

Other trivial point, your `INPUT:` block is mis-formatted, you should start `- ``other``` (but that and the `OUTPUT:` block can be left off because both they are trivial and common and this is hidden method).



---

archive/issue_comments_362435.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-25T12:36:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25682#issuecomment-362435",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_362436.json:
```json
{
    "body": "Thank you for the review.\n\n1. Since the git commit shows my real name I assume you were talking about the list at https://trac.sagemath.org and have added myself there.\n\n2. Done. (I have not implemented a coercion from `GelfandTsetlinPatterns` to `GelfandTsetlinPatternsTopRow`.)\n\n3. Done. (The TODO comment referred to the fact that this was a hack, not to any policy decision. Now it's not a hack anymore, so the TODO was removed. ;)\n\n4. Done. (Someone should also fix this in `Tableau`.)",
    "created_at": "2018-07-25T12:39:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25682#issuecomment-362436",
    "user": "@catch22"
}
```

Thank you for the review.

1. Since the git commit shows my real name I assume you were talking about the list at https://trac.sagemath.org and have added myself there.

2. Done. (I have not implemented a coercion from `GelfandTsetlinPatterns` to `GelfandTsetlinPatternsTopRow`.)

3. Done. (The TODO comment referred to the fact that this was a hack, not to any policy decision. Now it's not a hack anymore, so the TODO was removed. ;)

4. Done. (Someone should also fix this in `Tableau`.)



---

archive/issue_comments_362437.json:
```json
{
    "body": "`@`gh-catch22 the trac ticket here needs to be modified so that the Author: field shows your real name, similar to how the reviewer field has 'Gabe Feinberg' instead of 'gfeinberg'.",
    "created_at": "2018-07-26T20:51:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25682#issuecomment-362437",
    "user": "@kevindilks"
}
```

`@`gh-catch22 the trac ticket here needs to be modified so that the Author: field shows your real name, similar to how the reviewer field has 'Gabe Feinberg' instead of 'gfeinberg'.



---

archive/issue_comments_362438.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2019-09-03T00:46:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25682#issuecomment-362438",
    "user": "@tscrim"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_362439.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-09-05T21:33:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25682#issuecomment-362439",
    "user": "@vbraun"
}
```

Resolution: fixed
