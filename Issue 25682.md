# Issue 25682: GelfandTsetlinPattern instances do not compare properly

Issue created by migration from https://trac.sagemath.org/ticket/25919

Original creator: @catch22

Original creation time: 2018-07-24 19:08:08

CC:  sage-combinat tscrim gfeinberg bsalisbury1

Keywords: sagedays@icerm

`GelfandTsetlinPattern` instances created using `GelfandTsetlinPatterns(...)` with and without the `top_row` argument do not compare properly. E.g.,


```python
sage: GelfandTsetlinPatterns(top_row=(1,))[0]
[[1]]
sage: GelfandTsetlinPattern([[1]])
[[1]]
```


should compare as equal, but:


```python
sage: GelfandTsetlinPatterns(top_row=(1,))[0] == GelfandTsetlinPattern([[1]])
False
```


This is likely because the two instances have different parents (`GelfandTsetlinPatternsTopRow` vs `GelfandTsetlinPatterns`).


---

Comment by @catch22 created at 2018-07-24 19:12:16

Changing component from PLEASE CHANGE to combinatorics.


---

Comment by @catch22 created at 2018-07-24 19:30:32

New commits:


---

Comment by git created at 2018-07-24 19:36:56

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by @catch22 created at 2018-07-24 19:37:46

Changing status from new to needs_review.


---

Comment by @catch22 created at 2018-07-24 19:45:34

Copying Travis as the author of this component.


---

Comment by @catch22 created at 2018-07-24 19:45:34

Set assignee to @catch22.


---

Comment by gfeinberg created at 2018-07-24 23:41:42

Changing status from needs_review to positive_review.


---

Comment by gfeinberg created at 2018-07-24 23:41:42

All tests passed. Thanks for the good work.


---

Comment by tscrim created at 2018-07-25 11:55:37

Changing status from positive_review to needs_work.


---

Comment by tscrim created at 2018-07-25 11:55:37

First, author real name.

Second, this is wrong on a few different levels. What is going wrong is basically a lack of coercion and subclasses of `ClonableArray` take the parent into consideration. So in some ways, it is a "feature" of the class, and what you should be doing is actually implementing a coercion. We don't do this for tableaux both as that is more complicated and historical reasons (e.g., comparing with a list). Note that this change expands what can be compared. I also am not sure I agree with mapping the rows to a tuple of tuples; seems like a waste.

You should remove the `.. TODO::` because this is not a decided policy change that this says it is (I agree with you that it should change).

Other trivial point, your `INPUT:` block is mis-formatted, you should start `- ``other``` (but that and the `OUTPUT:` block can be left off because both they are trivial and common and this is hidden method).


---

Comment by git created at 2018-07-25 12:36:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @catch22 created at 2018-07-25 12:39:08

Thank you for the review.

1. Since the git commit shows my real name I assume you were talking about the list at https://trac.sagemath.org and have added myself there.

2. Done. (I have not implemented a coercion from `GelfandTsetlinPatterns` to `GelfandTsetlinPatternsTopRow`.)

3. Done. (The TODO comment referred to the fact that this was a hack, not to any policy decision. Now it's not a hack anymore, so the TODO was removed. ;)

4. Done. (Someone should also fix this in `Tableau`.)


---

Comment by kdilks created at 2018-07-26 20:51:35

`@`gh-catch22 the trac ticket here needs to be modified so that the Author: field shows your real name, similar to how the reviewer field has 'Gabe Feinberg' instead of 'gfeinberg'.


---

Comment by tscrim created at 2019-09-03 00:46:28

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2019-09-05 21:33:29

Resolution: fixed
