# Issue 30287: Remove `maybe_newfaces` in combinatorial polyhedron

archive/issues_030287.json:
```json
{
    "body": "CC:  @tscrim\n\nKeywords: simplification, combinatorial polyhedron\n\nThis ticket removes `maybe_newfaces` from the face iterator.\n\nThere used to be a `uint64_t**` with the data called `maybe_newfaces` and a `uint64_t**` that points to the actual newfaces. We remove this double structure my swapping the new faces in place.\n\nWe also get rid of a superfluous function `get_next_dimension_loop` in `ListOfFaces`.\n\nWe do not expose the original pointers to the coatoms such that e.g. sorting of the coatoms would be possible in the face iterator (note that still the actual data is exposed, which one shouldn't alter anyway).\n\nIssue created by migration from https://trac.sagemath.org/ticket/30524\n\n",
    "created_at": "2020-09-07T20:01:16Z",
    "labels": [
        "geometry",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Remove `maybe_newfaces` in combinatorial polyhedron",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30287",
    "user": "@kliem"
}
```
CC:  @tscrim

Keywords: simplification, combinatorial polyhedron

This ticket removes `maybe_newfaces` from the face iterator.

There used to be a `uint64_t**` with the data called `maybe_newfaces` and a `uint64_t**` that points to the actual newfaces. We remove this double structure my swapping the new faces in place.

We also get rid of a superfluous function `get_next_dimension_loop` in `ListOfFaces`.

We do not expose the original pointers to the coatoms such that e.g. sorting of the coatoms would be possible in the face iterator (note that still the actual data is exposed, which one shouldn't alter anyway).

Issue created by migration from https://trac.sagemath.org/ticket/30524





---

archive/issue_comments_431828.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2020-09-07T20:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30287",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30287#issuecomment-431828",
    "user": "@kliem"
}
```

Last 10 new commits:



---

archive/issue_comments_431829.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-09-07T20:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30287",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30287#issuecomment-431829",
    "user": "@kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_431830.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-07T20:01:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30287",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30287#issuecomment-431830",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_431831.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-09-07T20:02:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30287",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30287#issuecomment-431831",
    "user": "@kliem"
}
```

New commits:



---

archive/issue_comments_431832.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-08T07:23:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30287",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30287#issuecomment-431832",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_431833.json:
```json
{
    "body": "LGTM.",
    "created_at": "2020-09-08T22:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30287",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30287#issuecomment-431833",
    "user": "@tscrim"
}
```

LGTM.



---

archive/issue_comments_431834.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-08T22:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30287",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30287#issuecomment-431834",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_431835.json:
```json
{
    "body": "Thank you.",
    "created_at": "2020-09-09T08:16:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30287",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30287#issuecomment-431835",
    "user": "@kliem"
}
```

Thank you.



---

archive/issue_comments_431836.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. Last 10 new commits:",
    "created_at": "2020-09-09T08:25:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30287",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30287#issuecomment-431836",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. Last 10 new commits:



---

archive/issue_comments_431837.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-09-09T08:25:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30287",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30287#issuecomment-431837",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_431838.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-09T08:25:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30287",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30287#issuecomment-431838",
    "user": "@kliem"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_431839.json:
```json
{
    "body": "Rebased.",
    "created_at": "2020-09-09T08:25:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30287",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30287#issuecomment-431839",
    "user": "@kliem"
}
```

Rebased.



---

archive/issue_comments_431840.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-11-15T22:47:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30287",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30287#issuecomment-431840",
    "user": "@vbraun"
}
```

Resolution: fixed
