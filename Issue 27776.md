# Issue 27776: Build Python 3 docker images

Issue created by migration from https://trac.sagemath.org/ticket/28013

Original creator: saraedum

Original creation time: 2019-06-19 00:59:57

CC:  vdelecroix




---

Comment by saraedum created at 2019-06-19 01:09:03

Changing status from new to needs_info.


---

Comment by saraedum created at 2019-06-19 01:09:27

Changing status from needs_info to needs_work.


---

Comment by saraedum created at 2019-06-19 01:09:27

Currently, this is a hack to see whether building on Docker works. We should of course build both Py2 and Py3.


---

Comment by slelievre created at 2019-06-19 01:10:07

Changing keywords from "" to "days101, py3, docker".


---

Comment by saraedum created at 2019-06-19 01:13:02

You can see the status of this at: https://gitlab.com/sagemath/dev/trac/commits/u/slelievre/t-28013-py3-docker-images
----
New commits:


---

Comment by embray created at 2019-06-19 13:57:50

Currently it looks like my gitlab runners _are_ working, but every ticket build is timing out because for some reason they're all trying to build openblas, and then timing out after 3 hours.

The openblas update is new as of I think 8.8.rc0 (I think it was maybe a mistake to update as big a package as openblas in a _release candidate_).  The docker build of 8.8.rc0 seems to have failed in the test-dev job for some random reason.  So I'll try re-running it...  Then all the 8.8.rc1 builds failed as well for some non-obvious reason.
----
New commits:


---

Comment by embray created at 2019-06-19 13:59:02

Which is also strange because there does appear to be an 8.8.rc1 image tagged on sagemath/sagemath-dev even though the "Release" stage didn't run...?


---

Comment by embray created at 2019-06-19 14:00:30

Replying to [comment:8 embray]:
> Which is also strange because there does appear to be an 8.8.rc1 image tagged on sagemath/sagemath-dev even though the "Release" stage didn't run...?

Oh, I see, building/releasing from the 8.8.rc1 _tag_ did pass, but from the _develop_ branch did not pass.

I guess then maybe many of the trac tickets are not based off 8.8.rc1 yet so they're still pulling docker images of older builds that don't include the openblas update.


---

Comment by slelievre created at 2019-06-19 22:07:00

Let's use a public branch for this.
----
New commits:


---

Comment by saraedum created at 2019-08-19 18:02:53

Duplicate of #28041.


---

Comment by saraedum created at 2019-08-19 18:02:53

Changing status from needs_work to positive_review.


---

Comment by slelievre created at 2019-08-20 05:07:49

Ok.


---

Comment by chapoton created at 2019-08-22 06:46:48

Resolution: duplicate
