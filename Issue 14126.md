# Issue 14126: Upgrade to sagenb 0.10.5

archive/issues_014126.json:
```json
{
    "body": "Assignee: tbd\n\nCC:  @novoselt @ppurka @ohanar @kcrisman\n\nNext minor version of sagenb. Will contain LDAP functionality by Robin Martinjak (finally) and some other minor adjustments.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14330\n\n",
    "created_at": "2013-03-22T02:52:56Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.12",
    "title": "Upgrade to sagenb 0.10.5",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14126",
    "user": "https://github.com/kini"
}
```
Assignee: tbd

CC:  @novoselt @ppurka @ohanar @kcrisman

Next minor version of sagenb. Will contain LDAP functionality by Robin Martinjak (finally) and some other minor adjustments.

Issue created by migration from https://trac.sagemath.org/ticket/14330





---

archive/issue_comments_176902.json:
```json
{
    "body": "Any ETA on this?",
    "created_at": "2013-04-27T03:55:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176902",
    "user": "https://github.com/ohanar"
}
```

Any ETA on this?



---

archive/issue_comments_176903.json:
```json
{
    "body": "It should be in by the next release. Too late for 5.9.",
    "created_at": "2013-04-28T00:45:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176903",
    "user": "https://github.com/ppurka"
}
```

It should be in by the next release. Too late for 5.9.



---

archive/issue_comments_176904.json:
```json
{
    "body": "I'm aware of that, but it would be nice to get it in an early 5.10 beta since sagenb won't work in the git releases until this is merged.",
    "created_at": "2013-04-28T02:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176904",
    "user": "https://github.com/ohanar"
}
```

I'm aware of that, but it would be nice to get it in an early 5.10 beta since sagenb won't work in the git releases until this is merged.



---

archive/issue_comments_176905.json:
```json
{
    "body": "ppurka just cleaned up a bunch of PRs so I think I'll release 0.10.6 now. Hang on a bit.",
    "created_at": "2013-04-28T02:34:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176905",
    "user": "https://github.com/kini"
}
```

ppurka just cleaned up a bunch of PRs so I think I'll release 0.10.6 now. Hang on a bit.



---

archive/issue_comments_176906.json:
```json
{
    "body": "OK, SPKG is up.",
    "created_at": "2013-04-28T02:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176906",
    "user": "https://github.com/kini"
}
```

OK, SPKG is up.



---

archive/issue_comments_176907.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-04-28T02:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176907",
    "user": "https://github.com/kini"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_176908.json:
```json
{
    "body": "#10637 includes patches to sagenb Sage repo (sic!). Shouldn't they be patches to the upstream sagenb?\n\nActually, should #10637 really be a dependency of this ticket?",
    "created_at": "2013-04-30T04:32:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176908",
    "user": "https://github.com/dimpase"
}
```

#10637 includes patches to sagenb Sage repo (sic!). Shouldn't they be patches to the upstream sagenb?

Actually, should #10637 really be a dependency of this ticket?



---

archive/issue_comments_176909.json:
```json
{
    "body": "Replying to [comment:10 dimpase]:\n> #10637 includes patches to sagenb Sage repo (sic!). Shouldn't they be patches to the upstream sagenb?\n> \n> Actually, should #10637 really be a dependency of this ticket?\nIf I am not incorrect, these patches are [upstream already](https://github.com/sagemath/sagenb/pull/75). So, #10637 is indeed a dependency of this ticket.",
    "created_at": "2013-04-30T05:32:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176909",
    "user": "https://github.com/ppurka"
}
```

Replying to [comment:10 dimpase]:
> #10637 includes patches to sagenb Sage repo (sic!). Shouldn't they be patches to the upstream sagenb?
> 
> Actually, should #10637 really be a dependency of this ticket?
If I am not incorrect, these patches are [upstream already](https://github.com/sagemath/sagenb/pull/75). So, #10637 is indeed a dependency of this ticket.



---

archive/issue_comments_176910.json:
```json
{
    "body": "Replying to [comment:11 ppurka]:\n> Replying to [comment:10 dimpase]:\n> > #10637 includes patches to sagenb Sage repo (sic!). Shouldn't they be patches to the upstream sagenb?\n> > \n> > Actually, should #10637 really be a dependency of this ticket?\n> If I am not incorrect, these patches are [upstream already](https://github.com/sagemath/sagenb/pull/75). So, #10637 is indeed a dependency of this ticket.\n\nIf so, the instructions on  #10637 are quite unclear.",
    "created_at": "2013-04-30T06:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176910",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:11 ppurka]:
> Replying to [comment:10 dimpase]:
> > #10637 includes patches to sagenb Sage repo (sic!). Shouldn't they be patches to the upstream sagenb?
> > 
> > Actually, should #10637 really be a dependency of this ticket?
> If I am not incorrect, these patches are [upstream already](https://github.com/sagemath/sagenb/pull/75). So, #10637 is indeed a dependency of this ticket.

If so, the instructions on  #10637 are quite unclear.



---

archive/issue_comments_176911.json:
```json
{
    "body": "Fixed.",
    "created_at": "2013-04-30T06:46:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176911",
    "user": "https://github.com/kini"
}
```

Fixed.



---

archive/issue_comments_176912.json:
```json
{
    "body": "The notebook spkg works fine for me. I have a question though, now that ldap is in the notebook. Are there any other (system) requirements for getting the ldap functionality working?",
    "created_at": "2013-04-30T08:26:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176912",
    "user": "https://github.com/ppurka"
}
```

The notebook spkg works fine for me. I have a question though, now that ldap is in the notebook. Are there any other (system) requirements for getting the ldap functionality working?



---

archive/issue_comments_176913.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-04-30T15:12:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176913",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_176914.json:
```json
{
    "body": "\n```\nsage -t devel/sagenb-main/sagenb/notebook/cell.py\n**********************************************************************\nFile \"devel/sagenb-main/sagenb/notebook/cell.py\", line 228, in sagenb.notebook.cell.Cell_generic.worksheet\nFailed example:\n    W = nb.create_new_worksheet('Test', 'admin')\nException raised:\n    Traceback (most recent call last):\n      File \"/mazur/release/merger/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 454, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/mazur/release/merger/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 813, in execute\n        exec compiled in globs\n      File \"<doctest sagenb.notebook.cell.Cell_generic.worksheet[3]>\", line 1, in <module>\n        W = nb.create_new_worksheet('Test', 'admin')\n      File \"/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/notebook.py\", line 461, in create_new_worksheet\n        W = self.worksheet(username)\n      File \"/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/notebook.py\", line 757, in worksheet\n        id_number = self.new_id_number(username)\n      File \"/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/notebook.py\", line 769, in new_id_number\n        u = self.user(username).conf()\n      File \"/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/notebook.py\", line 279, in user\n        return self.user_manager().user(username)\n      File \"/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/user_manager.py\", line 110, in user\n        return self._user(username)\n      File \"/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/user_manager.py\", line 520, in _user\n        raise KeyError, \"no user '%s'\"%username\n    KeyError: \"no user 'admin'\"\n**********************************************************************\n```\n\n\nPS: the value of a `KeyError` should be the missing key. So you should either\n\n```\nraise KeyError(username)\n```\n\nor\n\n```\nraise LookupError(\"no user '%s'\"%username)\n```\n",
    "created_at": "2013-04-30T15:12:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176914",
    "user": "https://github.com/jdemeyer"
}
```


```
sage -t devel/sagenb-main/sagenb/notebook/cell.py
**********************************************************************
File "devel/sagenb-main/sagenb/notebook/cell.py", line 228, in sagenb.notebook.cell.Cell_generic.worksheet
Failed example:
    W = nb.create_new_worksheet('Test', 'admin')
Exception raised:
    Traceback (most recent call last):
      File "/mazur/release/merger/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 454, in _run
        self.execute(example, compiled, test.globs)
      File "/mazur/release/merger/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 813, in execute
        exec compiled in globs
      File "<doctest sagenb.notebook.cell.Cell_generic.worksheet[3]>", line 1, in <module>
        W = nb.create_new_worksheet('Test', 'admin')
      File "/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/notebook.py", line 461, in create_new_worksheet
        W = self.worksheet(username)
      File "/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/notebook.py", line 757, in worksheet
        id_number = self.new_id_number(username)
      File "/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/notebook.py", line 769, in new_id_number
        u = self.user(username).conf()
      File "/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/notebook.py", line 279, in user
        return self.user_manager().user(username)
      File "/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/user_manager.py", line 110, in user
        return self._user(username)
      File "/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/user_manager.py", line 520, in _user
        raise KeyError, "no user '%s'"%username
    KeyError: "no user 'admin'"
**********************************************************************
```


PS: the value of a `KeyError` should be the missing key. So you should either

```
raise KeyError(username)
```

or

```
raise LookupError("no user '%s'"%username)
```




---

archive/issue_comments_176915.json:
```json
{
    "body": "\n```\nsage -t devel/sagenb-main/sagenb/notebook/user_manager.py\n**********************************************************************\nFile \"devel/sagenb-main/sagenb/notebook/user_manager.py\", line 571, in sagenb.notebook.user_manager.OpenIDUserManager.get_username_from_openid\nFailed example:\n    UM.create_new_openid('https://www.google.com/accounts/o8/id?id=AItdaWgzjV1HJTa552549o1csTDdfeH6_bPxF14', 'thedude')\nException raised:\n    Traceback (most recent call last):\n      File \"/mazur/release/merger/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 454, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/mazur/release/merger/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 813, in execute\n        exec compiled in globs\n      File \"<doctest sagenb.notebook.user_manager.OpenIDUserManager.get_username_from_openid[3]>\", line 1, in <module>\n        UM.create_new_openid('https://www.google.com/accounts/o8/id?id=AItdaWgzjV1HJTa552549o1csTDdfeH6_bPxF14', 'thedude')\n      File \"/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/user_manager.py\", line 594, in create_new_openid\n        if not self._conf['openid']:\n    KeyError: 'openid'\n**********************************************************************\n```\n",
    "created_at": "2013-04-30T15:14:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176915",
    "user": "https://github.com/jdemeyer"
}
```


```
sage -t devel/sagenb-main/sagenb/notebook/user_manager.py
**********************************************************************
File "devel/sagenb-main/sagenb/notebook/user_manager.py", line 571, in sagenb.notebook.user_manager.OpenIDUserManager.get_username_from_openid
Failed example:
    UM.create_new_openid('https://www.google.com/accounts/o8/id?id=AItdaWgzjV1HJTa552549o1csTDdfeH6_bPxF14', 'thedude')
Exception raised:
    Traceback (most recent call last):
      File "/mazur/release/merger/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 454, in _run
        self.execute(example, compiled, test.globs)
      File "/mazur/release/merger/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 813, in execute
        exec compiled in globs
      File "<doctest sagenb.notebook.user_manager.OpenIDUserManager.get_username_from_openid[3]>", line 1, in <module>
        UM.create_new_openid('https://www.google.com/accounts/o8/id?id=AItdaWgzjV1HJTa552549o1csTDdfeH6_bPxF14', 'thedude')
      File "/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/user_manager.py", line 594, in create_new_openid
        if not self._conf['openid']:
    KeyError: 'openid'
**********************************************************************
```




---

archive/issue_comments_176916.json:
```json
{
    "body": "`@`jdemeyer Can you say why there are `ImportError` and `IOError` on doctesting files which have no doctests in them? The specific issue I am talking about is in [this sagenb ticket](https://github.com/sagemath/sagenb/pull/161).",
    "created_at": "2013-05-03T17:11:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176916",
    "user": "https://github.com/ppurka"
}
```

`@`jdemeyer Can you say why there are `ImportError` and `IOError` on doctesting files which have no doctests in them? The specific issue I am talking about is in [this sagenb ticket](https://github.com/sagemath/sagenb/pull/161).



---

archive/issue_comments_176917.json:
```json
{
    "body": "When using this ticket, I get the following problem with `sage -n`.  I can't say whether this is unique to me.\n\n```\nExecuting twistd  --pidfile=\"sage_notebook.sagenb/sagenb.pid\" -ny \"sage_notebook.sagenb/twistedconf.tac\"\nUnhandled Error\nTraceback (most recent call last):\n  File \"/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/app.py\", line 652, in run\n    runApp(config)\n  File \"/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/scripts/twistd.py\", line 23, in runApp\n    _SomeApplicationRunner(config).run()\n  File \"/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/app.py\", line 386, in run\n    self.application = self.createOrGetApplication()\n  File \"/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/app.py\", line 451, in createOrGetApplication\n    application = getApplication(self.config, passphrase)\n--- <exception caught here> ---\n  File \"/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/app.py\", line 462, in getApplication\n    application = service.loadApplication(filename, style, passphrase)\n  File \"/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/service.py\", line 405, in loadApplication\n    application = sob.loadValueFromFile(filename, 'application', passphrase)\n  File \"/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/persisted/sob.py\", line 210, in loadValueFromFile\n    exec fileObj in d, d\n  File \"sage_notebook.sagenb/twistedconf.tac\", line 15, in <module>\n    import base as flask_base\n  File \"/Users/.../sage-5.9.rc1/devel/sagenb/flask_version/base.py\", line 10, in <module>\n    from flaskext.openid import OpenID\nexceptions.ImportError: No module named openid\n\nFailed to load application: No module named openid\n\nTraceback (most recent call last):\n  File \"/Users/.../sage-5.9.rc1/local/bin/sage-notebook\", line 34, in <module>\n    notebook()\n  File \"/Users/.../sage-5.9.rc1/devel/sagenb/sagenb/notebook/notebook_object.py\", line 219, in __call__\n    return self.notebook(*args, **kwds)\n  File \"/Users/.../sage-5.9.rc1/devel/sagenb/sagenb/notebook/run_notebook.py\", line 608, in notebook_run\n    raise socket.error\nsocket.error\n```\n",
    "created_at": "2013-05-07T16:44:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176917",
    "user": "https://github.com/kcrisman"
}
```

When using this ticket, I get the following problem with `sage -n`.  I can't say whether this is unique to me.

```
Executing twistd  --pidfile="sage_notebook.sagenb/sagenb.pid" -ny "sage_notebook.sagenb/twistedconf.tac"
Unhandled Error
Traceback (most recent call last):
  File "/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/app.py", line 652, in run
    runApp(config)
  File "/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/scripts/twistd.py", line 23, in runApp
    _SomeApplicationRunner(config).run()
  File "/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/app.py", line 386, in run
    self.application = self.createOrGetApplication()
  File "/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/app.py", line 451, in createOrGetApplication
    application = getApplication(self.config, passphrase)
--- <exception caught here> ---
  File "/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/app.py", line 462, in getApplication
    application = service.loadApplication(filename, style, passphrase)
  File "/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/service.py", line 405, in loadApplication
    application = sob.loadValueFromFile(filename, 'application', passphrase)
  File "/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/persisted/sob.py", line 210, in loadValueFromFile
    exec fileObj in d, d
  File "sage_notebook.sagenb/twistedconf.tac", line 15, in <module>
    import base as flask_base
  File "/Users/.../sage-5.9.rc1/devel/sagenb/flask_version/base.py", line 10, in <module>
    from flaskext.openid import OpenID
exceptions.ImportError: No module named openid

Failed to load application: No module named openid

Traceback (most recent call last):
  File "/Users/.../sage-5.9.rc1/local/bin/sage-notebook", line 34, in <module>
    notebook()
  File "/Users/.../sage-5.9.rc1/devel/sagenb/sagenb/notebook/notebook_object.py", line 219, in __call__
    return self.notebook(*args, **kwds)
  File "/Users/.../sage-5.9.rc1/devel/sagenb/sagenb/notebook/run_notebook.py", line 608, in notebook_run
    raise socket.error
socket.error
```




---

archive/issue_comments_176918.json:
```json
{
    "body": "Are you using the git version of sage-5.9.rc1? I have seen this when using the git version and it is a known bug. Normal sage-5.9.rc1 worked fine here (Linux).",
    "created_at": "2013-05-07T20:28:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176918",
    "user": "https://github.com/ppurka"
}
```

Are you using the git version of sage-5.9.rc1? I have seen this when using the git version and it is a known bug. Normal sage-5.9.rc1 worked fine here (Linux).



---

archive/issue_comments_176919.json:
```json
{
    "body": "> Are you using the git version of sage-5.9.rc1? I have seen this when using the git version and it is a known bug. Normal sage-5.9.rc1 worked fine here (Linux).\nNo, just the git version of the sagenb (latest).  I don't know how to use the git version of 5.9.rc1 :)",
    "created_at": "2013-05-08T02:05:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176919",
    "user": "https://github.com/kcrisman"
}
```

> Are you using the git version of sage-5.9.rc1? I have seen this when using the git version and it is a known bug. Normal sage-5.9.rc1 worked fine here (Linux).
No, just the git version of the sagenb (latest).  I don't know how to use the git version of 5.9.rc1 :)



---

archive/issue_comments_176920.json:
```json
{
    "body": "Ok. I have tested\n1. sage-5.9.beta1 on my Gentoo Linux laptop with (i) sagenb from git and (ii) the sagenb-0.10.6 spkg here.\n2. sage-5.9 on a Gentoo Linux desktop with (i) sagenb from git and (ii) the spkg here.\n3. sage-5.9.rc1 on a Debian 6 server with (i) sagenb from git and (ii) the spkg here.\n\nAll of them work.",
    "created_at": "2013-05-08T14:11:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176920",
    "user": "https://github.com/ppurka"
}
```

Ok. I have tested
1. sage-5.9.beta1 on my Gentoo Linux laptop with (i) sagenb from git and (ii) the sagenb-0.10.6 spkg here.
2. sage-5.9 on a Gentoo Linux desktop with (i) sagenb from git and (ii) the spkg here.
3. sage-5.9.rc1 on a Debian 6 server with (i) sagenb from git and (ii) the spkg here.

All of them work.



---

archive/issue_comments_176921.json:
```json
{
    "body": "In `SPKG.txt`, the following is wrong:\n\n```\n## License\n\nGPLv2+\n\n```\n\n\nMathJax is licensed under Apache 2.0, which is compatible with GPLv3 but not GPLv2.",
    "created_at": "2013-05-27T12:04:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176921",
    "user": "https://github.com/jdemeyer"
}
```

In `SPKG.txt`, the following is wrong:

```
## License

GPLv2+

```


MathJax is licensed under Apache 2.0, which is compatible with GPLv3 but not GPLv2.



---

archive/issue_comments_176922.json:
```json
{
    "body": "Also in `setup.py`:\n\n```\n    code = setup(name = 'sagenb',\n          version     = '0.10.6',\n          description = 'The Sage Notebook',\n          license     = 'GNU General Public License (GPL) v2+',\n```\n",
    "created_at": "2013-05-27T12:06:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176922",
    "user": "https://github.com/jdemeyer"
}
```

Also in `setup.py`:

```
    code = setup(name = 'sagenb',
          version     = '0.10.6',
          description = 'The Sage Notebook',
          license     = 'GNU General Public License (GPL) v2+',
```




---

archive/issue_comments_176923.json:
```json
{
    "body": "Two questions:\n1. Does it matter? Anyone who wants to fork it or do whatever with it is free to use GPLv3 instead of GPLv2. It is written as GPLv2+. It also has been so for over a year now (since MathJax went in).\n2. What does it imply about Sage? If the nb is converted to GPLv3, is it still ok to distribute it with sage?",
    "created_at": "2013-05-27T13:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176923",
    "user": "https://github.com/ppurka"
}
```

Two questions:
1. Does it matter? Anyone who wants to fork it or do whatever with it is free to use GPLv3 instead of GPLv2. It is written as GPLv2+. It also has been so for over a year now (since MathJax went in).
2. What does it imply about Sage? If the nb is converted to GPLv3, is it still ok to distribute it with sage?



---

archive/issue_comments_176924.json:
```json
{
    "body": "Replying to [comment:24 ppurka]:\n> Two questions:\n> 1. Does it matter?\nI don't know whether it really matters. As a matter of correct documentation, it is something which can easily be fixed (simply by stating that sagenb is really GPLv3).\n\n> 2. What does it imply about Sage?\nNothing, given that Sage-as-distribution already has GPLv3 as only applicable license. Sage-the-library is GPLv2+.",
    "created_at": "2013-05-27T14:14:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176924",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:24 ppurka]:
> Two questions:
> 1. Does it matter?
I don't know whether it really matters. As a matter of correct documentation, it is something which can easily be fixed (simply by stating that sagenb is really GPLv3).

> 2. What does it imply about Sage?
Nothing, given that Sage-as-distribution already has GPLv3 as only applicable license. Sage-the-library is GPLv2+.



---

archive/issue_comments_176925.json:
```json
{
    "body": "1. The [pull request 162](https://github.com/sagemath/sagenb/pull/162) can be merged to upstream.\n2. I created an spkg with the changes. It can be downloaded for testing from my [Google Drive here](https://googledrive.com/host/0B2kYdLdBVFHIZEd4ekpjNUFBNTQ/sagenb-0.10.6.spkg).",
    "created_at": "2013-06-03T14:10:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176925",
    "user": "https://github.com/ppurka"
}
```

1. The [pull request 162](https://github.com/sagemath/sagenb/pull/162) can be merged to upstream.
2. I created an spkg with the changes. It can be downloaded for testing from my [Google Drive here](https://googledrive.com/host/0B2kYdLdBVFHIZEd4ekpjNUFBNTQ/sagenb-0.10.6.spkg).



---

archive/issue_comments_176926.json:
```json
{
    "body": "Replying to [comment:26 ppurka]:\n\n> 2. I created an spkg with the changes. It can be downloaded for testing from my [Google Drive here](https://docs.google.com/file/d/0B2kYdLdBVFHIcEJJUnR6dGtERkE/edit?usp=sharing) (I don't know any means of giving a \ndirect download).\n\ndid you try this:\n\nhttp://thebiobucket.blogspot.sg/2011/10/how-to-link-to-google-docs-for-download.html",
    "created_at": "2013-06-03T15:56:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176926",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:26 ppurka]:

> 2. I created an spkg with the changes. It can be downloaded for testing from my [Google Drive here](https://docs.google.com/file/d/0B2kYdLdBVFHIcEJJUnR6dGtERkE/edit?usp=sharing) (I don't know any means of giving a 
direct download).

did you try this:

http://thebiobucket.blogspot.sg/2011/10/how-to-link-to-google-docs-for-download.html



---

archive/issue_comments_176927.json:
```json
{
    "body": "This will work only till a certain extent. There is in fact a Google doc page which generates this url if you give it the public link. But this still can't be automated to a command line with wget. You have to use a browser to get the correct file name.",
    "created_at": "2013-06-03T16:06:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176927",
    "user": "https://github.com/ppurka"
}
```

This will work only till a certain extent. There is in fact a Google doc page which generates this url if you give it the public link. But this still can't be automated to a command line with wget. You have to use a browser to get the correct file name.



---

archive/issue_comments_176928.json:
```json
{
    "body": "Replying to [comment:28 ppurka]:\n> This will work only till a certain extent. There is in fact a Google doc page which generates this url if you give it the public link. But this still can't be automated to a command line with wget. You have to use a browser to get the correct file name. \n\nOK, here is the right way:\n \n* in your Google docs, create a world-shared folder: during its sharing, it will tell  you a link, something like https://drive.google.com/folderview?id=0B92yb82dH00zcTR4T0pNd042foo&usp=sharing\n* now a file placed in this folder, say, blah.spkg, can be directly wgotten via the link https://googledrive.com/host/0B92yb82dH00zcTR4T0pNd042foo/blah.spkg",
    "created_at": "2013-06-03T16:52:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176928",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:28 ppurka]:
> This will work only till a certain extent. There is in fact a Google doc page which generates this url if you give it the public link. But this still can't be automated to a command line with wget. You have to use a browser to get the correct file name. 

OK, here is the right way:
 
* in your Google docs, create a world-shared folder: during its sharing, it will tell  you a link, something like https://drive.google.com/folderview?id=0B92yb82dH00zcTR4T0pNd042foo&usp=sharing
* now a file placed in this folder, say, blah.spkg, can be directly wgotten via the link https://googledrive.com/host/0B92yb82dH00zcTR4T0pNd042foo/blah.spkg



---

archive/issue_comments_176929.json:
```json
{
    "body": "Thanks. The spkg is here: https://googledrive.com/host/0B2kYdLdBVFHIZEd4ekpjNUFBNTQ/sagenb-0.10.6.spkg",
    "created_at": "2013-06-03T19:18:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176929",
    "user": "https://github.com/ppurka"
}
```

Thanks. The spkg is here: https://googledrive.com/host/0B2kYdLdBVFHIZEd4ekpjNUFBNTQ/sagenb-0.10.6.spkg



---

archive/issue_comments_176930.json:
```json
{
    "body": "Replying to [comment:30 ppurka]:\n> Thanks. The spkg is here: https://googledrive.com/host/0B2kYdLdBVFHIZEd4ekpjNUFBNTQ/sagenb-0.10.6.spkg\nOK. Did you test the LDAP feature on NTU's setup?",
    "created_at": "2013-06-04T06:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176930",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:30 ppurka]:
> Thanks. The spkg is here: https://googledrive.com/host/0B2kYdLdBVFHIZEd4ekpjNUFBNTQ/sagenb-0.10.6.spkg
OK. Did you test the LDAP feature on NTU's setup?



---

archive/issue_comments_176931.json:
```json
{
    "body": "No I didn't check. An earlier version of the patch is already running for over 2y in the servers.",
    "created_at": "2013-06-04T06:59:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176931",
    "user": "https://github.com/ppurka"
}
```

No I didn't check. An earlier version of the patch is already running for over 2y in the servers.



---

archive/issue_comments_176932.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-06-08T10:19:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176932",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_176933.json:
```json
{
    "body": "Replying to [comment:18 kcrisman]:\n> When using this ticket, I get the following problem with `sage -n`.  I can't say whether this is unique to me.\n> exceptions.ImportError: No module named openid\n> \nSo... is this universally fixed?  I haven't even been able to use this at all because of this, and relinked to the current sagenb on my personal installation.",
    "created_at": "2013-06-08T12:51:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176933",
    "user": "https://github.com/kcrisman"
}
```

Replying to [comment:18 kcrisman]:
> When using this ticket, I get the following problem with `sage -n`.  I can't say whether this is unique to me.
> exceptions.ImportError: No module named openid
> 
So... is this universally fixed?  I haven't even been able to use this at all because of this, and relinked to the current sagenb on my personal installation.



---

archive/issue_comments_176934.json:
```json
{
    "body": "Replying to [comment:34 kcrisman]:\n> Replying to [comment:18 kcrisman]:\n> > When using this ticket, I get the following problem with `sage -n`.  I can't say whether this is unique to me.\n> > exceptions.ImportError: No module named openid\n> > \n> So... is this universally fixed?  I haven't even been able to use this at all because of this, and relinked to the current sagenb on my personal installation.\n\nApparently, your installation didn't go well. You should be running Twisted version 13, not version 12. (And you get traceback from the latter)...",
    "created_at": "2013-06-08T17:21:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176934",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:34 kcrisman]:
> Replying to [comment:18 kcrisman]:
> > When using this ticket, I get the following problem with `sage -n`.  I can't say whether this is unique to me.
> > exceptions.ImportError: No module named openid
> > 
> So... is this universally fixed?  I haven't even been able to use this at all because of this, and relinked to the current sagenb on my personal installation.

Apparently, your installation didn't go well. You should be running Twisted version 13, not version 12. (And you get traceback from the latter)...



---

archive/issue_comments_176935.json:
```json
{
    "body": "> > > When using this ticket, I get the following problem with `sage -n`.  I can't say whether this is unique to me.\n> > > exceptions.ImportError: No module named openid\n> > > \n> > So... is this universally fixed?  I haven't even been able to use this at all because of this, and relinked to the current sagenb on my personal installation.\n> \n> Apparently, your installation didn't go well. You should be running Twisted version 13, not version 12. (And you get traceback from the latter)...\nHmm, so maybe just installing upstream doesn't simply require doing a soft link to upstream, but also some other unpacking of something...",
    "created_at": "2013-06-09T03:01:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176935",
    "user": "https://github.com/kcrisman"
}
```

> > > When using this ticket, I get the following problem with `sage -n`.  I can't say whether this is unique to me.
> > > exceptions.ImportError: No module named openid
> > > 
> > So... is this universally fixed?  I haven't even been able to use this at all because of this, and relinked to the current sagenb on my personal installation.
> 
> Apparently, your installation didn't go well. You should be running Twisted version 13, not version 12. (And you get traceback from the latter)...
Hmm, so maybe just installing upstream doesn't simply require doing a soft link to upstream, but also some other unpacking of something...



---

archive/issue_comments_176936.json:
```json
{
    "body": "Well, you should be running `setup.py develop` or `setup.py install`. But...\n\nReplying to [comment:35 dimpase]:\n> Apparently, your installation didn't go well. You should be running Twisted version 13, not version 12. (And you get traceback from the latter)...\n\nIf this is true, then `setup.py`'s dependency list is wrong - it only claims you need Twisted version 11 or greater.",
    "created_at": "2013-06-09T03:06:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176936",
    "user": "https://github.com/kini"
}
```

Well, you should be running `setup.py develop` or `setup.py install`. But...

Replying to [comment:35 dimpase]:
> Apparently, your installation didn't go well. You should be running Twisted version 13, not version 12. (And you get traceback from the latter)...

If this is true, then `setup.py`'s dependency list is wrong - it only claims you need Twisted version 11 or greater.



---

archive/issue_comments_176937.json:
```json
{
    "body": "Replying to [comment:37 kini]:\n> Well, you should be running `setup.py develop` or `setup.py install`. But...\n> \n> Replying to [comment:35 dimpase]:\n> > Apparently, your installation didn't go well. You should be running Twisted version 13, not version 12. (And you get traceback from the latter)...\n> \n> If this is true, then `setup.py`'s dependency list is wrong - it only claims you need Twisted version 11 or greater.\n\n I just did `sage -f ` on the spkg file. Is this not enough? I see that at startup I get\n\n```\nsage: notebook()\nThe notebook files are stored in: sage_notebook.sagenb\n**************************************************\n*                                                *\n* Open your web browser to http://localhost:8080 *\n*                                                *\n**************************************************\nExecuting twistd  --pidfile=\"sage_notebook.sagenb/sagenb.pid\" -ny \"sage_notebook.sagenb/twistedconf.tac\"\n2013-06-09 13:57:50+0800 [-] Log opened.\n2013-06-09 13:57:50+0800 [-] twistd 13.0.0 (/usr/local/src/sage/sage-5.10.rc1/local/bin/python 2.7.4) starting up.\n...\n```\n\nso Twisted got updated to version 13 along the way. \n\nBut I have no clue how to tell what version is actually being run. Can one implement some functionality for this? Otherwise  this will keep causing trouble... Something like `notebook.version()`.",
    "created_at": "2013-06-09T06:13:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176937",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:37 kini]:
> Well, you should be running `setup.py develop` or `setup.py install`. But...
> 
> Replying to [comment:35 dimpase]:
> > Apparently, your installation didn't go well. You should be running Twisted version 13, not version 12. (And you get traceback from the latter)...
> 
> If this is true, then `setup.py`'s dependency list is wrong - it only claims you need Twisted version 11 or greater.

 I just did `sage -f ` on the spkg file. Is this not enough? I see that at startup I get

```
sage: notebook()
The notebook files are stored in: sage_notebook.sagenb
**************************************************
*                                                *
* Open your web browser to http://localhost:8080 *
*                                                *
**************************************************
Executing twistd  --pidfile="sage_notebook.sagenb/sagenb.pid" -ny "sage_notebook.sagenb/twistedconf.tac"
2013-06-09 13:57:50+0800 [-] Log opened.
2013-06-09 13:57:50+0800 [-] twistd 13.0.0 (/usr/local/src/sage/sage-5.10.rc1/local/bin/python 2.7.4) starting up.
...
```

so Twisted got updated to version 13 along the way. 

But I have no clue how to tell what version is actually being run. Can one implement some functionality for this? Otherwise  this will keep causing trouble... Something like `notebook.version()`.



---

archive/issue_comments_176938.json:
```json
{
    "body": "`sage -f` on the SPKG certainly should set everything up perfectly. I assumed kcrisman was trying to do something with the sagenb *repo*, rather than using the SPKG, since he mentions softlinks and upstreams.\n\nTwisted got updated to version 13 when you installed the SPKG because the SPKG comes with Twisted version 13 in it (because it was packaged at some point in time during which PyPI's best match for the version requirement \"twisted>=11\" was Twisted version 13). This doesn't mean that sagenb necessarily *requires* that recent of a version of Twisted. Maybe it does, but if that is the case, that's a bug and someone needs to update `setup.py` and `util/fetch_deps.py` in the sagenb repo.\n\nBTW since release 0.10.6 is already tagged in the git repo I suggest you call the SPKG you've made 0.10.7 and, once this ticket gets positive review, tag master as such and rebuild the SPKG with `dist.sh`. Basu, you might also want to ask William for an account on the Sage cluster if you don't already have one - then you can host arbitrary files on wstein.org/home/username instead of using Google Drive links :)",
    "created_at": "2013-06-09T07:15:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176938",
    "user": "https://github.com/kini"
}
```

`sage -f` on the SPKG certainly should set everything up perfectly. I assumed kcrisman was trying to do something with the sagenb *repo*, rather than using the SPKG, since he mentions softlinks and upstreams.

Twisted got updated to version 13 when you installed the SPKG because the SPKG comes with Twisted version 13 in it (because it was packaged at some point in time during which PyPI's best match for the version requirement "twisted>=11" was Twisted version 13). This doesn't mean that sagenb necessarily *requires* that recent of a version of Twisted. Maybe it does, but if that is the case, that's a bug and someone needs to update `setup.py` and `util/fetch_deps.py` in the sagenb repo.

BTW since release 0.10.6 is already tagged in the git repo I suggest you call the SPKG you've made 0.10.7 and, once this ticket gets positive review, tag master as such and rebuild the SPKG with `dist.sh`. Basu, you might also want to ask William for an account on the Sage cluster if you don't already have one - then you can host arbitrary files on wstein.org/home/username instead of using Google Drive links :)



---

archive/issue_comments_176939.json:
```json
{
    "body": "Is there any documentation on LDAP functionality available, and/or any UI?  How can a user find it?",
    "created_at": "2013-06-10T11:49:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176939",
    "user": "https://github.com/dimpase"
}
```

Is there any documentation on LDAP functionality available, and/or any UI?  How can a user find it?



---

archive/issue_comments_176940.json:
```json
{
    "body": "> I assumed kcrisman was trying to do something with the sagenb repo, rather than using the SPKG, since he mentions softlinks and upstreams.\nCorrect, but I thought that was the only way to do *development* with the sagenb (which I needed for sws2rst).  I'm going to try this again.  I just did \n\n```\n$ git pull upstream master\n```\n\nbut maybe I also have to do some `python setup.py develop` command in addition, *even after I already had done so at some point*?  I hadn't done that.  In fact, reading the comments above, it seems I should do that, though\n* I didn't want to break anything by doing so after pulling from master, and\n* for some reason after pulling from master (but not doing `develop`) it works again!  ???!!  I still have Twisted 12, apparently.\n\nI agree about the 0.10.7 (or 0.10.6.1 or whatever).  Note that these are in master, so I think what you mean is you want is for release to get updated to master or something?",
    "created_at": "2013-06-10T21:02:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176940",
    "user": "https://github.com/kcrisman"
}
```

> I assumed kcrisman was trying to do something with the sagenb repo, rather than using the SPKG, since he mentions softlinks and upstreams.
Correct, but I thought that was the only way to do *development* with the sagenb (which I needed for sws2rst).  I'm going to try this again.  I just did 

```
$ git pull upstream master
```

but maybe I also have to do some `python setup.py develop` command in addition, *even after I already had done so at some point*?  I hadn't done that.  In fact, reading the comments above, it seems I should do that, though
* I didn't want to break anything by doing so after pulling from master, and
* for some reason after pulling from master (but not doing `develop`) it works again!  ???!!  I still have Twisted 12, apparently.

I agree about the 0.10.7 (or 0.10.6.1 or whatever).  Note that these are in master, so I think what you mean is you want is for release to get updated to master or something?



---

archive/issue_comments_176941.json:
```json
{
    "body": "Replying to [comment:41 kcrisman]:\n> I just did \n> {{{\n> $ git pull upstream master\n> }}}\n> but maybe I also have to do some `python setup.py develop` command in addition, *even after I already had done so at some point*?  I hadn't done that.  \n\nWell, you pulled an updated source. Assuming that your stuff is not 100% source-only, you need to do some kind of re-building, i.e. \"python setup.py blah foo\" or \"./configure/make\", or \"sage -b\", whatever is appropriate, every time you updated the source.\nAn intelligent building system would not repeat unnecessary recompilations, so it ought to be quick...",
    "created_at": "2013-06-11T18:38:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176941",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:41 kcrisman]:
> I just did 
> {{{
> $ git pull upstream master
> }}}
> but maybe I also have to do some `python setup.py develop` command in addition, *even after I already had done so at some point*?  I hadn't done that.  

Well, you pulled an updated source. Assuming that your stuff is not 100% source-only, you need to do some kind of re-building, i.e. "python setup.py blah foo" or "./configure/make", or "sage -b", whatever is appropriate, every time you updated the source.
An intelligent building system would not repeat unnecessary recompilations, so it ought to be quick...



---

archive/issue_comments_176942.json:
```json
{
    "body": "Oh, it was quick :)  Note this needs to be done with the Sage Python... anyway, apparently all is well on that score.",
    "created_at": "2013-06-11T18:51:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176942",
    "user": "https://github.com/kcrisman"
}
```

Oh, it was quick :)  Note this needs to be done with the Sage Python... anyway, apparently all is well on that score.



---

archive/issue_comments_176943.json:
```json
{
    "body": "OK, I think I can give it a positive review, assuming that a ticket on improving sagenb admin documentation will be open. (E.g.: how on Earth one can figure out how to set up LDAP auth without reading sources?!)",
    "created_at": "2013-06-14T07:00:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176943",
    "user": "https://github.com/dimpase"
}
```

OK, I think I can give it a positive review, assuming that a ticket on improving sagenb admin documentation will be open. (E.g.: how on Earth one can figure out how to set up LDAP auth without reading sources?!)



---

archive/issue_comments_176944.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-06-14T07:00:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176944",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_176945.json:
```json
{
    "body": "Can anyone test if the idle timeouts are working fine? I am getting a timeout and the sage process is quitting even when the idle timeout setting in my notebook is set to 0. There should be no timeouts at all in this case. See the last line below.\n\n```\n**************************************************\n*                                                *\n* Open your web browser to http://localhost:8080 *\n*                                                *\n**************************************************\nExecuting twistd  --pidfile=\"aaa.sagenb/sagenb.pid\" -ny \"aaa.sagenb/twistedconf.tac\"\n2013-06-14 20:31:07+0800 [-] Log opened.\n2013-06-14 20:31:07+0800 [-] twistd 13.0.0 (/home/punarbasu/Installations/sage-5.10.rc0.sagenb/local/bin/python 2.7.4) starting up.\n2013-06-14 20:31:07+0800 [-] reactor class: twisted.internet.epollreactor.EPollReactor.\n2013-06-14 20:31:07+0800 [-] QuietSite starting on 8080\n2013-06-14 20:31:07+0800 [-] Starting factory <__builtin__.QuietSite instance at 0x5e1a758>\n2013-06-14 20:37:13+0800 [HTTPChannel,6,127.0.0.1] Quitting ignored worksheet process for u'aaa'.\n```\n\n\n*Edit* The timeout that I face is roughly 300s and it also doesn't match any of the timeout settings that I can see in the notebook interface.",
    "created_at": "2013-06-14T12:37:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176945",
    "user": "https://github.com/ppurka"
}
```

Can anyone test if the idle timeouts are working fine? I am getting a timeout and the sage process is quitting even when the idle timeout setting in my notebook is set to 0. There should be no timeouts at all in this case. See the last line below.

```
**************************************************
*                                                *
* Open your web browser to http://localhost:8080 *
*                                                *
**************************************************
Executing twistd  --pidfile="aaa.sagenb/sagenb.pid" -ny "aaa.sagenb/twistedconf.tac"
2013-06-14 20:31:07+0800 [-] Log opened.
2013-06-14 20:31:07+0800 [-] twistd 13.0.0 (/home/punarbasu/Installations/sage-5.10.rc0.sagenb/local/bin/python 2.7.4) starting up.
2013-06-14 20:31:07+0800 [-] reactor class: twisted.internet.epollreactor.EPollReactor.
2013-06-14 20:31:07+0800 [-] QuietSite starting on 8080
2013-06-14 20:31:07+0800 [-] Starting factory <__builtin__.QuietSite instance at 0x5e1a758>
2013-06-14 20:37:13+0800 [HTTPChannel,6,127.0.0.1] Quitting ignored worksheet process for u'aaa'.
```


*Edit* The timeout that I face is roughly 300s and it also doesn't match any of the timeout settings that I can see in the notebook interface.



---

archive/issue_comments_176946.json:
```json
{
    "body": "I did notice a lot of timeouts lately, but I thought it was something I did wrong.  I don't have any details, I'm sorry, but can confirm that it's a little off.",
    "created_at": "2013-06-14T12:43:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176946",
    "user": "https://github.com/kcrisman"
}
```

I did notice a lot of timeouts lately, but I thought it was something I did wrong.  I don't have any details, I'm sorry, but can confirm that it's a little off.



---

archive/issue_comments_176947.json:
```json
{
    "body": "I didn't experiment myself, but with two people having this issue it definitely should not be merged, plenty of worksheets require more than 5 minutes. On a related note of quitting worksheets unnecessarily: https://github.com/sagemath/sagenb/issues/163",
    "created_at": "2013-06-14T14:12:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176947",
    "user": "https://github.com/novoselt"
}
```

I didn't experiment myself, but with two people having this issue it definitely should not be merged, plenty of worksheets require more than 5 minutes. On a related note of quitting worksheets unnecessarily: https://github.com/sagemath/sagenb/issues/163



---

archive/issue_comments_176948.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-06-14T14:12:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176948",
    "user": "https://github.com/novoselt"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_176949.json:
```json
{
    "body": "And this is now https://github.com/sagemath/sagenb/issues/164",
    "created_at": "2013-06-14T14:15:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176949",
    "user": "https://github.com/novoselt"
}
```

And this is now https://github.com/sagemath/sagenb/issues/164



---

archive/issue_comments_176950.json:
```json
{
    "body": "This also solves #13752, I think.",
    "created_at": "2013-06-14T20:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176950",
    "user": "https://github.com/kcrisman"
}
```

This also solves #13752, I think.



---

archive/issue_comments_176951.json:
```json
{
    "body": "For me current top of sagenb does not process docstrings either via tab-completion or question mark.",
    "created_at": "2013-06-19T17:36:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176951",
    "user": "https://github.com/novoselt"
}
```

For me current top of sagenb does not process docstrings either via tab-completion or question mark.



---

archive/issue_comments_176952.json:
```json
{
    "body": "Replying to [comment:51 novoselt]:\n> For me current top of sagenb does not process docstrings either via tab-completion or question mark.\nHas the \"timeout does not work\" problem been magically solved?",
    "created_at": "2013-06-19T19:49:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176952",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:51 novoselt]:
> For me current top of sagenb does not process docstrings either via tab-completion or question mark.
Has the "timeout does not work" problem been magically solved?



---

archive/issue_comments_176953.json:
```json
{
    "body": "Not magically, but it sounds like Andrey has an upstream pull request for this with correct code.  We would need a new spkg, of course.",
    "created_at": "2013-06-19T19:51:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176953",
    "user": "https://github.com/kcrisman"
}
```

Not magically, but it sounds like Andrey has an upstream pull request for this with correct code.  We would need a new spkg, of course.



---

archive/issue_comments_176954.json:
```json
{
    "body": "Do these lines look familiar to anyone?\n\n```\n    from pkg_resources import Requirement, working_set\n    sagenb_path = working_set.find(Requirement.parse('sagenb')).location\n```\n\nIn current master find returns None, which leads to an exception, all exceptions are caught by `except:` and then Sphinx is not working...",
    "created_at": "2013-06-19T20:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176954",
    "user": "https://github.com/novoselt"
}
```

Do these lines look familiar to anyone?

```
    from pkg_resources import Requirement, working_set
    sagenb_path = working_set.find(Requirement.parse('sagenb')).location
```

In current master find returns None, which leads to an exception, all exceptions are caught by `except:` and then Sphinx is not working...



---

archive/issue_comments_176955.json:
```json
{
    "body": "Andrey, does you pull request fix the issue mentioned here? To me it looks like it just makes sagenb respect the configuration file when the timeout isn't specified from the command-line -- which at least from reading this thread seems different than the issues others are experiencing.",
    "created_at": "2013-06-19T20:08:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176955",
    "user": "https://github.com/ohanar"
}
```

Andrey, does you pull request fix the issue mentioned here? To me it looks like it just makes sagenb respect the configuration file when the timeout isn't specified from the command-line -- which at least from reading this thread seems different than the issues others are experiencing.



---

archive/issue_comments_176956.json:
```json
{
    "body": "Changing `idle_timeout` from 120 to 0 fixes timeout issue. Changing `timeout=0` to `timeout=None` and extra if-check ensure that user settings via web interface affect the situation.\n\nMeanwhile, can anyone else confirm that introspection is not working and it is not just me doing something stupid with git?",
    "created_at": "2013-06-19T20:13:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176956",
    "user": "https://github.com/novoselt"
}
```

Changing `idle_timeout` from 120 to 0 fixes timeout issue. Changing `timeout=0` to `timeout=None` and extra if-check ensure that user settings via web interface affect the situation.

Meanwhile, can anyone else confirm that introspection is not working and it is not just me doing something stupid with git?



---

archive/issue_comments_176957.json:
```json
{
    "body": "OK, I have not run setup to register new notebook and that's why it could not find location of whatever.",
    "created_at": "2013-06-19T20:52:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176957",
    "user": "https://github.com/novoselt"
}
```

OK, I have not run setup to register new notebook and that's why it could not find location of whatever.



---

archive/issue_comments_176958.json:
```json
{
    "body": "Slightly off-topic, but I would like to point out that #14273 (which is supposed to be merged with this ticket) also needs review.",
    "created_at": "2013-06-20T07:07:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176958",
    "user": "https://github.com/jdemeyer"
}
```

Slightly off-topic, but I would like to point out that #14273 (which is supposed to be merged with this ticket) also needs review.



---

archive/issue_comments_176959.json:
```json
{
    "body": "I'm also wondering whether the spkg eventually created will be from the release branch or master branch.  The master branch is missing things like some doctest fixes and of course anything new mentioned by Andrey et al. in the last while.  Maybe there should be a 0.10.7 release that includes all the fixes before finally merging this.",
    "created_at": "2013-06-20T20:52:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176959",
    "user": "https://github.com/kcrisman"
}
```

I'm also wondering whether the spkg eventually created will be from the release branch or master branch.  The master branch is missing things like some doctest fixes and of course anything new mentioned by Andrey et al. in the last while.  Maybe there should be a 0.10.7 release that includes all the fixes before finally merging this.



---

archive/issue_comments_176960.json:
```json
{
    "body": "The SPKG will have a version number, so the sagenb code in it should be the state of the repository at that version. That means the SPKG should be built from a tag. The tag should be somewhere on master. The `release` branch is just a branch that sits there and gets master merged into it whenever there's a new tagged version. It doesn't serve much of a purpose other than to track what the latest released version is.",
    "created_at": "2013-06-20T20:56:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176960",
    "user": "https://github.com/kini"
}
```

The SPKG will have a version number, so the sagenb code in it should be the state of the repository at that version. That means the SPKG should be built from a tag. The tag should be somewhere on master. The `release` branch is just a branch that sits there and gets master merged into it whenever there's a new tagged version. It doesn't serve much of a purpose other than to track what the latest released version is.



---

archive/issue_comments_176961.json:
```json
{
    "body": "Okay, in that case we need a new tag (eventually) for all these fixes :-)",
    "created_at": "2013-06-20T21:06:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176961",
    "user": "https://github.com/kcrisman"
}
```

Okay, in that case we need a new tag (eventually) for all these fixes :-)



---

archive/issue_comments_176962.json:
```json
{
    "body": "I would really like to have all my changes in as they have fixed old bugs that were really bugging me ;-) Plus the new version of MathJax is significantly faster, like twice, which helps preventing script timeouts in browsers.",
    "created_at": "2013-06-20T21:13:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176962",
    "user": "https://github.com/novoselt"
}
```

I would really like to have all my changes in as they have fixed old bugs that were really bugging me ;-) Plus the new version of MathJax is significantly faster, like twice, which helps preventing script timeouts in browsers.



---

archive/issue_comments_176963.json:
```json
{
    "body": "New SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.7.spkg",
    "created_at": "2013-06-24T17:51:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176963",
    "user": "https://github.com/kini"
}
```

New SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.7.spkg



---

archive/issue_comments_176964.json:
```json
{
    "body": "I have 5.10 and 5.11.beta3 with this spkg running and typesetting does not work for published worksheets, I just see things like\n\n```\n<script type=\"math/tex\">\\newcommand{\\Bold}[1]{\\mathbf{#1}}\\left[9, 18\\right]</script>\n```\n\nWon't have time right now to figure out what triggers it, but will try in a couple of days if nobody beats me to it. Still \"needs work\", unfortunately... Is it maybe sanitation of worksheets to prevent scripts from running?..",
    "created_at": "2013-06-24T23:18:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176964",
    "user": "https://github.com/novoselt"
}
```

I have 5.10 and 5.11.beta3 with this spkg running and typesetting does not work for published worksheets, I just see things like

```
<script type="math/tex">\newcommand{\Bold}[1]{\mathbf{#1}}\left[9, 18\right]</script>
```

Won't have time right now to figure out what triggers it, but will try in a couple of days if nobody beats me to it. Still "needs work", unfortunately... Is it maybe sanitation of worksheets to prevent scripts from running?..



---

archive/issue_comments_176965.json:
```json
{
    "body": "And looks like images are not shown either.",
    "created_at": "2013-06-24T23:20:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176965",
    "user": "https://github.com/novoselt"
}
```

And looks like images are not shown either.



---

archive/issue_comments_176966.json:
```json
{
    "body": "Replying to [comment:64 novoselt]:\n> I have 5.10 and 5.11.beta3 with this spkg running and typesetting does not work for published worksheets, I just see things like\n> {{{\n> <script type=\"math/tex\">\\newcommand{\\Bold}[1]{\\mathbf{#1}}\\left[9, 18\\right]</script>\n> }}}\n> Won't have time right now to figure out what triggers it, but will try in a couple of days if nobody beats me to it. Still \"needs work\", unfortunately... Is it maybe sanitation of worksheets to prevent scripts from running?..\nYou must be right.    I thought that this was only run as an option, but closer scrutiny says not.   Mathjax isn't supposed to be killed off:\n\n```\nif el.tag=='script' and el.get('type')=='math/tex' and not el.get('src'):\n    return True\n```\n\nbut apparently it's not working right.  Maybe it's working okay but some other stuff around it is removed so that the Mathjax doesn't render?\n\nIn any case, I feel like it should be an *option* to have this happen, and now I see it's required for all published worksheets.  I could be persuaded otherwise, but at least this should work first :)",
    "created_at": "2013-06-25T12:42:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176966",
    "user": "https://github.com/kcrisman"
}
```

Replying to [comment:64 novoselt]:
> I have 5.10 and 5.11.beta3 with this spkg running and typesetting does not work for published worksheets, I just see things like
> {{{
> <script type="math/tex">\newcommand{\Bold}[1]{\mathbf{#1}}\left[9, 18\right]</script>
> }}}
> Won't have time right now to figure out what triggers it, but will try in a couple of days if nobody beats me to it. Still "needs work", unfortunately... Is it maybe sanitation of worksheets to prevent scripts from running?..
You must be right.    I thought that this was only run as an option, but closer scrutiny says not.   Mathjax isn't supposed to be killed off:

```
if el.tag=='script' and el.get('type')=='math/tex' and not el.get('src'):
    return True
```

but apparently it's not working right.  Maybe it's working okay but some other stuff around it is removed so that the Mathjax doesn't render?

In any case, I feel like it should be an *option* to have this happen, and now I see it's required for all published worksheets.  I could be persuaded otherwise, but at least this should work first :)



---

archive/issue_comments_176967.json:
```json
{
    "body": "If this is the case, perhaps we should not ship sanitation with Sage. Those who run world-accessible servers should know what they are doing, what are the risks, and how to deal with them, in particular they are free to install the branch with sanitation. For those who run servers for trusted/known users only, sanitation is not really necessary...",
    "created_at": "2013-06-25T14:41:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176967",
    "user": "https://github.com/novoselt"
}
```

If this is the case, perhaps we should not ship sanitation with Sage. Those who run world-accessible servers should know what they are doing, what are the risks, and how to deal with them, in particular they are free to install the branch with sanitation. For those who run servers for trusted/known users only, sanitation is not really necessary...



---

archive/issue_comments_176968.json:
```json
{
    "body": "I just tried and it is possible to *remove* (not revert) the commits by running\n\n```\ngit rebase -i\n```\n\nand removing the commits corresponding to\n\n```\n```\n\n| * | 003436a - Remove the remainder of the whatwg unsafe tags. 9 months ago <Jason Grout>\n| * | 9f5bcf4 - Don't scrub html twice. 9 months ago <Jason Grout>\n| * | 941299f - Add nofollow to html scrubbing.  Thanks to Volker Braun for bringing it up. 9 months ago <Jason Grout>\n| * | 77fb49a - Sanitize the output and text cells of published worksheets. 9 months ago <Jason Grout>\nThen we need to push (force) this update to sagenb master.\n\nDo we want to do that? Will this automatically revert the status of jason's pull request to \"open\" again?",
    "created_at": "2013-06-25T15:08:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176968",
    "user": "https://github.com/ppurka"
}
```

I just tried and it is possible to *remove* (not revert) the commits by running

```
git rebase -i
```

and removing the commits corresponding to

```
```

| * | 003436a - Remove the remainder of the whatwg unsafe tags. 9 months ago <Jason Grout>
| * | 9f5bcf4 - Don't scrub html twice. 9 months ago <Jason Grout>
| * | 941299f - Add nofollow to html scrubbing.  Thanks to Volker Braun for bringing it up. 9 months ago <Jason Grout>
| * | 77fb49a - Sanitize the output and text cells of published worksheets. 9 months ago <Jason Grout>
Then we need to push (force) this update to sagenb master.

Do we want to do that? Will this automatically revert the status of jason's pull request to "open" again?



---

archive/issue_comments_176969.json:
```json
{
    "body": "No, we don't want to force push to master. That's a very bad practice and will screw up anyone else who has pulled from the repo since I released 0.10.7. This will have to be 0.10.7.1, I'm afraid :P I'll cut it, give me a sec",
    "created_at": "2013-06-25T15:14:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176969",
    "user": "https://github.com/kini"
}
```

No, we don't want to force push to master. That's a very bad practice and will screw up anyone else who has pulled from the repo since I released 0.10.7. This will have to be 0.10.7.1, I'm afraid :P I'll cut it, give me a sec



---

archive/issue_comments_176970.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-06-25T15:30:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176970",
    "user": "https://github.com/kini"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_176971.json:
```json
{
    "body": "New SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.7.1.spkg",
    "created_at": "2013-06-25T15:30:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176971",
    "user": "https://github.com/kini"
}
```

New SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.7.1.spkg



---

archive/issue_comments_176972.json:
```json
{
    "body": "Thanks Keshav, published formulas and pictures are back, will keep testing!",
    "created_at": "2013-06-25T19:46:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176972",
    "user": "https://github.com/novoselt"
}
```

Thanks Keshav, published formulas and pictures are back, will keep testing!



---

archive/issue_comments_176973.json:
```json
{
    "body": "Thanks for catching this, Andrey!   Sorry for missing this somehow :(",
    "created_at": "2013-06-25T19:50:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176973",
    "user": "https://github.com/kcrisman"
}
```

Thanks for catching this, Andrey!   Sorry for missing this somehow :(



---

archive/issue_comments_176974.json:
```json
{
    "body": "I see `[Math Processing Error]` on published worksheets when the renderer is set to SVG. It works fine when it is kept at the default HTML-CSS.\n\n3D plots show up fine (the 2D static version at least), and plots show up fine. I think this ticket is good to go.",
    "created_at": "2013-06-30T07:24:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176974",
    "user": "https://github.com/ppurka"
}
```

I see `[Math Processing Error]` on published worksheets when the renderer is set to SVG. It works fine when it is kept at the default HTML-CSS.

3D plots show up fine (the 2D static version at least), and plots show up fine. I think this ticket is good to go.



---

archive/issue_comments_176975.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-06-30T07:24:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176975",
    "user": "https://github.com/ppurka"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_176976.json:
```json
{
    "body": "I added a git branch containing just the spkg meta files. It needs the file sagenb-0.10.7.1.tar.gz, which is available to people with accounts on boxen in my home directory (/home/tkluck/sagenb-0.10.7.1.tar.gz)\n\nThis does not (yet?) incorporate #10637 or #14273.",
    "created_at": "2013-07-22T22:14:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176976",
    "user": "https://github.com/tkluck"
}
```

I added a git branch containing just the spkg meta files. It needs the file sagenb-0.10.7.1.tar.gz, which is available to people with accounts on boxen in my home directory (/home/tkluck/sagenb-0.10.7.1.tar.gz)

This does not (yet?) incorporate #10637 or #14273.



---

archive/issue_comments_176977.json:
```json
{
    "body": "I also put the tarball on http://www.infty.nl/misc/sagenb-0.10.7.1.tar.gz",
    "created_at": "2013-07-23T12:29:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176977",
    "user": "https://github.com/tkluck"
}
```

I also put the tarball on http://www.infty.nl/misc/sagenb-0.10.7.1.tar.gz



---

archive/issue_comments_176978.json:
```json
{
    "body": "Why does this ticket depend on #10637?\n\nOn the one hand, we need to update to version 0.10.7.1 of the notebook to be able to switch to the integrated git repository. On the other hand, we try to keep the number of changes to a minimum. Is it okay to update the sage notebook in the git repository without applying #10637 there?",
    "created_at": "2013-07-23T12:48:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176978",
    "user": "https://github.com/tkluck"
}
```

Why does this ticket depend on #10637?

On the one hand, we need to update to version 0.10.7.1 of the notebook to be able to switch to the integrated git repository. On the other hand, we try to keep the number of changes to a minimum. Is it okay to update the sage notebook in the git repository without applying #10637 there?



---

archive/issue_comments_176979.json:
```json
{
    "body": "Replying to [comment:79 tkluck]:\n> Why does this ticket depend on #10637?\n\nThe changes to the notebook to support sws2rst have already [been merged](https://github.com/sagemath/sagenb/pull/160) and is present in 0.10.7.1.\n\nAs such you don't really need to apply #10637 to Sage to get a functional notebook. You won't lose any functionality in Sage, except that the sws2rst option won't be present. Doctests in sagenb should not fail, as long as you do not doctest the optional parts.",
    "created_at": "2013-07-23T13:18:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176979",
    "user": "https://github.com/ppurka"
}
```

Replying to [comment:79 tkluck]:
> Why does this ticket depend on #10637?

The changes to the notebook to support sws2rst have already [been merged](https://github.com/sagemath/sagenb/pull/160) and is present in 0.10.7.1.

As such you don't really need to apply #10637 to Sage to get a functional notebook. You won't lose any functionality in Sage, except that the sws2rst option won't be present. Doctests in sagenb should not fail, as long as you do not doctest the optional parts.



---

archive/issue_comments_176980.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-08-02T14:13:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14126#issuecomment-176980",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_013932.json:
```json
{
    "actor": "@jdemeyer",
    "created_at": "2013-08-02T14:13:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14126",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14126#event-13932"
}
```
