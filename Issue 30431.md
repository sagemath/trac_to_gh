# Issue 30431: Prepare for autoconf-2.71

archive/issues_030431.json:
```json
{
    "body": "CC:  @mkoeppe @kiwifb @dimpase @vbraun\n\nAutoconf is finally getting an update after 8 years, and there are some breaking changes. A beta version has been released for testing:\n\n  https://lists.gnu.org/archive/html/autoconf/2020-09/msg00006.html\n\nWe should try to bootstrap sage with the new version to make sure everything works before any end-users get a chance to.\n\nThis ticket also unbreaks make targets such as `distclean`, which rely on normal return from `./bootstrap`, for these on autoconf 2.71\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/30668\n\n",
    "closed_at": "2021-07-25T18:51:45Z",
    "created_at": "2020-09-26T18:52:47Z",
    "labels": [
        "component: build",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Prepare for autoconf-2.71",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30431",
    "user": "https://github.com/orlitzky"
}
```
CC:  @mkoeppe @kiwifb @dimpase @vbraun

Autoconf is finally getting an update after 8 years, and there are some breaking changes. A beta version has been released for testing:

  https://lists.gnu.org/archive/html/autoconf/2020-09/msg00006.html

We should try to bootstrap sage with the new version to make sure everything works before any end-users get a chance to.

This ticket also unbreaks make targets such as `distclean`, which rely on normal return from `./bootstrap`, for these on autoconf 2.71


Issue created by migration from https://trac.sagemath.org/ticket/30668





---

archive/issue_comments_433655.json:
```json
{
    "body": "Well, fortunately end users do not run autoconf.",
    "created_at": "2020-09-26T20:05:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433655",
    "user": "https://github.com/mkoeppe"
}
```

Well, fortunately end users do not run autoconf.



---

archive/issue_comments_433656.json:
```json
{
    "body": "Lots of people clone the git repo and run `./bootstrap`. They're who I had in mind.",
    "created_at": "2020-09-26T23:11:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433656",
    "user": "https://github.com/orlitzky"
}
```

Lots of people clone the git repo and run `./bootstrap`. They're who I had in mind.



---

archive/issue_comments_433657.json:
```json
{
    "body": "I think it's a good idea to check whether we can point out some issued, before the release is final.",
    "created_at": "2020-09-27T10:43:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433657",
    "user": "https://github.com/dimpase"
}
```

I think it's a good idea to check whether we can point out some issued, before the release is final.



---

archive/issue_comments_433658.json:
```json
{
    "body": "Bootstrap output (cleaned up):\n\n```\nconfigure.ac:392: warning: back quotes and double quotes must not be escaped in: multiple installation records for $SPKG_NAME: m4_newline($(ls -l \"$SAGE_SPKG_INST/$SPKG_NAME\"-*)) m4_newline([only one should exist, so please delete some or all of these files and re-run \\\"$srcdir/configure\\\"])\nm4/sage_spkg_configures.m4:191: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:191: warning: The macro `AC_PROG_CC_C99' is obsolete.\nm4/sage_spkg_configures.m4:204: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:261: warning: The macro `AC_TRY_LINK' is obsolete.\nm4/sage_spkg_configures.m4:261: warning: The macro `AC_TRY_RUN' is obsolete.\n```",
    "created_at": "2020-10-15T16:41:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433658",
    "user": "https://github.com/orlitzky"
}
```

Bootstrap output (cleaned up):

```
configure.ac:392: warning: back quotes and double quotes must not be escaped in: multiple installation records for $SPKG_NAME: m4_newline($(ls -l "$SAGE_SPKG_INST/$SPKG_NAME"-*)) m4_newline([only one should exist, so please delete some or all of these files and re-run \"$srcdir/configure\"])
m4/sage_spkg_configures.m4:191: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:191: warning: The macro `AC_PROG_CC_C99' is obsolete.
m4/sage_spkg_configures.m4:204: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:261: warning: The macro `AC_TRY_LINK' is obsolete.
m4/sage_spkg_configures.m4:261: warning: The macro `AC_TRY_RUN' is obsolete.
```



---

archive/issue_comments_433659.json:
```json
{
    "body": "AC_TRY_LINK comes from ppl.m4, and has an easy replacement. Reported upstream at https://www.cs.unipr.it/mantis/view.php?id=2751",
    "created_at": "2020-10-15T16:53:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433659",
    "user": "https://github.com/orlitzky"
}
```

AC_TRY_LINK comes from ppl.m4, and has an easy replacement. Reported upstream at https://www.cs.unipr.it/mantis/view.php?id=2751



---

archive/issue_comments_433660.json:
```json
{
    "body": "AC_TRY_RUN, too: https://www.cs.unipr.it/mantis/view.php?id=2752",
    "created_at": "2020-10-15T16:55:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433660",
    "user": "https://github.com/orlitzky"
}
```

AC_TRY_RUN, too: https://www.cs.unipr.it/mantis/view.php?id=2752



---

archive/issue_comments_433661.json:
```json
{
    "body": "AC_FOREACH: http://savannah.gnu.org/patch/index.php?9983",
    "created_at": "2020-10-17T16:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433661",
    "user": "https://github.com/orlitzky"
}
```

AC_FOREACH: http://savannah.gnu.org/patch/index.php?9983



---

archive/issue_events_079787.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30431#event-79787"
}
```



---

archive/issue_comments_433662.json:
```json
{
    "body": "Dropping the backslashes that it complains about in `m4/sage_spkg_collect.m4` doesn't seem to hurt anything (output does not change):\n\n```patch\ndiff --git a/m4/sage_spkg_collect.m4 b/m4/sage_spkg_collect.m4\nindex 7cba7252c4..3867bc16c9 100644\n--- a/m4/sage_spkg_collect.m4\n+++ b/m4/sage_spkg_collect.m4\n@@ -183,7 +183,7 @@ for DIR in $SAGE_ROOT/build/pkgs/*; do\n                         multiple installation records for $SPKG_NAME:\n                         m4_newline($(ls -l \"$SAGE_SPKG_INST/$SPKG_NAME\"-*))\n                         m4_newline([only one should exist, so please delete some or all\n-                        of these files and re-run \\\"$srcdir/configure\\\"])\n+                        of these files and re-run \"$srcdir/configure\"])\n                     ]))\n                 ])\n                 stampfile=yes\n```",
    "created_at": "2020-10-28T19:06:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433662",
    "user": "https://github.com/orlitzky"
}
```

Dropping the backslashes that it complains about in `m4/sage_spkg_collect.m4` doesn't seem to hurt anything (output does not change):

```patch
diff --git a/m4/sage_spkg_collect.m4 b/m4/sage_spkg_collect.m4
index 7cba7252c4..3867bc16c9 100644
--- a/m4/sage_spkg_collect.m4
+++ b/m4/sage_spkg_collect.m4
@@ -183,7 +183,7 @@ for DIR in $SAGE_ROOT/build/pkgs/*; do
                         multiple installation records for $SPKG_NAME:
                         m4_newline($(ls -l "$SAGE_SPKG_INST/$SPKG_NAME"-*))
                         m4_newline([only one should exist, so please delete some or all
-                        of these files and re-run \"$srcdir/configure\"])
+                        of these files and re-run "$srcdir/configure"])
                     ]))
                 ])
                 stampfile=yes
```



---

archive/issue_comments_433663.json:
```json
{
    "body": "Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433663",
    "user": "https://github.com/mkoeppe"
}
```

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_079788.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30431#event-79788"
}
```



---

archive/issue_events_079789.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30431#event-79789"
}
```



---

archive/issue_comments_433664.json:
```json
{
    "body": "on Gentoo, autoconf is now version 2.71. Running `autoupdate m4/*` produces mostly backward-compatible changes.",
    "created_at": "2021-03-15T11:37:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433664",
    "user": "https://github.com/dimpase"
}
```

on Gentoo, autoconf is now version 2.71. Running `autoupdate m4/*` produces mostly backward-compatible changes.



---

archive/issue_comments_433665.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-03-15T11:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433665",
    "user": "https://github.com/dimpase"
}
```

New commits:



---

archive/issue_comments_433666.json:
```json
{
    "body": "I think that leaves only the obsolete `AC_PROG_CC_C99` in `build/pkgs/gcc/spkg-configure.m4`. The new autoconf docs say that we can replace\n\n```\n    AC_LANG_PUSH(C)\n    if test -z \"$CC\"; then\n        SAGE_MUST_INSTALL_GCC([a C compiler is missing])\n    fi\n\n    # Save compiler before checking for C99 support                             \n    save_CC=$CC\n    # Check that we can compile C99 code                                        \n    AC_PROG_CC_C99()\n    if test \"x$ac_cv_prog_cc_c99\" = xno; then\n        SAGE_MUST_INSTALL_GCC([your C compiler cannot compile C99 code])\n    fi\n    # restore original CC                                                       \n    CC=$save_CC\n    AC_LANG_POP()\n```\n\nwith\n\n```\n    if test -z \"$CC\"; then\n        SAGE_MUST_INSTALL_GCC([a C compiler is missing])\n    fi\n\n    if test \"x$ac_cv_prog_cc_c99\" = xno; then\n        SAGE_MUST_INSTALL_GCC([your C compiler cannot compile C99 code])\n    fi\n```\n\nsince we already call `AC_PROG_CC()`, and it now sets `$ac_cv_prog_cc_c99`.\n\n**But** that would skip the C99 check for people using older autoconf. Should we...\n\n1. ignore that problem, or\n2. set the minimum version of autoconf required to 2.70, or\n3. just leave the `AC_PROG_CC_C99()` alone for now and fix it in the future?",
    "created_at": "2021-03-15T14:59:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433666",
    "user": "https://github.com/orlitzky"
}
```

I think that leaves only the obsolete `AC_PROG_CC_C99` in `build/pkgs/gcc/spkg-configure.m4`. The new autoconf docs say that we can replace

```
    AC_LANG_PUSH(C)
    if test -z "$CC"; then
        SAGE_MUST_INSTALL_GCC([a C compiler is missing])
    fi

    # Save compiler before checking for C99 support                             
    save_CC=$CC
    # Check that we can compile C99 code                                        
    AC_PROG_CC_C99()
    if test "x$ac_cv_prog_cc_c99" = xno; then
        SAGE_MUST_INSTALL_GCC([your C compiler cannot compile C99 code])
    fi
    # restore original CC                                                       
    CC=$save_CC
    AC_LANG_POP()
```

with

```
    if test -z "$CC"; then
        SAGE_MUST_INSTALL_GCC([a C compiler is missing])
    fi

    if test "x$ac_cv_prog_cc_c99" = xno; then
        SAGE_MUST_INSTALL_GCC([your C compiler cannot compile C99 code])
    fi
```

since we already call `AC_PROG_CC()`, and it now sets `$ac_cv_prog_cc_c99`.

**But** that would skip the C99 check for people using older autoconf. Should we...

1. ignore that problem, or
2. set the minimum version of autoconf required to 2.70, or
3. just leave the `AC_PROG_CC_C99()` alone for now and fix it in the future?



---

archive/issue_comments_433667.json:
```json
{
    "body": "Replying to [comment:13 mjo]:\n> Should we[...]\n> 2. set the minimum version of autoconf required to 2.70, or\n> [...]\n\n\nNo, that would be too disruptive",
    "created_at": "2021-03-15T16:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433667",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:13 mjo]:
> Should we[...]
> 2. set the minimum version of autoconf required to 2.70, or
> [...]


No, that would be too disruptive



---

archive/issue_comments_433668.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-03-15T18:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433668",
    "user": "https://github.com/orlitzky"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_433669.json:
```json
{
    "body": "This looks sufficient for both autoconf-2.69 and autoconf-2.71.\n\n---\nNew commits:",
    "created_at": "2021-03-15T18:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433669",
    "user": "https://github.com/orlitzky"
}
```

This looks sufficient for both autoconf-2.69 and autoconf-2.71.

---
New commits:



---

archive/issue_comments_433670.json:
```json
{
    "body": "As you could check,\n\n```\n     if test \"x$ac_cv_prog_cc_c99\" = xno; then\n         SAGE_MUST_INSTALL_GCC([your C compiler cannot compile C99 code])\n     fi\n```\ncan be removed, as nothing sets `ac_cv_prog_cc_c99` any more.",
    "created_at": "2021-03-16T10:52:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433670",
    "user": "https://github.com/dimpase"
}
```

As you could check,

```
     if test "x$ac_cv_prog_cc_c99" = xno; then
         SAGE_MUST_INSTALL_GCC([your C compiler cannot compile C99 code])
     fi
```
can be removed, as nothing sets `ac_cv_prog_cc_c99` any more.



---

archive/issue_comments_433671.json:
```json
{
    "body": "Replying to [comment:16 dimpase]:\n> as nothing sets `ac_cv_prog_cc_c99` any more.\n\n\nOf course I haven't tested on a system with a brand-new autoconf and a twenty-year-old gcc, but the documentation for >=autoconf-2.70 says that `AC_PROG_CC` can now set it:\n\nhttps://www.gnu.org/software/autoconf/manual/autoconf-2.70/html_node/C-Compiler.html",
    "created_at": "2021-03-16T11:23:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433671",
    "user": "https://github.com/orlitzky"
}
```

Replying to [comment:16 dimpase]:
> as nothing sets `ac_cv_prog_cc_c99` any more.


Of course I haven't tested on a system with a brand-new autoconf and a twenty-year-old gcc, but the documentation for >=autoconf-2.70 says that `AC_PROG_CC` can now set it:

https://www.gnu.org/software/autoconf/manual/autoconf-2.70/html_node/C-Compiler.html



---

archive/issue_comments_433672.json:
```json
{
    "body": "OK, fine, thanks. I'm bumping it to 9.3, perhaps there is still room...",
    "created_at": "2021-03-16T17:05:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433672",
    "user": "https://github.com/dimpase"
}
```

OK, fine, thanks. I'm bumping it to 9.3, perhaps there is still room...



---

archive/issue_events_079790.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-16T17:05:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30431#event-79790"
}
```



---

archive/issue_events_079791.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-16T17:05:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30431#event-79791"
}
```



---

archive/issue_comments_433673.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-03-16T17:05:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433673",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_433674.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-03-16T17:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433674",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_433675.json:
```json
{
    "body": "```\ndiff --git a/m4/ax_check_compile_flag.m4 b/m4/ax_check_compile_flag.m4\nindex bd753b3..423ab25 100644\n--- a/m4/ax_check_compile_flag.m4\n+++ b/m4/ax_check_compile_flag.m4\n@@ -37,7 +37,7 @@\n #serial 6\n \n AC_DEFUN([AX_CHECK_COMPILE_FLAG],\n-[AC_PREREQ(2.64)dnl for _AC_LANG_PREFIX and AS_VAR_IF\n+[AC_PREREQ([2.69])dnl for _AC_LANG_PREFIX and AS_VAR_IF\n AS_VAR_PUSHDEF([CACHEVAR],[ax_cv_check_[]_AC_LANG_ABBREV[]flags_$4_$1])dnl\n AC_CACHE_CHECK([whether _AC_LANG compiler accepts $1], CACHEVAR, [\n   ax_check_save_flags=$[]_AC_LANG_PREFIX[]FLAGS\n```\nChanges like this are not good. These are files from autoconf-archive, and their versions are identified by `#serial`. Don't make changes within them. If necessary, get a newer version from autoconf-archive.",
    "created_at": "2021-03-16T17:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433675",
    "user": "https://github.com/mkoeppe"
}
```

```
diff --git a/m4/ax_check_compile_flag.m4 b/m4/ax_check_compile_flag.m4
index bd753b3..423ab25 100644
--- a/m4/ax_check_compile_flag.m4
+++ b/m4/ax_check_compile_flag.m4
@@ -37,7 +37,7 @@
 #serial 6
 
 AC_DEFUN([AX_CHECK_COMPILE_FLAG],
-[AC_PREREQ(2.64)dnl for _AC_LANG_PREFIX and AS_VAR_IF
+[AC_PREREQ([2.69])dnl for _AC_LANG_PREFIX and AS_VAR_IF
 AS_VAR_PUSHDEF([CACHEVAR],[ax_cv_check_[]_AC_LANG_ABBREV[]flags_$4_$1])dnl
 AC_CACHE_CHECK([whether _AC_LANG compiler accepts $1], CACHEVAR, [
   ax_check_save_flags=$[]_AC_LANG_PREFIX[]FLAGS
```
Changes like this are not good. These are files from autoconf-archive, and their versions are identified by `#serial`. Don't make changes within them. If necessary, get a newer version from autoconf-archive.



---

archive/issue_comments_433676.json:
```json
{
    "body": "well, the archive still has these old versions, e.g.: http://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=blob_plain;f=m4/ax_check_compile_flag.m4",
    "created_at": "2021-03-16T17:50:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433676",
    "user": "https://github.com/dimpase"
}
```

well, the archive still has these old versions, e.g.: http://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=blob_plain;f=m4/ax_check_compile_flag.m4



---

archive/issue_comments_433677.json:
```json
{
    "body": "Well, bumping the `AC_PREREQ` of these macros is certainly not needed for this ticket. There is already `AC_PREREQ([2.69])` in `configure.ac`, so what are you trying to achieve by these changes?",
    "created_at": "2021-03-16T18:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433677",
    "user": "https://github.com/mkoeppe"
}
```

Well, bumping the `AC_PREREQ` of these macros is certainly not needed for this ticket. There is already `AC_PREREQ([2.69])` in `configure.ac`, so what are you trying to achieve by these changes?



---

archive/issue_comments_433678.json:
```json
{
    "body": "http://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=blob_plain;f=m4/ax_absolute_header.m4 has a newer version.\n\nFor other autoconf-archive macros that actually need changing, it would probably be good to prepare a pull request.",
    "created_at": "2021-03-16T18:24:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433678",
    "user": "https://github.com/mkoeppe"
}
```

http://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=blob_plain;f=m4/ax_absolute_header.m4 has a newer version.

For other autoconf-archive macros that actually need changing, it would probably be good to prepare a pull request.



---

archive/issue_comments_433679.json:
```json
{
    "body": "One reason I changed the version in these files was that autoupdate script changes them, to 2.71.",
    "created_at": "2021-03-19T13:53:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433679",
    "user": "https://github.com/dimpase"
}
```

One reason I changed the version in these files was that autoupdate script changes them, to 2.71.



---

archive/issue_comments_433680.json:
```json
{
    "body": "It sure looked like an automatically made change. But it should not be on the ticket.",
    "created_at": "2021-03-19T17:01:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433680",
    "user": "https://github.com/mkoeppe"
}
```

It sure looked like an automatically made change. But it should not be on the ticket.



---

archive/issue_comments_433681.json:
```json
{
    "body": "I can revert ax_c_check_flag.m4 change. \n\nHow about extra quotes to be put in in\nax_check_compile_flag.m4 ?\nWould you object to `2.64` becoming `[2.64]` ?",
    "created_at": "2021-03-20T23:22:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433681",
    "user": "https://github.com/dimpase"
}
```

I can revert ax_c_check_flag.m4 change. 

How about extra quotes to be put in in
ax_check_compile_flag.m4 ?
Would you object to `2.64` becoming `[2.64]` ?



---

archive/issue_comments_433682.json:
```json
{
    "body": "Is the quoting fix needed to suppress warnings with the new version? Then it should be upstreamed...",
    "created_at": "2021-03-21T01:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433682",
    "user": "https://github.com/mkoeppe"
}
```

Is the quoting fix needed to suppress warnings with the new version? Then it should be upstreamed...



---

archive/issue_comments_433683.json:
```json
{
    "body": "Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433683",
    "user": "https://github.com/mkoeppe"
}
```

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_079792.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30431#event-79792"
}
```



---

archive/issue_events_079793.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30431#event-79793"
}
```



---

archive/issue_comments_433684.json:
```json
{
    "body": "Replying to [comment:27 mkoeppe]:\n> Is the quoting fix needed to suppress warnings with the new version? Then it should be upstreamed...\n\n\nno, no warning without quotes.",
    "created_at": "2021-03-24T12:44:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433684",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:27 mkoeppe]:
> Is the quoting fix needed to suppress warnings with the new version? Then it should be upstreamed...


no, no warning without quotes.



---

archive/issue_comments_433685.json:
```json
{
    "body": "ping?",
    "created_at": "2021-05-16T23:54:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433685",
    "user": "https://github.com/mkoeppe"
}
```

ping?



---

archive/issue_comments_433686.json:
```json
{
    "body": "OK, how about this?\n\n---\nNew commits:",
    "created_at": "2021-05-17T09:07:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433686",
    "user": "https://github.com/dimpase"
}
```

OK, how about this?

---
New commits:



---

archive/issue_comments_433687.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-05-17T09:07:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433687",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_433688.json:
```json
{
    "body": "Same as before",
    "created_at": "2021-05-18T03:56:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433688",
    "user": "https://github.com/mkoeppe"
}
```

Same as before



---

archive/issue_comments_433689.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-05-18T03:56:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433689",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_433690.json:
```json
{
    "body": "And also, what is this:\n\n```\n-AU_ALIAS([CHECK_SSL], [AX_CHECK_OPENSSL])\n+AU_ALIAS([AX_CHECK_OPENSSL], [AX_CHECK_OPENSSL])\n```",
    "created_at": "2021-05-18T04:07:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433690",
    "user": "https://github.com/mkoeppe"
}
```

And also, what is this:

```
-AU_ALIAS([CHECK_SSL], [AX_CHECK_OPENSSL])
+AU_ALIAS([AX_CHECK_OPENSSL], [AX_CHECK_OPENSSL])
```



---

archive/issue_comments_433691.json:
```json
{
    "body": "our `m4/ax_*` files are not pristine upstream, e.g. check `m4/ax_check_root.m4`.\nWe do fix bugs there. Thus I think you're too strict in demanding these be left untouched.\n\nAs to comment:33 goes, that's what the automatic update did.\nI guess this means that this `AU_ALIAS` may be deleted.",
    "created_at": "2021-05-18T15:25:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433691",
    "user": "https://github.com/dimpase"
}
```

our `m4/ax_*` files are not pristine upstream, e.g. check `m4/ax_check_root.m4`.
We do fix bugs there. Thus I think you're too strict in demanding these be left untouched.

As to comment:33 goes, that's what the automatic update did.
I guess this means that this `AU_ALIAS` may be deleted.



---

archive/issue_comments_433692.json:
```json
{
    "body": "Replying to [comment:34 dimpase]:\n> our `m4/ax_*` files are not pristine upstream, e.g. check `m4/ax_check_root.m4`.\n> We do fix bugs there. Thus I think you're too strict in demanding these be left untouched.\n\n\ncomment 22. PR for upstream",
    "created_at": "2021-05-18T16:14:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433692",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:34 dimpase]:
> our `m4/ax_*` files are not pristine upstream, e.g. check `m4/ax_check_root.m4`.
> We do fix bugs there. Thus I think you're too strict in demanding these be left untouched.


comment 22. PR for upstream



---

archive/issue_comments_433693.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-18T16:43:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433693",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_433694.json:
```json
{
    "body": "I'll ask on autoconf mailing list how/if they want updates",
    "created_at": "2021-05-18T16:44:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433694",
    "user": "https://github.com/dimpase"
}
```

I'll ask on autoconf mailing list how/if they want updates



---

archive/issue_comments_433695.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-05-18T16:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433695",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_433696.json:
```json
{
    "body": "by the way, I noticed that Gentoo went back to 2.69, for a reason stated on https://packages.gentoo.org/packages/sys-devel/autoconf as\n\n```\nHas unidentified race condition on very fast CPUs that causes maintainer- mode to be triggered. Most likely caused by the following upstream commit: https://git.savannah.gnu.org/cgit/autoconf.git/commit/?id=aba75f6d4a9c875a9d5d90a07c6b3678db66a4bf\n```\nbut this supposed bug does not seem to be on Gentoo bug tracker, nor reported on bug-autoconf mailing list.",
    "created_at": "2021-05-20T09:38:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433696",
    "user": "https://github.com/dimpase"
}
```

by the way, I noticed that Gentoo went back to 2.69, for a reason stated on https://packages.gentoo.org/packages/sys-devel/autoconf as

```
Has unidentified race condition on very fast CPUs that causes maintainer- mode to be triggered. Most likely caused by the following upstream commit: https://git.savannah.gnu.org/cgit/autoconf.git/commit/?id=aba75f6d4a9c875a9d5d90a07c6b3678db66a4bf
```
but this supposed bug does not seem to be on Gentoo bug tracker, nor reported on bug-autoconf mailing list.



---

archive/issue_comments_433697.json:
```json
{
    "body": "this leaves me without a ready to use system I can test these updates.",
    "created_at": "2021-05-20T09:39:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433697",
    "user": "https://github.com/dimpase"
}
```

this leaves me without a ready to use system I can test these updates.



---

archive/issue_comments_433698.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-05-20T09:39:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433698",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_433699.json:
```json
{
    "body": "You can unmask autoconf-2.71 on Gentoo by adding the line `sys-devel/autoconf:2.71` to `/etc/portage/package.unmask`.\n\nI am sceptical of the unreported race condition, but have too many other things to worry about at the moment.",
    "created_at": "2021-05-20T15:18:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433699",
    "user": "https://github.com/orlitzky"
}
```

You can unmask autoconf-2.71 on Gentoo by adding the line `sys-devel/autoconf:2.71` to `/etc/portage/package.unmask`.

I am sceptical of the unreported race condition, but have too many other things to worry about at the moment.



---

archive/issue_comments_433700.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-05-20T16:58:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433700",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_433701.json:
```json
{
    "body": "I've removed all the changes to ax_* files - except the one that was updated upstream, so I included this update here.",
    "created_at": "2021-05-20T16:59:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433701",
    "user": "https://github.com/dimpase"
}
```

I've removed all the changes to ax_* files - except the one that was updated upstream, so I included this update here.



---

archive/issue_comments_433702.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-05-20T16:59:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433702",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_433703.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-05-20T17:23:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433703",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_433704.json:
```json
{
    "body": "weirdly, `SAGE_SPKG_CONFIGURE_BOOST` creeps up in a warning, even though full `boost` package is gone.\n\n```\nconfigure.ac:43: installing 'config/missing'\nm4/sage_spkg_configures.m4:500: warning: SAGE_SPKG_CONFIGURE_BOOST is m4_require'd but not m4_defun'd\nm4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...\nm4/sage_spkg_configures.m4:500: the top level\n```\n\nfeels like wrong quoting somewhere?\n\nAs well:\n\n```\n% ./configure --help | grep boost\n  --with-system-boost_cropped={no|yes (default)|force (exit with an error if no usable version is found)}\n                          detect and use an existing system boost_cropped\n  --with-boost[=ARG]      use Boost library from a standard location\n  --with-boost-libdir=LIB_DIR\n                          Force given directory for boost libraries. Note that\n                          fails and you know exactly where your boost\n```",
    "created_at": "2021-05-28T10:17:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433704",
    "user": "https://github.com/dimpase"
}
```

weirdly, `SAGE_SPKG_CONFIGURE_BOOST` creeps up in a warning, even though full `boost` package is gone.

```
configure.ac:43: installing 'config/missing'
m4/sage_spkg_configures.m4:500: warning: SAGE_SPKG_CONFIGURE_BOOST is m4_require'd but not m4_defun'd
m4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:500: the top level
```

feels like wrong quoting somewhere?

As well:

```
% ./configure --help | grep boost
  --with-system-boost_cropped={no|yes (default)|force (exit with an error if no usable version is found)}
                          detect and use an existing system boost_cropped
  --with-boost[=ARG]      use Boost library from a standard location
  --with-boost-libdir=LIB_DIR
                          Force given directory for boost libraries. Note that
                          fails and you know exactly where your boost
```



---

archive/issue_comments_433705.json:
```json
{
    "body": "the latter is fixed by\nhttps://trac.sagemath.org/ticket/31575#comment:19\n\nI'll open another ticket for this.",
    "created_at": "2021-05-28T15:17:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433705",
    "user": "https://github.com/dimpase"
}
```

the latter is fixed by
https://trac.sagemath.org/ticket/31575#comment:19

I'll open another ticket for this.



---

archive/issue_comments_433706.json:
```json
{
    "body": "Replying to [comment:47 dimpase]:\n> the latter is fixed by\n> https://trac.sagemath.org/ticket/31575#comment:19\n> \n> I'll open another ticket for this.\n\nfixed by #31871",
    "created_at": "2021-05-28T16:54:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433706",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:47 dimpase]:
> the latter is fixed by
> https://trac.sagemath.org/ticket/31575#comment:19
> 
> I'll open another ticket for this.

fixed by #31871



---

archive/issue_comments_433707.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2021-06-27T11:19:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433707",
    "user": "https://github.com/dimpase"
}
```

Changing priority from major to critical.



---

archive/issue_comments_433708.json:
```json
{
    "body": "please merge this soon, a number of distros use autoconf 2.70+ now, and it breaks CI stuff not to support it properly.",
    "created_at": "2021-06-27T11:19:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433708",
    "user": "https://github.com/dimpase"
}
```

please merge this soon, a number of distros use autoconf 2.70+ now, and it breaks CI stuff not to support it properly.



---

archive/issue_comments_433709.json:
```json
{
    "body": "Changing type from task to defect.",
    "created_at": "2021-07-07T09:13:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433709",
    "user": "https://github.com/dimpase"
}
```

Changing type from task to defect.



---

archive/issue_comments_433710.json:
```json
{
    "body": "Made it a blocker, as I am tired of seeing\n\n```\nconfigure.ac:43: installing 'config/missing'\nm4/sage_spkg_configures.m4:515: warning: The macro `AC_PROG_CC_C99' is obsolete.\nm4/sage_spkg_configures.m4:515: You should run autoupdate.\n./lib/autoconf/c.m4:1659: AC_PROG_CC_C99 is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...\nm4/sage_spkg_configures.m4:515: the top level\nm4/sage_spkg_configures.m4:515: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:515: You should run autoupdate.\n./lib/autoconf/general.m4:191: AC_FOREACH is expanded from...\nm4/ax_absolute_header.m4:41: AX_ABSOLUTE_HEADER is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...\nm4/sage_spkg_configures.m4:515: the top level\nm4/sage_spkg_configures.m4:515: warning: The macro `AC_TRY_LINK' is obsolete.\nm4/sage_spkg_configures.m4:515: You should run autoupdate.\n./lib/autoconf/general.m4:2920: AC_TRY_LINK is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...\nm4/sage_spkg_configures.m4:515: the top level\nm4/sage_spkg_configures.m4:517: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:517: You should run autoupdate.\n./lib/autoconf/general.m4:191: AC_FOREACH is expanded from...\nm4/ax_absolute_header.m4:41: AX_ABSOLUTE_HEADER is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...\nm4/sage_spkg_configures.m4:517: the top level\nm4/sage_spkg_configures.m4:531: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:531: You should run autoupdate.\n./lib/autoconf/general.m4:191: AC_FOREACH is expanded from...\nm4/ax_absolute_header.m4:41: AX_ABSOLUTE_HEADER is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\n./lib/autoconf/headers.m4:89: _AC_CHECK_HEADER_COMPILE is expanded from...\n./lib/autoconf/headers.m4:56: AC_CHECK_HEADER is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...\nm4/sage_spkg_configures.m4:531: the top level\nm4/sage_spkg_configures.m4:595: warning: The macro `AC_TRY_RUN' is obsolete.\nm4/sage_spkg_configures.m4:595: You should run autoupdate.\n./lib/autoconf/general.m4:2997: AC_TRY_RUN is expanded from...\nm4/ppl.m4:29: AM_PATH_PPL is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...\nm4/sage_spkg_configures.m4:595: the top level\nm4/sage_spkg_configures.m4:595: warning: The macro `AC_TRY_LINK' is obsolete.\nm4/sage_spkg_configures.m4:595: You should run autoupdate.\n./lib/autoconf/general.m4:2920: AC_TRY_LINK is expanded from...\nm4/ppl.m4:29: AM_PATH_PPL is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...\nm4/sage_spkg_configures.m4:595: the top level\nconfigure.ac:447: warning: back quotes and double quotes must not be escaped in: multiple installation records for $SPKG_NAME: m4_newline($(ls -l \"$SAGE_SPKG_INST/$SPKG_NAME\"-*)) m4_newline([only one should exist, so please delete some or all of these files and re-run \\\"$srcdir/configure\\\"])\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\nm4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...\nconfigure.ac:447: the top level\n```\nevery time I run `./bootstrap`\n\nalso, `make distclean` is broken for me without this branch.",
    "created_at": "2021-07-07T09:13:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433710",
    "user": "https://github.com/dimpase"
}
```

Made it a blocker, as I am tired of seeing

```
configure.ac:43: installing 'config/missing'
m4/sage_spkg_configures.m4:515: warning: The macro `AC_PROG_CC_C99' is obsolete.
m4/sage_spkg_configures.m4:515: You should run autoupdate.
./lib/autoconf/c.m4:1659: AC_PROG_CC_C99 is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:515: the top level
m4/sage_spkg_configures.m4:515: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:515: You should run autoupdate.
./lib/autoconf/general.m4:191: AC_FOREACH is expanded from...
m4/ax_absolute_header.m4:41: AX_ABSOLUTE_HEADER is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:515: the top level
m4/sage_spkg_configures.m4:515: warning: The macro `AC_TRY_LINK' is obsolete.
m4/sage_spkg_configures.m4:515: You should run autoupdate.
./lib/autoconf/general.m4:2920: AC_TRY_LINK is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:515: the top level
m4/sage_spkg_configures.m4:517: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:517: You should run autoupdate.
./lib/autoconf/general.m4:191: AC_FOREACH is expanded from...
m4/ax_absolute_header.m4:41: AX_ABSOLUTE_HEADER is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:517: the top level
m4/sage_spkg_configures.m4:531: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:531: You should run autoupdate.
./lib/autoconf/general.m4:191: AC_FOREACH is expanded from...
m4/ax_absolute_header.m4:41: AX_ABSOLUTE_HEADER is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
./lib/autoconf/headers.m4:89: _AC_CHECK_HEADER_COMPILE is expanded from...
./lib/autoconf/headers.m4:56: AC_CHECK_HEADER is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:531: the top level
m4/sage_spkg_configures.m4:595: warning: The macro `AC_TRY_RUN' is obsolete.
m4/sage_spkg_configures.m4:595: You should run autoupdate.
./lib/autoconf/general.m4:2997: AC_TRY_RUN is expanded from...
m4/ppl.m4:29: AM_PATH_PPL is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:595: the top level
m4/sage_spkg_configures.m4:595: warning: The macro `AC_TRY_LINK' is obsolete.
m4/sage_spkg_configures.m4:595: You should run autoupdate.
./lib/autoconf/general.m4:2920: AC_TRY_LINK is expanded from...
m4/ppl.m4:29: AM_PATH_PPL is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:595: the top level
configure.ac:447: warning: back quotes and double quotes must not be escaped in: multiple installation records for $SPKG_NAME: m4_newline($(ls -l "$SAGE_SPKG_INST/$SPKG_NAME"-*)) m4_newline([only one should exist, so please delete some or all of these files and re-run \"$srcdir/configure\"])
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
configure.ac:447: the top level
```
every time I run `./bootstrap`

also, `make distclean` is broken for me without this branch.



---

archive/issue_comments_433711.json:
```json
{
    "body": "Changing priority from critical to blocker.",
    "created_at": "2021-07-07T09:13:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433711",
    "user": "https://github.com/dimpase"
}
```

Changing priority from critical to blocker.



---

archive/issue_comments_433712.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-07-25T18:51:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433712",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_079794.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-25T18:51:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30431#event-79794"
}
```



---

archive/issue_comments_433713.json:
```json
{
    "body": "Thanks, Volker. \n\nWere \"typos\" (well, unprintable chars - thanks Michael for spotting these) in the list of authors tripping up your scripts?",
    "created_at": "2021-07-27T08:06:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30431#issuecomment-433713",
    "user": "https://github.com/dimpase"
}
```

Thanks, Volker. 

Were "typos" (well, unprintable chars - thanks Michael for spotting these) in the list of authors tripping up your scripts?
