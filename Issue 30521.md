# Issue 30521: for python 3.6, universal_newlines=, not text=, must be used in run()

Issue created by migration from https://trac.sagemath.org/ticket/30758

Original creator: dimpase

Original creation time: 2020-10-13 08:44:59

CC:  mkoeppe vbraun

after #30740, `text=True` is still there, in the call to `run()`, and also not supported by Python 3.6.
Cf.
https://docs.python.org/3/library/subprocess.html

```
Changed in version 3.7: Added the text parameter, 
as a more understandable alias of universal_newlines. 
Added the capture_output parameter.
```


as reported on [sage-release](https://groups.google.com/d/msgid/sage-release/8404a7d9-b906-4301-b891-59733da482cen%40googlegroups.com)


---

Comment by dimpase created at 2020-10-13 08:52:31

New commits:


---

Comment by dimpase created at 2020-10-13 08:52:31

Changing status from new to needs_review.


---

Comment by cheuberg created at 2020-10-13 13:10:57

Changing status from needs_review to positive_review.


---

Comment by cheuberg created at 2020-10-13 13:10:57

This solves the problem on my machine, `make ptestlong` passes without errors.

The python3 documentation states that "The `universal_newlines` argument is equivalent to `text` and is provided for backwards compatibility." so I do not think we can introduce any new problems here. I therefore set the ticket to postive.


---

Comment by mkoeppe created at 2020-10-13 16:45:26

Thanks for fixing and testing this!


---

Comment by vbraun created at 2020-10-18 08:38:35

Resolution: fixed
