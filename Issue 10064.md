# Issue 10064: removed bug and new methods in Poset

Issue created by migration from https://trac.sagemath.org/ticket/10065

Original creator: stumpc5

Original creation time: 2010-10-03 21:39:29

Assignee: sage-combinat

CC:  saliola@gmail.com chapoton@math.univ-lyon1.fr

Keywords: poset

Poset.dual contained a bug:


```
P = Poset(([1,2],[[1,2]]))
Q = P.dual()
Q.show()
... AssertionError: `self` should be an acyclic graph
```


The patch contains the solution for this bug as well as new methods
is_lattice
is_isomorphic
is_selfdual
panyushev_complement
panyushev_orbits


---

Comment by stumpc5 created at 2010-10-03 21:50:46

Changing status from new to needs_review.


---

Comment by chapoton created at 2011-01-06 10:52:56

The procedure *is_isomorphic* has two problems :

 * one doctest is failing (see the report of the build bot). This is related to a deprecated use of size instead of cardinality, somewhere. Maybe we should correct this deprecated use first.

 * it fails on Lattices

```
P=Posets.PentagonPoset()
P.is_isomorphic(P)
ValueError: The input is not a finite poset.
```


Maybe this can be corrected by having a method *is_isomorphic* for Lattices which is inherited from Posets.


---

Comment by chapoton created at 2011-01-07 09:46:51


One more thing to be corrected :

The doc of !*panyushev_orbits!* is badly formatted. It does not display correctly in the notebook.


---

Comment by stumpc5 created at 2011-01-18 13:09:23

Replying to [comment:2 chapoton]:

>  * one doctest is failing (see the report of the build bot). This is related to a deprecated use of size instead of cardinality, somewhere. Maybe we should correct this deprecated use first.

I only updated the doctest - the size/cardinality is in generic_graph.py. I am in the process to make changes to the is_isomorphic method in there anyway. I will make this little change in that other patch.

>  * it fails on Lattices
> {{{
> P=Posets.PentagonPoset()
> P.is_isomorphic(P)
> ValueError: The input is not a finite poset.
> }}}
> 
> Maybe this can be corrected by having a method *is_isomorphic* for Lattices which is inherited from Posets.

This was just a minor mistake in the is_isomorphic method for Posets. I updated it.

> The doc of *panyushev_orbits* is badly formatted. It does not display correctly in the notebook.

Done...


---

Comment by stumpc5 created at 2011-01-26 03:08:43

I uploaded a changed version of the patch containing a faster way to compute the Panyushev complement. Beside this, I didn't do any changes.


---

Comment by chapoton created at 2011-01-26 12:51:23

This last change makes some tests fail. See the shortlog by the buildbot.


---

Comment by stumpc5 created at 2011-01-26 13:24:24

Sorry Fred, I often forget to rebuild before making the test... if I didn't do more mistakes, it should work now.

`@`Franco: I also had to edit the patches

trac_6641-poset_antichains_backtracker.patch
addon_poset_antichains_backtracker-cs.patch

(and uploaded them to the combinat queue) for ticket #6641. Could you probably fold them and add them to your ticket? Thanks!


---

Attachment

These issues are addressed in #10998.


---

Comment by saliola created at 2011-05-05 01:46:29

Changing keywords from "poset" to "poset, days30".


---

Comment by mariah created at 2011-05-18 13:22:09

If this is a sage-duplicate, then I believe this ticket can be closed.


---

Comment by mariah created at 2011-05-18 13:22:09

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2011-05-31 17:17:06

Resolution: duplicate
