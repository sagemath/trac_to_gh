# Issue 10168: Operands and Operator of symbolic expressions

Issue created by migration from Trac.

Original creator: SimonKing

Original creation time: 2010-10-25 12:06:04

Assignee: burcin

CC:  eviatarbach

Keywords: operator operands symbolics

I think that for all symbolic expression `s` should hold

```
sage: s == s.operator()(*s.operands())
```


That currently does not work, for two reasons.

1. There may be no operator at all:

```
sage: print x.operator()
None
sage: x.operands()
[]
```

I believe there should instead be an identity operator.

2. The list of operands may be longer than what the operator accepts:

```
sage: s = 0.001*x^2+0.01*x+0.1*sin(1.01*x)+1
sage: s.operands()
[0.00100000000000000*x^2, 0.0100000000000000*x,
0.100000000000000*sin(1.01000000000000*x), 1]
sage: s.operator()(*s.operands())
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call
last)

/home/king/<ipython console> in <module>()

TypeError: op_add expected 2 arguments, got 4 
```



---

Comment by eviatarbach created at 2013-07-16 05:39:37

Note to self: after this is fixed (or at least just the arithmetic operators), `simplify_hypergeometric` should be added to `simplify_full`. Now it cannot be added because it will sometimes raise errors due to this bug.


---

Comment by eviatarbach created at 2013-07-16 07:40:51

Burcin, is there a problem with setting the sum operator to `Expression.add`, for example? I don't understand why we have to define new functions representing the arithmetic operators.


---

Comment by rws created at 2015-02-27 08:18:22

This will not work with some symbolic functions because they may have been called with the `hold=True` keyword, and calling them again doesn't know about it. See also #17849. The solution of that ticket in line with this one would be to make keywords into operands (strings?, a dedicated class `OperatorKeyword`?).

Another possible solution would be to abandon the `hold` keyword and introduce a `hold` context, see #10035.
