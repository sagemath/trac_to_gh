# Issue 15027: make Mutability class ready to be used

archive/issues_015027.json:
```json
{
    "body": "Keywords: mutability doctests\n\nLooking at the code in `sage/structure/mutability.pyx`, one notices some things that should be changed:\n\nUpdate the methods in `Mutability`: The corresponding methods in `sage/structure/sequence.py` seem to work nicely. E.g. there `self._is_immutable = 1` (in `set_immutable`) was changed to `self._is_immutable = True` or `self._is_immutable` got a `return` and a try-except (in `is_immutable`))\n\nAdd a doctest in `require_mutable` and `require_immutable` that uses the class `Mutability`.\n\nAdd doctests to `set_immutable` and to `is_immutable` that really test the code (and note just test the code in `sage/structure/sequence.py`.\n\nAdd doctests to all functions.\n\nMaybe: combine `_require_mutable` and `_require_mutable_cdef` with `cpdef`.\n\nSee also the discussion \"Mutability\" on sage-devel https://groups.google.com/forum/#!topic/sage-devel/dnXSgh56Boo\n\nIssue created by migration from https://trac.sagemath.org/ticket/15264\n\n",
    "created_at": "2013-10-09T09:25:44Z",
    "labels": [
        "misc",
        "major",
        "bug"
    ],
    "title": "make Mutability class ready to be used",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15027",
    "user": "dkrenn"
}
```
Keywords: mutability doctests

Looking at the code in `sage/structure/mutability.pyx`, one notices some things that should be changed:

Update the methods in `Mutability`: The corresponding methods in `sage/structure/sequence.py` seem to work nicely. E.g. there `self._is_immutable = 1` (in `set_immutable`) was changed to `self._is_immutable = True` or `self._is_immutable` got a `return` and a try-except (in `is_immutable`))

Add a doctest in `require_mutable` and `require_immutable` that uses the class `Mutability`.

Add doctests to `set_immutable` and to `is_immutable` that really test the code (and note just test the code in `sage/structure/sequence.py`.

Add doctests to all functions.

Maybe: combine `_require_mutable` and `_require_mutable_cdef` with `cpdef`.

See also the discussion "Mutability" on sage-devel https://groups.google.com/forum/#!topic/sage-devel/dnXSgh56Boo

Issue created by migration from https://trac.sagemath.org/ticket/15264


