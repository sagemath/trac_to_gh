# Issue 15027: make Mutability class ready to be used

Issue created by migration from https://trac.sagemath.org/ticket/15264

Original creator: dkrenn

Original creation time: 2013-10-09 09:25:44

Keywords: mutability doctests

Looking at the code in `sage/structure/mutability.pyx`, one notices some things that should be changed:

Update the methods in `Mutability`: The corresponding methods in `sage/structure/sequence.py` seem to work nicely. E.g. there `self._is_immutable = 1` (in `set_immutable`) was changed to `self._is_immutable = True` or `self._is_immutable` got a `return` and a try-except (in `is_immutable`))

Add a doctest in `require_mutable` and `require_immutable` that uses the class `Mutability`.

Add doctests to `set_immutable` and to `is_immutable` that really test the code (and note just test the code in `sage/structure/sequence.py`.

Add doctests to all functions.

Maybe: combine `_require_mutable` and `_require_mutable_cdef` with `cpdef`.

See also the discussion "Mutability" on sage-devel https://groups.google.com/forum/#!topic/sage-devel/dnXSgh56Boo
