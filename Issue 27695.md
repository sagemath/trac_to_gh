# Issue 27695: Three.js: Support vector field plots

Issue created by migration from https://trac.sagemath.org/ticket/27932

Original creator: paulmasson

Original creation time: 2019-06-05 00:40:02

CC:  egourgoulhon

Keywords: threejs

This enhancement allows plot of 3D vector fields. This is done by replacing the translated line segments of the field with 3D arrows at half the thickness of the lines. Since there is currently no way to turn off the arrow heads on the vector field, it is assumed they will be present.


---

Comment by git created at 2019-06-05 00:43:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by paulmasson created at 2019-06-05 00:46:29

In the process of adding this enhancement, I discovered that `line3d` has an option `arrow_head` for adding such to line segments that is not currently supported by the Three.js viewer. Since I'll assume most people will use `arrow3d` to achieve the same effect, I don't plan to support that attribute unless necessary.


---

Comment by paulmasson created at 2019-06-05 01:02:22

Changing status from new to needs_review.


---

Comment by egourgoulhon created at 2019-06-14 14:58:17

Thanks for this improvement! The following example from the _Plotting 3D fields_ section of the reference manual:

```
x,y,z = var('x y z')
g = plot_vector_field3d((x*cos(z),-y*cos(z),sin(z)), (x,0,pi), (y,0,pi), 
                        (z,0,pi))
show(g, viewer='threejs')
```

works but

```
x,y,z = var('x y z')
plot_vector_field3d((x*cos(z),-y*cos(z),sin(z)), (x,0,pi), (y,0,pi), (z,0,pi), 
                    viewer='threejs')
```

results in a Jmol plot, as if the option `viewer='threejs'` was not taken into account...


---

Comment by egourgoulhon created at 2019-06-14 14:58:17

Changing status from needs_review to needs_work.


---

Comment by git created at 2019-06-18 21:55:28

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by paulmasson created at 2019-06-18 21:57:52

Changing status from needs_work to needs_review.


---

Comment by paulmasson created at 2019-06-18 21:57:52

Those pesky extra keywords...


---

Comment by egourgoulhon created at 2019-06-20 09:44:30

Thanks!


---

Comment by egourgoulhon created at 2019-06-20 09:44:30

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-06-27 20:13:15

Resolution: fixed


---

Comment by embray created at 2019-07-03 11:34:48

Not in Sage 8.8.  Let's please to try keep tickets' milestones related to the release in which we actually intend to include them, and in particular the release in which they were _actually_ included, especially when closing tickets.
