# Issue 21392: matrix norm fails

archive/issues_021392.json:
```json
{
    "body": "CC:  tscrim\n\nKeywords: matrix, norm, svd\n\nThis happens in [SageMath](SageMath) version 7.4.beta6:\n\n```\nsage: matrix.diagonal((0,0,0)).norm()\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n...\nAttributeError: 'sage.matrix.matrix_generic_sparse.Matrix_generic_sparse' object has no attribute 'SVD'\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/21629\n\n",
    "created_at": "2016-10-03T14:20:30Z",
    "labels": [
        "linear algebra",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "matrix norm fails",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21392",
    "user": "cnassau"
}
```
CC:  tscrim

Keywords: matrix, norm, svd

This happens in [SageMath](SageMath) version 7.4.beta6:

```
sage: matrix.diagonal((0,0,0)).norm()
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
...
AttributeError: 'sage.matrix.matrix_generic_sparse.Matrix_generic_sparse' object has no attribute 'SVD'
```


Issue created by migration from https://trac.sagemath.org/ticket/21629





---

archive/issue_comments_297048.json:
```json
{
    "body": "This is cause by sparseness.\n\n```\nsage: D = matrix.diagonal((0,0,0))\nsage: D.dense_matrix().norm()\n0.0\nsage: D.dense_matrix().norm(p='frob')\n0.0\n```\n",
    "created_at": "2019-11-01T15:00:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21392#issuecomment-297048",
    "user": "chapoton"
}
```

This is cause by sparseness.

```
sage: D = matrix.diagonal((0,0,0))
sage: D.dense_matrix().norm()
0.0
sage: D.dense_matrix().norm(p='frob')
0.0
```




---

archive/issue_comments_297049.json:
```json
{
    "body": "The other error comes from here:\n\n```\nsage: D = matrix.diagonal((0,0,0))\nsage: D.apply_map(abs)\n```\n\nand even from\n\n```\nsage: D = matrix.diagonal((0,0,0))\nsage: D.apply_map(lambda t:t)\n```\n",
    "created_at": "2019-11-01T16:18:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21392#issuecomment-297049",
    "user": "chapoton"
}
```

The other error comes from here:

```
sage: D = matrix.diagonal((0,0,0))
sage: D.apply_map(abs)
```

and even from

```
sage: D = matrix.diagonal((0,0,0))
sage: D.apply_map(lambda t:t)
```




---

archive/issue_comments_297050.json:
```json
{
    "body": "here is a fix for one of the 2 problems.\n----\nNew commits:",
    "created_at": "2019-11-01T17:23:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21392#issuecomment-297050",
    "user": "chapoton"
}
```

here is a fix for one of the 2 problems.
----
New commits:



---

archive/issue_comments_297051.json:
```json
{
    "body": "Replying to [comment:4 chapoton]:\n> here is a fix for one of the 2 problems.\n> ----\n> New commits:\n> ||[446b3b1](https://git.sagemath.org/sage.git/commit?id=446b3b12cfbc2eebb81546dbf8a50410687c5346)||`trac 21629 fix for apply_map of empty sparse matrices`||\n\nThis has also been fixed in #29214, so only the first problem remains.",
    "created_at": "2020-03-18T17:32:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21392#issuecomment-297051",
    "user": "@mwageringel"
}
```

Replying to [comment:4 chapoton]:
> here is a fix for one of the 2 problems.
> ----
> New commits:
> ||[446b3b1](https://git.sagemath.org/sage.git/commit?id=446b3b12cfbc2eebb81546dbf8a50410687c5346)||`trac 21629 fix for apply_map of empty sparse matrices`||

This has also been fixed in #29214, so only the first problem remains.
