# Issue 30555: Homebrew: add /usr/local/opt/texinfo/bin to PATH

Issue created by migration from https://trac.sagemath.org/ticket/30792

Original creator: jhpalmieri

Original creation time: 2020-10-18 23:52:13

CC:  mkoeppe dimpase

Building the `maxima` documentation requires a newer version of `makeinfo` than the default one on OS X — see #30063. So let's add the version from `homebrew` to the path, if it is available.



---

Comment by jhpalmieri created at 2020-10-18 23:56:03

With this change and `export SAGE_SPKG_INSTALL_DOCS=yes`, `make maxima` successfully builds its documentation. (Homebrew's version of `makeinfo` is 6.7.)
----
New commits:


---

Comment by jhpalmieri created at 2020-10-18 23:56:03

Changing status from new to needs_review.


---

Comment by dimpase created at 2020-10-19 07:20:40

how about also putting `texinfo` into `build/pkgs/ecl/distros/homebrew`?
This would print an advice to install `texinfo` on Homebrew.


---

Comment by git created at 2020-10-19 19:43:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jhpalmieri created at 2020-10-19 19:45:18

Replying to [comment:4 dimpase]:
> how about also putting `texinfo` into `build/pkgs/ecl/distros/homebrew`?
> This would print an advice to install `texinfo` on Homebrew.

Done.


---

Comment by mkoeppe created at 2020-10-19 21:26:45

Replying to [comment:4 dimpase]:
> how about also putting `texinfo` into `build/pkgs/ecl/distros/homebrew`?
> This would print an advice to install `texinfo` on Homebrew.

This is not the right place for it - the texinfo package does not provide a system ecl.
This should either go to `build/pkgs/homebrew.txt`, or there should be a new script package like `build/pkgs/libnauty` or `build/pkgs/perl_cpan_polymake_prereq/` that is only there for advertising the system package.


---

Comment by dimpase created at 2020-10-19 21:46:43

I'm fine with it being moved to build/pkgs/homebrew.txt


---

Comment by jhpalmieri created at 2020-10-19 21:49:50

`texinfo` is not really "needed", as the packages in `build/pkgs/homebrew.txt` are supposed to be. We can add it there, anyway.


---

Comment by mkoeppe created at 2020-10-19 21:51:07

The cleaner solution is certainly the one with the optional script package.


---

Comment by git created at 2020-10-19 21:51:54

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2020-10-19 21:52:29

See also: #29557 Add script package _recommended and generate "recommended system packages" info


---

Comment by jhpalmieri created at 2020-10-19 21:54:57

So maybe we shouldn't modify `build/pkgs/homebrew.txt`? I like the idea to use #29557, but I don't know when that ticket might get merged.


---

Comment by mkoeppe created at 2020-10-19 21:56:54

We can just finish #29557. Either way I don't think it's going to make it into Sage 9.2


---

Comment by jhpalmieri created at 2020-10-19 22:03:33

I prefer to go back to the original branch here, silently using homebrew's texinfo if it's available. We can deal with the system recommendations on another ticket, like #29557.


---

Comment by mkoeppe created at 2020-10-19 22:04:50

I agree


---

Comment by git created at 2020-10-19 22:05:46

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by dimpase created at 2020-10-19 22:12:54

Changing status from needs_review to positive_review.


---

Comment by jhpalmieri created at 2020-10-19 22:25:18

Great, thank you!


---

Comment by vbraun created at 2020-11-07 16:21:59

Resolution: fixed
