# Issue 12406: sage-list-packages script needs write permissions to SAGE_ROOT/tmp

Issue created by migration from https://trac.sagemath.org/ticket/12578

Original creator: ohanar

Original creation time: 2012-02-23 21:19:33

Assignee: leif

CC:  was jdemeyer

This is a problem for system installs. e.g. on sage.math


```
$ sage -sh
$ sage-list-packages optional
Using SAGE Server http://www.sagemath.org//packages
Traceback (most recent call last):
  File "/usr/local/share/sage-4.8/local/bin/sage-list-packages", line 21, in <module>
    os.makedirs(SAGE_ROOT_TMP)
  File "/usr/local/share/sage-4.8/local/lib/python/os.py", line 157, in makedirs
    mkdir(name, mode)
OSError: [Errno 13] Permission denied: '/usr/local/share/sage-4.8/tmp'
SAGE_ROOT=/usr/local/share/sage-4.8
```


This causes the `optional_packages` function among others to fail.


---

Comment by ohanar created at 2012-02-23 21:38:06

Changing status from new to needs_review.


---

Attachment


---

Comment by jhpalmieri created at 2012-02-23 23:55:55

I think this is a duplicate of #12018.


---

Comment by ohanar created at 2012-02-24 00:01:06

Replying to [comment:4 jhpalmieri]:
> I think this is a duplicate of #12018.

Yup, looks like it, although our solutions are a bit different (I remove the need for a temp file).


---

Comment by jhpalmieri created at 2012-02-28 21:59:06

Changing status from needs_review to positive_review.


---

Comment by jhpalmieri created at 2012-02-28 21:59:06

Let's keep all discussion for this issue in one place, so please add your patch to #12018. People can decide what approach they like there.

Jeroen: do not merge the patch here; please close this ticket as a duplicate.


---

Comment by jdemeyer created at 2012-03-02 13:53:45

Resolution: duplicate
