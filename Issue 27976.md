# Issue 27976: Renaming rational_preperiodic_points() to all_preperiodic_points()

Issue created by migration from https://trac.sagemath.org/ticket/28213

Original creator: @EnderWannabe

Original creation time: 2019-07-18 14:16:46

Keywords: SI2019

To be consistent with the new naming convention in ticket 28109, we rename rational_preperiodic_points() to all_preperiodic_points().


---

Comment by @EnderWannabe created at 2019-07-18 14:28:37

Changing type from PLEASE CHANGE to enhancement.


---

Comment by @EnderWannabe created at 2019-07-18 14:59:26

Changing status from new to needs_review.


---

Comment by @EnderWannabe created at 2019-07-18 14:59:26

New commits:


---

Comment by @oliviaschwager created at 2019-07-18 15:25:32

Changing status from needs_review to positive_review.


---

Comment by bhutz created at 2019-07-18 15:28:47

Changing status from positive_review to needs_work.


---

Comment by bhutz created at 2019-07-18 15:28:47

I don't think this is quite ready yet. Don't we want a 'preperiodic_points()' function as well as an option to specify the ring like you did in #28109?


---

Comment by git created at 2019-07-25 14:47:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-07-25 15:22:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-07-30 13:44:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @EnderWannabe created at 2019-07-30 13:47:30

Changing status from needs_work to needs_review.


---

Comment by @annanc2 created at 2019-07-30 15:08:26

- This line ` L = [t for t in L if t != 0] ` is not needed: it should not affect the subscheme. 
- `X = PS.subscheme(L + list(dom.defining_polynomials()))` - there are no examples where the domain is a proper subscheme of projective space. There should be an example illustrating when the domain is nontrivial. 
- Provide more explanation for what m and n are relative to each other. 
- The example below is pulled from the periodic_points function; it is a little slow as is. It would be nicer to find a faster version of this, but it does test the case where the domain is a nontrivial subscheme.

```
sage: R.<x> = QQ[]
sage: K.<u> = NumberField(x^2 - x + 3)
sage: P.<x,y,z> = ProjectiveSpace(K,2)
sage: X = P.subscheme(2*x-y)
sage: f = DynamicalSystem_projective([x^2-y^2, 2*(x^2-y^2), y^2-z^2], domain=X)
sage: f.preperiodic_points(2,2, R=QQbar)
```



---

Comment by @annanc2 created at 2019-07-30 15:08:26

Changing status from needs_review to needs_work.


---

Comment by git created at 2019-07-30 18:08:37

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @EnderWannabe created at 2019-07-31 13:17:17

Changing status from needs_work to needs_review.


---

Comment by bhutz created at 2019-07-31 13:21:06

Just one quick comment from a look through the branch.

In one function you use the keyword `R`, in the other the keyword `ring`. Those should be the same. If I recall correctly, you were using `R` for the similar periodic point functions, so I'd stick with that one.


---

Comment by git created at 2019-07-31 15:30:01

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-11-17 22:19:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bhutz created at 2019-11-17 22:20:15

Changing keywords from "SI2019" to "SI2019, sd104".


---

Comment by bhutz created at 2019-11-17 22:20:15

made some minor updates from the review, mostly adding some additional doc tests.


---

Comment by bhutz created at 2019-11-17 22:20:15

Changing status from needs_review to positive_review.


---

Comment by bhutz created at 2019-11-17 23:52:48

Changing status from positive_review to needs_work.


---

Comment by bhutz created at 2019-11-17 23:52:48

I have an example that takes much longer than it should. Looks like it is because in all_preperiodic_points. there is no way to pass in the algorithm parameter


```
R.<t> = PolynomialRing(QQ)
K.<v> = NumberField(t^3 + 16*t^2 - 10496*t + 94208)
PS.<x,y> = ProjectiveSpace(K,1)
f = DynamicalSystem([x^2-29/16*y^2,y^2])
```

with the 'lifting' algorithm it is fast, with the default it is very slow.


---

Comment by git created at 2019-11-18 15:53:49

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bhutz created at 2019-11-18 15:55:11

added parameters to all_preperiodic_points to make the given example possible in a reasonable amount of time. It is too long to add as an example. I've also updated the example that uses the bounds.


---

Comment by bhutz created at 2019-11-18 15:55:11

Changing status from needs_work to needs_review.


---

Comment by bellatobin created at 2019-11-18 20:27:21

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-11-30 13:35:53

Resolution: fixed
