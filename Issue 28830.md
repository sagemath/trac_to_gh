# Issue 28830: Make ./configure --help a bit shorter by combining --with-system-SPKG and --with-system-SPK=force

Issue created by migration from https://trac.sagemath.org/ticket/29067

Original creator: mkoeppe

Original creation time: 2020-01-22 20:09:23

CC:  embray dimpase jhpalmieri

Also sort the `--with-system-SPKG` options alphabetically.

Purely cosmetic.



---

Comment by mkoeppe created at 2020-01-22 20:21:34

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-01-22 20:27:54

It still has some minor difficulties with the alphabet but is better than before.
----
New commits:


---

Comment by dimpase created at 2020-01-23 19:51:16

Could you swap `yes` and `no` in `{no|yes|force}`, as `yes` is the default value?


---

Comment by mkoeppe created at 2020-01-23 19:52:24

Is that the standard? I have sorted them in increasing yes-ness


---

Comment by dimpase created at 2020-01-23 21:15:31

maybe

```diff
--- a/m4/sage_spkg_configure.m4
+++ b/m4/sage_spkg_configure.m4
@@ -51,8 +51,8 @@ m4_pushdef([SPKG_USE_SYSTEM], [sage_use_system_]SPKG_NAME)
 # BEGIN SAGE_SPKG_CONFIGURE_]m4_toupper($1)[
 AC_MSG_NOTICE([=== checking whether to install the $1 SPKG ===])
 AC_ARG_WITH([system-]SPKG_NAME,
-       AS_HELP_STRING(--with-system-SPKG_NAME={no|yes|force},
-           [detect and use an existing system SPKG_NAME (default: "yes"; "force": exit with an error if no usable version is found)]),
+       AS_HELP_STRING(--with-system-SPKG_NAME={no|yes (default)|force (exit with an error if no usable version is found)},
+           [detect and use an existing system SPKG_NAME]),
        [AS_VAR_SET(SPKG_USE_SYSTEM, [$withval])],
        [AS_VAR_SET(SPKG_USE_SYSTEM, [yes])]
 )
```


?

this saves a line per spkg.


---

Comment by mkoeppe created at 2020-01-23 21:24:09

Fine with me, please commit


---

Comment by mkoeppe created at 2020-01-23 21:25:12

Actually the default is more subtle because a previous choice of "no" persists as the effective default through SAGE_LOCAL.


---

Comment by dimpase created at 2020-01-23 22:21:29

New commits:


---

Comment by dimpase created at 2020-01-23 22:22:20

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2020-01-23 22:39:05

Thank you!


---

Comment by vbraun created at 2020-01-25 17:27:13

Resolution: fixed
