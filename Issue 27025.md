# Issue 27025: remove "Replacing library search directory in linker " in src/setup.py

Issue created by migration from https://trac.sagemath.org/ticket/27262

Original creator: dimpase

Original creation time: 2019-02-12 15:41:58

CC:  embray jdemeyer fbissey

This hack prevents passing e.g. `-L/usr/local/lib` via LDFLAGS,
so you cannot link sagelib with anything from there.
So the proposal is to remove from there the whole

```diff
-        if True or sys.platform[:6]=="darwin":
-
-            sage_libdir = os.path.realpath(SAGE_LOCAL+"/lib")
-            ldso_cmd = self.compiler.linker_so # a list of strings, like argv
-
-            for i in range(1, len(ldso_cmd)):
-
-                if ldso_cmd[i][:2] == "-L":
-                    libdir = os.path.realpath(ldso_cmd[i][2:])
-                    self.debug_print(
-                      "Library dir found in dynamic linker command: " +
-                      "\"%s\"" % libdir)
-                    if libdir != sage_libdir:
-                        self.compiler.warn(
-                          "Replacing library search directory in linker " +
-                          "command:\n  \"%s\" -> \"%s\"\n" % (libdir,
-                                                              sage_libdir))
-                        ldso_cmd[i] = "-L"+sage_libdir
-
```



---

Comment by embray created at 2019-03-25 10:56:15

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)


---

Comment by dimpase created at 2019-05-03 16:26:11

New commits:


---

Comment by dimpase created at 2019-05-03 16:26:11

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2019-05-04 12:54:00

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-05-06 11:56:39

Resolution: fixed
