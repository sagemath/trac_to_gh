# Issue 11678: random element of ideal

Issue created by migration from Trac.

Original creator: dangtuanhiep

Original creation time: 2011-09-26 12:15:24

Assignee: malb

CC:  ranosch burcin tscrim jakobkroeker

Keywords: random, ideal

return a random element of given ideal.



---

Attachment


---

Comment by dangtuanhiep created at 2011-09-26 12:30:29

Changing status from new to needs_review.


---

Comment by ranosch created at 2011-09-27 08:44:59

Changing keywords from "random, ideal" to "random, ideal, sd34".


---

Comment by malb created at 2011-09-28 08:49:08

Changing status from needs_review to needs_work.


---

Comment by malb created at 2011-09-28 08:49:08

I don't think this code

```python
sum(g * self.ring().random_element(degree - g.degree(), *args, **kwds) for g in self.gens()) 
```

returns a uniformly random element up to the given degree.

 * one should at least use the Gr√∂bner basis instead of gens()
 * even then I don't think this code returns uniformly random elements up to some degree, because of potential cancellations. 

I suggest to do:


```python
f = P.random_element()
f = f - f.reduce(self)
```


which is "as random" as `P.random_element()` because `P = I \oplus P/I`.

In case you are wondering: sampling uniform from an ideal given a set of generators is as hard as computing the GB (at least for dense/zero-dimensional systems):
http://eprint.iacr.org/2011/289


---

Attachment


---

Comment by dangtuanhiep created at 2012-06-06 12:02:30

Hi Burcin,

I am trying to apply this patch to version 5.0, but I get this error

Error compiling Cython file:
------------------------------------------------------------
...
        elif terms == 0:
            return self._zero_element
        if degree == 0:
            if terms != 1:
                raise TypeError, "Cannot compute polynomial with more terms than exist."
            return k.random_element(**kwargs)
                   ^
------------------------------------------------------------

sage/rings/polynomial/multi_polynomial_ring_generic.pyx:760:20: local variable 'k' referenced before assignment
Error running command, failed with status 256.
Error installing modified sage library code.


---

Comment by jmantysalo created at 2016-08-21 20:37:18

Changing status from needs_work to needs_review.


---

Comment by jmantysalo created at 2016-08-21 20:37:18

I think that this has been done, as `multi_polynomial_ideal.py` now has `random_element()`.


---

Comment by jmantysalo created at 2016-09-04 06:12:22

Travis, can you confirm this wontfix/duplicate?


---

Comment by jmantysalo created at 2017-09-25 08:55:13

Just pingin, can we close this?


---

Comment by roed created at 2017-11-01 21:04:49

Changing status from needs_review to positive_review.


---

Comment by roed created at 2017-11-01 21:04:49

Sounds good to me.


---

Comment by jmantysalo created at 2017-11-02 08:43:30

Even wontfix-tickets need the reviewer's name. I think that otherwise this won't be semiautomatically closed.


---

Comment by embray created at 2017-12-12 08:23:33

Resolution: wontfix
