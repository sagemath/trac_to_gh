# Issue 17055: Make transparency work in jmol

archive/issues_017055.json:
```json
{
    "body": "CC:  @novoselt @gutow @vbraun @strogdon @ppurka\n\nSee [comment:150:ticket:16004 here], where it is pointed out that we need to upgrade the `platformspeed` variable in the js in order for things to work properly for transparency in jsmol.\n\nIssue created by migration from https://trac.sagemath.org/ticket/17292\n\n",
    "created_at": "2014-11-05T13:02:46Z",
    "labels": [
        "component: graphics",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Make transparency work in jmol",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17055",
    "user": "https://github.com/kcrisman"
}
```
CC:  @novoselt @gutow @vbraun @strogdon @ppurka

See [comment:150:ticket:16004 here], where it is pointed out that we need to upgrade the `platformspeed` variable in the js in order for things to work properly for transparency in jsmol.

Issue created by migration from https://trac.sagemath.org/ticket/17292





---

archive/issue_comments_226514.json:
```json
{
    "body": "[The Jmol wiki](http://wiki.jmol.org/index.php/JSmol_pros_and_cons) says\n> HTML5 is significantly slower than Java. For large systems it is strongly advised to use the set platformSpeed setting (or allow the user to set that). Smaller molecules (<10,000 atoms) are handled quite well. Large molecules (>20,000 atoms; see table at right) may be slow to load and process.\nAlso note it says IE is \"unworkably slow\" with the jsmol option, though I don't know how authoritative this is.\n\nAt the very least, maybe we need a little documentation for this somewhere, in addition to setting this.  I don't think we want to get in the business of checking whether a plot has transparency and then sending a message to Jmol...",
    "created_at": "2014-11-05T13:46:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226514",
    "user": "https://github.com/kcrisman"
}
```

[The Jmol wiki](http://wiki.jmol.org/index.php/JSmol_pros_and_cons) says
> HTML5 is significantly slower than Java. For large systems it is strongly advised to use the set platformSpeed setting (or allow the user to set that). Smaller molecules (<10,000 atoms) are handled quite well. Large molecules (>20,000 atoms; see table at right) may be slow to load and process.
Also note it says IE is "unworkably slow" with the jsmol option, though I don't know how authoritative this is.

At the very least, maybe we need a little documentation for this somewhere, in addition to setting this.  I don't think we want to get in the business of checking whether a plot has transparency and then sending a message to Jmol...



---

archive/issue_comments_226515.json:
```json
{
    "body": "See https://github.com/sagemath/sagenb/issues/254 for upstream.",
    "created_at": "2014-11-05T13:49:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226515",
    "user": "https://github.com/kcrisman"
}
```

See https://github.com/sagemath/sagenb/issues/254 for upstream.



---

archive/issue_comments_226516.json:
```json
{
    "body": "Hold up, is it only while *spinning*/moving that this is not supported?  I can confirm this.  Maybe in that case this could be downgraded.  What do you guys think?\n\nUpdate: In fact, this also happens whenever right-clicking on the menu.  In addition, the \"animation\" menu is whited-out.  Finally, it even seems to happen with the java, not just jsmol version.  Is that possible?",
    "created_at": "2014-11-05T16:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226516",
    "user": "https://github.com/kcrisman"
}
```

Hold up, is it only while *spinning*/moving that this is not supported?  I can confirm this.  Maybe in that case this could be downgraded.  What do you guys think?

Update: In fact, this also happens whenever right-clicking on the menu.  In addition, the "animation" menu is whited-out.  Finally, it even seems to happen with the java, not just jsmol version.  Is that possible?



---

archive/issue_comments_226517.json:
```json
{
    "body": "And we couldn't do it dynamically easily in any case because there is some horrendous minification that goes on with notebook_dynamic.js which is where the relevant file is included.",
    "created_at": "2014-11-05T16:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226517",
    "user": "https://github.com/kcrisman"
}
```

And we couldn't do it dynamically easily in any case because there is some horrendous minification that goes on with notebook_dynamic.js which is where the relevant file is included.



---

archive/issue_comments_226518.json:
```json
{
    "body": "The animation menu still is whited-out with speed 7, though now the transparency indeed works.  Plots with many points are indeed perhaps *even* slower, and are truly much faster with the java.  That said, I don't know that they are enough slower for me to notice that much, because they are just very slow without java.  (This only applies to the really big plot points, of course, not defaults.)\n\nMaybe this needs some really obvious documentation to \"use java for big plots\" in the plot3d documentation, maybe even in the \"Help\" link that one clicks for the notebook.  I don't want to go back to Sage 3d graphics being unusable on many browsers.  And this was truly a one-character change.",
    "created_at": "2014-11-05T17:52:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226518",
    "user": "https://github.com/kcrisman"
}
```

The animation menu still is whited-out with speed 7, though now the transparency indeed works.  Plots with many points are indeed perhaps *even* slower, and are truly much faster with the java.  That said, I don't know that they are enough slower for me to notice that much, because they are just very slow without java.  (This only applies to the really big plot points, of course, not defaults.)

Maybe this needs some really obvious documentation to "use java for big plots" in the plot3d documentation, maybe even in the "Help" link that one clicks for the notebook.  I don't want to go back to Sage 3d graphics being unusable on many browsers.  And this was truly a one-character change.



---

archive/issue_comments_226519.json:
```json
{
    "body": "Personally I find it extremely annoying that transparency changes when I click on a plot, since it is not just hiding some parts, it is greatly changing/flashing the whole thing.\n\nOn a more objective note - the point of transparency is to be able to see things which are hidden otherwise to get a better sense of the plot. And the point of spinning the plot around is the same. With this new setting you can only benefit from one or the other but not both.\n\nRegarding speed issues - can we get some examples of Sage plots which we should \"test\"? Just getting things slow with many points is a bit pointless - for what plots it is really necessary to increase the number of points?",
    "created_at": "2014-11-05T19:48:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226519",
    "user": "https://github.com/novoselt"
}
```

Personally I find it extremely annoying that transparency changes when I click on a plot, since it is not just hiding some parts, it is greatly changing/flashing the whole thing.

On a more objective note - the point of transparency is to be able to see things which are hidden otherwise to get a better sense of the plot. And the point of spinning the plot around is the same. With this new setting you can only benefit from one or the other but not both.

Regarding speed issues - can we get some examples of Sage plots which we should "test"? Just getting things slow with many points is a bit pointless - for what plots it is really necessary to increase the number of points?



---

archive/issue_comments_226520.json:
```json
{
    "body": "> On a more objective note - the point of transparency is to be able to see things which are hidden otherwise to get a better sense of the plot. And the point of spinning the plot around is the same. With this new setting you can only benefit from one or the other but not both.\nYes.  Well, changing the platform speed will be the way to go, then.  Can you take care of the sagenb package for this iteration?\n> Regarding speed issues - can we get some examples of Sage plots which we should \"test\"? Just getting things slow with many points is a bit pointless - for what plots it is really necessary to increase the number of points?\nNo no, I always use something like\n\n```\nvar('y')\nplot3d(sin(x^2+y^2),(x,0,10),(y,0,10))\n```\n\nwhere an increased number of points makes a *very* noticeable difference.",
    "created_at": "2014-11-05T20:26:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226520",
    "user": "https://github.com/kcrisman"
}
```

> On a more objective note - the point of transparency is to be able to see things which are hidden otherwise to get a better sense of the plot. And the point of spinning the plot around is the same. With this new setting you can only benefit from one or the other but not both.
Yes.  Well, changing the platform speed will be the way to go, then.  Can you take care of the sagenb package for this iteration?
> Regarding speed issues - can we get some examples of Sage plots which we should "test"? Just getting things slow with many points is a bit pointless - for what plots it is really necessary to increase the number of points?
No no, I always use something like

```
var('y')
plot3d(sin(x^2+y^2),(x,0,10),(y,0,10))
```

where an increased number of points makes a *very* noticeable difference.



---

archive/issue_comments_226521.json:
```json
{
    "body": "Playing some more, platformspeed 6 is the first one which shows the plot at all during rotation, 7 includes transparency, and 8 includes antialiasing as well. Which is greatly affecting shape and size of \"thick curves\" and \"fat points\". In fact, with 8 I can see no differences while rotating and while not rotating and I think this should be the default (it certainly was the default before). I don't know what is changing between 8 and 10.\n\nWith 200 points your sin plot works OK for me and while on 6 it may be faster, it is not at all the difference between OK and unusable. This is on a fast desktop (4GHz cores) and I'll try to test on a slower machine as well, however I am for default of 8 regardless of outcomes.\n\nAs for packaging the next version - I am hesitant to commit since I tend to lag behind...",
    "created_at": "2014-11-05T20:55:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226521",
    "user": "https://github.com/novoselt"
}
```

Playing some more, platformspeed 6 is the first one which shows the plot at all during rotation, 7 includes transparency, and 8 includes antialiasing as well. Which is greatly affecting shape and size of "thick curves" and "fat points". In fact, with 8 I can see no differences while rotating and while not rotating and I think this should be the default (it certainly was the default before). I don't know what is changing between 8 and 10.

With 200 points your sin plot works OK for me and while on 6 it may be faster, it is not at all the difference between OK and unusable. This is on a fast desktop (4GHz cores) and I'll try to test on a slower machine as well, however I am for default of 8 regardless of outcomes.

As for packaging the next version - I am hesitant to commit since I tend to lag behind...



---

archive/issue_comments_226522.json:
```json
{
    "body": "Just noticed this. Should the individuals listed opposite Authors: really be opposite Cc:",
    "created_at": "2014-11-06T00:32:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226522",
    "user": "https://github.com/strogdon"
}
```

Just noticed this. Should the individuals listed opposite Authors: really be opposite Cc:



---

archive/issue_comments_226523.json:
```json
{
    "body": "> Just noticed this. Should the individuals listed opposite Authors: really be opposite Cc:\nWow, I *really* must have been in a hurry when I opened this one!  Sorry.",
    "created_at": "2014-11-06T01:11:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226523",
    "user": "https://github.com/kcrisman"
}
```

> Just noticed this. Should the individuals listed opposite Authors: really be opposite Cc:
Wow, I *really* must have been in a hurry when I opened this one!  Sorry.



---

archive/issue_comments_226524.json:
```json
{
    "body": "> Playing some more, platformspeed 6 is the first one which shows the plot at all during rotation, 7 includes transparency, and 8 includes antialiasing as well. Which is greatly affecting shape and size of \"thick curves\" and \"fat points\". In fact, with 8 I can see no differences while rotating and while not rotating and I think this should be the default (it certainly was the default before). I don't know what is changing between 8 and 10.\nI'm not sure it's changing anything.\n> With 200 points your sin plot works OK for me and while on 6 it may be faster, it is not at all the difference between OK and unusable. This is on a fast desktop (4GHz cores) and I'll try to test on a slower machine as well, however I am for default of 8 regardless of outcomes.\n\nIt's definitely very, very slow for me on my 2.3 GHz i7.  Probably also depends on the browser.  (By the way, for some reason I can use Java in Chrome; maybe it's just Chromium where it doesn't work.)  I really wouldn't go above the 7 in case it really does do something.   Among other reasons, because the doc for this at http://chemapps.stolaf.edu/jmol/jsmol/test2.htm suggests that for tablets or other mobile devices one will have problems with higher values.",
    "created_at": "2014-11-06T01:46:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226524",
    "user": "https://github.com/kcrisman"
}
```

> Playing some more, platformspeed 6 is the first one which shows the plot at all during rotation, 7 includes transparency, and 8 includes antialiasing as well. Which is greatly affecting shape and size of "thick curves" and "fat points". In fact, with 8 I can see no differences while rotating and while not rotating and I think this should be the default (it certainly was the default before). I don't know what is changing between 8 and 10.
I'm not sure it's changing anything.
> With 200 points your sin plot works OK for me and while on 6 it may be faster, it is not at all the difference between OK and unusable. This is on a fast desktop (4GHz cores) and I'll try to test on a slower machine as well, however I am for default of 8 regardless of outcomes.

It's definitely very, very slow for me on my 2.3 GHz i7.  Probably also depends on the browser.  (By the way, for some reason I can use Java in Chrome; maybe it's just Chromium where it doesn't work.)  I really wouldn't go above the 7 in case it really does do something.   Among other reasons, because the doc for this at http://chemapps.stolaf.edu/jmol/jsmol/test2.htm suggests that for tablets or other mobile devices one will have problems with higher values.



---

archive/issue_comments_226525.json:
```json
{
    "body": "I'm pretty sure I picked 6 because that was the only thing that worked OK on tablets.  Unfortunately, I do not have a test server set up with 6.4.rc1 on which to retest this.  Here's a way we can all do device checking and report back.  I have some web pages set up that have complex enough things that we should be able to tell.\n1. go to [hybrid orbitals](http://www.uwosh.edu/faculty_staff/gutow/Orbitals/N/sp3%20hybrid.shtml)\n2. select a different orbital in each popup\n3. set two of them to transparent\n4. set another to mesh\n5. use the right-click menu to bring up the console\n6. test \"set platformspeed = X\", where X = 6  through 8.\n7. report back with device details.\n\n(may not work on all touch devices as I have had trouble getting the equivalent of a right-click)\n\nMy first report:\ni3 portable that tops out at 1.8 GHZ (usually runs at 800 MHz) 8 or higher is fine on. Tested in Firefox and Chromium on Ubuntu 14.04.",
    "created_at": "2014-11-06T02:28:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226525",
    "user": "https://github.com/gutow"
}
```

I'm pretty sure I picked 6 because that was the only thing that worked OK on tablets.  Unfortunately, I do not have a test server set up with 6.4.rc1 on which to retest this.  Here's a way we can all do device checking and report back.  I have some web pages set up that have complex enough things that we should be able to tell.
1. go to [hybrid orbitals](http://www.uwosh.edu/faculty_staff/gutow/Orbitals/N/sp3%20hybrid.shtml)
2. select a different orbital in each popup
3. set two of them to transparent
4. set another to mesh
5. use the right-click menu to bring up the console
6. test "set platformspeed = X", where X = 6  through 8.
7. report back with device details.

(may not work on all touch devices as I have had trouble getting the equivalent of a right-click)

My first report:
i3 portable that tops out at 1.8 GHZ (usually runs at 800 MHz) 8 or higher is fine on. Tested in Firefox and Chromium on Ubuntu 14.04.



---

archive/issue_comments_226526.json:
```json
{
    "body": "Better test page [Standard JSmol test page](http://chemapps.stolaf.edu/jmol/jsmol/test2.htm)\n\n1. select pmesh `\"data/sage.pmesh\"` from about 2/3 of the way down the second column of links.\n2. try the different platforms speeds by clicking on the numbers below the image",
    "created_at": "2014-11-06T02:41:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226526",
    "user": "https://github.com/gutow"
}
```

Better test page [Standard JSmol test page](http://chemapps.stolaf.edu/jmol/jsmol/test2.htm)

1. select pmesh `"data/sage.pmesh"` from about 2/3 of the way down the second column of links.
2. try the different platforms speeds by clicking on the numbers below the image



---

archive/issue_comments_226527.json:
```json
{
    "body": "Original Ipad: 7 is acceptable, 8 is not.",
    "created_at": "2014-11-06T03:37:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226527",
    "user": "https://github.com/gutow"
}
```

Original Ipad: 7 is acceptable, 8 is not.



---

archive/issue_comments_226528.json:
```json
{
    "body": "Thanks for the test, Jonathan!\n\nOn my over **TEN YEARS OLD** laptop with Athlon 64 1.8GHz (and GeForce MX440 Go videocard) it works just fine with 8. On the other hand, three.js on this machine is completely unusable since WebGL is not supported and canvas is incredibly slow (many seconds to render a frame).\n\nWhile supporting old mobile devices is noble, I think that complicated 3D plots with a lot of points are more likely to be viewed on computers with adequate resources.\n\nNote also that the current situation (for a year) is that rotatable 3D plots are not working at all on all devices. With 8 we will get a great renderer for desktops/laptops and perhaps more recent tablets as well. And while with 7 situation is satisfactory as well, I still would prefer not to compromise - spinning manually or automatically is the most natural way to look at 3D plots and the higher quality we can achieve the better.",
    "created_at": "2014-11-06T04:41:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226528",
    "user": "https://github.com/novoselt"
}
```

Thanks for the test, Jonathan!

On my over **TEN YEARS OLD** laptop with Athlon 64 1.8GHz (and GeForce MX440 Go videocard) it works just fine with 8. On the other hand, three.js on this machine is completely unusable since WebGL is not supported and canvas is incredibly slow (many seconds to render a frame).

While supporting old mobile devices is noble, I think that complicated 3D plots with a lot of points are more likely to be viewed on computers with adequate resources.

Note also that the current situation (for a year) is that rotatable 3D plots are not working at all on all devices. With 8 we will get a great renderer for desktops/laptops and perhaps more recent tablets as well. And while with 7 situation is satisfactory as well, I still would prefer not to compromise - spinning manually or automatically is the most natural way to look at 3D plots and the higher quality we can achieve the better.



---

archive/issue_comments_226529.json:
```json
{
    "body": "What about handheld devices like phones, many are less capable then my original Ipad? Anybody got an iphone 4, droid mini, of galaxy III?",
    "created_at": "2014-11-06T05:58:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226529",
    "user": "https://github.com/gutow"
}
```

What about handheld devices like phones, many are less capable then my original Ipad? Anybody got an iphone 4, droid mini, of galaxy III?



---

archive/issue_comments_226530.json:
```json
{
    "body": "Let's make plots work first on real computers, please. Some of use use Sage for their work. I doubt that anybody is writing a paper or teaching classes on their iPhone 4. \n\nIt would be easy enough to add a javascript to pick out mobile devices depending on media query and degrade display, e.g. \n\n```\nvar fast = window.matchMedia( \"(min-width: 500px)\" );\n```\n\nwith a suitable try/catch for browser that don't support it.",
    "created_at": "2014-11-06T11:29:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226530",
    "user": "https://github.com/vbraun"
}
```

Let's make plots work first on real computers, please. Some of use use Sage for their work. I doubt that anybody is writing a paper or teaching classes on their iPhone 4. 

It would be easy enough to add a javascript to pick out mobile devices depending on media query and degrade display, e.g. 

```
var fast = window.matchMedia( "(min-width: 500px)" );
```

with a suitable try/catch for browser that don't support it.



---

archive/issue_comments_226531.json:
```json
{
    "body": "Also, jsmol knows how long it takes to render each frame, right? It should just dynamically adjust the rendering quality to achieve >=30fps",
    "created_at": "2014-11-06T11:39:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226531",
    "user": "https://github.com/vbraun"
}
```

Also, jsmol knows how long it takes to render each frame, right? It should just dynamically adjust the rendering quality to achieve >=30fps



---

archive/issue_comments_226532.json:
```json
{
    "body": "IMHO this is not a blocker, more of an annoyance.",
    "created_at": "2014-11-06T11:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226532",
    "user": "https://github.com/vbraun"
}
```

IMHO this is not a blocker, more of an annoyance.



---

archive/issue_comments_226533.json:
```json
{
    "body": "> IMHO this is not a blocker, more of an annoyance.\n\nOnce I realized that it was only for rotation, I was thinking of downgrading to critical, but Andrey's point was actually fairly compelling.\n\nAndrey and Jonathan, we can either fix this *fast* or dither about choices and not get it in.  I think 7 is a good compromise but I don't think we are going to have the energy to put in some extra javascript, or at least I won't.\n\n----\n\n> I doubt that anybody is writing a paper or teaching classes on their iPhone 4. \nVolker, you wrote the Android app - how does it deal with 3d images?  (I don't have iOS or Android so I can't test this, and the current Google Play page doesn't have an example pictured.)  If the apps using cell server aren't doing 3d graphics anyway, then I wouldn't worry about it, it's relatively less frequent that people are doing intense graphics on such platforms, I imagine, since sagenb isn't optimized for mobile devices (at all).\n\nIncidentally, the recent reviews at [the Android app site](https://play.google.com/store/apps/details?id=org.sagemath.droid&hl=en) are fairly negative - that's sad, because from everything I heard it was actually pretty awesome.  I don't think sagecell has been having problems - or has it?\n\n> Also, jsmol knows how long it takes to render each frame, right? It should just dynamically adjust the rendering quality to achieve >=30fps\n\nJonathan can report that upstream...",
    "created_at": "2014-11-06T13:30:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226533",
    "user": "https://github.com/kcrisman"
}
```

> IMHO this is not a blocker, more of an annoyance.

Once I realized that it was only for rotation, I was thinking of downgrading to critical, but Andrey's point was actually fairly compelling.

Andrey and Jonathan, we can either fix this *fast* or dither about choices and not get it in.  I think 7 is a good compromise but I don't think we are going to have the energy to put in some extra javascript, or at least I won't.

----

> I doubt that anybody is writing a paper or teaching classes on their iPhone 4. 
Volker, you wrote the Android app - how does it deal with 3d images?  (I don't have iOS or Android so I can't test this, and the current Google Play page doesn't have an example pictured.)  If the apps using cell server aren't doing 3d graphics anyway, then I wouldn't worry about it, it's relatively less frequent that people are doing intense graphics on such platforms, I imagine, since sagenb isn't optimized for mobile devices (at all).

Incidentally, the recent reviews at [the Android app site](https://play.google.com/store/apps/details?id=org.sagemath.droid&hl=en) are fairly negative - that's sad, because from everything I heard it was actually pretty awesome.  I don't think sagecell has been having problems - or has it?

> Also, jsmol knows how long it takes to render each frame, right? It should just dynamically adjust the rendering quality to achieve >=30fps

Jonathan can report that upstream...



---

archive/issue_comments_226534.json:
```json
{
    "body": "Java applets are not supported on Android.",
    "created_at": "2014-11-06T13:42:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226534",
    "user": "https://github.com/vbraun"
}
```

Java applets are not supported on Android.



---

archive/issue_comments_226535.json:
```json
{
    "body": "> Java applets are not supported on Android.\nThanks, I didn't think about it that way.  And on iOS I guess you need various workarounds.  \n\nSo in other words, before the only option for 3d plotting in Sage on most tablets was canvas3d or Tachyon, neither of which are particularly good for that type of thing (spinning etc.).  Now, presumably we *will* be able to support them, even if pretty darn slow.\n\nSo come to consensus on 7 or 8, given those constraints, and then we can always try to add something later to detect browsers - if really necessary.",
    "created_at": "2014-11-06T13:55:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226535",
    "user": "https://github.com/kcrisman"
}
```

> Java applets are not supported on Android.
Thanks, I didn't think about it that way.  And on iOS I guess you need various workarounds.  

So in other words, before the only option for 3d plotting in Sage on most tablets was canvas3d or Tachyon, neither of which are particularly good for that type of thing (spinning etc.).  Now, presumably we *will* be able to support them, even if pretty darn slow.

So come to consensus on 7 or 8, given those constraints, and then we can always try to add something later to detect browsers - if really necessary.



---

archive/issue_comments_226536.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-11-06T14:17:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226536",
    "user": "https://github.com/gutow"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_226537.json:
```json
{
    "body": "The commit I just pushed sets the default speed to 8.  Test please.\n----\nLast 10 new commits:",
    "created_at": "2014-11-06T14:17:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226537",
    "user": "https://github.com/gutow"
}
```

The commit I just pushed sets the default speed to 8.  Test please.
----
Last 10 new commits:



---

archive/issue_comments_226538.json:
```json
{
    "body": "Failed automerge suggests I missed some more recent commits (not sure how).  The last one is the one-liner we need.  It cannot conflict with anything else.",
    "created_at": "2014-11-06T14:20:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226538",
    "user": "https://github.com/gutow"
}
```

Failed automerge suggests I missed some more recent commits (not sure how).  The last one is the one-liner we need.  It cannot conflict with anything else.



---

archive/issue_comments_226539.json:
```json
{
    "body": "You can't do it from here anyway, it has to be upstream, and then you can link to https://github.com/sagemath/sagenb/issues/254 from there.  I'm sorry, it continues to be very annoying that the sagenb is \"upstream\", I know...\n\nAnyway, I can just make the commit myself there as well without having to do any pushing, if you like.",
    "created_at": "2014-11-06T14:24:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226539",
    "user": "https://github.com/kcrisman"
}
```

You can't do it from here anyway, it has to be upstream, and then you can link to https://github.com/sagemath/sagenb/issues/254 from there.  I'm sorry, it continues to be very annoying that the sagenb is "upstream", I know...

Anyway, I can just make the commit myself there as well without having to do any pushing, if you like.



---

archive/issue_comments_226540.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-11-06T14:58:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226540",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_226541.json:
```json
{
    "body": "Okay, confirmed and done at [this commit](https://github.com/sagemath/sagenb/commit/f5eef910f7791ed80a0538193dc2ba00c84d0c09).\n\nNow we just need a new sagenb release, probably waiting on https://github.com/sagemath/sagenb/issues/256 to be fixed.",
    "created_at": "2014-11-06T14:58:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226541",
    "user": "https://github.com/kcrisman"
}
```

Okay, confirmed and done at [this commit](https://github.com/sagemath/sagenb/commit/f5eef910f7791ed80a0538193dc2ba00c84d0c09).

Now we just need a new sagenb release, probably waiting on https://github.com/sagemath/sagenb/issues/256 to be fixed.



---

archive/issue_comments_226542.json:
```json
{
    "body": "Regarding Android app: there were issues caused/exposed by my server setup changes that Volker has fixed at https://github.com/sagemath/sagecell/commit/8e5c8722e03bcd0bcd7a9fa67cf9c925ad99f7bf\n\nSageCell uses Java Jmol by default (meaning it is not working almost anywhere) and has some three.js support separate from SMC. Not sure what will happen when I merge all these changes, but probably JS Jmol will not just work magically ;-)",
    "created_at": "2014-11-06T17:21:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226542",
    "user": "https://github.com/novoselt"
}
```

Regarding Android app: there were issues caused/exposed by my server setup changes that Volker has fixed at https://github.com/sagemath/sagecell/commit/8e5c8722e03bcd0bcd7a9fa67cf9c925ad99f7bf

SageCell uses Java Jmol by default (meaning it is not working almost anywhere) and has some three.js support separate from SMC. Not sure what will happen when I merge all these changes, but probably JS Jmol will not just work magically ;-)



---

archive/issue_comments_226543.json:
```json
{
    "body": "> Regarding Android app: there were issues caused/exposed by my server setup changes that Volker has fixed at https://github.com/sagemath/sagecell/commit/8e5c8722e03bcd0bcd7a9fa67cf9c925ad99f7bf\n\nNice - probably good to change it soon, given all the angry reviews showing up on the app website.\n\n> SageCell uses Java Jmol by default (meaning it is not working almost anywhere) and has some three.js support separate from SMC. Not sure what will happen when I merge all these changes, but probably JS Jmol will not just work magically ;-)\n\nI think it should, right?  I forgot about the three.js stuff.",
    "created_at": "2014-11-06T17:23:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226543",
    "user": "https://github.com/kcrisman"
}
```

> Regarding Android app: there were issues caused/exposed by my server setup changes that Volker has fixed at https://github.com/sagemath/sagecell/commit/8e5c8722e03bcd0bcd7a9fa67cf9c925ad99f7bf

Nice - probably good to change it soon, given all the angry reviews showing up on the app website.

> SageCell uses Java Jmol by default (meaning it is not working almost anywhere) and has some three.js support separate from SMC. Not sure what will happen when I merge all these changes, but probably JS Jmol will not just work magically ;-)

I think it should, right?  I forgot about the three.js stuff.



---

archive/issue_comments_226544.json:
```json
{
    "body": "Change what soon? sagecell.sagemath.org has been running the fixed version shortly after Volker's fix and Android app was updated a couple days after it. My understanding is that it is working now.\n\nAnd given that !SageNB and SageCell have different resulting HTML and SageCell patches graphics code in Sage, I do not expect new Jmol work there right away. But we'll see!",
    "created_at": "2014-11-06T17:36:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226544",
    "user": "https://github.com/novoselt"
}
```

Change what soon? sagecell.sagemath.org has been running the fixed version shortly after Volker's fix and Android app was updated a couple days after it. My understanding is that it is working now.

And given that !SageNB and SageCell have different resulting HTML and SageCell patches graphics code in Sage, I do not expect new Jmol work there right away. But we'll see!



---

archive/issue_comments_226545.json:
```json
{
    "body": "> Change what soon? sagecell.sagemath.org has been running the fixed version shortly after Volker's fix and Android app was updated a couple days after it. My understanding is that it is working now.\n\nOh, I didn't realize that - I guess I saw a review from October there, but it looks like you must have fixed it shortly thereafter.\n\n> And given that !SageNB and SageCell have different resulting HTML and SageCell patches graphics code in Sage, I do not expect new Jmol work there right away. But we'll see!\n\nHmm, that may be.  Let me know (not on this ticket, email) and I can test if you have a demo server at some point).",
    "created_at": "2014-11-06T17:38:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226545",
    "user": "https://github.com/kcrisman"
}
```

> Change what soon? sagecell.sagemath.org has been running the fixed version shortly after Volker's fix and Android app was updated a couple days after it. My understanding is that it is working now.

Oh, I didn't realize that - I guess I saw a review from October there, but it looks like you must have fixed it shortly thereafter.

> And given that !SageNB and SageCell have different resulting HTML and SageCell patches graphics code in Sage, I do not expect new Jmol work there right away. But we'll see!

Hmm, that may be.  Let me know (not on this ticket, email) and I can test if you have a demo server at some point).



---

archive/issue_comments_226546.json:
```json
{
    "body": "Changing component from graphics to notebook.",
    "created_at": "2014-11-07T03:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226546",
    "user": "https://github.com/kcrisman"
}
```

Changing component from graphics to notebook.



---

archive/issue_comments_226547.json:
```json
{
    "body": "Whats the plan for making a new sagenb release?",
    "created_at": "2014-11-09T12:22:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226547",
    "user": "https://github.com/vbraun"
}
```

Whats the plan for making a new sagenb release?



---

archive/issue_comments_226548.json:
```json
{
    "body": "Plan is to do it today; I was waiting for the review of https://github.com/sagemath/sagenb/pull/259 though ppurka seemed to think there was something else \"wrong\" (but not badly) with `dist.sh`...",
    "created_at": "2014-11-10T13:11:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226548",
    "user": "https://github.com/kcrisman"
}
```

Plan is to do it today; I was waiting for the review of https://github.com/sagemath/sagenb/pull/259 though ppurka seemed to think there was something else "wrong" (but not badly) with `dist.sh`...



---

archive/issue_comments_226549.json:
```json
{
    "body": "I already fixed dist.sh in sagenb master.",
    "created_at": "2014-11-10T13:28:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226549",
    "user": "https://github.com/ppurka"
}
```

I already fixed dist.sh in sagenb master.



---

archive/issue_comments_226550.json:
```json
{
    "body": "> I already fixed dist.sh in sagenb master.\nOh!  I didn't see that, sagenb doesn't give me auto-notifications except on my own stuff - I assume that is configurable, though.",
    "created_at": "2014-11-10T13:35:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226550",
    "user": "https://github.com/kcrisman"
}
```

> I already fixed dist.sh in sagenb master.
Oh!  I didn't see that, sagenb doesn't give me auto-notifications except on my own stuff - I assume that is configurable, though.



---

archive/issue_comments_226551.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-11-10T17:19:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226551",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_226552.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-11-10T17:19:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226552",
    "user": "https://github.com/kcrisman"
}
```

New commits:



---

archive/issue_comments_226553.json:
```json
{
    "body": "On the branch of the ticket:\n\n```\n$ sage -i http://sage.math.washington.edu/home/kcrisman/sagenb-0.11.1.tar\n...\nFinished extraction\n/home/novoselt/sage/src/bin/sage-spkg: line 598: cd: sagenb-0.11.1.tar: No such file or directory\nError: after extracting, the directory sagenb-0.11.1.tar does not exist\n```\n\n\nAm I doing something wrong?",
    "created_at": "2014-11-10T19:21:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226553",
    "user": "https://github.com/novoselt"
}
```

On the branch of the ticket:

```
$ sage -i http://sage.math.washington.edu/home/kcrisman/sagenb-0.11.1.tar
...
Finished extraction
/home/novoselt/sage/src/bin/sage-spkg: line 598: cd: sagenb-0.11.1.tar: No such file or directory
Error: after extracting, the directory sagenb-0.11.1.tar does not exist
```


Am I doing something wrong?



---

archive/issue_comments_226554.json:
```json
{
    "body": "You need to download the file yourself and put it into the upstream/ folder",
    "created_at": "2014-11-10T19:23:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226554",
    "user": "https://github.com/vbraun"
}
```

You need to download the file yourself and put it into the upstream/ folder



---

archive/issue_comments_226555.json:
```json
{
    "body": "It works! (As expected ;-))",
    "created_at": "2014-11-10T19:50:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226555",
    "user": "https://github.com/novoselt"
}
```

It works! (As expected ;-))



---

archive/issue_comments_226556.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-11-10T19:50:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226556",
    "user": "https://github.com/novoselt"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_226557.json:
```json
{
    "body": "> You need to download the file yourself and put it into the upstream/ folder\nBut I think that syntax used to work, correct?\n> It works! (As expected ;-))\nLet's hope there are finally no more issues!",
    "created_at": "2014-11-10T21:07:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226557",
    "user": "https://github.com/kcrisman"
}
```

> You need to download the file yourself and put it into the upstream/ folder
But I think that syntax used to work, correct?
> It works! (As expected ;-))
Let's hope there are finally no more issues!



---

archive/issue_comments_226558.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-11-11T17:00:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17055#issuecomment-226558",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_016486.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-11T17:00:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17055",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17055#event-16486"
}
```
