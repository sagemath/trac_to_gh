# Issue 26518: Error integrate with Fricas as algorithm fresnel_sin called

archive/issues_026518.json:
```json
{
    "body": "CC:  @slel\n\nKeywords: fricas fresnel\n\nI asked about this in https://ask.sagemath.org/question/44369/error-integrate-with-fricas-as-algorithm-fresnel_sin-called/\n\nI thought I should enter a ticket to better track this.\n\nI am using\n\n\n\n```\nsage: version()\n    'SageMath version 8.5.beta2, Release Date: 2018-11-01'\n```\n\n\n\nHere is the problem. When I type\n\n\n\n```\nfrom sympy import fresnelc, fresnels\nvar('a b c d e m n x ')\nr=integrate(x^7*fresnels(b*x),x,algorithm=\"fricas\")\n\n```\n\n\nsage gives the error\n\n\n\n```\nTypeError: An error occurred when FriCAS there are no library operations named fresnel_sin in Fricas?\n\n```\n\n\nBut FriCAS does not have fresnel_sin. It has fresnelS and fresnelC , link \n\nhttp://fricas.github.io/api/FloatLiouvilianFunctions.html\n\n\nWhen running the same command inside Fricas 1.3.4 itself, it works OK\n\n\n\n```\nintegrate(x^7*fresnelS(b*x),x)   \n\n   (3)\n                                    2     2\n             5   2 5               b %pi x       8   4 8\n       (- 7 b %pi x  + 105 b x)sin(--------) + (b %pi x  - 105)fresnelS(b x)\n                                       2\n     + \n                                    2     2\n         7   3 7       3     3     b %pi x\n       (b %pi x  - 35 b %pi x )cos(--------)\n                                       2\n  /\n        8   4\n     8 b %pi\n\n```\n\n\nWhy the error says when FriCAS evaluated '((x)^(7))*(fresnel_sin((b)*(x)))' when Fricas itself does not have this function?\n\nNotice that there is no problem using default integrate algorithm in sage\n\n\n\n```\nsage: integrate(x^7*fresnels(b*x),x)\n1/8*x^8*fresnel_sin(b*x) - 1/16*sqrt(1/2)*((105*I + 105)*(1/4)^(1/4)*pi*erf(sqrt(1/2*I*pi)*b*x) - (105*I - 105)*(1/4)^(1/4)*pi*erf(sqrt(-1/2*I*pi)*b*x) - 4*(sqrt(1/2)*pi^4*b^7*x^7 - 35*sqrt(1/2)*pi^2*b^3*x^3)*cos(1/2*pi*b^2*x^2) + 28*(sqrt(1/2)*pi^3*b^5*x^5 - 15*sqrt(1/2)*pi*b*x)*sin(1/2*pi*b^2*x^2))/(pi^5*b^8)\n\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/26755\n\n",
    "created_at": "2018-11-24T07:17:55Z",
    "labels": [
        "symbolics",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Error integrate with Fricas as algorithm fresnel_sin called",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26518",
    "user": "@nasser1"
}
```
CC:  @slel

Keywords: fricas fresnel

I asked about this in https://ask.sagemath.org/question/44369/error-integrate-with-fricas-as-algorithm-fresnel_sin-called/

I thought I should enter a ticket to better track this.

I am using



```
sage: version()
    'SageMath version 8.5.beta2, Release Date: 2018-11-01'
```



Here is the problem. When I type



```
from sympy import fresnelc, fresnels
var('a b c d e m n x ')
r=integrate(x^7*fresnels(b*x),x,algorithm="fricas")

```


sage gives the error



```
TypeError: An error occurred when FriCAS there are no library operations named fresnel_sin in Fricas?

```


But FriCAS does not have fresnel_sin. It has fresnelS and fresnelC , link 

http://fricas.github.io/api/FloatLiouvilianFunctions.html


When running the same command inside Fricas 1.3.4 itself, it works OK



```
integrate(x^7*fresnelS(b*x),x)   

   (3)
                                    2     2
             5   2 5               b %pi x       8   4 8
       (- 7 b %pi x  + 105 b x)sin(--------) + (b %pi x  - 105)fresnelS(b x)
                                       2
     + 
                                    2     2
         7   3 7       3     3     b %pi x
       (b %pi x  - 35 b %pi x )cos(--------)
                                       2
  /
        8   4
     8 b %pi

```


Why the error says when FriCAS evaluated '((x)^(7))*(fresnel_sin((b)*(x)))' when Fricas itself does not have this function?

Notice that there is no problem using default integrate algorithm in sage



```
sage: integrate(x^7*fresnels(b*x),x)
1/8*x^8*fresnel_sin(b*x) - 1/16*sqrt(1/2)*((105*I + 105)*(1/4)^(1/4)*pi*erf(sqrt(1/2*I*pi)*b*x) - (105*I - 105)*(1/4)^(1/4)*pi*erf(sqrt(-1/2*I*pi)*b*x) - 4*(sqrt(1/2)*pi^4*b^7*x^7 - 35*sqrt(1/2)*pi^2*b^3*x^3)*cos(1/2*pi*b^2*x^2) + 28*(sqrt(1/2)*pi^3*b^5*x^5 - 15*sqrt(1/2)*pi*b*x)*sin(1/2*pi*b^2*x^2))/(pi^5*b^8)

```


Issue created by migration from https://trac.sagemath.org/ticket/26755





---

archive/issue_comments_372896.json:
```json
{
    "body": "I think that this was just fixed in #26746:\n\n\n```\nsage: from sympy import fresnelc, fresnels\nsage: var('a b c d e m n x ')\nsage: integrate(x^7*fresnels(b*x),x,algorithm=\"fricas\")\n1/8*((pi^3*b^7*x^7 - 35*pi*b^3*x^3)*cos(1/2*pi*b^2*x^2) + (pi^4*b^8*x^8 - 105)*fresnel_sin(b*x) - 7*(pi^2*b^5*x^5 - 15*b*x)*sin(1/2*pi*b^2*x^2))/(pi^4*b^8)\n```\n",
    "created_at": "2018-11-24T07:37:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26518#issuecomment-372896",
    "user": "@mantepse"
}
```

I think that this was just fixed in #26746:


```
sage: from sympy import fresnelc, fresnels
sage: var('a b c d e m n x ')
sage: integrate(x^7*fresnels(b*x),x,algorithm="fricas")
1/8*((pi^3*b^7*x^7 - 35*pi*b^3*x^3)*cos(1/2*pi*b^2*x^2) + (pi^4*b^8*x^8 - 105)*fresnel_sin(b*x) - 7*(pi^2*b^5*x^5 - 15*b*x)*sin(1/2*pi*b^2*x^2))/(pi^4*b^8)
```




---

archive/issue_comments_372897.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-11-24T07:38:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26518#issuecomment-372897",
    "user": "@mantepse"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_372898.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-11-24T08:01:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26518#issuecomment-372898",
    "user": "@fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_372899.json:
```json
{
    "body": "Thanks. This is confirmed fixed in \n\n \n\n```\nSageMath version 8.5.beta5, Release Date: 2018-11-25   \n```\n\n \n\n\n```\nsage: from sympy import fresnelc, fresnels\nsage: var('a b c d e m n x ')\nsage: integrate(x^7*fresnels(b*x),x,algorithm=\"fricas\")\n\n1/8*((pi^3*b^7*x^7 - 35*pi*b^3*x^3)*cos(1/2*pi*b^2*x^2) + (pi^4*b^8*x^8 - 105)*fresnel_sin(b*x) - 7*(pi^2*b^5*x^5 - 15*b*x)*sin(1/2*pi*b^2*x^2))/(pi^4*b^8)\nsage: \n\n\n```\n",
    "created_at": "2018-11-28T08:51:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26518#issuecomment-372899",
    "user": "@nasser1"
}
```

Thanks. This is confirmed fixed in 

 

```
SageMath version 8.5.beta5, Release Date: 2018-11-25   
```

 


```
sage: from sympy import fresnelc, fresnels
sage: var('a b c d e m n x ')
sage: integrate(x^7*fresnels(b*x),x,algorithm="fricas")

1/8*((pi^3*b^7*x^7 - 35*pi*b^3*x^3)*cos(1/2*pi*b^2*x^2) + (pi^4*b^8*x^8 - 105)*fresnel_sin(b*x) - 7*(pi^2*b^5*x^5 - 15*b*x)*sin(1/2*pi*b^2*x^2))/(pi^4*b^8)
sage: 


```




---

archive/issue_comments_372900.json:
```json
{
    "body": "Changing keywords from \"fricas fresnel\" to \"fricas, fresnel, integrate\".",
    "created_at": "2019-02-15T04:17:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26518#issuecomment-372900",
    "user": "@slel"
}
```

Changing keywords from "fricas fresnel" to "fricas, fresnel, integrate".



---

archive/issue_comments_372901.json:
```json
{
    "body": "Presuming these are all correctly reviewed as either duplicate, invalid, or wontfix.",
    "created_at": "2019-02-26T13:58:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26518#issuecomment-372901",
    "user": "@embray"
}
```

Presuming these are all correctly reviewed as either duplicate, invalid, or wontfix.



---

archive/issue_comments_372902.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2019-02-26T13:58:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26518#issuecomment-372902",
    "user": "@embray"
}
```

Resolution: invalid
