# Issue 11502: np.dot of two numeric matrices segfaults sage.

Issue created by migration from https://trac.sagemath.org/ticket/11674

Original creator: mister.wardrop

Original creation time: 2011-08-10 03:41:18

Assignee: jason, jkantor

CC:  vbraun

Multiplying two ordinary matrices using numpy segfaults sage. Using a standard python install, this does not happen.

Steps to reproduce:

1) Run sage 2) Run the following code:

import numpy as np ms = np.load('matrices.npy') np.dot(ms[0],ms[1])

Observe that Sage segfaults.

The actual segfault notification is: 

/PersonalStorage/Development/tools/sage/local/lib/libcsage.so(print_backtrace+0x31)[0x7f39008bd817] /PersonalStorage/Development/tools/sage/local/lib/libcsage.so(sigdie+0x14)[0x7f39008bd849] /PersonalStorage/Development/tools/sage/local/lib/libcsage.so(sage_signal_handler+0x20e)[0x7f39008bd474] /lib/x86_64-linux-gnu/libpthread.so.0(+0xfc60)[0x7f39068d2c60] /PersonalStorage/Development/tools/sage/local/lib/libatlas.so(+0x6b70d)[0x7f38fa76b70d]

----
Unhandled SIGSEGV: A segmentation fault occurred in Sage. This probably occurred because a *compiled* component of Sage has a bug in it and is not properly wrapped with sig_on(), sig_off(). You might want to run Sage under gdb with 'sage -gdb' to debug this. Sage will now terminate.

Running this code outside of sage, in another python interpreter (with numpy 1.5.1) does not exhibit this fault.

For my work, this is debilitating; and I hope to publish a paper using these results soon.


---

Comment by mister.wardrop created at 2011-08-10 03:48:28

I have been unable to upload the matrices.npy file due to attachment limitations (the file is 4.2MB). Please find the file on my webserver:

http://matthewwardrop.info/matrices.npy 

Thank you :).


---

Comment by leif created at 2011-08-10 05:10:13

Thanks for your report. For the record, these are two 512x512 matrices.

Works for me with Sage 4.7.1.rc0, Ubuntu 10.04.3 x86_64; I'll try Sage 4.7 later.

Did you compile Sage from source? If not, please do so, as we at least currently cannot guarantee what ATLAS produces works on all processors, i.e., we unfortunately had a couple of issues (segfaults) with ATLAS and large matrices in *binary* Sage distributions; these issues vanished when using a version of Sage built on the affected machines.


P.S.: Please use the wiki markup (`` ... ``) for Sage code and screen output examples.


---

Comment by leif created at 2011-08-10 05:16:28


```python
sage: import numpy as np
sage: ms = np.load("/home/leif/Sage/tmp/matrices.npy")
sage: time np.dot(ms[0],ms[1])
array([[ 0.,  0.,  0., ...,  0., -0., -0.],
       [ 0.,  0.,  0., ...,  0., -0., -0.],
       [ 0.,  0.,  0., ...,  0., -0., -0.],
       ..., 
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.]])
Time: CPU 0.03 s, Wall: 0.05 s
sage: ms[0] ; ms[1]
array([[ 0.,  0.,  0., ..., -0., -0., -0.],
       [ 0.,  0.,  0., ..., -0., -0., -0.],
       [ 0.,  0.,  0., ..., -0., -0., -0.],
       ..., 
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.]])
array([[ 0.,  0.,  0., ..., -0., -0., -0.],
       [ 0.,  0.,  0., ..., -0., -0., -0.],
       [ 0.,  0., -2., ..., -0., -0., -0.],
       ..., 
       [ 0.,  0.,  0., ..., -2.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.]])
```



---

Comment by leif created at 2011-08-10 05:26:37

Could you also give some information about your system? E.g. the output of

```sh
$ uname -a
$ cat /proc/cpuinfo
```

and perhaps the type of Sage installation and Linux distribution you are using.


Note that the trac mail notification is currently not working due to a recent major system crash.


---

Comment by leif created at 2011-08-10 05:30:18

Changing keywords from "" to "ATLAS segfault matrix numpy".


---

Comment by leif created at 2011-08-10 06:31:49

FWIW, I do get exactly the same error _with the binary distribution_ of Sage 4.7 (`sage-4.7-linux-64bit-ubuntu_10.04.1_lts-x86_64-Linux.tar.lzma`) on Ubuntu 10.04.3 x86_64 (Core2, Penryn):

```
----------------------------------------------------------------------
----------------------------------------------------------------------
sage: import numpy as np
sage: ms = np.load("/home/leif/Sage/tmp/matrices.npy")
sage: time np.dot(ms[0],ms[1])
/tmp/sage-4.7-linux-64bit-ubuntu_10.04.1_lts-x86_64-Linux/local/lib/libcsage.so(print_backtrace+0x31)[0x7f6e46a55817]
/tmp/sage-4.7-linux-64bit-ubuntu_10.04.1_lts-x86_64-Linux/local/lib/libcsage.so(sigdie+0x14)[0x7f6e46a55849]
/tmp/sage-4.7-linux-64bit-ubuntu_10.04.1_lts-x86_64-Linux/local/lib/libcsage.so(sage_signal_handler+0x20e)[0x7f6e46a55474]
/lib/libpthread.so.0(+0xf8f0)[0x7f6e4bbfb8f0]
/tmp/sage-4.7-linux-64bit-ubuntu_10.04.1_lts-x86_64-Linux/local/lib/libatlas.so(+0x6b70d)[0x7f6e408fe70d]
| Sage Version 4.7, Release Date: 2011-05-23                         |
| Type notebook() for the GUI, and license() for information.        |
------------------------------------------------------------------------
Unhandled SIGSEGV: A segmentation fault occurred in Sage.
This probably occurred because a *compiled* component of Sage has a bug
in it and is not properly wrapped with sig_on(), sig_off(). You might
want to run Sage under gdb with 'sage -gdb' to debug this.
Sage will now terminate.
------------------------------------------------------------------------
/tmp/sage-4.7-linux-64bit-ubuntu_10.04.1_lts-x86_64-Linux/local/bin/sage-sage: line 300: 31265 Segmentation fault      sage-ipython "$@" -i
```



---

Comment by leif created at 2011-08-10 07:09:27

I *don't* get an error with Sage 4.7.rc2 (which is almost identical to the final version released) _built from source_ on the same machine.

Note that Sage will generally also run faster if it was built on the machine (more precisely, a machine with the same or similar type of processor) it is running on.


---

Comment by mister.wardrop created at 2011-08-10 10:08:40

`@`leif: Thank you for neatening the bug report. I did not know the wiki syntax to format it; though I admit I should have looked it up.

To be more precise, though it looks as if you are able to reproduce my issues already, and so it is not required:


```
$ uname -a
Linux themadhatter-desktop 3.0.0-8-generic #10-Ubuntu SMP Fri Aug 5 23:54:15 UTC 2011 x86_64 x86_64 x86_64 GNU/Linux
```


I can reproduce this in a fresh install of sage-4.7 from a binary installation; but also on an install of sage-4.6.2 . I have not tested on other installations.

I suppose the remedy appears to be to compile it manually; and so I'll do that. You don't need me to say that this is suboptimal though ;).

Thank you for your quick responses :).


---

Comment by mister.wardrop created at 2011-08-10 10:27:51

Oh... and just in case you still wanted it:

```
$ cat /proc/cpuinfo
processor	: 0
vendor_id	: AuthenticAMD
cpu family	: 15
model		: 107
model name	: AMD Athlon(tm) Neo X2 Dual Core Processor 6850e
stepping	: 2
cpu MHz		: 1800.000
cache size	: 512 KB
physical id	: 0
siblings	: 2
core id		: 0
cpu cores	: 2
apicid		: 0
initial apicid	: 0
fpu		: yes
fpu_exception	: yes
cpuid level	: 1
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt rdtscp lm 3dnowext 3dnow rep_good nopl extd_apicid pni cx16 lahf_lm cmp_legacy svm extapic cr8_legacy 3dnowprefetch lbrv
bogomips	: 3600.10
TLB size	: 1024 4K pages
clflush size	: 64
cache_alignment	: 64
address sizes	: 40 bits physical, 48 bits virtual
power management: ts fid vid ttp tm stc 100mhzsteps

processor	: 1
vendor_id	: AuthenticAMD
cpu family	: 15
model		: 107
model name	: AMD Athlon(tm) Neo X2 Dual Core Processor 6850e
stepping	: 2
cpu MHz		: 1800.000
cache size	: 512 KB
physical id	: 0
siblings	: 2
core id		: 1
cpu cores	: 2
apicid		: 1
initial apicid	: 1
fpu		: yes
fpu_exception	: yes
cpuid level	: 1
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt rdtscp lm 3dnowext 3dnow rep_good nopl extd_apicid pni cx16 lahf_lm cmp_legacy svm extapic cr8_legacy 3dnowprefetch lbrv
bogomips	: 3600.10
TLB size	: 1024 4K pages
clflush size	: 64
cache_alignment	: 64
address sizes	: 40 bits physical, 48 bits virtual
power management: ts fid vid ttp tm stc 100mhzsteps
```


Note that this also happens on another of my machines:

```
$ cat /proc/cpuinfo
processor	: 0
vendor_id	: GenuineIntel
cpu family	: 6
model		: 30
model name	: Intel(R) Core(TM) i7 CPU         870  @ 2.93GHz
stepping	: 5
cpu MHz		: 1197.000
cache size	: 8192 KB
physical id	: 0
siblings	: 8
core id		: 0
cpu cores	: 4
apicid		: 0
initial apicid	: 0
fpu		: yes
fpu_exception	: yes
cpuid level	: 11
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts nopl xtopology nonstop_tsc aperfmperf pni dtes64 monitor ds_cpl vmx smx est tm2 ssse3 cx16 xtpr pdcm sse4_1 sse4_2 popcnt lahf_lm ida dts tpr_shadow vnmi flexpriority ept vpid
bogomips	: 5852.81
clflush size	: 64
cache_alignment	: 64
address sizes	: 36 bits physical, 48 bits virtual
power management:

processor	: 1
vendor_id	: GenuineIntel
cpu family	: 6
model		: 30
model name	: Intel(R) Core(TM) i7 CPU         870  @ 2.93GHz
stepping	: 5
cpu MHz		: 1197.000
cache size	: 8192 KB
physical id	: 0
siblings	: 8
core id		: 0
cpu cores	: 4
apicid		: 1
initial apicid	: 1
fpu		: yes
fpu_exception	: yes
cpuid level	: 11
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts nopl xtopology nonstop_tsc aperfmperf pni dtes64 monitor ds_cpl vmx smx est tm2 ssse3 cx16 xtpr pdcm sse4_1 sse4_2 popcnt lahf_lm ida dts tpr_shadow vnmi flexpriority ept vpid
bogomips	: 5851.88
clflush size	: 64
cache_alignment	: 64
address sizes	: 36 bits physical, 48 bits virtual
power management:

processor	: 2
vendor_id	: GenuineIntel
cpu family	: 6
model		: 30
model name	: Intel(R) Core(TM) i7 CPU         870  @ 2.93GHz
stepping	: 5
cpu MHz		: 1197.000
cache size	: 8192 KB
physical id	: 0
siblings	: 8
core id		: 1
cpu cores	: 4
apicid		: 2
initial apicid	: 2
fpu		: yes
fpu_exception	: yes
cpuid level	: 11
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts nopl xtopology nonstop_tsc aperfmperf pni dtes64 monitor ds_cpl vmx smx est tm2 ssse3 cx16 xtpr pdcm sse4_1 sse4_2 popcnt lahf_lm ida dts tpr_shadow vnmi flexpriority ept vpid
bogomips	: 5851.88
clflush size	: 64
cache_alignment	: 64
address sizes	: 36 bits physical, 48 bits virtual
power management:

processor	: 3
vendor_id	: GenuineIntel
cpu family	: 6
model		: 30
model name	: Intel(R) Core(TM) i7 CPU         870  @ 2.93GHz
stepping	: 5
cpu MHz		: 1197.000
cache size	: 8192 KB
physical id	: 0
siblings	: 8
core id		: 1
cpu cores	: 4
apicid		: 3
initial apicid	: 3
fpu		: yes
fpu_exception	: yes
cpuid level	: 11
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts nopl xtopology nonstop_tsc aperfmperf pni dtes64 monitor ds_cpl vmx smx est tm2 ssse3 cx16 xtpr pdcm sse4_1 sse4_2 popcnt lahf_lm ida dts tpr_shadow vnmi flexpriority ept vpid
bogomips	: 5851.88
clflush size	: 64
cache_alignment	: 64
address sizes	: 36 bits physical, 48 bits virtual
power management:

processor	: 4
vendor_id	: GenuineIntel
cpu family	: 6
model		: 30
model name	: Intel(R) Core(TM) i7 CPU         870  @ 2.93GHz
stepping	: 5
cpu MHz		: 1197.000
cache size	: 8192 KB
physical id	: 0
siblings	: 8
core id		: 2
cpu cores	: 4
apicid		: 4
initial apicid	: 4
fpu		: yes
fpu_exception	: yes
cpuid level	: 11
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts nopl xtopology nonstop_tsc aperfmperf pni dtes64 monitor ds_cpl vmx smx est tm2 ssse3 cx16 xtpr pdcm sse4_1 sse4_2 popcnt lahf_lm ida dts tpr_shadow vnmi flexpriority ept vpid
bogomips	: 5851.88
clflush size	: 64
cache_alignment	: 64
address sizes	: 36 bits physical, 48 bits virtual
power management:

processor	: 5
vendor_id	: GenuineIntel
cpu family	: 6
model		: 30
model name	: Intel(R) Core(TM) i7 CPU         870  @ 2.93GHz
stepping	: 5
cpu MHz		: 1197.000
cache size	: 8192 KB
physical id	: 0
siblings	: 8
core id		: 2
cpu cores	: 4
apicid		: 5
initial apicid	: 5
fpu		: yes
fpu_exception	: yes
cpuid level	: 11
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts nopl xtopology nonstop_tsc aperfmperf pni dtes64 monitor ds_cpl vmx smx est tm2 ssse3 cx16 xtpr pdcm sse4_1 sse4_2 popcnt lahf_lm ida dts tpr_shadow vnmi flexpriority ept vpid
bogomips	: 5851.88
clflush size	: 64
cache_alignment	: 64
address sizes	: 36 bits physical, 48 bits virtual
power management:

processor	: 6
vendor_id	: GenuineIntel
cpu family	: 6
model		: 30
model name	: Intel(R) Core(TM) i7 CPU         870  @ 2.93GHz
stepping	: 5
cpu MHz		: 1197.000
cache size	: 8192 KB
physical id	: 0
siblings	: 8
core id		: 3
cpu cores	: 4
apicid		: 6
initial apicid	: 6
fpu		: yes
fpu_exception	: yes
cpuid level	: 11
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts nopl xtopology nonstop_tsc aperfmperf pni dtes64 monitor ds_cpl vmx smx est tm2 ssse3 cx16 xtpr pdcm sse4_1 sse4_2 popcnt lahf_lm ida dts tpr_shadow vnmi flexpriority ept vpid
bogomips	: 5851.89
clflush size	: 64
cache_alignment	: 64
address sizes	: 36 bits physical, 48 bits virtual
power management:

processor	: 7
vendor_id	: GenuineIntel
cpu family	: 6
model		: 30
model name	: Intel(R) Core(TM) i7 CPU         870  @ 2.93GHz
stepping	: 5
cpu MHz		: 1197.000
cache size	: 8192 KB
physical id	: 0
siblings	: 8
core id		: 3
cpu cores	: 4
apicid		: 7
initial apicid	: 7
fpu		: yes
fpu_exception	: yes
cpuid level	: 11
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts nopl xtopology nonstop_tsc aperfmperf pni dtes64 monitor ds_cpl vmx smx est tm2 ssse3 cx16 xtpr pdcm sse4_1 sse4_2 popcnt lahf_lm ida dts tpr_shadow vnmi flexpriority ept vpid
bogomips	: 5851.88
clflush size	: 64
cache_alignment	: 64
address sizes	: 36 bits physical, 48 bits virtual
power management:
```


I think they differ enough to consider this a non-architecture related bug... But I'm no expert on these things.


---

Comment by mister.wardrop created at 2011-08-10 10:27:51

Changing assignee from jason, jkantor to mister.wardrop.


---

Comment by mister.wardrop created at 2011-08-10 10:28:34

Changing assignee from mister.wardrop to jason, jkantor.


---

Comment by mister.wardrop created at 2011-08-10 10:28:34

I don't know why it suddenly claimed me as owner. Sorry ><.


---

Comment by leif created at 2011-08-10 10:51:36

Thanks for your data points; I think this is the first case it was reported for an AMD CPU, too.

With your machines, building Sage from source shouldn't take long, but I noticed you have a Linux 3.0 kernel installed, which might cause problems with Python (not the kernel, just the number[!], cf. #11619).

So if you have a chance, I would build it on a machine with a similar processor but a 2.x kernel (and preferably the same Linux distribution), and then move / tar-untar the installation (or "bdist" it in case you're familiar with that).


---

Comment by leif created at 2011-08-10 10:55:35

Or, even better, if you still have older (2.x) kernels installed, reboot your machine with one of these; the boot menu (e.g. `grub`) should show them.


---

Comment by mister.wardrop created at 2011-08-10 11:12:51

Hmmm... Thanks for the heads up re:Linux 3.0 . I was not at all aware of the fact that python (and potentially its libraries) checked against something which would cause breakage when the major version number was incremented.

The build has been running for a while; and so I'll let it go. If any of the functionality I need is broken; I'll do as you suggest. I will also report back as to whether it solved the problem on my machines, as I anticipate it will.

Thanks again. [My experience is such that I am quite able to deal with breakage :). Whilst I have heard of bdist, I have not used it. I shall look into it :).]


---

Comment by mister.wardrop created at 2011-08-11 04:36:58

Okay. I cannot get ATLAS to build as part of sage 4.7 compilation on either the iMac (second to latest generation) or MacBook 5,1 (2008) with processors of Intel Core i7 Quad-Core (with hyperthreading) and Intel Core 2 Duo P8600 respectively. Interestingly, on the AMD processor, it compiled quickly, and only later had a fault compiling singular. On the Intel machines, I was using a 2.6.38 Linux kernel; but the same result was found while running on a 3.0 kernel.

I cannot really afford to dedicate too much more time to attempting to get sage working; without sure chance of success.

I think this ATLAS compilation bug has something to do with http://trac.sagemath.org/sage_trac/ticket/9385 .

If need be, I am happy to provide ssh access to one of my machines so that you can poke through what's going on.


---

Comment by leif created at 2011-08-11 14:00:24

Replying to [comment:15 mister.wardrop]:
> Okay. I cannot get ATLAS to build as part of sage 4.7 compilation on either the iMac (second to latest generation) or MacBook 5,1 (2008) with processors of Intel Core i7 Quad-Core (with hyperthreading) and Intel Core 2 Duo P8600 respectively. Interestingly, on the AMD processor, it compiled quickly, and only later had a fault compiling singular. On the Intel machines, I was using a 2.6.38 Linux kernel; but the same result was found while running on a 3.0 kernel.
> 
> I cannot really afford to dedicate too much more time to attempting to get sage working; without sure chance of success.
> 
> I think this ATLAS compilation bug has something to do with http://trac.sagemath.org/sage_trac/ticket/9385 .

You might have to disable CPU throttling, i.e. "power save mode". Also, ATLAS 3.8.3 doesn't know good parameters for more recent processors (like those of the Core i7 family), such that it tries more things on these, making the build take much longer.

I'd also strongly suggest to use the new ATLAS spkg from #10226 (which provides ATLAS 3.8.*4* and also much better build options, please see the ticket for details).

Unfortunately this spkg won't even get into Sage 4.7.1 (to be released Monday I think, as we just released rc2).

To use that spkg, simply copy it into `$SAGE_ROOT/spkg/standard/`; Sage will automatically pick up the most recent one.

> If need be, I am happy to provide ssh access to one of my machines so that you can poke through what's going on.

Might be an option, but it's perhaps easier if you first try the above, since disabling the power save mode AFAIK requires root privileges (at least on some systems)... ;-)


---

Comment by leif created at 2011-08-11 14:21:44

P.S.: I guess you'll already know, but you can build Sage in parallel by doing:

```sh
export SAGE_PARALLEL_SPKG_BUILD=yes
export MAKE="make -j4" # build with 4 jobs (threads)
make
```

Depending on your machine (number of cores and amount of RAM), you can also use larger numbers, i.e. more jobs.

On my Core2 quad, building Sage (from scratch) that way takes about 27 + 18 minutes (code + documentation; the latter unfortunately doesn't make use of more than one core, which is subject to change soon).




To watch ATLAS's progress, you can open another terminal window and do

```sh
tail -f $SAGE_ROOT/install.log | grep STAGE
```

after starting `make`. (Actually you can also start it earlier; `tail -f` won't terminate by itself, i.e., you'll have to terminate it by pressing Control-C anyway.)


---

Comment by leif created at 2011-08-11 14:26:37

Replying to [comment:17 leif]:
> To watch ATLAS's progress, you can open another terminal window and do

```sh
tail -f $SAGE_ROOT/install.log | grep STAGE
```


The output will (or should) be something like this:

```
IN STAGE 1 INSTALL:  SYSTEM PROBE/AUX COMPILE
IN STAGE 2 INSTALL:  TYPE-DEPENDENT TUNING
STAGE 2-1: TUNING PREC='d' (precision 1 of 4)
   STAGE 2-1-1 : BUILDING BLOCK MATMUL TUNE
   STAGE 2-1-2: CacheEdge DETECTION
   STAGE 2-1-3: LARGE/SMALL CASE CROSSOVER DETECTION
   STAGE 2-1-3: COPY/NO-COPY CROSSOVER DETECTION
   STAGE 2-1-4: LEVEL 3 BLAS TUNE
   STAGE 2-1-5: GEMV TUNE
   STAGE 2-1-6: GER TUNE
STAGE 2-2: TUNING PREC='s' (precision 2 of 4)
   STAGE 2-2-1 : BUILDING BLOCK MATMUL TUNE
   STAGE 2-2-2: CacheEdge DETECTION
   STAGE 2-2-3: LARGE/SMALL CASE CROSSOVER DETECTION
   STAGE 2-2-3: COPY/NO-COPY CROSSOVER DETECTION
   STAGE 2-2-4: LEVEL 3 BLAS TUNE
   STAGE 2-2-5: GEMV TUNE
   STAGE 2-2-6: GER TUNE
STAGE 2-3: TUNING PREC='z' (precision 3 of 4)
   STAGE 2-3-1 : BUILDING BLOCK MATMUL TUNE
   STAGE 2-3-2: CacheEdge DETECTION
   STAGE 2-3-3: LARGE/SMALL CASE CROSSOVER DETECTION
   STAGE 2-3-3: COPY/NO-COPY CROSSOVER DETECTION
   STAGE 2-3-4: LEVEL 3 BLAS TUNE
   STAGE 2-3-5: GEMV TUNE
   STAGE 2-3-6: GER TUNE
STAGE 2-4: TUNING PREC='c' (precision 4 of 4)
   STAGE 2-4-1 : BUILDING BLOCK MATMUL TUNE
   STAGE 2-4-2: CacheEdge DETECTION
   STAGE 2-4-3: LARGE/SMALL CASE CROSSOVER DETECTION
   STAGE 2-4-3: COPY/NO-COPY CROSSOVER DETECTION
   STAGE 2-4-4: LEVEL 3 BLAS Tmake[4]: Entering directory ...
   STAGE 2-4-5: GEMV TUNE
   STAGE 2-4-6: GER TUNE
STAGE 3: GENERAL LIBRARY BUILD
STAGE 4: POST-BUILD TUNING
```



---

Comment by leif created at 2011-08-11 22:27:44

FWIW, I don't get the segfault when running the example with Valgrind (3.6.1; 3.5.0 raises a `SIGILL` because it doesn't know some instructions) and the binary distribution of Sage 4.7 (built on / for Ubuntu 10.04.1 x86_64), apparently because Valgrind replaces `malloc()` and `free()` etc.:

```
... lots of messages ...
sage: import numpy as np
sage: ms = np.load("/home/leif/Sage/tmp/matrices.npy")
sage: time np.dot(ms[0],ms[1])
==25274== Invalid read of size 4
==25274==    at 0x4EB960E: PyObject_Realloc (obmalloc.c:1154)
==25274==    by 0x4EE1572: _PyUnicode_New (unicodeobject.c:262)
==25274==    by 0x4EE1ED8: PyUnicodeUCS4_FromUnicode (unicodeobject.c:461)
==25274==    by 0x4F1809E: PyEval_EvalFrameEx (ceval.c:4081)
==25274==    by 0x4F1926C: PyEval_EvalCodeEx (ceval.c:2968)
==25274==    by 0x4F1760C: PyEval_EvalFrameEx (ceval.c:3802)
==25274==    by 0x4F1926C: PyEval_EvalCodeEx (ceval.c:2968)
==25274==    by 0x4F1760C: PyEval_EvalFrameEx (ceval.c:3802)
==25274==    by 0x4F1926C: PyEval_EvalCodeEx (ceval.c:2968)
==25274==    by 0x4F1760C: PyEval_EvalFrameEx (ceval.c:3802)
==25274==    by 0x4F17E87: PyEval_EvalFrameEx (ceval.c:3792)
==25274==    by 0x4F17E87: PyEval_EvalFrameEx (ceval.c:3792)
==25274==  Address 0x174f8020 is not stack'd, malloc'd or (recently) free'd
==25274== 
array([[ 0.,  0.,  0., ...,  0., -0., -0.],
       [ 0.,  0.,  0., ...,  0., -0., -0.],
       [ 0.,  0.,  0., ...,  0., -0., -0.],
       ..., 
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
==25274== Invalid read of size 4
==25274==    at 0x4EB9043: PyObject_Free (obmalloc.c:931)
==25274==    by 0x4F15CA4: PyEval_EvalFrameEx (ceval.c:1632)
==25274==    by 0x4F17E87: PyEval_EvalFrameEx (ceval.c:3792)
==25274==    by 0x4F1926C: PyEval_EvalCodeEx (ceval.c:2968)
==25274==    by 0x4E9F7CA: function_call (funcobject.c:524)
==25274==    by 0x4E73162: PyObject_Call (abstract.c:2492)
==25274==    by 0x4F15EC2: PyEval_EvalFrameEx (ceval.c:4019)
==25274==    by 0x4F1926C: PyEval_EvalCodeEx (ceval.c:2968)
==25274==    by 0x4E9F6CE: function_call (funcobject.c:524)
==25274==    by 0x4E73162: PyObject_Call (abstract.c:2492)
==25274==    by 0x4E8455E: instancemethod_call (classobject.c:2579)
==25274==    by 0x4E73162: PyObject_Call (abstract.c:2492)
==25274==  Address 0x363cc020 is 12,256 bytes inside a block of size 12,832 free'd
==25274==    at 0x4C262A1: free (vg_replace_malloc.c:366)
==25274==    by 0x11FFDEA8: ATL_dmmJIK (in /tmp/sage-4.7-linux-64bit-ubuntu_10.04.1_lts-x86_64-Linux/local/lib/libatlas.so)
==25274==    by 0x11FF5365: ATL_dgemm (in /tmp/sage-4.7-linux-64bit-ubuntu_10.04.1_lts-x86_64-Linux/local/lib/libatlas.so)
==25274==    by 0x32173B57: dotblas_matrixproduct (_dotblas.c:766)
==25274==    by 0x4F17591: PyEval_EvalFrameEx (ceval.c:3706)
==25274==    by 0x4F1926C: PyEval_EvalCodeEx (ceval.c:2968)
==25274==    by 0x4F19341: PyEval_EvalCode (ceval.c:522)
==25274==    by 0x4F18618: PyEval_EvalFrameEx (ceval.c:4401)
==25274==    by 0x4F1926C: PyEval_EvalCodeEx (ceval.c:2968)
==25274==    by 0x4F1760C: PyEval_EvalFrameEx (ceval.c:3802)
==25274==    by 0x4F1926C: PyEval_EvalCodeEx (ceval.c:2968)
==25274==    by 0x4F1760C: PyEval_EvalFrameEx (ceval.c:3802)
==25274== 
       [ 0.,  0.,  0., ...,  0.,  0.,  0.]])
Time: CPU 3.18 s, Wall: 5.07 s
sage: 
```


I now really wonder whether the segfault would occur on redhawk (the machine the binary distribution was built on) itself, and what GCC version it uses...


---

Comment by vbraun created at 2011-08-11 22:39:08


```
!sh
vbraun@redhawk:~/Sage/sage-4.7.1.rc2$ gcc --version
gcc (Ubuntu 4.4.3-4ubuntu5) 4.4.3
Copyright (C) 2009 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
```

and 

```

sage: sage: ms = np.load("matrices.npy")
sage: sage: time np.dot(ms[0],ms[1])
array([[ 0.,  0.,  0., ...,  0., -0., -0.],
       [ 0.,  0.,  0., ...,  0., -0., -0.],
       [ 0.,  0.,  0., ...,  0., -0., -0.],
       ..., 
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.]])
Time: CPU 0.12 s, Wall: 0.02 s
sage: 
```

works


---

Comment by leif created at 2011-08-11 22:45:33

It's clearly the shared ATLAS library of the binary distribution; if I replace it with a "native" one (built on my machine, with Sage 4.7.1.rc2, i.e. from the ATLAS 3.8.3.p16 spkg; GCC 4.5.1), the segfault also doesn't occur.


---

Comment by leif created at 2011-08-11 22:48:41

Replying to [comment:20 vbraun]:
> and 

```
sage: sage: ms = np.load("matrices.npy")
sage: sage: time np.dot(ms[0],ms[1])
array([[ 0.,  0.,  0., ...,  0., -0., -0.],
       [ 0.,  0.,  0., ...,  0., -0., -0.],
       [ 0.,  0.,  0., ...,  0., -0., -0.],
       ..., 
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.]])
Time: CPU 0.12 s, Wall: 0.02 s
sage: 
```

> works.

Hmmm. Did you use the binary dist of 4.7 for that? (Doesn't look like.)


---

Comment by leif created at 2011-08-11 23:07:37

Replying to [comment:21 leif]:
> It's clearly the shared ATLAS library of the binary distribution; if I replace it with a "native" one (built on my machine, with Sage 4.7.1.rc2, i.e. from the ATLAS 3.8.3.p16 spkg; GCC 4.5.1), the segfault also doesn't occur.

Note that I was referring to the _old, official 4.7_ binary distribution; just saw [the new one](http://boxen.math.washington.edu/home/vbraun/Sage/sage-4.7.1.rc2/dist/sage-4.7.1.rc2-fat-x86_64-Linux.tar.gz) (4.7.1.rc2, with the new ATLAS 3.8.4 spkg) Volker built, cf. [this post on sage-devel](http://groups.google.com/group/sage-devel/msg/327a64b22a33ad58). (Note that the new one is compressed with GNU `zip`, and hence fairly large, 613 MB -- just downloading it... :) )


---

Comment by leif created at 2011-08-11 23:46:46

Unfortunately I do get exactly the same with the new binary distribution (with ATLAS 3.8.4, built on redhawk):

```
----------------------------------------------------------------------
----------------------------------------------------------------------
**********************************************************************
*                                                                    *
* Warning: this is a prerelease version, and it may be unstable.     *
*                                                                    *
**********************************************************************
sage: import numpy as np
sage: ms = np.load("/home/leif/Sage/tmp/matrices.npy")
sage: time np.dot(ms[0],ms[1])
/tmp/sage-4.7.1.rc2-fat-x86_64-Linux/local/lib/libcsage.so(print_backtrace+0x31)[0x7f42264ad817]
/tmp/sage-4.7.1.rc2-fat-x86_64-Linux/local/lib/libcsage.so(sigdie+0x14)[0x7f42264ad849]
/tmp/sage-4.7.1.rc2-fat-x86_64-Linux/local/lib/libcsage.so(sage_signal_handler+0x20e)[0x7f42264ad474]
/lib/libpthread.so.0(+0xf8f0)[0x7f422b6538f0]
/tmp/sage-4.7.1.rc2-fat-x86_64-Linux/local/lib/libatlas.so(+0x66bcd)[0x7f42209e2bcd]
| Sage Version 4.7.1.rc2, Release Date: 2011-08-10                   |
| Type notebook() for the GUI, and license() for information.        |
------------------------------------------------------------------------
Unhandled SIGSEGV: A segmentation fault occurred in Sage.
This probably occurred because a *compiled* component of Sage has a bug
in it and is not properly wrapped with sig_on(), sig_off(). You might
want to run Sage under gdb with 'sage -gdb' to debug this.
Sage will now terminate.
------------------------------------------------------------------------
/tmp/sage-4.7.1.rc2-fat-x86_64-Linux/local/bin/sage-sage: line 301: 26031 Segmentation fault      sage-ipython "$@" -i
```

(Ubuntu 10.04.3 x86_64, Core2 / Penryn)

```
processor	: 0
vendor_id	: GenuineIntel
cpu family	: 6
model		: 23
model name	: Intel(R) Core(TM)2 Quad CPU    Q9650  @ 3.00GHz
stepping	: 10
cpu MHz		: 3003.000
cache size	: 6144 KB
physical id	: 0
siblings	: 4
core id		: 0
cpu cores	: 4
apicid		: 0
initial apicid	: 0
fpu		: yes
fpu_exception	: yes
cpuid level	: 13
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx lm constant_tsc arch_perfmon pebs bts rep_good aperfmperf pni dtes64 monitor ds_cpl vmx smx est tm2 ssse3 cx16 xtpr pdcm sse4_1 xsave lahf_lm tpr_shadow vnmi flexpriority
bogomips	: 7200.05
clflush size	: 64
cache_alignment	: 64
address sizes	: 36 bits physical, 48 bits virtual
power management:

...
```



---

Comment by leif created at 2011-08-12 00:12:07

With `sage -gdb` I get:

```
...
Reading symbols from /tmp/sage-4.7.1.rc2-fat-x86_64-Linux/local/bin/python...done.
[Thread debugging using libthread_db enabled]
Python 2.6.4 (r264, Aug 11 2011, 10:32:43) 
[GCC 4.4.3] on linux2
Type "help", "copyright", "credits" or "license" for more information.
Traceback (most recent call last):
  File "/usr/lib/gcc/x86_64-pc-linux-gnu/4.5.1/libstdc++.so.6.0.14-gdb.py", line 59, in <module>
    from libstdcxx.v6.printers import register_libstdcxx_printers
ImportError: No module named libstdcxx.v6.printers
sage: import numpy as np
sage: ms = np.load("/home/leif/Sage/tmp/matrices.npy")
sage: time np.dot(ms[0],ms[1])
[New Thread 0x7fffc6863700 (LWP 26321)]

Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 0x7fffc6863700 (LWP 26321)]
0x00007fffecae3bcd in ATL_dJIK40x40x40TN40x40x0_a1_b0 ()
   from /tmp/sage-4.7.1.rc2-fat-x86_64-Linux/local/lib/libatlas.so
(gdb) bt
#0  0x00007fffecae3bcd in ATL_dJIK40x40x40TN40x40x0_a1_b0 ()
   from /tmp/sage-4.7.1.rc2-fat-x86_64-Linux/local/lib/libatlas.so
#1  0x00007fffecb4ef87 in ATL_dmmK ()
   from /tmp/sage-4.7.1.rc2-fat-x86_64-Linux/local/lib/libatlas.so
#2  0x00007fffecb4fff5 in ATL_dmmJITcp ()
   from /tmp/sage-4.7.1.rc2-fat-x86_64-Linux/local/lib/libatlas.so
#3  0x00007fffecb442c4 in ATL_dgemm ()
   from /tmp/sage-4.7.1.rc2-fat-x86_64-Linux/local/lib/libatlas.so
#4  0x00007fffece2c87d in ATL_dptgemm0 ()
   from /tmp/sage-4.7.1.rc2-fat-x86_64-Linux/local/lib/libatlas.so
#5  0x00007ffff780c9ca in start_thread (arg=<value optimized out>) at pthread_create.c:300
#6  0x00007ffff6edf70d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#7  0x0000000000000000 in ?? ()
(gdb) 
```



---

Comment by leif created at 2011-08-12 00:51:22

Compare this to redhawk's (of Ubuntu 10.04.1); cf. sage-devel thread.


---

Attachment

I've attached my `pthread.h`, which is (including the shared library `libpthread.so.0` / `libpthread-2.11.1.so`) clearly younger than that originally shipped with Ubuntu 10.04; cf. [my post to sage-devel](http://groups.google.com/group/sage-devel/msg/142cccc25a983447).


---

Comment by mister.wardrop created at 2011-08-12 01:01:55

`@`leif: Thank you for your helpful tips. I was aware that I could put the build into parallel mode; but had read somewhere that this was experimental and may cause problems. I did it anyway; and atlas is now built. But now, on all of my machines, it bails out when trying to compile singular. Before I post another bug, can you verify I am not doing something silly?

The error is: ` *’ [-Wwrite-strings] ../kernel/libkernel.a(mod_raw.o): In function `dynl_open': /Storage/Tools/sage-4.7/spkg/build/singular-3-1-1-4.p9/src/kernel/mod_raw.cc:217: undefined reference to `dlopen' ../kernel/libkernel.a(mod_raw.o): In function `dynl_sym': /Storage/Tools/sage-4.7/spkg/build/singular-3-1-1-4.p9/src/kernel/mod_raw.cc:228: undefined reference to `dlsym' ../kernel/libkernel.a(mod_raw.o): In function `dynl_close': /Storage/Tools/sage-4.7/spkg/build/singular-3-1-1-4.p9/src/kernel/mod_raw.cc:233: undefined reference to `dlclose' ../kernel/libkernel.a(mod_raw.o): In function `dynl_error': /Storage/Tools/sage-4.7/spkg/build/singular-3-1-1-4.p9/src/kernel/mod_raw.cc:238: undefined reference to `dlerror' collect2: ld returned 1 exit status`

I think it would be solved by adding -ldl to the end of the compiler command; I'm just not sure where to do that in the Sage automated install.

Any ideas?


---

Comment by mister.wardrop created at 2011-08-12 01:03:26

Whoops; it seems { { { needs a line after it ><.


---

Comment by leif created at 2011-08-12 01:18:12

Replying to [comment:27 mister.wardrop]:
> I think it would be solved by adding -ldl to the end of the compiler command; I'm just not sure where to do that in the Sage automated install.

Whoops, we already had some trouble with Singular (including race conditions in parallel builds) and fixed a lot, but I've never seen this before.

`configure` should notice whether `-ldl` is necessary (on Linux always AFAIK), and add that.

If you're not going to touch the Singular spkg itself, adding `-ldl` to `LDFLAGS` could help (and shouldn't hurt otherwise, though a bit odd), but I don't know whether it'll be added in the right position to solve the problem.

You can try:

```sh
env LDFLAGS=-ldl ./sage -i spkg/standard/singular-*
# and if that worked, continue with
make
```


P.S.: Are you building Sage 4.7 or a later devel release (4.7.1.*)?


---

Comment by leif created at 2011-08-12 01:27:54

P.P.S.:

My `spkg/logs/singular-3-1-1-4.p9.log` shows

```
checking for dlopen in -ldl... yes
```

and apparently it is added in a lot of linker commands.

It isn't clear from your screen dump which `make` target actually failed.


---

Comment by mister.wardrop created at 2011-08-12 01:32:38

`@`leif:

Okay... so before you responded, I had dropped down to a sage subshell and added "-ldl" to the LDFLAGS environment variable; and tried a manual ./spkg-install . This worked; and the build completed; and so I returned to the automatic build; only to find that it had not registered that the spkg install had been completed. So I tried to do it your way; and it worked fine.

Do you want me to give you the build log of the failed build?

I am building the official sage 4.7 release :).


---

Comment by leif created at 2011-08-12 01:38:22

Replying to [comment:31 mister.wardrop]:
> Do you want me to give you the build log of the failed build?

You could attach it (just the Singular one), though it will now contain at least one failed and one successful build; hope it isn't too large. (Otherwise you could cut it where the successful build starts, or upload it elsewhere.)


---

Comment by mister.wardrop created at 2011-08-12 01:40:14

`@`leif:

Now symmetrica is playing up; with (it seems) a missing link to "-lm" (it complains about missing 'cos'). It is possible that this is because I am building against the development branch of Ubuntu 10.10 . It would seem strange to me that this would be the case, though; given that it has not come up in compiling the other components of sage.

Anyway, I shall upload the log of singular in case it reveals something useful to you.


---

Attachment

Singular build log


---

Comment by fbissey created at 2011-08-12 01:45:49

There was a mention of someone having a problem building singular in 4.7.1.rc1 on an experimental ubuntu box:
[https://groups.google.com/d/msg/sage-release/-SxJRPPjYLg/eXv7_yPB37IJ](https://groups.google.com/d/msg/sage-release/-SxJRPPjYLg/eXv7_yPB37IJ)
ubuntu 11.10 alpha2 was used.


---

Comment by leif created at 2011-08-12 01:54:49

Replying to [comment:34 fbissey]:
> There was a mention of someone having a problem building singular in 4.7.1.rc1 on an experimental ubuntu box:
> [https://groups.google.com/d/msg/sage-release/-SxJRPPjYLg/eXv7_yPB37IJ](https://groups.google.com/d/msg/sage-release/-SxJRPPjYLg/eXv7_yPB37IJ)
> ubuntu 11.10 alpha2 was used.

I wouldn't try that... ;-)

Debian changed the locations of libraries, so that might be the cause.


---

Comment by leif created at 2011-08-12 02:07:09

Replying to [comment:33 mister.wardrop]:
> Anyway, I shall upload the log of singular in case it reveals something useful to you.

Ah, trouble to come (with newer Debian derivatives I guess):

`-ldl` is there, just the order of libraries is wrong, as `-ldl` is passed *before* `-lkernel` is.


---

Comment by mister.wardrop created at 2011-08-12 02:12:11

Replying to [comment:36 leif]:
> `-ldl` is there, just the order of libraries is wrong, as `-ldl` is passed *before* `-lkernel` is.

I know it is my problem for using a development branch of Ubuntu; but is there any small workaround that I can use to build symmetrica?


---

Comment by leif created at 2011-08-12 02:16:49

Replying to [comment:37 mister.wardrop]:
> Replying to [comment:36 leif]:
> > `-ldl` is there, just the order of libraries is wrong, as `-ldl` is passed *before* `-lkernel` is.
> 
> I know it is my problem for using a development branch of Ubuntu; but is there any small workaround that I can use to build symmetrica?

Haha, same problem:

```
gcc-4.5.1 -O1 -fPIC -g -DFAST -DALLTRUE -lm test.c bar.o bi.o boe.o bruch.o classical.o de.o di.o ff.o galois.o ga.o gra.o hash.o hiccup.o io.o ko.o list.o lo.o ma.o mee.o mem.o mes.o mhe.o mhh.o mhm.o mhp.o mhs.o mmm.o mms.o mod_dg_sbd.o mo.o mpp.o mps.o mse.o msh.o msm.o mss.o muir.o na.o nb.o nc.o nu.o part.o pee.o peh.o pem.o perm.o pes.o phe.o phh.o phm.o phs.o plet.o pme.o pmh.o poly.o ppe.o pph.o ppm.o ppp.o pps.o pr.o pse.o psh.o psm.o pss.o rest.o rh.o sab.o sb.o sc.o sr.o ta.o teh.o tem.o tep.o tes.o the.o thm.o thp.o ths.o tme.o tmh.o tmp.o tms.o tpe.o tph.o tpm.o tps.o tse.o tsh.o tsm.o tsp.o vc.o zo.o zykelind.o zyk.o -o test
```

I'll take a look at its `spkg-install`...


---

Comment by leif created at 2011-08-12 02:29:00

Replying to [comment:38 leif]:
> I'll take a look at its `spkg-install`...

You'd have to edit its `makefile`:

```sh
cd /tmp
tar xjf $SAGE_ROOT/spkg/standard/symmetrica-2.0.p5.spkg
vi symmetrica-2.0.p5/src/makefile # move the -lm to the end of the line
                                  # (or just comment the line out, `test` isn't needed).
tar cjf $SAGE_ROOT/spkg/standard/symmetrica-2.0.p5.spkg symmetrica-2.0.p5/
cd $SAGE_ROOT
```

The rerun `make`.

P.S.: You can also drop into `#sagemath` on `irc.freenode.net`.


---

Comment by mister.wardrop created at 2011-08-12 03:39:28

Just confirming that after a recompile, I no longer experience a segfault due to atlas. :).

Thank you everyone; especially leif.


---

Comment by leif created at 2011-09-01 15:40:21

Changing component from numerical to distribution.


---

Comment by leif created at 2011-09-01 15:40:21

Changing assignee from jason, jkantor to tbd.


---

Comment by leif created at 2011-09-01 15:40:21

Changing priority from blocker to critical.


---

Comment by leif created at 2011-09-01 15:45:01

Changing keywords from "ATLAS segfault matrix numpy" to "ATLAS segfault matrix numpy libpthread redhawk".


---

Comment by jdemeyer created at 2013-06-12 13:11:28

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2013-06-12 13:11:28

Let's assume this is fixed...


---

Comment by jdemeyer created at 2013-06-12 13:11:34

Changing status from needs_review to positive_review.


---

Comment by leif created at 2013-06-12 13:40:45

Fixed by upgrading redhawk (the machine the bdist was built on).

=> resolution: fixed (or worksforme)


---

Comment by jdemeyer created at 2013-06-19 12:23:02

Resolution: worksforme
