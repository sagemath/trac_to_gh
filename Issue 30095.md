# Issue 30095: Merge sage_brial into sagelib

archive/issues_030095.json:
```json
{
    "body": "CC:  fbissey mjo tscrim\n\nAs discussed in #29369 and #28918.\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/30332\n\n",
    "created_at": "2020-08-11T00:14:52Z",
    "labels": [
        "packages: standard",
        "major",
        "enhancement"
    ],
    "title": "Merge sage_brial into sagelib",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30095",
    "user": "mkoeppe"
}
```
CC:  fbissey mjo tscrim

As discussed in #29369 and #28918.



Issue created by migration from https://trac.sagemath.org/ticket/30332





---

archive/issue_comments_427889.json:
```json
{
    "body": "I propose to copy the current sage-brial code under `sage/rings/polynomial`. This is based on the fact all (but one) imports of brial happen there.\n\n```\n$ grep -r brial src/sage/*\nsrc/sage/rings/polynomial/pbori.pyx:# distutils: libraries = brial brial_groebner M4RI_LIBRARIES LIBPNG_LIBRARIES\nsrc/sage/rings/polynomial/pbori.pyx:    sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:        #from brial.interpolate import interpolate_smallest_lex\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import BooleanMonomialMonoid, BooleanMonomial\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid, BooleanMonomial\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleSet\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import BooleanPolynomial\nsrc/sage/rings/polynomial/pbori.pyx:        from brial.parallel import _encode_polynomial\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleSet\nsrc/sage/rings/polynomial/pbori.pyx:        from brial import red_tail\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:        from brial.gbcore import groebner_basis\nsrc/sage/rings/polynomial/pbori.pyx:        from brial import red_tail\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import BooleSet\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleSet\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleSet\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import BooleanPolynomialVector\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanPolynomialVector\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanPolynomialVector\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanPolynomialVector\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanPolynomialVector\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanPolynomialVector\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanPolynomialVector\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import GroebnerStrategy\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import GroebnerStrategy\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import groebner_basis\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import GroebnerStrategy\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanPolynomialVector\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import GroebnerStrategy\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import groebner_basis\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import GroebnerStrategy\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import GroebnerStrategy\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import GroebnerStrategy\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import map_every_x_to_x_plus_one\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import zeros\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial.interpolate import *\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial.interpolate import *\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import ll_red_nf_redsb\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import ll_red_nf_noredsb\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import ll_red_nf_noredsb_single_recursive_call\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import if_then_else\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import top_index\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import substitute_variables\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import substitute_variables\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import random_set, set_random_seed\nsrc/sage/rings/polynomial/pbori.pyx:        sage: from brial import random_set, set_random_seed\nsrc/sage/rings/polynomial/pbori.pyx:# todo: merge with pickling from brial.parallel\nsrc/sage/rings/polynomial/pbori.pyx:# todo: merge with pickling from brial.parallel\nsrc/sage/rings/polynomial/pbori.pyx:    from brial.parallel import _decode_polynomial\nsrc/sage/rings/polynomial/pbori.pyx:# todo: merge with pickling from brial.parallel\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleConstant\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleConstant\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleConstant\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleConstant\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleConstant\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleConstant\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleConstant\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleConstant\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/pbori.pyx:            sage: from brial import *\nsrc/sage/rings/polynomial/multi_polynomial_sequence.py:        from brial import gauss_on_polys\nsrc/sage/rings/polynomial/multi_polynomial_sequence.py:        from brial.ll import eliminate,ll_encode,ll_red_nf_redsb\nsrc/sage/rings/polynomial/multi_polynomial_sequence.py:            from brial.interred import interred as inter_red\nsrc/sage/sat/converters/__init__.py:from brial.cnf import CNFEncoder as PolyBoRiCNFEncoder\n```\n\nbut other suggestions based on best practices will be given the priority.",
    "created_at": "2020-08-11T00:25:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427889",
    "user": "fbissey"
}
```

I propose to copy the current sage-brial code under `sage/rings/polynomial`. This is based on the fact all (but one) imports of brial happen there.

```
$ grep -r brial src/sage/*
src/sage/rings/polynomial/pbori.pyx:# distutils: libraries = brial brial_groebner M4RI_LIBRARIES LIBPNG_LIBRARIES
src/sage/rings/polynomial/pbori.pyx:    sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:        #from brial.interpolate import interpolate_smallest_lex
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import BooleanMonomialMonoid, BooleanMonomial
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid, BooleanMonomial
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleSet
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import BooleanPolynomial
src/sage/rings/polynomial/pbori.pyx:        from brial.parallel import _encode_polynomial
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleSet
src/sage/rings/polynomial/pbori.pyx:        from brial import red_tail
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:        from brial.gbcore import groebner_basis
src/sage/rings/polynomial/pbori.pyx:        from brial import red_tail
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import BooleSet
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleSet
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleSet
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import BooleanPolynomialVector
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanPolynomialVector
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanPolynomialVector
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanPolynomialVector
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanPolynomialVector
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanPolynomialVector
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanPolynomialVector
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import GroebnerStrategy
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import GroebnerStrategy
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import groebner_basis
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import GroebnerStrategy
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanPolynomialVector
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import GroebnerStrategy
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import groebner_basis
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import GroebnerStrategy
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import GroebnerStrategy
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import GroebnerStrategy
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleanMonomialMonoid
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import map_every_x_to_x_plus_one
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import zeros
src/sage/rings/polynomial/pbori.pyx:        sage: from brial.interpolate import *
src/sage/rings/polynomial/pbori.pyx:        sage: from brial.interpolate import *
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import ll_red_nf_redsb
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import ll_red_nf_noredsb
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import ll_red_nf_noredsb_single_recursive_call
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import if_then_else
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import top_index
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import substitute_variables
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import substitute_variables
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import random_set, set_random_seed
src/sage/rings/polynomial/pbori.pyx:        sage: from brial import random_set, set_random_seed
src/sage/rings/polynomial/pbori.pyx:# todo: merge with pickling from brial.parallel
src/sage/rings/polynomial/pbori.pyx:# todo: merge with pickling from brial.parallel
src/sage/rings/polynomial/pbori.pyx:    from brial.parallel import _decode_polynomial
src/sage/rings/polynomial/pbori.pyx:# todo: merge with pickling from brial.parallel
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleConstant
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleConstant
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleConstant
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleConstant
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleConstant
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleConstant
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleConstant
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import BooleConstant
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/pbori.pyx:            sage: from brial import *
src/sage/rings/polynomial/multi_polynomial_sequence.py:        from brial import gauss_on_polys
src/sage/rings/polynomial/multi_polynomial_sequence.py:        from brial.ll import eliminate,ll_encode,ll_red_nf_redsb
src/sage/rings/polynomial/multi_polynomial_sequence.py:            from brial.interred import interred as inter_red
src/sage/sat/converters/__init__.py:from brial.cnf import CNFEncoder as PolyBoRiCNFEncoder
```

but other suggestions based on best practices will be given the priority.



---

archive/issue_comments_427890.json:
```json
{
    "body": "So there's a Cython interface `sage.libs.polybori`, then a Python library `brial`, and also `sage.rings.polynomial.pbori`? What is depending on what?",
    "created_at": "2020-08-11T00:37:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427890",
    "user": "mkoeppe"
}
```

So there's a Cython interface `sage.libs.polybori`, then a Python library `brial`, and also `sage.rings.polynomial.pbori`? What is depending on what?



---

archive/issue_comments_427891.json:
```json
{
    "body": "I thought that sage-brial depends on `sage.libs.polybori` but that may not be the case. It imports `sage.all` and specifically `sage.rings.polynomial.pbori` and that's the only sage specific bits it imports.\n\n`sage.rings.polynomial.pbori` itself relies on `sage.libs.polybori` (through `sage.libs.polybori.decl`) and both need the C++ brial library.\n\nDoes that answer your question?",
    "created_at": "2020-08-11T00:50:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427891",
    "user": "fbissey"
}
```

I thought that sage-brial depends on `sage.libs.polybori` but that may not be the case. It imports `sage.all` and specifically `sage.rings.polynomial.pbori` and that's the only sage specific bits it imports.

`sage.rings.polynomial.pbori` itself relies on `sage.libs.polybori` (through `sage.libs.polybori.decl`) and both need the C++ brial library.

Does that answer your question?



---

archive/issue_comments_427892.json:
```json
{
    "body": "Thanks. I agree that `sage.rings.polynomial` seems to be a good place for the Python code from sage-brial. Perhaps it would be best to create a package `sage.rings.polynomial.brial` and to move the current `pbori.pyx` inside it (leaving deprecated reimport behind). There are only a few places in Sage where things are imported from `sage.rings.polynomial.pbori` and they could be easily update. Or, if you don't mind keep the old name `pbori`, the same could be done with `sage.rings.polynomial.pbori` instead of `...brial`.\n\nOne thing to keep in mind is the context of the planned modularization of sagelib. \nIn Sage 9.3 I would hope to be able to create a separate distribution (distutils package) `sage-brial`, which would then package `sage.rings.polynomial.{brial,pbori}`, `sage.libs.polybori`, `sage.libs.fes`, `sage.crypto.boolean_function` -- everything that has a compile-time dependency on `libbrial`. This will make it possible to separately compile `sagelib` on systems without brial.",
    "created_at": "2020-08-11T01:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427892",
    "user": "mkoeppe"
}
```

Thanks. I agree that `sage.rings.polynomial` seems to be a good place for the Python code from sage-brial. Perhaps it would be best to create a package `sage.rings.polynomial.brial` and to move the current `pbori.pyx` inside it (leaving deprecated reimport behind). There are only a few places in Sage where things are imported from `sage.rings.polynomial.pbori` and they could be easily update. Or, if you don't mind keep the old name `pbori`, the same could be done with `sage.rings.polynomial.pbori` instead of `...brial`.

One thing to keep in mind is the context of the planned modularization of sagelib. 
In Sage 9.3 I would hope to be able to create a separate distribution (distutils package) `sage-brial`, which would then package `sage.rings.polynomial.{brial,pbori}`, `sage.libs.polybori`, `sage.libs.fes`, `sage.crypto.boolean_function` -- everything that has a compile-time dependency on `libbrial`. This will make it possible to separately compile `sagelib` on systems without brial.



---

archive/issue_comments_427893.json:
```json
{
    "body": "On the legal side, the code is GPL2.0 or later. Although I will need to fix the license on github. It seems I changed it from 2+ to 2 carelessly back in 2017 (probably by copying a template). I obviously had no rights to do that.\n\nThe only thing I may need guidance with is the deprecated re-import. Otherwise moving stuff, including `pbori.{pyx,pxd}`, in `sage.rings.polynomial.pbori` seems to be a good idea and hopefully will help with modularization.",
    "created_at": "2020-08-11T01:14:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427893",
    "user": "fbissey"
}
```

On the legal side, the code is GPL2.0 or later. Although I will need to fix the license on github. It seems I changed it from 2+ to 2 carelessly back in 2017 (probably by copying a template). I obviously had no rights to do that.

The only thing I may need guidance with is the deprecated re-import. Otherwise moving stuff, including `pbori.{pyx,pxd}`, in `sage.rings.polynomial.pbori` seems to be a good idea and hopefully will help with modularization.



---

archive/issue_comments_427894.json:
```json
{
    "body": "Replying to [comment:5 fbissey]:\n> On the legal side, the code is GPL2.0 or later. Although I will need to fix the license on github. It seems I changed it from 2+ to 2 carelessly back in 2017 (probably by copying a template). I obviously had no rights to do that.\n\nI think GitHub takes the position that there is no such thing as \"GPL 2 only\": That the license includes \"... or any later version\" no matter whether you write these words in the files or not.",
    "created_at": "2020-08-11T01:17:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427894",
    "user": "mkoeppe"
}
```

Replying to [comment:5 fbissey]:
> On the legal side, the code is GPL2.0 or later. Although I will need to fix the license on github. It seems I changed it from 2+ to 2 carelessly back in 2017 (probably by copying a template). I obviously had no rights to do that.

I think GitHub takes the position that there is no such thing as "GPL 2 only": That the license includes "... or any later version" no matter whether you write these words in the files or not.



---

archive/issue_comments_427895.json:
```json
{
    "body": "Replying to [comment:6 mkoeppe]:\n> Replying to [comment:5 fbissey]:\n> > On the legal side, the code is GPL2.0 or later. Although I will need to fix the license on github. It seems I changed it from 2+ to 2 carelessly back in 2017 (probably by copying a template). I obviously had no rights to do that.\n> \n> I think GitHub takes the position that there is no such thing as \"GPL 2 only\": That the license includes \"... or any later version\" no matter whether you write these words in the files or not.\n\nVery nice of them. But they are not lawyers and I think the \"LICENSE\" file should be explicit for people who look for these subtle clarification (distros). The GPL FAQ https://www.gnu.org/licenses/old-licenses/gpl-2.0-faq.html#VersionTwoOrLater seem to imply that you should explicitly state it.",
    "created_at": "2020-08-11T01:28:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427895",
    "user": "fbissey"
}
```

Replying to [comment:6 mkoeppe]:
> Replying to [comment:5 fbissey]:
> > On the legal side, the code is GPL2.0 or later. Although I will need to fix the license on github. It seems I changed it from 2+ to 2 carelessly back in 2017 (probably by copying a template). I obviously had no rights to do that.
> 
> I think GitHub takes the position that there is no such thing as "GPL 2 only": That the license includes "... or any later version" no matter whether you write these words in the files or not.

Very nice of them. But they are not lawyers and I think the "LICENSE" file should be explicit for people who look for these subtle clarification (distros). The GPL FAQ https://www.gnu.org/licenses/old-licenses/gpl-2.0-faq.html#VersionTwoOrLater seem to imply that you should explicitly state it.



---

archive/issue_comments_427896.json:
```json
{
    "body": "Tests included inside `sage-brial` will have to be moved to sage doctesting. More generally it will have to be documented properly as much as possible. This will be so much fun.\n\nIt looks like that will take much more than just drag and drop in place with a few cosmetic changes.",
    "created_at": "2020-08-12T00:17:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427896",
    "user": "fbissey"
}
```

Tests included inside `sage-brial` will have to be moved to sage doctesting. More generally it will have to be documented properly as much as possible. This will be so much fun.

It looks like that will take much more than just drag and drop in place with a few cosmetic changes.



---

archive/issue_comments_427897.json:
```json
{
    "body": "I suppose you could prepare the change to using the sage doctester first, before merging into Sage.",
    "created_at": "2020-08-12T00:25:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427897",
    "user": "mkoeppe"
}
```

I suppose you could prepare the change to using the sage doctester first, before merging into Sage.



---

archive/issue_comments_427898.json:
```json
{
    "body": "Given that sage_brial has no Cython bits, I think it could in fact be removed from the dependencies of sagelib, as it won't really be needed while installing sagelib, only later for docbuild and doctest.",
    "created_at": "2020-08-12T00:53:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427898",
    "user": "mkoeppe"
}
```

Given that sage_brial has no Cython bits, I think it could in fact be removed from the dependencies of sagelib, as it won't really be needed while installing sagelib, only later for docbuild and doctest.



---

archive/issue_comments_427899.json:
```json
{
    "body": "Replying to [comment:10 mkoeppe]:\n> Given that sage_brial has no Cython bits, I think it could in fact be removed from the dependencies of sagelib, as it won't really be needed while installing sagelib, only later for docbuild and doctest.\n\nTechnically correct.",
    "created_at": "2020-08-12T01:22:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427899",
    "user": "fbissey"
}
```

Replying to [comment:10 mkoeppe]:
> Given that sage_brial has no Cython bits, I think it could in fact be removed from the dependencies of sagelib, as it won't really be needed while installing sagelib, only later for docbuild and doctest.

Technically correct.



---

archive/issue_comments_427900.json:
```json
{
    "body": "This is not ready for review. I am just pushing my work in progress so it is not just on my workstation, it is visible and open to others contribution.\n\nThere is a lot to do:\n1. update paths\n2. convert docstrings and tests to sage framework\n\nThis may take some time and I doubt it will be ready in time for 9.2 but we can only try.\n----\nNew commits:",
    "created_at": "2020-08-12T22:58:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427900",
    "user": "fbissey"
}
```

This is not ready for review. I am just pushing my work in progress so it is not just on my workstation, it is visible and open to others contribution.

There is a lot to do:
1. update paths
2. convert docstrings and tests to sage framework

This may take some time and I doubt it will be ready in time for 9.2 but we can only try.
----
New commits:



---

archive/issue_comments_427901.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-13T00:10:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427901",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427902.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-13T02:06:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427902",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427903.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-18T22:54:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427903",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427904.json:
```json
{
    "body": "I am currently converting docstrings :( I am also doing some selective code deletion as I come along across it. There is a module for memory usage, it is imported once but never used and even less tested. So, I am removing it. It will be worth another look after that first pass.",
    "created_at": "2020-08-18T23:54:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427904",
    "user": "fbissey"
}
```

I am currently converting docstrings :( I am also doing some selective code deletion as I come along across it. There is a module for memory usage, it is imported once but never used and even less tested. So, I am removing it. It will be worth another look after that first pass.



---

archive/issue_comments_427905.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-19T00:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427905",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427906.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-19T00:36:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427906",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427907.json:
```json
{
    "body": "I suspect the building of the html doc will break at this stage. If it doesn't the output may very well be useless. Once I figure that out, I'll do the doctesting to see what's broken. I am expecting a lot of breaking in the newly imported tests.",
    "created_at": "2020-08-19T00:48:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427907",
    "user": "fbissey"
}
```

I suspect the building of the html doc will break at this stage. If it doesn't the output may very well be useless. Once I figure that out, I'll do the doctesting to see what's broken. I am expecting a lot of breaking in the newly imported tests.



---

archive/issue_comments_427908.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-19T02:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427908",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427909.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-19T23:11:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427909",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427910.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-20T00:25:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427910",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427911.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-20T00:50:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427911",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427912.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-20T00:51:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427912",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427913.json:
```json
{
    "body": "At this point documentation builds and is identical to the old one. doctesting gets a lot of failures. There is still quite a bit of cleaning to be done, including removing files that should have been trashed long ago.",
    "created_at": "2020-08-20T00:55:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427913",
    "user": "fbissey"
}
```

At this point documentation builds and is identical to the old one. doctesting gets a lot of failures. There is still quite a bit of cleaning to be done, including removing files that should have been trashed long ago.



---

archive/issue_comments_427914.json:
```json
{
    "body": "More joy! I found a subtle coding error while fixing the test suite. I guess it won't have an impact on the rest of sage because that code path just error-ed out when taken. So it is probably a dead code path anyway.",
    "created_at": "2020-08-20T02:32:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427914",
    "user": "fbissey"
}
```

More joy! I found a subtle coding error while fixing the test suite. I guess it won't have an impact on the rest of sage because that code path just error-ed out when taken. So it is probably a dead code path anyway.



---

archive/issue_comments_427915.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-20T04:26:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427915",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427916.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-20T05:07:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427916",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427917.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-20T09:33:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427917",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427918.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-20T10:07:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427918",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427919.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-20T23:06:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427919",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427920.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-08-20T23:08:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427920",
    "user": "fbissey"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_427921.json:
```json
{
    "body": "This is ready for a first review. I am not expecting it to make it as is. But other people should comment now.",
    "created_at": "2020-08-20T23:08:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427921",
    "user": "fbissey"
}
```

This is ready for a first review. I am not expecting it to make it as is. But other people should comment now.



---

archive/issue_comments_427922.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-20T23:09:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427922",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427923.json:
```json
{
    "body": "Last commit to burn the bridges :)",
    "created_at": "2020-08-20T23:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427923",
    "user": "fbissey"
}
```

Last commit to burn the bridges :)



---

archive/issue_comments_427924.json:
```json
{
    "body": "`BooleanPolynomialRing_constructor` vs. `BooleanPolynomialRing` looks a bit confusing",
    "created_at": "2020-08-21T01:15:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427924",
    "user": "mkoeppe"
}
```

`BooleanPolynomialRing_constructor` vs. `BooleanPolynomialRing` looks a bit confusing



---

archive/issue_comments_427925.json:
```json
{
    "body": "Replying to [comment:35 mkoeppe]:\n> `BooleanPolynomialRing_constructor` vs. `BooleanPolynomialRing` looks a bit confusing\n\nNot my code, I am only the messenger. I certainly agree that this largely decade old code would need a good fleeing - apart from the trimming I already did on import. I assumed we could do it after merging it.",
    "created_at": "2020-08-21T01:19:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427925",
    "user": "fbissey"
}
```

Replying to [comment:35 mkoeppe]:
> `BooleanPolynomialRing_constructor` vs. `BooleanPolynomialRing` looks a bit confusing

Not my code, I am only the messenger. I certainly agree that this largely decade old code would need a good fleeing - apart from the trimming I already did on import. I assumed we could do it after merging it.



---

archive/issue_comments_427926.json:
```json
{
    "body": "Sure, just trying to figure out what the high level interface is intended to be.",
    "created_at": "2020-08-21T01:20:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427926",
    "user": "mkoeppe"
}
```

Sure, just trying to figure out what the high level interface is intended to be.



---

archive/issue_comments_427927.json:
```json
{
    "body": "`build/pkgs/sagelib/dependencies` still has `sage_brial`",
    "created_at": "2020-08-21T01:38:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427927",
    "user": "mkoeppe"
}
```

`build/pkgs/sagelib/dependencies` still has `sage_brial`



---

archive/issue_comments_427928.json:
```json
{
    "body": "Right. I remember thinking about that last night. Forgot to remove it. Will do in a few hours if no one beats me to it.",
    "created_at": "2020-08-21T01:40:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427928",
    "user": "fbissey"
}
```

Right. I remember thinking about that last night. Forgot to remove it. Will do in a few hours if no one beats me to it.



---

archive/issue_comments_427929.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-21T01:41:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427929",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427930.json:
```json
{
    "body": "Replying to [comment:36 fbissey]:\n> Replying to [comment:35 mkoeppe]:\n> > `BooleanPolynomialRing_constructor` vs. `BooleanPolynomialRing` looks a bit confusing\n> \n> Not my code, I am only the messenger. I certainly agree that this largely decade old code would need a good fleeing - apart from the trimming I already did on import. I assumed we could do it after merging it.\n\nIndeed, this is a known problem that needs some attention: #21892, #24748, possibly #27019, #23310, #23312, possibly #23311, #15223.\n\nMy idea is to scrap `BooleanPolynomialRing_constructor` and just have `BooleanPolynomialRing` be a `UniqueRepresentation` object, possibly just being a subclass of the monoid algebra parent.",
    "created_at": "2020-08-27T05:17:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427930",
    "user": "tscrim"
}
```

Replying to [comment:36 fbissey]:
> Replying to [comment:35 mkoeppe]:
> > `BooleanPolynomialRing_constructor` vs. `BooleanPolynomialRing` looks a bit confusing
> 
> Not my code, I am only the messenger. I certainly agree that this largely decade old code would need a good fleeing - apart from the trimming I already did on import. I assumed we could do it after merging it.

Indeed, this is a known problem that needs some attention: #21892, #24748, possibly #27019, #23310, #23312, possibly #23311, #15223.

My idea is to scrap `BooleanPolynomialRing_constructor` and just have `BooleanPolynomialRing` be a `UniqueRepresentation` object, possibly just being a subclass of the monoid algebra parent.



---

archive/issue_comments_427931.json:
```json
{
    "body": "My idea was to merge this in 9.2 and work on improving things in 9.3. However, if you know exactly what to do, we can work on this now.",
    "created_at": "2020-08-27T21:44:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427931",
    "user": "fbissey"
}
```

My idea was to merge this in 9.2 and work on improving things in 9.3. However, if you know exactly what to do, we can work on this now.



---

archive/issue_comments_427932.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-27T21:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427932",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427933.json:
```json
{
    "body": "I think that is a better plan. I am too stretched for time right now to work on this.",
    "created_at": "2020-08-27T22:01:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427933",
    "user": "tscrim"
}
```

I think that is a better plan. I am too stretched for time right now to work on this.



---

archive/issue_comments_427934.json:
```json
{
    "body": "I agree with this plan - it will also be a good basis for modularization work in 9.3",
    "created_at": "2020-08-27T22:03:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427934",
    "user": "mkoeppe"
}
```

I agree with this plan - it will also be a good basis for modularization work in 9.3



---

archive/issue_comments_427935.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-27T22:03:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427935",
    "user": "mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_427936.json:
```json
{
    "body": "I am in the process of looking at adding some of the documentation from sage-brial to the sage documentation. At least to see how it looks like.\n\nIf you think that's not worth adding now, it is fine.",
    "created_at": "2020-08-27T22:06:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427936",
    "user": "fbissey"
}
```

I am in the process of looking at adding some of the documentation from sage-brial to the sage documentation. At least to see how it looks like.

If you think that's not worth adding now, it is fine.



---

archive/issue_comments_427937.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2020-08-27T22:34:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427937",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_427938.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-08-27T22:34:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427938",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_427939.json:
```json
{
    "body": "Just a touch up. One doctest was commented out so I decided to enable it. Building documentation revealed formatting issues in docstrings. All in the same file.\n\nI built the doc with some added files from brial and we definitely should keep that for later work. Individual files need sensible title blocks for a start.",
    "created_at": "2020-08-27T22:38:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427939",
    "user": "fbissey"
}
```

Just a touch up. One doctest was commented out so I decided to enable it. Building documentation revealed formatting issues in docstrings. All in the same file.

I built the doc with some added files from brial and we definitely should keep that for later work. Individual files need sensible title blocks for a start.



---

archive/issue_comments_427940.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-27T23:18:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427940",
    "user": "mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_427941.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-09-01T22:59:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30095#issuecomment-427941",
    "user": "vbraun"
}
```

Resolution: fixed
