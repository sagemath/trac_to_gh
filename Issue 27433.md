# Issue 27433: package install can print confusing error messages

archive/issues_027433.json:
```json
{
    "body": "CC:  embray slelievre\n\nThis is due to the uninstall script throwing incorrect error types.\n\nIssue created by migration from https://trac.sagemath.org/ticket/27670\n\n",
    "created_at": "2019-04-15T14:24:04Z",
    "labels": [
        "packages: optional",
        "trivial",
        "bug"
    ],
    "title": "package install can print confusing error messages",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27433",
    "user": "@BrentBaccala"
}
```
CC:  embray slelievre

This is due to the uninstall script throwing incorrect error types.

Issue created by migration from https://trac.sagemath.org/ticket/27670





---

archive/issue_comments_386734.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-04-16T01:49:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27433#issuecomment-386734",
    "user": "@BrentBaccala"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_386735.json:
```json
{
    "body": "(Wrong branch - fixed below)",
    "created_at": "2019-04-16T01:49:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27433#issuecomment-386735",
    "user": "@BrentBaccala"
}
```

(Wrong branch - fixed below)



---

archive/issue_comments_386736.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-04-16T01:50:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27433#issuecomment-386736",
    "user": "@BrentBaccala"
}
```

New commits:



---

archive/issue_comments_386737.json:
```json
{
    "body": "Changing keywords from \"\" to \"spkg, uninstall\".",
    "created_at": "2019-04-18T07:27:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27433#issuecomment-386737",
    "user": "slelievre"
}
```

Changing keywords from "" to "spkg, uninstall".



---

archive/issue_comments_386738.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-04-18T11:06:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27433#issuecomment-386738",
    "user": "embray"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_386739.json:
```json
{
    "body": "This fix makes sense in its own right so +1.\n\nSupport for old-style SPKGs is deprecated and should be removed completely.\n\nThe only reason it hasn't been completely removed is last time the question came up there was paralysis about what to do about one particularly large package that would need to be hosted somewhere if it were converted to a new-style SPKG.\n\nIn that case it was just a large database, and is so large in fact that I'm not convinced downloading the whole database is the right thing to do in most cases anyways. It should be wrapped in a little queryable web service hosted online somewhere (perhaps even sagemath.org). Someone just needs to do that. I don't think that one package is reason enough to hold up removal of old-style SPKG support though.",
    "created_at": "2019-04-18T11:06:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27433#issuecomment-386739",
    "user": "embray"
}
```

This fix makes sense in its own right so +1.

Support for old-style SPKGs is deprecated and should be removed completely.

The only reason it hasn't been completely removed is last time the question came up there was paralysis about what to do about one particularly large package that would need to be hosted somewhere if it were converted to a new-style SPKG.

In that case it was just a large database, and is so large in fact that I'm not convinced downloading the whole database is the right thing to do in most cases anyways. It should be wrapped in a little queryable web service hosted online somewhere (perhaps even sagemath.org). Someone just needs to do that. I don't think that one package is reason enough to hold up removal of old-style SPKG support though.



---

archive/issue_comments_386740.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-04-29T11:50:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27433#issuecomment-386740",
    "user": "vbraun"
}
```

Resolution: fixed
