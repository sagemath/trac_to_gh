# Issue 28866: get rid of part of itervalues

archive/issues_028866.json:
```json
{
    "body": "CC:  tscrim jmantysalo\n\nafter #29077\n\nThere are much more cases, so only half of them is taken care of.\n\nIssue created by migration from https://trac.sagemath.org/ticket/29103\n\n",
    "created_at": "2020-01-29T15:21:18Z",
    "labels": [
        "refactoring",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "get rid of part of itervalues",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28866",
    "user": "chapoton"
}
```
CC:  tscrim jmantysalo

after #29077

There are much more cases, so only half of them is taken care of.

Issue created by migration from https://trac.sagemath.org/ticket/29103





---

archive/issue_comments_408324.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-01-29T15:22:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28866#issuecomment-408324",
    "user": "chapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_408325.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-01-29T15:22:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28866#issuecomment-408325",
    "user": "chapoton"
}
```

New commits:



---

archive/issue_comments_408326.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-01-29T15:22:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28866#issuecomment-408326",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_408327.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-29T19:08:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28866#issuecomment-408327",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_408328.json:
```json
{
    "body": "green bot, please review",
    "created_at": "2020-01-29T21:14:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28866#issuecomment-408328",
    "user": "chapoton"
}
```

green bot, please review



---

archive/issue_comments_408329.json:
```json
{
    "body": "I am not sure we should be doing this yet given that 9.1 will still be supporting Python2. Although I believe from the sage-devel discussion, are considering 9.0 the last properly Python2 supported version of Sage. So by that, it would be good to do it now. Although if 9.1 is the last such one, then we should wait a little bit I think.",
    "created_at": "2020-01-30T01:48:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28866#issuecomment-408329",
    "user": "tscrim"
}
```

I am not sure we should be doing this yet given that 9.1 will still be supporting Python2. Although I believe from the sage-devel discussion, are considering 9.0 the last properly Python2 supported version of Sage. So by that, it would be good to do it now. Although if 9.1 is the last such one, then we should wait a little bit I think.



---

archive/issue_comments_408330.json:
```json
{
    "body": "I did that carefully in such a way that this remains fully python2-compatible.",
    "created_at": "2020-01-30T07:45:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28866#issuecomment-408330",
    "user": "chapoton"
}
```

I did that carefully in such a way that this remains fully python2-compatible.



---

archive/issue_comments_408331.json:
```json
{
    "body": "Sorry, my response was poorly phrased. I meant the efficiency aspects with entire lists being created and returned in Python2 with these changes. I agree that it is fully Python2-compatible, but there will be a speed/memory difference between the two. Admittedly, this is not a very strong position considering the cases where this would matter are somewhat rare IMO. If you think that we should go ahead with only caring about Python3 at this point in time, then we can set this to a positive review.",
    "created_at": "2020-01-30T22:40:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28866#issuecomment-408331",
    "user": "tscrim"
}
```

Sorry, my response was poorly phrased. I meant the efficiency aspects with entire lists being created and returned in Python2 with these changes. I agree that it is fully Python2-compatible, but there will be a speed/memory difference between the two. Admittedly, this is not a very strong position considering the cases where this would matter are somewhat rare IMO. If you think that we should go ahead with only caring about Python3 at this point in time, then we can set this to a positive review.



---

archive/issue_comments_408332.json:
```json
{
    "body": "I think that people cannot both ask for speed with python2 and use the latest sage..\n\nTherefore setting to positive",
    "created_at": "2020-01-31T09:57:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28866#issuecomment-408332",
    "user": "chapoton"
}
```

I think that people cannot both ask for speed with python2 and use the latest sage..

Therefore setting to positive



---

archive/issue_comments_408333.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-01-31T09:57:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28866#issuecomment-408333",
    "user": "chapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_408334.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-02-10T20:05:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28866#issuecomment-408334",
    "user": "vbraun"
}
```

Resolution: fixed
