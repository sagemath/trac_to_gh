# Issue 28866: get rid of part of itervalues

Issue created by migration from https://trac.sagemath.org/ticket/29103

Original creator: chapoton

Original creation time: 2020-01-29 15:21:18

CC:  tscrim jmantysalo

after #29077

There are much more cases, so only half of them is taken care of.


---

Comment by chapoton created at 2020-01-29 15:22:02

Changing status from new to needs_review.


---

Comment by chapoton created at 2020-01-29 15:22:02

New commits:


---

Comment by git created at 2020-01-29 15:22:39

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2020-01-29 19:08:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2020-01-29 21:14:12

green bot, please review


---

Comment by tscrim created at 2020-01-30 01:48:06

I am not sure we should be doing this yet given that 9.1 will still be supporting Python2. Although I believe from the sage-devel discussion, are considering 9.0 the last properly Python2 supported version of Sage. So by that, it would be good to do it now. Although if 9.1 is the last such one, then we should wait a little bit I think.


---

Comment by chapoton created at 2020-01-30 07:45:09

I did that carefully in such a way that this remains fully python2-compatible.


---

Comment by tscrim created at 2020-01-30 22:40:14

Sorry, my response was poorly phrased. I meant the efficiency aspects with entire lists being created and returned in Python2 with these changes. I agree that it is fully Python2-compatible, but there will be a speed/memory difference between the two. Admittedly, this is not a very strong position considering the cases where this would matter are somewhat rare IMO. If you think that we should go ahead with only caring about Python3 at this point in time, then we can set this to a positive review.


---

Comment by chapoton created at 2020-01-31 09:57:58

I think that people cannot both ask for speed with python2 and use the latest sage..

Therefore setting to positive


---

Comment by chapoton created at 2020-01-31 09:57:58

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-02-10 20:05:41

Resolution: fixed
