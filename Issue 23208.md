# Issue 23208: maxima parser not smart enough

Issue created by migration from Trac.

Original creator: vdelecroix

Original creation time: 2017-07-16 17:45:33

Keywords: symbolic

As found in [this post on ask.sagemath.org](https://ask.sagemath.org/question/38282/solving-system-of-ode-gets-valueerror/) the function `desolve_system` can fail with weird error message

```
sage: t = var('t')
sage: f = function('f')(t)
sage: g = function('g')(t)
sage: de1 = diff(f,t) == f*sin(t)
sage: de2 = diff(g,t) == 0
sage: desolve_system([de1, de2], [f,g])
Traceback (most recent call last):
<ipython-input-1-58fe9994eeb3> in <module>()
      2 de1 = diff(f,t) == f*sin(t);
      3 de2 = diff(g,t) == Integer(0);
----> 4 desolve_system([de1, de2], [f,g])

.../sage/calculus/desolvers.pyc in desolve_system(des, vars, ics, ivar)
    838     for i, sol in enumerate(soln):
    839         print(sol)
--> 840         soln[i] = sol.sage()
    841     if ics is not None:
    842         ivar_ic = ics[0]
...
ValueError: The name "+" is not a valid Python identifier.
```



---

Comment by egourgoulhon created at 2018-08-30 09:43:18

The bug seems to be still there, see this recent [ask.sagemath question](https://ask.sagemath.org/question/43525/bug-in-ode-solving/).


---

Comment by chapoton created at 2020-11-07 17:30:41

simpler way to trigger the same error:

```
        sage: from sage.calculus.calculus import dummy_laplace
        sage: s,t = var('s,t')
        sage: f = function('f')
        sage: dummy_laplace(f(t),t,s+1)
```



---

Comment by chapoton created at 2020-11-07 17:41:35

Changing status from new to needs_info.


---

Comment by chapoton created at 2020-11-07 17:41:35

not totally convinced by the "fix"
----
New commits:


---

Comment by chapoton created at 2022-04-14 20:01:55

Changing status from needs_info to needs_review.


---

Comment by vdelecroix created at 2022-04-14 20:40:17

What about a doctest?


---

Comment by git created at 2022-04-15 07:38:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-04-15 07:38:46

voila

mais il reste un probleme de non-oubli (permanence) de la fonction g


---

Comment by mkoeppe created at 2022-05-29 23:50:50

author name


---

Comment by chapoton created at 2022-05-31 11:44:37

as said in comment:8, there remains a problem about not forgetting g, which causes a failing doctest


---

Comment by chapoton created at 2022-06-22 08:56:13

Changing status from needs_review to needs_work.
