# Issue 19033: Matrix_integer_sparse object has no attribute 'gap'

Issue created by migration from https://trac.sagemath.org/ticket/19270

Original creator: slabbe

Original creation time: 2015-09-22 19:38:20


```
sage: import itertools
sage: G = [w.matrix() for w in WeylGroup(['B', 3])]
sage: G = MatrixGroup(G)
sage: H = [diagonal_matrix(L) for L in itertools.product((1,-1), repeat=3)]
sage: H = G.subgroup(H)
Traceback (most recent call last):
...
AttributeError: 'sage.matrix.matrix_integer_sparse.Matrix_integer_sparse' object has no attribute 'gap'
```



---

Comment by tscrim created at 2015-09-22 21:33:13

None of the matrices have a `gap` method.

The code is assuming that the input are elements of `G`; so it is bad input. However, to make things more robust and better behaved, I would make this change (the cost of the coercion call should be minimal):

```diff
-generators = [ g if isinstance(g, GapElement) else g.gap()
+generators = [ g if isinstance(g, GapElement) else self(g).gap()
                for g in generators ]
```



---

Comment by slabbe created at 2018-05-01 12:03:21

Sorry for taking so long.
----
New commits:


---

Comment by slabbe created at 2018-05-01 12:03:21

Changing status from new to needs_review.


---

Comment by tscrim created at 2018-05-01 23:34:08

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2018-05-01 23:34:08

LGTM. Thanks.


---

Comment by vbraun created at 2018-05-08 17:27:36

Resolution: fixed
