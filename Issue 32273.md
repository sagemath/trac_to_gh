# Issue 32273: Update igraph to 0.9.4 and python_igraph to 0.9.6

archive/issues_032273.json:
```json
{
    "body": "CC:  mkoeppe dimpase fbissey slelievre\n\nReleased \n- `igraph`, May 2021 https://github.com/igraph/igraph/releases/tag/0.9.4\n- `pyhton_igraph`, Jun 2021 https://github.com/igraph/python-igraph/releases/tag/0.9.6\n\nthe previous update was in #30899.\n\nIssue created by migration from https://trac.sagemath.org/ticket/32510\n\n",
    "created_at": "2021-09-14T09:32:23Z",
    "labels": [
        "packages: optional",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Update igraph to 0.9.4 and python_igraph to 0.9.6",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32273",
    "user": "dcoudert"
}
```
CC:  mkoeppe dimpase fbissey slelievre

Released 
- `igraph`, May 2021 https://github.com/igraph/igraph/releases/tag/0.9.4
- `pyhton_igraph`, Jun 2021 https://github.com/igraph/python-igraph/releases/tag/0.9.6

the previous update was in #30899.

Issue created by migration from https://trac.sagemath.org/ticket/32510





---

archive/issue_comments_460876.json:
```json
{
    "body": "I was able to install on fedora 32 but I have compilation errors of igraph on macOS. I will investigate further.\n----\nNew commits:",
    "created_at": "2021-09-14T09:43:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460876",
    "user": "dcoudert"
}
```

I was able to install on fedora 32 but I have compilation errors of igraph on macOS. I will investigate further.
----
New commits:



---

archive/issue_comments_460877.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-09-14T09:43:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460877",
    "user": "dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_460878.json:
```json
{
    "body": "at least, it's working well with a homebrew install of igraph 0.9.4.",
    "created_at": "2021-09-14T11:28:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460878",
    "user": "dcoudert"
}
```

at least, it's working well with a homebrew install of igraph 0.9.4.



---

archive/issue_comments_460879.json:
```json
{
    "body": "This would benefit from a GH Actions run https://doc.sagemath.org/html/en/developer/portability_testing.html#automatic-parallel-tox-runs-on-github-actions",
    "created_at": "2021-09-14T21:24:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460879",
    "user": "mkoeppe"
}
```

This would benefit from a GH Actions run https://doc.sagemath.org/html/en/developer/portability_testing.html#automatic-parallel-tox-runs-on-github-actions



---

archive/issue_comments_460880.json:
```json
{
    "body": "Not sure how to do that...",
    "created_at": "2021-09-15T16:55:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460880",
    "user": "dcoudert"
}
```

Not sure how to do that...



---

archive/issue_comments_460881.json:
```json
{
    "body": "To launch a run of github actions:\n\n- visit https://github.com/sagemath/sage and click \"Fork\" at the top right\n- in a terminal, in your Sage directory, add a remote for your fork:\n\n    `git remote add gh-dcoudert git`@`github.com:dcoudert/sage.git`\n\n- switch to the branch for this ticket\n- create a tag: `git tag ci-32510`\n- push the tag to your fork: `git push gh-dcoudert ci-32510`\n\nThat's it. You can check the results at https://github.com/dcoudert/sage/actions",
    "created_at": "2021-09-15T21:18:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460881",
    "user": "slelievre"
}
```

To launch a run of github actions:

- visit https://github.com/sagemath/sage and click "Fork" at the top right
- in a terminal, in your Sage directory, add a remote for your fork:

    `git remote add gh-dcoudert git`@`github.com:dcoudert/sage.git`

- switch to the branch for this ticket
- create a tag: `git tag ci-32510`
- push the tag to your fork: `git push gh-dcoudert ci-32510`

That's it. You can check the results at https://github.com/dcoudert/sage/actions



---

archive/issue_comments_460882.json:
```json
{
    "body": "Thank you for this very clear how-to.\n\nI did it, but so far I don't see any change at https://github.com/dcoudert/sage/actions. I'll check again later.",
    "created_at": "2021-09-16T08:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460882",
    "user": "dcoudert"
}
```

Thank you for this very clear how-to.

I did it, but so far I don't see any change at https://github.com/dcoudert/sage/actions. I'll check again later.



---

archive/issue_comments_460883.json:
```json
{
    "body": "Actually, I don't see the `ci-32510` tag at https://github.com/dcoudert/sage/actions. I don't know if I did something wrong or if I have something else to do.",
    "created_at": "2021-09-17T11:25:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460883",
    "user": "dcoudert"
}
```

Actually, I don't see the `ci-32510` tag at https://github.com/dcoudert/sage/actions. I don't know if I did something wrong or if I have something else to do.



---

archive/issue_comments_460884.json:
```json
{
    "body": "Did I forget and skip one step?\nHopefully Dima or Matthias can spot which.",
    "created_at": "2021-09-17T14:39:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460884",
    "user": "slelievre"
}
```

Did I forget and skip one step?
Hopefully Dima or Matthias can spot which.



---

archive/issue_comments_460885.json:
```json
{
    "body": "I ran this with a bunch of other upgrade tickets. The igraph update does not seem to work:\nhttps://github.com/mkoeppe/sage/runs/3625053548?check_suite_focus=true\n\n```\nAttempting to download from https://github.com/igraph/igraph/releases/download/0.9.4/igraph-0.9.4.tar.gz\n[......................................................................]\nigraph-0.9.4\n====================================================\nSetting up build directory for igraph-0.9.4\nFinished extraction\nNo patch files found in ../patches\n****************************************************\nHost system:\nDarwin Mac-1631840975117.local 19.6.0 Darwin Kernel Version 19.6.0: Tue Aug 24 20:28:00 PDT 2021; root:xnu-6153.141.40~1/RELEASE_X86_64 x86_64\n****************************************************\nC compiler: gcc\nC compiler version:\nConfigured with: --prefix=/Applications/Xcode_12.4.app/Contents/Developer/usr --with-gxx-include-dir=/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/c++/4.2.1\nApple clang version 12.0.0 (clang-1200.0.32.29)\nTarget: x86_64-apple-darwin19.6.0\nThread model: posix\nInstalledDir: /Applications/Xcode_12.4.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\n****************************************************\nPackage 'igraph' is currently not installed\nNo legacy uninstaller found for 'igraph'; nothing to do\nConfiguring igraph-0.9.4\n/Users/runner/work/sage/sage/build/bin/sage-dist-helpers: line 179: ./configure: No such file or directory\n/Users/runner/work/sage/sage/build/bin/sage-dist-helpers: line 181: ./configure: No such file or directory\n********************************************************************************\nError configuring igraph-0.9.4\n********************************************************************************\n```\n",
    "created_at": "2021-09-18T01:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460885",
    "user": "mkoeppe"
}
```

I ran this with a bunch of other upgrade tickets. The igraph update does not seem to work:
https://github.com/mkoeppe/sage/runs/3625053548?check_suite_focus=true

```
Attempting to download from https://github.com/igraph/igraph/releases/download/0.9.4/igraph-0.9.4.tar.gz
[......................................................................]
igraph-0.9.4
====================================================
Setting up build directory for igraph-0.9.4
Finished extraction
No patch files found in ../patches
****************************************************
Host system:
Darwin Mac-1631840975117.local 19.6.0 Darwin Kernel Version 19.6.0: Tue Aug 24 20:28:00 PDT 2021; root:xnu-6153.141.40~1/RELEASE_X86_64 x86_64
****************************************************
C compiler: gcc
C compiler version:
Configured with: --prefix=/Applications/Xcode_12.4.app/Contents/Developer/usr --with-gxx-include-dir=/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/c++/4.2.1
Apple clang version 12.0.0 (clang-1200.0.32.29)
Target: x86_64-apple-darwin19.6.0
Thread model: posix
InstalledDir: /Applications/Xcode_12.4.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
****************************************************
Package 'igraph' is currently not installed
No legacy uninstaller found for 'igraph'; nothing to do
Configuring igraph-0.9.4
/Users/runner/work/sage/sage/build/bin/sage-dist-helpers: line 179: ./configure: No such file or directory
/Users/runner/work/sage/sage/build/bin/sage-dist-helpers: line 181: ./configure: No such file or directory
********************************************************************************
Error configuring igraph-0.9.4
********************************************************************************
```




---

archive/issue_comments_460886.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-09-18T01:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460886",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_460887.json:
```json
{
    "body": "I see that it runs `make igraph` and not `make python_igraph`. This can explain the issue.",
    "created_at": "2021-09-18T09:15:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460887",
    "user": "dcoudert"
}
```

I see that it runs `make igraph` and not `make python_igraph`. This can explain the issue.



---

archive/issue_comments_460888.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-11-10T01:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460888",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_460889.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-11-10T01:32:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460889",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_460890.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-10T01:54:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460890",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_460891.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-11-10T02:03:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460891",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_460892.json:
```json
{
    "body": "I assume we must now change `# optional - python_igraph` to `# optional - igraph` in doctests ?",
    "created_at": "2021-11-10T08:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460892",
    "user": "dcoudert"
}
```

I assume we must now change `# optional - python_igraph` to `# optional - igraph` in doctests ?



---

archive/issue_comments_460893.json:
```json
{
    "body": "No, the name of the SPKG (= the tag for `# optional`) has not changed.",
    "created_at": "2021-11-10T16:44:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460893",
    "user": "mkoeppe"
}
```

No, the name of the SPKG (= the tag for `# optional`) has not changed.



---

archive/issue_comments_460894.json:
```json
{
    "body": "I tried on a desktop with fedora 32 and it's working well (install and doctests of the graph module). I just had to remember to use `./configure --enable-download-from-upstream-url` first.\n\nShould we wait for further tests ?",
    "created_at": "2021-11-10T17:09:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460894",
    "user": "dcoudert"
}
```

I tried on a desktop with fedora 32 and it's working well (install and doctests of the graph module). I just had to remember to use `./configure --enable-download-from-upstream-url` first.

Should we wait for further tests ?



---

archive/issue_comments_460895.json:
```json
{
    "body": "Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460895",
    "user": "mkoeppe"
}
```

Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_comments_460896.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2021-12-23T19:32:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460896",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_460897.json:
```json
{
    "body": "Works successfully on macOS 10.15.7 with a homebrew version of igraph and on fedora 35, both on top of 9.5.beta9.\n\nCan I set this ticket to positive or do you prefer to wait for more feedback ?",
    "created_at": "2021-12-30T13:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460897",
    "user": "dcoudert"
}
```

Works successfully on macOS 10.15.7 with a homebrew version of igraph and on fedora 35, both on top of 9.5.beta9.

Can I set this ticket to positive or do you prefer to wait for more feedback ?



---

archive/issue_comments_460898.json:
```json
{
    "body": "Thanks for testing! I think this is good to go.",
    "created_at": "2021-12-30T16:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460898",
    "user": "mkoeppe"
}
```

Thanks for testing! I think this is good to go.



---

archive/issue_comments_460899.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-12-30T17:23:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460899",
    "user": "dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_460900.json:
```json
{
    "body": "LGTM.",
    "created_at": "2021-12-30T17:23:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460900",
    "user": "dcoudert"
}
```

LGTM.



---

archive/issue_comments_460901.json:
```json
{
    "body": "Thanks!",
    "created_at": "2021-12-30T17:24:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460901",
    "user": "mkoeppe"
}
```

Thanks!



---

archive/issue_comments_460902.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-01-31T23:31:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460902",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_460903.json:
```json
{
    "body": "Follow-up in #33526",
    "created_at": "2022-03-18T18:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32273#issuecomment-460903",
    "user": "mkoeppe"
}
```

Follow-up in #33526
