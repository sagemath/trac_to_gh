# Issue 18932: Create has_cm() function for modular forms

archive/issues_018932.json:
```json
{
    "body": "Keywords: modular form, cm, sd69\n\nA modular form $f$ has complex multiplication (cm) if there is a quadratic character $\\epsilon$ such that\n\\[\na_p(f) = \\epsilon a_p(f)\n\\]\nfor all but finitely many primes $p$ (those dividing the level of $f$).  (Here, $a_p(f$) are the Fourier coefficients of $f$.)  This patch creates a method for the modular forms class in Sage to test whether a given modular form has cm.\n\nIssue created by migration from https://trac.sagemath.org/ticket/19169\n\n",
    "created_at": "2015-09-08T22:01:12Z",
    "labels": [
        "component: modular forms",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Create has_cm() function for modular forms",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18932",
    "user": "https://trac.sagemath.org/admin/accounts/users/jlang"
}
```
Keywords: modular form, cm, sd69

A modular form $f$ has complex multiplication (cm) if there is a quadratic character $\epsilon$ such that
\[
a_p(f) = \epsilon a_p(f)
\]
for all but finitely many primes $p$ (those dividing the level of $f$).  (Here, $a_p(f$) are the Fourier coefficients of $f$.)  This patch creates a method for the modular forms class in Sage to test whether a given modular form has cm.

Issue created by migration from https://trac.sagemath.org/ticket/19169





---

archive/issue_comments_259090.json:
```json
{
    "body": "Changing keywords from \"modular form, cm, sd69\" to \"modular form, cm, complex multiplication, sd69\".",
    "created_at": "2015-09-08T22:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259090",
    "user": "https://trac.sagemath.org/admin/accounts/users/jlang"
}
```

Changing keywords from "modular form, cm, sd69" to "modular form, cm, complex multiplication, sd69".



---

archive/issue_comments_259091.json:
```json
{
    "body": "Any progress on this code?",
    "created_at": "2017-02-06T17:44:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259091",
    "user": "https://github.com/roed314"
}
```

Any progress on this code?



---

archive/issue_comments_259092.json:
```json
{
    "body": "Replying to [comment:2 roed]:\n> Any progress on this code?\n\n\nThe code was ready to go as of September 2015, but I had trouble getting a working version of Sage downloaded onto my computer.  (I have very minimal experience with all things computer-related.)  I still have the file with the code in it, and I am happy to send it to anyone who wants to try getting it into Sage.  I don't have the time or expertise to try again.",
    "created_at": "2017-02-06T19:20:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259092",
    "user": "https://trac.sagemath.org/admin/accounts/users/jlang"
}
```

Replying to [comment:2 roed]:
> Any progress on this code?


The code was ready to go as of September 2015, but I had trouble getting a working version of Sage downloaded onto my computer.  (I have very minimal experience with all things computer-related.)  I still have the file with the code in it, and I am happy to send it to anyone who wants to try getting it into Sage.  I don't have the time or expertise to try again.



---

archive/issue_comments_259093.json:
```json
{
    "body": "One option to make sure that the code doesn't get lost is to to attach it to this ticket.  Someone else can then make it into a git branch.",
    "created_at": "2017-02-06T19:54:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259093",
    "user": "https://github.com/roed314"
}
```

One option to make sure that the code doesn't get lost is to to attach it to this ticket.  Someone else can then make it into a git branch.



---

archive/issue_comments_259094.json:
```json
{
    "body": "As of September 2015, this was supposed to be the code to add the function has_CM to Sage.  It may be out of date now.",
    "created_at": "2017-02-06T20:00:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259094",
    "user": "https://trac.sagemath.org/admin/accounts/users/jlang"
}
```

As of September 2015, this was supposed to be the code to add the function has_CM to Sage.  It may be out of date now.



---

archive/issue_comments_259095.json:
```json
{
    "body": "Attachment [element.py](tarball://root/attachments/some-uuid/ticket19169/element.py) by jlang created at 2017-02-06 20:02:12\n\nReplying to [comment:4 roed]:\n> One option to make sure that the code doesn't get lost is to to attach it to this ticket.  Someone else can then make it into a git branch.\n\n\nThanks for the suggestion; I didn't realize that was an option!  I have attached the code that I have to this ticket.",
    "created_at": "2017-02-06T20:02:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259095",
    "user": "https://trac.sagemath.org/admin/accounts/users/jlang"
}
```

Attachment [element.py](tarball://root/attachments/some-uuid/ticket19169/element.py) by jlang created at 2017-02-06 20:02:12

Replying to [comment:4 roed]:
> One option to make sure that the code doesn't get lost is to to attach it to this ticket.  Someone else can then make it into a git branch.


Thanks for the suggestion; I didn't realize that was an option!  I have attached the code that I have to this ticket.



---

archive/issue_comments_259096.json:
```json
{
    "body": "jlang, it would be great to have this in Sage -- any chance you could provide your code according to the usual development process, which is to give a link to a new git branch (see the developers' manual)?  Someone can help you do that.  I can see that your attached file is an edited version of src/sage/modular/modform/element.py which has had some other changes sine you wrote your new functions, so it will not be possible to simply replace it.  What you (or someone) should do is: check out the latest development branch; create a new branch called (say) cm_forms; in the branch add your new functions (methods) ( _q_expansion_bound(), _candidate_characters(), has_cm(); test, commit and push to the trac server.",
    "created_at": "2017-07-18T12:53:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259096",
    "user": "https://github.com/JohnCremona"
}
```

jlang, it would be great to have this in Sage -- any chance you could provide your code according to the usual development process, which is to give a link to a new git branch (see the developers' manual)?  Someone can help you do that.  I can see that your attached file is an edited version of src/sage/modular/modform/element.py which has had some other changes sine you wrote your new functions, so it will not be possible to simply replace it.  What you (or someone) should do is: check out the latest development branch; create a new branch called (say) cm_forms; in the branch add your new functions (methods) ( _q_expansion_bound(), _candidate_characters(), has_cm(); test, commit and push to the trac server.



---

archive/issue_comments_259097.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-07-18T14:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259097",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_259098.json:
```json
{
    "body": "Done.\n\n---\nNew commits:",
    "created_at": "2017-07-18T14:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259098",
    "user": "https://github.com/fchapoton"
}
```

Done.

---
New commits:



---

archive/issue_events_053237.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-07-18T14:04:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18932#event-53237"
}
```



---

archive/issue_comments_259099.json:
```json
{
    "body": "Changing keywords from \"modular form, cm, complex multiplication, sd69\" to \"modular form, cm, complex multiplication, sd69, sd87\".",
    "created_at": "2017-07-18T18:11:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259099",
    "user": "https://trac.sagemath.org/admin/accounts/users/christelle"
}
```

Changing keywords from "modular form, cm, complex multiplication, sd69" to "modular form, cm, complex multiplication, sd69, sd87".



---

archive/issue_comments_259100.json:
```json
{
    "body": "Looks good.",
    "created_at": "2017-07-18T20:11:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259100",
    "user": "https://github.com/adeines"
}
```

Looks good.



---

archive/issue_comments_259101.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-07-18T20:11:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259101",
    "user": "https://github.com/adeines"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_259102.json:
```json
{
    "body": "I have two suggestions to make, though I did not get fast enough and see that there is now a positive review.\n(1) You test all quadratic characters.  It would be enough to test those whose conductor's square divides the level.  And only odd characters (since it is *complex* multiplication).\n(2) Before testing any characters I would do some local tests.  (I just implemented a similar thing for CM testing for elliptic curves, see #23454 -- in fact I found this ticket when doing a search before creating that one).   The idea is to compute `a_p<sup>2-4*p</sup>(k-1)` for a lot of good primes p for which a_p is nonzero.  If the form is CM these will all have the same square-free part, so non-CM forms will be eliminated very quickly, and for forms which pass this test, you would only have *one* character to test.\n\nI am going to take the liberty of setting this back to needs_work but if someone wants to over-rule that and put it back to positive review, with a new ticket for what I have suggested, that is OK with me.",
    "created_at": "2017-07-20T13:05:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259102",
    "user": "https://github.com/JohnCremona"
}
```

I have two suggestions to make, though I did not get fast enough and see that there is now a positive review.
(1) You test all quadratic characters.  It would be enough to test those whose conductor's square divides the level.  And only odd characters (since it is *complex* multiplication).
(2) Before testing any characters I would do some local tests.  (I just implemented a similar thing for CM testing for elliptic curves, see #23454 -- in fact I found this ticket when doing a search before creating that one).   The idea is to compute `a_p<sup>2-4*p</sup>(k-1)` for a lot of good primes p for which a_p is nonzero.  If the form is CM these will all have the same square-free part, so non-CM forms will be eliminated very quickly, and for forms which pass this test, you would only have *one* character to test.

I am going to take the liberty of setting this back to needs_work but if someone wants to over-rule that and put it back to positive review, with a new ticket for what I have suggested, that is OK with me.



---

archive/issue_comments_259103.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-07-20T13:05:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259103",
    "user": "https://github.com/JohnCremona"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_259104.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-26T14:14:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259104",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_259105.json:
```json
{
    "body": "Is my last commit correct ?\n\n---\nNew commits:",
    "created_at": "2017-08-26T14:14:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259105",
    "user": "https://github.com/fchapoton"
}
```

Is my last commit correct ?

---
New commits:



---

archive/issue_comments_259106.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2017-08-26T14:14:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259106",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_comments_259107.json:
```json
{
    "body": "The new code is correct for weight k>=2, probably not for weight 1 but I think that we don't have any weight one forms anyway.",
    "created_at": "2017-08-30T13:55:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259107",
    "user": "https://github.com/JohnCremona"
}
```

The new code is correct for weight k>=2, probably not for weight 1 but I think that we don't have any weight one forms anyway.



---

archive/issue_comments_259108.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-23T19:41:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259108",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_259109.json:
```json
{
    "body": "Hold it, the new code is *not* correct, because the assertion \"if f has CM by chi, then the square of the conductor of chi divides the level\" is not true; it only works for forms of trivial character (and even for those I'm a little wary about powers of 2). \n\nThe simplest counterexample I could find was this one:\n\n```\nsage: G = DirichletGroup(21)          # note squarefree level\nsage: eps = G.0 * G.1\nsage: f = Newforms(eps,2)[0]; f\nq + (-zeta6 - 1)*q^3 + (2*zeta6 - 2)*q^4 + O(q^6)\nsage: [f[p] for p in prime_range(200) if kronecker_character(-3)(p) == -1]\n[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n```",
    "created_at": "2017-11-12T15:03:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259109",
    "user": "https://github.com/loefflerd"
}
```

Hold it, the new code is *not* correct, because the assertion "if f has CM by chi, then the square of the conductor of chi divides the level" is not true; it only works for forms of trivial character (and even for those I'm a little wary about powers of 2). 

The simplest counterexample I could find was this one:

```
sage: G = DirichletGroup(21)          # note squarefree level
sage: eps = G.0 * G.1
sage: f = Newforms(eps,2)[0]; f
q + (-zeta6 - 1)*q^3 + (2*zeta6 - 2)*q^4 + O(q^6)
sage: [f[p] for p in prime_range(200) if kronecker_character(-3)(p) == -1]
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
```



---

archive/issue_comments_259110.json:
```json
{
    "body": "OK I submit.  I must have been thinking of trivial character.  So this would be correct if we fixed it so that for trivial character (nebentypus)  it only checks quadratic characters whose conductor square divides the level, otherwise the larger set of characters?  Is there a similar restriction we can impose for the general case?",
    "created_at": "2017-11-12T16:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259110",
    "user": "https://github.com/JohnCremona"
}
```

OK I submit.  I must have been thinking of trivial character.  So this would be correct if we fixed it so that for trivial character (nebentypus)  it only checks quadratic characters whose conductor square divides the level, otherwise the larger set of characters?  Is there a similar restriction we can impose for the general case?



---

archive/issue_comments_259111.json:
```json
{
    "body": "I suspect this won't make much difference in practice; the running time will be overwhelmingly dominated by the computation of Fourier coefficients anyway. \n\nHowever, I think the code can be much speeded up by not computing all the coefficients up to `bound` at once but rather doing this in a loop computing coefficients one at a time and checking them against the candidate characters; if doesn't have CM, then we will almost certainly spot this long before we get up to `bound`. One can also rule out some trivial cases early on (e.g. if there is any prime q which exactly divides the level and which doesn't divide the nebentype conductor, then f can't be CM). \n\n(Also, in the code for `q_expansion_bound`, did someone really seriously think that the best way to loop over the divisors of M was to loop over `prime_range(M+1)` and ignore all primes which don't divide M?)",
    "created_at": "2017-11-12T19:20:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259111",
    "user": "https://github.com/loefflerd"
}
```

I suspect this won't make much difference in practice; the running time will be overwhelmingly dominated by the computation of Fourier coefficients anyway. 

However, I think the code can be much speeded up by not computing all the coefficients up to `bound` at once but rather doing this in a loop computing coefficients one at a time and checking them against the candidate characters; if doesn't have CM, then we will almost certainly spot this long before we get up to `bound`. One can also rule out some trivial cases early on (e.g. if there is any prime q which exactly divides the level and which doesn't divide the nebentype conductor, then f can't be CM). 

(Also, in the code for `q_expansion_bound`, did someone really seriously think that the best way to loop over the divisors of M was to loop over `prime_range(M+1)` and ignore all primes which don't divide M?)



---

archive/issue_comments_259112.json:
```json
{
    "body": "Hi David, while you are correct (that is not a good way to iterate over the divisors of M), the authors are new contributors.  If we want to foster new developers it is perhaps better to phrase things so that they can learn better coding practices as opposed to making fun of them in a public forum.  Also, this is partially my fault as the original reviewer.  I should have caught this and mentioned a better way to iterate.\n\n\nReplying to [comment:18 davidloeffler]:\n> I suspect this won't make much difference in practice; the running time will be overwhelmingly dominated by the computation of Fourier coefficients anyway. \n> \n> However, I think the code can be much speeded up by not computing all the coefficients up to `bound` at once but rather doing this in a loop computing coefficients one at a time and checking them against the candidate characters; if doesn't have CM, then we will almost certainly spot this long before we get up to `bound`. One can also rule out some trivial cases early on (e.g. if there is any prime q which exactly divides the level and which doesn't divide the nebentype conductor, then f can't be CM). \n> \n> (Also, in the code for `q_expansion_bound`, did someone really seriously think that the best way to loop over the divisors of M was to loop over `prime_range(M+1)` and ignore all primes which don't divide M?)",
    "created_at": "2017-11-13T21:21:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259112",
    "user": "https://github.com/adeines"
}
```

Hi David, while you are correct (that is not a good way to iterate over the divisors of M), the authors are new contributors.  If we want to foster new developers it is perhaps better to phrase things so that they can learn better coding practices as opposed to making fun of them in a public forum.  Also, this is partially my fault as the original reviewer.  I should have caught this and mentioned a better way to iterate.


Replying to [comment:18 davidloeffler]:
> I suspect this won't make much difference in practice; the running time will be overwhelmingly dominated by the computation of Fourier coefficients anyway. 
> 
> However, I think the code can be much speeded up by not computing all the coefficients up to `bound` at once but rather doing this in a loop computing coefficients one at a time and checking them against the candidate characters; if doesn't have CM, then we will almost certainly spot this long before we get up to `bound`. One can also rule out some trivial cases early on (e.g. if there is any prime q which exactly divides the level and which doesn't divide the nebentype conductor, then f can't be CM). 
> 
> (Also, in the code for `q_expansion_bound`, did someone really seriously think that the best way to loop over the divisors of M was to loop over `prime_range(M+1)` and ignore all primes which don't divide M?)



---

archive/issue_comments_259113.json:
```json
{
    "body": "Hi Aly: that's a fair point. I didn't realise the original authors were first-time contributors, and I apologise for any offence caused. \n\nJust in case any of the original authors are still reading this: a faster and simpler way of iterating over the prime factors of M would be  is something like\n\n```\nfor p in M.prime_divisors():\n    ...\n```",
    "created_at": "2017-11-14T09:46:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259113",
    "user": "https://github.com/loefflerd"
}
```

Hi Aly: that's a fair point. I didn't realise the original authors were first-time contributors, and I apologise for any offence caused. 

Just in case any of the original authors are still reading this: a faster and simpler way of iterating over the prime factors of M would be  is something like

```
for p in M.prime_divisors():
    ...
```



---

archive/issue_comments_259114.json:
```json
{
    "body": "I've just uploaded a new git branch which is based on the original code by Lang et al, but with some of the efficiency improvements we discussed added. (I also moved the code from `ModularFormElement` to `ModularForm_abstract`, since `Newform` objects don't inherit from `ModularFormElement`.) \n\nAly, John: can you check and see if it looks kosher? It would be good to get this function into Sage at last, since it is nearly 2 years since the original code was submitted.\n\n---\nNew commits:",
    "created_at": "2017-11-14T17:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259114",
    "user": "https://github.com/loefflerd"
}
```

I've just uploaded a new git branch which is based on the original code by Lang et al, but with some of the efficiency improvements we discussed added. (I also moved the code from `ModularFormElement` to `ModularForm_abstract`, since `Newform` objects don't inherit from `ModularFormElement`.) 

Aly, John: can you check and see if it looks kosher? It would be good to get this function into Sage at last, since it is nearly 2 years since the original code was submitted.

---
New commits:



---

archive/issue_comments_259115.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2017-11-14T17:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259115",
    "user": "https://github.com/loefflerd"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_259116.json:
```json
{
    "body": "The Sage patch-bot (which automatically tests code from \"needs review\" tickets) seems to be ignoring this ticket. I suspect this is because it (stupidly) ignores code by new Sage users.\n\nHence I am **temporarily removing** most of the authors from the ticket \"Authors\" field. I am leaving Amy Feaver because the patchbot apparently knows who she is already.  The missing authors (Jaclyn Lang, Lubjana Beshaj, Michelle Kovesi) should be restored before this ticket is marked closed. \n\nJaclyn, Lubjana, Michelle: please don't take this personally -- the patchbot is a strange and clunky piece of software!",
    "created_at": "2017-11-14T20:50:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259116",
    "user": "https://github.com/loefflerd"
}
```

The Sage patch-bot (which automatically tests code from "needs review" tickets) seems to be ignoring this ticket. I suspect this is because it (stupidly) ignores code by new Sage users.

Hence I am **temporarily removing** most of the authors from the ticket "Authors" field. I am leaving Amy Feaver because the patchbot apparently knows who she is already.  The missing authors (Jaclyn Lang, Lubjana Beshaj, Michelle Kovesi) should be restored before this ticket is marked closed. 

Jaclyn, Lubjana, Michelle: please don't take this personally -- the patchbot is a strange and clunky piece of software!



---

archive/issue_comments_259117.json:
```json
{
    "body": "You can easily bypass that by running your own patchbot client..",
    "created_at": "2017-11-14T21:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259117",
    "user": "https://github.com/fchapoton"
}
```

You can easily bypass that by running your own patchbot client..



---

archive/issue_comments_259118.json:
```json
{
    "body": "This:\n\n```\n`self`\n```\nis wrong, and should be instead\n\n```\n``self``\n```\nIf you feel you do not master the rst syntax, then you should build the doc and look at  it.",
    "created_at": "2017-11-14T21:16:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259118",
    "user": "https://github.com/fchapoton"
}
```

This:

```
`self`
```
is wrong, and should be instead

```
``self``
```
If you feel you do not master the rst syntax, then you should build the doc and look at  it.



---

archive/issue_comments_259119.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-15T07:05:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259119",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_259120.json:
```json
{
    "body": "> If you feel you do not master the rst syntax, then you should build the doc and look at it.\n\n\nThis is actually rather difficult to do if you don't have direct access to a machine powerful enough to run Sage; I do all my Sage hacking via SSH to a remote server, and reading the doc output is difficult under those circumstances. (There are tricks with HTTP over SSH tunnels etc, but it's fiddly to set up.)\n\nIt used to be possible at least to run the docbuild script and look at the output logs, but this has been made much more difficult by the switch to parallel building of the documentation: this has meant that the output of the docbuild script is now almost completely incomprehensible, with any ReST formatting error messages swamped in huge amounts of routine junk output. \n\nAnyway, I have uploaded a patch with precisely 3 bytes of changes, fixing the issues identified by the patchbot.",
    "created_at": "2017-11-15T07:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259120",
    "user": "https://github.com/loefflerd"
}
```

> If you feel you do not master the rst syntax, then you should build the doc and look at it.


This is actually rather difficult to do if you don't have direct access to a machine powerful enough to run Sage; I do all my Sage hacking via SSH to a remote server, and reading the doc output is difficult under those circumstances. (There are tricks with HTTP over SSH tunnels etc, but it's fiddly to set up.)

It used to be possible at least to run the docbuild script and look at the output logs, but this has been made much more difficult by the switch to parallel building of the documentation: this has meant that the output of the docbuild script is now almost completely incomprehensible, with any ReST formatting error messages swamped in huge amounts of routine junk output. 

Anyway, I have uploaded a patch with precisely 3 bytes of changes, fixing the issues identified by the patchbot.



---

archive/issue_comments_259121.json:
```json
{
    "body": "(The ticket now has a green light from patchbot, so I am restoring the missing authors.)",
    "created_at": "2017-11-15T09:03:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259121",
    "user": "https://github.com/loefflerd"
}
```

(The ticket now has a green light from patchbot, so I am restoring the missing authors.)



---

archive/issue_comments_259122.json:
```json
{
    "body": "I wrote some minor comments yesterday, but today they are not here, and I am not going to repeat them.  As soon as the light goes green again I am happy for this to be merged.",
    "created_at": "2017-11-19T15:41:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259122",
    "user": "https://github.com/JohnCremona"
}
```

I wrote some minor comments yesterday, but today they are not here, and I am not going to repeat them.  As soon as the light goes green again I am happy for this to be merged.



---

archive/issue_comments_259123.json:
```json
{
    "body": "> As soon as the light goes green again I am happy for this to be merged.\n\nIt won't, because of the two patchbot runs with the current version of the code, one succeeded and the other failed due to a totally unrelated error:\n\n```\nsage -t --long src/sage/graphs/matchpoly.pyx  # Timed out\n```\nSince this obviously has nothing to do with the present ticket I am interpreting your comment as a positive review.",
    "created_at": "2017-11-19T17:58:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259123",
    "user": "https://github.com/loefflerd"
}
```

> As soon as the light goes green again I am happy for this to be merged.

It won't, because of the two patchbot runs with the current version of the code, one succeeded and the other failed due to a totally unrelated error:

```
sage -t --long src/sage/graphs/matchpoly.pyx  # Timed out
```
Since this obviously has nothing to do with the present ticket I am interpreting your comment as a positive review.



---

archive/issue_comments_259124.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-11-19T17:58:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259124",
    "user": "https://github.com/loefflerd"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_259125.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-12-14T12:40:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18932#issuecomment-259125",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_053238.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-12-14T12:40:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18932",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18932#event-53238"
}
```
