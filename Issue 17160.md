# Issue 17160: Allow gcc 4.9.2 to build with clang

Issue created by migration from Trac.

Original creator: kcrisman

Original creation time: 2014-11-25 17:16:20

If one doesn't yet have a Sage gcc built on reasonably modern OS X, we use `clang` to build it, and then `gcc` is used in upgrades.  However, the gcc-4.9.x introduced in Sage 6.4.rc0 (in an rc? really?) has some code that at one point compiled okay with clang, but now requires `clang++` because [cpp idioms are now being used](http://comments.gmane.org/gmane.comp.gcc.bugs/413564).  See [this sage-release thread](https://groups.google.com/forum/#!topic/sage-release/-1qsPqG0Zxg) for more details.


---

Comment by kcrisman created at 2014-11-25 17:17:06

This seems to work for me.  Best to try with Xcode < 5.0, though perhaps the same problem creeps in with newer ones as well.


---

Comment by kcrisman created at 2014-11-25 17:17:06

Changing status from new to needs_review.


---

Comment by vbraun created at 2014-11-25 17:23:15

lgtm... feel free to set to positive review once you have verified that it fixes your problem.


---

Comment by vbraun created at 2014-11-25 17:24:09

PS: Gcc was upgraded because it is required for OSX 10.10


---

Comment by kcrisman created at 2014-11-25 17:31:41

> lgtm... feel free to set to positive review once you have verified that it fixes your problem.
Thanks for looking at this.  Once gcc finishes building successfully (very slow since I set it to `make -j1` in case the log proved useful) I'll probably start a new tarball and make from scratch to verify.
> PS: Gcc was upgraded because it is required for OSX 10.10
Got it.


---

Comment by jdemeyer created at 2014-11-25 18:27:54

The fix obviously makes sense.


---

Comment by kcrisman created at 2014-11-25 19:10:28


```
real	38m30.992s
user	78m43.813s
sys	6m37.047s
Successfully installed gcc-4.9.2
Deleting temporary build directory
```

I'll open a followup if for some reason there are problems with this gcc itself because of something, but I think it will be okay based on the discussions I read online about this.


---

Comment by kcrisman created at 2014-11-25 19:10:28

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-11-27 22:24:51

Resolution: fixed
