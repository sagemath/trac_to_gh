# Issue 17160: Allow gcc 4.9.2 to build with clang

archive/issues_017160.json:
```json
{
    "body": "If one doesn't yet have a Sage gcc built on reasonably modern OS X, we use `clang` to build it, and then `gcc` is used in upgrades.  However, the gcc-4.9.x introduced in Sage 6.4.rc0 (in an rc? really?) has some code that at one point compiled okay with clang, but now requires `clang++` because [cpp idioms are now being used](http://comments.gmane.org/gmane.comp.gcc.bugs/413564).  See [this sage-release thread](https://groups.google.com/forum/#!topic/sage-release/-1qsPqG0Zxg) for more details.\n\nIssue created by migration from https://trac.sagemath.org/ticket/17397\n\n",
    "created_at": "2014-11-25T17:16:20Z",
    "labels": [
        "component: build",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "Allow gcc 4.9.2 to build with clang",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17160",
    "user": "https://github.com/kcrisman"
}
```
If one doesn't yet have a Sage gcc built on reasonably modern OS X, we use `clang` to build it, and then `gcc` is used in upgrades.  However, the gcc-4.9.x introduced in Sage 6.4.rc0 (in an rc? really?) has some code that at one point compiled okay with clang, but now requires `clang++` because [cpp idioms are now being used](http://comments.gmane.org/gmane.comp.gcc.bugs/413564).  See [this sage-release thread](https://groups.google.com/forum/#!topic/sage-release/-1qsPqG0Zxg) for more details.

Issue created by migration from https://trac.sagemath.org/ticket/17397





---

archive/issue_comments_227849.json:
```json
{
    "body": "This seems to work for me.  Best to try with Xcode < 5.0, though perhaps the same problem creeps in with newer ones as well.",
    "created_at": "2014-11-25T17:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-227849",
    "user": "https://github.com/kcrisman"
}
```

This seems to work for me.  Best to try with Xcode < 5.0, though perhaps the same problem creeps in with newer ones as well.



---

archive/issue_comments_227850.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-11-25T17:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-227850",
    "user": "https://github.com/kcrisman"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_227851.json:
```json
{
    "body": "lgtm... feel free to set to positive review once you have verified that it fixes your problem.",
    "created_at": "2014-11-25T17:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-227851",
    "user": "https://github.com/vbraun"
}
```

lgtm... feel free to set to positive review once you have verified that it fixes your problem.



---

archive/issue_comments_227852.json:
```json
{
    "body": "PS: Gcc was upgraded because it is required for OSX 10.10",
    "created_at": "2014-11-25T17:24:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-227852",
    "user": "https://github.com/vbraun"
}
```

PS: Gcc was upgraded because it is required for OSX 10.10



---

archive/issue_comments_227853.json:
```json
{
    "body": "> lgtm... feel free to set to positive review once you have verified that it fixes your problem.\n  \nThanks for looking at this.  Once gcc finishes building successfully (very slow since I set it to `make -j1` in case the log proved useful) I'll probably start a new tarball and make from scratch to verify.\n> PS: Gcc was upgraded because it is required for OSX 10.10\n\nGot it.",
    "created_at": "2014-11-25T17:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-227853",
    "user": "https://github.com/kcrisman"
}
```

> lgtm... feel free to set to positive review once you have verified that it fixes your problem.
  
Thanks for looking at this.  Once gcc finishes building successfully (very slow since I set it to `make -j1` in case the log proved useful) I'll probably start a new tarball and make from scratch to verify.
> PS: Gcc was upgraded because it is required for OSX 10.10

Got it.



---

archive/issue_comments_227854.json:
```json
{
    "body": "The fix obviously makes sense.",
    "created_at": "2014-11-25T18:27:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-227854",
    "user": "https://github.com/jdemeyer"
}
```

The fix obviously makes sense.



---

archive/issue_comments_227855.json:
```json
{
    "body": "```\nreal\t38m30.992s\nuser\t78m43.813s\nsys\t6m37.047s\nSuccessfully installed gcc-4.9.2\nDeleting temporary build directory\n```\nI'll open a followup if for some reason there are problems with this gcc itself because of something, but I think it will be okay based on the discussions I read online about this.",
    "created_at": "2014-11-25T19:10:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-227855",
    "user": "https://github.com/kcrisman"
}
```

```
real	38m30.992s
user	78m43.813s
sys	6m37.047s
Successfully installed gcc-4.9.2
Deleting temporary build directory
```
I'll open a followup if for some reason there are problems with this gcc itself because of something, but I think it will be okay based on the discussions I read online about this.



---

archive/issue_comments_227856.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-11-25T19:10:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-227856",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_227857.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-11-27T22:24:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-227857",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_050107.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-27T22:24:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17160#event-50107"
}
```
