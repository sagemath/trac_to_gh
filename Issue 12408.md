# Issue 12408: set_random_seed does not seed Python's random number generator

Issue created by migration from https://trac.sagemath.org/ticket/12580

Original creator: mariah

Original creation time: 2012-02-24 19:41:13

Assignee: jason

William Stein reported on sage.devel:[http://groups.google.com/group/sage-devel/browse_thread/thread/5fa8e919dd83b4b7](http://groups.google.com/group/sage-devel/browse_thread/thread/5fa8e919dd83b4b7):


```
sage: import random
sage: set_random_seed(0); random.randint(0,20)
3
sage: set_random_seed(0); random.randint(0,20)
8
```


William said "Basically, I expected that Sage's "set_random_seed" would actually set
*Python*'s own random seed, given that it sets gp, gap, maxima, etc." 



---

Comment by nbruin created at 2012-02-24 22:09:18

From the documentation of `sage.misc.randstate`:


```
Note that wrappers of all the random number generation methods from
Python's :mod:`random` module are available at the Sage command
line, and these wrappers are properly affected by :meth:`set_random_seed`. ::
```


Indeed,

```
sage: set_random_seed(0); randint(0,20)
2
sage: set_random_seed(0); randint(0,20)
2
sage: set_random_seed(0); randint(0,20)
2
sage: type(randint(0,20))
<type 'int'>
```


So, Witty's design was to wrap python's random functionality to get it to respect set_random_seed rather than reach into python and change the seed there. Perhaps he had thread-safety in mind or something like that?

With that design, the behaviour noted in this ticket is not a bug but a feature that arises from circumventing the advertised API.

This ticket can still be considered as a request: can we reconsider the design decisions made in `randomstate`, of course.


---

Comment by rws created at 2014-08-11 07:53:07

Changing priority from critical to major.


---

Comment by rws created at 2014-08-11 07:53:07

Certainly not critical. Not a defect either.


---

Comment by rws created at 2014-08-11 07:53:07

Changing type from defect to enhancement.
