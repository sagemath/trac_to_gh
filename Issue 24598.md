# Issue 24598: Change error message in construction of polyhedron object

Issue created by migration from https://trac.sagemath.org/ticket/24835

Original creator: jipilab

Original creation time: 2018-02-26 11:37:22

CC:  vdelecroix moritz

Keywords: days93

The current error message given by


```
    sage: Polyhedron([[sqrt(2)]])
    Traceback (most recent call last):
    ...
    ValueError: for polyhedra with floating point numbers, the only allowed ring is RDF with backend 'cdd'
```


should be replaced by "ValueError: the only allowed inexact ring is RDF with backend 'cdd'"


---

Comment by moritz created at 2018-02-26 12:00:53

Wouldn't it be good, if it automatically detected `AA`? (Perhaps not..)


```
sage: P = Polyhedron([[sqrt(2)]], base_ring=AA)
sage: P.vertices()
(A vertex at (1.414213562373095?),)
```



---

Comment by vdelecroix created at 2018-02-26 13:42:02

Replying to [comment:1 moritz]:
> Wouldn't it be good, if it automatically detected `AA`? (Perhaps not..)
> 
> {{{
> sage: P = Polyhedron([This is the Trac macro *sqrt* that was inherited from the migration called with arguments (2))](https://trac.sagemath.org/wiki/WikiMacros#sqrt-macro), base_ring=AA)
> sage: P.vertices()
> (A vertex at (1.414213562373095?),)
> }}}

I don't want to special case input coming from the symbolic ring in the polyhedron code. This is the kind of thing that would have to be repeated everywhere. So either `sqrt(2)` should be a proper number field element (possibly AA) or this will stay as it is.


---

Comment by jipilab created at 2018-02-26 13:51:36

Replying to [comment:1 moritz]:
> Wouldn't it be good, if it automatically detected `AA`? (Perhaps not..)
> 
> {{{
> sage: P = Polyhedron([This is the Trac macro *sqrt* that was inherited from the migration called with arguments (2))](https://trac.sagemath.org/wiki/WikiMacros#sqrt-macro), base_ring=AA)
> sage: P.vertices()
> (A vertex at (1.414213562373095?),)
> }}}

Forcing the base ring to be algebraic numbers is a bit "DWIM"... so I would allow it as it is above. If the user is lazy and still puts the base ring to be `AA` with square roots everywhere... it's still nice to be able to get what you want, but it should not allow to simply but symbolic stuff at all.


---

Comment by jipilab created at 2018-02-26 14:06:43

New commits:


---

Comment by jipilab created at 2018-02-26 14:39:20

Changing status from new to needs_review.


---

Comment by git created at 2018-02-26 21:02:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-03-06 16:13:30

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-02 19:34:12

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by moritz created at 2018-04-04 17:13:47

Changing status from needs_review to positive_review.


---

Comment by moritz created at 2018-04-04 17:13:47

Looks good!


---

Comment by git created at 2018-04-04 20:37:23

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2018-04-04 20:37:23

Changing status from positive_review to needs_review.


---

Comment by jipilab created at 2018-04-04 20:38:05

Merge the dependency.


---

Comment by moritz created at 2018-04-05 14:41:55

Changing status from needs_review to positive_review.


---

Comment by jipilab created at 2018-04-09 16:29:20

Changing keywords from "days93" to "days93, IMA-PolyGeom".


---

Comment by vbraun created at 2018-05-08 17:26:13

Resolution: fixed
