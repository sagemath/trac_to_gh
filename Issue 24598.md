# Issue 24598: Change error message in construction of polyhedron object

archive/issues_024598.json:
```json
{
    "body": "CC:  vdelecroix moritz\n\nKeywords: days93\n\nThe current error message given by\n\n\n```\n    sage: Polyhedron([[sqrt(2)]])\n    Traceback (most recent call last):\n    ...\n    ValueError: for polyhedra with floating point numbers, the only allowed ring is RDF with backend 'cdd'\n```\n\n\nshould be replaced by \"ValueError: the only allowed inexact ring is RDF with backend 'cdd'\"\n\nIssue created by migration from https://trac.sagemath.org/ticket/24835\n\n",
    "created_at": "2018-02-26T11:37:22Z",
    "labels": [
        "geometry",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "Change error message in construction of polyhedron object",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24598",
    "user": "jipilab"
}
```
CC:  vdelecroix moritz

Keywords: days93

The current error message given by


```
    sage: Polyhedron([[sqrt(2)]])
    Traceback (most recent call last):
    ...
    ValueError: for polyhedra with floating point numbers, the only allowed ring is RDF with backend 'cdd'
```


should be replaced by "ValueError: the only allowed inexact ring is RDF with backend 'cdd'"

Issue created by migration from https://trac.sagemath.org/ticket/24835





---

archive/issue_comments_345008.json:
```json
{
    "body": "Wouldn't it be good, if it automatically detected `AA`? (Perhaps not..)\n\n\n```\nsage: P = Polyhedron([[sqrt(2)]], base_ring=AA)\nsage: P.vertices()\n(A vertex at (1.414213562373095?),)\n```\n",
    "created_at": "2018-02-26T12:00:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24598#issuecomment-345008",
    "user": "moritz"
}
```

Wouldn't it be good, if it automatically detected `AA`? (Perhaps not..)


```
sage: P = Polyhedron([[sqrt(2)]], base_ring=AA)
sage: P.vertices()
(A vertex at (1.414213562373095?),)
```




---

archive/issue_comments_345009.json:
```json
{
    "body": "Replying to [comment:1 moritz]:\n> Wouldn't it be good, if it automatically detected `AA`? (Perhaps not..)\n> \n> {{{\n> sage: P = Polyhedron([This is the Trac macro *sqrt* that was inherited from the migration called with arguments (2))](https://trac.sagemath.org/wiki/WikiMacros#sqrt-macro), base_ring=AA)\n> sage: P.vertices()\n> (A vertex at (1.414213562373095?),)\n> }}}\n\nI don't want to special case input coming from the symbolic ring in the polyhedron code. This is the kind of thing that would have to be repeated everywhere. So either `sqrt(2)` should be a proper number field element (possibly AA) or this will stay as it is.",
    "created_at": "2018-02-26T13:42:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24598#issuecomment-345009",
    "user": "vdelecroix"
}
```

Replying to [comment:1 moritz]:
> Wouldn't it be good, if it automatically detected `AA`? (Perhaps not..)
> 
> {{{
> sage: P = Polyhedron([This is the Trac macro *sqrt* that was inherited from the migration called with arguments (2))](https://trac.sagemath.org/wiki/WikiMacros#sqrt-macro), base_ring=AA)
> sage: P.vertices()
> (A vertex at (1.414213562373095?),)
> }}}

I don't want to special case input coming from the symbolic ring in the polyhedron code. This is the kind of thing that would have to be repeated everywhere. So either `sqrt(2)` should be a proper number field element (possibly AA) or this will stay as it is.



---

archive/issue_comments_345010.json:
```json
{
    "body": "Replying to [comment:1 moritz]:\n> Wouldn't it be good, if it automatically detected `AA`? (Perhaps not..)\n> \n> {{{\n> sage: P = Polyhedron([This is the Trac macro *sqrt* that was inherited from the migration called with arguments (2))](https://trac.sagemath.org/wiki/WikiMacros#sqrt-macro), base_ring=AA)\n> sage: P.vertices()\n> (A vertex at (1.414213562373095?),)\n> }}}\n\nForcing the base ring to be algebraic numbers is a bit \"DWIM\"... so I would allow it as it is above. If the user is lazy and still puts the base ring to be `AA` with square roots everywhere... it's still nice to be able to get what you want, but it should not allow to simply but symbolic stuff at all.",
    "created_at": "2018-02-26T13:51:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24598#issuecomment-345010",
    "user": "jipilab"
}
```

Replying to [comment:1 moritz]:
> Wouldn't it be good, if it automatically detected `AA`? (Perhaps not..)
> 
> {{{
> sage: P = Polyhedron([This is the Trac macro *sqrt* that was inherited from the migration called with arguments (2))](https://trac.sagemath.org/wiki/WikiMacros#sqrt-macro), base_ring=AA)
> sage: P.vertices()
> (A vertex at (1.414213562373095?),)
> }}}

Forcing the base ring to be algebraic numbers is a bit "DWIM"... so I would allow it as it is above. If the user is lazy and still puts the base ring to be `AA` with square roots everywhere... it's still nice to be able to get what you want, but it should not allow to simply but symbolic stuff at all.



---

archive/issue_comments_345011.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-02-26T14:06:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24598#issuecomment-345011",
    "user": "jipilab"
}
```

New commits:



---

archive/issue_comments_345012.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-02-26T14:39:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24598#issuecomment-345012",
    "user": "jipilab"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_345013.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-02-26T21:02:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24598#issuecomment-345013",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345014.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-03-06T16:13:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24598#issuecomment-345014",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345015.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2018-04-02T19:34:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24598#issuecomment-345015",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_345016.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-04-04T17:13:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24598#issuecomment-345016",
    "user": "moritz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_345017.json:
```json
{
    "body": "Looks good!",
    "created_at": "2018-04-04T17:13:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24598#issuecomment-345017",
    "user": "moritz"
}
```

Looks good!



---

archive/issue_comments_345018.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2018-04-04T20:37:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24598#issuecomment-345018",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_345019.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2018-04-04T20:37:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24598#issuecomment-345019",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_345020.json:
```json
{
    "body": "Merge the dependency.",
    "created_at": "2018-04-04T20:38:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24598#issuecomment-345020",
    "user": "jipilab"
}
```

Merge the dependency.



---

archive/issue_comments_345021.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-04-05T14:41:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24598#issuecomment-345021",
    "user": "moritz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_345022.json:
```json
{
    "body": "Changing keywords from \"days93\" to \"days93, IMA-PolyGeom\".",
    "created_at": "2018-04-09T16:29:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24598#issuecomment-345022",
    "user": "jipilab"
}
```

Changing keywords from "days93" to "days93, IMA-PolyGeom".



---

archive/issue_comments_345023.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-05-08T17:26:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24598#issuecomment-345023",
    "user": "vbraun"
}
```

Resolution: fixed
