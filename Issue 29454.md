# Issue 29454: EllipticCurve_generic does not reduce points correctly in Z/NZ if N is composite

Issue created by migration from https://trac.sagemath.org/ticket/29691

Original creator: heluani

Original creation time: 2020-05-14 18:30:43

Keywords: elliptic curves, reduction

The current method `__call__` calls `_reduce_point` which only takes a characteristic `p` as a parameter and returns the point over the curve base changed to `GF(p)`. This works for finite fields but does not for `Z/NZ`.

For example for the curve:
`y^2 + y == x^3 - x`
the point `(2:-3:8)` does not reduce correctly mod `4`:

```
sage: E = EllipticCurve([0,0,1,-1,0]);E4 = E.change_ring(Integers(4))
sage: E
Elliptic Curve defined by y^2 + y = x^3 - x over Rational Field
sage: P = E(2,-3,8); P
(1/4 : -3/8 : 1)
sage: E4(P)
(0 : 1 : 0)
```

And the reduction should be `(2:1:0)`. 

This simple patch solves this issue. It requires #29690 however. 


---

Comment by heluani created at 2020-05-14 18:39:46

Changing status from new to needs_review.


---

Comment by git created at 2020-05-14 18:51:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2020-05-15 21:36:13

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2020-05-15 22:48:30

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2021-03-24 02:04:25

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.


---

Comment by mkoeppe created at 2021-07-19 00:44:56

Setting a new milestone for this ticket based on a cursory review.


---

Comment by mkoeppe created at 2021-12-18 19:53:12

Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.
