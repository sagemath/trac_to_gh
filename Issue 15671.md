# Issue 15671: guava must be explicitly loaded

Issue created by migration from Trac.

Original creator: dimpase

Original creation time: 2014-03-08 00:31:00

CC:  ppurka wdj niles

ADD DESCRIPTION


---

Comment by dimpase created at 2014-03-08 00:40:49

New commits:


---

Comment by dimpase created at 2014-03-08 01:05:37

Changing status from new to needs_review.


---

Comment by ppurka created at 2014-03-08 02:10:01

Somehow this is not in my version of sage (6.1.beta2) for the file guava.py:

```
sage: BinaryReedMullerCode(2, 3)
/home/punarbasu/tmp/sage/src/bin/sage-ipython:1: DeprecationWarning: This method soon will not be available in that way anymore. To use it, you can now call it by typing codes.BinaryReedMullerCode
See http://trac.sagemath.org/15445 for details.
  #!/usr/bin/env python
Linear code of length 8, dimension 7 over Finite Field of size 2
sage: BinaryReedMullerCode(1, 3) 
Linear code of length 8, dimension 4 over Finite Field of size 2
sage: codes.QuasiQuadraticResidueCode(3)
Linear code of length 6, dimension 3 over Finite Field of size 2
sage: codes.Rando
codes.RandomLinearCode       codes.RandomLinearCodeGuava  
sage: codes.RandomLinearCodeGuava(4, 2, GF(2))
Linear code of length 4, dimension 2 over Finite Field of size 2
```



---

Comment by dimpase created at 2014-03-08 10:21:24

Replying to [comment:5 ppurka]:
> Somehow this is not in my version of sage (6.1.beta2) for the file guava.py:

this must be the last GAP update. What does your gap_console() print? In my case:

```
sage: gap_console()
 ┌───────┐   GAP, Version 4.7.4 of 20-Feb-2014 (free software, GPL)
 │  GAP  │   http://www.gap-system.org
 └───────┘   Architecture: x86_64-apple-darwin10.8.0-gcc-default64
 Libs used:  gmp, readline
 Loading the library and packages ...
 Packages:   Alnuth 3.0.0, AutPGrp 1.5, CTblLib 1.2.2, FactInt 1.5.3, GAPDoc 1.5.1, LAGUNA 3.6.3, Polycyclic 2.11
 Try '?help' for help. See also  '?copyright' and  '?authors'
gap> 
```

so no guava loaded, even after `gap_packages` spkg are installed.


---

Comment by dimpase created at 2014-03-08 11:00:02

Please see http://trac.sagemath.org/ticket/15873#comment:26


---

Comment by vbraun created at 2014-03-08 11:53:04

Why does GAP disable guava by default? Maybe there are some potential name clashes lurking there? Is it really a good idea to patch this out? IMHO the prudent thing to do is to only load it if needed as in this patch.


---

Comment by dimpase created at 2014-03-08 17:36:58

Replying to [comment:8 vbraun]:
> Why does GAP disable guava by default? Maybe there are some potential name clashes lurking there? Is it really a good idea to patch this out? IMHO the prudent thing to do is to only load it if needed as in this patch.

IMHO guava should not be preloaded, given its limited scope. It was a remnant from earlier Sage versions (with GAP-4.4, IIRC) where it was explicitly preloaded directly inside the GAP spkg. That's why I would rather prefer to go ahead with the patch on this ticket.


---

Comment by vbraun created at 2014-03-08 17:48:01

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-03-13 21:05:45

Resolution: fixed
