# Issue 24364: 3D plot missing axis labels and tick numbers with viewer='threejs' and displayed in chrome.

Issue created by migration from Trac.

Original creator: andy

Original creation time: 2018-01-28 14:31:50

CC:  egourgoulhon

Keywords: threejs plot3d

This one liner:

line([(0,0,0),(1,1,1)]).show(viewer="threejs")

does not display correctly in Chrome Version 63.0.3239.132 (Official Build) Built on Ubuntu , running on Ubuntu 17.10 (64-bit) or the same version in Windows. Sage 8.0 and 8.2beta3 produce the same HTML, other than the location of the threejs code. Both don't display in Chrome.

It displays fine in firefox 58 under Ubuntu 17.10.

My javascript skills are pretty limited. I did step through the code in both browsers. I didn't see any obvious differences

I'll attach screen shots.




---

Attachment

Firefox display


---

Attachment

Chrome display


---

Attachment

Generated HTML for plot


---

Comment by paulmasson created at 2019-10-29 22:25:54

Is this still a problem or has it gone away? Sounds like a browser issue.


---

Comment by andy created at 2019-10-30 00:36:58

Paul, it is still an issue under Ubuntu 19.04 with 9.0beta3

With Chrome 76.0.3809.100. Viewers threejs and tachyon do NOT display numbers and ticks. Viewers canvas3d, jmol and wavefront work.

Under Firfox 70.0, only viewer threejs does not display tics and numbers.


---

Comment by @jcamp0x2a created at 2020-04-28 22:30:18

Hello. I was able to replicate this bug on my Ubuntu machine in Chrome, and I've pushed a fix for review.

The z-component was left undefined when setting the text sprites' scales. I'm not sure why this bug didn't also appear in Firefox or on Windows. Particulars of the javascript engines with each browser/platform I suppose.

Best regards!


---

Comment by @jcamp0x2a created at 2020-04-28 22:30:18

Changing status from new to needs_review.


---

Comment by @jcamp0x2a created at 2020-04-28 22:32:50

Example HTML plot after the changes


---

Comment by paulmasson created at 2020-04-28 23:00:14

Changing status from needs_review to positive_review.


---

Attachment

Your modification is in line with Three.js examples, so positive review. Curious that it worked on most machines without this. Nice catch!


---

Comment by vbraun created at 2020-05-04 06:40:44

Resolution: fixed
