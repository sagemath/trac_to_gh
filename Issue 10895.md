# Issue 10895: Overhaul matrix stack, augment

Issue created by migration from Trac.

Original creator: rbeezer

Original creation time: 2011-03-21 20:25:43

Assignee: jason, was

This patch overhauls, consolidates, fixes and expands matrix augmentation and stacking.

Fixes:
  * subdivisions of matrices are generally not preserved under these operations, but now are

Features:
  * a vector may now be supplied as a second argument across all routines

Consolidation:
  * there is some standardization of variable names and techniques across the routines

Expansion:
  * augment() for dense integer matrices is uncommented and working now

Documentation:
  * new features (vector argument, subdivisions) have been documented where added
  * a general upgrade in documentation would be valuable, on another ticket

"general" patch adds vector argument and subdivision support to the generic `stack()` method.  Subdivision management is split out as helper methods for use with routines in the "special" patch.

"special" patch works on routines for dense integer matrices, mod 2 matrices, and generic sparse matrices.  It also moves the generic matrix `augment()`  to a better location in the source (it was left in place so changes could be seen more readily on the "general" patch).


---

Attachment


---

Attachment


---

Comment by rbeezer created at 2011-03-21 21:29:10

Changing status from new to needs_review.


---

Comment by kini created at 2011-03-22 02:30:55

Changing status from needs_review to positive_review.


---

Comment by kini created at 2011-03-22 02:30:55

Three doctests failed on sage.math. I reran them and they failed to fail (one of them was devel/sage/sage/tests/startup.py ), so everything looks good. I did some minor formatting to keep line lengths down according to PEP 8 and will attach a reviewer patch accordingly, but feel free to veto it. Positive review!


---

Attachment

line wrapping


---

Comment by kini created at 2011-03-22 02:34:15

(for patchbot)


---

Comment by rbeezer created at 2011-03-22 03:15:22

Keshav,

Thanks for the review!  The changes look good - thanks for those as well.

Rob


---

Comment by jdemeyer created at 2011-03-28 09:23:23

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2011-03-28 09:23:23

Change the commit message of the last patch such that it contains the ticket number.


---

Attachment


---

Comment by rbeezer created at 2011-03-28 17:06:04

Changing status from needs_work to positive_review.


---

Comment by rbeezer created at 2011-03-28 17:06:04

Commit message fixed in v2 version of reviewer patch.


---

Comment by jdemeyer created at 2011-04-04 09:40:22

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2011-04-04 09:40:22

This patch conflicts with #4983.


---

Comment by jhpalmieri created at 2011-04-04 18:37:38

Changing status from needs_work to positive_review.


---

Comment by jhpalmieri created at 2011-04-04 18:37:38

Let's leave this one alone.  I'll rebase #4983.  I'm setting this back to "positive review".


---

Comment by jdemeyer created at 2011-04-05 11:59:09

Resolution: fixed
