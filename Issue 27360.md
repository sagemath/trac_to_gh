# Issue 27360: igraph requires -lblas and -llapack

Issue created by migration from https://trac.sagemath.org/ticket/27597

Original creator: jdemeyer

Original creation time: 2019-04-02 18:53:23

CC:  dimpase

`igraph` doesn't build on some systems:

```
[igraph-0.7.1999] /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.3/../../../../x86_64-pc-linux-gnu/bin/ld: cannot find -lblas
[igraph-0.7.1999] /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.3/../../../../x86_64-pc-linux-gnu/bin/ld: cannot find -llapack
```


Ideally, it _should_ use OpenBLAS but it doesn't. Note that linking against OpenBLAS should be done with `-lopenblas`, not `-lblas`.


---

Comment by dimpase created at 2019-04-02 23:36:54

in fact, it's entirely a bug introduced by me. The have very similar options
--with-glpk=external, --with-blas=external, meaning totally different things---cause they ship a version of glpk, but do not ship one for blas/lapack, which are actually optional.

So we should not link them at all (I won't try making an openblas version, I have no idea whether it's supported).


---

Comment by dimpase created at 2019-04-02 23:36:54

Set assignee to dimpase.


---

Comment by chapoton created at 2019-04-08 08:56:36

This should be fixed as soon as possible, as it causes the patchbot sage4 to pollute every ticket with a wrong report.


---

Comment by jdemeyer created at 2019-04-08 10:04:13

What about GLPK? If you want to use the GLPK in Sage, there should be a dependency on it.


---

Comment by git created at 2019-04-08 18:18:02

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by dimpase created at 2019-04-08 18:21:10

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2019-04-09 05:28:49

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2019-04-09 05:28:49

Green bot on sage4. Thanks!


---

Comment by vbraun created at 2019-04-11 16:57:55

Resolution: fixed
