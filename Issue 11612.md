# Issue 11612: Add more sanity checks to Galois Field constructor

Issue created by migration from https://trac.sagemath.org/ticket/11784

Original creator: lftabera

Original creation time: 2011-09-08 15:20:37

Assignee: AlexGhitza

Keywords: begginer

Galois fields admits a modulus argument and by default it checks if the modulus is irreducible mod the characteristic of the field.

However, it does not check that the polynomial is of the right degree.

An example:


```
sage: K=GF(3**2,name='a', modulus=QQ[x](x^3-x+1))
sage: K
Finite Field in a of size 3^2
sage: K.list()
[0, a + 1, 1, 2, 1, 2, 1, 2, 1]
```



---

Comment by lftabera created at 2011-09-20 13:15:22

I have decided that if check_irreducible = False, then the degree of the polynomial is not checked. It is assumed that check_irreducible is there for users that know what they are doing.


---

Comment by lftabera created at 2011-09-20 13:15:22

Changing assignee from AlexGhitza to lftabera.


---

Comment by lftabera created at 2011-09-20 13:16:24

Changing status from new to needs_review.


---

Comment by lftabera created at 2011-11-10 16:36:27

Rebase agains 4.7.2


---

Comment by johanbosman created at 2011-11-10 22:53:44

Changing status from needs_review to needs_work.


---

Comment by johanbosman created at 2011-11-10 22:53:44

Changing keywords from "begginer" to "beginner".


---

Comment by johanbosman created at 2011-11-10 22:53:44

It surprises me that Sage didn't check this, wow.

At a few points, your spacing in the docstring is not in compliance with the Python guideline (see http://www.python.org/dev/peps/pep-0008/).  In order to avoid messiness or sloppiness in the documentation, it would be good to correct this.

For instance:

```
irreducibility modulo p. Also, the modulus has to be of the right degree.
```

The period should be followed by two spaces.

```
sage: L=GF(3**2,name='a', modulus=QQ[x](x-1), check_irreducible=False) 
sage: L.list() #random 
```

In the first line, there should be spaces between the = operator and a space after the first comma.  In the second line, put 2 spaces before # and 1 after #.

It would also be good to put spaces around a few more mathematical operators.  Though I don't think we should be as strict as in the Python guideline here; just do it in cases where it will increase readability (don't do it for ** for instance).


---

Attachment


---

Comment by lftabera created at 2011-11-14 14:50:47

Thanks for realizing this.

I have updated the patch according to the python guidelines. The only one I have not followed is the limit of 79 characters that is surpassed in some exception messages and is not followed for similar code along the Sage library. But  I can also change this. 

I have changed the exception style to Exception("message") style and added a dot in Exception messages.


---

Comment by lftabera created at 2011-11-14 14:50:47

Changing status from needs_work to needs_review.


---

Comment by johanbosman created at 2011-11-15 00:05:20

Changing status from needs_review to positive_review.


---

Comment by johanbosman created at 2011-11-15 00:05:20

Replying to [comment:5 lftabera]:
> Thanks for realizing this.
> 
> I have updated the patch according to the python guidelines. The only one I have not followed is the limit of 79 characters that is surpassed in some exception messages and is not followed for similar code along the Sage library. But  I can also change this. 

It would indeed be better, but I think it is okay like this. 

> I have changed the exception style to Exception("message") style and added a dot in Exception messages.

This is probably much better than Exception, "message" indeed, which everyone uses. :).

The patch looks good now, works, and passes all tests.


---

Comment by jdemeyer created at 2011-11-15 00:24:25

Changing keywords from "beginner" to "beginner GF".


---

Comment by jdemeyer created at 2011-11-16 13:50:31

Resolution: fixed
