# Issue 29942: ModulesWithBasis.linear_combination should be a method of Modules

Issue created by migration from https://trac.sagemath.org/ticket/30179

Original creator: mkoeppe

Original creation time: 2020-07-20 17:13:08

CC:  tscrim egourgoulhon @mjungmath

This method does not need a basis.

Moving it to `Modules` will make it available in `FiniteRankFreeModule`.


```
        def linear_combination(self, iter_of_elements_coeff, factor_on_left=True):
            r"""
            Return the linear combination `\lambda_1 v_1 + \cdots +
            \lambda_k v_k` (resp.  the linear combination `v_1 \lambda_1 +
            \cdots + v_k \lambda_k`) where ``iter_of_elements_coeff`` iterates
            through the sequence `((\lambda_1, v_1), ..., (\lambda_k, v_k))`.

            INPUT:

            - ``iter_of_elements_coeff`` -- iterator of pairs
              ``(element, coeff)`` with ``element`` in ``self`` and
              ``coeff`` in ``self.base_ring()``

            - ``factor_on_left`` -- (optional) if ``True``, the coefficients
              are multiplied from the left; if ``False``, the coefficients
              are multiplied from the right

            EXAMPLES::

                sage: m = matrix([[0,1],[1,1]])
                sage: J.<a,b,c> = JordanAlgebra(m)
                sage: J.linear_combination(((a+b, 1), (-2*b + c, -1)))
                1 + (3, -1)
            """
            if factor_on_left:
                return self.sum(coeff * element
                                for element, coeff in iter_of_elements_coeff)
            else:
                return self.sum(element * coeff
                                for element, coeff in iter_of_elements_coeff)
```



---

Comment by mkoeppe created at 2020-07-21 14:56:13

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-07-21 14:56:13

New commits:


---

Comment by tscrim created at 2020-07-24 01:00:28

Agreed. Addition and scalar multiplications are must-implements for the objects.


---

Comment by tscrim created at 2020-07-24 01:00:28

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2020-07-24 01:03:50

Thanks!


---

Comment by vbraun created at 2020-07-28 22:32:08

Resolution: fixed
