# Issue 31820: sage_setup.setenv: Only set ...PATH variables and LDFLAGS if SAGE_LOCAL differs from SAGE_VENV

Issue created by migration from https://trac.sagemath.org/ticket/32057

Original creator: mkoeppe

Original creation time: 2021-06-24 22:27:37

CC:  fbissey arojas

Here's a different attempt to solve the issue at #31338#comment:13

This will need to be tested with #29039, #31396, for which this mechanism was created.



---

Comment by mkoeppe created at 2021-06-24 22:58:28

New commits:


---

Comment by fbissey created at 2021-06-24 23:10:02

Does what it says on the tin for sage-on-gentoo. No more log pollution.


---

Comment by mkoeppe created at 2021-06-24 23:14:03

Thanks for testing!


---

Comment by fbissey created at 2021-06-24 23:16:02

It is a positive for me but we have to check it ticks all the other boxes you mention in the description.


---

Comment by dimpase created at 2021-06-27 10:19:53

ready for review?


---

Comment by dimpase created at 2021-06-27 10:20:01

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2021-06-27 15:29:45

Sure, let's get this in.


---

Comment by fbissey created at 2021-06-27 20:57:26

Well I am happy to it a glowing review.


---

Comment by fbissey created at 2021-06-27 20:57:26

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-06-27 20:58:34

Thanks!


---

Comment by vbraun created at 2021-07-06 21:29:14

Resolution: fixed
