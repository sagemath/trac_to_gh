# Issue 18485: Fix weight of Nakajima monomials

Issue created by migration from https://trac.sagemath.org/ticket/18722

Original creator: tscrim

Original creation time: 2015-06-17 20:10:24

Assignee: sage-combinat

CC:  sage-combinat bsalisbury1 aschilling

Keywords: crystals, nakajima monomials

With #18453, all weights are computed as the difference of the highest weight to what should be the weight. In particular, any highest weight element has weight 0.


---

Comment by tscrim created at 2015-06-17 20:16:40

Last 10 new commits:


---

Comment by tscrim created at 2015-06-17 20:16:40

Changing status from new to needs_review.


---

Comment by tscrim created at 2015-06-17 20:16:40

Changing type from enhancement to defect.


---

Comment by bsalisbury1 created at 2015-06-17 20:46:40

The following example failed with the original commit:

```
sage: M = crystals.NakajimaMonomials(['A',2,1], RootSystem(['A',2,1]).weight_lattice(extended=True).fundamental_weight(0))
sage: m = M.module_generators[0]
sage: m.weight()
Lambda[0]
```

A conditional was added to `__classcall_private__` of `CrystalsOfNakajimaMonomials` to ensure the weight lattice being used is the extended weight lattice with the underlying Cartan type is affine.

Some doctests needed to be updated so that the input used the extended weight lattice in affine examples.

Doctests passed on my machine, so if you agree with these changes, then you may set the ticket to positive review on my behalf.


---

Comment by git created at 2015-06-17 20:47:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2015-06-17 20:50:51

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2015-06-17 20:50:51

Works for me. Thanks!


---

Comment by vbraun created at 2015-06-19 08:24:55

Resolution: fixed
