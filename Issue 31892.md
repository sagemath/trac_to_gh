# Issue 31892: sage_input is unreliable for elements of ComplexField

Issue created by migration from https://trac.sagemath.org/ticket/32129

Original creator: @mwageringel

Original creation time: 2021-07-04 18:53:58


```
sage: fld = ComplexField(200)
sage: a = fld('0.85425665148473689034386458431097348561089439860408577398333', '20')
sage: sage_input(a, verify=True)
---------------------------------------------------------------------------
AssertionError                            Traceback (most recent call last)
...
AssertionError: Expected 0.85425665148473689034386458431097348561089439860408577398333 + 20.000000000000000000000000000000000000000000000000000000000*I == 0.85425665148473689034386458431097348561089439860408577398333 + 20.000000000000000000000000000000000000000000000000000000000*I
```


Apparently, the last bits that are usually not printed get lost.

```
sage: b = sage_eval(sage_input(a, verify=False))
sage: a == b  # should be True
False
sage: a.str(truncate=False)
0.85425665148473689034386458431097348561089439860408577398333000 + 20.000000000000000000000000000000000000000000000000000000000000*I
sage: b.str(truncate=False)
0.85425665148473689034386458431097348561089439860408577398333374 + 20.000000000000000000000000000000000000000000000000000000000000*I
```


This was found by

```
sage -t --long --random-seed=3159 src/sage/rings/complex_mpfr.pyx
```


The corresponding real version works:

```
sage: sage_input(a.real(), verify=True)
# Verified
RealField(200)(0.85425665148473689034386458431097348561089439860408577398333)
```



---

Comment by mkoeppe created at 2022-05-04 22:58:43

dup of #30977?


---

Comment by @mwageringel created at 2022-05-10 20:21:41

Changing status from new to needs_review.


---

Comment by @mwageringel created at 2022-05-10 20:21:41

Yes, it looks like it. Let us merge them.


---

Comment by @mwageringel created at 2022-05-10 20:21:52

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2022-05-10 21:55:08

Resolution: duplicate
