# Issue 32527: SAGE_ROOT/tox.ini: Make tox -p auto and tox --listenvs useful again

Issue created by migration from https://trac.sagemath.org/ticket/32764

Original creator: mkoeppe

Original creation time: 2021-10-25 15:44:40

CC:  jhpalmieri @kliem

(from #29146)

tox does not actually understand the nested braces used in `envlist`.


---

Comment by git created at 2021-10-25 16:35:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-10-25 16:41:58

Here's an attempt at improving the `tox -p auto` situation and documentation.
Please feel free to push further changes to this ticket


---

Comment by git created at 2021-10-25 17:32:01

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-10-26 01:05:46

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2021-11-04 02:15:06

Was the hope that the nested braces would allow testing all of the various combinations via `tox -p auto`?


---

Comment by mkoeppe created at 2021-11-04 02:19:10

Yes, and some early version of it did something like that. https://tox.wiki/en/latest/config.html#generative-section-names
Not sure if nesting ever worked.


---

Comment by jhpalmieri created at 2021-11-04 03:07:12

I could imagine expanding that environment list (since it's much shorter now than the original intention), but that can wait.


---

Comment by jhpalmieri created at 2021-11-04 03:07:12

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-11-04 05:42:41

Thanks!


---

Comment by vbraun created at 2021-11-14 17:06:23

Resolution: fixed
