# Issue 24652: Enumerate all genera of given signature, determinant and bounded scale of a jordan block.

Issue created by migration from Trac.

Original creator: sbrandhorst

Original creation time: 2018-03-02 13:59:28

CC:  annahaensch

Create a function that enumerates all genera of a given signature, determinant and with bounded scale of a jordan block.
The output should belong to `sage.quadratic_forms.genera.Genus` . 



---

Comment by git created at 2018-03-05 14:46:58

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-03-15 21:40:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-03-20 06:47:28

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-05-10 21:30:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-05-11 13:11:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by sbrandhorst created at 2018-05-11 13:12:23

Changing status from new to needs_review.


---

Comment by git created at 2018-05-16 20:08:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-06-18 18:05:46

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-07-03 16:09:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-07-19 11:35:01

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2018-08-03 19:20:18

update milestone 8.3 -> 8.4


---

Comment by git created at 2018-10-11 08:42:16

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2018-10-21 11:39:16

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-10-21 12:07:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-10-21 12:11:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-10-21 16:57:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-01-22 17:03:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by sbrandhorst created at 2019-01-22 17:04:22

The doc builds and the tests pass on my machine.


---

Comment by tscrim created at 2019-01-23 00:59:29

Some comments:

- `Genus_enumerate` is an awkward name to me. It seems like `(global_)genera` is a better name.
- Have you thought about making your functions iterators?
- I do not see how the result could be nondeterministic. Can you explain why this could happen?
- You should also do `foo is None` instead of `foo == None`.
- You should remove the list in `all` and instead use an iterator; i.e., `all(test for x in foo)` instead of `all([test for x in foo])`.
- I am not sure it is worthwhile to test that `even` is a bool.


---

Comment by sbrandhorst created at 2019-01-23 09:44:29

Dear Travis thank you for your comments.
As for the name: The function should be easy to discover.
Type Genus + auto complete and the name appears.
I am thinking of BinaryQF and BinaryQF_reduced_representatives.
But genera is a possible name. 

Guess I could make them iterators.


---

Comment by sbrandhorst created at 2019-01-23 09:52:01

After a second thought I do not want to make them iterators. 
For one iterators are less convenient for the user. Further
for the 2-adic symbols we are overcounting and then removing duplicates. 
I do not see how to do this properly with an iterator.


---

Comment by git created at 2019-01-23 09:53:28

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-01-23 09:59:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by sbrandhorst created at 2019-01-23 14:47:39

Ursula suggested `QuadraticFormsGenera` that is more specific than just `genera`, yet it is still relatively easy to discover starting from `QuadraticForm`


---

Comment by ursula created at 2019-01-24 18:04:21

The patch builds and the example works. I still think it's more intuitive Sage syntax to have a top-level object with an associated enumeration method, rather than a function that's not associated to an object.


---

Comment by sbrandhorst created at 2019-01-24 18:10:25

Ouf, let us ask on sage devel. There are reasons for and against both.


---

Comment by sbrandhorst created at 2019-01-24 18:27:38

https://groups.google.com/forum/#!topic/sage-devel/M-8VL0LnKhU


---

Comment by sbrandhorst created at 2019-01-25 11:42:43

Writing in the quadratic forms class

```
    from sage.quadratic_forms.genera.genus import genera
```

works.
But

```
    `@`staticmethod
    from sage.quadratic_forms.genera.genus import genera
```

crashes. Ideas?


---

Comment by tscrim created at 2019-01-25 13:54:08

The latter does not make sense (at least with the context given here). `genera` is a function, so why should it be a ``@`staticmethod`?

I do not like `QuadraticFormsGenera` because it is a function, not a class. So following Python naming conventions, I would use `quadratic_forms_genera`.

`@`ursula The use for making this an object depends on how you use it. Fundamentally there is little computational overhead for making this into some `Parent` or `CategoryObject`, but there is some implementation burden. If it is not going to be a subclass of one of those, then I am not sure there would be a good reason to make it into an object (rather than a function). (Technical aside: this is more of a question about semantics rather than syntax.)


---

Comment by git created at 2019-01-25 13:57:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by sbrandhorst created at 2019-01-25 14:01:39

`staticmethod(genera)` worked.
Now it is the static method
`QuadraticForm.genera`


---

Comment by ursula created at 2019-02-05 21:02:10

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2019-02-06 05:39:53

`@`ursula You need your (real) name as a reviewer.


---

Comment by tscrim created at 2019-02-06 05:39:53

Changing status from positive_review to needs_work.


---

Comment by ursula created at 2019-02-07 14:31:40

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2019-02-08 12:35:53

Resolution: fixed
