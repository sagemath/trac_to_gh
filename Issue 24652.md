# Issue 24652: Enumerate all genera of given signature, determinant and bounded scale of a jordan block.

archive/issues_024652.json:
```json
{
    "body": "CC:  annahaensch\n\nCreate a function that enumerates all genera of a given signature, determinant and with bounded scale of a jordan block.\nThe output should belong to `sage.quadratic_forms.genera.Genus` . \n\n\nIssue created by migration from https://trac.sagemath.org/ticket/24889\n\n",
    "created_at": "2018-03-02T13:59:28Z",
    "labels": [
        "quadratic forms",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "Enumerate all genera of given signature, determinant and bounded scale of a jordan block.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24652",
    "user": "sbrandhorst"
}
```
CC:  annahaensch

Create a function that enumerates all genera of a given signature, determinant and with bounded scale of a jordan block.
The output should belong to `sage.quadratic_forms.genera.Genus` . 


Issue created by migration from https://trac.sagemath.org/ticket/24889





---

archive/issue_comments_345729.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-03-05T14:46:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345729",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345730.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-03-15T21:40:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345730",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345731.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-03-20T06:47:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345731",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345732.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-10T21:30:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345732",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345733.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-11T13:11:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345733",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345734.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-05-11T13:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345734",
    "user": "sbrandhorst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_345735.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-16T20:08:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345735",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345736.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-18T18:05:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345736",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345737.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-03T16:09:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345737",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345738.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-19T11:35:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345738",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345739.json:
```json
{
    "body": "update milestone 8.3 -> 8.4",
    "created_at": "2018-08-03T19:20:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345739",
    "user": "vdelecroix"
}
```

update milestone 8.3 -> 8.4



---

archive/issue_comments_345740.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2018-10-11T08:42:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345740",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_345741.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-21T11:39:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345741",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345742.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-21T12:07:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345742",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345743.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-21T12:11:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345743",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345744.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-21T16:57:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345744",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345745.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-22T17:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345745",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345746.json:
```json
{
    "body": "The doc builds and the tests pass on my machine.",
    "created_at": "2019-01-22T17:04:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345746",
    "user": "sbrandhorst"
}
```

The doc builds and the tests pass on my machine.



---

archive/issue_comments_345747.json:
```json
{
    "body": "Some comments:\n\n- `Genus_enumerate` is an awkward name to me. It seems like `(global_)genera` is a better name.\n- Have you thought about making your functions iterators?\n- I do not see how the result could be nondeterministic. Can you explain why this could happen?\n- You should also do `foo is None` instead of `foo == None`.\n- You should remove the list in `all` and instead use an iterator; i.e., `all(test for x in foo)` instead of `all([test for x in foo])`.\n- I am not sure it is worthwhile to test that `even` is a bool.",
    "created_at": "2019-01-23T00:59:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345747",
    "user": "tscrim"
}
```

Some comments:

- `Genus_enumerate` is an awkward name to me. It seems like `(global_)genera` is a better name.
- Have you thought about making your functions iterators?
- I do not see how the result could be nondeterministic. Can you explain why this could happen?
- You should also do `foo is None` instead of `foo == None`.
- You should remove the list in `all` and instead use an iterator; i.e., `all(test for x in foo)` instead of `all([test for x in foo])`.
- I am not sure it is worthwhile to test that `even` is a bool.



---

archive/issue_comments_345748.json:
```json
{
    "body": "Dear Travis thank you for your comments.\nAs for the name: The function should be easy to discover.\nType Genus + auto complete and the name appears.\nI am thinking of BinaryQF and BinaryQF_reduced_representatives.\nBut genera is a possible name. \n\nGuess I could make them iterators.",
    "created_at": "2019-01-23T09:44:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345748",
    "user": "sbrandhorst"
}
```

Dear Travis thank you for your comments.
As for the name: The function should be easy to discover.
Type Genus + auto complete and the name appears.
I am thinking of BinaryQF and BinaryQF_reduced_representatives.
But genera is a possible name. 

Guess I could make them iterators.



---

archive/issue_comments_345749.json:
```json
{
    "body": "After a second thought I do not want to make them iterators. \nFor one iterators are less convenient for the user. Further\nfor the 2-adic symbols we are overcounting and then removing duplicates. \nI do not see how to do this properly with an iterator.",
    "created_at": "2019-01-23T09:52:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345749",
    "user": "sbrandhorst"
}
```

After a second thought I do not want to make them iterators. 
For one iterators are less convenient for the user. Further
for the 2-adic symbols we are overcounting and then removing duplicates. 
I do not see how to do this properly with an iterator.



---

archive/issue_comments_345750.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-23T09:53:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345750",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345751.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-23T09:59:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345751",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345752.json:
```json
{
    "body": "Ursula suggested `QuadraticFormsGenera` that is more specific than just `genera`, yet it is still relatively easy to discover starting from `QuadraticForm`",
    "created_at": "2019-01-23T14:47:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345752",
    "user": "sbrandhorst"
}
```

Ursula suggested `QuadraticFormsGenera` that is more specific than just `genera`, yet it is still relatively easy to discover starting from `QuadraticForm`



---

archive/issue_comments_345753.json:
```json
{
    "body": "The patch builds and the example works. I still think it's more intuitive Sage syntax to have a top-level object with an associated enumeration method, rather than a function that's not associated to an object.",
    "created_at": "2019-01-24T18:04:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345753",
    "user": "ursula"
}
```

The patch builds and the example works. I still think it's more intuitive Sage syntax to have a top-level object with an associated enumeration method, rather than a function that's not associated to an object.



---

archive/issue_comments_345754.json:
```json
{
    "body": "Ouf, let us ask on sage devel. There are reasons for and against both.",
    "created_at": "2019-01-24T18:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345754",
    "user": "sbrandhorst"
}
```

Ouf, let us ask on sage devel. There are reasons for and against both.



---

archive/issue_comments_345755.json:
```json
{
    "body": "https://groups.google.com/forum/#!topic/sage-devel/M-8VL0LnKhU",
    "created_at": "2019-01-24T18:27:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345755",
    "user": "sbrandhorst"
}
```

https://groups.google.com/forum/#!topic/sage-devel/M-8VL0LnKhU



---

archive/issue_comments_345756.json:
```json
{
    "body": "Writing in the quadratic forms class\n\n```\n    from sage.quadratic_forms.genera.genus import genera\n```\n\nworks.\nBut\n\n```\n    @staticmethod\n    from sage.quadratic_forms.genera.genus import genera\n```\n\ncrashes. Ideas?",
    "created_at": "2019-01-25T11:42:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345756",
    "user": "sbrandhorst"
}
```

Writing in the quadratic forms class

```
    from sage.quadratic_forms.genera.genus import genera
```

works.
But

```
    @staticmethod
    from sage.quadratic_forms.genera.genus import genera
```

crashes. Ideas?



---

archive/issue_comments_345757.json:
```json
{
    "body": "The latter does not make sense (at least with the context given here). `genera` is a function, so why should it be a ``@`staticmethod`?\n\nI do not like `QuadraticFormsGenera` because it is a function, not a class. So following Python naming conventions, I would use `quadratic_forms_genera`.\n\n`@`ursula The use for making this an object depends on how you use it. Fundamentally there is little computational overhead for making this into some `Parent` or `CategoryObject`, but there is some implementation burden. If it is not going to be a subclass of one of those, then I am not sure there would be a good reason to make it into an object (rather than a function). (Technical aside: this is more of a question about semantics rather than syntax.)",
    "created_at": "2019-01-25T13:54:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345757",
    "user": "tscrim"
}
```

The latter does not make sense (at least with the context given here). `genera` is a function, so why should it be a ``@`staticmethod`?

I do not like `QuadraticFormsGenera` because it is a function, not a class. So following Python naming conventions, I would use `quadratic_forms_genera`.

`@`ursula The use for making this an object depends on how you use it. Fundamentally there is little computational overhead for making this into some `Parent` or `CategoryObject`, but there is some implementation burden. If it is not going to be a subclass of one of those, then I am not sure there would be a good reason to make it into an object (rather than a function). (Technical aside: this is more of a question about semantics rather than syntax.)



---

archive/issue_comments_345758.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-25T13:57:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345758",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345759.json:
```json
{
    "body": "`staticmethod(genera)` worked.\nNow it is the static method\n`QuadraticForm.genera`",
    "created_at": "2019-01-25T14:01:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345759",
    "user": "sbrandhorst"
}
```

`staticmethod(genera)` worked.
Now it is the static method
`QuadraticForm.genera`



---

archive/issue_comments_345760.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-02-05T21:02:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345760",
    "user": "ursula"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_345761.json:
```json
{
    "body": "`@`ursula You need your (real) name as a reviewer.",
    "created_at": "2019-02-06T05:39:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345761",
    "user": "tscrim"
}
```

`@`ursula You need your (real) name as a reviewer.



---

archive/issue_comments_345762.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-02-06T05:39:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345762",
    "user": "tscrim"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_345763.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2019-02-07T14:31:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345763",
    "user": "ursula"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_345764.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-02-08T12:35:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24652#issuecomment-345764",
    "user": "vbraun"
}
```

Resolution: fixed
