# Issue 16324: Derivations for function fields

Issue created by migration from Trac.

Original creator: saraedum

Original creation time: 2014-06-27 03:03:26

Keywords: sd59

This ticket implements derivations for extensions of function fields.


---

Comment by saraedum created at 2014-06-27 05:16:57

New commits:


---

Comment by saraedum created at 2014-06-27 05:26:15

Changing status from new to needs_review.


---

Comment by git created at 2014-06-27 05:26:44

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2014-07-23 17:35:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mmezzarobba created at 2015-05-30 19:19:16

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-08-15 07:32:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2015-08-15 07:33:26

Changing status from needs_work to needs_review.


---

Comment by vdelecroix created at 2015-08-16 10:48:58

Hello Julian,

It seems that the only derivation you are testing is `y^2 - x`. I have nothing against the square root but it would be cool to have a bit more diversity in the doctests. And it would be cool to have somewhere non trivial examples of

```
sage: d(p+q) == d(p) + d(q)
True
sage: d(p*q) == d(p)*q + p*d(q)
True
```


In the `ALGORITHM` block, I would rather use `formula` instead of `algorithm`. And you mentioned the non-separable case that this ticket is not about.

Beyond documentation, everything looks good to me.

Vincent


---

Comment by vdelecroix created at 2015-08-16 10:48:58

Changing status from needs_review to needs_work.


---

Comment by saraedum created at 2015-08-16 14:14:28

Thanks for the comments. I will try to make some changes.


---

Comment by git created at 2015-08-16 22:11:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2015-08-16 22:13:14

Changing status from needs_work to needs_review.


---

Comment by vdelecroix created at 2015-08-17 13:25:15

`CartesianProduct` is likely to be deprecated (#15425 and #18411). If you want to iterate over the pairs you would better use `product` from itertools as

```
sage: from itertools import product
sage: for pair in product(S, repeat=2):
....:     # do what you want
```



---

Comment by vdelecroix created at 2015-11-28 13:59:23

Now that #18411, it definitely needs to be done.


---

Comment by vdelecroix created at 2015-11-28 13:59:23

Changing status from needs_review to needs_work.


---

Comment by git created at 2016-11-13 14:03:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-11-13 14:08:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2016-11-13 14:08:54

New commits:
----
New commits:


---

Comment by saraedum created at 2016-11-13 14:08:54

Changing status from needs_work to needs_review.


---

Comment by klee created at 2016-12-24 14:43:18

Changing status from needs_review to needs_work.


---

Comment by klee created at 2016-12-24 14:43:18

Apply failed.


---

Comment by klee created at 2016-12-25 21:39:34

I just fixed merge conflict with the current beta. A few comments

- In `function_field.py`:

```
It is also possible to work with function fields over an imperfect base field::

    sage: N.<u> = FunctionField(K)
```

Is `K` imperfect here? Isn't it a finite field?
- In `derivation` method:

```
        The general inseparable case is not implemented yet (see :trac:`16562`,
        :trac:`16564`.)`
```

A comment like this is better to be removed as it can soon become false (because of you :-)
----
New commits:


---

Comment by saraedum created at 2017-01-27 21:24:11

Replying to [comment:22 klee]:
> I just fixed merge conflict with the current beta. A few comments
> 
> - In `function_field.py`:
> {{{
> It is also possible to work with function fields over an imperfect base field::
> 
>     sage: N.<u> = FunctionField(K)
> }}}
> Is `K` imperfect here? Isn't it a finite field?
No, `K` is a function field.

> - In `derivation` method:
> {{{
>         The general inseparable case is not implemented yet (see :trac:`16562`,
>         :trac:`16564`.)`
> }}}
> A comment like this is better to be removed as it can soon become false (because of you :-)
My experience with this has been that there is virtually no movement in function fields in Sage. So, I'd like to point people to places where they can help if they'd like.
----
New commits:


---

Comment by saraedum created at 2017-01-27 21:24:37

I can of course remove the ticket references if you have strong feelings about it.


---

Comment by git created at 2017-01-27 21:39:45

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2017-01-27 21:40:05

Changing status from needs_work to needs_review.


---

Comment by klee created at 2017-01-30 09:28:14

Some comments:

`derivation` method: The return value is a derivation uniquely determined from the derivation of the base rational function field that maps x to 1. How about simply saying the return value is a derivation, rather than a generator of the space of derivations or endofunction (in `OUPUT` block). The term generator has a programming meaning in Sage and endofunction is obscure.

REFERENCES block: We now have a master bibliography file. See 

http://doc.sagemath.org/html/en/developer/coding_basics.html#sage-s-master-bibliography-file


---

Comment by klee created at 2017-01-30 09:28:34

Changing status from needs_review to needs_work.


---

Comment by klee created at 2017-01-30 09:37:41

Replying to [comment:24 saraedum]:
> My experience with this has been that there is virtually no movement in function fields in Sage. So, I'd like to point people to places where they can help if they'd like.

Ok. I agree that function fields part of Sage needs much attention. I had been forced to move to Magma because of this at some point and was surprised when I returned to Sage to find that there was not much changed in that situation :-(


---

Comment by klee created at 2017-03-16 10:14:20

Hi Julian,

I am interested in pushing this ticket. If you do not have a plan to work on this, then I could work. Would this be ok with you?


---

Comment by saraedum created at 2017-03-16 11:35:21

Yes, hooray! Please go ahead. Let me know if you need any help :)


---

Comment by klee created at 2017-04-01 20:02:21

New commits:


---

Comment by git created at 2017-04-02 04:51:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by klee created at 2017-04-04 16:44:42

Changing status from needs_work to needs_review.


---

Comment by git created at 2017-04-22 15:47:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-05-11 15:11:21

IMO, a better idiom for the `_test_derivative` is instead of catching the `NotImplementedError` and returning as normal would be to let it raise the error and instead explicit skip the test:

```
TestSuite(X).run(skip='_test_derivative')
```



---

Comment by git created at 2017-05-11 20:30:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-05-12 13:46:18

I think this is good to go, so I'm setting it to a positive review. If there are any objections, feel free to set it back.


---

Comment by tscrim created at 2017-05-12 13:46:18

Changing status from needs_review to positive_review.


---

Comment by klee created at 2017-05-12 13:48:16

I have no objection :-) Thank you!


---

Comment by vbraun created at 2017-05-15 22:51:24

Resolution: fixed
