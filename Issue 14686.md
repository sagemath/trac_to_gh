# Issue 14686: rounding in logs

archive/issues_014686.json:
```json
{
    "body": "Assignee: @burcin\n\nKeywords: logarithms\n\nLogarithms seem to evaluate numbers differently, depending on type. This causes some precision errors when using numbers which can be coerced into integers. For example, if we use integers and evaluate something of the form log_b(b^k) the answer is what it should be:\n\n\n```\nsage: log(3^5,3)==5\nTrue\n```\n\n\nHowever, if we use reals which can be coerced into integers, the answer is rounded and slightly off:\n\n\n```\nsage: log(3.0^5,3.0)==5\nFalse\n```\n\n\nThis problem doesn't always happen, for example if we replace the 5 with 12:\n\n\n```\nsage: log(3.0^12,3.0)==12\nTrue\n```\n\n\nThis only seems to be happening for some exponents; in base 3, we found that this sort of expression evaluates to False for exponents equal to 5, 13 and 17, but it does not happen for numbers in between.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14890\n\n",
    "created_at": "2013-07-14T17:26:14Z",
    "labels": [
        "calculus",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "rounding in logs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14686",
    "user": "amy"
}
```
Assignee: @burcin

Keywords: logarithms

Logarithms seem to evaluate numbers differently, depending on type. This causes some precision errors when using numbers which can be coerced into integers. For example, if we use integers and evaluate something of the form log_b(b^k) the answer is what it should be:


```
sage: log(3^5,3)==5
True
```


However, if we use reals which can be coerced into integers, the answer is rounded and slightly off:


```
sage: log(3.0^5,3.0)==5
False
```


This problem doesn't always happen, for example if we replace the 5 with 12:


```
sage: log(3.0^12,3.0)==12
True
```


This only seems to be happening for some exponents; in base 3, we found that this sort of expression evaluates to False for exponents equal to 5, 13 and 17, but it does not happen for numbers in between.

Issue created by migration from https://trac.sagemath.org/ticket/14890





---

archive/issue_comments_187002.json:
```json
{
    "body": "author is for the author of the patch :)  This is probably typical floating point stuff, not sure how easy it would be to fix.",
    "created_at": "2013-07-15T01:50:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14686#issuecomment-187002",
    "user": "@kcrisman"
}
```

author is for the author of the patch :)  This is probably typical floating point stuff, not sure how easy it would be to fix.



---

archive/issue_comments_187003.json:
```json
{
    "body": "Changing component from calculus to basic arithmetic.",
    "created_at": "2014-06-27T10:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14686#issuecomment-187003",
    "user": "@jdemeyer"
}
```

Changing component from calculus to basic arithmetic.



---

archive/issue_comments_187004.json:
```json
{
    "body": "Changing keywords from \"logarithms\" to \"logarithm mpfr rounding\".",
    "created_at": "2014-06-27T10:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14686#issuecomment-187004",
    "user": "@jdemeyer"
}
```

Changing keywords from "logarithms" to "logarithm mpfr rounding".



---

archive/issue_comments_187005.json:
```json
{
    "body": "Changing assignee from @burcin to @aghitza.",
    "created_at": "2014-06-27T10:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14686#issuecomment-187005",
    "user": "@jdemeyer"
}
```

Changing assignee from @burcin to @aghitza.



---

archive/issue_comments_187006.json:
```json
{
    "body": "Sage is not the place to implement this. If you really need this, it should be implemented in MPFR, then Sage can interface it.\n\nClose as \"wontfix\".",
    "created_at": "2014-08-29T16:11:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14686#issuecomment-187006",
    "user": "@jdemeyer"
}
```

Sage is not the place to implement this. If you really need this, it should be implemented in MPFR, then Sage can interface it.

Close as "wontfix".



---

archive/issue_comments_187007.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-08-29T16:11:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14686#issuecomment-187007",
    "user": "@jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_187008.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-08-29T16:11:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14686#issuecomment-187008",
    "user": "@jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_187009.json:
```json
{
    "body": "Resolution: wontfix",
    "created_at": "2014-08-29T18:33:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14686#issuecomment-187009",
    "user": "@vbraun"
}
```

Resolution: wontfix
