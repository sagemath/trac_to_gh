# Issue 10296: Creating morphisms between projective varieties fails

Issue created by migration from https://trac.sagemath.org/ticket/10297

Original creator: cremona

Original creation time: 2010-11-20 18:47:58

Assignee: AlexGhitza

CC:  niels alexghitza

Keywords: scheme projective morphism

Construction of morphisms between projective varieties which are no projective space itself fails, since the test that the defining polynomials are homogeneous and of the same degree cannot test `QuotientRingElement`s as these do not have `is_homogeneous()` or `degree()` methods.

Example:

```
sage: P2.<x,y,z>=ProjectiveSpace(QQ,2)
sage: f = x^3+y^3+60*z^3
sage: g = y^2*z-( x^3 - 6400*z^3/3)
sage: C = Curve(f)
sage: E = Curve(g)
sage: xbar,ybar,zbar=C.coordinate_ring().gens()
sage: H = C.Hom(E)
sage: H([zbar,xbar-ybar,-(xbar+ybar)/80])
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)

/home/jec/<ipython console> in <module>()

/home/jec/sage-current/local/lib/python2.6/site-packages/sage/schemes/generic/homset.pyc in __call__(self, x, check)
    234         """
    235         if isinstance(x, (list, tuple)):
--> 236             return self.domain()._point_morphism_class(self, x, check=check)
    237         
    238         if is_RingHomomorphism(x):

/home/jec/sage-current/local/lib/python2.6/site-packages/sage/schemes/generic/algebraic_scheme.pyc in _point_morphism_class(self, *args, **kwds)
   1099 class AlgebraicScheme_subscheme_projective(AlgebraicScheme_subscheme):
   1100     def _point_morphism_class(self, *args, **kwds):
-> 1101         return morphism.SchemeMorphism_on_points_projective_space(*args, **kwds)
   1102 
   1103     def dimension(self):

/home/jec/sage-current/local/lib/python2.6/site-packages/sage/schemes/generic/morphism.pyc in __init__(self, parent, polys, check)
    456             # morphisms from projective space are always given by
    457             # homogeneous polynomials of the same degree
--> 458             deg = self.defining_polynomials()[0].degree()
    459             for poly in self.defining_polynomials():
    460                 if (poly.degree() != deg) or not poly.is_homogeneous():

/home/jec/sage-current/local/lib/python2.6/site-packages/sage/structure/element.so in sage.structure.element.Element.__getattr__ (sage/structure/element.c:2666)()

/home/jec/sage-current/local/lib/python2.6/site-packages/sage/structure/parent.so in sage.structure.parent.getattr_from_other_class (sage/structure/parent.c:2840)()

/home/jec/sage-current/local/lib/python2.6/site-packages/sage/structure/parent.so in sage.structure.parent.raise_attribute_error (sage/structure/parent.c:2638)()

AttributeError: 'QuotientRingElement' object has no attribute 'degree'
```


Patch up soon.


---

Attachment

applies to 4.6.1.alpha1


---

Comment by cremona created at 2010-11-20 18:59:54

Changing status from new to needs_review.


---

Comment by cremona created at 2010-11-20 19:10:38

I am CC'ing AlexGhitza since the problem was caused by #3964 of he was the author (and I was the referee who clearly did not do a good job!)


---

Comment by novoselt created at 2010-11-28 20:01:32

Changing status from needs_review to positive_review.


---

Comment by novoselt created at 2010-11-28 20:01:32

Fixes the error reported in this ticket, positive review!


---

Comment by jdemeyer created at 2011-01-12 06:34:15

Resolution: fixed
