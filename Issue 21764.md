# Issue 21764: Category of number field morphisms is always Rings

Issue created by migration from Trac.

Original creator: saraedum

Original creation time: 2016-11-30 18:52:05

CC:  roed caruso

In the following example, the category should be `Fields()`

```
sage: R.<x> = QQ[]
sage: K.<a> = QQ.extension(x^2 + 1)
sage: K.hom([a]).category_for()
Category of rings
```



---

Comment by saraedum created at 2016-11-30 18:59:14

Changing status from new to needs_review.


---

Comment by saraedum created at 2016-11-30 18:59:14

Why would we ignore the cat keyword? Maybe category support was not that great at the time? Let's see what the patchbot thinks.


---

Comment by saraedum created at 2016-11-30 19:00:49

Btw. the comment that it is ignored was introduced in

```
commit 2cda3cde81efa0b5546e60170bee7ae084263a4f
Author: William Stein <wstein`@`gmail.com>
Date:   Sun Sep 16 23:02:21 2007 -0700

    work in progress on algebraic number theory.
```

so there is no further info on this.


---

Comment by roed created at 2016-11-30 19:49:19

It looks like you deleted the branch when you set it to needs review.  I'm putting the branch back, but if there's something wrong with the branch let me know.
----
New commits:


---

Comment by roed created at 2016-11-30 19:50:32

Looks good to me.


---

Comment by roed created at 2016-11-30 19:50:32

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-12-02 23:36:53

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2016-12-02 23:36:53

See patchbot:
`sage -t --long --warn-long 53.9 src/sage/schemes/projective/projective_morphism.py  # 2 doctests failed`


---

Comment by git created at 2016-12-07 00:26:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2016-12-07 00:26:41

Changing status from needs_work to needs_review.


---

Comment by saraedum created at 2016-12-07 00:26:41

New commits:
----
New commits:


---

Comment by roed created at 2016-12-07 05:23:31

Do you know why `self.homset_category().is_full_subcategory(x.category_for())` returns `False`?


---

Comment by saraedum created at 2016-12-07 05:30:32

It is mentioned here: https://github.com/sagemath/sage/blob/master/src/sage/categories/category.py#L1299


---

Comment by saraedum created at 2016-12-09 02:19:32

The failing doctest is some latex issue of the patchbot. I don't think it is related to the changes here.


---

Comment by roed created at 2016-12-20 21:54:24

Looks good, and patchbot says all tests pass.


---

Comment by roed created at 2016-12-20 21:54:24

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-01-23 22:52:18

Resolution: fixed


---

Comment by jdemeyer created at 2017-09-21 13:12:37

See #23910 for relative number field homsets.
