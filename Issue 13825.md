# Issue 13825: SIGQUIT: exit Sage ungracefully with traceback

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2013-01-28 15:49:07

Assignee: jdemeyer

CC:  leif pbruin

When Sage is somehow totally stuck, one can still quit Sage using `SIGQUIT` (`CTRL-\` on the keyboard).  It would be useful if this would give a nice traceback.  In other words: treat `SIGQUIT` like `SIGSEGV`, except that it should always exit Sage, not raise an exception.


---

Comment by jdemeyer created at 2013-01-28 20:52:26

Changing status from new to needs_review.


---

Attachment


---

Comment by pbruin created at 2013-10-29 19:24:42

Changing status from needs_review to positive_review.


---

Comment by pbruin created at 2013-10-29 19:24:42

This looks like a useful feature to me.  The patch looks good and behaves as expected, and all doctests pass.

The fact that `sage-CSI` is run does mean that if GDB is available, it now takes about 10 seconds before you are back at the shell.  Pressing `^\` a second time does not immediately interrupt `sage-CSI`.  I'm not sure why; is the `^\` somehow intercepted by GDB?  Pressing `^C` during these 10 seconds does generate a Python `KeyboardInterrupt` in `sage-CSI`, but does not immediately get you back to the shell either.

Anyway, the issues in the above paragraph are only slightly annoying and should probably be addressed elsewhere than in this ticket (if at all), so no reason against a positive review.


---

Comment by jdemeyer created at 2013-10-29 22:02:39

Replying to [comment:7 pbruin]:
> The fact that `sage-CSI` is run does mean that if GDB is available, it now takes about 10 seconds before you are back at the shell.  Pressing `^\` a second time does not immediately interrupt `sage-CSI`.  I'm not sure why; is the `^\` somehow intercepted by GDB?  Pressing `^C` during these 10 seconds does generate a Python `KeyboardInterrupt` in `sage-CSI`, but does not immediately get you back to the shell either.

That's right indeed. It seems that, once GDB gets hold of a process, there is no easy way to get out.


---

Comment by jdemeyer created at 2013-10-31 19:16:16

Resolution: fixed
