# Issue 13825: SIGQUIT: exit Sage ungracefully with traceback

archive/issues_013825.json:
```json
{
    "body": "Assignee: @jdemeyer\n\nCC:  @nexttime @pjbruin\n\nWhen Sage is somehow totally stuck, one can still quit Sage using `SIGQUIT` (`CTRL-\\` on the keyboard).  It would be useful if this would give a nice traceback.  In other words: treat `SIGQUIT` like `SIGSEGV`, except that it should always exit Sage, not raise an exception.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14029\n\n",
    "created_at": "2013-01-28T15:49:07Z",
    "labels": [
        "component: c_lib"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.13",
    "title": "SIGQUIT: exit Sage ungracefully with traceback",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13825",
    "user": "https://github.com/jdemeyer"
}
```
Assignee: @jdemeyer

CC:  @nexttime @pjbruin

When Sage is somehow totally stuck, one can still quit Sage using `SIGQUIT` (`CTRL-\` on the keyboard).  It would be useful if this would give a nice traceback.  In other words: treat `SIGQUIT` like `SIGSEGV`, except that it should always exit Sage, not raise an exception.

Issue created by migration from https://trac.sagemath.org/ticket/14029





---

archive/issue_comments_171588.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-01-28T20:52:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13825#issuecomment-171588",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_171589.json:
```json
{
    "body": "Attachment [14029_SIGQUIT.patch](tarball://root/attachments/some-uuid/ticket14029/14029_SIGQUIT.patch) by @jdemeyer created at 2013-05-13 12:21:57",
    "created_at": "2013-05-13T12:21:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13825#issuecomment-171589",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [14029_SIGQUIT.patch](tarball://root/attachments/some-uuid/ticket14029/14029_SIGQUIT.patch) by @jdemeyer created at 2013-05-13 12:21:57



---

archive/issue_comments_171590.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-10-29T19:24:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13825#issuecomment-171590",
    "user": "https://github.com/pjbruin"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_171591.json:
```json
{
    "body": "This looks like a useful feature to me.  The patch looks good and behaves as expected, and all doctests pass.\n\nThe fact that `sage-CSI` is run does mean that if GDB is available, it now takes about 10 seconds before you are back at the shell.  Pressing `^\\` a second time does not immediately interrupt `sage-CSI`.  I'm not sure why; is the `^\\` somehow intercepted by GDB?  Pressing `^C` during these 10 seconds does generate a Python `KeyboardInterrupt` in `sage-CSI`, but does not immediately get you back to the shell either.\n\nAnyway, the issues in the above paragraph are only slightly annoying and should probably be addressed elsewhere than in this ticket (if at all), so no reason against a positive review.",
    "created_at": "2013-10-29T19:24:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13825#issuecomment-171591",
    "user": "https://github.com/pjbruin"
}
```

This looks like a useful feature to me.  The patch looks good and behaves as expected, and all doctests pass.

The fact that `sage-CSI` is run does mean that if GDB is available, it now takes about 10 seconds before you are back at the shell.  Pressing `^\` a second time does not immediately interrupt `sage-CSI`.  I'm not sure why; is the `^\` somehow intercepted by GDB?  Pressing `^C` during these 10 seconds does generate a Python `KeyboardInterrupt` in `sage-CSI`, but does not immediately get you back to the shell either.

Anyway, the issues in the above paragraph are only slightly annoying and should probably be addressed elsewhere than in this ticket (if at all), so no reason against a positive review.



---

archive/issue_comments_171592.json:
```json
{
    "body": "Replying to [comment:7 pbruin]:\n> The fact that `sage-CSI` is run does mean that if GDB is available, it now takes about 10 seconds before you are back at the shell.  Pressing `^\\` a second time does not immediately interrupt `sage-CSI`.  I'm not sure why; is the `^\\` somehow intercepted by GDB?  Pressing `^C` during these 10 seconds does generate a Python `KeyboardInterrupt` in `sage-CSI`, but does not immediately get you back to the shell either.\n\nThat's right indeed. It seems that, once GDB gets hold of a process, there is no easy way to get out.",
    "created_at": "2013-10-29T22:02:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13825#issuecomment-171592",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:7 pbruin]:
> The fact that `sage-CSI` is run does mean that if GDB is available, it now takes about 10 seconds before you are back at the shell.  Pressing `^\` a second time does not immediately interrupt `sage-CSI`.  I'm not sure why; is the `^\` somehow intercepted by GDB?  Pressing `^C` during these 10 seconds does generate a Python `KeyboardInterrupt` in `sage-CSI`, but does not immediately get you back to the shell either.

That's right indeed. It seems that, once GDB gets hold of a process, there is no easy way to get out.



---

archive/issue_events_013655.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-31T19:16:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13825",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13825#event-13655"
}
```



---

archive/issue_comments_171593.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-10-31T19:16:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13825#issuecomment-171593",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
