# Issue 15359: Sdist fails with capital-P illow

Issue created by migration from Trac.

Original creator: vbraun

Original creation time: 2013-12-27 14:22:33




---

Comment by vbraun created at 2013-12-27 14:59:32

Changing component from PLEASE CHANGE to scripts.


---

Comment by vbraun created at 2013-12-27 14:59:32

Changing status from new to needs_review.


---

Comment by vbraun created at 2013-12-27 14:59:32

Changing type from PLEASE CHANGE to defect.


---

Comment by vbraun created at 2013-12-27 15:00:01

Changing priority from major to blocker.


---

Comment by vbraun created at 2013-12-27 15:00:01

New commits:


---

Comment by vbraun created at 2013-12-27 15:02:06

Only the topmost commit matters, the rest is part of #15539 and already merged (but not released since this blocks release)


---

Comment by ncohen created at 2013-12-27 17:54:39

HMmmm... I don't get what all this does (and the last commit of #15539 is f005905, which means that this ticket contains 6 commits), but it looks like they have all been written by Andrew. Soooo if you can review them by yourself it seems `^^;`

Nathann


---

Comment by vbraun created at 2013-12-27 17:58:14

This ticket contains (in reverse order):
* the 7 commits from #15539, ending with f005905
* a merge commit so I can actually trigger the problem in this branch
* the fix for the bug in the topmost commit.


---

Comment by jdemeyer created at 2013-12-28 17:55:29

Would it not be sufficient to revert adc90cead77a91f17ea85dcbbfe77d5aba881465?


---

Comment by vbraun created at 2013-12-29 03:49:46

Well in #15539 we decided to (at least for now) stick with the current naming convention where the subdirectories of build/pkgs are all lower-case. 

But regardless of that, we should use the tarball name from the `checksums.ini` file and not blindly try combinations of basename + extension. So even if we, in the future, decide to rename the directories under build/pkgs we should still merge this ticket.


---

Comment by jdemeyer created at 2013-12-29 10:26:58

I think this is a much better solution.
----
New commits:


---

Comment by mraum created at 2013-12-29 10:28:49

Changing status from needs_review to positive_review.


---

Comment by mraum created at 2013-12-29 10:38:01

Changing status from positive_review to needs_review.


---

Comment by mraum created at 2013-12-29 10:38:01

I didn't see anything bad about Volker's solution. But I have to have a look at Jereon's changes.

Btw: why didn't the dev-script notice that Jereon changed the commit field just before I set the ticket to positive review?


---

Comment by jdemeyer created at 2013-12-29 10:44:37

Replying to [comment:14 mraum]:
> I didn't see anything bad about Volker's solution.
It's reinventing part of the `sage-spkg` wheel, my solution instead directly uses `sage-spkg` to copy the files.


---

Comment by mraum created at 2013-12-29 19:52:49

That absolutely makes sense. Unfortunately, I won't have time to look at this until the second week of January. So if Volker has a look at Jereon's changes, he can consider his part of the patch as positively reviewed. That's all I can do for the moment.


---

Comment by ohanar created at 2014-01-03 06:13:26

Reviewed as part of #15580.


---

Comment by ohanar created at 2014-01-03 06:13:26

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2014-01-03 07:24:59

Given that it is reviewed and should be merged and the tickets even have different authors, I don't think `sage-duplicate/invalid/wontfix` is right.


---

Comment by vbraun created at 2014-01-04 02:09:34

Resolution: fixed
