# Issue 17587: get rid of MatrixSpace_ZZ_2x2

Issue created by migration from Trac.

Original creator: vdelecroix

Original creation time: 2015-02-21 19:03:08

With #17822 the timings of the generic integer matrix class in `sage.matrix.matrix_integer_dense` (using flint) are identical to the custom ones in `sage.matrix.matrix_integer_2x2`. With this ticket, we get rid of the latter.


---

Comment by vdelecroix created at 2015-02-21 21:29:07

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2015-02-21 21:29:07

New commits:


---

Comment by git created at 2015-02-22 11:02:55

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-02-23 21:10:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-03-01 01:13:51

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vdelecroix created at 2015-03-01 01:14:39

Rebased on sage-6.6.beta2 in which the two dependencies are merged.


---

Comment by jdemeyer created at 2015-03-01 16:08:44

Can you replace `PyList_CheckExact()` by `type(...) is list`?

Also, why change `bint` -> `int`?


---

Comment by jdemeyer created at 2015-03-01 16:14:01

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2015-03-01 16:14:01

`_invert_flint` always returns a _positive_ integer as second component (even though this isn't documented!), so the case `-1` in `_invert_unit()` cannot occur.


---

Comment by jdemeyer created at 2015-03-01 16:21:06

For the `PyList_CheckExact()` check: I also dislike the double negation in the `else` clause: change the last `elif not` to `else` and change the `else` to `elif`.


---

Comment by jdemeyer created at 2015-03-01 16:23:24

I am making a review commit....


---

Comment by jdemeyer created at 2015-03-01 19:36:16

I ended up doing some more substantial changes, such as renaming `congroup_pyx.pyx` -> `congroup.pyx`, I hope you don't mind.
----
New commits:


---

Comment by jdemeyer created at 2015-03-01 19:36:16

Changing status from needs_work to needs_review.


---

Comment by vdelecroix created at 2015-03-03 15:59:37

As far as I understand, the Cython `bint` type corresponds to to a C `int` that will be converted to Python `bool` when needed. In the present case, `is_list` is never used as a Python value so I do not see the point of making it a `bint`.


---

Comment by jdemeyer created at 2015-03-03 16:34:54

Replying to [comment:14 vdelecroix]:
> As far as I understand, the Cython `bint` type corresponds to to a C `int` that will be converted to Python `bool` when needed. In the present case, `is_list` is never used as a Python value so I do not see the point of making it a `bint`.
For exactly the same reason, I do not see the point of making it an `int`.

Using `bint` is more explicit about what the variable is used for.


---

Comment by vdelecroix created at 2015-03-04 10:38:52

All right. Let it go.

Vincent


---

Comment by vdelecroix created at 2015-03-04 10:38:52

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-03-05 09:02:07

Resolution: fixed
