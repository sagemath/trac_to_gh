# Issue 17587: get rid of MatrixSpace_ZZ_2x2

archive/issues_017587.json:
```json
{
    "body": "With #17822 the timings of the generic integer matrix class in `sage.matrix.matrix_integer_dense` (using flint) are identical to the custom ones in `sage.matrix.matrix_integer_2x2`. With this ticket, we get rid of the latter.\n\nIssue created by migration from https://trac.sagemath.org/ticket/17824\n\n",
    "created_at": "2015-02-21T19:03:08Z",
    "labels": [
        "linear algebra",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "get rid of MatrixSpace_ZZ_2x2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17587",
    "user": "vdelecroix"
}
```
With #17822 the timings of the generic integer matrix class in `sage.matrix.matrix_integer_dense` (using flint) are identical to the custom ones in `sage.matrix.matrix_integer_2x2`. With this ticket, we get rid of the latter.

Issue created by migration from https://trac.sagemath.org/ticket/17824





---

archive/issue_comments_234910.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-02-21T21:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17587#issuecomment-234910",
    "user": "vdelecroix"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_234911.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-02-21T21:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17587#issuecomment-234911",
    "user": "vdelecroix"
}
```

New commits:



---

archive/issue_comments_234912.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-02-22T11:02:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17587#issuecomment-234912",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234913.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-02-23T21:10:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17587#issuecomment-234913",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234914.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-03-01T01:13:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17587#issuecomment-234914",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_234915.json:
```json
{
    "body": "Rebased on sage-6.6.beta2 in which the two dependencies are merged.",
    "created_at": "2015-03-01T01:14:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17587#issuecomment-234915",
    "user": "vdelecroix"
}
```

Rebased on sage-6.6.beta2 in which the two dependencies are merged.



---

archive/issue_comments_234916.json:
```json
{
    "body": "Can you replace `PyList_CheckExact()` by `type(...) is list`?\n\nAlso, why change `bint` -> `int`?",
    "created_at": "2015-03-01T16:08:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17587#issuecomment-234916",
    "user": "jdemeyer"
}
```

Can you replace `PyList_CheckExact()` by `type(...) is list`?

Also, why change `bint` -> `int`?



---

archive/issue_comments_234917.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-03-01T16:14:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17587#issuecomment-234917",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_234918.json:
```json
{
    "body": "`_invert_flint` always returns a *positive* integer as second component (even though this isn't documented!), so the case `-1` in `_invert_unit()` cannot occur.",
    "created_at": "2015-03-01T16:14:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17587#issuecomment-234918",
    "user": "jdemeyer"
}
```

`_invert_flint` always returns a *positive* integer as second component (even though this isn't documented!), so the case `-1` in `_invert_unit()` cannot occur.



---

archive/issue_comments_234919.json:
```json
{
    "body": "For the `PyList_CheckExact()` check: I also dislike the double negation in the `else` clause: change the last `elif not` to `else` and change the `else` to `elif`.",
    "created_at": "2015-03-01T16:21:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17587#issuecomment-234919",
    "user": "jdemeyer"
}
```

For the `PyList_CheckExact()` check: I also dislike the double negation in the `else` clause: change the last `elif not` to `else` and change the `else` to `elif`.



---

archive/issue_comments_234920.json:
```json
{
    "body": "I am making a review commit....",
    "created_at": "2015-03-01T16:23:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17587#issuecomment-234920",
    "user": "jdemeyer"
}
```

I am making a review commit....



---

archive/issue_comments_234921.json:
```json
{
    "body": "I ended up doing some more substantial changes, such as renaming `congroup_pyx.pyx` -> `congroup.pyx`, I hope you don't mind.\n----\nNew commits:",
    "created_at": "2015-03-01T19:36:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17587#issuecomment-234921",
    "user": "jdemeyer"
}
```

I ended up doing some more substantial changes, such as renaming `congroup_pyx.pyx` -> `congroup.pyx`, I hope you don't mind.
----
New commits:



---

archive/issue_comments_234922.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-03-01T19:36:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17587#issuecomment-234922",
    "user": "jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_234923.json:
```json
{
    "body": "As far as I understand, the Cython `bint` type corresponds to to a C `int` that will be converted to Python `bool` when needed. In the present case, `is_list` is never used as a Python value so I do not see the point of making it a `bint`.",
    "created_at": "2015-03-03T15:59:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17587#issuecomment-234923",
    "user": "vdelecroix"
}
```

As far as I understand, the Cython `bint` type corresponds to to a C `int` that will be converted to Python `bool` when needed. In the present case, `is_list` is never used as a Python value so I do not see the point of making it a `bint`.



---

archive/issue_comments_234924.json:
```json
{
    "body": "Replying to [comment:14 vdelecroix]:\n> As far as I understand, the Cython `bint` type corresponds to to a C `int` that will be converted to Python `bool` when needed. In the present case, `is_list` is never used as a Python value so I do not see the point of making it a `bint`.\nFor exactly the same reason, I do not see the point of making it an `int`.\n\nUsing `bint` is more explicit about what the variable is used for.",
    "created_at": "2015-03-03T16:34:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17587#issuecomment-234924",
    "user": "jdemeyer"
}
```

Replying to [comment:14 vdelecroix]:
> As far as I understand, the Cython `bint` type corresponds to to a C `int` that will be converted to Python `bool` when needed. In the present case, `is_list` is never used as a Python value so I do not see the point of making it a `bint`.
For exactly the same reason, I do not see the point of making it an `int`.

Using `bint` is more explicit about what the variable is used for.



---

archive/issue_comments_234925.json:
```json
{
    "body": "All right. Let it go.\n\nVincent",
    "created_at": "2015-03-04T10:38:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17587#issuecomment-234925",
    "user": "vdelecroix"
}
```

All right. Let it go.

Vincent



---

archive/issue_comments_234926.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-03-04T10:38:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17587#issuecomment-234926",
    "user": "vdelecroix"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_234927.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-03-05T09:02:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17587#issuecomment-234927",
    "user": "vbraun"
}
```

Resolution: fixed
