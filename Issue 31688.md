# Issue 31688: Reorganize topology

archive/issues_031688.json:
```json
{
    "body": "CC:  @tscrim @yuan-zhou\n\nProposal: create a directory `sage/topology` and move some of the files currently in `sage/homology`: move `cell_complex.py`, `cubical_complex.py`, `delta_complex.py`, and `simplicial_*.py`. Also move `examples.py` and rename it to `simplicial_complex_examples.py` or similar.\n\nIssue created by migration from https://trac.sagemath.org/ticket/31925\n\n",
    "created_at": "2021-06-07T18:46:39Z",
    "labels": [
        "component: algebraic topology"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Reorganize topology",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31688",
    "user": "https://github.com/jhpalmieri"
}
```
CC:  @tscrim @yuan-zhou

Proposal: create a directory `sage/topology` and move some of the files currently in `sage/homology`: move `cell_complex.py`, `cubical_complex.py`, `delta_complex.py`, and `simplicial_*.py`. Also move `examples.py` and rename it to `simplicial_complex_examples.py` or similar.

Issue created by migration from https://trac.sagemath.org/ticket/31925





---

archive/issue_comments_452216.json:
```json
{
    "body": "How do we do this and respect Sage's deprecation policy? Have deprecated versions of all of the files in `sage/homology` which just contain deprecation warnings and then import from the corresponding file in `sage/topology`? Is there another option?",
    "created_at": "2021-06-07T23:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452216",
    "user": "https://github.com/jhpalmieri"
}
```

How do we do this and respect Sage's deprecation policy? Have deprecated versions of all of the files in `sage/homology` which just contain deprecation warnings and then import from the corresponding file in `sage/topology`? Is there another option?



---

archive/issue_comments_452217.json:
```json
{
    "body": "I think your proposal is good. I believe we did that previously when moving files.",
    "created_at": "2021-06-08T00:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452217",
    "user": "https://github.com/tscrim"
}
```

I think your proposal is good. I believe we did that previously when moving files.



---

archive/issue_comments_452218.json:
```json
{
    "body": "Okay, let's try this. The two separate commits may be easier to review than the final result.\n----\nNew commits:",
    "created_at": "2021-06-08T03:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452218",
    "user": "https://github.com/jhpalmieri"
}
```

Okay, let's try this. The two separate commits may be easier to review than the final result.
----
New commits:



---

archive/issue_comments_452219.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-06-08T03:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452219",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_452220.json:
```json
{
    "body": "Doctests passed for me after having done only commit [e1f4093](https://git.sagemath.org/sage.git/commit?id=e1f4093f60c7349e740fc79302e9808057b05151), and in addition I searched for `sage.homology...`, so I think I caught all of the old references.",
    "created_at": "2021-06-08T03:09:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452220",
    "user": "https://github.com/jhpalmieri"
}
```

Doctests passed for me after having done only commit [e1f4093](https://git.sagemath.org/sage.git/commit?id=e1f4093f60c7349e740fc79302e9808057b05151), and in addition I searched for `sage.homology...`, so I think I caught all of the old references.



---

archive/issue_comments_452221.json:
```json
{
    "body": "merge conflict with 9.4.beta3",
    "created_at": "2021-06-23T01:57:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452221",
    "user": "https://github.com/mkoeppe"
}
```

merge conflict with 9.4.beta3



---

archive/issue_comments_452222.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-06-23T01:57:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452222",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_452223.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-23T03:59:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452223",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_452224.json:
```json
{
    "body": "Rebased.",
    "created_at": "2021-06-23T04:00:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452224",
    "user": "https://github.com/jhpalmieri"
}
```

Rebased.



---

archive/issue_comments_452225.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-06-23T04:00:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452225",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_452226.json:
```json
{
    "body": "LGTM.",
    "created_at": "2021-06-23T06:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452226",
    "user": "https://github.com/mkoeppe"
}
```

LGTM.



---

archive/issue_comments_452227.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-06-23T06:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452227",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_452228.json:
```json
{
    "body": "Great, thank you!",
    "created_at": "2021-06-23T16:09:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452228",
    "user": "https://github.com/jhpalmieri"
}
```

Great, thank you!



---

archive/issue_comments_452229.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-06-29T23:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452229",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_028878.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2021-06-29T23:08:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31688#event-28878"
}
```



---

archive/issue_comments_452230.json:
```json
{
    "body": "Turns out this way of deprecating the classes is inconvenient when user code actually tries to subclass some of these classes. I think it would have been better to use `lazy_import` instead with a deprecation",
    "created_at": "2021-07-01T04:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452230",
    "user": "https://github.com/mkoeppe"
}
```

Turns out this way of deprecating the classes is inconvenient when user code actually tries to subclass some of these classes. I think it would have been better to use `lazy_import` instead with a deprecation
