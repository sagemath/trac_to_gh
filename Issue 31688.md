# Issue 31688: Reorganize topology

archive/issues_031688.json:
```json
{
    "body": "CC:  tscrim yzh\n\nProposal: create a directory `sage/topology` and move some of the files currently in `sage/homology`: move `cell_complex.py`, `cubical_complex.py`, `delta_complex.py`, and `simplicial_*.py`. Also move `examples.py` and rename it to `simplicial_complex_examples.py` or similar.\n\nIssue created by migration from https://trac.sagemath.org/ticket/31925\n\n",
    "created_at": "2021-06-07T18:46:39Z",
    "labels": [
        "algebraic topology",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Reorganize topology",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31688",
    "user": "jhpalmieri"
}
```
CC:  tscrim yzh

Proposal: create a directory `sage/topology` and move some of the files currently in `sage/homology`: move `cell_complex.py`, `cubical_complex.py`, `delta_complex.py`, and `simplicial_*.py`. Also move `examples.py` and rename it to `simplicial_complex_examples.py` or similar.

Issue created by migration from https://trac.sagemath.org/ticket/31925





---

archive/issue_comments_452766.json:
```json
{
    "body": "How do we do this and respect Sage's deprecation policy? Have deprecated versions of all of the files in `sage/homology` which just contain deprecation warnings and then import from the corresponding file in `sage/topology`? Is there another option?",
    "created_at": "2021-06-07T23:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452766",
    "user": "jhpalmieri"
}
```

How do we do this and respect Sage's deprecation policy? Have deprecated versions of all of the files in `sage/homology` which just contain deprecation warnings and then import from the corresponding file in `sage/topology`? Is there another option?



---

archive/issue_comments_452767.json:
```json
{
    "body": "I think your proposal is good. I believe we did that previously when moving files.",
    "created_at": "2021-06-08T00:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452767",
    "user": "tscrim"
}
```

I think your proposal is good. I believe we did that previously when moving files.



---

archive/issue_comments_452768.json:
```json
{
    "body": "Okay, let's try this. The two separate commits may be easier to review than the final result.\n----\nNew commits:",
    "created_at": "2021-06-08T03:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452768",
    "user": "jhpalmieri"
}
```

Okay, let's try this. The two separate commits may be easier to review than the final result.
----
New commits:



---

archive/issue_comments_452769.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-06-08T03:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452769",
    "user": "jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_452770.json:
```json
{
    "body": "Doctests passed for me after having done only commit [e1f4093](https://git.sagemath.org/sage.git/commit?id=e1f4093f60c7349e740fc79302e9808057b05151), and in addition I searched for `sage.homology...`, so I think I caught all of the old references.",
    "created_at": "2021-06-08T03:09:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452770",
    "user": "jhpalmieri"
}
```

Doctests passed for me after having done only commit [e1f4093](https://git.sagemath.org/sage.git/commit?id=e1f4093f60c7349e740fc79302e9808057b05151), and in addition I searched for `sage.homology...`, so I think I caught all of the old references.



---

archive/issue_comments_452771.json:
```json
{
    "body": "merge conflict with 9.4.beta3",
    "created_at": "2021-06-23T01:57:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452771",
    "user": "mkoeppe"
}
```

merge conflict with 9.4.beta3



---

archive/issue_comments_452772.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-06-23T01:57:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452772",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_452773.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-23T03:59:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452773",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_452774.json:
```json
{
    "body": "Rebased.",
    "created_at": "2021-06-23T04:00:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452774",
    "user": "jhpalmieri"
}
```

Rebased.



---

archive/issue_comments_452775.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-06-23T04:00:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452775",
    "user": "jhpalmieri"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_452776.json:
```json
{
    "body": "LGTM.",
    "created_at": "2021-06-23T06:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452776",
    "user": "mkoeppe"
}
```

LGTM.



---

archive/issue_comments_452777.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-06-23T06:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452777",
    "user": "mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_452778.json:
```json
{
    "body": "Great, thank you!",
    "created_at": "2021-06-23T16:09:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452778",
    "user": "jhpalmieri"
}
```

Great, thank you!



---

archive/issue_comments_452779.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-06-29T23:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452779",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_452780.json:
```json
{
    "body": "Turns out this way of deprecating the classes is inconvenient when user code actually tries to subclass some of these classes. I think it would have been better to use `lazy_import` instead with a deprecation",
    "created_at": "2021-07-01T04:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31688",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31688#issuecomment-452780",
    "user": "mkoeppe"
}
```

Turns out this way of deprecating the classes is inconvenient when user code actually tries to subclass some of these classes. I think it would have been better to use `lazy_import` instead with a deprecation
