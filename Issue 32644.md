# Issue 32644: Feature for sage.rings.padics

Issue created by migration from https://trac.sagemath.org/ticket/32881

Original creator: mkoeppe

Original creation time: 2021-11-16 03:42:51

CC:  saraedum klee slabbe

We introduce a feature for the presence of `sage.rings.padics` (not included, for example in https://pypi.org/project/sagemath-polyhedra/ (#32432).

We then mark some doctests in `sage.structure` and `sage.misc` as `# optional - sage.rings.padics`.



---

Comment by git created at 2021-11-16 03:53:13

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by mkoeppe created at 2021-11-16 03:54:26

Changing status from new to needs_review.


---

Comment by git created at 2021-12-04 05:01:26

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by mkoeppe created at 2021-12-04 05:02:18

Merged updated #32174


---

Comment by slabbe created at 2022-01-04 11:38:21

Copy pasting the command allowing to test the modified files here:

```
sage -tp src/sage/categories/fields.py src/sage/features/sagemath.py src/sage/misc/cachefunc.pyx src/sage/structure/factory.pyx src/sage/structure/parent.pyx src/sage/structure/richcmp.pxd src/sage/structure/sage_object.pyx
```



---

Comment by slabbe created at 2022-01-04 11:44:48

Looks good, I get this:


```
Doctesting 7 files using 8 threads.
sage -t --random-seed=318677177718744620493039142226171694228 src/sage/features/sagemath.py
    [34 tests, 0.02 s]
sage -t --random-seed=318677177718744620493039142226171694228 src/sage/structure/richcmp.pxd
    [24 tests, 0.02 s]
sage -t --random-seed=318677177718744620493039142226171694228 src/sage/categories/fields.py
    [134 tests, 1.34 s]
sage -t --random-seed=318677177718744620493039142226171694228 src/sage/structure/parent.pyx
    [383 tests, 2.96 s]
sage -t --random-seed=318677177718744620493039142226171694228 src/sage/structure/factory.pyx
    [117 tests, 3.36 s]
sage -t --random-seed=318677177718744620493039142226171694228 src/sage/structure/sage_object.pyx
    [119 tests, 3.65 s]
sage -t --random-seed=318677177718744620493039142226171694228 src/sage/misc/cachefunc.pyx
    [825 tests, 11.16 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 11.3 seconds
    cpu time: 12.4 seconds
    cumulative wall time: 22.5 seconds
Features detected for doctesting: sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.plot,sage.rings.number_field,sage.rings.padics,sage.rings.real_double,sage.symbolic
Pytest is not installed, skip checking tests that rely on it.
```


Note that `sage.rings.padics` appears in the list of detected Features.


---

Comment by slabbe created at 2022-01-04 11:50:36

Changing status from needs_review to positive_review.


---

Comment by slabbe created at 2022-01-04 11:50:36

Patchbot is fine (only an irrelevant warning with respect to startup time).


---

Comment by mkoeppe created at 2022-01-04 13:29:38

Thank you and happy new year!


---

Comment by slabbe created at 2022-01-04 14:39:29

Happy new year to you to! I will continue to review few of your tickets for the year to come, slowly but surely.


---

Comment by vbraun created at 2022-01-31 23:31:03

Resolution: fixed
