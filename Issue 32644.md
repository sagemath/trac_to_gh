# Issue 32644: Feature for sage.rings.padics

archive/issues_032644.json:
```json
{
    "body": "CC:  @saraedum @kwankyu @seblabbe\n\nWe introduce a feature for the presence of `sage.rings.padics` (not included, for example in https://pypi.org/project/sagemath-polyhedra/ (#32432).\n\nWe then mark some doctests in `sage.structure` and `sage.misc` as `# optional - sage.rings.padics`.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/32881\n\n",
    "created_at": "2021-11-16T03:42:51Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Feature for sage.rings.padics",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32644",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @saraedum @kwankyu @seblabbe

We introduce a feature for the presence of `sage.rings.padics` (not included, for example in https://pypi.org/project/sagemath-polyhedra/ (#32432).

We then mark some doctests in `sage.structure` and `sage.misc` as `# optional - sage.rings.padics`.


Issue created by migration from https://trac.sagemath.org/ticket/32881





---

archive/issue_comments_465052.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-11-16T03:53:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32644#issuecomment-465052",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_465053.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-11-16T03:54:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32644#issuecomment-465053",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_465054.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-12-04T05:01:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32644#issuecomment-465054",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_465055.json:
```json
{
    "body": "Merged updated #32174",
    "created_at": "2021-12-04T05:02:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32644#issuecomment-465055",
    "user": "https://github.com/mkoeppe"
}
```

Merged updated #32174



---

archive/issue_comments_465056.json:
```json
{
    "body": "Copy pasting the command allowing to test the modified files here:\n\n```\nsage -tp src/sage/categories/fields.py src/sage/features/sagemath.py src/sage/misc/cachefunc.pyx src/sage/structure/factory.pyx src/sage/structure/parent.pyx src/sage/structure/richcmp.pxd src/sage/structure/sage_object.pyx\n```\n",
    "created_at": "2022-01-04T11:38:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32644#issuecomment-465056",
    "user": "https://github.com/seblabbe"
}
```

Copy pasting the command allowing to test the modified files here:

```
sage -tp src/sage/categories/fields.py src/sage/features/sagemath.py src/sage/misc/cachefunc.pyx src/sage/structure/factory.pyx src/sage/structure/parent.pyx src/sage/structure/richcmp.pxd src/sage/structure/sage_object.pyx
```




---

archive/issue_comments_465057.json:
```json
{
    "body": "Looks good, I get this:\n\n\n```\nDoctesting 7 files using 8 threads.\nsage -t --random-seed=318677177718744620493039142226171694228 src/sage/features/sagemath.py\n    [34 tests, 0.02 s]\nsage -t --random-seed=318677177718744620493039142226171694228 src/sage/structure/richcmp.pxd\n    [24 tests, 0.02 s]\nsage -t --random-seed=318677177718744620493039142226171694228 src/sage/categories/fields.py\n    [134 tests, 1.34 s]\nsage -t --random-seed=318677177718744620493039142226171694228 src/sage/structure/parent.pyx\n    [383 tests, 2.96 s]\nsage -t --random-seed=318677177718744620493039142226171694228 src/sage/structure/factory.pyx\n    [117 tests, 3.36 s]\nsage -t --random-seed=318677177718744620493039142226171694228 src/sage/structure/sage_object.pyx\n    [119 tests, 3.65 s]\nsage -t --random-seed=318677177718744620493039142226171694228 src/sage/misc/cachefunc.pyx\n    [825 tests, 11.16 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 11.3 seconds\n    cpu time: 12.4 seconds\n    cumulative wall time: 22.5 seconds\nFeatures detected for doctesting: sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.plot,sage.rings.number_field,sage.rings.padics,sage.rings.real_double,sage.symbolic\nPytest is not installed, skip checking tests that rely on it.\n```\n\n\nNote that `sage.rings.padics` appears in the list of detected Features.",
    "created_at": "2022-01-04T11:44:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32644#issuecomment-465057",
    "user": "https://github.com/seblabbe"
}
```

Looks good, I get this:


```
Doctesting 7 files using 8 threads.
sage -t --random-seed=318677177718744620493039142226171694228 src/sage/features/sagemath.py
    [34 tests, 0.02 s]
sage -t --random-seed=318677177718744620493039142226171694228 src/sage/structure/richcmp.pxd
    [24 tests, 0.02 s]
sage -t --random-seed=318677177718744620493039142226171694228 src/sage/categories/fields.py
    [134 tests, 1.34 s]
sage -t --random-seed=318677177718744620493039142226171694228 src/sage/structure/parent.pyx
    [383 tests, 2.96 s]
sage -t --random-seed=318677177718744620493039142226171694228 src/sage/structure/factory.pyx
    [117 tests, 3.36 s]
sage -t --random-seed=318677177718744620493039142226171694228 src/sage/structure/sage_object.pyx
    [119 tests, 3.65 s]
sage -t --random-seed=318677177718744620493039142226171694228 src/sage/misc/cachefunc.pyx
    [825 tests, 11.16 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 11.3 seconds
    cpu time: 12.4 seconds
    cumulative wall time: 22.5 seconds
Features detected for doctesting: sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.plot,sage.rings.number_field,sage.rings.padics,sage.rings.real_double,sage.symbolic
Pytest is not installed, skip checking tests that rely on it.
```


Note that `sage.rings.padics` appears in the list of detected Features.



---

archive/issue_comments_465058.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-01-04T11:50:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32644#issuecomment-465058",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_465059.json:
```json
{
    "body": "Patchbot is fine (only an irrelevant warning with respect to startup time).",
    "created_at": "2022-01-04T11:50:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32644#issuecomment-465059",
    "user": "https://github.com/seblabbe"
}
```

Patchbot is fine (only an irrelevant warning with respect to startup time).



---

archive/issue_comments_465060.json:
```json
{
    "body": "Thank you and happy new year!",
    "created_at": "2022-01-04T13:29:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32644#issuecomment-465060",
    "user": "https://github.com/mkoeppe"
}
```

Thank you and happy new year!



---

archive/issue_comments_465061.json:
```json
{
    "body": "Happy new year to you to! I will continue to review few of your tickets for the year to come, slowly but surely.",
    "created_at": "2022-01-04T14:39:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32644#issuecomment-465061",
    "user": "https://github.com/seblabbe"
}
```

Happy new year to you to! I will continue to review few of your tickets for the year to come, slowly but surely.



---

archive/issue_comments_465062.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-01-31T23:31:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32644#issuecomment-465062",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_029601.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2022-01-31T23:31:03Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32644",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32644#event-29601"
}
```
