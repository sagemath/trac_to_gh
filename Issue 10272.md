# Issue 10272: Maxima returns wrong value for sum(binomial(j,k),j,k,n)

archive/issues_010272.json:
```json
{
    "body": "Assignee: @burcin\n\nKeywords: maxima\n\nThe -1 should not be here:\n\n```\nsage: sum(binomial(j,k),j,k,k+1)\nk + 2\nsage: sum(binomial(j,k),j,k,n)\nbinomial(n + 1, k + 1) - 1\nsage: sum(binomial(j,k),j,k,n).subs({n:k+1})\nbinomial(k + 2, k + 1) - 1\nsage: maxima_console()\n;;; Loading #P\"/home/jp/boulot/sage/sage-4.6/local/lib/ecl/defsystem.fas\"\n;;; Loading #P\"/home/jp/boulot/sage/sage-4.6/local/lib/ecl/cmp.fas\"\n;;; Loading #P\"/home/jp/boulot/sage/sage-4.6/local/lib/ecl/sysfun.lsp\"\nMaxima 5.20.1 http://maxima.sourceforge.net\nusing Lisp ECL 10.2.1\nDistributed under the GNU Public License. See the file COPYING.\nDedicated to the memory of William Schelter.\nThe function bug_report() provides bug reporting information.\n(%i1) load(\"simplify_sum\");\n(%o1) /home/jp/boulot/sage/sage-4.6/local/share/maxima/5.20.1/share/contrib/so\\\nlve_rec/simplify_sum.mac\n(%i2) sum(binomial(j,k),j,k,n);\n                              n\n                             ====\n                             \\\n(%o2)                         >    binomial(j, k)\n                             /\n                             ====\n                             j = k\n(%i3) simplify_sum(%);\n(%o3)                     binomial(n + 1, k + 1) - 1\n(%i4) sum(binomial(j,k),j,0,n);\n                              n\n                             ====\n                             \\\n(%o4)                         >    binomial(j, k)\n                             /\n                             ====\n                             j = 0\n(%i5) simplify_sum(%);\n(%o5)             binomial(n + 1, k + 1) - binomial(1, k + 1)\n\n```\n\nIssue created by migration from https://trac.sagemath.org/ticket/10273\n\n",
    "closed_at": "2010-11-15T16:46:18Z",
    "created_at": "2010-11-15T16:32:32Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Maxima returns wrong value for sum(binomial(j,k),j,k,n)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10272",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```
Assignee: @burcin

Keywords: maxima

The -1 should not be here:

```
sage: sum(binomial(j,k),j,k,k+1)
k + 2
sage: sum(binomial(j,k),j,k,n)
binomial(n + 1, k + 1) - 1
sage: sum(binomial(j,k),j,k,n).subs({n:k+1})
binomial(k + 2, k + 1) - 1
sage: maxima_console()
;;; Loading #P"/home/jp/boulot/sage/sage-4.6/local/lib/ecl/defsystem.fas"
;;; Loading #P"/home/jp/boulot/sage/sage-4.6/local/lib/ecl/cmp.fas"
;;; Loading #P"/home/jp/boulot/sage/sage-4.6/local/lib/ecl/sysfun.lsp"
Maxima 5.20.1 http://maxima.sourceforge.net
using Lisp ECL 10.2.1
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i1) load("simplify_sum");
(%o1) /home/jp/boulot/sage/sage-4.6/local/share/maxima/5.20.1/share/contrib/so\
lve_rec/simplify_sum.mac
(%i2) sum(binomial(j,k),j,k,n);
                              n
                             ====
                             \
(%o2)                         >    binomial(j, k)
                             /
                             ====
                             j = k
(%i3) simplify_sum(%);
(%o3)                     binomial(n + 1, k + 1) - 1
(%i4) sum(binomial(j,k),j,0,n);
                              n
                             ====
                             \
(%o4)                         >    binomial(j, k)
                             /
                             ====
                             j = 0
(%i5) simplify_sum(%);
(%o5)             binomial(n + 1, k + 1) - binomial(1, k + 1)

```

Issue created by migration from https://trac.sagemath.org/ticket/10273





---

archive/issue_comments_104672.json:
```json
{
    "body": "I just tested it with Maxima 5.22.1 and Ecl from #10187 and the result is now correct.\nSo updating to that version will fix this problem.\n\n```\nsage: maxima_console()\n;;; Loading #P\"/home/jp/boulot/sage/sage-4.6/local/lib/ecl/sb-bsd-sockets.fas\"\n;;; Loading #P\"/home/jp/boulot/sage/sage-4.6/local/lib/ecl/sockets.fas\"\n;;; Loading #P\"/home/jp/boulot/sage/sage-4.6/local/lib/ecl/defsystem.fas\"\n;;; Loading #P\"/home/jp/boulot/sage/sage-4.6/local/lib/ecl/cmp.fas\"\n;;; Loading #P\"/home/jp/boulot/sage/sage-4.6/local/lib/ecl/sysfun.lsp\"\nMaxima 5.22.1 http://maxima.sourceforge.net\nusing Lisp ECL 10.4.1\nDistributed under the GNU Public License. See the file COPYING.\nDedicated to the memory of William Schelter.\nThe function bug_report() provides bug reporting information.\n(%i1) load(\"simplify_sum\");\n\n(%o1) /home/jp/boulot/sage/sage-4.6/local/share/maxima/5.22.1/share/contrib/so\\\nlve_rec/simplify_sum.mac\n(%i2) sum(binomial(j,k),j,k,n);\n\n                              n\n                             ====\n                             \\\n(%o2)                         >    binomial(j, k)\n                             /\n                             ====\n                             j = k\n(%i3) simplify_sum(%);\n\n(%o3)                       binomial(n + 1, k + 1)\n(%i4) sum(binomial(j,k),j,0,n);\n\n                              n\n                             ====\n                             \\\n(%o4)                         >    binomial(j, k)\n                             /\n                             ====\n                             j = 0\n(%i5) simplify_sum(%);\n\n(%o5)             binomial(n + 1, k + 1) - binomial(0, k + 1)\nsage: x,y,z=var('x,y,z')\nsage: i,j,k,n,m,d=var('i,j,k,n,m,d')\nsage: sum(binomial(j,k),j,k,n)\nbinomial(n + 1, k + 1)\n```",
    "created_at": "2010-11-15T16:38:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10272#issuecomment-104672",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

I just tested it with Maxima 5.22.1 and Ecl from #10187 and the result is now correct.
So updating to that version will fix this problem.

```
sage: maxima_console()
;;; Loading #P"/home/jp/boulot/sage/sage-4.6/local/lib/ecl/sb-bsd-sockets.fas"
;;; Loading #P"/home/jp/boulot/sage/sage-4.6/local/lib/ecl/sockets.fas"
;;; Loading #P"/home/jp/boulot/sage/sage-4.6/local/lib/ecl/defsystem.fas"
;;; Loading #P"/home/jp/boulot/sage/sage-4.6/local/lib/ecl/cmp.fas"
;;; Loading #P"/home/jp/boulot/sage/sage-4.6/local/lib/ecl/sysfun.lsp"
Maxima 5.22.1 http://maxima.sourceforge.net
using Lisp ECL 10.4.1
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i1) load("simplify_sum");

(%o1) /home/jp/boulot/sage/sage-4.6/local/share/maxima/5.22.1/share/contrib/so\
lve_rec/simplify_sum.mac
(%i2) sum(binomial(j,k),j,k,n);

                              n
                             ====
                             \
(%o2)                         >    binomial(j, k)
                             /
                             ====
                             j = k
(%i3) simplify_sum(%);

(%o3)                       binomial(n + 1, k + 1)
(%i4) sum(binomial(j,k),j,0,n);

                              n
                             ====
                             \
(%o4)                         >    binomial(j, k)
                             /
                             ====
                             j = 0
(%i5) simplify_sum(%);

(%o5)             binomial(n + 1, k + 1) - binomial(0, k + 1)
sage: x,y,z=var('x,y,z')
sage: i,j,k,n,m,d=var('i,j,k,n,m,d')
sage: sum(binomial(j,k),j,k,n)
binomial(n + 1, k + 1)
```



---

archive/issue_comments_104673.json:
```json
{
    "body": "Sorry for the noise, it was already mentionned here: #7952\n\nHowever the patch to maxima was not included yet.",
    "created_at": "2010-11-15T16:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10272#issuecomment-104673",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Sorry for the noise, it was already mentionned here: #7952

However the patch to maxima was not included yet.



---

archive/issue_comments_104674.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2010-11-15T16:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10272#issuecomment-104674",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Resolution: duplicate



---

archive/issue_comments_104675.json:
```json
{
    "body": "Changing keywords from \"\" to \"maxima\".",
    "created_at": "2010-11-15T16:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10272#issuecomment-104675",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing keywords from "" to "maxima".



---

archive/issue_events_026417.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2010-11-15T16:46:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10272",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10272#event-26417"
}
```



---

archive/issue_events_026418.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2010-11-21T15:26:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10272",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10272#event-26418"
}
```
