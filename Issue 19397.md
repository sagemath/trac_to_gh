# Issue 19397: Implement Hochschild (co)homology

Issue created by migration from https://trac.sagemath.org/ticket/19634

Original creator: tscrim

Original creation time: 2015-11-27 16:49:40

Assignee: tscrim

CC:  jhpalmieri

This is an implementation of Hochschild (co)homology as a first approach to work with implementing infinite chain complexes.


---

Comment by tscrim created at 2015-11-27 17:35:37

Here's an initial mock-up. Thought you might be interested. Also I was wondering if you knew of a better way to compute the cohomology and how much you think we should abstract these concepts for doing more general homology computations?

Related, would you be interested in an implementation of modules and free resolutions over polynomial rings?
----
New commits:


---

Comment by jhpalmieri created at 2016-01-29 19:47:07

Hi Travis, I'm finally getting around to looking at this. I have some issues with the documentation. I don't have much experience with Hochschild homology, so some of these may just be my own ignorance.

- If you're working over a base ring _R_ which is not a field, do things go wrong if _M_ is not projective as an _R_-module?

- I think the face maps _d_i_ would be better without signs, and then the boundary map would be their alternating sum (as the Wikipedia page says). The point is that the unsigned face maps would be part of a simplicial structure.

- When you mention Tor and Ext, they should be over the ring _A<sup>e</sup>_, the tensor product of _A_ and _A<sup>op</sup>_, instead of _A_.

Looking at the code, I wonder if it would be better to use Sage's `ChainComplex` class, at least when computing homology: to compute homology in dimension _d_, construct the chain complex by

```
C = ChainComplex({d: self.boundary(d).matrix(), d+1: self.boundary(d+1).matrix()}, degree_of_differential=-1)
```

Then compute `C.homology(d)` and lift the answer back to the original Hochschild complex. I didn't try any kind of lifting, but it seemed that constructing `C` and then computing `C.homology(d)` was faster than directly computing `HH.homology(d)`, at least in the cases I tried. One possible advantage is that if some day we speed up computations with general chain complexes, then this class would benefit.


---

Comment by git created at 2016-02-04 19:41:58

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by tscrim created at 2016-02-04 20:03:17

Changing status from new to needs_review.


---

Comment by tscrim created at 2016-02-04 20:03:17

Changing component from categories to algebra.


---

Comment by tscrim created at 2016-02-04 20:03:17

Replying to [comment:2 jhpalmieri]:
> Hi Travis, I'm finally getting around to looking at this.

Thanks!

> I have some issues with the documentation. I don't have much experience with Hochschild homology, so some of these may just be my own ignorance.

I don't so much either, but I felt this provided a nice test case for infinite chain complexes (two of the things I'd like to eventually get would be group and Lie algebra (co)homology).

> - If you're working over a base ring _R_ which is not a field, do things go wrong if _M_ is not projective as an _R_-module?

I have no idea. Wikipedia was the most general reference as (IIRC) all of the other references I had found either assumed _R_ was a field or made some implicit assumption (i.e., the base ring of the algebra was not specified).

> - I think the face maps _d_i_ would be better without signs, and then the boundary map would be their alternating sum (as the Wikipedia page says). The point is that the unsigned face maps would be part of a simplicial structure.

Good point; changed. I also added the part about the simplicial structure to the doc.

> - When you mention Tor and Ext, they should be over the ring _A<sup>e</sup>_, the tensor product of _A_ and _A<sup>op</sup>_, instead of _A_.

Fixed.

> Looking at the code, I wonder if it would be better to use Sage's `ChainComplex` class, at least when computing homology: to compute homology in dimension _d_, construct the chain complex by
> {{{
> C = ChainComplex({d: self.boundary(d).matrix(), d+1: self.boundary(d+1).matrix()}, degree_of_differential=-1)
> }}}
> Then compute `C.homology(d)` and lift the answer back to the original Hochschild complex. I didn't try any kind of lifting, but it seemed that constructing `C` and then computing `C.homology(d)` was faster than directly computing `HH.homology(d)`, at least in the cases I tried. One possible advantage is that if some day we speed up computations with general chain complexes, then this class would benefit.

I agree that it is both faster and avoids duplication. In an ideal world, we would have everything under a single class hierarchy, but I think that will probably require a fair bit of refactoring. I left my code as a fallback because the chain complex code currently requires working over a field or *Z*, and, a priori, it does not require it. (It currently fails for doing the symmetric group algebra over *Q*[_x_], but this could easily be fixed by making the diagonal entries `1` if they are units.)

I also merged in #19613 because I used it for testing things (and it will be in the next beta).


---

Comment by tscrim created at 2016-02-04 20:03:17

Changing keywords from "" to "Hochschild, homology, chain complexes".


---

Comment by git created at 2016-03-17 20:35:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jhpalmieri created at 2016-03-17 20:40:13

Here are a few small changes which I think are self-explanatory. A request: in the `homology` method, you have

```
        try:
            return C.homology(d)
        except NotImplementedError:
            pass
        ...
```

Could you add a doctest that tests the second part of this: an example in which a `NotImplementedError` is raised? I added a print statement after the `try ... except` block, and it never executed.


---

Comment by jhpalmieri created at 2016-03-17 20:41:47

(One change which may need explanation: without the statement `self._base = A.base_ring()`, a command like `H.base_ring()` has no output.)


---

Comment by git created at 2016-03-18 01:13:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2016-03-18 01:15:45

I have added a test for when homology raises a `NotImplementedError`, but I needed to add some more support for general rings for the sub and quotient modules of combinatorial free modules (#20229).


---

Comment by jhpalmieri created at 2016-03-22 02:01:51

Looks good, thanks.


---

Comment by jhpalmieri created at 2016-03-22 02:01:51

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2016-03-22 02:49:30

Thank you for doing the review!


---

Comment by vbraun created at 2016-03-23 23:55:08

Resolution: fixed


---

Comment by jdemeyer created at 2016-09-01 08:44:37

In #20686, I will mark `TestSuite(H).run()` as `# known bug` because `HochschildComplex` does not properly implement everything needed for its category. For example, it does not implement `zero()`.

These problems were not seen before simply because the category tests were not run. #20686 ensures that the correct tests are run, but then they fail for `HochschildComplex`.

Luckily, #20686 fixes this:

```
             sage: H in ChainComplexes(QQ)
             True
```

which was `# known bug` before.


---

Comment by jdemeyer created at 2016-09-01 08:49:09

See #21386.
