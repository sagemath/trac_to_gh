# Issue 15943: Subdivide fans using PPL

Issue created by migration from Trac.

Original creator: novoselt

Original creation time: 2014-04-17 20:13:12

CC:  vbraun jkeitel




---

Comment by novoselt created at 2014-04-22 22:21:34

Changing status from new to needs_review.


---

Comment by novoselt created at 2014-04-22 22:21:34

New commits:


---

Comment by novoselt created at 2014-04-22 22:21:34

Changing type from PLEASE CHANGE to enhancement.


---

Comment by novoselt created at 2014-04-22 22:21:34

Changing keywords from "" to "toric".


---

Comment by novoselt created at 2014-04-22 22:21:34

Changing component from PLEASE CHANGE to geometry.


---

Comment by jkeitel created at 2014-07-24 13:25:21

Hi Andrey,

I've looked at the patch at it looks good - it's always nice to get rid of `LatticePolytope`. ;-)
One quick question: Is there any reason you're not caching the `polyhedron()` method of `Cone`?
----
New commits:


---

Comment by novoselt created at 2014-07-24 15:34:06

Well don't hate it please, there is nothing wrong with the class, only with its backend which was designed for a quite specific purpose ;-) And of course bounded polytopes are not the best way to represent unbounded cones.

As for caching - why should we cache `polyhedron()`? It is a complicated data structure which will take memory and can cause issues in pickling (this was the main reason for the change here, if I recall correctly - I was trying to simplify pickling code), it is not used extensively in internal computations, and I don't think there are many reasons for users to construct them. On the other hand it definitely can be handy if you want to do some generic operations like shifting the cone from the origin.

Were there any conflicts during merge? (I never liked what is shown when you click on "merge commit.")


---

Comment by git created at 2014-07-24 15:46:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jkeitel created at 2014-07-24 15:51:13

No, the merge went through cleanly. I just merged the development branch in to see whether it is working with the current version. Otherwise I wouldn't have noticed the doctest warning because of the line number, since that has only recently been included (#16626). And I then based the new commit on the merged branch since it saved a lot of time when building Sage. I hope Volker will forgive the extra commit.

I just noticed that `polytope()` only seems to get used in the doctests - so not caching does make perfect sense. If you're happy, then you can set this to positive review.


---

Comment by vbraun created at 2014-07-24 15:54:50

Thanks, lgtm!


---

Comment by vbraun created at 2014-07-24 15:54:50

Changing status from needs_review to positive_review.


---

Comment by novoselt created at 2014-07-24 15:56:12

Thank you! Looking at your changes made me realize that toric stuff existed for 4 years already! Life is fast...


---

Comment by vbraun created at 2014-07-25 05:05:45

Resolution: fixed
