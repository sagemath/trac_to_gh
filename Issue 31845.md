# Issue 31845: Implement e7 and e8 as matrix Lie algebras

archive/issues_031845.json:
```json
{
    "body": "CC:  chapoton darij\n\nKeywords: lie algebras\n\nWe provide a sparse version of some methods to help facilitate this construction and keep the amount of memory used small.\n\nIssue created by migration from https://trac.sagemath.org/ticket/32082\n\n",
    "created_at": "2021-06-29T06:56:38Z",
    "labels": [
        "algebra",
        "major",
        "enhancement"
    ],
    "title": "Implement e7 and e8 as matrix Lie algebras",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31845",
    "user": "tscrim"
}
```
CC:  chapoton darij

Keywords: lie algebras

We provide a sparse version of some methods to help facilitate this construction and keep the amount of memory used small.

Issue created by migration from https://trac.sagemath.org/ticket/32082





---

archive/issue_comments_455082.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-06-29T06:57:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455082",
    "user": "tscrim"
}
```

New commits:



---

archive/issue_comments_455083.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-06-29T06:57:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455083",
    "user": "tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_455084.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-05T23:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455084",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_455085.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-05T23:36:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455085",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_455086.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-05T23:57:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455086",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_455087.json:
```json
{
    "body": "Hi Fr\u00e9d\u00e9ric. Would you be willing to review this ticket?\n\nFor the basis computation algorithm, it works by having the generators act on the new basis vectors that we see during each iteration. To improve stuff for larger rank, I added some sparseness support that improves the `basis()` computation both in terms of memory and speed.",
    "created_at": "2021-07-06T00:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455087",
    "user": "tscrim"
}
```

Hi Frédéric. Would you be willing to review this ticket?

For the basis computation algorithm, it works by having the generators act on the new basis vectors that we see during each iteration. To improve stuff for larger rank, I added some sparseness support that improves the `basis()` computation both in terms of memory and speed.



---

archive/issue_comments_455088.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-07T05:23:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455088",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_455089.json:
```json
{
    "body": "Green patchbot.",
    "created_at": "2021-07-08T23:21:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455089",
    "user": "tscrim"
}
```

Green patchbot.



---

archive/issue_comments_455090.json:
```json
{
    "body": "This is relatively simple implementation of e<sub>7</sub> and e<sub>8</sub> as matrix Lie algebras with some added speed improvements that should be straightforward to review. Doctests verify that they are the correct Lie algebras. Green patchbot.",
    "created_at": "2021-08-13T07:20:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455090",
    "user": "tscrim"
}
```

This is relatively simple implementation of e<sub>7</sub> and e<sub>8</sub> as matrix Lie algebras with some added speed improvements that should be straightforward to review. Doctests verify that they are the correct Lie algebras. Green patchbot.



---

archive/issue_comments_455091.json:
```json
{
    "body": "ok, looks good.\n\nPlease add one empty line before\n\n```\n+        def build_assoc(row):\n```\n\nand then you can set to positive on my behalf.",
    "created_at": "2021-08-14T16:32:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455091",
    "user": "chapoton"
}
```

ok, looks good.

Please add one empty line before

```
+        def build_assoc(row):
```

and then you can set to positive on my behalf.



---

archive/issue_comments_455092.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-14T21:32:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455092",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_455093.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-08-14T21:32:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455093",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_455094.json:
```json
{
    "body": "Done. Thank you.",
    "created_at": "2021-08-14T21:32:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455094",
    "user": "tscrim"
}
```

Done. Thank you.



---

archive/issue_comments_455095.json:
```json
{
    "body": "Running the test suite could be done in a TESTS block\n(+ minor rephrasing suggestion):\n\n\n```diff\n         EXAMPLES::\n \n             sage: g = LieAlgebra(QQ, cartan_type=['E', 8], representation='matrix')\n             sage: g\n             Simple matrix Lie algebra of type ['E', 8] over Rational Field\n\n+        TESTS:\n+\n+        Run the test suite, skipping tests that take too long::\n+\n+            sage: g = LieAlgebra(QQ, cartan_type=['E', 8], representation='matrix')\n             sage: TestSuite(g).run(skip=\"_test_not_implemented_methods\")  # long time\n-\n-        We skipped this tests as it takes too much time.\n         \"\"\"\n```\n\n\nOr fix the typo in \"We skipped this tests\".",
    "created_at": "2021-08-15T20:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455095",
    "user": "slelievre"
}
```

Running the test suite could be done in a TESTS block
(+ minor rephrasing suggestion):


```diff
         EXAMPLES::
 
             sage: g = LieAlgebra(QQ, cartan_type=['E', 8], representation='matrix')
             sage: g
             Simple matrix Lie algebra of type ['E', 8] over Rational Field

+        TESTS:
+
+        Run the test suite, skipping tests that take too long::
+
+            sage: g = LieAlgebra(QQ, cartan_type=['E', 8], representation='matrix')
             sage: TestSuite(g).run(skip="_test_not_implemented_methods")  # long time
-
-        We skipped this tests as it takes too much time.
         """
```


Or fix the typo in "We skipped this tests".



---

archive/issue_comments_455096.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-08-15T20:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455096",
    "user": "slelievre"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_455097.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-16T00:17:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455097",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_455098.json:
```json
{
    "body": "I think it really doesn't make any difference for an `__init__` doctest being `TESTS::` versus `EXAMPLES::` as any casual user will never see it, but I changed it. I made an additional tweak to your suggested change too.",
    "created_at": "2021-08-16T00:18:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455098",
    "user": "tscrim"
}
```

I think it really doesn't make any difference for an `__init__` doctest being `TESTS::` versus `EXAMPLES::` as any casual user will never see it, but I changed it. I made an additional tweak to your suggested change too.



---

archive/issue_comments_455099.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-08-16T00:18:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455099",
    "user": "tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_455100.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-08-16T00:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455100",
    "user": "slelievre"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_455101.json:
```json
{
    "body": "You are right about EXAMPLES vs TESTS for\nan `__init__` method; restore if you prefer.\n\nI would use present tense \"We skip\"\nrather than \"We skipped\", but up to you.",
    "created_at": "2021-08-16T00:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455101",
    "user": "slelievre"
}
```

You are right about EXAMPLES vs TESTS for
an `__init__` method; restore if you prefer.

I would use present tense "We skip"
rather than "We skipped", but up to you.



---

archive/issue_comments_455102.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2021-08-16T01:31:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455102",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_455103.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-08-16T01:31:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455103",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_455104.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-08-16T01:31:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455104",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_455105.json:
```json
{
    "body": "Good point about the present tense. I am allowing myself to reset a positive review as the change is trivial.",
    "created_at": "2021-08-16T01:31:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455105",
    "user": "tscrim"
}
```

Good point about the present tense. I am allowing myself to reset a positive review as the change is trivial.



---

archive/issue_comments_455106.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-08-31T22:00:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31845#issuecomment-455106",
    "user": "vbraun"
}
```

Resolution: fixed
