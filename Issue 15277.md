# Issue 15277: adding option for computing a total dominating set

archive/issues_015277.json:
```json
{
    "body": "CC:  ncohen\n\nThe attached patch adds a (short) option to dominating_set that let you compute the total dominating set of a graph.\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/15514\n\n",
    "created_at": "2013-12-12T13:46:29Z",
    "labels": [
        "graph theory",
        "minor",
        "enhancement"
    ],
    "title": "adding option for computing a total dominating set",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15277",
    "user": "azi"
}
```
CC:  ncohen

The attached patch adds a (short) option to dominating_set that let you compute the total dominating set of a graph.



Issue created by migration from https://trac.sagemath.org/ticket/15514





---

archive/issue_comments_196492.json:
```json
{
    "body": "Attachment",
    "created_at": "2013-12-12T13:46:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196492",
    "user": "azi"
}
```

Attachment



---

archive/issue_comments_196493.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-12-12T13:47:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196493",
    "user": "azi"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_196494.json:
```json
{
    "body": "Yoooooooooo !!\n\nWell, I guess that `independent=True,total=True` does not make much sense, but it will raise an exception sooo... `:-)`\n\nNathann",
    "created_at": "2013-12-12T13:52:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196494",
    "user": "ncohen"
}
```

Yoooooooooo !!

Well, I guess that `independent=True,total=True` does not make much sense, but it will raise an exception sooo... `:-)`

Nathann



---

archive/issue_comments_196495.json:
```json
{
    "body": "Oh, could you please add a doctest for that ?\n\nNathann",
    "created_at": "2013-12-12T13:53:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196495",
    "user": "ncohen"
}
```

Oh, could you please add a doctest for that ?

Nathann



---

archive/issue_comments_196496.json:
```json
{
    "body": "(I mean, for your new flag. Not for the combination independent/total)\n\nNathann",
    "created_at": "2013-12-12T13:55:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196496",
    "user": "ncohen"
}
```

(I mean, for your new flag. Not for the combination independent/total)

Nathann



---

archive/issue_comments_196497.json:
```json
{
    "body": "Attachment",
    "created_at": "2013-12-12T14:06:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196497",
    "user": "azi"
}
```

Attachment



---

archive/issue_comments_196498.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-12-12T14:15:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196498",
    "user": "ncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_196499.json:
```json
{
    "body": "(oh, and that's totally up to you, but you can replace the big \"if\" by multiplying `b[v]` by `bool(total)` `:-PPPP`\n\nNathann",
    "created_at": "2013-12-12T14:15:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196499",
    "user": "ncohen"
}
```

(oh, and that's totally up to you, but you can replace the big "if" by multiplying `b[v]` by `bool(total)` `:-PPPP`

Nathann



---

archive/issue_comments_196500.json:
```json
{
    "body": "BTW I have added the relevant doctest!\n\nI like your bool thing more than the if statement,  but somehow I am too tired to even open the patch and fix it :-(",
    "created_at": "2013-12-12T14:18:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196500",
    "user": "azi"
}
```

BTW I have added the relevant doctest!

I like your bool thing more than the if statement,  but somehow I am too tired to even open the patch and fix it :-(



---

archive/issue_comments_196501.json:
```json
{
    "body": "Hmmmmm... Sorry but would it be possible to have this doctest NOT output the list of vertices, only the cardinal ? That's what usually happens in the LP doctests... We can't be sure that the result will always be the same on all platforms, and even less that all solvers will return the same set `^^;`\n\nNathann",
    "created_at": "2013-12-12T14:21:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196501",
    "user": "ncohen"
}
```

Hmmmmm... Sorry but would it be possible to have this doctest NOT output the list of vertices, only the cardinal ? That's what usually happens in the LP doctests... We can't be sure that the result will always be the same on all platforms, and even less that all solvers will return the same set `^^;`

Nathann



---

archive/issue_comments_196502.json:
```json
{
    "body": "Oh. By the way, I am trying to protect Sage against problems with multiple edges/loops in #15572. And your total dominating set can be impacted by the existence of loops.\n\nYou can either handle it, or not care about it and call the new `self._scream_if_not_simple()` function I am creating. Both a fine to me, for as long as Sage does noto give wrong answers `:-P`\n\nNathann",
    "created_at": "2013-12-23T11:55:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196502",
    "user": "ncohen"
}
```

Oh. By the way, I am trying to protect Sage against problems with multiple edges/loops in #15572. And your total dominating set can be impacted by the existence of loops.

You can either handle it, or not care about it and call the new `self._scream_if_not_simple()` function I am creating. Both a fine to me, for as long as Sage does noto give wrong answers `:-P`

Nathann



---

archive/issue_comments_196503.json:
```json
{
    "body": "So should I add this call to this patch and make this ticket dependant on #15572?",
    "created_at": "2014-01-08T21:46:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196503",
    "user": "azi"
}
```

So should I add this call to this patch and make this ticket dependant on #15572?



---

archive/issue_comments_196504.json:
```json
{
    "body": "Only when asked to compute a total dominating set, and only when there are loops, yes. Multiple edges make no difference `:-)`\n\nNathann",
    "created_at": "2014-01-09T08:49:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196504",
    "user": "ncohen"
}
```

Only when asked to compute a total dominating set, and only when there are loops, yes. Multiple edges make no difference `:-)`

Nathann



---

archive/issue_comments_196505.json:
```json
{
    "body": "Hey! \n\nI am trying to learn git by trying to make a change to this patch.\n\nSo far I did \n\n\n```\ngit trac checkout 15514\n```\n\n\nwhich apparently created a new branch but I don't see it. Do you happen to know where can I access that branch so that I can actually push some changes here?\n\nBest,\n\nJernej",
    "created_at": "2014-11-23T11:37:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196505",
    "user": "azi"
}
```

Hey! 

I am trying to learn git by trying to make a change to this patch.

So far I did 


```
git trac checkout 15514
```


which apparently created a new branch but I don't see it. Do you happen to know where can I access that branch so that I can actually push some changes here?

Best,

Jernej



---

archive/issue_comments_196506.json:
```json
{
    "body": "I can't really help. I do not use the \"git trac\" commands.\n\nI would say that this checkout command creates a branch, that you now have to modify what you want in the code and create a commit, then that you have to push it ... But really I do not know what the \"git trac\" commands do.\n\nWithout the git trac commands the following should work:\n\ngit checkout -b my_new_branch develop # creates a new branch where develop is\n# Do your changes to Sage\ngit commit -a # turn all your change into a commit (the equivalent of a hg patch)\ngit push trac HEAD:u/azi/adding_option_for_computing_a_total_dominating_set\n\nNathann",
    "created_at": "2014-11-23T11:40:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196506",
    "user": "ncohen"
}
```

I can't really help. I do not use the "git trac" commands.

I would say that this checkout command creates a branch, that you now have to modify what you want in the code and create a commit, then that you have to push it ... But really I do not know what the "git trac" commands do.

Without the git trac commands the following should work:

git checkout -b my_new_branch develop # creates a new branch where develop is
# Do your changes to Sage
git commit -a # turn all your change into a commit (the equivalent of a hg patch)
git push trac HEAD:u/azi/adding_option_for_computing_a_total_dominating_set

Nathann



---

archive/issue_comments_196507.json:
```json
{
    "body": "Hey!\n\nThanks. Do you happen to know what this error is about?\n\n\n```\nazi@goodegg:~/sage$ git checkout -b total_domination develop\nfatal: Cannot update paths and switch to branch 'total_domination' at the same time.\nDid you intend to checkout 'develop' which can not be resolved as commit?\n```\n",
    "created_at": "2014-11-23T11:46:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196507",
    "user": "azi"
}
```

Hey!

Thanks. Do you happen to know what this error is about?


```
azi@goodegg:~/sage$ git checkout -b total_domination develop
fatal: Cannot update paths and switch to branch 'total_domination' at the same time.
Did you intend to checkout 'develop' which can not be resolved as commit?
```




---

archive/issue_comments_196508.json:
```json
{
    "body": "Oh. It seems that no local branch of yours is named \"develop\" (see output of 'git branch'). Don't really know what to do there O_o\n\nPoint is that perhaps you should write to sage-devel or sage-support. If the docs are not clear about that, it is a problem `:-/`\n\nNathann",
    "created_at": "2014-11-23T11:47:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196508",
    "user": "ncohen"
}
```

Oh. It seems that no local branch of yours is named "develop" (see output of 'git branch'). Don't really know what to do there O_o

Point is that perhaps you should write to sage-devel or sage-support. If the docs are not clear about that, it is a problem `:-/`

Nathann



---

archive/issue_comments_196509.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-11-23T15:45:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196509",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_196510.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-11-25T17:35:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196510",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_196511.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-11-25T17:36:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196511",
    "user": "azi"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_196512.json:
```json
{
    "body": "Excellent ! Well, it all looks good except your optimization for the objective function.\n\n1) Really, you are solving a NP-Hard problem and you are saving on a list ? `:-P`\n\n2) Actually, this code is slower than the previous one:\n\n\n```\nsage: p = MixedIntegerLinearProgram()\nsage: b = p.new_variable(binary=True)\nsage: %timeit sum(b[x] for x in range(1000))\n10 loops, best of 3: 77.1 ms per loop\nsage: %timeit p.sum(b[x] for x in range(1000))\n1000 loops, best of 3: 1.09 ms per loop\n```\n\n\nThis is because a \"sum of LP variables\" is a \"linearfunction\" object, and that adding to it another LP variable creates a second linearfunction object, which is mostly a copy of the previous one. Thus, `b[0]+b[1]+....+b[n]` creates `n` linearfunction objects and has a quadratic complexity.\n\nThat's why `p.sum` was created: as p.sum is dedicated to linearfunctions, it handles the, in the best way, without creating useless intermediate objects.\n\nNathann\n\nP.S. : If you fix this in a third commit, you will haev commits which undo what the previous commits do. It is actually possibly, using git, to merge them all into one (called \"squash\" in git slang).\n\nTwo ways:\n\n1) Look at \"git rebase -i\"\n\n2) If you run \"git reset HEAD~1\", the last commit is \"destroyed\" and the changes it contains become \"unstaged\" chages. This, together with \"git commit --amend\" is another way to merge the commits.",
    "created_at": "2014-11-26T02:50:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196512",
    "user": "ncohen"
}
```

Excellent ! Well, it all looks good except your optimization for the objective function.

1) Really, you are solving a NP-Hard problem and you are saving on a list ? `:-P`

2) Actually, this code is slower than the previous one:


```
sage: p = MixedIntegerLinearProgram()
sage: b = p.new_variable(binary=True)
sage: %timeit sum(b[x] for x in range(1000))
10 loops, best of 3: 77.1 ms per loop
sage: %timeit p.sum(b[x] for x in range(1000))
1000 loops, best of 3: 1.09 ms per loop
```


This is because a "sum of LP variables" is a "linearfunction" object, and that adding to it another LP variable creates a second linearfunction object, which is mostly a copy of the previous one. Thus, `b[0]+b[1]+....+b[n]` creates `n` linearfunction objects and has a quadratic complexity.

That's why `p.sum` was created: as p.sum is dedicated to linearfunctions, it handles the, in the best way, without creating useless intermediate objects.

Nathann

P.S. : If you fix this in a third commit, you will haev commits which undo what the previous commits do. It is actually possibly, using git, to merge them all into one (called "squash" in git slang).

Two ways:

1) Look at "git rebase -i"

2) If you run "git reset HEAD~1", the last commit is "destroyed" and the changes it contains become "unstaged" chages. This, together with "git commit --amend" is another way to merge the commits.



---

archive/issue_comments_196513.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-11-26T02:50:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196513",
    "user": "ncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_196514.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-11-26T19:17:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196514",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_196515.json:
```json
{
    "body": "Replying to [comment:23 ncohen]:\n> Excellent ! Well, it all looks good except your optimization for the objective function.\n> \n> 1) Really, you are solving a NP-Hard problem and you are saving on a list ? `:-P`\nI think its still fair to do such optimisations. They may come handy for say graphs of order ~100 and high degree. But if its not an actually improvement then ofc you're right and and my bad for not checking it!\n> \n> 2) Actually, this code is slower than the previous one:\n> \n> {{{\n> sage: p = MixedIntegerLinearProgram()\n> sage: b = p.new_variable(binary=True)\n> sage: %timeit sum(b[x] for x in range(1000))\n> 10 loops, best of 3: 77.1 ms per loop\n> sage: %timeit p.sum(b[x] for x in range(1000))\n> 1000 loops, best of 3: 1.09 ms per loop\n> }}}\n> \n> This is because a \"sum of LP variables\" is a \"linearfunction\" object, and that adding to it another LP variable creates a second linearfunction object, which is mostly a copy of the previous one. Thus, `b[0]+b[1]+....+b[n]` creates `n` linearfunction objects and has a quadratic complexity.\n> \n> That's why `p.sum` was created: as p.sum is dedicated to linearfunctions, it handles the, in the best way, without creating useless intermediate objects.\nOooh, I was really wondering why we're using p.sum...\n\n> \n> Nathann\n> \n> P.S. : If you fix this in a third commit, you will haev commits which undo what the previous commits do. It is actually possibly, using git, to merge them all into one (called \"squash\" in git slang).\n> \n> Two ways:\n> \n> 1) Look at \"git rebase -i\"\n> \n> 2) If you run \"git reset HEAD~1\", the last commit is \"destroyed\" and the changes it contains become \"unstaged\" chages. This, together with \"git commit --amend\" is another way to merge the commits.\n\nThanks for that remark. Let's see how the things I now pushed go..\n----\nNew commits:",
    "created_at": "2014-11-26T19:18:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196515",
    "user": "azi"
}
```

Replying to [comment:23 ncohen]:
> Excellent ! Well, it all looks good except your optimization for the objective function.
> 
> 1) Really, you are solving a NP-Hard problem and you are saving on a list ? `:-P`
I think its still fair to do such optimisations. They may come handy for say graphs of order ~100 and high degree. But if its not an actually improvement then ofc you're right and and my bad for not checking it!
> 
> 2) Actually, this code is slower than the previous one:
> 
> {{{
> sage: p = MixedIntegerLinearProgram()
> sage: b = p.new_variable(binary=True)
> sage: %timeit sum(b[x] for x in range(1000))
> 10 loops, best of 3: 77.1 ms per loop
> sage: %timeit p.sum(b[x] for x in range(1000))
> 1000 loops, best of 3: 1.09 ms per loop
> }}}
> 
> This is because a "sum of LP variables" is a "linearfunction" object, and that adding to it another LP variable creates a second linearfunction object, which is mostly a copy of the previous one. Thus, `b[0]+b[1]+....+b[n]` creates `n` linearfunction objects and has a quadratic complexity.
> 
> That's why `p.sum` was created: as p.sum is dedicated to linearfunctions, it handles the, in the best way, without creating useless intermediate objects.
Oooh, I was really wondering why we're using p.sum...

> 
> Nathann
> 
> P.S. : If you fix this in a third commit, you will haev commits which undo what the previous commits do. It is actually possibly, using git, to merge them all into one (called "squash" in git slang).
> 
> Two ways:
> 
> 1) Look at "git rebase -i"
> 
> 2) If you run "git reset HEAD~1", the last commit is "destroyed" and the changes it contains become "unstaged" chages. This, together with "git commit --amend" is another way to merge the commits.

Thanks for that remark. Let's see how the things I now pushed go..
----
New commits:



---

archive/issue_comments_196516.json:
```json
{
    "body": "Hello !\n\n> I think its still fair to do such optimisations. They may come handy for say graphs of order ~100 and high degree. But if its not an actually improvement then ofc you're right and and my bad for not checking it!\n\nAhahah. Well, in that case with the cost of adding all constraints to the LP this objective function may only be 1% of the total. And I am not talking of solving the actual thing ! `:-P`\n\n> Oooh, I was really wondering why we're using p.sum...\n\nPlus it is hard to advertise, as \"sum\" works. I even cheat a bit by using \"sum\" when I do a talk about that `^^;`\n\n> Thanks for that remark. Let's see how the things I now pushed go..\n\nIt seems to be the same as before. And there is this comment about Petersen's graph which is not followed by an example.\n\nNathann",
    "created_at": "2014-11-26T19:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196516",
    "user": "ncohen"
}
```

Hello !

> I think its still fair to do such optimisations. They may come handy for say graphs of order ~100 and high degree. But if its not an actually improvement then ofc you're right and and my bad for not checking it!

Ahahah. Well, in that case with the cost of adding all constraints to the LP this objective function may only be 1% of the total. And I am not talking of solving the actual thing ! `:-P`

> Oooh, I was really wondering why we're using p.sum...

Plus it is hard to advertise, as "sum" works. I even cheat a bit by using "sum" when I do a talk about that `^^;`

> Thanks for that remark. Let's see how the things I now pushed go..

It seems to be the same as before. And there is this comment about Petersen's graph which is not followed by an example.

Nathann



---

archive/issue_comments_196517.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-12-13T13:21:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196517",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_196518.json:
```json
{
    "body": "Nathann,\n\ncould  you  please check if this new patch makes more sense (code and gitwise)?\n\nBest,\n\nJernej",
    "created_at": "2014-12-13T13:22:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196518",
    "user": "azi"
}
```

Nathann,

could  you  please check if this new patch makes more sense (code and gitwise)?

Best,

Jernej



---

archive/issue_comments_196519.json:
```json
{
    "body": "Hello !\n\nWell, it seems good to me. Except that this `scream if not simple` is only justified when `total=True`. And in this case, it is only a problem when you have loops (multiple edges are okay). Could you change it into `_scream_if_not_simple(allow_multiple_edges=True, allow_loops=not total)` ?\n\nNathann",
    "created_at": "2014-12-13T15:09:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196519",
    "user": "ncohen"
}
```

Hello !

Well, it seems good to me. Except that this `scream if not simple` is only justified when `total=True`. And in this case, it is only a problem when you have loops (multiple edges are okay). Could you change it into `_scream_if_not_simple(allow_multiple_edges=True, allow_loops=not total)` ?

Nathann



---

archive/issue_comments_196520.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-13T15:28:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196520",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_196521.json:
```json
{
    "body": "Do you think thats ok now?",
    "created_at": "2014-12-13T15:31:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196521",
    "user": "azi"
}
```

Do you think thats ok now?



---

archive/issue_comments_196522.json:
```json
{
    "body": "> Do you think thats ok now?\n\nYepyep, I was running the tests. No problem, good to go. Thanks `:-)`\n\nNathann",
    "created_at": "2014-12-13T15:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196522",
    "user": "ncohen"
}
```

> Do you think thats ok now?

Yepyep, I was running the tests. No problem, good to go. Thanks `:-)`

Nathann



---

archive/issue_comments_196523.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-12-13T15:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196523",
    "user": "ncohen"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_196524.json:
```json
{
    "body": "Thank you for your review. BTW - Do we need to tell anyone which things to apply?",
    "created_at": "2014-12-13T15:33:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196524",
    "user": "azi"
}
```

Thank you for your review. BTW - Do we need to tell anyone which things to apply?



---

archive/issue_comments_196525.json:
```json
{
    "body": "Which things to apply ? Well, the branch's name on the ticket is sufficient for that isn't it ? That is how I applied it myself for the review `:-P`\n\nNathann",
    "created_at": "2014-12-13T15:39:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196525",
    "user": "ncohen"
}
```

Which things to apply ? Well, the branch's name on the ticket is sufficient for that isn't it ? That is how I applied it myself for the review `:-P`

Nathann



---

archive/issue_comments_196526.json:
```json
{
    "body": "Ooooh right,somehow you had to check something in order to give it a positive review :-) I am  just  confused about this new git system :))",
    "created_at": "2014-12-13T15:40:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196526",
    "user": "azi"
}
```

Ooooh right,somehow you had to check something in order to give it a positive review :-) I am  just  confused about this new git system :))



---

archive/issue_comments_196527.json:
```json
{
    "body": "> Ooooh right,somehow you had to check something in order to give it a positive review :-) I am  just  confused about this new git system :))\n\nWelcome on the best side of it. You had to discover that it was MUUuuuuuch more complicated to create a branch than to create a .patch file, but you will now slowly find out the small tricks that make it easier to work with `^^;`\n\nNathann",
    "created_at": "2014-12-13T15:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196527",
    "user": "ncohen"
}
```

> Ooooh right,somehow you had to check something in order to give it a positive review :-) I am  just  confused about this new git system :))

Welcome on the best side of it. You had to discover that it was MUUuuuuuch more complicated to create a branch than to create a .patch file, but you will now slowly find out the small tricks that make it easier to work with `^^;`

Nathann



---

archive/issue_comments_196528.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-12-16T19:04:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196528",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_196529.json:
```json
{
    "body": "Author name missing",
    "created_at": "2014-12-16T19:04:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196529",
    "user": "vbraun"
}
```

Author name missing



---

archive/issue_comments_196530.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-12-16T20:19:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196530",
    "user": "azi"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_196531.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-12-18T00:57:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15277",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15277#issuecomment-196531",
    "user": "vbraun"
}
```

Resolution: fixed
