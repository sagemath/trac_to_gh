# Issue 29299: Make docker images from GitHub CI workflow and regular Sage Docker images interoperable

Issue created by migration from https://trac.sagemath.org/ticket/29536

Original creator: mkoeppe

Original creation time: 2020-04-20 01:41:38

CC:  @kliem dimpase embray saraedum slelievre chapoton @tobiasdiez was culler dunfield

Keywords: ci, docker, ContinuousIntegration

... by adjusting directory names to something that works for both cases ...


---

Comment by dimpase created at 2020-04-26 08:35:29

by the way, we don't seem to have in docs an explanation regarding file shared between docker images and regular file system of the host system.


---

Comment by mkoeppe created at 2020-05-27 12:03:08

Changing keywords from "ci, docker, ContinuousIntegration" to "ci, docker, ContinuousIntegration, sd109".


---

Comment by embray created at 2020-05-28 14:57:39

I'm confused--should this say "GitHub" in the title or "GitLab"?  I don't know of any [GitHub](GitHub) CI docker images.


---

Comment by dimpase created at 2020-05-28 15:26:47

Replying to [comment:5 embray]:
> I'm confused--should this say "GitHub" in the title or "GitLab"?  I don't know of any [GitHub](GitHub) CI docker images.

please see
https://doc.sagemath.org/html/en/developer/index.html#testing-on-multiple-platforms

we now have a builder of docker images for multiple platforms, configurable, and by default hosted on github.


---

Comment by mkoeppe created at 2021-03-24 02:04:25

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.


---

Comment by dimpase created at 2021-10-01 08:06:26

Given that [GitLab](GitLab) Docker build is broken for ages, can we arrange for GitHub-built docker images to be pushed to the main Docker repo,
or at least create some sort of advertised Docker repo on [GitHub](GitHub)?


---

Comment by mkoeppe created at 2022-05-11 21:44:06

Bikeshedding time! Let's pick `SAGE_ROOT`, `SAGE_LOCAL`. My proposal is in the ticket description. 

(The only important constraint for me is: Don't nest `SAGE_LOCAL` within `SAGE_ROOT` - for flexibility such as bind-mounting a new version of the source tree over `SAGE_ROOT` without hiding `SAGE_LOCAL`.)


---

Comment by git created at 2022-05-14 18:20:34

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
