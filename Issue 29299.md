# Issue 29299: Make docker images from GitHub CI workflow and regular Sage Docker images interoperable

archive/issues_029299.json:
```json
{
    "body": "CC:  @kliem @dimpase @embray @saraedum @slel @fchapoton @tobiasdiez @williamstein @culler @NathanDunfield\n\nKeywords: ci, docker, ContinuousIntegration\n\n... by adjusting directory names to something that works for both cases ...\n\nIssue created by migration from https://trac.sagemath.org/ticket/29536\n\n",
    "created_at": "2020-04-20T01:41:38Z",
    "labels": [
        "docker",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Make docker images from GitHub CI workflow and regular Sage Docker images interoperable",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29299",
    "user": "@mkoeppe"
}
```
CC:  @kliem @dimpase @embray @saraedum @slel @fchapoton @tobiasdiez @williamstein @culler @NathanDunfield

Keywords: ci, docker, ContinuousIntegration

... by adjusting directory names to something that works for both cases ...

Issue created by migration from https://trac.sagemath.org/ticket/29536





---

archive/issue_comments_415252.json:
```json
{
    "body": "by the way, we don't seem to have in docs an explanation regarding file shared between docker images and regular file system of the host system.",
    "created_at": "2020-04-26T08:35:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29299#issuecomment-415252",
    "user": "@dimpase"
}
```

by the way, we don't seem to have in docs an explanation regarding file shared between docker images and regular file system of the host system.



---

archive/issue_comments_415253.json:
```json
{
    "body": "Changing keywords from \"ci, docker, ContinuousIntegration\" to \"ci, docker, ContinuousIntegration, sd109\".",
    "created_at": "2020-05-27T12:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29299#issuecomment-415253",
    "user": "@mkoeppe"
}
```

Changing keywords from "ci, docker, ContinuousIntegration" to "ci, docker, ContinuousIntegration, sd109".



---

archive/issue_comments_415254.json:
```json
{
    "body": "I'm confused--should this say \"GitHub\" in the title or \"GitLab\"?  I don't know of any [GitHub](GitHub) CI docker images.",
    "created_at": "2020-05-28T14:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29299#issuecomment-415254",
    "user": "@embray"
}
```

I'm confused--should this say "GitHub" in the title or "GitLab"?  I don't know of any [GitHub](GitHub) CI docker images.



---

archive/issue_comments_415255.json:
```json
{
    "body": "Replying to [comment:5 embray]:\n> I'm confused--should this say \"GitHub\" in the title or \"GitLab\"?  I don't know of any [GitHub](GitHub) CI docker images.\n\nplease see\nhttps://doc.sagemath.org/html/en/developer/index.html#testing-on-multiple-platforms\n\nwe now have a builder of docker images for multiple platforms, configurable, and by default hosted on github.",
    "created_at": "2020-05-28T15:26:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29299#issuecomment-415255",
    "user": "@dimpase"
}
```

Replying to [comment:5 embray]:
> I'm confused--should this say "GitHub" in the title or "GitLab"?  I don't know of any [GitHub](GitHub) CI docker images.

please see
https://doc.sagemath.org/html/en/developer/index.html#testing-on-multiple-platforms

we now have a builder of docker images for multiple platforms, configurable, and by default hosted on github.



---

archive/issue_comments_415256.json:
```json
{
    "body": "Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29299#issuecomment-415256",
    "user": "@mkoeppe"
}
```

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_415257.json:
```json
{
    "body": "Given that [GitLab](GitLab) Docker build is broken for ages, can we arrange for GitHub-built docker images to be pushed to the main Docker repo,\nor at least create some sort of advertised Docker repo on [GitHub](GitHub)?",
    "created_at": "2021-10-01T08:06:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29299#issuecomment-415257",
    "user": "@dimpase"
}
```

Given that [GitLab](GitLab) Docker build is broken for ages, can we arrange for GitHub-built docker images to be pushed to the main Docker repo,
or at least create some sort of advertised Docker repo on [GitHub](GitHub)?



---

archive/issue_comments_415258.json:
```json
{
    "body": "Bikeshedding time! Let's pick `SAGE_ROOT`, `SAGE_LOCAL`. My proposal is in the ticket description. \n\n(The only important constraint for me is: Don't nest `SAGE_LOCAL` within `SAGE_ROOT` - for flexibility such as bind-mounting a new version of the source tree over `SAGE_ROOT` without hiding `SAGE_LOCAL`.)",
    "created_at": "2022-05-11T21:44:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29299#issuecomment-415258",
    "user": "@mkoeppe"
}
```

Bikeshedding time! Let's pick `SAGE_ROOT`, `SAGE_LOCAL`. My proposal is in the ticket description. 

(The only important constraint for me is: Don't nest `SAGE_LOCAL` within `SAGE_ROOT` - for flexibility such as bind-mounting a new version of the source tree over `SAGE_ROOT` without hiding `SAGE_LOCAL`.)



---

archive/issue_comments_415259.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-05-14T18:20:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29299#issuecomment-415259",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
