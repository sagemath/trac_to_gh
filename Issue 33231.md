# Issue 33231: Feature for gfan

archive/issues_033231.json:
```json
{
    "body": "CC:  @seblabbe\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/33468\n\n",
    "created_at": "2022-03-06T03:12:32Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Feature for gfan",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33231",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @seblabbe



Issue created by migration from https://trac.sagemath.org/ticket/33468





---

archive/issue_comments_472651.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-03-25T19:19:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472651",
    "user": "https://github.com/mkoeppe"
}
```

New commits:



---

archive/issue_comments_472652.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-03-25T19:25:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472652",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_472653.json:
```json
{
    "body": "`from .join_feature import JoinFeature` is not used in gfan.py",
    "created_at": "2022-03-27T07:38:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472653",
    "user": "https://github.com/seblabbe"
}
```

`from .join_feature import JoinFeature` is not used in gfan.py



---

archive/issue_comments_472654.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-27T15:58:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472654",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_472655.json:
```json
{
    "body": "I added a commit on top to add docstring and doctest for the `__call__` method (after merging with beta6). It made me realize that the `format` argument is just ignored in the code of `__call__`. Should we remove/deprecate it?\n\n----\nNew commits:",
    "created_at": "2022-03-29T13:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472655",
    "user": "https://github.com/seblabbe"
}
```

I added a commit on top to add docstring and doctest for the `__call__` method (after merging with beta6). It made me realize that the `format` argument is just ignored in the code of `__call__`. Should we remove/deprecate it?

----
New commits:



---

archive/issue_comments_472656.json:
```json
{
    "body": "Replying to [comment:8 slabbe]:\n> I added a commit on top to add docstring and doctest for the `__call__` method (after merging with beta6).\n\nThank you!\n\n> It made me realize that the `format` argument is just ignored in the code of `__call__`. Should we remove/deprecate it?\n\nGood idea, let's deprecate it",
    "created_at": "2022-03-29T18:09:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472656",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:8 slabbe]:
> I added a commit on top to add docstring and doctest for the `__call__` method (after merging with beta6).

Thank you!

> It made me realize that the `format` argument is just ignored in the code of `__call__`. Should we remove/deprecate it?

Good idea, let's deprecate it



---

archive/issue_comments_472657.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-29T20:21:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472657",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_472658.json:
```json
{
    "body": "Replying to [comment:9 mkoeppe]:\n> Good idea, let's deprecate it \n\nDone.",
    "created_at": "2022-03-29T20:25:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472658",
    "user": "https://github.com/seblabbe"
}
```

Replying to [comment:9 mkoeppe]:
> Good idea, let's deprecate it 

Done.



---

archive/issue_comments_472659.json:
```json
{
    "body": "\n```\n$ ./sage -tox -e pycodestyle src/sage/interfaces/gfan.py \npycodestyle installed: pycodestyle==2.8.0\npycodestyle run-test-pre: PYTHONHASHSEED='1743415609'\npycodestyle run-test: commands[0] | pycodestyle sage/interfaces/gfan.py\nsage/interfaces/gfan.py:28:1: E265 block comment should start with '# '\nsage/interfaces/gfan.py:41:1: E265 block comment should start with '# '\nsage/interfaces/gfan.py:52:24: E741 ambiguous variable name 'I'\nsage/interfaces/gfan.py:85:12: E714 test for object identity should be 'is not'\nsage/interfaces/gfan.py:88:21: E128 continuation line under-indented for visual indent\nsage/interfaces/gfan.py:89:21: E128 continuation line under-indented for visual indent\nsage/interfaces/gfan.py:90:21: E128 continuation line under-indented for visual indent\nsage/interfaces/gfan.py:114:1: E305 expected 2 blank lines after class or function definition, found 1\n3       E128 continuation line under-indented for visual indent\n2       E265 block comment should start with '# '\n1       E305 expected 2 blank lines after class or function definition, found 1\n1       E714 test for object identity should be 'is not'\n1       E741 ambiguous variable name 'I'\n```\n",
    "created_at": "2022-03-29T20:51:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472659",
    "user": "https://github.com/mkoeppe"
}
```


```
$ ./sage -tox -e pycodestyle src/sage/interfaces/gfan.py 
pycodestyle installed: pycodestyle==2.8.0
pycodestyle run-test-pre: PYTHONHASHSEED='1743415609'
pycodestyle run-test: commands[0] | pycodestyle sage/interfaces/gfan.py
sage/interfaces/gfan.py:28:1: E265 block comment should start with '# '
sage/interfaces/gfan.py:41:1: E265 block comment should start with '# '
sage/interfaces/gfan.py:52:24: E741 ambiguous variable name 'I'
sage/interfaces/gfan.py:85:12: E714 test for object identity should be 'is not'
sage/interfaces/gfan.py:88:21: E128 continuation line under-indented for visual indent
sage/interfaces/gfan.py:89:21: E128 continuation line under-indented for visual indent
sage/interfaces/gfan.py:90:21: E128 continuation line under-indented for visual indent
sage/interfaces/gfan.py:114:1: E305 expected 2 blank lines after class or function definition, found 1
3       E128 continuation line under-indented for visual indent
2       E265 block comment should start with '# '
1       E305 expected 2 blank lines after class or function definition, found 1
1       E714 test for object identity should be 'is not'
1       E741 ambiguous variable name 'I'
```




---

archive/issue_comments_472660.json:
```json
{
    "body": "hahaha, more comments than lines of code added!\n\nOk, I will check this out tomorrow.",
    "created_at": "2022-03-29T21:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472660",
    "user": "https://github.com/seblabbe"
}
```

hahaha, more comments than lines of code added!

Ok, I will check this out tomorrow.



---

archive/issue_comments_472661.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-31T09:17:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472661",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_472662.json:
```json
{
    "body": "After `sage -pip intall tox`, I now get:\n\n```\n$ ./sage -tox -e pycodestyle src/sage/interfaces/gfan.py\npycodestyle installed: pycodestyle==2.8.0\npycodestyle run-test-pre: PYTHONHASHSEED='1348994557'\npycodestyle run-test: commands[0] | pycodestyle sage/interfaces/gfan.py\n______________________________________________ summary ______________________________________________\n  pycodestyle: commands succeeded\n  congratulations :)\n```\n\n\nNeeds review.",
    "created_at": "2022-03-31T09:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472662",
    "user": "https://github.com/seblabbe"
}
```

After `sage -pip intall tox`, I now get:

```
$ ./sage -tox -e pycodestyle src/sage/interfaces/gfan.py
pycodestyle installed: pycodestyle==2.8.0
pycodestyle run-test-pre: PYTHONHASHSEED='1348994557'
pycodestyle run-test: commands[0] | pycodestyle sage/interfaces/gfan.py
______________________________________________ summary ______________________________________________
  pycodestyle: commands succeeded
  congratulations :)
```


Needs review.



---

archive/issue_comments_472663.json:
```json
{
    "body": "I don't think we can rename `I` to `input` - it is a breaking interface change, as `gfan(I=...)` will not work any more.",
    "created_at": "2022-03-31T13:08:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472663",
    "user": "https://github.com/mkoeppe"
}
```

I don't think we can rename `I` to `input` - it is a breaking interface change, as `gfan(I=...)` will not work any more.



---

archive/issue_comments_472664.json:
```json
{
    "body": "True. I did that to fix one of the pycodestyle warning `E741 ambiguous variable name 'I'`.\n\nEither I revert that change or I use ``@`rename_keword(I=input)`. Any preference?",
    "created_at": "2022-04-01T07:15:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472664",
    "user": "https://github.com/seblabbe"
}
```

True. I did that to fix one of the pycodestyle warning `E741 ambiguous variable name 'I'`.

Either I revert that change or I use ``@`rename_keword(I=input)`. Any preference?



---

archive/issue_comments_472665.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-04-01T07:53:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472665",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_472666.json:
```json
{
    "body": "So, I added a commit using the rename keyword stuff.\n\nAlso, I checked that `sage -grep \"gfan(I=\"` does not return any use case in the sage code.",
    "created_at": "2022-04-01T07:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472666",
    "user": "https://github.com/seblabbe"
}
```

So, I added a commit using the rename keyword stuff.

Also, I checked that `sage -grep "gfan(I="` does not return any use case in the sage code.



---

archive/issue_comments_472667.json:
```json
{
    "body": "I'm getting deprecation warnings in the doctests\n\n```\nFile \"src/sage/rings/polynomial/groebner_fan.py\", line 979, in sage.rings.polynomial.groebner_fan.GroebnerFan.weight_vectors\nFailed example:\n    g.weight_vectors()\nExpected:\n    [(3, 7, 1), (5, 1, 2), (7, 1, 4), (5, 1, 4), (1, 1, 1), (1, 4, 8), (1, 4, 10)]\nGot:\n    doctest:warning\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/bin/sage-runtests\", line 149, in <module>\n        err = DC.run()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/control.py\", line 1343, in run\n        self.run_doctests()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/control.py\", line 1044, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 2016, in dispatch\n        self.parallel_dispatch()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 1911, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 2185, in start\n        super(DocTestWorker, self).start()\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/process.py\", line 121, in start\n        self._popen = self._Popen(self)\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/context.py\", line 224, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/popen_fork.py\", line 19, in __init__\n        self._launch(process_obj)\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/popen_fork.py\", line 71, in _launch\n        code = process_obj._bootstrap(parent_sentinel=child_r)\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/process.py\", line 315, in _bootstrap\n        self.run()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 2157, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 2487, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 2539, in _run\n        result = runner.run(test)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 866, in run\n        return self._run(test, compileflags, out)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 695, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 1093, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.rings.polynomial.groebner_fan.GroebnerFan.weight_vectors[2]>\", line 1, in <module>\n        g.weight_vectors()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/rings/polynomial/groebner_fan.py\", line 988, in weight_vectors\n        ans, err = gfan_processes.communicate(input=str_to_bytes(self.gfan()))\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/rings/polynomial/groebner_fan.py\", line 1130, in gfan\n        s = gfan(I, cmd, verbose=self.__verbose, format=format)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/decorators.py\", line 651, in wrapper\n        return func(*args, **kwds)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/interfaces/gfan.py\", line 96, in __call__\n        deprecation(33468, 'argument `format` is ignored in the code: '\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/superseded.py\", line 99, in deprecation\n        warning(trac_number, message, DeprecationWarning, stacklevel)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/superseded.py\", line 180, in warning\n        warn(message, warning_class, stacklevel)\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/warnings.py\", line 109, in _showwarnmsg\n        sw(msg.message, msg.category, msg.filename, msg.lineno,\n    :\n    DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.\n    See https://trac.sagemath.org/33468 for details.\n    [(3, 7, 1), (5, 1, 2), (7, 1, 4), (5, 1, 4), (1, 1, 1), (1, 4, 8), (1, 4, 10)]\n```\n",
    "created_at": "2022-04-01T15:59:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472667",
    "user": "https://github.com/mkoeppe"
}
```

I'm getting deprecation warnings in the doctests

```
File "src/sage/rings/polynomial/groebner_fan.py", line 979, in sage.rings.polynomial.groebner_fan.GroebnerFan.weight_vectors
Failed example:
    g.weight_vectors()
Expected:
    [(3, 7, 1), (5, 1, 2), (7, 1, 4), (5, 1, 4), (1, 1, 1), (1, 4, 8), (1, 4, 10)]
Got:
    doctest:warning
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/bin/sage-runtests", line 149, in <module>
        err = DC.run()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/control.py", line 1343, in run
        self.run_doctests()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/control.py", line 1044, in run_doctests
        self.dispatcher.dispatch()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 2016, in dispatch
        self.parallel_dispatch()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 1911, in parallel_dispatch
        w.start()  # This might take some time
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 2185, in start
        super(DocTestWorker, self).start()
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/process.py", line 121, in start
        self._popen = self._Popen(self)
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/context.py", line 224, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/popen_fork.py", line 19, in __init__
        self._launch(process_obj)
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/popen_fork.py", line 71, in _launch
        code = process_obj._bootstrap(parent_sentinel=child_r)
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/process.py", line 315, in _bootstrap
        self.run()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 2157, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 2487, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 2539, in _run
        result = runner.run(test)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 866, in run
        return self._run(test, compileflags, out)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 695, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 1093, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.rings.polynomial.groebner_fan.GroebnerFan.weight_vectors[2]>", line 1, in <module>
        g.weight_vectors()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/rings/polynomial/groebner_fan.py", line 988, in weight_vectors
        ans, err = gfan_processes.communicate(input=str_to_bytes(self.gfan()))
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/rings/polynomial/groebner_fan.py", line 1130, in gfan
        s = gfan(I, cmd, verbose=self.__verbose, format=format)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/decorators.py", line 651, in wrapper
        return func(*args, **kwds)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/interfaces/gfan.py", line 96, in __call__
        deprecation(33468, 'argument `format` is ignored in the code: '
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/superseded.py", line 99, in deprecation
        warning(trac_number, message, DeprecationWarning, stacklevel)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/superseded.py", line 180, in warning
        warn(message, warning_class, stacklevel)
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/warnings.py", line 109, in _showwarnmsg
        sw(msg.message, msg.category, msg.filename, msg.lineno,
    :
    DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.
    See https://trac.sagemath.org/33468 for details.
    [(3, 7, 1), (5, 1, 2), (7, 1, 4), (5, 1, 4), (1, 1, 1), (1, 4, 8), (1, 4, 10)]
```




---

archive/issue_comments_472668.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-04-02T20:29:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472668",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_472669.json:
```json
{
    "body": "Indeed, the patchbot says the following doctests are failing:\n\n```\n----------------------------------------------------------------------\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/sage/rings/polynomial/multi_polynomial_ideal.py  # 1 doctest failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/sage/rings/polynomial/groebner_fan.py  # 3 doctests failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/ru/tutorial/tour_advanced.rst  # 1 doctest failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/en/tutorial/tour_advanced.rst  # 1 doctest failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/fr/tutorial/tour_advanced.rst  # 1 doctest failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/pt/tutorial/tour_advanced.rst  # 1 doctest failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/ja/tutorial/tour_advanced.rst  # 1 doctest failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/de/tutorial/tour_advanced.rst  # 1 doctest failed\n----------------------------------------------------------------------\n```\n",
    "created_at": "2022-04-07T09:18:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472669",
    "user": "https://github.com/seblabbe"
}
```

Indeed, the patchbot says the following doctests are failing:

```
----------------------------------------------------------------------
sage -t --long --random-seed=201618586090654190254950585468856090968 src/sage/rings/polynomial/multi_polynomial_ideal.py  # 1 doctest failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/sage/rings/polynomial/groebner_fan.py  # 3 doctests failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/ru/tutorial/tour_advanced.rst  # 1 doctest failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/en/tutorial/tour_advanced.rst  # 1 doctest failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/fr/tutorial/tour_advanced.rst  # 1 doctest failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/pt/tutorial/tour_advanced.rst  # 1 doctest failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/ja/tutorial/tour_advanced.rst  # 1 doctest failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/de/tutorial/tour_advanced.rst  # 1 doctest failed
----------------------------------------------------------------------
```




---

archive/issue_comments_472670.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-04-07T09:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472670",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_472671.json:
```json
{
    "body": "I rebased on beta7.",
    "created_at": "2022-04-07T09:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472671",
    "user": "https://github.com/seblabbe"
}
```

I rebased on beta7.



---

archive/issue_comments_472672.json:
```json
{
    "body": "updated description with new added deprecation warnings",
    "created_at": "2022-04-07T09:41:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472672",
    "user": "https://github.com/seblabbe"
}
```

updated description with new added deprecation warnings



---

archive/issue_comments_472673.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-04-07T09:46:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472673",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_472674.json:
```json
{
    "body": "I added a deprecation of the format argument in groebner_fan.py file. I checked that it fixes the issues listed in comment:22.\n\nNeeds review!",
    "created_at": "2022-04-07T09:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472674",
    "user": "https://github.com/seblabbe"
}
```

I added a deprecation of the format argument in groebner_fan.py file. I checked that it fixes the issues listed in comment:22.

Needs review!



---

archive/issue_comments_472675.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-04-07T09:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472675",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_472676.json:
```json
{
    "body": "Thanks for all your work on this ticket! LGTM. The patchbot failures are unrelated.",
    "created_at": "2022-04-07T17:41:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472676",
    "user": "https://github.com/mkoeppe"
}
```

Thanks for all your work on this ticket! LGTM. The patchbot failures are unrelated.



---

archive/issue_comments_472677.json:
```json
{
    "body": "Is comment:28 suppose to be a positive review?",
    "created_at": "2022-04-08T08:26:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472677",
    "user": "https://github.com/tscrim"
}
```

Is comment:28 suppose to be a positive review?



---

archive/issue_comments_472678.json:
```json
{
    "body": "I think Matthias was waiting for someone to review his commit.\n\nI give a positive review to Matthias' commits.",
    "created_at": "2022-04-08T11:34:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472678",
    "user": "https://github.com/seblabbe"
}
```

I think Matthias was waiting for someone to review his commit.

I give a positive review to Matthias' commits.



---

archive/issue_comments_472679.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-04-08T11:34:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472679",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_472680.json:
```json
{
    "body": "Thank you!",
    "created_at": "2022-04-08T17:46:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472680",
    "user": "https://github.com/mkoeppe"
}
```

Thank you!



---

archive/issue_events_088193.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-04-10T13:12:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33231#event-88193"
}
```



---

archive/issue_comments_472681.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-04-10T13:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33231#issuecomment-472681",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
