# Issue 27948: more lazy imports in combinat

Issue created by migration from https://trac.sagemath.org/ticket/28185

Original creator: chapoton

Original creation time: 2019-07-12 19:29:26

CC:  tscrim




---

Comment by chapoton created at 2019-07-12 19:29:56

New commits:


---

Comment by git created at 2019-07-13 08:17:33

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by chapoton created at 2019-07-13 09:58:06

green bot, please review


---

Comment by chapoton created at 2019-07-13 11:28:10

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2019-07-13 16:59:48

Looks okay to me. I don't see any new failures with Python 3.


---

Comment by jhpalmieri created at 2019-07-13 16:59:48

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2019-07-13 17:03:48

Changing status from positive_review to needs_info.


---

Comment by tscrim created at 2019-07-13 17:03:48

I wanted to have a little bit of a discussion about this first (you just were slightly ahead of me of posting a positive review on this John `;)`). In particular, why these classes? Most of them I agree with as being more specialized, even among combinatorics (at least, IMO). However, I am not sure I agree with the `q_analogues` and `sf` being lazily imported over, say, `integer_vectors_mod_permgroup`. Why also only rooted trees? Can you explain the reasoning a little more about the choices made here?


---

Comment by chapoton created at 2019-07-13 19:35:36

The choices are not strongly motivated.

* I used `sage -startuptime modulename` to track dependencies between modules involving combinat.

* I changed some imports to lazy, until some modules are no longer imported.

* Some changes failed (abstract_trees, binary_trees, sloane) so I undid them.


---

Comment by tscrim created at 2019-07-14 10:51:48

Okay, thanks. I am still split on the `q_analogues.py` and the symmetric functions. I guess there is not really a penalty for making them lazily imported.

Most likely some of the others failed because they were imported by something else done at startup.

Also, I believe the `partition_algebra.py` is ultimately destined to be removed since the things in `diagram_algebras.py` has superseded it.


---

Comment by tscrim created at 2019-07-14 10:51:48

Changing status from needs_info to positive_review.


---

Comment by vbraun created at 2019-07-16 22:41:17

Resolution: fixed
