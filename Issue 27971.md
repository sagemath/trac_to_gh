# Issue 27971: spkg-configure.m4 for symmetrica

archive/issues_027971.json:
```json
{
    "body": "CC:  @embray @kiwifb @isuruf\n\nKeywords: spkg-configure\n\nDebian packages it, so we can use it on Debian.\n\nThe present branch does not try to check the version\n\nIssue created by migration from https://trac.sagemath.org/ticket/28208\n\n",
    "created_at": "2019-07-16T23:13:23Z",
    "labels": [
        "component: build: configure"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "spkg-configure.m4 for symmetrica",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27971",
    "user": "https://github.com/dimpase"
}
```
CC:  @embray @kiwifb @isuruf

Keywords: spkg-configure

Debian packages it, so we can use it on Debian.

The present branch does not try to check the version

Issue created by migration from https://trac.sagemath.org/ticket/28208





---

archive/issue_comments_394719.json:
```json
{
    "body": "I wonder whether the Symmetrica Cython interface should be converted to using dynamic library. It's silly to link in a static one, creating a 30Mb\n`local/lib/python2.7/site-packages/sage/libs/symmetrica/symmetrica.so`.\nFor comparison, the 2nd biggest `.so` among\n`local/lib/python2.7/site-packages/sage/libs/*/*.so` is just 3Mb.",
    "created_at": "2019-07-17T12:22:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394719",
    "user": "https://github.com/dimpase"
}
```

I wonder whether the Symmetrica Cython interface should be converted to using dynamic library. It's silly to link in a static one, creating a 30Mb
`local/lib/python2.7/site-packages/sage/libs/symmetrica/symmetrica.so`.
For comparison, the 2nd biggest `.so` among
`local/lib/python2.7/site-packages/sage/libs/*/*.so` is just 3Mb.



---

archive/issue_comments_394720.json:
```json
{
    "body": "Given that the symmetrica spkg is using a custom makefile, it's just a matter of modifying it to build a shared library instead of a static one.",
    "created_at": "2019-07-17T12:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394720",
    "user": "https://github.com/antonio-rojas"
}
```

Given that the symmetrica spkg is using a custom makefile, it's just a matter of modifying it to build a shared library instead of a static one.



---

archive/issue_comments_394721.json:
```json
{
    "body": "well, on OSX and Cygwin it might actually be a problem to get right. I guess it's a primary reason for having it static, it's easier. Buidling a shared library without autotoolization is a pain...",
    "created_at": "2019-07-17T12:53:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394721",
    "user": "https://github.com/dimpase"
}
```

well, on OSX and Cygwin it might actually be a problem to get right. I guess it's a primary reason for having it static, it's easier. Buidling a shared library without autotoolization is a pain...



---

archive/issue_comments_394722.json:
```json
{
    "body": "symmetrica package also needs a custom uninstall, as `local/lib/libsymmetrica.a` does not get cleaned for some reason. (Or perhaps it's a bug in the build system).\n\n---\n\nEDIT: I had a pre-`sdh_install` installation, on which uninstall failed (it does work on more recent installs). Perhaps we still want a custom uninstall, but at least it's something that will go away eventually by itself.",
    "created_at": "2019-07-17T14:01:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394722",
    "user": "https://github.com/dimpase"
}
```

symmetrica package also needs a custom uninstall, as `local/lib/libsymmetrica.a` does not get cleaned for some reason. (Or perhaps it's a bug in the build system).

---

EDIT: I had a pre-`sdh_install` installation, on which uninstall failed (it does work on more recent installs). Perhaps we still want a custom uninstall, but at least it's something that will go away eventually by itself.



---

archive/issue_comments_394723.json:
```json
{
    "body": "At present, it tests for presense of `symmetrica.h` header, which apparently what Debian has added (we can change it to ``symmetrica/defs.h`, which is one of the two original headers). I wonder what Conda would prefer.",
    "created_at": "2019-07-17T18:59:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394723",
    "user": "https://github.com/dimpase"
}
```

At present, it tests for presense of `symmetrica.h` header, which apparently what Debian has added (we can change it to ``symmetrica/defs.h`, which is one of the two original headers). I wonder what Conda would prefer.



---

archive/issue_comments_394724.json:
```json
{
    "body": "conda package has `symmetrica/defs.h` and `symmetrica/macro.h` and no `symmetrica.h`",
    "created_at": "2019-07-17T19:01:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394724",
    "user": "https://github.com/isuruf"
}
```

conda package has `symmetrica/defs.h` and `symmetrica/macro.h` and no `symmetrica.h`



---

archive/issue_comments_394725.json:
```json
{
    "body": "Replying to [comment:6 isuruf]:\n> conda package has `symmetrica/defs.h` and `symmetrica/macro.h` and no `symmetrica.h`\n\nThanks. Is there a place I can look up the sources used (without an actual conda install)? I am trying to understand what patches are applied there by conda.",
    "created_at": "2019-07-17T19:23:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394725",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:6 isuruf]:
> conda package has `symmetrica/defs.h` and `symmetrica/macro.h` and no `symmetrica.h`

Thanks. Is there a place I can look up the sources used (without an actual conda install)? I am trying to understand what patches are applied there by conda.



---

archive/issue_comments_394726.json:
```json
{
    "body": "Source used: https://github.com/conda-forge/symmetrica-feedstock/blob/master/recipe/meta.yaml#L10-L12\n\nPatches used: https://github.com/conda-forge/symmetrica-feedstock/tree/master/recipe/patches\n\nWe use a CMake file to build which makes it easier to build windows packages and shared libs. (I've opened a PR to build shared libs at https://github.com/conda-forge/symmetrica-feedstock/pull/4/commits/36079653f18d5744fdb32a00fa95de093949b48d)\n\nBuilt packages are at https://anaconda.org/conda-forge/symmetrica/files",
    "created_at": "2019-07-17T19:27:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394726",
    "user": "https://github.com/isuruf"
}
```

Source used: https://github.com/conda-forge/symmetrica-feedstock/blob/master/recipe/meta.yaml#L10-L12

Patches used: https://github.com/conda-forge/symmetrica-feedstock/tree/master/recipe/patches

We use a CMake file to build which makes it easier to build windows packages and shared libs. (I've opened a PR to build shared libs at https://github.com/conda-forge/symmetrica-feedstock/pull/4/commits/36079653f18d5744fdb32a00fa95de093949b48d)

Built packages are at https://anaconda.org/conda-forge/symmetrica/files



---

archive/issue_comments_394727.json:
```json
{
    "body": "Replying to [comment:3 dimpase]:\n> well, on OSX and Cygwin it might actually be a problem to get right. I guess it's a primary reason for having it static, it's easier. Buidling a shared library without autotoolization is a pain...\n\nThis is antic from way back in probably 2008 and 2009 when I was working with T. Abbott. I have a makefile for linux and a makefile for OS X. I only install a shared library. I should revisit it and do something to merge the makefiles.\n\nI have the same headers than Isuru on conda. \n\nAnd I'll certainly want to steal a cmake solution from conda if it is available :) . But cmake is still not an official sage package.",
    "created_at": "2019-07-17T20:30:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394727",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:3 dimpase]:
> well, on OSX and Cygwin it might actually be a problem to get right. I guess it's a primary reason for having it static, it's easier. Buidling a shared library without autotoolization is a pain...

This is antic from way back in probably 2008 and 2009 when I was working with T. Abbott. I have a makefile for linux and a makefile for OS X. I only install a shared library. I should revisit it and do something to merge the makefiles.

I have the same headers than Isuru on conda. 

And I'll certainly want to steal a cmake solution from conda if it is available :) . But cmake is still not an official sage package.



---

archive/issue_comments_394728.json:
```json
{
    "body": "> And I'll certainly want to steal a cmake solution from conda if it is available :) \n\nIt is. I just made symmetrica a shared library on conda for linux, osx and windows.\n\nIt's unfortunate that sage doesn't have cmake as a standard package.",
    "created_at": "2019-07-17T20:37:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394728",
    "user": "https://github.com/isuruf"
}
```

> And I'll certainly want to steal a cmake solution from conda if it is available :) 

It is. I just made symmetrica a shared library on conda for linux, osx and windows.

It's unfortunate that sage doesn't have cmake as a standard package.



---

archive/issue_comments_394729.json:
```json
{
    "body": "Debian has autotoolised the package, if I am not mistaken:\nhttps://salsa.debian.org/science-team/symmetrica/blob/master/debian/patches/upstream-autotoolization.patch\n\nAnyhow, it's easy to make cmake standard; in practice this would hopefully mean that people will use system's cmake, as we have the relevant `build/pkgs/cmake/spkg-configure.m4` already in place.",
    "created_at": "2019-07-17T21:00:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394729",
    "user": "https://github.com/dimpase"
}
```

Debian has autotoolised the package, if I am not mistaken:
https://salsa.debian.org/science-team/symmetrica/blob/master/debian/patches/upstream-autotoolization.patch

Anyhow, it's easy to make cmake standard; in practice this would hopefully mean that people will use system's cmake, as we have the relevant `build/pkgs/cmake/spkg-configure.m4` already in place.



---

archive/issue_comments_394730.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-07-17T22:30:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394730",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_394731.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-07-17T22:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394731",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_394732.json:
```json
{
    "body": "Replying to [comment:10 isuruf]:\n> > And I'll certainly want to steal a cmake solution from conda if it is available :) \n> \n> It is. I just made symmetrica a shared library on conda for linux, osx and windows.\n> \n> It's unfortunate that sage doesn't have cmake as a standard package. \n\nI have one issue with your CMakeList.txt\n\n```\n    ARCHIVE DESTINATION lib\n    LIBRARY DESTINATION lib\n```\n\nthis should depend on the target. Sometimes it is lib64 or lib/<arch> (debian). I usually use https://cmake.org/cmake/help/v3.15/module/GNUInstallDirs.html in my own cmake scripts. My version is now here\nhttps://github.com/cschwan/sage-on-gentoo/blob/master/sci-libs/symmetrica/files/CMakeLists.txt\n\nOne thing interesting about the debian autotool patch is that it looks like they got the test working.",
    "created_at": "2019-07-18T00:47:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394732",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:10 isuruf]:
> > And I'll certainly want to steal a cmake solution from conda if it is available :) 
> 
> It is. I just made symmetrica a shared library on conda for linux, osx and windows.
> 
> It's unfortunate that sage doesn't have cmake as a standard package. 

I have one issue with your CMakeList.txt

```
    ARCHIVE DESTINATION lib
    LIBRARY DESTINATION lib
```

this should depend on the target. Sometimes it is lib64 or lib/<arch> (debian). I usually use https://cmake.org/cmake/help/v3.15/module/GNUInstallDirs.html in my own cmake scripts. My version is now here
https://github.com/cschwan/sage-on-gentoo/blob/master/sci-libs/symmetrica/files/CMakeLists.txt

One thing interesting about the debian autotool patch is that it looks like they got the test working.



---

archive/issue_comments_394733.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-18T00:49:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394733",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_394734.json:
```json
{
    "body": "Looks rather trivial to me.",
    "created_at": "2019-07-18T00:49:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394734",
    "user": "https://github.com/kiwifb"
}
```

Looks rather trivial to me.



---

archive/issue_comments_394735.json:
```json
{
    "body": "Thanks `@`fbissey for the fixes. I added support for running tests with `ctest` as well.",
    "created_at": "2019-07-18T03:24:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394735",
    "user": "https://github.com/isuruf"
}
```

Thanks `@`fbissey for the fixes. I added support for running tests with `ctest` as well.



---

archive/issue_comments_394736.json:
```json
{
    "body": "Replying to [comment:16 isuruf]:\n> Thanks `@`fbissey for the fixes. I added support for running tests with `ctest` as well.\n\nI think I messed up a little bit by setting `SOVERSION` to 2.0 instead of just 2 (I was trying to get back to what I had before, but it ended up not being possible because I was not using the right scheme). We should check what debian ends up with, but I think we should just use \"2\".\n\nWith the test working I will align myself onto you. No need to have too many versions around.",
    "created_at": "2019-07-18T03:35:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394736",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:16 isuruf]:
> Thanks `@`fbissey for the fixes. I added support for running tests with `ctest` as well.

I think I messed up a little bit by setting `SOVERSION` to 2.0 instead of just 2 (I was trying to get back to what I had before, but it ended up not being possible because I was not using the right scheme). We should check what debian ends up with, but I think we should just use "2".

With the test working I will align myself onto you. No need to have too many versions around.



---

archive/issue_comments_394737.json:
```json
{
    "body": "Unfortunately, Fedora comes with a buggy `libsymmetrica-devel` package.\nSo it needs to be recognised and ruled out.",
    "created_at": "2019-07-18T21:13:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394737",
    "user": "https://github.com/dimpase"
}
```

Unfortunately, Fedora comes with a buggy `libsymmetrica-devel` package.
So it needs to be recognised and ruled out.



---

archive/issue_comments_394738.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-07-18T21:13:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394738",
    "user": "https://github.com/dimpase"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_394739.json:
```json
{
    "body": "More precisely it appears that the Sage's fixes to symmetrica have been applied to Fedora 30 (perhaps 29 too?), see Changelog in\n\nhttps://fedora.pkgs.org/30/fedora-x86_64/symmetrica-devel-2.0-22.fc30.x86_64.rpm.html\n\nbut not to older ones -- I tested on Fedora 26, which is a year past its EOL.",
    "created_at": "2019-07-19T05:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394739",
    "user": "https://github.com/dimpase"
}
```

More precisely it appears that the Sage's fixes to symmetrica have been applied to Fedora 30 (perhaps 29 too?), see Changelog in

https://fedora.pkgs.org/30/fedora-x86_64/symmetrica-devel-2.0-22.fc30.x86_64.rpm.html

but not to older ones -- I tested on Fedora 26, which is a year past its EOL.



---

archive/issue_comments_394740.json:
```json
{
    "body": "The following C code dumps core on old symmetrica, and works on the good one.\n\n```c\n/* compile as follows: cc tt.c -lsymmetrica -lm */\n\n#include \"symmetrica/def.h\"\n#include \"symmetrica/macro.h\"\nint main() \n{\n  OP b,n;\n  anfang();\n  n = callocobject(); b = callocobject();\n  sscan_integer(\"4\",n);\n  kostka_tafel(n, b);\n  println(b);\n  ende();\n}\n```\n\nThe output should be (from the good one, and Sage's doctest in `src/sage/libs/symmetrica/kostka.pxi`):\n\n```\n\n[1:0:0:0:0]\n[1:1:0:0:0]\n[1:1:1:0:0]\n[1:2:1:1:0]\n[1:3:2:3:1]\n\n```\n\n\nI'll make a test in the m4 file with it.",
    "created_at": "2019-07-19T22:28:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394740",
    "user": "https://github.com/dimpase"
}
```

The following C code dumps core on old symmetrica, and works on the good one.

```c
/* compile as follows: cc tt.c -lsymmetrica -lm */

#include "symmetrica/def.h"
#include "symmetrica/macro.h"
int main() 
{
  OP b,n;
  anfang();
  n = callocobject(); b = callocobject();
  sscan_integer("4",n);
  kostka_tafel(n, b);
  println(b);
  ende();
}
```

The output should be (from the good one, and Sage's doctest in `src/sage/libs/symmetrica/kostka.pxi`):

```

[1:0:0:0:0]
[1:1:0:0:0]
[1:1:1:0:0]
[1:2:1:1:0]
[1:3:2:3:1]

```


I'll make a test in the m4 file with it.



---

archive/issue_comments_394741.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-07-20T23:15:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394741",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_394742.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-07-20T23:33:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394742",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_394743.json:
```json
{
    "body": "OK, so this does the trick of ruling old version out.",
    "created_at": "2019-07-20T23:33:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394743",
    "user": "https://github.com/dimpase"
}
```

OK, so this does the trick of ruling old version out.



---

archive/issue_comments_394744.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-21T04:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394744",
    "user": "https://github.com/isuruf"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_394745.json:
```json
{
    "body": "Checked debian and conda packages and they are picked up.",
    "created_at": "2019-07-21T04:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394745",
    "user": "https://github.com/isuruf"
}
```

Checked debian and conda packages and they are picked up.



---

archive/issue_comments_394746.json:
```json
{
    "body": "Merge conflict",
    "created_at": "2019-07-23T22:07:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394746",
    "user": "https://github.com/vbraun"
}
```

Merge conflict



---

archive/issue_comments_394747.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-07-23T22:07:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394747",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_394748.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-07-29T07:51:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394748",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_394749.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2019-07-29T07:54:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394749",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_394750.json:
```json
{
    "body": "rebased over the branch of #27827 - to avoid merge conflict.",
    "created_at": "2019-07-29T07:54:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394750",
    "user": "https://github.com/dimpase"
}
```

rebased over the branch of #27827 - to avoid merge conflict.



---

archive/issue_comments_394751.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2019-07-29T08:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394751",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_394752.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2019-07-29T08:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394752",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_394753.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-07-29T08:01:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394753",
    "user": "https://github.com/dimpase"
}
```

New commits:



---

archive/issue_comments_394754.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-29T20:08:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394754",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_070106.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-30T22:14:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27971#event-70106"
}
```



---

archive/issue_comments_394755.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-07-30T22:14:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394755",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_394756.json:
```json
{
    "body": "Follow-up: #29405",
    "created_at": "2020-03-29T12:46:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27971#issuecomment-394756",
    "user": "https://github.com/mkoeppe"
}
```

Follow-up: #29405
