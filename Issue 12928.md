# Issue 12928: EllipticCurve_from_j (over QQ) should not always compute minimal twist

Issue created by migration from Trac.

Original creator: cremona

Original creation time: 2012-06-10 15:48:29

Assignee: cremona

CC:  roed vbraun

Keywords: elliptic curve construction

Currently when constructing an elliptic curve from a j-invariant over QQ,  a curve with minimal conductor is created (the so-called "minimal twist").  This could be expensive since it involves factoring j and j-1728, so an option to *not* find the minimal twist should be allowed, with the current behaviour as default for backwards compatibility.

For example:

```
sage: EllipticCurve(j=2^256+1)
```

currently triggers factorization of `F_8` (which is quite quick) but also `F_8-1728` (which is not).


---

Comment by cremona created at 2012-06-10 17:01:51

Applies to 5.1.beta3


---

Attachment

The patch fixes this, and also the issue at #11773 which can be closed as a duplicate.


---

Comment by cremona created at 2012-06-10 17:03:08

Changing status from new to needs_review.


---

Comment by roed created at 2012-06-11 08:02:35

This looks fine to me.  I have no idea what the doctest failing on patchbot is about.  Patchbot is also complaining about trailing whitespace....


---

Comment by roed created at 2012-06-11 08:02:35

Changing status from needs_review to needs_work.


---

Comment by cremona created at 2012-06-11 08:59:03

Replying to [comment:2 roed]:
> This looks fine to me.  I have no idea what the doctest failing on patchbot is about.  Patchbot is also complaining about trailing whitespace....

 I removed trailing whitespace on lines I edited (or nearby) but not on the whole file as that makes it harder for reviewers to see what has changed.  Of course I could go back and remove the rest.  Does patchbot tell us what tests actually fail?


---

Comment by roed created at 2012-06-11 16:22:00

The patchbot will tell you if you click on the yellow disc (or whatever other color it might be), then click on "shortlog."

I ran the tests on my own machine and am not getting the same failure patchbot is.  Since I have no idea why your changes would cause a problem in sage.misc.trace, I'm going to give it a positive review.


---

Comment by roed created at 2012-06-11 16:22:00

Changing status from needs_work to positive_review.


---

Comment by cremona created at 2012-06-15 11:17:22

Replying to [comment:4 roed]:
> The patchbot will tell you if you click on the yellow disc (or whatever other color it might be), then click on "shortlog."
> 
> I ran the tests on my own machine and am not getting the same failure patchbot is.  Since I have no idea why your changes would cause a problem in sage.misc.trace, I'm going to give it a positive review.

Thanks.  I agree that the failure reported by patchbot has nothing to do with this ticket.


---

Comment by jhpalmieri created at 2012-06-30 17:49:59

Changing status from positive_review to needs_work.


---

Comment by jhpalmieri created at 2012-06-30 17:49:59

This needs to be rebased to #13109. Patch attached, and I've cc'ed Volker, who should be able to review it quickly.


---

Comment by jhpalmieri created at 2012-06-30 17:50:26

fix a deprecation


---

Comment by jhpalmieri created at 2012-06-30 17:50:35

Changing status from needs_work to needs_review.


---

Attachment


---

Comment by vbraun created at 2012-06-30 19:10:31

John, trac13100-elliptic.patch conflicts with my version of #13109.


---

Comment by cremona created at 2012-06-30 19:24:35

Replying to [comment:9 vbraun]:
> John, trac13100-elliptic.patch conflicts with my version of #13109. 

I understand, but doesn't Joh Palmieri's patch fix it (thanks John)?


---

Attachment


---

Comment by jhpalmieri created at 2012-06-30 19:30:21

Sorry, try this one instead. (I got this one confused with another ticket dealing with elliptic curves.)


---

Comment by jhpalmieri created at 2012-06-30 19:31:38

Changing status from needs_review to positive_review.


---

Comment by jhpalmieri created at 2012-06-30 19:31:38

This is just a rebasing, so I don't think it needs review.


---

Comment by jdemeyer created at 2012-08-01 12:11:47

Resolution: fixed
