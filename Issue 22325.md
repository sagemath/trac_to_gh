# Issue 22325: Lattice point count with preprocessing

Issue created by migration from https://trac.sagemath.org/ticket/22562

Original creator: mkoeppe

Original creation time: 2017-03-10 09:17:42

CC:  jipilab vdelecroix tscrim

Keywords: days84




---

Comment by mkoeppe created at 2017-03-10 16:14:56

New commits:


---

Comment by git created at 2017-03-10 16:19:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2017-03-10 16:20:29

This feature is now complete -- but the branch needs to be rebased onto its prereq tickets.


---

Comment by git created at 2017-03-18 22:54:32

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2017-03-18 23:00:36

Rebased on top of 7.6.rc1 and #22568, #22578.


---

Comment by git created at 2017-03-19 00:55:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2017-03-19 00:56:02

Changing status from new to needs_review.


---

Comment by git created at 2017-03-28 02:49:27

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2017-03-29 02:31:07

Patch bot is green now, needs review


---

Comment by jipilab created at 2017-03-30 08:32:26

All tests passed on 7.6 using `optional=4ti2,latte_int,lrslib,mpir,normaliz,pynormaliz,topcom`.


---

Comment by jipilab created at 2017-03-30 09:01:17

Dear Matthias,

Having in mind the doc description of `integral_hull`, I do not really get the following output,


```
sage: Polyhedron([ (1/3,2/3), (3/3, 4/3) ]).bounding_box(integral_hull=True)
((1, 1), (1, 1))
```


The polyhedron does not have integral points but it returns a box, which is just a point in this case and is not contained in the polytope. I guess this is just because the example is too small to interpret the utility of `bounding_box`, so it's okay...

Probably the description of `integral_hull` in the doc should then be adapted/rephrased to say that it returns the integral hull of a bounding box, because it is confusing with the example... maybe add a "seealso" to point to `integral_points` to explain the usage of that parameter?

Otherwise, it looks good to me!


---

Comment by mkoeppe created at 2017-03-30 23:45:38

No, `bounding_box(integral_hull=True)` returns a bounding box for the integral hull, rather than the integral hull of a bounding box.


---

Comment by mkoeppe created at 2017-03-30 23:52:55

That code is from the prereq ticket #22578, by the way.


---

Comment by git created at 2017-03-31 00:41:46

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2017-03-31 00:42:46

Rebased on 8.0.beta0 (which merged #22568, #22578).


---

Comment by jipilab created at 2017-03-31 08:10:58

Replying to [comment:17 mkoeppe]:
> No, `bounding_box(integral_hull=True)` returns a bounding box for the integral hull, rather than the integral hull of a bounding box. 

Oh! I see. My bad.

Thanks for the rebase! It looks good to me.


---

Comment by jipilab created at 2017-03-31 08:10:58

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-04-03 20:59:48

Resolution: fixed
