# Issue 10865: Check for similar matrices

Issue created by migration from Trac.

Original creator: rbeezer

Original creation time: 2011-03-16 04:30:51

Assignee: jason, was

Method checks if two matrices are similar.  This is limited by the need to eventually compute a canonical form, in this case the Jordan form.

It will always compute a result for matrices over the rationals, owing to `QQbar` and can often arrive at a result of `False` without going as far as a Jordan form.


---

Attachment


---

Comment by rbeezer created at 2011-03-16 04:35:56

Changing status from new to needs_review.


---

Comment by ddrake created at 2011-05-02 07:50:39

Changing status from needs_review to positive_review.


---

Comment by ddrake created at 2011-05-02 07:50:39

This is very nice work. Applies and passes doctests in 4.6.2 and 4.7.rc0. Positive review.


---

Comment by rbeezer created at 2011-05-03 00:21:47

Replying to [comment:2 ddrake]:

Thanks for your help with all this linear algebra code.


---

Comment by jdemeyer created at 2011-05-31 17:20:18

Needs to be rebased to sage-4.7.1.alpha1:

```
patching file sage/matrix/matrix2.pyx
Hunk #1 FAILED at 6299.
1 out of 1 hunk FAILED -- saving rejects to file sage/matrix/matrix2.pyx.rej
```



---

Comment by jdemeyer created at 2011-05-31 17:20:18

Changing status from positive_review to needs_work.


---

Comment by ddrake created at 2011-06-01 05:11:02

rebased for 4.7.1.alpha1; apply only this


---

Comment by ddrake created at 2011-06-01 05:13:38

Changing status from needs_work to positive_review.


---

Attachment

Hah. The code that caused the conflict was another one of Rob's patches. :)

Rebased for 4.7.1.alpha1.


---

Comment by rbeezer created at 2011-06-01 06:44:04

Replying to [comment:6 ddrake]:
> Hah. The code that caused the conflict was another one of Rob's patches. :)
> 
> Rebased for 4.7.1.alpha1.

Hi Dan,

I'm a couple more time zones closer to you at the moment.  ;-)

Thanks for the rebase, this could have fallen through the cracks for a while.

As of today, I have rational canonical form (aka Frobenius form) working, so I should be able to eventually upgrade this to provide a yes/no answer over any field.

Rob


---

Comment by jdemeyer created at 2011-06-07 08:36:35

Resolution: fixed


---

Comment by kini created at 2011-06-19 22:52:30

Someone on IRC (`Alligadi`) voiced concerns about lines 7417 and 7422 of sage/matrix/matrix2.pyx as added in the patch, namely that there are call parens missing from 7417 and that the second `self` should be `other` in 7422. Typos?


---

Comment by rbeezer created at 2011-06-20 04:19:28

Replying to [comment:9 kini]:
> Someone on IRC (`Alligadi`) voiced concerns about lines 7417 and 7422 of sage/matrix/matrix2.pyx as added in the patch, namely that there are call parens missing from 7417 and that the second `self` should be `other` in 7422. Typos?

Correct.  Both are small mistakes.  No harm done, really, since the only consequence is the failure to avoid unnecessary computation.  In other words, results will be correct as written, but intended efficiencies will not happen.  I'll put up a patch tomorrow or so.

Thanks for passing along the IRC intel.

Rob


---

Comment by jdemeyer created at 2011-06-20 07:31:29

Should I reopen the ticket so you can make the changes here?


---

Comment by rbeezer created at 2011-06-20 16:37:07

Replying to [comment:11 jdemeyer]:
> Should I reopen the ticket so you can make the changes here?

Probably best to just reopen this, I should have a patch up right away.

Rob


---

Attachment


---

Comment by rbeezer created at 2011-06-20 17:10:57

Observed mistakes fixed in small patch just added.  I built this on 4.7.1.alpha2, but it should apply on any version that the main patch is applied.

No point in adding anything to the doctests, since these errors only lengthen execution time and no reasonable doctest could tell.

Jeroen - this can move to "needs review" once you reopen it.  

Kini and Alligadi - thanks for the report!

Rob


---

Comment by jdemeyer created at 2011-06-20 18:49:11

Changing status from closed to new.


---

Comment by jdemeyer created at 2011-06-20 18:49:11

Resolution changed from fixed to 


---

Comment by jdemeyer created at 2011-06-20 18:49:27

Changing status from new to needs_review.


---

Comment by ddrake created at 2011-06-21 01:30:01

Changing status from needs_review to positive_review.


---

Comment by ddrake created at 2011-06-21 01:30:01

Oops, I should have caught those two little errors in my first review. But everything looks good now.


---

Comment by jdemeyer created at 2011-06-21 13:13:17

Resolution: fixed


---

Comment by rbeezer created at 2011-06-21 23:51:14

Replying to [comment:16 ddrake]:
> Oops, I should have caught those two little errors in my first review.

Oops, they never should have been there in the first place.  Mea culpa.

Thanks, Dan and Jeroen, for seeing this one through.
