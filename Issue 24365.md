# Issue 24365: upgrade iconv to 1.15

archive/issues_024365.json:
```json
{
    "body": "CC:  @kiwifb @jdemeyer\n\n1.15 was released last year. It fixes a bug in 1.14 that can be seen while building Sage on SPARC Solaris 11.\n\n```\n...\ngcc -m64 -DHAVE_CONFIG_H -DEXEEXT=\\\"\\\" -I. -I.. -I../lib  -I../intl -DDEPENDS_ON_LIBICONV=1 -DDEPENDS_ON_LIBINTL=1   -D_XPG6 -c progname.c\nIn file included from /usr/include/sys/time.h:477:0,\n                 from /usr/include/sys/select.h:28,\n                 from /usr/include/sys/types.h:664,\n                 from ./stdio.h:58,\n                 from progname.c:26:\n./stdio.h:1010:1: error: 'gets' undeclared here (not in a function); did you mean 'getw'?\n _GL_WARN_ON_USE (gets, \"gets is a security hole - use fgets instead\");\n ^\nmake[5]: *** [Makefile:914: progname.o] Error 1\n```\n\n(it's because in 1.14 an unreasonable assumption is made about what's available in the toolchain, some kind of GNUism).\n\nThe update is trivial to do.\n\nIssue created by migration from https://trac.sagemath.org/ticket/24602\n\n",
    "created_at": "2018-01-28T23:45:54Z",
    "labels": [
        "packages: standard",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "upgrade iconv to 1.15",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24365",
    "user": "@dimpase"
}
```
CC:  @kiwifb @jdemeyer

1.15 was released last year. It fixes a bug in 1.14 that can be seen while building Sage on SPARC Solaris 11.

```
...
gcc -m64 -DHAVE_CONFIG_H -DEXEEXT=\"\" -I. -I.. -I../lib  -I../intl -DDEPENDS_ON_LIBICONV=1 -DDEPENDS_ON_LIBINTL=1   -D_XPG6 -c progname.c
In file included from /usr/include/sys/time.h:477:0,
                 from /usr/include/sys/select.h:28,
                 from /usr/include/sys/types.h:664,
                 from ./stdio.h:58,
                 from progname.c:26:
./stdio.h:1010:1: error: 'gets' undeclared here (not in a function); did you mean 'getw'?
 _GL_WARN_ON_USE (gets, "gets is a security hole - use fgets instead");
 ^
make[5]: *** [Makefile:914: progname.o] Error 1
```

(it's because in 1.14 an unreasonable assumption is made about what's available in the toolchain, some kind of GNUism).

The update is trivial to do.

Issue created by migration from https://trac.sagemath.org/ticket/24602





---

archive/issue_comments_341383.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-01-29T00:18:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24365#issuecomment-341383",
    "user": "@dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_341384.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-01-31T06:33:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24365#issuecomment-341384",
    "user": "@jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_341385.json:
```json
{
    "body": "Apologies for the weird patchbot results on this ticket. I'm experimenting with a new update to the patchbot to allow it to test tickets with spkg updates, and I sort of at random picked this one as a guinea pig.",
    "created_at": "2018-02-02T10:16:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24365#issuecomment-341385",
    "user": "@embray"
}
```

Apologies for the weird patchbot results on this ticket. I'm experimenting with a new update to the patchbot to allow it to test tickets with spkg updates, and I sort of at random picked this one as a guinea pig.



---

archive/issue_comments_341386.json:
```json
{
    "body": "\"... news outlets are reporting a noisy crowd of animal rights advocates protesting at Sagemath Headquarters, while a group of climbers just attached a huge banner saying \"Hands off guinea pigs!\" on the front wall...\"",
    "created_at": "2018-02-02T10:40:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24365#issuecomment-341386",
    "user": "@dimpase"
}
```

"... news outlets are reporting a noisy crowd of animal rights advocates protesting at Sagemath Headquarters, while a group of climbers just attached a huge banner saying "Hands off guinea pigs!" on the front wall..."



---

archive/issue_comments_341387.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-02-02T12:05:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24365#issuecomment-341387",
    "user": "@vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_341388.json:
```json
{
    "body": "Hah! :-)",
    "created_at": "2018-02-02T12:27:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24365#issuecomment-341388",
    "user": "@embray"
}
```

Hah! :-)
