# Issue 24365: upgrade iconv to 1.15

Issue created by migration from Trac.

Original creator: dimpase

Original creation time: 2018-01-28 23:45:54

CC:  fbissey jdemeyer

1.15 was released last year. It fixes a bug in 1.14 that can be seen while building Sage on SPARC Solaris 11.

```
...
gcc -m64 -DHAVE_CONFIG_H -DEXEEXT=\"\" -I. -I.. -I../lib  -I../intl -DDEPENDS_ON_LIBICONV=1 -DDEPENDS_ON_LIBINTL=1   -D_XPG6 -c progname.c
In file included from /usr/include/sys/time.h:477:0,
                 from /usr/include/sys/select.h:28,
                 from /usr/include/sys/types.h:664,
                 from ./stdio.h:58,
                 from progname.c:26:
./stdio.h:1010:1: error: 'gets' undeclared here (not in a function); did you mean 'getw'?
 _GL_WARN_ON_USE (gets, "gets is a security hole - use fgets instead");
 ^
make[5]: *** [Makefile:914: progname.o] Error 1
```

(it's because in 1.14 an unreasonable assumption is made about what's available in the toolchain, some kind of GNUism).

The update is trivial to do.


---

Comment by dimpase created at 2018-01-29 00:18:38

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2018-01-31 06:33:05

Changing status from needs_review to positive_review.


---

Comment by embray created at 2018-02-02 10:16:43

Apologies for the weird patchbot results on this ticket. I'm experimenting with a new update to the patchbot to allow it to test tickets with spkg updates, and I sort of at random picked this one as a guinea pig.


---

Comment by dimpase created at 2018-02-02 10:40:58

"... news outlets are reporting a noisy crowd of animal rights advocates protesting at Sagemath Headquarters, while a group of climbers just attached a huge banner saying "Hands off guinea pigs!" on the front wall..."


---

Comment by vbraun created at 2018-02-02 12:05:49

Resolution: fixed


---

Comment by embray created at 2018-02-02 12:27:50

Hah! :-)
