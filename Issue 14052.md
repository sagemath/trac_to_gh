# Issue 14052: Nicer latex output for strings using \text

Issue created by migration from https://trac.sagemath.org/ticket/14256

Original creator: nthiery

Original creation time: 2013-03-11 19:32:58

Assignee: was

The current latex output for simple strings is a bit overkill:

```
    sage: latex("hello world")
    \verb|hello|\phantom{\verb!x!}\verb|world|
```


There is a rationale behind it: namely this allows for a nicer rendering of multi-line ascii art by emulating a fixed-width font. However, for a simple one line string, the following would be more readable:

```
    sage: latex("hello world")
    \text{hello world}
```


The attached preliminary patch does this. However more work would need to be done, as this requires changing quite a few doctests. In fact some code seem to assume that the output use `\verb` before stripping this away, so maybe some cleanup is in order there.

I for myself won't work any further on this patch; feel free to take over!


---

Comment by nthiery created at 2013-03-11 19:33:57

Changing status from new to needs_review.


---

Attachment


---

Comment by nthiery created at 2013-03-11 19:34:08

Changing status from needs_review to needs_work.


---

Comment by novoselt created at 2013-04-02 02:53:06

And what if several such strings will be output in sequence and fixed width font will somehow matter to them? Plus if something may be a single string or several, it means that the output format will change. I think that the best way for strings is uniform handling of all cases and verb seems like a sensible choice. If a particular application requires different treatment, it is better to insert appropriate latex code there.


---

Comment by novoselt created at 2013-04-17 20:57:48

With #14382:

```
sage: latex("hello world")
\text{\tt hello{ }world}
```

Will this be better than verb? Middle { } are for dealing with multiple spaces, I guess we can avoid inserting them for a single space, but it will complicate the code...


---

Comment by novoselt created at 2014-07-24 16:00:12

Nicolas - can we close this?


---

Comment by novoselt created at 2014-07-24 16:00:12

Changing status from needs_work to needs_info.


---

Comment by slelievre created at 2021-01-02 16:26:24

Changing status from needs_info to needs_review.


---

Comment by slelievre created at 2021-01-02 16:26:24

Suggest to close this as duplicate, as it has long been solved.


---

Comment by @DaveWitteMorris created at 2021-01-02 16:54:17

Changing status from needs_review to positive_review.


---

Comment by @DaveWitteMorris created at 2021-01-02 16:54:17

Yes, we can close this as a duplicate of #14382 (merged in 5.12.beta3).


---

Comment by slelievre created at 2021-01-02 17:37:03

Thanks for tracking down which ticket solved this and providing a link!


---

Comment by slelievre created at 2021-01-02 17:37:03

Resolution: duplicate
