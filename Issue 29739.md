# Issue 29739: Make matrix doctests ready for random seeds

Issue created by migration from https://trac.sagemath.org/ticket/29976

Original creator: @kliem

Original creation time: 2020-06-24 21:29:41

CC:  slelievre

This ticket makes

```
sage -t --long --random-seed=n src/sage/matrix/
```

pass for different values `n` than just `0`.


---

Comment by @kliem created at 2020-06-24 21:30:53

I have a very partial fix. But even after that the following still need to be taken care of

```
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/matrix/matrix_cyclo_dense.pyx  # 3 doctests failed
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/matrix/matrix_generic_dense.pyx  # 1 doctest failed
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/matrix/matrix_gf2e_dense.pyx  # 67 doctests failed
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/matrix/matrix_integer_dense_saturation.py  # 2 doctests failed
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/matrix/matrix_integer_dense.pyx  # 3 doctests failed
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/matrix/matrix_modn_dense_double.pyx  # 13 doctests failed
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/matrix/matrix_modn_dense_float.pyx  # 12 doctests failed
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/matrix/matrix_modn_dense_template.pxi  # 77 doctests failed
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/matrix/matrix_modn_sparse.pyx  # 3 doctests failed
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/matrix/matrix_rational_dense.pyx  # 4 doctests failed
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/matrix/matrix_space.py  # 5 doctests failed
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/matrix/matrix_sparse.pyx  # 1 doctest failed
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/matrix/matrix1.pyx  # 1 doctest failed
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/matrix/special.py  # 37 doctests failed
```



---

Comment by git created at 2020-06-24 21:41:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-03-15 22:07:04

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.


---

Comment by git created at 2021-04-30 10:23:24

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by @kliem created at 2021-06-04 13:55:17

Changing status from new to needs_review.


---

Comment by @kliem created at 2021-06-04 13:55:17

New commits:


---

Comment by slelievre created at 2021-06-07 22:23:35

Changing keywords from "" to "random_seed, fuzz".


---

Comment by slelievre created at 2021-06-07 22:23:35

A typo in `src/sage/matrix/matrix_rational_dense.pyx`
prevents the HTML documentation from building.

To fix it, change this in the docstring of `randomize`:

```
-        The default density is ``6/9`::
+        The default density is `6/9`::
```


After fixing that, success doctesting `src/sage/matrix`
be it with the random seed in the ticket description
or with a few extra random ones.

Instead of using `l` (lowercase L) to name a list,
in many cases a more descriptive name can be used
and is less confusing; for a list of matrix entries,
why not call it `entries` for example?


---

Comment by git created at 2021-06-08 06:59:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by slelievre created at 2021-06-08 15:09:40

Changing status from needs_review to positive_review.


---

Comment by slelievre created at 2021-06-08 15:09:40

Minor improvements such as renaming a list
from `l` to `entries` can be done later.


---

Comment by @kliem created at 2021-06-08 17:46:39

Thank you.


---

Comment by vbraun created at 2021-06-20 08:14:38

Resolution: fixed
