# Issue 15915: add discrete Gaussian samplers to Sage

archive/issues_015678.json:
```json
{
    "assignees": [],
    "body": "This ticket adds samplers for discrete Gaussian distributions to Sage.\n\nKeywords: **sd59**\n\nBranch: **[a1b711f](https://github.com/sagemath/sagetrac-mirror/commit/a1b711fb00192eb55212644e79c38bb0adc89a61)**\n\nReviewer: **Julian Rueth**\n\nAuthor: **Martin Albrecht**\n\nComponent: **statistics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15915_\n\n",
    "closed_at": "2014-09-10T21:45:17Z",
    "created_at": "2014-03-10T12:52:46Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20statistics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "add discrete Gaussian samplers to Sage",
    "type": "issue",
    "updated_at": "2014-09-11T15:25:02Z",
    "url": "https://github.com/sagemath/sage/issues/15915",
    "user": "https://github.com/malb"
}
```
This ticket adds samplers for discrete Gaussian distributions to Sage.

Keywords: **sd59**

Branch: **[a1b711f](https://github.com/sagemath/sagetrac-mirror/commit/a1b711fb00192eb55212644e79c38bb0adc89a61)**

Reviewer: **Julian Rueth**

Author: **Martin Albrecht**

Component: **statistics**

_Issue created by migration from https://trac.sagemath.org/ticket/15915_





---

archive/issue_events_227188.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2014-03-10T12:52:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227188"
}
```



---

archive/issue_events_227189.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2014-03-10T12:52:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20statistics",
    "label_color": "0000ff",
    "label_name": "c: statistics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227189"
}
```



---

archive/issue_events_227190.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2014-03-10T12:52:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227190"
}
```



---

archive/issue_comments_201631.json:
```json
{
    "body": "Branch: **[u/malb/15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/15915_discrete_gaussians)**",
    "created_at": "2014-03-10T12:53:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201631",
    "user": "https://github.com/malb"
}
```

Branch: **[u/malb/15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/15915_discrete_gaussians)**



---

archive/issue_comments_201632.json:
```json
{
    "body": "Commit: **[8872ac1](https://github.com/sagemath/sagetrac-mirror/commit/8872ac1a11592048416fe2283b473cc910fd2673)**",
    "created_at": "2014-03-10T12:53:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201632",
    "user": "https://github.com/malb"
}
```

Commit: **[8872ac1](https://github.com/sagemath/sagetrac-mirror/commit/8872ac1a11592048416fe2283b473cc910fd2673)**



---

archive/issue_comments_201633.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2978c2948cf72fa7dca59b2e323d4436be608b6f\">2978c29</a></td><td><code>bernoulli distributions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14f95a686402dbddf31cd7594e5cdcd2984bba88\">14f95a6</a></td><td><code>first discrete gaussian sampler implemented</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3faa9567d5d6b8a4e2d87cfe2ad8a46d2b8aa7a7\">3faa956</a></td><td><code>slow uniform+online implementation of discrete gaussians added</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6bb9421b788285f9a56eaf0a016ed8d91dd5a12d\">6bb9421</a></td><td><code>first version of mp versions of discrete gausians done</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a94c2dd558a5f24cdaece7b534d6bbf24dd4bf0b\">a94c2dd</a></td><td><code>added double precision variants, but these are not much faster</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6d349136e71e66e0ed89bc2221aed6f7e27c4c8\">c6d3491</a></td><td><code>added ZZ.random_element(gaussian) and fixed LWE to use new sampler</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8872ac1a11592048416fe2283b473cc910fd2673\">8872ac1</a></td><td><code>added parameter c for discrete Gaussians</code></td></tr></table>\n",
    "created_at": "2014-03-10T12:53:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201633",
    "user": "https://github.com/malb"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2978c2948cf72fa7dca59b2e323d4436be608b6f">2978c29</a></td><td><code>bernoulli distributions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14f95a686402dbddf31cd7594e5cdcd2984bba88">14f95a6</a></td><td><code>first discrete gaussian sampler implemented</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3faa9567d5d6b8a4e2d87cfe2ad8a46d2b8aa7a7">3faa956</a></td><td><code>slow uniform+online implementation of discrete gaussians added</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6bb9421b788285f9a56eaf0a016ed8d91dd5a12d">6bb9421</a></td><td><code>first version of mp versions of discrete gausians done</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a94c2dd558a5f24cdaece7b534d6bbf24dd4bf0b">a94c2dd</a></td><td><code>added double precision variants, but these are not much faster</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6d349136e71e66e0ed89bc2221aed6f7e27c4c8">c6d3491</a></td><td><code>added ZZ.random_element(gaussian) and fixed LWE to use new sampler</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8872ac1a11592048416fe2283b473cc910fd2673">8872ac1</a></td><td><code>added parameter c for discrete Gaussians</code></td></tr></table>




---

archive/issue_comments_201634.json:
```json
{
    "body": "Changed commit from **[8872ac1](https://github.com/sagemath/sagetrac-mirror/commit/8872ac1a11592048416fe2283b473cc910fd2673)** to **[03c6dc4](https://github.com/sagemath/sagetrac-mirror/commit/03c6dc44903a22c2db5ec9f2b7608188b4e927a3)**",
    "created_at": "2014-03-12T16:24:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201634",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8872ac1](https://github.com/sagemath/sagetrac-mirror/commit/8872ac1a11592048416fe2283b473cc910fd2673)** to **[03c6dc4](https://github.com/sagemath/sagetrac-mirror/commit/03c6dc44903a22c2db5ec9f2b7608188b4e927a3)**



---

archive/issue_comments_201635.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2413fcd6a5ac2e385ea740d552bb50999d07cd89\">2413fcd</a></td><td><code>discrete gaussians (mp version) support arbitrary c now</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37049f76150c0ad10d862e5c9b9f2c610bd1879d\">37049f7</a></td><td><code>more careful considerations of tau + documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03c6dc44903a22c2db5ec9f2b7608188b4e927a3\">03c6dc4</a></td><td><code>fixed precision='dp'</code></td></tr></table>\n",
    "created_at": "2014-03-12T16:24:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201635",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2413fcd6a5ac2e385ea740d552bb50999d07cd89">2413fcd</a></td><td><code>discrete gaussians (mp version) support arbitrary c now</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37049f76150c0ad10d862e5c9b9f2c610bd1879d">37049f7</a></td><td><code>more careful considerations of tau + documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03c6dc44903a22c2db5ec9f2b7608188b4e927a3">03c6dc4</a></td><td><code>fixed precision='dp'</code></td></tr></table>




---

archive/issue_comments_201636.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/853cff35dfb88edcc31c545c6d80eed7496d5094\">853cff3</a></td><td><code>documentation clarification</code></td></tr></table>\n",
    "created_at": "2014-03-14T14:01:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201636",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/853cff35dfb88edcc31c545c6d80eed7496d5094">853cff3</a></td><td><code>documentation clarification</code></td></tr></table>




---

archive/issue_comments_201637.json:
```json
{
    "body": "Changed commit from **[03c6dc4](https://github.com/sagemath/sagetrac-mirror/commit/03c6dc44903a22c2db5ec9f2b7608188b4e927a3)** to **[853cff3](https://github.com/sagemath/sagetrac-mirror/commit/853cff35dfb88edcc31c545c6d80eed7496d5094)**",
    "created_at": "2014-03-14T14:01:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201637",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[03c6dc4](https://github.com/sagemath/sagetrac-mirror/commit/03c6dc44903a22c2db5ec9f2b7608188b4e927a3)** to **[853cff3](https://github.com/sagemath/sagetrac-mirror/commit/853cff35dfb88edcc31c545c6d80eed7496d5094)**



---

archive/issue_comments_201638.json:
```json
{
    "body": "Changed commit from **[853cff3](https://github.com/sagemath/sagetrac-mirror/commit/853cff35dfb88edcc31c545c6d80eed7496d5094)** to **[1829e21](https://github.com/sagemath/sagetrac-mirror/commit/1829e2163227afc96245ae35459e0797a9ad2ac3)**",
    "created_at": "2014-03-15T11:32:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201638",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[853cff3](https://github.com/sagemath/sagetrac-mirror/commit/853cff35dfb88edcc31c545c6d80eed7496d5094)** to **[1829e21](https://github.com/sagemath/sagetrac-mirror/commit/1829e2163227afc96245ae35459e0797a9ad2ac3)**



---

archive/issue_comments_201639.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1829e2163227afc96245ae35459e0797a9ad2ac3\">1829e21</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into discrete_gaussian</code></td></tr></table>\n",
    "created_at": "2014-03-15T11:32:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201639",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1829e2163227afc96245ae35459e0797a9ad2ac3">1829e21</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into discrete_gaussian</code></td></tr></table>




---

archive/issue_events_227191.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2014-03-15T11:33:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227191"
}
```



---

archive/issue_events_227192.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2014-03-15T11:33:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227192"
}
```



---

archive/issue_comments_201640.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6aa658c1999c3f151b15a76f61f6c404bc347143\">6aa658c</a></td><td><code>DDLL23 -> DDLL13</code></td></tr></table>\n",
    "created_at": "2014-03-27T16:21:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201640",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6aa658c1999c3f151b15a76f61f6c404bc347143">6aa658c</a></td><td><code>DDLL23 -> DDLL13</code></td></tr></table>




---

archive/issue_comments_201641.json:
```json
{
    "body": "Changed commit from **[1829e21](https://github.com/sagemath/sagetrac-mirror/commit/1829e2163227afc96245ae35459e0797a9ad2ac3)** to **[6aa658c](https://github.com/sagemath/sagetrac-mirror/commit/6aa658c1999c3f151b15a76f61f6c404bc347143)**",
    "created_at": "2014-03-27T16:21:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201641",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1829e21](https://github.com/sagemath/sagetrac-mirror/commit/1829e2163227afc96245ae35459e0797a9ad2ac3)** to **[6aa658c](https://github.com/sagemath/sagetrac-mirror/commit/6aa658c1999c3f151b15a76f61f6c404bc347143)**



---

archive/issue_comments_201642.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nDaniel Cabarcas looked at the C part of the code, here is what he said (and my reply which I sent via e-mail)\n\n> I looked at the code and I think it is an important improvement over what we had \n> before. I looked in detail at the uniform+table and the uniform+online versions and I > think they are correct. I don't know the details of the logtable algorithms so I \n> didn't looked at the corresponding code. I have a few comments so far:\n\n> The name of the library is DGS for discrete Gaussian samplers. However, all \n> implementations are over the integers, and not over a more general lattice. I was \n> wondering if it would be wiser to call it discrete Gaussian over the integers, \n> foreseeing implementations over other lattices.\n\nMy idea was to include the discrete Gaussian sampler over lattices (+ cosets)\ninto this implementation. Hence the name. However, for that I needed to do #15976 first. I plan to go back to the samplers over the lattices once both tickets\nare merged (and I can rely on them).\n\n> Have you consider implementing other samplers? if you are looking for speed \n> Knuth-Yao is quite impressive, and if you are looking for a time-memory tradeoff the > discrete Ziggurat algorithm is nice. Moreover, in terms of flexibility of the library > design, do you think it would be easy to add other samplers in the future which \n> require perhaps other parameters?\n\nI haven't thought about Knuth-Yao or Ziggurat, do you have any good references at hand? I'm happy to implement more samplers, might as well be comprehensive. I was also thinking about extending the logtable approach to arbitrary Gaussian parameters sigma.\n\nAs for the interface, I guess I should check the two algorithms you mentioned above to see what would need to be generalised. If other parameters are needed in the future I can simply add another constructor which accepts those parameters, that was my thinking anyway.\n\n> I was wondering about the source of randomness. You use standard c functions, which > \n> is probably ok for many tests. However, you know for sure how critical is the source \n> of randomness in crypto implementations. Moreover, there are huge differences in \n> speed between the standard random c function and a secure random function, thus, for \n> testing efficiency of Gaussian samplers it is crucial to have the flexibility to \n> choose your source of randomness. For this reason, in some implementation we did, we \n> had the source of randomness as a parameter. Perhaps, you'd like to consider doing \n> that.\n\nI currently have two versions, one using GMP's randstate and one using libc. GMP should give cryptographically strong pseudorandom numbers. In my experience the difference in running time is - as you write - pretty much down to how long it takes to sample random numbers, so I figured I offer one with a good random number generator and one with a fast which is good enough for testing.",
    "created_at": "2014-03-29T14:12:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201642",
    "user": "https://github.com/malb"
}
```

<div id="comment:7" align="right">comment:7</div>

Daniel Cabarcas looked at the C part of the code, here is what he said (and my reply which I sent via e-mail)

> I looked at the code and I think it is an important improvement over what we had 
> before. I looked in detail at the uniform+table and the uniform+online versions and I > think they are correct. I don't know the details of the logtable algorithms so I 
> didn't looked at the corresponding code. I have a few comments so far:

> The name of the library is DGS for discrete Gaussian samplers. However, all 
> implementations are over the integers, and not over a more general lattice. I was 
> wondering if it would be wiser to call it discrete Gaussian over the integers, 
> foreseeing implementations over other lattices.

My idea was to include the discrete Gaussian sampler over lattices (+ cosets)
into this implementation. Hence the name. However, for that I needed to do #15976 first. I plan to go back to the samplers over the lattices once both tickets
are merged (and I can rely on them).

> Have you consider implementing other samplers? if you are looking for speed 
> Knuth-Yao is quite impressive, and if you are looking for a time-memory tradeoff the > discrete Ziggurat algorithm is nice. Moreover, in terms of flexibility of the library > design, do you think it would be easy to add other samplers in the future which 
> require perhaps other parameters?

I haven't thought about Knuth-Yao or Ziggurat, do you have any good references at hand? I'm happy to implement more samplers, might as well be comprehensive. I was also thinking about extending the logtable approach to arbitrary Gaussian parameters sigma.

As for the interface, I guess I should check the two algorithms you mentioned above to see what would need to be generalised. If other parameters are needed in the future I can simply add another constructor which accepts those parameters, that was my thinking anyway.

> I was wondering about the source of randomness. You use standard c functions, which > 
> is probably ok for many tests. However, you know for sure how critical is the source 
> of randomness in crypto implementations. Moreover, there are huge differences in 
> speed between the standard random c function and a secure random function, thus, for 
> testing efficiency of Gaussian samplers it is crucial to have the flexibility to 
> choose your source of randomness. For this reason, in some implementation we did, we 
> had the source of randomness as a parameter. Perhaps, you'd like to consider doing 
> that.

I currently have two versions, one using GMP's randstate and one using libc. GMP should give cryptographically strong pseudorandom numbers. In my experience the difference in running time is - as you write - pretty much down to how long it takes to sample random numbers, so I figured I offer one with a good random number generator and one with a fast which is good enough for testing.



---

archive/issue_comments_201643.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nSo, any volunteer reviewers for the Sage part?",
    "created_at": "2014-03-29T14:12:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201643",
    "user": "https://github.com/malb"
}
```

<div id="comment:8" align="right">comment:8</div>

So, any volunteer reviewers for the Sage part?



---

archive/issue_events_227193.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227193"
}
```



---

archive/issue_events_227194.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227194"
}
```



---

archive/issue_comments_201644.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01bdc19639b35dc4b3a03fd72bd3d4840d0d1564\">01bdc19</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into discrete_gaussian</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0b87bffff470b6ee0cf86cebf3dc0299bfeab651\">0b87bff</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into discrete_gaussian</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dcfaf524c406916d9bab959211f49035e9eb7015\">dcfaf52</a></td><td><code>document fact that some random bits are cached</code></td></tr></table>\n",
    "created_at": "2014-05-13T15:00:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201644",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01bdc19639b35dc4b3a03fd72bd3d4840d0d1564">01bdc19</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into discrete_gaussian</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0b87bffff470b6ee0cf86cebf3dc0299bfeab651">0b87bff</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into discrete_gaussian</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dcfaf524c406916d9bab959211f49035e9eb7015">dcfaf52</a></td><td><code>document fact that some random bits are cached</code></td></tr></table>




---

archive/issue_comments_201645.json:
```json
{
    "body": "Changed commit from **[6aa658c](https://github.com/sagemath/sagetrac-mirror/commit/6aa658c1999c3f151b15a76f61f6c404bc347143)** to **[dcfaf52](https://github.com/sagemath/sagetrac-mirror/commit/dcfaf524c406916d9bab959211f49035e9eb7015)**",
    "created_at": "2014-05-13T15:00:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201645",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6aa658c](https://github.com/sagemath/sagetrac-mirror/commit/6aa658c1999c3f151b15a76f61f6c404bc347143)** to **[dcfaf52](https://github.com/sagemath/sagetrac-mirror/commit/dcfaf524c406916d9bab959211f49035e9eb7015)**



---

archive/issue_comments_201646.json:
```json
{
    "body": "Changed commit from **[dcfaf52](https://github.com/sagemath/sagetrac-mirror/commit/dcfaf524c406916d9bab959211f49035e9eb7015)** to **[32ba29a](https://github.com/sagemath/sagetrac-mirror/commit/32ba29ad1af185c4e55f9e4d4ba6359fe6844370)**",
    "created_at": "2014-05-13T16:23:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201646",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dcfaf52](https://github.com/sagemath/sagetrac-mirror/commit/dcfaf524c406916d9bab959211f49035e9eb7015)** to **[32ba29a](https://github.com/sagemath/sagetrac-mirror/commit/32ba29ad1af185c4e55f9e4d4ba6359fe6844370)**



---

archive/issue_comments_201647.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32ba29ad1af185c4e55f9e4d4ba6359fe6844370\">32ba29a</a></td><td><code>check for integer overflows</code></td></tr></table>\n",
    "created_at": "2014-05-13T16:23:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201647",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32ba29ad1af185c4e55f9e4d4ba6359fe6844370">32ba29a</a></td><td><code>check for integer overflows</code></td></tr></table>




---

archive/issue_comments_201648.json:
```json
{
    "body": "Changed commit from **[32ba29a](https://github.com/sagemath/sagetrac-mirror/commit/32ba29ad1af185c4e55f9e4d4ba6359fe6844370)** to **[9ea5bc4](https://github.com/sagemath/sagetrac-mirror/commit/9ea5bc4d8373ac569b42207ea47619f1a42a3488)**",
    "created_at": "2014-05-14T09:52:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201648",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[32ba29a](https://github.com/sagemath/sagetrac-mirror/commit/32ba29ad1af185c4e55f9e4d4ba6359fe6844370)** to **[9ea5bc4](https://github.com/sagemath/sagetrac-mirror/commit/9ea5bc4d8373ac569b42207ea47619f1a42a3488)**



---

archive/issue_comments_201649.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ea5bc4d8373ac569b42207ea47619f1a42a3488\">9ea5bc4</a></td><td><code>documentation clean up</code></td></tr></table>\n",
    "created_at": "2014-05-14T09:52:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201649",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ea5bc4d8373ac569b42207ea47619f1a42a3488">9ea5bc4</a></td><td><code>documentation clean up</code></td></tr></table>




---

archive/issue_comments_201650.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\n\n```\nsage -t --long src/sage/rings/integer_ring.pyx  # 1 doctest failed\nsage -t --long src/sage/crypto/lwe.py  # 23 doctests failed\n```",
    "created_at": "2014-05-19T05:44:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201650",
    "user": "https://github.com/rwst"
}
```

<div id="comment:13" align="right">comment:13</div>


```
sage -t --long src/sage/rings/integer_ring.pyx  # 1 doctest failed
sage -t --long src/sage/crypto/lwe.py  # 23 doctests failed
```



---

archive/issue_events_227195.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-19T05:44:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227195"
}
```



---

archive/issue_events_227196.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-19T05:44:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227196"
}
```



---

archive/issue_comments_201651.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f37edb6937c7a0a5b1477b9b4f1d82773d72a10c\">f37edb6</a></td><td><code>Merge branch 'u/malb/15915_discrete_gaussians' of trac.sagemath.org:sage into discrete_gaussian</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0746a4e14e08459a12c0d61b7ac5d18039cf70a7\">0746a4e</a></td><td><code>fix doctest failures</code></td></tr></table>\n",
    "created_at": "2014-05-19T13:24:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201651",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f37edb6937c7a0a5b1477b9b4f1d82773d72a10c">f37edb6</a></td><td><code>Merge branch 'u/malb/15915_discrete_gaussians' of trac.sagemath.org:sage into discrete_gaussian</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0746a4e14e08459a12c0d61b7ac5d18039cf70a7">0746a4e</a></td><td><code>fix doctest failures</code></td></tr></table>




---

archive/issue_comments_201652.json:
```json
{
    "body": "Changed commit from **[9ea5bc4](https://github.com/sagemath/sagetrac-mirror/commit/9ea5bc4d8373ac569b42207ea47619f1a42a3488)** to **[0746a4e](https://github.com/sagemath/sagetrac-mirror/commit/0746a4e14e08459a12c0d61b7ac5d18039cf70a7)**",
    "created_at": "2014-05-19T13:24:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201652",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9ea5bc4](https://github.com/sagemath/sagetrac-mirror/commit/9ea5bc4d8373ac569b42207ea47619f1a42a3488)** to **[0746a4e](https://github.com/sagemath/sagetrac-mirror/commit/0746a4e14e08459a12c0d61b7ac5d18039cf70a7)**



---

archive/issue_comments_201653.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nDoctests fixed.",
    "created_at": "2014-05-19T13:26:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201653",
    "user": "https://github.com/malb"
}
```

<div id="comment:15" align="right">comment:15</div>

Doctests fixed.



---

archive/issue_comments_201654.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+This ticket adds samplers for discrete Gaussian distributions to Sage.\n``````\n",
    "created_at": "2014-05-19T13:26:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201654",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+This ticket adds samplers for discrete Gaussian distributions to Sage.
``````




---

archive/issue_events_227197.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2014-05-19T13:26:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227197"
}
```



---

archive/issue_events_227198.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2014-05-19T13:26:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227198"
}
```



---

archive/issue_comments_201655.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/853cff35dfb88edcc31c545c6d80eed7496d5094\">853cff3</a></td><td><code>documentation clarification</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1829e2163227afc96245ae35459e0797a9ad2ac3\">1829e21</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into discrete_gaussian</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6aa658c1999c3f151b15a76f61f6c404bc347143\">6aa658c</a></td><td><code>DDLL23 -> DDLL13</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01bdc19639b35dc4b3a03fd72bd3d4840d0d1564\">01bdc19</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into discrete_gaussian</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0b87bffff470b6ee0cf86cebf3dc0299bfeab651\">0b87bff</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into discrete_gaussian</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dcfaf524c406916d9bab959211f49035e9eb7015\">dcfaf52</a></td><td><code>document fact that some random bits are cached</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32ba29ad1af185c4e55f9e4d4ba6359fe6844370\">32ba29a</a></td><td><code>check for integer overflows</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ea5bc4d8373ac569b42207ea47619f1a42a3488\">9ea5bc4</a></td><td><code>documentation clean up</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f15c3398c6f62adcf0a611aeb125be1f8bb0e0c0\">f15c339</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into discrete_gaussian</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fba8f6199c226f9b8162bace742c960c6c023224\">fba8f61</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into discrete_gaussian</code></td></tr></table>\n",
    "created_at": "2014-06-25T01:17:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201655",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/853cff35dfb88edcc31c545c6d80eed7496d5094">853cff3</a></td><td><code>documentation clarification</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1829e2163227afc96245ae35459e0797a9ad2ac3">1829e21</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into discrete_gaussian</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6aa658c1999c3f151b15a76f61f6c404bc347143">6aa658c</a></td><td><code>DDLL23 -> DDLL13</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01bdc19639b35dc4b3a03fd72bd3d4840d0d1564">01bdc19</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into discrete_gaussian</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0b87bffff470b6ee0cf86cebf3dc0299bfeab651">0b87bff</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into discrete_gaussian</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dcfaf524c406916d9bab959211f49035e9eb7015">dcfaf52</a></td><td><code>document fact that some random bits are cached</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32ba29ad1af185c4e55f9e4d4ba6359fe6844370">32ba29a</a></td><td><code>check for integer overflows</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ea5bc4d8373ac569b42207ea47619f1a42a3488">9ea5bc4</a></td><td><code>documentation clean up</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f15c3398c6f62adcf0a611aeb125be1f8bb0e0c0">f15c339</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into discrete_gaussian</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fba8f6199c226f9b8162bace742c960c6c023224">fba8f61</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into discrete_gaussian</code></td></tr></table>




---

archive/issue_comments_201656.json:
```json
{
    "body": "Changed commit from **[0746a4e](https://github.com/sagemath/sagetrac-mirror/commit/0746a4e14e08459a12c0d61b7ac5d18039cf70a7)** to **[fba8f61](https://github.com/sagemath/sagetrac-mirror/commit/fba8f6199c226f9b8162bace742c960c6c023224)**",
    "created_at": "2014-06-25T01:17:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201656",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0746a4e](https://github.com/sagemath/sagetrac-mirror/commit/0746a4e14e08459a12c0d61b7ac5d18039cf70a7)** to **[fba8f61](https://github.com/sagemath/sagetrac-mirror/commit/fba8f6199c226f9b8162bace742c960c6c023224)**



---

archive/issue_comments_201657.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6dcd131da7c6ea35781c6a46b0bae59297a2609a\">6dcd131</a></td><td><code>include stats dir</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf03fd71f5f009ad7b6db48de9565ac24ef7d2d7\">bf03fd7</a></td><td><code>fixed doctest failures</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8711050a5e38bad26ae2d24e0245866fd2b23f68\">8711050</a></td><td><code>moved & renamed discrete gaussian samplers</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7926fae85a045a1358563b4d5084f91405a913f1\">7926fae</a></td><td><code>added Gaussian samplers for polynomials and lattices</code></td></tr></table>\n",
    "created_at": "2014-06-25T19:22:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201657",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6dcd131da7c6ea35781c6a46b0bae59297a2609a">6dcd131</a></td><td><code>include stats dir</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf03fd71f5f009ad7b6db48de9565ac24ef7d2d7">bf03fd7</a></td><td><code>fixed doctest failures</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8711050a5e38bad26ae2d24e0245866fd2b23f68">8711050</a></td><td><code>moved & renamed discrete gaussian samplers</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7926fae85a045a1358563b4d5084f91405a913f1">7926fae</a></td><td><code>added Gaussian samplers for polynomials and lattices</code></td></tr></table>




---

archive/issue_comments_201658.json:
```json
{
    "body": "Changed commit from **[fba8f61](https://github.com/sagemath/sagetrac-mirror/commit/fba8f6199c226f9b8162bace742c960c6c023224)** to **[7926fae](https://github.com/sagemath/sagetrac-mirror/commit/7926fae85a045a1358563b4d5084f91405a913f1)**",
    "created_at": "2014-06-25T19:22:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201658",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fba8f61](https://github.com/sagemath/sagetrac-mirror/commit/fba8f6199c226f9b8162bace742c960c6c023224)** to **[7926fae](https://github.com/sagemath/sagetrac-mirror/commit/7926fae85a045a1358563b4d5084f91405a913f1)**



---

archive/issue_comments_201659.json:
```json
{
    "body": "Changed keywords from none to **sd59**",
    "created_at": "2014-06-25T19:39:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201659",
    "user": "https://github.com/saraedum"
}
```

Changed keywords from none to **sd59**



---

archive/issue_comments_201660.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nSome comments at https://github.com/sagemath/sage/pull/18 (I didn't look at the .c files yet.)",
    "created_at": "2014-06-25T20:47:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201660",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:19" align="right">comment:19</div>

Some comments at https://github.com/sagemath/sage/pull/18 (I didn't look at the .c files yet.)



---

archive/issue_comments_201661.json:
```json
{
    "body": "Changed commit from **[7926fae](https://github.com/sagemath/sagetrac-mirror/commit/7926fae85a045a1358563b4d5084f91405a913f1)** to **[6ace4d7](https://github.com/sagemath/sagetrac-mirror/commit/6ace4d7b5d71c61c5c07f6c72c3f097884870c4d)**",
    "created_at": "2014-06-25T21:06:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201661",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7926fae](https://github.com/sagemath/sagetrac-mirror/commit/7926fae85a045a1358563b4d5084f91405a913f1)** to **[6ace4d7](https://github.com/sagemath/sagetrac-mirror/commit/6ace4d7b5d71c61c5c07f6c72c3f097884870c4d)**



---

archive/issue_comments_201662.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ace4d7b5d71c61c5c07f6c72c3f097884870c4d\">6ace4d7</a></td><td><code>pass polynomial ring explicitly to distributions over polynomial rings</code></td></tr></table>\n",
    "created_at": "2014-06-25T21:06:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201662",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ace4d7b5d71c61c5c07f6c72c3f097884870c4d">6ace4d7</a></td><td><code>pass polynomial ring explicitly to distributions over polynomial rings</code></td></tr></table>




---

archive/issue_comments_201663.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a910589878abe5f2fe13858f600a37d3d9eae0bb\">a910589</a></td><td><code>addressed comments at https://github.com/sagemath/sage/pull/18</code></td></tr></table>\n",
    "created_at": "2014-06-26T00:14:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201663",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a910589878abe5f2fe13858f600a37d3d9eae0bb">a910589</a></td><td><code>addressed comments at https://github.com/sagemath/sage/pull/18</code></td></tr></table>




---

archive/issue_comments_201664.json:
```json
{
    "body": "Changed commit from **[6ace4d7](https://github.com/sagemath/sagetrac-mirror/commit/6ace4d7b5d71c61c5c07f6c72c3f097884870c4d)** to **[a910589](https://github.com/sagemath/sagetrac-mirror/commit/a910589878abe5f2fe13858f600a37d3d9eae0bb)**",
    "created_at": "2014-06-26T00:14:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201664",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6ace4d7](https://github.com/sagemath/sagetrac-mirror/commit/6ace4d7b5d71c61c5c07f6c72c3f097884870c4d)** to **[a910589](https://github.com/sagemath/sagetrac-mirror/commit/a910589878abe5f2fe13858f600a37d3d9eae0bb)**



---

archive/issue_comments_201665.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI don't feel able to review all the code, but testing it seems to work ok.\n\nI just think it would make sense for the samplers over the polynomials to accept the polynomial ring as an input.",
    "created_at": "2014-06-26T04:17:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201665",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:22" align="right">comment:22</div>

I don't feel able to review all the code, but testing it seems to work ok.

I just think it would make sense for the samplers over the polynomials to accept the polynomial ring as an input.



---

archive/issue_comments_201666.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@miguelmarco](#comment:22):\n> I just think it would make sense for the samplers over the polynomials to accept the polynomial ring as an input.\n\n\nAlready taken care off :)",
    "created_at": "2014-06-26T14:17:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201666",
    "user": "https://github.com/malb"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@miguelmarco](#comment:22):
> I just think it would make sense for the samplers over the polynomials to accept the polynomial ring as an input.


Already taken care off :)



---

archive/issue_comments_201667.json:
```json
{
    "body": "Changed commit from **[a910589](https://github.com/sagemath/sagetrac-mirror/commit/a910589878abe5f2fe13858f600a37d3d9eae0bb)** to **[18279ac](https://github.com/sagemath/sagetrac-mirror/commit/18279ac5309f770b26d912711bb2e27f1e2b752d)**",
    "created_at": "2014-06-27T18:44:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201667",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a910589](https://github.com/sagemath/sagetrac-mirror/commit/a910589878abe5f2fe13858f600a37d3d9eae0bb)** to **[18279ac](https://github.com/sagemath/sagetrac-mirror/commit/18279ac5309f770b26d912711bb2e27f1e2b752d)**



---

archive/issue_comments_201668.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/042530dcb257d5521b2fe9769c1c8f5db76e8fc4\">042530d</a></td><td><code>added doctest for plotting histograms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18279ac5309f770b26d912711bb2e27f1e2b752d\">18279ac</a></td><td><code>faster discrete gaussians over lattices if lattice is trivial</code></td></tr></table>\n",
    "created_at": "2014-06-27T18:44:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201668",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/042530dcb257d5521b2fe9769c1c8f5db76e8fc4">042530d</a></td><td><code>added doctest for plotting histograms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18279ac5309f770b26d912711bb2e27f1e2b752d">18279ac</a></td><td><code>faster discrete gaussians over lattices if lattice is trivial</code></td></tr></table>




---

archive/issue_comments_201669.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1112e413bbad15d0b5cbb4f0f7b2eff0ec23a17f\">1112e41</a></td><td><code>ZZ[x]/<f> via FLINT</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45d0b44e7b578d30ca2aaa48199a523647532193\">45d0b44</a></td><td><code>Merge branch 'discrete_gaussian' into flint_zz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5cc4a2126516cae336ff9c36e77ac4fb702ce65\">d5cc4a2</a></td><td><code>added random_element method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/833723c6f826d2935c27d3b5d57261a79aaaab59\">833723c</a></td><td><code>Merge branch 'discrete_gaussian' into flint_zz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6a80b20962e2945dfc72f23bd4747bcfab89a73\">e6a80b2</a></td><td><code>implemented lift()</code></td></tr></table>\n",
    "created_at": "2014-06-27T19:28:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201669",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1112e413bbad15d0b5cbb4f0f7b2eff0ec23a17f">1112e41</a></td><td><code>ZZ[x]/<f> via FLINT</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45d0b44e7b578d30ca2aaa48199a523647532193">45d0b44</a></td><td><code>Merge branch 'discrete_gaussian' into flint_zz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5cc4a2126516cae336ff9c36e77ac4fb702ce65">d5cc4a2</a></td><td><code>added random_element method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/833723c6f826d2935c27d3b5d57261a79aaaab59">833723c</a></td><td><code>Merge branch 'discrete_gaussian' into flint_zz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6a80b20962e2945dfc72f23bd4747bcfab89a73">e6a80b2</a></td><td><code>implemented lift()</code></td></tr></table>




---

archive/issue_comments_201670.json:
```json
{
    "body": "Changed commit from **[18279ac](https://github.com/sagemath/sagetrac-mirror/commit/18279ac5309f770b26d912711bb2e27f1e2b752d)** to **[e6a80b2](https://github.com/sagemath/sagetrac-mirror/commit/e6a80b20962e2945dfc72f23bd4747bcfab89a73)**",
    "created_at": "2014-06-27T19:28:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201670",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[18279ac](https://github.com/sagemath/sagetrac-mirror/commit/18279ac5309f770b26d912711bb2e27f1e2b752d)** to **[e6a80b2](https://github.com/sagemath/sagetrac-mirror/commit/e6a80b20962e2945dfc72f23bd4747bcfab89a73)**



---

archive/issue_comments_201671.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nSome comments/questions:\n\nIn the `fmpz_poly` linkage: What is the except -2 good for? Do these flint methods return -2 on error? Shouldn't you use sig_on()/sig_off() rather?\n\nWhat is the reason for the following in `Polynomial_integer_dense_flint`?\n\n```\n- elif not isinstance(x, list):\n-    x = [x] # constant polynomials\n+ else:\n+    try:\n+       x = list(x)\n+    except TypeError:\n+       x = [x] # constant polynomials\n```\n\nIn `polynomial_quotient_ring.py`, why don't you use `r\"\"\"` so you can write `\\ZZ`? Also, there are now a lot of unicode characters; even though you put an encoding in the header, my vim does not understand these characters (strangely) and they also confused the patchbot.\n\nI stopped reading at `dgs.h`. Would you mind relicensing this as GPLv2+? Should such things not be in an SPKG? I wonder if the amount of documentation is sufficient for including it directly in Sage and also if anybody can really review this (I cannot review that part I'm afraid.)",
    "created_at": "2014-06-28T07:14:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201671",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:26" align="right">comment:26</div>

Some comments/questions:

In the `fmpz_poly` linkage: What is the except -2 good for? Do these flint methods return -2 on error? Shouldn't you use sig_on()/sig_off() rather?

What is the reason for the following in `Polynomial_integer_dense_flint`?

```
- elif not isinstance(x, list):
-    x = [x] # constant polynomials
+ else:
+    try:
+       x = list(x)
+    except TypeError:
+       x = [x] # constant polynomials
```

In `polynomial_quotient_ring.py`, why don't you use `r"""` so you can write `\ZZ`? Also, there are now a lot of unicode characters; even though you put an encoding in the header, my vim does not understand these characters (strangely) and they also confused the patchbot.

I stopped reading at `dgs.h`. Would you mind relicensing this as GPLv2+? Should such things not be in an SPKG? I wonder if the amount of documentation is sufficient for including it directly in Sage and also if anybody can really review this (I cannot review that part I'm afraid.)



---

archive/issue_comments_201672.json:
```json
{
    "body": "Changed branch from **[u/malb/15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/15915_discrete_gaussians)** to **[u/saraedum/ticket/15915](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/15915)**",
    "created_at": "2014-06-28T07:15:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201672",
    "user": "https://github.com/saraedum"
}
```

Changed branch from **[u/malb/15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/15915_discrete_gaussians)** to **[u/saraedum/ticket/15915](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/15915)**



---

archive/issue_comments_201673.json:
```json
{
    "body": "Changed commit from **[e6a80b2](https://github.com/sagemath/sagetrac-mirror/commit/e6a80b20962e2945dfc72f23bd4747bcfab89a73)** to **[d57f528](https://github.com/sagemath/sagetrac-mirror/commit/d57f528a2e79c700f72d6144a2b3045760284f70)**",
    "created_at": "2014-06-28T07:16:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201673",
    "user": "https://github.com/saraedum"
}
```

Changed commit from **[e6a80b2](https://github.com/sagemath/sagetrac-mirror/commit/e6a80b20962e2945dfc72f23bd4747bcfab89a73)** to **[d57f528](https://github.com/sagemath/sagetrac-mirror/commit/d57f528a2e79c700f72d6144a2b3045760284f70)**



---

archive/issue_comments_201674.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d57f528a2e79c700f72d6144a2b3045760284f70\">d57f528</a></td><td><code>minor fixes in docstrings</code></td></tr></table>\n",
    "created_at": "2014-06-28T07:16:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201674",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:28"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d57f528a2e79c700f72d6144a2b3045760284f70">d57f528</a></td><td><code>minor fixes in docstrings</code></td></tr></table>




---

archive/issue_events_227199.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-06-28T07:16:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227199"
}
```



---

archive/issue_events_227200.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-06-28T07:16:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227200"
}
```



---

archive/issue_comments_201675.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nIt seems you were working off the wrong branch. Your branch has \n\n   `polynomial_quotient_integer_dense_flint.pyx`\n\nin it, which it shouldn't ... oh, looks like I pushed to the wrong branch at some point. Sorry, I'll fix that.",
    "created_at": "2014-06-28T14:42:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201675",
    "user": "https://github.com/malb"
}
```

<div id="comment:29" align="right">comment:29</div>

It seems you were working off the wrong branch. Your branch has 

   `polynomial_quotient_integer_dense_flint.pyx`

in it, which it shouldn't ... oh, looks like I pushed to the wrong branch at some point. Sorry, I'll fix that.



---

archive/issue_comments_201676.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@saraedum](#comment:26):\n> Some comments/questions:\n> \n> In the `fmpz_poly` linkage: What is the except -2 good for? Do these flint methods return -2 on error? Shouldn't you use sig_on()/sig_off() rather?\n\nIt's the standard signature of `clement_*` functions used by polynomial templates. Specifiying -2 there allows to throw exceptions in C functions. This code wasn't meant to be in this ticket, though, see above. My apologies. The code in question belonged to #16574 but has been removed.\n \n> What is the reason for the following in `Polynomial_integer_dense_flint`?\n> \n> ```\n> - elif not isinstance(x, list):\n> -    x = [x] # constant polynomials\n> + else:\n> +    try:\n> +       x = list(x)\n> +    except TypeError:\n> +       x = [x] # constant polynomials\n> ```\n\nThis code wasn't meant to be in this ticket, my apologoies. It belongs in #16574. It allows `R(tuple(x))` and `R(vector(x))` to go through. \n\n> In `polynomial_quotient_ring.py`, why don't you use `r\"\"\"` so you can write `\\ZZ`? \n\nI could do that, I find the other notation more straight-forward, is there a particular reason why one is preferable to the other?\n\n> Also, there are now a lot of unicode characters; even though you put an encoding in the header, my vim does not understand these characters (strangely) and they also confused the patchbot.\n\nI can remove them but that'd make the code less readable IMHO.\n \n> I stopped reading at `dgs.h`. Would you mind relicensing this as GPLv2+? \n\nI have no strong feelings either way, what would be the advantage? I am quite happy with the code being BSD, it's not very sophisticated and BSD licensing it allows anyone to use it.\n\n> Should such things not be in an SPKG? \n\nThe C code really does only one thing, so an SPKG would be a bit of an overkill. Also, SPKG's take votes and extra bureaucracy. I'd like to avoid that, it's hard enough to get this stuff reviewed.\n\n> I wonder if the amount of documentation is sufficient for including it directly in Sage and also if anybody can really review this (I cannot review that part I'm afraid.)\n\nDaniel Cabarcas reviewed the C part. I can add more documentation.",
    "created_at": "2014-06-28T14:54:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201676",
    "user": "https://github.com/malb"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@saraedum](#comment:26):
> Some comments/questions:
> 
> In the `fmpz_poly` linkage: What is the except -2 good for? Do these flint methods return -2 on error? Shouldn't you use sig_on()/sig_off() rather?

It's the standard signature of `clement_*` functions used by polynomial templates. Specifiying -2 there allows to throw exceptions in C functions. This code wasn't meant to be in this ticket, though, see above. My apologies. The code in question belonged to #16574 but has been removed.
 
> What is the reason for the following in `Polynomial_integer_dense_flint`?
> 
> ```
> - elif not isinstance(x, list):
> -    x = [x] # constant polynomials
> + else:
> +    try:
> +       x = list(x)
> +    except TypeError:
> +       x = [x] # constant polynomials
> ```

This code wasn't meant to be in this ticket, my apologoies. It belongs in #16574. It allows `R(tuple(x))` and `R(vector(x))` to go through. 

> In `polynomial_quotient_ring.py`, why don't you use `r"""` so you can write `\ZZ`? 

I could do that, I find the other notation more straight-forward, is there a particular reason why one is preferable to the other?

> Also, there are now a lot of unicode characters; even though you put an encoding in the header, my vim does not understand these characters (strangely) and they also confused the patchbot.

I can remove them but that'd make the code less readable IMHO.
 
> I stopped reading at `dgs.h`. Would you mind relicensing this as GPLv2+? 

I have no strong feelings either way, what would be the advantage? I am quite happy with the code being BSD, it's not very sophisticated and BSD licensing it allows anyone to use it.

> Should such things not be in an SPKG? 

The C code really does only one thing, so an SPKG would be a bit of an overkill. Also, SPKG's take votes and extra bureaucracy. I'd like to avoid that, it's hard enough to get this stuff reviewed.

> I wonder if the amount of documentation is sufficient for including it directly in Sage and also if anybody can really review this (I cannot review that part I'm afraid.)

Daniel Cabarcas reviewed the C part. I can add more documentation.



---

archive/issue_comments_201677.json:
```json
{
    "body": "Changed commit from **[d57f528](https://github.com/sagemath/sagetrac-mirror/commit/d57f528a2e79c700f72d6144a2b3045760284f70)** to **[4681abe](https://github.com/sagemath/sagetrac-mirror/commit/4681abea8f8c73f873b779dc16030fe49f259721)**",
    "created_at": "2014-06-28T18:17:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201677",
    "user": "https://github.com/malb"
}
```

Changed commit from **[d57f528](https://github.com/sagemath/sagetrac-mirror/commit/d57f528a2e79c700f72d6144a2b3045760284f70)** to **[4681abe](https://github.com/sagemath/sagetrac-mirror/commit/4681abea8f8c73f873b779dc16030fe49f259721)**



---

archive/issue_comments_201678.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4681abea8f8c73f873b779dc16030fe49f259721\">4681abe</a></td><td><code>cherry picked doctest fix from u/saraedum/ticket/15915</code></td></tr></table>\n",
    "created_at": "2014-06-28T18:17:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201678",
    "user": "https://github.com/malb"
}
```

<div id="comment:31"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4681abea8f8c73f873b779dc16030fe49f259721">4681abe</a></td><td><code>cherry picked doctest fix from u/saraedum/ticket/15915</code></td></tr></table>




---

archive/issue_comments_201679.json:
```json
{
    "body": "Changed branch from **[u/saraedum/ticket/15915](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/15915)** to **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)**",
    "created_at": "2014-06-28T18:17:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201679",
    "user": "https://github.com/malb"
}
```

Changed branch from **[u/saraedum/ticket/15915](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/15915)** to **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)**



---

archive/issue_comments_201680.json:
```json
{
    "body": "Changed commit from **[4681abe](https://github.com/sagemath/sagetrac-mirror/commit/4681abea8f8c73f873b779dc16030fe49f259721)** to **[8ebe5c7](https://github.com/sagemath/sagetrac-mirror/commit/8ebe5c723444a22d4db66bb83cc59ac59db6ca92)**",
    "created_at": "2014-06-28T22:53:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201680",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4681abe](https://github.com/sagemath/sagetrac-mirror/commit/4681abea8f8c73f873b779dc16030fe49f259721)** to **[8ebe5c7](https://github.com/sagemath/sagetrac-mirror/commit/8ebe5c723444a22d4db66bb83cc59ac59db6ca92)**



---

archive/issue_comments_201681.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ebe5c723444a22d4db66bb83cc59ac59db6ca92\">8ebe5c7</a></td><td><code>expanded documentation</code></td></tr></table>\n",
    "created_at": "2014-06-28T22:53:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201681",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ebe5c723444a22d4db66bb83cc59ac59db6ca92">8ebe5c7</a></td><td><code>expanded documentation</code></td></tr></table>




---

archive/issue_events_227201.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2014-06-28T22:54:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227201"
}
```



---

archive/issue_events_227202.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2014-06-28T22:54:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227202"
}
```



---

archive/issue_comments_201682.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nBased on discussions locally at SD59 and the latest check in I am setting this back to *needs review*.",
    "created_at": "2014-06-28T22:54:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201682",
    "user": "https://github.com/malb"
}
```

<div id="comment:33" align="right">comment:33</div>

Based on discussions locally at SD59 and the latest check in I am setting this back to *needs review*.



---

archive/issue_comments_201683.json:
```json
{
    "body": "Changed branch from **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)** to **[u/saraedum/ticket/15915](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/15915)**",
    "created_at": "2014-06-29T06:07:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201683",
    "user": "https://github.com/saraedum"
}
```

Changed branch from **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)** to **[u/saraedum/ticket/15915](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/15915)**



---

archive/issue_comments_201684.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nA few questions (line numbers are all in the version I pushed):\n\n* Should it really be x-2 in line 518 of dgs_gauss.h?\n\n* What is the TODO in dgs_gauss_dp.c?\n\n* `self->c_r = 0.0;` after an abort() in line 114 and 130 of dgs_gaus_dp.c?\n\n* What is \"this B\" in line 186 of discrete_gaussian_lattice.py?",
    "created_at": "2014-06-29T06:08:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201684",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:35" align="right">comment:35</div>

A few questions (line numbers are all in the version I pushed):

* Should it really be x-2 in line 518 of dgs_gauss.h?

* What is the TODO in dgs_gauss_dp.c?

* `self->c_r = 0.0;` after an abort() in line 114 and 130 of dgs_gaus_dp.c?

* What is "this B" in line 186 of discrete_gaussian_lattice.py?



---

archive/issue_comments_201685.json:
```json
{
    "body": "Changed branch from **[u/saraedum/ticket/15915](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/15915)** to **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)**",
    "created_at": "2014-06-29T06:08:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201685",
    "user": "https://github.com/saraedum"
}
```

Changed branch from **[u/saraedum/ticket/15915](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/15915)** to **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)**



---

archive/issue_comments_201686.json:
```json
{
    "body": "Author: **Martin Albrecht**",
    "created_at": "2014-06-29T06:10:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201686",
    "user": "https://github.com/saraedum"
}
```

Author: **Martin Albrecht**



---

archive/issue_comments_201687.json:
```json
{
    "body": "Reviewer: **Julian Rueth**",
    "created_at": "2014-06-29T06:10:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201687",
    "user": "https://github.com/saraedum"
}
```

Reviewer: **Julian Rueth**



---

archive/issue_comments_201688.json:
```json
{
    "body": "Changed branch from **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)** to **[u/saraedum/ticket/15915](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/15915)**",
    "created_at": "2014-06-29T06:17:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201688",
    "user": "https://github.com/saraedum"
}
```

Changed branch from **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)** to **[u/saraedum/ticket/15915](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/15915)**



---

archive/issue_comments_201689.json:
```json
{
    "body": "Changed commit from **[8ebe5c7](https://github.com/sagemath/sagetrac-mirror/commit/8ebe5c723444a22d4db66bb83cc59ac59db6ca92)** to **[1939239](https://github.com/sagemath/sagetrac-mirror/commit/193923913f78b59d0fed598d50cf46ad4177c2ea)**",
    "created_at": "2014-06-29T06:17:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201689",
    "user": "https://github.com/saraedum"
}
```

Changed commit from **[8ebe5c7](https://github.com/sagemath/sagetrac-mirror/commit/8ebe5c723444a22d4db66bb83cc59ac59db6ca92)** to **[1939239](https://github.com/sagemath/sagetrac-mirror/commit/193923913f78b59d0fed598d50cf46ad4177c2ea)**



---

archive/issue_comments_201690.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@saraedum](#comment:35):\n> A few questions (line numbers are all in the version I pushed):\n> \n> * Should it really be x-2 in line 518 of dgs_gauss.h?\n\nIt should read x-c, fixed.\n\n> * What is the TODO in dgs_gauss_dp.c?\n\nThis was a left-over, removed.\n \n> * `self->c_r = 0.0;` after an abort() in line 114 and 130 of dgs_gaus_dp.c?\n\nRemoved.\n \n> * What is \"this B\" in line 186 of discrete_gaussian_lattice.py?\n\nself.B, fixed this.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da3efcfb1bbb840f075e00ae8bc905944c9c2f81\">da3efcf</a></td><td><code>fixed issues identified by Julian R\u00fcth</code></td></tr></table>\n",
    "created_at": "2014-06-29T17:53:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201690",
    "user": "https://github.com/malb"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@saraedum](#comment:35):
> A few questions (line numbers are all in the version I pushed):
> 
> * Should it really be x-2 in line 518 of dgs_gauss.h?

It should read x-c, fixed.

> * What is the TODO in dgs_gauss_dp.c?

This was a left-over, removed.
 
> * `self->c_r = 0.0;` after an abort() in line 114 and 130 of dgs_gaus_dp.c?

Removed.
 
> * What is "this B" in line 186 of discrete_gaussian_lattice.py?

self.B, fixed this.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da3efcfb1bbb840f075e00ae8bc905944c9c2f81">da3efcf</a></td><td><code>fixed issues identified by Julian Rüth</code></td></tr></table>




---

archive/issue_comments_201691.json:
```json
{
    "body": "Changed branch from **[u/saraedum/ticket/15915](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/15915)** to **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)**",
    "created_at": "2014-06-29T17:53:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201691",
    "user": "https://github.com/malb"
}
```

Changed branch from **[u/saraedum/ticket/15915](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/15915)** to **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)**



---

archive/issue_comments_201692.json:
```json
{
    "body": "Changed commit from **[1939239](https://github.com/sagemath/sagetrac-mirror/commit/193923913f78b59d0fed598d50cf46ad4177c2ea)** to **[da3efcf](https://github.com/sagemath/sagetrac-mirror/commit/da3efcfb1bbb840f075e00ae8bc905944c9c2f81)**",
    "created_at": "2014-06-29T17:53:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201692",
    "user": "https://github.com/malb"
}
```

Changed commit from **[1939239](https://github.com/sagemath/sagetrac-mirror/commit/193923913f78b59d0fed598d50cf46ad4177c2ea)** to **[da3efcf](https://github.com/sagemath/sagetrac-mirror/commit/da3efcfb1bbb840f075e00ae8bc905944c9c2f81)**



---

archive/issue_events_227203.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-06-29T18:19:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227203"
}
```



---

archive/issue_events_227204.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-06-29T18:19:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227204"
}
```



---

archive/issue_comments_201693.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nPDF docs don't build\n\n```\n! Missing $ inserted.\n<inserted text> \n                $\nl.2746 \n       \n? \n! Emergency stop.\n<inserted text> \n                $\nl.2746 \n```\nin ./src/doc/output/latex/en/reference/stats/stats.log",
    "created_at": "2014-06-30T03:56:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201693",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:40" align="right">comment:40</div>

PDF docs don't build

```
! Missing $ inserted.
<inserted text> 
                $
l.2746 
       
? 
! Emergency stop.
<inserted text> 
                $
l.2746 
```
in ./src/doc/output/latex/en/reference/stats/stats.log



---

archive/issue_events_227205.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-30T03:56:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227205"
}
```



---

archive/issue_events_227206.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-30T03:56:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227206"
}
```



---

archive/issue_comments_201694.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/025ac61297d755d7a0fa3d3d8085e21d2f07dd1a\">025ac61</a></td><td><code>the future isn't now: removed some utf-8 stuff + fixed latex error</code></td></tr></table>\n",
    "created_at": "2014-06-30T14:27:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201694",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/025ac61297d755d7a0fa3d3d8085e21d2f07dd1a">025ac61</a></td><td><code>the future isn't now: removed some utf-8 stuff + fixed latex error</code></td></tr></table>




---

archive/issue_comments_201695.json:
```json
{
    "body": "Changed commit from **[da3efcf](https://github.com/sagemath/sagetrac-mirror/commit/da3efcfb1bbb840f075e00ae8bc905944c9c2f81)** to **[025ac61](https://github.com/sagemath/sagetrac-mirror/commit/025ac61297d755d7a0fa3d3d8085e21d2f07dd1a)**",
    "created_at": "2014-06-30T14:27:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201695",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[da3efcf](https://github.com/sagemath/sagetrac-mirror/commit/da3efcfb1bbb840f075e00ae8bc905944c9c2f81)** to **[025ac61](https://github.com/sagemath/sagetrac-mirror/commit/025ac61297d755d7a0fa3d3d8085e21d2f07dd1a)**



---

archive/issue_events_227207.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2014-06-30T14:27:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227207"
}
```



---

archive/issue_events_227208.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2014-06-30T14:27:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227208"
}
```



---

archive/issue_comments_201696.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nFixed. Setting it back to \"positive review\" (?)",
    "created_at": "2014-06-30T14:27:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201696",
    "user": "https://github.com/malb"
}
```

<div id="comment:42" align="right">comment:42</div>

Fixed. Setting it back to "positive review" (?)



---

archive/issue_comments_201697.json:
```json
{
    "body": "Changed branch from **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)** to **[025ac61](https://github.com/sagemath/sagetrac-mirror/commit/025ac61297d755d7a0fa3d3d8085e21d2f07dd1a)**",
    "created_at": "2014-06-30T16:33:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201697",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)** to **[025ac61](https://github.com/sagemath/sagetrac-mirror/commit/025ac61297d755d7a0fa3d3d8085e21d2f07dd1a)**



---

archive/issue_events_227209.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-30T16:33:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227209"
}
```



---

archive/issue_events_227210.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-30T16:33:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227210"
}
```



---

archive/issue_comments_201698.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nVarious builbots report:\n\n```\nsage -t --long src/sage/stats/distributions/discrete_gaussian_integer.pyx\n**********************************************************************\nFile \"src/sage/stats/distributions/discrete_gaussian_integer.pyx\", line 263, in sage.stats.distributions.discrete_gaussian_integer.DiscreteGaussianIntegerSampler.__init__\nFailed example:\n    min(l), max(l), abs(mean(l)-2.5) < 0.01\nExpected:\n    (-2, 7, True)\nGot:\n    (-3, 7, True)\n```\nAlso, on 32-bit linux:\n\n```\n\nsage -t --long src/sage/stats/distributions/discrete_gaussian_integer.pyx\n**********************************************************************\nFile \"src/sage/stats/distributions/discrete_gaussian_integer.pyx\", line 38, in sage.stats.distributions.discrete_gaussian_integer\nFailed example:\n    x=0; l.count(x), ZZ(round(n*exp(-x^2/(2*sigma^2))/norm_factor))\nExpected:\n    (13350, 13298)\nGot:\n    (13355, 13298)\n**********************************************************************\nFile \"src/sage/stats/distributions/discrete_gaussian_integer.pyx\", line 40, in sage.stats.distributions.discrete_gaussian_integer\nFailed example:\n    x=4; l.count(x), ZZ(round(n*exp(-x^2/(2*sigma^2))/norm_factor))\nExpected:\n    (5543, 5467)\nGot:\n    (5479, 5467)\n**********************************************************************\nFile \"src/sage/stats/distributions/discrete_gaussian_integer.pyx\", line 42, in sage.stats.distributions.discrete_gaussian_integer\nFailed example:\n    x=-10; l.count(x), ZZ(round(n*exp(-x^2/(2*sigma^2))/norm_factor))\nExpected:\n    (46, 51)\nGot:\n    (53, 51)\n**********************************************************************\nFile \"src/sage/stats/distributions/discrete_gaussian_integer.pyx\", line 68, in sage.stats.distributions.discrete_gaussian_integer\nFailed example:\n    mean(l).n() # long time\nExpected:\n    0.48678000000...\nGot:\n    0.486650000000000\n**********************************************************************\n1 item had failures:\n   4 of  21 in sage.stats.distributions.discrete_gaussian_integer\n    [88 tests, 4 failures, 7.06 s]\nsage -t --long src/sage/schemes/toric/variety.py\n    [499 tests, 9.23 s]\nsage -t --long src/sage/stats/distributions/discrete_gaussian_polynomial.py\n**********************************************************************\nFile \"src/sage/stats/distributions/discrete_gaussian_polynomial.py\", line 70, in sage.stats.distributions.discrete_gaussian_polynomial.DiscreteGaussianPolynomialSampler\nFailed example:\n    [gs() for _ in xrange(3)]\nExpected:\n    [4*x^7 + 4*x^6 - 2*x^5 + x^4 + 4*x^2 - 2*x + 7, 5*x^7 - 4*x^6 + 3*x^4 - 4*x^3 + x^2 - 4, 2*x^7 + 2*x^6 + x^5 + 2*x^3 - 3*x^2 + x]\nGot:\n    [4*x^7 + 4*x^6 - 4*x^5 + 2*x^4 + x^3 - 4*x + 7, -5*x^6 + 4*x^5 - 3*x^3 + 4*x^2 + x, 2*x^7 + 2*x^6 + 2*x^5 - x^4 - 2*x^2 + 3*x + 1]\n**********************************************************************\nFile \"src/sage/stats/distributions/discrete_gaussian_polynomial.py\", line 97, in sage.stats.distributions.discrete_gaussian_polynomial.DiscreteGaussianPolynomialSampler.__init__\nFailed example:\n    [gs() for _ in xrange(3)]\nExpected:\n    [4*x^7 + 4*x^6 - 2*x^5 + x^4 + 4*x^2 - 2*x + 7, 5*x^7 - 4*x^6 + 3*x^4 - 4*x^3 + x^2 - 4, 2*x^7 + 2*x^6 + x^5 + 2*x^3 - 3*x^2 + x]\nGot:\n    [4*x^7 + 4*x^6 - 4*x^5 + 2*x^4 + x^3 - 4*x + 7, -5*x^6 + 4*x^5 - 3*x^3 + 4*x^2 + x, 2*x^7 + 2*x^6 + 2*x^5 - x^4 - 2*x^2 + 3*x + 1]\n**********************************************************************\n2 items had failures:\n   1 of   5 in sage.stats.distributions.discrete_gaussian_polynomial.DiscreteGaussianPolynomialSampler\n   1 of   5 in sage.stats.distributions.discrete_gaussian_polynomial.DiscreteGaussianPolynomialSampler.__init__\n    [18 tests, 2 failures, 0.76 s]\n```\nAlso some crypto stuff failed, though I don't know if it is related\n\n```\n4 items had failures:\n   4 of  15 in sage.crypto.lwe\n   1 of   7 in sage.crypto.lwe.RingLWE.__call__\n   2 of   7 in sage.crypto.lwe.balance_sample\n   3 of   7 in sage.crypto.lwe.samples\n    [100 tests, 10 failures, 0.60 s]\n```\nSee http://build.sagemath.org/sage/builders/%20%20fast%20Oxford%20arando%20%28Ubuntu%2013.04%20i686%29%20incremental/builds/172/steps/shell_4/logs/stdio",
    "created_at": "2014-07-01T01:04:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201698",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:44" align="right">comment:44</div>

Various builbots report:

```
sage -t --long src/sage/stats/distributions/discrete_gaussian_integer.pyx
**********************************************************************
File "src/sage/stats/distributions/discrete_gaussian_integer.pyx", line 263, in sage.stats.distributions.discrete_gaussian_integer.DiscreteGaussianIntegerSampler.__init__
Failed example:
    min(l), max(l), abs(mean(l)-2.5) < 0.01
Expected:
    (-2, 7, True)
Got:
    (-3, 7, True)
```
Also, on 32-bit linux:

```

sage -t --long src/sage/stats/distributions/discrete_gaussian_integer.pyx
**********************************************************************
File "src/sage/stats/distributions/discrete_gaussian_integer.pyx", line 38, in sage.stats.distributions.discrete_gaussian_integer
Failed example:
    x=0; l.count(x), ZZ(round(n*exp(-x^2/(2*sigma^2))/norm_factor))
Expected:
    (13350, 13298)
Got:
    (13355, 13298)
**********************************************************************
File "src/sage/stats/distributions/discrete_gaussian_integer.pyx", line 40, in sage.stats.distributions.discrete_gaussian_integer
Failed example:
    x=4; l.count(x), ZZ(round(n*exp(-x^2/(2*sigma^2))/norm_factor))
Expected:
    (5543, 5467)
Got:
    (5479, 5467)
**********************************************************************
File "src/sage/stats/distributions/discrete_gaussian_integer.pyx", line 42, in sage.stats.distributions.discrete_gaussian_integer
Failed example:
    x=-10; l.count(x), ZZ(round(n*exp(-x^2/(2*sigma^2))/norm_factor))
Expected:
    (46, 51)
Got:
    (53, 51)
**********************************************************************
File "src/sage/stats/distributions/discrete_gaussian_integer.pyx", line 68, in sage.stats.distributions.discrete_gaussian_integer
Failed example:
    mean(l).n() # long time
Expected:
    0.48678000000...
Got:
    0.486650000000000
**********************************************************************
1 item had failures:
   4 of  21 in sage.stats.distributions.discrete_gaussian_integer
    [88 tests, 4 failures, 7.06 s]
sage -t --long src/sage/schemes/toric/variety.py
    [499 tests, 9.23 s]
sage -t --long src/sage/stats/distributions/discrete_gaussian_polynomial.py
**********************************************************************
File "src/sage/stats/distributions/discrete_gaussian_polynomial.py", line 70, in sage.stats.distributions.discrete_gaussian_polynomial.DiscreteGaussianPolynomialSampler
Failed example:
    [gs() for _ in xrange(3)]
Expected:
    [4*x^7 + 4*x^6 - 2*x^5 + x^4 + 4*x^2 - 2*x + 7, 5*x^7 - 4*x^6 + 3*x^4 - 4*x^3 + x^2 - 4, 2*x^7 + 2*x^6 + x^5 + 2*x^3 - 3*x^2 + x]
Got:
    [4*x^7 + 4*x^6 - 4*x^5 + 2*x^4 + x^3 - 4*x + 7, -5*x^6 + 4*x^5 - 3*x^3 + 4*x^2 + x, 2*x^7 + 2*x^6 + 2*x^5 - x^4 - 2*x^2 + 3*x + 1]
**********************************************************************
File "src/sage/stats/distributions/discrete_gaussian_polynomial.py", line 97, in sage.stats.distributions.discrete_gaussian_polynomial.DiscreteGaussianPolynomialSampler.__init__
Failed example:
    [gs() for _ in xrange(3)]
Expected:
    [4*x^7 + 4*x^6 - 2*x^5 + x^4 + 4*x^2 - 2*x + 7, 5*x^7 - 4*x^6 + 3*x^4 - 4*x^3 + x^2 - 4, 2*x^7 + 2*x^6 + x^5 + 2*x^3 - 3*x^2 + x]
Got:
    [4*x^7 + 4*x^6 - 4*x^5 + 2*x^4 + x^3 - 4*x + 7, -5*x^6 + 4*x^5 - 3*x^3 + 4*x^2 + x, 2*x^7 + 2*x^6 + 2*x^5 - x^4 - 2*x^2 + 3*x + 1]
**********************************************************************
2 items had failures:
   1 of   5 in sage.stats.distributions.discrete_gaussian_polynomial.DiscreteGaussianPolynomialSampler
   1 of   5 in sage.stats.distributions.discrete_gaussian_polynomial.DiscreteGaussianPolynomialSampler.__init__
    [18 tests, 2 failures, 0.76 s]
```
Also some crypto stuff failed, though I don't know if it is related

```
4 items had failures:
   4 of  15 in sage.crypto.lwe
   1 of   7 in sage.crypto.lwe.RingLWE.__call__
   2 of   7 in sage.crypto.lwe.balance_sample
   3 of   7 in sage.crypto.lwe.samples
    [100 tests, 10 failures, 0.60 s]
```
See http://build.sagemath.org/sage/builders/%20%20fast%20Oxford%20arando%20%28Ubuntu%2013.04%20i686%29%20incremental/builds/172/steps/shell_4/logs/stdio



---

archive/issue_comments_201699.json:
```json
{
    "body": "Changed commit from **[025ac61](https://github.com/sagemath/sagetrac-mirror/commit/025ac61297d755d7a0fa3d3d8085e21d2f07dd1a)** to none",
    "created_at": "2014-07-01T01:04:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201699",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[025ac61](https://github.com/sagemath/sagetrac-mirror/commit/025ac61297d755d7a0fa3d3d8085e21d2f07dd1a)** to none



---

archive/issue_comments_201700.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@vbraun](#comment:44):\n> Various builbots report:\n> \n> ```\n> sage -t --long src/sage/stats/distributions/discrete_gaussian_integer.pyx\n> **********************************************************************\n> File \"src/sage/stats/distributions/discrete_gaussian_integer.pyx\", line 263, in sage.stats.distributions.discrete_gaussian_integer.DiscreteGaussianIntegerSampler.__init__\n> Failed example:\n>     min(l), max(l), abs(mean(l)-2.5) < 0.01\n> Expected:\n>     (-2, 7, True)\n> Got:\n>     (-3, 7, True)\n> ```\n\nOn what kind of machine is this on? I cannot reproduce it on either 64 or 32 bit Linux.\n\n> Also, on 32-bit linux:\n\nI can reproduce those and am currenly testing a fix (some default value was machine dependent).\n\n> Also some crypto stuff failed, though I don't know if it is related\n> \n> ```\n> 4 items had failures:\n>    4 of  15 in sage.crypto.lwe\n>    1 of   7 in sage.crypto.lwe.RingLWE.__call__\n>    2 of   7 in sage.crypto.lwe.balance_sample\n>    3 of   7 in sage.crypto.lwe.samples\n>     [100 tests, 10 failures, 0.60 s]\n> ```\n\nThese are related, thanks.",
    "created_at": "2014-07-01T18:06:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201700",
    "user": "https://github.com/malb"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@vbraun](#comment:44):
> Various builbots report:
> 
> ```
> sage -t --long src/sage/stats/distributions/discrete_gaussian_integer.pyx
> **********************************************************************
> File "src/sage/stats/distributions/discrete_gaussian_integer.pyx", line 263, in sage.stats.distributions.discrete_gaussian_integer.DiscreteGaussianIntegerSampler.__init__
> Failed example:
>     min(l), max(l), abs(mean(l)-2.5) < 0.01
> Expected:
>     (-2, 7, True)
> Got:
>     (-3, 7, True)
> ```

On what kind of machine is this on? I cannot reproduce it on either 64 or 32 bit Linux.

> Also, on 32-bit linux:

I can reproduce those and am currenly testing a fix (some default value was machine dependent).

> Also some crypto stuff failed, though I don't know if it is related
> 
> ```
> 4 items had failures:
>    4 of  15 in sage.crypto.lwe
>    1 of   7 in sage.crypto.lwe.RingLWE.__call__
>    2 of   7 in sage.crypto.lwe.balance_sample
>    3 of   7 in sage.crypto.lwe.samples
>     [100 tests, 10 failures, 0.60 s]
> ```

These are related, thanks.



---

archive/issue_events_227211.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2014-07-01T18:54:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227211"
}
```



---

archive/issue_comments_201701.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nI should have fixed the 32-bit issues. \n\nI would guess these additional patches **need review** again as they are not mere documentation/doctest fixes, but changes to the code.\n\nI set the ticket to **needs info** because the first doctest failure is still unaccounted for (see above).\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a17b8181a1dffc951dfc14a86a315ed4bf894f27\">a17b818</a></td><td><code>follow sage conventions for the author list</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78422768f0ba4b33bb1448ba167ada48d7df0ee6\">7842276</a></td><td><code>added long time to long running doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/193923913f78b59d0fed598d50cf46ad4177c2ea\">1939239</a></td><td><code>added sig_on()/sig_off() to dgs calls</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da3efcfb1bbb840f075e00ae8bc905944c9c2f81\">da3efcf</a></td><td><code>fixed issues identified by Julian R\u00fcth</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/025ac61297d755d7a0fa3d3d8085e21d2f07dd1a\">025ac61</a></td><td><code>the future isn't now: removed some utf-8 stuff + fixed latex error</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85fd777437d3fcfbc6dbd6ea6c517ddc749085bc\">85fd777</a></td><td><code>discrete_gaussian_integer depends on header files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bae27bd83926219fda3182d117b51a003f9f9c1c\">bae27bd</a></td><td><code>default choice is should be machine independent</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e79153658f2f50ff63ce15d02ebe57b0826fc9a0\">e791536</a></td><td><code>all bern functions should return long only</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61359b0bebe56a45fd9738404a1ca3fb9a00a954\">61359b0</a></td><td><code>C documentation fix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c11c5ece1f3cfa9c09e6260f862ab4613d6bddb\">2c11c5e</a></td><td><code>doctest fixes due to changed code</code></td></tr></table>\n",
    "created_at": "2014-07-01T18:54:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201701",
    "user": "https://github.com/malb"
}
```

<div id="comment:46" align="right">comment:46</div>

I should have fixed the 32-bit issues. 

I would guess these additional patches **need review** again as they are not mere documentation/doctest fixes, but changes to the code.

I set the ticket to **needs info** because the first doctest failure is still unaccounted for (see above).

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a17b8181a1dffc951dfc14a86a315ed4bf894f27">a17b818</a></td><td><code>follow sage conventions for the author list</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78422768f0ba4b33bb1448ba167ada48d7df0ee6">7842276</a></td><td><code>added long time to long running doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/193923913f78b59d0fed598d50cf46ad4177c2ea">1939239</a></td><td><code>added sig_on()/sig_off() to dgs calls</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da3efcfb1bbb840f075e00ae8bc905944c9c2f81">da3efcf</a></td><td><code>fixed issues identified by Julian Rüth</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/025ac61297d755d7a0fa3d3d8085e21d2f07dd1a">025ac61</a></td><td><code>the future isn't now: removed some utf-8 stuff + fixed latex error</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85fd777437d3fcfbc6dbd6ea6c517ddc749085bc">85fd777</a></td><td><code>discrete_gaussian_integer depends on header files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bae27bd83926219fda3182d117b51a003f9f9c1c">bae27bd</a></td><td><code>default choice is should be machine independent</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e79153658f2f50ff63ce15d02ebe57b0826fc9a0">e791536</a></td><td><code>all bern functions should return long only</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61359b0bebe56a45fd9738404a1ca3fb9a00a954">61359b0</a></td><td><code>C documentation fix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c11c5ece1f3cfa9c09e6260f862ab4613d6bddb">2c11c5e</a></td><td><code>doctest fixes due to changed code</code></td></tr></table>




---

archive/issue_comments_201702.json:
```json
{
    "body": "Commit: **[2c11c5e](https://github.com/sagemath/sagetrac-mirror/commit/2c11c5ece1f3cfa9c09e6260f862ab4613d6bddb)**",
    "created_at": "2014-07-01T18:54:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201702",
    "user": "https://github.com/malb"
}
```

Commit: **[2c11c5e](https://github.com/sagemath/sagetrac-mirror/commit/2c11c5ece1f3cfa9c09e6260f862ab4613d6bddb)**



---

archive/issue_comments_201703.json:
```json
{
    "body": "Changed branch from **[025ac61](https://github.com/sagemath/sagetrac-mirror/commit/025ac61297d755d7a0fa3d3d8085e21d2f07dd1a)** to **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)**",
    "created_at": "2014-07-01T18:54:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201703",
    "user": "https://github.com/malb"
}
```

Changed branch from **[025ac61](https://github.com/sagemath/sagetrac-mirror/commit/025ac61297d755d7a0fa3d3d8085e21d2f07dd1a)** to **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)**



---

archive/issue_comments_201704.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc732a2e0659c4204949dafea0970bc7709f831c\">bc732a2</a></td><td><code>fixed silly typo</code></td></tr></table>\n",
    "created_at": "2014-07-01T19:02:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201704",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc732a2e0659c4204949dafea0970bc7709f831c">bc732a2</a></td><td><code>fixed silly typo</code></td></tr></table>




---

archive/issue_comments_201705.json:
```json
{
    "body": "Changed commit from **[2c11c5e](https://github.com/sagemath/sagetrac-mirror/commit/2c11c5ece1f3cfa9c09e6260f862ab4613d6bddb)** to **[bc732a2](https://github.com/sagemath/sagetrac-mirror/commit/bc732a2e0659c4204949dafea0970bc7709f831c)**",
    "created_at": "2014-07-01T19:02:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201705",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2c11c5e](https://github.com/sagemath/sagetrac-mirror/commit/2c11c5ece1f3cfa9c09e6260f862ab4613d6bddb)** to **[bc732a2](https://github.com/sagemath/sagetrac-mirror/commit/bc732a2e0659c4204949dafea0970bc7709f831c)**



---

archive/issue_comments_201706.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nHi Volker, any idea how I could reproduce that first doctest failure? I don't get it on the 64-bit and 32-bit Linux systems I tried.",
    "created_at": "2014-07-07T09:00:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201706",
    "user": "https://github.com/malb"
}
```

<div id="comment:48" align="right">comment:48</div>

Hi Volker, any idea how I could reproduce that first doctest failure? I don't get it on the 64-bit and 32-bit Linux systems I tried.



---

archive/issue_comments_201707.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27af7495d04ac694b13a1847fa890a01171d3b3a\">27af749</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into u/malb/t15915_discrete_gaussians</code></td></tr></table>\n",
    "created_at": "2014-08-04T17:27:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201707",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27af7495d04ac694b13a1847fa890a01171d3b3a">27af749</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into u/malb/t15915_discrete_gaussians</code></td></tr></table>




---

archive/issue_comments_201708.json:
```json
{
    "body": "Changed commit from **[bc732a2](https://github.com/sagemath/sagetrac-mirror/commit/bc732a2e0659c4204949dafea0970bc7709f831c)** to **[27af749](https://github.com/sagemath/sagetrac-mirror/commit/27af7495d04ac694b13a1847fa890a01171d3b3a)**",
    "created_at": "2014-08-04T17:27:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201708",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[bc732a2](https://github.com/sagemath/sagetrac-mirror/commit/bc732a2e0659c4204949dafea0970bc7709f831c)** to **[27af749](https://github.com/sagemath/sagetrac-mirror/commit/27af7495d04ac694b13a1847fa890a01171d3b3a)**



---

archive/issue_comments_201709.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nReplying to [@malb](#comment:48):\n> Hi Volker, any idea how I could reproduce that first doctest failure? I don't get it on the 64-bit and 32-bit Linux systems I tried.\n\nIt seems my question slipped through the cracks.",
    "created_at": "2014-08-04T17:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201709",
    "user": "https://github.com/malb"
}
```

<div id="comment:50" align="right">comment:50</div>

Replying to [@malb](#comment:48):
> Hi Volker, any idea how I could reproduce that first doctest failure? I don't get it on the 64-bit and 32-bit Linux systems I tried.

It seems my question slipped through the cracks.



---

archive/issue_events_227212.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227212"
}
```



---

archive/issue_events_227213.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227213"
}
```



---

archive/issue_comments_201710.json:
```json
{
    "body": "Changed commit from **[27af749](https://github.com/sagemath/sagetrac-mirror/commit/27af7495d04ac694b13a1847fa890a01171d3b3a)** to **[caa8ccf](https://github.com/sagemath/sagetrac-mirror/commit/caa8ccf49a6ffd2794fd13f0933c47d26336ecbc)**",
    "created_at": "2014-08-11T10:43:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201710",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[27af749](https://github.com/sagemath/sagetrac-mirror/commit/27af7495d04ac694b13a1847fa890a01171d3b3a)** to **[caa8ccf](https://github.com/sagemath/sagetrac-mirror/commit/caa8ccf49a6ffd2794fd13f0933c47d26336ecbc)**



---

archive/issue_comments_201711.json:
```json
{
    "body": "<div id=\"comment:52\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92e61fd20d76edec14233c8a698f8c29091a4042\">92e61fd</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into u/malb/t15915_discrete_gaussians</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/caa8ccf49a6ffd2794fd13f0933c47d26336ecbc\">caa8ccf</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into u/malb/t15915_discrete_gaussians</code></td></tr></table>\n",
    "created_at": "2014-08-11T10:43:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201711",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92e61fd20d76edec14233c8a698f8c29091a4042">92e61fd</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into u/malb/t15915_discrete_gaussians</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/caa8ccf49a6ffd2794fd13f0933c47d26336ecbc">caa8ccf</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into u/malb/t15915_discrete_gaussians</code></td></tr></table>




---

archive/issue_events_227214.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-12T13:18:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227214"
}
```



---

archive/issue_events_227215.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-12T13:18:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227215"
}
```



---

archive/issue_comments_201712.json:
```json
{
    "body": "Changed branch from **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)** to **[caa8ccf](https://github.com/sagemath/sagetrac-mirror/commit/caa8ccf49a6ffd2794fd13f0933c47d26336ecbc)**",
    "created_at": "2014-08-12T13:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201712",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)** to **[caa8ccf](https://github.com/sagemath/sagetrac-mirror/commit/caa8ccf49a6ffd2794fd13f0933c47d26336ecbc)**



---

archive/issue_comments_201713.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nI got this failure now on arando (32-bit linux). It worked on the previous test run, so the failure is non-deterministic. Try running tests in a loop to reproduce.\n\n```\nsage -t --long src/sage/stats/distributions/discrete_gaussian_integer.pyx\n**********************************************************************\nFile \"src/sage/stats/distributions/discrete_gaussian_integer.pyx\", line 251, in sage.stats.distributions.discrete_gaussian_integer.DiscreteGaussianIntegerSampler.__init__\nFailed example:\n    min(l) == 0-2*1.0, max(l) == 0+2*1.0, abs(mean(l)) < 0.01\nExpected:\n    (True, True, True)\nGot:\n    (True, True, False)\n**********************************************************************\n1 item had failures:\n   1 of  48 in sage.stats.distributions.discrete_gaussian_integer.DiscreteGaussianIntegerSampler.__init__\n    [88 tests, 1 failure, 7.14 s]\n```",
    "created_at": "2014-08-13T10:41:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201713",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:54" align="right">comment:54</div>

I got this failure now on arando (32-bit linux). It worked on the previous test run, so the failure is non-deterministic. Try running tests in a loop to reproduce.

```
sage -t --long src/sage/stats/distributions/discrete_gaussian_integer.pyx
**********************************************************************
File "src/sage/stats/distributions/discrete_gaussian_integer.pyx", line 251, in sage.stats.distributions.discrete_gaussian_integer.DiscreteGaussianIntegerSampler.__init__
Failed example:
    min(l) == 0-2*1.0, max(l) == 0+2*1.0, abs(mean(l)) < 0.01
Expected:
    (True, True, True)
Got:
    (True, True, False)
**********************************************************************
1 item had failures:
   1 of  48 in sage.stats.distributions.discrete_gaussian_integer.DiscreteGaussianIntegerSampler.__init__
    [88 tests, 1 failure, 7.14 s]
```



---

archive/issue_comments_201714.json:
```json
{
    "body": "Changed commit from **[caa8ccf](https://github.com/sagemath/sagetrac-mirror/commit/caa8ccf49a6ffd2794fd13f0933c47d26336ecbc)** to none",
    "created_at": "2014-08-13T10:41:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201714",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[caa8ccf](https://github.com/sagemath/sagetrac-mirror/commit/caa8ccf49a6ffd2794fd13f0933c47d26336ecbc)** to none



---

archive/issue_comments_201715.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nHi, thanks for providing this. I've just committed a \"fix\". With precision='dp' results are not reproducible (our random seed does not control C's random()). I clarified this a bit more in the documentation and increased the allowed bound. Unfortunately, on the only 32-bit machine I have access to, I cannot reproduce the doctest failure, so I can ask you to run it again?",
    "created_at": "2014-08-13T14:37:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201715",
    "user": "https://github.com/malb"
}
```

<div id="comment:55" align="right">comment:55</div>

Hi, thanks for providing this. I've just committed a "fix". With precision='dp' results are not reproducible (our random seed does not control C's random()). I clarified this a bit more in the documentation and increased the allowed bound. Unfortunately, on the only 32-bit machine I have access to, I cannot reproduce the doctest failure, so I can ask you to run it again?



---

archive/issue_comments_201716.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nThe name `DiscreteGaussianIntegerSampler` might be a bit confusing to some people: at first reading it seems you're sampling from the Gaussian integers (which are discrete).\n\nWouldn't `DiscreteGaussianDistributionSampler` be a more descriptive name? I get the impression that Discrete Gaussian Distribution is normally used for the distributions on the integers you're referring to.\n\nThe fact that you truncate at `tau*sigma` also seems to disqualify this from legitimately being called \"sampling from a discrete gaussian distribution\", but I hope this is standard abuse of terminology in the field (and the difference is hard to see).\n\nIt also suggests that if the rejection rate is high (it would be for larger values of `tau`) it might be worth sampling from a binomial distribution with adapted rejection rates. The shape should be much closer to your desired distribution and hence should lead to a much lower rejection rate. It depends a bit on whether the new rejection probabilities are sufficiently easy to compute to be worth it.",
    "created_at": "2014-08-18T15:01:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201716",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:56" align="right">comment:56</div>

The name `DiscreteGaussianIntegerSampler` might be a bit confusing to some people: at first reading it seems you're sampling from the Gaussian integers (which are discrete).

Wouldn't `DiscreteGaussianDistributionSampler` be a more descriptive name? I get the impression that Discrete Gaussian Distribution is normally used for the distributions on the integers you're referring to.

The fact that you truncate at `tau*sigma` also seems to disqualify this from legitimately being called "sampling from a discrete gaussian distribution", but I hope this is standard abuse of terminology in the field (and the difference is hard to see).

It also suggests that if the rejection rate is high (it would be for larger values of `tau`) it might be worth sampling from a binomial distribution with adapted rejection rates. The shape should be much closer to your desired distribution and hence should lead to a much lower rejection rate. It depends a bit on whether the new rejection probabilities are sufficiently easy to compute to be worth it.



---

archive/issue_comments_201717.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nReplying to [@nbruin](#comment:56):\n> The name `DiscreteGaussianIntegerSampler` might be a bit confusing to some people: at first reading it seems you're sampling from the Gaussian integers (which are discrete).\n> Wouldn't `DiscreteGaussianDistributionSampler` be a more descriptive name? I get the impression that Discrete Gaussian Distribution is normally used for the distributions on the integers you're referring to.\n\nThe name was chosen to allow for samplers over lattices and polynomial rings as well: `DiscreteGaussianLatticeSampler` and `DiscreteGaussianPolynomialSampler`.\n\nI can change it to `DiscreteGaussianDistributionIntegerSampler` or something if I get a commitment that this change is reviewed in a timely fashion. This patch has had a hard time getting reviewed so I am not opening it up again lightly.\n\n> The fact that you truncate at `tau*sigma` also seems to disqualify this from legitimately being called \"sampling from a discrete gaussian distribution\", but I hope this is standard abuse of terminology in the field (and the difference is hard to see).\n\nThe difference is hard to see due to the tail bound. Roughly: Pr[x <- D | |x| > C*sigma] <= 2/(C sqrt(2*pi)) * exp(-C<sup>2</sup>/2). This is also the standard approach in the literature.\n\n> It also suggests that if the rejection rate is high (it would be for larger values of `tau`) it might be worth sampling from a binomial distribution with adapted rejection rates. The shape should be much closer to your desired distribution and hence should lead to a much lower rejection rate. It depends a bit on whether the new rejection probabilities are sufficiently easy to compute to be worth it.\n\nSampling from other distributions has been considered in the literature. The \"sigma2+logtable\" algorithm is a result of such an investigation in:\n\n   [DDLL13] L\u00e9o Ducas, Alain Durmus, Tancr\u00e8de Lepoint and Vadim\nLyubashevsky. *Lattice Signatures and Bimodal Gaussians*; in Advances in\n   Cryptology \u2013 CRYPTO 2013; Lecture Notes in Computer Science Volume 8042,\n   2013, pp 40-56 http://www.di.ens.fr/~lyubash/papers/bimodal.pdf",
    "created_at": "2014-08-18T16:17:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201717",
    "user": "https://github.com/malb"
}
```

<div id="comment:57" align="right">comment:57</div>

Replying to [@nbruin](#comment:56):
> The name `DiscreteGaussianIntegerSampler` might be a bit confusing to some people: at first reading it seems you're sampling from the Gaussian integers (which are discrete).
> Wouldn't `DiscreteGaussianDistributionSampler` be a more descriptive name? I get the impression that Discrete Gaussian Distribution is normally used for the distributions on the integers you're referring to.

The name was chosen to allow for samplers over lattices and polynomial rings as well: `DiscreteGaussianLatticeSampler` and `DiscreteGaussianPolynomialSampler`.

I can change it to `DiscreteGaussianDistributionIntegerSampler` or something if I get a commitment that this change is reviewed in a timely fashion. This patch has had a hard time getting reviewed so I am not opening it up again lightly.

> The fact that you truncate at `tau*sigma` also seems to disqualify this from legitimately being called "sampling from a discrete gaussian distribution", but I hope this is standard abuse of terminology in the field (and the difference is hard to see).

The difference is hard to see due to the tail bound. Roughly: Pr[x <- D | |x| > C*sigma] <= 2/(C sqrt(2*pi)) * exp(-C<sup>2</sup>/2). This is also the standard approach in the literature.

> It also suggests that if the rejection rate is high (it would be for larger values of `tau`) it might be worth sampling from a binomial distribution with adapted rejection rates. The shape should be much closer to your desired distribution and hence should lead to a much lower rejection rate. It depends a bit on whether the new rejection probabilities are sufficiently easy to compute to be worth it.

Sampling from other distributions has been considered in the literature. The "sigma2+logtable" algorithm is a result of such an investigation in:

   [DDLL13] Léo Ducas, Alain Durmus, Tancrède Lepoint and Vadim
Lyubashevsky. *Lattice Signatures and Bimodal Gaussians*; in Advances in
   Cryptology – CRYPTO 2013; Lecture Notes in Computer Science Volume 8042,
   2013, pp 40-56 http://www.di.ens.fr/~lyubash/papers/bimodal.pdf



---

archive/issue_comments_201718.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nRunning `sage -t --global-iterations 100 src/sage/stats/distributions/discrete_gaussian_integer.pyx` on 32-bit Archlinux passes.\n\nHere are the last circa 210 lines of output in abbreviated form:\n\n```\n...\nsage -t src/sage/stats/distributions/discrete_gaussian_integer.pyx\n   [82 tests, 16.02 s]\n----------------------------------------------------------------------\nDoctests interrupted: 1/1 files tested\nDoctests interrupted: 2/1 files tested\n...\nDoctests interrupted: 98/1 files tested\nDoctests interrupted: 99/1 files tested\n----------------------------------------------------------------------\nTotal time for all tests: 16.1 seconds\n    cpu time: 1625.9 seconds\n    cumulative wall time: 1627.1 seconds\nsage -t src/sage/stats/distributions/discrete_gaussian_integer.pyx\n    [82 tests, 15.99 s]\n----------------------------------------------------------------------\nDoctests interrupted: 1/1 files tested\nDoctests interrupted: 2/1 files tested\n...\nDoctests interrupted: 98/1 files tested\nDoctests interrupted: 99/1 files tested\n----------------------------------------------------------------------\nTotal time for all tests: 16.1 seconds\n    cpu time: 1641.9 seconds\n    cumulative wall time: 1643.1 seconds\n```\n\nApart from this ticket's branch, I have also merged those of tickets #15316 and #16480, as I need those for building.",
    "created_at": "2014-08-18T23:46:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201718",
    "user": "https://github.com/sagetrac-emassop"
}
```

<div id="comment:58" align="right">comment:58</div>

Running `sage -t --global-iterations 100 src/sage/stats/distributions/discrete_gaussian_integer.pyx` on 32-bit Archlinux passes.

Here are the last circa 210 lines of output in abbreviated form:

```
...
sage -t src/sage/stats/distributions/discrete_gaussian_integer.pyx
   [82 tests, 16.02 s]
----------------------------------------------------------------------
Doctests interrupted: 1/1 files tested
Doctests interrupted: 2/1 files tested
...
Doctests interrupted: 98/1 files tested
Doctests interrupted: 99/1 files tested
----------------------------------------------------------------------
Total time for all tests: 16.1 seconds
    cpu time: 1625.9 seconds
    cumulative wall time: 1627.1 seconds
sage -t src/sage/stats/distributions/discrete_gaussian_integer.pyx
    [82 tests, 15.99 s]
----------------------------------------------------------------------
Doctests interrupted: 1/1 files tested
Doctests interrupted: 2/1 files tested
...
Doctests interrupted: 98/1 files tested
Doctests interrupted: 99/1 files tested
----------------------------------------------------------------------
Total time for all tests: 16.1 seconds
    cpu time: 1641.9 seconds
    cumulative wall time: 1643.1 seconds
```

Apart from this ticket's branch, I have also merged those of tickets #15316 and #16480, as I need those for building.



---

archive/issue_comments_201719.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nThanks for running those. As far as I can tell, this means for you, too, doctests pass.",
    "created_at": "2014-08-19T09:08:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201719",
    "user": "https://github.com/malb"
}
```

<div id="comment:59" align="right">comment:59</div>

Thanks for running those. As far as I can tell, this means for you, too, doctests pass.



---

archive/issue_comments_201720.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nI renamed `DiscreteGaussianIntegerSampler` to `DiscreteGaussianDistributionIntegerSampler`. Nils, can you review this commit?",
    "created_at": "2014-08-19T10:09:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201720",
    "user": "https://github.com/malb"
}
```

<div id="comment:60" align="right">comment:60</div>

I renamed `DiscreteGaussianIntegerSampler` to `DiscreteGaussianDistributionIntegerSampler`. Nils, can you review this commit?



---

archive/issue_events_227216.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2014-08-19T10:09:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227216"
}
```



---

archive/issue_comments_201721.json:
```json
{
    "body": "Commit: **[a1b711f](https://github.com/sagemath/sagetrac-mirror/commit/a1b711fb00192eb55212644e79c38bb0adc89a61)**",
    "created_at": "2014-08-26T15:54:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201721",
    "user": "https://github.com/malb"
}
```

Commit: **[a1b711f](https://github.com/sagemath/sagetrac-mirror/commit/a1b711fb00192eb55212644e79c38bb0adc89a61)**



---

archive/issue_comments_201722.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e79153658f2f50ff63ce15d02ebe57b0826fc9a0\">e791536</a></td><td><code>all bern functions should return long only</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61359b0bebe56a45fd9738404a1ca3fb9a00a954\">61359b0</a></td><td><code>C documentation fix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c11c5ece1f3cfa9c09e6260f862ab4613d6bddb\">2c11c5e</a></td><td><code>doctest fixes due to changed code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc732a2e0659c4204949dafea0970bc7709f831c\">bc732a2</a></td><td><code>fixed silly typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27af7495d04ac694b13a1847fa890a01171d3b3a\">27af749</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into u/malb/t15915_discrete_gaussians</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92e61fd20d76edec14233c8a698f8c29091a4042\">92e61fd</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into u/malb/t15915_discrete_gaussians</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/caa8ccf49a6ffd2794fd13f0933c47d26336ecbc\">caa8ccf</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into u/malb/t15915_discrete_gaussians</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2051027d11d82c0511e4d082d9d00d7e0335eb9a\">2051027</a></td><td><code>increase allowed bound in testcase and clarified documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9d3c9c2c1001261d81574e0261d644d967b4594\">c9d3c9c</a></td><td><code>DiscreteGaussianIntegerSampler -> DiscreteGaussianDistributionIntegerSampler</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1b711fb00192eb55212644e79c38bb0adc89a61\">a1b711f</a></td><td><code>fixed bug in iter_vectors and wrong doctests which accepted its results</code></td></tr></table>\n",
    "created_at": "2014-08-26T15:54:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201722",
    "user": "https://github.com/malb"
}
```

<div id="comment:61" align="right">comment:61</div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e79153658f2f50ff63ce15d02ebe57b0826fc9a0">e791536</a></td><td><code>all bern functions should return long only</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61359b0bebe56a45fd9738404a1ca3fb9a00a954">61359b0</a></td><td><code>C documentation fix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c11c5ece1f3cfa9c09e6260f862ab4613d6bddb">2c11c5e</a></td><td><code>doctest fixes due to changed code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc732a2e0659c4204949dafea0970bc7709f831c">bc732a2</a></td><td><code>fixed silly typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27af7495d04ac694b13a1847fa890a01171d3b3a">27af749</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into u/malb/t15915_discrete_gaussians</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92e61fd20d76edec14233c8a698f8c29091a4042">92e61fd</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into u/malb/t15915_discrete_gaussians</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/caa8ccf49a6ffd2794fd13f0933c47d26336ecbc">caa8ccf</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into u/malb/t15915_discrete_gaussians</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2051027d11d82c0511e4d082d9d00d7e0335eb9a">2051027</a></td><td><code>increase allowed bound in testcase and clarified documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9d3c9c2c1001261d81574e0261d644d967b4594">c9d3c9c</a></td><td><code>DiscreteGaussianIntegerSampler -> DiscreteGaussianDistributionIntegerSampler</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1b711fb00192eb55212644e79c38bb0adc89a61">a1b711f</a></td><td><code>fixed bug in iter_vectors and wrong doctests which accepted its results</code></td></tr></table>




---

archive/issue_comments_201723.json:
```json
{
    "body": "Changed branch from **[caa8ccf](https://github.com/sagemath/sagetrac-mirror/commit/caa8ccf49a6ffd2794fd13f0933c47d26336ecbc)** to **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)**",
    "created_at": "2014-08-26T15:54:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201723",
    "user": "https://github.com/malb"
}
```

Changed branch from **[caa8ccf](https://github.com/sagemath/sagetrac-mirror/commit/caa8ccf49a6ffd2794fd13f0933c47d26336ecbc)** to **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)**



---

archive/issue_events_227217.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-09-09T22:15:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227217"
}
```



---

archive/issue_events_227218.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-09-09T22:15:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227218"
}
```



---

archive/issue_events_227219.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-10T21:45:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227219"
}
```



---

archive/issue_events_227220.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "c7ba064d32591b1c51d5cf06b9a546c31c0a963f",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-09-10T21:45:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15915#event-227220"
}
```



---

archive/issue_comments_201724.json:
```json
{
    "body": "Changed branch from **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)** to **[a1b711f](https://github.com/sagemath/sagetrac-mirror/commit/a1b711fb00192eb55212644e79c38bb0adc89a61)**",
    "created_at": "2014-09-10T21:45:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201724",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/malb/t15915_discrete_gaussians](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t15915_discrete_gaussians)** to **[a1b711f](https://github.com/sagemath/sagetrac-mirror/commit/a1b711fb00192eb55212644e79c38bb0adc89a61)**



---

archive/issue_comments_201725.json:
```json
{
    "body": "Changed commit from **[a1b711f](https://github.com/sagemath/sagetrac-mirror/commit/a1b711fb00192eb55212644e79c38bb0adc89a61)** to none",
    "created_at": "2014-09-11T15:25:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201725",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[a1b711f](https://github.com/sagemath/sagetrac-mirror/commit/a1b711fb00192eb55212644e79c38bb0adc89a61)** to none



---

archive/issue_comments_201726.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nSee #16968 for a follow-up",
    "created_at": "2014-09-11T15:25:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15915#issuecomment-201726",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:64" align="right">comment:64</div>

See #16968 for a follow-up
