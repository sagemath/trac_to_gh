# Issue 15348: "R.<a> =" syntactic sugar incorrect for EquationOrder

archive/issues_015111.json:
```json
{
    "assignees": [],
    "body": "After typing\n\n```\nsage: f = x^2+1\nsage: R.<i> = ZZ.extension(f)\n```\nI expect variable `i` to be the element of `R` named `'i'`. However, it is not. It is the element 1.\n\nThis is due to the generators of an order in Sage being its *module* generators (as noted by `EquationOrder?`):\n\n```\nsage: R.gens()\n[1, i]\n```\n\nWe fix this by redefining `_first_ngens()` (which is what the preparser uses to implement the `R.<x> =` syntax) to use `_defining_names()`, which we override for orders.\n\nBranch/Commit: **[`bae80ec`](https://github.com/sagemath/sagetrac-mirror/commit/bae80ec1d10ab8d499f830016df8beddecdb404f)**\n\nReviewer: **Erik Massop**\n\nAuthor: **Jeroen Demeyer**\n\nComponent: **number fields**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15348_\n\n",
    "closed_at": "2016-01-13T21:09:05Z",
    "created_at": "2013-11-02T16:24:26Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20number%20fields",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "\"R.<a> =\" syntactic sugar incorrect for EquationOrder",
    "type": "issue",
    "updated_at": "2016-01-13T21:09:05Z",
    "url": "https://github.com/sagemath/sage/issues/15348",
    "user": "https://github.com/sagetrac-emassop"
}
```
After typing

```
sage: f = x^2+1
sage: R.<i> = ZZ.extension(f)
```
I expect variable `i` to be the element of `R` named `'i'`. However, it is not. It is the element 1.

This is due to the generators of an order in Sage being its *module* generators (as noted by `EquationOrder?`):

```
sage: R.gens()
[1, i]
```

We fix this by redefining `_first_ngens()` (which is what the preparser uses to implement the `R.<x> =` syntax) to use `_defining_names()`, which we override for orders.

Branch/Commit: **[`bae80ec`](https://github.com/sagemath/sagetrac-mirror/commit/bae80ec1d10ab8d499f830016df8beddecdb404f)**

Reviewer: **Erik Massop**

Author: **Jeroen Demeyer**

Component: **number fields**

_Issue created by migration from https://trac.sagemath.org/ticket/15348_





---

archive/issue_events_218352.json:
```json
{
    "actor": "https://github.com/sagetrac-emassop",
    "created_at": "2013-11-02T16:24:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20number%20fields",
    "label_color": "0000ff",
    "label_name": "c: number fields",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15348#event-218352"
}
```



---

archive/issue_events_218353.json:
```json
{
    "actor": "https://github.com/sagetrac-emassop",
    "created_at": "2013-11-02T16:24:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15348#event-218353"
}
```



---

archive/issue_events_218354.json:
```json
{
    "actor": "https://github.com/sagetrac-emassop",
    "created_at": "2013-11-02T16:24:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15348#event-218354"
}
```



---

archive/issue_comments_190336.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nIs it really the syntactic sugar that poses problem? It seems that `inject_variables()` is the problem.\n\n```python\nsage: f = x^2+1\nsage: R = ZZ.extension(f,'i')\nsage: R.inject_variables()\nDefining i\nsage: i\n1\n```\n\nThe problem seems to come from the fact that `R.variable_names()` is `('i',)` while `R.gens()` is `[1,i]`, and a `zip` is called on these two objects, resulting in `[('i',1)]`.",
    "created_at": "2014-12-19T11:56:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190336",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:1" align="right">comment:1</div>

Is it really the syntactic sugar that poses problem? It seems that `inject_variables()` is the problem.

```python
sage: f = x^2+1
sage: R = ZZ.extension(f,'i')
sage: R.inject_variables()
Defining i
sage: i
1
```

The problem seems to come from the fact that `R.variable_names()` is `('i',)` while `R.gens()` is `[1,i]`, and a `zip` is called on these two objects, resulting in `[('i',1)]`.



---

archive/issue_comments_190337.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI would prefer solution (1) which is most consistent with other uses of `gens()`.",
    "created_at": "2014-12-19T19:47:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190337",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2" align="right">comment:2</div>

I would prefer solution (1) which is most consistent with other uses of `gens()`.



---

archive/issue_comments_190338.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -21,4 +21,4 @@\n 3) disallow `R.<i> = ` for `EquationOrder`.\n \n Way (1) might make previously good code produce wrong results, so it is not a good idea.\n-For way (2), `_element_constructor` should have uniquitious support, about which I am unsure. I think way (3) might be achieved by renaming the argument `names` of `EquationOrder` to `field_names` or somesuch. (For the short term I think `names` should still be accepted, but with a warning.)\n+For way (2), `_element_constructor` should have ubiquitous support, about which I am unsure. I think way (3) might be achieved by renaming the argument `names` of `EquationOrder` to `field_names` or some such. (For the short term I think `names` should still be accepted, but with a warning.)\n``````\n",
    "created_at": "2014-12-19T21:35:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190338",
    "user": "https://github.com/sagetrac-emassop"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -21,4 +21,4 @@
 3) disallow `R.<i> = ` for `EquationOrder`.
 
 Way (1) might make previously good code produce wrong results, so it is not a good idea.
-For way (2), `_element_constructor` should have uniquitious support, about which I am unsure. I think way (3) might be achieved by renaming the argument `names` of `EquationOrder` to `field_names` or somesuch. (For the short term I think `names` should still be accepted, but with a warning.)
+For way (2), `_element_constructor` should have ubiquitous support, about which I am unsure. I think way (3) might be achieved by renaming the argument `names` of `EquationOrder` to `field_names` or some such. (For the short term I think `names` should still be accepted, but with a warning.)
``````




---

archive/issue_comments_190339.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nChanging `gens()` would definitely also be my preferred solution. My concern is that there might be code that assumes that `gens()` returns a list of module generators, which would no longer be the case.",
    "created_at": "2014-12-19T21:35:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190339",
    "user": "https://github.com/sagetrac-emassop"
}
```

<div id="comment:3" align="right">comment:3</div>

Changing `gens()` would definitely also be my preferred solution. My concern is that there might be code that assumes that `gens()` returns a list of module generators, which would no longer be the case.



---

archive/issue_comments_190340.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@sagetrac-emassop](#comment:3):\n> Changing `gens()` would definitely also be my preferred solution. My concern is that there might be code that assumes that `gens()` returns a list of module generators, which would no longer be the case.\n\nThat's not a major problem. For `R.<x> =` to work, it suffices to change the `_first_ngens()` method (without deprecation).\n\nWe could then add a boolean argument `ring` to `gens()`, defaulting to `False` (deprecated) which returns the *ring* generator (i.e. new-style `gens()`) if `ring=True`.",
    "created_at": "2014-12-19T22:13:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190340",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@sagetrac-emassop](#comment:3):
> Changing `gens()` would definitely also be my preferred solution. My concern is that there might be code that assumes that `gens()` returns a list of module generators, which would no longer be the case.

That's not a major problem. For `R.<x> =` to work, it suffices to change the `_first_ngens()` method (without deprecation).

We could then add a boolean argument `ring` to `gens()`, defaulting to `False` (deprecated) which returns the *ring* generator (i.e. new-style `gens()`) if `ring=True`.



---

archive/issue_comments_190341.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI agree with Jeroen that you should do (1). If something is dependent on assuming they are module generators, then they can use something like `module_generators()` (perhaps this needs such an implementation). See also #15381.",
    "created_at": "2014-12-20T00:50:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190341",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:5" align="right">comment:5</div>

I agree with Jeroen that you should do (1). If something is dependent on assuming they are module generators, then they can use something like `module_generators()` (perhaps this needs such an implementation). See also #15381.



---

archive/issue_comments_190342.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@tscrim](#comment:5):\n> If something is dependent on assuming they are module generators, then they can use something like `module_generators()`\n\nNo need for a new method, there is already `basis()` which does exactly that (currently `gens()` simply calls `basis()`).",
    "created_at": "2014-12-20T08:50:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190342",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@tscrim](#comment:5):
> If something is dependent on assuming they are module generators, then they can use something like `module_generators()`

No need for a new method, there is already `basis()` which does exactly that (currently `gens()` simply calls `basis()`).



---

archive/issue_comments_190343.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nJust a comment:  not every order is monogenic, so it is not so clear what gens() should return in general if not module generators, though of course this particular construction will always produce a monogenic order.\n\nBack to the original task I was trying, it is a pity if there is not a simple one-liner to define a ring of the form Z[a] from a polynomial (min poly of a) and simultaneously assigne the value a to a variable called a.",
    "created_at": "2014-12-20T12:35:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190343",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:7" align="right">comment:7</div>

Just a comment:  not every order is monogenic, so it is not so clear what gens() should return in general if not module generators, though of course this particular construction will always produce a monogenic order.

Back to the original task I was trying, it is a pity if there is not a simple one-liner to define a ring of the form Z[a] from a polynomial (min poly of a) and simultaneously assigne the value a to a variable called a.



---

archive/issue_comments_190344.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@JohnCremona](#comment:7):\n> Just a comment:  not every order is monogenic, so it is not so clear what gens() should return in general\n\nI wouldn't mind `raise ArithmeticError`...",
    "created_at": "2014-12-20T12:40:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190344",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@JohnCremona](#comment:7):
> Just a comment:  not every order is monogenic, so it is not so clear what gens() should return in general

I wouldn't mind `raise ArithmeticError`...



---

archive/issue_events_218355.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-01T23:06:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15348#event-218355"
}
```



---

archive/issue_events_218356.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-01T23:06:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15348#event-218356"
}
```



---

archive/issue_comments_190345.json:
```json
{
    "body": "Author: **Jeroen Demeyer**",
    "created_at": "2016-01-01T23:06:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190345",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Jeroen Demeyer**



---

archive/issue_events_218357.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-01T23:06:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "milestone_number": null,
    "milestone_title": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15348#event-218357"
}
```



---

archive/issue_comments_190346.json:
```json
{
    "body": "Branch: **[u/jdemeyer/ticket/15348](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/15348)**",
    "created_at": "2016-01-02T09:50:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190346",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/ticket/15348](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/15348)**



---

archive/issue_events_218358.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-02T09:53:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15348#event-218358"
}
```



---

archive/issue_comments_190347.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,14 +11,6 @@\n ```\n sage: R.gens()\n [1, i]\n-sage: preparse(\"R.<i> = ZZ.extension(f)\")\n-\"R = ZZ.extension(f, names=('i',)); (i,) = R._first_ngens(1)\"\n ```\n \n-I see three ways of fixing this:\n-1) redefine `AbsoluteOrder.gens()`,\n-2) make `preparse(...)` output `i = R._element_constructor('i')` instead of `(i,) = R._first_ngens(1)`,\n-3) disallow `R.<i> = ` for `EquationOrder`.\n-\n-Way (1) might make previously good code produce wrong results, so it is not a good idea.\n-For way (2), `_element_constructor` should have ubiquitous support, about which I am unsure. I think way (3) might be achieved by renaming the argument `names` of `EquationOrder` to `field_names` or some such. (For the short term I think `names` should still be accepted, but with a warning.)\n+We fix this by redefining `_first_ngens()` (which is what the preparser uses to implement the `R.<x> =` syntax) to use `ring_generators()` if such an attribute exists.\n``````\n",
    "created_at": "2016-01-02T09:53:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190347",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,14 +11,6 @@
 ```
 sage: R.gens()
 [1, i]
-sage: preparse("R.<i> = ZZ.extension(f)")
-"R = ZZ.extension(f, names=('i',)); (i,) = R._first_ngens(1)"
 ```
 
-I see three ways of fixing this:
-1) redefine `AbsoluteOrder.gens()`,
-2) make `preparse(...)` output `i = R._element_constructor('i')` instead of `(i,) = R._first_ngens(1)`,
-3) disallow `R.<i> = ` for `EquationOrder`.
-
-Way (1) might make previously good code produce wrong results, so it is not a good idea.
-For way (2), `_element_constructor` should have ubiquitous support, about which I am unsure. I think way (3) might be achieved by renaming the argument `names` of `EquationOrder` to `field_names` or some such. (For the short term I think `names` should still be accepted, but with a warning.)
+We fix this by redefining `_first_ngens()` (which is what the preparser uses to implement the `R.<x> =` syntax) to use `ring_generators()` if such an attribute exists.
``````




---

archive/issue_comments_190348.json:
```json
{
    "body": "Commit: **[`dac0a4c`](https://github.com/sagemath/sagetrac-mirror/commit/dac0a4cdb957393b282619213dc231f55cf55cc4)**",
    "created_at": "2016-01-02T09:53:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190348",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[`dac0a4c`](https://github.com/sagemath/sagetrac-mirror/commit/dac0a4cdb957393b282619213dc231f55cf55cc4)**



---

archive/issue_comments_190349.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dac0a4cdb957393b282619213dc231f55cf55cc4\"><code>dac0a4c</code></a></td><td><code>Let \"R.<x> =\" syntax use ring_generators if possible</code></td></tr></table>\n",
    "created_at": "2016-01-02T09:53:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190349",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dac0a4cdb957393b282619213dc231f55cf55cc4"><code>dac0a4c</code></a></td><td><code>Let "R.<x> =" syntax use ring_generators if possible</code></td></tr></table>




---

archive/issue_comments_190350.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI don't really like unconditionally preferring `ring_generators()` in such a general place as `_first_n_gens()` is. Perhaps this should be something like `defining_generators()` instead of `ring_generators()`. This would be set when defining something by generators, and always refer to the generators from the definition. That said, s/ring/defining/ can be done later, so out of pragmatism I'm not against the current approach.\n\nHowever, the current approach with `ring_generators()` doesn't always work as expected, which could be considered be a separate bug (namely lack of prepopulating ring_generators if defining something by ring generators). For instance\n\n```\nK.<i> = NumberField(x^2+1)\nO = K.order(-i+1)\ngens = O.ring_generators()\nif gens == [-i+1]:\n  print \"O.<a> = K.order(-i+1) would work as expected\"\nelse:\n  print \"O.<a> = K.order(-i+1) would make a equal to %r, not as -i+1 as expected.\" % gens[0]\n```\nprints\n\n```\nO.<a> = K.order(-i+1) would make a equal to i, not as -i+1 as expected.\n```\non https://sagecell.sagemath.org/.\n\nWhat do you think? Which `?_gens` should generally be used and should populating `?_gens` with the defining generators be separate bugs?",
    "created_at": "2016-01-05T15:33:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190350",
    "user": "https://github.com/sagetrac-emassop"
}
```

<div id="comment:12" align="right">comment:12</div>

I don't really like unconditionally preferring `ring_generators()` in such a general place as `_first_n_gens()` is. Perhaps this should be something like `defining_generators()` instead of `ring_generators()`. This would be set when defining something by generators, and always refer to the generators from the definition. That said, s/ring/defining/ can be done later, so out of pragmatism I'm not against the current approach.

However, the current approach with `ring_generators()` doesn't always work as expected, which could be considered be a separate bug (namely lack of prepopulating ring_generators if defining something by ring generators). For instance

```
K.<i> = NumberField(x^2+1)
O = K.order(-i+1)
gens = O.ring_generators()
if gens == [-i+1]:
  print "O.<a> = K.order(-i+1) would work as expected"
else:
  print "O.<a> = K.order(-i+1) would make a equal to %r, not as -i+1 as expected." % gens[0]
```
prints

```
O.<a> = K.order(-i+1) would make a equal to i, not as -i+1 as expected.
```
on https://sagecell.sagemath.org/.

What do you think? Which `?_gens` should generally be used and should populating `?_gens` with the defining generators be separate bugs?



---

archive/issue_comments_190351.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@sagetrac-emassop](#comment:12):\n> \n> ```\n> K.<i> = NumberField(x^2+1)\n> O = K.order(-i+1)\n> ```\n\nThat's a bit harder to solve since there currently is no way to recover the `-i+1` used to create the order. We would need to change `def order(...)` to store the given generators.",
    "created_at": "2016-01-05T16:35:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190351",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@sagetrac-emassop](#comment:12):
> 
> ```
> K.<i> = NumberField(x^2+1)
> O = K.order(-i+1)
> ```

That's a bit harder to solve since there currently is no way to recover the `-i+1` used to create the order. We would need to change `def order(...)` to store the given generators.



---

archive/issue_comments_190352.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nIf you want this to work:\n\n```\nsage: K.<i> = NumberField(x^2+1)\nsage: O.<a> = K.order(-i+1)\nsage: a\n-i + 1\n```\nyou'll need to drop unique representation for orders: currently, the following two return the exact same object:\n\n```\nsage: O1 = K.order(-i+1)\nsage: O2 = K.order(-i)\nsage: O1 is O2\nTrue\n```\nYou cannot have `O1.defining_generators()` and `O2.defining_generators()` be different if `O1` is the same object as `O2`. So this cannot be fixed without making major changes.",
    "created_at": "2016-01-05T16:48:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190352",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

If you want this to work:

```
sage: K.<i> = NumberField(x^2+1)
sage: O.<a> = K.order(-i+1)
sage: a
-i + 1
```
you'll need to drop unique representation for orders: currently, the following two return the exact same object:

```
sage: O1 = K.order(-i+1)
sage: O2 = K.order(-i)
sage: O1 is O2
True
```
You cannot have `O1.defining_generators()` and `O2.defining_generators()` be different if `O1` is the same object as `O2`. So this cannot be fixed without making major changes.



---

archive/issue_comments_190353.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nWe don't have unique representation for fields:\n\n```\nsage: K1 = QQ[sqrt(2)]                                                                                \nsage: K2 = QQ[1+sqrt(2)] \nsage: K1\nNumber Field in sqrt2 with defining polynomial x^2 - 2\nsage: K2\nNumber Field in a with defining polynomial x^2 - 2*x - 1                                                                         \nsage: K1 is K2\nFalse\nsage: K1 == K2                                                                                        \nFalse\nsage: K1.is_isomorphic(K2)                                                                            \nTrue\n```\nin a rather similar context.",
    "created_at": "2016-01-05T16:59:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190353",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:15" align="right">comment:15</div>

We don't have unique representation for fields:

```
sage: K1 = QQ[sqrt(2)]                                                                                
sage: K2 = QQ[1+sqrt(2)] 
sage: K1
Number Field in sqrt2 with defining polynomial x^2 - 2
sage: K2
Number Field in a with defining polynomial x^2 - 2*x - 1                                                                         
sage: K1 is K2
False
sage: K1 == K2                                                                                        
False
sage: K1.is_isomorphic(K2)                                                                            
True
```
in a rather similar context.



---

archive/issue_comments_190354.json:
```json
{
    "body": "Changed commit from **[`dac0a4c`](https://github.com/sagemath/sagetrac-mirror/commit/dac0a4cdb957393b282619213dc231f55cf55cc4)** to **[`e857c9a`](https://github.com/sagemath/sagetrac-mirror/commit/e857c9a484132348092e21cd1de0711686b8b7f0)**",
    "created_at": "2016-01-05T17:02:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190354",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dac0a4c`](https://github.com/sagemath/sagetrac-mirror/commit/dac0a4cdb957393b282619213dc231f55cf55cc4)** to **[`e857c9a`](https://github.com/sagemath/sagetrac-mirror/commit/e857c9a484132348092e21cd1de0711686b8b7f0)**



---

archive/issue_comments_190355.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e857c9a484132348092e21cd1de0711686b8b7f0\"><code>e857c9a</code></a></td><td><code>New method defining_generators() to implement R.<a> =</code></td></tr></table>\n",
    "created_at": "2016-01-05T17:02:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190355",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e857c9a484132348092e21cd1de0711686b8b7f0"><code>e857c9a</code></a></td><td><code>New method defining_generators() to implement R.<a> =</code></td></tr></table>




---

archive/issue_comments_190356.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@sagetrac-emassop](#comment:12):\n> I don't really like unconditionally preferring `ring_generators()` in such a general place as `_first_n_gens()` is. Perhaps this should be something like `defining_generators()` instead of `ring_generators()`. This would be set when defining something by generators, and always refer to the generators from the definition.\n\nDone.",
    "created_at": "2016-01-05T17:02:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190356",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@sagetrac-emassop](#comment:12):
> I don't really like unconditionally preferring `ring_generators()` in such a general place as `_first_n_gens()` is. Perhaps this should be something like `defining_generators()` instead of `ring_generators()`. This would be set when defining something by generators, and always refer to the generators from the definition.

Done.



---

archive/issue_comments_190357.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@JohnCremona](#comment:15):\n> We don't have unique representation for fields:\n\nWell, it all boils down to the difference between \"equal\" and \"isomorphic\" which is really a difference in how we use mathematics and not in mathematics itself.\n\nIn your example with `K1` and `K2`, one could argue that those fields are not equal because there is no canonical (again, this is not a mathematically well-defined term) isomorphism.\n\nFor orders on the other hand, it makes a lot of sense to see orders as subsets of a number field. Then obviously two orders are equal if they are the same subset of the number field. That's the view that Sage uses. I admit that it's all quite subtle.\n\nRegardless, I don't think that this should hold back this ticket. I'm sure that many people have stumbled on the bug on this ticket, so let's just fix it. It also makes it possible to implement #7545. We can still look at further subtleties later.",
    "created_at": "2016-01-05T17:12:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190357",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@JohnCremona](#comment:15):
> We don't have unique representation for fields:

Well, it all boils down to the difference between "equal" and "isomorphic" which is really a difference in how we use mathematics and not in mathematics itself.

In your example with `K1` and `K2`, one could argue that those fields are not equal because there is no canonical (again, this is not a mathematically well-defined term) isomorphism.

For orders on the other hand, it makes a lot of sense to see orders as subsets of a number field. Then obviously two orders are equal if they are the same subset of the number field. That's the view that Sage uses. I admit that it's all quite subtle.

Regardless, I don't think that this should hold back this ticket. I'm sure that many people have stumbled on the bug on this ticket, so let's just fix it. It also makes it possible to implement #7545. We can still look at further subtleties later.



---

archive/issue_comments_190358.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nMy point about wanting `O.<foo> = K.order(-i+1)` to work is moot, because `.order` doesn't take a names argument, so that the syntactic sugar doesn't work in this case anyway.\n\nAs far as I can tell these patches indeed fix `R.<a> = EquationOrder(f)` and `R.<a> = ZZ.extension(f)`, where `f` is a polynomial. Also AFAICT, this is by virtue of `NumberField` using `1, a, a^2, ...` as basis, and other things normalizing to that basis.\n\nI tried for instance the following to make sure `ring_generators` could not be distracted:\n\n```\nfrom sage.rings.number_field.order import AbsoluteOrder\nK.<i> = NumberField(x^2+1)\nV, from_v, to_v = K.vector_space()\nO = AbsoluteOrder(K, span([to_v(1), to_v(-i)], ZZ))\nprint O.ring_generators() == [i]  # True, so the ring generator is i, not -i.\n```\n\nHowever, these patches do not fix the case of `R<several letters> = ...`. For instance\n\n```\nO.<a,b> = EquationOrder([x^2+1, x^2+2])\nprint O.ring_generators()\n```\nprints `[-b*a - 1, -3*a + 2*b]` which for this patch to work should be `[a,b]`. (Incidentally, that first and confusing line is used in the docstring of `EquationOrder`. Can you get rid of that, or comment on its unexpected consequences for variables `a` and `b`?)\n\nReplying to [@jdemeyer](#comment:17):\n> Replying to [@sagetrac-emassop](#comment:12):\n> > I don't really like unconditionally preferring `ring_generators()` in such a general place as `_first_n_gens()` is. Perhaps this should be something like `defining_generators()` instead of `ring_generators()`. This would be set when defining something by generators, and always refer to the generators from the definition.\n\n> \n> Done.\n\nChanging `defining_generators` is indeed dangerous. Perhaps there could be `defining_generators.set(...)` that would\n* populate the cache if it has no value,\n* do nothing if the cache and the argument agree,\n* populate the cache with an invalid value when the argument and the cache disagree.\nThe invalid value would make a call to `defining_generators` raise an exception. Also, how does the cache behaving with pickling? Does a cache override get saved?\n\nFinally, does it make sense to define `defining_generators` in `category_object.pyx` as simply `gens()`, and put the override to `ring_generators` in `class Order`?\n\nPain, pain, pain. I think it's okay to pragmatically go with this approach now.\n\nSome speculation, since my ideas keep changing about this: Perhaps the preparser should translate `a.<b> = c(d)` to `a,(b,) = c._call_and_also_return_names(d, names=('b',))`. Then `_call_and_also_return_names` gets responsible for calling `c` and making sure the returned generators are the right ones. When `c` is a function, this can be implemented using a decorator, or next to `c` itself. For classes `c`, `_call_and_also_return_names` can be a class method of `CategoryObject` which calls instantiates an object and calls `_first_n_gens` on it. This would also circumvent the hack of prepopulating and having to change the cache of `defining_generators`. Of course this seems like a bigger change than this bug, so let's do the pragmatic thing first.",
    "created_at": "2016-01-06T15:36:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190358",
    "user": "https://github.com/sagetrac-emassop"
}
```

<div id="comment:19" align="right">comment:19</div>

My point about wanting `O.<foo> = K.order(-i+1)` to work is moot, because `.order` doesn't take a names argument, so that the syntactic sugar doesn't work in this case anyway.

As far as I can tell these patches indeed fix `R.<a> = EquationOrder(f)` and `R.<a> = ZZ.extension(f)`, where `f` is a polynomial. Also AFAICT, this is by virtue of `NumberField` using `1, a, a^2, ...` as basis, and other things normalizing to that basis.

I tried for instance the following to make sure `ring_generators` could not be distracted:

```
from sage.rings.number_field.order import AbsoluteOrder
K.<i> = NumberField(x^2+1)
V, from_v, to_v = K.vector_space()
O = AbsoluteOrder(K, span([to_v(1), to_v(-i)], ZZ))
print O.ring_generators() == [i]  # True, so the ring generator is i, not -i.
```

However, these patches do not fix the case of `R<several letters> = ...`. For instance

```
O.<a,b> = EquationOrder([x^2+1, x^2+2])
print O.ring_generators()
```
prints `[-b*a - 1, -3*a + 2*b]` which for this patch to work should be `[a,b]`. (Incidentally, that first and confusing line is used in the docstring of `EquationOrder`. Can you get rid of that, or comment on its unexpected consequences for variables `a` and `b`?)

Replying to [@jdemeyer](#comment:17):
> Replying to [@sagetrac-emassop](#comment:12):
> > I don't really like unconditionally preferring `ring_generators()` in such a general place as `_first_n_gens()` is. Perhaps this should be something like `defining_generators()` instead of `ring_generators()`. This would be set when defining something by generators, and always refer to the generators from the definition.

> 
> Done.

Changing `defining_generators` is indeed dangerous. Perhaps there could be `defining_generators.set(...)` that would
* populate the cache if it has no value,
* do nothing if the cache and the argument agree,
* populate the cache with an invalid value when the argument and the cache disagree.
The invalid value would make a call to `defining_generators` raise an exception. Also, how does the cache behaving with pickling? Does a cache override get saved?

Finally, does it make sense to define `defining_generators` in `category_object.pyx` as simply `gens()`, and put the override to `ring_generators` in `class Order`?

Pain, pain, pain. I think it's okay to pragmatically go with this approach now.

Some speculation, since my ideas keep changing about this: Perhaps the preparser should translate `a.<b> = c(d)` to `a,(b,) = c._call_and_also_return_names(d, names=('b',))`. Then `_call_and_also_return_names` gets responsible for calling `c` and making sure the returned generators are the right ones. When `c` is a function, this can be implemented using a decorator, or next to `c` itself. For classes `c`, `_call_and_also_return_names` can be a class method of `CategoryObject` which calls instantiates an object and calls `_first_n_gens` on it. This would also circumvent the hack of prepopulating and having to change the cache of `defining_generators`. Of course this seems like a bigger change than this bug, so let's do the pragmatic thing first.



---

archive/issue_comments_190359.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@sagetrac-emassop](#comment:19):\n> Perhaps there could be `defining_generators.set(...)` that would\n> * populate the cache if it has no value,\n> * do nothing if the cache and the argument agree,\n> * populate the cache with an invalid value when the argument and the cache disagree.\n> The invalid value would make a call to `defining_generators` raise an exception.\n\nI see no reason for this additional layer of complexity. I don't know of any cached function in Sage which does this and I don't see why `defining_generators` would need it.\n\n> Also, how does the cache behaving with pickling? Does a cache override get saved?\n\nYes, it gets pickled although this might be changed in #15692.\n\n> Finally, does it make sense to define `defining_generators` in `category_object.pyx` as simply `gens()`, and put the override to `ring_generators` in `class Order`?\n\nI don't really see why. Currently, `Order` is the only class with `ring_generators` but if a new class comes around implementing `ring_generators`, I guess (but this is really guessing) that it would make sense to use it as defining generators.",
    "created_at": "2016-01-06T15:59:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190359",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@sagetrac-emassop](#comment:19):
> Perhaps there could be `defining_generators.set(...)` that would
> * populate the cache if it has no value,
> * do nothing if the cache and the argument agree,
> * populate the cache with an invalid value when the argument and the cache disagree.
> The invalid value would make a call to `defining_generators` raise an exception.

I see no reason for this additional layer of complexity. I don't know of any cached function in Sage which does this and I don't see why `defining_generators` would need it.

> Also, how does the cache behaving with pickling? Does a cache override get saved?

Yes, it gets pickled although this might be changed in #15692.

> Finally, does it make sense to define `defining_generators` in `category_object.pyx` as simply `gens()`, and put the override to `ring_generators` in `class Order`?

I don't really see why. Currently, `Order` is the only class with `ring_generators` but if a new class comes around implementing `ring_generators`, I guess (but this is really guessing) that it would make sense to use it as defining generators.



---

archive/issue_comments_190360.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@sagetrac-emassop](#comment:19):\n> Finally, does it make sense to define `defining_generators` in `category_object.pyx` as simply `gens()`, and put the override to `ring_generators` in `class Order`?\n\nThinking twice about it, maybe this approach could help solving the problem for relative `EquationOrder`s.",
    "created_at": "2016-01-06T16:04:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190360",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@sagetrac-emassop](#comment:19):
> Finally, does it make sense to define `defining_generators` in `category_object.pyx` as simply `gens()`, and put the override to `ring_generators` in `class Order`?

Thinking twice about it, maybe this approach could help solving the problem for relative `EquationOrder`s.



---

archive/issue_comments_190361.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@jdemeyer](#comment:20):\n> Replying to [@sagetrac-emassop](#comment:19):\n> > Perhaps there could be `defining_generators.set(...)` that would\n> > * populate the cache if it has no value,\n> > * do nothing if the cache and the argument agree,\n> > * populate the cache with an invalid value when the argument and the cache disagree.\n> > The invalid value would make a call to `defining_generators` raise an exception.\n\n> I see no reason for this additional layer of complexity. I don't know of any cached function in Sage which does this and I don't see why `defining_generators` would need it.\n\nIt seems weird if the return value of `.defining_generators` changes during an object's life. If the value gets set only once during an object's life-time (and survives pickling), then not having this additional complexity is okay. The proposal above is merely to enforce that the value does not get changed accidentally.\n\n> > Finally, does it make sense to define `defining_generators` in `category_object.pyx` as simply `gens()`, and put the override to `ring_generators` in `class Order`?\n\n> I don't really see why. Currently, `Order` is the only class with `ring_generators` but if a new class comes around implementing `ring_generators`, I guess (but this is really guessing) that it would make sense to use it as defining generators.\n\nSo all other rings with generators use `gens()` for their ring generators? Why is `Order` different, especially given that there also is `basis()`?\n\nFor instance\n\n```\nR.<i> = ZZ.extension(x^2+1)\nS.<x> = QQ[]\n\nA.<a> = QQ.extension(x^2-3)\nB.<b> = ZZ.extension(x^2-3)\nC.<c> = R.extension(x^2-3)\nD.<d> = S.extension(x^2-3)\n\nprint A.gens(), B.gens(), C.gens(), D.gens()\n```\nprints `(a,) [1, b] (c,) (d,)` with B.gens() being the odd one out.",
    "created_at": "2016-01-06T17:10:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190361",
    "user": "https://github.com/sagetrac-emassop"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@jdemeyer](#comment:20):
> Replying to [@sagetrac-emassop](#comment:19):
> > Perhaps there could be `defining_generators.set(...)` that would
> > * populate the cache if it has no value,
> > * do nothing if the cache and the argument agree,
> > * populate the cache with an invalid value when the argument and the cache disagree.
> > The invalid value would make a call to `defining_generators` raise an exception.

> I see no reason for this additional layer of complexity. I don't know of any cached function in Sage which does this and I don't see why `defining_generators` would need it.

It seems weird if the return value of `.defining_generators` changes during an object's life. If the value gets set only once during an object's life-time (and survives pickling), then not having this additional complexity is okay. The proposal above is merely to enforce that the value does not get changed accidentally.

> > Finally, does it make sense to define `defining_generators` in `category_object.pyx` as simply `gens()`, and put the override to `ring_generators` in `class Order`?

> I don't really see why. Currently, `Order` is the only class with `ring_generators` but if a new class comes around implementing `ring_generators`, I guess (but this is really guessing) that it would make sense to use it as defining generators.

So all other rings with generators use `gens()` for their ring generators? Why is `Order` different, especially given that there also is `basis()`?

For instance

```
R.<i> = ZZ.extension(x^2+1)
S.<x> = QQ[]

A.<a> = QQ.extension(x^2-3)
B.<b> = ZZ.extension(x^2-3)
C.<c> = R.extension(x^2-3)
D.<d> = S.extension(x^2-3)

print A.gens(), B.gens(), C.gens(), D.gens()
```
prints `(a,) [1, b] (c,) (d,)` with B.gens() being the odd one out.



---

archive/issue_comments_190362.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@sagetrac-emassop](#comment:22):\n> It seems weird if the return value of `.defining_generators` changes during an object's life. If the value gets set only once during an object's life-time (and survives pickling), then not having this additional complexity is okay. The proposal above is merely to enforce that the value does not get changed accidentally.\n\nI don't see how the value could get changed accidentally. And like I said: there are many cached functions in Sage, what makes this one so special?\n\n> So all other rings with generators use `gens()` for their ring generators? Why is `Order` different, especially given that there also is `basis()`?\n\nVery good question. Unfortunately, because of the deprecation policy, we cannot just change `gens()`.",
    "created_at": "2016-01-06T17:50:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190362",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@sagetrac-emassop](#comment:22):
> It seems weird if the return value of `.defining_generators` changes during an object's life. If the value gets set only once during an object's life-time (and survives pickling), then not having this additional complexity is okay. The proposal above is merely to enforce that the value does not get changed accidentally.

I don't see how the value could get changed accidentally. And like I said: there are many cached functions in Sage, what makes this one so special?

> So all other rings with generators use `gens()` for their ring generators? Why is `Order` different, especially given that there also is `basis()`?

Very good question. Unfortunately, because of the deprecation policy, we cannot just change `gens()`.



---

archive/issue_comments_190363.json:
```json
{
    "body": "Changed commit from **[`e857c9a`](https://github.com/sagemath/sagetrac-mirror/commit/e857c9a484132348092e21cd1de0711686b8b7f0)** to **[`af00767`](https://github.com/sagemath/sagetrac-mirror/commit/af007674767ddfd652c10fb2bd79799377dc9ffb)**",
    "created_at": "2016-01-06T22:16:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190363",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e857c9a`](https://github.com/sagemath/sagetrac-mirror/commit/e857c9a484132348092e21cd1de0711686b8b7f0)** to **[`af00767`](https://github.com/sagemath/sagetrac-mirror/commit/af007674767ddfd652c10fb2bd79799377dc9ffb)**



---

archive/issue_comments_190364.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af007674767ddfd652c10fb2bd79799377dc9ffb\"><code>af00767</code></a></td><td><code>Deprecate Order.gens()</code></td></tr></table>\n",
    "created_at": "2016-01-06T22:16:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190364",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af007674767ddfd652c10fb2bd79799377dc9ffb"><code>af00767</code></a></td><td><code>Deprecate Order.gens()</code></td></tr></table>




---

archive/issue_comments_190365.json:
```json
{
    "body": "Changed commit from **[`af00767`](https://github.com/sagemath/sagetrac-mirror/commit/af007674767ddfd652c10fb2bd79799377dc9ffb)** to **[`008fc69`](https://github.com/sagemath/sagetrac-mirror/commit/008fc691b1b0e3d70b4b3e1bc355a5a696643a0e)**",
    "created_at": "2016-01-06T22:18:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190365",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`af00767`](https://github.com/sagemath/sagetrac-mirror/commit/af007674767ddfd652c10fb2bd79799377dc9ffb)** to **[`008fc69`](https://github.com/sagemath/sagetrac-mirror/commit/008fc691b1b0e3d70b4b3e1bc355a5a696643a0e)**



---

archive/issue_comments_190366.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/008fc691b1b0e3d70b4b3e1bc355a5a696643a0e\"><code>008fc69</code></a></td><td><code>_defining_generators() should be private</code></td></tr></table>\n",
    "created_at": "2016-01-06T22:18:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190366",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/008fc691b1b0e3d70b4b3e1bc355a5a696643a0e"><code>008fc69</code></a></td><td><code>_defining_generators() should be private</code></td></tr></table>




---

archive/issue_events_218359.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-06T22:22:40Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "title_is": "\"R.<a> =\" syntactic sugar incorrect for EquationOrder",
    "title_was": "\"R.<a> =\" syntactic sugar incorrect for EquationOrder and ZZ.extension",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15348#event-218359"
}
```



---

archive/issue_comments_190367.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1a2b4f3b9d4d2f443cffeca1449cdbb4d00bd56\"><code>b1a2b4f</code></a></td><td><code>Use _defining_generators to implement gens_dict()</code></td></tr></table>\n",
    "created_at": "2016-01-07T08:28:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190367",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1a2b4f3b9d4d2f443cffeca1449cdbb4d00bd56"><code>b1a2b4f</code></a></td><td><code>Use _defining_generators to implement gens_dict()</code></td></tr></table>




---

archive/issue_comments_190368.json:
```json
{
    "body": "Changed commit from **[`008fc69`](https://github.com/sagemath/sagetrac-mirror/commit/008fc691b1b0e3d70b4b3e1bc355a5a696643a0e)** to **[`b1a2b4f`](https://github.com/sagemath/sagetrac-mirror/commit/b1a2b4f3b9d4d2f443cffeca1449cdbb4d00bd56)**",
    "created_at": "2016-01-07T08:28:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190368",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`008fc69`](https://github.com/sagemath/sagetrac-mirror/commit/008fc691b1b0e3d70b4b3e1bc355a5a696643a0e)** to **[`b1a2b4f`](https://github.com/sagemath/sagetrac-mirror/commit/b1a2b4f3b9d4d2f443cffeca1449cdbb4d00bd56)**



---

archive/issue_comments_190369.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@jdemeyer](#comment:23):\n> Replying to [@sagetrac-emassop](#comment:22):\n> > It seems weird if the return value of `.defining_generators` changes during an object's life. If the value gets set only once during an object's life-time (and survives pickling), then not having this additional complexity is okay. The proposal above is merely to enforce that the value does not get changed accidentally.\n\n> I don't see how the value could get changed accidentally. And like I said: there are many cached functions in Sage, what makes this one so special?\n\nThe docstring says \"This is cached, so we can manually set the result if required\". As such, it seems intended for the cache to contain a value that would not be the result of executing the function. (Otherwise you would not need to set it manually.) This is against the idea of a cache as an optimization that speeds up a function call by remembering the previous result.\n\n\nDoes the [docstring change](https://github.com/sagemath/sagetrac-mirror/commit/af007674767ddfd652c10fb2bd79799377dc9ffb) of `RelativeOrder.basis` affect the community's ability to change this function's behavior? It previously seemed to me that it could start returning a basis relative to the base order at any time.\n\nWhy is it okay to change `gens_dict`, but not `gens` itself?\n\nHack: What about reordering the result of `gens()` (or probably `basis`?) such that desired generators form a prefix? Then the syntactic sugar would work because it uses only the first `n` items.",
    "created_at": "2016-01-07T10:47:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190369",
    "user": "https://github.com/sagetrac-emassop"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@jdemeyer](#comment:23):
> Replying to [@sagetrac-emassop](#comment:22):
> > It seems weird if the return value of `.defining_generators` changes during an object's life. If the value gets set only once during an object's life-time (and survives pickling), then not having this additional complexity is okay. The proposal above is merely to enforce that the value does not get changed accidentally.

> I don't see how the value could get changed accidentally. And like I said: there are many cached functions in Sage, what makes this one so special?

The docstring says "This is cached, so we can manually set the result if required". As such, it seems intended for the cache to contain a value that would not be the result of executing the function. (Otherwise you would not need to set it manually.) This is against the idea of a cache as an optimization that speeds up a function call by remembering the previous result.


Does the [docstring change](https://github.com/sagemath/sagetrac-mirror/commit/af007674767ddfd652c10fb2bd79799377dc9ffb) of `RelativeOrder.basis` affect the community's ability to change this function's behavior? It previously seemed to me that it could start returning a basis relative to the base order at any time.

Why is it okay to change `gens_dict`, but not `gens` itself?

Hack: What about reordering the result of `gens()` (or probably `basis`?) such that desired generators form a prefix? Then the syntactic sugar would work because it uses only the first `n` items.



---

archive/issue_comments_190370.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a354f9eef48bb882a538d53dc06e416e9fc8393c\"><code>a354f9e</code></a></td><td><code>Do not mention set_cache()</code></td></tr></table>\n",
    "created_at": "2016-01-07T10:56:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190370",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a354f9eef48bb882a538d53dc06e416e9fc8393c"><code>a354f9e</code></a></td><td><code>Do not mention set_cache()</code></td></tr></table>




---

archive/issue_comments_190371.json:
```json
{
    "body": "Changed commit from **[`b1a2b4f`](https://github.com/sagemath/sagetrac-mirror/commit/b1a2b4f3b9d4d2f443cffeca1449cdbb4d00bd56)** to **[`a354f9e`](https://github.com/sagemath/sagetrac-mirror/commit/a354f9eef48bb882a538d53dc06e416e9fc8393c)**",
    "created_at": "2016-01-07T10:56:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190371",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b1a2b4f`](https://github.com/sagemath/sagetrac-mirror/commit/b1a2b4f3b9d4d2f443cffeca1449cdbb4d00bd56)** to **[`a354f9e`](https://github.com/sagemath/sagetrac-mirror/commit/a354f9eef48bb882a538d53dc06e416e9fc8393c)**



---

archive/issue_comments_190372.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@sagetrac-emassop](#comment:28):\n> The docstring says \"This is cached, so we can manually set the result if required\".\n\nFixed.\n\n> Does the [docstring change](https://github.com/sagemath/sagetrac-mirror/commit/af007674767ddfd652c10fb2bd79799377dc9ffb) of `RelativeOrder.basis` affect the community's ability to change this function's behavior?\n\nI don't think so. I simply changed the docstring to the reality.\n\n> Why is it okay to change `gens_dict`, but not `gens` itself?\n\nBecause of the way how `gens_dict()` is used: `gens_dict` is supposed to return a dict of generators with their name as key. For example, it is often used to name variables for an `eval()` statement. So philosophically this is closer to `_defining_generators()` than to `gens()`.\n\n> Hack: What about reordering the result of `gens()` (or probably `basis`?) such that desired generators form a prefix?\n\nI would guess that would break stuff. I wouldn't be surprised if there was code assuming that `1` is the first element of `basis()`.",
    "created_at": "2016-01-07T11:01:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190372",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@sagetrac-emassop](#comment:28):
> The docstring says "This is cached, so we can manually set the result if required".

Fixed.

> Does the [docstring change](https://github.com/sagemath/sagetrac-mirror/commit/af007674767ddfd652c10fb2bd79799377dc9ffb) of `RelativeOrder.basis` affect the community's ability to change this function's behavior?

I don't think so. I simply changed the docstring to the reality.

> Why is it okay to change `gens_dict`, but not `gens` itself?

Because of the way how `gens_dict()` is used: `gens_dict` is supposed to return a dict of generators with their name as key. For example, it is often used to name variables for an `eval()` statement. So philosophically this is closer to `_defining_generators()` than to `gens()`.

> Hack: What about reordering the result of `gens()` (or probably `basis`?) such that desired generators form a prefix?

I would guess that would break stuff. I wouldn't be surprised if there was code assuming that `1` is the first element of `basis()`.



---

archive/issue_comments_190373.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@jdemeyer](#comment:30):\n> Replying to [@sagetrac-emassop](#comment:28):\n> > The docstring says \"This is cached, so we can manually set the result if required\".\n\n> Fixed.\n\nYeah, this works :).\n\n> > Why is it okay to change `gens_dict`, but not `gens` itself?\n\n> Because of the way how `gens_dict()` is used: `gens_dict` is supposed to return a dict of generators with their name as key. For example, it is often used to name variables for an `eval()` statement. So philosophically this is closer to `_defining_generators()` than to `gens()`.\n\nReading `gens_dict` as a dict version of `gens`, I would expect the same values to be present in `gens_dict` as in `gens`. However, with `gens` deprecated, maybe this is okay.\n\n> > Hack: What about reordering the result of `gens()` (or probably `basis`?) such that desired generators form a prefix?\n\n> I would guess that would break stuff. I wouldn't be surprised if there was code assuming that `1` is the first element of `basis()`.\n\nYeah, that seems likely :(. We can use such a trick to fix `R.<several letters> =` though, by  prepending `[x for x in self.number_field().gens() if x in self]` to `remaining` in `.ring_generators`. I don't like it very much, but I think it could work.",
    "created_at": "2016-01-07T11:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190373",
    "user": "https://github.com/sagetrac-emassop"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@jdemeyer](#comment:30):
> Replying to [@sagetrac-emassop](#comment:28):
> > The docstring says "This is cached, so we can manually set the result if required".

> Fixed.

Yeah, this works :).

> > Why is it okay to change `gens_dict`, but not `gens` itself?

> Because of the way how `gens_dict()` is used: `gens_dict` is supposed to return a dict of generators with their name as key. For example, it is often used to name variables for an `eval()` statement. So philosophically this is closer to `_defining_generators()` than to `gens()`.

Reading `gens_dict` as a dict version of `gens`, I would expect the same values to be present in `gens_dict` as in `gens`. However, with `gens` deprecated, maybe this is okay.

> > Hack: What about reordering the result of `gens()` (or probably `basis`?) such that desired generators form a prefix?

> I would guess that would break stuff. I wouldn't be surprised if there was code assuming that `1` is the first element of `basis()`.

Yeah, that seems likely :(. We can use such a trick to fix `R.<several letters> =` though, by  prepending `[x for x in self.number_field().gens() if x in self]` to `remaining` in `.ring_generators`. I don't like it very much, but I think it could work.



---

archive/issue_comments_190374.json:
```json
{
    "body": "Changed commit from **[`a354f9e`](https://github.com/sagemath/sagetrac-mirror/commit/a354f9eef48bb882a538d53dc06e416e9fc8393c)** to **[`496f5ac`](https://github.com/sagemath/sagetrac-mirror/commit/496f5ac31807f7613aaddbef6dd8119e33ca4366)**",
    "created_at": "2016-01-07T11:41:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190374",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a354f9e`](https://github.com/sagemath/sagetrac-mirror/commit/a354f9eef48bb882a538d53dc06e416e9fc8393c)** to **[`496f5ac`](https://github.com/sagemath/sagetrac-mirror/commit/496f5ac31807f7613aaddbef6dd8119e33ca4366)**



---

archive/issue_comments_190375.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/496f5ac31807f7613aaddbef6dd8119e33ca4366\"><code>496f5ac</code></a></td><td><code>Implement Order._defining_generators() using the number field gens</code></td></tr></table>\n",
    "created_at": "2016-01-07T11:41:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190375",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/496f5ac31807f7613aaddbef6dd8119e33ca4366"><code>496f5ac</code></a></td><td><code>Implement Order._defining_generators() using the number field gens</code></td></tr></table>




---

archive/issue_comments_190376.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nI now changed `_defining_generators()` to use the number field gens instead. This fixes the case of relative extensions.",
    "created_at": "2016-01-07T11:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190376",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:33" align="right">comment:33</div>

I now changed `_defining_generators()` to use the number field gens instead. This fixes the case of relative extensions.



---

archive/issue_comments_190377.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@jdemeyer](#comment:33):\n> I now changed `_defining_generators()` to use the number field gens instead. This fixes the case of relative extensions.\n\nDisregarding the change to `gen_dict()`, this makes sense to me. I would on first sight argue that `defining_generators` should not be defined for an order that has not been defined by generators, but since this is a private method used only by `R.<...>` (disregarding `gen_dict`), which moreover throws an exception if the elements are not in the order, I think it's fine here.\n\nTaking `gen_dict()` back into the picture, I'm not so happy with its elements not necessarily generating the order anymore (as a module, or as a ring), as there is nothing in the name `gen_dict` that suggests this would not be the case. For instance\n\n```\nK.<a> = QuadraticField(-163)\nR = K.ring_of_integers()\ndict_gens_values = [R(x) for x in K.gens()]\nS = K.order(dict_gens_values)\nprint S.index_in(R)\n```\nprints 2 instead of the expected 1.\n\nTangentially, `NumberField.ring_of_integers` should pass its arguments to `self.maximal_order`, in the same way that `NumberField.OK` does. (For the deprecation policy, this is probably not currently feasible, but we can deprecate non-empty arguments.) As a side-effect, this prohibits the syntax `R.<w> = K.ring_of_integers()`, in the same that `R.<w> = K.order(...)` is prohibited (which made one of my earlier points moot). This also makes the following impossible, where `w` does not become the expected generator:\n\n```\nK.<a> = QuadraticField(-163)\nR.<w> = K.ring_of_integers()\nw = a # Since I'm not running the version with the patch.\nprint K.order(w).index_in(R)  # R.<w> suggests this prints 1, but it actually prints 2.\n```",
    "created_at": "2016-01-07T13:50:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190377",
    "user": "https://github.com/sagetrac-emassop"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@jdemeyer](#comment:33):
> I now changed `_defining_generators()` to use the number field gens instead. This fixes the case of relative extensions.

Disregarding the change to `gen_dict()`, this makes sense to me. I would on first sight argue that `defining_generators` should not be defined for an order that has not been defined by generators, but since this is a private method used only by `R.<...>` (disregarding `gen_dict`), which moreover throws an exception if the elements are not in the order, I think it's fine here.

Taking `gen_dict()` back into the picture, I'm not so happy with its elements not necessarily generating the order anymore (as a module, or as a ring), as there is nothing in the name `gen_dict` that suggests this would not be the case. For instance

```
K.<a> = QuadraticField(-163)
R = K.ring_of_integers()
dict_gens_values = [R(x) for x in K.gens()]
S = K.order(dict_gens_values)
print S.index_in(R)
```
prints 2 instead of the expected 1.

Tangentially, `NumberField.ring_of_integers` should pass its arguments to `self.maximal_order`, in the same way that `NumberField.OK` does. (For the deprecation policy, this is probably not currently feasible, but we can deprecate non-empty arguments.) As a side-effect, this prohibits the syntax `R.<w> = K.ring_of_integers()`, in the same that `R.<w> = K.order(...)` is prohibited (which made one of my earlier points moot). This also makes the following impossible, where `w` does not become the expected generator:

```
K.<a> = QuadraticField(-163)
R.<w> = K.ring_of_integers()
w = a # Since I'm not running the version with the patch.
print K.order(w).index_in(R)  # R.<w> suggests this prints 1, but it actually prints 2.
```



---

archive/issue_comments_190378.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@sagetrac-emassop](#comment:34):\n> \n> ```\n> K.<a> = QuadraticField(-163)\n> R.<w> = K.ring_of_integers()\n> w = a # Since I'm not running the version with the patch.\n> print K.order(w).index_in(R)  # R.<w> suggests this prints 1, but it actually prints 2.\n> ```\n\nI don't see why `R.<w>` *suggests* that `K.order(w) == K.ring_of_integers()`. I *do* agree that `ring_of_integers`, `OK` and `maximal_order` should all behave exactly the same.",
    "created_at": "2016-01-07T14:02:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190378",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@sagetrac-emassop](#comment:34):
> 
> ```
> K.<a> = QuadraticField(-163)
> R.<w> = K.ring_of_integers()
> w = a # Since I'm not running the version with the patch.
> print K.order(w).index_in(R)  # R.<w> suggests this prints 1, but it actually prints 2.
> ```

I don't see why `R.<w>` *suggests* that `K.order(w) == K.ring_of_integers()`. I *do* agree that `ring_of_integers`, `OK` and `maximal_order` should all behave exactly the same.



---

archive/issue_comments_190379.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@sagetrac-emassop](#comment:34):\n> Taking `gen_dict()` back into the picture, I'm not so happy with its elements not necessarily generating the order anymore (as a module, or as a ring), as there is nothing in the name `gen_dict` that suggests this would not be the case.\n\nWell, `gens_dict()` is used to extract all \"variable names\" (that is what the docstring says and that is how it is used in practice). Perhaps the name `gens_dict()` is badly chosen, but I would not change that now. Maybe a better name would have been `variables_dict()` or `named_elements()` or something.\n\nIf you see it this way, using `_defining_generators()` is a better choice than `gens()`.",
    "created_at": "2016-01-07T14:07:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190379",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@sagetrac-emassop](#comment:34):
> Taking `gen_dict()` back into the picture, I'm not so happy with its elements not necessarily generating the order anymore (as a module, or as a ring), as there is nothing in the name `gen_dict` that suggests this would not be the case.

Well, `gens_dict()` is used to extract all "variable names" (that is what the docstring says and that is how it is used in practice). Perhaps the name `gens_dict()` is badly chosen, but I would not change that now. Maybe a better name would have been `variables_dict()` or `named_elements()` or something.

If you see it this way, using `_defining_generators()` is a better choice than `gens()`.



---

archive/issue_comments_190380.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@jdemeyer](#comment:35):\n> Replying to [@sagetrac-emassop](#comment:34):\n> > \n> > ```\n> > K.<a> = QuadraticField(-163)\n> > R.<w> = K.ring_of_integers()\n> > w = a # Since I'm not running the version with the patch.\n> > print K.order(w).index_in(R)  # R.<w> suggests this prints 1, but it actually prints 2.\n> > ```\n\n> \n> I don't see why `R.<w>` *suggests* that `K.order(w) == K.ring_of_integers()`. I *do* agree that `ring_of_integers`, `OK` and `maximal_order` should all behave exactly the same.\n\nWhat do you expect `w` to become in `R.<w> =`, if not a generator of `R`?",
    "created_at": "2016-01-07T14:31:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190380",
    "user": "https://github.com/sagetrac-emassop"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@jdemeyer](#comment:35):
> Replying to [@sagetrac-emassop](#comment:34):
> > 
> > ```
> > K.<a> = QuadraticField(-163)
> > R.<w> = K.ring_of_integers()
> > w = a # Since I'm not running the version with the patch.
> > print K.order(w).index_in(R)  # R.<w> suggests this prints 1, but it actually prints 2.
> > ```

> 
> I don't see why `R.<w>` *suggests* that `K.order(w) == K.ring_of_integers()`. I *do* agree that `ring_of_integers`, `OK` and `maximal_order` should all behave exactly the same.

What do you expect `w` to become in `R.<w> =`, if not a generator of `R`?



---

archive/issue_comments_190381.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@jdemeyer](#comment:36):\n> Replying to [@sagetrac-emassop](#comment:34):\n> > Taking `gen_dict()` back into the picture, I'm not so happy with its elements not necessarily generating the order anymore (as a module, or as a ring), as there is nothing in the name `gen_dict` that suggests this would not be the case.\n\n> \n> Well, `gens_dict()` is used to extract all \"variable names\" (that is what the docstring says and that is how it is used in practice). Perhaps the name `gens_dict()` is badly chosen, but I would not change that now. Maybe a better name would have been `variables_dict()` or `named_elements()` or something.\n> \n> If you see it this way, using `_defining_generators()` is a better choice than `gens()`.\n\nOkay, that makes sense. Perhaps `_defining_generators` should be renamed too then? Perhaps `_definition_names` or some such? (I like 'names' because it corresponds to the argument `names` that is passed to `f` when doing `a.<x> = f(...)`.)",
    "created_at": "2016-01-07T14:35:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190381",
    "user": "https://github.com/sagetrac-emassop"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@jdemeyer](#comment:36):
> Replying to [@sagetrac-emassop](#comment:34):
> > Taking `gen_dict()` back into the picture, I'm not so happy with its elements not necessarily generating the order anymore (as a module, or as a ring), as there is nothing in the name `gen_dict` that suggests this would not be the case.

> 
> Well, `gens_dict()` is used to extract all "variable names" (that is what the docstring says and that is how it is used in practice). Perhaps the name `gens_dict()` is badly chosen, but I would not change that now. Maybe a better name would have been `variables_dict()` or `named_elements()` or something.
> 
> If you see it this way, using `_defining_generators()` is a better choice than `gens()`.

Okay, that makes sense. Perhaps `_defining_generators` should be renamed too then? Perhaps `_definition_names` or some such? (I like 'names' because it corresponds to the argument `names` that is passed to `f` when doing `a.<x> = f(...)`.)



---

archive/issue_comments_190382.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@sagetrac-emassop](#comment:37):\n> What do you expect `w` to become in `R.<w> =`, if not a generator of `R`?\n\nThe element named \"w\".",
    "created_at": "2016-01-07T14:47:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190382",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@sagetrac-emassop](#comment:37):
> What do you expect `w` to become in `R.<w> =`, if not a generator of `R`?

The element named "w".



---

archive/issue_comments_190383.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c41d59c236497b6f6781969de533c71ce9df1889\"><code>c41d59c</code></a></td><td><code>Pass *args and **kwds in ring_of_integers()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/64618f5c8b5ac24ccc688ac718ee2b43e42d0328\"><code>64618f5</code></a></td><td><code>Rename _defining_generators -> _defining_names</code></td></tr></table>\n",
    "created_at": "2016-01-07T14:52:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190383",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c41d59c236497b6f6781969de533c71ce9df1889"><code>c41d59c</code></a></td><td><code>Pass *args and **kwds in ring_of_integers()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/64618f5c8b5ac24ccc688ac718ee2b43e42d0328"><code>64618f5</code></a></td><td><code>Rename _defining_generators -> _defining_names</code></td></tr></table>




---

archive/issue_comments_190384.json:
```json
{
    "body": "Changed commit from **[`496f5ac`](https://github.com/sagemath/sagetrac-mirror/commit/496f5ac31807f7613aaddbef6dd8119e33ca4366)** to **[`64618f5`](https://github.com/sagemath/sagetrac-mirror/commit/64618f5c8b5ac24ccc688ac718ee2b43e42d0328)**",
    "created_at": "2016-01-07T14:52:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190384",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`496f5ac`](https://github.com/sagemath/sagetrac-mirror/commit/496f5ac31807f7613aaddbef6dd8119e33ca4366)** to **[`64618f5`](https://github.com/sagemath/sagetrac-mirror/commit/64618f5c8b5ac24ccc688ac718ee2b43e42d0328)**



---

archive/issue_comments_190385.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nReplying to [@jdemeyer](#comment:39):\n> Replying to [@sagetrac-emassop](#comment:37):\n> > What do you expect `w` to become in `R.<w> =`, if not a generator of `R`?\n\n> \n> The element named \"w\".\n\nSure, but which element would be named \"w\"? Anyway, this is moot now :).",
    "created_at": "2016-01-07T15:00:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190385",
    "user": "https://github.com/sagetrac-emassop"
}
```

<div id="comment:41" align="right">comment:41</div>

Replying to [@jdemeyer](#comment:39):
> Replying to [@sagetrac-emassop](#comment:37):
> > What do you expect `w` to become in `R.<w> =`, if not a generator of `R`?

> 
> The element named "w".

Sure, but which element would be named "w"? Anyway, this is moot now :).



---

archive/issue_comments_190386.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nSome comments on the docstring of `_defining_names`:\n\n* There is a test for orders, which have this method overridden, so I think it would be better to move this test.\n* I'm not sure about the example \"For vector spaces and free modules, we get a basis\", given that submodules normalize the basis they are given as input, so that `_defining_names` does not necessarily return the basis that the submodule was defined with. For instance\n\n  ```\n  V = ZZ^3\n  vectors = [(0,1,0), (1,3/2,0)]\n  M = V.span(vectors)\n  print M.basis()\n  ```\n  prints\n\n  ```\n  [\n  (1, 1/2, 0),\n  (0, 1, 0)\n  ]\n  ```\n  Could you mention something like this as a caveat for this method? Or perhaps get rid of this example, given that this method really only is interesting for things defined by some explicitly named elements?\n* Please get rid of \"generator\" and perhaps mention the `names` argument used by `R.<...> =`\n\n\nOtherwise, this all looks good to me.",
    "created_at": "2016-01-07T17:15:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190386",
    "user": "https://github.com/sagetrac-emassop"
}
```

<div id="comment:42" align="right">comment:42</div>

Some comments on the docstring of `_defining_names`:

* There is a test for orders, which have this method overridden, so I think it would be better to move this test.
* I'm not sure about the example "For vector spaces and free modules, we get a basis", given that submodules normalize the basis they are given as input, so that `_defining_names` does not necessarily return the basis that the submodule was defined with. For instance

  ```
  V = ZZ^3
  vectors = [(0,1,0), (1,3/2,0)]
  M = V.span(vectors)
  print M.basis()
  ```
  prints

  ```
  [
  (1, 1/2, 0),
  (0, 1, 0)
  ]
  ```
  Could you mention something like this as a caveat for this method? Or perhaps get rid of this example, given that this method really only is interesting for things defined by some explicitly named elements?
* Please get rid of "generator" and perhaps mention the `names` argument used by `R.<...> =`


Otherwise, this all looks good to me.



---

archive/issue_comments_190387.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@sagetrac-emassop](#comment:42):\n> Some comments on the docstring of `_defining_names`:\n> \n> * There is a test for orders, which have this method overridden, so I think it would be better to move this test.\n\nThere are already two tests for orders in `order.py`, so I don't think we need to add an additional test. I think the test in `category_object.pyx` is useful to refer to this ticket and the general discussion of `_defining_names()`.",
    "created_at": "2016-01-10T19:49:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190387",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@sagetrac-emassop](#comment:42):
> Some comments on the docstring of `_defining_names`:
> 
> * There is a test for orders, which have this method overridden, so I think it would be better to move this test.

There are already two tests for orders in `order.py`, so I don't think we need to add an additional test. I think the test in `category_object.pyx` is useful to refer to this ticket and the general discussion of `_defining_names()`.



---

archive/issue_comments_190388.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bae80ec1d10ab8d499f830016df8beddecdb404f\"><code>bae80ec</code></a></td><td><code>Minor documentation improvements</code></td></tr></table>\n",
    "created_at": "2016-01-10T19:59:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190388",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bae80ec1d10ab8d499f830016df8beddecdb404f"><code>bae80ec</code></a></td><td><code>Minor documentation improvements</code></td></tr></table>




---

archive/issue_comments_190389.json:
```json
{
    "body": "Changed commit from **[`64618f5`](https://github.com/sagemath/sagetrac-mirror/commit/64618f5c8b5ac24ccc688ac718ee2b43e42d0328)** to **[`bae80ec`](https://github.com/sagemath/sagetrac-mirror/commit/bae80ec1d10ab8d499f830016df8beddecdb404f)**",
    "created_at": "2016-01-10T19:59:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190389",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`64618f5`](https://github.com/sagemath/sagetrac-mirror/commit/64618f5c8b5ac24ccc688ac718ee2b43e42d0328)** to **[`bae80ec`](https://github.com/sagemath/sagetrac-mirror/commit/bae80ec1d10ab8d499f830016df8beddecdb404f)**



---

archive/issue_events_218360.json:
```json
{
    "actor": "https://github.com/sagetrac-emassop",
    "created_at": "2016-01-11T21:30:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15348#event-218360"
}
```



---

archive/issue_events_218361.json:
```json
{
    "actor": "https://github.com/sagetrac-emassop",
    "created_at": "2016-01-11T21:30:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15348#event-218361"
}
```



---

archive/issue_comments_190390.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,4 +13,4 @@\n [1, i]\n ```\n \n-We fix this by redefining `_first_ngens()` (which is what the preparser uses to implement the `R.<x> =` syntax) to use `ring_generators()` if such an attribute exists.\n+We fix this by redefining `_first_ngens()` (which is what the preparser uses to implement the `R.<x> =` syntax) to use `_defining_names()`, which we override for orders.\n``````\n",
    "created_at": "2016-01-11T21:32:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190390",
    "user": "https://github.com/sagetrac-emassop"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,4 +13,4 @@
 [1, i]
 ```
 
-We fix this by redefining `_first_ngens()` (which is what the preparser uses to implement the `R.<x> =` syntax) to use `ring_generators()` if such an attribute exists.
+We fix this by redefining `_first_ngens()` (which is what the preparser uses to implement the `R.<x> =` syntax) to use `_defining_names()`, which we override for orders.
``````




---

archive/issue_comments_190391.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nThanks for the review!\n\nRemember to fill in your name as Reviewer.",
    "created_at": "2016-01-11T22:31:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190391",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:47" align="right">comment:47</div>

Thanks for the review!

Remember to fill in your name as Reviewer.



---

archive/issue_events_218362.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-12T17:18:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15348#event-218362"
}
```



---

archive/issue_events_218363.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-12T17:18:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15348#event-218363"
}
```



---

archive/issue_comments_190392.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReviewer name",
    "created_at": "2016-01-12T17:18:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190392",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:48" align="right">comment:48</div>

Reviewer name



---

archive/issue_comments_190393.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nPutting my name in Reviewers this time. Why can't Trac fill that in?",
    "created_at": "2016-01-13T01:07:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190393",
    "user": "https://github.com/sagetrac-emassop"
}
```

<div id="comment:49" align="right">comment:49</div>

Putting my name in Reviewers this time. Why can't Trac fill that in?



---

archive/issue_events_218364.json:
```json
{
    "actor": "https://github.com/sagetrac-emassop",
    "created_at": "2016-01-13T01:07:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15348#event-218364"
}
```



---

archive/issue_events_218365.json:
```json
{
    "actor": "https://github.com/sagetrac-emassop",
    "created_at": "2016-01-13T01:07:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15348#event-218365"
}
```



---

archive/issue_comments_190394.json:
```json
{
    "body": "Reviewer: **Erik Massop**",
    "created_at": "2016-01-13T01:07:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190394",
    "user": "https://github.com/sagetrac-emassop"
}
```

Reviewer: **Erik Massop**



---

archive/issue_comments_190395.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nVolker, it would make a lot of sense to merge this in Sage 7.0, is that still possible?",
    "created_at": "2016-01-13T08:50:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190395",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:50" align="right">comment:50</div>

Volker, it would make a lot of sense to merge this in Sage 7.0, is that still possible?



---

archive/issue_events_218366.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-13T21:09:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15348#event-218366"
}
```



---

archive/issue_events_218367.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e5af38dd2645b238d4ce970da210f8fcd26a991a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-01-13T21:09:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15348#event-218367"
}
```



---

archive/issue_comments_190396.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/ticket/15348](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/15348)** to **[`bae80ec`](https://github.com/sagemath/sagetrac-mirror/commit/bae80ec1d10ab8d499f830016df8beddecdb404f)**",
    "created_at": "2016-01-13T21:09:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15348",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15348#issuecomment-190396",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/ticket/15348](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/15348)** to **[`bae80ec`](https://github.com/sagemath/sagetrac-mirror/commit/bae80ec1d10ab8d499f830016df8beddecdb404f)**
