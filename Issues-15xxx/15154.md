# Issue 15154: Classes for discrete valuations

archive/issues_014917.json:
```json
{
    "body": "There is currently no class which models a discrete valuation. This would be very useful to talk about valuations e.g. on polynomial rings which can be used to compute factorizations over p-adics.\n\n**CC:**  @roed314\n\n**Keywords:** days71, sd87\n\n**Branch:** [u/saraedum/ticket/15154](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/15154)\n\n**Commit:** [39e9d6a48f16dace58444a328ffca09ddf663a22](https://github.com/sagemath/sagetrac-mirror/commit/39e9d6a48f16dace58444a328ffca09ddf663a22)\n\n**Author:** Julian Rueth\n\n**Dependencies:** #14482, #15171, #15232\n\nIssue created by migration from https://trac.sagemath.org/ticket/15154\n\n",
    "closed_at": "2017-12-12T08:23:33Z",
    "created_at": "2013-09-04T11:06:44Z",
    "labels": [
        "component: padics",
        "minor",
        "enhancement",
        "wontfix"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Classes for discrete valuations",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15154",
    "user": "https://github.com/saraedum"
}
```
There is currently no class which models a discrete valuation. This would be very useful to talk about valuations e.g. on polynomial rings which can be used to compute factorizations over p-adics.

**CC:**  @roed314

**Keywords:** days71, sd87

**Branch:** [u/saraedum/ticket/15154](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/15154)

**Commit:** [39e9d6a48f16dace58444a328ffca09ddf663a22](https://github.com/sagemath/sagetrac-mirror/commit/39e9d6a48f16dace58444a328ffca09ddf663a22)

**Author:** Julian Rueth

**Dependencies:** #14482, #15171, #15232

Issue created by migration from https://trac.sagemath.org/ticket/15154





---

archive/issue_comments_229414.json:
```json
{
    "body": "**Branch:** [u/saraedum/ticket/15154](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/15154)",
    "created_at": "2013-09-10T20:17:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229414",
    "user": "https://github.com/saraedum"
}
```

**Branch:** [u/saraedum/ticket/15154](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/15154)



---

archive/issue_comments_229415.json:
```json
{
    "body": "**Dependencies:** #14482, #15171",
    "created_at": "2013-09-10T20:17:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229415",
    "user": "https://github.com/saraedum"
}
```

**Dependencies:** #14482, #15171



---

archive/issue_comments_229416.json:
```json
{
    "body": "**Commit:** [006f54510ba6e5ed7968aee8deed3d68d6d6c360](https://github.com/sagemath/sagetrac-mirror/commit/006f54510ba6e5ed7968aee8deed3d68d6d6c360)",
    "created_at": "2013-09-10T21:32:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229416",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [006f54510ba6e5ed7968aee8deed3d68d6d6c360](https://github.com/sagemath/sagetrac-mirror/commit/006f54510ba6e5ed7968aee8deed3d68d6d6c360)



---

archive/issue_comments_229417.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td>[changeset:006f545]</td><td><code>Added classes for discrete valuations</code></td></tr></table>\n",
    "created_at": "2013-09-10T21:32:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229417",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td>[changeset:006f545]</td><td><code>Added classes for discrete valuations</code></td></tr></table>




---

archive/issue_comments_229418.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,2 +1 @@\n There is currently no class which models a discrete valuation. This would be very useful to talk about valuations e.g. on polynomial rings which can be used to compute factorizations over p-adics.\n-\n``````\n",
    "created_at": "2013-09-10T22:09:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229418",
    "user": "https://github.com/saraedum"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,2 +1 @@
 There is currently no class which models a discrete valuation. This would be very useful to talk about valuations e.g. on polynomial rings which can be used to compute factorizations over p-adics.
-
``````




---

archive/issue_comments_229419.json:
```json
{
    "body": "**Author:** Julian Rueth",
    "created_at": "2013-09-10T22:09:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229419",
    "user": "https://github.com/saraedum"
}
```

**Author:** Julian Rueth



---

archive/issue_events_050334.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2013-09-10T22:09:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "milestone": "sage-6.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15154#event-50334"
}
```



---

archive/issue_comments_229420.json:
```json
{
    "body": "**Changing status** from new to needs_info.",
    "created_at": "2013-09-10T22:09:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229420",
    "user": "https://github.com/saraedum"
}
```

**Changing status** from new to needs_info.



---

archive/issue_comments_229421.json:
```json
{
    "body": "<a id='comment:5'></a>\nIf you run the doctests for this, then some _test_category tests are failing. Do you have any idea what is wrong here? I have a feeling that I should just skip them.\n\nThen, I'm not so sure about the coerce() pattern that I use at the beginning of many methods (in padic_valuation). Do you have any thought about this?",
    "created_at": "2013-09-10T22:11:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229421",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:5'></a>
If you run the doctests for this, then some _test_category tests are failing. Do you have any idea what is wrong here? I have a feeling that I should just skip them.

Then, I'm not so sure about the coerce() pattern that I use at the beginning of many methods (in padic_valuation). Do you have any thought about this?



---

archive/issue_comments_229422.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [saraedum](#comment%3A5):\n> If you run the doctests for this, then some _test_category tests are failing. Do you have any idea what is wrong here? I have a feeling that I should just skip them.\n\nI'll ask this question on sage-devel.\n\n> Then, I'm not so sure about the coerce() pattern that I use at the beginning of many methods (in padic_valuation). Do you have any thought about this?\n\nThis one, however, is a question to a potential reviewer ;)",
    "created_at": "2013-09-11T10:52:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229422",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:6'></a>
Replying to [saraedum](#comment%3A5):
> If you run the doctests for this, then some _test_category tests are failing. Do you have any idea what is wrong here? I have a feeling that I should just skip them.

I'll ask this question on sage-devel.

> Then, I'm not so sure about the coerce() pattern that I use at the beginning of many methods (in padic_valuation). Do you have any thought about this?

This one, however, is a question to a potential reviewer ;)



---

archive/issue_comments_229423.json:
```json
{
    "body": "**Changing dependencies** from \"#14482, #15171\" to \"#14482, #15171, #8678\".",
    "created_at": "2013-09-11T12:42:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229423",
    "user": "https://github.com/saraedum"
}
```

**Changing dependencies** from "#14482, #15171" to "#14482, #15171, #8678".



---

archive/issue_comments_229424.json:
```json
{
    "body": "<a id='comment:7'></a>\nThe `_test_category` is apparently fixed in the combinat queue somewhere, added a dependency (which should probably go away, since this ticket has not been touched for ages).",
    "created_at": "2013-09-11T12:42:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229424",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:7'></a>
The `_test_category` is apparently fixed in the combinat queue somewhere, added a dependency (which should probably go away, since this ticket has not been touched for ages).



---

archive/issue_comments_229425.json:
```json
{
    "body": "**Changing dependencies** from \"#14482, #15171, #8678\" to \"#14482, #15171, #15232\".",
    "created_at": "2013-09-26T23:56:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229425",
    "user": "https://github.com/saraedum"
}
```

**Changing dependencies** from "#14482, #15171, #8678" to "#14482, #15171, #15232".



---

archive/issue_comments_229426.json:
```json
{
    "body": "<a id='comment:9'></a>\nThis is probably still the wrong dependency but I guess that the `_test_category` fix will be similar to this.",
    "created_at": "2013-09-26T23:57:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229426",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:9'></a>
This is probably still the wrong dependency but I guess that the `_test_category` fix will be similar to this.



---

archive/issue_events_050335.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2013-12-17T18:39:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "milestone": "sage-6.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15154#event-50335"
}
```



---

archive/issue_events_050336.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2013-12-17T18:39:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15154#event-50336"
}
```



---

archive/issue_events_050337.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15154#event-50337"
}
```



---

archive/issue_events_050338.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15154#event-50338"
}
```



---

archive/issue_events_050339.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15154#event-50339"
}
```



---

archive/issue_events_050340.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15154#event-50340"
}
```



---

archive/issue_events_050341.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15154#event-50341"
}
```



---

archive/issue_events_050342.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15154#event-50342"
}
```



---

archive/issue_comments_229427.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39e9d6a48f16dace58444a328ffca09ddf663a22\">39e9d6a</a></td><td><code>Merge branch 'develop' into t/15154/ticket/15154</code></td></tr></table>\n",
    "created_at": "2016-03-17T01:34:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229427",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39e9d6a48f16dace58444a328ffca09ddf663a22">39e9d6a</a></td><td><code>Merge branch 'develop' into t/15154/ticket/15154</code></td></tr></table>




---

archive/issue_comments_229428.json:
```json
{
    "body": "**Changing commit** from \"[006f54510ba6e5ed7968aee8deed3d68d6d6c360](https://github.com/sagemath/sagetrac-mirror/commit/006f54510ba6e5ed7968aee8deed3d68d6d6c360)\" to \"[39e9d6a48f16dace58444a328ffca09ddf663a22](https://github.com/sagemath/sagetrac-mirror/commit/39e9d6a48f16dace58444a328ffca09ddf663a22)\".",
    "created_at": "2016-03-17T01:34:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229428",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[006f54510ba6e5ed7968aee8deed3d68d6d6c360](https://github.com/sagemath/sagetrac-mirror/commit/006f54510ba6e5ed7968aee8deed3d68d6d6c360)" to "[39e9d6a48f16dace58444a328ffca09ddf663a22](https://github.com/sagemath/sagetrac-mirror/commit/39e9d6a48f16dace58444a328ffca09ddf663a22)".



---

archive/issue_comments_229429.json:
```json
{
    "body": "**Changing status** from needs_info to needs_work.",
    "created_at": "2016-03-21T20:05:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229429",
    "user": "https://github.com/saraedum"
}
```

**Changing status** from needs_info to needs_work.



---

archive/issue_comments_229430.json:
```json
{
    "body": "<a id='comment:15'></a>\nI will add a `@coerce_domain` and `@coerce_codomain` decorator.",
    "created_at": "2016-03-21T20:05:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229430",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:15'></a>
I will add a `@coerce_domain` and `@coerce_codomain` decorator.



---

archive/issue_comments_229431.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"days71\".",
    "created_at": "2016-03-24T02:21:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229431",
    "user": "https://github.com/saraedum"
}
```

**Changing keywords** from "" to "days71".



---

archive/issue_events_050343.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-21T19:44:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15154#event-50343"
}
```



---

archive/issue_events_050344.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-21T19:44:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15154#event-50344"
}
```



---

archive/issue_comments_229432.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2017-07-21T19:44:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229432",
    "user": "https://github.com/saraedum"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_comments_229433.json:
```json
{
    "body": "<a id='comment:17'></a>\nSuperseded by #21869.",
    "created_at": "2017-07-21T19:44:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229433",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:17'></a>
Superseded by #21869.



---

archive/issue_comments_229434.json:
```json
{
    "body": "**Changing keywords** from \"days71\" to \"days71, sd87\".",
    "created_at": "2017-07-21T19:44:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15154#issuecomment-229434",
    "user": "https://github.com/saraedum"
}
```

**Changing keywords** from "days71" to "days71, sd87".



---

archive/issue_events_050345.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-12-12T08:23:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15154",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15154#event-50345"
}
```
