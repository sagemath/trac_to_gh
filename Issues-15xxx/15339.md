# Issue 15339: gf2x tuning process needs to execute update-thresholds which needs a manifest file on Cygwin

archive/issues_015102.json:
```json
{
    "body": "This used to be true on Windows 7+ at least, same problem for any exe whose name contains patch/install/update...\n\nAs this one happens during gf2x building process and Windows is particularly picky about timestamps of the exe and the corresponding manifest file, this will not be completely trivial to fix.\ni.e. we have to patch gf2x build system (or convince them to change the exe name... I'll report there shortly).\n\nCC:  @kcrisman @dimpase @tscrim\n\nKeywords: cygwin spkg gf2x\n\nUpstream: Reported upstream. No feedback yet.\n\nReviewer: Jean-Pierre Flori, Travis Scrimshaw\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/15339\n\n",
    "closed_at": "2014-11-28T18:40:04Z",
    "created_at": "2013-10-28T17:38:46Z",
    "labels": [
        "component: porting: cygwin",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "gf2x tuning process needs to execute update-thresholds which needs a manifest file on Cygwin",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15339",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```
This used to be true on Windows 7+ at least, same problem for any exe whose name contains patch/install/update...

As this one happens during gf2x building process and Windows is particularly picky about timestamps of the exe and the corresponding manifest file, this will not be completely trivial to fix.
i.e. we have to patch gf2x build system (or convince them to change the exe name... I'll report there shortly).

CC:  @kcrisman @dimpase @tscrim

Keywords: cygwin spkg gf2x

Upstream: Reported upstream. No feedback yet.

Reviewer: Jean-Pierre Flori, Travis Scrimshaw

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/15339





---

archive/issue_comments_206394.json:
```json
{
    "body": "Changing keywords from \"\" to \"cygwin spkg gf2x\".",
    "created_at": "2014-01-09T15:29:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15339#issuecomment-206394",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing keywords from "" to "cygwin spkg gf2x".



---

archive/issue_comments_206395.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-01-09T15:39:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15339#issuecomment-206395",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_206396.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2014-01-14T14:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15339#issuecomment-206396",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_events_044482.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15339#event-44482"
}
```



---

archive/issue_events_044483.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15339#event-44483"
}
```



---

archive/issue_events_044484.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15339#event-44484"
}
```



---

archive/issue_events_044485.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15339#event-44485"
}
```



---

archive/issue_events_044486.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15339#event-44486"
}
```



---

archive/issue_comments_206397.json:
```json
{
    "body": "<a id='comment:7'></a>I suggest we just don't tune on Windows >= 7 till gf2x does something upstream.",
    "created_at": "2014-11-12T10:46:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15339#issuecomment-206397",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:7'></a>I suggest we just don't tune on Windows >= 7 till gf2x does something upstream.



---

archive/issue_comments_206398.json:
```json
{
    "body": "<a id='comment:8'></a>Or do nothing, my latest tests were fine and Windows 7 just let `update-thresholds.sh` be executed without ranting.",
    "created_at": "2014-11-14T13:13:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15339#issuecomment-206398",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:8'></a>Or do nothing, my latest tests were fine and Windows 7 just let `update-thresholds.sh` be executed without ranting.



---

archive/issue_comments_206399.json:
```json
{
    "body": "<a id='comment:9'></a>`@`Travis: can you confirm that `update-thresholds` now executes without trouble (if your Windows version is >=7 and recent enough)?",
    "created_at": "2014-11-20T11:23:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15339#issuecomment-206399",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:9'></a>`@`Travis: can you confirm that `update-thresholds` now executes without trouble (if your Windows version is >=7 and recent enough)?



---

archive/issue_comments_206400.json:
```json
{
    "body": "<a id='comment:10'></a>I believe my gf2x built on cygwin32 (I'm running Win8), which is sufficient, right? I'll double-check later today.",
    "created_at": "2014-11-20T16:42:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15339#issuecomment-206400",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>I believe my gf2x built on cygwin32 (I'm running Win8), which is sufficient, right? I'll double-check later today.



---

archive/issue_comments_206401.json:
```json
{
    "body": "Attachment [gf2x-1.1.p1.log](tarball://root/attachments/some-uuid/ticket15339/gf2x-1.1.p1.log) by @tscrim created at 2014-11-20 16:52:43",
    "created_at": "2014-11-20T16:52:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15339#issuecomment-206401",
    "user": "https://github.com/tscrim"
}
```

Attachment [gf2x-1.1.p1.log](tarball://root/attachments/some-uuid/ticket15339/gf2x-1.1.p1.log) by @tscrim created at 2014-11-20 16:52:43



---

archive/issue_comments_206402.json:
```json
{
    "body": "<a id='comment:11'></a>`1.1.p1` built successfully for me and I've attached the log in case there is something in there you (or if you tell me, I) need to look for.",
    "created_at": "2014-11-20T16:54:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15339#issuecomment-206402",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>`1.1.p1` built successfully for me and I've attached the log in case there is something in there you (or if you tell me, I) need to look for.



---

archive/issue_comments_206403.json:
```json
{
    "body": "<a id='comment:12'></a>Everything is fine!\nYou have a `./update-thresholds -o tuned_thresholds.h < tunetoom.res` and no errors.",
    "created_at": "2014-11-20T16:57:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15339#issuecomment-206403",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:12'></a>Everything is fine!
You have a `./update-thresholds -o tuned_thresholds.h < tunetoom.res` and no errors.



---

archive/issue_events_044487.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2014-11-20T16:57:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15339#event-44487"
}
```



---

archive/issue_events_044488.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2014-11-20T16:57:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15339#event-44488"
}
```



---

archive/issue_comments_206404.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-11-20T16:57:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15339#issuecomment-206404",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_206405.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This is true on Windows 7+ at least, same problem for any exe whose name contains patch/install/update...\n+This used to be true on Windows 7+ at least, same problem for any exe whose name contains patch/install/update...\n \n As this one happens during gf2x building process and Windows is particularly picky about timestamps of the exe and the corresponding manifest file, this will not be completely trivial to fix.\n i.e. we have to patch gf2x build system (or convince them to change the exe name... I'll report there shortly).\n```\n",
    "created_at": "2014-11-20T16:57:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15339#issuecomment-206405",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This is true on Windows 7+ at least, same problem for any exe whose name contains patch/install/update...
+This used to be true on Windows 7+ at least, same problem for any exe whose name contains patch/install/update...
 
 As this one happens during gf2x building process and Windows is particularly picky about timestamps of the exe and the corresponding manifest file, this will not be completely trivial to fix.
 i.e. we have to patch gf2x build system (or convince them to change the exe name... I'll report there shortly).
```




---

archive/issue_comments_206406.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-11-28T18:40:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15339#issuecomment-206406",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_044489.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-28T18:40:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15339#event-44489"
}
```



---

archive/issue_comments_206407.json:
```json
{
    "body": "<a id='comment:14'></a>Strange, it now fails for me on Windows 7 64 bits under Cygwin32, but is ok under Cygwin64...\nAnd I re checked Travis log and there was no problem even if he was under Windows ? 64 bits under Cygwin32 !!!",
    "created_at": "2015-01-15T22:11:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15339#issuecomment-206407",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:14'></a>Strange, it now fails for me on Windows 7 64 bits under Cygwin32, but is ok under Cygwin64...
And I re checked Travis log and there was no problem even if he was under Windows ? 64 bits under Cygwin32 !!!



---

archive/issue_comments_206408.json:
```json
{
    "body": "<a id='comment:15'></a>It also fails for me in exactly the same situation (windows 7 64 bits, works with cygwin64, fails with cygwin32). Compiling as administrator solves the problem, but it is not very serious...",
    "created_at": "2015-01-17T20:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15339#issuecomment-206408",
    "user": "https://trac.sagemath.org/admin/accounts/users/gouezel"
}
```

<a id='comment:15'></a>It also fails for me in exactly the same situation (windows 7 64 bits, works with cygwin64, fails with cygwin32). Compiling as administrator solves the problem, but it is not very serious...



---

archive/issue_comments_206409.json:
```json
{
    "body": "<a id='comment:16'></a>A more and less serious solution is to `export SAGE_TUNE_GF2X=no`, I'll let you guess what it does...",
    "created_at": "2015-01-17T20:13:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15339#issuecomment-206409",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:16'></a>A more and less serious solution is to `export SAGE_TUNE_GF2X=no`, I'll let you guess what it does...



---

archive/issue_comments_206410.json:
```json
{
    "body": "<a id='comment:17'></a>You can also disable UAC on Windows.\n\nWhatsoever, we should maybe try to craft a manifest file for update-threshold.exe.",
    "created_at": "2015-01-17T20:20:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15339#issuecomment-206410",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:17'></a>You can also disable UAC on Windows.

Whatsoever, we should maybe try to craft a manifest file for update-threshold.exe.



---

archive/issue_comments_206411.json:
```json
{
    "body": "<a id='comment:18'></a>Follow up at #17861.",
    "created_at": "2015-02-26T14:01:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15339",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15339#issuecomment-206411",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:18'></a>Follow up at #17861.
