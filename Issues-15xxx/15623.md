# Issue 15623: Immutable graph backend for Posets

archive/issues_015386.json:
```json
{
    "body": "At long, long last, it passes all tests `:-P`\n\nThank you Simon for your help with all this !!!\n\nNathann\n\n**CC:**  @simon-king-jena\n\n**Branch:** [u/SimonKing/ticket/15623](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/ticket/15623)\n\n**Commit:** [c5b6d591982ef3e8d5902ecd9f7bfbd05cbb85a4](https://github.com/sagemath/sagetrac-mirror/commit/c5b6d591982ef3e8d5902ecd9f7bfbd05cbb85a4)\n\n**Reviewer:** Simon King\n\n**Author:** Nathann Cohen\n\n**Dependencies:** #15622\n\nIssue created by migration from https://trac.sagemath.org/ticket/15623\n\n",
    "closed_at": "2014-02-01T19:39:14Z",
    "created_at": "2014-01-02T21:36:09Z",
    "labels": [
        "component: combinatorics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "title": "Immutable graph backend for Posets",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/15623",
    "user": "https://github.com/nathanncohen"
}
```
At long, long last, it passes all tests `:-P`

Thank you Simon for your help with all this !!!

Nathann

**CC:**  @simon-king-jena

**Branch:** [u/SimonKing/ticket/15623](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/ticket/15623)

**Commit:** [c5b6d591982ef3e8d5902ecd9f7bfbd05cbb85a4](https://github.com/sagemath/sagetrac-mirror/commit/c5b6d591982ef3e8d5902ecd9f7bfbd05cbb85a4)

**Reviewer:** Simon King

**Author:** Nathann Cohen

**Dependencies:** #15622

Issue created by migration from https://trac.sagemath.org/ticket/15623





---

archive/issue_events_138499.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-02T21:37:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138499"
}
```



---

archive/issue_comments_198580.json:
```json
{
    "body": "**Commit:** [b6ed0387bb16a0102cc2792494d120df7b0fe292](https://github.com/sagemath/sagetrac-mirror/commit/b6ed0387bb16a0102cc2792494d120df7b0fe292)",
    "created_at": "2014-01-03T11:16:20Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198580",
    "user": "https://github.com/nathanncohen"
}
```

**Commit:** [b6ed0387bb16a0102cc2792494d120df7b0fe292](https://github.com/sagemath/sagetrac-mirror/commit/b6ed0387bb16a0102cc2792494d120df7b0fe292)



---

archive/issue_comments_198581.json:
```json
{
    "body": "**Branch:** [u/ncohen/15623](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/15623)",
    "created_at": "2014-01-03T11:16:20Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198581",
    "user": "https://github.com/nathanncohen"
}
```

**Branch:** [u/ncohen/15623](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/15623)



---

archive/issue_comments_198582.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6ed038\">b6ed038</a></td><td><code>trac #15623: Immutable graph backend for Posets</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f57805\">0f57805</a></td><td><code>trac #15622: Immutable graphs must not be relabeled</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c441178\">c441178</a></td><td><code>trac #15619: bug in the former definition; exception to avoid it in the future</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0229348\">0229348</a></td><td><code>trac #15619: Pickling of immutable graphs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7860f39\">7860f39</a></td><td><code>trac #15603: \"immutable=True\" for Graph/Digraph `__init__` and copy()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2525d22\">2525d22</a></td><td><code>Trac 15278: Fix syntax error in doc test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcf9e30\">fcf9e30</a></td><td><code>Trac 15278: Only graphs that use the static backend are identical with their copy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fc9c94\">8fc9c94</a></td><td><code>Merge branch 'develop' into ticket/15278</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/51d6328\">51d6328</a></td><td><code>Trac 15278: Error messages explain how to create (im)mutable graph copy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2fc8a77\">2fc8a77</a></td><td><code>Make digraphs using the static backend immutable and hashable</code></td></tr></table>\n",
    "created_at": "2014-01-03T11:16:20Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198582",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:2'></a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6ed038">b6ed038</a></td><td><code>trac #15623: Immutable graph backend for Posets</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f57805">0f57805</a></td><td><code>trac #15622: Immutable graphs must not be relabeled</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c441178">c441178</a></td><td><code>trac #15619: bug in the former definition; exception to avoid it in the future</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0229348">0229348</a></td><td><code>trac #15619: Pickling of immutable graphs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7860f39">7860f39</a></td><td><code>trac #15603: "immutable=True" for Graph/Digraph `__init__` and copy()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2525d22">2525d22</a></td><td><code>Trac 15278: Fix syntax error in doc test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcf9e30">fcf9e30</a></td><td><code>Trac 15278: Only graphs that use the static backend are identical with their copy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fc9c94">8fc9c94</a></td><td><code>Merge branch 'develop' into ticket/15278</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/51d6328">51d6328</a></td><td><code>Trac 15278: Error messages explain how to create (im)mutable graph copy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2fc8a77">2fc8a77</a></td><td><code>Make digraphs using the static backend immutable and hashable</code></td></tr></table>




---

archive/issue_comments_198583.json:
```json
{
    "body": "**Work_Issues:** doctest error related with hash of mutable graphs",
    "created_at": "2014-01-03T23:22:33Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198583",
    "user": "https://github.com/simon-king-jena"
}
```

**Work_Issues:** doctest error related with hash of mutable graphs



---

archive/issue_events_138500.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-01-03T23:22:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138500"
}
```



---

archive/issue_events_138501.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-01-03T23:22:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138501"
}
```



---

archive/issue_comments_198584.json:
```json
{
    "body": "<a id='comment:3'></a>\nMerging all the dependencies (there are review commits that are not part of your branch), I get this error:\n\n```\nsage -t src/sage/combinat/posets/posets.py\n**********************************************************************\nFile \"src/sage/combinat/posets/posets.py\", line 1488, in sage.combinat.posets.posets.FinitePoset.to_graph\nFailed example:\n    hash(G) == hash(G)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest sage.combinat.posets.posets.FinitePoset.to_graph[4]>\", line 1, in <module>\n        hash(G) == hash(G)\n      File \"cachefunc.pyx\", line 1790, in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (sage/misc/cachefunc.c:9772)\n      File \"/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py\", line 496, in __hash__\n        raise TypeError(\"This graph is mutable, and thus not hashable. \"\n    TypeError: This graph is mutable, and thus not hashable. Create an immutable copy by `g.copy(data_structure='static_sparse')`\n**********************************************************************\n1 item had failures:\n   1 of   6 in sage.combinat.posets.posets.FinitePoset.to_graph\n    [837 tests, 1 failure, 11.73 s]\n```\nI am wondering: Shouldn't the error message say `g.copy(immutable=False)`? What thing did I forgot to merge?\n\nBut in any case, this error needs fixing. I'll see what I can do about it.",
    "created_at": "2014-01-03T23:22:33Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198584",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:3'></a>
Merging all the dependencies (there are review commits that are not part of your branch), I get this error:

```
sage -t src/sage/combinat/posets/posets.py
**********************************************************************
File "src/sage/combinat/posets/posets.py", line 1488, in sage.combinat.posets.posets.FinitePoset.to_graph
Failed example:
    hash(G) == hash(G)
Exception raised:
    Traceback (most recent call last):
      File "/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest sage.combinat.posets.posets.FinitePoset.to_graph[4]>", line 1, in <module>
        hash(G) == hash(G)
      File "cachefunc.pyx", line 1790, in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (sage/misc/cachefunc.c:9772)
      File "/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 496, in __hash__
        raise TypeError("This graph is mutable, and thus not hashable. "
    TypeError: This graph is mutable, and thus not hashable. Create an immutable copy by `g.copy(data_structure='static_sparse')`
**********************************************************************
1 item had failures:
   1 of   6 in sage.combinat.posets.posets.FinitePoset.to_graph
    [837 tests, 1 failure, 11.73 s]
```
I am wondering: Shouldn't the error message say `g.copy(immutable=False)`? What thing did I forgot to merge?

But in any case, this error needs fixing. I'll see what I can do about it.



---

archive/issue_comments_198585.json:
```json
{
    "body": "<a id='comment:4'></a>\nAha. This is about a function that returns\n\n```\n        from sage.graphs.graph import Graph\n        G = Graph(self.hasse_diagram())\n        return G\n```\nI suppose this should be\n\n```\n        from sage.graphs.graph import Graph\n        return Graph(self.hasse_diagram(), immutable=True)\n```\ninstead. The fact that the doctest is about hash shows that we want an immutable graph.",
    "created_at": "2014-01-03T23:25:19Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198585",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:4'></a>
Aha. This is about a function that returns

```
        from sage.graphs.graph import Graph
        G = Graph(self.hasse_diagram())
        return G
```
I suppose this should be

```
        from sage.graphs.graph import Graph
        return Graph(self.hasse_diagram(), immutable=True)
```
instead. The fact that the doctest is about hash shows that we want an immutable graph.



---

archive/issue_comments_198586.json:
```json
{
    "body": "**Changing branch** from \"[u/ncohen/15623](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/15623)\" to \"[u/SimonKing/ticket/15623](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/ticket/15623)\".",
    "created_at": "2014-01-04T00:00:37Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198586",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing branch** from "[u/ncohen/15623](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/15623)" to "[u/SimonKing/ticket/15623](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/ticket/15623)".



---

archive/issue_comments_198587.json:
```json
{
    "body": "<a id='comment:6'></a>\nWith the review commit I just added, all tests should pass. \"Should\". I'll hopefully finish review tomorrow. PS: Again I had to change the commit field manually.",
    "created_at": "2014-01-04T00:03:31Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198587",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:6'></a>
With the review commit I just added, all tests should pass. "Should". I'll hopefully finish review tomorrow. PS: Again I had to change the commit field manually.



---

archive/issue_events_138502.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-01-04T00:03:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138502"
}
```



---

archive/issue_events_138503.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-01-04T00:03:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138503"
}
```



---

archive/issue_comments_198588.json:
```json
{
    "body": "**Changing commit** from \"[b6ed0387bb16a0102cc2792494d120df7b0fe292](https://github.com/sagemath/sagetrac-mirror/commit/b6ed0387bb16a0102cc2792494d120df7b0fe292)\" to \"[ee8c39521a203a53876e435e271e59c38a4ca429](https://github.com/sagemath/sagetrac-mirror/commit/ee8c39521a203a53876e435e271e59c38a4ca429)\".",
    "created_at": "2014-01-04T00:03:31Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198588",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing commit** from "[b6ed0387bb16a0102cc2792494d120df7b0fe292](https://github.com/sagemath/sagetrac-mirror/commit/b6ed0387bb16a0102cc2792494d120df7b0fe292)" to "[ee8c39521a203a53876e435e271e59c38a4ca429](https://github.com/sagemath/sagetrac-mirror/commit/ee8c39521a203a53876e435e271e59c38a4ca429)".



---

archive/issue_comments_198589.json:
```json
{
    "body": "<a id='comment:7'></a>\nPlease resolve the conflict with your new commit in #15622.",
    "created_at": "2014-01-06T15:59:01Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198589",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:7'></a>
Please resolve the conflict with your new commit in #15622.



---

archive/issue_events_138504.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-01-06T15:59:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138504"
}
```



---

archive/issue_events_138505.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-01-06T15:59:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138505"
}
```



---

archive/issue_comments_198590.json:
```json
{
    "body": "<a id='comment:8'></a>\nDone !\n\nNathann",
    "created_at": "2014-01-07T08:10:38Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198590",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'></a>
Done !

Nathann



---

archive/issue_events_138506.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-07T08:10:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138506"
}
```



---

archive/issue_events_138507.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-07T08:10:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138507"
}
```



---

archive/issue_comments_198591.json:
```json
{
    "body": "**Changing commit** from \"[ee8c39521a203a53876e435e271e59c38a4ca429](https://github.com/sagemath/sagetrac-mirror/commit/ee8c39521a203a53876e435e271e59c38a4ca429)\" to \"\".",
    "created_at": "2014-01-07T08:10:38Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198591",
    "user": "https://github.com/nathanncohen"
}
```

**Changing commit** from "[ee8c39521a203a53876e435e271e59c38a4ca429](https://github.com/sagemath/sagetrac-mirror/commit/ee8c39521a203a53876e435e271e59c38a4ca429)" to "".



---

archive/issue_comments_198592.json:
```json
{
    "body": "**Changing branch** from \"[u/SimonKing/ticket/15623](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/ticket/15623)\" to \"[public/15623](https://github.com/sagemath/sagetrac-mirror/tree/public/15623)\".",
    "created_at": "2014-01-07T08:10:38Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198592",
    "user": "https://github.com/nathanncohen"
}
```

**Changing branch** from "[u/SimonKing/ticket/15623](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/ticket/15623)" to "[public/15623](https://github.com/sagemath/sagetrac-mirror/tree/public/15623)".



---

archive/issue_comments_198593.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f578050749912c5f5c66824cf50475aa74c0f23\">0f57805</a></td><td><code>trac #15622: Immutable graphs must not be relabeled</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6ed0387bb16a0102cc2792494d120df7b0fe292\">b6ed038</a></td><td><code>trac #15623: Immutable graph backend for Posets</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee8c39521a203a53876e435e271e59c38a4ca429\">ee8c395</a></td><td><code>Trac 15623: Let to_graph return an immutable graph</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dcb8a0bae89c392a79d2dfcf149aaba8a8e68dd0\">dcb8a0b</a></td><td><code>trac #15623: rebase on 6.1.beta4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/529f7850c111c19522a8f18f9ce829e1e3a5b769\">529f785</a></td><td><code>trac #15622: More informative exception message</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2245c020cd80a1d248cf0a453270f4dbd9d12f36\">2245c02</a></td><td><code>Trac 15622: Review commit, fixing a misspelled doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60ad5755c94dd61d4573a623e3b0c5fe70020d0a\">60ad575</a></td><td><code>trac #15622: Rebase on 6.1.beta3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6398780eca28da56527b3360d5fd597308517db9\">6398780</a></td><td><code>trac #15622: bugfix before #15623 gets merged</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3531566070dbda71deb0864bf8bd86b4ee22960f\">3531566</a></td><td><code>trac #15623: Rebase on updated #15622</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95cecd153d53a0666a3f1814831efc5cb15cb516\">95cecd1</a></td><td><code>trac #15623: Removing the hack from #15622, update a variable's name</code></td></tr></table>\n",
    "created_at": "2014-01-07T08:10:55Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198593",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f578050749912c5f5c66824cf50475aa74c0f23">0f57805</a></td><td><code>trac #15622: Immutable graphs must not be relabeled</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6ed0387bb16a0102cc2792494d120df7b0fe292">b6ed038</a></td><td><code>trac #15623: Immutable graph backend for Posets</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee8c39521a203a53876e435e271e59c38a4ca429">ee8c395</a></td><td><code>Trac 15623: Let to_graph return an immutable graph</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dcb8a0bae89c392a79d2dfcf149aaba8a8e68dd0">dcb8a0b</a></td><td><code>trac #15623: rebase on 6.1.beta4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/529f7850c111c19522a8f18f9ce829e1e3a5b769">529f785</a></td><td><code>trac #15622: More informative exception message</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2245c020cd80a1d248cf0a453270f4dbd9d12f36">2245c02</a></td><td><code>Trac 15622: Review commit, fixing a misspelled doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60ad5755c94dd61d4573a623e3b0c5fe70020d0a">60ad575</a></td><td><code>trac #15622: Rebase on 6.1.beta3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6398780eca28da56527b3360d5fd597308517db9">6398780</a></td><td><code>trac #15622: bugfix before #15623 gets merged</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3531566070dbda71deb0864bf8bd86b4ee22960f">3531566</a></td><td><code>trac #15623: Rebase on updated #15622</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95cecd153d53a0666a3f1814831efc5cb15cb516">95cecd1</a></td><td><code>trac #15623: Removing the hack from #15622, update a variable's name</code></td></tr></table>




---

archive/issue_comments_198594.json:
```json
{
    "body": "**Commit:** [95cecd153d53a0666a3f1814831efc5cb15cb516](https://github.com/sagemath/sagetrac-mirror/commit/95cecd153d53a0666a3f1814831efc5cb15cb516)",
    "created_at": "2014-01-07T08:10:55Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198594",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [95cecd153d53a0666a3f1814831efc5cb15cb516](https://github.com/sagemath/sagetrac-mirror/commit/95cecd153d53a0666a3f1814831efc5cb15cb516)



---

archive/issue_comments_198595.json:
```json
{
    "body": "<a id='comment:10'></a>\nI don't know how THIS could be read without the ticket numbers `:-P`",
    "created_at": "2014-01-07T08:11:47Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198595",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>
I don't know how THIS could be read without the ticket numbers `:-P`



---

archive/issue_comments_198596.json:
```json
{
    "body": "<a id='comment:11'></a>\nThe merge was successful (looking at the code), and all tests pass.",
    "created_at": "2014-01-07T22:49:00Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198596",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:11'></a>
The merge was successful (looking at the code), and all tests pass.



---

archive/issue_events_138508.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-01-07T22:49:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138508"
}
```



---

archive/issue_events_138509.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-01-07T22:49:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138509"
}
```



---

archive/issue_comments_198597.json:
```json
{
    "body": "**Reviewer:** Simon King",
    "created_at": "2014-01-07T22:49:00Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198597",
    "user": "https://github.com/simon-king-jena"
}
```

**Reviewer:** Simon King



---

archive/issue_comments_198598.json:
```json
{
    "body": "<a id='comment:12'></a>\nWow. Done `:-P`\n\nThaaaaaaaaaaank you very much Simon for all these reviews !\n\nNathann",
    "created_at": "2014-01-07T22:49:46Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198598",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'></a>
Wow. Done `:-P`

Thaaaaaaaaaaank you very much Simon for all these reviews !

Nathann



---

archive/issue_comments_198599.json:
```json
{
    "body": "<a id='comment:13'></a>\nArggggggg !! Simon !! Simon !! `:-P`\n\nIt's because of these comments on the Tutte thread `:-P`\n\nNathann",
    "created_at": "2014-01-07T22:54:14Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198599",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'></a>
Arggggggg !! Simon !! Simon !! `:-P`

It's because of these comments on the Tutte thread `:-P`

Nathann



---

archive/issue_comments_198600.json:
```json
{
    "body": "**Changing work_issues** from \"doctest error related with hash of mutable graphs\" to \"\".",
    "created_at": "2014-01-12T16:35:55Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198600",
    "user": "https://github.com/nathanncohen"
}
```

**Changing work_issues** from "doctest error related with hash of mutable graphs" to "".



---

archive/issue_events_138510.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-01-27T07:20:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138510"
}
```



---

archive/issue_events_138511.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-01-27T07:20:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138511"
}
```



---

archive/issue_comments_198601.json:
```json
{
    "body": "<a id='comment:15'></a>\nThis doesn't merge with the latest `develop` branch I'm afraid.",
    "created_at": "2014-01-27T07:20:18Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198601",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:15'></a>
This doesn't merge with the latest `develop` branch I'm afraid.



---

archive/issue_comments_198602.json:
```json
{
    "body": "**Changing branch** from \"[public/15623](https://github.com/sagemath/sagetrac-mirror/tree/public/15623)\" to \"[u/SimonKing/ticket/15623](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/ticket/15623)\".",
    "created_at": "2014-01-27T10:50:14Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198602",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing branch** from "[public/15623](https://github.com/sagemath/sagetrac-mirror/tree/public/15623)" to "[u/SimonKing/ticket/15623](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/ticket/15623)".



---

archive/issue_comments_198603.json:
```json
{
    "body": "<a id='comment:17'></a>\nI attempted to merge the develop branch into the ticket branch. Nathann, could you check whether you think the merge was successful? I am running tests now. If it works, then I think it can be back to positive review\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dae53af8e9fbc5b8cbf7da3de2eae92e2e9c0d56\">dae53af</a></td><td><code>Merge branch 'develop' into ticket/15623</code></td></tr></table>\n",
    "created_at": "2014-01-27T10:52:10Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198603",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:17'></a>
I attempted to merge the develop branch into the ticket branch. Nathann, could you check whether you think the merge was successful? I am running tests now. If it works, then I think it can be back to positive review

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dae53af8e9fbc5b8cbf7da3de2eae92e2e9c0d56">dae53af</a></td><td><code>Merge branch 'develop' into ticket/15623</code></td></tr></table>




---

archive/issue_events_138512.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-01-27T10:52:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138512"
}
```



---

archive/issue_events_138513.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-01-27T10:52:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138513"
}
```



---

archive/issue_comments_198604.json:
```json
{
    "body": "**Changing commit** from \"[95cecd153d53a0666a3f1814831efc5cb15cb516](https://github.com/sagemath/sagetrac-mirror/commit/95cecd153d53a0666a3f1814831efc5cb15cb516)\" to \"[dae53af8e9fbc5b8cbf7da3de2eae92e2e9c0d56](https://github.com/sagemath/sagetrac-mirror/commit/dae53af8e9fbc5b8cbf7da3de2eae92e2e9c0d56)\".",
    "created_at": "2014-01-27T10:52:10Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198604",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing commit** from "[95cecd153d53a0666a3f1814831efc5cb15cb516](https://github.com/sagemath/sagetrac-mirror/commit/95cecd153d53a0666a3f1814831efc5cb15cb516)" to "[dae53af8e9fbc5b8cbf7da3de2eae92e2e9c0d56](https://github.com/sagemath/sagetrac-mirror/commit/dae53af8e9fbc5b8cbf7da3de2eae92e2e9c0d56)".



---

archive/issue_comments_198605.json:
```json
{
    "body": "<a id='comment:18'></a>\nArrgh. It seems I did wrong.\n\n```\nFile \"src/sage/graphs/generic_graph.py\", line 845, in sage.graphs.generic_graph.GenericGraph.?\nFailed example:\n    hash(H)   # random\nException raised:\n    Traceback (most recent call last):\n      File \"/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest sage.graphs.generic_graph.GenericGraph.?[32]>\", line 1, in <module>\n        hash(H)   # random\n      File \"cachefunc.pyx\", line 1790, in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (sage/misc/cachefunc.c:9772)\n      File \"/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py\", line 495, in __hash__\n        return hash((tuple(self.vertices()), tuple(self.edges())))\n      File \"/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py\", line 8770, in vertices\n        return sorted(list(self.vertex_iterator()), key=key)\n      File \"/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/combinat/posets/elements.py\", line 222, in __lt__\n        return self._cmp(other) == -1 or False\n      File \"/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/combinat/posets/elements.py\", line 155, in _cmp\n        return self.parent().compare_elements(self,other)\n      File \"/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/combinat/posets/posets.py\", line 1851, in compare_elements\n        elif self._hasse_diagram.is_less_than(j, i):\n      File \"/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/combinat/posets/hasse_diagram.py\", line 245, in is_less_than\n        return self.is_lequal(x,y)\n      File \"/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/combinat/posets/hasse_diagram.py\", line 219, in is_lequal\n        (i < j and j in self.breadth_first_search(i))\n      File \"/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py\", line 13335, in breadth_first_search\n        for v in self._backend.breadth_first_search(start, ignore_direction = ignore_direction):\n      File \"c_graph.pyx\", line 2636, in sage.graphs.base.c_graph.CGraphBackend.breadth_first_search (sage/graphs/base/c_graph.c:18478)\n      File \"c_graph.pyx\", line 3039, in sage.graphs.base.c_graph.Search_iterator.__init__ (sage/graphs/base/c_graph.c:20167)\n    AttributeError: 'StaticSparseBackend' object has no attribute 'vertex_ints'\n**********************************************************************\n1 item had failures:\n   1 of 307 in sage.graphs.generic_graph.GenericGraph.?\n    [2519 tests, 1 failure, 50.35 s]\n```",
    "created_at": "2014-01-27T11:17:20Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198605",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:18'></a>
Arrgh. It seems I did wrong.

```
File "src/sage/graphs/generic_graph.py", line 845, in sage.graphs.generic_graph.GenericGraph.?
Failed example:
    hash(H)   # random
Exception raised:
    Traceback (most recent call last):
      File "/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest sage.graphs.generic_graph.GenericGraph.?[32]>", line 1, in <module>
        hash(H)   # random
      File "cachefunc.pyx", line 1790, in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (sage/misc/cachefunc.c:9772)
      File "/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 495, in __hash__
        return hash((tuple(self.vertices()), tuple(self.edges())))
      File "/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 8770, in vertices
        return sorted(list(self.vertex_iterator()), key=key)
      File "/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/combinat/posets/elements.py", line 222, in __lt__
        return self._cmp(other) == -1 or False
      File "/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/combinat/posets/elements.py", line 155, in _cmp
        return self.parent().compare_elements(self,other)
      File "/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/combinat/posets/posets.py", line 1851, in compare_elements
        elif self._hasse_diagram.is_less_than(j, i):
      File "/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/combinat/posets/hasse_diagram.py", line 245, in is_less_than
        return self.is_lequal(x,y)
      File "/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/combinat/posets/hasse_diagram.py", line 219, in is_lequal
        (i < j and j in self.breadth_first_search(i))
      File "/home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 13335, in breadth_first_search
        for v in self._backend.breadth_first_search(start, ignore_direction = ignore_direction):
      File "c_graph.pyx", line 2636, in sage.graphs.base.c_graph.CGraphBackend.breadth_first_search (sage/graphs/base/c_graph.c:18478)
      File "c_graph.pyx", line 3039, in sage.graphs.base.c_graph.Search_iterator.__init__ (sage/graphs/base/c_graph.c:20167)
    AttributeError: 'StaticSparseBackend' object has no attribute 'vertex_ints'
**********************************************************************
1 item had failures:
   1 of 307 in sage.graphs.generic_graph.GenericGraph.?
    [2519 tests, 1 failure, 50.35 s]
```



---

archive/issue_comments_198606.json:
```json
{
    "body": "<a id='comment:19'></a>\nThere are more errors concerning the missing attribute 'vertex_ints'.\n\nNathann, do you have an idea what went wrong?",
    "created_at": "2014-01-27T11:34:29Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198606",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:19'></a>
There are more errors concerning the missing attribute 'vertex_ints'.

Nathann, do you have an idea what went wrong?



---

archive/issue_events_138514.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-01-27T11:34:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138514"
}
```



---

archive/issue_events_138515.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-01-27T11:34:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138515"
}
```



---

archive/issue_comments_198607.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5b6d591982ef3e8d5902ecd9f7bfbd05cbb85a4\">c5b6d59</a></td><td><code>Re-insert a bit of code that had been erroneously deleted in the previous merge commit</code></td></tr></table>\n",
    "created_at": "2014-01-27T11:53:20Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198607",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5b6d591982ef3e8d5902ecd9f7bfbd05cbb85a4">c5b6d59</a></td><td><code>Re-insert a bit of code that had been erroneously deleted in the previous merge commit</code></td></tr></table>




---

archive/issue_comments_198608.json:
```json
{
    "body": "**Changing commit** from \"[dae53af8e9fbc5b8cbf7da3de2eae92e2e9c0d56](https://github.com/sagemath/sagetrac-mirror/commit/dae53af8e9fbc5b8cbf7da3de2eae92e2e9c0d56)\" to \"[c5b6d591982ef3e8d5902ecd9f7bfbd05cbb85a4](https://github.com/sagemath/sagetrac-mirror/commit/c5b6d591982ef3e8d5902ecd9f7bfbd05cbb85a4)\".",
    "created_at": "2014-01-27T11:53:20Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198608",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[dae53af8e9fbc5b8cbf7da3de2eae92e2e9c0d56](https://github.com/sagemath/sagetrac-mirror/commit/dae53af8e9fbc5b8cbf7da3de2eae92e2e9c0d56)" to "[c5b6d591982ef3e8d5902ecd9f7bfbd05cbb85a4](https://github.com/sagemath/sagetrac-mirror/commit/c5b6d591982ef3e8d5902ecd9f7bfbd05cbb85a4)".



---

archive/issue_comments_198609.json:
```json
{
    "body": "<a id='comment:22'></a>\nAhaaaa! It seems that I did wrong when merging! Namely, I have removed the vertex_ints attribute.\n\nIn a second commit, I re-introduced it. Well, the joy of git. I don't dare to amend the merge commit and rather add an ugly second commit on top of a wrong first commit `:-P`\n\nAt least one of the failing doctests is now working. So, needs review again, and since I am the reviewer, I suppose I can revert to positive review as soon as `make ptest` passes for me!",
    "created_at": "2014-01-27T11:56:53Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198609",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:22'></a>
Ahaaaa! It seems that I did wrong when merging! Namely, I have removed the vertex_ints attribute.

In a second commit, I re-introduced it. Well, the joy of git. I don't dare to amend the merge commit and rather add an ugly second commit on top of a wrong first commit `:-P`

At least one of the failing doctests is now working. So, needs review again, and since I am the reviewer, I suppose I can revert to positive review as soon as `make ptest` passes for me!



---

archive/issue_events_138516.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-01-27T11:56:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138516"
}
```



---

archive/issue_events_138517.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-01-27T11:56:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138517"
}
```



---

archive/issue_comments_198610.json:
```json
{
    "body": "<a id='comment:23'></a>\n`make ptest` does pass, hence, the merge seems to be successful, and hopefully I am entitled to revert to positive review.",
    "created_at": "2014-01-27T13:18:12Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198610",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:23'></a>
`make ptest` does pass, hence, the merge seems to be successful, and hopefully I am entitled to revert to positive review.



---

archive/issue_events_138518.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-01-27T13:18:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138518"
}
```



---

archive/issue_events_138519.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-01-27T13:18:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138519"
}
```



---

archive/issue_comments_198611.json:
```json
{
    "body": "<a id='comment:24'></a>\nLooks good to me, but I wasn't able to see directly from git how the conflicts were manually solved. So it works, but it's a bit scary that there does not seem to be a way to see that `O_o`\n\nThank you Simon for doing this ! I was away for 4 days, and rather unreachable in cold cold Hungary. I was there because I had promised a pretty girl a braid of dried chili, and a friend told me they had nice ones in Hungary `:-P`\n\nNathann",
    "created_at": "2014-01-28T14:02:37Z",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15623#issuecomment-198611",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'></a>
Looks good to me, but I wasn't able to see directly from git how the conflicts were manually solved. So it works, but it's a bit scary that there does not seem to be a way to see that `O_o`

Thank you Simon for doing this ! I was away for 4 days, and rather unreachable in cold cold Hungary. I was there because I had promised a pretty girl a braid of dried chili, and a friend told me they had nice ones in Hungary `:-P`

Nathann



---

archive/issue_events_138520.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138520"
}
```



---

archive/issue_events_138521.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138521"
}
```



---

archive/issue_events_138522.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-01T19:39:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138522"
}
```



---

archive/issue_events_138523.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-01T19:39:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15623",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15623#event-138523"
}
```
