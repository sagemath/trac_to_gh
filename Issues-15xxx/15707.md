# Issue 15707: conversion of power series with zero bigoh to polynomials

archive/issues_015470.json:
```json
{
    "body": "\n```\nsage: R.<x> = PowerSeriesRing(ZZ)\nsage: P.<x> = ZZ[]\nsage: r=R([1,1,1,1])\nsage: r\n1 + x + x^2 + x^3\nsage: P(r)\nTypeError: unable to coerce <type 'sage.rings.power_series_poly.PowerSeries_poly'> to an integer\n```\n\nSage power series can have zero bigoh term, and such series are identical to polynomials, so coercion should be no problem.\n\nIf we should allow zero bigoh in power series is another matter.\n\n\nAssignee: @rwst\n\nReviewer: Travis Scrimshaw\n\nAuthor: Ralf Stephan\n\nBranch: u/rws/ticket/15707\n\nCommit: 4ea496344014a2f3d50779e7f53e5f91d5150e67\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/15707\n\n",
    "closed_at": "2014-02-03T22:58:28Z",
    "created_at": "2014-01-22T11:34:31Z",
    "labels": [
        "component: algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "conversion of power series with zero bigoh to polynomials",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15707",
    "user": "https://github.com/rwst"
}
```

```
sage: R.<x> = PowerSeriesRing(ZZ)
sage: P.<x> = ZZ[]
sage: r=R([1,1,1,1])
sage: r
1 + x + x^2 + x^3
sage: P(r)
TypeError: unable to coerce <type 'sage.rings.power_series_poly.PowerSeries_poly'> to an integer
```

Sage power series can have zero bigoh term, and such series are identical to polynomials, so coercion should be no problem.

If we should allow zero bigoh in power series is another matter.


Assignee: @rwst

Reviewer: Travis Scrimshaw

Author: Ralf Stephan

Branch: u/rws/ticket/15707

Commit: 4ea496344014a2f3d50779e7f53e5f91d5150e67

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/15707





---

archive/issue_comments_249535.json:
```json
{
    "body": "Set assignee to @rwst.",
    "created_at": "2014-01-22T16:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15707#issuecomment-249535",
    "user": "https://github.com/rwst"
}
```

Set assignee to @rwst.



---

archive/issue_comments_249536.json:
```json
{
    "body": "<a id='comment:2'></a>\nThis should be fixed, probably also for series with finite precision, i.e. that do have an O(x<sup>n</sup>) term.  There is already the method `r.polynomial()` which returns exactly the desired result; we just have to tell `P(r)` to use this.",
    "created_at": "2014-01-22T17:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15707#issuecomment-249536",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:2'></a>
This should be fixed, probably also for series with finite precision, i.e. that do have an O(x<sup>n</sup>) term.  There is already the method `r.polynomial()` which returns exactly the desired result; we just have to tell `P(r)` to use this.



---

archive/issue_events_060361.json:
```json
{
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "label": "component: algebra",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15707#event-60361"
}
```



---

archive/issue_events_060362.json:
```json
{
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "label": "component: coercion",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15707#event-60362"
}
```



---

archive/issue_comments_249537.json:
```json
{
    "body": "<a id='comment:4'></a>\nNote that this is a conversion problem, not a coercion problem. There should be no coercion from `PowerSeriesRing` to `PolynomialRing` at all.\nIn fact, it may even be acceptable to let *conversion* from PowerSeries` to `Polynomials` simply be truncation: conversion is allowed to just be best effort (this is all completely compatible with Peter's comment above).",
    "created_at": "2014-01-22T19:00:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15707#issuecomment-249537",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:4'></a>
Note that this is a conversion problem, not a coercion problem. There should be no coercion from `PowerSeriesRing` to `PolynomialRing` at all.
In fact, it may even be acceptable to let *conversion* from PowerSeries` to `Polynomials` simply be truncation: conversion is allowed to just be best effort (this is all completely compatible with Peter's comment above).



---

archive/issue_events_060363.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "rename": {
        "from": "coercion of power series with zero bigoh to polynomials",
        "to": "conversion of power series with zero bigoh to polynomials"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15707#event-60363"
}
```



---

archive/issue_events_060364.json:
```json
{
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "label": "component: coercion",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15707#event-60364"
}
```



---

archive/issue_events_060365.json:
```json
{
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "label": "component: algebra",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15707#event-60365"
}
```



---

archive/issue_comments_249538.json:
```json
{
    "body": "<a id='comment:7'></a>\nAgree, after sleeping over it and rereading the documentation.",
    "created_at": "2014-01-23T07:20:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15707#issuecomment-249538",
    "user": "https://github.com/rwst"
}
```

<a id='comment:7'></a>
Agree, after sleeping over it and rereading the documentation.



---

archive/issue_comments_249539.json:
```json
{
    "body": "Changing branch from \"\" to \"u/rws/ticket/15707\"",
    "created_at": "2014-01-23T08:51:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15707#issuecomment-249539",
    "user": "https://github.com/rwst"
}
```

Changing branch from "" to "u/rws/ticket/15707"



---

archive/issue_comments_249540.json:
```json
{
    "body": "Changing commit from \"\" to \"22058aaaf0d20fa767782baad05fe659fac3f6cb\"",
    "created_at": "2014-01-23T09:15:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15707#issuecomment-249540",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "22058aaaf0d20fa767782baad05fe659fac3f6cb"



---

archive/issue_comments_249541.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|\n|[22058aa](https://github.com/sagemath/sagetrac-mirror/commit/22058aaaf0d20fa767782baad05fe659fac3f6cb)|`Trac #15707: convert power series to polynomial by truncation`|",
    "created_at": "2014-01-23T09:15:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15707#issuecomment-249541",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|
|[22058aa](https://github.com/sagemath/sagetrac-mirror/commit/22058aaaf0d20fa767782baad05fe659fac3f6cb)|`Trac #15707: convert power series to polynomial by truncation`|



---

archive/issue_comments_249542.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-01-23T09:16:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15707#issuecomment-249542",
    "user": "https://github.com/rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_249543.json:
```json
{
    "body": "<a id='comment:11'></a>\nI agree with this as well (and it's coherent with what we do with real fields to `QQ`), but could you add an doctest showing this is fixed?\n\nThanks,\n\nTravis",
    "created_at": "2014-01-23T16:07:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15707#issuecomment-249543",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>
I agree with this as well (and it's coherent with what we do with real fields to `QQ`), but could you add an doctest showing this is fixed?

Thanks,

Travis



---

archive/issue_comments_249544.json:
```json
{
    "body": "Changing commit from \"22058aaaf0d20fa767782baad05fe659fac3f6cb\" to \"4ea496344014a2f3d50779e7f53e5f91d5150e67\"",
    "created_at": "2014-01-24T07:31:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15707#issuecomment-249544",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "22058aaaf0d20fa767782baad05fe659fac3f6cb" to "4ea496344014a2f3d50779e7f53e5f91d5150e67"



---

archive/issue_comments_249545.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[4ea4963](https://github.com/sagemath/sagetrac-mirror/commit/4ea496344014a2f3d50779e7f53e5f91d5150e67)|`trac #15707: doctest`|",
    "created_at": "2014-01-24T07:31:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15707#issuecomment-249545",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                      |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[4ea4963](https://github.com/sagemath/sagetrac-mirror/commit/4ea496344014a2f3d50779e7f53e5f91d5150e67)|`trac #15707: doctest`|



---

archive/issue_comments_249546.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2014-01-25T18:34:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15707#issuecomment-249546",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_249547.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-01-25T18:34:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15707#issuecomment-249547",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_249548.json:
```json
{
    "body": "<a id='comment:13'></a>\nLGTM",
    "created_at": "2014-01-25T18:34:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15707#issuecomment-249548",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>
LGTM



---

archive/issue_comments_249549.json:
```json
{
    "body": "Changing author from \"\" to \"Ralf Stephan\"",
    "created_at": "2014-01-25T18:34:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15707#issuecomment-249549",
    "user": "https://github.com/tscrim"
}
```

Changing author from "" to "Ralf Stephan"



---

archive/issue_events_060366.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15707#event-60366"
}
```



---

archive/issue_comments_249550.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-02-03T22:58:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15707#issuecomment-249550",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_060367.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-03T22:58:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15707",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15707#event-60367"
}
```
