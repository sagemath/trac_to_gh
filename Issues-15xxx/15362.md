# Issue 15362: regression in simplify_full

archive/issues_015125.json:
```json
{
    "assignees": [],
    "body": "In Sage 5.12:\n\n```\nsage: e=log(1/2*sqrt(2)*(sqrt(2) + 1)) + log(1/2*sqrt(2)*(sqrt(2) - 1))\nsage: e.simplify_full()\n-log(2)\nsage: (2*e).simplify_full()\n2*log(1/2*sqrt(2)*(sqrt(2) + 1)) + 2*log(1/2*sqrt(2)*(sqrt(2) - 1))\n```\nIn Sage 5.9 the last command gave instead:\n\n```\nsage: (2*e).simplify_full().simplify_full()\n2*log(sqrt(2) - 1) + 2*log(sqrt(2) + 1) - 2*log(2)\n```\nThis is related to #10983.\n\nCC:  @orlitzky\n\nReviewer: **Paul Zimmermann, Karl-Dieter Crisman**\n\nComponent: **calculus**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15362_\n\n",
    "closed_at": "2013-11-09T15:26:51Z",
    "created_at": "2013-11-06T15:28:05Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20calculus",
        "https://github.com/sagemath/sage/labels/duplicate"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "regression in simplify_full",
    "type": "issue",
    "updated_at": "2013-11-09T15:26:51Z",
    "url": "https://github.com/sagemath/sage/issues/15362",
    "user": "https://github.com/zimmermann6"
}
```
In Sage 5.12:

```
sage: e=log(1/2*sqrt(2)*(sqrt(2) + 1)) + log(1/2*sqrt(2)*(sqrt(2) - 1))
sage: e.simplify_full()
-log(2)
sage: (2*e).simplify_full()
2*log(1/2*sqrt(2)*(sqrt(2) + 1)) + 2*log(1/2*sqrt(2)*(sqrt(2) - 1))
```
In Sage 5.9 the last command gave instead:

```
sage: (2*e).simplify_full().simplify_full()
2*log(sqrt(2) - 1) + 2*log(sqrt(2) + 1) - 2*log(2)
```
This is related to #10983.

CC:  @orlitzky

Reviewer: **Paul Zimmermann, Karl-Dieter Crisman**

Component: **calculus**

_Issue created by migration from https://trac.sagemath.org/ticket/15362_





---

archive/issue_events_218552.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2013-11-06T15:28:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15362",
    "milestone_number": null,
    "milestone_title": "sage-5.13",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15362#event-218552"
}
```



---

archive/issue_events_218553.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2013-11-06T15:28:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15362",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20calculus",
    "label_color": "0000ff",
    "label_name": "c: calculus",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15362#event-218553"
}
```



---

archive/issue_events_218554.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2013-11-06T15:28:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15362",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15362#event-218554"
}
```



---

archive/issue_events_218555.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2013-11-06T15:28:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15362",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15362#event-218555"
}
```



---

archive/issue_comments_190620.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI assume this stems from #12737?  Just guessing.",
    "created_at": "2013-11-06T15:40:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15362",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15362#issuecomment-190620",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:1" align="right">comment:1</div>

I assume this stems from #12737?  Just guessing.



---

archive/issue_comments_190621.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nIndeed, in 5.12:\n\n```\nsage: (2*e).simplify_radical()\n-2*log(2) + 2*log(sqrt(2) + 1) + 2*log(sqrt(2) - 1)\n```\n(Note the slight Pynac-related, unimportant, reordering.)\n\nIf I recall correctly, Paul was one of the bigger voices behind removing `simplify_radical` from full simplification, so hopefully #10983 can just change their doctest here.",
    "created_at": "2013-11-06T15:43:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15362",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15362#issuecomment-190621",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">comment:2</div>

Indeed, in 5.12:

```
sage: (2*e).simplify_radical()
-2*log(2) + 2*log(sqrt(2) + 1) + 2*log(sqrt(2) - 1)
```
(Note the slight Pynac-related, unimportant, reordering.)

If I recall correctly, Paul was one of the bigger voices behind removing `simplify_radical` from full simplification, so hopefully #10983 can just change their doctest here.



---

archive/issue_comments_190622.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nreplacing `simplify_full` by `simplify_radical` indeed solves the two issues we have in #10983, and it is clearer.\n\nI thus propose to close that ticket.\n\nPaul",
    "created_at": "2013-11-06T16:42:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15362",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15362#issuecomment-190622",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:3" align="right">comment:3</div>

replacing `simplify_full` by `simplify_radical` indeed solves the two issues we have in #10983, and it is clearer.

I thus propose to close that ticket.

Paul



---

archive/issue_events_218556.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-11-06T21:09:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15362",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15362#event-218556"
}
```



---

archive/issue_comments_190623.json:
```json
{
    "body": "Reviewer: **Paul Zimmermann, Karl-Dieter Crisman**",
    "created_at": "2013-11-06T21:09:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15362",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15362#issuecomment-190623",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Paul Zimmermann, Karl-Dieter Crisman**



---

archive/issue_comments_190624.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nOkay, let's close this.",
    "created_at": "2013-11-06T21:09:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15362",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15362#issuecomment-190624",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:4" align="right">comment:4</div>

Okay, let's close this.



---

archive/issue_events_218557.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-11-06T21:09:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15362",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15362#event-218557"
}
```



---

archive/issue_events_218558.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-11-06T21:09:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15362",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15362#event-218558"
}
```



---

archive/issue_events_218559.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-11-06T21:09:41Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15362",
    "milestone_number": null,
    "milestone_title": "sage-5.13",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15362#event-218559"
}
```



---

archive/issue_events_218560.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-11-06T21:09:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15362",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15362#event-218560"
}
```



---

archive/issue_events_218561.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-11-06T21:09:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15362",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15362#event-218561"
}
```



---

archive/issue_events_218562.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-11-09T15:26:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15362",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15362#event-218562"
}
```



---

archive/issue_events_218563.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-11-09T15:26:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15362",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15362#event-218563"
}
```



---

archive/issue_events_218564.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-11-09T15:26:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15362",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15362#event-218564"
}
```
