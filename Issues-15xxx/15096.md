# Issue 15096: corrupted documentation (global fix)

archive/issues_014859.json:
```json
{
    "body": "In Sage 5.11:\n\n```\nsage: from sage.structure.proof.proof import get_flag\nsage: get_flag?\nType:       function\nString Form:<function get_flag at 0x17e0398>\nFile:       /home/zimmerma/Downloads/sage-5.11/local/lib/python2.7/site-packages/sage/structure/proof/proof.py\nDefinition: get_flag(t=None, subsystem=None)\nDocstring:\n   Used for easily determining the correct proof flag to use.\n\n   EXAMPLES:\n      sage: from sage.structure.proof.proof import get_flag sage:\n      get_flag(False) False sage: get_flag(True) True sage: get_flag()\n      True sage: proof.all(False) sage: get_flag() False\n```\nClearly the example part is corrupted.\n\nThis ticket aims to fix globally similar problems in the whole library.\n\n**Apply:** [This is the Trac macro *attachment:trac_15096_2.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_15096_2.patch-macro)\n\nReviewer: Paul Zimmermann, Minh Van Nguyen\n\nResolution: wontfix\n\nIssue created by migration from https://trac.sagemath.org/ticket/15096\n\n",
    "closed_at": "2013-10-30T14:19:18Z",
    "created_at": "2013-08-25T09:07:05Z",
    "labels": [
        "component: documentation",
        "trivial",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "corrupted documentation (global fix)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15096",
    "user": "https://github.com/zimmermann6"
}
```
In Sage 5.11:

```
sage: from sage.structure.proof.proof import get_flag
sage: get_flag?
Type:       function
String Form:<function get_flag at 0x17e0398>
File:       /home/zimmerma/Downloads/sage-5.11/local/lib/python2.7/site-packages/sage/structure/proof/proof.py
Definition: get_flag(t=None, subsystem=None)
Docstring:
   Used for easily determining the correct proof flag to use.

   EXAMPLES:
      sage: from sage.structure.proof.proof import get_flag sage:
      get_flag(False) False sage: get_flag(True) True sage: get_flag()
      True sage: proof.all(False) sage: get_flag() False
```
Clearly the example part is corrupted.

This ticket aims to fix globally similar problems in the whole library.

**Apply:** [This is the Trac macro *attachment:trac_15096_2.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_15096_2.patch-macro)

Reviewer: Paul Zimmermann, Minh Van Nguyen

Resolution: wontfix

Issue created by migration from https://trac.sagemath.org/ticket/15096





---

archive/issue_comments_202151.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,6 +17,8 @@\n ```\n Clearly the example part is corrupted.\n \n+This patch is a global fix for similar problems in the whole library.\n+\n Comment: 1\n \n Summary: corrupted documentation of get_flag\n``````\n",
    "created_at": "2013-08-25T10:19:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202151",
    "user": "https://github.com/zimmermann6"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,6 +17,8 @@
 ```
 Clearly the example part is corrupted.
 
+This patch is a global fix for similar problems in the whole library.
+
 Comment: 1
 
 Summary: corrupted documentation of get_flag
``````




---

archive/issue_comments_202152.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,23 @@\n+In Sage 5.11:\n \n+```\n+sage: from sage.structure.proof.proof import get_flag\n+sage: get_flag?\n+Type:       function\n+String Form:<function get_flag at 0x17e0398>\n+File:       /home/zimmerma/Downloads/sage-5.11/local/lib/python2.7/site-packages/sage/structure/proof/proof.py\n+Definition: get_flag(t=None, subsystem=None)\n+Docstring:\n+   Used for easily determining the correct proof flag to use.\n+\n+   EXAMPLES:\n+      sage: from sage.structure.proof.proof import get_flag sage:\n+      get_flag(False) False sage: get_flag(True) True sage: get_flag()\n+      True sage: proof.all(False) sage: get_flag() False\n+```\n+Clearly the example part is corrupted.\n+\n+This ticket aims to fix globally similar problems in the whole library.\n \n Comment: 1\n \n``````\n",
    "created_at": "2013-08-25T10:20:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202152",
    "user": "https://github.com/zimmermann6"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,23 @@
+In Sage 5.11:
 
+```
+sage: from sage.structure.proof.proof import get_flag
+sage: get_flag?
+Type:       function
+String Form:<function get_flag at 0x17e0398>
+File:       /home/zimmerma/Downloads/sage-5.11/local/lib/python2.7/site-packages/sage/structure/proof/proof.py
+Definition: get_flag(t=None, subsystem=None)
+Docstring:
+   Used for easily determining the correct proof flag to use.
+
+   EXAMPLES:
+      sage: from sage.structure.proof.proof import get_flag sage:
+      get_flag(False) False sage: get_flag(True) True sage: get_flag()
+      True sage: proof.all(False) sage: get_flag() False
+```
+Clearly the example part is corrupted.
+
+This ticket aims to fix globally similar problems in the whole library.
 
 Comment: 1
 
``````




---

archive/issue_comments_202153.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-08-25T10:23:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202153",
    "user": "https://github.com/zimmermann6"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_202154.json:
```json
{
    "body": "<a id='comment:3'></a>Attachment [trac_15096.patch](tarball://root/attachments/some-uuid/ticket15096/trac_15096.patch) by @zimmermann6 created at 2013-08-25 10:23:42\n\nin the attached patch, I've replaced everywhere:\n\n```\n   EXAMPLES:\n      sage:\n```\nby\n\n```\n   EXAMPLES::\n\n      sage:\n```\nPaul",
    "created_at": "2013-08-25T10:23:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202154",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:3'></a>Attachment [trac_15096.patch](tarball://root/attachments/some-uuid/ticket15096/trac_15096.patch) by @zimmermann6 created at 2013-08-25 10:23:42

in the attached patch, I've replaced everywhere:

```
   EXAMPLES:
      sage:
```
by

```
   EXAMPLES::

      sage:
```
Paul



---

archive/issue_comments_202155.json:
```json
{
    "body": "<a id='comment:4'></a>This is called a \"patchbomb\", and is not somethingone really wants to do. Patches are better when they are smaller and only touch a few files..",
    "created_at": "2013-08-25T16:54:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202155",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>This is called a "patchbomb", and is not somethingone really wants to do. Patches are better when they are smaller and only touch a few files..



---

archive/issue_comments_202156.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,25 @@\n+In Sage 5.11:\n \n+```\n+sage: from sage.structure.proof.proof import get_flag\n+sage: get_flag?\n+Type:       function\n+String Form:<function get_flag at 0x17e0398>\n+File:       /home/zimmerma/Downloads/sage-5.11/local/lib/python2.7/site-packages/sage/structure/proof/proof.py\n+Definition: get_flag(t=None, subsystem=None)\n+Docstring:\n+   Used for easily determining the correct proof flag to use.\n+\n+   EXAMPLES:\n+      sage: from sage.structure.proof.proof import get_flag sage:\n+      get_flag(False) False sage: get_flag(True) True sage: get_flag()\n+      True sage: proof.all(False) sage: get_flag() False\n+```\n+Clearly the example part is corrupted.\n+\n+This ticket aims to fix globally similar problems in the whole library.\n+\n+**Apply:** [This is the Trac macro *attachment:trac_15096.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_15096.patch-macro)\n \n Comment: 1\n \n``````\n",
    "created_at": "2013-08-26T07:48:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202156",
    "user": "https://github.com/zimmermann6"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,25 @@
+In Sage 5.11:
 
+```
+sage: from sage.structure.proof.proof import get_flag
+sage: get_flag?
+Type:       function
+String Form:<function get_flag at 0x17e0398>
+File:       /home/zimmerma/Downloads/sage-5.11/local/lib/python2.7/site-packages/sage/structure/proof/proof.py
+Definition: get_flag(t=None, subsystem=None)
+Docstring:
+   Used for easily determining the correct proof flag to use.
+
+   EXAMPLES:
+      sage: from sage.structure.proof.proof import get_flag sage:
+      get_flag(False) False sage: get_flag(True) True sage: get_flag()
+      True sage: proof.all(False) sage: get_flag() False
+```
+Clearly the example part is corrupted.
+
+This ticket aims to fix globally similar problems in the whole library.
+
+**Apply:** [This is the Trac macro *attachment:trac_15096.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_15096.patch-macro)
 
 Comment: 1
 
``````




---

archive/issue_comments_202157.json:
```json
{
    "body": "<a id='comment:6'></a>With Sage 5.13.beta0, I'm getting a bunch of failures with the patch:\n\n```\napplying trac_15096.patch\npatching file sage/logic/boolformula.py\nHunk #1 FAILED at 9\nHunk #2 FAILED at 151\nHunk #3 FAILED at 175\nHunk #4 FAILED at 192\nHunk #5 FAILED at 217\nHunk #6 FAILED at 242\nHunk #7 FAILED at 263\nHunk #8 FAILED at 284\nHunk #9 FAILED at 305\nHunk #10 FAILED at 326\nHunk #11 FAILED at 348\nHunk #12 FAILED at 369\nHunk #13 FAILED at 391\nHunk #14 FAILED at 428\nHunk #15 FAILED at 500\nHunk #16 FAILED at 521\nHunk #17 FAILED at 547\nHunk #18 FAILED at 573\nHunk #19 FAILED at 600\nHunk #20 FAILED at 685\nHunk #21 FAILED at 715\nHunk #22 FAILED at 775\nHunk #23 FAILED at 844\nHunk #24 FAILED at 881\nHunk #25 FAILED at 910\nHunk #26 FAILED at 955\nHunk #27 FAILED at 989\nHunk #28 FAILED at 1022\nHunk #29 FAILED at 1051\nHunk #30 FAILED at 1074\nHunk #31 FAILED at 1116\n31 out of 31 hunks FAILED -- saving rejects to file sage/logic/boolformula.py.rej\npatching file sage/logic/logic.py\nHunk #1 FAILED at 32\nHunk #2 FAILED at 66\nHunk #3 FAILED at 122\nHunk #4 FAILED at 177\n4 out of 4 hunks FAILED -- saving rejects to file sage/logic/logic.py.rej\npatching file sage/logic/logicparser.py\nHunk #1 FAILED at 4\nHunk #2 FAILED at 28\nHunk #3 FAILED at 52\nHunk #4 FAILED at 118\nHunk #5 FAILED at 149\nHunk #6 FAILED at 193\n6 out of 6 hunks FAILED -- saving rejects to file sage/logic/logicparser.py.rej\npatching file sage/misc/sage_input.py\nHunk #24 succeeded at 1707 with fuzz 2 (offset 465 lines).\nHunk #25 succeeded at 1758 with fuzz 2 (offset 489 lines).\nHunk #26 succeeded at 1777 with fuzz 2 (offset 491 lines).\nHunk #27 succeeded at 1794 with fuzz 2 (offset 489 lines).\nHunk #28 succeeded at 1883 with fuzz 2 (offset 537 lines).\nHunk #29 succeeded at 1983 with fuzz 2 (offset 616 lines).\nHunk #30 succeeded at 2069 with fuzz 2 (offset 677 lines).\nHunk #31 succeeded at 2110 with fuzz 2 (offset 701 lines).\nHunk #32 succeeded at 2128 with fuzz 2 (offset 697 lines).\nHunk #33 succeeded at 2147 with fuzz 2 (offset 697 lines).\nHunk #34 succeeded at 2213 with fuzz 2 (offset 746 lines).\nHunk #35 succeeded at 2230 with fuzz 2 (offset 748 lines).\nHunk #36 succeeded at 2247 with fuzz 2 (offset 750 lines).\nHunk #37 succeeded at 2300 with fuzz 2 (offset 788 lines).\nHunk #38 succeeded at 2317 with fuzz 2 (offset 790 lines).\nHunk #39 succeeded at 2332 with fuzz 2 (offset 788 lines).\nHunk #40 succeeded at 2441 with fuzz 2 (offset 878 lines).\nHunk #41 succeeded at 2457 with fuzz 2 (offset 879 lines).\nHunk #42 succeeded at 2472 with fuzz 2 (offset 879 lines).\nHunk #43 succeeded at 2605 with fuzz 2 (offset 995 lines).\nHunk #44 succeeded at 1632 with fuzz 1 (offset -3 lines).\nHunk #45 succeeded at 2163 with fuzz 2 (offset 491 lines).\nHunk #47 succeeded at 1835 with fuzz 2 (offset 122 lines).\nHunk #49 succeeded at 1852 with fuzz 2 (offset 87 lines).\nHunk #50 succeeded at 1869 with fuzz 2 (offset 85 lines).\nHunk #51 succeeded at 2269 with fuzz 2 (offset 468 lines).\nHunk #53 succeeded at 1933 with fuzz 2 (offset 91 lines).\nHunk #54 succeeded at 1953 with fuzz 2 (offset 95 lines).\nHunk #55 succeeded at 1973 with fuzz 2 (offset 98 lines).\nHunk #56 succeeded at 2359 with fuzz 2 (offset 465 lines).\nHunk #58 succeeded at 2034 with fuzz 2 (offset 95 lines).\nHunk #59 succeeded at 2050 with fuzz 2 (offset 91 lines).\nHunk #61 succeeded at 2505 with fuzz 2 (offset 507 lines).\nHunk #63 succeeded at 2646 with fuzz 2 (offset 606 lines).\nHunk #64 succeeded at 2665 with fuzz 2 (offset 609 lines).\nHunk #65 succeeded at 2832 with fuzz 2 (offset 760 lines).\nHunk #66 succeeded at 2876 with fuzz 2 (offset 788 lines).\nHunk #68 succeeded at 2849 with fuzz 2 (offset 719 lines).\nHunk #69 succeeded at 2863 with fuzz 2 (offset 715 lines).\nHunk #70 succeeded at 2978 with fuzz 2 (offset 811 lines).\nHunk #71 succeeded at 3031 with fuzz 2 (offset 848 lines).\nHunk #73 succeeded at 3002 with fuzz 2 (offset 767 lines).\nHunk #74 succeeded at 3019 with fuzz 2 (offset 767 lines).\nHunk #75 succeeded at 3104 with fuzz 2 (offset 835 lines).\nHunk #76 succeeded at 3150 with fuzz 2 (offset 865 lines).\nHunk #78 succeeded at 3121 with fuzz 2 (offset 797 lines).\nHunk #79 succeeded at 3136 with fuzz 2 (offset 795 lines).\nHunk #80 FAILED at 2353\nHunk #81 succeeded at 3173 with fuzz 2 (offset 802 lines).\nHunk #83 FAILED at 2463\nHunk #84 FAILED at 2478\nHunk #85 FAILED at 2492\nHunk #86 succeeded at 2577 with fuzz 2 (offset 66 lines).\nHunk #87 succeeded at 2694 with fuzz 2 (offset 116 lines).\nHunk #89 FAILED at 2627\nHunk #90 FAILED at 2649\nHunk #91 FAILED at 2667\nHunk #92 succeeded at 2721 with fuzz 2 (offset 28 lines).\nHunk #93 succeeded at 2796 with fuzz 2 (offset 77 lines).\nHunk #94 succeeded at 2911 with fuzz 2 (offset 117 lines).\nHunk #96 FAILED at 2837\nHunk #97 FAILED at 2852\nHunk #98 FAILED at 2865\nHunk #99 succeeded at 3064 with fuzz 2 (offset 181 lines).\nHunk #100 succeeded at 3230 with fuzz 2 (offset 323 lines).\nHunk #103 FAILED at 2982\nHunk #104 FAILED at 3004\nHunk #105 FAILED at 3020\nHunk #106 FAILED at 3034\nHunk #107 FAILED at 3054\nHunk #109 FAILED at 3104\nHunk #110 FAILED at 3119\nHunk #111 FAILED at 3133\nHunk #112 FAILED at 3149\nHunk #113 FAILED at 3168\nHunk #115 FAILED at 3216\n21 out of 122 hunks FAILED -- saving rejects to file sage/misc/sage_input.py.rej\npatch failed, unable to continue (try -v)\npatch failed, rejects left in working dir\nerrors during apply, please fix and refresh trac_15096.patch\n```\nI'm going to split up the patch into multiple patches, to make it easier to review and merge.",
    "created_at": "2013-10-16T23:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202157",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:6'></a>With Sage 5.13.beta0, I'm getting a bunch of failures with the patch:

```
applying trac_15096.patch
patching file sage/logic/boolformula.py
Hunk #1 FAILED at 9
Hunk #2 FAILED at 151
Hunk #3 FAILED at 175
Hunk #4 FAILED at 192
Hunk #5 FAILED at 217
Hunk #6 FAILED at 242
Hunk #7 FAILED at 263
Hunk #8 FAILED at 284
Hunk #9 FAILED at 305
Hunk #10 FAILED at 326
Hunk #11 FAILED at 348
Hunk #12 FAILED at 369
Hunk #13 FAILED at 391
Hunk #14 FAILED at 428
Hunk #15 FAILED at 500
Hunk #16 FAILED at 521
Hunk #17 FAILED at 547
Hunk #18 FAILED at 573
Hunk #19 FAILED at 600
Hunk #20 FAILED at 685
Hunk #21 FAILED at 715
Hunk #22 FAILED at 775
Hunk #23 FAILED at 844
Hunk #24 FAILED at 881
Hunk #25 FAILED at 910
Hunk #26 FAILED at 955
Hunk #27 FAILED at 989
Hunk #28 FAILED at 1022
Hunk #29 FAILED at 1051
Hunk #30 FAILED at 1074
Hunk #31 FAILED at 1116
31 out of 31 hunks FAILED -- saving rejects to file sage/logic/boolformula.py.rej
patching file sage/logic/logic.py
Hunk #1 FAILED at 32
Hunk #2 FAILED at 66
Hunk #3 FAILED at 122
Hunk #4 FAILED at 177
4 out of 4 hunks FAILED -- saving rejects to file sage/logic/logic.py.rej
patching file sage/logic/logicparser.py
Hunk #1 FAILED at 4
Hunk #2 FAILED at 28
Hunk #3 FAILED at 52
Hunk #4 FAILED at 118
Hunk #5 FAILED at 149
Hunk #6 FAILED at 193
6 out of 6 hunks FAILED -- saving rejects to file sage/logic/logicparser.py.rej
patching file sage/misc/sage_input.py
Hunk #24 succeeded at 1707 with fuzz 2 (offset 465 lines).
Hunk #25 succeeded at 1758 with fuzz 2 (offset 489 lines).
Hunk #26 succeeded at 1777 with fuzz 2 (offset 491 lines).
Hunk #27 succeeded at 1794 with fuzz 2 (offset 489 lines).
Hunk #28 succeeded at 1883 with fuzz 2 (offset 537 lines).
Hunk #29 succeeded at 1983 with fuzz 2 (offset 616 lines).
Hunk #30 succeeded at 2069 with fuzz 2 (offset 677 lines).
Hunk #31 succeeded at 2110 with fuzz 2 (offset 701 lines).
Hunk #32 succeeded at 2128 with fuzz 2 (offset 697 lines).
Hunk #33 succeeded at 2147 with fuzz 2 (offset 697 lines).
Hunk #34 succeeded at 2213 with fuzz 2 (offset 746 lines).
Hunk #35 succeeded at 2230 with fuzz 2 (offset 748 lines).
Hunk #36 succeeded at 2247 with fuzz 2 (offset 750 lines).
Hunk #37 succeeded at 2300 with fuzz 2 (offset 788 lines).
Hunk #38 succeeded at 2317 with fuzz 2 (offset 790 lines).
Hunk #39 succeeded at 2332 with fuzz 2 (offset 788 lines).
Hunk #40 succeeded at 2441 with fuzz 2 (offset 878 lines).
Hunk #41 succeeded at 2457 with fuzz 2 (offset 879 lines).
Hunk #42 succeeded at 2472 with fuzz 2 (offset 879 lines).
Hunk #43 succeeded at 2605 with fuzz 2 (offset 995 lines).
Hunk #44 succeeded at 1632 with fuzz 1 (offset -3 lines).
Hunk #45 succeeded at 2163 with fuzz 2 (offset 491 lines).
Hunk #47 succeeded at 1835 with fuzz 2 (offset 122 lines).
Hunk #49 succeeded at 1852 with fuzz 2 (offset 87 lines).
Hunk #50 succeeded at 1869 with fuzz 2 (offset 85 lines).
Hunk #51 succeeded at 2269 with fuzz 2 (offset 468 lines).
Hunk #53 succeeded at 1933 with fuzz 2 (offset 91 lines).
Hunk #54 succeeded at 1953 with fuzz 2 (offset 95 lines).
Hunk #55 succeeded at 1973 with fuzz 2 (offset 98 lines).
Hunk #56 succeeded at 2359 with fuzz 2 (offset 465 lines).
Hunk #58 succeeded at 2034 with fuzz 2 (offset 95 lines).
Hunk #59 succeeded at 2050 with fuzz 2 (offset 91 lines).
Hunk #61 succeeded at 2505 with fuzz 2 (offset 507 lines).
Hunk #63 succeeded at 2646 with fuzz 2 (offset 606 lines).
Hunk #64 succeeded at 2665 with fuzz 2 (offset 609 lines).
Hunk #65 succeeded at 2832 with fuzz 2 (offset 760 lines).
Hunk #66 succeeded at 2876 with fuzz 2 (offset 788 lines).
Hunk #68 succeeded at 2849 with fuzz 2 (offset 719 lines).
Hunk #69 succeeded at 2863 with fuzz 2 (offset 715 lines).
Hunk #70 succeeded at 2978 with fuzz 2 (offset 811 lines).
Hunk #71 succeeded at 3031 with fuzz 2 (offset 848 lines).
Hunk #73 succeeded at 3002 with fuzz 2 (offset 767 lines).
Hunk #74 succeeded at 3019 with fuzz 2 (offset 767 lines).
Hunk #75 succeeded at 3104 with fuzz 2 (offset 835 lines).
Hunk #76 succeeded at 3150 with fuzz 2 (offset 865 lines).
Hunk #78 succeeded at 3121 with fuzz 2 (offset 797 lines).
Hunk #79 succeeded at 3136 with fuzz 2 (offset 795 lines).
Hunk #80 FAILED at 2353
Hunk #81 succeeded at 3173 with fuzz 2 (offset 802 lines).
Hunk #83 FAILED at 2463
Hunk #84 FAILED at 2478
Hunk #85 FAILED at 2492
Hunk #86 succeeded at 2577 with fuzz 2 (offset 66 lines).
Hunk #87 succeeded at 2694 with fuzz 2 (offset 116 lines).
Hunk #89 FAILED at 2627
Hunk #90 FAILED at 2649
Hunk #91 FAILED at 2667
Hunk #92 succeeded at 2721 with fuzz 2 (offset 28 lines).
Hunk #93 succeeded at 2796 with fuzz 2 (offset 77 lines).
Hunk #94 succeeded at 2911 with fuzz 2 (offset 117 lines).
Hunk #96 FAILED at 2837
Hunk #97 FAILED at 2852
Hunk #98 FAILED at 2865
Hunk #99 succeeded at 3064 with fuzz 2 (offset 181 lines).
Hunk #100 succeeded at 3230 with fuzz 2 (offset 323 lines).
Hunk #103 FAILED at 2982
Hunk #104 FAILED at 3004
Hunk #105 FAILED at 3020
Hunk #106 FAILED at 3034
Hunk #107 FAILED at 3054
Hunk #109 FAILED at 3104
Hunk #110 FAILED at 3119
Hunk #111 FAILED at 3133
Hunk #112 FAILED at 3149
Hunk #113 FAILED at 3168
Hunk #115 FAILED at 3216
21 out of 122 hunks FAILED -- saving rejects to file sage/misc/sage_input.py.rej
patch failed, unable to continue (try -v)
patch failed, rejects left in working dir
errors during apply, please fix and refresh trac_15096.patch
```
I'm going to split up the patch into multiple patches, to make it easier to review and merge.



---

archive/issue_comments_202158.json:
```json
{
    "body": "Attachment [trac_15096_2.patch](tarball://root/attachments/some-uuid/ticket15096/trac_15096_2.patch) by mvngu created at 2013-10-17 22:38:49",
    "created_at": "2013-10-17T22:38:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202158",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Attachment [trac_15096_2.patch](tarball://root/attachments/some-uuid/ticket15096/trac_15096_2.patch) by mvngu created at 2013-10-17 22:38:49



---

archive/issue_comments_202159.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,25 @@\n+In Sage 5.11:\n \n+```\n+sage: from sage.structure.proof.proof import get_flag\n+sage: get_flag?\n+Type:       function\n+String Form:<function get_flag at 0x17e0398>\n+File:       /home/zimmerma/Downloads/sage-5.11/local/lib/python2.7/site-packages/sage/structure/proof/proof.py\n+Definition: get_flag(t=None, subsystem=None)\n+Docstring:\n+   Used for easily determining the correct proof flag to use.\n+\n+   EXAMPLES:\n+      sage: from sage.structure.proof.proof import get_flag sage:\n+      get_flag(False) False sage: get_flag(True) True sage: get_flag()\n+      True sage: proof.all(False) sage: get_flag() False\n+```\n+Clearly the example part is corrupted.\n+\n+This ticket aims to fix globally similar problems in the whole library.\n+\n+**Apply:** [This is the Trac macro *attachment:trac_15096_2.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_15096_2.patch-macro)\n \n Comment: 1\n \n``````\n",
    "created_at": "2013-10-17T22:42:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202159",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,25 @@
+In Sage 5.11:
 
+```
+sage: from sage.structure.proof.proof import get_flag
+sage: get_flag?
+Type:       function
+String Form:<function get_flag at 0x17e0398>
+File:       /home/zimmerma/Downloads/sage-5.11/local/lib/python2.7/site-packages/sage/structure/proof/proof.py
+Definition: get_flag(t=None, subsystem=None)
+Docstring:
+   Used for easily determining the correct proof flag to use.
+
+   EXAMPLES:
+      sage: from sage.structure.proof.proof import get_flag sage:
+      get_flag(False) False sage: get_flag(True) True sage: get_flag()
+      True sage: proof.all(False) sage: get_flag() False
+```
+Clearly the example part is corrupted.
+
+This ticket aims to fix globally similar problems in the whole library.
+
+**Apply:** [This is the Trac macro *attachment:trac_15096_2.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_15096_2.patch-macro)
 
 Comment: 1
 
``````




---

archive/issue_comments_202160.json:
```json
{
    "body": "<a id='comment:7'></a>OK, so I didn't split Paul's patch into multiple patches.  It turns out that you don't need to include patches for files under the `sage/logic` directory.  Someone just needs to review the updated patch [This is the Trac macro *attachment:trac_15096_2.patch\u200b* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_15096_2.patch\u200b-macro).",
    "created_at": "2013-10-17T22:42:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202160",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:7'></a>OK, so I didn't split Paul's patch into multiple patches.  It turns out that you don't need to include patches for files under the `sage/logic` directory.  Someone just needs to review the updated patch [This is the Trac macro *attachment:trac_15096_2.patch​* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_15096_2.patch​-macro).



---

archive/issue_comments_202161.json:
```json
{
    "body": "<a id='comment:8'></a>Sorry, but we cannot allow such a patch. While I agree that the changes it makes are desirable, it will lead to massive merge conflicts (for the same reason, we cannot simply strip all trailing white-space, even though we would like to).",
    "created_at": "2013-10-21T12:04:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202161",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>Sorry, but we cannot allow such a patch. While I agree that the changes it makes are desirable, it will lead to massive merge conflicts (for the same reason, we cannot simply strip all trailing white-space, even though we would like to).



---

archive/issue_events_043441.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-21T12:04:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15096#event-43441"
}
```



---

archive/issue_comments_202162.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-10-21T12:04:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202162",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_043442.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-30T14:19:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15096#event-43442"
}
```



---

archive/issue_comments_202163.json:
```json
{
    "body": "Resolution: wontfix",
    "created_at": "2013-10-30T14:19:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202163",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: wontfix



---

archive/issue_comments_202164.json:
```json
{
    "body": "<a id='comment:10'></a>It would still be nice to fix this. How about \n* Write a lint-like script that checks that the docstrings adhere to the Sage style\n* Put it into the git commit hook, so whenever you change a file you'll be nagged to fix the docstrings in there. \n* Programmatically fix files that haven't been changed in a year, say.\nSome parts of sage are under development, some have stabilized a long time ago. By just changing the stable parts we'd avoid most conflicts.\n\nOn another ticket, of course ;-)",
    "created_at": "2013-11-01T10:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202164",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'></a>It would still be nice to fix this. How about 
* Write a lint-like script that checks that the docstrings adhere to the Sage style
* Put it into the git commit hook, so whenever you change a file you'll be nagged to fix the docstrings in there. 
* Programmatically fix files that haven't been changed in a year, say.
Some parts of sage are under development, some have stabilized a long time ago. By just changing the stable parts we'd avoid most conflicts.

On another ticket, of course ;-)



---

archive/issue_comments_202165.json:
```json
{
    "body": "<a id='comment:11'></a>Replying to [comment:10 vbraun]:\n> * Programmatically fix files that haven't been changed in a year, say.\n> Some parts of sage are under development, some have stabilized a long time ago. By just changing the stable parts we'd avoid most conflicts.\n\nI don't agree with your assumption that code which hasn't changed in a year is \"stable\".",
    "created_at": "2013-11-01T12:54:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202165",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>Replying to [comment:10 vbraun]:
> * Programmatically fix files that haven't been changed in a year, say.
> Some parts of sage are under development, some have stabilized a long time ago. By just changing the stable parts we'd avoid most conflicts.

I don't agree with your assumption that code which hasn't changed in a year is "stable".



---

archive/issue_comments_202166.json:
```json
{
    "body": "<a id='comment:12'></a>I meant \"stable\" as in not changing. It may crash and burn, of course.",
    "created_at": "2013-11-01T21:07:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202166",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:12'></a>I meant "stable" as in not changing. It may crash and burn, of course.



---

archive/issue_comments_202167.json:
```json
{
    "body": "<a id='comment:13'></a>I think that the issue is not, for the most part, people producing incorrectly formatted docstrings, but rather docstrings dating from the pre-Sphinx days which used the old style of\n\n```\nEXAMPLE:\n    sage: ...\n```\nSo maybe a better option is to change the `sphinxify` function (which I think is responsible for producing these formatted docstrings) to replace \"EXAMPLE(S?):\\n text\" with \"EXAMPLES::\\n\\n text\". That change should be an easy regexp operation and should fix most of these problems.\n\n(Of course, if it's not `sphinxify`, then fix the relevant function...)",
    "created_at": "2013-11-01T21:34:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202167",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:13'></a>I think that the issue is not, for the most part, people producing incorrectly formatted docstrings, but rather docstrings dating from the pre-Sphinx days which used the old style of

```
EXAMPLE:
    sage: ...
```
So maybe a better option is to change the `sphinxify` function (which I think is responsible for producing these formatted docstrings) to replace "EXAMPLE(S?):\n text" with "EXAMPLES::\n\n text". That change should be an easy regexp operation and should fix most of these problems.

(Of course, if it's not `sphinxify`, then fix the relevant function...)



---

archive/issue_comments_202168.json:
```json
{
    "body": "<a id='comment:14'></a>I think that'll just cause more confusion, now at least you'll find out about the correct syntax if you look at the output.",
    "created_at": "2013-11-01T21:36:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202168",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:14'></a>I think that'll just cause more confusion, now at least you'll find out about the correct syntax if you look at the output.



---

archive/issue_comments_202169.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:14 vbraun]:\n> I think that'll just cause more confusion, now at least you'll find out about the correct syntax if you look at the output.\n\n\nThis makes sense from a developer's point of view, but the current state of affairs could be very confusing to users. Fixing it, at the expense of confusing developers, seems like a worthwhile trade. \n\nHere's a patch. We could add a warning (\"Warning: old-style docstring detected\") or something like that.",
    "created_at": "2013-11-02T01:01:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202169",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:15'></a>Replying to [comment:14 vbraun]:
> I think that'll just cause more confusion, now at least you'll find out about the correct syntax if you look at the output.


This makes sense from a developer's point of view, but the current state of affairs could be very confusing to users. Fixing it, at the expense of confusing developers, seems like a worthwhile trade. 

Here's a patch. We could add a warning ("Warning: old-style docstring detected") or something like that.



---

archive/issue_comments_202170.json:
```json
{
    "body": "<a id='comment:16'></a>By the way, this patch is not ready to go; it should test that the indentation level increases after the \"EXAMPLES\" line: it shouldn't take effect in situations like\n\n```\nEXAMPLES:\n\nThis illustrates something::\n\n    sage: ...\n```",
    "created_at": "2013-11-02T01:03:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202170",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:16'></a>By the way, this patch is not ready to go; it should test that the indentation level increases after the "EXAMPLES" line: it shouldn't take effect in situations like

```
EXAMPLES:

This illustrates something::

    sage: ...
```



---

archive/issue_comments_202171.json:
```json
{
    "body": "Attachment [trac_15096-regexp-docstring.patch](tarball://root/attachments/some-uuid/ticket15096/trac_15096-regexp-docstring.patch) by @jhpalmieri created at 2013-11-06 19:30:50",
    "created_at": "2013-11-06T19:30:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202171",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment [trac_15096-regexp-docstring.patch](tarball://root/attachments/some-uuid/ticket15096/trac_15096-regexp-docstring.patch) by @jhpalmieri created at 2013-11-06 19:30:50



---

archive/issue_comments_202172.json:
```json
{
    "body": "<a id='comment:17'></a>This version should work better.",
    "created_at": "2013-11-06T19:31:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15096#issuecomment-202172",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:17'></a>This version should work better.
