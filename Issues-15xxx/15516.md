# Issue 15516: Add BasisExchangeMatroid.isomorphism()

archive/issues_015516.json:
```json
{
    "body": "CC:  stefan yomcat\n\nCurrently the abstract class BasisExchangeMatroid provides a method .isomorphic() to test if two matroids are isomorphic, but that method does not return an isomorphism, if one exist.\n\nI want to add a function that does. \n\nIssue created by migration from https://trac.sagemath.org/ticket/15753\n\n",
    "closed_at": "2015-05-13T11:33:41Z",
    "created_at": "2014-01-28T19:57:06Z",
    "labels": [
        "component: matroid theory",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Add BasisExchangeMatroid.isomorphism()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15516",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```
CC:  stefan yomcat

Currently the abstract class BasisExchangeMatroid provides a method .isomorphic() to test if two matroids are isomorphic, but that method does not return an isomorphism, if one exist.

I want to add a function that does. 

Issue created by migration from https://trac.sagemath.org/ticket/15753





---

archive/issue_comments_200168.json:
```json
{
    "body": "Made a first implementation by modifying the existing _is_isomorphic. It compiles and the doctests work. I will run a few tests before I put it up for review.\n\n---\nNew commits:",
    "created_at": "2014-01-28T20:54:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200168",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

Made a first implementation by modifying the existing _is_isomorphic. It compiles and the doctests work. I will run a few tests before I put it up for review.

---
New commits:



---

archive/issue_comments_200169.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-29T13:10:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200169",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_046304.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15516#event-46304"
}
```



---

archive/issue_comments_200170.json:
```json
{
    "body": "I'm happy with this implementation, so have a look.",
    "created_at": "2014-01-31T07:58:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200170",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

I'm happy with this implementation, so have a look.



---

archive/issue_comments_200171.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-01-31T07:58:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200171",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_200172.json:
```json
{
    "body": "Hi, I noticed the following about the special cases for rank or corank 0 or 1 in basis_exchange_matroid.pyx and for rank 0 in basis_matroid.pyx. They return the identity map on the ground set of self rather than a map to the ground set of other. For example\n\n```\nsage: M = Matroid(matrix=Matrix(GF(2), [[1,1,0],[0,1,0],[0,0,0]]))\nsage: N = Matroid(matrix=Matrix(GF(2), [[0,1,1],[0,1,0],[0,0,0]]))\nsage: M.is_isomorphic(N)\nTrue\nsage: M.is_isomorphism(N, M.isomorphism(N))\nFalse\n```\n\n```\nsage: M = Matroid(groundset='abcde', bases=[[]])\nsage: N = Matroid(groundset=range(5), bases=[[]])\nsage: M.is_isomorphic(N)\nTrue\nsage: M.is_isomorphism(N, M.isomorphism(N))\n\nValueError: range of morphism does not contain groundset of other matroid.\n```\nFor the rank/corank 0 case maybe the line\n\n```\nreturn {e:e for e in self.groundset()}\n```\nshould be something like\n\n```\nreturn {list(self.groundset())[i]:list(other.groundset())[i] for i in range(len(self.groundset()))}\n```\nand for the rank 1 case\n\n```\nmorphism = {list(M.groundset()-M.loops())[i]:list(N.groundset()-N.loops())[i] for i in range(len(M.groundset()-M.loops()))}\nmorphism2 = {list(M.loops())[i]:list(N.loops())[i] for i in range(len(M.loops()))}\nmorphism.update(morphism2)\nreturn morphism\n```",
    "created_at": "2014-04-04T01:53:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200172",
    "user": "https://trac.sagemath.org/admin/accounts/users/rohan"
}
```

Hi, I noticed the following about the special cases for rank or corank 0 or 1 in basis_exchange_matroid.pyx and for rank 0 in basis_matroid.pyx. They return the identity map on the ground set of self rather than a map to the ground set of other. For example

```
sage: M = Matroid(matrix=Matrix(GF(2), [[1,1,0],[0,1,0],[0,0,0]]))
sage: N = Matroid(matrix=Matrix(GF(2), [[0,1,1],[0,1,0],[0,0,0]]))
sage: M.is_isomorphic(N)
True
sage: M.is_isomorphism(N, M.isomorphism(N))
False
```

```
sage: M = Matroid(groundset='abcde', bases=[[]])
sage: N = Matroid(groundset=range(5), bases=[[]])
sage: M.is_isomorphic(N)
True
sage: M.is_isomorphism(N, M.isomorphism(N))

ValueError: range of morphism does not contain groundset of other matroid.
```
For the rank/corank 0 case maybe the line

```
return {e:e for e in self.groundset()}
```
should be something like

```
return {list(self.groundset())[i]:list(other.groundset())[i] for i in range(len(self.groundset()))}
```
and for the rank 1 case

```
morphism = {list(M.groundset()-M.loops())[i]:list(N.groundset()-N.loops())[i] for i in range(len(M.groundset()-M.loops()))}
morphism2 = {list(M.loops())[i]:list(N.loops())[i] for i in range(len(M.loops()))}
morphism.update(morphism2)
return morphism
```



---

archive/issue_comments_200173.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-04-04T06:56:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200173",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_200174.json:
```json
{
    "body": "Thanks for catching that, Rohan. I changed the rank=0 case as you suggested and removed the separate handling of rank=1.",
    "created_at": "2014-04-04T06:58:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200174",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

Thanks for catching that, Rohan. I changed the rank=0 case as you suggested and removed the separate handling of rank=1.



---

archive/issue_events_046305.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15516#event-46305"
}
```



---

archive/issue_events_046306.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15516#event-46306"
}
```



---

archive/issue_events_046307.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15516#event-46307"
}
```



---

archive/issue_events_046308.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15516#event-46308"
}
```



---

archive/issue_comments_200175.json:
```json
{
    "body": "Given that `BasisExchangeMatroid` and `BasisMatroid` both inherit from `Matroid`, there is no point in adding `cpdef _isomorphism(self, other)` in the `.pxd` files for those.\n\nAlso, what's the advantage of making `isomorphism()` (without underscore) a `cpdef` method as opposed to just `def`?",
    "created_at": "2014-10-17T14:03:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200175",
    "user": "https://github.com/jdemeyer"
}
```

Given that `BasisExchangeMatroid` and `BasisMatroid` both inherit from `Matroid`, there is no point in adding `cpdef _isomorphism(self, other)` in the `.pxd` files for those.

Also, what's the advantage of making `isomorphism()` (without underscore) a `cpdef` method as opposed to just `def`?



---

archive/issue_comments_200176.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2014-10-17T14:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200176",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_200177.json:
```json
{
    "body": "Replying to [comment:12 jdemeyer]:\n> Given that `BasisExchangeMatroid` and `BasisMatroid` both inherit from `Matroid`, there is no point in adding `cpdef _isomorphism(self, other)` in the `.pxd` files for those.\n> \n\nOK, I'll remove these then.\n\n> Also, what's the advantage of making `isomorphism()` (without underscore) a `cpdef` method as opposed to just `def`?\n\n\nWe did not really think about this. But is there a disadvantage? Cpdef just allows cdef child classes to override the function. While I don't see why anyone would want that,  why make it impossible? These are slow, high-level functions, so a little pointer testing at the start of the function won't affect overall efficiency. \n\nI wanted to upload a patch but today sage -b exits with: \n\"src/convert.c:1:0: error: unknown value '10.10' of -mmacosx-version-min \nscons: * * * [src/convert.os] Error 1\"\n\nI guess my OSX version is too new. \n\nSo feel free to make these changes, or wait until I find another way to test + upload a patch.",
    "created_at": "2014-10-22T21:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200177",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

Replying to [comment:12 jdemeyer]:
> Given that `BasisExchangeMatroid` and `BasisMatroid` both inherit from `Matroid`, there is no point in adding `cpdef _isomorphism(self, other)` in the `.pxd` files for those.
> 

OK, I'll remove these then.

> Also, what's the advantage of making `isomorphism()` (without underscore) a `cpdef` method as opposed to just `def`?


We did not really think about this. But is there a disadvantage? Cpdef just allows cdef child classes to override the function. While I don't see why anyone would want that,  why make it impossible? These are slow, high-level functions, so a little pointer testing at the start of the function won't affect overall efficiency. 

I wanted to upload a patch but today sage -b exits with: 
"src/convert.c:1:0: error: unknown value '10.10' of -mmacosx-version-min 
scons: * * * [src/convert.os] Error 1"

I guess my OSX version is too new. 

So feel free to make these changes, or wait until I find another way to test + upload a patch.



---

archive/issue_comments_200178.json:
```json
{
    "body": "I wanted to finish this up now that my OSX version is not too new anymore, but I get a new type of error when compiling the patch. \n\nRudiPeninghsMBP:sage rudi$ ./sage -b\nInstall file: \"include/interrupt.h\" as \"/Users/rudi/Documents/Development/sage/local/include/csage/interrupt.h\"\nInstall file: \"include/ntl_wrap.h\" as \"/Users/rudi/Documents/Development/sage/local/include/csage/ntl_wrap.h\"\ngcc -o src/interrupt.os -c -fPIC -I/Users/rudi/Documents/Development/sage/local/include -I/Users/rudi/Documents/Development/sage/local/include/python2.7 -I/Users/rudi/Documents/Development/sage/local/include/NTL -Iinclude src/interrupt.c\ng++ -o src/ZZ_pylong.os -c -fPIC -I/Users/rudi/Documents/Development/sage/local/include -I/Users/rudi/Documents/Development/sage/local/include/python2.7 -I/Users/rudi/Documents/Development/sage/local/include/NTL -Iinclude src/ZZ_pylong.cpp\nIn file included from src/ZZ_pylong.cpp:13:0:\ninclude/ntl_wrap.h:255:35: error: using typedef-name 'NTL::mat_ZZ' after 'struct'\n EXTERN void mat_ZZ_SetDims(struct mat_ZZ* mZZ, long nrows, long ncols);\n                                   ^\nIn file included from include/ntl_wrap.h:13:0,\n                 from src/ZZ_pylong.cpp:13:\n/Users/rudi/Documents/Development/sage/local/include/NTL/mat_ZZ.h:12:17: note: 'NTL::mat_ZZ' has a previous declaration here\n typedef Mat<ZZ> mat_ZZ;\n\nEtcetera.\n\nThis happens only if I work on the branch related to this ticket, not the master. Can anyone try to compile this patch to confirm that this is related to the patch and not something else?",
    "created_at": "2015-05-04T10:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200178",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

I wanted to finish this up now that my OSX version is not too new anymore, but I get a new type of error when compiling the patch. 

RudiPeninghsMBP:sage rudi$ ./sage -b
Install file: "include/interrupt.h" as "/Users/rudi/Documents/Development/sage/local/include/csage/interrupt.h"
Install file: "include/ntl_wrap.h" as "/Users/rudi/Documents/Development/sage/local/include/csage/ntl_wrap.h"
gcc -o src/interrupt.os -c -fPIC -I/Users/rudi/Documents/Development/sage/local/include -I/Users/rudi/Documents/Development/sage/local/include/python2.7 -I/Users/rudi/Documents/Development/sage/local/include/NTL -Iinclude src/interrupt.c
g++ -o src/ZZ_pylong.os -c -fPIC -I/Users/rudi/Documents/Development/sage/local/include -I/Users/rudi/Documents/Development/sage/local/include/python2.7 -I/Users/rudi/Documents/Development/sage/local/include/NTL -Iinclude src/ZZ_pylong.cpp
In file included from src/ZZ_pylong.cpp:13:0:
include/ntl_wrap.h:255:35: error: using typedef-name 'NTL::mat_ZZ' after 'struct'
 EXTERN void mat_ZZ_SetDims(struct mat_ZZ* mZZ, long nrows, long ncols);
                                   ^
In file included from include/ntl_wrap.h:13:0,
                 from src/ZZ_pylong.cpp:13:
/Users/rudi/Documents/Development/sage/local/include/NTL/mat_ZZ.h:12:17: note: 'NTL::mat_ZZ' has a previous declaration here
 typedef Mat<ZZ> mat_ZZ;

Etcetera.

This happens only if I work on the branch related to this ticket, not the master. Can anyone try to compile this patch to confirm that this is related to the patch and not something else?



---

archive/issue_comments_200179.json:
```json
{
    "body": "This is an old ticket. It'll probably build on the branch after you do a \"make distclean\" or something. Alternatively, you can merge the ticket with the current develop branch. The easiest way (as a reviewer) is to do\n\ngit trac try 15753\n\n(assuming you have the git-trac command installed correctly). For working on the ticket, I'd probably stay on this branch, or look into rebasing (I'm still not sure what the policy is, read up on it in the developer manual).",
    "created_at": "2015-05-05T15:43:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200179",
    "user": "https://trac.sagemath.org/admin/accounts/users/Stefan"
}
```

This is an old ticket. It'll probably build on the branch after you do a "make distclean" or something. Alternatively, you can merge the ticket with the current develop branch. The easiest way (as a reviewer) is to do

git trac try 15753

(assuming you have the git-trac command installed correctly). For working on the ticket, I'd probably stay on this branch, or look into rebasing (I'm still not sure what the policy is, read up on it in the developer manual).



---

archive/issue_comments_200180.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-06T19:34:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200180",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_200181.json:
```json
{
    "body": "Thanks, Stefan, for pointing out that I should rebase. Very happy that this problem is out of the way.\n\nI rebased, then made my final edits, and tried to push. Another merge was necessary before I could finally push. Hope it all worked out correctly.",
    "created_at": "2015-05-06T19:40:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200181",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

Thanks, Stefan, for pointing out that I should rebase. Very happy that this problem is out of the way.

I rebased, then made my final edits, and tried to push. Another merge was necessary before I could finally push. Hope it all worked out correctly.



---

archive/issue_comments_200182.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2015-05-06T19:40:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200182",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_200183.json:
```json
{
    "body": "Two minor comments and a question:\n\n* In BasisExchangeMatroid._is_isomorphic you changed four lines in the EXAMPLES section to remove BasisMatroid conversions. While today that doesn't matter, I would prefer to keep those to ensure that this file's version of the isomorphism test gets used, instead of some subclass's file.\n\n* In Matroid._isomorphism you didn't indent the EXAMPLES block.\n\nFix those two things and the code gets a positive review from me.\n\nOne remark though: in Sage's graph class, there is a fairly common idiom to have an option in the test methods of the form `certificate=True/False`. When set to True, the function returns `(True, f)` if an isomorphism f is found, and `(False, )` otherwise. I'm not saying we should follow this here (isomorphism is important enough to be its own function), but we may want to consider it for other test methods.",
    "created_at": "2015-05-07T22:32:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200183",
    "user": "https://trac.sagemath.org/admin/accounts/users/Stefan"
}
```

Two minor comments and a question:

* In BasisExchangeMatroid._is_isomorphic you changed four lines in the EXAMPLES section to remove BasisMatroid conversions. While today that doesn't matter, I would prefer to keep those to ensure that this file's version of the isomorphism test gets used, instead of some subclass's file.

* In Matroid._isomorphism you didn't indent the EXAMPLES block.

Fix those two things and the code gets a positive review from me.

One remark though: in Sage's graph class, there is a fairly common idiom to have an option in the test methods of the form `certificate=True/False`. When set to True, the function returns `(True, f)` if an isomorphism f is found, and `(False, )` otherwise. I'm not saying we should follow this here (isomorphism is important enough to be its own function), but we may want to consider it for other test methods.



---

archive/issue_comments_200184.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-08T19:52:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200184",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_200185.json:
```json
{
    "body": "Replying to [comment:19 Stefan]:\n> Two minor comments and a question:\n> \n> * In BasisExchangeMatroid._is_isomorphic you changed four lines in the EXAMPLES section to remove BasisMatroid conversions. While today that doesn't matter, I would prefer to keep those to ensure that this file's version of the isomorphism test gets used, instead of some subclass's file.\n> \n \nTo make sure that this file's version of the isomorphism test eventually gets used (and in particular, not BasisMatroid._is_isomorphic), I put back the BasisMatroid conversions for just one of each pair of matroids. \n \n\n> * In Matroid._isomorphism you didn't indent the EXAMPLES block.\n\n\nI did so now.\n\n\n> One remark though: in Sage's graph class, there is a fairly common idiom to have an option in the test methods of the form `certificate=True/False`. When set to True, the function returns `(True, f)` if an isomorphism f is found, and `(False, )` otherwise. I'm not saying we should follow this here (isomorphism is important enough to be its own function), but we may want to consider it for other test methods.\n\n\nI'll keep it in mind.  \n\n---\nNew commits:\n|                                                                                                                                          |               |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------|\n|[c6edefd](http://git.sagemath.org/sage.git/commit/?id=c6edefd889cf9331b43e0ac30a6cad45d41ebf42)|`Doctest fixes`|\n---\nNew commits:",
    "created_at": "2015-05-08T19:53:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200185",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

Replying to [comment:19 Stefan]:
> Two minor comments and a question:
> 
> * In BasisExchangeMatroid._is_isomorphic you changed four lines in the EXAMPLES section to remove BasisMatroid conversions. While today that doesn't matter, I would prefer to keep those to ensure that this file's version of the isomorphism test gets used, instead of some subclass's file.
> 
 
To make sure that this file's version of the isomorphism test eventually gets used (and in particular, not BasisMatroid._is_isomorphic), I put back the BasisMatroid conversions for just one of each pair of matroids. 
 

> * In Matroid._isomorphism you didn't indent the EXAMPLES block.


I did so now.


> One remark though: in Sage's graph class, there is a fairly common idiom to have an option in the test methods of the form `certificate=True/False`. When set to True, the function returns `(True, f)` if an isomorphism f is found, and `(False, )` otherwise. I'm not saying we should follow this here (isomorphism is important enough to be its own function), but we may want to consider it for other test methods.


I'll keep it in mind.  

---
New commits:
|                                                                                                                                          |               |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|[c6edefd](http://git.sagemath.org/sage.git/commit/?id=c6edefd889cf9331b43e0ac30a6cad45d41ebf42)|`Doctest fixes`|
---
New commits:



---

archive/issue_comments_200186.json:
```json
{
    "body": "This one's good to go!",
    "created_at": "2015-05-11T15:53:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200186",
    "user": "https://trac.sagemath.org/admin/accounts/users/Stefan"
}
```

This one's good to go!



---

archive/issue_comments_200187.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-05-11T15:53:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200187",
    "user": "https://trac.sagemath.org/admin/accounts/users/Stefan"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_046309.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-13T11:33:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15516#event-46309"
}
```



---

archive/issue_comments_200188.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-05-13T11:33:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15516#issuecomment-200188",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
