# Issue 15317: Troubles with Python and ncurses on Cygwin

archive/issues_015080.json:
```json
{
    "assignees": [],
    "body": "Python currently fails/is suboptimal on Cygwin because:\n* it does not properly detect readline which is only installed as a shared library, patch \"2.7.3-dylib.patch\" from Cygwin package fixes that;\n* the curses module is not built because of undefined refs, just passing -lcurses when linking is not enough, one should add -ltinfo; in fact the real problem is that setup.py tries to run ldd on the import library (dll.a) which fails to detect what libraries are already linked and anyway would decide to discard -ltinfo as its already linked to readline, but on Cygwin you have to explicitely pass everything...\n* it segfault at startup when loading the readline module, not sure why. It looks exactly as what is reported at http://trac.macports.org/ticket/29496 . Rebuilding ncurses with debug info (including CFLAGS=\"-O0 -g\" which cannot easily be passed right now) does not give much info. The offending line pointed by GCC is \"char *result = exit_attribute_mode;\"; maybe some dark magic going on as reported in http://lists.gnu.org/archive/html/bug-ncurses/2006-10/msg00002.html ; please not that on Cygwin the stack is small by default but playing a little bit with that did not really help. Further info: ncurses 5.7 is fine, ncurses 5.8 fails in the same way. Upstream bu report: http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00014.html. Should be fixed with http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00017.html\n\nThis ticket fixes the Python part.\nThe ncurses part is #15617\n\nCC:  @dimpase @vbraun @jdemeyer\n\nKeywords: **cygwin spkg ncurses**\n\nBranch/Commit: **[c0a09c5](https://github.com/sagemath/sagetrac-mirror/commit/c0a09c5122ffba794a121ad3bdf8fdf5cb96f2c8)**\n\nUpstream: **Workaround found; Bug reported upstream.**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Jean-Pierre Flori**\n\nComponent: **porting: Cygwin**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15317_\n\n",
    "closed_at": "2014-02-14T19:44:52Z",
    "created_at": "2013-10-23T06:50:01Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20porting%3A%20cygwin",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Troubles with Python and ncurses on Cygwin",
    "type": "issue",
    "updated_at": "2014-02-14T19:44:52Z",
    "url": "https://github.com/sagemath/sage/issues/15317",
    "user": "https://github.com/jpflori"
}
```
Python currently fails/is suboptimal on Cygwin because:
* it does not properly detect readline which is only installed as a shared library, patch "2.7.3-dylib.patch" from Cygwin package fixes that;
* the curses module is not built because of undefined refs, just passing -lcurses when linking is not enough, one should add -ltinfo; in fact the real problem is that setup.py tries to run ldd on the import library (dll.a) which fails to detect what libraries are already linked and anyway would decide to discard -ltinfo as its already linked to readline, but on Cygwin you have to explicitely pass everything...
* it segfault at startup when loading the readline module, not sure why. It looks exactly as what is reported at http://trac.macports.org/ticket/29496 . Rebuilding ncurses with debug info (including CFLAGS="-O0 -g" which cannot easily be passed right now) does not give much info. The offending line pointed by GCC is "char *result = exit_attribute_mode;"; maybe some dark magic going on as reported in http://lists.gnu.org/archive/html/bug-ncurses/2006-10/msg00002.html ; please not that on Cygwin the stack is small by default but playing a little bit with that did not really help. Further info: ncurses 5.7 is fine, ncurses 5.8 fails in the same way. Upstream bu report: http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00014.html. Should be fixed with http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00017.html

This ticket fixes the Python part.
The ncurses part is #15617

CC:  @dimpase @vbraun @jdemeyer

Keywords: **cygwin spkg ncurses**

Branch/Commit: **[c0a09c5](https://github.com/sagemath/sagetrac-mirror/commit/c0a09c5122ffba794a121ad3bdf8fdf5cb96f2c8)**

Upstream: **Workaround found; Bug reported upstream.**

Reviewer: **Travis Scrimshaw**

Author: **Jean-Pierre Flori**

Component: **porting: Cygwin**

_Issue created by migration from https://trac.sagemath.org/ticket/15317_





---

archive/issue_events_217881.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-10-23T06:50:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15317#event-217881"
}
```



---

archive/issue_events_217882.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-10-23T06:50:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting%3A%20cygwin",
    "label_color": "000080",
    "label_name": "c: porting: cygwin",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15317#event-217882"
}
```



---

archive/issue_events_217883.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-10-23T06:50:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15317#event-217883"
}
```



---

archive/issue_events_217884.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-10-23T06:50:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15317#event-217884"
}
```



---

archive/issue_comments_189826.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nHad no time to investigate the diff between 5.7 and 5.8, especially around the offending lines, function calls.\nAny help/clues welcomed.",
    "created_at": "2013-10-23T06:50:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189826",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:1" align="right">comment:1</div>

Had no time to investigate the diff between 5.7 and 5.8, especially around the offending lines, function calls.
Any help/clues welcomed.



---

archive/issue_comments_189827.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nSimilar problem on different archs: http://lists.busybox.net/pipermail/buildroot/2011-April/042350.html\nNo solution though...",
    "created_at": "2013-10-24T07:40:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189827",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:2" align="right">comment:2</div>

Similar problem on different archs: http://lists.busybox.net/pipermail/buildroot/2011-April/042350.html
No solution though...



---

archive/issue_comments_189828.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nMaybe have a look at http://trac.sagemath.org/ticket/12282",
    "created_at": "2013-10-24T07:45:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189828",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:3" align="right">comment:3</div>

Maybe have a look at http://trac.sagemath.org/ticket/12282



---

archive/issue_comments_189829.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nPlaying a little bit around, it seems that setting TERM to something non-existing (e.g. \"\" or \"blblbblblbl\") makes the segfault disappear.",
    "created_at": "2013-10-24T11:27:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189829",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:4" align="right">comment:4</div>

Playing a little bit around, it seems that setting TERM to something non-existing (e.g. "" or "blblbblblbl") makes the segfault disappear.



---

archive/issue_comments_189830.json:
```json
{
    "body": "Upstream: **Workaround found; Bug reported upstream.**",
    "created_at": "2013-10-25T06:58:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189830",
    "user": "https://github.com/jpflori"
}
```

Upstream: **Workaround found; Bug reported upstream.**



---

archive/issue_comments_189831.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nUpstream bug report: http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00014.html\n\nThe problem is that when the config BROKEN_LINKER is set, then a pointer CurTerm is used but never set to something else than zero.\nSetting it as in other cases seems to fix the problem.\nOr unsetting BROKEN_LINKER on Cygwin.",
    "created_at": "2013-10-25T06:58:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189831",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:5" align="right">comment:5</div>

Upstream bug report: http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00014.html

The problem is that when the config BROKEN_LINKER is set, then a pointer CurTerm is used but never set to something else than zero.
Setting it as in other cases seems to fix the problem.
Or unsetting BROKEN_LINKER on Cygwin.



---

archive/issue_comments_189832.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n Python currently fails/is suboptimal on Cygwin because:\n * it does not properly detect readline which is only installed as a shared library, patch \"2.7.3-dylib.patch\" from Cygwin package fixes that;\n * the curses module is not built because of undefined refs, just passing -lcurses when linking is not enough, one should add -ltinfo;\n-* it segfault at startup when loading the readline module, not sure why. It looks exactly as what is reported at http://trac.macports.org/ticket/29496 . Rebuilding ncurses with debug info (including CFLAGS=\"-O0 -g\" which cannot easily be passed right now) does not give much info. The offending line pointed by GCC is \"char *result = exit_attribute_mode;\"; maybe some dark magic going on as reported in http://lists.gnu.org/archive/html/bug-ncurses/2006-10/msg00002.html ; please not that on Cygwin the stack is small by default but playing a little bit with that did not really help. Further info: ncurses 5.7 is fine, ncurses 5.8 fails in the same way.\n+* it segfault at startup when loading the readline module, not sure why. It looks exactly as what is reported at http://trac.macports.org/ticket/29496 . Rebuilding ncurses with debug info (including CFLAGS=\"-O0 -g\" which cannot easily be passed right now) does not give much info. The offending line pointed by GCC is \"char *result = exit_attribute_mode;\"; maybe some dark magic going on as reported in http://lists.gnu.org/archive/html/bug-ncurses/2006-10/msg00002.html ; please not that on Cygwin the stack is small by default but playing a little bit with that did not really help. Further info: ncurses 5.7 is fine, ncurses 5.8 fails in the same way. Upstream bu report: http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00014.html\n``````\n",
    "created_at": "2013-10-25T06:58:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189832",
    "user": "https://github.com/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 Python currently fails/is suboptimal on Cygwin because:
 * it does not properly detect readline which is only installed as a shared library, patch "2.7.3-dylib.patch" from Cygwin package fixes that;
 * the curses module is not built because of undefined refs, just passing -lcurses when linking is not enough, one should add -ltinfo;
-* it segfault at startup when loading the readline module, not sure why. It looks exactly as what is reported at http://trac.macports.org/ticket/29496 . Rebuilding ncurses with debug info (including CFLAGS="-O0 -g" which cannot easily be passed right now) does not give much info. The offending line pointed by GCC is "char *result = exit_attribute_mode;"; maybe some dark magic going on as reported in http://lists.gnu.org/archive/html/bug-ncurses/2006-10/msg00002.html ; please not that on Cygwin the stack is small by default but playing a little bit with that did not really help. Further info: ncurses 5.7 is fine, ncurses 5.8 fails in the same way.
+* it segfault at startup when loading the readline module, not sure why. It looks exactly as what is reported at http://trac.macports.org/ticket/29496 . Rebuilding ncurses with debug info (including CFLAGS="-O0 -g" which cannot easily be passed right now) does not give much info. The offending line pointed by GCC is "char *result = exit_attribute_mode;"; maybe some dark magic going on as reported in http://lists.gnu.org/archive/html/bug-ncurses/2006-10/msg00002.html ; please not that on Cygwin the stack is small by default but playing a little bit with that did not really help. Further info: ncurses 5.7 is fine, ncurses 5.8 fails in the same way. Upstream bu report: http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00014.html
``````




---

archive/issue_comments_189833.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n Python currently fails/is suboptimal on Cygwin because:\n * it does not properly detect readline which is only installed as a shared library, patch \"2.7.3-dylib.patch\" from Cygwin package fixes that;\n-* the curses module is not built because of undefined refs, just passing -lcurses when linking is not enough, one should add -ltinfo;\n-* it segfault at startup when loading the readline module, not sure why. It looks exactly as what is reported at http://trac.macports.org/ticket/29496 . Rebuilding ncurses with debug info (including CFLAGS=\"-O0 -g\" which cannot easily be passed right now) does not give much info. The offending line pointed by GCC is \"char *result = exit_attribute_mode;\"; maybe some dark magic going on as reported in http://lists.gnu.org/archive/html/bug-ncurses/2006-10/msg00002.html ; please not that on Cygwin the stack is small by default but playing a little bit with that did not really help. Further info: ncurses 5.7 is fine, ncurses 5.8 fails in the same way. Upstream bu report: http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00014.html\n+* the curses module is not built because of undefined refs, just passing -lcurses when linking is not enough, one should add -ltinfo; in fact the real problem is that setup.py tries to run ldd on the import library (dll.a) which fails to detect what libraries are already linked and anyway would decide to discard -ltinfo as its already linked to readline, but on Cygwin you have to explicitely pass everything...\n+* it segfault at startup when loading the readline module, not sure why. It looks exactly as what is reported at http://trac.macports.org/ticket/29496 . Rebuilding ncurses with debug info (including CFLAGS=\"-O0 -g\" which cannot easily be passed right now) does not give much info. The offending line pointed by GCC is \"char *result = exit_attribute_mode;\"; maybe some dark magic going on as reported in http://lists.gnu.org/archive/html/bug-ncurses/2006-10/msg00002.html ; please not that on Cygwin the stack is small by default but playing a little bit with that did not really help. Further info: ncurses 5.7 is fine, ncurses 5.8 fails in the same way. Upstream bu report: http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00014.html. Should be fixed with http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00017.html\n``````\n",
    "created_at": "2013-10-28T18:02:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189833",
    "user": "https://github.com/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 Python currently fails/is suboptimal on Cygwin because:
 * it does not properly detect readline which is only installed as a shared library, patch "2.7.3-dylib.patch" from Cygwin package fixes that;
-* the curses module is not built because of undefined refs, just passing -lcurses when linking is not enough, one should add -ltinfo;
-* it segfault at startup when loading the readline module, not sure why. It looks exactly as what is reported at http://trac.macports.org/ticket/29496 . Rebuilding ncurses with debug info (including CFLAGS="-O0 -g" which cannot easily be passed right now) does not give much info. The offending line pointed by GCC is "char *result = exit_attribute_mode;"; maybe some dark magic going on as reported in http://lists.gnu.org/archive/html/bug-ncurses/2006-10/msg00002.html ; please not that on Cygwin the stack is small by default but playing a little bit with that did not really help. Further info: ncurses 5.7 is fine, ncurses 5.8 fails in the same way. Upstream bu report: http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00014.html
+* the curses module is not built because of undefined refs, just passing -lcurses when linking is not enough, one should add -ltinfo; in fact the real problem is that setup.py tries to run ldd on the import library (dll.a) which fails to detect what libraries are already linked and anyway would decide to discard -ltinfo as its already linked to readline, but on Cygwin you have to explicitely pass everything...
+* it segfault at startup when loading the readline module, not sure why. It looks exactly as what is reported at http://trac.macports.org/ticket/29496 . Rebuilding ncurses with debug info (including CFLAGS="-O0 -g" which cannot easily be passed right now) does not give much info. The offending line pointed by GCC is "char *result = exit_attribute_mode;"; maybe some dark magic going on as reported in http://lists.gnu.org/archive/html/bug-ncurses/2006-10/msg00002.html ; please not that on Cygwin the stack is small by default but playing a little bit with that did not really help. Further info: ncurses 5.7 is fine, ncurses 5.8 fails in the same way. Upstream bu report: http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00014.html. Should be fixed with http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00017.html
``````




---

archive/issue_comments_189834.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThe BROKEN_LINKER stuff should be fixed in ncurses:\n* http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00017.html",
    "created_at": "2013-10-28T18:02:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189834",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:6" align="right">comment:6</div>

The BROKEN_LINKER stuff should be fixed in ncurses:
* http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00017.html



---

archive/issue_comments_189835.json:
```json
{
    "body": "Changed upstream from **Workaround found; Bug reported upstream.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2013-10-28T18:03:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189835",
    "user": "https://github.com/jpflori"
}
```

Changed upstream from **Workaround found; Bug reported upstream.** to **Fixed upstream, but not in a stable release.**



---

archive/issue_comments_189836.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThere were further problem with the threading code in the Cygwin dll itself.\nFixed in the > 1.7.25 releases (currently only snpashots). See http://cygwin.com/ml/cygwin/2013-10/msg00371.html.",
    "created_at": "2013-11-04T10:21:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189836",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:8" align="right">comment:8</div>

There were further problem with the threading code in the Cygwin dll itself.
Fixed in the > 1.7.25 releases (currently only snpashots). See http://cygwin.com/ml/cygwin/2013-10/msg00371.html.



---

archive/issue_comments_189837.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAs far as not linking to tinfo is concerned, I'm putting this here for reference: http://bugs.python.org/issue7384.\n\nIn particular, python uses ldd for linking detection but applies it on import libraries on cygwin which just fails.\n(The situation is more or less the same on OS X but OS X seems less picky about providing explicitely all libraries to be linked in.)",
    "created_at": "2013-11-07T10:17:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189837",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:9" align="right">comment:9</div>

As far as not linking to tinfo is concerned, I'm putting this here for reference: http://bugs.python.org/issue7384.

In particular, python uses ldd for linking detection but applies it on import libraries on cygwin which just fails.
(The situation is more or less the same on OS X but OS X seems less picky about providing explicitely all libraries to be linked in.)



---

archive/issue_comments_189838.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nHere is how to find the dll corresponding to an import lib:\n* http://cygwin.com/ml/cygwin/2013-11/msg00167.html$\n(dlltool --identify [implib])",
    "created_at": "2013-12-27T13:26:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189838",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:10" align="right">comment:10</div>

Here is how to find the dll corresponding to an import lib:
* http://cygwin.com/ml/cygwin/2013-11/msg00167.html$
(dlltool --identify [implib])



---

archive/issue_comments_189839.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@jpflori](#comment:10):\n> Here is how to find the dll corresponding to an import lib:\n> * http://cygwin.com/ml/cygwin/2013-11/msg00167.html\n> (dlltool --identify [implib])\n\nFixed typo in the url.",
    "created_at": "2013-12-28T04:57:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189839",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@jpflori](#comment:10):
> Here is how to find the dll corresponding to an import lib:
> * http://cygwin.com/ml/cygwin/2013-11/msg00167.html
> (dlltool --identify [implib])

Fixed typo in the url.



---

archive/issue_comments_189840.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI've opened #15617 for the ncurses update.",
    "created_at": "2014-01-01T20:32:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189840",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:12" align="right">comment:12</div>

I've opened #15617 for the ncurses update.



---

archive/issue_comments_189841.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI've put a dirty but working python spkg at:\n* http://boxen.math.washington.edu/home/jpflori/cygwin/python-2.7.5.p2.spkg\nfor those wanting to try a Cygwin(32) build.",
    "created_at": "2014-01-01T22:06:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189841",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:13" align="right">comment:13</div>

I've put a dirty but working python spkg at:
* http://boxen.math.washington.edu/home/jpflori/cygwin/python-2.7.5.p2.spkg
for those wanting to try a Cygwin(32) build.



---

archive/issue_comments_189842.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI installed the new version of ncurses and created a new branch with the python spkg at `u/tscrim/cygwin_python-15317` (with #15617 merged in). Now I get somewhere else than I did before (with cygwin32) with it failing at importing the module `_socket`...",
    "created_at": "2014-01-04T06:09:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189842",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:14" align="right">comment:14</div>

I installed the new version of ncurses and created a new branch with the python spkg at `u/tscrim/cygwin_python-15317` (with #15617 merged in). Now I get somewhere else than I did before (with cygwin32) with it failing at importing the module `_socket`...



---

archive/issue_comments_189843.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@tscrim](#comment:14):\n> I installed the new version of ncurses and created a new branch with the python spkg at `u/tscrim/cygwin_python-15317` (with #15617 merged in). Now I get somewhere else than I did before (with cygwin32) with it failing at importing the module `_socket`...\n\nWhat is in that branch exactly?\nFrom the git log I assume you just updated the tarball with what's within the spkg?\nNote that's only for testing purpose and a clean patch should be produced :)\nFYI, I think we temporarly could just diff what's in the tarball with the vanilla tarball and ship it as a patch in Sage, but that's definitely not for upstream inclusion.\nRight know it basically adds \"-ltinfo\" all the time which is right for Sage as we build our own ncurses which makes tinfo a separate lib.\n\nThe _socket thing reminds me of rebasing issues.\nTry to run \"find . -name \"*.dll\" > dlls && rebase -O -T dlls && make\" in Sage's root.\nAnd I did not test on Cygwin64 lately, so that might be another problem.",
    "created_at": "2014-01-04T12:59:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189843",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@tscrim](#comment:14):
> I installed the new version of ncurses and created a new branch with the python spkg at `u/tscrim/cygwin_python-15317` (with #15617 merged in). Now I get somewhere else than I did before (with cygwin32) with it failing at importing the module `_socket`...

What is in that branch exactly?
From the git log I assume you just updated the tarball with what's within the spkg?
Note that's only for testing purpose and a clean patch should be produced :)
FYI, I think we temporarly could just diff what's in the tarball with the vanilla tarball and ship it as a patch in Sage, but that's definitely not for upstream inclusion.
Right know it basically adds "-ltinfo" all the time which is right for Sage as we build our own ncurses which makes tinfo a separate lib.

The _socket thing reminds me of rebasing issues.
Try to run "find . -name "*.dll" > dlls && rebase -O -T dlls && make" in Sage's root.
And I did not test on Cygwin64 lately, so that might be another problem.



---

archive/issue_comments_189844.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nTried that and it didn't work. I also pushed a patch to the branch.",
    "created_at": "2014-01-05T04:55:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189844",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:16" align="right">comment:16</div>

Tried that and it didn't work. I also pushed a patch to the branch.



---

archive/issue_comments_189845.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,3 +2,6 @@\n * it does not properly detect readline which is only installed as a shared library, patch \"2.7.3-dylib.patch\" from Cygwin package fixes that;\n * the curses module is not built because of undefined refs, just passing -lcurses when linking is not enough, one should add -ltinfo; in fact the real problem is that setup.py tries to run ldd on the import library (dll.a) which fails to detect what libraries are already linked and anyway would decide to discard -ltinfo as its already linked to readline, but on Cygwin you have to explicitely pass everything...\n * it segfault at startup when loading the readline module, not sure why. It looks exactly as what is reported at http://trac.macports.org/ticket/29496 . Rebuilding ncurses with debug info (including CFLAGS=\"-O0 -g\" which cannot easily be passed right now) does not give much info. The offending line pointed by GCC is \"char *result = exit_attribute_mode;\"; maybe some dark magic going on as reported in http://lists.gnu.org/archive/html/bug-ncurses/2006-10/msg00002.html ; please not that on Cygwin the stack is small by default but playing a little bit with that did not really help. Further info: ncurses 5.7 is fine, ncurses 5.8 fails in the same way. Upstream bu report: http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00014.html. Should be fixed with http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00017.html\n+\n+This ticket fixes the Python part.\n+The ncurses part is #15617\n``````\n",
    "created_at": "2014-01-05T21:53:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189845",
    "user": "https://github.com/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,3 +2,6 @@
 * it does not properly detect readline which is only installed as a shared library, patch "2.7.3-dylib.patch" from Cygwin package fixes that;
 * the curses module is not built because of undefined refs, just passing -lcurses when linking is not enough, one should add -ltinfo; in fact the real problem is that setup.py tries to run ldd on the import library (dll.a) which fails to detect what libraries are already linked and anyway would decide to discard -ltinfo as its already linked to readline, but on Cygwin you have to explicitely pass everything...
 * it segfault at startup when loading the readline module, not sure why. It looks exactly as what is reported at http://trac.macports.org/ticket/29496 . Rebuilding ncurses with debug info (including CFLAGS="-O0 -g" which cannot easily be passed right now) does not give much info. The offending line pointed by GCC is "char *result = exit_attribute_mode;"; maybe some dark magic going on as reported in http://lists.gnu.org/archive/html/bug-ncurses/2006-10/msg00002.html ; please not that on Cygwin the stack is small by default but playing a little bit with that did not really help. Further info: ncurses 5.7 is fine, ncurses 5.8 fails in the same way. Upstream bu report: http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00014.html. Should be fixed with http://lists.gnu.org/archive/html/bug-ncurses/2013-10/msg00017.html
+
+This ticket fixes the Python part.
+The ncurses part is #15617
``````




---

archive/issue_events_217885.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2014-01-05T21:53:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15317#event-217885"
}
```



---

archive/issue_comments_189846.json:
```json
{
    "body": "Author: **Jean-Pierre Flori**",
    "created_at": "2014-01-05T21:53:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189846",
    "user": "https://github.com/jpflori"
}
```

Author: **Jean-Pierre Flori**



---

archive/issue_comments_189847.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThe branch I pushed is cleaner and should be good to go.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79166403ba2f72a9cda9a6641a8914293d3cd2d1\">7916640</a></td><td><code>Make sure tinfo is correctly linked in when needed on Cygwin.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9acea9b4e12e69f433d269e0ff18a390ce56497e\">9acea9b</a></td><td><code>Actually add the NTL patch.</code></td></tr></table>\n",
    "created_at": "2014-01-05T21:53:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189847",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:17" align="right">comment:17</div>

The branch I pushed is cleaner and should be good to go.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79166403ba2f72a9cda9a6641a8914293d3cd2d1">7916640</a></td><td><code>Make sure tinfo is correctly linked in when needed on Cygwin.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9acea9b4e12e69f433d269e0ff18a390ce56497e">9acea9b</a></td><td><code>Actually add the NTL patch.</code></td></tr></table>




---

archive/issue_comments_189848.json:
```json
{
    "body": "Changed upstream from **Fixed upstream, but not in a stable release.** to **Workaround found; Bug reported upstream.**",
    "created_at": "2014-01-05T21:53:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189848",
    "user": "https://github.com/jpflori"
}
```

Changed upstream from **Fixed upstream, but not in a stable release.** to **Workaround found; Bug reported upstream.**



---

archive/issue_comments_189849.json:
```json
{
    "body": "Commit: **[7916640](https://github.com/sagemath/sagetrac-mirror/commit/79166403ba2f72a9cda9a6641a8914293d3cd2d1)**",
    "created_at": "2014-01-05T21:53:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189849",
    "user": "https://github.com/jpflori"
}
```

Commit: **[7916640](https://github.com/sagemath/sagetrac-mirror/commit/79166403ba2f72a9cda9a6641a8914293d3cd2d1)**



---

archive/issue_comments_189850.json:
```json
{
    "body": "Branch: **[u/jpflori/ticket/15317](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/15317)**",
    "created_at": "2014-01-05T21:53:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189850",
    "user": "https://github.com/jpflori"
}
```

Branch: **[u/jpflori/ticket/15317](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/15317)**



---

archive/issue_comments_189851.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nGroumpf, wrong branch, I'm pushing the right one shortly.\n\nTravis: Could you post the log of the failed build?",
    "created_at": "2014-01-05T21:54:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189851",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:18" align="right">comment:18</div>

Groumpf, wrong branch, I'm pushing the right one shortly.

Travis: Could you post the log of the failed build?



---

archive/issue_comments_189852.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0a09c5122ffba794a121ad3bdf8fdf5cb96f2c8\">c0a09c5</a></td><td><code>Make sure tinfo is correctly linked in when needed on Cygwin.</code></td></tr></table>\n",
    "created_at": "2014-01-05T21:56:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189852",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0a09c5122ffba794a121ad3bdf8fdf5cb96f2c8">c0a09c5</a></td><td><code>Make sure tinfo is correctly linked in when needed on Cygwin.</code></td></tr></table>




---

archive/issue_comments_189853.json:
```json
{
    "body": "Changed commit from **[7916640](https://github.com/sagemath/sagetrac-mirror/commit/79166403ba2f72a9cda9a6641a8914293d3cd2d1)** to **[c0a09c5](https://github.com/sagemath/sagetrac-mirror/commit/c0a09c5122ffba794a121ad3bdf8fdf5cb96f2c8)**",
    "created_at": "2014-01-05T21:56:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189853",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7916640](https://github.com/sagemath/sagetrac-mirror/commit/79166403ba2f72a9cda9a6641a8914293d3cd2d1)** to **[c0a09c5](https://github.com/sagemath/sagetrac-mirror/commit/c0a09c5122ffba794a121ad3bdf8fdf5cb96f2c8)**



---

archive/issue_comments_189854.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI think with the new branch it worked...I'm now building atlas. Let me try on Cygwin64 and my Ubuntu machine.",
    "created_at": "2014-01-07T16:28:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189854",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:20" align="right">comment:20</div>

I think with the new branch it worked...I'm now building atlas. Let me try on Cygwin64 and my Ubuntu machine.



---

archive/issue_comments_189855.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI don't promise it works on Cygwin64... though I don't see any reason why it shouldn't.",
    "created_at": "2014-01-07T21:10:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189855",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:21" align="right">comment:21</div>

I don't promise it works on Cygwin64... though I don't see any reason why it shouldn't.



---

archive/issue_comments_189856.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nFor ATLAS you will need #15615 as I forgot to update the autotools project within the tarball after #14410... and so the changes introduced in the patches/ATLAS-lib dir are not reflected in the build system actually used (src/ATLAS-lib).",
    "created_at": "2014-01-07T21:11:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189856",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:22" align="right">comment:22</div>

For ATLAS you will need #15615 as I forgot to update the autotools project within the tarball after #14410... and so the changes introduced in the patches/ATLAS-lib dir are not reflected in the build system actually used (src/ATLAS-lib).



---

archive/issue_comments_189857.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nAttachment: **[scrimshaw_cygwin.log](https://github.com/sagemath/sage/files/ticket15317/scrimshaw_cygwin.log)**\n\nATLAS built fine for me, but it's failing on pillow. I've attached the log. I'm trying the Cygwin64 now.",
    "created_at": "2014-01-07T23:36:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189857",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:23" align="right">comment:23</div>

Attachment: **[scrimshaw_cygwin.log](https://github.com/sagemath/sage/files/ticket15317/scrimshaw_cygwin.log)**

ATLAS built fine for me, but it's failing on pillow. I've attached the log. I'm trying the Cygwin64 now.



---

archive/issue_comments_189858.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nAttachment: **[scrimshaw_cywgin64.log](https://github.com/sagemath/sage/files/ticket15317/scrimshaw_cywgin64.log)**\n\nFTR It doesn't work for me on Cygwin64. Here's the log.",
    "created_at": "2014-01-08T00:47:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189858",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:24" align="right">comment:24</div>

Attachment: **[scrimshaw_cywgin64.log](https://github.com/sagemath/sage/files/ticket15317/scrimshaw_cywgin64.log)**

FTR It doesn't work for me on Cygwin64. Here's the log.



---

archive/issue_comments_189859.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@tscrim](#comment:23):\n> ATLAS built fine for me, but it's failing on pillow. I've attached the log. I'm trying the Cygwin64 now.\n\nThe pillow failure has noting to do with the cahnges here.\nIt is quite easy to fix and is an upstream bug:\n* pillow wants to use some png functions but does not explicitely link to libpng and that's a no go on cygwin (but ok on most other systems).\n* in the log see line 314 \"building 'PIL._imagingft' extension\" and the few next ones",
    "created_at": "2014-01-08T09:50:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189859",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@tscrim](#comment:23):
> ATLAS built fine for me, but it's failing on pillow. I've attached the log. I'm trying the Cygwin64 now.

The pillow failure has noting to do with the cahnges here.
It is quite easy to fix and is an upstream bug:
* pillow wants to use some png functions but does not explicitely link to libpng and that's a no go on cygwin (but ok on most other systems).
* in the log see line 314 "building 'PIL._imagingft' extension" and the few next ones



---

archive/issue_comments_189860.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@tscrim](#comment:24):\n> FTR It doesn't work for me on Cygwin64. Here's the log.\n\nIt seems the readline module is not built:\n\n```\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\nImportError: No module named readline\n```\nand indeed readline is not found:\n\n```\nchecking how to link readline libs... none\nchecking for rl_callback_handler_install in -lreadline... no\nchecking for rl_pre_input_hook in -lreadline... no\nchecking for rl_completion_display_matches_hook in -lreadline... no\nchecking for rl_completion_matches in -lreadline... no\n```\nCould you post your readline log?\n\nPlease let's go one step at a time, at least now installing python on Cygwin32 works, I'll try to go with the pillow and installing python on Cygwin64 issues on follow up tickets quickly.",
    "created_at": "2014-01-08T09:53:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189860",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@tscrim](#comment:24):
> FTR It doesn't work for me on Cygwin64. Here's the log.

It seems the readline module is not built:

```
Traceback (most recent call last):
  File "<string>", line 1, in <module>
ImportError: No module named readline
```
and indeed readline is not found:

```
checking how to link readline libs... none
checking for rl_callback_handler_install in -lreadline... no
checking for rl_pre_input_hook in -lreadline... no
checking for rl_completion_display_matches_hook in -lreadline... no
checking for rl_completion_matches in -lreadline... no
```
Could you post your readline log?

Please let's go one step at a time, at least now installing python on Cygwin32 works, I'll try to go with the pillow and installing python on Cygwin64 issues on follow up tickets quickly.



---

archive/issue_comments_189861.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@jpflori](#comment:26):\n> Replying to [@tscrim](#comment:24):\n> > FTR It doesn't work for me on Cygwin64. Here's the log.\n\n> It seems the readline module is not built:\n> \n> ```\n> Traceback (most recent call last):\n>   File \"<string>\", line 1, in <module>\n> ImportError: No module named readline\n> ```\n> and indeed readline is not found:\n> \n> ```\n> checking how to link readline libs... none\n> checking for rl_callback_handler_install in -lreadline... no\n> checking for rl_pre_input_hook in -lreadline... no\n> checking for rl_completion_display_matches_hook in -lreadline... no\n> checking for rl_completion_matches in -lreadline... no\n> ```\n> Could you post your readline log?Atickets quickly.\n\nAlso note this failure surel has nothing to do with the changes here as readline is not detected during the autotools based configuration phase, not the setup.py one which I modified.",
    "created_at": "2014-01-08T09:55:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189861",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@jpflori](#comment:26):
> Replying to [@tscrim](#comment:24):
> > FTR It doesn't work for me on Cygwin64. Here's the log.

> It seems the readline module is not built:
> 
> ```
> Traceback (most recent call last):
>   File "<string>", line 1, in <module>
> ImportError: No module named readline
> ```
> and indeed readline is not found:
> 
> ```
> checking how to link readline libs... none
> checking for rl_callback_handler_install in -lreadline... no
> checking for rl_pre_input_hook in -lreadline... no
> checking for rl_completion_display_matches_hook in -lreadline... no
> checking for rl_completion_matches in -lreadline... no
> ```
> Could you post your readline log?Atickets quickly.

Also note this failure surel has nothing to do with the changes here as readline is not detected during the autotools based configuration phase, not the setup.py one which I modified.



---

archive/issue_comments_189862.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nStrangely on my setup, readline seems to have built fine, is detected, but the python fails because of an ICE in GCC.",
    "created_at": "2014-01-08T14:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189862",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:28" align="right">comment:28</div>

Strangely on my setup, readline seems to have built fine, is detected, but the python fails because of an ICE in GCC.



---

archive/issue_comments_189863.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\n(I mean my Cygwin64 setup, with Cygwin's GCC 4.8.2.)",
    "created_at": "2014-01-08T14:43:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189863",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:29" align="right">comment:29</div>

(I mean my Cygwin64 setup, with Cygwin's GCC 4.8.2.)



---

archive/issue_comments_189864.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nAfter fixing my ICE on Cygwin64 (using #10572), I oculd build pytohn.",
    "created_at": "2014-01-08T16:56:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189864",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:30" align="right">comment:30</div>

After fixing my ICE on Cygwin64 (using #10572), I oculd build pytohn.



---

archive/issue_events_217886.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15317#event-217886"
}
```



---

archive/issue_events_217887.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15317#event-217887"
}
```



---

archive/issue_comments_189865.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nSorry for the delays, let's get this in.",
    "created_at": "2014-02-02T05:51:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189865",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:32" align="right">comment:32</div>

Sorry for the delays, let's get this in.



---

archive/issue_comments_189866.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2014-02-02T05:51:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189866",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_217888.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-02-02T05:51:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15317#event-217888"
}
```



---

archive/issue_events_217889.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-02-02T05:51:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15317#event-217889"
}
```



---

archive/issue_comments_189867.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nBreaks python build on mod:\n\nhttp://build.sagemath.org/sage/builders/%20%20fast%20UW%20mod%20%28Ubuntu%208.04%20x86_64%29%20incremental/builds/25/steps/compile/logs/python",
    "created_at": "2014-02-02T23:01:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189867",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:33" align="right">comment:33</div>

Breaks python build on mod:

http://build.sagemath.org/sage/builders/%20%20fast%20UW%20mod%20%28Ubuntu%208.04%20x86_64%29%20incremental/builds/25/steps/compile/logs/python



---

archive/issue_comments_189868.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nAny chance to get the getbuildinfo.c file?\nDoesn't look obvously related, so needs further info.",
    "created_at": "2014-02-03T09:43:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189868",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:34" align="right">comment:34</div>

Any chance to get the getbuildinfo.c file?
Doesn't look obvously related, so needs further info.



---

archive/issue_comments_189869.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nSorry, the buildbot has already moved on. You'll have to build it yourself.",
    "created_at": "2014-02-03T13:47:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189869",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:35" align="right">comment:35</div>

Sorry, the buildbot has already moved on. You'll have to build it yourself.



---

archive/issue_comments_189870.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nI just did so ... and the build succeeded.\n\nI merged u/jpflori/ticket/15317 with develop, exported MAKE to something sensible and ran make.\nDoes the buildbot export anything strange before building?",
    "created_at": "2014-02-03T15:46:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189870",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:36" align="right">comment:36</div>

I just did so ... and the build succeeded.

I merged u/jpflori/ticket/15317 with develop, exported MAKE to something sensible and ran make.
Does the buildbot export anything strange before building?



---

archive/issue_comments_189871.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nHum, here is waht the pytho log says:\n\n```\ngcc -pthread -c -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall   -I. -IIn\nclude -I./Include  -fPIC -DPy_BUILD_CORE -o Python/graminit.o Python/graminit.c\ngcc -pthread -c -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall   -I. -IIn\nclude -I./Include  -fPIC -DPy_BUILD_CORE \\\n              -DSVNVERSION=\"\\\"`LC_ALL=C svnversion .`\\\"\" \\\n              -DHGVERSION=\"\\\"`LC_ALL=C hg id -i .`\\\"\" \\\n              -DHGTAG=\"\\\"`LC_ALL=C hg id -t .`\\\"\" \\\n              -DHGBRANCH=\"\\\"`LC_ALL=C hg id -b .`\\\"\" \\\n              -o Modules/getbuildinfo.o ./Modules/getbuildinfo.c\n************************************************************************\nIt seems that you are attempting to run Sage from an unpacked source\ntarball, but you have not compiled it yet (or maybe the build has not\nfinished). You should run `make` in the Sage root directory first.\nIf you did not intend to build Sage from source, you should download\na binary tarball instead. Read README.txt for more information.\n************************************************************************\n************************************************************************\nIt seems that you are attempting to run Sage from an unpacked source\ntarball, but you have not compiled it yet (or maybe the build has not\nfinished). You should run `make` in the Sage root directory first.\nIf you did not intend to build Sage from source, you should download\na binary tarball instead. Read README.txt for more information.\n************************************************************************\n************************************************************************\nIt seems that you are attempting to run Sage from an unpacked source\ntarball, but you have not compiled it yet (or maybe the build has not\nfinished). You should run `make` in the Sage root directory first.\nIf you did not intend to build Sage from source, you should download\na binary tarball instead. Read README.txt for more information.\n************************************************************************\n```",
    "created_at": "2014-02-03T15:47:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189871",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:37" align="right">comment:37</div>

Hum, here is waht the pytho log says:

```
gcc -pthread -c -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall   -I. -IIn
clude -I./Include  -fPIC -DPy_BUILD_CORE -o Python/graminit.o Python/graminit.c
gcc -pthread -c -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall   -I. -IIn
clude -I./Include  -fPIC -DPy_BUILD_CORE \
              -DSVNVERSION="\"`LC_ALL=C svnversion .`\"" \
              -DHGVERSION="\"`LC_ALL=C hg id -i .`\"" \
              -DHGTAG="\"`LC_ALL=C hg id -t .`\"" \
              -DHGBRANCH="\"`LC_ALL=C hg id -b .`\"" \
              -o Modules/getbuildinfo.o ./Modules/getbuildinfo.c
************************************************************************
It seems that you are attempting to run Sage from an unpacked source
tarball, but you have not compiled it yet (or maybe the build has not
finished). You should run `make` in the Sage root directory first.
If you did not intend to build Sage from source, you should download
a binary tarball instead. Read README.txt for more information.
************************************************************************
************************************************************************
It seems that you are attempting to run Sage from an unpacked source
tarball, but you have not compiled it yet (or maybe the build has not
finished). You should run `make` in the Sage root directory first.
If you did not intend to build Sage from source, you should download
a binary tarball instead. Read README.txt for more information.
************************************************************************
************************************************************************
It seems that you are attempting to run Sage from an unpacked source
tarball, but you have not compiled it yet (or maybe the build has not
finished). You should run `make` in the Sage root directory first.
If you did not intend to build Sage from source, you should download
a binary tarball instead. Read README.txt for more information.
************************************************************************
```



---

archive/issue_comments_189872.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nTrying to reinstall python then fails:\n\n```\ngcc -pthread -c -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall   -I. -IInclude -I./Include  -fPIC -DPy_BUILD_CORE \\\n              -DSVNVERSION=\"\\\"`LC_ALL=C svnversion .`\\\"\" \\\n              -DHGVERSION=\"\\\"`LC_ALL=C hg id -i .`\\\"\" \\\n              -DHGTAG=\"\\\"`LC_ALL=C hg id -t .`\\\"\" \\\n              -DHGBRANCH=\"\\\"`LC_ALL=C hg id -b .`\\\"\" \\\n              -o Modules/getbuildinfo.o ./Modules/getbuildinfo.c\n<command-line>:0:11: warning: missing terminating \" character [enabled by default]\n<command-line>:1:7: warning: missing terminating \" character [enabled by default]\n<command-line>:2:10: warning: missing terminating \" character [enabled by default]\n./Modules/getbuildinfo.c: In function 'Py_GetBuildInfo':\n./Modules/getbuildinfo.c:45:5: error: missing terminating \" character\n./Modules/getbuildinfo.c:45:48: error: expected expression before ')' token\n./Modules/getbuildinfo.c:46:27: error: missing terminating \" character\n./Modules/getbuildinfo.c:46:27: error: missing terminating \" character\n./Modules/getbuildinfo.c:47:28: error: missing terminating \" character\n./Modules/getbuildinfo.c:47:28: error: missing terminating \" character\n./Modules/getbuildinfo.c:53:19: error: 'buildinfo' undeclared (first use in this function)\n./Modules/getbuildinfo.c:53:19: note: each undeclared identifier is reported only once for each function it appears in\n./Modules/getbuildinfo.c: In function '_Py_hgversion':\n./Modules/getbuildinfo.c:72:5: error: missing terminating \" character\n./Modules/getbuildinfo.c:72:5: warning: 'return' with no value, in function returning non-void [-Wreturn-type]\n./Modules/getbuildinfo.c: In function '_Py_hgidentifier':\n./Modules/getbuildinfo.c:79:5: error: missing terminating \" character\n./Modules/getbuildinfo.c:79:18: error: expected expression before ';' token\n./Modules/getbuildinfo.c:83:9: error: missing terminating \" character\n./Modules/getbuildinfo.c:83:24: error: expected expression before ';' token\n./Modules/getbuildinfo.c: In function 'Py_GetBuildInfo':\n./Modules/getbuildinfo.c:57:1: warning: control reaches end of non-void function [-Wreturn-type]\nmake: *** [Modules/getbuildinfo.o] Error 1\n```",
    "created_at": "2014-02-03T15:50:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189872",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:38" align="right">comment:38</div>

Trying to reinstall python then fails:

```
gcc -pthread -c -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall   -I. -IInclude -I./Include  -fPIC -DPy_BUILD_CORE \
              -DSVNVERSION="\"`LC_ALL=C svnversion .`\"" \
              -DHGVERSION="\"`LC_ALL=C hg id -i .`\"" \
              -DHGTAG="\"`LC_ALL=C hg id -t .`\"" \
              -DHGBRANCH="\"`LC_ALL=C hg id -b .`\"" \
              -o Modules/getbuildinfo.o ./Modules/getbuildinfo.c
<command-line>:0:11: warning: missing terminating " character [enabled by default]
<command-line>:1:7: warning: missing terminating " character [enabled by default]
<command-line>:2:10: warning: missing terminating " character [enabled by default]
./Modules/getbuildinfo.c: In function 'Py_GetBuildInfo':
./Modules/getbuildinfo.c:45:5: error: missing terminating " character
./Modules/getbuildinfo.c:45:48: error: expected expression before ')' token
./Modules/getbuildinfo.c:46:27: error: missing terminating " character
./Modules/getbuildinfo.c:46:27: error: missing terminating " character
./Modules/getbuildinfo.c:47:28: error: missing terminating " character
./Modules/getbuildinfo.c:47:28: error: missing terminating " character
./Modules/getbuildinfo.c:53:19: error: 'buildinfo' undeclared (first use in this function)
./Modules/getbuildinfo.c:53:19: note: each undeclared identifier is reported only once for each function it appears in
./Modules/getbuildinfo.c: In function '_Py_hgversion':
./Modules/getbuildinfo.c:72:5: error: missing terminating " character
./Modules/getbuildinfo.c:72:5: warning: 'return' with no value, in function returning non-void [-Wreturn-type]
./Modules/getbuildinfo.c: In function '_Py_hgidentifier':
./Modules/getbuildinfo.c:79:5: error: missing terminating " character
./Modules/getbuildinfo.c:79:18: error: expected expression before ';' token
./Modules/getbuildinfo.c:83:9: error: missing terminating " character
./Modules/getbuildinfo.c:83:24: error: expected expression before ';' token
./Modules/getbuildinfo.c: In function 'Py_GetBuildInfo':
./Modules/getbuildinfo.c:57:1: warning: control reaches end of non-void function [-Wreturn-type]
make: *** [Modules/getbuildinfo.o] Error 1
```



---

archive/issue_comments_189873.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\n/usr/local/bin/hg is broken on mod:\n\n```\n#!/bin/sh\nsage -hg $*\n```\nwhence all the above.\n\nIn particular, once sage(.git) is built, one get:\n\n```\n(sage-sh) jpflori@mod:src$ which hg\n/usr/local/bin/hg\n(sage-sh) jpflori@mod:src$ LC_ALL=C hg id -i .\nsage-run received unknown option: -hg \nusage: sage [options]\nTry 'sage -h' for more information.\n```",
    "created_at": "2014-02-03T15:54:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189873",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:39" align="right">comment:39</div>

/usr/local/bin/hg is broken on mod:

```
#!/bin/sh
sage -hg $*
```
whence all the above.

In particular, once sage(.git) is built, one get:

```
(sage-sh) jpflori@mod:src$ which hg
/usr/local/bin/hg
(sage-sh) jpflori@mod:src$ LC_ALL=C hg id -i .
sage-run received unknown option: -hg 
usage: sage [options]
Try 'sage -h' for more information.
```



---

archive/issue_comments_189874.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nThis ticket is not broken, the `hg` command on `mod` is broken.",
    "created_at": "2014-02-03T15:56:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189874",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:40" align="right">comment:40</div>

This ticket is not broken, the `hg` command on `mod` is broken.



---

archive/issue_comments_189875.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nHow about\n\n```\n./configure HAS_HG=no SVNVERSION=no [...]\n```",
    "created_at": "2014-02-03T16:18:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189875",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:41" align="right">comment:41</div>

How about

```
./configure HAS_HG=no SVNVERSION=no [...]
```



---

archive/issue_comments_189876.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [@vbraun](#comment:41):\n> How about\n> \n> ```\n> ./configure HAS_HG=no SVNVERSION=no [...]\n> ```\n\nWhy not, but let's do this somewhere else.\nAnd maybe only if SAGE_FAT_BINARY is set or something like that.\nWe cannot deal with every broken systems users may come up with.",
    "created_at": "2014-02-05T10:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189876",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [@vbraun](#comment:41):
> How about
> 
> ```
> ./configure HAS_HG=no SVNVERSION=no [...]
> ```

Why not, but let's do this somewhere else.
And maybe only if SAGE_FAT_BINARY is set or something like that.
We cannot deal with every broken systems users may come up with.



---

archive/issue_comments_189877.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nFair enough, but this ticket can't be merged until either mod is un-broken or a workaround is implemented. Or both.",
    "created_at": "2014-02-05T10:50:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189877",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:43" align="right">comment:43</div>

Fair enough, but this ticket can't be merged until either mod is un-broken or a workaround is implemented. Or both.



---

archive/issue_comments_189878.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nMaybe William can fix mod (i.e. delete the harmful /usr/local/bin/hg)?",
    "created_at": "2014-02-05T10:52:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189878",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:44" align="right">comment:44</div>

Maybe William can fix mod (i.e. delete the harmful /usr/local/bin/hg)?



---

archive/issue_comments_189879.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\n(And isn't the failure triggered even without this ticket? I mean: just trying to recompile python should fail.)",
    "created_at": "2014-02-05T10:53:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189879",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:45" align="right">comment:45</div>

(And isn't the failure triggered even without this ticket? I mean: just trying to recompile python should fail.)



---

archive/issue_comments_189880.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nCan you post to the sage.math users mailing list, this is for admin issues.",
    "created_at": "2014-02-05T10:53:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189880",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:46" align="right">comment:46</div>

Can you post to the sage.math users mailing list, this is for admin issues.



---

archive/issue_comments_189881.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nDone: https://groups.google.com/d/msg/sagemath-users/uMHB5gtlJS8/bKPtZqI-tc0J",
    "created_at": "2014-02-05T11:00:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189881",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:47" align="right">comment:47</div>

Done: https://groups.google.com/d/msg/sagemath-users/uMHB5gtlJS8/bKPtZqI-tc0J



---

archive/issue_comments_189882.json:
```json
{
    "body": "Changed branch from **[u/jpflori/ticket/15317](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/15317)** to **[c0a09c5](https://github.com/sagemath/sagetrac-mirror/commit/c0a09c5122ffba794a121ad3bdf8fdf5cb96f2c8)**",
    "created_at": "2014-02-14T19:44:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15317#issuecomment-189882",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jpflori/ticket/15317](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/15317)** to **[c0a09c5](https://github.com/sagemath/sagetrac-mirror/commit/c0a09c5122ffba794a121ad3bdf8fdf5cb96f2c8)**



---

archive/issue_events_217890.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-14T19:44:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15317#event-217890"
}
```



---

archive/issue_events_217891.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "995ae43ce16ced8d5a8bb269c4c538e370bcdceb",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-02-14T19:44:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15317",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15317#event-217891"
}
```
