# Issue 15346: Symbolic sums should evaluate

archive/issues_015109.json:
```json
{
    "assignees": [],
    "body": "[This ask.sagemath question](http://ask.sagemath.org/question/3152) points out that \n\n```\nsage: k,n = var('k,n')\nsage: f(x,k) = sum((2/n)*(sin(n*x)*(-1)^(n+1)), n, 1, k)\nsage: f(x,2)\n-2*sum((-1)^n*sin(n*x)/n, n, 1, 2)\n```\nwhile\n\n```\nsage: f(x)=(2/n)*(sin(n*x)*(-1)^(n+1))\nsage: sum(f, n, 1, 2) #using summation function\n-sin(2*x) + 2*sin(x)\n```\nUser twch found this workaround\n\n```\nsage: var('n')\nsage: def g(x,k):\nsage:    return sum((2/n)*(sin(n*x)*(-1)^(n+1)), n, 1, k)\nsage: print g(x,2)\n-sin(2*x) + 2*sin(x)\n```\nbut I agree with him/her that we should look into how to fix this.\n\nThe essential problem is that when Maxima does not simplify a sum, we don't have any mechanism (currently) to get it to \"just print out all the numbers\".  Which of course may not be very nice when `k` is big, but presumably should be allowed to be done by users.\n\n---\n\nBy the way, the way to do this in Maxima is as follows:\n\n```\n\n(%i1) f: -2*'sum((-1)^n*sin(n*x)/n,n,1,2);\n                                2\n                               ====       n\n                               \\     (- 1)  sin(n x)\n(%o1)                      - 2  >    ---------------\n                               /            n\n                               ====\n                               n = 1\n\n(%i8) f, nouns;\n                                 sin(2 x)\n(%o8)                       - 2 (-------- - sin(x))\n                                    2\n```\nso setting `nouns:true` just for this would work, but I can never figure out how to do this from within Sage - see #10955.\n\nPossibly related: #9424\n\nSee also\n- \u200bhttp://ask.sagemath.org/question/9937/how-do-i-evaluate-sum-containing-factorial/\n- \u200bhttp://ask.sagemath.org/question/24911/exponentiation-makes-a-formula-go-crazy/ \n\nCC:  @orlitzky\n\nBranch/Commit: **[3ee8c6d](https://github.com/sagemath/sagetrac-mirror/commit/3ee8c6d29ce916b70e5c0f32a0ae961796344afd)**\n\nReviewer: **Karl-Dieter Crisman**\n\nAuthor: **Ralf Stephan**\n\nComponent: **symbolics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15346_\n\n",
    "closed_at": "2015-02-17T19:28:13Z",
    "created_at": "2013-11-01T15:52:05Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Symbolic sums should evaluate",
    "type": "issue",
    "updated_at": "2015-02-17T19:28:13Z",
    "url": "https://github.com/sagemath/sage/issues/15346",
    "user": "https://github.com/kcrisman"
}
```
[This ask.sagemath question](http://ask.sagemath.org/question/3152) points out that 

```
sage: k,n = var('k,n')
sage: f(x,k) = sum((2/n)*(sin(n*x)*(-1)^(n+1)), n, 1, k)
sage: f(x,2)
-2*sum((-1)^n*sin(n*x)/n, n, 1, 2)
```
while

```
sage: f(x)=(2/n)*(sin(n*x)*(-1)^(n+1))
sage: sum(f, n, 1, 2) #using summation function
-sin(2*x) + 2*sin(x)
```
User twch found this workaround

```
sage: var('n')
sage: def g(x,k):
sage:    return sum((2/n)*(sin(n*x)*(-1)^(n+1)), n, 1, k)
sage: print g(x,2)
-sin(2*x) + 2*sin(x)
```
but I agree with him/her that we should look into how to fix this.

The essential problem is that when Maxima does not simplify a sum, we don't have any mechanism (currently) to get it to "just print out all the numbers".  Which of course may not be very nice when `k` is big, but presumably should be allowed to be done by users.

---

By the way, the way to do this in Maxima is as follows:

```

(%i1) f: -2*'sum((-1)^n*sin(n*x)/n,n,1,2);
                                2
                               ====       n
                               \     (- 1)  sin(n x)
(%o1)                      - 2  >    ---------------
                               /            n
                               ====
                               n = 1

(%i8) f, nouns;
                                 sin(2 x)
(%o8)                       - 2 (-------- - sin(x))
                                    2
```
so setting `nouns:true` just for this would work, but I can never figure out how to do this from within Sage - see #10955.

Possibly related: #9424

See also
- ​http://ask.sagemath.org/question/9937/how-do-i-evaluate-sum-containing-factorial/
- ​http://ask.sagemath.org/question/24911/exponentiation-makes-a-formula-go-crazy/ 

CC:  @orlitzky

Branch/Commit: **[3ee8c6d](https://github.com/sagemath/sagetrac-mirror/commit/3ee8c6d29ce916b70e5c0f32a0ae961796344afd)**

Reviewer: **Karl-Dieter Crisman**

Author: **Ralf Stephan**

Component: **symbolics**

_Issue created by migration from https://trac.sagemath.org/ticket/15346_





---

archive/issue_events_218322.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-11-01T15:52:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218322"
}
```



---

archive/issue_events_218323.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-11-01T15:52:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "c: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218323"
}
```



---

archive/issue_events_218324.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-11-01T15:52:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218324"
}
```



---

archive/issue_events_218325.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-11-01T15:52:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218325"
}
```



---

archive/issue_events_218326.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218326"
}
```



---

archive/issue_events_218327.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218327"
}
```



---

archive/issue_events_218328.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218328"
}
```



---

archive/issue_events_218329.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218329"
}
```



---

archive/issue_events_218330.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218330"
}
```



---

archive/issue_events_218331.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218331"
}
```



---

archive/issue_comments_190284.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -47,3 +47,9 @@\n                                     2\n ```\n so setting `nouns:true` just for this would work, but I can never figure out how to do this from within Sage - see #10955.\n+\n+Possibly related: #9424\n+\n+See also\n+- \u200bhttp://ask.sagemath.org/question/9937/how-do-i-evaluate-sum-containing-factorial/\n+- \u200bhttp://ask.sagemath.org/question/24911/exponentiation-makes-a-formula-go-crazy/ \n``````\n",
    "created_at": "2014-12-02T08:49:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190284",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -47,3 +47,9 @@
                                     2
 ```
 so setting `nouns:true` just for this would work, but I can never figure out how to do this from within Sage - see #10955.
+
+Possibly related: #9424
+
+See also
+- ​http://ask.sagemath.org/question/9937/how-do-i-evaluate-sum-containing-factorial/
+- ​http://ask.sagemath.org/question/24911/exponentiation-makes-a-formula-go-crazy/ 
``````




---

archive/issue_events_218332.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-12-02T08:49:06Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "title_is": "Symbolic sums should evaluate",
    "title_was": "symbolic sums that don't simplify don't simplify",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218332"
}
```



---

archive/issue_events_218333.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-12-02T08:49:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218333"
}
```



---

archive/issue_events_218334.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-12-02T08:49:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218334"
}
```



---

archive/issue_comments_190285.json:
```json
{
    "body": "Branch: **[u/rws/symbolic_sums_should_evaluate](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/symbolic_sums_should_evaluate)**",
    "created_at": "2014-12-02T09:57:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190285",
    "user": "https://github.com/rwst"
}
```

Branch: **[u/rws/symbolic_sums_should_evaluate](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/symbolic_sums_should_evaluate)**



---

archive/issue_events_218335.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-12-02T09:58:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218335"
}
```



---

archive/issue_comments_190286.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df516f88d0c13d22d60e8b7d191eb0b2aa75f26a\">df516f8</a></td><td><code>15346: implement simplify_sum and call it from full_simplify</code></td></tr></table>\n",
    "created_at": "2014-12-02T09:58:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190286",
    "user": "https://github.com/rwst"
}
```

<div id="comment:6"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df516f88d0c13d22d60e8b7d191eb0b2aa75f26a">df516f8</a></td><td><code>15346: implement simplify_sum and call it from full_simplify</code></td></tr></table>




---

archive/issue_comments_190287.json:
```json
{
    "body": "Commit: **[df516f8](https://github.com/sagemath/sagetrac-mirror/commit/df516f88d0c13d22d60e8b7d191eb0b2aa75f26a)**",
    "created_at": "2014-12-02T09:58:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190287",
    "user": "https://github.com/rwst"
}
```

Commit: **[df516f8](https://github.com/sagemath/sagetrac-mirror/commit/df516f88d0c13d22d60e8b7d191eb0b2aa75f26a)**



---

archive/issue_comments_190288.json:
```json
{
    "body": "Author: **Ralf Stephan**",
    "created_at": "2014-12-02T09:58:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190288",
    "user": "https://github.com/rwst"
}
```

Author: **Ralf Stephan**



---

archive/issue_comments_190289.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThe issue however begs the question if it should not be possible to give hold parameter to sums.",
    "created_at": "2014-12-02T10:02:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190289",
    "user": "https://github.com/rwst"
}
```

<div id="comment:7" align="right">comment:7</div>

The issue however begs the question if it should not be possible to give hold parameter to sums.



---

archive/issue_comments_190290.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nDon't have time to review this immediately (though I think the `hold` would be a separate ticket, though an important one) but am wondering whether a couple of the more complex sums mentioned here and in the ask.sagemath questions should be included as tests.",
    "created_at": "2014-12-02T13:50:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190290",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:8" align="right">comment:8</div>

Don't have time to review this immediately (though I think the `hold` would be a separate ticket, though an important one) but am wondering whether a couple of the more complex sums mentioned here and in the ask.sagemath questions should be included as tests.



---

archive/issue_comments_190291.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af565761f5a154fc1745bc754c3cbbb642065baf\">af56576</a></td><td><code>15346: add doctest</code></td></tr></table>\n",
    "created_at": "2014-12-04T07:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190291",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af565761f5a154fc1745bc754c3cbbb642065baf">af56576</a></td><td><code>15346: add doctest</code></td></tr></table>




---

archive/issue_comments_190292.json:
```json
{
    "body": "Changed commit from **[df516f8](https://github.com/sagemath/sagetrac-mirror/commit/df516f88d0c13d22d60e8b7d191eb0b2aa75f26a)** to **[af56576](https://github.com/sagemath/sagetrac-mirror/commit/af565761f5a154fc1745bc754c3cbbb642065baf)**",
    "created_at": "2014-12-04T07:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190292",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[df516f8](https://github.com/sagemath/sagetrac-mirror/commit/df516f88d0c13d22d60e8b7d191eb0b2aa75f26a)** to **[af56576](https://github.com/sagemath/sagetrac-mirror/commit/af565761f5a154fc1745bc754c3cbbb642065baf)**



---

archive/issue_comments_190293.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37f26afb68fdf136b9568db127395f6115d22a92\">37f26af</a></td><td><code>Merge branch 'develop' into t/15346/symbolic_sums_should_evaluate</code></td></tr></table>\n",
    "created_at": "2015-02-01T16:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190293",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37f26afb68fdf136b9568db127395f6115d22a92">37f26af</a></td><td><code>Merge branch 'develop' into t/15346/symbolic_sums_should_evaluate</code></td></tr></table>




---

archive/issue_comments_190294.json:
```json
{
    "body": "Changed commit from **[af56576](https://github.com/sagemath/sagetrac-mirror/commit/af565761f5a154fc1745bc754c3cbbb642065baf)** to **[37f26af](https://github.com/sagemath/sagetrac-mirror/commit/37f26afb68fdf136b9568db127395f6115d22a92)**",
    "created_at": "2015-02-01T16:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190294",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[af56576](https://github.com/sagemath/sagetrac-mirror/commit/af565761f5a154fc1745bc754c3cbbb642065baf)** to **[37f26af](https://github.com/sagemath/sagetrac-mirror/commit/37f26afb68fdf136b9568db127395f6115d22a92)**



---

archive/issue_comments_190295.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nYou're going to get annoyed by this question, but I do feel it's a UI issue.  Is `simplify_sum` the right name for this?  I'm just wondering; it isn't exactly a \"simplification\".   Though `evaluate_sum` doesn't exactly get me excited either.  What do you think?  Also, I'm not 100% sure it should be in `simplify_full` - a very long one of these might feel more complicated than \"just the sum\".",
    "created_at": "2015-02-03T02:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190295",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:11" align="right">comment:11</div>

You're going to get annoyed by this question, but I do feel it's a UI issue.  Is `simplify_sum` the right name for this?  I'm just wondering; it isn't exactly a "simplification".   Though `evaluate_sum` doesn't exactly get me excited either.  What do you think?  Also, I'm not 100% sure it should be in `simplify_full` - a very long one of these might feel more complicated than "just the sum".



---

archive/issue_comments_190296.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI'm not so sure about UI issues here and elsewhere, either. I'm much in favor of those tickets proposing functions with keywords handling this, like `rewrite` or `expand(rules=\"sum\")`. Please see [symbolics](../wiki/symbolics)#simplifyexpandsubstituteandrelationequalitytickets for these.\n\nIf we stick to `expand` and `rewrite`, what about `expand_sum`?",
    "created_at": "2015-02-03T09:25:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190296",
    "user": "https://github.com/rwst"
}
```

<div id="comment:12" align="right">comment:12</div>

I'm not so sure about UI issues here and elsewhere, either. I'm much in favor of those tickets proposing functions with keywords handling this, like `rewrite` or `expand(rules="sum")`. Please see [symbolics](../wiki/symbolics)#simplifyexpandsubstituteandrelationequalitytickets for these.

If we stick to `expand` and `rewrite`, what about `expand_sum`?



---

archive/issue_comments_190297.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI like `expand_sum`, and it would presumably work with `hold=True` later as well.\n\n> I'm much in favor of those tickets proposing functions with keywords handling this, \n\nIn retrospect that would have been a good design discussion to have had.  Though I should say that with tab-completion, I like the current system better.  Maxima has all these flags and such, and you have to *know* about them.  Your time is better spent adding the functionality you are - and I know it isn't getting reviewed very quickly, but experience says that they **will** get reviewed!  A number of the people who were pretty involved in symbolics have different jobs or school now, so they haven't been able to be as involved.  (I would have liked Burcin's input on this naming scheme, for instance, so it's not just two people.)  Pros and cons of open source development...",
    "created_at": "2015-02-03T14:04:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190297",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:13" align="right">comment:13</div>

I like `expand_sum`, and it would presumably work with `hold=True` later as well.

> I'm much in favor of those tickets proposing functions with keywords handling this, 

In retrospect that would have been a good design discussion to have had.  Though I should say that with tab-completion, I like the current system better.  Maxima has all these flags and such, and you have to *know* about them.  Your time is better spent adding the functionality you are - and I know it isn't getting reviewed very quickly, but experience says that they **will** get reviewed!  A number of the people who were pretty involved in symbolics have different jobs or school now, so they haven't been able to be as involved.  (I would have liked Burcin's input on this naming scheme, for instance, so it's not just two people.)  Pros and cons of open source development...



---

archive/issue_comments_190298.json:
```json
{
    "body": "Changed branch from **[u/rws/symbolic_sums_should_evaluate](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/symbolic_sums_should_evaluate)** to **[u/rws/15346](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/15346)**",
    "created_at": "2015-02-03T17:29:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190298",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/rws/symbolic_sums_should_evaluate](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/symbolic_sums_should_evaluate)** to **[u/rws/15346](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/15346)**



---

archive/issue_comments_190299.json:
```json
{
    "body": "Changed commit from **[37f26af](https://github.com/sagemath/sagetrac-mirror/commit/37f26afb68fdf136b9568db127395f6115d22a92)** to **[17dda26](https://github.com/sagemath/sagetrac-mirror/commit/17dda26e29b6f381ee8eab545923a55e3bc9b4e6)**",
    "created_at": "2015-02-03T17:31:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190299",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[37f26af](https://github.com/sagemath/sagetrac-mirror/commit/37f26afb68fdf136b9568db127395f6115d22a92)** to **[17dda26](https://github.com/sagemath/sagetrac-mirror/commit/17dda26e29b6f381ee8eab545923a55e3bc9b4e6)**



---

archive/issue_comments_190300.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nPlease review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17dda26e29b6f381ee8eab545923a55e3bc9b4e6\">17dda26</a></td><td><code>15346: make maxima.simplify_sum available as expand_sum</code></td></tr></table>\n",
    "created_at": "2015-02-03T17:31:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190300",
    "user": "https://github.com/rwst"
}
```

<div id="comment:15" align="right">comment:15</div>

Please review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17dda26e29b6f381ee8eab545923a55e3bc9b4e6">17dda26</a></td><td><code>15346: make maxima.simplify_sum available as expand_sum</code></td></tr></table>




---

archive/issue_comments_190301.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n\n```\n        Apply ``simplify_factorial``, ``simplify_trig``,\n        ``simplify_rational``, ``simplify_log``, again\n        ``simplify_rational``, and then ``expand_sum``\n        to self (in that order).\n```\nbut\n\n```\n        x = self\n        x = x.simplify_factorial()\n        x = x.simplify_rectform()\n        x = x.simplify_trig()\n        x = x.simplify_rational()\n        x = x.simplify_log('one')\n        x = x.simplify_rational()\n        x = x.expand_sum()\n        return x\n```",
    "created_at": "2015-02-03T18:01:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190301",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:16" align="right">comment:16</div>


```
        Apply ``simplify_factorial``, ``simplify_trig``,
        ``simplify_rational``, ``simplify_log``, again
        ``simplify_rational``, and then ``expand_sum``
        to self (in that order).
```
but

```
        x = self
        x = x.simplify_factorial()
        x = x.simplify_rectform()
        x = x.simplify_trig()
        x = x.simplify_rational()
        x = x.simplify_log('one')
        x = x.simplify_rational()
        x = x.expand_sum()
        return x
```



---

archive/issue_comments_190302.json:
```json
{
    "body": "Changed commit from **[17dda26](https://github.com/sagemath/sagetrac-mirror/commit/17dda26e29b6f381ee8eab545923a55e3bc9b4e6)** to **[cb78603](https://github.com/sagemath/sagetrac-mirror/commit/cb78603878bc1a7443e982824e13c81e22e9edda)**",
    "created_at": "2015-02-04T09:46:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190302",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[17dda26](https://github.com/sagemath/sagetrac-mirror/commit/17dda26e29b6f381ee8eab545923a55e3bc9b4e6)** to **[cb78603](https://github.com/sagemath/sagetrac-mirror/commit/cb78603878bc1a7443e982824e13c81e22e9edda)**



---

archive/issue_comments_190303.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb78603878bc1a7443e982824e13c81e22e9edda\">cb78603</a></td><td><code>15346: cosmetics</code></td></tr></table>\n",
    "created_at": "2015-02-04T09:46:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190303",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb78603878bc1a7443e982824e13c81e22e9edda">cb78603</a></td><td><code>15346: cosmetics</code></td></tr></table>




---

archive/issue_comments_190304.json:
```json
{
    "body": "Reviewer: **Karl-Dieter Crisman**",
    "created_at": "2015-02-04T21:48:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190304",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Karl-Dieter Crisman**



---

archive/issue_comments_190305.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nAs I suspected, the addition of the log thing led to some issues.  Is this 'simplification' always valid for complex numbers?  I know mjo has been very good at thinking about this kind of thing, cc:ing him.\n\n```\n\nFile \"src/sage/symbolic/expression.pyx\", line 8249, in sage.symbolic.expression.Expression.simplify_full\nFailed example:\n    f.simplify_full()\nExpected:\n    log(x*y) - log(x) - log(y)\nGot:\n    0\n**********************************************************************\nFile \"src/sage/modules/vector_symbolic_dense.py\", line 19, in sage.modules.vector_symbolic_dense\nFailed example:\n    u.simplify_full()\nExpected:\n    (1, log(3*y) + log(2*y))\nGot:\n    (1, log(6*y^2))\n**********************************************************************\n```\nNaturally, this is orthogonal to the main issue, but I think it should be in a different ticket unless it's very obvious it's okay.\n\nAs to the main question, I think my only question is whether this should definitely be incorporated in `simplify_full`.  Can anyone think of a reason *not* to do so?  I'm straining my brain to be creative here - for instance, if it should make a really really really long expression which isn't \"simpler\"?  I can't find it but there was some Maxima comment about the massive length of some such expressions.  My druthers would be to keep this separate from `simplify_full` for now, though I understand the reasons *for* doing it!",
    "created_at": "2015-02-04T21:48:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190305",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:18" align="right">comment:18</div>

As I suspected, the addition of the log thing led to some issues.  Is this 'simplification' always valid for complex numbers?  I know mjo has been very good at thinking about this kind of thing, cc:ing him.

```

File "src/sage/symbolic/expression.pyx", line 8249, in sage.symbolic.expression.Expression.simplify_full
Failed example:
    f.simplify_full()
Expected:
    log(x*y) - log(x) - log(y)
Got:
    0
**********************************************************************
File "src/sage/modules/vector_symbolic_dense.py", line 19, in sage.modules.vector_symbolic_dense
Failed example:
    u.simplify_full()
Expected:
    (1, log(3*y) + log(2*y))
Got:
    (1, log(6*y^2))
**********************************************************************
```
Naturally, this is orthogonal to the main issue, but I think it should be in a different ticket unless it's very obvious it's okay.

As to the main question, I think my only question is whether this should definitely be incorporated in `simplify_full`.  Can anyone think of a reason *not* to do so?  I'm straining my brain to be creative here - for instance, if it should make a really really really long expression which isn't "simpler"?  I can't find it but there was some Maxima comment about the massive length of some such expressions.  My druthers would be to keep this separate from `simplify_full` for now, though I understand the reasons *for* doing it!



---

archive/issue_comments_190306.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@kcrisman](#comment:18):\n> As I suspected, the addition of the log thing led to some issues.\n\nThis is just a conflict from having two branches modify `simplify_full` at the same time. You can rebase this one on top of \"develop\" now and I think it'll be fine. To avoid conflicts, I would,\n\n* Copy/paste the `expand_sum` method somewhere\n* reset --hard your branch to match \"develop\"\n* Add back the `expand_sum` method\n* Update `simplify_full` and its docstring\n* Recommit\n\nI'm sure there's a smarter way to do the copy/paste step, but it works.\n\n\n> Is this 'simplification' always valid for complex numbers?  I know mjo has been very good at thinking about this kind of thing, cc:ing him.\n\nIn the examples, `n` and `k` are complex, and it doesn't make any sense to sum from, say, zero a complex number. But if anything, the bug there is that `sum()` allows you to give it non-integer limits.\n\nThe Maxima docs aren't too clear about what `simplify_sum` does, so it's hard to say whether or not it's safe when the summand contains complex variables. We can try it and see what happens. Since it's hidden beneath `simplify_full` we could always go back and remove it if it causes problems.",
    "created_at": "2015-02-04T22:51:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190306",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@kcrisman](#comment:18):
> As I suspected, the addition of the log thing led to some issues.

This is just a conflict from having two branches modify `simplify_full` at the same time. You can rebase this one on top of "develop" now and I think it'll be fine. To avoid conflicts, I would,

* Copy/paste the `expand_sum` method somewhere
* reset --hard your branch to match "develop"
* Add back the `expand_sum` method
* Update `simplify_full` and its docstring
* Recommit

I'm sure there's a smarter way to do the copy/paste step, but it works.


> Is this 'simplification' always valid for complex numbers?  I know mjo has been very good at thinking about this kind of thing, cc:ing him.

In the examples, `n` and `k` are complex, and it doesn't make any sense to sum from, say, zero a complex number. But if anything, the bug there is that `sum()` allows you to give it non-integer limits.

The Maxima docs aren't too clear about what `simplify_sum` does, so it's hard to say whether or not it's safe when the summand contains complex variables. We can try it and see what happens. Since it's hidden beneath `simplify_full` we could always go back and remove it if it causes problems.



---

archive/issue_comments_190307.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\n> > Is this 'simplification' always valid for complex numbers? I know mjo has been very good at thinking about this kind of thing, cc:ing him.\n\nSorry, I meant the log bit.  Wait, was that already in develop?  I merged develop into this branch locally, should have been up-to-date.\n\nI'm not worried about the summation with complex variables, for the record, just trying to brainstorm.",
    "created_at": "2015-02-05T02:15:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190307",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:20" align="right">comment:20</div>

> > Is this 'simplification' always valid for complex numbers? I know mjo has been very good at thinking about this kind of thing, cc:ing him.

Sorry, I meant the log bit.  Wait, was that already in develop?  I merged develop into this branch locally, should have been up-to-date.

I'm not worried about the summation with complex variables, for the record, just trying to brainstorm.



---

archive/issue_comments_190308.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@kcrisman](#comment:20):\n> \n> Sorry, I meant the log bit.  Wait, was that already in develop?  I merged develop into this branch locally, should have been up-to-date.\n> \n\n\nYikes, I guess not. I opened ticket #17731.",
    "created_at": "2015-02-05T02:35:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190308",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@kcrisman](#comment:20):
> 
> Sorry, I meant the log bit.  Wait, was that already in develop?  I merged develop into this branch locally, should have been up-to-date.
> 


Yikes, I guess not. I opened ticket #17731.



---

archive/issue_comments_190309.json:
```json
{
    "body": "Dependencies: **#17731**",
    "created_at": "2015-02-05T02:37:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190309",
    "user": "https://github.com/kcrisman"
}
```

Dependencies: **#17731**



---

archive/issue_comments_190310.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nOkay, so let's make that a dependency for this so that rws can rebase to that.  Sorry, Ralf, that's not your fault - good thing I ran all the tests!  And I *thought* I had recalled removing that simplification from `simplify_full`.",
    "created_at": "2015-02-05T02:37:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190310",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:22" align="right">comment:22</div>

Okay, so let's make that a dependency for this so that rws can rebase to that.  Sorry, Ralf, that's not your fault - good thing I ran all the tests!  And I *thought* I had recalled removing that simplification from `simplify_full`.



---

archive/issue_comments_190311.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@kcrisman](#comment:22):\n> Okay, so let's make that a dependency for this so that rws can rebase to that.  Sorry, Ralf, that's not your fault - good thing I ran all the tests!  And I *thought* I had recalled removing that simplification from `simplify_full`.\n\nI get more confused the more I look at this. Ralf's branch in ticket #17556 had mine as a parent, so my commits should have gone in along with his. After switching my branches around a few times, I see them now in develop.\n\nIf you `git checkout develop` and then `git pull`, do you see them there? (You can do `git log` then hit forward-slash to search.) If they were there to begin with, there should have been a merge conflict with this branch. But those two simplify doctests shouldn't be failing unless you wound up with a chimera.",
    "created_at": "2015-02-05T02:48:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190311",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@kcrisman](#comment:22):
> Okay, so let's make that a dependency for this so that rws can rebase to that.  Sorry, Ralf, that's not your fault - good thing I ran all the tests!  And I *thought* I had recalled removing that simplification from `simplify_full`.

I get more confused the more I look at this. Ralf's branch in ticket #17556 had mine as a parent, so my commits should have gone in along with his. After switching my branches around a few times, I see them now in develop.

If you `git checkout develop` and then `git pull`, do you see them there? (You can do `git log` then hit forward-slash to search.) If they were there to begin with, there should have been a merge conflict with this branch. But those two simplify doctests shouldn't be failing unless you wound up with a chimera.



---

archive/issue_comments_190312.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\n> If you git checkout develop and then git pull, do you see them there?\n\nYes.  Though I usually pull from trac not origin.  But in any case the branch I was working with for this ticket also has that already in it.  Yet on that branch I get\n\n```\nsage: z = log(3*x)+log(2*x)\nsage: z.simplify_full()\nlog(6*x^2)\n```\nI don't understand either. And\n\n```\n$ git merge develop\nAlready up-to-date.\n```\nas expected.",
    "created_at": "2015-02-05T03:06:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190312",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:24" align="right">comment:24</div>

> If you git checkout develop and then git pull, do you see them there?

Yes.  Though I usually pull from trac not origin.  But in any case the branch I was working with for this ticket also has that already in it.  Yet on that branch I get

```
sage: z = log(3*x)+log(2*x)
sage: z.simplify_full()
log(6*x^2)
```
I don't understand either. And

```
$ git merge develop
Already up-to-date.
```
as expected.



---

archive/issue_comments_190313.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nOk, I think I see what happened. False alarm. Looking at Ralf's original commit in comment 6, he added `simplify_sum` to `simplify_full`, but that was before I removed `simplify_log` and the redundant `simplify_rational`.\n\nIn comment 10, the git bot merges with develop, pulling in the patch that removed `simplify_log` and the redundant `simplify_rational`. But then in the commit from comment 16, the `simplify_log` and `simplify_rational` are back and git thinks they're being re-added.\n\nI'm not sure exactly where things went awry. At this point I usually throw my hands up, `git reset --hard`, and then copy/paste paste the code back where it's supposed to go. You can force-push the branch and check the link above to make sure it's not re-adding `simplify_log`.",
    "created_at": "2015-02-05T03:58:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190313",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:25" align="right">comment:25</div>

Ok, I think I see what happened. False alarm. Looking at Ralf's original commit in comment 6, he added `simplify_sum` to `simplify_full`, but that was before I removed `simplify_log` and the redundant `simplify_rational`.

In comment 10, the git bot merges with develop, pulling in the patch that removed `simplify_log` and the redundant `simplify_rational`. But then in the commit from comment 16, the `simplify_log` and `simplify_rational` are back and git thinks they're being re-added.

I'm not sure exactly where things went awry. At this point I usually throw my hands up, `git reset --hard`, and then copy/paste paste the code back where it's supposed to go. You can force-push the branch and check the link above to make sure it's not re-adding `simplify_log`.



---

archive/issue_comments_190314.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@kcrisman](#comment:22):\n>Sorry, Ralf, that's not your fault\n\nDisagree. I remember too that at some time I removed it before doing a local commit. But in \u200b17dda26 I seem to have added the log involuntarily nevertheless. That's why it's in this ticket branch and I'll remove it now. Then Michael seemed to assume that a different cause happened and based #17731 on that. So it's really me that has to apologize.",
    "created_at": "2015-02-05T07:25:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190314",
    "user": "https://github.com/rwst"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@kcrisman](#comment:22):
>Sorry, Ralf, that's not your fault

Disagree. I remember too that at some time I removed it before doing a local commit. But in ​17dda26 I seem to have added the log involuntarily nevertheless. That's why it's in this ticket branch and I'll remove it now. Then Michael seemed to assume that a different cause happened and based #17731 on that. So it's really me that has to apologize.



---

archive/issue_comments_190315.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c2de94ad4765dfd62bb9c779dec9c0b387b7f949\">c2de94a</a></td><td><code>15346: sync to develop</code></td></tr></table>\n",
    "created_at": "2015-02-05T08:19:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190315",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c2de94ad4765dfd62bb9c779dec9c0b387b7f949">c2de94a</a></td><td><code>15346: sync to develop</code></td></tr></table>




---

archive/issue_comments_190316.json:
```json
{
    "body": "Changed commit from **[cb78603](https://github.com/sagemath/sagetrac-mirror/commit/cb78603878bc1a7443e982824e13c81e22e9edda)** to **[c2de94a](https://github.com/sagemath/sagetrac-mirror/commit/c2de94ad4765dfd62bb9c779dec9c0b387b7f949)**",
    "created_at": "2015-02-05T08:19:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190316",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cb78603](https://github.com/sagemath/sagetrac-mirror/commit/cb78603878bc1a7443e982824e13c81e22e9edda)** to **[c2de94a](https://github.com/sagemath/sagetrac-mirror/commit/c2de94ad4765dfd62bb9c779dec9c0b387b7f949)**



---

archive/issue_comments_190317.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nOkay, I got you on that.  I'll rerun tests this morning and add my stashed example I was going to add as a reviewer patch by the end of the day.",
    "created_at": "2015-02-05T13:59:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190317",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:28" align="right">comment:28</div>

Okay, I got you on that.  I'll rerun tests this morning and add my stashed example I was going to add as a reviewer patch by the end of the day.



---

archive/issue_comments_190318.json:
```json
{
    "body": "Changed dependencies from **#17731** to none",
    "created_at": "2015-02-05T16:33:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190318",
    "user": "https://github.com/kcrisman"
}
```

Changed dependencies from **#17731** to none



---

archive/issue_comments_190319.json:
```json
{
    "body": "Changed commit from **[c2de94a](https://github.com/sagemath/sagetrac-mirror/commit/c2de94ad4765dfd62bb9c779dec9c0b387b7f949)** to **[3ee8c6d](https://github.com/sagemath/sagetrac-mirror/commit/3ee8c6d29ce916b70e5c0f32a0ae961796344afd)**",
    "created_at": "2015-02-05T16:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190319",
    "user": "https://github.com/kcrisman"
}
```

Changed commit from **[c2de94a](https://github.com/sagemath/sagetrac-mirror/commit/c2de94ad4765dfd62bb9c779dec9c0b387b7f949)** to **[3ee8c6d](https://github.com/sagemath/sagetrac-mirror/commit/3ee8c6d29ce916b70e5c0f32a0ae961796344afd)**



---

archive/issue_comments_190320.json:
```json
{
    "body": "Changed branch from **[u/rws/15346](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/15346)** to **[u/kcrisman/15346](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/15346)**",
    "created_at": "2015-02-05T16:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190320",
    "user": "https://github.com/kcrisman"
}
```

Changed branch from **[u/rws/15346](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/15346)** to **[u/kcrisman/15346](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/15346)**



---

archive/issue_comments_190321.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nOkay.  So I am happy with this, modulo the question about whether this really belongs in `simplify_full` - again, just because it could make something VERY long and not at all \"simple\".  I assume Ralf and I differ on this.  Michael, would you like to be the tiebreak?  I don't want to hold up this wrapping of Maxima's functionality.\n  \n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ee8c6d29ce916b70e5c0f32a0ae961796344afd\">3ee8c6d</a></td><td><code>Additional example</code></td></tr></table>\n",
    "created_at": "2015-02-05T16:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190321",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:30" align="right">comment:30</div>

Okay.  So I am happy with this, modulo the question about whether this really belongs in `simplify_full` - again, just because it could make something VERY long and not at all "simple".  I assume Ralf and I differ on this.  Michael, would you like to be the tiebreak?  I don't want to hold up this wrapping of Maxima's functionality.
  
---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ee8c6d29ce916b70e5c0f32a0ae961796344afd">3ee8c6d</a></td><td><code>Additional example</code></td></tr></table>




---

archive/issue_comments_190322.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nI think it's OK to have it in `simplify_full`. It's really annoying to have a sum of integers like,\n\n```\nsage: f(n=8)\nsum(abs(-k^2 + 8), k, 1, 8)\n```\n\nwith no way to get it down to a single number. (You can copy/paste the sum back in, but that may not be an option.) It's also a lot to ask of our users to know every method on the Expression class, but everyone knows `simplify_full`.\n\nIf it causes problems, we can remove it. Or if it makes some expressions a lot uglier, there's the hack I used in `simplify_rectform`:\n\n```\nif complexity_measure(simplified_expr) < complexity_measure(self):\n    return simplified_expr\nelse:\n    return self\n```\n\nI think it will be fine though.",
    "created_at": "2015-02-05T16:58:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190322",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:31" align="right">comment:31</div>

I think it's OK to have it in `simplify_full`. It's really annoying to have a sum of integers like,

```
sage: f(n=8)
sum(abs(-k^2 + 8), k, 1, 8)
```

with no way to get it down to a single number. (You can copy/paste the sum back in, but that may not be an option.) It's also a lot to ask of our users to know every method on the Expression class, but everyone knows `simplify_full`.

If it causes problems, we can remove it. Or if it makes some expressions a lot uglier, there's the hack I used in `simplify_rectform`:

```
if complexity_measure(simplified_expr) < complexity_measure(self):
    return simplified_expr
else:
    return self
```

I think it will be fine though.



---

archive/issue_events_218336.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2015-02-05T17:00:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218336"
}
```



---

archive/issue_events_218337.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2015-02-05T17:00:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218337"
}
```



---

archive/issue_comments_190323.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\n> If it causes problems, we can remove it. \n\nSomewhat of an API change, of course.  My guess is it won't come up often enough, but anyway thanks for the input!",
    "created_at": "2015-02-05T17:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190323",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:32" align="right">comment:32</div>

> If it causes problems, we can remove it. 

Somewhat of an API change, of course.  My guess is it won't come up often enough, but anyway thanks for the input!



---

archive/issue_events_218338.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-06T16:18:16Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218338"
}
```



---

archive/issue_events_218339.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-06T16:18:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218339"
}
```



---

archive/issue_comments_190324.json:
```json
{
    "body": "Changed branch from **[u/kcrisman/15346](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/15346)** to **[3ee8c6d](https://github.com/sagemath/sagetrac-mirror/commit/3ee8c6d29ce916b70e5c0f32a0ae961796344afd)**",
    "created_at": "2015-02-17T19:28:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15346#issuecomment-190324",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/kcrisman/15346](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/15346)** to **[3ee8c6d](https://github.com/sagemath/sagetrac-mirror/commit/3ee8c6d29ce916b70e5c0f32a0ae961796344afd)**



---

archive/issue_events_218340.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-17T19:28:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218340"
}
```



---

archive/issue_events_218341.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "8ef0f2d86e13f185b012888b9bf64ea8e3bc3f76",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-02-17T19:28:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15346",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15346#event-218341"
}
```
