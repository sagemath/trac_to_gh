# Issue 15288: Balanced Incomplete Block Designs with k=4

archive/issues_015051.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nEnd of a loong queue of patches, here it is ! The constructions for BIBD with k=4 as found in Douglas Stinson's book \"Combinatorial Designs: Constructions and Analysis\", which uses the constructions given in #15286 (Latin Squares) and #15287 (Orthogonal Arrays).\n\nThis patch creates a file named bibd.py in `combinat/design/` for the BIBD we already know how to build and the future ones (I will make sure of that `:-P`)\n\nDepends on #15287\n\nCC:  @dimpase @vbraun @wdjoyner @rbeezer\n\nComponent: **combinatorics**\n\nAuthor: **Nathann Cohen**\n\nBranch/Commit: **[`ed87e48`](https://github.com/sagemath/sagetrac-mirror/commit/ed87e483d75300a216ba0f00890b0f8cedccfa2c)**\n\nReviewer: **Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15288_\n\n",
    "closed_at": "2014-04-01T12:12:38Z",
    "created_at": "2013-10-16T15:02:16Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Balanced Incomplete Block Designs with k=4",
    "type": "issue",
    "updated_at": "2014-04-01T12:12:38Z",
    "url": "https://github.com/sagemath/sage/issues/15288",
    "user": "https://github.com/nathanncohen"
}
```
<div id="comment:0"></div>

End of a loong queue of patches, here it is ! The constructions for BIBD with k=4 as found in Douglas Stinson's book "Combinatorial Designs: Constructions and Analysis", which uses the constructions given in #15286 (Latin Squares) and #15287 (Orthogonal Arrays).

This patch creates a file named bibd.py in `combinat/design/` for the BIBD we already know how to build and the future ones (I will make sure of that `:-P`)

Depends on #15287

CC:  @dimpase @vbraun @wdjoyner @rbeezer

Component: **combinatorics**

Author: **Nathann Cohen**

Branch/Commit: **[`ed87e48`](https://github.com/sagemath/sagetrac-mirror/commit/ed87e483d75300a216ba0f00890b0f8cedccfa2c)**

Reviewer: **Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/15288_





---

archive/issue_events_215343.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-10-16T15:02:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15288#event-215343"
}
```



---

archive/issue_events_215344.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-10-16T15:02:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15288#event-215344"
}
```



---

archive/issue_events_215345.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-10-16T15:02:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15288#event-215345"
}
```



---

archive/issue_events_215346.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-10-16T15:02:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15288#event-215346"
}
```



---

archive/issue_events_215347.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-10-16T15:02:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15288#event-215347"
}
```



---

archive/issue_comments_188804.json:
```json
{
    "body": "Branch: **[u/ncohen/15288](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/15288)**",
    "created_at": "2013-10-16T15:02:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188804",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[u/ncohen/15288](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/15288)**



---

archive/issue_comments_188805.json:
```json
{
    "body": "Dependencies: **#15287**",
    "created_at": "2013-10-16T15:02:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188805",
    "user": "https://github.com/nathanncohen"
}
```

Dependencies: **#15287**



---

archive/issue_comments_188806.json:
```json
{
    "body": "Commit: **[`a4bc0ac`](https://github.com/sagemath/sagetrac-mirror/commit/a4bc0ac8088a90380e5bc215d8ba72603a6b0e61)**",
    "created_at": "2013-10-16T15:07:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188806",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`a4bc0ac`](https://github.com/sagemath/sagetrac-mirror/commit/a4bc0ac8088a90380e5bc215d8ba72603a6b0e61)**



---

archive/issue_comments_188807.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><code>[changeset:a4bc0ac]</code></td><td><code>Move steiner_striple_system from block_design.py to bibd.py</code></td></tr><tr><td><code>[changeset:a6f66e8]</code></td><td><code>Balanced Incomplete Block Designs and construction for k=4</code></td></tr><tr><td><code>[changeset:7c1b651]</code></td><td><code>Orthogonal arrays</code></td></tr><tr><td><code>[changeset:d93abcd]</code></td><td><code>Latin Squares</code></td></tr><tr><td><code>[changeset:2ec76c7]</code></td><td><code>Bug in AffineGeometryDesign</code></td></tr><tr><td><code>[changeset:cf71d58]</code></td><td><code>Rebase on 5.13.beta0</code></td></tr><tr><td><code>[changeset:9fcfb13]</code></td><td><code>Rename the method from ProjectivePlaneDesign to DesarguesianProjectivePlaneDesign</code></td></tr><tr><td><code>[changeset:363badb]</code></td><td><code>trac 15107 -- reviewer's comments</code></td></tr><tr><td><code>[changeset:ee6d412]</code></td><td><code>Projective Plane designs constructor</code></td></tr></table>\n",
    "created_at": "2013-10-16T15:07:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188807",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><code>[changeset:a4bc0ac]</code></td><td><code>Move steiner_striple_system from block_design.py to bibd.py</code></td></tr><tr><td><code>[changeset:a6f66e8]</code></td><td><code>Balanced Incomplete Block Designs and construction for k=4</code></td></tr><tr><td><code>[changeset:7c1b651]</code></td><td><code>Orthogonal arrays</code></td></tr><tr><td><code>[changeset:d93abcd]</code></td><td><code>Latin Squares</code></td></tr><tr><td><code>[changeset:2ec76c7]</code></td><td><code>Bug in AffineGeometryDesign</code></td></tr><tr><td><code>[changeset:cf71d58]</code></td><td><code>Rebase on 5.13.beta0</code></td></tr><tr><td><code>[changeset:9fcfb13]</code></td><td><code>Rename the method from ProjectivePlaneDesign to DesarguesianProjectivePlaneDesign</code></td></tr><tr><td><code>[changeset:363badb]</code></td><td><code>trac 15107 -- reviewer's comments</code></td></tr><tr><td><code>[changeset:ee6d412]</code></td><td><code>Projective Plane designs constructor</code></td></tr></table>




---

archive/issue_comments_188808.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><code>[1ad0da9](https://github.com/sagemath/sagetrac-mirror/commit/1ad0da9)</code></td><td><code>Rebase on 5.13.beta2</code></td></tr></table>\n",
    "created_at": "2013-11-09T12:31:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188808",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><code>[1ad0da9](https://github.com/sagemath/sagetrac-mirror/commit/1ad0da9)</code></td><td><code>Rebase on 5.13.beta2</code></td></tr></table>




---

archive/issue_comments_188809.json:
```json
{
    "body": "Changed commit from **[`a4bc0ac`](https://github.com/sagemath/sagetrac-mirror/commit/a4bc0ac8088a90380e5bc215d8ba72603a6b0e61)** to **[`1ad0da9`](https://github.com/sagemath/sagetrac-mirror/commit/1ad0da955ede3b98b75548c2efc1d59d7750d1f2)**",
    "created_at": "2013-11-09T12:31:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188809",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a4bc0ac`](https://github.com/sagemath/sagetrac-mirror/commit/a4bc0ac8088a90380e5bc215d8ba72603a6b0e61)** to **[`1ad0da9`](https://github.com/sagemath/sagetrac-mirror/commit/1ad0da955ede3b98b75548c2efc1d59d7750d1f2)**



---

archive/issue_comments_188810.json:
```json
{
    "body": "Changed commit from **[`1ad0da9`](https://github.com/sagemath/sagetrac-mirror/commit/1ad0da955ede3b98b75548c2efc1d59d7750d1f2)** to **[`995ba31`](https://github.com/sagemath/sagetrac-mirror/commit/995ba31e9d9933759ba131390aa5aec8c07635f1)**",
    "created_at": "2013-11-09T12:32:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188810",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1ad0da9`](https://github.com/sagemath/sagetrac-mirror/commit/1ad0da955ede3b98b75548c2efc1d59d7750d1f2)** to **[`995ba31`](https://github.com/sagemath/sagetrac-mirror/commit/995ba31e9d9933759ba131390aa5aec8c07635f1)**



---

archive/issue_comments_188811.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><code>[995ba31](https://github.com/sagemath/sagetrac-mirror/commit/995ba31)</code></td><td><code>Trac #15288 : Theorem 7.20 is now a function of its own, plus some fixes</code></td></tr></table>\n",
    "created_at": "2013-11-09T12:32:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188811",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><code>[995ba31](https://github.com/sagemath/sagetrac-mirror/commit/995ba31)</code></td><td><code>Trac #15288 : Theorem 7.20 is now a function of its own, plus some fixes</code></td></tr></table>




---

archive/issue_events_215348.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15288#event-215348"
}
```



---

archive/issue_events_215349.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15288#event-215349"
}
```



---

archive/issue_comments_188812.json:
```json
{
    "body": "Changed commit from **[`995ba31`](https://github.com/sagemath/sagetrac-mirror/commit/995ba31e9d9933759ba131390aa5aec8c07635f1)** to **[`92aed30`](https://github.com/sagemath/sagetrac-mirror/commit/92aed30ffcd946c1969794501628b7e185164e06)**",
    "created_at": "2014-03-27T15:38:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188812",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`995ba31`](https://github.com/sagemath/sagetrac-mirror/commit/995ba31e9d9933759ba131390aa5aec8c07635f1)** to **[`92aed30`](https://github.com/sagemath/sagetrac-mirror/commit/92aed30ffcd946c1969794501628b7e185164e06)**



---

archive/issue_comments_188813.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e32c6de9804f89c3a53b6512c2ab425ee522c01e\"><code>e32c6de</code></a></td><td><code>Orthogonal arrays -- bugfix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59f340b7388df09df8651a509da5919c13b4da26\"><code>59f340b</code></a></td><td><code>Orthogonal arrays -- doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bbc682af4fc2327a108e7f9bc1cbdcc4a9896500\"><code>bbc682a</code></a></td><td><code>trac #15287: merge with updated #15286</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23bc728b7302c6ee7973a5315ecc22113478b733\"><code>23bc728</code></a></td><td><code>Merge branch 'u/ncohen/15287' of trac.sagemath.org:sage into u/tscrim/15287</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8bae37e23c4fd0abcaf9d3fae5f23502556d56e4\"><code>8bae37e</code></a></td><td><code>Review changes to orthogonal_arrays.py.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/849598e3802c167a7247d1a73181516556607950\"><code>849598e</code></a></td><td><code>Last minor tweak.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92aed30ffcd946c1969794501628b7e185164e06\"><code>92aed30</code></a></td><td><code>trac #15288: Rebase on updated #15287</code></td></tr></table>\n",
    "created_at": "2014-03-27T15:38:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188813",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e32c6de9804f89c3a53b6512c2ab425ee522c01e"><code>e32c6de</code></a></td><td><code>Orthogonal arrays -- bugfix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59f340b7388df09df8651a509da5919c13b4da26"><code>59f340b</code></a></td><td><code>Orthogonal arrays -- doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bbc682af4fc2327a108e7f9bc1cbdcc4a9896500"><code>bbc682a</code></a></td><td><code>trac #15287: merge with updated #15286</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23bc728b7302c6ee7973a5315ecc22113478b733"><code>23bc728</code></a></td><td><code>Merge branch 'u/ncohen/15287' of trac.sagemath.org:sage into u/tscrim/15287</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8bae37e23c4fd0abcaf9d3fae5f23502556d56e4"><code>8bae37e</code></a></td><td><code>Review changes to orthogonal_arrays.py.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/849598e3802c167a7247d1a73181516556607950"><code>849598e</code></a></td><td><code>Last minor tweak.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92aed30ffcd946c1969794501628b7e185164e06"><code>92aed30</code></a></td><td><code>trac #15288: Rebase on updated #15287</code></td></tr></table>




---

archive/issue_comments_188814.json:
```json
{
    "body": "Changed commit from **[`92aed30`](https://github.com/sagemath/sagetrac-mirror/commit/92aed30ffcd946c1969794501628b7e185164e06)** to **[`31fa8c1`](https://github.com/sagemath/sagetrac-mirror/commit/31fa8c1730ae72753733fa52a632ce4d1ad861fe)**",
    "created_at": "2014-03-27T15:43:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188814",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`92aed30`](https://github.com/sagemath/sagetrac-mirror/commit/92aed30ffcd946c1969794501628b7e185164e06)** to **[`31fa8c1`](https://github.com/sagemath/sagetrac-mirror/commit/31fa8c1730ae72753733fa52a632ce4d1ad861fe)**



---

archive/issue_comments_188815.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31fa8c1730ae72753733fa52a632ce4d1ad861fe\"><code>31fa8c1</code></a></td><td><code>trac #15288: Rebase on updated #15287</code></td></tr></table>\n",
    "created_at": "2014-03-27T15:43:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188815",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31fa8c1730ae72753733fa52a632ce4d1ad861fe"><code>31fa8c1</code></a></td><td><code>trac #15288: Rebase on updated #15287</code></td></tr></table>




---

archive/issue_comments_188816.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nJust rebased on the latest version of its last dependency. Hey guys, all the dependencies are reviewed now ! We can get this in !\n\nLook at what it can do. Isn't it totally cool ? `:-PPP`\n\n```\nsage: designs.BalancedIncompleteBlockDesign(13,4)\n```\n\nNathann",
    "created_at": "2014-03-27T15:56:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188816",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:8" align="right">comment:8</div>

Just rebased on the latest version of its last dependency. Hey guys, all the dependencies are reviewed now ! We can get this in !

Look at what it can do. Isn't it totally cool ? `:-PPP`

```
sage: designs.BalancedIncompleteBlockDesign(13,4)
```

Nathann



---

archive/issue_comments_188817.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nwhile building docs, I get\n\n```\nOSError: [combinat ] /usr/local/src/sage/sage-6.1.rc0/local/lib/python2.7/site-packages/sage/combinat/designs/bibd.py:docstring of sage.combinat.designs.bibd.BalancedIncompleteBlockDesign:27: ERROR: Unknown target name: \"http://www.argilo.net/files/bibd.pdf\".\n```\nany clues?",
    "created_at": "2014-03-27T20:04:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188817",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:9" align="right">comment:9</div>

while building docs, I get

```
OSError: [combinat ] /usr/local/src/sage/sage-6.1.rc0/local/lib/python2.7/site-packages/sage/combinat/designs/bibd.py:docstring of sage.combinat.designs.bibd.BalancedIncompleteBlockDesign:27: ERROR: Unknown target name: "http://www.argilo.net/files/bibd.pdf".
```
any clues?



---

archive/issue_comments_188818.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nIt is probably this \n\n```\n`http://www.argilo.net/files/bibd.pdf`_\n```\n\nYou can remove the link if it is a problem to compile the doc, it is not very important.\n\nNathann",
    "created_at": "2014-03-27T20:12:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188818",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:10" align="right">comment:10</div>

It is probably this 

```
`http://www.argilo.net/files/bibd.pdf`_
```

You can remove the link if it is a problem to compile the doc, it is not very important.

Nathann



---

archive/issue_comments_188819.json:
```json
{
    "body": "Changed branch from **[u/ncohen/15288](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/15288)** to **[u/dimpase/ticket/15288](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/ticket/15288)**",
    "created_at": "2014-03-27T20:36:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188819",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[u/ncohen/15288](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/15288)** to **[u/dimpase/ticket/15288](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/ticket/15288)**



---

archive/issue_comments_188820.json:
```json
{
    "body": "Changed commit from **[`31fa8c1`](https://github.com/sagemath/sagetrac-mirror/commit/31fa8c1730ae72753733fa52a632ce4d1ad861fe)** to **[`58bb9e3`](https://github.com/sagemath/sagetrac-mirror/commit/58bb9e3b4241db1e857b1cc707063a61b300832f)**",
    "created_at": "2014-03-27T21:11:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188820",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`31fa8c1`](https://github.com/sagemath/sagetrac-mirror/commit/31fa8c1730ae72753733fa52a632ce4d1ad861fe)** to **[`58bb9e3`](https://github.com/sagemath/sagetrac-mirror/commit/58bb9e3b4241db1e857b1cc707063a61b300832f)**



---

archive/issue_comments_188821.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI pushed the fix for this and one more small doc-related issue.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58bb9e3b4241db1e857b1cc707063a61b300832f\"><code>58bb9e3</code></a></td><td><code>adding <> around inline url and renaming a reference to avoid duplicate</code></td></tr></table>\n",
    "created_at": "2014-03-27T21:11:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188821",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:12" align="right">comment:12</div>

I pushed the fix for this and one more small doc-related issue.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58bb9e3b4241db1e857b1cc707063a61b300832f"><code>58bb9e3</code></a></td><td><code>adding <> around inline url and renaming a reference to avoid duplicate</code></td></tr></table>




---

archive/issue_comments_188822.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI don't like that `designs.BalancedIncompleteBlockDesign()` returns a list of blocks, whereas it should obviously return an `IncidenceStructure`, e.g. as `designs.ProjectivePlaneDesign()` does. Please fix this.",
    "created_at": "2014-03-28T09:20:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188822",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:13" align="right">comment:13</div>

I don't like that `designs.BalancedIncompleteBlockDesign()` returns a list of blocks, whereas it should obviously return an `IncidenceStructure`, e.g. as `designs.ProjectivePlaneDesign()` does. Please fix this.



---

archive/issue_events_215350.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-03-28T09:20:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15288#event-215350"
}
```



---

archive/issue_events_215351.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-03-28T09:20:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15288#event-215351"
}
```



---

archive/issue_comments_188823.json:
```json
{
    "body": "Changed branch from **[u/dimpase/ticket/15288](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/ticket/15288)** to **[public/15288](https://github.com/sagemath/sagetrac-mirror/tree/public/15288)**",
    "created_at": "2014-03-28T13:22:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188823",
    "user": "https://github.com/nathanncohen"
}
```

Changed branch from **[u/dimpase/ticket/15288](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/ticket/15288)** to **[public/15288](https://github.com/sagemath/sagetrac-mirror/tree/public/15288)**



---

archive/issue_comments_188824.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nDone. But honestly you are just enforcing your own subjective point of view there, and I do not like what I am doing.\n\nIt is very nice if for you a BIBD is a Incidence Structure, but for me this thing is a collection of set. That's all. I could also return a complete graph along with a collection of subgraphs to show that a BIBD is a decomposition of a complete graph into smaller ones, and this does not make any sense at all. For me a BIBD is a collection of sets, and if you want some specific additional structure on top of it you are quite free to set it yourself.\n\nBesides this `IncidenceStructure` class spends its lifetime sorting stuff I never asked to sort, and copying stuff around for no reason. That's for the loss of computational time resulting for enforcing a subjective point of view.\n\nIn the end, I just end up calling `.blocks()` every time I build a BIBD, and I don't see why I should pay cycles to `IncidenceStructure` in exchange for that.\n\nNathann\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79386587dc542a0741cb16f7bc99bd0792e4fe75\"><code>7938658</code></a></td><td><code>trac #15288: Dima wants the BIBD to be BlockDesigns.....</code></td></tr></table>\n",
    "created_at": "2014-03-28T13:22:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188824",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:14" align="right">comment:14</div>

Done. But honestly you are just enforcing your own subjective point of view there, and I do not like what I am doing.

It is very nice if for you a BIBD is a Incidence Structure, but for me this thing is a collection of set. That's all. I could also return a complete graph along with a collection of subgraphs to show that a BIBD is a decomposition of a complete graph into smaller ones, and this does not make any sense at all. For me a BIBD is a collection of sets, and if you want some specific additional structure on top of it you are quite free to set it yourself.

Besides this `IncidenceStructure` class spends its lifetime sorting stuff I never asked to sort, and copying stuff around for no reason. That's for the loss of computational time resulting for enforcing a subjective point of view.

In the end, I just end up calling `.blocks()` every time I build a BIBD, and I don't see why I should pay cycles to `IncidenceStructure` in exchange for that.

Nathann

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79386587dc542a0741cb16f7bc99bd0792e4fe75"><code>7938658</code></a></td><td><code>trac #15288: Dima wants the BIBD to be BlockDesigns.....</code></td></tr></table>




---

archive/issue_events_215352.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-03-28T13:22:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15288#event-215352"
}
```



---

archive/issue_events_215353.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-03-28T13:22:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15288#event-215353"
}
```



---

archive/issue_comments_188825.json:
```json
{
    "body": "Changed commit from **[`58bb9e3`](https://github.com/sagemath/sagetrac-mirror/commit/58bb9e3b4241db1e857b1cc707063a61b300832f)** to **[`7938658`](https://github.com/sagemath/sagetrac-mirror/commit/79386587dc542a0741cb16f7bc99bd0792e4fe75)**",
    "created_at": "2014-03-28T13:22:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188825",
    "user": "https://github.com/nathanncohen"
}
```

Changed commit from **[`58bb9e3`](https://github.com/sagemath/sagetrac-mirror/commit/58bb9e3b4241db1e857b1cc707063a61b300832f)** to **[`7938658`](https://github.com/sagemath/sagetrac-mirror/commit/79386587dc542a0741cb16f7bc99bd0792e4fe75)**



---

archive/issue_comments_188826.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@nathanncohen](#comment%3A14):\n> Done. But honestly you are just enforcing your own subjective point of view there, and I do not like what I am doing.\n\nI am enforcing consistency, as I indicated quite clearly, I hope.\nThe thing I complained about is akin to `graphs.blah()` returning a list of edges instead of a `Graph`.\n\n\n> \n> It is very nice if for you a BIBD is a Incidence Structure, but for me this thing is a collection of set. That's all. I could also return a complete graph along with a collection of subgraphs to show that a BIBD is a decomposition of a complete graph into smaller ones, and this does not make any sense at all. For me a BIBD is a collection of sets, and if you want some specific additional structure on top of it you are quite free to set it yourself.\n> \n> Besides this `IncidenceStructure` class spends its lifetime sorting stuff I never asked to sort, and copying stuff around for no reason. That's for the loss of computational time resulting for enforcing a subjective point of view.\n\nwell, this just means that `IncidenceStructure` class is in need of an improvement; perhaps it should get several backends just as `Graph` has.",
    "created_at": "2014-03-28T21:25:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188826",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@nathanncohen](#comment%3A14):
> Done. But honestly you are just enforcing your own subjective point of view there, and I do not like what I am doing.

I am enforcing consistency, as I indicated quite clearly, I hope.
The thing I complained about is akin to `graphs.blah()` returning a list of edges instead of a `Graph`.


> 
> It is very nice if for you a BIBD is a Incidence Structure, but for me this thing is a collection of set. That's all. I could also return a complete graph along with a collection of subgraphs to show that a BIBD is a decomposition of a complete graph into smaller ones, and this does not make any sense at all. For me a BIBD is a collection of sets, and if you want some specific additional structure on top of it you are quite free to set it yourself.
> 
> Besides this `IncidenceStructure` class spends its lifetime sorting stuff I never asked to sort, and copying stuff around for no reason. That's for the loss of computational time resulting for enforcing a subjective point of view.

well, this just means that `IncidenceStructure` class is in need of an improvement; perhaps it should get several backends just as `Graph` has.



---

archive/issue_comments_188827.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n> I am enforcing consistency, as I indicated quite clearly, I hope.\n\nYou are enforcing consistency because consistency is a way to enforce what you like. If I tell you that `designs.steiner_quadruple_systems` returns tuples then you will tell me (as before) that \"It's not because I did something wrong once that I should be allowed to do it again\".\n\nDear, dear consistency `:-P`\n\n> The thing I complained about is akin to `graphs.blah()` returning a list of edges instead of a `Graph`.\n\nYep. Exactly like here, and for the same reason.\n\n> well, this just means that `IncidenceStructure` class is in need of an improvement; perhaps it should get several backends just as `Graph` has.\n\nChanges nothing. All backends have a cost, all of them mean duplicating stuff uselessly, and none of them is as \"simple and understandable\" as a list. If you want a data structure to do something specific, pick the data structure that you like. I don't think we should pick a specific data structure over another one, and so I prefer to return the most basic types. The types that the functions actually work with. No copy, easy-to-understand data.\n\nI personally have NOTHING to do of all methods of `IncidenceStructure`, yet I am the one who implements that code. Isn't that a proof that it is not the right data structure ? `:-P`\n\nNathann",
    "created_at": "2014-03-28T22:23:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188827",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:16" align="right">comment:16</div>

> I am enforcing consistency, as I indicated quite clearly, I hope.

You are enforcing consistency because consistency is a way to enforce what you like. If I tell you that `designs.steiner_quadruple_systems` returns tuples then you will tell me (as before) that "It's not because I did something wrong once that I should be allowed to do it again".

Dear, dear consistency `:-P`

> The thing I complained about is akin to `graphs.blah()` returning a list of edges instead of a `Graph`.

Yep. Exactly like here, and for the same reason.

> well, this just means that `IncidenceStructure` class is in need of an improvement; perhaps it should get several backends just as `Graph` has.

Changes nothing. All backends have a cost, all of them mean duplicating stuff uselessly, and none of them is as "simple and understandable" as a list. If you want a data structure to do something specific, pick the data structure that you like. I don't think we should pick a specific data structure over another one, and so I prefer to return the most basic types. The types that the functions actually work with. No copy, easy-to-understand data.

I personally have NOTHING to do of all methods of `IncidenceStructure`, yet I am the one who implements that code. Isn't that a proof that it is not the right data structure ? `:-P`

Nathann



---

archive/issue_comments_188828.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@nathanncohen](#comment%3A16):\n> > I am enforcing consistency, as I indicated quite clearly, I hope.\n> \n> \n> You are enforcing consistency because consistency is a way to enforce what you like. If I tell you that `designs.steiner_quadruple_systems` returns tuples then you will tell me (as before) that \"It's not because I did something wrong once that I should be allowed to do it again\".\n> \n> Dear, dear consistency `:-P`\n\nDo you understand the meaning of the word `consistency`? Just wondering...\n\nI don't have time to control all the code you produce for consistency, sorry. But, indeed, I am of opinion that `designs.*` must all return the stuff from the same class. And I am sure the majority on sage-devel would support me on this, if you think that I am not sufficient authority for you.\n\n> \n> > The thing I complained about is akin to `graphs.blah()` returning a list of edges instead of a `Graph`.\n> \n> \n> Yep. Exactly like here, and for the same reason.\n\nBut `graphs.*` do not do this, and `designs.*` do. Some have to give, and it's certainly `designs.*`.\n\n> \n> > well, this just means that `IncidenceStructure` class is in need of an improvement; perhaps it should get several backends just as `Graph` has.\n> \n> \n> Changes nothing. All backends have a cost, all of them mean duplicating stuff uselessly, and none of them is as \"simple and understandable\" as a list. If you want a data structure to do something specific, pick the data structure that you like. I don't think we should pick a specific data structure over another one, and so I prefer to return the most basic types. The types that the functions actually work with. No copy, easy-to-understand data.\n\nNo, this design (more precisely, absence of one) is crap, it throws away the fact that list in question is a list of blocks of BIBD.\nIt's perfectly OK to have it in your private code, but not in a library code.\n\nE.g. the fact that it is not an immutable list is inviting errors.\nAnother thing, one might wonder what the parameters of the design are. \nSurely one can have a function to compute them, but it can also be implemented by storing the parameters upon the creation.\nSame for automorphism groups.\n\n> \n> I personally have NOTHING to do of all methods of `IncidenceStructure`, yet I am the one who implements that code. Isn't that a proof that it is not the right data structure ? `:-P`\n> \n\nI did not check who wrote `IncidenceStructure` structure class. Does it matter? It could have been you...",
    "created_at": "2014-03-29T00:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188828",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@nathanncohen](#comment%3A16):
> > I am enforcing consistency, as I indicated quite clearly, I hope.
> 
> 
> You are enforcing consistency because consistency is a way to enforce what you like. If I tell you that `designs.steiner_quadruple_systems` returns tuples then you will tell me (as before) that "It's not because I did something wrong once that I should be allowed to do it again".
> 
> Dear, dear consistency `:-P`

Do you understand the meaning of the word `consistency`? Just wondering...

I don't have time to control all the code you produce for consistency, sorry. But, indeed, I am of opinion that `designs.*` must all return the stuff from the same class. And I am sure the majority on sage-devel would support me on this, if you think that I am not sufficient authority for you.

> 
> > The thing I complained about is akin to `graphs.blah()` returning a list of edges instead of a `Graph`.
> 
> 
> Yep. Exactly like here, and for the same reason.

But `graphs.*` do not do this, and `designs.*` do. Some have to give, and it's certainly `designs.*`.

> 
> > well, this just means that `IncidenceStructure` class is in need of an improvement; perhaps it should get several backends just as `Graph` has.
> 
> 
> Changes nothing. All backends have a cost, all of them mean duplicating stuff uselessly, and none of them is as "simple and understandable" as a list. If you want a data structure to do something specific, pick the data structure that you like. I don't think we should pick a specific data structure over another one, and so I prefer to return the most basic types. The types that the functions actually work with. No copy, easy-to-understand data.

No, this design (more precisely, absence of one) is crap, it throws away the fact that list in question is a list of blocks of BIBD.
It's perfectly OK to have it in your private code, but not in a library code.

E.g. the fact that it is not an immutable list is inviting errors.
Another thing, one might wonder what the parameters of the design are. 
Surely one can have a function to compute them, but it can also be implemented by storing the parameters upon the creation.
Same for automorphism groups.

> 
> I personally have NOTHING to do of all methods of `IncidenceStructure`, yet I am the one who implements that code. Isn't that a proof that it is not the right data structure ? `:-P`
> 

I did not check who wrote `IncidenceStructure` structure class. Does it matter? It could have been you...



---

archive/issue_comments_188829.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\n> Do you understand the meaning of the word `consistency`? Just wondering...\n\nMy point was to show you that if I try to be consistent with something you don't like, the result is the same `:-P`\n\n> I don't have time to control all the code you produce for consistency, sorry. But, indeed, I am of opinion that `designs.*` must all return the stuff from the same class. And I am sure the majority on sage-devel would support me on this, if you think that I am not sufficient authority for you.\n\nNo authority is ever sufficient to enforce a bad idea. For instance you will never make \"MOLS\" return block designs. They return lists of sets from time to time. And Orthogonal arrays are not block designs when you call `orthogonal_array`. So no, these function will never all return the same thing.\n\n> But `graphs.*` do not do this, and `designs.*` do. Some have to give, and it's certainly `designs.*`.\n\n`graphs.something` sometimes return lists of graphs, or  iterators on them. Though it is true that *they* are more consistent.\n\n> No, this design (more precisely, absence of one) is crap, it throws away the fact that list in question is a list of blocks of BIBD.\n\nWho cares ? You know it when you build it, and you do whatever you want afterwards ! You can change the sets of a block design without changing the name. Actually, with  your strandards the design of `BlockDesign` is pretty bad, for `.blocks()` does not return a copy of the blocks but the  blocks themselves, so I wondered at some point if it was safe  to  do that. See ? More copies  for nothing, just because you want to wrap them in a data structure when nobody requested it.\n\n> It's perfectly OK to have it in your private code, but not in a library code.\n> \n> E.g. the fact that it is not an immutable list is inviting errors.\n\nDo you see that your way of looking at things will add useless copies everywhere ? Copies, and sorting, and equality tests, all for no new feature, but only for \"good code administration\" ? Do you see the cost of this, and the total lack of gain in the process ?\n\nThe code will be slower. For nothing. What's so good in \"consistency\" that we have to pay all this ?\n\n> Another thing, one might wonder what the parameters of the design are. \n\nNot when one creates the design by giving it the parameters. But they can recompute them afterwards, I fixed the function recently.\n\n> Surely one can have a function to compute them, but it can also be implemented by storing the parameters upon the creation.\n> Same for automorphism groups.\n\nYou are all crazy with your caches everywhere, immutable structures and so. You waste computations. Consider the developers as responsible beings, and you will stop having to copy/cache stuff when nobody asks you as if you wanted to protect them from themselves. They know what they are doing.\n\n> I did not check who wrote `IncidenceStructure` structure class. Does it matter? It could have been you...\n\nWell, it does not do much. It builds the matrix from the blocks, or the blocks from the matrix, it computes parameters... Well, to be honest it does its job. It's just that there is no reason on earth why we should pay copies to this data structure if we don't need it.\n\nNathann",
    "created_at": "2014-03-29T06:34:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188829",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:18" align="right">comment:18</div>

> Do you understand the meaning of the word `consistency`? Just wondering...

My point was to show you that if I try to be consistent with something you don't like, the result is the same `:-P`

> I don't have time to control all the code you produce for consistency, sorry. But, indeed, I am of opinion that `designs.*` must all return the stuff from the same class. And I am sure the majority on sage-devel would support me on this, if you think that I am not sufficient authority for you.

No authority is ever sufficient to enforce a bad idea. For instance you will never make "MOLS" return block designs. They return lists of sets from time to time. And Orthogonal arrays are not block designs when you call `orthogonal_array`. So no, these function will never all return the same thing.

> But `graphs.*` do not do this, and `designs.*` do. Some have to give, and it's certainly `designs.*`.

`graphs.something` sometimes return lists of graphs, or  iterators on them. Though it is true that *they* are more consistent.

> No, this design (more precisely, absence of one) is crap, it throws away the fact that list in question is a list of blocks of BIBD.

Who cares ? You know it when you build it, and you do whatever you want afterwards ! You can change the sets of a block design without changing the name. Actually, with  your strandards the design of `BlockDesign` is pretty bad, for `.blocks()` does not return a copy of the blocks but the  blocks themselves, so I wondered at some point if it was safe  to  do that. See ? More copies  for nothing, just because you want to wrap them in a data structure when nobody requested it.

> It's perfectly OK to have it in your private code, but not in a library code.
> 
> E.g. the fact that it is not an immutable list is inviting errors.

Do you see that your way of looking at things will add useless copies everywhere ? Copies, and sorting, and equality tests, all for no new feature, but only for "good code administration" ? Do you see the cost of this, and the total lack of gain in the process ?

The code will be slower. For nothing. What's so good in "consistency" that we have to pay all this ?

> Another thing, one might wonder what the parameters of the design are. 

Not when one creates the design by giving it the parameters. But they can recompute them afterwards, I fixed the function recently.

> Surely one can have a function to compute them, but it can also be implemented by storing the parameters upon the creation.
> Same for automorphism groups.

You are all crazy with your caches everywhere, immutable structures and so. You waste computations. Consider the developers as responsible beings, and you will stop having to copy/cache stuff when nobody asks you as if you wanted to protect them from themselves. They know what they are doing.

> I did not check who wrote `IncidenceStructure` structure class. Does it matter? It could have been you...

Well, it does not do much. It builds the matrix from the blocks, or the blocks from the matrix, it computes parameters... Well, to be honest it does its job. It's just that there is no reason on earth why we should pay copies to this data structure if we don't need it.

Nathann



---

archive/issue_comments_188830.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\n(Oh, by the way I just looked at the list of commits in this branch and saw that the Orthogonal Array stuff is still there : it has already been reviewed, so this part should be okay. It's not easy to know what is left to review now :-/)",
    "created_at": "2014-03-29T07:08:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188830",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:19" align="right">comment:19</div>

(Oh, by the way I just looked at the list of commits in this branch and saw that the Orthogonal Array stuff is still there : it has already been reviewed, so this part should be okay. It's not easy to know what is left to review now :-/)



---

archive/issue_comments_188831.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@nathanncohen](#comment%3A18):\n> > Do you understand the meaning of the word `consistency`? Just wondering...\n> \n> \n> My point was to show you that if I try to be consistent with something you don't like, the result is the same `:-P`\n> \n> > I don't have time to control all the code you produce for consistency, sorry. But, indeed, I am of opinion that `designs.*` must all return the stuff from the same class. And I am sure the majority on sage-devel would support me on this, if you think that I am not sufficient authority for you.\n> \n> \n> No authority is ever sufficient to enforce a bad idea. For instance you will never make \"MOLS\" return block designs. They return lists of sets from time to time. And Orthogonal arrays are not block designs when you call `orthogonal_array`. So no, these function will never all return the same thing.\n> \n> > But `graphs.*` do not do this, and `designs.*` do. Some have to give, and it's certainly `designs.*`.\n> \n> \n> `graphs.something` sometimes return lists of graphs, or  iterators on them. Though it is true that *they* are more consistent.\n> \n> > No, this design (more precisely, absence of one) is crap, it throws away the fact that list in question is a list of blocks of BIBD.\n> \n> \n> Who cares ? You know it when you build it, and you do whatever you want afterwards ! \n\na user can go through `designs.*` and call functions, like \n\nYou can change the sets of a block design without changing the name. Actually, with  your strandards the design of `BlockDesign` is pretty bad, for `.blocks()` does not return a copy of the blocks but the  blocks themselves, so I wondered at some point if it was safe  to  do that. See ? More copies  for nothing, just because you want to wrap them in a data structure when nobody requested it.\n\n\n`ProjectivePlaneDesign()` is written by you, isn't it? And it does return `IncidenceStructure`. Needless to say, `ProjectivePlaneDesign()` is a BIBD. You simply do not have a good argument to justify why in different cases you return different classes.",
    "created_at": "2014-03-29T10:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188831",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@nathanncohen](#comment%3A18):
> > Do you understand the meaning of the word `consistency`? Just wondering...
> 
> 
> My point was to show you that if I try to be consistent with something you don't like, the result is the same `:-P`
> 
> > I don't have time to control all the code you produce for consistency, sorry. But, indeed, I am of opinion that `designs.*` must all return the stuff from the same class. And I am sure the majority on sage-devel would support me on this, if you think that I am not sufficient authority for you.
> 
> 
> No authority is ever sufficient to enforce a bad idea. For instance you will never make "MOLS" return block designs. They return lists of sets from time to time. And Orthogonal arrays are not block designs when you call `orthogonal_array`. So no, these function will never all return the same thing.
> 
> > But `graphs.*` do not do this, and `designs.*` do. Some have to give, and it's certainly `designs.*`.
> 
> 
> `graphs.something` sometimes return lists of graphs, or  iterators on them. Though it is true that *they* are more consistent.
> 
> > No, this design (more precisely, absence of one) is crap, it throws away the fact that list in question is a list of blocks of BIBD.
> 
> 
> Who cares ? You know it when you build it, and you do whatever you want afterwards ! 

a user can go through `designs.*` and call functions, like 

You can change the sets of a block design without changing the name. Actually, with  your strandards the design of `BlockDesign` is pretty bad, for `.blocks()` does not return a copy of the blocks but the  blocks themselves, so I wondered at some point if it was safe  to  do that. See ? More copies  for nothing, just because you want to wrap them in a data structure when nobody requested it.


`ProjectivePlaneDesign()` is written by you, isn't it? And it does return `IncidenceStructure`. Needless to say, `ProjectivePlaneDesign()` is a BIBD. You simply do not have a good argument to justify why in different cases you return different classes.



---

archive/issue_comments_188832.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n> `ProjectivePlaneDesign()` is written by you, isn't it? And it does return `IncidenceStructure`. Needless to say, `ProjectivePlaneDesign()` is a BIBD. You simply do not have a good argument to justify why in different cases you return different classes.\n\n`O_O`\n\nHey, let's make them all return lists of Sets if you don't mind ! `:-D`\n\nThis function returns `IncidenceStructure` because I copy/pasted from projective geometry design, but really I  could not care less about Incidence Structure. I just  never  used  those functions in any way. I just want the sets `:-P`\n\nNathann",
    "created_at": "2014-03-30T01:11:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188832",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:21" align="right">comment:21</div>

> `ProjectivePlaneDesign()` is written by you, isn't it? And it does return `IncidenceStructure`. Needless to say, `ProjectivePlaneDesign()` is a BIBD. You simply do not have a good argument to justify why in different cases you return different classes.

`O_O`

Hey, let's make them all return lists of Sets if you don't mind ! `:-D`

This function returns `IncidenceStructure` because I copy/pasted from projective geometry design, but really I  could not care less about Incidence Structure. I just  never  used  those functions in any way. I just want the sets `:-P`

Nathann



---

archive/issue_events_215354.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-03-30T19:58:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15288#event-215354"
}
```



---

archive/issue_events_215355.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-03-30T19:58:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15288#event-215355"
}
```



---

archive/issue_comments_188833.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2014-03-30T19:58:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188833",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_188834.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nOK, good.",
    "created_at": "2014-03-30T19:58:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188834",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:22" align="right">comment:22</div>

OK, good.



---

archive/issue_comments_188835.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nWow.\n\nWow.\n\nBIBD with k=4 reviewed.\n\nTHaaaaaaaaaaaaaaaaaaaaaaaaaaank you so much !! `:-)`\n\nI can clean  the code for k=5 now.\n\nNathann",
    "created_at": "2014-03-30T20:13:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188835",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:23" align="right">comment:23</div>

Wow.

Wow.

BIBD with k=4 reviewed.

THaaaaaaaaaaaaaaaaaaaaaaaaaaank you so much !! `:-)`

I can clean  the code for k=5 now.

Nathann



---

archive/issue_comments_188836.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nPDF docs don't build:\n\n```\n(inputenc)                in inputencoding `utf8'.\n\nSee the inputenc package documentation for explanation.\nType  H <return>  for immediate help.\n ...                                              \n                                                  \nl.173287 Returns a $(v,\\{^^D\n                            ,5,8,9,12\\})-PBD$ on $v$ elements.\n? \n! Emergency stop.\n ...                                              \n                                                  \nl.173287 Returns a $(v,\\{^^D\n                            ,5,8,9,12\\})-PBD$ on $v$ elements.\n!  ==> Fatal error occurred, no output PDF file produced!\nTranscript written on combinat.log.\n```",
    "created_at": "2014-03-31T18:05:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188836",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:24" align="right">comment:24</div>

PDF docs don't build:

```
(inputenc)                in inputencoding `utf8'.

See the inputenc package documentation for explanation.
Type  H <return>  for immediate help.
 ...                                              
                                                  
l.173287 Returns a $(v,\{^^D
                            ,5,8,9,12\})-PBD$ on $v$ elements.
? 
! Emergency stop.
 ...                                              
                                                  
l.173287 Returns a $(v,\{^^D
                            ,5,8,9,12\})-PBD$ on $v$ elements.
!  ==> Fatal error occurred, no output PDF file produced!
Transcript written on combinat.log.
```



---

archive/issue_comments_188837.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nhere is the diff to fix the thing:\n\n```\n--- a/src/sage/combinat/designs/bibd.py\n+++ b/src/sage/combinat/designs/bibd.py\n@@ -449,7 +449,7 @@ def _relabel_bibd(B,n):\n \n def PBD_4_5_8_9_12(v, check=True):\n     \"\"\"\n-    Returns a `(v,\\{\\4,5,8,9,12\\})-PBD` on `v` elements.\n+    Returns a `(v,\\{4,5,8,9,12\\})-PBD` on `v` elements.\n \n     A `(v,\\{4,5,8,9,12\\})`-PBD exists if and only if `v\\equiv 0,1 \\pmod 4`. The\n     construction implemented here appears page 168 in [Stinson2004]_.\n```\nI have to f*cking clue how to push such a commit into the right place. `Git the hard way` does give recepies that push something somewhere, but certainly not where it should go to...",
    "created_at": "2014-03-31T20:32:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188837",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:25" align="right">comment:25</div>

here is the diff to fix the thing:

```
--- a/src/sage/combinat/designs/bibd.py
+++ b/src/sage/combinat/designs/bibd.py
@@ -449,7 +449,7 @@ def _relabel_bibd(B,n):
 
 def PBD_4_5_8_9_12(v, check=True):
     """
-    Returns a `(v,\{\4,5,8,9,12\})-PBD` on `v` elements.
+    Returns a `(v,\{4,5,8,9,12\})-PBD` on `v` elements.
 
     A `(v,\{4,5,8,9,12\})`-PBD exists if and only if `v\equiv 0,1 \pmod 4`. The
     construction implemented here appears page 168 in [Stinson2004]_.
```
I have to f*cking clue how to push such a commit into the right place. `Git the hard way` does give recepies that push something somewhere, but certainly not where it should go to...



---

archive/issue_comments_188838.json:
```json
{
    "body": "Changed branch from **[public/15288](https://github.com/sagemath/sagetrac-mirror/tree/public/15288)** to **[public/typofix15288](https://github.com/sagemath/sagetrac-mirror/tree/public/typofix15288)**",
    "created_at": "2014-03-31T20:40:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188838",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[public/15288](https://github.com/sagemath/sagetrac-mirror/tree/public/15288)** to **[public/typofix15288](https://github.com/sagemath/sagetrac-mirror/tree/public/typofix15288)**



---

archive/issue_comments_188839.json:
```json
{
    "body": "Changed commit from **[`7938658`](https://github.com/sagemath/sagetrac-mirror/commit/79386587dc542a0741cb16f7bc99bd0792e4fe75)** to **[`ed87e48`](https://github.com/sagemath/sagetrac-mirror/commit/ed87e483d75300a216ba0f00890b0f8cedccfa2c)**",
    "created_at": "2014-03-31T20:40:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188839",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`7938658`](https://github.com/sagemath/sagetrac-mirror/commit/79386587dc542a0741cb16f7bc99bd0792e4fe75)** to **[`ed87e48`](https://github.com/sagemath/sagetrac-mirror/commit/ed87e483d75300a216ba0f00890b0f8cedccfa2c)**



---

archive/issue_comments_188840.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI've modified the description of the ticket to point to the \"right\" branch and commit. Hope I didn't screw this too badly...",
    "created_at": "2014-03-31T20:42:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188840",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:27" align="right">comment:27</div>

I've modified the description of the ticket to point to the "right" branch and commit. Hope I didn't screw this too badly...



---

archive/issue_comments_188841.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nJust `git push trac HEAD:public/15288` should have done it. But this is fine, too.",
    "created_at": "2014-03-31T21:05:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188841",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:28" align="right">comment:28</div>

Just `git push trac HEAD:public/15288` should have done it. But this is fine, too.



---

archive/issue_comments_188842.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI don't see how this could work - unless I don't create my own branch. \nI did as described in `Git the hard way`:\n\n```\ngit fetch trac public/15288\nget checkout -b typofix15288 FETCH_HEAD\n... editing the file...\ngit commit -a\ngit push --set-upstream trac HEAD:public/typofix15288` \n```\nAnd trac server was not impressed :-)\n\nI thought that the reason for this is some kind of lack of permissions to commit to a branch that is not my own... Anyhow, it's not clear from the description in the docs. Especially it's unclear under what conditions the manual changing of the branch and commit fields are not needed.",
    "created_at": "2014-03-31T21:18:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188842",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:29" align="right">comment:29</div>

I don't see how this could work - unless I don't create my own branch. 
I did as described in `Git the hard way`:

```
git fetch trac public/15288
get checkout -b typofix15288 FETCH_HEAD
... editing the file...
git commit -a
git push --set-upstream trac HEAD:public/typofix15288` 
```
And trac server was not impressed :-)

I thought that the reason for this is some kind of lack of permissions to commit to a branch that is not my own... Anyhow, it's not clear from the description in the docs. Especially it's unclear under what conditions the manual changing of the branch and commit fields are not needed.



---

archive/issue_comments_188843.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nEverybody can write to branches named `public/...`\n\nTrac can't possibly know that `public/typofix15288` is supposed to be on this ticket, which is why you had to manually update the ticket.",
    "created_at": "2014-03-31T21:21:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188843",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:30" align="right">comment:30</div>

Everybody can write to branches named `public/...`

Trac can't possibly know that `public/typofix15288` is supposed to be on this ticket, which is why you had to manually update the ticket.



---

archive/issue_events_215356.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-01T12:12:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15288#event-215356"
}
```



---

archive/issue_events_215357.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "b5cca4ccb9773ab2f9e2f8f3b7f5c662a299b0ed",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-04-01T12:12:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15288#event-215357"
}
```



---

archive/issue_comments_188844.json:
```json
{
    "body": "Changed branch from **[public/typofix15288](https://github.com/sagemath/sagetrac-mirror/tree/public/typofix15288)** to **[`ed87e48`](https://github.com/sagemath/sagetrac-mirror/commit/ed87e483d75300a216ba0f00890b0f8cedccfa2c)**",
    "created_at": "2014-04-01T12:12:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15288#issuecomment-188844",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/typofix15288](https://github.com/sagemath/sagetrac-mirror/tree/public/typofix15288)** to **[`ed87e48`](https://github.com/sagemath/sagetrac-mirror/commit/ed87e483d75300a216ba0f00890b0f8cedccfa2c)**
