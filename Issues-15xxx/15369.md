# Issue 15369: groups.misc.AdditiveCyclic

archive/issues_015132.json:
```json
{
    "body": "Following the discussion at \u200bhttps://groups.google.com/d/msg/sage-devel/tyAxhqxk3ZI/SuBg2Ukwwj4J3\n\nThere is currently no way to create a group representing `Z/nZ` easily. And the one acknowledged way to do that being `Integers(n)` (i.e. `IntegerModRing(n)`), this patch exposes it as `groups.misc.AdditiveCyclic`.\n\nNathann\n\nCC:  @vbraun fhivert @nthiery @videlec @jhpalmieri @kcrisman\n\nReviewer: Volker Braun\n\nAuthor: Nathann Cohen\n\nBranch: u/ncohen/15369\n\nDependencies: #15368\n\nCommit: 6c7e2f4b47869968952219143af61be270b152a3\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/15369\n\n",
    "closed_at": "2013-12-26T14:50:13Z",
    "created_at": "2013-11-07T13:31:34Z",
    "labels": [
        "component: group theory",
        "trivial",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.1",
    "title": "groups.misc.AdditiveCyclic",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15369",
    "user": "https://github.com/nathanncohen"
}
```
Following the discussion at ​https://groups.google.com/d/msg/sage-devel/tyAxhqxk3ZI/SuBg2Ukwwj4J3

There is currently no way to create a group representing `Z/nZ` easily. And the one acknowledged way to do that being `Integers(n)` (i.e. `IntegerModRing(n)`), this patch exposes it as `groups.misc.AdditiveCyclic`.

Nathann

CC:  @vbraun fhivert @nthiery @videlec @jhpalmieri @kcrisman

Reviewer: Volker Braun

Author: Nathann Cohen

Branch: u/ncohen/15369

Dependencies: #15368

Commit: 6c7e2f4b47869968952219143af61be270b152a3

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/15369





---

archive/issue_comments_206911.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-11-07T13:31:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206911",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_206912.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-07T13:32:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206912",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_206913.json:
```json
{
    "body": "<a id='comment:3'></a>The patch so far is incomplete -- for instance, `G=FreeModule(QQ,1); G(1)` isn't working. The `FreeModule` class is a factory and it would be best to fix it for all of its implementations.\n\nAlso, please add a doctest!",
    "created_at": "2013-11-07T20:26:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206913",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:3'></a>The patch so far is incomplete -- for instance, `G=FreeModule(QQ,1); G(1)` isn't working. The `FreeModule` class is a factory and it would be best to fix it for all of its implementations.

Also, please add a doctest!



---

archive/issue_comments_206914.json:
```json
{
    "body": "<a id='comment:4'></a>IMHO it is very confusing that G(1) is not the identity element. I would prefer to always require lists, since that is what you need in general.",
    "created_at": "2013-11-08T07:14:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206914",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:4'></a>IMHO it is very confusing that G(1) is not the identity element. I would prefer to always require lists, since that is what you need in general.



---

archive/issue_comments_206915.json:
```json
{
    "body": "<a id='comment:5'></a>> IMHO it is very confusing that G(1) is not the identity element. \n\n\nEven in `(ZZ,+)` ? I find it rather natural.\n\n> I would prefer to always require lists, since that is what you need in general.\n\n\nCome on Volker. I want to create `Z/5Z`, and you think more natural to input lists of size 1 than integers ?\n\nNathann",
    "created_at": "2013-11-08T07:18:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206915",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>> IMHO it is very confusing that G(1) is not the identity element. 


Even in `(ZZ,+)` ? I find it rather natural.

> I would prefer to always require lists, since that is what you need in general.


Come on Volker. I want to create `Z/5Z`, and you think more natural to input lists of size 1 than integers ?

Nathann



---

archive/issue_comments_206916.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-08T08:00:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206916",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_206917.json:
```json
{
    "body": "<a id='comment:7'></a>Hellooooo ! I rewrote this a bit differently, without touching integer vectors. Could you tell me if it works on principle ? I'll add doctests immediatly in that case. As I really don't feel comfortable touching this code `:-/`\n\nTHaaaaaaaaaaaaaaanks !\n\nNathann\n\n---\nNew commits:",
    "created_at": "2013-11-08T08:02:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206917",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>Hellooooo ! I rewrote this a bit differently, without touching integer vectors. Could you tell me if it works on principle ? I'll add doctests immediatly in that case. As I really don't feel comfortable touching this code `:-/`

THaaaaaaaaaaaaaaanks !

Nathann

---
New commits:



---

archive/issue_comments_206918.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:5 ncohen]:\n> > I would prefer to always require lists, since that is what you need in general.\n\n> \n> Come on Volker. I want to create `Z/5Z`, and you think more natural to input lists of size 1 than integers ?\n\n\nThat's not what you're asking sage to do. You're asking for a finite abelian group, written additively, that happens to be cyclic of order 5. If you know your group is going to be cyclic, you'd probably be better off asking for a cyclic group explicitly.\n\nSo I'd agree with Volker that lists are more natural here. At the same time you're asking for conversion, which is supposed to make a best effort, so adding a special case wouldn't be out of the question, even if it's an ugly special case.",
    "created_at": "2013-11-08T08:41:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206918",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:8'></a>Replying to [comment:5 ncohen]:
> > I would prefer to always require lists, since that is what you need in general.

> 
> Come on Volker. I want to create `Z/5Z`, and you think more natural to input lists of size 1 than integers ?


That's not what you're asking sage to do. You're asking for a finite abelian group, written additively, that happens to be cyclic of order 5. If you know your group is going to be cyclic, you'd probably be better off asking for a cyclic group explicitly.

So I'd agree with Volker that lists are more natural here. At the same time you're asking for conversion, which is supposed to make a best effort, so adding a special case wouldn't be out of the question, even if it's an ugly special case.



---

archive/issue_comments_206919.json:
```json
{
    "body": "<a id='comment:9'></a>> That's not what you're asking sage to do. You're asking for a finite abelian group, written additively, that happens to be cyclic of order 5. If you know your group is going to be cyclic, you'd probably be better off asking for a cyclic group explicitly.\n\n\nWell. I want an additive Cyclic group. How can I build that ? This was my original problem, and I was told AdditiveAbelianGroup was the way to obtain it.\n\n> So I'd agree with Volker that lists are more natural here.\n\n\nIf there exists an Additive Cyclic group somewhere, I agree.\n\n> At the same time you're asking for conversion, which is supposed to make a best effort, so adding a special case wouldn't be out of the question, even if it's an ugly special case.\n\n\nI'm sorry if it is ugly. I really don't know these classes and they are all using each other, so I am always afraid something wrong might happen somewhere `:-/`\n\nNathann",
    "created_at": "2013-11-08T08:46:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206919",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>> That's not what you're asking sage to do. You're asking for a finite abelian group, written additively, that happens to be cyclic of order 5. If you know your group is going to be cyclic, you'd probably be better off asking for a cyclic group explicitly.


Well. I want an additive Cyclic group. How can I build that ? This was my original problem, and I was told AdditiveAbelianGroup was the way to obtain it.

> So I'd agree with Volker that lists are more natural here.


If there exists an Additive Cyclic group somewhere, I agree.

> At the same time you're asking for conversion, which is supposed to make a best effort, so adding a special case wouldn't be out of the question, even if it's an ugly special case.


I'm sorry if it is ugly. I really don't know these classes and they are all using each other, so I am always afraid something wrong might happen somewhere `:-/`

Nathann



---

archive/issue_comments_206920.json:
```json
{
    "body": "<a id='comment:10'></a>> > I would prefer to always require lists, since that is what you need in general.\n\n> \n> Come on Volker. I want to create `Z/5Z`, and you think more natural to input lists of size 1 than integers ?\n\n\nAnd you would like that the following works ?\n\n```\nsage: V = VectorSpace(RR,1)\nsage: V(4.123)\n```",
    "created_at": "2013-11-08T11:53:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206920",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>> > I would prefer to always require lists, since that is what you need in general.

> 
> Come on Volker. I want to create `Z/5Z`, and you think more natural to input lists of size 1 than integers ?


And you would like that the following works ?

```
sage: V = VectorSpace(RR,1)
sage: V(4.123)
```



---

archive/issue_comments_206921.json:
```json
{
    "body": "<a id='comment:11'></a>Well, I wouldn't see the problem indeed. I don't know if the last commit does that, though. It touches FreeModule.\n\nNathann",
    "created_at": "2013-11-08T12:08:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206921",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'></a>Well, I wouldn't see the problem indeed. I don't know if the last commit does that, though. It touches FreeModule.

Nathann



---

archive/issue_comments_206922.json:
```json
{
    "body": "<a id='comment:12'></a>If you want want a cyclic group with nice map Z -> Z/nZ then just use `IntegerModRing`.\n\nThe notation that you propose can certainly be implemented, but its a confusing special case that can't work for a general Abelian group. So -1 from me, consistency is more important than saving two keystrokes.",
    "created_at": "2013-11-10T01:27:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206922",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:12'></a>If you want want a cyclic group with nice map Z -> Z/nZ then just use `IntegerModRing`.

The notation that you propose can certainly be implemented, but its a confusing special case that can't work for a general Abelian group. So -1 from me, consistency is more important than saving two keystrokes.



---

archive/issue_comments_206923.json:
```json
{
    "body": "<a id='comment:13'></a>.......\n\nOkay. Then, as we DO need to build easily a `Z/nZ` somewhere, would you agree to review a 3-lines patch that adds an alias to `IntegerModRing` as `groups.misc.AdditiveCyclic` ?\n\nNathann",
    "created_at": "2013-11-10T09:38:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206923",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'></a>.......

Okay. Then, as we DO need to build easily a `Z/nZ` somewhere, would you agree to review a 3-lines patch that adds an alias to `IntegerModRing` as `groups.misc.AdditiveCyclic` ?

Nathann



---

archive/issue_comments_206924.json:
```json
{
    "body": "<a id='comment:14'></a>That would be fine with me.",
    "created_at": "2013-11-11T18:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206924",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:14'></a>That would be fine with me.



---

archive/issue_comments_206925.json:
```json
{
    "body": "<a id='comment:15'></a>Done !",
    "created_at": "2013-11-12T10:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206925",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'></a>Done !



---

archive/issue_comments_206926.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,27 +1,6 @@\n-Following the discussion at \u200bhttps://groups.google.com/d/msg/sage-devel/tyAxhqxk3ZI/SuBg2Ukwwj4J\n+Following the discussion at \u200bhttps://groups.google.com/d/msg/sage-devel/tyAxhqxk3ZI/SuBg2Ukwwj4J3\n \n-When one creates the additive group `Z/nZ`, it would be nice to be able to use integers and cast them as members of this group. However :\n-\n-```\n-sage: G=AdditiveAbelianGroup([5]); G(1)\n-TypeError: can't initialize vector from nonzero non-list\n-```\n-\n-The same way with free modules :\n-\n-```\n-sage: G=FreeModule(ZZ,1); G(1)  \n-TypeError: can't initialize vector from nonzero non-list\n-```\n-\n-This patch makes it possible :\n-\n-```\n-sage: G=AdditiveAbelianGroup([5]); G(1)\n-(1)\n-sage: G=FreeModule(ZZ,1); G(1)         \n-(1)\n-```\n+There is currently no way to create a group representing `Z/nZ` easily. And the one acknowledged way to do that being `Integers(n)` (i.e. `IntegerModRing(n)`), this patch exposes it as `groups.misc.AdditiveCyclic`.\n \n Nathann\n \n```\n",
    "created_at": "2013-11-12T10:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206926",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,27 +1,6 @@
-Following the discussion at ​https://groups.google.com/d/msg/sage-devel/tyAxhqxk3ZI/SuBg2Ukwwj4J
+Following the discussion at ​https://groups.google.com/d/msg/sage-devel/tyAxhqxk3ZI/SuBg2Ukwwj4J3
 
-When one creates the additive group `Z/nZ`, it would be nice to be able to use integers and cast them as members of this group. However :
-
-```
-sage: G=AdditiveAbelianGroup([5]); G(1)
-TypeError: can't initialize vector from nonzero non-list
-```
-
-The same way with free modules :
-
-```
-sage: G=FreeModule(ZZ,1); G(1)  
-TypeError: can't initialize vector from nonzero non-list
-```
-
-This patch makes it possible :
-
-```
-sage: G=AdditiveAbelianGroup([5]); G(1)
-(1)
-sage: G=FreeModule(ZZ,1); G(1)         
-(1)
-```
+There is currently no way to create a group representing `Z/nZ` easily. And the one acknowledged way to do that being `Integers(n)` (i.e. `IntegerModRing(n)`), this patch exposes it as `groups.misc.AdditiveCyclic`.
 
 Nathann
 
```




---

archive/issue_comments_206927.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-12T10:58:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206927",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_206928.json:
```json
{
    "body": "Changing component from combinatorics to group theory.",
    "created_at": "2013-11-27T17:02:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206928",
    "user": "https://github.com/nathanncohen"
}
```

Changing component from combinatorics to group theory.



---

archive/issue_comments_206929.json:
```json
{
    "body": "<a id='comment:18'></a>I will rebase this thing in a second to clean the dependencies.\n\nNathann",
    "created_at": "2013-12-25T14:04:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206929",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:18'></a>I will rebase this thing in a second to clean the dependencies.

Nathann



---

archive/issue_comments_206930.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-12-25T14:06:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206930",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_206931.json:
```json
{
    "body": "Changing priority from major to trivial.",
    "created_at": "2013-12-25T14:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206931",
    "user": "https://github.com/nathanncohen"
}
```

Changing priority from major to trivial.



---

archive/issue_comments_206932.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-12-25T15:41:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206932",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_206933.json:
```json
{
    "body": "<a id='comment:21'></a>lgtm",
    "created_at": "2013-12-25T15:41:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206933",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'></a>lgtm



---

archive/issue_comments_206934.json:
```json
{
    "body": "<a id='comment:22'></a>I just did the same thing... :P",
    "created_at": "2013-12-25T16:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206934",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:22'></a>I just did the same thing... :P



---

archive/issue_events_044641.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-12-26T14:50:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15369#event-44641"
}
```



---

archive/issue_comments_206935.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-12-26T14:50:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15369#issuecomment-206935",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
