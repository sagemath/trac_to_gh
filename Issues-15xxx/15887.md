# Issue 15887: Make GSL random distributions seed from Sage's random state

archive/issues_015650.json:
```json
{
    "body": "GSL's random state currently seeds from python's random state, not from Sage's random state.  These changes make it so that Sage's set_random_seed() function\naffects the GSL distributions.\n\nThis fixes #15090 as well.\n\nCC:  @rbeezer\n\nReviewer: Andrey Novoseltsev, Volker Braun\n\nAuthor: Jason Grout\n\nBranch: 3b66fb5c55830e6a3243cbbcaeae7b643b6d48c5\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/15887\n\n",
    "closed_at": "2014-11-06T11:14:27Z",
    "created_at": "2014-03-05T02:42:37Z",
    "labels": [
        "component: misc",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Make GSL random distributions seed from Sage's random state",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15887",
    "user": "https://github.com/jasongrout"
}
```
GSL's random state currently seeds from python's random state, not from Sage's random state.  These changes make it so that Sage's set_random_seed() function
affects the GSL distributions.

This fixes #15090 as well.

CC:  @rbeezer

Reviewer: Andrey Novoseltsev, Volker Braun

Author: Jason Grout

Branch: 3b66fb5c55830e6a3243cbbcaeae7b643b6d48c5

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/15887





---

archive/issue_comments_257033.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jason/ticket/15887\"",
    "created_at": "2014-03-05T02:44:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257033",
    "user": "https://github.com/jasongrout"
}
```

Changing branch from "" to "u/jason/ticket/15887"



---

archive/issue_comments_257034.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,4 @@\n GSL's random state currently seeds from python's random state, not from Sage's random state.  These changes make it so that Sage's set_random_seed() function\n affects the GSL distributions.\n+\n+This fixes #15090 as well.\n``````\n",
    "created_at": "2014-03-05T02:46:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257034",
    "user": "https://github.com/jasongrout"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,4 @@
 GSL's random state currently seeds from python's random state, not from Sage's random state.  These changes make it so that Sage's set_random_seed() function
 affects the GSL distributions.
+
+This fixes #15090 as well.
``````




---

archive/issue_comments_257035.json:
```json
{
    "body": "Changing author from \"\" to \"Jason Grout\"",
    "created_at": "2014-03-05T02:46:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257035",
    "user": "https://github.com/jasongrout"
}
```

Changing author from "" to "Jason Grout"



---

archive/issue_comments_257036.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-03-05T02:46:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257036",
    "user": "https://github.com/jasongrout"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_257037.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-05T03:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257037",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_257038.json:
```json
{
    "body": "Changing commit from \"\" to \"54668ef30af357ee362c2ed0ec05b8ac8dd2f049\"",
    "created_at": "2014-03-05T03:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257038",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "54668ef30af357ee362c2ed0ec05b8ac8dd2f049"



---

archive/issue_comments_257039.json:
```json
{
    "body": "<a id='comment:4'></a>I think the changes are correct.  I'm building on another system to make sure what I think is now controllable is actually controllable (especially the random matrix doctests)",
    "created_at": "2014-03-05T03:19:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257039",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:4'></a>I think the changes are correct.  I'm building on another system to make sure what I think is now controllable is actually controllable (especially the random matrix doctests)



---

archive/issue_comments_257040.json:
```json
{
    "body": "<a id='comment:5'></a>I tested the matrix/constructor.py and the gsl/ directory on a different platform (ubuntu 12.04 and os x mavericks), and they both passed tests.\n\nRob, can you review this?",
    "created_at": "2014-03-05T04:27:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257040",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:5'></a>I tested the matrix/constructor.py and the gsl/ directory on a different platform (ubuntu 12.04 and os x mavericks), and they both passed tests.

Rob, can you review this?



---

archive/issue_comments_257041.json:
```json
{
    "body": "<a id='comment:6'></a>pinging `@`rbeezer...when you have time, can you take a look at this?  I'd like to get it into Sage so I don't have to carry around that extra patch on the sage cell server to make webwork work :).",
    "created_at": "2014-03-14T14:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257041",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:6'></a>pinging `@`rbeezer...when you have time, can you take a look at this?  I'd like to get it into Sage so I don't have to carry around that extra patch on the sage cell server to make webwork work :).



---

archive/issue_events_046743.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15887#event-46743"
}
```



---

archive/issue_comments_257042.json:
```json
{
    "body": "<a id='comment:8'></a>Rob - as I am now the one who carries this patch - ping again!",
    "created_at": "2014-06-21T01:39:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257042",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:8'></a>Rob - as I am now the one who carries this patch - ping again!



---

archive/issue_events_046744.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15887#event-46744"
}
```



---

archive/issue_events_046745.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15887#event-46745"
}
```



---

archive/issue_comments_257043.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-10-17T22:57:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257043",
    "user": "https://github.com/novoselt"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_257044.json:
```json
{
    "body": "<a id='comment:10'></a>On the one hand it needs rebasing, on the other hand it would be really nice to get it merged, so rebasing SageCell to new Sage versions is easier...",
    "created_at": "2014-10-17T22:57:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257044",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:10'></a>On the one hand it needs rebasing, on the other hand it would be really nice to get it merged, so rebasing SageCell to new Sage versions is easier...



---

archive/issue_comments_257045.json:
```json
{
    "body": "Changing branch from \"u/jason/ticket/15887\" to \"u/novoselt/ticket/15887\"",
    "created_at": "2014-10-20T23:49:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257045",
    "user": "https://github.com/novoselt"
}
```

Changing branch from "u/jason/ticket/15887" to "u/novoselt/ticket/15887"



---

archive/issue_comments_257046.json:
```json
{
    "body": "Changing commit from \"54668ef30af357ee362c2ed0ec05b8ac8dd2f049\" to \"a488b585b5afaaab46d1eea53671c4c87e83a8c5\"",
    "created_at": "2014-10-20T23:52:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257046",
    "user": "https://github.com/novoselt"
}
```

Changing commit from "54668ef30af357ee362c2ed0ec05b8ac8dd2f049" to "a488b585b5afaaab46d1eea53671c4c87e83a8c5"



---

archive/issue_comments_257047.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-10-20T23:52:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257047",
    "user": "https://github.com/novoselt"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_257048.json:
```json
{
    "body": "<a id='comment:12'></a>New commits:",
    "created_at": "2014-10-20T23:52:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257048",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:12'></a>New commits:



---

archive/issue_comments_257049.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-10-21T00:07:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257049",
    "user": "https://github.com/novoselt"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_257050.json:
```json
{
    "body": "Changing work_issues from \"\" to \"adjust precision\"",
    "created_at": "2014-10-21T00:07:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257050",
    "user": "https://github.com/novoselt"
}
```

Changing work_issues from "" to "adjust precision"



---

archive/issue_comments_257051.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-21T22:05:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257051",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_257052.json:
```json
{
    "body": "Changing commit from \"a488b585b5afaaab46d1eea53671c4c87e83a8c5\" to \"8e059c46a1efc72cf9a8eb3253ae88bb24b7c611\"",
    "created_at": "2014-10-21T22:05:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257052",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a488b585b5afaaab46d1eea53671c4c87e83a8c5" to "8e059c46a1efc72cf9a8eb3253ae88bb24b7c611"



---

archive/issue_comments_257053.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-10-21T22:06:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257053",
    "user": "https://github.com/novoselt"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_257054.json:
```json
{
    "body": "<a id='comment:15'></a>Fixed output and I think it is a fine solution to the original problem, so positive review.",
    "created_at": "2014-10-21T22:06:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257054",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:15'></a>Fixed output and I think it is a fine solution to the original problem, so positive review.



---

archive/issue_comments_257055.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Andrey Novoseltsev\"",
    "created_at": "2014-10-21T22:06:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257055",
    "user": "https://github.com/novoselt"
}
```

Changing reviewer from "" to "Andrey Novoseltsev"



---

archive/issue_comments_257056.json:
```json
{
    "body": "Changing work_issues from \"adjust precision\" to \"\"",
    "created_at": "2014-10-21T22:06:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257056",
    "user": "https://github.com/novoselt"
}
```

Changing work_issues from "adjust precision" to ""



---

archive/issue_comments_257057.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-10-22T19:35:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257057",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_257058.json:
```json
{
    "body": "<a id='comment:16'></a>I get the following on Arando (32-bit linux): http://build.sagedev.org/release/builders/%20%20fast%20Oxford%20arando%20%28Ubuntu%2013.04%20i686%29%20incremental/builds/44/steps/shell_4/logs/stdio",
    "created_at": "2014-10-22T19:35:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257058",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'></a>I get the following on Arando (32-bit linux): http://build.sagedev.org/release/builders/%20%20fast%20Oxford%20arando%20%28Ubuntu%2013.04%20i686%29%20incremental/builds/44/steps/shell_4/logs/stdio



---

archive/issue_comments_257059.json:
```json
{
    "body": "<a id='comment:17'></a>Hmmm, any hints on what to do to fix it (and how to test it in the process)?..",
    "created_at": "2014-10-23T05:07:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257059",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:17'></a>Hmmm, any hints on what to do to fix it (and how to test it in the process)?..



---

archive/issue_comments_257060.json:
```json
{
    "body": "<a id='comment:18'></a>How about always using `2^31` instead of `sys.maxsize` when initializing the gsl rng.",
    "created_at": "2014-10-23T11:23:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257060",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'></a>How about always using `2^31` instead of `sys.maxsize` when initializing the gsl rng.



---

archive/issue_comments_257061.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-27T19:53:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257061",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_257062.json:
```json
{
    "body": "Changing commit from \"8e059c46a1efc72cf9a8eb3253ae88bb24b7c611\" to \"9a7bc85f68d1ab0b291edddfadea888f6a536b99\"",
    "created_at": "2014-10-27T19:53:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257062",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8e059c46a1efc72cf9a8eb3253ae88bb24b7c611" to "9a7bc85f68d1ab0b291edddfadea888f6a536b99"



---

archive/issue_comments_257063.json:
```json
{
    "body": "<a id='comment:20'></a>Switched to `2**31`, everything works on a 64-bit system. Should we be concerned that 2<sup>31</sup> may be too much as well, or there are no plans to support bitness of less that 32?-)",
    "created_at": "2014-10-27T19:56:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257063",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:20'></a>Switched to `2**31`, everything works on a 64-bit system. Should we be concerned that 2<sup>31</sup> may be too much as well, or there are no plans to support bitness of less that 32?-)



---

archive/issue_comments_257064.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-10-27T19:56:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257064",
    "user": "https://github.com/novoselt"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_257065.json:
```json
{
    "body": "<a id='comment:21'></a>16 bit is not enough addressable ram to build Sage ;-)",
    "created_at": "2014-10-27T21:26:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257065",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'></a>16 bit is not enough addressable ram to build Sage ;-)



---

archive/issue_comments_257066.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-10-27T21:26:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257066",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_257067.json:
```json
{
    "body": "<a id='comment:22'></a>I get now the following on our 32-bit machine. It is all just numerical noise, can you add suitable `# rel tol` statements?\n\n```\nsage -t --long src/sage/gsl/probability_distribution.pyx\n**********************************************************************\nFile \"src/sage/gsl/probability_distribution.pyx\", line 188, in sage.gsl.probability_distribution.SphericalDistribution\nFailed example:\n    T.get_random_element()\nExpected:\n    (-0.2922296724828204, -0.9563459345927822, 0.0020668595602153475)\nGot:\n    (-0.2922296724828204, -0.9563459345927822, 0.0020668595602153454)\n**********************************************************************\nFile \"src/sage/gsl/probability_distribution.pyx\", line 191, in sage.gsl.probability_distribution.SphericalDistribution\nFailed example:\n    T.get_random_element()\nExpected:\n    (-0.03633004347616311, 0.6459885817544099, 0.24825817345598164, 0.7209346430129753)\nGot:\n    (-0.0363300434761631, 0.6459885817544098, 0.24825817345598158, 0.7209346430129753)\n**********************************************************************\nFile \"src/sage/gsl/probability_distribution.pyx\", line 215, in sage.gsl.probability_distribution.SphericalDistribution.__init__\nFailed example:\n    T.get_random_element()\nExpected:\n    (-0.2922296724828204, -0.9563459345927822, 0.0020668595602153475)\nGot:\n    (-0.2922296724828204, -0.9563459345927822, 0.0020668595602153454)\n**********************************************************************\nFile \"src/sage/gsl/probability_distribution.pyx\", line 408, in sage.gsl.probability_distribution.RealDistribution\nFailed example:\n    T.get_random_element()\nExpected:\n    -8.404911172800617\nGot:\n    -8.404911172800615\n**********************************************************************\nFile \"src/sage/gsl/probability_distribution.pyx\", line 421, in sage.gsl.probability_distribution.RealDistribution\nFailed example:\n    F.get_random_element()\nExpected:\n    1.2392337861152563\nGot:\n    1.239233786115256\n**********************************************************************\nFile \"src/sage/gsl/probability_distribution.pyx\", line 461, in sage.gsl.probability_distribution.RealDistribution\nFailed example:\n    T.get_random_element()\nExpected:\n    0.7110581877139807\nGot:\n    0.7110581877139808\n**********************************************************************\n3 items had failures:\n   3 of  75 in sage.gsl.probability_distribution.RealDistribution\n   2 of   7 in sage.gsl.probability_distribution.SphericalDistribution\n   1 of  11 in sage.gsl.probability_distribution.SphericalDistribution.__init__\n    [207 tests, 6 failures, 2.03 s]\n```",
    "created_at": "2014-10-28T19:35:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257067",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:22'></a>I get now the following on our 32-bit machine. It is all just numerical noise, can you add suitable `# rel tol` statements?

```
sage -t --long src/sage/gsl/probability_distribution.pyx
**********************************************************************
File "src/sage/gsl/probability_distribution.pyx", line 188, in sage.gsl.probability_distribution.SphericalDistribution
Failed example:
    T.get_random_element()
Expected:
    (-0.2922296724828204, -0.9563459345927822, 0.0020668595602153475)
Got:
    (-0.2922296724828204, -0.9563459345927822, 0.0020668595602153454)
**********************************************************************
File "src/sage/gsl/probability_distribution.pyx", line 191, in sage.gsl.probability_distribution.SphericalDistribution
Failed example:
    T.get_random_element()
Expected:
    (-0.03633004347616311, 0.6459885817544099, 0.24825817345598164, 0.7209346430129753)
Got:
    (-0.0363300434761631, 0.6459885817544098, 0.24825817345598158, 0.7209346430129753)
**********************************************************************
File "src/sage/gsl/probability_distribution.pyx", line 215, in sage.gsl.probability_distribution.SphericalDistribution.__init__
Failed example:
    T.get_random_element()
Expected:
    (-0.2922296724828204, -0.9563459345927822, 0.0020668595602153475)
Got:
    (-0.2922296724828204, -0.9563459345927822, 0.0020668595602153454)
**********************************************************************
File "src/sage/gsl/probability_distribution.pyx", line 408, in sage.gsl.probability_distribution.RealDistribution
Failed example:
    T.get_random_element()
Expected:
    -8.404911172800617
Got:
    -8.404911172800615
**********************************************************************
File "src/sage/gsl/probability_distribution.pyx", line 421, in sage.gsl.probability_distribution.RealDistribution
Failed example:
    F.get_random_element()
Expected:
    1.2392337861152563
Got:
    1.239233786115256
**********************************************************************
File "src/sage/gsl/probability_distribution.pyx", line 461, in sage.gsl.probability_distribution.RealDistribution
Failed example:
    T.get_random_element()
Expected:
    0.7110581877139807
Got:
    0.7110581877139808
**********************************************************************
3 items had failures:
   3 of  75 in sage.gsl.probability_distribution.RealDistribution
   2 of   7 in sage.gsl.probability_distribution.SphericalDistribution
   1 of  11 in sage.gsl.probability_distribution.SphericalDistribution.__init__
    [207 tests, 6 failures, 2.03 s]
```



---

archive/issue_comments_257068.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-10-28T19:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257068",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_257069.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-04T23:49:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257069",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_257070.json:
```json
{
    "body": "Changing commit from \"9a7bc85f68d1ab0b291edddfadea888f6a536b99\" to \"a5e39f86d5e4772f0d0a3b67fd5a9cd44fe21c6b\"",
    "created_at": "2014-11-04T23:49:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257070",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9a7bc85f68d1ab0b291edddfadea888f6a536b99" to "a5e39f86d5e4772f0d0a3b67fd5a9cd44fe21c6b"



---

archive/issue_comments_257071.json:
```json
{
    "body": "<a id='comment:25'></a>Changed the output to the one you got, so that it is easy to test on 64-bit systems.",
    "created_at": "2014-11-04T23:50:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257071",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:25'></a>Changed the output to the one you got, so that it is easy to test on 64-bit systems.



---

archive/issue_comments_257072.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-11-04T23:50:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257072",
    "user": "https://github.com/novoselt"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_257073.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-11-05T10:38:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257073",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_257074.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-11-05T10:42:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257074",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_257075.json:
```json
{
    "body": "<a id='comment:27'></a>Merge conflict with #17278",
    "created_at": "2014-11-05T10:42:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257075",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:27'></a>Merge conflict with #17278



---

archive/issue_comments_257076.json:
```json
{
    "body": "Changing commit from \"a5e39f86d5e4772f0d0a3b67fd5a9cd44fe21c6b\" to \"3b66fb5c55830e6a3243cbbcaeae7b643b6d48c5\"",
    "created_at": "2014-11-05T19:02:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257076",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a5e39f86d5e4772f0d0a3b67fd5a9cd44fe21c6b" to "3b66fb5c55830e6a3243cbbcaeae7b643b6d48c5"



---

archive/issue_comments_257077.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-05T19:02:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257077",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_257078.json:
```json
{
    "body": "Changing reviewer from \"Andrey Novoseltsev\" to \"Andrey Novoseltsev, Volker Braun\"",
    "created_at": "2014-11-05T19:04:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257078",
    "user": "https://github.com/novoselt"
}
```

Changing reviewer from "Andrey Novoseltsev" to "Andrey Novoseltsev, Volker Braun"



---

archive/issue_comments_257079.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-11-05T19:04:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257079",
    "user": "https://github.com/novoselt"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_257080.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-11-05T19:30:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257080",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_046746.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-06T11:14:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15887#event-46746"
}
```



---

archive/issue_comments_257081.json:
```json
{
    "body": "Changing branch from \"u/novoselt/ticket/15887\" to \"3b66fb5c55830e6a3243cbbcaeae7b643b6d48c5\"",
    "created_at": "2014-11-06T11:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257081",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/novoselt/ticket/15887" to "3b66fb5c55830e6a3243cbbcaeae7b643b6d48c5"



---

archive/issue_comments_257082.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-11-06T11:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257082",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_257083.json:
```json
{
    "body": "<a id='comment:32'></a>Hooray, thanks for the quick reviews, Volker!",
    "created_at": "2014-11-06T20:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257083",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:32'></a>Hooray, thanks for the quick reviews, Volker!



---

archive/issue_comments_257084.json:
```json
{
    "body": "Changing commit from \"3b66fb5c55830e6a3243cbbcaeae7b643b6d48c5\" to \"\"",
    "created_at": "2014-11-06T20:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15887#issuecomment-257084",
    "user": "https://github.com/novoselt"
}
```

Changing commit from "3b66fb5c55830e6a3243cbbcaeae7b643b6d48c5" to ""
