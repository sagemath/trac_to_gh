# Issue 15567: Fix Alphabet and improvements to Family

archive/issues_015330.json:
```json
{
    "body": "Currently `Alphabet(oo, 'x')` returns `None`. This fixes that, along with some other improvements so that `Alphabet(NN, 'x')` also works as expected. This also uses the `name` argument in `(Lazy)Family` to override the name of the function for cleaner print statements.\n\n**Assignee:** sage-combinat\n\n**CC:**  sage-combinat @nthiery @videlec\n\n**Keywords:** alphabet\n\n**Branch:** [public/15567](https://github.com/sagemath/sagetrac-mirror/tree/public/15567)\n\n**Commit:** [f73d436e2590d5a4134b813460464dd62267c6fe](https://github.com/sagemath/sagetrac-mirror/commit/f73d436e2590d5a4134b813460464dd62267c6fe)\n\n**Reviewer:** Nathann Cohen\n\n**Author:** Travis Scrimshaw\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/15567\n\n",
    "closed_at": "2014-02-03T16:07:51Z",
    "created_at": "2013-12-22T16:41:41Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "Fix Alphabet and improvements to Family",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15567",
    "user": "https://github.com/tscrim"
}
```
Currently `Alphabet(oo, 'x')` returns `None`. This fixes that, along with some other improvements so that `Alphabet(NN, 'x')` also works as expected. This also uses the `name` argument in `(Lazy)Family` to override the name of the function for cleaner print statements.

**Assignee:** sage-combinat

**CC:**  sage-combinat @nthiery @videlec

**Keywords:** alphabet

**Branch:** [public/15567](https://github.com/sagemath/sagetrac-mirror/tree/public/15567)

**Commit:** [f73d436e2590d5a4134b813460464dd62267c6fe](https://github.com/sagemath/sagetrac-mirror/commit/f73d436e2590d5a4134b813460464dd62267c6fe)

**Reviewer:** Nathann Cohen

**Author:** Travis Scrimshaw

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/15567





---

archive/issue_comments_253804.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2013-12-22T16:42:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253804",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_253805.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2013-12-24T15:18:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253805",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_253806.json:
```json
{
    "body": "<a id='comment:2'></a>\nHello !\n\nI don't know how this \"names\" argument is used at all, but its current behaviour is the following :\n\n```\nsage: build_alphabet(oo,'x')[4]                      \n'x4'\nsage: build_alphabet(range(40),'x')[4]\n4\n```\n\nWhich is not very consistent. While playing with it I found something else which totally scares me :\n\n```\nsage: build_alphabet(oo,'x')          \nLazy family (x(i))_{i in Non negative integers}\nsage: build_alphabet(oo,'x')[:4]\n'xslice(None, 4, None)'\nsage: print list(build_alphabet(oo,'x')[:4])\n['x', 's', 'l', 'i', 'c', 'e', '(', 'N', 'o', 'n', 'e', ',', ' ', '4', ',', ' ', 'N', 'o', 'n', 'e', ')']\n```\n\nWhile I expected to get the list of the first 4 elements. And I really do not know what to make with that `O_o`\n\nAnyway, I think that the `build_alphabet` function could use a \"INPUT\" section explaining its parameters, and in particular the \"names\" field. Which, in the context of `build_alphabet(oo,'x')` would be better renamed to \"prefix\", as it adds this string to all members of the family.\n\nIt would be nice to say what exactlyl this function is supposed to return.\n\nAbout the modifications to `Family` : \n* would it be possible to add to the documentation of \"hidden_keys\" an explanation of what exactly it does ? Does it mean that the hidden keys are \"skipped\", i.e. removed from \"indices\" ?\n* the explanation of what `hidden_function` is isn't very clear either `O_o`\n\nThe fact that the \"name\" argument does nothing for finite lists should be made clear I guess. I mean, what is it useful for exactly ? Lazy Families only ?\n\n```\nsage: Family([0,0,0],function=lambda x:x,name=\"e\")\nFinite family {0: 0}\n```\n\nBy the way, perhaps there should be in Sage something called \"named function\" somewhere `:-)`\n\nNathann",
    "created_at": "2013-12-24T15:18:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253806",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:2'></a>
Hello !

I don't know how this "names" argument is used at all, but its current behaviour is the following :

```
sage: build_alphabet(oo,'x')[4]                      
'x4'
sage: build_alphabet(range(40),'x')[4]
4
```

Which is not very consistent. While playing with it I found something else which totally scares me :

```
sage: build_alphabet(oo,'x')          
Lazy family (x(i))_{i in Non negative integers}
sage: build_alphabet(oo,'x')[:4]
'xslice(None, 4, None)'
sage: print list(build_alphabet(oo,'x')[:4])
['x', 's', 'l', 'i', 'c', 'e', '(', 'N', 'o', 'n', 'e', ',', ' ', '4', ',', ' ', 'N', 'o', 'n', 'e', ')']
```

While I expected to get the list of the first 4 elements. And I really do not know what to make with that `O_o`

Anyway, I think that the `build_alphabet` function could use a "INPUT" section explaining its parameters, and in particular the "names" field. Which, in the context of `build_alphabet(oo,'x')` would be better renamed to "prefix", as it adds this string to all members of the family.

It would be nice to say what exactlyl this function is supposed to return.

About the modifications to `Family` : 
* would it be possible to add to the documentation of "hidden_keys" an explanation of what exactly it does ? Does it mean that the hidden keys are "skipped", i.e. removed from "indices" ?
* the explanation of what `hidden_function` is isn't very clear either `O_o`

The fact that the "name" argument does nothing for finite lists should be made clear I guess. I mean, what is it useful for exactly ? Lazy Families only ?

```
sage: Family([0,0,0],function=lambda x:x,name="e")
Finite family {0: 0}
```

By the way, perhaps there should be in Sage something called "named function" somewhere `:-)`

Nathann



---

archive/issue_comments_253807.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [ncohen](#comment%3A2):\n> Hello !\n> \n> I don't know how this \"names\" argument is used at all, but its current behaviour is the following :\n> \n> ```\n> sage: build_alphabet(oo,'x')[4]                      \n> 'x4'\n> sage: build_alphabet(range(40),'x')[4]\n> 4\n> ```\n> \n> Which is not very consistent.\n\n\nThis is also inconsistent input types (one is a \"number\", the other is a set). However the other could raise an error as invalid input as opposed to being silently ignored.\n\n> While playing with it I found something else which totally scares me :\n> \n> ```\n> sage: build_alphabet(oo,'x')          \n> Lazy family (x(i))_{i in Non negative integers}\n> sage: build_alphabet(oo,'x')[:4]\n> 'xslice(None, 4, None)'\n> sage: print list(build_alphabet(oo,'x')[:4])\n> ['x', 's', 'l', 'i', 'c', 'e', '(', 'N', 'o', 'n', 'e', ',', ' ', '4', ',', ' ', 'N', 'o', 'n', 'e', ')']\n> ```\n> \n> While I expected to get the list of the first 4 elements. And I really do not know what to make with that `O_o`\n\n\nThis is an issue with `Family` in that it is directly passing a string representation of the input of `__getitem__()` without any safety checks (for speed). It's outside the scope of what I want to do in this ticket and has a landmine of \"you've picked a specific ordering of the indices that may not be canonical\".\n\n> Anyway, I think that the `build_alphabet` function could use a \"INPUT\" section explaining its parameters, and in particular the \"names\" field. Which, in the context of `build_alphabet(oo,'x')` would be better renamed to \"prefix\", as it adds this string to all members of the family.\n\n\nI'll add it. Since \"names\" not (really) used anywhere else, I'll change it.\n\n> About the modifications to `Family` : \n> * would it be possible to add to the documentation of \"hidden_keys\" an explanation of what exactly it does ? Does it mean that the hidden keys are \"skipped\", i.e. removed from \"indices\" ?\n\n\nIt means they are valid keys (indices) of the Family that are hidden.\n\n> * the explanation of what `hidden_function` is isn't very clear either `O_o`\n\n\nThen neither should be the one for `function` (or does it make sense if I change the `a` to a `the` in `hidden_function`?).\n\n> The fact that the \"name\" argument does nothing for finite lists should be made clear I guess. I mean, what is it useful for exactly?\n\n\nSo lazy familys display nicely (espically when using lambda functions).",
    "created_at": "2013-12-28T05:04:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253807",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>
Replying to [ncohen](#comment%3A2):
> Hello !
> 
> I don't know how this "names" argument is used at all, but its current behaviour is the following :
> 
> ```
> sage: build_alphabet(oo,'x')[4]                      
> 'x4'
> sage: build_alphabet(range(40),'x')[4]
> 4
> ```
> 
> Which is not very consistent.


This is also inconsistent input types (one is a "number", the other is a set). However the other could raise an error as invalid input as opposed to being silently ignored.

> While playing with it I found something else which totally scares me :
> 
> ```
> sage: build_alphabet(oo,'x')          
> Lazy family (x(i))_{i in Non negative integers}
> sage: build_alphabet(oo,'x')[:4]
> 'xslice(None, 4, None)'
> sage: print list(build_alphabet(oo,'x')[:4])
> ['x', 's', 'l', 'i', 'c', 'e', '(', 'N', 'o', 'n', 'e', ',', ' ', '4', ',', ' ', 'N', 'o', 'n', 'e', ')']
> ```
> 
> While I expected to get the list of the first 4 elements. And I really do not know what to make with that `O_o`


This is an issue with `Family` in that it is directly passing a string representation of the input of `__getitem__()` without any safety checks (for speed). It's outside the scope of what I want to do in this ticket and has a landmine of "you've picked a specific ordering of the indices that may not be canonical".

> Anyway, I think that the `build_alphabet` function could use a "INPUT" section explaining its parameters, and in particular the "names" field. Which, in the context of `build_alphabet(oo,'x')` would be better renamed to "prefix", as it adds this string to all members of the family.


I'll add it. Since "names" not (really) used anywhere else, I'll change it.

> About the modifications to `Family` : 
> * would it be possible to add to the documentation of "hidden_keys" an explanation of what exactly it does ? Does it mean that the hidden keys are "skipped", i.e. removed from "indices" ?


It means they are valid keys (indices) of the Family that are hidden.

> * the explanation of what `hidden_function` is isn't very clear either `O_o`


Then neither should be the one for `function` (or does it make sense if I change the `a` to a `the` in `hidden_function`?).

> The fact that the "name" argument does nothing for finite lists should be made clear I guess. I mean, what is it useful for exactly?


So lazy familys display nicely (espically when using lambda functions).



---

archive/issue_comments_253808.json:
```json
{
    "body": "<a id='comment:4'></a>\nHellooooooooo !!\n\n> This is also inconsistent input types (one is a \"number\", the other is a set). However the other could raise an error as invalid input as opposed to being silently ignored.\n\n\nOh ? Well, if the second input is not supported so be it. Could you say in the docstring of Family what kind of input is expected, then ?\n\n> This is an issue with `Family` in that it is directly passing a string representation of the input of `__getitem__()` without any safety checks (for speed). It's outside the scope of what I want to do in this ticket and has a landmine of \"you've picked a specific ordering of the indices that may not be canonical\".\n\n\nWell there has to be a bug somewhere, this container is returning something totally crazy when one uses a basic list operation on it `O_o`\n\nI don't even understand how the string representation can get to replace the content itself `O_o`\n\n> It means they are valid keys (indices) of the Family that are hidden.\n\n\nAnd what does hidden mean ? That they are skipped when one list the elements, or that they do not appear in the string representation `__repr__` of the object ?... As it is, I don't get what this argument actually does.\n\n> So lazy familys display nicely (espically when using lambda functions).\n\n\nOkay. Could you then say so in the docstring ? \"name\" only has an effect when the input defines a lambda function, if that's the explanation ?\n\nNathann",
    "created_at": "2013-12-28T06:25:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253808",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'></a>
Hellooooooooo !!

> This is also inconsistent input types (one is a "number", the other is a set). However the other could raise an error as invalid input as opposed to being silently ignored.


Oh ? Well, if the second input is not supported so be it. Could you say in the docstring of Family what kind of input is expected, then ?

> This is an issue with `Family` in that it is directly passing a string representation of the input of `__getitem__()` without any safety checks (for speed). It's outside the scope of what I want to do in this ticket and has a landmine of "you've picked a specific ordering of the indices that may not be canonical".


Well there has to be a bug somewhere, this container is returning something totally crazy when one uses a basic list operation on it `O_o`

I don't even understand how the string representation can get to replace the content itself `O_o`

> It means they are valid keys (indices) of the Family that are hidden.


And what does hidden mean ? That they are skipped when one list the elements, or that they do not appear in the string representation `__repr__` of the object ?... As it is, I don't get what this argument actually does.

> So lazy familys display nicely (espically when using lambda functions).


Okay. Could you then say so in the docstring ? "name" only has an effect when the input defines a lambda function, if that's the explanation ?

Nathann



---

archive/issue_comments_253809.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [tscrim](#comment%3A3):\n> \n> Since \"names\" not (really) used anywhere else, I'll change it.\n> \n\n\nPlease keep \"names\" as an argument. I included it for future compatibility with the free monoid in sage.monoids.free_monoid (which should be merge with FiniteWords). Nevertheless, I think I made it wrong as what I wanted was\n\n```\nsage: build_alphabet(3, ['a', 'b', 'c'])\n{'a', 'b', 'c'}\nsage: build_alphabet(3, 'x')\n{'x0', 'x1', 'x2'}\n```\nand the first syntax currently does not work...",
    "created_at": "2013-12-28T08:52:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253809",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
Replying to [tscrim](#comment%3A3):
> 
> Since "names" not (really) used anywhere else, I'll change it.
> 


Please keep "names" as an argument. I included it for future compatibility with the free monoid in sage.monoids.free_monoid (which should be merge with FiniteWords). Nevertheless, I think I made it wrong as what I wanted was

```
sage: build_alphabet(3, ['a', 'b', 'c'])
{'a', 'b', 'c'}
sage: build_alphabet(3, 'x')
{'x0', 'x1', 'x2'}
```
and the first syntax currently does not work...



---

archive/issue_comments_253810.json:
```json
{
    "body": "<a id='comment:6'></a>\nI haven't forgotten about this ticket, just been busy with other stuff. I'll get that to work Vincent on my next commit.",
    "created_at": "2014-01-05T21:41:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253810",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
I haven't forgotten about this ticket, just been busy with other stuff. I'll get that to work Vincent on my next commit.



---

archive/issue_comments_253811.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2d936a02bdaed5d847c220d4d7cda5e767f58d5\">d2d936a</a></td><td><code>Merge branch 'develop' into public/combinat/words/fix_alphabet</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3593bb4080008d36e7655c9fc430b1cff5cb8aea\">3593bb4</a></td><td><code>Merge branch 'develop' into public/combinat/words/fix_alphabet</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ca233d71bcecce46f36e02c412e0038e1121a36\">6ca233d</a></td><td><code>Merge branch 'develop' into public/combinat/words/fix_alphabet</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e3cbb1cc308c713702151b3271170a2febd6e0d\">8e3cbb1</a></td><td><code>Merge branch 'develop' into public/combinat/words/fix_alphabet</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa8d6a95d8e24d828a96d6f5bf7f4c66e16bfbb1\">aa8d6a9</a></td><td><code>Expanded documentation for #15567.</code></td></tr></table>\n",
    "created_at": "2014-01-17T02:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253811",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2d936a02bdaed5d847c220d4d7cda5e767f58d5">d2d936a</a></td><td><code>Merge branch 'develop' into public/combinat/words/fix_alphabet</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3593bb4080008d36e7655c9fc430b1cff5cb8aea">3593bb4</a></td><td><code>Merge branch 'develop' into public/combinat/words/fix_alphabet</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ca233d71bcecce46f36e02c412e0038e1121a36">6ca233d</a></td><td><code>Merge branch 'develop' into public/combinat/words/fix_alphabet</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e3cbb1cc308c713702151b3271170a2febd6e0d">8e3cbb1</a></td><td><code>Merge branch 'develop' into public/combinat/words/fix_alphabet</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa8d6a95d8e24d828a96d6f5bf7f4c66e16bfbb1">aa8d6a9</a></td><td><code>Expanded documentation for #15567.</code></td></tr></table>




---

archive/issue_comments_253812.json:
```json
{
    "body": "**Changing commit** from \"[b3396dd62e96a08621cf08a6b2573c59a664adac](https://github.com/sagemath/sagetrac-mirror/commit/b3396dd62e96a08621cf08a6b2573c59a664adac)\" to \"[aa8d6a95d8e24d828a96d6f5bf7f4c66e16bfbb1](https://github.com/sagemath/sagetrac-mirror/commit/aa8d6a95d8e24d828a96d6f5bf7f4c66e16bfbb1)\".",
    "created_at": "2014-01-17T02:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253812",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b3396dd62e96a08621cf08a6b2573c59a664adac](https://github.com/sagemath/sagetrac-mirror/commit/b3396dd62e96a08621cf08a6b2573c59a664adac)" to "[aa8d6a95d8e24d828a96d6f5bf7f4c66e16bfbb1](https://github.com/sagemath/sagetrac-mirror/commit/aa8d6a95d8e24d828a96d6f5bf7f4c66e16bfbb1)".



---

archive/issue_comments_253813.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aef8b9f94f928b0d457713aec118791b41ce1247\">aef8b9f</a></td><td><code>More tweaks to alphabet construction for #15567.</code></td></tr></table>\n",
    "created_at": "2014-01-17T02:52:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253813",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aef8b9f94f928b0d457713aec118791b41ce1247">aef8b9f</a></td><td><code>More tweaks to alphabet construction for #15567.</code></td></tr></table>




---

archive/issue_comments_253814.json:
```json
{
    "body": "**Changing commit** from \"[aa8d6a95d8e24d828a96d6f5bf7f4c66e16bfbb1](https://github.com/sagemath/sagetrac-mirror/commit/aa8d6a95d8e24d828a96d6f5bf7f4c66e16bfbb1)\" to \"[aef8b9f94f928b0d457713aec118791b41ce1247](https://github.com/sagemath/sagetrac-mirror/commit/aef8b9f94f928b0d457713aec118791b41ce1247)\".",
    "created_at": "2014-01-17T02:52:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253814",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[aa8d6a95d8e24d828a96d6f5bf7f4c66e16bfbb1](https://github.com/sagemath/sagetrac-mirror/commit/aa8d6a95d8e24d828a96d6f5bf7f4c66e16bfbb1)" to "[aef8b9f94f928b0d457713aec118791b41ce1247](https://github.com/sagemath/sagetrac-mirror/commit/aef8b9f94f928b0d457713aec118791b41ce1247)".



---

archive/issue_comments_253815.json:
```json
{
    "body": "<a id='comment:9'></a>\n[@Vincent](#comment%3A6): I've (unintentionally) made that work with this branch, but I will keep the `names` argument around.\n\n[@Nathann](#comment%3A5): I've made it so that `names` and `data` switch if necessary, as well as addressed some of your other concerns. I'm not going to fix the slices here (but I do agree it should be fixed, I'll post a fix to that as soon as I can). There's more detail and examples about the hidden arguments for `Family` further down in it's documentation. I've expanded upon the `name` argument documentation for `Family`.",
    "created_at": "2014-01-17T02:53:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253815",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
[@Vincent](#comment%3A6): I've (unintentionally) made that work with this branch, but I will keep the `names` argument around.

[@Nathann](#comment%3A5): I've made it so that `names` and `data` switch if necessary, as well as addressed some of your other concerns. I'm not going to fix the slices here (but I do agree it should be fixed, I'll post a fix to that as soon as I can). There's more detail and examples about the hidden arguments for `Family` further down in it's documentation. I've expanded upon the `name` argument documentation for `Family`.



---

archive/issue_comments_253816.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2014-01-17T02:53:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253816",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_253817.json:
```json
{
    "body": "<a id='comment:10'></a>\nOkay, these commits are getting ridiculous. Can I rewrite this branch's history and remove them ? `O_O`",
    "created_at": "2014-01-17T08:25:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253817",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>
Okay, these commits are getting ridiculous. Can I rewrite this branch's history and remove them ? `O_O`



---

archive/issue_comments_253818.json:
```json
{
    "body": "<a id='comment:11'></a>\nI'm talking of the 4 'merge' commits `O_o`\n\nNathann",
    "created_at": "2014-01-17T08:27:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253818",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'></a>
I'm talking of the 4 'merge' commits `O_o`

Nathann



---

archive/issue_comments_253819.json:
```json
{
    "body": "**Changing commit** from \"[aef8b9f94f928b0d457713aec118791b41ce1247](https://github.com/sagemath/sagetrac-mirror/commit/aef8b9f94f928b0d457713aec118791b41ce1247)\" to \"[03b3045881fbff482768e4d3efee772c83d58da8](https://github.com/sagemath/sagetrac-mirror/commit/03b3045881fbff482768e4d3efee772c83d58da8)\".",
    "created_at": "2014-01-17T08:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253819",
    "user": "https://github.com/nathanncohen"
}
```

**Changing commit** from "[aef8b9f94f928b0d457713aec118791b41ce1247](https://github.com/sagemath/sagetrac-mirror/commit/aef8b9f94f928b0d457713aec118791b41ce1247)" to "[03b3045881fbff482768e4d3efee772c83d58da8](https://github.com/sagemath/sagetrac-mirror/commit/03b3045881fbff482768e4d3efee772c83d58da8)".



---

archive/issue_comments_253820.json:
```json
{
    "body": "<a id='comment:12'></a>\nOkay I created another branch where I removed the 4 empty merges with every single beta release of Sage. If that is a problem we can switch back to public/combinat/words/fix_alphabet, but honestly let's keep the histoy simple `O_o`\n\nNathann\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/051153ccf2a255bcdac606e8d02f5bdad8897d88\">051153c</a></td><td><code>Fixes to alphabet and now using name arg in Family.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad53e234455f012be1695fc286e6dfbba8d8a907\">ad53e23</a></td><td><code>Expanded documentation for #15567.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03b3045881fbff482768e4d3efee772c83d58da8\">03b3045</a></td><td><code>More tweaks to alphabet construction for #15567.</code></td></tr></table>\n",
    "created_at": "2014-01-17T08:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253820",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'></a>
Okay I created another branch where I removed the 4 empty merges with every single beta release of Sage. If that is a problem we can switch back to public/combinat/words/fix_alphabet, but honestly let's keep the histoy simple `O_o`

Nathann

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/051153ccf2a255bcdac606e8d02f5bdad8897d88">051153c</a></td><td><code>Fixes to alphabet and now using name arg in Family.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad53e234455f012be1695fc286e6dfbba8d8a907">ad53e23</a></td><td><code>Expanded documentation for #15567.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03b3045881fbff482768e4d3efee772c83d58da8">03b3045</a></td><td><code>More tweaks to alphabet construction for #15567.</code></td></tr></table>




---

archive/issue_comments_253821.json:
```json
{
    "body": "**Changing branch** from \"[public/combinat/words/fix_alphabet](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/words/fix_alphabet)\" to \"[public/15567](https://github.com/sagemath/sagetrac-mirror/tree/public/15567)\".",
    "created_at": "2014-01-17T08:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253821",
    "user": "https://github.com/nathanncohen"
}
```

**Changing branch** from "[public/combinat/words/fix_alphabet](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/words/fix_alphabet)" to "[public/15567](https://github.com/sagemath/sagetrac-mirror/tree/public/15567)".



---

archive/issue_comments_253822.json:
```json
{
    "body": "<a id='comment:13'></a>\nHello.\n\nI'm sorry but this doc has to be rewritten. What the hell does that even mean ?\n\n```\nDefinition: Alphabet(data=None, names=None, name=None)\nDocstring:\n   Return an object representing an ordered alphabet.\n\n   INPUT:\n\n   * \"data\" -- the data to build the alphabet\n\n   * \"names\" -- the letters, names, or prefix\n\n   * \"name\" -- the name of a specific named alphabet\n```\n\nTwo arguments, one named 'name' and the other one 'names'. 'data' is \"the data to build the alphabet\". And the explanation of what 'names' is (i.e. : the letters) makes one think that the 'data to build the alphabet is NOT the letters. What the hell does it all mean ?\n\nPlus none of the examples of Alphabet? actually use Alphabet. Because that is called `build_alphabet`.\n\n```\nsage: build_alphabet(5,['a','b', 'c '])\n...\nValueError: not possible\n```\n\nPlus it would really help to have an explanation of what 'hidden' means in the definition of `hidden_keys` and `hidden_functIon` (the 'i' is missing).\n\nNathann",
    "created_at": "2014-01-17T08:50:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253822",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'></a>
Hello.

I'm sorry but this doc has to be rewritten. What the hell does that even mean ?

```
Definition: Alphabet(data=None, names=None, name=None)
Docstring:
   Return an object representing an ordered alphabet.

   INPUT:

   * "data" -- the data to build the alphabet

   * "names" -- the letters, names, or prefix

   * "name" -- the name of a specific named alphabet
```

Two arguments, one named 'name' and the other one 'names'. 'data' is "the data to build the alphabet". And the explanation of what 'names' is (i.e. : the letters) makes one think that the 'data to build the alphabet is NOT the letters. What the hell does it all mean ?

Plus none of the examples of Alphabet? actually use Alphabet. Because that is called `build_alphabet`.

```
sage: build_alphabet(5,['a','b', 'c '])
...
ValueError: not possible
```

Plus it would really help to have an explanation of what 'hidden' means in the definition of `hidden_keys` and `hidden_functIon` (the 'i' is missing).

Nathann



---

archive/issue_comments_253823.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2014-01-17T08:50:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253823",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_253824.json:
```json
{
    "body": "<a id='comment:14'></a>\nNathann, you write the documentation then (as a review commit).\n\nThere is no class `Alphabet`; it just is an alias (or you can think of it as a facade) for `build_alphabet`. Also IMO, the examples are worth a 1000 words trying to explain all possible combinations in the docstring for the variables. From Webster: \"Hidden (adjective): not seen or known, being out of sight or not readily apparent\". So they are keys and a function on the keys which are not seen or are out of sight.\n\nFurthermore, they are a few harmless merges of the `develop` branch in the history, but I don't want to wait an hour+ to switch between branches and test something in Sage. In fact, on most projects I've seen, the git history consists of many very small commits and can be called \"messy\".",
    "created_at": "2014-01-17T16:31:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253824",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'></a>
Nathann, you write the documentation then (as a review commit).

There is no class `Alphabet`; it just is an alias (or you can think of it as a facade) for `build_alphabet`. Also IMO, the examples are worth a 1000 words trying to explain all possible combinations in the docstring for the variables. From Webster: "Hidden (adjective): not seen or known, being out of sight or not readily apparent". So they are keys and a function on the keys which are not seen or are out of sight.

Furthermore, they are a few harmless merges of the `develop` branch in the history, but I don't want to wait an hour+ to switch between branches and test something in Sage. In fact, on most projects I've seen, the git history consists of many very small commits and can be called "messy".



---

archive/issue_comments_253825.json:
```json
{
    "body": "<a id='comment:15'></a>\nHello !\n\n> Nathann, you write the documentation then (as a review commit).\n\n\nI have absolutely no clue of what this function does. That's the problem. Show the documentation above to anybody you meet, and ask him to deduce what the function returns. If he gets it I am wrong, otherwise it needs to be rewritten.\n\n> There is no class `Alphabet`; it just is an alias (or you can think of it as a facade) for `build_alphabet`. Also IMO, the examples are worth a 1000 words trying to explain all possible combinations in the docstring for the variables. \n\n\nCome on. It must be possible to write properly what the arguments actually mean `O_o`\n\n> From Webster: \"Hidden (adjective): not seen or known, being out of sight or not readily apparent\". So they are keys and a function on the keys which are not seen or are out of sight.\n\n\nThank you very much. Knowing what \"hidden\" means actually help.\n\nHey Travis, what do you think I am doing here ? Why would I come add comments to this ticket just to make it more painful for you ?\nI honestly do not understand what \"hidden\" means in this context. No way. Does it mean that the letters are ignored ? That they just aren't displayed but that they are still stored somewhere ? Does this parameter have any actual use or should it be removed ?\n\nThat's what I want to find out. I have no idea what it does at the moment.\n\n> Furthermore, they are a few harmless merges of the `develop` branch in the history, but I don't want to wait an hour+ to switch between branches and test something in Sage. \n\n\nThere are 4 commits with unclear commit messages, and these four commits are as useful as none, as in the branch I  uploaded. And I never had to recompile anything, I do not understand why you bring this up. \n\n> In fact, on most projects I've seen, the git history consists of many very small commits and can be called \"messy\".\n\n\nHow do they review stuff if each commit is meaningless ? `O_o`\n\nNathann",
    "created_at": "2014-01-17T16:39:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253825",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'></a>
Hello !

> Nathann, you write the documentation then (as a review commit).


I have absolutely no clue of what this function does. That's the problem. Show the documentation above to anybody you meet, and ask him to deduce what the function returns. If he gets it I am wrong, otherwise it needs to be rewritten.

> There is no class `Alphabet`; it just is an alias (or you can think of it as a facade) for `build_alphabet`. Also IMO, the examples are worth a 1000 words trying to explain all possible combinations in the docstring for the variables. 


Come on. It must be possible to write properly what the arguments actually mean `O_o`

> From Webster: "Hidden (adjective): not seen or known, being out of sight or not readily apparent". So they are keys and a function on the keys which are not seen or are out of sight.


Thank you very much. Knowing what "hidden" means actually help.

Hey Travis, what do you think I am doing here ? Why would I come add comments to this ticket just to make it more painful for you ?
I honestly do not understand what "hidden" means in this context. No way. Does it mean that the letters are ignored ? That they just aren't displayed but that they are still stored somewhere ? Does this parameter have any actual use or should it be removed ?

That's what I want to find out. I have no idea what it does at the moment.

> Furthermore, they are a few harmless merges of the `develop` branch in the history, but I don't want to wait an hour+ to switch between branches and test something in Sage. 


There are 4 commits with unclear commit messages, and these four commits are as useful as none, as in the branch I  uploaded. And I never had to recompile anything, I do not understand why you bring this up. 

> In fact, on most projects I've seen, the git history consists of many very small commits and can be called "messy".


How do they review stuff if each commit is meaningless ? `O_o`

Nathann



---

archive/issue_comments_253826.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [ncohen](#comment%3A15):\n> I have absolutely no clue of what this function does. That's the problem. Show the documentation above to anybody you meet, and ask him to deduce what the function returns. If he gets it I am wrong, otherwise it needs to be rewritten.\n\n\nIf the documentation isn't clear, I read the code. IMO this function is not very complicated to understand from the code itself.\n\n> Come on. It must be possible to write properly what the arguments actually mean `O_o`\n\n\nI wrote what they mean (at least, to me), but not how they are used (together).\n\n> Thank you very much. Knowing what \"hidden\" means actually help.\n\n>\n> Hey Travis, what do you think I am doing here ? Why would I come add comments to this ticket just to make it more painful for you ?\n> I honestly do not understand what \"hidden\" means in this context. No way. Does it mean that the letters are ignored ? That they just aren't displayed but that they are still stored somewhere ? Does this parameter have any actual use or should it be removed ?\n\n\nI'm sorry; I didn't realize that this was a language/definition issue (please don't post a reply in French, I think I know more Mandarin than French `:p`). I know you are trying to make Sage's doc more user friendly. I still think that the example which demonstrates these arguments will do much better than a long explanation in the `INPUT:` block. As I recall, the hidden keys/functions are used in the root systems.\n \n> That's what I want to find out. I have no idea what it does at the moment.\n> \n> There are 4 commits with unclear commit messages, and these four commits are as useful as none, as in the branch I  uploaded. And I never had to recompile anything, I do not understand why you bring this up. \n\n\nSwitch between branches which are not up to the latest development version (something like `6.1.beta1`), and almost all of the cython files will be rebuilt because some low-level `.pxi` or `.pxd` file is changed.\n\n> How do they review stuff if each commit is meaningless ? `O_o`\n\n\nThe sum of the parts. The history is only there to see what changed where and when and by whom.",
    "created_at": "2014-01-17T16:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253826",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>
Replying to [ncohen](#comment%3A15):
> I have absolutely no clue of what this function does. That's the problem. Show the documentation above to anybody you meet, and ask him to deduce what the function returns. If he gets it I am wrong, otherwise it needs to be rewritten.


If the documentation isn't clear, I read the code. IMO this function is not very complicated to understand from the code itself.

> Come on. It must be possible to write properly what the arguments actually mean `O_o`


I wrote what they mean (at least, to me), but not how they are used (together).

> Thank you very much. Knowing what "hidden" means actually help.

>
> Hey Travis, what do you think I am doing here ? Why would I come add comments to this ticket just to make it more painful for you ?
> I honestly do not understand what "hidden" means in this context. No way. Does it mean that the letters are ignored ? That they just aren't displayed but that they are still stored somewhere ? Does this parameter have any actual use or should it be removed ?


I'm sorry; I didn't realize that this was a language/definition issue (please don't post a reply in French, I think I know more Mandarin than French `:p`). I know you are trying to make Sage's doc more user friendly. I still think that the example which demonstrates these arguments will do much better than a long explanation in the `INPUT:` block. As I recall, the hidden keys/functions are used in the root systems.
 
> That's what I want to find out. I have no idea what it does at the moment.
> 
> There are 4 commits with unclear commit messages, and these four commits are as useful as none, as in the branch I  uploaded. And I never had to recompile anything, I do not understand why you bring this up. 


Switch between branches which are not up to the latest development version (something like `6.1.beta1`), and almost all of the cython files will be rebuilt because some low-level `.pxi` or `.pxd` file is changed.

> How do they review stuff if each commit is meaningless ? `O_o`


The sum of the parts. The history is only there to see what changed where and when and by whom.



---

archive/issue_comments_253827.json:
```json
{
    "body": "<a id='comment:17'></a>\nYo Travis !\n\nOkay, I am set to give up at least 3 hours of my life to make this doc clean. I am working on it right now and I have a question : why do you want to allow two arguments to be swapped in this case ?\n\n```\n    if isinstance(names, (int,long,Integer)) or names == Infinity: # Swap arguments...\n        data,names = names,data \n```\n\nNathann",
    "created_at": "2014-01-18T12:51:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253827",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:17'></a>
Yo Travis !

Okay, I am set to give up at least 3 hours of my life to make this doc clean. I am working on it right now and I have a question : why do you want to allow two arguments to be swapped in this case ?

```
    if isinstance(names, (int,long,Integer)) or names == Infinity: # Swap arguments...
        data,names = names,data 
```

Nathann



---

archive/issue_comments_253828.json:
```json
{
    "body": "<a id='comment:18'></a>\nI also made a comment earlier about renaming \"name\" to \"prefix\". Do you think this would be a better name for \"name\" ?\n\nNathann",
    "created_at": "2014-01-18T12:55:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253828",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:18'></a>
I also made a comment earlier about renaming "name" to "prefix". Do you think this would be a better name for "name" ?

Nathann



---

archive/issue_comments_253829.json:
```json
{
    "body": "<a id='comment:19'></a>\nAlso : what about changing all the `build_alphabet` to `Alphabet` in the docstring ? Do you think that BOTH names should be exported in the global namespace, and if so why ?\n\nI think that \"Alphabet\" is more natural in Sage.\n\nNathann",
    "created_at": "2014-01-18T13:00:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253829",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:19'></a>
Also : what about changing all the `build_alphabet` to `Alphabet` in the docstring ? Do you think that BOTH names should be exported in the global namespace, and if so why ?

I think that "Alphabet" is more natural in Sage.

Nathann



---

archive/issue_comments_253830.json:
```json
{
    "body": "<a id='comment:20'></a>\nOkay. Here is where I am at. I am now waiting for your answers to my three questions above, and perhaps this patch can go and make those functions easier to use.\n\nBy the way : I never checkout a branch that is based on an earlier version of Sage than the last develop version. I do \n\n```\ngit checkout d # my develop branch\ngit fetch trac public/whatever:whatever\ngit checkout -b rebased_whatever\ngit merge whatever\n```\n\nThis way, no checkout and no compilation. And I can push an updated branch afterwards.\n\nNathann",
    "created_at": "2014-01-18T15:41:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253830",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:20'></a>
Okay. Here is where I am at. I am now waiting for your answers to my three questions above, and perhaps this patch can go and make those functions easier to use.

By the way : I never checkout a branch that is based on an earlier version of Sage than the last develop version. I do 

```
git checkout d # my develop branch
git fetch trac public/whatever:whatever
git checkout -b rebased_whatever
git merge whatever
```

This way, no checkout and no compilation. And I can push an updated branch afterwards.

Nathann



---

archive/issue_comments_253831.json:
```json
{
    "body": "**Changing status** from needs_work to needs_info.",
    "created_at": "2014-01-18T15:41:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253831",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from needs_work to needs_info.



---

archive/issue_comments_253832.json:
```json
{
    "body": "**Changing commit** from \"[03b3045881fbff482768e4d3efee772c83d58da8](https://github.com/sagemath/sagetrac-mirror/commit/03b3045881fbff482768e4d3efee772c83d58da8)\" to \"[b39e393b108ff2a94bcd57dd341b26a7bfe36653](https://github.com/sagemath/sagetrac-mirror/commit/b39e393b108ff2a94bcd57dd341b26a7bfe36653)\".",
    "created_at": "2014-01-18T15:43:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253832",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[03b3045881fbff482768e4d3efee772c83d58da8](https://github.com/sagemath/sagetrac-mirror/commit/03b3045881fbff482768e4d3efee772c83d58da8)" to "[b39e393b108ff2a94bcd57dd341b26a7bfe36653](https://github.com/sagemath/sagetrac-mirror/commit/b39e393b108ff2a94bcd57dd341b26a7bfe36653)".



---

archive/issue_comments_253833.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b39e393b108ff2a94bcd57dd341b26a7bfe36653\">b39e393</a></td><td><code>trac #15567: Doc fixes and comments in many places to understand something.</code></td></tr></table>\n",
    "created_at": "2014-01-18T15:43:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253833",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b39e393b108ff2a94bcd57dd341b26a7bfe36653">b39e393</a></td><td><code>trac #15567: Doc fixes and comments in many places to understand something.</code></td></tr></table>




---

archive/issue_comments_253834.json:
```json
{
    "body": "<a id='comment:22'></a>\nAnd it did take three hours ....",
    "created_at": "2014-01-18T15:43:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253834",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:22'></a>
And it did take three hours ....



---

archive/issue_comments_253835.json:
```json
{
    "body": "<a id='comment:23'></a>\nBy the way, all my modifications in `build_alphabet` were meant to reorder the code only and shouldn't have any effect on the function's behaviour.\n\nNathann",
    "created_at": "2014-01-18T15:44:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253835",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:23'></a>
By the way, all my modifications in `build_alphabet` were meant to reorder the code only and shouldn't have any effect on the function's behaviour.

Nathann



---

archive/issue_comments_253836.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/051153ccf2a255bcdac606e8d02f5bdad8897d88\">051153c</a></td><td><code>Fixes to alphabet and now using name arg in Family.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad53e234455f012be1695fc286e6dfbba8d8a907\">ad53e23</a></td><td><code>Expanded documentation for #15567.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03b3045881fbff482768e4d3efee772c83d58da8\">03b3045</a></td><td><code>More tweaks to alphabet construction for #15567.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9310e0449bdba5a2424942bc0beb962e6f873c15\">9310e04</a></td><td><code>trac #15567: Doc fixes and comments in many places to understand something.</code></td></tr></table>\n",
    "created_at": "2014-01-18T15:49:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253836",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/051153ccf2a255bcdac606e8d02f5bdad8897d88">051153c</a></td><td><code>Fixes to alphabet and now using name arg in Family.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad53e234455f012be1695fc286e6dfbba8d8a907">ad53e23</a></td><td><code>Expanded documentation for #15567.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03b3045881fbff482768e4d3efee772c83d58da8">03b3045</a></td><td><code>More tweaks to alphabet construction for #15567.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9310e0449bdba5a2424942bc0beb962e6f873c15">9310e04</a></td><td><code>trac #15567: Doc fixes and comments in many places to understand something.</code></td></tr></table>




---

archive/issue_comments_253837.json:
```json
{
    "body": "**Changing commit** from \"[b39e393b108ff2a94bcd57dd341b26a7bfe36653](https://github.com/sagemath/sagetrac-mirror/commit/b39e393b108ff2a94bcd57dd341b26a7bfe36653)\" to \"[9310e0449bdba5a2424942bc0beb962e6f873c15](https://github.com/sagemath/sagetrac-mirror/commit/9310e0449bdba5a2424942bc0beb962e6f873c15)\".",
    "created_at": "2014-01-18T15:49:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253837",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b39e393b108ff2a94bcd57dd341b26a7bfe36653](https://github.com/sagemath/sagetrac-mirror/commit/b39e393b108ff2a94bcd57dd341b26a7bfe36653)" to "[9310e0449bdba5a2424942bc0beb962e6f873c15](https://github.com/sagemath/sagetrac-mirror/commit/9310e0449bdba5a2424942bc0beb962e6f873c15)".



---

archive/issue_comments_253838.json:
```json
{
    "body": "<a id='comment:25'></a>\n(just updated the last commit, a couple of typo)",
    "created_at": "2014-01-18T15:50:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253838",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:25'></a>
(just updated the last commit, a couple of typo)



---

archive/issue_comments_253839.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b31c406d8f478fac9a6ff0a4333d4ab9cbb86bb8\">b31c406</a></td><td><code>Fixed errors for #15567.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/baaabd695e6aa168e02ef6ac2d933e9338e663b9\">baaabd6</a></td><td><code>Changed a ValueError to a TypeError. Documentation Tweak. #15567</code></td></tr></table>\n",
    "created_at": "2014-01-18T17:52:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253839",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b31c406d8f478fac9a6ff0a4333d4ab9cbb86bb8">b31c406</a></td><td><code>Fixed errors for #15567.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/baaabd695e6aa168e02ef6ac2d933e9338e663b9">baaabd6</a></td><td><code>Changed a ValueError to a TypeError. Documentation Tweak. #15567</code></td></tr></table>




---

archive/issue_comments_253840.json:
```json
{
    "body": "**Changing commit** from \"[9310e0449bdba5a2424942bc0beb962e6f873c15](https://github.com/sagemath/sagetrac-mirror/commit/9310e0449bdba5a2424942bc0beb962e6f873c15)\" to \"[baaabd695e6aa168e02ef6ac2d933e9338e663b9](https://github.com/sagemath/sagetrac-mirror/commit/baaabd695e6aa168e02ef6ac2d933e9338e663b9)\".",
    "created_at": "2014-01-18T17:52:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253840",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9310e0449bdba5a2424942bc0beb962e6f873c15](https://github.com/sagemath/sagetrac-mirror/commit/9310e0449bdba5a2424942bc0beb962e6f873c15)" to "[baaabd695e6aa168e02ef6ac2d933e9338e663b9](https://github.com/sagemath/sagetrac-mirror/commit/baaabd695e6aa168e02ef6ac2d933e9338e663b9)".



---

archive/issue_comments_253841.json:
```json
{
    "body": "<a id='comment:27'></a>\nYour way of doing things only suppresses the commit message that's put on trac, there is still the merge in the git history. However I'm not for rewriting history on a branch on a ticket.\n\nI've fixed the errors I found, standardized the exception messages, and did some other cleanup of documentation in `family.py`.\n\nI swap the arguments to be consistent with `PolynomialRing` and because it makes it more user-friendly (at least less requirement of the user to look at the doc).\n\nAs I believe you are aware, `name` is not used as a `prefix`, so we let it be (and if you meant `names`, then see Vincent's request).\n\nI don't exactly think `Alphabet` should be in the global namespace since it's not a class, but it doesn't bother me leaving it around since it is a natural (historical) guess/entry point (and if you want to deprecate it, please do so on another ticket).\n\nBest,\n\nTravis",
    "created_at": "2014-01-18T18:03:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253841",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:27'></a>
Your way of doing things only suppresses the commit message that's put on trac, there is still the merge in the git history. However I'm not for rewriting history on a branch on a ticket.

I've fixed the errors I found, standardized the exception messages, and did some other cleanup of documentation in `family.py`.

I swap the arguments to be consistent with `PolynomialRing` and because it makes it more user-friendly (at least less requirement of the user to look at the doc).

As I believe you are aware, `name` is not used as a `prefix`, so we let it be (and if you meant `names`, then see Vincent's request).

I don't exactly think `Alphabet` should be in the global namespace since it's not a class, but it doesn't bother me leaving it around since it is a natural (historical) guess/entry point (and if you want to deprecate it, please do so on another ticket).

Best,

Travis



---

archive/issue_comments_253842.json:
```json
{
    "body": "<a id='comment:28'></a>\n> Your way of doing things only suppresses the commit message that's put on trac, there is still the merge in the git history. However I'm not for rewriting history on a branch on a ticket.\n\n\nI do not understand. Why would it suppress the commit message put on trac ? Trac is perfectly able to display two commits at once ?.. `O_o`\nAnd there is absolutely no history rewriting going on. I am just telling you how I avoid compiling commits based on old beta releases, which seemed to be a problem for you.\n\n> I've fixed the errors I found, standardized the exception messages, and did some other cleanup of documentation in `family.py`.\n\n\nI see.\n\n> I swap the arguments to be consistent with `PolynomialRing` and because it makes it more user-friendly (at least less requirement of the user to look at the doc).\n\n\nI think that's a terrible behaviour.\n\n> As I believe you are aware, `name` is not used as a `prefix`, so we let it be (and if you meant `names`, then see Vincent's request).\n\n\nI meant 'names', of course.\n\nWell.\n\nAt least now there is some doc in this function.\n\n> I don't exactly think `Alphabet` should be in the global namespace since it's not a class, but it doesn't bother me leaving it around since it is a natural (historical) guess/entry point (and if you want to deprecate it, please do so on another ticket).\n\n\nI actually thought of deprecating \"build_alphabet\". Looks like a bad think to put in the global namespace.\n\nOkay, positive review to that, and those methods are a bit better now than they were when we began this patch `:-P`\n\nNathann\n\nP.S. : I will add a commit in a second to fix 2 typos",
    "created_at": "2014-01-18T18:37:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253842",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:28'></a>
> Your way of doing things only suppresses the commit message that's put on trac, there is still the merge in the git history. However I'm not for rewriting history on a branch on a ticket.


I do not understand. Why would it suppress the commit message put on trac ? Trac is perfectly able to display two commits at once ?.. `O_o`
And there is absolutely no history rewriting going on. I am just telling you how I avoid compiling commits based on old beta releases, which seemed to be a problem for you.

> I've fixed the errors I found, standardized the exception messages, and did some other cleanup of documentation in `family.py`.


I see.

> I swap the arguments to be consistent with `PolynomialRing` and because it makes it more user-friendly (at least less requirement of the user to look at the doc).


I think that's a terrible behaviour.

> As I believe you are aware, `name` is not used as a `prefix`, so we let it be (and if you meant `names`, then see Vincent's request).


I meant 'names', of course.

Well.

At least now there is some doc in this function.

> I don't exactly think `Alphabet` should be in the global namespace since it's not a class, but it doesn't bother me leaving it around since it is a natural (historical) guess/entry point (and if you want to deprecate it, please do so on another ticket).


I actually thought of deprecating "build_alphabet". Looks like a bad think to put in the global namespace.

Okay, positive review to that, and those methods are a bit better now than they were when we began this patch `:-P`

Nathann

P.S. : I will add a commit in a second to fix 2 typos



---

archive/issue_comments_253843.json:
```json
{
    "body": "**Reviewer:** Nathann Cohen",
    "created_at": "2014-01-18T18:37:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253843",
    "user": "https://github.com/nathanncohen"
}
```

**Reviewer:** Nathann Cohen



---

archive/issue_comments_253844.json:
```json
{
    "body": "<a id='comment:29'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f73d436e2590d5a4134b813460464dd62267c6fe\">f73d436</a></td><td><code>trac #15567: two typos</code></td></tr></table>\n",
    "created_at": "2014-01-18T18:38:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253844",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f73d436e2590d5a4134b813460464dd62267c6fe">f73d436</a></td><td><code>trac #15567: two typos</code></td></tr></table>




---

archive/issue_comments_253845.json:
```json
{
    "body": "**Changing commit** from \"[baaabd695e6aa168e02ef6ac2d933e9338e663b9](https://github.com/sagemath/sagetrac-mirror/commit/baaabd695e6aa168e02ef6ac2d933e9338e663b9)\" to \"[f73d436e2590d5a4134b813460464dd62267c6fe](https://github.com/sagemath/sagetrac-mirror/commit/f73d436e2590d5a4134b813460464dd62267c6fe)\".",
    "created_at": "2014-01-18T18:38:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253845",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[baaabd695e6aa168e02ef6ac2d933e9338e663b9](https://github.com/sagemath/sagetrac-mirror/commit/baaabd695e6aa168e02ef6ac2d933e9338e663b9)" to "[f73d436e2590d5a4134b813460464dd62267c6fe](https://github.com/sagemath/sagetrac-mirror/commit/f73d436e2590d5a4134b813460464dd62267c6fe)".



---

archive/issue_comments_253846.json:
```json
{
    "body": "**Changing status** from needs_info to positive_review.",
    "created_at": "2014-01-18T18:38:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253846",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from needs_info to positive_review.



---

archive/issue_comments_253847.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [ncohen](#comment%3A28):\n> > Your way of doing things only suppresses the commit message that's put on trac, there is still the merge in the git history. However I'm not for rewriting history on a branch on a ticket.\n\n> \n> I do not understand. Why would it suppress the commit message put on trac ? Trac is perfectly able to display two commits at once ?.. `O_o`\n> And there is absolutely no history rewriting going on. I am just telling you how I avoid compiling commits based on old beta releases, which seemed to be a problem for you.\n\n\nYou've called \"git merge\", which creates a merge commit. Or are you running a `git rebase` somewhere? My problem comes from branches that I have before the next beta version comes along, are you suggesting that I delete these branches, then re-pull all of them using of the above?\n\nHowever 9310e04 vs. b39e393 is changing history.\n\nThanks for fixing those typos!",
    "created_at": "2014-01-18T18:57:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253847",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:31'></a>
Replying to [ncohen](#comment%3A28):
> > Your way of doing things only suppresses the commit message that's put on trac, there is still the merge in the git history. However I'm not for rewriting history on a branch on a ticket.

> 
> I do not understand. Why would it suppress the commit message put on trac ? Trac is perfectly able to display two commits at once ?.. `O_o`
> And there is absolutely no history rewriting going on. I am just telling you how I avoid compiling commits based on old beta releases, which seemed to be a problem for you.


You've called "git merge", which creates a merge commit. Or are you running a `git rebase` somewhere? My problem comes from branches that I have before the next beta version comes along, are you suggesting that I delete these branches, then re-pull all of them using of the above?

However 9310e04 vs. b39e393 is changing history.

Thanks for fixing those typos!



---

archive/issue_comments_253848.json:
```json
{
    "body": "<a id='comment:32'></a>\n> You've called \"git merge\", which creates a merge commit. Or are you running a `git rebase` somewhere? My problem comes from branches that I have before the next beta version comes along, are you suggesting that I delete these branches, then re-pull all of them using of the above?\n\n\nNonono ! But you can merge the branch into develop, instead of merging develop into your old branch. I create a branch on the latest develop, and call `git merge the_old_branch`. My new commit is above the latest beta, and as there was no checkout none of the files changed. You can then do a `sage -b` and only the files touched by the old branch changed.\n\n> However 9310e04 vs. b39e393 is changing history.\n\n\nAhahah. Well. That was my own last commit only (the hash of the other ones never changed, that part of the history was not rewritten), and that was only seconds after having pushed it. I think we can tolerate things like that `:-P`\n\nNathann",
    "created_at": "2014-01-18T19:28:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253848",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:32'></a>
> You've called "git merge", which creates a merge commit. Or are you running a `git rebase` somewhere? My problem comes from branches that I have before the next beta version comes along, are you suggesting that I delete these branches, then re-pull all of them using of the above?


Nonono ! But you can merge the branch into develop, instead of merging develop into your old branch. I create a branch on the latest develop, and call `git merge the_old_branch`. My new commit is above the latest beta, and as there was no checkout none of the files changed. You can then do a `sage -b` and only the files touched by the old branch changed.

> However 9310e04 vs. b39e393 is changing history.


Ahahah. Well. That was my own last commit only (the hash of the other ones never changed, that part of the history was not rewritten), and that was only seconds after having pushed it. I think we can tolerate things like that `:-P`

Nathann



---

archive/issue_comments_253849.json:
```json
{
    "body": "<a id='comment:33'></a>\nThanks again for reviewing this Nathann.",
    "created_at": "2014-01-19T16:42:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253849",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:33'></a>
Thanks again for reviewing this Nathann.



---

archive/issue_comments_253850.json:
```json
{
    "body": "<a id='comment:34'></a>\n> Thanks again for reviewing this Nathann.\n\nhttp://honestintentions.com/wp-content/uploads/2013/04/thumbsup.jpg",
    "created_at": "2014-01-19T18:39:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253850",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:34'></a>
> Thanks again for reviewing this Nathann.

http://honestintentions.com/wp-content/uploads/2013/04/thumbsup.jpg



---

archive/issue_comments_253851.json:
```json
{
    "body": "<a id='comment:35'></a>\nlolz",
    "created_at": "2014-01-19T18:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253851",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:35'></a>
lolz



---

archive/issue_events_051990.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15567#event-51990"
}
```



---

archive/issue_comments_253852.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2014-02-03T16:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15567#issuecomment-253852",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_events_051991.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-03T16:07:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15567",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15567#event-51991"
}
```
