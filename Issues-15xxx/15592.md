# Issue 15592: Birational rowmotion

archive/issues_015355.json:
```json
{
    "body": "This is a heavily refactored version of the code Tom and I used in studying birational rowmotion and showed around in Bures-sur-Yvette. It is missing some of the hacky research-related methods but the main features are there.\n\nCC:  sage-combinat @tscrim @jessicapalencia @anneschilling @vbraun\n\nKeywords: birational rowmotion, posets, combinat\n\nBranch/Commit: 154d3fdc4d4ea26d0217300f0cf14fa41259893b\n\nReviewer: Travis Scrimshaw\n\nAuthor: Darij Grinberg\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/15592\n\n",
    "closed_at": "2014-03-04T16:58:47Z",
    "created_at": "2013-12-26T00:56:56Z",
    "labels": [
        "component: categories"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "Birational rowmotion",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15592",
    "user": "https://github.com/darijgr"
}
```
This is a heavily refactored version of the code Tom and I used in studying birational rowmotion and showed around in Bures-sur-Yvette. It is missing some of the hacky research-related methods but the main features are there.

CC:  sage-combinat @tscrim @jessicapalencia @anneschilling @vbraun

Keywords: birational rowmotion, posets, combinat

Branch/Commit: 154d3fdc4d4ea26d0217300f0cf14fa41259893b

Reviewer: Travis Scrimshaw

Author: Darij Grinberg

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/15592





---

archive/issue_comments_210986.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-12-26T00:57:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15592#issuecomment-210986",
    "user": "https://github.com/darijgr"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_210987.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-03T17:50:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15592#issuecomment-210987",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_210988.json:
```json
{
    "body": "<a id='comment:4'></a>Hey Darij,\n\nI've fixed up the doc and changed the arg `alphabet` to `prefix` in `birational_free_labelling()`. I tried to implement `birational_toggles()` and `birational_rowmotion()` using a `reduce`, but this didn't net any speedup. Somewhat surprisingly to me, this actually slowed it down slightly, even with avoiding the extra `lambda` calls by swapping the order of the arguments in `birational_toggle()`.\n\nAnyways, if you're happy with my changes, then it's a positive review.\n\nBest,\n\nTravis",
    "created_at": "2014-01-03T17:52:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15592#issuecomment-210988",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>Hey Darij,

I've fixed up the doc and changed the arg `alphabet` to `prefix` in `birational_free_labelling()`. I tried to implement `birational_toggles()` and `birational_rowmotion()` using a `reduce`, but this didn't net any speedup. Somewhat surprisingly to me, this actually slowed it down slightly, even with avoiding the extra `lambda` calls by swapping the order of the arguments in `birational_toggle()`.

Anyways, if you're happy with my changes, then it's a positive review.

Best,

Travis



---

archive/issue_comments_210989.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-03T19:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15592#issuecomment-210989",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_210990.json:
```json
{
    "body": "<a id='comment:6'></a>Thank you Travis! This was honestly the patch I least expected to get a speedy review...\n\nAre you fine with the last fixes I just made? (I added a reference to an abstract which was just put online today and which, weirdly, has some content the main paper does not.)",
    "created_at": "2014-01-03T19:16:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15592#issuecomment-210990",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:6'></a>Thank you Travis! This was honestly the patch I least expected to get a speedy review...

Are you fine with the last fixes I just made? (I added a reference to an abstract which was just put online today and which, weirdly, has some content the main paper does not.)



---

archive/issue_comments_210991.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 darij]:\n> Thank you Travis! This was honestly the patch I least expected to get a speedy review...\n\n\nYour welcome, it is interesting.\n\n> Are you fine with the last fixes I just made? (I added a reference to an abstract which was just put online today and which, weirdly, has some content the main paper does not.)\n\n\nYep, looks good.",
    "created_at": "2014-01-03T20:17:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15592#issuecomment-210991",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>Replying to [comment:6 darij]:
> Thank you Travis! This was honestly the patch I least expected to get a speedy review...


Your welcome, it is interesting.

> Are you fine with the last fixes I just made? (I added a reference to an abstract which was just put online today and which, weirdly, has some content the main paper does not.)


Yep, looks good.



---

archive/issue_comments_210992.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-01-03T20:17:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15592#issuecomment-210992",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_045611.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15592",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15592#event-45611"
}
```



---

archive/issue_comments_210993.json:
```json
{
    "body": "<a id='comment:10'></a>Documentation does not build:\n\n```\n[categorie] /home/release/Sage/local/lib/python2.7/site-packages/sage/categories/finite_posets.py:docstring of sage.categories.finite_posets.FinitePosets.ParentMethods.birational_free_labelling:51: WARNING: Inline emphasis start-string without end-string.\n[categorie] /home/release/Sage/local/lib/python2.7/site-packages/sage/categories/finite_posets.py:docstring of sage.categories.finite_posets.FinitePosets.ParentMethods.birational_free_labelling:51: WARNING: Inline emphasis start-string without end-string.\nTraceback (most recent call last):\n  File \"/home/release/Sage/src/doc/common/builder.py\", line 83, in f\n    execfile(sys.argv[0])\n  File \"/home/release/Sage/src/doc/common/custom-sphinx-build.py\", line 185, in <module>\n    sphinx.cmdline.main(sys.argv)\n  File \"/home/release/Sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/cmdline.py\", line 206, in main\n    print >>error\n  File \"/home/release/Sage/src/doc/common/custom-sphinx-build.py\", line 165, in write\n    self._write(str)\n  File \"/home/release/Sage/src/doc/common/custom-sphinx-build.py\", line 139, in _write\n    self._log_line(line)\n  File \"/home/release/Sage/src/doc/common/custom-sphinx-build.py\", line 108, in _log_line\n    raise OSError(line)\nOSError: [categorie] /home/release/Sage/local/lib/python2.7/site-packages/sage/categories/finite_posets.py:docstring of sage.categories.finite_posets.FinitePosets.ParentMethods.birational_free_labelling:51: WARNING: Inline emphasis start-string without end-string.\n\n\n[lfunction] building [inventory]: targets for 4 source files that are out of date\n[lfunction] updating environment: 4 added, 0 changed, 0 removed\n[lfunction] reading sources... [ 25%] index\n[interface] loading pickled environment... not yet created\n[lfunction] reading sources... [ 50%] sage/lfunctions/dokchitser\n[interface] building [inventory]: targets for 23 source files that are out of date\n[interface] updating environment: 23 added, 0 changed, 0 removed\n[interface] reading sources... [  4%] index\n[functions] reading sources... [ 81%] sage/functions/spike_function\n[interface] reading sources... [  8%] sage/interfaces/axiom\nError building the documentation.\nTraceback (most recent call last):\n  File \"/home/release/Sage/src/doc/common/builder.py\", line 1474, in <module>\n    getattr(get_builder(name), type)()\n  File \"/home/release/Sage/src/doc/common/builder.py\", line 269, in _wrapper\n    getattr(get_builder(document), 'inventory')(*args, **kwds)\n  File \"/home/release/Sage/src/doc/common/builder.py\", line 485, in _wrapper\n    x.get(99999)\n  File \"/home/release/Sage/local/lib/python/multiprocessing/pool.py\", line 554, in get\n    raise self._value\nOSError: [categorie] /home/release/Sage/local/lib/python2.7/site-packages/sage/categories/finite_posets.py:docstring of sage.categories.finite_posets.FinitePosets.ParentMethods.birational_free_labelling:51: WARNING: Inline emphasis start-string without end-string.\n```",
    "created_at": "2014-03-03T16:52:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15592#issuecomment-210993",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'></a>Documentation does not build:

```
[categorie] /home/release/Sage/local/lib/python2.7/site-packages/sage/categories/finite_posets.py:docstring of sage.categories.finite_posets.FinitePosets.ParentMethods.birational_free_labelling:51: WARNING: Inline emphasis start-string without end-string.
[categorie] /home/release/Sage/local/lib/python2.7/site-packages/sage/categories/finite_posets.py:docstring of sage.categories.finite_posets.FinitePosets.ParentMethods.birational_free_labelling:51: WARNING: Inline emphasis start-string without end-string.
Traceback (most recent call last):
  File "/home/release/Sage/src/doc/common/builder.py", line 83, in f
    execfile(sys.argv[0])
  File "/home/release/Sage/src/doc/common/custom-sphinx-build.py", line 185, in <module>
    sphinx.cmdline.main(sys.argv)
  File "/home/release/Sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/cmdline.py", line 206, in main
    print >>error
  File "/home/release/Sage/src/doc/common/custom-sphinx-build.py", line 165, in write
    self._write(str)
  File "/home/release/Sage/src/doc/common/custom-sphinx-build.py", line 139, in _write
    self._log_line(line)
  File "/home/release/Sage/src/doc/common/custom-sphinx-build.py", line 108, in _log_line
    raise OSError(line)
OSError: [categorie] /home/release/Sage/local/lib/python2.7/site-packages/sage/categories/finite_posets.py:docstring of sage.categories.finite_posets.FinitePosets.ParentMethods.birational_free_labelling:51: WARNING: Inline emphasis start-string without end-string.


[lfunction] building [inventory]: targets for 4 source files that are out of date
[lfunction] updating environment: 4 added, 0 changed, 0 removed
[lfunction] reading sources... [ 25%] index
[interface] loading pickled environment... not yet created
[lfunction] reading sources... [ 50%] sage/lfunctions/dokchitser
[interface] building [inventory]: targets for 23 source files that are out of date
[interface] updating environment: 23 added, 0 changed, 0 removed
[interface] reading sources... [  4%] index
[functions] reading sources... [ 81%] sage/functions/spike_function
[interface] reading sources... [  8%] sage/interfaces/axiom
Error building the documentation.
Traceback (most recent call last):
  File "/home/release/Sage/src/doc/common/builder.py", line 1474, in <module>
    getattr(get_builder(name), type)()
  File "/home/release/Sage/src/doc/common/builder.py", line 269, in _wrapper
    getattr(get_builder(document), 'inventory')(*args, **kwds)
  File "/home/release/Sage/src/doc/common/builder.py", line 485, in _wrapper
    x.get(99999)
  File "/home/release/Sage/local/lib/python/multiprocessing/pool.py", line 554, in get
    raise self._value
OSError: [categorie] /home/release/Sage/local/lib/python2.7/site-packages/sage/categories/finite_posets.py:docstring of sage.categories.finite_posets.FinitePosets.ParentMethods.birational_free_labelling:51: WARNING: Inline emphasis start-string without end-string.
```



---

archive/issue_comments_210994.json:
```json
{
    "body": "<a id='comment:11'></a>Thanks for the catch. Am I right to assume that this\n\n```\n            existing elements of `P` and `1`. Now, a `\\mathbf{K}`*-labelling\n            of* `P` will mean any function from `\\widehat{P}` to `\\mathbf{K}`.\n```\nshould be this:\n\n```\n            existing elements of `P` and `1`. Now, a *`\\mathbf{K}`-labelling\n            of* `P` will mean any function from `\\widehat{P}` to `\\mathbf{K}`.\n```\n(I can't compile doc fast enough to check this now.)",
    "created_at": "2014-03-03T17:05:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15592#issuecomment-210994",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:11'></a>Thanks for the catch. Am I right to assume that this

```
            existing elements of `P` and `1`. Now, a `\mathbf{K}`*-labelling
            of* `P` will mean any function from `\widehat{P}` to `\mathbf{K}`.
```
should be this:

```
            existing elements of `P` and `1`. Now, a *`\mathbf{K}`-labelling
            of* `P` will mean any function from `\widehat{P}` to `\mathbf{K}`.
```
(I can't compile doc fast enough to check this now.)



---

archive/issue_comments_210995.json:
```json
{
    "body": "<a id='comment:12'></a>I think this should be the correct way of doing things:\n\n```\n            existing elements of `P` and `1`. Now, a `\\mathbf{K}`-*labelling\n            of* `P` will mean any function from `\\widehat{P}` to `\\mathbf{K}`.\n```",
    "created_at": "2014-03-03T22:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15592#issuecomment-210995",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>I think this should be the correct way of doing things:

```
            existing elements of `P` and `1`. Now, a `\mathbf{K}`-*labelling
            of* `P` will mean any function from `\widehat{P}` to `\mathbf{K}`.
```



---

archive/issue_comments_210996.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2014-03-03T23:19:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15592#issuecomment-210996",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_210997.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2014-03-03T23:19:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15592#issuecomment-210997",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_210998.json:
```json
{
    "body": "<a id='comment:14'></a>Sorry, the bug was on a different line. Apparently Sphinx doesn't like italics beginning or ending in the middle of a word, and I had `*pro*motion`.\n\nI guess it's positive_review due to the insignificance of the edits.",
    "created_at": "2014-03-03T23:20:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15592#issuecomment-210998",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:14'></a>Sorry, the bug was on a different line. Apparently Sphinx doesn't like italics beginning or ending in the middle of a word, and I had `*pro*motion`.

I guess it's positive_review due to the insignificance of the edits.



---

archive/issue_comments_210999.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-03-03T23:20:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15592#issuecomment-210999",
    "user": "https://github.com/darijgr"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_045612.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-03-04T16:58:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15592",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15592#event-45612"
}
```



---

archive/issue_comments_211000.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-03-04T16:58:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15592",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15592#issuecomment-211000",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
