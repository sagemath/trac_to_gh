# Issue 15259: (v,4,1)-BIBD, Latin Squares and Orthogonal arrays

archive/issues_015022.json:
```json
{
    "body": "CC:  @dimpase @vbraun @wdjoyner @rbeezer\n\nWUUUUHUUUUUUUUUUUUUUUUUU !!\n\nThis patch implements a construction from Douglas Stinson's book \"Combinatorial Designs: Constructions and Analysis\" for (v,4,1)-BIBD, i.e. decompositions of `K_v` into copies of `K_4`. It requires the construction of some other combinatorial objects, like some Mutually Orthogonal Latin Squares and Orthogonal Arrays, an so some theorems from this book are also implemented by this patch. Hoping that the new files will get larger eventually `:-)`\n\nI also fixed a bug in `AffineGeometryDesign` : a `List` is used instead of a `Set`, and as a result blocks are returned several times. Example :\n\nBefore\n\n```\nsage: print designs.AffineGeometryDesign(2, 1, GF(2)).blocks()\n[[0, 1], [0, 1], [0, 2], [0, 2], [0, 3], [0, 3], [1, 2], \n [1, 2], [1, 3], [1, 3], [2, 3], [2, 3]]\n```\n\nAfter\n\n```\nsage: print designs.AffineGeometryDesign(2, 1, GF(2)).blocks()\n[[0, 1], [0, 2], [0, 3], [1, 2], [1, 3], [2, 3]]\n```\n\nOverall :\n* A file named `bibd.py` now gathers `steiner_triple_systems` (moved there from `block_designs.py`). It also implement the present construction, and a general `BalancedIncompleteBlockDesign` is created to obtain both steiner triple systems and `(v,4,1)`-BIBD. And even some others from the online database.\n* A file named `latin_squares.py` contains constructions for mutually orthogonal latin squares, as well as a function to compute the product of two latin squares.\n* A file named `orthogonal_arrays.py` contains constructions for orthogonal arrays and transversal designs (which are a particular case of orthogonal arrays.\n\nThe most important thing is that **even if all the code written there is wrong** (and it is indeed very unclear at times), nothing is returned without being checked first for correctness.\n\nSooooooooooo well. It's rather safe `;-)`\n\nHave fuuuuuuuuuuuuun !\n\nNathann\n\nIssue created by migration from https://trac.sagemath.org/ticket/15259\n\n",
    "closed_at": "2013-10-30T14:25:10Z",
    "created_at": "2013-10-07T10:55:41Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "(v,4,1)-BIBD, Latin Squares and Orthogonal arrays",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15259",
    "user": "https://github.com/nathanncohen"
}
```
CC:  @dimpase @vbraun @wdjoyner @rbeezer

WUUUUHUUUUUUUUUUUUUUUUUU !!

This patch implements a construction from Douglas Stinson's book "Combinatorial Designs: Constructions and Analysis" for (v,4,1)-BIBD, i.e. decompositions of `K_v` into copies of `K_4`. It requires the construction of some other combinatorial objects, like some Mutually Orthogonal Latin Squares and Orthogonal Arrays, an so some theorems from this book are also implemented by this patch. Hoping that the new files will get larger eventually `:-)`

I also fixed a bug in `AffineGeometryDesign` : a `List` is used instead of a `Set`, and as a result blocks are returned several times. Example :

Before

```
sage: print designs.AffineGeometryDesign(2, 1, GF(2)).blocks()
[[0, 1], [0, 1], [0, 2], [0, 2], [0, 3], [0, 3], [1, 2], 
 [1, 2], [1, 3], [1, 3], [2, 3], [2, 3]]
```

After

```
sage: print designs.AffineGeometryDesign(2, 1, GF(2)).blocks()
[[0, 1], [0, 2], [0, 3], [1, 2], [1, 3], [2, 3]]
```

Overall :
* A file named `bibd.py` now gathers `steiner_triple_systems` (moved there from `block_designs.py`). It also implement the present construction, and a general `BalancedIncompleteBlockDesign` is created to obtain both steiner triple systems and `(v,4,1)`-BIBD. And even some others from the online database.
* A file named `latin_squares.py` contains constructions for mutually orthogonal latin squares, as well as a function to compute the product of two latin squares.
* A file named `orthogonal_arrays.py` contains constructions for orthogonal arrays and transversal designs (which are a particular case of orthogonal arrays.

The most important thing is that **even if all the code written there is wrong** (and it is indeed very unclear at times), nothing is returned without being checked first for correctness.

Sooooooooooo well. It's rather safe `;-)`

Have fuuuuuuuuuuuuun !

Nathann

Issue created by migration from https://trac.sagemath.org/ticket/15259





---

archive/issue_comments_191772.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-10-07T10:56:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-191772",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_191773.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2013-10-07T10:57:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-191773",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_191774.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2013-10-07T11:24:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-191774",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_191775.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-09T14:07:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-191775",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_191776.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-09T16:03:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-191776",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_191777.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-14T07:09:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-191777",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_191778.json:
```json
{
    "body": "This patch has been split in smaller patches, and this ticket is now a duplicate of #15288 (and its dependencies #15287 #15286 and #15285)\n\nNathann",
    "created_at": "2013-10-16T15:09:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-191778",
    "user": "https://github.com/nathanncohen"
}
```

This patch has been split in smaller patches, and this ticket is now a duplicate of #15288 (and its dependencies #15287 #15286 and #15285)

Nathann



---

archive/issue_comments_191779.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-10-16T15:09:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-191779",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_044160.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-10-16T15:09:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15259#event-44160"
}
```



---

archive/issue_events_044161.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-30T14:25:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15259#event-44161"
}
```



---

archive/issue_comments_191780.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2013-10-30T14:25:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-191780",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: duplicate



---

archive/issue_comments_191781.json:
```json
{
    "body": "For a split second I believed that #15288 had been reviewed `T_T`\n\nNathann",
    "created_at": "2013-10-30T14:26:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-191781",
    "user": "https://github.com/nathanncohen"
}
```

For a split second I believed that #15288 had been reviewed `T_T`

Nathann
