# Issue 15259: (v,4,1)-BIBD, Latin Squares and Orthogonal arrays

archive/issues_015022.json:
```json
{
    "body": "WUUUUHUUUUUUUUUUUUUUUUUU !!\n\nThis patch implements a construction from Douglas Stinson's book \"Combinatorial Designs: Constructions and Analysis\" for (v,4,1)-BIBD, i.e. decompositions of `K_v` into copies of `K_4`. It requires the construction of some other combinatorial objects, like some Mutually Orthogonal Latin Squares and Orthogonal Arrays, an so some theorems from this book are also implemented by this patch. Hoping that the new files will get larger eventually `:-)`\n\nI also fixed a bug in `AffineGeometryDesign` : a `List` is used instead of a `Set`, and as a result blocks are returned several times. Example :\n\nBefore\n\n```\nsage: print designs.AffineGeometryDesign(2, 1, GF(2)).blocks()\n[[0, 1], [0, 1], [0, 2], [0, 2], [0, 3], [0, 3], [1, 2], \n [1, 2], [1, 3], [1, 3], [2, 3], [2, 3]]\n```\n\nAfter\n\n```\nsage: print designs.AffineGeometryDesign(2, 1, GF(2)).blocks()\n[[0, 1], [0, 2], [0, 3], [1, 2], [1, 3], [2, 3]]\n```\n\nOverall :\n* A file named `bibd.py` now gathers `steiner_triple_systems` (moved there from `block_designs.py`). It also implement the present construction, and a general `BalancedIncompleteBlockDesign` is created to obtain both steiner triple systems and `(v,4,1)`-BIBD. And even some others from the online database.\n* A file named `latin_squares.py` contains constructions for mutually orthogonal latin squares, as well as a function to compute the product of two latin squares.\n* A file named `orthogonal_arrays.py` contains constructions for orthogonal arrays and transversal designs (which are a particular case of orthogonal arrays.\n\nThe most important thing is that **even if all the code written there is wrong** (and it is indeed very unclear at times), nothing is returned without being checked first for correctness.\n\nSooooooooooo well. It's rather safe `;-)`\n\nHave fuuuuuuuuuuuuun !\n\nNathann\n\nCC:  @dimpase @vbraun @wdjoyner @rbeezer\n\nReviewer: Nathann Cohen\n\nBranch: u/ncohen/15259\n\nDependencies: #15107\n\nCommit: ffda584fb317a7d19a41046bfeaff584aa66d9c3\n\nResolution: duplicate\n\nIssue created by migration from https://trac.sagemath.org/ticket/15259\n\n",
    "closed_at": "2013-10-30T14:25:10Z",
    "created_at": "2013-10-07T10:55:41Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "(v,4,1)-BIBD, Latin Squares and Orthogonal arrays",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15259",
    "user": "https://github.com/nathanncohen"
}
```
WUUUUHUUUUUUUUUUUUUUUUUU !!

This patch implements a construction from Douglas Stinson's book "Combinatorial Designs: Constructions and Analysis" for (v,4,1)-BIBD, i.e. decompositions of `K_v` into copies of `K_4`. It requires the construction of some other combinatorial objects, like some Mutually Orthogonal Latin Squares and Orthogonal Arrays, an so some theorems from this book are also implemented by this patch. Hoping that the new files will get larger eventually `:-)`

I also fixed a bug in `AffineGeometryDesign` : a `List` is used instead of a `Set`, and as a result blocks are returned several times. Example :

Before

```
sage: print designs.AffineGeometryDesign(2, 1, GF(2)).blocks()
[[0, 1], [0, 1], [0, 2], [0, 2], [0, 3], [0, 3], [1, 2], 
 [1, 2], [1, 3], [1, 3], [2, 3], [2, 3]]
```

After

```
sage: print designs.AffineGeometryDesign(2, 1, GF(2)).blocks()
[[0, 1], [0, 2], [0, 3], [1, 2], [1, 3], [2, 3]]
```

Overall :
* A file named `bibd.py` now gathers `steiner_triple_systems` (moved there from `block_designs.py`). It also implement the present construction, and a general `BalancedIncompleteBlockDesign` is created to obtain both steiner triple systems and `(v,4,1)`-BIBD. And even some others from the online database.
* A file named `latin_squares.py` contains constructions for mutually orthogonal latin squares, as well as a function to compute the product of two latin squares.
* A file named `orthogonal_arrays.py` contains constructions for orthogonal arrays and transversal designs (which are a particular case of orthogonal arrays.

The most important thing is that **even if all the code written there is wrong** (and it is indeed very unclear at times), nothing is returned without being checked first for correctness.

Sooooooooooo well. It's rather safe `;-)`

Have fuuuuuuuuuuuuun !

Nathann

CC:  @dimpase @vbraun @wdjoyner @rbeezer

Reviewer: Nathann Cohen

Branch: u/ncohen/15259

Dependencies: #15107

Commit: ffda584fb317a7d19a41046bfeaff584aa66d9c3

Resolution: duplicate

Issue created by migration from https://trac.sagemath.org/ticket/15259





---

archive/issue_comments_241411.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-10-07T10:56:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241411",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_241412.json:
```json
{
    "body": "Changing branch from \"\" to \"u/ncohen/15259\"",
    "created_at": "2013-10-07T10:56:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241412",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "" to "u/ncohen/15259"



---

archive/issue_comments_241413.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2013-10-07T10:57:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241413",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_241414.json:
```json
{
    "body": "Changing commit from \"\" to \"2d09d1d1c209e4815b2b11c80d626b71b076c6ce\"",
    "created_at": "2013-10-07T10:57:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241414",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "2d09d1d1c209e4815b2b11c80d626b71b076c6ce"



---

archive/issue_comments_241415.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2013-10-07T11:24:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241415",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_241416.json:
```json
{
    "body": "Changing commit from \"2d09d1d1c209e4815b2b11c80d626b71b076c6ce\" to \"cb2fce9c634be27a3a3905577ea97cc356ffd8a4\"",
    "created_at": "2013-10-07T11:24:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241416",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2d09d1d1c209e4815b2b11c80d626b71b076c6ce" to "cb2fce9c634be27a3a3905577ea97cc356ffd8a4"



---

archive/issue_comments_241417.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n WUUUUHUUUUUUUUUUUUUUUUUU !!\n \n-This patch implements a construction from Douglas Stinson's book \"Combinatorial Designs: Constructions and Analysis\" for (v,4,1)-BIBD, i.e. decompositions of `K_v` into copies of `K_4`. It requires the construction of some other combinatorial objects, like some Mutually Orthogonal Latin Squares and Orthogonal Arrays, an so some theorems from this book are akso implemented by this patch. Hoping that the new files with get larger eventually `:-)`\n+This patch implements a construction from Douglas Stinson's book \"Combinatorial Designs: Constructions and Analysis\" for (v,4,1)-BIBD, i.e. decompositions of `K_v` into copies of `K_4`. It requires the construction of some other combinatorial objects, like some Mutually Orthogonal Latin Squares and Orthogonal Arrays, an so some theorems from this book are also implemented by this patch. Hoping that the new files will get larger eventually `:-)`\n \n I also fixed a bug in `AffineGeometryDesign` : a `List` is used instead of a `Set`, and as a result blocks are returned several times. Example :\n \n@@ -20,11 +20,11 @@\n ```\n \n Overall :\n-* A file named `bibd.py` now gathers `steiner_triple_systems` (moved there from `block_designs.py`). It also implement the present construction, and a general `BalancedIncompleteBlockDesign` is created to obtain both steiner triple systems and `(v,4,1)`-BIBD.\n-* A file named `latin_squares.py` contains construction for mutually orthogonal latin squares, as well as a function to compute the product of two latin squares.\n+* A file named `bibd.py` now gathers `steiner_triple_systems` (moved there from `block_designs.py`). It also implement the present construction, and a general `BalancedIncompleteBlockDesign` is created to obtain both steiner triple systems and `(v,4,1)`-BIBD. And even some others from the online database.\n+* A file named `latin_squares.py` contains constructions for mutually orthogonal latin squares, as well as a function to compute the product of two latin squares.\n * A file named `orthogonal_arrays.py` contains constructions for orthogonal arrays and transversal designs (which are a particular case of orthogonal arrays.\n \n-The most important thing is that **even if all the code written there is wrong** (and it is indeed very unclear at times), nothing is returned without being checked first for correction.\n+The most important thing is that **even if all the code written there is wrong** (and it is indeed very unclear at times), nothing is returned without being checked first for correctness.\n \n Sooooooooooo well. It's rather safe `;-)`\n \n``````\n",
    "created_at": "2013-10-08T08:59:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241417",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 WUUUUHUUUUUUUUUUUUUUUUUU !!
 
-This patch implements a construction from Douglas Stinson's book "Combinatorial Designs: Constructions and Analysis" for (v,4,1)-BIBD, i.e. decompositions of `K_v` into copies of `K_4`. It requires the construction of some other combinatorial objects, like some Mutually Orthogonal Latin Squares and Orthogonal Arrays, an so some theorems from this book are akso implemented by this patch. Hoping that the new files with get larger eventually `:-)`
+This patch implements a construction from Douglas Stinson's book "Combinatorial Designs: Constructions and Analysis" for (v,4,1)-BIBD, i.e. decompositions of `K_v` into copies of `K_4`. It requires the construction of some other combinatorial objects, like some Mutually Orthogonal Latin Squares and Orthogonal Arrays, an so some theorems from this book are also implemented by this patch. Hoping that the new files will get larger eventually `:-)`
 
 I also fixed a bug in `AffineGeometryDesign` : a `List` is used instead of a `Set`, and as a result blocks are returned several times. Example :
 
@@ -20,11 +20,11 @@
 ```
 
 Overall :
-* A file named `bibd.py` now gathers `steiner_triple_systems` (moved there from `block_designs.py`). It also implement the present construction, and a general `BalancedIncompleteBlockDesign` is created to obtain both steiner triple systems and `(v,4,1)`-BIBD.
-* A file named `latin_squares.py` contains construction for mutually orthogonal latin squares, as well as a function to compute the product of two latin squares.
+* A file named `bibd.py` now gathers `steiner_triple_systems` (moved there from `block_designs.py`). It also implement the present construction, and a general `BalancedIncompleteBlockDesign` is created to obtain both steiner triple systems and `(v,4,1)`-BIBD. And even some others from the online database.
+* A file named `latin_squares.py` contains constructions for mutually orthogonal latin squares, as well as a function to compute the product of two latin squares.
 * A file named `orthogonal_arrays.py` contains constructions for orthogonal arrays and transversal designs (which are a particular case of orthogonal arrays.
 
-The most important thing is that **even if all the code written there is wrong** (and it is indeed very unclear at times), nothing is returned without being checked first for correction.
+The most important thing is that **even if all the code written there is wrong** (and it is indeed very unclear at times), nothing is returned without being checked first for correctness.
 
 Sooooooooooo well. It's rather safe `;-)`
 
``````




---

archive/issue_comments_241418.json:
```json
{
    "body": "Changing commit from \"cb2fce9c634be27a3a3905577ea97cc356ffd8a4\" to \"944784c5dc9183263b6ac9e6fe395719b7e8f483\"",
    "created_at": "2013-10-09T14:07:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241418",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cb2fce9c634be27a3a3905577ea97cc356ffd8a4" to "944784c5dc9183263b6ac9e6fe395719b7e8f483"



---

archive/issue_comments_241419.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-09T14:07:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241419",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_241420.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-09T16:03:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241420",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_241421.json:
```json
{
    "body": "Changing commit from \"944784c5dc9183263b6ac9e6fe395719b7e8f483\" to \"aa7299ffe5ed56b0771cf8bdde13303a7aacf907\"",
    "created_at": "2013-10-09T16:03:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241421",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "944784c5dc9183263b6ac9e6fe395719b7e8f483" to "aa7299ffe5ed56b0771cf8bdde13303a7aacf907"



---

archive/issue_comments_241422.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-14T07:09:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241422",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_241423.json:
```json
{
    "body": "Changing commit from \"aa7299ffe5ed56b0771cf8bdde13303a7aacf907\" to \"ffda584fb317a7d19a41046bfeaff584aa66d9c3\"",
    "created_at": "2013-10-14T07:09:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241423",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "aa7299ffe5ed56b0771cf8bdde13303a7aacf907" to "ffda584fb317a7d19a41046bfeaff584aa66d9c3"



---

archive/issue_comments_241424.json:
```json
{
    "body": "<a id='comment:9'></a>This patch has been split in smaller patches, and this ticket is now a duplicate of #15288 (and its dependencies #15287 #15286 and #15285)\n\nNathann",
    "created_at": "2013-10-16T15:09:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241424",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>This patch has been split in smaller patches, and this ticket is now a duplicate of #15288 (and its dependencies #15287 #15286 and #15285)

Nathann



---

archive/issue_comments_241425.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-10-16T15:09:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241425",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_044160.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-10-16T15:09:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15259#event-44160"
}
```



---

archive/issue_comments_241426.json:
```json
{
    "body": "Changing author from \"Nathann Cohen\" to \"\"",
    "created_at": "2013-10-30T14:25:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241426",
    "user": "https://github.com/jdemeyer"
}
```

Changing author from "Nathann Cohen" to ""



---

archive/issue_events_044161.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-30T14:25:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15259#event-44161"
}
```



---

archive/issue_comments_241427.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2013-10-30T14:25:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241427",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: duplicate



---

archive/issue_comments_241428.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Nathann Cohen\"",
    "created_at": "2013-10-30T14:25:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241428",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Nathann Cohen"



---

archive/issue_comments_241429.json:
```json
{
    "body": "<a id='comment:11'></a>For a split second I believed that #15288 had been reviewed `T_T`\n\nNathann",
    "created_at": "2013-10-30T14:26:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15259#issuecomment-241429",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'></a>For a split second I believed that #15288 had been reviewed `T_T`

Nathann
