# Issue 15556: Convert Stein-Watkins database to git spkg format

archive/issues_015319.json:
```json
{
    "body": "There are two optional spkgs containing small and full version of the Stein-Watkins database of elliptic curves, namely database_stein_watkins_mini.p0.spkg (the small version, approximately 20mb) and stein-watkins-ecdb.p0.spkg (the huge version, approximately 2.7gb).\n\nBoth should be converted to the new git format for spkgs, at the same time making their names more consistent and completing their SPKG.txt information.  The interface in sage/databases/stein-watkins.py will need to be tested.\n\nNew **upstream** tarballs:\n1. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20030423.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20030423.tar.bz2)\n2. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20030423.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20030423.tar.bz2)\n\nKeywords: elliptic curves, databases\n\nReviewer: Jeroen Demeyer, John Cremona\n\nAuthor: John Cremona, Jeroen Demeyer\n\nBranch: u/jdemeyer/ticket/15556\n\nCommit: 9936f24af676e509a6ec06665a4f164c3cccd3ea\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/15556\n\n",
    "closed_at": "2014-01-05T00:45:51Z",
    "created_at": "2013-12-20T12:13:39Z",
    "labels": [
        "component: packages: optional",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.1",
    "title": "Convert Stein-Watkins database to git spkg format",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15556",
    "user": "https://github.com/JohnCremona"
}
```
There are two optional spkgs containing small and full version of the Stein-Watkins database of elliptic curves, namely database_stein_watkins_mini.p0.spkg (the small version, approximately 20mb) and stein-watkins-ecdb.p0.spkg (the huge version, approximately 2.7gb).

Both should be converted to the new git format for spkgs, at the same time making their names more consistent and completing their SPKG.txt information.  The interface in sage/databases/stein-watkins.py will need to be tested.

New **upstream** tarballs:
1. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20030423.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20030423.tar.bz2)
2. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20030423.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20030423.tar.bz2)

Keywords: elliptic curves, databases

Reviewer: Jeroen Demeyer, John Cremona

Author: John Cremona, Jeroen Demeyer

Branch: u/jdemeyer/ticket/15556

Commit: 9936f24af676e509a6ec06665a4f164c3cccd3ea

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/15556





---

archive/issue_comments_210182.json:
```json
{
    "body": "<a id='comment:2'></a>Done both.\n\nThe new package files have been uploaded to sagemath in /home/cremona:\n\n```\n-rw-r--r-- 1 cremona cremona   19935714 Dec 20 09:19 database_stein_watkins_mini-20131220.tar.bz2\n-rw-r--r-- 1 cremona cremona 2784729140 Dec 20 10:48 database_stein_watkins-20131220.tar.bz2\n```\n\nInstalling even the small one is not very quick, and the long one quite slow.  The optional doctests in sage/da\\\ntabases/stein_watkins.py will work with only the mini package; remember to add --optional=stein_watkins_databas\\\ne to the command line or you'll not be checking much!",
    "created_at": "2013-12-20T20:05:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210182",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:2'></a>Done both.

The new package files have been uploaded to sagemath in /home/cremona:

```
-rw-r--r-- 1 cremona cremona   19935714 Dec 20 09:19 database_stein_watkins_mini-20131220.tar.bz2
-rw-r--r-- 1 cremona cremona 2784729140 Dec 20 10:48 database_stein_watkins-20131220.tar.bz2
```

Installing even the small one is not very quick, and the long one quite slow.  The optional doctests in sage/da\
tabases/stein_watkins.py will work with only the mini package; remember to add --optional=stein_watkins_databas\
e to the command line or you'll not be checking much!



---

archive/issue_comments_210183.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-12-20T20:06:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210183",
    "user": "https://github.com/JohnCremona"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_210184.json:
```json
{
    "body": "Description changed:\n```diff\n\n```\n",
    "created_at": "2013-12-20T20:08:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210184",
    "user": "https://github.com/JohnCremona"
}
```

Description changed:
```diff

```




---

archive/issue_comments_210185.json:
```json
{
    "body": "<a id='comment:7'></a>Various details:\n1. use `cp -R` instead of `cp -rf`\n2. omit the version check (you're adding a check for version 6.x to a file which only exists in version 6.x)\n3. replace `$SAGE_LOCAL/share` by `$SAGE_SHARE`\n4. replace\n\n```\nif [ \"x${SAGE_LOCAL}\" = x ]; then\n   echo \"SAGE_LOCAL undefined ... exiting\"\n   echo \"Maybe run 'sage -sh'?\"\n   exit 1\nfi\n```\nby\n\n```\nif [ -z \"$SAGE_SHARE\" ]; then\n    echo >&2 \"SAGE_SHARE undefined ... exiting\"\n    echo >&2 \"Maybe run 'sage --sh'?\"\n    exit 1\nfi\n```",
    "created_at": "2013-12-23T10:22:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210185",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>Various details:
1. use `cp -R` instead of `cp -rf`
2. omit the version check (you're adding a check for version 6.x to a file which only exists in version 6.x)
3. replace `$SAGE_LOCAL/share` by `$SAGE_SHARE`
4. replace

```
if [ "x${SAGE_LOCAL}" = x ]; then
   echo "SAGE_LOCAL undefined ... exiting"
   echo "Maybe run 'sage -sh'?"
   exit 1
fi
```
by

```
if [ -z "$SAGE_SHARE" ]; then
    echo >&2 "SAGE_SHARE undefined ... exiting"
    echo >&2 "Maybe run 'sage --sh'?"
    exit 1
fi
```



---

archive/issue_comments_210186.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-12-23T10:42:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210186",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_210187.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:7 jdemeyer]:\n> Various details:\n> 1. use `cp -R` instead of `cp -rf`\n\n\ndone\n\n>  2. omit the version check (you're adding a check for version 6.x to a file which only exists in version 6.x)\n\n\ndone\n\n>  3. replace `$SAGE_LOCAL/share` by `$SAGE_SHARE`\n\n\ndone\n\n>  4. replace\n  \n> {{{\n> if [ \"x${SAGE_LOCAL}\" = x ]; then\n>    echo \"SAGE_LOCAL undefined ... exiting\"\n>    echo \"Maybe run 'sage -sh'?\"\n>    exit 1\n> fi\n> }}}\n> by\n> \n> ```\n> if [ -z \"$SAGE_SHARE\" ]; then\n>     echo >&2 \"SAGE_SHARE undefined ... exiting\"\n>     echo >&2 \"Maybe run 'sage --sh'?\"\n>     exit 1\n> fi\n> ```\n\n\ndone (all in both database_stein_watkins and ...mini).  New commit pushed.\n\n---\nNew commits:",
    "created_at": "2013-12-23T10:44:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210187",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:9'></a>Replying to [comment:7 jdemeyer]:
> Various details:
> 1. use `cp -R` instead of `cp -rf`


done

>  2. omit the version check (you're adding a check for version 6.x to a file which only exists in version 6.x)


done

>  3. replace `$SAGE_LOCAL/share` by `$SAGE_SHARE`


done

>  4. replace
  
> {{{
> if [ "x${SAGE_LOCAL}" = x ]; then
>    echo "SAGE_LOCAL undefined ... exiting"
>    echo "Maybe run 'sage -sh'?"
>    exit 1
> fi
> }}}
> by
> 
> ```
> if [ -z "$SAGE_SHARE" ]; then
>     echo >&2 "SAGE_SHARE undefined ... exiting"
>     echo >&2 "Maybe run 'sage --sh'?"
>     exit 1
> fi
> ```


done (all in both database_stein_watkins and ...mini).  New commit pushed.

---
New commits:



---

archive/issue_comments_210188.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:7 jdemeyer]:\n> Various details:\n> 1. use `cp -R` instead of `cp -rf`\n\n\ndone\n\n>  2. omit the version check (you're adding a check for version 6.x to a file which only exists in version 6.x)\n\n\ndone\n\n>  3. replace `$SAGE_LOCAL/share` by `$SAGE_SHARE`\n\n\ndone\n\n>  4. replace\n  \n> {{{\n> if [ \"x${SAGE_LOCAL}\" = x ]; then\n>    echo \"SAGE_LOCAL undefined ... exiting\"\n>    echo \"Maybe run 'sage -sh'?\"\n>    exit 1\n> fi\n> }}}\n> by\n> \n> ```\n> if [ -z \"$SAGE_SHARE\" ]; then\n>     echo >&2 \"SAGE_SHARE undefined ... exiting\"\n>     echo >&2 \"Maybe run 'sage --sh'?\"\n>     exit 1\n> fi\n> ```\n\n\ndone (all in both database_stein_watkins and ...mini).  New commit pushed.  Wait though since there is a typo and a new one is coming up.\n\n---\nNew commits:\n|                                                                                                         |                                                   |\n|---------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[38ef1d1](http://git.sagemath.org/sage.git/commit/?id=38ef1d1)|`trac 15556: revised spkg-install following review`|\n---\nNew commits:",
    "created_at": "2013-12-23T10:46:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210188",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:10'></a>Replying to [comment:7 jdemeyer]:
> Various details:
> 1. use `cp -R` instead of `cp -rf`


done

>  2. omit the version check (you're adding a check for version 6.x to a file which only exists in version 6.x)


done

>  3. replace `$SAGE_LOCAL/share` by `$SAGE_SHARE`


done

>  4. replace
  
> {{{
> if [ "x${SAGE_LOCAL}" = x ]; then
>    echo "SAGE_LOCAL undefined ... exiting"
>    echo "Maybe run 'sage -sh'?"
>    exit 1
> fi
> }}}
> by
> 
> ```
> if [ -z "$SAGE_SHARE" ]; then
>     echo >&2 "SAGE_SHARE undefined ... exiting"
>     echo >&2 "Maybe run 'sage --sh'?"
>     exit 1
> fi
> ```


done (all in both database_stein_watkins and ...mini).  New commit pushed.  Wait though since there is a typo and a new one is coming up.

---
New commits:
|                                                                                                         |                                                   |
|---------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[38ef1d1](http://git.sagemath.org/sage.git/commit/?id=38ef1d1)|`trac 15556: revised spkg-install following review`|
---
New commits:



---

archive/issue_comments_210189.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-12-23T10:54:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210189",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_210190.json:
```json
{
    "body": "<a id='comment:12'></a>For the `VERSION` of the package, would it not make more sense to use the date of the database itself, as supposed of the date of the packaging? So the version number would be `20030423.p1`",
    "created_at": "2013-12-23T10:58:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210190",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>For the `VERSION` of the package, would it not make more sense to use the date of the database itself, as supposed of the date of the packaging? So the version number would be `20030423.p1`



---

archive/issue_comments_210191.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:12 jdemeyer]:\n> For the `VERSION` of the package, would it not make more sense to use the date of the database itself, as supposed of the date of the packaging? So the version number would be `20030423.p1`\n\n\nPossibly.  The people who should really decide that are S&W themselves.  Rather more important, there were some changes to the 2003 data made in 2007 and I am not sure whether the files in this version include those changes or not.  I did *not* intend to change the data in the spkg at all with this ticket, only the packaging of it.  So I used a data which related to the packaging, not the data itself.\n\nIf in fact the data in here is the original 2003 version (something I will check, but not today) then one possibility would be to use the 2003 date for the version now, and change it to a 2007 date for a revision.  Then it would be clear exactly what is what.\n\nIt would still be helpful to know if the new packages do install and test correctly, even if we change the version before committing to this.",
    "created_at": "2013-12-23T11:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210191",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:13'></a>Replying to [comment:12 jdemeyer]:
> For the `VERSION` of the package, would it not make more sense to use the date of the database itself, as supposed of the date of the packaging? So the version number would be `20030423.p1`


Possibly.  The people who should really decide that are S&W themselves.  Rather more important, there were some changes to the 2003 data made in 2007 and I am not sure whether the files in this version include those changes or not.  I did *not* intend to change the data in the spkg at all with this ticket, only the packaging of it.  So I used a data which related to the packaging, not the data itself.

If in fact the data in here is the original 2003 version (something I will check, but not today) then one possibility would be to use the 2003 date for the version now, and change it to a 2007 date for a revision.  Then it would be clear exactly what is what.

It would still be helpful to know if the new packages do install and test correctly, even if we change the version before committing to this.



---

archive/issue_comments_210192.json:
```json
{
    "body": "<a id='comment:14'></a>My comment about the version check applies also to `database_cremona_ellcurve` so you can remove that also.",
    "created_at": "2013-12-23T11:18:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210192",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>My comment about the version check applies also to `database_cremona_ellcurve` so you can remove that also.



---

archive/issue_comments_210193.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:13 cremona]:\n> The people who should really decide that are S&W themselves.\n\nI don't see why. They are welcome to have an opinion, but I don't think we need to ask every upstream project how it should be included in Sage.\n\n> Rather more important, there were some changes to the 2003 data made in 2007 and I am not sure whether the files in this version include those changes or not.\n\nI checked and those changes are not included, the data is from 2003.\n\n> If in fact the data in here is the original 2003 version (something I will check, but not today) then one possibility would be to use the 2003 date for the version now, and change it to a 2007 date for a revision.  Then it would be clear exactly what is what.\n\nI totally agree with this. That's another reason why the version number should refer to the date of the database, to reduce such confusion. The date of today when you packaged the database is not relevant for anything.\n\n> It would still be helpful to know if the new packages do install and test correctly, even if we change the version before committing to this.\n\nOf course, I will check that.",
    "created_at": "2013-12-23T11:27:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210193",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>Replying to [comment:13 cremona]:
> The people who should really decide that are S&W themselves.

I don't see why. They are welcome to have an opinion, but I don't think we need to ask every upstream project how it should be included in Sage.

> Rather more important, there were some changes to the 2003 data made in 2007 and I am not sure whether the files in this version include those changes or not.

I checked and those changes are not included, the data is from 2003.

> If in fact the data in here is the original 2003 version (something I will check, but not today) then one possibility would be to use the 2003 date for the version now, and change it to a 2007 date for a revision.  Then it would be clear exactly what is what.

I totally agree with this. That's another reason why the version number should refer to the date of the database, to reduce such confusion. The date of today when you packaged the database is not relevant for anything.

> It would still be helpful to know if the new packages do install and test correctly, even if we change the version before committing to this.

Of course, I will check that.



---

archive/issue_comments_210194.json:
```json
{
    "body": "<a id='comment:16'></a>Replying to [comment:14 jdemeyer]:\n> My comment about the version check applies also to `database_cremona_ellcurve` so you can remove that also.\n\n\nI think that should be on another ticket.\n\nI did use that one as a model for this one (I was not the author of it!)",
    "created_at": "2013-12-23T11:31:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210194",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:16'></a>Replying to [comment:14 jdemeyer]:
> My comment about the version check applies also to `database_cremona_ellcurve` so you can remove that also.


I think that should be on another ticket.

I did use that one as a model for this one (I was not the author of it!)



---

archive/issue_comments_210195.json:
```json
{
    "body": "<a id='comment:17'></a>Replying to [comment:15 jdemeyer]:\n> Replying to [comment:13 cremona]:\n> > The people who should really decide that are S&W themselves.\n\n> I don't see why. They are welcome to have an opinion, but I don't think we need to ask every upstream project how it should be included in Sage.\n> \n> > Rather more important, there were some changes to the 2003 data made in 2007 and I am not sure whether the files in this version include those changes or not.\n\n> I checked and those changes are not included, the data is from 2003.\n> \n> > If in fact the data in here is the original 2003 version (something I will check, but not today) then one possibility would be to use the 2003 date for the version now, and change it to a 2007 date for a revision.  Then it would be clear exactly what is what.\n\n> I totally agree with this. That's another reason why the version number should refer to the date of the database, to reduce such confusion. The date of today when you packaged the database is not relevant for anything.\n\nok, I will change it to what you suggested.  This will mean renamed upstream tarballs and so possibly also checksums.  And a second ticket to update both to include the 2007 fixes.\n\n> \n> > It would still be helpful to know if the new packages do install and test correctly, even if we change the version before committing to this.\n\n> Of course, I will check that.",
    "created_at": "2013-12-23T11:33:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210195",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:17'></a>Replying to [comment:15 jdemeyer]:
> Replying to [comment:13 cremona]:
> > The people who should really decide that are S&W themselves.

> I don't see why. They are welcome to have an opinion, but I don't think we need to ask every upstream project how it should be included in Sage.
> 
> > Rather more important, there were some changes to the 2003 data made in 2007 and I am not sure whether the files in this version include those changes or not.

> I checked and those changes are not included, the data is from 2003.
> 
> > If in fact the data in here is the original 2003 version (something I will check, but not today) then one possibility would be to use the 2003 date for the version now, and change it to a 2007 date for a revision.  Then it would be clear exactly what is what.

> I totally agree with this. That's another reason why the version number should refer to the date of the database, to reduce such confusion. The date of today when you packaged the database is not relevant for anything.

ok, I will change it to what you suggested.  This will mean renamed upstream tarballs and so possibly also checksums.  And a second ticket to update both to include the 2007 fixes.

> 
> > It would still be helpful to know if the new packages do install and test correctly, even if we change the version before committing to this.

> Of course, I will check that.



---

archive/issue_comments_210196.json:
```json
{
    "body": "<a id='comment:18'></a>Replying to [comment:16 cremona]:\n> Replying to [comment:14 jdemeyer]:\n> > My comment about the version check applies also to `database_cremona_ellcurve` so you can remove that also.\n\n> \n> I think that should be on another ticket.\n\nSorry, but I disagree. You're already making modifications to `build/pkgs/database_cremona_ellcurve/spkg-install` on this ticket. It's pointless for me to review these changes in code which a new ticket will probably remove.",
    "created_at": "2013-12-23T12:28:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210196",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'></a>Replying to [comment:16 cremona]:
> Replying to [comment:14 jdemeyer]:
> > My comment about the version check applies also to `database_cremona_ellcurve` so you can remove that also.

> 
> I think that should be on another ticket.

Sorry, but I disagree. You're already making modifications to `build/pkgs/database_cremona_ellcurve/spkg-install` on this ticket. It's pointless for me to review these changes in code which a new ticket will probably remove.



---

archive/issue_comments_210197.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-12-23T12:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210197",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_210198.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,10 @@\n+There are two optional spkgs containing small and full version of the Stein-Watkins database of elliptic curves, namely database_stein_watkins_mini.p0.spkg (the small version, approximately 20mb) and stein-watkins-ecdb.p0.spkg (the huge version, approximately 2.7gb).\n \n+Both should be converted to the new git format for spkgs, at the same time making their names more consistent and completing their SPKG.txt information.  The interface in sage/databases/stein-watkins.py will need to be tested.\n+\n+New **upstream** tarballs:\n+1. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20131220.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20131220.tar.bz2)\n+2. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20131220.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20131220.tar.bz2)\n \n Comment: 1\n \n```\n",
    "created_at": "2013-12-23T12:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210198",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,10 @@
+There are two optional spkgs containing small and full version of the Stein-Watkins database of elliptic curves, namely database_stein_watkins_mini.p0.spkg (the small version, approximately 20mb) and stein-watkins-ecdb.p0.spkg (the huge version, approximately 2.7gb).
 
+Both should be converted to the new git format for spkgs, at the same time making their names more consistent and completing their SPKG.txt information.  The interface in sage/databases/stein-watkins.py will need to be tested.
+
+New **upstream** tarballs:
+1. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20131220.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20131220.tar.bz2)
+2. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20131220.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20131220.tar.bz2)
 
 Comment: 1
 
```




---

archive/issue_comments_210199.json:
```json
{
    "body": "<a id='comment:20'></a>Replying to [comment:18 jdemeyer]:\n\n> > > My comment about the version check applies also to `database_cremona_ellcurve` so you can remove that also.\n\n> > \n> > I think that should be on another ticket.\n\n> Sorry, but I disagree. You're already making modifications to `build/pkgs/database_cremona_ellcurve/spkg-install` on this ticket. It's pointless for me to review these changes in code which a new ticket will probably remove.\n\nOf course -- I had forgotten that.  It Will Be Done.",
    "created_at": "2013-12-23T12:36:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210199",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:20'></a>Replying to [comment:18 jdemeyer]:

> > > My comment about the version check applies also to `database_cremona_ellcurve` so you can remove that also.

> > 
> > I think that should be on another ticket.

> Sorry, but I disagree. You're already making modifications to `build/pkgs/database_cremona_ellcurve/spkg-install` on this ticket. It's pointless for me to review these changes in code which a new ticket will probably remove.

Of course -- I had forgotten that.  It Will Be Done.



---

archive/issue_comments_210200.json:
```json
{
    "body": "<a id='comment:21'></a>The files inside the upstream tarballs must all have permission 644 (world-readable), otherwise they will not work for users besides the one who installed the database.",
    "created_at": "2013-12-23T12:38:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210200",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'></a>The files inside the upstream tarballs must all have permission 644 (world-readable), otherwise they will not work for users besides the one who installed the database.



---

archive/issue_comments_210201.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,10 @@\n+There are two optional spkgs containing small and full version of the Stein-Watkins database of elliptic curves, namely database_stein_watkins_mini.p0.spkg (the small version, approximately 20mb) and stein-watkins-ecdb.p0.spkg (the huge version, approximately 2.7gb).\n \n+Both should be converted to the new git format for spkgs, at the same time making their names more consistent and completing their SPKG.txt information.  The interface in sage/databases/stein-watkins.py will need to be tested.\n+\n+New **upstream** tarballs:\n+1. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20030423.p1.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20030423.p1.tar.bz2)\n+2. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20030423.p1.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20030423.p1.tar.bz2)\n \n Comment: 1\n \n```\n",
    "created_at": "2013-12-23T12:42:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210201",
    "user": "https://github.com/JohnCremona"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,10 @@
+There are two optional spkgs containing small and full version of the Stein-Watkins database of elliptic curves, namely database_stein_watkins_mini.p0.spkg (the small version, approximately 20mb) and stein-watkins-ecdb.p0.spkg (the huge version, approximately 2.7gb).
 
+Both should be converted to the new git format for spkgs, at the same time making their names more consistent and completing their SPKG.txt information.  The interface in sage/databases/stein-watkins.py will need to be tested.
+
+New **upstream** tarballs:
+1. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20030423.p1.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20030423.p1.tar.bz2)
+2. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20030423.p1.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20030423.p1.tar.bz2)
 
 Comment: 1
 
```




---

archive/issue_comments_210202.json:
```json
{
    "body": "<a id='comment:23'></a>Replying to [comment:21 jdemeyer]:\n> The files inside the upstream tarballs must all have permission 644 (world-readable), otherwise they will not work for users besides the one who installed the database.\n\nOK, have done that (and changed the names of these in the ticket description).",
    "created_at": "2013-12-23T16:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210202",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:23'></a>Replying to [comment:21 jdemeyer]:
> The files inside the upstream tarballs must all have permission 644 (world-readable), otherwise they will not work for users besides the one who installed the database.

OK, have done that (and changed the names of these in the ticket description).



---

archive/issue_comments_210203.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,10 @@\n+There are two optional spkgs containing small and full version of the Stein-Watkins database of elliptic curves, namely database_stein_watkins_mini.p0.spkg (the small version, approximately 20mb) and stein-watkins-ecdb.p0.spkg (the huge version, approximately 2.7gb).\n \n+Both should be converted to the new git format for spkgs, at the same time making their names more consistent and completing their SPKG.txt information.  The interface in sage/databases/stein-watkins.py will need to be tested.\n+\n+New **upstream** tarballs:\n+1. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20030423.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20030423.tar.bz2)\n+2. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20030423.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20030423.tar.bz2)\n \n Comment: 1\n \n```\n",
    "created_at": "2013-12-23T17:34:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210203",
    "user": "https://github.com/JohnCremona"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,10 @@
+There are two optional spkgs containing small and full version of the Stein-Watkins database of elliptic curves, namely database_stein_watkins_mini.p0.spkg (the small version, approximately 20mb) and stein-watkins-ecdb.p0.spkg (the huge version, approximately 2.7gb).
 
+Both should be converted to the new git format for spkgs, at the same time making their names more consistent and completing their SPKG.txt information.  The interface in sage/databases/stein-watkins.py will need to be tested.
+
+New **upstream** tarballs:
+1. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20030423.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20030423.tar.bz2)
+2. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20030423.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20030423.tar.bz2)
 
 Comment: 1
 
```




---

archive/issue_comments_210204.json:
```json
{
    "body": "<a id='comment:25'></a>The second link gives\n\n```\nForbidden\n\nYou don't have permission to access /home/cremona/database_stein_watkins-20030423.tar.bz2 on this server.\n```",
    "created_at": "2013-12-24T09:44:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210204",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'></a>The second link gives

```
Forbidden

You don't have permission to access /home/cremona/database_stein_watkins-20030423.tar.bz2 on this server.
```



---

archive/issue_comments_210205.json:
```json
{
    "body": "<a id='comment:26'></a>Replying to [comment:25 jdemeyer]:\n> The second link gives\n> \n> ```\n> Forbidden\n> \n> You don't have permission to access /home/cremona/database_stein_watkins-20030423.tar.bz2 on this server.\n> ```\n\n\nI fixed that and it is again ready for re-review, I have pushed anew commit, but will not respond until after the holiday so there is no rush!",
    "created_at": "2013-12-24T10:19:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210205",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:26'></a>Replying to [comment:25 jdemeyer]:
> The second link gives
> 
> ```
> Forbidden
> 
> You don't have permission to access /home/cremona/database_stein_watkins-20030423.tar.bz2 on this server.
> ```


I fixed that and it is again ready for re-review, I have pushed anew commit, but will not respond until after the holiday so there is no rush!



---

archive/issue_comments_210206.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-12-24T10:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210206",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_210207.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-12-24T10:39:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210207",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_210208.json:
```json
{
    "body": "<a id='comment:29'></a>The tarball link in the ticket description is probably incorrect, it uses a package date from 2003 instead of 2013?",
    "created_at": "2013-12-25T12:49:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210208",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:29'></a>The tarball link in the ticket description is probably incorrect, it uses a package date from 2003 instead of 2013?



---

archive/issue_comments_210209.json:
```json
{
    "body": "<a id='comment:30'></a>Replying to [comment:29 vbraun]:\n> The tarball link in the ticket description is probably incorrect, it uses a package date from 2003 instead of 2013?\n\n2003 is correct. The contents of the database in the tarball (which is what matters) are from the day in the version number.",
    "created_at": "2013-12-25T19:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210209",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>Replying to [comment:29 vbraun]:
> The tarball link in the ticket description is probably incorrect, it uses a package date from 2003 instead of 2013?

2003 is correct. The contents of the database in the tarball (which is what matters) are from the day in the version number.



---

archive/issue_comments_210210.json:
```json
{
    "body": "<a id='comment:31'></a>OK, thanks. The implementation looks good. We must change the license to something other than \"None\", as no license technically means all right reserved and no permission to distribute whatsoever. Per William's post this should be \"Public domain\"",
    "created_at": "2013-12-25T20:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210210",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:31'></a>OK, thanks. The implementation looks good. We must change the license to something other than "None", as no license technically means all right reserved and no permission to distribute whatsoever. Per William's post this should be "Public domain"



---

archive/issue_comments_210211.json:
```json
{
    "body": "<a id='comment:32'></a>Replying to [comment:31 vbraun]:\n> OK, thanks. The implementation looks good. We must change the license to something other than \"None\", as no license technically means all right reserved and no permission to distribute whatsoever. Per William's post this should be \"Public domain\"\n\nIANAL, but I thought that pure data is not copyrighted and therefore is automatically public domain...",
    "created_at": "2013-12-26T09:51:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210211",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:32'></a>Replying to [comment:31 vbraun]:
> OK, thanks. The implementation looks good. We must change the license to something other than "None", as no license technically means all right reserved and no permission to distribute whatsoever. Per William's post this should be "Public domain"

IANAL, but I thought that pure data is not copyrighted and therefore is automatically public domain...



---

archive/issue_comments_210212.json:
```json
{
    "body": "<a id='comment:33'></a>There is no copyright for facts, but there is for how they are presented. And the bar is really low for what constitutes an original presentation. E.g. the information in the yellow pages is not protected, but the layout and arrangement of the printed yellow pages is.",
    "created_at": "2013-12-26T21:08:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210212",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:33'></a>There is no copyright for facts, but there is for how they are presented. And the bar is really low for what constitutes an original presentation. E.g. the information in the yellow pages is not protected, but the layout and arrangement of the printed yellow pages is.



---

archive/issue_comments_210213.json:
```json
{
    "body": "<a id='comment:34'></a>Replying to [comment:31 vbraun]:\n> Per William's post this should be \"Public domain\"\n\nLink please.",
    "created_at": "2013-12-27T10:12:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210213",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:34'></a>Replying to [comment:31 vbraun]:
> Per William's post this should be "Public domain"

Link please.



---

archive/issue_comments_210214.json:
```json
{
    "body": "<a id='comment:36'></a>Additional commit needs review.\n\n---\nNew commits:",
    "created_at": "2013-12-27T12:30:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210214",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:36'></a>Additional commit needs review.

---
New commits:



---

archive/issue_comments_210215.json:
```json
{
    "body": "<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-12-27T13:13:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210215",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_210216.json:
```json
{
    "body": "<a id='comment:38'></a>https://groups.google.com/d/msg/sage-devel/onWFAVz-LDA/wj7FAsabIpkJ\n\nanybody can use them however they want = public domain",
    "created_at": "2013-12-27T13:55:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210216",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:38'></a>https://groups.google.com/d/msg/sage-devel/onWFAVz-LDA/wj7FAsabIpkJ

anybody can use them however they want = public domain



---

archive/issue_comments_210217.json:
```json
{
    "body": "<a id='comment:39'></a>Thanks for tidying this up, Jeroen.  I can see the point in removing the optional tags and also renaming the optional flag to match the spkg name.  The new version works for me, so shall we mutually approve each other's commits?  [I did need to remember to do \"--optional=sage,database_stein_watkins\" to do the testing.]\n\nMy intention had been to go straight on to revising this to include the (very slightly different) 2007 data, building on this branch.  I am not sure whether we should ask for the commits so far to be merged before doing that.  It will only require:  making new versions of the upstream tarballs with version date being 2007???? (the fixed files are dated June 16, June 25, and Aug 25 and 27, so perhaps we should take the latest date) and changing both packa-version.txt files to the same date.",
    "created_at": "2013-12-27T15:44:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210217",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:39'></a>Thanks for tidying this up, Jeroen.  I can see the point in removing the optional tags and also renaming the optional flag to match the spkg name.  The new version works for me, so shall we mutually approve each other's commits?  [I did need to remember to do "--optional=sage,database_stein_watkins" to do the testing.]

My intention had been to go straight on to revising this to include the (very slightly different) 2007 data, building on this branch.  I am not sure whether we should ask for the commits so far to be merged before doing that.  It will only require:  making new versions of the upstream tarballs with version date being 2007???? (the fixed files are dated June 16, June 25, and Aug 25 and 27, so perhaps we should take the latest date) and changing both packa-version.txt files to the same date.



---

archive/issue_comments_210218.json:
```json
{
    "body": "<a id='comment:40'></a>Replying to [comment:39 cremona]:\n> My intention had been to go straight on to revising this to include the (very slightly different) 2007 data, building on this branch.  I am not sure whether we should ask for the commits so far to be merged before doing that.  It will only require:  making new versions of the upstream tarballs with version date being 2007???? (the fixed files are dated June 16, June 25, and Aug 25 and 27, so perhaps we should take the latest date) and changing both packa-version.txt files to the same date.\n\nDo as you wish, for me it's fine either way.",
    "created_at": "2013-12-28T10:34:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210218",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:40'></a>Replying to [comment:39 cremona]:
> My intention had been to go straight on to revising this to include the (very slightly different) 2007 data, building on this branch.  I am not sure whether we should ask for the commits so far to be merged before doing that.  It will only require:  making new versions of the upstream tarballs with version date being 2007???? (the fixed files are dated June 16, June 25, and Aug 25 and 27, so perhaps we should take the latest date) and changing both packa-version.txt files to the same date.

Do as you wish, for me it's fine either way.



---

archive/issue_comments_210219.json:
```json
{
    "body": "<a id='comment:42'></a>I'm going to make the 2007 upgrade into another ticket (dependent on this one), which I will cross-ref here when it has been created.  So this one can have a positive review.",
    "created_at": "2013-12-29T13:52:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210219",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:42'></a>I'm going to make the 2007 upgrade into another ticket (dependent on this one), which I will cross-ref here when it has been created.  So this one can have a positive review.



---

archive/issue_comments_210220.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-12-29T13:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210220",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_210221.json:
```json
{
    "body": "<a id='comment:44'></a>See #15607 for the follow-up ticket.",
    "created_at": "2013-12-29T14:00:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210221",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:44'></a>See #15607 for the follow-up ticket.



---

archive/issue_comments_210222.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-01-05T00:45:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15556#issuecomment-210222",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_045473.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-01-05T00:45:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15556",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15556#event-45473"
}
```
