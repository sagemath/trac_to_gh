# Issue 15864: Graph.is_distance_regular is awfully wrong

archive/issues_015627.json:
```json
{
    "body": "As reported in [1] `is_distance_regular` is SOooooooo awfully wrong that the definition it uses is ... just wrong. I'm sorry for that `:-/`\n\nThe current patch fixes it.\n\nNathann\n\n[1] http://trac.sagemath.org/ticket/14619#comment:27\n\nCC:  @dimpase\n\nBranch/Commit: faffd868037a80a5ad04a5a7cf260f13da4a0e35\n\nWork_Issues: fix the mess with commits\n\nReviewer: Dima Pasechnik\n\nAuthor: Nathann Cohen\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/15864\n\n",
    "closed_at": "2014-03-05T14:18:37Z",
    "created_at": "2014-02-26T15:13:20Z",
    "labels": [
        "component: graph theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "Graph.is_distance_regular is awfully wrong",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15864",
    "user": "https://github.com/nathanncohen"
}
```
As reported in [1] `is_distance_regular` is SOooooooo awfully wrong that the definition it uses is ... just wrong. I'm sorry for that `:-/`

The current patch fixes it.

Nathann

[1] http://trac.sagemath.org/ticket/14619#comment:27

CC:  @dimpase

Branch/Commit: faffd868037a80a5ad04a5a7cf260f13da4a0e35

Work_Issues: fix the mess with commits

Reviewer: Dima Pasechnik

Author: Nathann Cohen

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/15864





---

archive/issue_comments_256520.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-02-26T15:14:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256520",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_256521.json:
```json
{
    "body": "Changing branch from \"\" to \"u/ncohen/15684\"",
    "created_at": "2014-02-26T15:14:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256521",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "" to "u/ncohen/15684"



---

archive/issue_comments_256522.json:
```json
{
    "body": "Changing branch from \"u/ncohen/15684\" to \"u/ncohen/15864\"",
    "created_at": "2014-02-26T15:15:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256522",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "u/ncohen/15684" to "u/ncohen/15864"



---

archive/issue_comments_256523.json:
```json
{
    "body": "Changing commit from \"\" to \"f6541444499809d3af167c9a3632baa98449b0f2\"",
    "created_at": "2014-02-26T15:15:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256523",
    "user": "https://github.com/nathanncohen"
}
```

Changing commit from "" to "f6541444499809d3af167c9a3632baa98449b0f2"



---

archive/issue_comments_256524.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2014-02-26T15:15:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256524",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_256525.json:
```json
{
    "body": "<a id='comment:3'></a>IMHO\n\n```\nsage: g.is_distance_regular(parameters = True)\n```\nis terribly confusing to the user. Indeed, ```is_distance_regular``` is meant to return True or False, just like any other ```is_blahbla``` member functions are. There should be a member function named something like ```distance_regularity_parameters``` which would return the parameters (what it returns for a non-distance-regular graph, is open to discussion - e.g. it can even return lists of all the different values, or empty entries for the values which are not-constant.",
    "created_at": "2014-02-27T10:28:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256525",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>IMHO

```
sage: g.is_distance_regular(parameters = True)
```
is terribly confusing to the user. Indeed, ```is_distance_regular``` is meant to return True or False, just like any other ```is_blahbla``` member functions are. There should be a member function named something like ```distance_regularity_parameters``` which would return the parameters (what it returns for a non-distance-regular graph, is open to discussion - e.g. it can even return lists of all the different values, or empty entries for the values which are not-constant.



---

archive/issue_comments_256526.json:
```json
{
    "body": "<a id='comment:4'></a>Yooooooooo !\n\n> is terribly confusing to the user. Indeed, ```is_distance_regular``` is meant to return True or False, just like any other ```is_blahbla``` member functions are. \n\n\nWell. Not exactly \"all\" `:-P`\n\nI did this quite quite often in the graph code, in order to avoid having to create three functions for every feature : one which returns True/False, one which returns a certificate, and a hidden one which returns both. Besides it is weird to call a function which is meant to return a certificate when you do not even know if the graph is distance-regular or not, and there is a risk that users would call BOTH functions (first boolean check THEN certificate) and so compute everythin twice.\n\n> There should be a member function named something like ```distance_regularity_parameters``` which would return the parameters (what it returns for a non-distance-regular graph, is open to discussion - e.g. it can even return lists of all the different values, or empty entries for the values which are not-constant.\n\n\nWell... It's the usual way to do stuff, but with Python we do not really have to follow this limitation as there is no return type... `is_perfect` can ive you an odd hole/antihole, `is_forest` returns cycles, `is_planar` gives you a K5/K33 minor. Really, it's cool `:-P`\n\nNathann",
    "created_at": "2014-02-27T14:04:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256526",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'></a>Yooooooooo !

> is terribly confusing to the user. Indeed, ```is_distance_regular``` is meant to return True or False, just like any other ```is_blahbla``` member functions are. 


Well. Not exactly "all" `:-P`

I did this quite quite often in the graph code, in order to avoid having to create three functions for every feature : one which returns True/False, one which returns a certificate, and a hidden one which returns both. Besides it is weird to call a function which is meant to return a certificate when you do not even know if the graph is distance-regular or not, and there is a risk that users would call BOTH functions (first boolean check THEN certificate) and so compute everythin twice.

> There should be a member function named something like ```distance_regularity_parameters``` which would return the parameters (what it returns for a non-distance-regular graph, is open to discussion - e.g. it can even return lists of all the different values, or empty entries for the values which are not-constant.


Well... It's the usual way to do stuff, but with Python we do not really have to follow this limitation as there is no return type... `is_perfect` can ive you an odd hole/antihole, `is_forest` returns cycles, `is_planar` gives you a K5/K33 minor. Really, it's cool `:-P`

Nathann



---

archive/issue_comments_256527.json:
```json
{
    "body": "<a id='comment:5'></a>in the line \n``` A regular graph `G` is distance-regular if for any integers `j,k` the value...``` the word ```regular``` is not needed, as you can take ```j=k=0``` and ```u=v```.",
    "created_at": "2014-02-28T07:14:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256527",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>in the line 
``` A regular graph `G` is distance-regular if for any integers `j,k` the value...``` the word ```regular``` is not needed, as you can take ```j=k=0``` and ```u=v```.



---

archive/issue_comments_256528.json:
```json
{
    "body": "<a id='comment:6'></a>in the literature the order of these lists:\n\n```\nsage: g.is_distance_regular(parameters = True)\n        ([0, 1, 1], [3, 2, 0])\n```\nis normally the opposite, and the last entry, which is always 0, 0 in the list beginning with the valence is omitted, and the 1st entry, always 0, in the other list is omitted too. I suggest we follow this convention. I.e. here it should be ```([3,2],[1,1])```",
    "created_at": "2014-02-28T07:27:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256528",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>in the literature the order of these lists:

```
sage: g.is_distance_regular(parameters = True)
        ([0, 1, 1], [3, 2, 0])
```
is normally the opposite, and the last entry, which is always 0, 0 in the list beginning with the valence is omitted, and the 1st entry, always 0, in the other list is omitted too. I suggest we follow this convention. I.e. here it should be ```([3,2],[1,1])```



---

archive/issue_comments_256529.json:
```json
{
    "body": "<a id='comment:7'></a>I'm doing a reviewer patch.",
    "created_at": "2014-02-28T09:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256529",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>I'm doing a reviewer patch.



---

archive/issue_comments_256530.json:
```json
{
    "body": "Changing branch from \"u/ncohen/15864\" to \"u/dimpase/ticket/15864\"",
    "created_at": "2014-02-28T10:42:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256530",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "u/ncohen/15864" to "u/dimpase/ticket/15864"



---

archive/issue_comments_256531.json:
```json
{
    "body": "Changing commit from \"f6541444499809d3af167c9a3632baa98449b0f2\" to \"e5a990dd8f2b0ff38dcee683e9d59182d2614eb1\"",
    "created_at": "2014-02-28T10:49:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256531",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "f6541444499809d3af167c9a3632baa98449b0f2" to "e5a990dd8f2b0ff38dcee683e9d59182d2614eb1"



---

archive/issue_comments_256532.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:8 dimpase]:\nNathann, if you're happy with my changes, I'll make it positive review.\nLet's postpone ```foo.is_bla...``` cleanup to another ticket.\n\n---\nNew commits:",
    "created_at": "2014-02-28T10:49:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256532",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>Replying to [comment:8 dimpase]:
Nathann, if you're happy with my changes, I'll make it positive review.
Let's postpone ```foo.is_bla...``` cleanup to another ticket.

---
New commits:



---

archive/issue_comments_256533.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-01T09:06:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256533",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_256534.json:
```json
{
    "body": "Changing commit from \"e5a990dd8f2b0ff38dcee683e9d59182d2614eb1\" to \"0b540be503548ad881305f820552bc06d14b0771\"",
    "created_at": "2014-03-01T09:06:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256534",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e5a990dd8f2b0ff38dcee683e9d59182d2614eb1" to "0b540be503548ad881305f820552bc06d14b0771"



---

archive/issue_comments_256535.json:
```json
{
    "body": "<a id='comment:11'></a>Yooooooooooooo Dima !\n\nI am back to work, in Brussels. That's a good news `:-P`\n\nAren't you afraid of the fact that `c[i]` is not `c_i` but `c_{i+1}` ? Don't you think it's dangerous ?\n\nNathann",
    "created_at": "2014-03-03T12:42:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256535",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'></a>Yooooooooooooo Dima !

I am back to work, in Brussels. That's a good news `:-P`

Aren't you afraid of the fact that `c[i]` is not `c_i` but `c_{i+1}` ? Don't you think it's dangerous ?

Nathann



---

archive/issue_comments_256536.json:
```json
{
    "body": "<a id='comment:12'></a>Well, this is the standard notation. Might be a bit awkward, indeed. These numbers are best understood as entries of the [\"intersection matrix\"](http://en.wikipedia.org/wiki/Distance-regular_graph#Intersection_numbers), which in this case happens to be 3-diagonal.",
    "created_at": "2014-03-03T12:58:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256536",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>Well, this is the standard notation. Might be a bit awkward, indeed. These numbers are best understood as entries of the ["intersection matrix"](http://en.wikipedia.org/wiki/Distance-regular_graph#Intersection_numbers), which in this case happens to be 3-diagonal.



---

archive/issue_comments_256537.json:
```json
{
    "body": "<a id='comment:13'></a>Why don't we set the missing entries to `None` ? Like `c_0` and `b_d` ?\n\nNathann",
    "created_at": "2014-03-03T13:01:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256537",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'></a>Why don't we set the missing entries to `None` ? Like `c_0` and `b_d` ?

Nathann



---

archive/issue_comments_256538.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:13 ncohen]:\n> Why don't we set the missing entries to `None` ? Like `c_0` and `b_d` ?\n\n\n`c[i]` is more of a function of `i` than anything else (same applied to `b`).  You would not insist on `1/x` returning `None` for `x=0`, would you?",
    "created_at": "2014-03-03T13:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256538",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>Replying to [comment:13 ncohen]:
> Why don't we set the missing entries to `None` ? Like `c_0` and `b_d` ?


`c[i]` is more of a function of `i` than anything else (same applied to `b`).  You would not insist on `1/x` returning `None` for `x=0`, would you?



---

archive/issue_comments_256539.json:
```json
{
    "body": "<a id='comment:15'></a>Come on Dima... You know people will make mistake because of that. We would just avoid them this mistake.\n\nNathann",
    "created_at": "2014-03-03T13:29:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256539",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'></a>Come on Dima... You know people will make mistake because of that. We would just avoid them this mistake.

Nathann



---

archive/issue_comments_256540.json:
```json
{
    "body": "<a id='comment:16'></a>Replying to [comment:15 ncohen]:\n> Come on Dima... You know people will make mistake because of that. We would just avoid them this mistake.\n\n\nOK, fine, if you want to pad with `None` entries, go for it. Let me know if you want me to update the patches, or do it yourself.",
    "created_at": "2014-03-03T13:47:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256540",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:16'></a>Replying to [comment:15 ncohen]:
> Come on Dima... You know people will make mistake because of that. We would just avoid them this mistake.


OK, fine, if you want to pad with `None` entries, go for it. Let me know if you want me to update the patches, or do it yourself.



---

archive/issue_comments_256541.json:
```json
{
    "body": "Changing branch from \"u/dimpase/ticket/15864\" to \"u/ncohen/15864\"",
    "created_at": "2014-03-03T14:03:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256541",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "u/dimpase/ticket/15864" to "u/ncohen/15864"



---

archive/issue_comments_256542.json:
```json
{
    "body": "Changing commit from \"0b540be503548ad881305f820552bc06d14b0771\" to \"f6541444499809d3af167c9a3632baa98449b0f2\"",
    "created_at": "2014-03-03T14:03:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256542",
    "user": "https://github.com/nathanncohen"
}
```

Changing commit from "0b540be503548ad881305f820552bc06d14b0771" to "f6541444499809d3af167c9a3632baa98449b0f2"



---

archive/issue_comments_256543.json:
```json
{
    "body": "<a id='comment:17'></a>Updated ! I also changed the \"return\" line to return b,c, as you fixed the docstring. Is that right ? `O_o`\n\nNathann",
    "created_at": "2014-03-03T14:03:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256543",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:17'></a>Updated ! I also changed the "return" line to return b,c, as you fixed the docstring. Is that right ? `O_o`

Nathann



---

archive/issue_comments_256544.json:
```json
{
    "body": "Changing commit from \"f6541444499809d3af167c9a3632baa98449b0f2\" to \"20c5a2ad3ec2074eb2c89ca27622907a2e115557\"",
    "created_at": "2014-03-03T14:04:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256544",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f6541444499809d3af167c9a3632baa98449b0f2" to "20c5a2ad3ec2074eb2c89ca27622907a2e115557"



---

archive/issue_comments_256545.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-03T14:04:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256545",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_256546.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [comment:17 ncohen]:\n> Updated ! I also changed the \"return\" line to return b,c, as you fixed the docstring. Is that right ? `O_o`\n\nWhat?\nWhy don't you just start from my latest commit, rather than redoing all my fixes?!",
    "created_at": "2014-03-03T14:40:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256546",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'></a>Replying to [comment:17 ncohen]:
> Updated ! I also changed the "return" line to return b,c, as you fixed the docstring. Is that right ? `O_o`

What?
Why don't you just start from my latest commit, rather than redoing all my fixes?!



---

archive/issue_comments_256547.json:
```json
{
    "body": "<a id='comment:20'></a>Replying to [comment:19 dimpase]:\n> Replying to [comment:17 ncohen]:\n> > Updated ! I also changed the \"return\" line to return b,c, as you fixed the docstring. Is that right ? `O_o`\n\n> What?\n> Why don't you just start from my latest commit, rather than redoing all my fixes?!\n> \n\nI had the order of b and c as it must be, why are you swapping it back?",
    "created_at": "2014-03-03T14:42:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256547",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'></a>Replying to [comment:19 dimpase]:
> Replying to [comment:17 ncohen]:
> > Updated ! I also changed the "return" line to return b,c, as you fixed the docstring. Is that right ? `O_o`

> What?
> Why don't you just start from my latest commit, rather than redoing all my fixes?!
> 

I had the order of b and c as it must be, why are you swapping it back?



---

archive/issue_comments_256548.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [comment:20 dimpase]:\n> Replying to [comment:19 dimpase]:\n> > Replying to [comment:17 ncohen]:\n> > > Updated ! I also changed the \"return\" line to return b,c, as you fixed the docstring. Is that right ? `O_o`\n\n> > What?\n> > Why don't you just start from my latest commit, rather than redoing all my fixes?!\n> > \n\n> I had the order of b and c as it must be, why are you swapping it back?\nI guess your code names the stuff inconsistently, i.e. the meanings of b and c are swapped, compared with your docstrings.",
    "created_at": "2014-03-03T14:47:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256548",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>Replying to [comment:20 dimpase]:
> Replying to [comment:19 dimpase]:
> > Replying to [comment:17 ncohen]:
> > > Updated ! I also changed the "return" line to return b,c, as you fixed the docstring. Is that right ? `O_o`

> > What?
> > Why don't you just start from my latest commit, rather than redoing all my fixes?!
> > 

> I had the order of b and c as it must be, why are you swapping it back?
I guess your code names the stuff inconsistently, i.e. the meanings of b and c are swapped, compared with your docstrings.



---

archive/issue_comments_256549.json:
```json
{
    "body": "<a id='comment:22'></a>In the first of your two commits, you make the function return ci, bi. In the second of your two commits you change the documentation to say that the function should return bi,ci. But the code did not change ! I just changed the code to return bi,ci which follows the doc as you changed it !\n\nNathann",
    "created_at": "2014-03-03T14:47:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256549",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:22'></a>In the first of your two commits, you make the function return ci, bi. In the second of your two commits you change the documentation to say that the function should return bi,ci. But the code did not change ! I just changed the code to return bi,ci which follows the doc as you changed it !

Nathann



---

archive/issue_comments_256550.json:
```json
{
    "body": "<a id='comment:23'></a>The definitions are inconsistant since you changed it in your first commit :\n\nhttp://git.sagemath.org/sage.git/commit/?h=20c5a2ad3ec2074eb2c89ca27622907a2e115557&id=e5a990dd8f2b0ff38dcee683e9d59182d2614eb1\n\nCould you fix that to make the doc and code consistent ?\n\nNathann",
    "created_at": "2014-03-03T14:51:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256550",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:23'></a>The definitions are inconsistant since you changed it in your first commit :

http://git.sagemath.org/sage.git/commit/?h=20c5a2ad3ec2074eb2c89ca27622907a2e115557&id=e5a990dd8f2b0ff38dcee683e9d59182d2614eb1

Could you fix that to make the doc and code consistent ?

Nathann



---

archive/issue_comments_256551.json:
```json
{
    "body": "<a id='comment:24'></a>Replying to [comment:23 ncohen]:\n> The definitions are inconsistant since you changed it in your first commit :\n> \n> http://git.sagemath.org/sage.git/commit/?h=20c5a2ad3ec2074eb2c89ca27622907a2e115557&id=e5a990dd8f2b0ff38dcee683e9d59182d2614eb1\n> \n> Could you fix that to make the doc and code consistent ?\n\n\nOK, I see, that's what happened: indeed, I changed docs (except the docs for the return value, just forgot these - that's why there was one more commit) in the first commit, \nas well as the order of the things returned in `return`.  For the sake of code readability it would be great to change the code too, indeed. Do you want me to do this, or you prefer to do this yourself?",
    "created_at": "2014-03-03T14:57:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256551",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>Replying to [comment:23 ncohen]:
> The definitions are inconsistant since you changed it in your first commit :
> 
> http://git.sagemath.org/sage.git/commit/?h=20c5a2ad3ec2074eb2c89ca27622907a2e115557&id=e5a990dd8f2b0ff38dcee683e9d59182d2614eb1
> 
> Could you fix that to make the doc and code consistent ?


OK, I see, that's what happened: indeed, I changed docs (except the docs for the return value, just forgot these - that's why there was one more commit) in the first commit, 
as well as the order of the things returned in `return`.  For the sake of code readability it would be great to change the code too, indeed. Do you want me to do this, or you prefer to do this yourself?



---

archive/issue_comments_256552.json:
```json
{
    "body": "<a id='comment:25'></a>What about this ?....\n\nNathann",
    "created_at": "2014-03-03T15:07:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256552",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:25'></a>What about this ?....

Nathann



---

archive/issue_comments_256553.json:
```json
{
    "body": "Changing commit from \"20c5a2ad3ec2074eb2c89ca27622907a2e115557\" to \"1555dc73342281eceff49b0c0fc66d78b58bdbc6\"",
    "created_at": "2014-03-03T15:09:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256553",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "20c5a2ad3ec2074eb2c89ca27622907a2e115557" to "1555dc73342281eceff49b0c0fc66d78b58bdbc6"



---

archive/issue_comments_256554.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-03T15:09:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256554",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_256555.json:
```json
{
    "body": "<a id='comment:27'></a>Replying to [comment:25 ncohen]:\n> What about this ?....\n> \n\nthe diff looks good. How do I update the installation? `sage --dev checkout --ticket=15864` does not get it right.",
    "created_at": "2014-03-03T19:59:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256555",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'></a>Replying to [comment:25 ncohen]:
> What about this ?....
> 

the diff looks good. How do I update the installation? `sage --dev checkout --ticket=15864` does not get it right.



---

archive/issue_comments_256556.json:
```json
{
    "body": "<a id='comment:28'></a>Replying to [comment:27 dimpase]:\n> Replying to [comment:25 ncohen]:\n> > What about this ?....\n> > \n\n> the diff looks good. How do I update the installation? `sage --dev checkout --ticket=15864` does not get it right.\n\nyou've mixed up the ticket number: look, the last commit line above says\n\n```\n\u200b1555dc7\ttrac #15854: consistency between code and doc, and None in bi and ci\n```\nbut we are doing #15864 ! No wonder I can't check out a sh*t, no matter what I try...",
    "created_at": "2014-03-03T23:25:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256556",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:28'></a>Replying to [comment:27 dimpase]:
> Replying to [comment:25 ncohen]:
> > What about this ?....
> > 

> the diff looks good. How do I update the installation? `sage --dev checkout --ticket=15864` does not get it right.

you've mixed up the ticket number: look, the last commit line above says

```
â€‹1555dc7	trac #15854: consistency between code and doc, and None in bi and ci
```
but we are doing #15864 ! No wonder I can't check out a sh*t, no matter what I try...



---

archive/issue_comments_256557.json:
```json
{
    "body": "Changing work_issues from \"\" to \"fix the mess with commits\"",
    "created_at": "2014-03-03T23:27:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256557",
    "user": "https://github.com/dimpase"
}
```

Changing work_issues from "" to "fix the mess with commits"



---

archive/issue_comments_256558.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-03-03T23:27:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256558",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_256559.json:
```json
{
    "body": "<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-04T10:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256559",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_256560.json:
```json
{
    "body": "Changing commit from \"1555dc73342281eceff49b0c0fc66d78b58bdbc6\" to \"faffd868037a80a5ad04a5a7cf260f13da4a0e35\"",
    "created_at": "2014-03-04T10:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256560",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1555dc73342281eceff49b0c0fc66d78b58bdbc6" to "faffd868037a80a5ad04a5a7cf260f13da4a0e35"



---

archive/issue_comments_256561.json:
```json
{
    "body": "<a id='comment:31'></a>Ahahahah. Well, I don't think that the dev scripts are based on the commit messages, but I fixed that, just in case `:-P`\n\nI think that the dev script is mostly worried over the fact that I rewrote history. That's why you should probably find a way to delete that branch from your local repository again before running your checkout command.\n\nBy the way, how is it going in Oxford ? Do you finally have an office and everything ?\n\nCheers from Brussels,\n\nNathann\n\n---\nNew commits:",
    "created_at": "2014-03-04T10:18:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256561",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:31'></a>Ahahahah. Well, I don't think that the dev scripts are based on the commit messages, but I fixed that, just in case `:-P`

I think that the dev script is mostly worried over the fact that I rewrote history. That's why you should probably find a way to delete that branch from your local repository again before running your checkout command.

By the way, how is it going in Oxford ? Do you finally have an office and everything ?

Cheers from Brussels,

Nathann

---
New commits:



---

archive/issue_comments_256562.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-03-04T10:18:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256562",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_256563.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-03-04T19:29:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256563",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_256564.json:
```json
{
    "body": "<a id='comment:32'></a>OK, this works to get the right branch:\n\n```\ngit fetch origin u/ncohen/15864:15864\ngit checkout 15864\n```\nlooks good.",
    "created_at": "2014-03-04T19:29:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256564",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:32'></a>OK, this works to get the right branch:

```
git fetch origin u/ncohen/15864:15864
git checkout 15864
```
looks good.



---

archive/issue_comments_256565.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2014-03-05T09:46:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256565",
    "user": "https://github.com/vbraun"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_256566.json:
```json
{
    "body": "<a id='comment:33'></a>Please fill in reviewer names",
    "created_at": "2014-03-05T09:46:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256566",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:33'></a>Please fill in reviewer names



---

archive/issue_events_046673.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-03-05T14:18:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15864#event-46673"
}
```



---

archive/issue_comments_256567.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-03-05T14:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256567",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_256568.json:
```json
{
    "body": "Changing branch from \"u/ncohen/15864\" to \"faffd868037a80a5ad04a5a7cf260f13da4a0e35\"",
    "created_at": "2014-03-05T14:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15864#issuecomment-256568",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/ncohen/15864" to "faffd868037a80a5ad04a5a7cf260f13da4a0e35"
