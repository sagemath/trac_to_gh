# Issue 15840: Residues in SymbolicRing

archive/issues_015603.json:
```json
{
    "body": "Calculate the residue of a symbolic expression.\n\n**Branch/Commit:** [511b9ff92b50bb84b9673556ccc6aa879bfa9e93](https://github.com/sagemath/sagetrac-mirror/commit/511b9ff92b50bb84b9673556ccc6aa879bfa9e93)\n\n**Reviewer:** Marc Mezzarobba\n\n**Author:** Daniel Krenn\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/15840\n\n",
    "closed_at": "2014-03-01T08:48:21Z",
    "created_at": "2014-02-20T19:02:07Z",
    "labels": [
        "component: symbolics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "Residues in SymbolicRing",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15840",
    "user": "https://github.com/dkrenn"
}
```
Calculate the residue of a symbolic expression.

**Branch/Commit:** [511b9ff92b50bb84b9673556ccc6aa879bfa9e93](https://github.com/sagemath/sagetrac-mirror/commit/511b9ff92b50bb84b9673556ccc6aa879bfa9e93)

**Reviewer:** Marc Mezzarobba

**Author:** Daniel Krenn

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/15840





---

archive/issue_comments_260772.json:
```json
{
    "body": "**Branch:** [u/dkrenn/ticket/15840](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/ticket/15840)",
    "created_at": "2014-02-20T20:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260772",
    "user": "https://github.com/dkrenn"
}
```

**Branch:** [u/dkrenn/ticket/15840](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/ticket/15840)



---

archive/issue_comments_260773.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0467df4d4a5745f15d918f84996958d48ffac4cb\">0467df4</a></td><td><code>First version of aau_howto</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8931dbd6e3dc904b99c94c861e66e632f7d2f9cf\">8931dbd</a></td><td><code>Workflow begonnen</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e0d1169c703210ea7d0c4ce71a2df39b7ea15688\">e0d1169</a></td><td><code>function 'residue' added</code></td></tr></table>\n",
    "created_at": "2014-02-20T20:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260773",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0467df4d4a5745f15d918f84996958d48ffac4cb">0467df4</a></td><td><code>First version of aau_howto</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8931dbd6e3dc904b99c94c861e66e632f7d2f9cf">8931dbd</a></td><td><code>Workflow begonnen</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e0d1169c703210ea7d0c4ce71a2df39b7ea15688">e0d1169</a></td><td><code>function 'residue' added</code></td></tr></table>




---

archive/issue_comments_260774.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2014-02-20T20:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260774",
    "user": "https://github.com/dkrenn"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_260775.json:
```json
{
    "body": "**Commit:** [e0d1169c703210ea7d0c4ce71a2df39b7ea15688](https://github.com/sagemath/sagetrac-mirror/commit/e0d1169c703210ea7d0c4ce71a2df39b7ea15688)",
    "created_at": "2014-02-20T20:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260775",
    "user": "https://github.com/dkrenn"
}
```

**Commit:** [e0d1169c703210ea7d0c4ce71a2df39b7ea15688](https://github.com/sagemath/sagetrac-mirror/commit/e0d1169c703210ea7d0c4ce71a2df39b7ea15688)



---

archive/issue_comments_260776.json:
```json
{
    "body": "**Author:** Daniel Krenn",
    "created_at": "2014-02-20T20:15:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260776",
    "user": "https://github.com/dkrenn"
}
```

**Author:** Daniel Krenn



---

archive/issue_comments_260777.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2014-02-20T20:16:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260777",
    "user": "https://github.com/dkrenn"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_260778.json:
```json
{
    "body": "<a id='comment:5'></a>\nHaving some git troubles....solving them tomorrow... ;)",
    "created_at": "2014-02-20T20:32:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260778",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:5'></a>
Having some git troubles....solving them tomorrow... ;)



---

archive/issue_comments_260779.json:
```json
{
    "body": "**Changing commit** from \"[e0d1169c703210ea7d0c4ce71a2df39b7ea15688](https://github.com/sagemath/sagetrac-mirror/commit/e0d1169c703210ea7d0c4ce71a2df39b7ea15688)\" to \"[ddca280e94f7f53180ceed35df5cda4e384fbb4b](https://github.com/sagemath/sagetrac-mirror/commit/ddca280e94f7f53180ceed35df5cda4e384fbb4b)\".",
    "created_at": "2014-02-21T08:32:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260779",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e0d1169c703210ea7d0c4ce71a2df39b7ea15688](https://github.com/sagemath/sagetrac-mirror/commit/e0d1169c703210ea7d0c4ce71a2df39b7ea15688)" to "[ddca280e94f7f53180ceed35df5cda4e384fbb4b](https://github.com/sagemath/sagetrac-mirror/commit/ddca280e94f7f53180ceed35df5cda4e384fbb4b)".



---

archive/issue_comments_260780.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ddca280e94f7f53180ceed35df5cda4e384fbb4b\">ddca280</a></td><td><code>function 'residue' added</code></td></tr></table>\n",
    "created_at": "2014-02-21T08:32:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260780",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ddca280e94f7f53180ceed35df5cda4e384fbb4b">ddca280</a></td><td><code>function 'residue' added</code></td></tr></table>




---

archive/issue_comments_260781.json:
```json
{
    "body": "<a id='comment:7'></a>\nNow the correct things are pushed :)",
    "created_at": "2014-02-21T08:34:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260781",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:7'></a>
Now the correct things are pushed :)



---

archive/issue_comments_260782.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2014-02-21T08:34:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260782",
    "user": "https://github.com/dkrenn"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_260783.json:
```json
{
    "body": "<a id='comment:8'></a>\nHi Daniel,\n\nThanks for your patch!\n\nYour code didn't work on expressions such as 1/s\u00b2 (with that particular variable name). I think I fixed it.\n\nI am still not too happy about the following:\n\n```\nsage: var('s')\nsage: (x^s).residue(x,0)\n0\n```\nbut it's not clear to me what the code should do in such cases.\n\nAlso, I wonder if we shouldn't prefer a syntax such as `expr.residue(x==a)` for consistency with `series()`.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9997eaaa8f35ccbc1034403ccc4b8434d30f2559\">9997eaa</a></td><td><code>Various improvements to expr.residue()</code></td></tr></table>\n",
    "created_at": "2014-02-22T18:12:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260783",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:8'></a>
Hi Daniel,

Thanks for your patch!

Your code didn't work on expressions such as 1/s² (with that particular variable name). I think I fixed it.

I am still not too happy about the following:

```
sage: var('s')
sage: (x^s).residue(x,0)
0
```
but it's not clear to me what the code should do in such cases.

Also, I wonder if we shouldn't prefer a syntax such as `expr.residue(x==a)` for consistency with `series()`.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9997eaaa8f35ccbc1034403ccc4b8434d30f2559">9997eaa</a></td><td><code>Various improvements to expr.residue()</code></td></tr></table>




---

archive/issue_comments_260784.json:
```json
{
    "body": "**Changing branch** from \"[u/dkrenn/ticket/15840](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/ticket/15840)\" to \"[u/mmezzarobba/15840-residue](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/15840-residue)\".",
    "created_at": "2014-02-22T18:12:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260784",
    "user": "https://github.com/mezzarobba"
}
```

**Changing branch** from "[u/dkrenn/ticket/15840](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/ticket/15840)" to "[u/mmezzarobba/15840-residue](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/15840-residue)".



---

archive/issue_comments_260785.json:
```json
{
    "body": "**Changing commit** from \"[ddca280e94f7f53180ceed35df5cda4e384fbb4b](https://github.com/sagemath/sagetrac-mirror/commit/ddca280e94f7f53180ceed35df5cda4e384fbb4b)\" to \"[9997eaaa8f35ccbc1034403ccc4b8434d30f2559](https://github.com/sagemath/sagetrac-mirror/commit/9997eaaa8f35ccbc1034403ccc4b8434d30f2559)\".",
    "created_at": "2014-02-22T18:12:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260785",
    "user": "https://github.com/mezzarobba"
}
```

**Changing commit** from "[ddca280e94f7f53180ceed35df5cda4e384fbb4b](https://github.com/sagemath/sagetrac-mirror/commit/ddca280e94f7f53180ceed35df5cda4e384fbb4b)" to "[9997eaaa8f35ccbc1034403ccc4b8434d30f2559](https://github.com/sagemath/sagetrac-mirror/commit/9997eaaa8f35ccbc1034403ccc4b8434d30f2559)".



---

archive/issue_comments_260786.json:
```json
{
    "body": "**Reviewer:** Marc Mezzarobba",
    "created_at": "2014-02-22T18:12:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260786",
    "user": "https://github.com/mezzarobba"
}
```

**Reviewer:** Marc Mezzarobba



---

archive/issue_comments_260787.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae62ecaa973952ef96268e697d6525ba5512d307\">ae62eca</a></td><td><code>Various improvements to expr.residue()</code></td></tr></table>\n",
    "created_at": "2014-02-22T18:18:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260787",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae62ecaa973952ef96268e697d6525ba5512d307">ae62eca</a></td><td><code>Various improvements to expr.residue()</code></td></tr></table>




---

archive/issue_comments_260788.json:
```json
{
    "body": "**Changing commit** from \"[9997eaaa8f35ccbc1034403ccc4b8434d30f2559](https://github.com/sagemath/sagetrac-mirror/commit/9997eaaa8f35ccbc1034403ccc4b8434d30f2559)\" to \"[ae62ecaa973952ef96268e697d6525ba5512d307](https://github.com/sagemath/sagetrac-mirror/commit/ae62ecaa973952ef96268e697d6525ba5512d307)\".",
    "created_at": "2014-02-22T18:18:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260788",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9997eaaa8f35ccbc1034403ccc4b8434d30f2559](https://github.com/sagemath/sagetrac-mirror/commit/9997eaaa8f35ccbc1034403ccc4b8434d30f2559)" to "[ae62ecaa973952ef96268e697d6525ba5512d307](https://github.com/sagemath/sagetrac-mirror/commit/ae62ecaa973952ef96268e697d6525ba5512d307)".



---

archive/issue_comments_260789.json:
```json
{
    "body": "**Changing branch** from \"[u/mmezzarobba/15840-residue](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/15840-residue)\" to \"[u/dkrenn/ticket/15840](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/ticket/15840)\".",
    "created_at": "2014-02-24T09:11:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260789",
    "user": "https://github.com/dkrenn"
}
```

**Changing branch** from "[u/mmezzarobba/15840-residue](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/15840-residue)" to "[u/dkrenn/ticket/15840](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/ticket/15840)".



---

archive/issue_comments_260790.json:
```json
{
    "body": "**Changing commit** from \"[ae62ecaa973952ef96268e697d6525ba5512d307](https://github.com/sagemath/sagetrac-mirror/commit/ae62ecaa973952ef96268e697d6525ba5512d307)\" to \"[511b9ff92b50bb84b9673556ccc6aa879bfa9e93](https://github.com/sagemath/sagetrac-mirror/commit/511b9ff92b50bb84b9673556ccc6aa879bfa9e93)\".",
    "created_at": "2014-02-24T09:15:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260790",
    "user": "https://github.com/dkrenn"
}
```

**Changing commit** from "[ae62ecaa973952ef96268e697d6525ba5512d307](https://github.com/sagemath/sagetrac-mirror/commit/ae62ecaa973952ef96268e697d6525ba5512d307)" to "[511b9ff92b50bb84b9673556ccc6aa879bfa9e93](https://github.com/sagemath/sagetrac-mirror/commit/511b9ff92b50bb84b9673556ccc6aa879bfa9e93)".



---

archive/issue_comments_260791.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [mmezzarobba](#comment%3A8):\n> Also, I wonder if we shouldn't prefer a syntax such as `expr.residue(x==a)` for consistency with `series()`.\n\n\nYes, good idea. I changed that.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/511b9ff92b50bb84b9673556ccc6aa879bfa9e93\">511b9ff</a></td><td><code>changed to support x==a syntax for consistency with .series()</code></td></tr></table>\n",
    "created_at": "2014-02-24T09:15:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260791",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:11'></a>
Replying to [mmezzarobba](#comment%3A8):
> Also, I wonder if we shouldn't prefer a syntax such as `expr.residue(x==a)` for consistency with `series()`.


Yes, good idea. I changed that.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/511b9ff92b50bb84b9673556ccc6aa879bfa9e93">511b9ff</a></td><td><code>changed to support x==a syntax for consistency with .series()</code></td></tr></table>




---

archive/issue_comments_260792.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [mmezzarobba](#comment%3A8):\n> I am still not too happy about the following:\n> \n> ```\n> sage: var('s')\n> sage: (x^s).residue(x,0)\n> 0\n> ```\n> but it's not clear to me what the code should do in such cases.\n\n\nIt is also not clear to me, but this problem has to be solved in {.series()}}}. This is now #15854.",
    "created_at": "2014-02-24T09:28:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260792",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:12'></a>
Replying to [mmezzarobba](#comment%3A8):
> I am still not too happy about the following:
> 
> ```
> sage: var('s')
> sage: (x^s).residue(x,0)
> 0
> ```
> but it's not clear to me what the code should do in such cases.


It is also not clear to me, but this problem has to be solved in {.series()}}}. This is now #15854.



---

archive/issue_comments_260793.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [mmezzarobba](#comment%3A8):\n> Your code didn't work on expressions such as 1/s\u00b2 (with that particular variable name). I think I fixed it.\n\n\nThanks. I reviewed your changes; looks good.",
    "created_at": "2014-02-24T09:29:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260793",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:13'></a>
Replying to [mmezzarobba](#comment%3A8):
> Your code didn't work on expressions such as 1/s² (with that particular variable name). I think I fixed it.


Thanks. I reviewed your changes; looks good.



---

archive/issue_comments_260794.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2014-02-24T12:33:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260794",
    "user": "https://github.com/mezzarobba"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_260795.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2014-03-01T08:48:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260795",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_events_053152.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-03-01T08:48:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15840#event-53152"
}
```



---

archive/issue_comments_260796.json:
```json
{
    "body": "**Changing branch** from \"[u/dkrenn/ticket/15840](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/ticket/15840)\" to \"[511b9ff92b50bb84b9673556ccc6aa879bfa9e93](https://github.com/sagemath/sagetrac-mirror/commit/511b9ff92b50bb84b9673556ccc6aa879bfa9e93)\".",
    "created_at": "2014-03-01T08:48:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15840#issuecomment-260796",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/dkrenn/ticket/15840](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/ticket/15840)" to "[511b9ff92b50bb84b9673556ccc6aa879bfa9e93](https://github.com/sagemath/sagetrac-mirror/commit/511b9ff92b50bb84b9673556ccc6aa879bfa9e93)".
