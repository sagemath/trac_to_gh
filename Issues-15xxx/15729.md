# Issue 15729: Graphics3d with fractional opacity will not save image

archive/issues_015492.json:
```json
{
    "body": "Giving opacity as a fraction breaks the save method.  No error is raised and no image is created.\n\n```\nplot3d(lambda x, y: x^2 + y^2, (-2,2), (-2,2),opacity=8/10).save('~/tmp.png')\n```\n\nThis appears to be a problem with tachyon not handling fractions.  Here is another example with an error message (shown with the keyword `verbosity=2`):\n\n```\nsage: S = sphere(opacity=8/10, aspect_ratio=[1,1,1], verbosity='2')\nsage: S.save('~/tmp.png')\n```\n\n\n```\ntachyon /Users/njohnson/.sage/temp/galileo/2623/tmp_zkpq5K.dat  -format PNG  -o ~/tmp.png  -res 500 500  +V ; rm -f \"/Users/njohnson/.sage/temp/galileo/2623/tmp_zkpq5K.dat\"\nTachyon Parallel/Multiprocessor Ray Tracer   Version 0.98.9   \nCopyright 1994-2010,    John E. Stone <john.stone@gmail.com> \n------------------------------------------------------------ \nParse Error:\n   Encountered a syntax error in file /Users/njohnson/.sage/temp/galileo/2623/tmp_zkpq5K.dat\n   Expected to find TEXFUNC\n   Actually found: Color\n   Error occured at or prior to file offset 656, line 29\n   Error position is only approximate, but should be close\n\nParse Error:\n   Encountered a syntax error in file /Users/njohnson/.sage/temp/galileo/2623/tmp_zkpq5K.dat\n   Expected to find an object or other declaration\n   Actually found: .4\n   Error occured at or prior to file offset 660, line 29\n   Error position is only approximate, but should be close\n\nParser failed due to an input file syntax error.\nAborting render.\n```\n\nChanging opacity to .8 in this example works as expected.\n\n**CC:**  @slel\n\n**Keywords:** IMA-PolyGeom, opacity\n\n**Branch/Commit:** [ddf16d5d9609dfe5447239a11ae65c2de3faebec](https://github.com/sagemath/sagetrac-mirror/commit/ddf16d5d9609dfe5447239a11ae65c2de3faebec)\n\n**Reviewer:** Jean-Philippe Labb\u00e9\n\n**Author:** Yuan Zhou\n\nIssue created by migration from https://trac.sagemath.org/ticket/15729\n\n",
    "closed_at": "2018-05-08T17:27:41Z",
    "created_at": "2014-01-24T22:05:00Z",
    "labels": [
        "component: graphics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Graphics3d with fractional opacity will not save image",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15729",
    "user": "https://github.com/nilesjohnson"
}
```
Giving opacity as a fraction breaks the save method.  No error is raised and no image is created.

```
plot3d(lambda x, y: x^2 + y^2, (-2,2), (-2,2),opacity=8/10).save('~/tmp.png')
```

This appears to be a problem with tachyon not handling fractions.  Here is another example with an error message (shown with the keyword `verbosity=2`):

```
sage: S = sphere(opacity=8/10, aspect_ratio=[1,1,1], verbosity='2')
sage: S.save('~/tmp.png')
```


```
tachyon /Users/njohnson/.sage/temp/galileo/2623/tmp_zkpq5K.dat  -format PNG  -o ~/tmp.png  -res 500 500  +V ; rm -f "/Users/njohnson/.sage/temp/galileo/2623/tmp_zkpq5K.dat"
Tachyon Parallel/Multiprocessor Ray Tracer   Version 0.98.9   
Copyright 1994-2010,    John E. Stone <john.stone@gmail.com> 
------------------------------------------------------------ 
Parse Error:
   Encountered a syntax error in file /Users/njohnson/.sage/temp/galileo/2623/tmp_zkpq5K.dat
   Expected to find TEXFUNC
   Actually found: Color
   Error occured at or prior to file offset 656, line 29
   Error position is only approximate, but should be close

Parse Error:
   Encountered a syntax error in file /Users/njohnson/.sage/temp/galileo/2623/tmp_zkpq5K.dat
   Expected to find an object or other declaration
   Actually found: .4
   Error occured at or prior to file offset 660, line 29
   Error position is only approximate, but should be close

Parser failed due to an input file syntax error.
Aborting render.
```

Changing opacity to .8 in this example works as expected.

**CC:**  @slel

**Keywords:** IMA-PolyGeom, opacity

**Branch/Commit:** [ddf16d5d9609dfe5447239a11ae65c2de3faebec](https://github.com/sagemath/sagetrac-mirror/commit/ddf16d5d9609dfe5447239a11ae65c2de3faebec)

**Reviewer:** Jean-Philippe Labb√©

**Author:** Yuan Zhou

Issue created by migration from https://trac.sagemath.org/ticket/15729





---

archive/issue_events_052984.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15729#event-52984"
}
```



---

archive/issue_events_052985.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15729#event-52985"
}
```



---

archive/issue_events_052986.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15729#event-52986"
}
```



---

archive/issue_events_052987.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15729#event-52987"
}
```



---

archive/issue_events_052988.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15729#event-52988"
}
```



---

archive/issue_events_052989.json:
```json
{
    "actor": "https://github.com/yuan-zhou",
    "created_at": "2018-04-04T16:55:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15729#event-52989"
}
```



---

archive/issue_events_052990.json:
```json
{
    "actor": "https://github.com/yuan-zhou",
    "created_at": "2018-04-04T16:55:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15729#event-52990"
}
```



---

archive/issue_comments_242843.json:
```json
{
    "body": "**Branch:** [u/yzh/graphics3d_with_fractional_opacity_will_not_save_image](https://github.com/sagemath/sagetrac-mirror/tree/u/yzh/graphics3d_with_fractional_opacity_will_not_save_image)",
    "created_at": "2018-04-04T17:03:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242843",
    "user": "https://github.com/yuan-zhou"
}
```

**Branch:** [u/yzh/graphics3d_with_fractional_opacity_will_not_save_image](https://github.com/sagemath/sagetrac-mirror/tree/u/yzh/graphics3d_with_fractional_opacity_will_not_save_image)



---

archive/issue_comments_242844.json:
```json
{
    "body": "**Author:** Yuan Zhou",
    "created_at": "2018-04-04T17:05:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242844",
    "user": "https://github.com/yuan-zhou"
}
```

**Author:** Yuan Zhou



---

archive/issue_comments_242845.json:
```json
{
    "body": "<a id='comment:6'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/181dddc5444e7755a95a5e3bcd722bd4999926ee\">181dddc</a></td><td><code>fractional opacity</code></td></tr></table>\n",
    "created_at": "2018-04-04T17:05:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242845",
    "user": "https://github.com/yuan-zhou"
}
```

<a id='comment:6'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/181dddc5444e7755a95a5e3bcd722bd4999926ee">181dddc</a></td><td><code>fractional opacity</code></td></tr></table>




---

archive/issue_comments_242846.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2018-04-04T17:05:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242846",
    "user": "https://github.com/yuan-zhou"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_242847.json:
```json
{
    "body": "**Commit:** [181dddc5444e7755a95a5e3bcd722bd4999926ee](https://github.com/sagemath/sagetrac-mirror/commit/181dddc5444e7755a95a5e3bcd722bd4999926ee)",
    "created_at": "2018-04-04T17:05:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242847",
    "user": "https://github.com/yuan-zhou"
}
```

**Commit:** [181dddc5444e7755a95a5e3bcd722bd4999926ee](https://github.com/sagemath/sagetrac-mirror/commit/181dddc5444e7755a95a5e3bcd722bd4999926ee)



---

archive/issue_comments_242848.json:
```json
{
    "body": "<a id='comment:7'></a>\nLooks good.\n\nCould you add a test to show that the mentioned bug is fixed?",
    "created_at": "2018-04-04T22:53:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242848",
    "user": "https://github.com/jplab"
}
```

<a id='comment:7'></a>
Looks good.

Could you add a test to show that the mentioned bug is fixed?



---

archive/issue_comments_242849.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2018-04-04T22:53:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242849",
    "user": "https://github.com/jplab"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_242850.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1b3450a21fc6c43eb6ea65d29ede57c46e90400\">d1b3450</a></td><td><code>add fixed bug example</code></td></tr></table>\n",
    "created_at": "2018-04-04T23:07:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242850",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1b3450a21fc6c43eb6ea65d29ede57c46e90400">d1b3450</a></td><td><code>add fixed bug example</code></td></tr></table>




---

archive/issue_comments_242851.json:
```json
{
    "body": "**Changing commit** from \"[181dddc5444e7755a95a5e3bcd722bd4999926ee](https://github.com/sagemath/sagetrac-mirror/commit/181dddc5444e7755a95a5e3bcd722bd4999926ee)\" to \"[d1b3450a21fc6c43eb6ea65d29ede57c46e90400](https://github.com/sagemath/sagetrac-mirror/commit/d1b3450a21fc6c43eb6ea65d29ede57c46e90400)\".",
    "created_at": "2018-04-04T23:07:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242851",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[181dddc5444e7755a95a5e3bcd722bd4999926ee](https://github.com/sagemath/sagetrac-mirror/commit/181dddc5444e7755a95a5e3bcd722bd4999926ee)" to "[d1b3450a21fc6c43eb6ea65d29ede57c46e90400](https://github.com/sagemath/sagetrac-mirror/commit/d1b3450a21fc6c43eb6ea65d29ede57c46e90400)".



---

archive/issue_comments_242852.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2018-04-04T23:09:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242852",
    "user": "https://github.com/yuan-zhou"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_242853.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"IMA-PolyGeom, opacity\".",
    "created_at": "2018-04-04T23:09:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242853",
    "user": "https://github.com/yuan-zhou"
}
```

**Changing keywords** from "" to "IMA-PolyGeom, opacity".



---

archive/issue_comments_242854.json:
```json
{
    "body": "<a id='comment:11'></a>\nThere are 2 failed doctests:\n\n```\nFile \"src/sage/plot/plot3d/index_face_set.pyx\", line 964, in sage.plot.plot3d.index_face_set.IndexFaceSet.json_repr\nFailed example:\n    G.json_repr(G.default_render_params())\nExpected:\n    ['{\"vertices\":[{\"x\":0,\"y\":0,\"z\":1},{\"x\":1,\"y\":1,\"z\":1},{\"x\":2,\"y\":0,\"z\":1}], \"faces\":[[0,1,2]], \"color\":\"#0000ff\", \"opacity\":1}']\nGot:\n    ['{\"vertices\":[{\"x\":0,\"y\":0,\"z\":1},{\"x\":1,\"y\":1,\"z\":1},{\"x\":2,\"y\":0,\"z\":1}], \"faces\":[[0,1,2]], \"color\":\"#0000ff\", \"opacity\":1.0}']\n**********************************************************************\nFile \"src/sage/plot/plot3d/index_face_set.pyx\", line 976, in sage.plot.plot3d.index_face_set.IndexFaceSet.json_repr\nFailed example:\n    S.json_repr(S.default_render_params())\nExpected:\n    ['{\"vertices\":[{\"x\":2,\"y\":0,\"z\":0},..., \"face_colors\":[\"#ff0000\",\"#ff9900\",\"#cbff00\",\"#33ff00\"], \"opacity\":1}']\nGot:\n    ['{\"vertices\":[{\"x\":2,\"y\":0,\"z\":0},{\"x\":0,\"y\":2,\"z\":0},{\"x\":0,\"y\":0,\"z\":2},{\"x\":0,\"y\":1,\"z\":1},{\"x\":1,\"y\":0,\"z\":1},{\"x\":1,\"y\":1,\"z\":0}], \"faces\":[[0,4,5],[3,4,5],[2,3,4],[1,3,5]], \"face_colors\":[\"#ff0000\",\"#ff9900\",\"#cbff00\",\"#33ff00\"], \"opacity\":1.0}']\n```",
    "created_at": "2018-04-05T20:48:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242854",
    "user": "https://github.com/jplab"
}
```

<a id='comment:11'></a>
There are 2 failed doctests:

```
File "src/sage/plot/plot3d/index_face_set.pyx", line 964, in sage.plot.plot3d.index_face_set.IndexFaceSet.json_repr
Failed example:
    G.json_repr(G.default_render_params())
Expected:
    ['{"vertices":[{"x":0,"y":0,"z":1},{"x":1,"y":1,"z":1},{"x":2,"y":0,"z":1}], "faces":[[0,1,2]], "color":"#0000ff", "opacity":1}']
Got:
    ['{"vertices":[{"x":0,"y":0,"z":1},{"x":1,"y":1,"z":1},{"x":2,"y":0,"z":1}], "faces":[[0,1,2]], "color":"#0000ff", "opacity":1.0}']
**********************************************************************
File "src/sage/plot/plot3d/index_face_set.pyx", line 976, in sage.plot.plot3d.index_face_set.IndexFaceSet.json_repr
Failed example:
    S.json_repr(S.default_render_params())
Expected:
    ['{"vertices":[{"x":2,"y":0,"z":0},..., "face_colors":["#ff0000","#ff9900","#cbff00","#33ff00"], "opacity":1}']
Got:
    ['{"vertices":[{"x":2,"y":0,"z":0},{"x":0,"y":2,"z":0},{"x":0,"y":0,"z":2},{"x":0,"y":1,"z":1},{"x":1,"y":0,"z":1},{"x":1,"y":1,"z":0}], "faces":[[0,4,5],[3,4,5],[2,3,4],[1,3,5]], "face_colors":["#ff0000","#ff9900","#cbff00","#33ff00"], "opacity":1.0}']
```



---

archive/issue_comments_242855.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2018-04-05T20:48:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242855",
    "user": "https://github.com/jplab"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_242856.json:
```json
{
    "body": "**Reviewer:** Jean-Philippe Labb\u00e9",
    "created_at": "2018-04-05T20:49:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242856",
    "user": "https://github.com/jplab"
}
```

**Reviewer:** Jean-Philippe Labb√©



---

archive/issue_comments_242857.json:
```json
{
    "body": "**Changing commit** from \"[d1b3450a21fc6c43eb6ea65d29ede57c46e90400](https://github.com/sagemath/sagetrac-mirror/commit/d1b3450a21fc6c43eb6ea65d29ede57c46e90400)\" to \"[e90a2949ee292dd590cd44793f42114d914f31f5](https://github.com/sagemath/sagetrac-mirror/commit/e90a2949ee292dd590cd44793f42114d914f31f5)\".",
    "created_at": "2018-04-05T20:56:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242857",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d1b3450a21fc6c43eb6ea65d29ede57c46e90400](https://github.com/sagemath/sagetrac-mirror/commit/d1b3450a21fc6c43eb6ea65d29ede57c46e90400)" to "[e90a2949ee292dd590cd44793f42114d914f31f5](https://github.com/sagemath/sagetrac-mirror/commit/e90a2949ee292dd590cd44793f42114d914f31f5)".



---

archive/issue_comments_242858.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e90a2949ee292dd590cd44793f42114d914f31f5\">e90a294</a></td><td><code>fix bugs in doctests</code></td></tr></table>\n",
    "created_at": "2018-04-05T20:56:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242858",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e90a2949ee292dd590cd44793f42114d914f31f5">e90a294</a></td><td><code>fix bugs in doctests</code></td></tr></table>




---

archive/issue_comments_242859.json:
```json
{
    "body": "<a id='comment:14'></a>\nDon't forget to set back to needs_review once reviewer comments are dealt with.",
    "created_at": "2018-04-06T06:43:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242859",
    "user": "https://github.com/slel"
}
```

<a id='comment:14'></a>
Don't forget to set back to needs_review once reviewer comments are dealt with.



---

archive/issue_comments_242860.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2018-04-06T14:20:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242860",
    "user": "https://github.com/yuan-zhou"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_242861.json:
```json
{
    "body": "<a id='comment:16'></a>\nLooks good to me. Once the bot give a green light, I would put positive review.",
    "created_at": "2018-04-06T16:56:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242861",
    "user": "https://github.com/jplab"
}
```

<a id='comment:16'></a>
Looks good to me. Once the bot give a green light, I would put positive review.



---

archive/issue_comments_242862.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2018-04-06T18:18:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242862",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_242863.json:
```json
{
    "body": "<a id='comment:17'></a>\nSee patchbot report:\n\n```\nFile \"src/sage/plot/plot3d/base.pyx\", line 329, in sage.plot.plot3d.base.Graphics3d._rich_repr_canvas3d\nFailed example:\n    out.canvas3d.get()\nExpected:\n    '[{\"vertices\":[{\"x\":0,\"y\":0,\"z\":-1},..., \"color\":\"#6666ff\", \"opacity\":1}]'\nGot:\n    '[{\"vertices\":[{\"x\":0,\"y\":0,\"z\":-1},..., \"color\":\"#6666ff\", \"opacity\":1.0}]'\n```",
    "created_at": "2018-04-06T18:18:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242863",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>
See patchbot report:

```
File "src/sage/plot/plot3d/base.pyx", line 329, in sage.plot.plot3d.base.Graphics3d._rich_repr_canvas3d
Failed example:
    out.canvas3d.get()
Expected:
    '[{"vertices":[{"x":0,"y":0,"z":-1},..., "color":"#6666ff", "opacity":1}]'
Got:
    '[{"vertices":[{"x":0,"y":0,"z":-1},..., "color":"#6666ff", "opacity":1.0}]'
```



---

archive/issue_comments_242864.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ddf16d5d9609dfe5447239a11ae65c2de3faebec\">ddf16d5</a></td><td><code>fix doctest error</code></td></tr></table>\n",
    "created_at": "2018-04-06T18:45:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242864",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ddf16d5d9609dfe5447239a11ae65c2de3faebec">ddf16d5</a></td><td><code>fix doctest error</code></td></tr></table>




---

archive/issue_comments_242865.json:
```json
{
    "body": "**Changing commit** from \"[e90a2949ee292dd590cd44793f42114d914f31f5](https://github.com/sagemath/sagetrac-mirror/commit/e90a2949ee292dd590cd44793f42114d914f31f5)\" to \"[ddf16d5d9609dfe5447239a11ae65c2de3faebec](https://github.com/sagemath/sagetrac-mirror/commit/ddf16d5d9609dfe5447239a11ae65c2de3faebec)\".",
    "created_at": "2018-04-06T18:45:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242865",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e90a2949ee292dd590cd44793f42114d914f31f5](https://github.com/sagemath/sagetrac-mirror/commit/e90a2949ee292dd590cd44793f42114d914f31f5)" to "[ddf16d5d9609dfe5447239a11ae65c2de3faebec](https://github.com/sagemath/sagetrac-mirror/commit/ddf16d5d9609dfe5447239a11ae65c2de3faebec)".



---

archive/issue_comments_242866.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2018-04-06T18:46:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242866",
    "user": "https://github.com/yuan-zhou"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_242867.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2018-04-06T22:39:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242867",
    "user": "https://github.com/jplab"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_242868.json:
```json
{
    "body": "<a id='comment:20'></a>\nIt looks good to me.",
    "created_at": "2018-04-06T22:39:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242868",
    "user": "https://github.com/jplab"
}
```

<a id='comment:20'></a>
It looks good to me.



---

archive/issue_events_052991.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-08T17:27:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15729#event-52991"
}
```



---

archive/issue_comments_242869.json:
```json
{
    "body": "**Changing branch** from \"[u/yzh/graphics3d_with_fractional_opacity_will_not_save_image](https://github.com/sagemath/sagetrac-mirror/tree/u/yzh/graphics3d_with_fractional_opacity_will_not_save_image)\" to \"[ddf16d5d9609dfe5447239a11ae65c2de3faebec](https://github.com/sagemath/sagetrac-mirror/commit/ddf16d5d9609dfe5447239a11ae65c2de3faebec)\".",
    "created_at": "2018-05-08T17:27:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15729",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15729#issuecomment-242869",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/yzh/graphics3d_with_fractional_opacity_will_not_save_image](https://github.com/sagemath/sagetrac-mirror/tree/u/yzh/graphics3d_with_fractional_opacity_will_not_save_image)" to "[ddf16d5d9609dfe5447239a11ae65c2de3faebec](https://github.com/sagemath/sagetrac-mirror/commit/ddf16d5d9609dfe5447239a11ae65c2de3faebec)".
