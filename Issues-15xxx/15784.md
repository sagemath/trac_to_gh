# Issue 15784: Use `in` instead of deprecated `has_key()`

archive/issues_015547.json:
```json
{
    "assignees": [],
    "body": "The **dict.has_key()** is not supported in Python 3.0, in favor of the `key in d` idiom which was introduced in 2.2. [Formal deprecation](http://docs.pythonsprints.com/python3_porting/py-porting.html#replacing-dict-has-key) of **dict.has_key()** began in 2.6.\n\nKeywords: **python3**\n\nBranch/Commit: **[610d145](https://github.com/sagemath/sagetrac-mirror/commit/610d145940b3bdc91d8f36d8d293c1adf4d579f1)**\n\nReviewer: **Fran\u00e7ois Bissey**\n\nAuthor: **Andr\u00e9 Apitzsch**\n\nComponent: **misc**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15784_\n\n",
    "closed_at": "2014-02-14T19:44:58Z",
    "created_at": "2014-02-03T22:15:17Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Use `in` instead of deprecated `has_key()`",
    "type": "issue",
    "updated_at": "2014-02-14T19:44:58Z",
    "url": "https://github.com/sagemath/sage/issues/15784",
    "user": "https://github.com/a-andre"
}
```
The **dict.has_key()** is not supported in Python 3.0, in favor of the `key in d` idiom which was introduced in 2.2. [Formal deprecation](http://docs.pythonsprints.com/python3_porting/py-porting.html#replacing-dict-has-key) of **dict.has_key()** began in 2.6.

Keywords: **python3**

Branch/Commit: **[610d145](https://github.com/sagemath/sagetrac-mirror/commit/610d145940b3bdc91d8f36d8d293c1adf4d579f1)**

Reviewer: **François Bissey**

Author: **André Apitzsch**

Component: **misc**

_Issue created by migration from https://trac.sagemath.org/ticket/15784_





---

archive/issue_events_225402.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2014-02-03T22:15:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15784#event-225402"
}
```



---

archive/issue_events_225403.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2014-02-03T22:15:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15784#event-225403"
}
```



---

archive/issue_events_225404.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2014-02-03T22:15:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15784#event-225404"
}
```



---

archive/issue_comments_199166.json:
```json
{
    "body": "Commit: **[d2e4026](https://github.com/sagemath/sagetrac-mirror/commit/d2e4026bc9521bb2f52e641115c311c032523550)**",
    "created_at": "2014-02-03T22:19:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15784#issuecomment-199166",
    "user": "https://github.com/a-andre"
}
```

Commit: **[d2e4026](https://github.com/sagemath/sagetrac-mirror/commit/d2e4026bc9521bb2f52e641115c311c032523550)**



---

archive/issue_comments_199167.json:
```json
{
    "body": "Author: **Andr\u00e9 Apitzsch**",
    "created_at": "2014-02-03T22:19:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15784#issuecomment-199167",
    "user": "https://github.com/a-andre"
}
```

Author: **André Apitzsch**



---

archive/issue_events_225405.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2014-02-03T22:19:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15784#event-225405"
}
```



---

archive/issue_comments_199168.json:
```json
{
    "body": "Branch: **[u/aapitzsch/ticket/15784](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/15784)**",
    "created_at": "2014-02-03T22:19:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15784#issuecomment-199168",
    "user": "https://github.com/a-andre"
}
```

Branch: **[u/aapitzsch/ticket/15784](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/15784)**



---

archive/issue_events_225406.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-02-04T23:53:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15784#event-225406"
}
```



---

archive/issue_events_225407.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-02-04T23:53:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15784#event-225407"
}
```



---

archive/issue_comments_199169.json:
```json
{
    "body": "Changed commit from **[d2e4026](https://github.com/sagemath/sagetrac-mirror/commit/d2e4026bc9521bb2f52e641115c311c032523550)** to **[610d145](https://github.com/sagemath/sagetrac-mirror/commit/610d145940b3bdc91d8f36d8d293c1adf4d579f1)**",
    "created_at": "2014-02-07T22:55:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15784#issuecomment-199169",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d2e4026](https://github.com/sagemath/sagetrac-mirror/commit/d2e4026bc9521bb2f52e641115c311c032523550)** to **[610d145](https://github.com/sagemath/sagetrac-mirror/commit/610d145940b3bdc91d8f36d8d293c1adf4d579f1)**



---

archive/issue_comments_199170.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/610d145940b3bdc91d8f36d8d293c1adf4d579f1\">610d145</a></td><td><code>Merge remote-tracking branch 'origin/develop' into py3_has_key</code></td></tr></table>\n",
    "created_at": "2014-02-07T22:55:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15784#issuecomment-199170",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/610d145940b3bdc91d8f36d8d293c1adf4d579f1">610d145</a></td><td><code>Merge remote-tracking branch 'origin/develop' into py3_has_key</code></td></tr></table>




---

archive/issue_comments_199171.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nHey Andr\u00e9 I am willing to review this as I am in debt for the review of the patch bomb that brought python 2.7 in sage. Did you use a script to automate this or was it a long labor in between between grep?",
    "created_at": "2014-02-09T09:38:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15784#issuecomment-199171",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:4" align="right">comment:4</div>

Hey André I am willing to review this as I am in debt for the review of the patch bomb that brought python 2.7 in sage. Did you use a script to automate this or was it a long labor in between between grep?



---

archive/issue_comments_199172.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nHallo, I started with *2to3*. But this had some problems with pyx files. So I used *grep* to find the remaining `has_key()`.",
    "created_at": "2014-02-09T10:03:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15784#issuecomment-199172",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:5" align="right">comment:5</div>

Hallo, I started with *2to3*. But this had some problems with pyx files. So I used *grep* to find the remaining `has_key()`.



---

archive/issue_comments_199173.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nOK I also saw the removal of comments and other stuff. Do you consider this finished or you are tracking more instances?",
    "created_at": "2014-02-09T10:05:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15784#issuecomment-199173",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:6" align="right">comment:6</div>

OK I also saw the removal of comments and other stuff. Do you consider this finished or you are tracking more instances?



---

archive/issue_comments_199174.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThere are two more `has_key`. One in *misc/cachefunc.pyx* which I don't know how to handle and one in *sets/family.py* which behaves different from the also included `__contains__`, so I skipped this as well. These can be fixed in another ticket (if necessary).",
    "created_at": "2014-02-09T12:12:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15784#issuecomment-199174",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:7" align="right">comment:7</div>

There are two more `has_key`. One in *misc/cachefunc.pyx* which I don't know how to handle and one in *sets/family.py* which behaves different from the also included `__contains__`, so I skipped this as well. These can be fixed in another ticket (if necessary).



---

archive/issue_events_225408.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-02-09T18:55:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15784#event-225408"
}
```



---

archive/issue_events_225409.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-02-09T18:55:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15784#event-225409"
}
```



---

archive/issue_comments_199175.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nPatchbot seem happy enough about this ticket as far as I can see. Unless I don't know how to read the output.",
    "created_at": "2014-02-09T18:55:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15784#issuecomment-199175",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:8" align="right">comment:8</div>

Patchbot seem happy enough about this ticket as far as I can see. Unless I don't know how to read the output.



---

archive/issue_comments_199176.json:
```json
{
    "body": "Reviewer: **Fran\u00e7ois Bissey**",
    "created_at": "2014-02-11T02:10:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15784#issuecomment-199176",
    "user": "https://github.com/kiwifb"
}
```

Reviewer: **François Bissey**



---

archive/issue_events_225410.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-14T19:44:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15784#event-225410"
}
```



---

archive/issue_events_225411.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "2dd026b34d8e78d08c5f9bfd456788180b4597da",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-02-14T19:44:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15784#event-225411"
}
```



---

archive/issue_comments_199177.json:
```json
{
    "body": "Changed branch from **[u/aapitzsch/ticket/15784](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/15784)** to **[610d145](https://github.com/sagemath/sagetrac-mirror/commit/610d145940b3bdc91d8f36d8d293c1adf4d579f1)**",
    "created_at": "2014-02-14T19:44:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15784#issuecomment-199177",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/aapitzsch/ticket/15784](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/15784)** to **[610d145](https://github.com/sagemath/sagetrac-mirror/commit/610d145940b3bdc91d8f36d8d293c1adf4d579f1)**
