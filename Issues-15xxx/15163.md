# Issue 15163: sum() in the console is overshadowed by symbolic_sum() ?

archive/issues_014926.json:
```json
{
    "body": "```\nsage: c31 = Composition([3,1])\nsage: sum(c31)                \n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-5-cd64b2e19a3e> in <module>()\n----> 1 sum(c31)\n\n/home/darij/sage-5.11.beta3/local/lib/python2.7/site-packages/sage/misc/functional.pyc in symbolic_sum(expression, *args, **kwds)\n    652     \"\"\"\n    653     if hasattr(expression, 'sum'):\n--> 654         return expression.sum(*args, **kwds)\n    655     elif len(args) <= 1:\n    656         return sum(expression, *args)\n\nTypeError: sum() takes exactly 1 argument (0 given)\n```\nThis should instead return 4 (the sum of the entries of the composition c31). This bug appears only interactively; in methods sum() is fine.\n\nThe reason why this bug happens in this particular situation is that `sum` is defined as a `@`staticmethod in the `Composition` class. This method is not supposed to be called on a particular composition (it is a `@`staticmethod after all!), but nevertheless makes `hasattr(expression, 'sum')` return True when `expression` is a composition. Something should be done about it.\n\nCC:  sage-combinat\n\nKeywords: prelude, misc, staticmethod\n\nStatus: new\n\nIssue created by migration from https://trac.sagemath.org/ticket/15163\n\n",
    "created_at": "2013-09-05T20:56:25Z",
    "labels": [
        "component: misc",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "sum() in the console is overshadowed by symbolic_sum() ?",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15163",
    "user": "https://github.com/darijgr"
}
```
```
sage: c31 = Composition([3,1])
sage: sum(c31)                
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-5-cd64b2e19a3e> in <module>()
----> 1 sum(c31)

/home/darij/sage-5.11.beta3/local/lib/python2.7/site-packages/sage/misc/functional.pyc in symbolic_sum(expression, *args, **kwds)
    652     """
    653     if hasattr(expression, 'sum'):
--> 654         return expression.sum(*args, **kwds)
    655     elif len(args) <= 1:
    656         return sum(expression, *args)

TypeError: sum() takes exactly 1 argument (0 given)
```
This should instead return 4 (the sum of the entries of the composition c31). This bug appears only interactively; in methods sum() is fine.

The reason why this bug happens in this particular situation is that `sum` is defined as a `@`staticmethod in the `Composition` class. This method is not supposed to be called on a particular composition (it is a `@`staticmethod after all!), but nevertheless makes `hasattr(expression, 'sum')` return True when `expression` is a composition. Something should be done about it.

CC:  sage-combinat

Keywords: prelude, misc, staticmethod

Status: new

Issue created by migration from https://trac.sagemath.org/ticket/15163





---

archive/issue_comments_203355.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -17,7 +17,7 @@\n ```\n This should instead return 4 (the sum of the entries of the composition c31). This bug appears only interactively; in methods sum() is fine.\n \n-Keywords: prelude\n+The reason why this bug happens in this particular situation is that `sum` is defined as a `@`staticmethod in the `Composition` class. This method is not supposed to be called on a particular composition (it is a `@`staticmethod after all!), but nevertheless makes `hasattr(expression, 'sum'):` return True when `expression` is a composition. Something should be done about it.\n \n Comment: 1\n \n```\n",
    "created_at": "2013-09-05T21:00:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15163#issuecomment-203355",
    "user": "https://github.com/darijgr"
}
```

Description changed:
```diff
--- 
+++ 
@@ -17,7 +17,7 @@
 ```
 This should instead return 4 (the sum of the entries of the composition c31). This bug appears only interactively; in methods sum() is fine.
 
-Keywords: prelude
+The reason why this bug happens in this particular situation is that `sum` is defined as a `@`staticmethod in the `Composition` class. This method is not supposed to be called on a particular composition (it is a `@`staticmethod after all!), but nevertheless makes `hasattr(expression, 'sum'):` return True when `expression` is a composition. Something should be done about it.
 
 Comment: 1
 
```




---

archive/issue_comments_203356.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to misc.",
    "created_at": "2013-09-05T21:01:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15163#issuecomment-203356",
    "user": "https://github.com/darijgr"
}
```

Changing component from PLEASE CHANGE to misc.



---

archive/issue_comments_203357.json:
```json
{
    "body": "Changing keywords from \"prelude\" to \"prelude, misc, staticmethod\".",
    "created_at": "2013-09-05T21:01:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15163#issuecomment-203357",
    "user": "https://github.com/darijgr"
}
```

Changing keywords from "prelude" to "prelude, misc, staticmethod".



---

archive/issue_comments_203358.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,23 @@\n+```\n+sage: c31 = Composition([3,1])\n+sage: sum(c31)                \n+---------------------------------------------------------------------------\n+TypeError                                 Traceback (most recent call last)\n+<ipython-input-5-cd64b2e19a3e> in <module>()\n+----> 1 sum(c31)\n \n+/home/darij/sage-5.11.beta3/local/lib/python2.7/site-packages/sage/misc/functional.pyc in symbolic_sum(expression, *args, **kwds)\n+    652     \"\"\"\n+    653     if hasattr(expression, 'sum'):\n+--> 654         return expression.sum(*args, **kwds)\n+    655     elif len(args) <= 1:\n+    656         return sum(expression, *args)\n+\n+TypeError: sum() takes exactly 1 argument (0 given)\n+```\n+This should instead return 4 (the sum of the entries of the composition c31). This bug appears only interactively; in methods sum() is fine.\n+\n+The reason why this bug happens in this particular situation is that `sum` is defined as a `@`staticmethod in the `Composition` class. This method is not supposed to be called on a particular composition (it is a `@`staticmethod after all!), but nevertheless makes `hasattr(expression, 'sum')` return True when `expression` is a composition. Something should be done about it.\n \n Comment: 1\n \n```\n",
    "created_at": "2013-09-05T21:01:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15163#issuecomment-203358",
    "user": "https://github.com/darijgr"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,23 @@
+```
+sage: c31 = Composition([3,1])
+sage: sum(c31)                
+---------------------------------------------------------------------------
+TypeError                                 Traceback (most recent call last)
+<ipython-input-5-cd64b2e19a3e> in <module>()
+----> 1 sum(c31)
 
+/home/darij/sage-5.11.beta3/local/lib/python2.7/site-packages/sage/misc/functional.pyc in symbolic_sum(expression, *args, **kwds)
+    652     """
+    653     if hasattr(expression, 'sum'):
+--> 654         return expression.sum(*args, **kwds)
+    655     elif len(args) <= 1:
+    656         return sum(expression, *args)
+
+TypeError: sum() takes exactly 1 argument (0 given)
+```
+This should instead return 4 (the sum of the entries of the composition c31). This bug appears only interactively; in methods sum() is fine.
+
+The reason why this bug happens in this particular situation is that `sum` is defined as a `@`staticmethod in the `Composition` class. This method is not supposed to be called on a particular composition (it is a `@`staticmethod after all!), but nevertheless makes `hasattr(expression, 'sum')` return True when `expression` is a composition. Something should be done about it.
 
 Comment: 1
 
```




---

archive/issue_events_043727.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15163",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15163#event-43727"
}
```



---

archive/issue_events_043728.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15163",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15163#event-43728"
}
```



---

archive/issue_events_043729.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15163",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15163#event-43729"
}
```



---

archive/issue_events_043730.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15163",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15163#event-43730"
}
```



---

archive/issue_events_043731.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15163",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15163#event-43731"
}
```
