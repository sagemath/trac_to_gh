# Issue 15109: Remove unused files from module_list.py

archive/issues_014872.json:
```json
{
    "assignees": [],
    "body": "The file `devel/sage/sage/matrix/matrix_domain_dense.pyx` is not used for anything, so remove it (it was marked \"nodoctest\", so it wasn't tested either). Also remove other commented-out entries from `module_list.py`\n\n**Apply** [attachment: trac_15109_clean_distribution.patch\u200b](https://github.com/sagemath/sage/files/ticket15109/561ef01e7b4dd1022cb3cff6e1390c4b.gz)\n\nCC:  @jdemeyer\n\nKeywords: **failing doctests**\n\nReviewer: **Travis Scrimshaw, Jeroen Demeyer**\n\nAuthor: **Xavier Caruso**\n\nMerged: **sage-5.12.beta5**\n\nComponent: **doctest coverage**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15109_\n\n",
    "closed_at": "2013-09-02T10:24:42Z",
    "created_at": "2013-08-27T17:05:58Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/doctest%20coverage",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/doctest%20coverage"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.12",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Remove unused files from module_list.py",
    "type": "issue",
    "updated_at": "2013-09-02T10:24:42Z",
    "url": "https://github.com/sagemath/sage/issues/15109",
    "user": "https://github.com/xcaruso"
}
```
The file `devel/sage/sage/matrix/matrix_domain_dense.pyx` is not used for anything, so remove it (it was marked "nodoctest", so it wasn't tested either). Also remove other commented-out entries from `module_list.py`

**Apply** [attachment: trac_15109_clean_distribution.patchâ€‹](https://github.com/sagemath/sage/files/ticket15109/561ef01e7b4dd1022cb3cff6e1390c4b.gz)

CC:  @jdemeyer

Keywords: **failing doctests**

Reviewer: **Travis Scrimshaw, Jeroen Demeyer**

Author: **Xavier Caruso**

Merged: **sage-5.12.beta5**

Component: **doctest coverage**

_Issue created by migration from https://trac.sagemath.org/ticket/15109_





---

archive/issue_events_212575.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2013-08-27T17:05:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212575"
}
```



---

archive/issue_events_212576.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2013-08-27T17:05:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20doctest%20framework",
    "label_color": "0000b0",
    "label_name": "c: doctest framework",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212576"
}
```



---

archive/issue_events_212577.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2013-08-27T17:05:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212577"
}
```



---

archive/issue_events_212578.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2013-08-27T17:05:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212578"
}
```



---

archive/issue_events_212579.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2013-08-27T17:05:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/doctest%20coverage",
    "label_color": "696969",
    "label_name": "doctest coverage",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212579"
}
```



---

archive/issue_events_212580.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2013-08-27T17:39:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212580"
}
```



---

archive/issue_events_212581.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-08-28T02:23:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212581"
}
```



---

archive/issue_events_212582.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-08-28T02:23:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212582"
}
```



---

archive/issue_comments_185688.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2013-08-28T02:23:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185688",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_185689.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nPerhaps it's because the doctesting framework previously wasn't actually testing them since they aren't properly formatted as doctests? I really can't say. The patchbot didn't seem to catch these doctest failures as well...\n\nI also get failures on `5.12.beta3` (13 of them to be precise) and the last time this file was touched was #10028. I've cc-ed Jeroen to let him know about this and put this ticket as a blocker.\n\nIn any case, I think you should also do the following:\n\n- not remove any doctests and instead figure out what needs to be changed so they don't fail,\n- change the documentation so that it is formatted correctly,\n- put a proper commit message for the patch.\n\nBest,\n\nTravis",
    "created_at": "2013-08-28T02:23:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185689",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:2" align="right">comment:2</div>

Perhaps it's because the doctesting framework previously wasn't actually testing them since they aren't properly formatted as doctests? I really can't say. The patchbot didn't seem to catch these doctest failures as well...

I also get failures on `5.12.beta3` (13 of them to be precise) and the last time this file was touched was #10028. I've cc-ed Jeroen to let him know about this and put this ticket as a blocker.

In any case, I think you should also do the following:

- not remove any doctests and instead figure out what needs to be changed so they don't fail,
- change the documentation so that it is formatted correctly,
- put a proper commit message for the patch.

Best,

Travis



---

archive/issue_events_212583.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-08-28T02:23:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212583"
}
```



---

archive/issue_events_212584.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-08-28T02:23:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212584"
}
```



---

archive/issue_comments_185690.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@tscrim](#comment:2):\n> - not remove any doctests and instead figure out what needs to be changed so they don't fail,\n\nI tried actually to do it but it appears that:\n- the method `_assign_names` is obsolete (at least as it is used in the doctest) - but I can of course use `change_variable_name` instead\n- I don't know what the attribute `bound` is supposed to do but it doesn't appear in the method `charpoly` for matrices over fields.\n\nApart from that, I agree with your two other comments.",
    "created_at": "2013-08-28T05:29:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185690",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@tscrim](#comment:2):
> - not remove any doctests and instead figure out what needs to be changed so they don't fail,

I tried actually to do it but it appears that:
- the method `_assign_names` is obsolete (at least as it is used in the doctest) - but I can of course use `change_variable_name` instead
- I don't know what the attribute `bound` is supposed to do but it doesn't appear in the method `charpoly` for matrices over fields.

Apart from that, I agree with your two other comments.



---

archive/issue_comments_185691.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nRevised version of the patch posted.",
    "created_at": "2013-08-28T06:01:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185691",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:4" align="right">comment:4</div>

Revised version of the patch posted.



---

archive/issue_events_212585.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2013-08-28T06:01:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212585"
}
```



---

archive/issue_events_212586.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2013-08-28T06:01:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212586"
}
```



---

archive/issue_comments_185692.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIt seems that those tests (which tests really?) only fail for you, so you absolutely need to give more details.",
    "created_at": "2013-08-28T06:02:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185692",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

It seems that those tests (which tests really?) only fail for you, so you absolutely need to give more details.



---

archive/issue_comments_185693.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nOn a clean `sage-5.12.beta3`, I get:\n\n```\nsage@irma-cethop ~/sage-5.12.beta3/devel/sage/sage/matrix $ sage-5.12 -t matrix_domain_dense.pyx\nRunning doctests with ID 2013-08-28-08-09-58-e444f178.\nDoctesting 1 file.\nsage -t matrix_domain_dense.pyx\n**********************************************************************\nFile \"matrix_domain_dense.pyx\", line 67, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly\nFailed example:\n    R = PolynomialRing(IntegerRing(),2); x,y = R.gens()\nException raised:\n    Traceback (most recent call last):\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly[12]>\", line 1, in <module>\n        R = PolynomialRing(IntegerRing(),Integer(2)); x,y = R.gens()\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring_constructor.py\", line 448, in PolynomialRing\n        raise TypeError(\"You must specify the names of the variables.\")\n    TypeError: You must specify the names of the variables.\n**********************************************************************\nFile \"matrix_domain_dense.pyx\", line 68, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly\nFailed example:\n    A = MatrixSpace(R,2)([x, y, x^2, y^2])\nException raised:\n    Traceback (most recent call last):\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly[13]>\", line 1, in <module>\n        A = MatrixSpace(R,Integer(2))([x, y, x**Integer(2), y**Integer(2)])\n    NameError: name 'y' is not defined\n**********************************************************************\nFile \"matrix_domain_dense.pyx\", line 70, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly\nFailed example:\n    f\nExpected:\n    x^2 + (-1*x1^2 - x0)*x + x0*x1^2 - x0^2*x1\nGot:\n    x^2 - 5*x - 2\n**********************************************************************\nFile \"matrix_domain_dense.pyx\", line 75, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly\nFailed example:\n    f.parent()._assign_names(\"Z\")\nException raised:\n    Traceback (most recent call last):\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly[16]>\", line 1, in <module>\n        f.parent()._assign_names(\"Z\")\n      File \"parent_gens.pyx\", line 329, in sage.structure.parent_gens.ParentWithGens._assign_names (sage/structure/parent_gens.c:3464)\n      File \"category_object.pyx\", line 416, in sage.structure.category_object.CategoryObject._assign_names (sage/structure/category_object.c:4500)\n    ValueError: variable names cannot be changed after object creation.\n**********************************************************************\nFile \"matrix_domain_dense.pyx\", line 76, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly\nFailed example:\n    f\nExpected:\n    Z^2 + (-1*x1^2 - x0)*Z + x0*x1^2 - x0^2*x1\nGot:\n    x^2 - 5*x - 2\n**********************************************************************\nFile \"matrix_domain_dense.pyx\", line 82, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly\nFailed example:\n    A.charpoly(bound=2)\nException raised:\n    Traceback (most recent call last):\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly[19]>\", line 1, in <module>\n        A.charpoly(bound=Integer(2))\n      File \"matrix_integer_dense.pyx\", line 986, in sage.matrix.matrix_integer_dense.Matrix_integer_dense.charpoly (sage/matrix/matrix_integer_dense.c:11541)\n        def charpoly(self, var='x', algorithm='linbox'):\n    TypeError: charpoly() got an unexpected keyword argument 'bound'\n**********************************************************************\nFile \"matrix_domain_dense.pyx\", line 103, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.determinant\nFailed example:\n    R = PolynomialRing(IntegerRing(),2); x,y = R.gens()\nException raised:\n    Traceback (most recent call last):\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.determinant[0]>\", line 1, in <module>\n        R = PolynomialRing(IntegerRing(),Integer(2)); x,y = R.gens()\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring_constructor.py\", line 448, in PolynomialRing\n        raise TypeError(\"You must specify the names of the variables.\")\n    TypeError: You must specify the names of the variables.\n**********************************************************************\nFile \"matrix_domain_dense.pyx\", line 104, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.determinant\nFailed example:\n    A = MatrixSpace(R,2)([x, y, x**2, y**2])\nException raised:\n    Traceback (most recent call last):\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.determinant[1]>\", line 1, in <module>\n        A = MatrixSpace(R,Integer(2))([x, y, x**Integer(2), y**Integer(2)])\n      File \"classcall_metaclass.pyx\", line 330, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (sage/misc/classcall_metaclass.c:1224)\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/matrix/matrix_space.py\", line 215, in __classcall__\n        if base_ring not in _Rings:\n      File \"category_singleton.pyx\", line 81, in sage.categories.category_singleton.Category_contains_method_by_parent_class.__call__ (sage/categories/category_singleton.c:1428)\n    TypeError: descriptor 'category' of 'sage.structure.parent.Parent' object needs an argument\n**********************************************************************\nFile \"matrix_domain_dense.pyx\", line 105, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.determinant\nFailed example:\n    A.determinant()\nException raised:\n    Traceback (most recent call last):\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.determinant[2]>\", line 1, in <module>\n        A.determinant()\n    NameError: name 'A' is not defined\n**********************************************************************\nFile \"matrix_domain_dense.pyx\", line 142, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.is_invertible\nFailed example:\n    R = PolynomialRing(IntegerRing())\nException raised:\n    Traceback (most recent call last):\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.is_invertible[7]>\", line 1, in <module>\n        R = PolynomialRing(IntegerRing())\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring_constructor.py\", line 448, in PolynomialRing\n        raise TypeError(\"You must specify the names of the variables.\")\n    TypeError: You must specify the names of the variables.\n**********************************************************************\nFile \"matrix_domain_dense.pyx\", line 143, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.is_invertible\nFailed example:\n    x = R.gen()\nException raised:\n    Traceback (most recent call last):\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.is_invertible[8]>\", line 1, in <module>\n        x = R.gen()\n    AttributeError: type object 'R' has no attribute 'gen'\n**********************************************************************\nFile \"matrix_domain_dense.pyx\", line 144, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.is_invertible\nFailed example:\n    A = MatrixSpace(R,2)([1,x,0,-1])\nException raised:\n    Traceback (most recent call last):\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.is_invertible[9]>\", line 1, in <module>\n        A = MatrixSpace(R,Integer(2))([Integer(1),x,Integer(0),-Integer(1)])\n      File \"classcall_metaclass.pyx\", line 330, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (sage/misc/classcall_metaclass.c:1224)\n      File \"/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/matrix/matrix_space.py\", line 215, in __classcall__\n        if base_ring not in _Rings:\n      File \"category_singleton.pyx\", line 81, in sage.categories.category_singleton.Category_contains_method_by_parent_class.__call__ (sage/categories/category_singleton.c:1428)\n    TypeError: descriptor 'category' of 'sage.structure.parent.Parent' object needs an argument\n**********************************************************************\nFile \"matrix_domain_dense.pyx\", line 147, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.is_invertible\nFailed example:\n    ~A\nExpected:\n    [ 1  x]\n    [ 0 -1]\nGot:\n    [ 1 10]\n    [ 0 -1]\n**********************************************************************\n3 items had failures:\n   6 of  23 in sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly\n   3 of   4 in sage.matrix.matrix_domain_dense.Matrix_domain_dense.determinant\n   4 of  13 in sage.matrix.matrix_domain_dense.Matrix_domain_dense.is_invertible\n    [47 tests, 13 failures, 0.30 s]\n----------------------------------------------------------------------\nsage -t matrix_domain_dense.pyx  # 13 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 0.4 seconds\n    cpu time: 0.3 seconds\n    cumulative wall time: 0.3 seconds\n```",
    "created_at": "2013-08-28T06:11:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185693",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:6" align="right">comment:6</div>

On a clean `sage-5.12.beta3`, I get:

```
sage@irma-cethop ~/sage-5.12.beta3/devel/sage/sage/matrix $ sage-5.12 -t matrix_domain_dense.pyx
Running doctests with ID 2013-08-28-08-09-58-e444f178.
Doctesting 1 file.
sage -t matrix_domain_dense.pyx
**********************************************************************
File "matrix_domain_dense.pyx", line 67, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly
Failed example:
    R = PolynomialRing(IntegerRing(),2); x,y = R.gens()
Exception raised:
    Traceback (most recent call last):
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly[12]>", line 1, in <module>
        R = PolynomialRing(IntegerRing(),Integer(2)); x,y = R.gens()
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring_constructor.py", line 448, in PolynomialRing
        raise TypeError("You must specify the names of the variables.")
    TypeError: You must specify the names of the variables.
**********************************************************************
File "matrix_domain_dense.pyx", line 68, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly
Failed example:
    A = MatrixSpace(R,2)([x, y, x^2, y^2])
Exception raised:
    Traceback (most recent call last):
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly[13]>", line 1, in <module>
        A = MatrixSpace(R,Integer(2))([x, y, x**Integer(2), y**Integer(2)])
    NameError: name 'y' is not defined
**********************************************************************
File "matrix_domain_dense.pyx", line 70, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly
Failed example:
    f
Expected:
    x^2 + (-1*x1^2 - x0)*x + x0*x1^2 - x0^2*x1
Got:
    x^2 - 5*x - 2
**********************************************************************
File "matrix_domain_dense.pyx", line 75, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly
Failed example:
    f.parent()._assign_names("Z")
Exception raised:
    Traceback (most recent call last):
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly[16]>", line 1, in <module>
        f.parent()._assign_names("Z")
      File "parent_gens.pyx", line 329, in sage.structure.parent_gens.ParentWithGens._assign_names (sage/structure/parent_gens.c:3464)
      File "category_object.pyx", line 416, in sage.structure.category_object.CategoryObject._assign_names (sage/structure/category_object.c:4500)
    ValueError: variable names cannot be changed after object creation.
**********************************************************************
File "matrix_domain_dense.pyx", line 76, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly
Failed example:
    f
Expected:
    Z^2 + (-1*x1^2 - x0)*Z + x0*x1^2 - x0^2*x1
Got:
    x^2 - 5*x - 2
**********************************************************************
File "matrix_domain_dense.pyx", line 82, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly
Failed example:
    A.charpoly(bound=2)
Exception raised:
    Traceback (most recent call last):
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly[19]>", line 1, in <module>
        A.charpoly(bound=Integer(2))
      File "matrix_integer_dense.pyx", line 986, in sage.matrix.matrix_integer_dense.Matrix_integer_dense.charpoly (sage/matrix/matrix_integer_dense.c:11541)
        def charpoly(self, var='x', algorithm='linbox'):
    TypeError: charpoly() got an unexpected keyword argument 'bound'
**********************************************************************
File "matrix_domain_dense.pyx", line 103, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.determinant
Failed example:
    R = PolynomialRing(IntegerRing(),2); x,y = R.gens()
Exception raised:
    Traceback (most recent call last):
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.determinant[0]>", line 1, in <module>
        R = PolynomialRing(IntegerRing(),Integer(2)); x,y = R.gens()
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring_constructor.py", line 448, in PolynomialRing
        raise TypeError("You must specify the names of the variables.")
    TypeError: You must specify the names of the variables.
**********************************************************************
File "matrix_domain_dense.pyx", line 104, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.determinant
Failed example:
    A = MatrixSpace(R,2)([x, y, x**2, y**2])
Exception raised:
    Traceback (most recent call last):
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.determinant[1]>", line 1, in <module>
        A = MatrixSpace(R,Integer(2))([x, y, x**Integer(2), y**Integer(2)])
      File "classcall_metaclass.pyx", line 330, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (sage/misc/classcall_metaclass.c:1224)
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/matrix/matrix_space.py", line 215, in __classcall__
        if base_ring not in _Rings:
      File "category_singleton.pyx", line 81, in sage.categories.category_singleton.Category_contains_method_by_parent_class.__call__ (sage/categories/category_singleton.c:1428)
    TypeError: descriptor 'category' of 'sage.structure.parent.Parent' object needs an argument
**********************************************************************
File "matrix_domain_dense.pyx", line 105, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.determinant
Failed example:
    A.determinant()
Exception raised:
    Traceback (most recent call last):
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.determinant[2]>", line 1, in <module>
        A.determinant()
    NameError: name 'A' is not defined
**********************************************************************
File "matrix_domain_dense.pyx", line 142, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.is_invertible
Failed example:
    R = PolynomialRing(IntegerRing())
Exception raised:
    Traceback (most recent call last):
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.is_invertible[7]>", line 1, in <module>
        R = PolynomialRing(IntegerRing())
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring_constructor.py", line 448, in PolynomialRing
        raise TypeError("You must specify the names of the variables.")
    TypeError: You must specify the names of the variables.
**********************************************************************
File "matrix_domain_dense.pyx", line 143, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.is_invertible
Failed example:
    x = R.gen()
Exception raised:
    Traceback (most recent call last):
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.is_invertible[8]>", line 1, in <module>
        x = R.gen()
    AttributeError: type object 'R' has no attribute 'gen'
**********************************************************************
File "matrix_domain_dense.pyx", line 144, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.is_invertible
Failed example:
    A = MatrixSpace(R,2)([1,x,0,-1])
Exception raised:
    Traceback (most recent call last):
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.matrix.matrix_domain_dense.Matrix_domain_dense.is_invertible[9]>", line 1, in <module>
        A = MatrixSpace(R,Integer(2))([Integer(1),x,Integer(0),-Integer(1)])
      File "classcall_metaclass.pyx", line 330, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (sage/misc/classcall_metaclass.c:1224)
      File "/home2/sage/sage-5.12.beta3/local/lib/python2.7/site-packages/sage/matrix/matrix_space.py", line 215, in __classcall__
        if base_ring not in _Rings:
      File "category_singleton.pyx", line 81, in sage.categories.category_singleton.Category_contains_method_by_parent_class.__call__ (sage/categories/category_singleton.c:1428)
    TypeError: descriptor 'category' of 'sage.structure.parent.Parent' object needs an argument
**********************************************************************
File "matrix_domain_dense.pyx", line 147, in sage.matrix.matrix_domain_dense.Matrix_domain_dense.is_invertible
Failed example:
    ~A
Expected:
    [ 1  x]
    [ 0 -1]
Got:
    [ 1 10]
    [ 0 -1]
**********************************************************************
3 items had failures:
   6 of  23 in sage.matrix.matrix_domain_dense.Matrix_domain_dense.charpoly
   3 of   4 in sage.matrix.matrix_domain_dense.Matrix_domain_dense.determinant
   4 of  13 in sage.matrix.matrix_domain_dense.Matrix_domain_dense.is_invertible
    [47 tests, 13 failures, 0.30 s]
----------------------------------------------------------------------
sage -t matrix_domain_dense.pyx  # 13 doctests failed
----------------------------------------------------------------------
Total time for all tests: 0.4 seconds
    cpu time: 0.3 seconds
    cumulative wall time: 0.3 seconds
```



---

archive/issue_comments_185694.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@xcaruso](#comment:6):\n> On a clean `sage-5.12.beta3`\n\nAre you **very** sure about this? And is it reproducible?",
    "created_at": "2013-08-28T06:13:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185694",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@xcaruso](#comment:6):
> On a clean `sage-5.12.beta3`

Are you **very** sure about this? And is it reproducible?



---

archive/issue_events_212587.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-28T06:23:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212587"
}
```



---

archive/issue_events_212588.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-28T06:23:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212588"
}
```



---

archive/issue_comments_185695.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1 @@\n-It seems that there are some failing doctests in `sage.matrix.matrix_domain_dense`. (How is it possible?).\n-\n-I attach to this ticket a small patch fixing this.\n+The file `devel/sage/sage/matrix/matrix_domain_dense.pyx` is marked `nodoctest` for no obvious reason. Fix this and also fix some failing doctests and their formatting.\n``````\n",
    "created_at": "2013-08-28T06:23:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185695",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1 @@
-It seems that there are some failing doctests in `sage.matrix.matrix_domain_dense`. (How is it possible?).
-
-I attach to this ticket a small patch fixing this.
+The file `devel/sage/sage/matrix/matrix_domain_dense.pyx` is marked `nodoctest` for no obvious reason. Fix this and also fix some failing doctests and their formatting.
``````




---

archive/issue_events_212589.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-28T06:23:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20doctest%20framework",
    "label_color": "0000b0",
    "label_name": "c: doctest framework",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212589"
}
```



---

archive/issue_events_212590.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-28T06:23:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212590"
}
```



---

archive/issue_events_212591.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-28T06:23:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212591"
}
```



---

archive/issue_comments_185696.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThat `nodoctest` (together with a bunch of others) was introduced by\n\n```\nchangeset:   1775:0c9a4478bc53\nuser:        William Stein <wstein@gmail.com>\ndate:        Sun Nov 05 02:37:30 2006 -0800\nsummary:     Stabilizing SAGE (i.e., getting doctests to pass) after all these changes...\n```",
    "created_at": "2013-08-28T06:37:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185696",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

That `nodoctest` (together with a bunch of others) was introduced by

```
changeset:   1775:0c9a4478bc53
user:        William Stein <wstein@gmail.com>
date:        Sun Nov 05 02:37:30 2006 -0800
summary:     Stabilizing SAGE (i.e., getting doctests to pass) after all these changes...
```



---

archive/issue_comments_185697.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nAhhh I see. I was thinking that was only for that block and not the whole file and explains why it was not tested by `testall`/the patchbot. Thank you for clarifying Jeroen.",
    "created_at": "2013-08-28T06:37:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185697",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">comment:10</div>

Ahhh I see. I was thinking that was only for that block and not the whole file and explains why it was not tested by `testall`/the patchbot. Thank you for clarifying Jeroen.



---

archive/issue_comments_185698.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n The file `devel/sage/sage/matrix/matrix_domain_dense.pyx` is marked `nodoctest` for no obvious reason. Fix this and also fix some failing doctests and their formatting.\n+\n+While we're at it, remove `nodoctest` from `sage/schemes/affine/all.py` and `sage/schemes/projective/all.py` which have no doctests anyway...\n``````\n",
    "created_at": "2013-08-28T06:39:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185698",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 The file `devel/sage/sage/matrix/matrix_domain_dense.pyx` is marked `nodoctest` for no obvious reason. Fix this and also fix some failing doctests and their formatting.
+
+While we're at it, remove `nodoctest` from `sage/schemes/affine/all.py` and `sage/schemes/projective/all.py` which have no doctests anyway...
``````




---

archive/issue_comments_185699.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThis looks like a reasonable test which should be kept:\n\n```\nsage: A = 1000*MatrixSpace(ZZ,10)(range(100))\nsage: A.charpoly('x')\nx^10 - 495000*x^9 - 8250000000*x^8\n```",
    "created_at": "2013-08-28T06:47:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185699",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

This looks like a reasonable test which should be kept:

```
sage: A = 1000*MatrixSpace(ZZ,10)(range(100))
sage: A.charpoly('x')
x^10 - 495000*x^9 - 8250000000*x^8
```



---

archive/issue_comments_185700.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\n\"we rename use another name\" isn't proper English.",
    "created_at": "2013-08-28T06:47:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185700",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

"we rename use another name" isn't proper English.



---

archive/issue_comments_185701.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI personally prefer `ZZ` to `IntegerRing()` but that's just a choice.",
    "created_at": "2013-08-28T06:49:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185701",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

I personally prefer `ZZ` to `IntegerRing()` but that's just a choice.



---

archive/issue_comments_185702.json:
```json
{
    "body": "Changed reviewer from **Travis Scrimshaw** to **Travis Scrimshaw, Jeroen Demeyer**",
    "created_at": "2013-08-28T06:51:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185702",
    "user": "https://github.com/jdemeyer"
}
```

Changed reviewer from **Travis Scrimshaw** to **Travis Scrimshaw, Jeroen Demeyer**



---

archive/issue_comments_185703.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nIf you make these changes and remove the `nodoctest` from the 3 files mentioned in the ticket description, I'll give a final review.",
    "created_at": "2013-08-28T06:51:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185703",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

If you make these changes and remove the `nodoctest` from the 3 files mentioned in the ticket description, I'll give a final review.



---

archive/issue_comments_185704.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nDone.",
    "created_at": "2013-08-28T07:58:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185704",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:16" align="right">comment:16</div>

Done.



---

archive/issue_events_212592.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2013-08-28T07:58:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212592"
}
```



---

archive/issue_events_212593.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2013-08-28T07:58:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212593"
}
```



---

archive/issue_comments_185705.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOne more detail: `TESTS:` should be `TESTS::`",
    "created_at": "2013-08-28T08:52:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185705",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

One more detail: `TESTS:` should be `TESTS::`



---

archive/issue_comments_185706.json:
```json
{
    "body": "Attachment: **[trac_15109_failing_doctests.patch.gz](https://github.com/sagemath/sage/files/ticket15109/trac_15109_failing_doctests.patch.gz)**",
    "created_at": "2013-08-28T12:52:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185706",
    "user": "https://github.com/xcaruso"
}
```

Attachment: **[trac_15109_failing_doctests.patch.gz](https://github.com/sagemath/sage/files/ticket15109/trac_15109_failing_doctests.patch.gz)**



---

archive/issue_comments_185707.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nFixed.",
    "created_at": "2013-08-28T12:53:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185707",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:18" align="right">comment:18</div>

Fixed.



---

archive/issue_events_212594.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-28T13:45:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212594"
}
```



---

archive/issue_events_212595.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-28T13:45:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212595"
}
```



---

archive/issue_comments_185708.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nSo it turns out that `matrix_domain_dense.pyx` is currently not built as part of Sage. When you apply the patch, no cython files are rebuilt, and I tried to add it to the documentation but got a \"cannot find file\" error. This is why it wasn't doctested (and whose doctests are not actually testing the file) and I'm thinking this file is obsolete and should be removed.",
    "created_at": "2013-08-28T16:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185708",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:20" align="right">comment:20</div>

So it turns out that `matrix_domain_dense.pyx` is currently not built as part of Sage. When you apply the patch, no cython files are rebuilt, and I tried to add it to the documentation but got a "cannot find file" error. This is why it wasn't doctested (and whose doctests are not actually testing the file) and I'm thinking this file is obsolete and should be removed.



---

archive/issue_events_212596.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-08-28T16:50:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212596"
}
```



---

archive/issue_events_212597.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-08-28T16:50:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212597"
}
```



---

archive/issue_comments_185709.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nThis module is actually not included in `module_list.py`:\n\n```\n#Extension('sage.matrix.matrix_domain_dense',\n#          sources = ['sage/matrix/matrix_domain_dense.pyx']),\n```\n\nIt's the same for the module `sage.matrix.matrix_domain_sparse`. Should we remove the two corresponding files from the distribution?\n\n\nBy the way, the following commented lines in `modules_list.py` do not correspond to actual files:\n\n```\n#Extension('sage.matrix.matrix_cyclo_sparse',\n#          sources = ['sage/matrix/matrix_cyclo_sparse.pyx']),\n\n#Extension('sage.matrix.matrix_pid_dense',\n#          sources = ['sage/matrix/matrix_pid_dense.pyx']),\n              \n#Extension('sage.matrix.matrix_pid_sparse',\n#          sources = ['sage/matrix/matrix_pid_sparse.pyx']),\n\n#Extension('sage.matrix.padics.matrix_padic_capped_relative_dense',\n#          sources = ['sage/matrix/padics/matrix_padic_capped_relative_dense.pyx']),\n\n#Extension('sage.rings.real_rqdf',\n#          sources = [\"sage/rings/real_rqdf.pyx\"],\n#          libraries = ['qd', 'm', 'stdc++','gmp','mpfr' ],\n#          language='c++'),\n```\n\nCan we delete them?",
    "created_at": "2013-08-28T17:02:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185709",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:21" align="right">comment:21</div>

This module is actually not included in `module_list.py`:

```
#Extension('sage.matrix.matrix_domain_dense',
#          sources = ['sage/matrix/matrix_domain_dense.pyx']),
```

It's the same for the module `sage.matrix.matrix_domain_sparse`. Should we remove the two corresponding files from the distribution?


By the way, the following commented lines in `modules_list.py` do not correspond to actual files:

```
#Extension('sage.matrix.matrix_cyclo_sparse',
#          sources = ['sage/matrix/matrix_cyclo_sparse.pyx']),

#Extension('sage.matrix.matrix_pid_dense',
#          sources = ['sage/matrix/matrix_pid_dense.pyx']),
              
#Extension('sage.matrix.matrix_pid_sparse',
#          sources = ['sage/matrix/matrix_pid_sparse.pyx']),

#Extension('sage.matrix.padics.matrix_padic_capped_relative_dense',
#          sources = ['sage/matrix/padics/matrix_padic_capped_relative_dense.pyx']),

#Extension('sage.rings.real_rqdf',
#          sources = ["sage/rings/real_rqdf.pyx"],
#          libraries = ['qd', 'm', 'stdc++','gmp','mpfr' ],
#          language='c++'),
```

Can we delete them?



---

archive/issue_comments_185710.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThe sparse is just a shell class which just inherits from the general matrix class. I'm thinking we should delete them both and remove the commented out lines.",
    "created_at": "2013-08-28T17:20:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185710",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:22" align="right">comment:22</div>

The sparse is just a shell class which just inherits from the general matrix class. I'm thinking we should delete them both and remove the commented out lines.



---

archive/issue_comments_185711.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nGood point, I hadn't noticed that that file is unused. +1 to completely removing it.",
    "created_at": "2013-08-29T06:49:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185711",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

Good point, I hadn't noticed that that file is unused. +1 to completely removing it.



---

archive/issue_comments_185712.json:
```json
{
    "body": "Attachment: **[trac_15109_clean_distribution.patch.gz](https://github.com/sagemath/sage/files/ticket15109/trac_15109_clean_distribution.patch.gz)**",
    "created_at": "2013-08-29T08:01:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185712",
    "user": "https://github.com/xcaruso"
}
```

Attachment: **[trac_15109_clean_distribution.patch.gz](https://github.com/sagemath/sage/files/ticket15109/trac_15109_clean_distribution.patch.gz)**



---

archive/issue_comments_185713.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nOk, let's do it.\n\napply only trac_15109_clean_distribution.patch",
    "created_at": "2013-08-29T08:09:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185713",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:24" align="right">comment:24</div>

Ok, let's do it.

apply only trac_15109_clean_distribution.patch



---

archive/issue_comments_185714.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nLooks good to me.",
    "created_at": "2013-08-29T17:09:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185714",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:25" align="right">comment:25</div>

Looks good to me.



---

archive/issue_events_212598.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-08-29T17:09:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212598"
}
```



---

archive/issue_events_212599.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-08-29T17:09:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212599"
}
```



---

archive/issue_events_212600.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-30T08:38:20Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "title_is": "Remove unused files from module_list.py",
    "title_was": "Failing doctests in sage.matrix.matrix_domain_dense",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212600"
}
```



---

archive/issue_comments_185715.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-The file `devel/sage/sage/matrix/matrix_domain_dense.pyx` is marked `nodoctest` for no obvious reason. Fix this and also fix some failing doctests and their formatting.\n+The file `devel/sage/sage/matrix/matrix_domain_dense.pyx` is not used for anything, so remove it (it was marked \"nodoctest\", so it wasn't tested either). Also remove other commented-out entries from `module_list.py`\n \n-While we're at it, remove `nodoctest` from `sage/schemes/affine/all.py` and `sage/schemes/projective/all.py` which have no doctests anyway...\n+**Apply** [attachment: trac_15109_clean_distribution.patch\u200b](https://github.com/sagemath/sage/files/ticket15109/561ef01e7b4dd1022cb3cff6e1390c4b.gz)\n``````\n",
    "created_at": "2013-08-30T08:38:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185715",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-The file `devel/sage/sage/matrix/matrix_domain_dense.pyx` is marked `nodoctest` for no obvious reason. Fix this and also fix some failing doctests and their formatting.
+The file `devel/sage/sage/matrix/matrix_domain_dense.pyx` is not used for anything, so remove it (it was marked "nodoctest", so it wasn't tested either). Also remove other commented-out entries from `module_list.py`
 
-While we're at it, remove `nodoctest` from `sage/schemes/affine/all.py` and `sage/schemes/projective/all.py` which have no doctests anyway...
+**Apply** [attachment: trac_15109_clean_distribution.patchâ€‹](https://github.com/sagemath/sage/files/ticket15109/561ef01e7b4dd1022cb3cff6e1390c4b.gz)
``````




---

archive/issue_events_212601.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-09-02T10:24:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212601"
}
```



---

archive/issue_events_212602.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-09-02T10:24:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15109#event-212602"
}
```



---

archive/issue_comments_185716.json:
```json
{
    "body": "Merged: **sage-5.12.beta5**",
    "created_at": "2013-09-02T10:24:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15109#issuecomment-185716",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.12.beta5**
