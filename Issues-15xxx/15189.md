# Issue 15189: LinearMatroid.is_field_isomorphic fails on some occasions

archive/issues_014952.json:
```json
{
    "body": "The following code should return False:\n\n```\nsage: M = Matroid(ring=GF(5), reduced_matrix=[[1,0,3],[0,1,1],[1,1,0]])\nsage: N = Matroid(ring=GF(5), reduced_matrix=[[1,0,1],[0,1,1],[1,1,0]])\nsage: M.is_field_isomorphic(N)\nTrue\n```\n\nIndeed:\n\n```\nsage: any(M.is_field_isomorphism(N, p) for p in Permutations(range(6)))\nFalse\n```\n\nThe cause is a recursive call gone wrong in set_system.pyx.\n\napply trac_15189_field_isom_fix.patch\u200b\n\n**CC:**  yomcat\n\n**Reviewer:** Michael Welsh\n\n**Author:** Stefan van Zwam\n\n**Merged:** sage-5.12.rc1\n\nIssue created by migration from https://trac.sagemath.org/ticket/15189\n\n",
    "closed_at": "2013-10-04T07:39:57Z",
    "created_at": "2013-09-12T16:50:53Z",
    "labels": [
        "component: matroid theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.12",
    "title": "LinearMatroid.is_field_isomorphic fails on some occasions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15189",
    "user": "https://trac.sagemath.org/admin/accounts/users/Stefan"
}
```
The following code should return False:

```
sage: M = Matroid(ring=GF(5), reduced_matrix=[[1,0,3],[0,1,1],[1,1,0]])
sage: N = Matroid(ring=GF(5), reduced_matrix=[[1,0,1],[0,1,1],[1,1,0]])
sage: M.is_field_isomorphic(N)
True
```

Indeed:

```
sage: any(M.is_field_isomorphism(N, p) for p in Permutations(range(6)))
False
```

The cause is a recursive call gone wrong in set_system.pyx.

apply trac_15189_field_isom_fix.patch​

**CC:**  yomcat

**Reviewer:** Michael Welsh

**Author:** Stefan van Zwam

**Merged:** sage-5.12.rc1

Issue created by migration from https://trac.sagemath.org/ticket/15189





---

archive/issue_comments_230673.json:
```json
{
    "body": "**Branch:** [u/Stefan/ticket/15189](https://github.com/sagemath/sagetrac-mirror/tree/u/Stefan/ticket/15189)",
    "created_at": "2013-09-12T21:59:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15189#issuecomment-230673",
    "user": "https://trac.sagemath.org/admin/accounts/users/Stefan"
}
```

**Branch:** [u/Stefan/ticket/15189](https://github.com/sagemath/sagetrac-mirror/tree/u/Stefan/ticket/15189)



---

archive/issue_comments_230674.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2013-09-12T22:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15189#issuecomment-230674",
    "user": "https://trac.sagemath.org/admin/accounts/users/Stefan"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_230675.json:
```json
{
    "body": "<a id='comment:4'></a>\nHow do I review this? I can't seem to get the Branch thing working (when I click on it, I either need to browse through a file system too much to find the changes, or get a blank page).",
    "created_at": "2013-09-15T03:46:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15189#issuecomment-230675",
    "user": "https://trac.sagemath.org/admin/accounts/users/yomcat"
}
```

<a id='comment:4'></a>
How do I review this? I can't seem to get the Branch thing working (when I click on it, I either need to browse through a file system too much to find the changes, or get a blank page).



---

archive/issue_comments_230676.json:
```json
{
    "body": "<a id='comment:5'></a>\nBy clicking on (Commits) in the Branch field, and selecting the appropriate diffs (topmost versus second from top) you can view my changes. \n\nOtherwise, I'm still learning this whole process. Apparently the Branch link being colored red is a bad thing (it was green when I first uploaded this)...\n\nFor the record, to create this patch I followed instructions here:\n\nhttp://trac.sagemath.org/wiki/QuickStartSageGit\n\nAnd then here:\n\nhttp://sagemath.github.io/git-developer-guide/walk_through.html",
    "created_at": "2013-09-15T12:48:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15189#issuecomment-230676",
    "user": "https://trac.sagemath.org/admin/accounts/users/Stefan"
}
```

<a id='comment:5'></a>
By clicking on (Commits) in the Branch field, and selecting the appropriate diffs (topmost versus second from top) you can view my changes. 

Otherwise, I'm still learning this whole process. Apparently the Branch link being colored red is a bad thing (it was green when I first uploaded this)...

For the record, to create this patch I followed instructions here:

http://trac.sagemath.org/wiki/QuickStartSageGit

And then here:

http://sagemath.github.io/git-developer-guide/walk_through.html



---

archive/issue_comments_230677.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2013-09-30T19:21:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15189#issuecomment-230677",
    "user": "https://trac.sagemath.org/admin/accounts/users/Stefan"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_230678.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n-ADD DESCRIPTION\n-\n The following code should return False:\n \n ```\n``````\n",
    "created_at": "2013-09-30T19:21:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15189#issuecomment-230678",
    "user": "https://trac.sagemath.org/admin/accounts/users/Stefan"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
-ADD DESCRIPTION
-
 The following code should return False:
 
 ```
``````




---

archive/issue_comments_230679.json:
```json
{
    "body": "**Changing branch** from \"[u/Stefan/ticket/15189](https://github.com/sagemath/sagetrac-mirror/tree/u/Stefan/ticket/15189)\" to \"\".",
    "created_at": "2013-09-30T19:21:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15189#issuecomment-230679",
    "user": "https://trac.sagemath.org/admin/accounts/users/Stefan"
}
```

**Changing branch** from "[u/Stefan/ticket/15189](https://github.com/sagemath/sagetrac-mirror/tree/u/Stefan/ticket/15189)" to "".



---

archive/issue_comments_230680.json:
```json
{
    "body": "**Author:** Stefan van Zwam",
    "created_at": "2013-09-30T19:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15189#issuecomment-230680",
    "user": "https://trac.sagemath.org/admin/accounts/users/Stefan"
}
```

**Author:** Stefan van Zwam



---

archive/issue_comments_230681.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2013-09-30T19:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15189#issuecomment-230681",
    "user": "https://trac.sagemath.org/admin/accounts/users/Stefan"
}
```

**Changing status** from needs_work to needs_review.



---

archive/attachments_020315.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_15189_field_isom_fix.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket15189/trac_15189_field_isom_fix.patch",
    "created_at": "2013-09-30T19:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/Stefan"
}
```



---

archive/issue_comments_230682.json:
```json
{
    "body": "<a id='comment:7'></a>\nOk, I chickened out of the Git development process for now and uploaded a good, old-fashioned patch.",
    "created_at": "2013-09-30T19:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15189#issuecomment-230682",
    "user": "https://trac.sagemath.org/admin/accounts/users/Stefan"
}
```

<a id='comment:7'></a>
Ok, I chickened out of the Git development process for now and uploaded a good, old-fashioned patch.



---

archive/issue_comments_230683.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -15,3 +15,5 @@\n ```\n \n The cause is a recursive call gone wrong in set_system.pyx.\n+\n+apply trac_15189_field_isom_fix.patch\u200b\n``````\n",
    "created_at": "2013-09-30T19:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15189#issuecomment-230683",
    "user": "https://trac.sagemath.org/admin/accounts/users/Stefan"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -15,3 +15,5 @@
 ```
 
 The cause is a recursive call gone wrong in set_system.pyx.
+
+apply trac_15189_field_isom_fix.patch​
``````




---

archive/issue_comments_230684.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2013-09-30T20:42:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15189#issuecomment-230684",
    "user": "https://trac.sagemath.org/admin/accounts/users/yomcat"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_230685.json:
```json
{
    "body": "**Reviewer:** Michael Welsh",
    "created_at": "2013-09-30T20:42:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15189#issuecomment-230685",
    "user": "https://trac.sagemath.org/admin/accounts/users/yomcat"
}
```

**Reviewer:** Michael Welsh



---

archive/issue_comments_230686.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [Stefan](#comment%3A7):\n> Ok, I chickened out of the Git development process for now and uploaded a good, old-fashioned patch.\n\nI was going to get round to the git stuff eventually... :)\n\nAll good now.",
    "created_at": "2013-09-30T20:42:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15189#issuecomment-230686",
    "user": "https://trac.sagemath.org/admin/accounts/users/yomcat"
}
```

<a id='comment:8'></a>
Replying to [Stefan](#comment%3A7):
> Ok, I chickened out of the Git development process for now and uploaded a good, old-fashioned patch.

I was going to get round to the git stuff eventually... :)

All good now.



---

archive/issue_events_049841.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-01T07:15:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "milestone": "sage-5.13",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15189#event-49841"
}
```



---

archive/issue_comments_230687.json:
```json
{
    "body": "<a id='comment:10'></a>\nReally? It's just a one-line fix (plus doctest) in a quite isolated part of Sage...",
    "created_at": "2013-10-01T12:12:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15189#issuecomment-230687",
    "user": "https://trac.sagemath.org/admin/accounts/users/Stefan"
}
```

<a id='comment:10'></a>
Really? It's just a one-line fix (plus doctest) in a quite isolated part of Sage...



---

archive/issue_events_049842.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-02T19:08:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "milestone": "sage-5.13",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15189#event-49842"
}
```



---

archive/issue_events_049843.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-02T19:08:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15189#event-49843"
}
```



---

archive/issue_comments_230688.json:
```json
{
    "body": "**Merged:** sage-5.12.rc1",
    "created_at": "2013-10-04T07:39:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15189#issuecomment-230688",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.12.rc1



---

archive/issue_events_049844.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-04T07:39:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15189#event-49844"
}
```



---

archive/issue_comments_230689.json:
```json
{
    "body": "<a id='comment:13'></a>\nAwesome, thanks!",
    "created_at": "2013-10-07T18:07:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15189",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15189#issuecomment-230689",
    "user": "https://trac.sagemath.org/admin/accounts/users/Stefan"
}
```

<a id='comment:13'></a>
Awesome, thanks!
