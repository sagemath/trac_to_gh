# Issue 15617: Update ncurses to dev version 5.9-20131221

archive/issues_015380.json:
```json
{
    "assignees": [],
    "body": "This dev release includes a (large) bunch of various fixes, inlcuding those needed for #15317 (Cygwin) and #15268 (Solaris).\n\nUse (vanilla, only renamed and recompressed to get rid of the dash in the version number) tarball at:\n* http://boxen.math.washington.edu/home/jpflori/upstream/ncurses-5.9.20131221.tar.bz2\n\nCC:  @vbraun @dimpase\n\nComponent: **packages: standard**\n\nKeywords: **spkg ncurses**\n\nAuthor: **Jean-Pierre Flori**\n\nBranch/Commit: **[u/jpflori/ticket/15617](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/15617) @ [`45bb195`](https://github.com/sagemath/sagetrac-mirror/commit/45bb1958462a55cef417859e02b2d2ab2a8d05e3)**\n\nReviewer: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15617_\n\n",
    "closed_at": "2014-02-02T16:57:21Z",
    "created_at": "2014-01-01T20:00:32Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Update ncurses to dev version 5.9-20131221",
    "type": "issue",
    "updated_at": "2014-02-07T11:53:56Z",
    "url": "https://github.com/sagemath/sage/issues/15617",
    "user": "https://github.com/jpflori"
}
```
This dev release includes a (large) bunch of various fixes, inlcuding those needed for #15317 (Cygwin) and #15268 (Solaris).

Use (vanilla, only renamed and recompressed to get rid of the dash in the version number) tarball at:
* http://boxen.math.washington.edu/home/jpflori/upstream/ncurses-5.9.20131221.tar.bz2

CC:  @vbraun @dimpase

Component: **packages: standard**

Keywords: **spkg ncurses**

Author: **Jean-Pierre Flori**

Branch/Commit: **[u/jpflori/ticket/15617](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/15617) @ [`45bb195`](https://github.com/sagemath/sagetrac-mirror/commit/45bb1958462a55cef417859e02b2d2ab2a8d05e3)**

Reviewer: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/15617_





---

archive/issue_events_220664.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2014-01-01T20:00:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15617#event-220664"
}
```



---

archive/issue_events_220665.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2014-01-01T20:00:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15617#event-220665"
}
```



---

archive/issue_events_220666.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2014-01-01T20:00:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15617#event-220666"
}
```



---

archive/issue_events_220667.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2014-01-01T20:00:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15617#event-220667"
}
```



---

archive/issue_comments_195938.json:
```json
{
    "body": "Commit: **[`45bb195`](https://github.com/sagemath/sagetrac-mirror/commit/45bb1958462a55cef417859e02b2d2ab2a8d05e3)**",
    "created_at": "2014-01-01T20:21:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15617#issuecomment-195938",
    "user": "https://github.com/jpflori"
}
```

Commit: **[`45bb195`](https://github.com/sagemath/sagetrac-mirror/commit/45bb1958462a55cef417859e02b2d2ab2a8d05e3)**



---

archive/issue_comments_195939.json:
```json
{
    "body": "Branch: **[u/jpflori/ticket/15617](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/15617)**",
    "created_at": "2014-01-01T20:21:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15617#issuecomment-195939",
    "user": "https://github.com/jpflori"
}
```

Branch: **[u/jpflori/ticket/15617](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/15617)**



---

archive/issue_comments_195940.json:
```json
{
    "body": "Changed keywords from none to **spkg ncurses**",
    "created_at": "2014-01-01T20:21:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15617#issuecomment-195940",
    "user": "https://github.com/jpflori"
}
```

Changed keywords from none to **spkg ncurses**



---

archive/issue_comments_195941.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nThe code about no-cpp-precomp flag was modified and after a very quick look our patch should not be needed anymore on OS X.\nI did not check it was the case yet, but I'll quickly give it a shot on bsd.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45bb195\"><code>45bb195</code></a></td><td><code>Update ncurses to dev version 5.9-20131221.</code></td></tr></table>\n",
    "created_at": "2014-01-01T20:21:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15617#issuecomment-195941",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:1" align="right">comment:1</div>

The code about no-cpp-precomp flag was modified and after a very quick look our patch should not be needed anymore on OS X.
I did not check it was the case yet, but I'll quickly give it a shot on bsd.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45bb195"><code>45bb195</code></a></td><td><code>Update ncurses to dev version 5.9-20131221.</code></td></tr></table>




---

archive/issue_comments_195942.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This dev release includes a (large) bunch of various fixes, inlcuding those needed for #15317 and #15268.\n+This dev release includes a (large) bunch of various fixes, inlcuding those needed for #15317 (Cygwin) and #15268 (Solaris).\n \n-Use (vanilla, only renamed) tarball at:\n-* http://boxen.math.washington.edu/home/jpflori/ncurses-5.9-20131221.tar.gz\n+Use (vanilla, only renamed and recompressed to get rid of the dash in the version number) tarball at:\n+* http://boxen.math.washington.edu/home/jpflori/upstream/ncurses-5.9.20131221.tar.bz2\n``````\n",
    "created_at": "2014-01-01T20:21:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15617#issuecomment-195942",
    "user": "https://github.com/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This dev release includes a (large) bunch of various fixes, inlcuding those needed for #15317 and #15268.
+This dev release includes a (large) bunch of various fixes, inlcuding those needed for #15317 (Cygwin) and #15268 (Solaris).
 
-Use (vanilla, only renamed) tarball at:
-* http://boxen.math.washington.edu/home/jpflori/ncurses-5.9-20131221.tar.gz
+Use (vanilla, only renamed and recompressed to get rid of the dash in the version number) tarball at:
+* http://boxen.math.washington.edu/home/jpflori/upstream/ncurses-5.9.20131221.tar.bz2
``````




---

archive/issue_events_220668.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2014-01-01T20:21:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15617#event-220668"
}
```



---

archive/issue_comments_195943.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nFYI, it built correctly on bsd\nSo no reason to hold on.",
    "created_at": "2014-01-02T09:59:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15617#issuecomment-195943",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:2" align="right">comment:2</div>

FYI, it built correctly on bsd
So no reason to hold on.



---

archive/issue_events_220669.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-01-04T05:06:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15617#event-220669"
}
```



---

archive/issue_events_220670.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-01-04T05:06:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15617#event-220670"
}
```



---

archive/issue_comments_195944.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2014-01-04T05:06:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15617#issuecomment-195944",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_195945.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nIt works for me on cygwin (both 32 and 64). Since it built okay on BSD, I'm giving this a positive review.",
    "created_at": "2014-01-04T05:06:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15617#issuecomment-195945",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:3" align="right">comment:3</div>

It works for me on cygwin (both 32 and 64). Since it built okay on BSD, I'm giving this a positive review.



---

archive/issue_events_220671.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15617#event-220671"
}
```



---

archive/issue_events_220672.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15617#event-220672"
}
```



---

archive/issue_events_220673.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-02T16:57:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15617#event-220673"
}
```



---

archive/issue_events_220674.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "cc4c7a43ddd0006f7ee236d767149c755d5c5f88",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-02-02T16:57:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15617#event-220674"
}
```



---

archive/issue_comments_195946.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThis fails on mark/skynet: http://build.sagemath.org/sage/builders/%20%20slow%20Skynet%20mark%20%28SunOS%205.10-32%29%20full/builds/17/steps/compile_1/logs/ncurses. Please open another ticket to fix or I'll have to back this branch out again.",
    "created_at": "2014-02-03T16:28:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15617#issuecomment-195946",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:6" align="right">comment:6</div>

This fails on mark/skynet: http://build.sagemath.org/sage/builders/%20%20slow%20Skynet%20mark%20%28SunOS%205.10-32%29%20full/builds/17/steps/compile_1/logs/ncurses. Please open another ticket to fix or I'll have to back this branch out again.



---

archive/issue_comments_195947.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI think I got it: once again XOPEN_SOURCE stuff is passed to g++ through CPPFLAGS.\nNot sure if the bug is upstream or from autotools.",
    "created_at": "2014-02-03T17:06:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15617#issuecomment-195947",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:7" align="right">comment:7</div>

I think I got it: once again XOPEN_SOURCE stuff is passed to g++ through CPPFLAGS.
Not sure if the bug is upstream or from autotools.



---

archive/issue_comments_195948.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nFollow-up ticket is #15796",
    "created_at": "2014-02-07T11:53:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15617#issuecomment-195948",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:8" align="right">comment:8</div>

Follow-up ticket is #15796
