# Issue 15216: Parking functions reject their offspring

archive/issues_014979.json:
```json
{
    "assignees": [],
    "body": "\n```\nsage: [1,1,1] in ParkingFunctions(3)\nTrue\nsage: ParkingFunctions(3)([1,1,1]) in ParkingFunctions(3)\nFalse\nsage: ParkingFunctions(3)([1,1,1]) in ParkingFunctions()\nFalse\nsage: ParkingFunctions()([1,1,1]) in ParkingFunctions()\nFalse\nsage: ParkingFunctions(3)(ParkingFunctions(3)([1,1,1]))\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-57-e5b6b3a9c099> in <module>()\n----> 1 ParkingFunctions(Integer(3))(ParkingFunctions(Integer(3))([Integer(1),Integer(1),Integer(1)]))\n\n/home/darij/sage-5.12.beta5/local/lib/python2.7/site-packages/sage/combinat/combinat.pyc in __call__(self, x)\n   1371             return self._element_constructor_(x)\n   1372         else:\n-> 1373             raise ValueError, \"%s not in %s\"%(x, self)\n   1374 \n   1375     Element = CombinatorialObject # mostly for backward compatibility\n\nValueError: [1, 1, 1] not in Parking functions of size 3\nsage: ParkingFunctions()(ParkingFunctions()([1,1,1]))\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-58-39833821920e> in <module>()\n----> 1 ParkingFunctions()(ParkingFunctions()([Integer(1),Integer(1),Integer(1)]))\n\n/home/darij/sage-5.12.beta5/local/lib/python2.7/site-packages/sage/combinat/combinat.pyc in __call__(self, x)\n   1371             return self._element_constructor_(x)\n   1372         else:\n-> 1373             raise ValueError, \"%s not in %s\"%(x, self)\n   1374 \n   1375     Element = CombinatorialObject # mostly for backward compatibility\n\nValueError: [1, 1, 1] not in Parking functions\n```\n\nAlso, the docstring of `ParkingFunction` is wrong; this method returns elements, not the class.\n\nThe call `ParkingFunction([1]).diagonal_reading_word()` results in a ValueError; I don't think it should. That, and its docstring shouldn't refer to its pretty print for the definition.\n\nTravis, are you planning to give `parking_function.py` the #12913 treatment?\n\nCC:  @tscrim @sagetrac-sage-combinat @zabrocki @slel\n\nKeywords: **sage-combinat, parking function, combinatorialclass**\n\nBranch/Commit: **[`e9b9df4`](https://github.com/sagemath/sagetrac-mirror/commit/e9b9df48030b061b2f66bd06c8d80d8e4b9ac4f0)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15216_\n\n",
    "closed_at": "2021-05-27T20:30:41Z",
    "created_at": "2013-09-22T01:44:50Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Parking functions reject their offspring",
    "type": "issue",
    "updated_at": "2021-05-27T20:30:41Z",
    "url": "https://github.com/sagemath/sage/issues/15216",
    "user": "https://github.com/darijgr"
}
```

```
sage: [1,1,1] in ParkingFunctions(3)
True
sage: ParkingFunctions(3)([1,1,1]) in ParkingFunctions(3)
False
sage: ParkingFunctions(3)([1,1,1]) in ParkingFunctions()
False
sage: ParkingFunctions()([1,1,1]) in ParkingFunctions()
False
sage: ParkingFunctions(3)(ParkingFunctions(3)([1,1,1]))
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-57-e5b6b3a9c099> in <module>()
----> 1 ParkingFunctions(Integer(3))(ParkingFunctions(Integer(3))([Integer(1),Integer(1),Integer(1)]))

/home/darij/sage-5.12.beta5/local/lib/python2.7/site-packages/sage/combinat/combinat.pyc in __call__(self, x)
   1371             return self._element_constructor_(x)
   1372         else:
-> 1373             raise ValueError, "%s not in %s"%(x, self)
   1374 
   1375     Element = CombinatorialObject # mostly for backward compatibility

ValueError: [1, 1, 1] not in Parking functions of size 3
sage: ParkingFunctions()(ParkingFunctions()([1,1,1]))
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-58-39833821920e> in <module>()
----> 1 ParkingFunctions()(ParkingFunctions()([Integer(1),Integer(1),Integer(1)]))

/home/darij/sage-5.12.beta5/local/lib/python2.7/site-packages/sage/combinat/combinat.pyc in __call__(self, x)
   1371             return self._element_constructor_(x)
   1372         else:
-> 1373             raise ValueError, "%s not in %s"%(x, self)
   1374 
   1375     Element = CombinatorialObject # mostly for backward compatibility

ValueError: [1, 1, 1] not in Parking functions
```

Also, the docstring of `ParkingFunction` is wrong; this method returns elements, not the class.

The call `ParkingFunction([1]).diagonal_reading_word()` results in a ValueError; I don't think it should. That, and its docstring shouldn't refer to its pretty print for the definition.

Travis, are you planning to give `parking_function.py` the #12913 treatment?

CC:  @tscrim @sagetrac-sage-combinat @zabrocki @slel

Keywords: **sage-combinat, parking function, combinatorialclass**

Branch/Commit: **[`e9b9df4`](https://github.com/sagemath/sagetrac-mirror/commit/e9b9df48030b061b2f66bd06c8d80d8e4b9ac4f0)**

Reviewer: **Travis Scrimshaw**

Author: **Frédéric Chapoton**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/15216_





---

archive/issue_events_216279.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2013-09-22T01:44:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15216#event-216279"
}
```



---

archive/issue_events_216280.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2013-09-22T01:44:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15216#event-216280"
}
```



---

archive/issue_events_216281.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2013-09-22T01:44:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15216#event-216281"
}
```



---

archive/issue_events_216282.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2013-09-22T01:44:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15216#event-216282"
}
```



---

archive/issue_comments_187442.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAt some point I'll give it the #12913 treatment (it needs it), but not anytime soon I think. So if someone else wants to do it, I can offer wisdom and reviews.",
    "created_at": "2013-09-27T22:49:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187442",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:1" align="right">comment:1</div>

At some point I'll give it the #12913 treatment (it needs it), but not anytime soon I think. So if someone else wants to do it, I can offer wisdom and reviews.



---

archive/issue_events_216283.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15216#event-216283"
}
```



---

archive/issue_events_216284.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15216#event-216284"
}
```



---

archive/issue_events_216285.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15216#event-216285"
}
```



---

archive/issue_events_216286.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15216#event-216286"
}
```



---

archive/issue_comments_187443.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nsee also #16595",
    "created_at": "2014-07-02T14:54:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187443",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>

see also #16595



---

archive/issue_comments_187444.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af6f02c1f0caff659beab52f6c2143c1725800d6\"><code>af6f02c</code></a></td><td><code>Ticket 16465 : Category of classes of combinatorial structures</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16685a3be9c5deee1b76dddc2adbe33a10d1ad94\"><code>16685a3</code></a></td><td><code>Ticket 16465 : improve the category and give a framework of class of combinatorial structures</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bb0dcf0db6ec98f44c91062c54bf03d32749ffd8\"><code>bb0dcf0</code></a></td><td><code>Ticket 16465 : some operations on classes of combinatorial structures (as unlabelled structures).</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a76bb402baa95497b3de94b8e95da2c71c9271b\"><code>2a76bb4</code></a></td><td><code>Ticket 16465 : (unlabelled) sequence of structures</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6879bcd6e7d2e4de7276233a8928bfaf3beb004e\"><code>6879bcd</code></a></td><td><code>Ticket 16465: append cycle and multi set</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e245dc19cb3609f331da6b9262e280e5ee73378\"><code>4e245dc</code></a></td><td><code>Ticket 16465 : fix the bug</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba0f3d0bc0f409ce0721e50b077529d24b2fd697\"><code>ba0f3d0</code></a></td><td><code> fixed some documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/90acf89a0757e8aeef7077299000592fb305e966\"><code>90acf89</code></a></td><td><code>Ticket 16465: fix contain in graded component</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33395c09f4d548c844a19b9ef5474cd9ede1dbc4\"><code>33395c0</code></a></td><td><code>Ticket 16465: fix graded component of degree 0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/662155a22ca55386f4016199d42742b753d0e7a3\"><code>662155a</code></a></td><td><code>Ticket 15216: rewriting parking functions as class of combinatorial structures</code></td></tr></table>\n",
    "created_at": "2014-07-09T04:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187444",
    "user": "https://github.com/sagetrac-elixyre"
}
```

<div id="comment:5"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af6f02c1f0caff659beab52f6c2143c1725800d6"><code>af6f02c</code></a></td><td><code>Ticket 16465 : Category of classes of combinatorial structures</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16685a3be9c5deee1b76dddc2adbe33a10d1ad94"><code>16685a3</code></a></td><td><code>Ticket 16465 : improve the category and give a framework of class of combinatorial structures</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bb0dcf0db6ec98f44c91062c54bf03d32749ffd8"><code>bb0dcf0</code></a></td><td><code>Ticket 16465 : some operations on classes of combinatorial structures (as unlabelled structures).</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a76bb402baa95497b3de94b8e95da2c71c9271b"><code>2a76bb4</code></a></td><td><code>Ticket 16465 : (unlabelled) sequence of structures</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6879bcd6e7d2e4de7276233a8928bfaf3beb004e"><code>6879bcd</code></a></td><td><code>Ticket 16465: append cycle and multi set</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e245dc19cb3609f331da6b9262e280e5ee73378"><code>4e245dc</code></a></td><td><code>Ticket 16465 : fix the bug</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba0f3d0bc0f409ce0721e50b077529d24b2fd697"><code>ba0f3d0</code></a></td><td><code> fixed some documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/90acf89a0757e8aeef7077299000592fb305e966"><code>90acf89</code></a></td><td><code>Ticket 16465: fix contain in graded component</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33395c09f4d548c844a19b9ef5474cd9ede1dbc4"><code>33395c0</code></a></td><td><code>Ticket 16465: fix graded component of degree 0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/662155a22ca55386f4016199d42742b753d0e7a3"><code>662155a</code></a></td><td><code>Ticket 15216: rewriting parking functions as class of combinatorial structures</code></td></tr></table>




---

archive/issue_comments_187445.json:
```json
{
    "body": "Branch: **[u/elixyre/ticket/15216](https://github.com/sagemath/sagetrac-mirror/tree/u/elixyre/ticket/15216)**",
    "created_at": "2014-07-09T04:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187445",
    "user": "https://github.com/sagetrac-elixyre"
}
```

Branch: **[u/elixyre/ticket/15216](https://github.com/sagemath/sagetrac-mirror/tree/u/elixyre/ticket/15216)**



---

archive/issue_comments_187446.json:
```json
{
    "body": "Commit: **[`662155a`](https://github.com/sagemath/sagetrac-mirror/commit/662155a22ca55386f4016199d42742b753d0e7a3)**",
    "created_at": "2014-07-09T04:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187446",
    "user": "https://github.com/sagetrac-elixyre"
}
```

Commit: **[`662155a`](https://github.com/sagemath/sagetrac-mirror/commit/662155a22ca55386f4016199d42742b753d0e7a3)**



---

archive/issue_comments_187447.json:
```json
{
    "body": "Dependencies: **16465**",
    "created_at": "2014-07-09T04:14:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187447",
    "user": "https://github.com/sagetrac-elixyre"
}
```

Dependencies: **16465**



---

archive/issue_comments_187448.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nneeds rebase, and coordination with #16595",
    "created_at": "2014-07-19T13:24:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187448",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">comment:7</div>

needs rebase, and coordination with #16595



---

archive/issue_events_216287.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15216#event-216287"
}
```



---

archive/issue_events_216288.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15216#event-216288"
}
```



---

archive/issue_comments_187449.json:
```json
{
    "body": "Changed branch from **[u/elixyre/ticket/15216](https://github.com/sagemath/sagetrac-mirror/tree/u/elixyre/ticket/15216)** to **[public/ticket/15216](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/15216)**",
    "created_at": "2014-09-22T14:18:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187449",
    "user": "https://github.com/sagetrac-elixyre"
}
```

Changed branch from **[u/elixyre/ticket/15216](https://github.com/sagemath/sagetrac-mirror/tree/u/elixyre/ticket/15216)** to **[public/ticket/15216](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/15216)**



---

archive/issue_comments_187450.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0478fbc8e75f42a81917dff993d73bc52415500\"><code>d0478fb</code></a></td><td><code>16595: added `__call__` and comparaisons tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e2c8f7d21566f4b2e4015bb1232d73b2fdf6444\"><code>5e2c8f7</code></a></td><td><code>documention</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54b4ca4b9563345798a08931031db96fd5ea6733\"><code>54b4ca4</code></a></td><td><code>added examples</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/892878931bebe81144ffcccd0c70426f010f394a\"><code>8928789</code></a></td><td><code>Merge branch 'u/virmaux/improvements_to_parkingfunctions' of trac.sagemath.org:sage into 16595</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b710d0133f6b8d57c23d3354b228572e4cd2f279\"><code>b710d01</code></a></td><td><code>trac #16595 more tests and doc details</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/149cb1afa393d17bbe49cc30de12588bd954bef9\"><code>149cb1a</code></a></td><td><code>Ticket 16595: Parking functions with Parent</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/672a8da573255b37b7f620d2ffd11654d8923c93\"><code>672a8da</code></a></td><td><code>ParkingFunctions_n with Element and shortcut some too long lines</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70ceb8a5ea4ff900572216956061a89a1d47132a\"><code>70ceb8a</code></a></td><td><code>16595: merge</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f1720758167464f5c9ee3110f2e976def7e2493\"><code>5f17207</code></a></td><td><code>16595: correcting  from_labelling_and_area_sequence</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86e9dc816562e17a0d7e04f581c080cbfb8209b6\"><code>86e9dc8</code></a></td><td><code>Merge branch 'public/ticket/16595' of trac.sagemath.org:sage into tt/15216</code></td></tr></table>\n",
    "created_at": "2014-09-22T14:18:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187450",
    "user": "https://github.com/sagetrac-elixyre"
}
```

<div id="comment:9"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0478fbc8e75f42a81917dff993d73bc52415500"><code>d0478fb</code></a></td><td><code>16595: added `__call__` and comparaisons tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e2c8f7d21566f4b2e4015bb1232d73b2fdf6444"><code>5e2c8f7</code></a></td><td><code>documention</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54b4ca4b9563345798a08931031db96fd5ea6733"><code>54b4ca4</code></a></td><td><code>added examples</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/892878931bebe81144ffcccd0c70426f010f394a"><code>8928789</code></a></td><td><code>Merge branch 'u/virmaux/improvements_to_parkingfunctions' of trac.sagemath.org:sage into 16595</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b710d0133f6b8d57c23d3354b228572e4cd2f279"><code>b710d01</code></a></td><td><code>trac #16595 more tests and doc details</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/149cb1afa393d17bbe49cc30de12588bd954bef9"><code>149cb1a</code></a></td><td><code>Ticket 16595: Parking functions with Parent</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/672a8da573255b37b7f620d2ffd11654d8923c93"><code>672a8da</code></a></td><td><code>ParkingFunctions_n with Element and shortcut some too long lines</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70ceb8a5ea4ff900572216956061a89a1d47132a"><code>70ceb8a</code></a></td><td><code>16595: merge</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f1720758167464f5c9ee3110f2e976def7e2493"><code>5f17207</code></a></td><td><code>16595: correcting  from_labelling_and_area_sequence</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86e9dc816562e17a0d7e04f581c080cbfb8209b6"><code>86e9dc8</code></a></td><td><code>Merge branch 'public/ticket/16595' of trac.sagemath.org:sage into tt/15216</code></td></tr></table>




---

archive/issue_comments_187451.json:
```json
{
    "body": "Changed commit from **[`662155a`](https://github.com/sagemath/sagetrac-mirror/commit/662155a22ca55386f4016199d42742b753d0e7a3)** to **[`86e9dc8`](https://github.com/sagemath/sagetrac-mirror/commit/86e9dc816562e17a0d7e04f581c080cbfb8209b6)**",
    "created_at": "2014-09-22T14:18:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187451",
    "user": "https://github.com/sagetrac-elixyre"
}
```

Changed commit from **[`662155a`](https://github.com/sagemath/sagetrac-mirror/commit/662155a22ca55386f4016199d42742b753d0e7a3)** to **[`86e9dc8`](https://github.com/sagemath/sagetrac-mirror/commit/86e9dc816562e17a0d7e04f581c080cbfb8209b6)**



---

archive/issue_comments_187452.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI'm really not sure about what i did... There is no conflict in *parking_functions.py* and each tests seems to be ok but... I don't understand what's append with others files (I did not touch).\n\nCheers,\nJean-Baptiste",
    "created_at": "2014-09-22T14:23:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187452",
    "user": "https://github.com/sagetrac-elixyre"
}
```

<div id="comment:10" align="right">comment:10</div>

I'm really not sure about what i did... There is no conflict in *parking_functions.py* and each tests seems to be ok but... I don't understand what's append with others files (I did not touch).

Cheers,
Jean-Baptiste



---

archive/issue_comments_187453.json:
```json
{
    "body": "Changed dependencies from **16465** to **#16465**",
    "created_at": "2014-09-23T07:53:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187453",
    "user": "https://github.com/fchapoton"
}
```

Changed dependencies from **16465** to **#16465**



---

archive/issue_comments_187454.json:
```json
{
    "body": "Changed commit from **[`86e9dc8`](https://github.com/sagemath/sagetrac-mirror/commit/86e9dc816562e17a0d7e04f581c080cbfb8209b6)** to **[`f6ffa1d`](https://github.com/sagemath/sagetrac-mirror/commit/f6ffa1dfec0ff95995489d098e43195fa4fa177d)**",
    "created_at": "2021-03-23T19:47:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187454",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`86e9dc8`](https://github.com/sagemath/sagetrac-mirror/commit/86e9dc816562e17a0d7e04f581c080cbfb8209b6)** to **[`f6ffa1d`](https://github.com/sagemath/sagetrac-mirror/commit/f6ffa1dfec0ff95995489d098e43195fa4fa177d)**



---

archive/issue_comments_187455.json:
```json
{
    "body": "Changed branch from **[public/ticket/15216](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/15216)** to **[u/chapoton/clonable_parking](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/clonable_parking)**",
    "created_at": "2021-03-23T19:47:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187455",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[public/ticket/15216](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/15216)** to **[u/chapoton/clonable_parking](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/clonable_parking)**



---

archive/issue_comments_187456.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nHere is a new tentative. Travis, I need your help for the 2 remaining doctest failures in TestSuite, please.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6ffa1dfec0ff95995489d098e43195fa4fa177d\"><code>f6ffa1d</code></a></td><td><code>use ClonableArray in parking functions</code></td></tr></table>\n",
    "created_at": "2021-03-23T19:47:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187456",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:13" align="right">comment:13</div>

Here is a new tentative. Travis, I need your help for the 2 remaining doctest failures in TestSuite, please.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6ffa1dfec0ff95995489d098e43195fa4fa177d"><code>f6ffa1d</code></a></td><td><code>use ClonableArray in parking functions</code></td></tr></table>




---

archive/issue_events_216289.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-03-23T19:47:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15216#event-216289"
}
```



---

archive/issue_events_216290.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-03-23T19:47:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15216#event-216290"
}
```



---

archive/issue_comments_187457.json:
```json
{
    "body": "Changed dependencies from **#16465** to none",
    "created_at": "2021-03-23T19:47:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187457",
    "user": "https://github.com/fchapoton"
}
```

Changed dependencies from **#16465** to none



---

archive/issue_comments_187458.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nMy guess is the problem is elements aren't being created with the right parent:\n`ParkingFunctions_all.__iter__`: (I also prefer to avoid iteration over `NN` as it is simple to implement)\n\n```diff\n-        for n in NN:\n-            yield from ParkingFunctions_n(n).__iter__()\n+        n = 0\n+        while True:\n+            for pf in ParkingFunctions_n(n):\n+                yield self.element_class(self, list(pf))\n+            n += 1\n```\n`ParkingFunctions_n.__iter__`:\n\n```diff\n-yield ParkingFunction(list(pi))\n+yield self.element_class(self, list(pi))\n```\n`ParkingFunctions_n.random_element`:\n\n```diff\n-return ParkingFunction([(i - free[0]).lift() for i in fun])\n+return self.element_class(self, [(i - free[0]).lift() for i in fun])\n```\n\nAlso, in `ParkingFunction`, this is bad:\n\n```\n    if pf is not None:\n        return ParkingFunction_class(None, pf)\n```\nEverything should have a parent.\n\nOne drawback is that parking functions for different parents will not be comparable (unless a coercion is implemented); in particular for the `all` and the `n` parents.",
    "created_at": "2021-03-23T23:01:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187458",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:14" align="right">comment:14</div>

My guess is the problem is elements aren't being created with the right parent:
`ParkingFunctions_all.__iter__`: (I also prefer to avoid iteration over `NN` as it is simple to implement)

```diff
-        for n in NN:
-            yield from ParkingFunctions_n(n).__iter__()
+        n = 0
+        while True:
+            for pf in ParkingFunctions_n(n):
+                yield self.element_class(self, list(pf))
+            n += 1
```
`ParkingFunctions_n.__iter__`:

```diff
-yield ParkingFunction(list(pi))
+yield self.element_class(self, list(pi))
```
`ParkingFunctions_n.random_element`:

```diff
-return ParkingFunction([(i - free[0]).lift() for i in fun])
+return self.element_class(self, [(i - free[0]).lift() for i in fun])
```

Also, in `ParkingFunction`, this is bad:

```
    if pf is not None:
        return ParkingFunction_class(None, pf)
```
Everything should have a parent.

One drawback is that parking functions for different parents will not be comparable (unless a coercion is implemented); in particular for the `all` and the `n` parents.



---

archive/issue_comments_187459.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/977584fc2a4d04a28e6d58e35f9fa7498bbad56b\"><code>977584f</code></a></td><td><code>Merge branch 'u/chapoton/clonable_parking' in 9.3.rc0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd1d64cb640f20985d12e30e07e4fac92f8bbd88\"><code>bd1d64c</code></a></td><td><code>more fixes for parking functions</code></td></tr></table>\n",
    "created_at": "2021-03-24T10:22:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187459",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/977584fc2a4d04a28e6d58e35f9fa7498bbad56b"><code>977584f</code></a></td><td><code>Merge branch 'u/chapoton/clonable_parking' in 9.3.rc0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd1d64cb640f20985d12e30e07e4fac92f8bbd88"><code>bd1d64c</code></a></td><td><code>more fixes for parking functions</code></td></tr></table>




---

archive/issue_comments_187460.json:
```json
{
    "body": "Changed commit from **[`f6ffa1d`](https://github.com/sagemath/sagetrac-mirror/commit/f6ffa1dfec0ff95995489d098e43195fa4fa177d)** to **[`bd1d64c`](https://github.com/sagemath/sagetrac-mirror/commit/bd1d64cb640f20985d12e30e07e4fac92f8bbd88)**",
    "created_at": "2021-03-24T10:22:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187460",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f6ffa1d`](https://github.com/sagemath/sagetrac-mirror/commit/f6ffa1dfec0ff95995489d098e43195fa4fa177d)** to **[`bd1d64c`](https://github.com/sagemath/sagetrac-mirror/commit/bd1d64cb640f20985d12e30e07e4fac92f8bbd88)**



---

archive/issue_comments_187461.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nok, things seem to be working now. Thanks a lot for your help !",
    "created_at": "2021-03-24T10:22:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187461",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:16" align="right">comment:16</div>

ok, things seem to be working now. Thanks a lot for your help !



---

archive/issue_events_216291.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-03-24T10:50:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15216#event-216291"
}
```



---

archive/issue_comments_187462.json:
```json
{
    "body": "Author: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2021-03-24T12:00:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187462",
    "user": "https://github.com/fchapoton"
}
```

Author: **Frédéric Chapoton**



---

archive/issue_comments_187463.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\ngreen bot, please review",
    "created_at": "2021-03-24T17:22:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187463",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:19" align="right">comment:19</div>

green bot, please review



---

archive/issue_comments_187464.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nA few last little details:\n\nThis is (still) bad:\n\n```\n+    return ParkingFunction_class(None,\n+                                 [L.index(i) + 1 - D[L.index(i)]\n                                   for i in range(1, len(L) + 1)])\n```\nYou could construct a parent (probably all parking functions) and pass the list to that.\n\n`def __repr__` -> `def _repr_`\n\nIt is better to put `UniqueRepresentation` before `Parent` in the MRO so the equality/hashing/etc. is called earlier.\n\n`.. warning::` -> `.. WARNING::`\n\nSomething that I prefer is to not have a separate function `ParkingFunction` and element class `ParkingFunction_class`, but instead just have a `ParkingFunction` class that uses `__classcall_private__` for direct construction (see, e.g., `Partition`). I think this is less confusing for the user and is a more logical grouping (at the small expense of an indirection for someone new to the code/mechanism). I can do this if you want.",
    "created_at": "2021-03-24T21:30:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187464",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:20" align="right">comment:20</div>

A few last little details:

This is (still) bad:

```
+    return ParkingFunction_class(None,
+                                 [L.index(i) + 1 - D[L.index(i)]
                                   for i in range(1, len(L) + 1)])
```
You could construct a parent (probably all parking functions) and pass the list to that.

`def __repr__` -> `def _repr_`

It is better to put `UniqueRepresentation` before `Parent` in the MRO so the equality/hashing/etc. is called earlier.

`.. warning::` -> `.. WARNING::`

Something that I prefer is to not have a separate function `ParkingFunction` and element class `ParkingFunction_class`, but instead just have a `ParkingFunction` class that uses `__classcall_private__` for direct construction (see, e.g., `Partition`). I think this is less confusing for the user and is a more logical grouping (at the small expense of an indirection for someone new to the code/mechanism). I can do this if you want.



---

archive/issue_comments_187465.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c5be937973cf197b65d246b7bb2c9029e61108a\"><code>1c5be93</code></a></td><td><code>some details in parking</code></td></tr></table>\n",
    "created_at": "2021-03-25T06:27:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187465",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c5be937973cf197b65d246b7bb2c9029e61108a"><code>1c5be93</code></a></td><td><code>some details in parking</code></td></tr></table>




---

archive/issue_comments_187466.json:
```json
{
    "body": "Changed commit from **[`bd1d64c`](https://github.com/sagemath/sagetrac-mirror/commit/bd1d64cb640f20985d12e30e07e4fac92f8bbd88)** to **[`1c5be93`](https://github.com/sagemath/sagetrac-mirror/commit/1c5be937973cf197b65d246b7bb2c9029e61108a)**",
    "created_at": "2021-03-25T06:27:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187466",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bd1d64c`](https://github.com/sagemath/sagetrac-mirror/commit/bd1d64cb640f20985d12e30e07e4fac92f8bbd88)** to **[`1c5be93`](https://github.com/sagemath/sagetrac-mirror/commit/1c5be937973cf197b65d246b7bb2c9029e61108a)**



---

archive/issue_comments_187467.json:
```json
{
    "body": "Changed commit from **[`1c5be93`](https://github.com/sagemath/sagetrac-mirror/commit/1c5be937973cf197b65d246b7bb2c9029e61108a)** to **[`9295d58`](https://github.com/sagemath/sagetrac-mirror/commit/9295d58544b4c9feb0d1b6271d8d13abdf6eb76b)**",
    "created_at": "2021-03-25T06:53:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187467",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1c5be93`](https://github.com/sagemath/sagetrac-mirror/commit/1c5be937973cf197b65d246b7bb2c9029e61108a)** to **[`9295d58`](https://github.com/sagemath/sagetrac-mirror/commit/9295d58544b4c9feb0d1b6271d8d13abdf6eb76b)**



---

archive/issue_comments_187468.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9295d58544b4c9feb0d1b6271d8d13abdf6eb76b\"><code>9295d58</code></a></td><td><code>more doctests in parking</code></td></tr></table>\n",
    "created_at": "2021-03-25T06:53:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187468",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9295d58544b4c9feb0d1b6271d8d13abdf6eb76b"><code>9295d58</code></a></td><td><code>more doctests in parking</code></td></tr></table>




---

archive/issue_comments_187469.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThanks, Travis.\n\nI would rather postpone further refactoring to another ticket. Unless you are really motivated to do the job, of course.\n\nCalling `ParkingFunction_class` with `None` as parent will set a correct parent automatically, namely `ParkingFunctions_n`. So in my mind, it is not so bad.",
    "created_at": "2021-03-25T06:56:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187469",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:23" align="right">comment:23</div>

Thanks, Travis.

I would rather postpone further refactoring to another ticket. Unless you are really motivated to do the job, of course.

Calling `ParkingFunction_class` with `None` as parent will set a correct parent automatically, namely `ParkingFunctions_n`. So in my mind, it is not so bad.



---

archive/issue_comments_187470.json:
```json
{
    "body": "Changed commit from **[`9295d58`](https://github.com/sagemath/sagetrac-mirror/commit/9295d58544b4c9feb0d1b6271d8d13abdf6eb76b)** to **[`e4c0eec`](https://github.com/sagemath/sagetrac-mirror/commit/e4c0eecae05672227b3e320952ca70cf01b4de7b)**",
    "created_at": "2021-03-25T07:20:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187470",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9295d58`](https://github.com/sagemath/sagetrac-mirror/commit/9295d58544b4c9feb0d1b6271d8d13abdf6eb76b)** to **[`e4c0eec`](https://github.com/sagemath/sagetrac-mirror/commit/e4c0eecae05672227b3e320952ca70cf01b4de7b)**



---

archive/issue_comments_187471.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4c0eecae05672227b3e320952ca70cf01b4de7b\"><code>e4c0eec</code></a></td><td><code>fix mro in parking</code></td></tr></table>\n",
    "created_at": "2021-03-25T07:20:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187471",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4c0eecae05672227b3e320952ca70cf01b4de7b"><code>e4c0eec</code></a></td><td><code>fix mro in parking</code></td></tr></table>




---

archive/issue_comments_187472.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\ngreen bot. Travis, please ?",
    "created_at": "2021-03-27T12:16:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187472",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:25" align="right">comment:25</div>

green bot. Travis, please ?



---

archive/issue_comments_187473.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI am motivated to make a few other changes I mentioned. I will be doing this tomorrow. I feel it is easier to do this in one go.",
    "created_at": "2021-03-27T21:50:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187473",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:26" align="right">comment:26</div>

I am motivated to make a few other changes I mentioned. I will be doing this tomorrow. I feel it is easier to do this in one go.



---

archive/issue_comments_187474.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2021-03-29T07:24:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187474",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_187475.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nOkay, I did the refactoring. I think this becomes a lot easier for users because then they can do `if isinstance(PF, ParkingFunction)` and not wonder why this is always `False`. This also gives consistent documentation.\n\nI also fixed a bug with the containment check.\n\nCleanup-wise, I fixed another `.. warning::`, removed `self` as an input, and a few other 80 chars/line.\n\nIf all of my changes are good, then you can set a positive review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92e0a720c6e0a15560ebe1a92597c406edaa5ab7\"><code>92e0a72</code></a></td><td><code>Refactor into single classes with classcall method and some cleanup.</code></td></tr></table>\n",
    "created_at": "2021-03-29T07:24:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187475",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:27" align="right">comment:27</div>

Okay, I did the refactoring. I think this becomes a lot easier for users because then they can do `if isinstance(PF, ParkingFunction)` and not wonder why this is always `False`. This also gives consistent documentation.

I also fixed a bug with the containment check.

Cleanup-wise, I fixed another `.. warning::`, removed `self` as an input, and a few other 80 chars/line.

If all of my changes are good, then you can set a positive review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92e0a720c6e0a15560ebe1a92597c406edaa5ab7"><code>92e0a72</code></a></td><td><code>Refactor into single classes with classcall method and some cleanup.</code></td></tr></table>




---

archive/issue_comments_187476.json:
```json
{
    "body": "Changed commit from **[`e4c0eec`](https://github.com/sagemath/sagetrac-mirror/commit/e4c0eecae05672227b3e320952ca70cf01b4de7b)** to **[`92e0a72`](https://github.com/sagemath/sagetrac-mirror/commit/92e0a720c6e0a15560ebe1a92597c406edaa5ab7)**",
    "created_at": "2021-03-29T07:24:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187476",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`e4c0eec`](https://github.com/sagemath/sagetrac-mirror/commit/e4c0eecae05672227b3e320952ca70cf01b4de7b)** to **[`92e0a72`](https://github.com/sagemath/sagetrac-mirror/commit/92e0a720c6e0a15560ebe1a92597c406edaa5ab7)**



---

archive/issue_comments_187477.json:
```json
{
    "body": "Changed branch from **[u/chapoton/clonable_parking](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/clonable_parking)** to **[public/combinat/clonable_parking-15216](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/clonable_parking-15216)**",
    "created_at": "2021-03-29T07:24:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187477",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/chapoton/clonable_parking](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/clonable_parking)** to **[public/combinat/clonable_parking-15216](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/clonable_parking-15216)**



---

archive/issue_comments_187478.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThis seems to break something in the findstat interface",
    "created_at": "2021-03-29T11:54:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187478",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:28" align="right">comment:28</div>

This seems to break something in the findstat interface



---

archive/issue_comments_187479.json:
```json
{
    "body": "Changed commit from **[`92e0a72`](https://github.com/sagemath/sagetrac-mirror/commit/92e0a720c6e0a15560ebe1a92597c406edaa5ab7)** to **[`e9b9df4`](https://github.com/sagemath/sagetrac-mirror/commit/e9b9df48030b061b2f66bd06c8d80d8e4b9ac4f0)**",
    "created_at": "2021-03-29T16:53:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187479",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`92e0a72`](https://github.com/sagemath/sagetrac-mirror/commit/92e0a720c6e0a15560ebe1a92597c406edaa5ab7)** to **[`e9b9df4`](https://github.com/sagemath/sagetrac-mirror/commit/e9b9df48030b061b2f66bd06c8d80d8e4b9ac4f0)**



---

archive/issue_comments_187480.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9b9df48030b061b2f66bd06c8d80d8e4b9ac4f0\"><code>e9b9df4</code></a></td><td><code>fix findstat parking functions</code></td></tr></table>\n",
    "created_at": "2021-03-29T16:53:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187480",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9b9df48030b061b2f66bd06c8d80d8e4b9ac4f0"><code>e9b9df4</code></a></td><td><code>fix findstat parking functions</code></td></tr></table>




---

archive/issue_events_216292.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-03-29T19:00:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15216#event-216292"
}
```



---

archive/issue_events_216293.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-03-29T19:00:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15216#event-216293"
}
```



---

archive/issue_comments_187481.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nok, bot is green, good to go",
    "created_at": "2021-03-29T19:00:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187481",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:30" align="right">comment:30</div>

ok, bot is green, good to go



---

archive/issue_comments_187482.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nThank you for fixing that!",
    "created_at": "2021-03-30T00:05:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187482",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:31" align="right">comment:31</div>

Thank you for fixing that!



---

archive/issue_events_216294.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-05-27T20:30:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15216#event-216294"
}
```



---

archive/issue_events_216295.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "2a3f0073b94844349f4e293272f178c742406a8f",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-05-27T20:30:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15216#event-216295"
}
```



---

archive/issue_comments_187483.json:
```json
{
    "body": "Changed branch from **[public/combinat/clonable_parking-15216](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/clonable_parking-15216)** to **[`e9b9df4`](https://github.com/sagemath/sagetrac-mirror/commit/e9b9df48030b061b2f66bd06c8d80d8e4b9ac4f0)**",
    "created_at": "2021-05-27T20:30:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15216#issuecomment-187483",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/combinat/clonable_parking-15216](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/clonable_parking-15216)** to **[`e9b9df4`](https://github.com/sagemath/sagetrac-mirror/commit/e9b9df48030b061b2f66bd06c8d80d8e4b9ac4f0)**
