# Issue 15533: Making the hash of cores depend on the parameter

archive/issues_015296.json:
```json
{
    "body": "Currently, a core does not hash its parameter, so having a dict with the two keys\n\n```\nsage: A = Core([2],4)\nsage: B = Core([2],5)\nsage: hash(A) == hash(B)\nTrue\n```\nfails to work.\n\nCC:  @tscrim @anneschilling @AndrewAtLarge sage-combinat\n\nKeywords: cores\n\nReviewer: Anne Schilling\n\nAuthor: Christian Stump\n\nBranch: public/combinat/cores/15533\n\nCommit: 017c101babe9d7edaa5a39e844de1d2988e0f810\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/15533\n\n",
    "closed_at": "2014-02-08T14:02:39Z",
    "created_at": "2013-12-17T14:11:23Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "Making the hash of cores depend on the parameter",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15533",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```
Currently, a core does not hash its parameter, so having a dict with the two keys

```
sage: A = Core([2],4)
sage: B = Core([2],5)
sage: hash(A) == hash(B)
True
```
fails to work.

CC:  @tscrim @anneschilling @AndrewAtLarge sage-combinat

Keywords: cores

Reviewer: Anne Schilling

Author: Christian Stump

Branch: public/combinat/cores/15533

Commit: 017c101babe9d7edaa5a39e844de1d2988e0f810

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/15533





---

archive/issue_comments_209825.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2013-12-17T14:40:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15533#issuecomment-209825",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_209826.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-12-17T14:40:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15533#issuecomment-209826",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_209827.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-12-17T17:29:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15533#issuecomment-209827",
    "user": "https://github.com/anneschilling"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_209828.json:
```json
{
    "body": "<a id='comment:4'></a>Looks good to me!",
    "created_at": "2013-12-17T17:29:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15533#issuecomment-209828",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:4'></a>Looks good to me!



---

archive/issue_comments_209829.json:
```json
{
    "body": "<a id='comment:5'></a>It is a requirement that if two objects compare `==` then they must have the same hash:\n\n```\nsage: A = Core([2],4)\nsage: B = Core([2],5)\nsage: A == B\nTrue\nsage: hash(A) == hash(B)\nFalse\n```\nSo if we want different hashes, then they must not compare `==`.",
    "created_at": "2013-12-17T22:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15533#issuecomment-209829",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>It is a requirement that if two objects compare `==` then they must have the same hash:

```
sage: A = Core([2],4)
sage: B = Core([2],5)
sage: A == B
True
sage: hash(A) == hash(B)
False
```
So if we want different hashes, then they must not compare `==`.



---

archive/issue_comments_209830.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-12-17T22:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15533#issuecomment-209830",
    "user": "https://github.com/tscrim"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_209831.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:5 tscrim]:\n> It is a requirement that if two objects compare `==` then they must have the same hash:\n> \n> ```\n> sage: A = Core([2],4)\n> sage: B = Core([2],5)\n> sage: A == B\n> True\n> sage: hash(A) == hash(B)\n> False\n> ```\n> So if we want different hashes, then they must not compare `==`.\n\n\nYes, Christian, please make two cores with different `k` unequal and I will set a positive review again!\n\nAnne",
    "created_at": "2014-01-28T21:17:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15533#issuecomment-209831",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:6'></a>Replying to [comment:5 tscrim]:
> It is a requirement that if two objects compare `==` then they must have the same hash:
> 
> ```
> sage: A = Core([2],4)
> sage: B = Core([2],5)
> sage: A == B
> True
> sage: hash(A) == hash(B)
> False
> ```
> So if we want different hashes, then they must not compare `==`.


Yes, Christian, please make two cores with different `k` unequal and I will set a positive review again!

Anne



---

archive/issue_comments_209832.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-29T08:21:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15533#issuecomment-209832",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_209833.json:
```json
{
    "body": "<a id='comment:8'></a>done, ready for review...",
    "created_at": "2014-01-29T08:22:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15533#issuecomment-209833",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:8'></a>done, ready for review...



---

archive/issue_comments_209834.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-01-29T20:19:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15533#issuecomment-209834",
    "user": "https://github.com/anneschilling"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_events_045386.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15533",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15533#event-45386"
}
```



---

archive/issue_comments_209835.json:
```json
{
    "body": "<a id='comment:11'></a>This breaks doctests, e.g.\n\n```\nFile \"src/sage/combinat/k_tableau.py\", line 3941, in sage.combinat.k_tableau.StrongTableaux._repr_\nFailed example:\n    StrongTableaux(3, [2,2], weight=[1,1,1,1])\nExpected:\n    Set of strong 3-tableaux of shape [2, 2] and of weight (1, 1, 1, 1)\nGot:\n    Set of strong 3-tableaux of shape [[2, 2], []] and of weight (1, 1, 1, 1)\n```",
    "created_at": "2014-02-02T14:19:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15533#issuecomment-209835",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>This breaks doctests, e.g.

```
File "src/sage/combinat/k_tableau.py", line 3941, in sage.combinat.k_tableau.StrongTableaux._repr_
Failed example:
    StrongTableaux(3, [2,2], weight=[1,1,1,1])
Expected:
    Set of strong 3-tableaux of shape [2, 2] and of weight (1, 1, 1, 1)
Got:
    Set of strong 3-tableaux of shape [[2, 2], []] and of weight (1, 1, 1, 1)
```



---

archive/issue_comments_209836.json:
```json
{
    "body": "<a id='comment:12'></a>Okay, the problem is that people use\n\n```\nsage: C == []\n```\nfor a core `C` elsewhere in the code. And this cannot work out if we want to make the hash (and thus the equality) dependent on the additional parameter.\n\nTravis (or someone else), could you take over and solve this issue how ever you think it is appropriate (including to decide that we do not want this ticket to be merged)?\n\nCheers, Christian",
    "created_at": "2014-02-03T12:41:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15533#issuecomment-209836",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:12'></a>Okay, the problem is that people use

```
sage: C == []
```
for a core `C` elsewhere in the code. And this cannot work out if we want to make the hash (and thus the equality) dependent on the additional parameter.

Travis (or someone else), could you take over and solve this issue how ever you think it is appropriate (including to decide that we do not want this ticket to be merged)?

Cheers, Christian



---

archive/issue_comments_209837.json:
```json
{
    "body": "<a id='comment:13'></a>New commits:",
    "created_at": "2014-02-05T06:05:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15533#issuecomment-209837",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:13'></a>New commits:



---

archive/issue_comments_209838.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:12 stumpc5]:\n> Okay, the problem is that people use\n> \n> ```\n> sage: C == []\n> ```\n> for a core `C` elsewhere in the code. And this cannot work out if we want to make the hash (and thus the equality) dependent on the additional parameter.\n\n\nFixed! So hopefully this can be merged now!\n\nAnne",
    "created_at": "2014-02-05T06:06:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15533#issuecomment-209838",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:14'></a>Replying to [comment:12 stumpc5]:
> Okay, the problem is that people use
> 
> ```
> sage: C == []
> ```
> for a core `C` elsewhere in the code. And this cannot work out if we want to make the hash (and thus the equality) dependent on the additional parameter.


Fixed! So hopefully this can be merged now!

Anne



---

archive/issue_comments_209839.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-02-08T14:02:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15533#issuecomment-209839",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_045387.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-08T14:02:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15533",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15533#event-45387"
}
```
