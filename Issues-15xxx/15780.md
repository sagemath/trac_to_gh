# Issue 15780: Increase Performance in Projective Morphism

archive/issues_015543.json:
```json
{
    "assignees": [
        "https://github.com/dillonmrose"
    ],
    "body": "Increase Performance in Projective Morphism by replacing all evaluation of polynomials with fast_callable from sage.ext.fast_callable\n\nDepends on #16051\nDepends on #16168\n\nCC:  @bhutz\n\nKeywords: **Projective, Morphism**\n\nBranch/Commit: **[81fba1b](https://github.com/sagemath/sagetrac-mirror/commit/81fba1bf7dcba1262da95ed4af0b9bf5566adf43)**\n\nReviewer: **Ben Hutz**\n\nAuthor: **Dillon Rose**\n\nComponent: **algebraic geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15780_\n\n",
    "closed_at": "2014-05-12T09:48:11Z",
    "created_at": "2014-02-03T14:59:50Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Increase Performance in Projective Morphism",
    "type": "issue",
    "updated_at": "2014-05-12T09:48:11Z",
    "url": "https://github.com/sagemath/sage/issues/15780",
    "user": "https://github.com/dillonmrose"
}
```
Increase Performance in Projective Morphism by replacing all evaluation of polynomials with fast_callable from sage.ext.fast_callable

Depends on #16051
Depends on #16168

CC:  @bhutz

Keywords: **Projective, Morphism**

Branch/Commit: **[81fba1b](https://github.com/sagemath/sagetrac-mirror/commit/81fba1bf7dcba1262da95ed4af0b9bf5566adf43)**

Reviewer: **Ben Hutz**

Author: **Dillon Rose**

Component: **algebraic geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/15780_





---

archive/issue_events_225297.json:
```json
{
    "actor": "https://github.com/dillonmrose",
    "created_at": "2014-02-03T14:59:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225297"
}
```



---

archive/issue_events_225298.json:
```json
{
    "actor": "https://github.com/dillonmrose",
    "created_at": "2014-02-03T14:59:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/performance",
    "label_color": "696969",
    "label_name": "performance",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225298"
}
```



---

archive/issue_events_225299.json:
```json
{
    "actor": "https://github.com/dillonmrose",
    "created_at": "2014-02-03T14:59:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225299"
}
```



---

archive/issue_events_225300.json:
```json
{
    "actor": "https://github.com/dillonmrose",
    "created_at": "2014-02-03T14:59:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225300"
}
```



---

archive/issue_comments_199016.json:
```json
{
    "body": "Branch: **[15780](https://github.com/sagemath/sagetrac-mirror/tree/15780)**",
    "created_at": "2014-02-03T15:28:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199016",
    "user": "https://github.com/dillonmrose"
}
```

Branch: **[15780](https://github.com/sagemath/sagetrac-mirror/tree/15780)**



---

archive/issue_events_225301.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-02-04T23:53:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225301"
}
```



---

archive/issue_events_225302.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-02-04T23:53:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225302"
}
```



---

archive/issue_events_225303.json:
```json
{
    "actor": "https://github.com/dillonmrose",
    "created_at": "2014-02-05T17:08:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225303"
}
```



---

archive/issue_events_225304.json:
```json
{
    "actor": "https://github.com/dillonmrose",
    "created_at": "2014-02-05T17:08:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225304"
}
```



---

archive/issue_events_225305.json:
```json
{
    "actor": "https://github.com/dillonmrose",
    "created_at": "2014-02-05T17:08:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/performance",
    "label_color": "696969",
    "label_name": "performance",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225305"
}
```



---

archive/issue_events_225306.json:
```json
{
    "actor": "https://github.com/dillonmrose",
    "created_at": "2014-02-05T17:08:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
    "label_color": "0000ff",
    "label_name": "c: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225306"
}
```



---

archive/issue_events_225307.json:
```json
{
    "actor": "https://github.com/dillonmrose",
    "created_at": "2014-02-05T17:08:10Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "subject": "https://github.com/dillonmrose",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225307"
}
```



---

archive/issue_comments_199017.json:
```json
{
    "body": "Changed branch from **[15780](https://github.com/sagemath/sagetrac-mirror/tree/15780)** to **[u/drose/15780](https://github.com/sagemath/sagetrac-mirror/tree/u/drose/15780)**",
    "created_at": "2014-02-05T17:08:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199017",
    "user": "https://github.com/dillonmrose"
}
```

Changed branch from **[15780](https://github.com/sagemath/sagetrac-mirror/tree/15780)** to **[u/drose/15780](https://github.com/sagemath/sagetrac-mirror/tree/u/drose/15780)**



---

archive/issue_comments_199018.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5bafb1b5a5001794afd3c75a2d21797772813d47\">5bafb1b</a></td><td><code># Tue Oct 22 20:59:00 2013 -0400</code></td></tr></table>\n",
    "created_at": "2014-02-05T17:53:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199018",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5bafb1b5a5001794afd3c75a2d21797772813d47">5bafb1b</a></td><td><code># Tue Oct 22 20:59:00 2013 -0400</code></td></tr></table>




---

archive/issue_comments_199019.json:
```json
{
    "body": "Commit: **[5bafb1b](https://github.com/sagemath/sagetrac-mirror/commit/5bafb1b5a5001794afd3c75a2d21797772813d47)**",
    "created_at": "2014-02-05T17:53:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199019",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[5bafb1b](https://github.com/sagemath/sagetrac-mirror/commit/5bafb1b5a5001794afd3c75a2d21797772813d47)**



---

archive/issue_comments_199020.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI haven't looked closely at functionality yet, but there are a few things that need to be fixed first.\n\n1) There are several doctests that fail with this:\n\n```\nsage -t --long sage/schemes/elliptic_curves/lseries_ell.py  # 1 doctest failed\nsage -t --long sage/schemes/plane_conics/con_field.py  # 3 doctests failed\nsage -t --long sage/schemes/generic/morphism.py  # 3 doctests failed\n```\n\nIt looks like most of these are because the `__call__` in generic\\morphism first coerces the input point into the domain and the `__call__` in projective\\morphism does not. Although the elliptic curve failure seems to be a precision issue.\n\n2) The new functions must have appropriate documentation. See the developers guide for the appropriate format.\n\nSCORE projective_morphism.py: 91.9% (34 of 37)\n\nMissing documentation:\n* line 182: def __call__(self, x, check=True)\n* line 187: def _fast_eval(self, x, check=True)\n* line 2625: def _fast_eval(self, x, check=True)\n\n3) There are a number of Tab characters in projective_morphism.py\n\n`sage -t --long sage/schemes/projective/projective_morphism.py  # Tab character found`",
    "created_at": "2014-02-09T23:30:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199020",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:5" align="right">comment:5</div>

I haven't looked closely at functionality yet, but there are a few things that need to be fixed first.

1) There are several doctests that fail with this:

```
sage -t --long sage/schemes/elliptic_curves/lseries_ell.py  # 1 doctest failed
sage -t --long sage/schemes/plane_conics/con_field.py  # 3 doctests failed
sage -t --long sage/schemes/generic/morphism.py  # 3 doctests failed
```

It looks like most of these are because the `__call__` in generic\morphism first coerces the input point into the domain and the `__call__` in projective\morphism does not. Although the elliptic curve failure seems to be a precision issue.

2) The new functions must have appropriate documentation. See the developers guide for the appropriate format.

SCORE projective_morphism.py: 91.9% (34 of 37)

Missing documentation:
* line 182: def __call__(self, x, check=True)
* line 187: def _fast_eval(self, x, check=True)
* line 2625: def _fast_eval(self, x, check=True)

3) There are a number of Tab characters in projective_morphism.py

`sage -t --long sage/schemes/projective/projective_morphism.py  # Tab character found`



---

archive/issue_comments_199021.json:
```json
{
    "body": "Reviewer: **Ben Hutz**",
    "created_at": "2014-02-09T23:30:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199021",
    "user": "https://github.com/bhutz"
}
```

Reviewer: **Ben Hutz**



---

archive/issue_events_225308.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2014-02-09T23:30:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225308"
}
```



---

archive/issue_events_225309.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2014-02-09T23:30:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225309"
}
```



---

archive/issue_events_225310.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2014-02-09T23:30:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225310"
}
```



---

archive/issue_comments_199022.json:
```json
{
    "body": "Changed commit from **[5bafb1b](https://github.com/sagemath/sagetrac-mirror/commit/5bafb1b5a5001794afd3c75a2d21797772813d47)** to **[52ec0b3](https://github.com/sagemath/sagetrac-mirror/commit/52ec0b39daba695f9c11a3727304f0b4b9e0deff)**",
    "created_at": "2014-02-10T15:21:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199022",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5bafb1b](https://github.com/sagemath/sagetrac-mirror/commit/5bafb1b5a5001794afd3c75a2d21797772813d47)** to **[52ec0b3](https://github.com/sagemath/sagetrac-mirror/commit/52ec0b39daba695f9c11a3727304f0b4b9e0deff)**



---

archive/issue_comments_199023.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52ec0b39daba695f9c11a3727304f0b4b9e0deff\">52ec0b3</a></td><td><code>trac 15780. Change to projective morphism `_call_` function.</code></td></tr></table>\n",
    "created_at": "2014-02-10T15:21:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199023",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52ec0b39daba695f9c11a3727304f0b4b9e0deff">52ec0b3</a></td><td><code>trac 15780. Change to projective morphism `_call_` function.</code></td></tr></table>




---

archive/issue_comments_199024.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nTesting functionality. Everywhere where the evaluation works it gives the right answer. However, there are several places where you can no longer do the evaluation which give a variety of errors. These all previously worked.\n\n```\nT.<z>=PowerSeriesRing(ZZ)\nP.<x,y>=ProjectiveSpace(T,1)\nH=End(P)\nf=H([x^2+x*y,y^2])\nQ=P(z,1)\nf(Q)\n```\n\n```\nT.<z>=LaurentSeriesRing(ZZ)\nP.<x,y>=ProjectiveSpace(T,1)\nH=End(P)\nf=H([x^2+x*y,y^2])\nQ=P(z,1)\nf(Q)\n```\n\n```\nT.<z>=PolynomialRing(Qp(7))\nI=T.ideal(z^3)\nP.<x,y>=ProjectiveSpace(T.quotient_ring(I),1)\nH=End(P)\nf=H([x^2+x*y,y^2])\nQ=P(z^2,1)\nf(Q)\n```\n\n```\nT.<z>=PolynomialRing(CC)\nI=T.ideal(z^3)\nP.<x,y>=ProjectiveSpace(T.quotient_ring(I),1)\nH=End(P)\nf=H([x^2+x*y,y^2])\nQ=P(z^2,1)\nf(Q)\n```\n\n```\nT.<z>=LaurentSeriesRing(CC)\nR.<t>=PolynomialRing(T)\nP.<x,y>=ProjectiveSpace(R,1)\nH=End(P)\nf=H([x^2+x*y,y^2])\nF=f.dehomogenize(1)\nQ=P(t^2,z)\nf(Q)\n```",
    "created_at": "2014-02-10T17:26:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199024",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:8" align="right">comment:8</div>

Testing functionality. Everywhere where the evaluation works it gives the right answer. However, there are several places where you can no longer do the evaluation which give a variety of errors. These all previously worked.

```
T.<z>=PowerSeriesRing(ZZ)
P.<x,y>=ProjectiveSpace(T,1)
H=End(P)
f=H([x^2+x*y,y^2])
Q=P(z,1)
f(Q)
```

```
T.<z>=LaurentSeriesRing(ZZ)
P.<x,y>=ProjectiveSpace(T,1)
H=End(P)
f=H([x^2+x*y,y^2])
Q=P(z,1)
f(Q)
```

```
T.<z>=PolynomialRing(Qp(7))
I=T.ideal(z^3)
P.<x,y>=ProjectiveSpace(T.quotient_ring(I),1)
H=End(P)
f=H([x^2+x*y,y^2])
Q=P(z^2,1)
f(Q)
```

```
T.<z>=PolynomialRing(CC)
I=T.ideal(z^3)
P.<x,y>=ProjectiveSpace(T.quotient_ring(I),1)
H=End(P)
f=H([x^2+x*y,y^2])
Q=P(z^2,1)
f(Q)
```

```
T.<z>=LaurentSeriesRing(CC)
R.<t>=PolynomialRing(T)
P.<x,y>=ProjectiveSpace(R,1)
H=End(P)
f=H([x^2+x*y,y^2])
F=f.dehomogenize(1)
Q=P(t^2,z)
f(Q)
```



---

archive/issue_comments_199025.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ca376bcfb8e5c4e5c82a7bc36a04cc592994ea9\">5ca376b</a></td><td><code>trac 15780.  Added documentation.</code></td></tr></table>\n",
    "created_at": "2014-02-11T00:00:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199025",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ca376bcfb8e5c4e5c82a7bc36a04cc592994ea9">5ca376b</a></td><td><code>trac 15780.  Added documentation.</code></td></tr></table>




---

archive/issue_comments_199026.json:
```json
{
    "body": "Changed commit from **[52ec0b3](https://github.com/sagemath/sagetrac-mirror/commit/52ec0b39daba695f9c11a3727304f0b4b9e0deff)** to **[5ca376b](https://github.com/sagemath/sagetrac-mirror/commit/5ca376bcfb8e5c4e5c82a7bc36a04cc592994ea9)**",
    "created_at": "2014-02-11T00:00:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199026",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[52ec0b3](https://github.com/sagemath/sagetrac-mirror/commit/52ec0b39daba695f9c11a3727304f0b4b9e0deff)** to **[5ca376b](https://github.com/sagemath/sagetrac-mirror/commit/5ca376bcfb8e5c4e5c82a7bc36a04cc592994ea9)**



---

archive/issue_comments_199027.json:
```json
{
    "body": "Changed commit from **[5ca376b](https://github.com/sagemath/sagetrac-mirror/commit/5ca376bcfb8e5c4e5c82a7bc36a04cc592994ea9)** to **[888a2ab](https://github.com/sagemath/sagetrac-mirror/commit/888a2abf3c6bdc514168da81171a19d3dad73d08)**",
    "created_at": "2014-02-11T00:10:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199027",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5ca376b](https://github.com/sagemath/sagetrac-mirror/commit/5ca376bcfb8e5c4e5c82a7bc36a04cc592994ea9)** to **[888a2ab](https://github.com/sagemath/sagetrac-mirror/commit/888a2abf3c6bdc514168da81171a19d3dad73d08)**



---

archive/issue_comments_199028.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/888a2abf3c6bdc514168da81171a19d3dad73d08\">888a2ab</a></td><td><code>trac 15780.  Added documentation to projective morphism.</code></td></tr></table>\n",
    "created_at": "2014-02-11T00:10:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199028",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/888a2abf3c6bdc514168da81171a19d3dad73d08">888a2ab</a></td><td><code>trac 15780.  Added documentation to projective morphism.</code></td></tr></table>




---

archive/issue_comments_199029.json:
```json
{
    "body": "Changed commit from **[888a2ab](https://github.com/sagemath/sagetrac-mirror/commit/888a2abf3c6bdc514168da81171a19d3dad73d08)** to **[87572ab](https://github.com/sagemath/sagetrac-mirror/commit/87572ab743acf23a63e213f1272192328fde7d49)**",
    "created_at": "2014-02-11T00:18:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199029",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[888a2ab](https://github.com/sagemath/sagetrac-mirror/commit/888a2abf3c6bdc514168da81171a19d3dad73d08)** to **[87572ab](https://github.com/sagemath/sagetrac-mirror/commit/87572ab743acf23a63e213f1272192328fde7d49)**



---

archive/issue_comments_199030.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87572ab743acf23a63e213f1272192328fde7d49\">87572ab</a></td><td><code>trac 15780.  Added documentation.</code></td></tr></table>\n",
    "created_at": "2014-02-11T00:18:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199030",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87572ab743acf23a63e213f1272192328fde7d49">87572ab</a></td><td><code>trac 15780.  Added documentation.</code></td></tr></table>




---

archive/issue_comments_199031.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nTicket #16051 fixes the functionality issues. So what remains to be done is the list of issues back in comment 5.",
    "created_at": "2014-04-03T11:52:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199031",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:12" align="right">comment:12</div>

Ticket #16051 fixes the functionality issues. So what remains to be done is the list of issues back in comment 5.



---

archive/issue_comments_199032.json:
```json
{
    "body": "Dependencies: **16051**",
    "created_at": "2014-04-03T11:52:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199032",
    "user": "https://github.com/bhutz"
}
```

Dependencies: **16051**



---

archive/issue_comments_199033.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\ninitialization of the fast_polys should probably be done lazily, unless you can show it is always quick. There are many reasons to create morphisms/rational maps that do not involve evaluating them at points. For instance, you might want to take direct or inverse images of subvarieties. For doing that one does not evaluate the defining polynomials, but one does computations with the polynomials. It would be a shame to waste time on computing fast_polys in those cases.\n\nYou'd also have to experiment to see if doing this really is an improvement: what you're basically doing is representing the polynomials by predetermined straight-line programs, and using those programs regardless of the ring over which the evaluation point is defined. Different rings may benefit from different evaluation strategies. So there's something to be said for deferring the choice of evaluation algorithm until the ring in which this needs to happen is known. Of course, in many common cases the ring for the point is the same as the base ring of the polynomials. Then fast_eval probably does pretty well (also because no intermediate coercions are required).",
    "created_at": "2014-04-03T16:30:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199033",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:13" align="right">comment:13</div>

initialization of the fast_polys should probably be done lazily, unless you can show it is always quick. There are many reasons to create morphisms/rational maps that do not involve evaluating them at points. For instance, you might want to take direct or inverse images of subvarieties. For doing that one does not evaluate the defining polynomials, but one does computations with the polynomials. It would be a shame to waste time on computing fast_polys in those cases.

You'd also have to experiment to see if doing this really is an improvement: what you're basically doing is representing the polynomials by predetermined straight-line programs, and using those programs regardless of the ring over which the evaluation point is defined. Different rings may benefit from different evaluation strategies. So there's something to be said for deferring the choice of evaluation algorithm until the ring in which this needs to happen is known. Of course, in many common cases the ring for the point is the same as the base ring of the polynomials. Then fast_eval probably does pretty well (also because no intermediate coercions are required).



---

archive/issue_comments_199034.json:
```json
{
    "body": "Changed branch from **[u/drose/15780](https://github.com/sagemath/sagetrac-mirror/tree/u/drose/15780)** to **[u/drose/ticket/15780](https://github.com/sagemath/sagetrac-mirror/tree/u/drose/ticket/15780)**",
    "created_at": "2014-04-07T12:58:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199034",
    "user": "https://github.com/dillonmrose"
}
```

Changed branch from **[u/drose/15780](https://github.com/sagemath/sagetrac-mirror/tree/u/drose/15780)** to **[u/drose/ticket/15780](https://github.com/sagemath/sagetrac-mirror/tree/u/drose/ticket/15780)**



---

archive/issue_comments_199035.json:
```json
{
    "body": "Changed commit from **[87572ab](https://github.com/sagemath/sagetrac-mirror/commit/87572ab743acf23a63e213f1272192328fde7d49)** to **[2993f75](https://github.com/sagemath/sagetrac-mirror/commit/2993f7593de1e7cc2ea51068b959c14fc7866adf)**",
    "created_at": "2014-04-07T13:00:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199035",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[87572ab](https://github.com/sagemath/sagetrac-mirror/commit/87572ab743acf23a63e213f1272192328fde7d49)** to **[2993f75](https://github.com/sagemath/sagetrac-mirror/commit/2993f7593de1e7cc2ea51068b959c14fc7866adf)**



---

archive/issue_comments_199036.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2993f7593de1e7cc2ea51068b959c14fc7866adf\">2993f75</a></td><td><code>Removed more camelCase variables.</code></td></tr></table>\n",
    "created_at": "2014-04-07T13:00:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199036",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2993f7593de1e7cc2ea51068b959c14fc7866adf">2993f75</a></td><td><code>Removed more camelCase variables.</code></td></tr></table>




---

archive/issue_comments_199037.json:
```json
{
    "body": "Changed dependencies from **16051** to none",
    "created_at": "2014-04-07T13:02:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199037",
    "user": "https://github.com/dillonmrose"
}
```

Changed dependencies from **16051** to none



---

archive/issue_comments_199038.json:
```json
{
    "body": "Changed commit from **[2993f75](https://github.com/sagemath/sagetrac-mirror/commit/2993f7593de1e7cc2ea51068b959c14fc7866adf)** to **[1aaeab2](https://github.com/sagemath/sagetrac-mirror/commit/1aaeab2e9eac98286db0f2ab34190e500f4db792)**",
    "created_at": "2014-04-07T13:04:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199038",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2993f75](https://github.com/sagemath/sagetrac-mirror/commit/2993f7593de1e7cc2ea51068b959c14fc7866adf)** to **[1aaeab2](https://github.com/sagemath/sagetrac-mirror/commit/1aaeab2e9eac98286db0f2ab34190e500f4db792)**



---

archive/issue_comments_199039.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27663feffb8cf5325b6ea4c8c2f2dd793775ce23\">27663fe</a></td><td><code>Trac 16051: comparing fast_callable constants by value and type</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9eb0789bf99a2d976cb57f8104f33bc6e7c5deea\">9eb0789</a></td><td><code>Trac #16051: changed type to parent for constant comparison</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1aaeab2e9eac98286db0f2ab34190e500f4db792\">1aaeab2</a></td><td><code>Merge branch 'u/bhutz/ticket/16051' of git://trac.sagemath.org/sage into ticket/15780</code></td></tr></table>\n",
    "created_at": "2014-04-07T13:04:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199039",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27663feffb8cf5325b6ea4c8c2f2dd793775ce23">27663fe</a></td><td><code>Trac 16051: comparing fast_callable constants by value and type</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9eb0789bf99a2d976cb57f8104f33bc6e7c5deea">9eb0789</a></td><td><code>Trac #16051: changed type to parent for constant comparison</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1aaeab2e9eac98286db0f2ab34190e500f4db792">1aaeab2</a></td><td><code>Merge branch 'u/bhutz/ticket/16051' of git://trac.sagemath.org/sage into ticket/15780</code></td></tr></table>




---

archive/issue_comments_199040.json:
```json
{
    "body": "Dependencies: **#16051**",
    "created_at": "2014-04-07T13:04:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199040",
    "user": "https://github.com/dillonmrose"
}
```

Dependencies: **#16051**



---

archive/issue_comments_199041.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83f8b79aa0c508375c8b99acccbb4925722ddef7\">83f8b79</a></td><td><code>Fixed doctests.</code></td></tr></table>\n",
    "created_at": "2014-04-07T13:13:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199041",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83f8b79aa0c508375c8b99acccbb4925722ddef7">83f8b79</a></td><td><code>Fixed doctests.</code></td></tr></table>




---

archive/issue_comments_199042.json:
```json
{
    "body": "Changed commit from **[1aaeab2](https://github.com/sagemath/sagetrac-mirror/commit/1aaeab2e9eac98286db0f2ab34190e500f4db792)** to **[83f8b79](https://github.com/sagemath/sagetrac-mirror/commit/83f8b79aa0c508375c8b99acccbb4925722ddef7)**",
    "created_at": "2014-04-07T13:13:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199042",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1aaeab2](https://github.com/sagemath/sagetrac-mirror/commit/1aaeab2e9eac98286db0f2ab34190e500f4db792)** to **[83f8b79](https://github.com/sagemath/sagetrac-mirror/commit/83f8b79aa0c508375c8b99acccbb4925722ddef7)**



---

archive/issue_comments_199043.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI used timeit on a random degree 3 map on P^3 and it took 717 microseconds per loop.  This is very fast and doesn't really warrant lazy initialization.",
    "created_at": "2014-04-07T14:34:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199043",
    "user": "https://github.com/dillonmrose"
}
```

<div id="comment:20" align="right">comment:20</div>

I used timeit on a random degree 3 map on P^3 and it took 717 microseconds per loop.  This is very fast and doesn't really warrant lazy initialization.



---

archive/issue_comments_199044.json:
```json
{
    "body": "Changed branch from **[u/drose/ticket/15780](https://github.com/sagemath/sagetrac-mirror/tree/u/drose/ticket/15780)** to **[u/bhutz/ticket/15780](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/ticket/15780)**",
    "created_at": "2014-04-09T23:01:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199044",
    "user": "https://github.com/bhutz"
}
```

Changed branch from **[u/drose/ticket/15780](https://github.com/sagemath/sagetrac-mirror/tree/u/drose/ticket/15780)** to **[u/bhutz/ticket/15780](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/ticket/15780)**



---

archive/issue_comments_199045.json:
```json
{
    "body": "Changed commit from **[83f8b79](https://github.com/sagemath/sagetrac-mirror/commit/83f8b79aa0c508375c8b99acccbb4925722ddef7)** to **[6be7361](https://github.com/sagemath/sagetrac-mirror/commit/6be7361b9186ede2ff230139c7972c9f38fc8f94)**",
    "created_at": "2014-04-09T23:01:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199045",
    "user": "https://github.com/bhutz"
}
```

Changed commit from **[83f8b79](https://github.com/sagemath/sagetrac-mirror/commit/83f8b79aa0c508375c8b99acccbb4925722ddef7)** to **[6be7361](https://github.com/sagemath/sagetrac-mirror/commit/6be7361b9186ede2ff230139c7972c9f38fc8f94)**



---

archive/issue_comments_199046.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nHad some trouble with the rebase, so had to force the push on the branch. I think everything is still correct.\n\nAlthough there are a couple doctest failures that are still present\n\ngeneric/morphism.py\nprojective/projective_morphism.py (from the parallel code #15920)\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ef4bf629b8913d88d359663ddd3471c6654df0d\">1ef4bf6</a></td><td><code>trac 15780. Change to projective morphism `_call_` function.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b707ba209f92526f31753c63f3c6460e8b81441c\">b707ba2</a></td><td><code>trac 15780.  Added documentation.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aaade14f758a6c8bbe90dd3e6f75f788fa26ed1e\">aaade14</a></td><td><code>trac 15780.  Added documentation to projective morphism.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/309f4edeb9a9fcba80c4ff3d2ef98d2f0091dc67\">309f4ed</a></td><td><code>trac 15780.  Added documentation.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e351fcc6f04279b98c86ba30dcf59f7c1d69b5b0\">e351fcc</a></td><td><code>Trac 16051: comparing fast_callable constants by value and type</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79cbdf3b97d2627e29b8db8e5145c159c50f7595\">79cbdf3</a></td><td><code>Trac #16051: changed type to parent for constant comparison</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9cf64e3feaa6fff896de1a5822552b97de9867b\">c9cf64e</a></td><td><code>Removed camelCase variables.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ffd64cdccc66c5ebd82f15a531bdc898d1891f9\">4ffd64c</a></td><td><code>Removed more camelCase variables.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7c887e32335641ed4be30636a3ce1e7957306f2\">f7c887e</a></td><td><code>Fixed doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6be7361b9186ede2ff230139c7972c9f38fc8f94\">6be7361</a></td><td><code>rebase to 6.2.beta7 and remove whitespace</code></td></tr></table>\n",
    "created_at": "2014-04-09T23:01:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199046",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:21" align="right">comment:21</div>

Had some trouble with the rebase, so had to force the push on the branch. I think everything is still correct.

Although there are a couple doctest failures that are still present

generic/morphism.py
projective/projective_morphism.py (from the parallel code #15920)

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ef4bf629b8913d88d359663ddd3471c6654df0d">1ef4bf6</a></td><td><code>trac 15780. Change to projective morphism `_call_` function.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b707ba209f92526f31753c63f3c6460e8b81441c">b707ba2</a></td><td><code>trac 15780.  Added documentation.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aaade14f758a6c8bbe90dd3e6f75f788fa26ed1e">aaade14</a></td><td><code>trac 15780.  Added documentation to projective morphism.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/309f4edeb9a9fcba80c4ff3d2ef98d2f0091dc67">309f4ed</a></td><td><code>trac 15780.  Added documentation.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e351fcc6f04279b98c86ba30dcf59f7c1d69b5b0">e351fcc</a></td><td><code>Trac 16051: comparing fast_callable constants by value and type</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79cbdf3b97d2627e29b8db8e5145c159c50f7595">79cbdf3</a></td><td><code>Trac #16051: changed type to parent for constant comparison</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9cf64e3feaa6fff896de1a5822552b97de9867b">c9cf64e</a></td><td><code>Removed camelCase variables.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ffd64cdccc66c5ebd82f15a531bdc898d1891f9">4ffd64c</a></td><td><code>Removed more camelCase variables.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7c887e32335641ed4be30636a3ce1e7957306f2">f7c887e</a></td><td><code>Fixed doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6be7361b9186ede2ff230139c7972c9f38fc8f94">6be7361</a></td><td><code>rebase to 6.2.beta7 and remove whitespace</code></td></tr></table>




---

archive/issue_comments_199047.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@dillonmrose](#comment:20):\n> I used timeit on a random degree 3 map on P<sup>3</sup> and it took 717 microseconds per loop.  This is very fast and doesn't really warrant lazy initialization.\n\nWhether 717 ms is a lot depends on what you compare it to. I'm finding (on 6.0):\n\n```\nsage: P5=ProjectiveSpace(Rationals(),5)\nsage: R=P2.coordinate_ring()\nsage: mon=[R({tuple(a):1}) for a in WeightedIntegerVectors(4,[1,1,1,1,1,1])]\nsage: L=[sum(random_sublist(mon,0.1)) for j in [0..5]]\nsage: %timeit P2.hom(L,P2)\n10000 loops, best of 3: 63.3 us per loop\nsage: %timeit [fast_callable(l) for l in L]\n100 loops, best of 3: 1.94 ms per loop\n```\nas you see, creating the fast callables is *much* slower than creating the map. If you increase the polynomials in L (by increasing the degree of the monomials, for instance), the difference gets worse. I'd say that's enough time penalty to hold off on it unless you actually need the fast_callables.",
    "created_at": "2014-04-10T03:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199047",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@dillonmrose](#comment:20):
> I used timeit on a random degree 3 map on P<sup>3</sup> and it took 717 microseconds per loop.  This is very fast and doesn't really warrant lazy initialization.

Whether 717 ms is a lot depends on what you compare it to. I'm finding (on 6.0):

```
sage: P5=ProjectiveSpace(Rationals(),5)
sage: R=P2.coordinate_ring()
sage: mon=[R({tuple(a):1}) for a in WeightedIntegerVectors(4,[1,1,1,1,1,1])]
sage: L=[sum(random_sublist(mon,0.1)) for j in [0..5]]
sage: %timeit P2.hom(L,P2)
10000 loops, best of 3: 63.3 us per loop
sage: %timeit [fast_callable(l) for l in L]
100 loops, best of 3: 1.94 ms per loop
```
as you see, creating the fast callables is *much* slower than creating the map. If you increase the polynomials in L (by increasing the degree of the monomials, for instance), the difference gets worse. I'd say that's enough time penalty to hold off on it unless you actually need the fast_callables.



---

archive/issue_comments_199048.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nYes, it is definitely slower than creating the map, but < 1ms didn't seem to be worth bothering over. Note that you wrote 717ms not the actual 717us.\n\nWe could put a try/except in call and init them in the except. Any idea how much overhead a try block adds? As far as I can tell in a couple tests it doesn't actually add an execution time. If that's the case, then there is no reason not to do it lazily.",
    "created_at": "2014-04-10T13:28:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199048",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:23" align="right">comment:23</div>

Yes, it is definitely slower than creating the map, but < 1ms didn't seem to be worth bothering over. Note that you wrote 717ms not the actual 717us.

We could put a try/except in call and init them in the except. Any idea how much overhead a try block adds? As far as I can tell in a couple tests it doesn't actually add an execution time. If that's the case, then there is no reason not to do it lazily.



---

archive/issue_comments_199049.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@bhutz](#comment:23):\n> We could put a try/except in call and init them in the except. Any idea how much overhead a try block adds? As far as I can tell in a couple tests it doesn't actually add an execution time. If that's the case, then there is no reason not to do it lazily.\n\nPython is designed to let \"try\" be very fast. If an exception occurs there is a bit larger penalty but in this case it wouldn't be measurable compared to the `fast callable`.\n\nThe recommended way to store the fast_callable would be by accessing them through a `cached_method` or a `lazy_attribute`. See their docstrings for examples. Just don't go sticking `cached_method` decorators on methods arbitrarily. That's how we get memory leaks :-).",
    "created_at": "2014-04-10T14:24:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199049",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@bhutz](#comment:23):
> We could put a try/except in call and init them in the except. Any idea how much overhead a try block adds? As far as I can tell in a couple tests it doesn't actually add an execution time. If that's the case, then there is no reason not to do it lazily.

Python is designed to let "try" be very fast. If an exception occurs there is a bit larger penalty but in this case it wouldn't be measurable compared to the `fast callable`.

The recommended way to store the fast_callable would be by accessing them through a `cached_method` or a `lazy_attribute`. See their docstrings for examples. Just don't go sticking `cached_method` decorators on methods arbitrarily. That's how we get memory leaks :-).



---

archive/issue_comments_199050.json:
```json
{
    "body": "Changed branch from **[u/bhutz/ticket/15780](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/ticket/15780)** to **[u/drose/ticket/15780](https://github.com/sagemath/sagetrac-mirror/tree/u/drose/ticket/15780)**",
    "created_at": "2014-04-22T00:38:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199050",
    "user": "https://github.com/dillonmrose"
}
```

Changed branch from **[u/bhutz/ticket/15780](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/ticket/15780)** to **[u/drose/ticket/15780](https://github.com/sagemath/sagetrac-mirror/tree/u/drose/ticket/15780)**



---

archive/issue_comments_199051.json:
```json
{
    "body": "Changed dependencies from **#16051** to **#16051, #16168**",
    "created_at": "2014-04-22T00:38:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199051",
    "user": "https://github.com/dillonmrose"
}
```

Changed dependencies from **#16051** to **#16051, #16168**



---

archive/issue_events_225311.json:
```json
{
    "actor": "https://github.com/dillonmrose",
    "created_at": "2014-04-22T01:54:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225311"
}
```



---

archive/issue_events_225312.json:
```json
{
    "actor": "https://github.com/dillonmrose",
    "created_at": "2014-04-22T01:54:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225312"
}
```



---

archive/issue_comments_199052.json:
```json
{
    "body": "Changed commit from **[6be7361](https://github.com/sagemath/sagetrac-mirror/commit/6be7361b9186ede2ff230139c7972c9f38fc8f94)** to **[2a4342e](https://github.com/sagemath/sagetrac-mirror/commit/2a4342e2ec2d4d5d3524ab9a7a0aa6510bd66447)**",
    "created_at": "2014-04-22T01:54:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199052",
    "user": "https://github.com/dillonmrose"
}
```

Changed commit from **[6be7361](https://github.com/sagemath/sagetrac-mirror/commit/6be7361b9186ede2ff230139c7972c9f38fc8f94)** to **[2a4342e](https://github.com/sagemath/sagetrac-mirror/commit/2a4342e2ec2d4d5d3524ab9a7a0aa6510bd66447)**



---

archive/issue_comments_199053.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4c86a39d276e82ab05778fbf6d1c4cc734fe4dc\">d4c86a3</a></td><td><code>Fixed error message in __call__.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a82afa08665d34f98c7833d293b1af3de6a2ea0b\">a82afa0</a></td><td><code>Added lazy_attribute to fastpolys.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c0149c8a44b59c86d0b0199ef8fa804855037e8\">6c0149c</a></td><td><code>Merge branch 'develop' into ticket/15780</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/821551463fa674a7756f9f085410728f814a23a0\">8215514</a></td><td><code>Fixed parallelizaion using p_iter_fork.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d93ea5a5a65b6b45eb0bfe88094ecd217508943\">9d93ea5</a></td><td><code>Minor changes to fix initial bugs in fix.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3fd6fbd4cfbd54dbb153ef71596dfced670dd6e5\">3fd6fbd</a></td><td><code>Merge branch 'u/drose/ticket/16168' of git://trac.sagemath.org/sage into ticket/15780</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf3c19f56747cc4c01f6ce85d3aa66e93f8d2067\">bf3c19f</a></td><td><code>Changed code to comply with style.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0489ecb0fcef10a2be2c0c784d37f58eff2a458\">d0489ec</a></td><td><code>Merge branch 'u/drose/ticket/16168' of git://trac.sagemath.org/sage into ticket/15780</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a4342e2ec2d4d5d3524ab9a7a0aa6510bd66447\">2a4342e</a></td><td><code>Fixed lazy attribute and merged 16168.</code></td></tr></table>\n",
    "created_at": "2014-04-22T01:54:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199053",
    "user": "https://github.com/dillonmrose"
}
```

<div id="comment:27"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4c86a39d276e82ab05778fbf6d1c4cc734fe4dc">d4c86a3</a></td><td><code>Fixed error message in __call__.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a82afa08665d34f98c7833d293b1af3de6a2ea0b">a82afa0</a></td><td><code>Added lazy_attribute to fastpolys.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c0149c8a44b59c86d0b0199ef8fa804855037e8">6c0149c</a></td><td><code>Merge branch 'develop' into ticket/15780</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/821551463fa674a7756f9f085410728f814a23a0">8215514</a></td><td><code>Fixed parallelizaion using p_iter_fork.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d93ea5a5a65b6b45eb0bfe88094ecd217508943">9d93ea5</a></td><td><code>Minor changes to fix initial bugs in fix.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3fd6fbd4cfbd54dbb153ef71596dfced670dd6e5">3fd6fbd</a></td><td><code>Merge branch 'u/drose/ticket/16168' of git://trac.sagemath.org/sage into ticket/15780</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf3c19f56747cc4c01f6ce85d3aa66e93f8d2067">bf3c19f</a></td><td><code>Changed code to comply with style.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0489ecb0fcef10a2be2c0c784d37f58eff2a458">d0489ec</a></td><td><code>Merge branch 'u/drose/ticket/16168' of git://trac.sagemath.org/sage into ticket/15780</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a4342e2ec2d4d5d3524ab9a7a0aa6510bd66447">2a4342e</a></td><td><code>Fixed lazy attribute and merged 16168.</code></td></tr></table>




---

archive/issue_events_225313.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2014-04-23T15:20:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225313"
}
```



---

archive/issue_events_225314.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2014-04-23T15:20:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225314"
}
```



---

archive/issue_comments_199054.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nFunctionality all tests out fine. A couple minor issues that need to be addressed\n\n1) _fast_eval does not use the parameter 'check'. Simply remove (from both _fast_eval functions)\n\n2) `@`lazy_attribute function needs the documentation string + an example\n\n2b) in the `@`lazy_attribute. Put the 'prime' and 'degree' inside the 'if' block so they are only computed if they are needed.\n\n3) There is an extra blank line in _fast_eval for finite fields that can be removed\n\n4) I'd like to see a few more doctests in _fast_eval. Maybe\n  a) Powerseries ring\n\n  b) quotient ring\n\nYou can pull them from comment 8 above.",
    "created_at": "2014-04-23T15:20:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199054",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:28" align="right">comment:28</div>

Functionality all tests out fine. A couple minor issues that need to be addressed

1) _fast_eval does not use the parameter 'check'. Simply remove (from both _fast_eval functions)

2) `@`lazy_attribute function needs the documentation string + an example

2b) in the `@`lazy_attribute. Put the 'prime' and 'degree' inside the 'if' block so they are only computed if they are needed.

3) There is an extra blank line in _fast_eval for finite fields that can be removed

4) I'd like to see a few more doctests in _fast_eval. Maybe
  a) Powerseries ring

  b) quotient ring

You can pull them from comment 8 above.



---

archive/issue_comments_199055.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\n* justify constant `2**27` as bound on \"no overflow in float\" (you should use doubles).\n* for the sake of defensive programming, would you use\n\n```\nmax(abs(c.lift()) for c in coefficients)\n```\ninstead? `max(GF(17)).lift()` happens to work at present, but it doesn't really make mathematical sense.\n\nAlso, if you really want to scrape the bottom on this, you should use balanced representatives, also on the coordinates when you fill them in. That would give you a larger range where you can use float.\n\nWhat you'd really need is a `cdef ulong` domain. Then you could just evaluate with 64-bit integers, which would give you a much better bound than `2^27`.",
    "created_at": "2014-04-23T16:05:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199055",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:29" align="right">comment:29</div>

* justify constant `2**27` as bound on "no overflow in float" (you should use doubles).
* for the sake of defensive programming, would you use

```
max(abs(c.lift()) for c in coefficients)
```
instead? `max(GF(17)).lift()` happens to work at present, but it doesn't really make mathematical sense.

Also, if you really want to scrape the bottom on this, you should use balanced representatives, also on the coordinates when you fill them in. That would give you a larger range where you can use float.

What you'd really need is a `cdef ulong` domain. Then you could just evaluate with 64-bit integers, which would give you a much better bound than `2^27`.



---

archive/issue_comments_199056.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7484355186426d352ae82582722987b7b934e864\">7484355</a></td><td><code>Fixed issues reported on trac server comment 28 and 29.</code></td></tr></table>\n",
    "created_at": "2014-04-25T17:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199056",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7484355186426d352ae82582722987b7b934e864">7484355</a></td><td><code>Fixed issues reported on trac server comment 28 and 29.</code></td></tr></table>




---

archive/issue_comments_199057.json:
```json
{
    "body": "Changed commit from **[2a4342e](https://github.com/sagemath/sagetrac-mirror/commit/2a4342e2ec2d4d5d3524ab9a7a0aa6510bd66447)** to **[7484355](https://github.com/sagemath/sagetrac-mirror/commit/7484355186426d352ae82582722987b7b934e864)**",
    "created_at": "2014-04-25T17:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199057",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2a4342e](https://github.com/sagemath/sagetrac-mirror/commit/2a4342e2ec2d4d5d3524ab9a7a0aa6510bd66447)** to **[7484355](https://github.com/sagemath/sagetrac-mirror/commit/7484355186426d352ae82582722987b7b934e864)**



---

archive/issue_comments_199058.json:
```json
{
    "body": "Changed commit from **[7484355](https://github.com/sagemath/sagetrac-mirror/commit/7484355186426d352ae82582722987b7b934e864)** to **[9be3bba](https://github.com/sagemath/sagetrac-mirror/commit/9be3bba9c7a154309feb9d6e3951f12ed6622a62)**",
    "created_at": "2014-04-25T17:32:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199058",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7484355](https://github.com/sagemath/sagetrac-mirror/commit/7484355186426d352ae82582722987b7b934e864)** to **[9be3bba](https://github.com/sagemath/sagetrac-mirror/commit/9be3bba9c7a154309feb9d6e3951f12ed6622a62)**



---

archive/issue_comments_199059.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9be3bba9c7a154309feb9d6e3951f12ed6622a62\">9be3bba</a></td><td><code>Changed doctest for fast_eval.</code></td></tr></table>\n",
    "created_at": "2014-04-25T17:32:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199059",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9be3bba9c7a154309feb9d6e3951f12ed6622a62">9be3bba</a></td><td><code>Changed doctest for fast_eval.</code></td></tr></table>




---

archive/issue_comments_199060.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nThe previous issues all now test out and my concerns were all addressed. In response to Nils, the 27 is now replaced with the system float precision which is 53 on my 64-bit machine. I'm not overly concerned about aggressively optimizing the float usage for speed increase since if the prime is large enough to overrun the height bound for 'reasonable' maps, then the algorithms would never finish anyway (which is what the speed increase is supposed to help). Maps that overrun the bound due to large degree/moderate prime are theoretically fine in the algorithm, but won't get this speed increase and will do the fast_eval over ZZ (or whatever the base ring is).\n\nIf you have any other comments on these changes let me know before I mark this as positive.",
    "created_at": "2014-04-26T21:42:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199060",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:32" align="right">comment:32</div>

The previous issues all now test out and my concerns were all addressed. In response to Nils, the 27 is now replaced with the system float precision which is 53 on my 64-bit machine. I'm not overly concerned about aggressively optimizing the float usage for speed increase since if the prime is large enough to overrun the height bound for 'reasonable' maps, then the algorithms would never finish anyway (which is what the speed increase is supposed to help). Maps that overrun the bound due to large degree/moderate prime are theoretically fine in the algorithm, but won't get this speed increase and will do the fast_eval over ZZ (or whatever the base ring is).

If you have any other comments on these changes let me know before I mark this as positive.



---

archive/issue_events_225315.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2014-05-01T14:58:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225315"
}
```



---

archive/issue_events_225316.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2014-05-01T14:58:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225316"
}
```



---

archive/issue_comments_199061.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c858d5467daed909d63961fe5b997b51bc524965\">c858d54</a></td><td><code>Switched parallelization to p_iter_fork.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a1cf6d74facf3cb8dc25611a158b77021799691\">0a1cf6d</a></td><td><code>Added documentation on new keyword ncpus.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be46079a2b064ce01aa7a7921a2086938e6d9022\">be46079</a></td><td><code>moved import to header</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/857d08c1d774c80701a4034fb0d296985a857195\">857d08c</a></td><td><code>Merge branch 'u/bhutz/ticket/16168' of git://trac.sagemath.org/sage into ticket/15780</code></td></tr></table>\n",
    "created_at": "2014-05-01T16:09:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199061",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c858d5467daed909d63961fe5b997b51bc524965">c858d54</a></td><td><code>Switched parallelization to p_iter_fork.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a1cf6d74facf3cb8dc25611a158b77021799691">0a1cf6d</a></td><td><code>Added documentation on new keyword ncpus.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be46079a2b064ce01aa7a7921a2086938e6d9022">be46079</a></td><td><code>moved import to header</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/857d08c1d774c80701a4034fb0d296985a857195">857d08c</a></td><td><code>Merge branch 'u/bhutz/ticket/16168' of git://trac.sagemath.org/sage into ticket/15780</code></td></tr></table>




---

archive/issue_events_225317.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2014-05-01T16:09:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225317"
}
```



---

archive/issue_events_225318.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2014-05-01T16:09:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225318"
}
```



---

archive/issue_comments_199062.json:
```json
{
    "body": "Changed commit from **[9be3bba](https://github.com/sagemath/sagetrac-mirror/commit/9be3bba9c7a154309feb9d6e3951f12ed6622a62)** to **[857d08c](https://github.com/sagemath/sagetrac-mirror/commit/857d08c1d774c80701a4034fb0d296985a857195)**",
    "created_at": "2014-05-01T16:09:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199062",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9be3bba](https://github.com/sagemath/sagetrac-mirror/commit/9be3bba9c7a154309feb9d6e3951f12ed6622a62)** to **[857d08c](https://github.com/sagemath/sagetrac-mirror/commit/857d08c1d774c80701a4034fb0d296985a857195)**



---

archive/issue_comments_199063.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81fba1bf7dcba1262da95ed4af0b9bf5566adf43\">81fba1b</a></td><td><code>Fixed import statements.</code></td></tr></table>\n",
    "created_at": "2014-05-01T16:10:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199063",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81fba1bf7dcba1262da95ed4af0b9bf5566adf43">81fba1b</a></td><td><code>Fixed import statements.</code></td></tr></table>




---

archive/issue_comments_199064.json:
```json
{
    "body": "Changed commit from **[857d08c](https://github.com/sagemath/sagetrac-mirror/commit/857d08c1d774c80701a4034fb0d296985a857195)** to **[81fba1b](https://github.com/sagemath/sagetrac-mirror/commit/81fba1bf7dcba1262da95ed4af0b9bf5566adf43)**",
    "created_at": "2014-05-01T16:10:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199064",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[857d08c](https://github.com/sagemath/sagetrac-mirror/commit/857d08c1d774c80701a4034fb0d296985a857195)** to **[81fba1b](https://github.com/sagemath/sagetrac-mirror/commit/81fba1bf7dcba1262da95ed4af0b9bf5566adf43)**



---

archive/issue_comments_199065.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nThe 16168 changes had not been merged in. Now they are.",
    "created_at": "2014-05-01T16:12:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199065",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:36" align="right">comment:36</div>

The 16168 changes had not been merged in. Now they are.



---

archive/issue_events_225319.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225319"
}
```



---

archive/issue_events_225320.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225320"
}
```



---

archive/issue_events_225321.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2014-05-08T22:54:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225321"
}
```



---

archive/issue_events_225322.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2014-05-08T22:54:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225322"
}
```



---

archive/issue_comments_199066.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nThis passes all tests and the changes look fine.",
    "created_at": "2014-05-08T22:54:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199066",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:38" align="right">comment:38</div>

This passes all tests and the changes look fine.



---

archive/issue_events_225323.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2014-05-09T13:22:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225323"
}
```



---

archive/issue_events_225324.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2014-05-09T13:22:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225324"
}
```



---

archive/issue_comments_199067.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nneed to clean-up the history",
    "created_at": "2014-05-09T13:22:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199067",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:39" align="right">comment:39</div>

need to clean-up the history



---

archive/issue_events_225325.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2014-05-09T15:53:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225325"
}
```



---

archive/issue_events_225326.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2014-05-09T15:53:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225326"
}
```



---

archive/issue_comments_199068.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nnever mind. I think this is ok. I was concerned about commit `6c0149c`, but it's where it is updated to 6.2.beta8",
    "created_at": "2014-05-09T15:53:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199068",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:40" align="right">comment:40</div>

never mind. I think this is ok. I was concerned about commit `6c0149c`, but it's where it is updated to 6.2.beta8



---

archive/issue_events_225327.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-12T09:48:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225327"
}
```



---

archive/issue_events_225328.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "b9dfe035a627f4e39ba2b9068f9c721185dd5f7c",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-05-12T09:48:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15780#event-225328"
}
```



---

archive/issue_comments_199069.json:
```json
{
    "body": "Changed branch from **[u/drose/ticket/15780](https://github.com/sagemath/sagetrac-mirror/tree/u/drose/ticket/15780)** to **[81fba1b](https://github.com/sagemath/sagetrac-mirror/commit/81fba1bf7dcba1262da95ed4af0b9bf5566adf43)**",
    "created_at": "2014-05-12T09:48:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15780#issuecomment-199069",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/drose/ticket/15780](https://github.com/sagemath/sagetrac-mirror/tree/u/drose/ticket/15780)** to **[81fba1b](https://github.com/sagemath/sagetrac-mirror/commit/81fba1bf7dcba1262da95ed4af0b9bf5566adf43)**
