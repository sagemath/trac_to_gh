# Issue 15391: Implementing the Foata bijection on permutations

archive/issues_015154.json:
```json
{
    "assignees": [],
    "body": "Adds a method for applying the Foata bijection to a permutation.\n\nCC:  @jessicapalencia @tscrim @sagetrac-sage-combinat\n\nKeywords: **days54, combinat, findstat02**\n\nBranch/Commit: **[public/combinat/permutation/foata-15391](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/permutation/foata-15391) @ [`5a60319`](https://github.com/sagemath/sagetrac-mirror/commit/5a60319ced9c1921892f2b4235a4439e5a84672e)**\n\nReviewer: **Jessica Striker, Travis Scrimshaw**\n\nAuthor: **Maria Monks**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15391_\n\n",
    "closed_at": "2013-12-20T15:50:53Z",
    "created_at": "2013-11-09T22:34:20Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implementing the Foata bijection on permutations",
    "type": "issue",
    "updated_at": "2013-12-20T15:50:53Z",
    "url": "https://github.com/sagemath/sage/issues/15391",
    "user": "https://github.com/MariaMonks"
}
```
Adds a method for applying the Foata bijection to a permutation.

CC:  @jessicapalencia @tscrim @sagetrac-sage-combinat

Keywords: **days54, combinat, findstat02**

Branch/Commit: **[public/combinat/permutation/foata-15391](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/permutation/foata-15391) @ [`5a60319`](https://github.com/sagemath/sagetrac-mirror/commit/5a60319ced9c1921892f2b4235a4439e5a84672e)**

Reviewer: **Jessica Striker, Travis Scrimshaw**

Author: **Maria Monks**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/15391_





---

archive/issue_events_217001.json:
```json
{
    "actor": "https://github.com/MariaMonks",
    "created_at": "2013-11-09T22:34:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "milestone_number": null,
    "milestone_title": "sage-5.13",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15391#event-217001"
}
```



---

archive/issue_events_217002.json:
```json
{
    "actor": "https://github.com/MariaMonks",
    "created_at": "2013-11-09T22:34:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15391#event-217002"
}
```



---

archive/issue_events_217003.json:
```json
{
    "actor": "https://github.com/MariaMonks",
    "created_at": "2013-11-09T22:34:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15391#event-217003"
}
```



---

archive/issue_events_217004.json:
```json
{
    "actor": "https://github.com/MariaMonks",
    "created_at": "2013-11-09T22:34:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15391#event-217004"
}
```



---

archive/issue_comments_191294.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><code>[b2ba47e](https://github.com/sagemath/sagetrac-mirror/commit/b2ba47e)</code></td><td><code>Added Foata bijection</code></td></tr></table>\n",
    "created_at": "2013-11-14T23:36:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191294",
    "user": "https://github.com/MariaMonks"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><code>[b2ba47e](https://github.com/sagemath/sagetrac-mirror/commit/b2ba47e)</code></td><td><code>Added Foata bijection</code></td></tr></table>




---

archive/issue_events_217005.json:
```json
{
    "actor": "https://github.com/MariaMonks",
    "created_at": "2013-11-14T23:36:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15391#event-217005"
}
```



---

archive/issue_comments_191295.json:
```json
{
    "body": "Commit: **[`b2ba47e`](https://github.com/sagemath/sagetrac-mirror/commit/b2ba47e743d882999d716f4ac810916eda534413)**",
    "created_at": "2013-11-14T23:36:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191295",
    "user": "https://github.com/MariaMonks"
}
```

Commit: **[`b2ba47e`](https://github.com/sagemath/sagetrac-mirror/commit/b2ba47e743d882999d716f4ac810916eda534413)**



---

archive/issue_comments_191296.json:
```json
{
    "body": "Branch: **[public/combinat/permutation/foata-15391](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/permutation/foata-15391)**",
    "created_at": "2013-11-14T23:36:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191296",
    "user": "https://github.com/MariaMonks"
}
```

Branch: **[public/combinat/permutation/foata-15391](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/permutation/foata-15391)**



---

archive/issue_comments_191297.json:
```json
{
    "body": "Changed keywords from **days54, combinat** to **days54, combinat, findstat02**",
    "created_at": "2013-11-14T23:37:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191297",
    "user": "https://github.com/MariaMonks"
}
```

Changed keywords from **days54, combinat** to **days54, combinat, findstat02**



---

archive/issue_comments_191298.json:
```json
{
    "body": "Changed commit from **[`b2ba47e`](https://github.com/sagemath/sagetrac-mirror/commit/b2ba47e743d882999d716f4ac810916eda534413)** to **[`be7baf7`](https://github.com/sagemath/sagetrac-mirror/commit/be7baf7a74abaa63efb165a429d3699535aebb43)**",
    "created_at": "2013-11-15T21:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191298",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b2ba47e`](https://github.com/sagemath/sagetrac-mirror/commit/b2ba47e743d882999d716f4ac810916eda534413)** to **[`be7baf7`](https://github.com/sagemath/sagetrac-mirror/commit/be7baf7a74abaa63efb165a429d3699535aebb43)**



---

archive/issue_comments_191299.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><code>[be7baf7](https://github.com/sagemath/sagetrac-mirror/commit/be7baf7)</code></td><td><code>Doc test edits</code></td></tr></table>\n",
    "created_at": "2013-11-15T21:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191299",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><code>[be7baf7](https://github.com/sagemath/sagetrac-mirror/commit/be7baf7)</code></td><td><code>Doc test edits</code></td></tr></table>




---

archive/issue_comments_191300.json:
```json
{
    "body": "Reviewer: **Jessica Striker**",
    "created_at": "2013-11-15T21:42:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191300",
    "user": "https://github.com/jessicapalencia"
}
```

Reviewer: **Jessica Striker**



---

archive/issue_comments_191301.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nHi Maria, The code looks good. A couple of the doc tests failed, though. After you edit the permutation.py file, you can run the doc tests by typing from the command line:\nsage -bt permutation.py\n\n(the -b builds sage and the -t runs the doc tests in the file you specify)\n\nThis rebuilds sage with your code inserted and runs the doc tests. I fixed the syntax on your doc tests so that they work and pushed the changes to trac. You can see the diff by clicking on (commits) in the branch field above. Or you can pull the changes to your local machine to test them out. If you are happy with my changes, you may set the ticket to positive review.",
    "created_at": "2013-11-15T21:42:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191301",
    "user": "https://github.com/jessicapalencia"
}
```

<div id="comment:4" align="right">comment:4</div>

Hi Maria, The code looks good. A couple of the doc tests failed, though. After you edit the permutation.py file, you can run the doc tests by typing from the command line:
sage -bt permutation.py

(the -b builds sage and the -t runs the doc tests in the file you specify)

This rebuilds sage with your code inserted and runs the doc tests. I fixed the syntax on your doc tests so that they work and pushed the changes to trac. You can see the diff by clicking on (commits) in the branch field above. Or you can pull the changes to your local machine to test them out. If you are happy with my changes, you may set the ticket to positive review.



---

archive/issue_comments_191302.json:
```json
{
    "body": "Changed commit from **[`be7baf7`](https://github.com/sagemath/sagetrac-mirror/commit/be7baf7a74abaa63efb165a429d3699535aebb43)** to **[`6906e12`](https://github.com/sagemath/sagetrac-mirror/commit/6906e12fa9f32b19d3f8e45e82cc2d7270972a27)**",
    "created_at": "2013-11-16T01:50:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191302",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`be7baf7`](https://github.com/sagemath/sagetrac-mirror/commit/be7baf7a74abaa63efb165a429d3699535aebb43)** to **[`6906e12`](https://github.com/sagemath/sagetrac-mirror/commit/6906e12fa9f32b19d3f8e45e82cc2d7270972a27)**



---

archive/issue_comments_191303.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><code>[6906e12](https://github.com/sagemath/sagetrac-mirror/commit/6906e12)</code></td><td><code>formatting changes (we aren't saving the environment)</code></td></tr></table>\n",
    "created_at": "2013-11-16T01:50:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191303",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><code>[6906e12](https://github.com/sagemath/sagetrac-mirror/commit/6906e12)</code></td><td><code>formatting changes (we aren't saving the environment)</code></td></tr></table>




---

archive/issue_comments_191304.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><code>[76b82a8](https://github.com/sagemath/sagetrac-mirror/commit/76b82a8)</code></td><td><code>+reference +example</code></td></tr><tr><td><code>[d27a8d8](https://github.com/sagemath/sagetrac-mirror/commit/d27a8d8)</code></td><td><code>no need to compare e with itself</code></td></tr></table>\n",
    "created_at": "2013-11-16T02:06:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191304",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><code>[76b82a8](https://github.com/sagemath/sagetrac-mirror/commit/76b82a8)</code></td><td><code>+reference +example</code></td></tr><tr><td><code>[d27a8d8](https://github.com/sagemath/sagetrac-mirror/commit/d27a8d8)</code></td><td><code>no need to compare e with itself</code></td></tr></table>




---

archive/issue_comments_191305.json:
```json
{
    "body": "Changed commit from **[`6906e12`](https://github.com/sagemath/sagetrac-mirror/commit/6906e12fa9f32b19d3f8e45e82cc2d7270972a27)** to **[`76b82a8`](https://github.com/sagemath/sagetrac-mirror/commit/76b82a84d76a340d242cf4e6791dc763938f8d51)**",
    "created_at": "2013-11-16T02:06:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191305",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6906e12`](https://github.com/sagemath/sagetrac-mirror/commit/6906e12fa9f32b19d3f8e45e82cc2d7270972a27)** to **[`76b82a8`](https://github.com/sagemath/sagetrac-mirror/commit/76b82a84d76a340d242cf4e6791dc763938f8d51)**



---

archive/issue_comments_191306.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHi Maria,\n\nnice work. If you're fine with my changes, set this to positive_review. Unfortunately, a (trivial, I hope) conflict resolution might become necessary once my #15174 is merged into Sage.\n\nGreets,\\\\\nDarij",
    "created_at": "2013-11-16T02:08:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191306",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:7" align="right">comment:7</div>

Hi Maria,

nice work. If you're fine with my changes, set this to positive_review. Unfortunately, a (trivial, I hope) conflict resolution might become necessary once my #15174 is merged into Sage.

Greets,\\
Darij



---

archive/issue_comments_191307.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><code>[5a60319](https://github.com/sagemath/sagetrac-mirror/commit/5a60319)</code></td><td><code>Fixes to documentation.</code></td></tr><tr><td><code>[c0fc6f4](https://github.com/sagemath/sagetrac-mirror/commit/c0fc6f4)</code></td><td><code>Some formatting changes.</code></td></tr><tr><td><code>[1c1ee9f](https://github.com/sagemath/sagetrac-mirror/commit/1c1ee9f)</code></td><td><code>Merge branch 'master' into public/combinat/permutation/foata-15391</code></td></tr></table>\n",
    "created_at": "2013-11-19T20:57:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191307",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><code>[5a60319](https://github.com/sagemath/sagetrac-mirror/commit/5a60319)</code></td><td><code>Fixes to documentation.</code></td></tr><tr><td><code>[c0fc6f4](https://github.com/sagemath/sagetrac-mirror/commit/c0fc6f4)</code></td><td><code>Some formatting changes.</code></td></tr><tr><td><code>[1c1ee9f](https://github.com/sagemath/sagetrac-mirror/commit/1c1ee9f)</code></td><td><code>Merge branch 'master' into public/combinat/permutation/foata-15391</code></td></tr></table>




---

archive/issue_comments_191308.json:
```json
{
    "body": "Changed commit from **[`76b82a8`](https://github.com/sagemath/sagetrac-mirror/commit/76b82a84d76a340d242cf4e6791dc763938f8d51)** to **[`5a60319`](https://github.com/sagemath/sagetrac-mirror/commit/5a60319ced9c1921892f2b4235a4439e5a84672e)**",
    "created_at": "2013-11-19T20:57:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191308",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`76b82a8`](https://github.com/sagemath/sagetrac-mirror/commit/76b82a84d76a340d242cf4e6791dc763938f8d51)** to **[`5a60319`](https://github.com/sagemath/sagetrac-mirror/commit/5a60319ced9c1921892f2b4235a4439e5a84672e)**



---

archive/issue_comments_191309.json:
```json
{
    "body": "Changed reviewer from **Jessica Striker** to **Jessica Striker, Travis Scrimshaw**",
    "created_at": "2013-11-19T21:04:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191309",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Jessica Striker** to **Jessica Striker, Travis Scrimshaw**



---

archive/issue_comments_191310.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI've updated it to the latest `5.13.beta3`, simplified the logic and made some additional tweaks. I'm happy with it, so it's up to someone else to check my changes and set a positive review.",
    "created_at": "2013-11-19T21:04:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191310",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">comment:9</div>

I've updated it to the latest `5.13.beta3`, simplified the logic and made some additional tweaks. I'm happy with it, so it's up to someone else to check my changes and set a positive review.



---

archive/issue_comments_191311.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nHi all,\n\nSorry, I'm new to this.  How do I see the changed file all in one place?  Do I pull something from the repository?  I just want to check it over before setting it to positive review.  Thanks for all your tweaks!\n\nMaria",
    "created_at": "2013-11-21T19:51:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191311",
    "user": "https://github.com/MariaMonks"
}
```

<div id="comment:10" align="right">comment:10</div>

Hi all,

Sorry, I'm new to this.  How do I see the changed file all in one place?  Do I pull something from the repository?  I just want to check it over before setting it to positive review.  Thanks for all your tweaks!

Maria



---

archive/issue_comments_191312.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nHi Maria,\n\nI was just looking at it now too. Yes, you should switch to your local branch and pull the changes from the trac server. I believe the commands are:\n\ngit fetch origin\n\npull --ff-only\n\nJessica",
    "created_at": "2013-11-21T19:54:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191312",
    "user": "https://github.com/jessicapalencia"
}
```

<div id="comment:11" align="right">comment:11</div>

Hi Maria,

I was just looking at it now too. Yes, you should switch to your local branch and pull the changes from the trac server. I believe the commands are:

git fetch origin

pull --ff-only

Jessica



---

archive/issue_comments_191313.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nAfter you pull, you can look at the new code, but if you want to test the features in Sage, you need to build sage:\n\nsage -bt permutation.py\n\nBut for me, it's taking a long time to build, probably because it's upgrading to a new beta version. (Is this to be expected, Travis?)\n\nAnyway, once you're happy with it, you can set it to positive review.",
    "created_at": "2013-11-21T21:06:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191313",
    "user": "https://github.com/jessicapalencia"
}
```

<div id="comment:12" align="right">comment:12</div>

After you pull, you can look at the new code, but if you want to test the features in Sage, you need to build sage:

sage -bt permutation.py

But for me, it's taking a long time to build, probably because it's upgrading to a new beta version. (Is this to be expected, Travis?)

Anyway, once you're happy with it, you can set it to positive review.



---

archive/issue_comments_191314.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@jessicapalencia](#comment:12):\n> But for me, it's taking a long time to build, probably because it's upgrading to a new beta version. (Is this to be expected, Travis?)\n\nYes, it's expected. The recent bump changes some low-level `.pxi` or similar such file that everything depends on, so a big recompile occurs. I got annoyed by this and merged the latest beta version into all my branches. Although this should improve significantly with #15430 (and ccache I think...) in the sense that we shouldn't need to do the recompile, or at least it will be significantly sped up, when changing between branches which change cython files.",
    "created_at": "2013-11-22T02:41:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191314",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@jessicapalencia](#comment:12):
> But for me, it's taking a long time to build, probably because it's upgrading to a new beta version. (Is this to be expected, Travis?)

Yes, it's expected. The recent bump changes some low-level `.pxi` or similar such file that everything depends on, so a big recompile occurs. I got annoyed by this and merged the latest beta version into all my branches. Although this should improve significantly with #15430 (and ccache I think...) in the sense that we shouldn't need to do the recompile, or at least it will be significantly sped up, when changing between branches which change cython files.



---

archive/issue_events_217006.json:
```json
{
    "actor": "https://github.com/MariaMonks",
    "created_at": "2013-11-22T19:22:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15391#event-217006"
}
```



---

archive/issue_events_217007.json:
```json
{
    "actor": "https://github.com/MariaMonks",
    "created_at": "2013-11-22T19:22:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15391#event-217007"
}
```



---

archive/issue_comments_191315.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nOk, all the changes look good, and I set it to positive review.  (And yes, I also had to leave sage to rebuild overnight.) What happens next?",
    "created_at": "2013-11-22T19:23:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191315",
    "user": "https://github.com/MariaMonks"
}
```

<div id="comment:15" align="right">comment:15</div>

Ok, all the changes look good, and I set it to positive review.  (And yes, I also had to leave sage to rebuild overnight.) What happens next?



---

archive/issue_events_217008.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2013-11-22T22:22:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "milestone_number": null,
    "milestone_title": "sage-5.13",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15391#event-217008"
}
```



---

archive/issue_events_217009.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2013-11-22T22:22:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "milestone_number": null,
    "milestone_title": "sage-6.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15391#event-217009"
}
```



---

archive/issue_comments_191316.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n+In the case of no conflict, it gets merged into Sage 6.0 more or less automatically (unless the patchbot finds errors in the patch).\n \n+If some conflict arises (this might happen due to #15174 and other mercurial stuff that will probably get merged before this one), the release manager will reset this ticket to needs_work, and someone will have to make a merge commit to bring this patch up to date. \"Someone\" can be any of us, as resolving this kind of conflict (bugfixes in old methods vs. introduction of a new method) should be very easy. (Maybe the release manager will do it himself.)\n+\n+Good work, Maria! (Already using the method...)\n``````\n",
    "created_at": "2013-11-22T22:22:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191316",
    "user": "https://github.com/darijgr"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
+In the case of no conflict, it gets merged into Sage 6.0 more or less automatically (unless the patchbot finds errors in the patch).
 
+If some conflict arises (this might happen due to #15174 and other mercurial stuff that will probably get merged before this one), the release manager will reset this ticket to needs_work, and someone will have to make a merge commit to bring this patch up to date. "Someone" can be any of us, as resolving this kind of conflict (bugfixes in old methods vs. introduction of a new method) should be very easy. (Maybe the release manager will do it himself.)
+
+Good work, Maria! (Already using the method...)
``````




---

archive/issue_comments_191317.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nIn the case of no conflict, it gets merged into Sage 6.0 more or less automatically (unless the patchbot finds errors in the patch). \n\nIf some conflict arises (this might happen due to #15174 and other mercurial stuff that will probably get merged before this one), the release manager will reset this ticket to needs_work, and someone will have to make a merge commit to bring this patch up to date. \"Someone\" can be any of us, as resolving this kind of conflict (bugfixes in old methods vs. introduction of a new method) should be very easy. (Maybe the release manager will do it himself.)\n\nGood work, Maria! (Already using the method...)",
    "created_at": "2013-11-22T22:23:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191317",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:17" align="right">comment:17</div>

In the case of no conflict, it gets merged into Sage 6.0 more or less automatically (unless the patchbot finds errors in the patch). 

If some conflict arises (this might happen due to #15174 and other mercurial stuff that will probably get merged before this one), the release manager will reset this ticket to needs_work, and someone will have to make a merge commit to bring this patch up to date. "Someone" can be any of us, as resolving this kind of conflict (bugfixes in old methods vs. introduction of a new method) should be very easy. (Maybe the release manager will do it himself.)

Good work, Maria! (Already using the method...)



---

archive/issue_comments_191318.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1 @@\n-In the case of no conflict, it gets merged into Sage 6.0 more or less automatically (unless the patchbot finds errors in the patch).\n-\n-If some conflict arises (this might happen due to #15174 and other mercurial stuff that will probably get merged before this one), the release manager will reset this ticket to needs_work, and someone will have to make a merge commit to bring this patch up to date. \"Someone\" can be any of us, as resolving this kind of conflict (bugfixes in old methods vs. introduction of a new method) should be very easy. (Maybe the release manager will do it himself.)\n-\n-Good work, Maria! (Already using the method...)\n+Adds a method for applying the Foata bijection to a permutation.\n``````\n",
    "created_at": "2013-11-22T22:23:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15391#issuecomment-191318",
    "user": "https://github.com/darijgr"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1 @@
-In the case of no conflict, it gets merged into Sage 6.0 more or less automatically (unless the patchbot finds errors in the patch).
-
-If some conflict arises (this might happen due to #15174 and other mercurial stuff that will probably get merged before this one), the release manager will reset this ticket to needs_work, and someone will have to make a merge commit to bring this patch up to date. "Someone" can be any of us, as resolving this kind of conflict (bugfixes in old methods vs. introduction of a new method) should be very easy. (Maybe the release manager will do it himself.)
-
-Good work, Maria! (Already using the method...)
+Adds a method for applying the Foata bijection to a permutation.
``````




---

archive/issue_events_217010.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2013-12-17T18:39:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "milestone_number": null,
    "milestone_title": "sage-6.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15391#event-217010"
}
```



---

archive/issue_events_217011.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2013-12-17T18:39:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15391#event-217011"
}
```



---

archive/issue_events_217012.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-12-20T15:50:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15391#event-217012"
}
```



---

archive/issue_events_217013.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "69b08fac6143894890e19b0a213d38a43103725c",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2013-12-20T15:50:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15391",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15391#event-217013"
}
```
