# Issue 15178: the pexpect in sage has a major bug in it -- the which command is broken (easy to fix)

archive/issues_014941.json:
```json
{
    "body": "It's pretty obvious that there is a problem.  This was reported in the thread:\n\n   https://groups.google.com/forum/#!topic/sage-cloud/8NgkWfTbU78\n\nThere is an easy 1-line fix, which is to replace the line\n\n```\nif os.access (filename, os.X_OK) and not os.path.isdir(f):\n```\nwith\n\n```\nif os.access (filename, os.X_OK) and not os.path.isdir(filename):\n```\n\nat the beginning of the \"which\" function. \n\n\nCC:  @kiwifb\n\nBranch/Commit: 4fdef7436a08d4ad2af8900d81816f440d7f9c34\n\nWork_Issues: Update `package-version.txt`\n\nReviewer: William Stein, Peter Bruin\n\nAuthor: Bradly Schlenker\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/15178\n\n",
    "closed_at": "2014-05-25T17:31:46Z",
    "created_at": "2013-09-08T17:51:46Z",
    "labels": [
        "component: packages: standard",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "the pexpect in sage has a major bug in it -- the which command is broken (easy to fix)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15178",
    "user": "was, certik"
}
```
It's pretty obvious that there is a problem.  This was reported in the thread:

   https://groups.google.com/forum/#!topic/sage-cloud/8NgkWfTbU78

There is an easy 1-line fix, which is to replace the line

```
if os.access (filename, os.X_OK) and not os.path.isdir(f):
```
with

```
if os.access (filename, os.X_OK) and not os.path.isdir(filename):
```

at the beginning of the "which" function. 


CC:  @kiwifb

Branch/Commit: 4fdef7436a08d4ad2af8900d81816f440d7f9c34

Work_Issues: Update `package-version.txt`

Reviewer: William Stein, Peter Bruin

Author: Bradly Schlenker

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/15178





---

archive/issue_events_043779.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15178#event-43779"
}
```



---

archive/issue_comments_203529.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -2,12 +2,19 @@\n \n    https://groups.google.com/forum/#!topic/sage-cloud/8NgkWfTbU78\n \n-There is an easy 1-line fix, which is to put\n+There is an easy 1-line fix, which is to replace the line\n \n ```\n-   f = filename\n+if os.access (filename, os.X_OK) and not os.path.isdir(f):\n ```\n-at the beginning of the \"which\" function.\n+with\n+\n+```\n+if os.access (filename, os.X_OK) and not os.path.isdir(filename):\n+```\n+\n+at the beginning of the \"which\" function. \n+\n \n Comment: 1\n \n```\n",
    "created_at": "2014-04-27T16:53:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203529",
    "user": "https://github.com/williamstein"
}
```

Description changed:
```diff
--- 
+++ 
@@ -2,12 +2,19 @@
 
    https://groups.google.com/forum/#!topic/sage-cloud/8NgkWfTbU78
 
-There is an easy 1-line fix, which is to put
+There is an easy 1-line fix, which is to replace the line
 
 ```
-   f = filename
+if os.access (filename, os.X_OK) and not os.path.isdir(f):
 ```
-at the beginning of the "which" function.
+with
+
+```
+if os.access (filename, os.X_OK) and not os.path.isdir(filename):
+```
+
+at the beginning of the "which" function. 
+
 
 Comment: 1
 
```




---

archive/issue_events_043780.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:19:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15178#event-43780"
}
```



---

archive/issue_events_043781.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:19:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15178#event-43781"
}
```



---

archive/issue_comments_203530.json:
```json
{
    "body": "<a id='comment:5'></a>New commits:",
    "created_at": "2014-05-08T03:09:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203530",
    "user": "https://trac.sagemath.org/admin/accounts/users/bradlys"
}
```

<a id='comment:5'></a>New commits:



---

archive/issue_comments_203531.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-05-08T03:09:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203531",
    "user": "https://trac.sagemath.org/admin/accounts/users/bradlys"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_203532.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-09T19:30:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203532",
    "user": "https://github.com/williamstein"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_203533.json:
```json
{
    "body": "<a id='comment:6'></a>\n```\nsage -f pexpect\n\npatching file pexpect.py\npatching file pexpect.py\npatching file pexpect.py\nHunk #1 FAILED at 1134.\n1 out of 1 hunk FAILED -- saving rejects to file pexpect.py.rej\nError applying '../patches/filename.patch'\n \nreal    0m0.092s\nuser    0m0.003s\nsys     0m0.009s\n************************************************************************\nError installing package pexpect-2.0.p5\n```",
    "created_at": "2014-05-09T19:30:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203533",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:6'></a>
```
sage -f pexpect

patching file pexpect.py
patching file pexpect.py
patching file pexpect.py
Hunk #1 FAILED at 1134.
1 out of 1 hunk FAILED -- saving rejects to file pexpect.py.rej
Error applying '../patches/filename.patch'
 
real    0m0.092s
user    0m0.003s
sys     0m0.009s
************************************************************************
Error installing package pexpect-2.0.p5
```



---

archive/issue_comments_203534.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-10T19:33:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203534",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_203535.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-05-11T00:15:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203535",
    "user": "https://github.com/nexttime"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_203536.json:
```json
{
    "body": "<a id='comment:10'></a>Probably the patch level in the package version (`package-version.txt`) should get bumped (to `.p6`), although with the \"new git workflow\" others just drop it (and also delete the changelog in `SPKG.txt`, which I don't like).",
    "created_at": "2014-05-11T00:21:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203536",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:10'></a>Probably the patch level in the package version (`package-version.txt`) should get bumped (to `.p6`), although with the "new git workflow" others just drop it (and also delete the changelog in `SPKG.txt`, which I don't like).



---

archive/issue_comments_203537.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-11T00:25:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203537",
    "user": "https://github.com/nexttime"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_203538.json:
```json
{
    "body": "<a id='comment:11'></a>Actually, the bug is introduced by us, trying to fix something else:\n\n```patch\n--- a/pexpect.py\t2007-04-16 07:08:24.000000000 -0700\n+++ b/pexpect.py\t2009-01-23 01:49:18.000000000 -0800\n@@ -1130,7 +1130,7 @@\n     \"\"\"\n     # Special case where filename already contains a path.\n     if os.path.dirname(filename) != '':\n-        if os.access (filename, os.X_OK):\n+        if os.access (filename, os.X_OK) and not os.path.isdir(f):\n             return filename\n \n     if not os.environ.has_key('PATH') or os.environ['PATH'] == '':\n@@ -1145,7 +1145,7 @@\n \n     for path in pathlist:\n         f = os.path.join(path, filename)\n-        if os.access(f, os.X_OK):\n+        if os.access(f, os.X_OK) and not os.path.isdir(f):\n             return f\n     return None\n \n```\n(This is `patches/pexpect.py-isdir_bug_fix.patch`, so *that one* should get fixed.)",
    "created_at": "2014-05-11T00:25:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203538",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:11'></a>Actually, the bug is introduced by us, trying to fix something else:

```patch
--- a/pexpect.py	2007-04-16 07:08:24.000000000 -0700
+++ b/pexpect.py	2009-01-23 01:49:18.000000000 -0800
@@ -1130,7 +1130,7 @@
     """
     # Special case where filename already contains a path.
     if os.path.dirname(filename) != '':
-        if os.access (filename, os.X_OK):
+        if os.access (filename, os.X_OK) and not os.path.isdir(f):
             return filename
 
     if not os.environ.has_key('PATH') or os.environ['PATH'] == '':
@@ -1145,7 +1145,7 @@
 
     for path in pathlist:
         f = os.path.join(path, filename)
-        if os.access(f, os.X_OK):
+        if os.access(f, os.X_OK) and not os.path.isdir(f):
             return f
     return None
 
```
(This is `patches/pexpect.py-isdir_bug_fix.patch`, so *that one* should get fixed.)



---

archive/issue_comments_203539.json:
```json
{
    "body": "<a id='comment:12'></a>Oh, that one apparently dates back to 2009:\n\n```\n### pexpect-2.0.p2 (William Stein, January 23rd, 2009)\n * created proper SPKG.txt\n * fixed bug in pexpect where it tried to run directories\n```\n\n(Sorry William, could not resist... B) )",
    "created_at": "2014-05-11T00:34:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203539",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:12'></a>Oh, that one apparently dates back to 2009:

```
### pexpect-2.0.p2 (William Stein, January 23rd, 2009)
 * created proper SPKG.txt
 * fixed bug in pexpect where it tried to run directories
```

(Sorry William, could not resist... B) )



---

archive/issue_comments_203540.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:12 leif]:\n> Oh, that one apparently dates back to 2009:\n> \n> ```\n> === pexpect-2.0.p2 (William Stein, January 23rd, 2009) ===\n>  * created proper SPKG.txt\n>  * fixed bug in pexpect where it tried to run directories\n> ```\n> \n> (Sorry William, could not resist... B) )\n\n\nThanks!  Isn't revision control awesome...",
    "created_at": "2014-05-11T14:54:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203540",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:13'></a>Replying to [comment:12 leif]:
> Oh, that one apparently dates back to 2009:
> 
> ```
> === pexpect-2.0.p2 (William Stein, January 23rd, 2009) ===
>  * created proper SPKG.txt
>  * fixed bug in pexpect where it tried to run directories
> ```
> 
> (Sorry William, could not resist... B) )


Thanks!  Isn't revision control awesome...



---

archive/issue_comments_203541.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:13 was]:\n> Thanks!  Isn't revision control awesome...\n\n\nWell, in this case it was our hand-made changelog in `SPKG.txt`, and others don't update but delete it when converting \"legacy\" spkgs to \"new style\" spkgs.",
    "created_at": "2014-05-11T15:05:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203541",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:14'></a>Replying to [comment:13 was]:
> Thanks!  Isn't revision control awesome...


Well, in this case it was our hand-made changelog in `SPKG.txt`, and others don't update but delete it when converting "legacy" spkgs to "new style" spkgs.



---

archive/issue_comments_203542.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-13T02:47:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203542",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_203543.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-05-13T11:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203543",
    "user": "https://github.com/nexttime"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_203544.json:
```json
{
    "body": "<a id='comment:16'></a>Ok.  I personally would have started from scratch, then pushing *a new branch* to trac (with `-f`, force), but the commits aren't that large, so I don't really mind.",
    "created_at": "2014-05-13T11:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203544",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:16'></a>Ok.  I personally would have started from scratch, then pushing *a new branch* to trac (with `-f`, force), but the commits aren't that large, so I don't really mind.



---

archive/issue_comments_203545.json:
```json
{
    "body": "<a id='comment:17'></a>Replying to [comment:10 leif]:\n> Probably the patch level in the package version (`package-version.txt`) should get bumped (to `.p6`), although with the \"new git workflow\" others just drop it\n\nI do think you have to update `package-version.txt`; isn't that how Sage knows that it should reinstall the package with the updated patches?",
    "created_at": "2014-05-17T20:43:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203545",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:17'></a>Replying to [comment:10 leif]:
> Probably the patch level in the package version (`package-version.txt`) should get bumped (to `.p6`), although with the "new git workflow" others just drop it

I do think you have to update `package-version.txt`; isn't that how Sage knows that it should reinstall the package with the updated patches?



---

archive/issue_comments_203546.json:
```json
{
    "body": "<a id='comment:18'></a>Replying to [comment:17 pbruin]:\n> Replying to [comment:10 leif]:\n> > Probably the patch level in the package version (`package-version.txt`) should get bumped (to `.p6`), although with the \"new git workflow\" others just drop it\n\n> I do think you have to update `package-version.txt`; isn't that how Sage knows that it should reinstall the package with the updated patches?\n\nYes.",
    "created_at": "2014-05-17T20:59:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203546",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:18'></a>Replying to [comment:17 pbruin]:
> Replying to [comment:10 leif]:
> > Probably the patch level in the package version (`package-version.txt`) should get bumped (to `.p6`), although with the "new git workflow" others just drop it

> I do think you have to update `package-version.txt`; isn't that how Sage knows that it should reinstall the package with the updated patches?

Yes.



---

archive/issue_comments_203547.json:
```json
{
    "body": "<a id='comment:19'></a>Leif beat me to it. The only reason not to bump the version is if you fix a building bug which prevented some people (but not everyone) to install. People with successful install shouldn't have to re-install and the people for whom you provided the fix couldn't install.",
    "created_at": "2014-05-17T21:04:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203547",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:19'></a>Leif beat me to it. The only reason not to bump the version is if you fix a building bug which prevented some people (but not everyone) to install. People with successful install shouldn't have to re-install and the people for whom you provided the fix couldn't install.



---

archive/issue_comments_203548.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-18T13:21:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203548",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_203549.json:
```json
{
    "body": "<a id='comment:20'></a>patchbot:\n\n```\nsage -t --long /scratch/sage/src/sage/interfaces/expect.py\n**********************************************************************\nFile \"/scratch/sage/src/sage/interfaces/expect.py\", line 786, in sage.interface\ns.expect.Expect._eval_line\nFailed example:\n    singular.interrupt(timeout=3)  # sometimes very slow (up to 60s on sage.mat\nh, 2012)\nExpected:\n    False\nGot:\n    True\n**********************************************************************\n1 item had failures:\n   1 of  15 in sage.interfaces.expect.Expect._eval_line\n    [81 tests, 1 failure, 20.20 s]\n```",
    "created_at": "2014-05-18T13:21:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203549",
    "user": "https://github.com/rwst"
}
```

<a id='comment:20'></a>patchbot:

```
sage -t --long /scratch/sage/src/sage/interfaces/expect.py
**********************************************************************
File "/scratch/sage/src/sage/interfaces/expect.py", line 786, in sage.interface
s.expect.Expect._eval_line
Failed example:
    singular.interrupt(timeout=3)  # sometimes very slow (up to 60s on sage.mat
h, 2012)
Expected:
    False
Got:
    True
**********************************************************************
1 item had failures:
   1 of  15 in sage.interfaces.expect.Expect._eval_line
    [81 tests, 1 failure, 20.20 s]
```



---

archive/issue_comments_203550.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [comment:20 rws]:\n> patchbot:\n> \n> ```\n> sage -t --long /scratch/sage/src/sage/interfaces/expect.py\n> **********************************************************************\n> File \"/scratch/sage/src/sage/interfaces/expect.py\", line 786, in sage.interface\n> s.expect.Expect._eval_line\n> Failed example:\n>     singular.interrupt(timeout=3)  # sometimes very slow (up to 60s on sage.mat\n> h, 2012)\n> Expected:\n>     False\n> Got:\n>     True\n> **********************************************************************\n> 1 item had failures:\n>    1 of  15 in sage.interfaces.expect.Expect._eval_line\n>     [81 tests, 1 failure, 20.20 s]\n> ```\n\n\nHow could the change here be related to this?",
    "created_at": "2014-05-18T13:48:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203550",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:21'></a>Replying to [comment:20 rws]:
> patchbot:
> 
> ```
> sage -t --long /scratch/sage/src/sage/interfaces/expect.py
> **********************************************************************
> File "/scratch/sage/src/sage/interfaces/expect.py", line 786, in sage.interface
> s.expect.Expect._eval_line
> Failed example:
>     singular.interrupt(timeout=3)  # sometimes very slow (up to 60s on sage.mat
> h, 2012)
> Expected:
>     False
> Got:
>     True
> **********************************************************************
> 1 item had failures:
>    1 of  15 in sage.interfaces.expect.Expect._eval_line
>     [81 tests, 1 failure, 20.20 s]
> ```


How could the change here be related to this?



---

archive/issue_comments_203551.json:
```json
{
    "body": "<a id='comment:22'></a>Is it not? I was only superficially skimming. Then it's another patchbot problem. Sorry for the fuss.\n\nEdit: Actually it was #10476 that hit.",
    "created_at": "2014-05-18T13:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203551",
    "user": "https://github.com/rwst"
}
```

<a id='comment:22'></a>Is it not? I was only superficially skimming. Then it's another patchbot problem. Sorry for the fuss.

Edit: Actually it was #10476 that hit.



---

archive/issue_comments_203552.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-05-18T13:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203552",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_203553.json:
```json
{
    "body": "<a id='comment:23'></a>So, are we going to update `package-version.txt`?\n\nThe changelog entry in `SPKG.txt` refers to `.p6`, but we could also just delete the whole changelog (later?).\n\nIn the latter case, should `package-version.txt` still refer to `.p5`? ;-)\n\nBut here we actually change a patch to `pexpect`, so...",
    "created_at": "2014-05-18T14:04:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203553",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:23'></a>So, are we going to update `package-version.txt`?

The changelog entry in `SPKG.txt` refers to `.p6`, but we could also just delete the whole changelog (later?).

In the latter case, should `package-version.txt` still refer to `.p5`? ;-)

But here we actually change a patch to `pexpect`, so...



---

archive/issue_comments_203554.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-18T14:04:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203554",
    "user": "https://github.com/nexttime"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_203555.json:
```json
{
    "body": "<a id='comment:24'></a>Merged the previous commits into one and added the `package-version.txt` update as a reviewer patch.",
    "created_at": "2014-05-24T12:02:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203555",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:24'></a>Merged the previous commits into one and added the `package-version.txt` update as a reviewer patch.



---

archive/issue_comments_203556.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-05-24T12:02:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203556",
    "user": "https://github.com/pjbruin"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_203557.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-05-25T17:31:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15178#issuecomment-203557",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_043782.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-25T17:31:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15178",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15178#event-43782"
}
```
