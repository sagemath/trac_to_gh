# Issue 15328: Filtered vector spaces and Klyachko bundles on toric varieties

archive/issues_015091.json:
```json
{
    "body": "This ticket implements filtered vector spaces and multi-filtered vector spaces (multiple filtrations of a single vector space). This is then used to implement Klyachko bundles. \n\nMandatory fun example: There are 3 torus-equivariant deformations of the tangent bundle on the del Pezzo of degree 6:\n\n```\nsage: dP6 = toric_varieties.dP6()\nsage: TX = dP6.sheaves.tangent_bundle()\nsage: (TX * TX.dual()).cohomology(weight=(0,0), dim=True)\n(1, 3, 0)\n```\n\n\nKeywords: filtered\n\nBranch/Commit: 649f93d1bcc4c059015eb7cd14ee05466b8c3e7b\n\nReviewer: Dima Pasechnik\n\nAuthor: Volker Braun\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/15328\n\n",
    "closed_at": "2016-01-24T12:52:54Z",
    "created_at": "2013-10-26T13:20:55Z",
    "labels": [
        "component: algebraic geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Filtered vector spaces and Klyachko bundles on toric varieties",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15328",
    "user": "https://github.com/vbraun"
}
```
This ticket implements filtered vector spaces and multi-filtered vector spaces (multiple filtrations of a single vector space). This is then used to implement Klyachko bundles. 

Mandatory fun example: There are 3 torus-equivariant deformations of the tangent bundle on the del Pezzo of degree 6:

```
sage: dP6 = toric_varieties.dP6()
sage: TX = dP6.sheaves.tangent_bundle()
sage: (TX * TX.dual()).cohomology(weight=(0,0), dim=True)
(1, 3, 0)
```


Keywords: filtered

Branch/Commit: 649f93d1bcc4c059015eb7cd14ee05466b8c3e7b

Reviewer: Dima Pasechnik

Author: Volker Braun

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/15328





---

archive/issue_comments_240033.json:
```json
{
    "body": "Changing branch from \"\" to \"u/vbraun/toric_bundle\"",
    "created_at": "2013-10-26T13:21:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240033",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "" to "u/vbraun/toric_bundle"



---

archive/issue_comments_240034.json:
```json
{
    "body": "<a id='comment:1'></a>\nLast 10 new commits:\n|       |                                        |\n|-------|----------------------------------------|\n|2ccbe41|Finished documentation, doctest coverage|\n|60e1814|added random_deformation|\n|4183d8f|moved Klyachko bundles to the new multi-filtered vector spaces|\n|4551632|new MultiFilteredVectorSpace for vector space with multiple filtrations|\n|4c01fe1|rewritten filtered vector spaces to work with (degree-graded) generators|\n|cd2b01a|moved the tensor operations support to a different file|\n|5ebae6a|fixed doctests|\n|aa0f4f4|renaming bundle -> sheaf|\n|5216fe4|fixed doctest failures in filtered_vector_space|\n|af8a842|improving filtered vector space|",
    "created_at": "2013-10-26T13:21:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240034",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:1'></a>
Last 10 new commits:
|       |                                        |
|-------|----------------------------------------|
|2ccbe41|Finished documentation, doctest coverage|
|60e1814|added random_deformation|
|4183d8f|moved Klyachko bundles to the new multi-filtered vector spaces|
|4551632|new MultiFilteredVectorSpace for vector space with multiple filtrations|
|4c01fe1|rewritten filtered vector spaces to work with (degree-graded) generators|
|cd2b01a|moved the tensor operations support to a different file|
|5ebae6a|fixed doctests|
|aa0f4f4|renaming bundle -> sheaf|
|5216fe4|fixed doctest failures in filtered_vector_space|
|af8a842|improving filtered vector space|



---

archive/issue_comments_240035.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-10-26T13:21:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240035",
    "user": "https://github.com/vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_240036.json:
```json
{
    "body": "Changing commit from \"\" to \"2ccbe41bb6c7274eb0b5ff823c41c2b44d0a0481\"",
    "created_at": "2013-10-26T13:21:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240036",
    "user": "https://github.com/vbraun"
}
```

Changing commit from "" to "2ccbe41bb6c7274eb0b5ff823c41c2b44d0a0481"



---

archive/issue_comments_240037.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,11 @@\n This ticket implements filtered vector spaces and multi-filtered vector spaces (multiple filtrations of a single vector space). This is then used to implement Klyachko bundles. \n \n+Mandatory fun example: There are 3 torus-equivariant deformations of the tangent bundle on the del Pezzo of degree 6:\n \n+```\n+sage: dP6 = toric_varieties.dP6()\n+sage: TX = dP6.sheaves.tangent_bundle()\n+sage: (TX * TX.dual()).cohomology(weight=(0,0), dim=True)\n+(1, 3, 0)\n+```\n+\n``````\n",
    "created_at": "2013-10-26T13:29:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240037",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,11 @@
 This ticket implements filtered vector spaces and multi-filtered vector spaces (multiple filtrations of a single vector space). This is then used to implement Klyachko bundles. 
 
+Mandatory fun example: There are 3 torus-equivariant deformations of the tangent bundle on the del Pezzo of degree 6:
 
+```
+sage: dP6 = toric_varieties.dP6()
+sage: TX = dP6.sheaves.tangent_bundle()
+sage: (TX * TX.dual()).cohomology(weight=(0,0), dim=True)
+(1, 3, 0)
+```
+
``````




---

archive/issue_comments_240038.json:
```json
{
    "body": "Changing commit from \"2ccbe41bb6c7274eb0b5ff823c41c2b44d0a0481\" to \"f8795453690992d9c65330436dd96621f8f4d449\"",
    "created_at": "2013-10-27T21:50:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240038",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2ccbe41bb6c7274eb0b5ff823c41c2b44d0a0481" to "f8795453690992d9c65330436dd96621f8f4d449"



---

archive/issue_comments_240039.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|       |             |\n|-------|-------------|\n|f879545|docstring fix|",
    "created_at": "2013-10-27T21:50:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240039",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|       |             |
|-------|-------------|
|f879545|docstring fix|



---

archive/issue_events_058606.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15328#event-58606"
}
```



---

archive/issue_events_058607.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15328#event-58607"
}
```



---

archive/issue_events_058608.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15328#event-58608"
}
```



---

archive/issue_comments_240040.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-11T06:51:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240040",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_240041.json:
```json
{
    "body": "Changing work_issues from \"\" to \"rebase\"",
    "created_at": "2014-05-11T06:51:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240041",
    "user": "https://github.com/rwst"
}
```

Changing work_issues from "" to "rebase"



---

archive/issue_comments_240042.json:
```json
{
    "body": "Changing commit from \"f8795453690992d9c65330436dd96621f8f4d449\" to \"4d79e8d7a13fca464b470c58b23a2dcef6005758\"",
    "created_at": "2014-05-12T09:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240042",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f8795453690992d9c65330436dd96621f8f4d449" to "4d79e8d7a13fca464b470c58b23a2dcef6005758"



---

archive/issue_comments_240043.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[4d79e8d](https://github.com/sagemath/sagetrac-mirror/commit/4d79e8d7a13fca464b470c58b23a2dcef6005758)|`Merge branch 'develop' into t/15328/toric_bundle`|",
    "created_at": "2014-05-12T09:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240043",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[4d79e8d](https://github.com/sagemath/sagetrac-mirror/commit/4d79e8d7a13fca464b470c58b23a2dcef6005758)|`Merge branch 'develop' into t/15328/toric_bundle`|



---

archive/issue_comments_240044.json:
```json
{
    "body": "Changing work_issues from \"rebase\" to \"\"",
    "created_at": "2014-05-12T09:42:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240044",
    "user": "https://github.com/vbraun"
}
```

Changing work_issues from "rebase" to ""



---

archive/issue_comments_240045.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-05-12T09:42:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240045",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_240046.json:
```json
{
    "body": "<a id='comment:9'></a>\n\n```\nError building the documentation.\nTraceback (most recent call last):\n...\nOSError: [modules  ] /home/ralf/sage/local/lib/python2.7/site-packages/sage/modules/tensor_operations.py:docstring of sage.modules.tensor_operations:31: ERROR: Unexpected indentation.\n```",
    "created_at": "2014-05-18T16:27:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240046",
    "user": "https://github.com/rwst"
}
```

<a id='comment:9'></a>

```
Error building the documentation.
Traceback (most recent call last):
...
OSError: [modules  ] /home/ralf/sage/local/lib/python2.7/site-packages/sage/modules/tensor_operations.py:docstring of sage.modules.tensor_operations:31: ERROR: Unexpected indentation.
```



---

archive/issue_comments_240047.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-18T16:27:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240047",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_058609.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15328#event-58609"
}
```



---

archive/issue_events_058610.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15328#event-58610"
}
```



---

archive/issue_comments_240048.json:
```json
{
    "body": "Changing commit from \"4d79e8d7a13fca464b470c58b23a2dcef6005758\" to \"f4a57659e8677ecd781c75622525cc3744d32edd\"",
    "created_at": "2015-08-09T09:10:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240048",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "4d79e8d7a13fca464b470c58b23a2dcef6005758" to "f4a57659e8677ecd781c75622525cc3744d32edd"



---

archive/issue_events_058611.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-08-09T09:10:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15328#event-58611"
}
```



---

archive/issue_events_058612.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-08-09T09:10:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15328#event-58612"
}
```



---

archive/issue_comments_240049.json:
```json
{
    "body": "<a id='comment:11'></a>\nrebased\n\n---\nNew commits:\n|                                                                                                                                          |                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[f4a5765](https://github.com/sagemath/sagetrac-mirror/commit/f4a57659e8677ecd781c75622525cc3744d32edd)|`Merge branch 'u/vbraun/toric_bundle' into 6.9.b1`|",
    "created_at": "2015-08-09T09:10:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240049",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
rebased

---
New commits:
|                                                                                                                                          |                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[f4a5765](https://github.com/sagemath/sagetrac-mirror/commit/f4a57659e8677ecd781c75622525cc3744d32edd)|`Merge branch 'u/vbraun/toric_bundle' into 6.9.b1`|



---

archive/issue_comments_240050.json:
```json
{
    "body": "Changing branch from \"u/vbraun/toric_bundle\" to \"public/ticket/15328\"",
    "created_at": "2015-08-09T09:10:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240050",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "u/vbraun/toric_bundle" to "public/ticket/15328"



---

archive/issue_comments_240051.json:
```json
{
    "body": "Changing commit from \"f4a57659e8677ecd781c75622525cc3744d32edd\" to \"b0b6280cc688b0583625c89b3d36d9fcdb98843d\"",
    "created_at": "2015-08-09T09:54:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240051",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f4a57659e8677ecd781c75622525cc3744d32edd" to "b0b6280cc688b0583625c89b3d36d9fcdb98843d"



---

archive/issue_comments_240052.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[b0b6280](https://github.com/sagemath/sagetrac-mirror/commit/b0b6280cc688b0583625c89b3d36d9fcdb98843d)|`trac #15328 make doc build, various doc corrections`|",
    "created_at": "2015-08-09T09:54:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240052",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[b0b6280](https://github.com/sagemath/sagetrac-mirror/commit/b0b6280cc688b0583625c89b3d36d9fcdb98843d)|`trac #15328 make doc build, various doc corrections`|



---

archive/issue_comments_240053.json:
```json
{
    "body": "<a id='comment:13'></a>\ndoc now builds. Back to needs review.",
    "created_at": "2015-08-09T09:55:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240053",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
doc now builds. Back to needs review.



---

archive/issue_comments_240054.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-08-09T09:55:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240054",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_240055.json:
```json
{
    "body": "<a id='comment:14'></a>\nMissing doctests  modules/tensor_operations.py 12 / 14 = 85%\n\n```\nSCORE src/sage/modules/tensor_operations.py: 85.7% (12 of 14)\n\nMissing documentation:\n     * line 170: def __init__(self, vector_collection, base_ring, dim)\n     * line 254: def __init__(self, vector_collections, operation='product')\n\nPossibly wrong (function name doesn't occur in doctests):\n     * line 341: def _init_product(self)\n     * line 361: def _init_symmetric(self)\n     * line 383: def _init_antisymmetric(self)\n\n```\nso needs_work again",
    "created_at": "2015-08-09T11:37:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240055",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
Missing doctests  modules/tensor_operations.py 12 / 14 = 85%

```
SCORE src/sage/modules/tensor_operations.py: 85.7% (12 of 14)

Missing documentation:
     * line 170: def __init__(self, vector_collection, base_ring, dim)
     * line 254: def __init__(self, vector_collections, operation='product')

Possibly wrong (function name doesn't occur in doctests):
     * line 341: def _init_product(self)
     * line 361: def _init_symmetric(self)
     * line 383: def _init_antisymmetric(self)

```
so needs_work again



---

archive/issue_comments_240056.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-08-09T11:37:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240056",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_240057.json:
```json
{
    "body": "Changing keywords from \"\" to \"filtered\".",
    "created_at": "2015-08-09T18:57:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240057",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "" to "filtered".



---

archive/issue_comments_240058.json:
```json
{
    "body": "<a id='comment:16'></a>\nSee also #17096",
    "created_at": "2015-08-09T18:58:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240058",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
See also #17096



---

archive/issue_comments_240059.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[666d22f](https://github.com/sagemath/sagetrac-mirror/commit/666d22f40a9606da10d514b340f048ca19cd0bd3)|`Merge branch 'public/ticket/15328' into 6.9.b5`|\n|[a49162d](https://github.com/sagemath/sagetrac-mirror/commit/a49162dbc3f80c8b489a6c2c5a9493bea6bf8982)|`trac #15328 adding the two missing doctests`|",
    "created_at": "2015-09-10T19:48:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240059",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[666d22f](https://github.com/sagemath/sagetrac-mirror/commit/666d22f40a9606da10d514b340f048ca19cd0bd3)|`Merge branch 'public/ticket/15328' into 6.9.b5`|
|[a49162d](https://github.com/sagemath/sagetrac-mirror/commit/a49162dbc3f80c8b489a6c2c5a9493bea6bf8982)|`trac #15328 adding the two missing doctests`|



---

archive/issue_comments_240060.json:
```json
{
    "body": "Changing commit from \"b0b6280cc688b0583625c89b3d36d9fcdb98843d\" to \"a49162dbc3f80c8b489a6c2c5a9493bea6bf8982\"",
    "created_at": "2015-09-10T19:48:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240060",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b0b6280cc688b0583625c89b3d36d9fcdb98843d" to "a49162dbc3f80c8b489a6c2c5a9493bea6bf8982"



---

archive/issue_comments_240061.json:
```json
{
    "body": "Changing work_issues from \"\" to \"documentation\"",
    "created_at": "2015-10-18T20:13:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240061",
    "user": "https://github.com/fchapoton"
}
```

Changing work_issues from "" to "documentation"



---

archive/issue_events_058613.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-18T20:13:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15328#event-58613"
}
```



---

archive/issue_events_058614.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-18T20:13:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "milestone": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15328#event-58614"
}
```



---

archive/issue_comments_240062.json:
```json
{
    "body": "Changing commit from \"a49162dbc3f80c8b489a6c2c5a9493bea6bf8982\" to \"cdd3c2ae61535b290bb09de666c48beeb6eeb9f6\"",
    "created_at": "2015-12-22T17:18:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240062",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a49162dbc3f80c8b489a6c2c5a9493bea6bf8982" to "cdd3c2ae61535b290bb09de666c48beeb6eeb9f6"



---

archive/issue_comments_240063.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[db5dff7](https://github.com/sagemath/sagetrac-mirror/commit/db5dff71d718678ce49920440207bb2dd0cbd2cd)|`Merge branch 'public/ticket/15328' into 6.10`|\n|[cdd3c2a](https://github.com/sagemath/sagetrac-mirror/commit/cdd3c2ae61535b290bb09de666c48beeb6eeb9f6)|`trac #15328 taking care of deprecations, but still broken nevetheless`|",
    "created_at": "2015-12-22T17:18:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240063",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[db5dff7](https://github.com/sagemath/sagetrac-mirror/commit/db5dff71d718678ce49920440207bb2dd0cbd2cd)|`Merge branch 'public/ticket/15328' into 6.10`|
|[cdd3c2a](https://github.com/sagemath/sagetrac-mirror/commit/cdd3c2ae61535b290bb09de666c48beeb6eeb9f6)|`trac #15328 taking care of deprecations, but still broken nevetheless`|



---

archive/issue_comments_240064.json:
```json
{
    "body": "<a id='comment:20'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[6d57736](https://github.com/sagemath/sagetrac-mirror/commit/6d57736f49902ef48c1c8877ba012c82ca1a9f7d)|`Merge 7.0.beta1 into #15328`|\n|[c7e87ee](https://github.com/sagemath/sagetrac-mirror/commit/c7e87ee6f35c9c14f8630d9f6b87d21ba2e34471)|`Fix the tensor product confusion`|",
    "created_at": "2015-12-27T20:32:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240064",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[6d57736](https://github.com/sagemath/sagetrac-mirror/commit/6d57736f49902ef48c1c8877ba012c82ca1a9f7d)|`Merge 7.0.beta1 into #15328`|
|[c7e87ee](https://github.com/sagemath/sagetrac-mirror/commit/c7e87ee6f35c9c14f8630d9f6b87d21ba2e34471)|`Fix the tensor product confusion`|



---

archive/issue_comments_240065.json:
```json
{
    "body": "Changing commit from \"cdd3c2ae61535b290bb09de666c48beeb6eeb9f6\" to \"c7e87ee6f35c9c14f8630d9f6b87d21ba2e34471\"",
    "created_at": "2015-12-27T20:32:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240065",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cdd3c2ae61535b290bb09de666c48beeb6eeb9f6" to "c7e87ee6f35c9c14f8630d9f6b87d21ba2e34471"



---

archive/issue_comments_240066.json:
```json
{
    "body": "<a id='comment:21'></a>\nThere is no dot product in `tensor_operations.py`, only tensor products. Your fix was incorrect because of this (somewhat questionable) behavior of cartesian product:\n\n```\nsage: cartesian_product([[1,2], [3,4]])\nThe cartesian product of ({1, 2}, {3, 4})\nsage: list(_)\n[(1, 3), (1, 4), (2, 3), (2, 4)]\n```\nvs.\n\n```\nsage: cartesian_product([vector([1,2]), vector([3,4])])\n((1, 2), (3, 4))\n```",
    "created_at": "2015-12-27T20:39:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240066",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'></a>
There is no dot product in `tensor_operations.py`, only tensor products. Your fix was incorrect because of this (somewhat questionable) behavior of cartesian product:

```
sage: cartesian_product([[1,2], [3,4]])
The cartesian product of ({1, 2}, {3, 4})
sage: list(_)
[(1, 3), (1, 4), (2, 3), (2, 4)]
```
vs.

```
sage: cartesian_product([vector([1,2]), vector([3,4])])
((1, 2), (3, 4))
```



---

archive/issue_comments_240067.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-12-27T20:39:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240067",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_240068.json:
```json
{
    "body": "<a id='comment:22'></a>\nMain question: what about the relation to filtered modules introduced in #17096 ?\n\na typo : function accepcts various",
    "created_at": "2016-01-10T14:03:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240068",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:22'></a>
Main question: what about the relation to filtered modules introduced in #17096 ?

a typo : function accepcts various



---

archive/issue_comments_240069.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [chapoton](#comment%3A22):\n> Main question: what about the relation to filtered modules introduced in #17096 ?\n\n\nNone, this ticket predates #17096 by a year",
    "created_at": "2016-01-10T15:36:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240069",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:23'></a>
Replying to [chapoton](#comment%3A22):
> Main question: what about the relation to filtered modules introduced in #17096 ?


None, this ticket predates #17096 by a year



---

archive/issue_comments_240070.json:
```json
{
    "body": "<a id='comment:24'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |          |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------|\n|[f2bdf6a](https://github.com/sagemath/sagetrac-mirror/commit/f2bdf6a1f4481cb217c290cf1c5e6130f9454b7b)|`Fix typo`|",
    "created_at": "2016-01-10T15:40:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240070",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |          |
|------------------------------------------------------------------------------------------------------------------------------------------|----------|
|[f2bdf6a](https://github.com/sagemath/sagetrac-mirror/commit/f2bdf6a1f4481cb217c290cf1c5e6130f9454b7b)|`Fix typo`|



---

archive/issue_comments_240071.json:
```json
{
    "body": "Changing commit from \"c7e87ee6f35c9c14f8630d9f6b87d21ba2e34471\" to \"f2bdf6a1f4481cb217c290cf1c5e6130f9454b7b\"",
    "created_at": "2016-01-10T15:40:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240071",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c7e87ee6f35c9c14f8630d9f6b87d21ba2e34471" to "f2bdf6a1f4481cb217c290cf1c5e6130f9454b7b"



---

archive/issue_comments_240072.json:
```json
{
    "body": "<a id='comment:25'></a>\nYes, and so what ? Do you claim priority of ticket *creation* has any importance ?\n\nNow #17096 is in sage and this ticket is not. I think that there should be at least a try not to duplicate filtered modules.",
    "created_at": "2016-01-10T17:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240072",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:25'></a>
Yes, and so what ? Do you claim priority of ticket *creation* has any importance ?

Now #17096 is in sage and this ticket is not. I think that there should be at least a try not to duplicate filtered modules.



---

archive/issue_comments_240073.json:
```json
{
    "body": "<a id='comment:26'></a>\n#17096 doesn't have tensor operations as far as I can tell, its totally useless for this ticket.",
    "created_at": "2016-01-10T18:32:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240073",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:26'></a>
#17096 doesn't have tensor operations as far as I can tell, its totally useless for this ticket.



---

archive/issue_comments_240074.json:
```json
{
    "body": "<a id='comment:27'></a>\nthis has just one reference, to a paper by Alex Klyachko published 25 years ago. Certainly there should be more modern references, otherwise it's unclear why one wants to have this in Sage...\n(this paper has a large following, perhaps you can mention more popular sources? A reference to a chapter in the Cox's et al. \"Toric Varieties\" book?)",
    "created_at": "2016-01-15T11:09:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240074",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'></a>
this has just one reference, to a paper by Alex Klyachko published 25 years ago. Certainly there should be more modern references, otherwise it's unclear why one wants to have this in Sage...
(this paper has a large following, perhaps you can mention more popular sources? A reference to a chapter in the Cox's et al. "Toric Varieties" book?)



---

archive/issue_comments_240075.json:
```json
{
    "body": "<a id='comment:28'></a>\nIts implemented in M2 http://www.math.uiuc.edu/Macaulay2/doc/Macaulay2-1.8.2/share/doc/Macaulay2/ToricVectorBundles/html/\n\nThis implementation is a good deal faster, in fact I wrote it because M2 was too slow.\n\nI don't know of a better reference than Klyachko. Really its obvious, an equivariant bundle is determined by how the (finitely many, in the case of a toric variety) orbits fit together. The rest is just technical bookkeeping, and Klyachko writes down the details if you care for them.",
    "created_at": "2016-01-15T11:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240075",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:28'></a>
Its implemented in M2 http://www.math.uiuc.edu/Macaulay2/doc/Macaulay2-1.8.2/share/doc/Macaulay2/ToricVectorBundles/html/

This implementation is a good deal faster, in fact I wrote it because M2 was too slow.

I don't know of a better reference than Klyachko. Really its obvious, an equivariant bundle is determined by how the (finitely many, in the case of a toric variety) orbits fit together. The rest is just technical bookkeeping, and Klyachko writes down the details if you care for them.



---

archive/issue_comments_240076.json:
```json
{
    "body": "<a id='comment:29'></a>\nwell, add this ref to M2, at least; otherwise it's really hard to put into context for anyone who is not deeply involved in the toric varieties business.\n\nAnd, by the way, the name is wrong:\n\n```\n+ Klyachko, Anton Alexander:\n```\nit's a different guy: Klyachko, Aleksandr Anatol\u02b9evich (MR Author ID: \t189605)\n\n      Published as: Klja\u010dko, A. A. ...\n         Klyachko, A.\n         Klyachko, A. A.\n         Klyachko, Alexander\n         Klyachko, Alexander A.",
    "created_at": "2016-01-15T12:15:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240076",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:29'></a>
well, add this ref to M2, at least; otherwise it's really hard to put into context for anyone who is not deeply involved in the toric varieties business.

And, by the way, the name is wrong:

```
+ Klyachko, Anton Alexander:
```
it's a different guy: Klyachko, Aleksandr Anatolʹevich (MR Author ID: 	189605)

      Published as: Kljačko, A. A. ...
         Klyachko, A.
         Klyachko, A. A.
         Klyachko, Alexander
         Klyachko, Alexander A.



---

archive/issue_comments_240077.json:
```json
{
    "body": "<a id='comment:30'></a>\nthere is indeed a mathematician named Anton Aleksandrovich Klyachko; the name says that the name of his father is Alexander.",
    "created_at": "2016-01-15T12:18:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240077",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:30'></a>
there is indeed a mathematician named Anton Aleksandrovich Klyachko; the name says that the name of his father is Alexander.



---

archive/issue_comments_240078.json:
```json
{
    "body": "<a id='comment:31'></a>\nThe Journal website says \"Alexander A Klyachko\" fwiw:\n\nhttp://iopscience.iop.org/article/10.1070/IM1990v035n02ABEH000707/meta;jsessionid=02E4331E01230A500B4CD6E8046730FF.c2.iopscience.cld.iop.org",
    "created_at": "2016-01-15T12:54:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240078",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:31'></a>
The Journal website says "Alexander A Klyachko" fwiw:

http://iopscience.iop.org/article/10.1070/IM1990v035n02ABEH000707/meta;jsessionid=02E4331E01230A500B4CD6E8046730FF.c2.iopscience.cld.iop.org



---

archive/issue_comments_240079.json:
```json
{
    "body": "<a id='comment:32'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[e7a99af](https://github.com/sagemath/sagetrac-mirror/commit/e7a99af230281ebd70fa6f5015178d9f6805d128)|`Improve references`|",
    "created_at": "2016-01-15T13:00:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240079",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[e7a99af](https://github.com/sagemath/sagetrac-mirror/commit/e7a99af230281ebd70fa6f5015178d9f6805d128)|`Improve references`|



---

archive/issue_comments_240080.json:
```json
{
    "body": "Changing commit from \"f2bdf6a1f4481cb217c290cf1c5e6130f9454b7b\" to \"e7a99af230281ebd70fa6f5015178d9f6805d128\"",
    "created_at": "2016-01-15T13:00:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240080",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f2bdf6a1f4481cb217c290cf1c5e6130f9454b7b" to "e7a99af230281ebd70fa6f5015178d9f6805d128"



---

archive/issue_comments_240081.json:
```json
{
    "body": "<a id='comment:33'></a>\ntried building docs and got errors, cause this ref is already there:\n\n```\ngit blame src/sage/geometry/fan.py | grep \"\\[Klya\"\n...\nbfd3bb4c (Volker Braun       2011-12-15 22:41:11 +0000 3435)         ..  [Klyachko]\n```",
    "created_at": "2016-01-15T22:23:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240081",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:33'></a>
tried building docs and got errors, cause this ref is already there:

```
git blame src/sage/geometry/fan.py | grep "\[Klya"
...
bfd3bb4c (Volker Braun       2011-12-15 22:41:11 +0000 3435)         ..  [Klyachko]
```



---

archive/issue_comments_240082.json:
```json
{
    "body": "<a id='comment:34'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[233314b](https://github.com/sagemath/sagetrac-mirror/commit/233314b8b6d3a5af5e6d490dcf82e06e5b163d5a)|`Remove duplicate citation`|",
    "created_at": "2016-01-16T00:44:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240082",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                           |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[233314b](https://github.com/sagemath/sagetrac-mirror/commit/233314b8b6d3a5af5e6d490dcf82e06e5b163d5a)|`Remove duplicate citation`|



---

archive/issue_comments_240083.json:
```json
{
    "body": "Changing commit from \"e7a99af230281ebd70fa6f5015178d9f6805d128\" to \"233314b8b6d3a5af5e6d490dcf82e06e5b163d5a\"",
    "created_at": "2016-01-16T00:44:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240083",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e7a99af230281ebd70fa6f5015178d9f6805d128" to "233314b8b6d3a5af5e6d490dcf82e06e5b163d5a"



---

archive/issue_comments_240084.json:
```json
{
    "body": "<a id='comment:35'></a>\nHmm strange the patchbot didn't notice; Anyways fixed now.",
    "created_at": "2016-01-16T00:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240084",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:35'></a>
Hmm strange the patchbot didn't notice; Anyways fixed now.



---

archive/issue_comments_240085.json:
```json
{
    "body": "<a id='comment:36'></a>\ntry other fields, not just QQ. E.g. the following looks weird:\n\n```\nsage: FilteredVectorSpace({1:[(1,0), (-1,1)], 3:[(1,0)]},base_ring=GF(3))\nFinite Field of size 3^2 >= Finite Field of size 3^1 >= Finite Field of size 3^1 >= 0\n```",
    "created_at": "2016-01-16T07:50:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240085",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:36'></a>
try other fields, not just QQ. E.g. the following looks weird:

```
sage: FilteredVectorSpace({1:[(1,0), (-1,1)], 3:[(1,0)]},base_ring=GF(3))
Finite Field of size 3^2 >= Finite Field of size 3^1 >= Finite Field of size 3^1 >= 0
```



---

archive/issue_comments_240086.json:
```json
{
    "body": "<a id='comment:37'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[43beebc](https://github.com/sagemath/sagetrac-mirror/commit/43beebcb5bc3459eb214c666aee853108d1cdf90)|`Beautification of filtered vector space repr()`|",
    "created_at": "2016-01-16T09:38:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240086",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[43beebc](https://github.com/sagemath/sagetrac-mirror/commit/43beebcb5bc3459eb214c666aee853108d1cdf90)|`Beautification of filtered vector space repr()`|



---

archive/issue_comments_240087.json:
```json
{
    "body": "Changing commit from \"233314b8b6d3a5af5e6d490dcf82e06e5b163d5a\" to \"43beebcb5bc3459eb214c666aee853108d1cdf90\"",
    "created_at": "2016-01-16T09:38:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240087",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "233314b8b6d3a5af5e6d490dcf82e06e5b163d5a" to "43beebcb5bc3459eb214c666aee853108d1cdf90"



---

archive/issue_comments_240088.json:
```json
{
    "body": "<a id='comment:38'></a>\n\n```\nsage: f1.random_deformation()\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-2-904b4efece1b> in <module>()\n----> 1 f1.random_deformation()\n\n/home/dima/software/sage/local/lib/python2.7/site-packages/sage/modules/filtered_vector_space.pyc in random_deformation(self, epsilon)\n   1230                           for v in filt.echelonized_basis()]\n   1231             filtration[deg] = generators\n-> 1232         return FilteredVectorSpace(filtration, check=True)\n\n...\nTypeError: Unable to coerce 1 (<type 'sage.rings.finite_rings.element_givaro.FiniteField_givaroElement'>) to Rational\nsage: \n```\nSomewhere here char=0 seems to be assumed...",
    "created_at": "2016-01-16T13:19:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240088",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:38'></a>

```
sage: f1.random_deformation()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-2-904b4efece1b> in <module>()
----> 1 f1.random_deformation()

/home/dima/software/sage/local/lib/python2.7/site-packages/sage/modules/filtered_vector_space.pyc in random_deformation(self, epsilon)
   1230                           for v in filt.echelonized_basis()]
   1231             filtration[deg] = generators
-> 1232         return FilteredVectorSpace(filtration, check=True)

...
TypeError: Unable to coerce 1 (<type 'sage.rings.finite_rings.element_givaro.FiniteField_givaroElement'>) to Rational
sage: 
```
Somewhere here char=0 seems to be assumed...



---

archive/issue_comments_240089.json:
```json
{
    "body": "<a id='comment:39'></a>\nthere\n\n```\nsage: f1=FilteredVectorSpace({1:[(1,0), (0,1)], 3:[(1,0)]},base_ring=GF(9,'a'),check=True)\n```",
    "created_at": "2016-01-16T13:32:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240089",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:39'></a>
there

```
sage: f1=FilteredVectorSpace({1:[(1,0), (0,1)], 3:[(1,0)]},base_ring=GF(9,'a'),check=True)
```



---

archive/issue_comments_240090.json:
```json
{
    "body": "Changing commit from \"43beebcb5bc3459eb214c666aee853108d1cdf90\" to \"f1c96bf0079fd4a1bd0c1ba1bd7fe917946ac553\"",
    "created_at": "2016-01-16T14:38:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240090",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "43beebcb5bc3459eb214c666aee853108d1cdf90" to "f1c96bf0079fd4a1bd0c1ba1bd7fe917946ac553"



---

archive/issue_comments_240091.json:
```json
{
    "body": "<a id='comment:40'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|\n|[f1c96bf](https://github.com/sagemath/sagetrac-mirror/commit/f1c96bf0079fd4a1bd0c1ba1bd7fe917946ac553)|`Add missing base_ring argument in random_deformation()`|",
    "created_at": "2016-01-16T14:38:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240091",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|
|[f1c96bf](https://github.com/sagemath/sagetrac-mirror/commit/f1c96bf0079fd4a1bd0c1ba1bd7fe917946ac553)|`Add missing base_ring argument in random_deformation()`|



---

archive/issue_comments_240092.json:
```json
{
    "body": "<a id='comment:41'></a>\nThanks, fixed.",
    "created_at": "2016-01-16T14:38:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240092",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:41'></a>
Thanks, fixed.



---

archive/issue_comments_240093.json:
```json
{
    "body": "<a id='comment:42'></a>\nCould you add a couple of examples in positive characteristic, just to illustrate that this all works? Otherwise I am happy to give it a positive review.",
    "created_at": "2016-01-17T21:21:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240093",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:42'></a>
Could you add a couple of examples in positive characteristic, just to illustrate that this all works? Otherwise I am happy to give it a positive review.



---

archive/issue_comments_240094.json:
```json
{
    "body": "<a id='comment:43'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[649f93d](https://github.com/sagemath/sagetrac-mirror/commit/649f93d1bcc4c059015eb7cd14ee05466b8c3e7b)|`Add a GF and a QQbar example`|",
    "created_at": "2016-01-23T16:57:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240094",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                              |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[649f93d](https://github.com/sagemath/sagetrac-mirror/commit/649f93d1bcc4c059015eb7cd14ee05466b8c3e7b)|`Add a GF and a QQbar example`|



---

archive/issue_comments_240095.json:
```json
{
    "body": "Changing commit from \"f1c96bf0079fd4a1bd0c1ba1bd7fe917946ac553\" to \"649f93d1bcc4c059015eb7cd14ee05466b8c3e7b\"",
    "created_at": "2016-01-23T16:57:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240095",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f1c96bf0079fd4a1bd0c1ba1bd7fe917946ac553" to "649f93d1bcc4c059015eb7cd14ee05466b8c3e7b"



---

archive/issue_comments_240096.json:
```json
{
    "body": "<a id='comment:44'></a>\nDone",
    "created_at": "2016-01-23T16:58:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240096",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:44'></a>
Done



---

archive/issue_comments_240097.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2016-01-23T16:58:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240097",
    "user": "https://github.com/vbraun"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_240098.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-01-23T16:58:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240098",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_240099.json:
```json
{
    "body": "Changing work_issues from \"documentation\" to \"\"",
    "created_at": "2016-01-23T16:58:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240099",
    "user": "https://github.com/vbraun"
}
```

Changing work_issues from "documentation" to ""



---

archive/issue_comments_240100.json:
```json
{
    "body": "Changing branch from \"public/ticket/15328\" to \"649f93d1bcc4c059015eb7cd14ee05466b8c3e7b\"",
    "created_at": "2016-01-24T12:52:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240100",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/ticket/15328" to "649f93d1bcc4c059015eb7cd14ee05466b8c3e7b"



---

archive/issue_comments_240101.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-01-24T12:52:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15328#issuecomment-240101",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_058615.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-24T12:52:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15328",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15328#event-58615"
}
```
