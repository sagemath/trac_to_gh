# Issue 15284: Deprecations: default LP variables will become real instead of nonnegative

archive/issues_015284.json:
```json
{
    "body": "CC:  @dimpase @vbraun @dcoudert hartke @wdjoyner @johnperry-math @benjaminfjones\n\nFollowing the discussion on Sage-devel [1], default LP variables will become \"real\" instead of nonnegative as it is the case at the moment.\n\nThe aim is to have 4 types available through `new_variable()` : binary, integer, nonnegative, and real. Right now, nonnegative does not exist, and \"real\" represents nonnegative variables.\n\nWhat this ticket does:\n\n- A warning has to be displayed when `new_variable()` is called without arguments, as the default behaviour will change. Users are advised to add `nonnegative=True` instead.\n\n- A warning has to be displayed when `new_variable(real=True)` is called, for it represents nonnegative variables at the moment and will represent real variables later. Users are advised to switch to `nonnegative=True` instead.\n\nNathann\n\n[1] https://groups.google.com/d/msg/sage-devel/3vrPzUqFpM4/hKFp0RjV8poJ\n\nIssue created by migration from https://trac.sagemath.org/ticket/15521\n\n",
    "closed_at": "2014-03-13T02:38:42Z",
    "created_at": "2013-12-15T18:58:06Z",
    "labels": [
        "component: linear programming"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "Deprecations: default LP variables will become real instead of nonnegative",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15284",
    "user": "https://github.com/nathanncohen"
}
```
CC:  @dimpase @vbraun @dcoudert hartke @wdjoyner @johnperry-math @benjaminfjones

Following the discussion on Sage-devel [1], default LP variables will become "real" instead of nonnegative as it is the case at the moment.

The aim is to have 4 types available through `new_variable()` : binary, integer, nonnegative, and real. Right now, nonnegative does not exist, and "real" represents nonnegative variables.

What this ticket does:

- A warning has to be displayed when `new_variable()` is called without arguments, as the default behaviour will change. Users are advised to add `nonnegative=True` instead.

- A warning has to be displayed when `new_variable(real=True)` is called, for it represents nonnegative variables at the moment and will represent real variables later. Users are advised to switch to `nonnegative=True` instead.

Nathann

[1] https://groups.google.com/d/msg/sage-devel/3vrPzUqFpM4/hKFp0RjV8poJ

Issue created by migration from https://trac.sagemath.org/ticket/15521





---

archive/issue_comments_196327.json:
```json
{
    "body": "Heeeeeeere it is ! Warnings are displayed for each behaviour that will change in one year, and then we'll have something that makes sense AND does not lead anybody into a wall `:-)`\n\nNathann",
    "created_at": "2013-12-16T16:49:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196327",
    "user": "https://github.com/nathanncohen"
}
```

Heeeeeeere it is ! Warnings are displayed for each behaviour that will change in one year, and then we'll have something that makes sense AND does not lead anybody into a wall `:-)`

Nathann



---

archive/issue_comments_196328.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-12-16T16:49:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196328",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_196329.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-12-16T16:54:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196329",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_196330.json:
```json
{
    "body": "Just having a look at this. All the cleanup is a nice addition along with the deprecation warning.\n\nIn the diff around `@``@` -577,6 +584,14 `@``@` cdef class MixedIntegerLinearProgram(SageObject):\n\nThere is a new test labeled \"Default behavior\" that I don't quite see the point of. Was your intent just to document the current default behavior and have this test change when the deprecation period is up?",
    "created_at": "2014-01-21T05:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196330",
    "user": "https://github.com/benjaminfjones"
}
```

Just having a look at this. All the cleanup is a nice addition along with the deprecation warning.

In the diff around `@``@` -577,6 +584,14 `@``@` cdef class MixedIntegerLinearProgram(SageObject):

There is a new test labeled "Default behavior" that I don't quite see the point of. Was your intent just to document the current default behavior and have this test change when the deprecation period is up?



---

archive/issue_comments_196331.json:
```json
{
    "body": "Helloooooooo !!!\n\n> Just having a look at this. All the cleanup is a nice addition along with the deprecation warning.\n\n\nYep, but it did not apply on the latest 6.1.beta6. I just updated it `:-)`\n\n> In the diff around `@``@` -577,6 +584,14 `@``@` cdef class MixedIntegerLinearProgram(SageObject):\n> \n> There is a new test labeled \"Default behavior\" that I don't quite see the point of. Was your intent just to document the current default behavior and have this test change when the deprecation period is up?\n\n\nHmmm... Yep, looks like this one is just there to check that the patch had his effect, a bit like how we add a doctest when we fix a bug. I know I added some doctests just to bring attention to the method when the default behaviour will be changed, but this one looks innocent `;-)`\n\nNathann",
    "created_at": "2014-01-21T08:02:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196331",
    "user": "https://github.com/nathanncohen"
}
```

Helloooooooo !!!

> Just having a look at this. All the cleanup is a nice addition along with the deprecation warning.


Yep, but it did not apply on the latest 6.1.beta6. I just updated it `:-)`

> In the diff around `@``@` -577,6 +584,14 `@``@` cdef class MixedIntegerLinearProgram(SageObject):
> 
> There is a new test labeled "Default behavior" that I don't quite see the point of. Was your intent just to document the current default behavior and have this test change when the deprecation period is up?


Hmmm... Yep, looks like this one is just there to check that the patch had his effect, a bit like how we add a doctest when we fix a bug. I know I added some doctests just to bring attention to the method when the default behaviour will be changed, but this one looks innocent `;-)`

Nathann



---

archive/issue_comments_196332.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-21T08:08:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196332",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_196333.json:
```json
{
    "body": "By the way it would be cool you could review #15489 and possibly this  ticket too, for otherwise writing patches changes nothing to Sage's actual code `:-P`\n\nNathann",
    "created_at": "2014-01-21T08:10:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196333",
    "user": "https://github.com/nathanncohen"
}
```

By the way it would be cool you could review #15489 and possibly this  ticket too, for otherwise writing patches changes nothing to Sage's actual code `:-P`

Nathann



---

archive/issue_comments_196334.json:
```json
{
    "body": "I can review #15489. Looks like it depends on #15482 (which has failing merge and doctests?) in turn.\n\nOn this ticket, your latest changes look good to me. I'm waiting for my local copy to build and test. How does the patchbot get triggered these days? Your latest commits didn't seem to get tested..",
    "created_at": "2014-01-23T19:09:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196334",
    "user": "https://github.com/benjaminfjones"
}
```

I can review #15489. Looks like it depends on #15482 (which has failing merge and doctests?) in turn.

On this ticket, your latest changes look good to me. I'm waiting for my local copy to build and test. How does the patchbot get triggered these days? Your latest commits didn't seem to get tested..



---

archive/issue_comments_196335.json:
```json
{
    "body": "I get 5 doctest failures from knapsack.py that all look like:\n\n```\nFailed example:\n    knapsack( [(1,2), (1.5,1), (0.5,3)], max=2)\nException raised:\n    Traceback (most recent call last):\n      File \"/projects/9ac5a8ca-7dbf-4b27-adea-4709b0fb7105/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 48\n0, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/projects/9ac5a8ca-7dbf-4b27-adea-4709b0fb7105/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 83\n9, in execute\n        exec compiled in globs\n      File \"<doctest sage.numerical.knapsack[1]>\", line 1, in <module>\n        knapsack( [(Integer(1),Integer(2)), (RealNumber('1.5'),Integer(1)), (RealNumber('0.5'),Integer(3))], max=Integer(2))\n      File \"/projects/9ac5a8ca-7dbf-4b27-adea-4709b0fb7105/sage/local/lib/python2.7/site-packages/sage/numerical/knapsack.py\", lin\ne 633, in knapsack\n        p = MixedIntegerLinearProgram(solve=solver, maximization=True)\n      File \"mip.pyx\", line 247, in sage.numerical.mip.MixedIntegerLinearProgram.__init__ (sage/numerical/mip.c:1692)\n    TypeError: __init__() got an unexpected keyword argument 'solve'\n```",
    "created_at": "2014-01-25T01:15:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196335",
    "user": "https://github.com/benjaminfjones"
}
```

I get 5 doctest failures from knapsack.py that all look like:

```
Failed example:
    knapsack( [(1,2), (1.5,1), (0.5,3)], max=2)
Exception raised:
    Traceback (most recent call last):
      File "/projects/9ac5a8ca-7dbf-4b27-adea-4709b0fb7105/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 48
0, in _run
        self.execute(example, compiled, test.globs)
      File "/projects/9ac5a8ca-7dbf-4b27-adea-4709b0fb7105/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 83
9, in execute
        exec compiled in globs
      File "<doctest sage.numerical.knapsack[1]>", line 1, in <module>
        knapsack( [(Integer(1),Integer(2)), (RealNumber('1.5'),Integer(1)), (RealNumber('0.5'),Integer(3))], max=Integer(2))
      File "/projects/9ac5a8ca-7dbf-4b27-adea-4709b0fb7105/sage/local/lib/python2.7/site-packages/sage/numerical/knapsack.py", lin
e 633, in knapsack
        p = MixedIntegerLinearProgram(solve=solver, maximization=True)
      File "mip.pyx", line 247, in sage.numerical.mip.MixedIntegerLinearProgram.__init__ (sage/numerical/mip.c:1692)
    TypeError: __init__() got an unexpected keyword argument 'solve'
```



---

archive/issue_comments_196336.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-28T19:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196336",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_196337.json:
```json
{
    "body": "Sorryyyyyy ! It is now fixed.\n\nNathann",
    "created_at": "2014-01-28T19:48:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196337",
    "user": "https://github.com/nathanncohen"
}
```

Sorryyyyyy ! It is now fixed.

Nathann



---

archive/issue_events_045334.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15284#event-45334"
}
```



---

archive/issue_comments_196338.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-02-05T19:50:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196338",
    "user": "https://github.com/benjaminfjones"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_196339.json:
```json
{
    "body": "Ok, back from hiatus. Your latest rebase and minor changes look good and tests are passing now. I'll give a positive review and have a look at those other tickets you mentioned.",
    "created_at": "2014-02-05T19:50:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196339",
    "user": "https://github.com/benjaminfjones"
}
```

Ok, back from hiatus. Your latest rebase and minor changes look good and tests are passing now. I'll give a positive review and have a look at those other tickets you mentioned.



---

archive/issue_comments_196340.json:
```json
{
    "body": "Thaaaaaanks !! I just rebased #15482 which is a dependency of this ticket.\n\nNathann",
    "created_at": "2014-02-06T11:00:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196340",
    "user": "https://github.com/nathanncohen"
}
```

Thaaaaaanks !! I just rebased #15482 which is a dependency of this ticket.

Nathann



---

archive/issue_comments_196341.json:
```json
{
    "body": "Please use full names for the !Author/Reviewer fields next time",
    "created_at": "2014-03-05T09:40:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196341",
    "user": "https://github.com/vbraun"
}
```

Please use full names for the !Author/Reviewer fields next time



---

archive/issue_comments_196342.json:
```json
{
    "body": "Conflict, please merge in latest beta",
    "created_at": "2014-03-05T09:44:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196342",
    "user": "https://github.com/vbraun"
}
```

Conflict, please merge in latest beta



---

archive/issue_comments_196343.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2014-03-05T09:48:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196343",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_196344.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2014-03-05T09:48:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196344",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_196345.json:
```json
{
    "body": "I am getting an error while building the relevant docs:\n\n```\nOSError: [numerical] docstring of sage.numerical.mip.MixedIntegerLinearProgram.set_binary:27: WARNING: Literal block expected; none found.\n```",
    "created_at": "2014-03-05T15:58:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196345",
    "user": "https://github.com/dimpase"
}
```

I am getting an error while building the relevant docs:

```
OSError: [numerical] docstring of sage.numerical.mip.MixedIntegerLinearProgram.set_binary:27: WARNING: Literal block expected; none found.
```



---

archive/issue_comments_196346.json:
```json
{
    "body": "it is the same that appeared in #15489. So it will not happen when #15489 is applied.\n\nNathann",
    "created_at": "2014-03-05T16:13:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196346",
    "user": "https://github.com/nathanncohen"
}
```

it is the same that appeared in #15489. So it will not happen when #15489 is applied.

Nathann



---

archive/issue_comments_196347.json:
```json
{
    "body": "Replying to [comment:20 ncohen]:\n> it is the same that appeared in #15489. So it will not happen when #15489 is applied.\n\n\nHuh? Are we back to the hg-like patch quilt? How come \"#15489 is not applied\" when I check this one out? \n\nEDIT: I don't see how to make this consistent without a manual rebase: if I \"apply\" #15489 by checking it out, this \"application\" will be reversed upon checking out this ticket, isn't it?",
    "created_at": "2014-03-05T16:22:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196347",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:20 ncohen]:
> it is the same that appeared in #15489. So it will not happen when #15489 is applied.


Huh? Are we back to the hg-like patch quilt? How come "#15489 is not applied" when I check this one out? 

EDIT: I don't see how to make this consistent without a manual rebase: if I "apply" #15489 by checking it out, this "application" will be reversed upon checking out this ticket, isn't it?



---

archive/issue_comments_196348.json:
```json
{
    "body": "> Huh? Are we back to the hg-like patch quilt? How come \"#15489 is not applied\" when I check this one out? \n\n\ngit does not manage dependencies based on branch names. This \"branch\" does not depend on branch \"15489\". The first commit of this branch depends on the last commit of branch 15489 when it was created, but since that time I fixed the problem by adding another commit at the end of branch 15489, which is totally unrelated to this branch.\n\nThus, when you apply this branch, only the commits that actually depend on it are applied. Not the commit that were added later on that branch. Then again, git does not do anything based on branch names. Commit is the only thing that it sees.\n\n> EDIT: I don't see how to make this consistent without a manual rebase: if I \"apply\" #15489 by checking it out, this \"application\" will be reversed upon checking out this ticket, isn't it?\n\n\nIndeed. If you want both, what you should do is :\n1) checkout #15489\n2) pull #15521\n\nPull is equivalent to \"fetch + merge\". So it will merge this branch atop of #15489. This way everything that is currently in #15489 will coexist with everything which is in #15521. This is what Volker does when he builds a release : he pulls patches one after the other starting from the previous release.\n\nNote that there is a \"clean\" way out : I can checkout this branch, pull #15489 (which will merge with this branch all commits from #15489 which are not already part of it) then update this branch with it. It's just that my Sage is compiling at the moment and I can't do it right now, so if you are satisfied with this explanation... `:-P`\n\nNathann",
    "created_at": "2014-03-05T16:37:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196348",
    "user": "https://github.com/nathanncohen"
}
```

> Huh? Are we back to the hg-like patch quilt? How come "#15489 is not applied" when I check this one out? 


git does not manage dependencies based on branch names. This "branch" does not depend on branch "15489". The first commit of this branch depends on the last commit of branch 15489 when it was created, but since that time I fixed the problem by adding another commit at the end of branch 15489, which is totally unrelated to this branch.

Thus, when you apply this branch, only the commits that actually depend on it are applied. Not the commit that were added later on that branch. Then again, git does not do anything based on branch names. Commit is the only thing that it sees.

> EDIT: I don't see how to make this consistent without a manual rebase: if I "apply" #15489 by checking it out, this "application" will be reversed upon checking out this ticket, isn't it?


Indeed. If you want both, what you should do is :
1) checkout #15489
2) pull #15521

Pull is equivalent to "fetch + merge". So it will merge this branch atop of #15489. This way everything that is currently in #15489 will coexist with everything which is in #15521. This is what Volker does when he builds a release : he pulls patches one after the other starting from the previous release.

Note that there is a "clean" way out : I can checkout this branch, pull #15489 (which will merge with this branch all commits from #15489 which are not already part of it) then update this branch with it. It's just that my Sage is compiling at the moment and I can't do it right now, so if you are satisfied with this explanation... `:-P`

Nathann



---

archive/issue_comments_196349.json:
```json
{
    "body": "Replying to [comment:22 ncohen]:\n\n> > EDIT: I don't see how to make this consistent without a manual rebase: if I \"apply\" #15489 by checking it out, this \"application\" will be reversed upon checking out this ticket, isn't it?\n\n> \n> Indeed. If you want both, what you should do is :\n> 1) checkout #15489\n> 2) pull #15521\n\n\nthis is what I get if I try this at branch 15489:\n\n```\n\n$ git merge 15521\nAuto-merging src/sage/numerical/mip.pyx\nAuto-merging src/sage/graphs/generic_graph.py\nCONFLICT (content): Merge conflict in src/sage/graphs/generic_graph.py\nRemoving src/sage/combinat/sf/kschur.py\nRemoving build/pkgs/gap/patches/cflags.patch\nRemoving build/pkgs/cython/patches/gdbout.patch\nRemoving build/pkgs/cython/patches/build_dir.patch\nAutomatic merge failed; fix conflicts and then commit the result.\n\n```\nlooks like an automatic clean merge won't fly...",
    "created_at": "2014-03-05T17:56:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196349",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:22 ncohen]:

> > EDIT: I don't see how to make this consistent without a manual rebase: if I "apply" #15489 by checking it out, this "application" will be reversed upon checking out this ticket, isn't it?

> 
> Indeed. If you want both, what you should do is :
> 1) checkout #15489
> 2) pull #15521


this is what I get if I try this at branch 15489:

```

$ git merge 15521
Auto-merging src/sage/numerical/mip.pyx
Auto-merging src/sage/graphs/generic_graph.py
CONFLICT (content): Merge conflict in src/sage/graphs/generic_graph.py
Removing src/sage/combinat/sf/kschur.py
Removing build/pkgs/gap/patches/cflags.patch
Removing build/pkgs/cython/patches/gdbout.patch
Removing build/pkgs/cython/patches/build_dir.patch
Automatic merge failed; fix conflicts and then commit the result.

```
looks like an automatic clean merge won't fly...



---

archive/issue_comments_196350.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-05T18:00:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196350",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_196351.json:
```json
{
    "body": "Done\n\nNathann",
    "created_at": "2014-03-05T18:00:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196351",
    "user": "https://github.com/nathanncohen"
}
```

Done

Nathann



---

archive/issue_comments_196352.json:
```json
{
    "body": "Looks good; tested with sage --dev scripts \n\nJust in case, note that somehow I was not able to make this to work using `git the hard way`, as I was getting bizarre docbuild errors, cf. my laments on sage-release regarding 6.2.beta3. (Perhaps it mattered that my system-wide git is older than the one packaged with Sage - this is one thing I didn't have time to check).",
    "created_at": "2014-03-07T10:31:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196352",
    "user": "https://github.com/dimpase"
}
```

Looks good; tested with sage --dev scripts 

Just in case, note that somehow I was not able to make this to work using `git the hard way`, as I was getting bizarre docbuild errors, cf. my laments on sage-release regarding 6.2.beta3. (Perhaps it mattered that my system-wide git is older than the one packaged with Sage - this is one thing I didn't have time to check).



---

archive/issue_comments_196353.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-03-07T10:31:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196353",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_196354.json:
```json
{
    "body": "(but also probably because I slightly rewrote history once or twice, in order to change a commit message for instance)\n\nThanks for the review !\n\nNathann",
    "created_at": "2014-03-07T12:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196354",
    "user": "https://github.com/nathanncohen"
}
```

(but also probably because I slightly rewrote history once or twice, in order to change a commit message for instance)

Thanks for the review !

Nathann



---

archive/issue_comments_196355.json:
```json
{
    "body": "Replying to [comment:27 ncohen]:\n> (but also probably because I slightly rewrote history once or twice, in order to change a commit message for instance)\n\n\nhopefully this won't cause problems when merging into the release.",
    "created_at": "2014-03-07T13:27:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196355",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:27 ncohen]:
> (but also probably because I slightly rewrote history once or twice, in order to change a commit message for instance)


hopefully this won't cause problems when merging into the release.



---

archive/issue_comments_196356.json:
```json
{
    "body": "Nono it does not. There  is nothing \"wrong\" with changing history. The only bad thing that happens is when you update some commits which have already been used by somebody else in another branch.  You end up with having two commits which are meant to do the same thing, one of them sligthly modified (a different commit message, for instance). That is a problem.\n\nBut you can rewrite history 10000 times on your own computer before pushing the branch, in the same way that we can rewrite history 10000 times on this ticket if we are confident that nobody used the commits before we changed them.\n\nNathann",
    "created_at": "2014-03-07T13:30:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196356",
    "user": "https://github.com/nathanncohen"
}
```

Nono it does not. There  is nothing "wrong" with changing history. The only bad thing that happens is when you update some commits which have already been used by somebody else in another branch.  You end up with having two commits which are meant to do the same thing, one of them sligthly modified (a different commit message, for instance). That is a problem.

But you can rewrite history 10000 times on your own computer before pushing the branch, in the same way that we can rewrite history 10000 times on this ticket if we are confident that nobody used the commits before we changed them.

Nathann



---

archive/issue_comments_196357.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-03-13T02:38:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196357",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_045335.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-03-13T02:38:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15284#event-45335"
}
```



---

archive/issue_comments_196358.json:
```json
{
    "body": "See #16504 for a follow-up.",
    "created_at": "2014-06-20T15:11:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196358",
    "user": "https://github.com/jdemeyer"
}
```

See #16504 for a follow-up.



---

archive/issue_comments_196359.json:
```json
{
    "body": "Actually make the change: #19522",
    "created_at": "2015-11-04T16:32:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15284#issuecomment-196359",
    "user": "https://github.com/jdemeyer"
}
```

Actually make the change: #19522
