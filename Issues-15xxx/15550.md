# Issue 15550: Implement the Kirchhoff-Symanzik polynomial for graphs

archive/issues_015313.json:
```json
{
    "body": "This is a polynomial in several variables, useful in the study of Feynman diagrams.\n\nDone using a determinant (like in the matrix-tree theorem)\n\nAlso implements cycle_basis for graphs with multiple edges\n\nand add an 'output' parameter to 'cycle_basis', 'is_tree' and 'is_forest'\n\n**Keywords:** symanzik polynomial\n\n**Branch:** [public/15550](https://github.com/sagemath/sagetrac-mirror/tree/public/15550)\n\n**Commit:** [197a285efe203a92c3719e35a2b730616d56f94b](https://github.com/sagemath/sagetrac-mirror/commit/197a285efe203a92c3719e35a2b730616d56f94b)\n\n**Reviewer:** Nathann Cohen\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/15550\n\n",
    "closed_at": "2014-01-07T04:55:35Z",
    "created_at": "2013-12-19T14:53:13Z",
    "labels": [
        "component: graph theory",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.1",
    "title": "Implement the Kirchhoff-Symanzik polynomial for graphs",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/15550",
    "user": "https://github.com/fchapoton"
}
```
This is a polynomial in several variables, useful in the study of Feynman diagrams.

Done using a determinant (like in the matrix-tree theorem)

Also implements cycle_basis for graphs with multiple edges

and add an 'output' parameter to 'cycle_basis', 'is_tree' and 'is_forest'

**Keywords:** symanzik polynomial

**Branch:** [public/15550](https://github.com/sagemath/sagetrac-mirror/tree/public/15550)

**Commit:** [197a285efe203a92c3719e35a2b730616d56f94b](https://github.com/sagemath/sagetrac-mirror/commit/197a285efe203a92c3719e35a2b730616d56f94b)

**Reviewer:** Nathann Cohen

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/15550





---

archive/issue_events_137568.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-12-19T16:07:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137568"
}
```



---

archive/issue_comments_196710.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n This is a polynomial in several variables, useful in the study of Feynman diagrams.\n \n-Code should follow soon.\n+This either needs a generator of spanning trees, or a cycle_basis for multiple graphs.\n+\n+Not as obvious as it may look.\n``````\n",
    "created_at": "2013-12-19T16:07:25Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196710",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 This is a polynomial in several variables, useful in the study of Feynman diagrams.
 
-Code should follow soon.
+This either needs a generator of spanning trees, or a cycle_basis for multiple graphs.
+
+Not as obvious as it may look.
``````




---

archive/issue_comments_196711.json:
```json
{
    "body": "**Branch:** [u/ncohen/15550](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/15550)",
    "created_at": "2013-12-21T13:43:54Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196711",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/ncohen/15550](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/15550)



---

archive/issue_events_137569.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-12-21T13:43:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137569"
}
```



---

archive/issue_events_137570.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-12-21T13:43:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137570"
}
```



---

archive/issue_comments_196712.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n This is a polynomial in several variables, useful in the study of Feynman diagrams.\n \n-This either needs a generator of spanning trees, or a cycle_basis for multiple graphs.\n+Done using a determinant (matrix-tree theorem)\n \n-Not as obvious as it may look.\n+I had to use an auxiliary function.\n``````\n",
    "created_at": "2013-12-21T13:43:54Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196712",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 This is a polynomial in several variables, useful in the study of Feynman diagrams.
 
-This either needs a generator of spanning trees, or a cycle_basis for multiple graphs.
+Done using a determinant (matrix-tree theorem)
 
-Not as obvious as it may look.
+I had to use an auxiliary function.
``````




---

archive/issue_comments_196713.json:
```json
{
    "body": "**Changing branch** from \"[u/ncohen/15550](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/15550)\" to \"[u/chapoton/15550](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/15550)\".",
    "created_at": "2013-12-21T13:44:09Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196713",
    "user": "https://github.com/fchapoton"
}
```

**Changing branch** from "[u/ncohen/15550](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/15550)" to "[u/chapoton/15550](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/15550)".



---

archive/issue_comments_196714.json:
```json
{
    "body": "**Commit:** [87702b4df58f7226297886d9fc505e8bec4e5cdc](https://github.com/sagemath/sagetrac-mirror/commit/87702b4df58f7226297886d9fc505e8bec4e5cdc)",
    "created_at": "2013-12-21T13:44:09Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196714",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [87702b4df58f7226297886d9fc505e8bec4e5cdc](https://github.com/sagemath/sagetrac-mirror/commit/87702b4df58f7226297886d9fc505e8bec4e5cdc)



---

archive/issue_comments_196715.json:
```json
{
    "body": "<a id='comment:3'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87702b4\">87702b4</a></td><td><code>trac #15550 now allows to change name of variables</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d979b9b\">d979b9b</a></td><td><code>Trac #15550 the code should now be correct</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3448aaf\">3448aaf</a></td><td><code>correct integration as a method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0a712f\">c0a712f</a></td><td><code>Trac #15550 implement the Kirchhoff-Symanzik polynomial</code></td></tr></table>\n",
    "created_at": "2013-12-21T13:44:09Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196715",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87702b4">87702b4</a></td><td><code>trac #15550 now allows to change name of variables</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d979b9b">d979b9b</a></td><td><code>Trac #15550 the code should now be correct</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3448aaf">3448aaf</a></td><td><code>correct integration as a method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0a712f">c0a712f</a></td><td><code>Trac #15550 implement the Kirchhoff-Symanzik polynomial</code></td></tr></table>




---

archive/issue_comments_196716.json:
```json
{
    "body": "<a id='comment:4'></a>\nHello Frederic !\n\nI think you could replace your \"quasitree_to_cycle\" function by a call to `Graph.is_forest(certificate=True)`. Could you also merge all these patches into one ? It would make it a bit easier to review `^^;`\n\nNathann",
    "created_at": "2013-12-25T13:49:32Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196716",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'></a>
Hello Frederic !

I think you could replace your "quasitree_to_cycle" function by a call to `Graph.is_forest(certificate=True)`. Could you also merge all these patches into one ? It would make it a bit easier to review `^^;`

Nathann



---

archive/issue_events_137571.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-12-25T13:54:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137571"
}
```



---

archive/issue_events_137572.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-12-25T13:54:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137572"
}
```



---

archive/issue_comments_196717.json:
```json
{
    "body": "<a id='comment:6'></a>\nHello Nathann,\n\nthanks for the suggestion. But `is_forest` does not work correctly on graphs with multiple edges:\n\n```\n\nsage: G=graphs.CycleGraph(6)\nsage: G.is_forest()\nFalse\nsage: G.is_forest(certificate=True)\n(False, [5, 4, 3, 2, 1, 0])\nsage: G = Graph([(1,2,'a'),(1,2,'b')])\nsage: G.is_forest(certificate=True)\nsage: G.is_forest()\nFalse\n```\nand moreover I need the cycle as a sequence of signed edges.",
    "created_at": "2013-12-28T20:20:10Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196717",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
Hello Nathann,

thanks for the suggestion. But `is_forest` does not work correctly on graphs with multiple edges:

```

sage: G=graphs.CycleGraph(6)
sage: G.is_forest()
False
sage: G.is_forest(certificate=True)
(False, [5, 4, 3, 2, 1, 0])
sage: G = Graph([(1,2,'a'),(1,2,'b')])
sage: G.is_forest(certificate=True)
sage: G.is_forest()
False
```
and moreover I need the cycle as a sequence of signed edges.



---

archive/issue_comments_196718.json:
```json
{
    "body": "<a id='comment:7'></a>\n> thanks for the suggestion. But `is_forest` does not work correctly on graphs with multiple edges:\n\nOh. Well, multiple edges actually make no difference, unless you have a 2-cycle. In which case that is your certificate. I think that fixing that is still better than re-implementing it with a weird name.\n\n> and moreover I need the cycle as a sequence of signed edges.\n\nWhat does that mean ? Can't that be obtained with the certificate of `is_forest` ?\n\nNathann",
    "created_at": "2013-12-28T21:01:09Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196718",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>
> thanks for the suggestion. But `is_forest` does not work correctly on graphs with multiple edges:

Oh. Well, multiple edges actually make no difference, unless you have a 2-cycle. In which case that is your certificate. I think that fixing that is still better than re-implementing it with a weird name.

> and moreover I need the cycle as a sequence of signed edges.

What does that mean ? Can't that be obtained with the certificate of `is_forest` ?

Nathann



---

archive/issue_comments_196719.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13a16d4\">13a16d4</a></td><td><code>trac #15550 some changes after suggestions</code></td></tr></table>\n",
    "created_at": "2013-12-29T20:29:12Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196719",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13a16d4">13a16d4</a></td><td><code>trac #15550 some changes after suggestions</code></td></tr></table>




---

archive/issue_comments_196720.json:
```json
{
    "body": "**Changing commit** from \"[87702b4df58f7226297886d9fc505e8bec4e5cdc](https://github.com/sagemath/sagetrac-mirror/commit/87702b4df58f7226297886d9fc505e8bec4e5cdc)\" to \"[13a16d42a8c1c17b6726487b7e2f1aa311c7b51c](https://github.com/sagemath/sagetrac-mirror/commit/13a16d42a8c1c17b6726487b7e2f1aa311c7b51c)\".",
    "created_at": "2013-12-29T20:29:12Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196720",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[87702b4df58f7226297886d9fc505e8bec4e5cdc](https://github.com/sagemath/sagetrac-mirror/commit/87702b4df58f7226297886d9fc505e8bec4e5cdc)" to "[13a16d42a8c1c17b6726487b7e2f1aa311c7b51c](https://github.com/sagemath/sagetrac-mirror/commit/13a16d42a8c1c17b6726487b7e2f1aa311c7b51c)".



---

archive/issue_comments_196721.json:
```json
{
    "body": "<a id='comment:9'></a>\nHello Nathann,\n\nI have now made good use of the `is_tree` function.\n\nWould you prefer if I put my auxiliary function inside the new method ? I do not see how to avoid it completely. I need to choose an arbitray orientation of the graph, and for this I am using the way the edges are given by a pair (i,j). Then I need to know how every cycle is oriented, some arrows being in the wrong direction.\n\nIs this really necessary to smash all my commits (not patches) into one ? I would prefer not to.",
    "created_at": "2013-12-30T17:38:07Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196721",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
Hello Nathann,

I have now made good use of the `is_tree` function.

Would you prefer if I put my auxiliary function inside the new method ? I do not see how to avoid it completely. I need to choose an arbitray orientation of the graph, and for this I am using the way the edges are given by a pair (i,j). Then I need to know how every cycle is oriented, some arrows being in the wrong direction.

Is this really necessary to smash all my commits (not patches) into one ? I would prefer not to.



---

archive/issue_comments_196722.json:
```json
{
    "body": "<a id='comment:10'></a>\nHellooooooooo !\n\n> Would you prefer if I put my auxiliary function inside the new method ? \n\nYour auxiliary method will not be in your final patch, that's for sure, because even if it were actually useful for your code it has no general use and has nothing to do has a Graph function. At the very least it should be made private. This being said, you still haven't explained to me what exactly this function does (neither is it explained in the function's docstring), so I do not understand how to help you remove it yet. Please tell me what exactly it does. Right now its docstring reads \"return the only cycle of a graph with one cycle\", and that's exactly what `is_forest` does for you, thus something is missing.\n\n> I do not see how to avoid it completely. I need to choose an arbitray orientation of the graph, and for this I am using the way the edges are given by a pair (i,j). Then I need to know how every cycle is oriented, some arrows being in the wrong direction.\n\nI do not know what you need this orientation for, but using the orientation given by `edges()` can be tricky. There is absolutely no certainty that the orientation of the edges given by `edges()` is consistent with the one given by `edges_incident()`.\n\n> Is this really necessary to smash all my commits (not patches) into one ? I would prefer not to.\n\nIt would make your patch clearer. There are 5 commits in your patch right now and most of what one does is undone in the other. This being said merging commits is *very easy* to do in git : you have to \"rebase\" your ticket's branch upon \"develop\" using the '-i' flag, for \"interactive\". In only one command you can merge commits together (I think 'git' uses the keyword 'meld' instead). That's actually quite cool `:-P`\n\nNathann",
    "created_at": "2013-12-30T22:24:17Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196722",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>
Hellooooooooo !

> Would you prefer if I put my auxiliary function inside the new method ? 

Your auxiliary method will not be in your final patch, that's for sure, because even if it were actually useful for your code it has no general use and has nothing to do has a Graph function. At the very least it should be made private. This being said, you still haven't explained to me what exactly this function does (neither is it explained in the function's docstring), so I do not understand how to help you remove it yet. Please tell me what exactly it does. Right now its docstring reads "return the only cycle of a graph with one cycle", and that's exactly what `is_forest` does for you, thus something is missing.

> I do not see how to avoid it completely. I need to choose an arbitray orientation of the graph, and for this I am using the way the edges are given by a pair (i,j). Then I need to know how every cycle is oriented, some arrows being in the wrong direction.

I do not know what you need this orientation for, but using the orientation given by `edges()` can be tricky. There is absolutely no certainty that the orientation of the edges given by `edges()` is consistent with the one given by `edges_incident()`.

> Is this really necessary to smash all my commits (not patches) into one ? I would prefer not to.

It would make your patch clearer. There are 5 commits in your patch right now and most of what one does is undone in the other. This being said merging commits is *very easy* to do in git : you have to "rebase" your ticket's branch upon "develop" using the '-i' flag, for "interactive". In only one command you can merge commits together (I think 'git' uses the keyword 'meld' instead). That's actually quite cool `:-P`

Nathann



---

archive/issue_comments_196723.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd2e9e9\">dd2e9e9</a></td><td><code>Trac #15550 implement the Kirchhoff-Symanzik polynomial</code></td></tr></table>\n",
    "created_at": "2014-01-01T17:23:14Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196723",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd2e9e9">dd2e9e9</a></td><td><code>Trac #15550 implement the Kirchhoff-Symanzik polynomial</code></td></tr></table>




---

archive/issue_comments_196724.json:
```json
{
    "body": "**Changing commit** from \"[13a16d42a8c1c17b6726487b7e2f1aa311c7b51c](https://github.com/sagemath/sagetrac-mirror/commit/13a16d42a8c1c17b6726487b7e2f1aa311c7b51c)\" to \"[dd2e9e9fc3a7f4db42c41044925441983228a78f](https://github.com/sagemath/sagetrac-mirror/commit/dd2e9e9fc3a7f4db42c41044925441983228a78f)\".",
    "created_at": "2014-01-01T17:23:14Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196724",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[13a16d42a8c1c17b6726487b7e2f1aa311c7b51c](https://github.com/sagemath/sagetrac-mirror/commit/13a16d42a8c1c17b6726487b7e2f1aa311c7b51c)" to "[dd2e9e9fc3a7f4db42c41044925441983228a78f](https://github.com/sagemath/sagetrac-mirror/commit/dd2e9e9fc3a7f4db42c41044925441983228a78f)".



---

archive/issue_comments_196725.json:
```json
{
    "body": "<a id='comment:12'></a>\nHere is a smashed thing. And hopefully simpler, too.",
    "created_at": "2014-01-01T17:26:01Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196725",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>
Here is a smashed thing. And hopefully simpler, too.



---

archive/issue_comments_196726.json:
```json
{
    "body": "<a id='comment:13'></a>\n(please set the ticket back to `needs_review` when it needs a review. Otherwise it does not appear in the list of tickets needing a review and nobody reads them. And I 'lost' tickets several times like that, finding them again years later, just because they were still in `needs_work` `:-P`)\n\nNathann",
    "created_at": "2014-01-02T14:01:07Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196726",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'></a>
(please set the ticket back to `needs_review` when it needs a review. Otherwise it does not appear in the list of tickets needing a review and nobody reads them. And I 'lost' tickets several times like that, finding them again years later, just because they were still in `needs_work` `:-P`)

Nathann



---

archive/issue_comments_196727.json:
```json
{
    "body": "<a id='comment:14'></a>\nYes, sorry.\n\nI have made the auxiliary method into a private method, but it is now very small, so it could be put inside the main function. Tell me what you prefer and I will change accordingly.",
    "created_at": "2014-01-02T15:16:40Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196727",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
Yes, sorry.

I have made the auxiliary method into a private method, but it is now very small, so it could be put inside the main function. Tell me what you prefer and I will change accordingly.



---

archive/issue_events_137573.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-01-02T15:16:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137573"
}
```



---

archive/issue_events_137574.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-01-02T15:16:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137574"
}
```



---

archive/issue_comments_196728.json:
```json
{
    "body": "<a id='comment:15'></a>\nWell, if it is 10 lines long I think it would be better to move it inside of your main function. But it would be very nice if you could explain what exactly it does, because I have to understand the code if I want to review it `^^;`\n\nNathann",
    "created_at": "2014-01-02T16:25:57Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196728",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'></a>
Well, if it is 10 lines long I think it would be better to move it inside of your main function. But it would be very nice if you could explain what exactly it does, because I have to understand the code if I want to review it `^^;`

Nathann



---

archive/issue_comments_196729.json:
```json
{
    "body": "**Author:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2014-01-02T18:00:24Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196729",
    "user": "https://github.com/fchapoton"
}
```

**Author:** Frédéric Chapoton



---

archive/issue_comments_196730.json:
```json
{
    "body": "**Changing commit** from \"[dd2e9e9fc3a7f4db42c41044925441983228a78f](https://github.com/sagemath/sagetrac-mirror/commit/dd2e9e9fc3a7f4db42c41044925441983228a78f)\" to \"[d48ef924a46280b92cc14c8f5c8fd7b58af37736](https://github.com/sagemath/sagetrac-mirror/commit/d48ef924a46280b92cc14c8f5c8fd7b58af37736)\".",
    "created_at": "2014-01-02T18:56:25Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196730",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[dd2e9e9fc3a7f4db42c41044925441983228a78f](https://github.com/sagemath/sagetrac-mirror/commit/dd2e9e9fc3a7f4db42c41044925441983228a78f)" to "[d48ef924a46280b92cc14c8f5c8fd7b58af37736](https://github.com/sagemath/sagetrac-mirror/commit/d48ef924a46280b92cc14c8f5c8fd7b58af37736)".



---

archive/issue_comments_196731.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d48ef92\">d48ef92</a></td><td><code>Trac #15550 implement the Kirchhoff-Symanzik polynomial</code></td></tr></table>\n",
    "created_at": "2014-01-02T18:56:25Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196731",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d48ef92">d48ef92</a></td><td><code>Trac #15550 implement the Kirchhoff-Symanzik polynomial</code></td></tr></table>




---

archive/issue_comments_196732.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d28b23\">8d28b23</a></td><td><code>trac #15550 details</code></td></tr></table>\n",
    "created_at": "2014-01-02T19:07:35Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196732",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d28b23">8d28b23</a></td><td><code>trac #15550 details</code></td></tr></table>




---

archive/issue_comments_196733.json:
```json
{
    "body": "**Changing commit** from \"[d48ef924a46280b92cc14c8f5c8fd7b58af37736](https://github.com/sagemath/sagetrac-mirror/commit/d48ef924a46280b92cc14c8f5c8fd7b58af37736)\" to \"[8d28b23a6146142b8571e6ce97f5561688b4f6f7](https://github.com/sagemath/sagetrac-mirror/commit/8d28b23a6146142b8571e6ce97f5561688b4f6f7)\".",
    "created_at": "2014-01-02T19:07:35Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196733",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d48ef924a46280b92cc14c8f5c8fd7b58af37736](https://github.com/sagemath/sagetrac-mirror/commit/d48ef924a46280b92cc14c8f5c8fd7b58af37736)" to "[8d28b23a6146142b8571e6ce97f5561688b4f6f7](https://github.com/sagemath/sagetrac-mirror/commit/8d28b23a6146142b8571e6ce97f5561688b4f6f7)".



---

archive/issue_comments_196734.json:
```json
{
    "body": "<a id='comment:19'></a>\nI am still trying to understand this code (and it would clearly help if you could add comments to it). You are buildng a cycle basis for a graph, and we have a function named `Graph.cycle_basis`. The problem is that it does not work for graphs with multiedges. Shouldn't your code move there ? If there are differences in speed, it would be cool to keep the two implementations available.\n\nNathann",
    "created_at": "2014-01-03T09:27:30Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196734",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:19'></a>
I am still trying to understand this code (and it would clearly help if you could add comments to it). You are buildng a cycle basis for a graph, and we have a function named `Graph.cycle_basis`. The problem is that it does not work for graphs with multiedges. Shouldn't your code move there ? If there are differences in speed, it would be cool to keep the two implementations available.

Nathann



---

archive/issue_events_137575.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-03T09:27:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137575"
}
```



---

archive/issue_events_137576.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-03T09:27:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137576"
}
```



---

archive/issue_comments_196735.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e68f25d\">e68f25d</a></td><td><code>trac #15550 + cycle_basis for unidirected graph with multiple edges</code></td></tr></table>\n",
    "created_at": "2014-01-03T10:58:20Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196735",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e68f25d">e68f25d</a></td><td><code>trac #15550 + cycle_basis for unidirected graph with multiple edges</code></td></tr></table>




---

archive/issue_comments_196736.json:
```json
{
    "body": "**Changing commit** from \"[8d28b23a6146142b8571e6ce97f5561688b4f6f7](https://github.com/sagemath/sagetrac-mirror/commit/8d28b23a6146142b8571e6ce97f5561688b4f6f7)\" to \"[e68f25d800b1fe775821c663b7899060b74211db](https://github.com/sagemath/sagetrac-mirror/commit/e68f25d800b1fe775821c663b7899060b74211db)\".",
    "created_at": "2014-01-03T10:58:20Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196736",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8d28b23a6146142b8571e6ce97f5561688b4f6f7](https://github.com/sagemath/sagetrac-mirror/commit/8d28b23a6146142b8571e6ce97f5561688b4f6f7)" to "[e68f25d800b1fe775821c663b7899060b74211db](https://github.com/sagemath/sagetrac-mirror/commit/e68f25d800b1fe775821c663b7899060b74211db)".



---

archive/issue_comments_196737.json:
```json
{
    "body": "<a id='comment:21'></a>\nI have now added some code to cycle_basis\n\nBut one cannot reconstruct a cycle from its support in a graph with multiple edges, so I cannot use that, unless I change the output of cycle_basis to a list of edges.\n\nWhen you tell me you want more explanations, do you mean\n* here in trac\n* as comments in the code\n* in the doc of the code ?",
    "created_at": "2014-01-03T11:01:55Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196737",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'></a>
I have now added some code to cycle_basis

But one cannot reconstruct a cycle from its support in a graph with multiple edges, so I cannot use that, unless I change the output of cycle_basis to a list of edges.

When you tell me you want more explanations, do you mean
* here in trac
* as comments in the code
* in the doc of the code ?



---

archive/issue_events_137577.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-01-03T11:04:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137577"
}
```



---

archive/issue_events_137578.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-01-03T11:04:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137578"
}
```



---

archive/issue_comments_196738.json:
```json
{
    "body": "<a id='comment:23'></a>\nDid you know that:\n\nhttps://github.com/sagemath/sagetrac-mirror/compare/de...u/chapoton/15550velop\n\nThis is a way to see all the changes at once.. No need to smash commits..",
    "created_at": "2014-01-03T11:08:58Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196738",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:23'></a>
Did you know that:

https://github.com/sagemath/sagetrac-mirror/compare/de...u/chapoton/15550velop

This is a way to see all the changes at once.. No need to smash commits..



---

archive/issue_comments_196739.json:
```json
{
    "body": "<a id='comment:24'></a>\nHello !\n\n> I have now added some code to cycle_basis\n> \n> But one cannot reconstruct a cycle from its support in a graph with multiple edges, so I cannot use that, unless I change the output of cycle_basis to a list of edges.\n\nWell, the best way would be to add a flag to `cycle_basis` to ask precisely this : how should the output be given ? While saying that of course the \"vertex\" output cannot be used if the graph has multiple edges.\n\n> When you tell me you want more explanations, do you mean\n> * here in trac\n> * as comments in the code\n> * in the doc of the code ?\n\nI would personally like it very much if you could answer the questions I ask here with real words and not only with git commits. Then, the problem is the following : the code is clearly not documented properly, as I cannot understand what it does, and I can swear this review costed me a lot of time already.\n\nI would like to understand clearly the orientation that you pick, and all steps that you use to build the matrix, then to compute the coefficients. Besides, this should be written somewhere, in the docstring or as comments in the code.\n\nNathann",
    "created_at": "2014-01-03T11:10:52Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196739",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'></a>
Hello !

> I have now added some code to cycle_basis
> 
> But one cannot reconstruct a cycle from its support in a graph with multiple edges, so I cannot use that, unless I change the output of cycle_basis to a list of edges.

Well, the best way would be to add a flag to `cycle_basis` to ask precisely this : how should the output be given ? While saying that of course the "vertex" output cannot be used if the graph has multiple edges.

> When you tell me you want more explanations, do you mean
> * here in trac
> * as comments in the code
> * in the doc of the code ?

I would personally like it very much if you could answer the questions I ask here with real words and not only with git commits. Then, the problem is the following : the code is clearly not documented properly, as I cannot understand what it does, and I can swear this review costed me a lot of time already.

I would like to understand clearly the orientation that you pick, and all steps that you use to build the matrix, then to compute the coefficients. Besides, this should be written somewhere, in the docstring or as comments in the code.

Nathann



---

archive/issue_comments_196740.json:
```json
{
    "body": "<a id='comment:25'></a>\n> Did you know that:\n> \n> https://github.com/sagemath/sagetrac-mirror/compare/de...u/chapoton/15550velop\n> \n> This is a way to see all the changes at once.. No need to smash commits..\n\nI knew. Git can also be used directly to output such things. But it does not help at all either when every commits contradicts the previous ones. Several commits can be very useful when each of the commit does some meaningful task, that actually helps the review. Commiting the mistakes one makes while writing the patch does not.\n\nI swear, I write and review things like #15623 these days, which contain far too many commits already without showing all mistakes done during the development `:-P`\n\nNathann",
    "created_at": "2014-01-03T11:16:07Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196740",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:25'></a>
> Did you know that:
> 
> https://github.com/sagemath/sagetrac-mirror/compare/de...u/chapoton/15550velop
> 
> This is a way to see all the changes at once.. No need to smash commits..

I knew. Git can also be used directly to output such things. But it does not help at all either when every commits contradicts the previous ones. Several commits can be very useful when each of the commit does some meaningful task, that actually helps the review. Commiting the mistakes one makes while writing the patch does not.

I swear, I write and review things like #15623 these days, which contain far too many commits already without showing all mistakes done during the development `:-P`

Nathann



---

archive/issue_comments_196741.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7eefb7f\">7eefb7f</a></td><td><code>trac #15550 add an 'output' keyword to cycle_basis and other methods</code></td></tr></table>\n",
    "created_at": "2014-01-03T14:20:53Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196741",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7eefb7f">7eefb7f</a></td><td><code>trac #15550 add an 'output' keyword to cycle_basis and other methods</code></td></tr></table>




---

archive/issue_comments_196742.json:
```json
{
    "body": "**Changing commit** from \"[e68f25d800b1fe775821c663b7899060b74211db](https://github.com/sagemath/sagetrac-mirror/commit/e68f25d800b1fe775821c663b7899060b74211db)\" to \"[7eefb7f5d7703df4fee1d026ec742626e72134bf](https://github.com/sagemath/sagetrac-mirror/commit/7eefb7f5d7703df4fee1d026ec742626e72134bf)\".",
    "created_at": "2014-01-03T14:20:53Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196742",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e68f25d800b1fe775821c663b7899060b74211db](https://github.com/sagemath/sagetrac-mirror/commit/e68f25d800b1fe775821c663b7899060b74211db)" to "[7eefb7f5d7703df4fee1d026ec742626e72134bf](https://github.com/sagemath/sagetrac-mirror/commit/7eefb7f5d7703df4fee1d026ec742626e72134bf)".



---

archive/issue_comments_196743.json:
```json
{
    "body": "<a id='comment:27'></a>\nHello\n\nThank you Nathann for spending time on this, and sorry for not answering well-enough.\n\nI have now added a 'output' keyword to 'cycle_basis', 'is_tree' and 'is_forest'.\n\nStill I am not satisfied, because when output is set to 'edge', the cycle is not returned as a list of triples (vertex,vertex,label), but as a list of pairs [vertex,vertex]. It cannot therefore be recognized as an edge, i.e does not belongs to G.edges().\n\nI will try later to correct that.",
    "created_at": "2014-01-03T14:26:55Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196743",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:27'></a>
Hello

Thank you Nathann for spending time on this, and sorry for not answering well-enough.

I have now added a 'output' keyword to 'cycle_basis', 'is_tree' and 'is_forest'.

Still I am not satisfied, because when output is set to 'edge', the cycle is not returned as a list of triples (vertex,vertex,label), but as a list of pairs [vertex,vertex]. It cannot therefore be recognized as an edge, i.e does not belongs to G.edges().

I will try later to correct that.



---

archive/issue_events_137579.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-01-03T14:26:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137579"
}
```



---

archive/issue_events_137580.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-01-03T14:26:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137580"
}
```



---

archive/issue_comments_196744.json:
```json
{
    "body": "**Changing commit** from \"[7eefb7f5d7703df4fee1d026ec742626e72134bf](https://github.com/sagemath/sagetrac-mirror/commit/7eefb7f5d7703df4fee1d026ec742626e72134bf)\" to \"[d3f1ed98a794375b318198ade0af8f85228289ce](https://github.com/sagemath/sagetrac-mirror/commit/d3f1ed98a794375b318198ade0af8f85228289ce)\".",
    "created_at": "2014-01-03T14:52:06Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196744",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7eefb7f5d7703df4fee1d026ec742626e72134bf](https://github.com/sagemath/sagetrac-mirror/commit/7eefb7f5d7703df4fee1d026ec742626e72134bf)" to "[d3f1ed98a794375b318198ade0af8f85228289ce](https://github.com/sagemath/sagetrac-mirror/commit/d3f1ed98a794375b318198ade0af8f85228289ce)".



---

archive/issue_comments_196745.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3f1ed9\">d3f1ed9</a></td><td><code>trac #15550 now result cycles given as a list of true edges</code></td></tr></table>\n",
    "created_at": "2014-01-03T14:52:06Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196745",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3f1ed9">d3f1ed9</a></td><td><code>trac #15550 now result cycles given as a list of true edges</code></td></tr></table>




---

archive/issue_comments_196746.json:
```json
{
    "body": "**Changing commit** from \"[d3f1ed98a794375b318198ade0af8f85228289ce](https://github.com/sagemath/sagetrac-mirror/commit/d3f1ed98a794375b318198ade0af8f85228289ce)\" to \"[a3005a99f42302b4ae670d642cb719030f02a74d](https://github.com/sagemath/sagetrac-mirror/commit/a3005a99f42302b4ae670d642cb719030f02a74d)\".",
    "created_at": "2014-01-03T17:14:52Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196746",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d3f1ed98a794375b318198ade0af8f85228289ce](https://github.com/sagemath/sagetrac-mirror/commit/d3f1ed98a794375b318198ade0af8f85228289ce)" to "[a3005a99f42302b4ae670d642cb719030f02a74d](https://github.com/sagemath/sagetrac-mirror/commit/a3005a99f42302b4ae670d642cb719030f02a74d)".



---

archive/issue_comments_196747.json:
```json
{
    "body": "<a id='comment:29'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3005a9\">a3005a9</a></td><td><code>Trac #15550 implement the Kirchhoff-Symanzik polynomial</code></td></tr></table>\n",
    "created_at": "2014-01-03T17:14:52Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196747",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3005a9">a3005a9</a></td><td><code>Trac #15550 implement the Kirchhoff-Symanzik polynomial</code></td></tr></table>




---

archive/issue_comments_196748.json:
```json
{
    "body": "<a id='comment:30'></a>\nRewriting history again, here is a working version.",
    "created_at": "2014-01-03T17:19:33Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196748",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:30'></a>
Rewriting history again, here is a working version.



---

archive/issue_comments_196749.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,7 @@\n This is a polynomial in several variables, useful in the study of Feynman diagrams.\n \n-Done using a determinant (matrix-tree theorem)\n+Done using a determinant (like in the matrix-tree theorem)\n \n-I had to use an auxiliary function.\n+Also implements cycle_basis for graphs with multiple edges\n+\n+and add an 'output' parameter to 'cycle_basis', 'is_tree' and 'is_forest'\n``````\n",
    "created_at": "2014-01-03T17:19:33Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196749",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,7 @@
 This is a polynomial in several variables, useful in the study of Feynman diagrams.
 
-Done using a determinant (matrix-tree theorem)
+Done using a determinant (like in the matrix-tree theorem)
 
-I had to use an auxiliary function.
+Also implements cycle_basis for graphs with multiple edges
+
+and add an 'output' parameter to 'cycle_basis', 'is_tree' and 'is_forest'
``````




---

archive/issue_events_137581.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-01-03T17:19:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137581"
}
```



---

archive/issue_events_137582.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-01-03T17:19:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137582"
}
```



---

archive/issue_comments_196750.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/15550](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/15550)\" to \"[public/15550](https://github.com/sagemath/sagetrac-mirror/tree/public/15550)\".",
    "created_at": "2014-01-03T19:17:48Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196750",
    "user": "https://github.com/nathanncohen"
}
```

**Changing branch** from "[u/chapoton/15550](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/15550)" to "[public/15550](https://github.com/sagemath/sagetrac-mirror/tree/public/15550)".



---

archive/issue_comments_196751.json:
```json
{
    "body": "**Reviewer:** Nathann Cohen",
    "created_at": "2014-01-03T19:17:48Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196751",
    "user": "https://github.com/nathanncohen"
}
```

**Reviewer:** Nathann Cohen



---

archive/issue_comments_196752.json:
```json
{
    "body": "**Changing commit** from \"[a3005a99f42302b4ae670d642cb719030f02a74d](https://github.com/sagemath/sagetrac-mirror/commit/a3005a99f42302b4ae670d642cb719030f02a74d)\" to \"\".",
    "created_at": "2014-01-03T19:17:48Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196752",
    "user": "https://github.com/nathanncohen"
}
```

**Changing commit** from "[a3005a99f42302b4ae670d642cb719030f02a74d](https://github.com/sagemath/sagetrac-mirror/commit/a3005a99f42302b4ae670d642cb719030f02a74d)" to "".



---

archive/issue_comments_196753.json:
```json
{
    "body": "<a id='comment:31'></a>\nWow. Very good patch, thank you very much for this work `:-)`\n\nAll I could add are small modifications to the doc. I added one commit to your branch. If you agree with that, you can set the ticket to `positive_review`.\n\nHappy new yeaaaaaaaaar !\n\nNathann",
    "created_at": "2014-01-03T19:17:48Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196753",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:31'></a>
Wow. Very good patch, thank you very much for this work `:-)`

All I could add are small modifications to the doc. I added one commit to your branch. If you agree with that, you can set the ticket to `positive_review`.

Happy new yeaaaaaaaaar !

Nathann



---

archive/issue_comments_196754.json:
```json
{
    "body": "**Commit:** [11f9ec629663de71d7578dc1c5f7034238715c11](https://github.com/sagemath/sagetrac-mirror/commit/11f9ec629663de71d7578dc1c5f7034238715c11)",
    "created_at": "2014-01-03T19:18:11Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196754",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [11f9ec629663de71d7578dc1c5f7034238715c11](https://github.com/sagemath/sagetrac-mirror/commit/11f9ec629663de71d7578dc1c5f7034238715c11)



---

archive/issue_comments_196755.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11f9ec6\">11f9ec6</a></td><td><code>Trac #15550: Review, small changes to the doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3005a9\">a3005a9</a></td><td><code>Trac #15550 implement the Kirchhoff-Symanzik polynomial</code></td></tr></table>\n",
    "created_at": "2014-01-03T19:18:11Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196755",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11f9ec6">11f9ec6</a></td><td><code>Trac #15550: Review, small changes to the doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3005a9">a3005a9</a></td><td><code>Trac #15550 implement the Kirchhoff-Symanzik polynomial</code></td></tr></table>




---

archive/issue_comments_196756.json:
```json
{
    "body": "<a id='comment:33'></a>\nOops, soorry I forgot. I noticed that the `cycle_basis` function does not work for disconnected graphs. I'll fix that in a second.\n\nNathann",
    "created_at": "2014-01-03T19:19:15Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196756",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:33'></a>
Oops, soorry I forgot. I noticed that the `cycle_basis` function does not work for disconnected graphs. I'll fix that in a second.

Nathann



---

archive/issue_comments_196757.json:
```json
{
    "body": "<a id='comment:34'></a>\nHmmmmm... It was actually slightly more complicated than that. This, and supper in between.\n\nTechnically : \n* networkx refuses to work on a graph that allows multiple edges, even if it does not contain any\n* `cycle_basis` now handles disconnected graphs\n\nAaaaaaaaand I found a bug with those cursed multiple edges again :\n\n```\nsage: g = Graph({0:{1:[1,1]}}, multiedges=True)\nsage: g.edges()\n[(0, 1, 1), (0, 1, 1)]\nsage: (2*g).edges()\n[(0, 1, 1), (2, 3, 1)]\n```\n\nI hate these things...\n\nAnyway, branch updated. Tell me what you think !\n\nNathann",
    "created_at": "2014-01-03T20:15:08Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196757",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:34'></a>
Hmmmmm... It was actually slightly more complicated than that. This, and supper in between.

Technically : 
* networkx refuses to work on a graph that allows multiple edges, even if it does not contain any
* `cycle_basis` now handles disconnected graphs

Aaaaaaaaand I found a bug with those cursed multiple edges again :

```
sage: g = Graph({0:{1:[1,1]}}, multiedges=True)
sage: g.edges()
[(0, 1, 1), (0, 1, 1)]
sage: (2*g).edges()
[(0, 1, 1), (2, 3, 1)]
```

I hate these things...

Anyway, branch updated. Tell me what you think !

Nathann



---

archive/issue_comments_196758.json:
```json
{
    "body": "**Changing commit** from \"[11f9ec629663de71d7578dc1c5f7034238715c11](https://github.com/sagemath/sagetrac-mirror/commit/11f9ec629663de71d7578dc1c5f7034238715c11)\" to \"[8b7505a5bac55f1bafd6f4b2ab27c755751c5a61](https://github.com/sagemath/sagetrac-mirror/commit/8b7505a5bac55f1bafd6f4b2ab27c755751c5a61)\".",
    "created_at": "2014-01-03T20:16:14Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196758",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[11f9ec629663de71d7578dc1c5f7034238715c11](https://github.com/sagemath/sagetrac-mirror/commit/11f9ec629663de71d7578dc1c5f7034238715c11)" to "[8b7505a5bac55f1bafd6f4b2ab27c755751c5a61](https://github.com/sagemath/sagetrac-mirror/commit/8b7505a5bac55f1bafd6f4b2ab27c755751c5a61)".



---

archive/issue_comments_196759.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b7505a\">8b7505a</a></td><td><code>Trac #15550: Review, small changes to the doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3005a9\">a3005a9</a></td><td><code>Trac #15550 implement the Kirchhoff-Symanzik polynomial</code></td></tr></table>\n",
    "created_at": "2014-01-03T20:16:14Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196759",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b7505a">8b7505a</a></td><td><code>Trac #15550: Review, small changes to the doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3005a9">a3005a9</a></td><td><code>Trac #15550 implement the Kirchhoff-Symanzik polynomial</code></td></tr></table>




---

archive/issue_comments_196760.json:
```json
{
    "body": "<a id='comment:36'></a>\nHappy new year to you too, and thanks for the review !\n\nReview patch looks good to me. If you agree, please set to positive review.",
    "created_at": "2014-01-03T20:33:46Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196760",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:36'></a>
Happy new year to you too, and thanks for the review !

Review patch looks good to me. If you agree, please set to positive review.



---

archive/issue_events_137583.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-03T20:40:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137583"
}
```



---

archive/issue_events_137584.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-03T20:40:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137584"
}
```



---

archive/issue_comments_196761.json:
```json
{
    "body": "<a id='comment:38'></a>\nDoesn't merge, please resolve.",
    "created_at": "2014-01-05T00:51:09Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196761",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:38'></a>
Doesn't merge, please resolve.



---

archive/issue_comments_196762.json:
```json
{
    "body": "<a id='comment:39'></a>\nHmmmm... It merges with 6.1.beta3, so it must be conflicting with some other patch you already merged.\n\nNathann",
    "created_at": "2014-01-05T08:22:35Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196762",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:39'></a>
Hmmmm... It merges with 6.1.beta3, so it must be conflicting with some other patch you already merged.

Nathann



---

archive/issue_comments_196763.json:
```json
{
    "body": "<a id='comment:40'></a>\nConflicts with beta4",
    "created_at": "2014-01-05T18:38:20Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196763",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:40'></a>
Conflicts with beta4



---

archive/issue_comments_196764.json:
```json
{
    "body": "<a id='comment:41'></a>\nRebased ! (though there was no automatic git message)\n\nNathann\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/197a285efe203a92c3719e35a2b730616d56f94b\">197a285</a></td><td><code>trac #15550: rebase on 6.1.beta4</code></td></tr></table>\n",
    "created_at": "2014-01-05T18:47:38Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196764",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:41'></a>
Rebased ! (though there was no automatic git message)

Nathann

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/197a285efe203a92c3719e35a2b730616d56f94b">197a285</a></td><td><code>trac #15550: rebase on 6.1.beta4</code></td></tr></table>




---

archive/issue_comments_196765.json:
```json
{
    "body": "**Changing commit** from \"[8b7505a5bac55f1bafd6f4b2ab27c755751c5a61](https://github.com/sagemath/sagetrac-mirror/commit/8b7505a5bac55f1bafd6f4b2ab27c755751c5a61)\" to \"[197a285efe203a92c3719e35a2b730616d56f94b](https://github.com/sagemath/sagetrac-mirror/commit/197a285efe203a92c3719e35a2b730616d56f94b)\".",
    "created_at": "2014-01-05T18:47:38Z",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15550#issuecomment-196765",
    "user": "https://github.com/nathanncohen"
}
```

**Changing commit** from "[8b7505a5bac55f1bafd6f4b2ab27c755751c5a61](https://github.com/sagemath/sagetrac-mirror/commit/8b7505a5bac55f1bafd6f4b2ab27c755751c5a61)" to "[197a285efe203a92c3719e35a2b730616d56f94b](https://github.com/sagemath/sagetrac-mirror/commit/197a285efe203a92c3719e35a2b730616d56f94b)".



---

archive/issue_events_137585.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-01-07T04:55:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137585"
}
```



---

archive/issue_events_137586.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "c1517a33510e9dcc7180750d93257b4b4f2f05ad",
    "created_at": "2014-01-07T04:55:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15550",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15550#event-137586"
}
```
