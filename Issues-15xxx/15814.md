# Issue 15814: upgrade cunningham_table-1.0 and put it in standard

archive/issues_015577.json:
```json
{
    "body": "The old package still uses $SAGE_DATA and so it fails to install after sage-6.0. Moreover, it should be upgraded as the newest version is http://sage.math.washington.edu/home/roed/cunningham_tables-2.2.spkg\n\nThat version however still uses $SAGE_DATA but the upgrader could just fix that by changing usage of it to $SAGE_SHARE.\n\nMaintainer is cc'ed.\n\nSee #7240 why this should be standard, the vote has happened.\n\nCC:  @roed314\n\nKeywords: cunningham, factorization\n\nAuthor: Ralf Stephan\n\nResolution: duplicate\n\nIssue created by migration from https://trac.sagemath.org/ticket/15814\n\n",
    "closed_at": "2015-01-13T01:22:03Z",
    "created_at": "2014-02-13T09:36:46Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "upgrade cunningham_table-1.0 and put it in standard",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15814",
    "user": "https://github.com/rwst"
}
```
The old package still uses $SAGE_DATA and so it fails to install after sage-6.0. Moreover, it should be upgraded as the newest version is http://sage.math.washington.edu/home/roed/cunningham_tables-2.2.spkg

That version however still uses $SAGE_DATA but the upgrader could just fix that by changing usage of it to $SAGE_SHARE.

Maintainer is cc'ed.

See #7240 why this should be standard, the vote has happened.

CC:  @roed314

Keywords: cunningham, factorization

Author: Ralf Stephan

Resolution: duplicate

Issue created by migration from https://trac.sagemath.org/ticket/15814





---

archive/issue_comments_214640.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,6 +3,8 @@\n That version however still uses $SAGE_DATA but the upgrader could just fix that by changing usage of it to $SAGE_SHARE.\n \n Maintainer is cc'ed.\n+\n+See #7240 why this should be standard, the vote has happened.\n \n Component: packages: optional\n \n``````\n",
    "created_at": "2014-04-04T17:14:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15814#issuecomment-214640",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,6 +3,8 @@
 That version however still uses $SAGE_DATA but the upgrader could just fix that by changing usage of it to $SAGE_SHARE.
 
 Maintainer is cc'ed.
+
+See #7240 why this should be standard, the vote has happened.
 
 Component: packages: optional
 
``````




---

archive/issue_comments_214641.json:
```json
{
    "body": "Changing component from packages: optional to packages: standard.",
    "created_at": "2014-04-04T17:14:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15814#issuecomment-214641",
    "user": "https://github.com/rwst"
}
```

Changing component from packages: optional to packages: standard.



---

archive/issue_comments_214642.json:
```json
{
    "body": "<a id='comment:1'></a>So, that's all to make the linked SPKG work:\n\n```\ndiff -u --recursive cunningham_tables-2.2-old/spkg-install cunningham_tables-2.2/spkg-install\n--- cunningham_tables-2.2-old/spkg-install      2009-10-17 22:46:12.000000000 +0200\n+++ cunningham_tables-2.2/spkg-install  2014-02-21 09:42:48.599254970 +0100\n@@ -1,4 +1,4 @@\n #!/bin/sh\n \n-rm -rf $SAGE_DATA/cunningham_tables\n-cp -r src/cunningham_tables $SAGE_DATA/cunningham_tables\n+rm -rf $SAGE_SHARE/cunningham_tables\n+cp -r src/cunningham_tables $SAGE_SHARE/cunningham_tables\n```\nNow to figure out what the actual patch should look like.",
    "created_at": "2014-04-04T17:14:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15814#issuecomment-214642",
    "user": "https://github.com/rwst"
}
```

<a id='comment:1'></a>So, that's all to make the linked SPKG work:

```
diff -u --recursive cunningham_tables-2.2-old/spkg-install cunningham_tables-2.2/spkg-install
--- cunningham_tables-2.2-old/spkg-install      2009-10-17 22:46:12.000000000 +0200
+++ cunningham_tables-2.2/spkg-install  2014-02-21 09:42:48.599254970 +0100
@@ -1,4 +1,4 @@
 #!/bin/sh
 
-rm -rf $SAGE_DATA/cunningham_tables
-cp -r src/cunningham_tables $SAGE_DATA/cunningham_tables
+rm -rf $SAGE_SHARE/cunningham_tables
+cp -r src/cunningham_tables $SAGE_SHARE/cunningham_tables
```
Now to figure out what the actual patch should look like.



---

archive/issue_comments_214643.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-04-05T07:08:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15814#issuecomment-214643",
    "user": "https://github.com/rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_214644.json:
```json
{
    "body": "<a id='comment:2'></a>The `sage-spkg` script simply grabs any `spkg-install` in the tarball without looking into `build/pkgs/cunningham_tables` so, unless this has been enhanced, the only way to present this patched SPKG is by giving the patch above.\n\nSo, to include the new package, download the SPKG from the link above, extract the tarball, and patch the `spkg-install` using the snippet above. The Sage tarball patch mechanism is not usable here, AFAIK, and neither is git.",
    "created_at": "2014-04-05T07:08:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15814#issuecomment-214644",
    "user": "https://github.com/rwst"
}
```

<a id='comment:2'></a>The `sage-spkg` script simply grabs any `spkg-install` in the tarball without looking into `build/pkgs/cunningham_tables` so, unless this has been enhanced, the only way to present this patched SPKG is by giving the patch above.

So, to include the new package, download the SPKG from the link above, extract the tarball, and patch the `spkg-install` using the snippet above. The Sage tarball patch mechanism is not usable here, AFAIK, and neither is git.



---

archive/issue_events_046508.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15814",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15814#event-46508"
}
```



---

archive/issue_events_046509.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15814",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15814#event-46509"
}
```



---

archive/issue_events_046510.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15814",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15814#event-46510"
}
```



---

archive/issue_comments_214645.json:
```json
{
    "body": "<a id='comment:5'></a>Duplicate of #15813.",
    "created_at": "2015-01-09T13:30:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15814#issuecomment-214645",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:5'></a>Duplicate of #15813.



---

archive/issue_events_046511.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2015-01-09T13:30:11Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15814",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15814#event-46511"
}
```



---

archive/issue_events_046512.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2015-01-09T13:30:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15814",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15814#event-46512"
}
```



---

archive/issue_comments_214646.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-01-09T13:51:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15814#issuecomment-214646",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_046513.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-13T01:22:03Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15814",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15814#event-46513"
}
```



---

archive/issue_comments_214647.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2015-01-13T01:22:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15814#issuecomment-214647",
    "user": "https://github.com/vbraun"
}
```

Resolution: duplicate
