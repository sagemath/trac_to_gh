# Issue 15265: Additional functionality for Farey symbols

archive/issues_015028.json:
```json
{
    "assignees": [],
    "body": "The additional functionality included in this patch are:\n\n- various possibilities for the tessellation of the fundamental domain (Dedekind, coset, none)\n- membership test via the Lang, Lim, Tan algorithm\n- improved LaTeX output (via xymatrix)\n- reduction to cusp\n- identify cusp class\n\nAdded tests for LLT algorithm and reduction to cusp.\n\nAssignee: **@monien**\n\nCC:  @vbraun @loefflerd\n\nKeywords: **Farey symbol, arithmetic subgroups**\n\nBranch/Commit: **[u/mraum/ticket/15265](https://github.com/sagemath/sagetrac-mirror/tree/u/mraum/ticket/15265) @ [f24bf98](https://github.com/sagemath/sagetrac-mirror/commit/f24bf982ce00c4227cc20394c898dc0d078dcf96)**\n\nReviewer: **David Loeffler, Martin Raum**\n\nAuthor: **Hartmut Monien**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15265_\n\n",
    "closed_at": "2014-01-16T05:10:43Z",
    "created_at": "2013-10-09T09:31:44Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20modular%20forms",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Additional functionality for Farey symbols",
    "type": "issue",
    "updated_at": "2014-01-23T18:02:38Z",
    "url": "https://github.com/sagemath/sage/issues/15265",
    "user": "https://github.com/monien"
}
```
The additional functionality included in this patch are:

- various possibilities for the tessellation of the fundamental domain (Dedekind, coset, none)
- membership test via the Lang, Lim, Tan algorithm
- improved LaTeX output (via xymatrix)
- reduction to cusp
- identify cusp class

Added tests for LLT algorithm and reduction to cusp.

Assignee: **@monien**

CC:  @vbraun @loefflerd

Keywords: **Farey symbol, arithmetic subgroups**

Branch/Commit: **[u/mraum/ticket/15265](https://github.com/sagemath/sagetrac-mirror/tree/u/mraum/ticket/15265) @ [f24bf98](https://github.com/sagemath/sagetrac-mirror/commit/f24bf982ce00c4227cc20394c898dc0d078dcf96)**

Reviewer: **David Loeffler, Martin Raum**

Author: **Hartmut Monien**

_Issue created by migration from https://trac.sagemath.org/ticket/15265_





---

archive/issue_events_199636.json:
```json
{
    "actor": "https://github.com/monien",
    "created_at": "2013-10-09T09:31:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15265#event-199636"
}
```



---

archive/issue_events_199637.json:
```json
{
    "actor": "https://github.com/monien",
    "created_at": "2013-10-09T09:31:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20modular%20forms",
    "label_color": "0000ff",
    "label_name": "component: modular forms",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15265#event-199637"
}
```



---

archive/issue_events_199638.json:
```json
{
    "actor": "https://github.com/monien",
    "created_at": "2013-10-09T09:31:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15265#event-199638"
}
```



---

archive/issue_events_199639.json:
```json
{
    "actor": "https://github.com/monien",
    "created_at": "2013-10-09T09:31:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15265#event-199639"
}
```



---

archive/issue_comments_190830.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,5 +6,4 @@\n - reduction to cusp\n - identify cusp class\n \n-There are a number of special cases where the straightforward implementation of the LLT algorithm fails. \n-More testing is required.\n+Added tests for LLT algorithm and reduction to cusp.\n``````\n",
    "created_at": "2013-10-16T11:21:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190830",
    "user": "https://github.com/monien"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,5 +6,4 @@
 - reduction to cusp
 - identify cusp class
 
-There are a number of special cases where the straightforward implementation of the LLT algorithm fails. 
-More testing is required.
+Added tests for LLT algorithm and reduction to cusp.
``````




---

archive/issue_events_199640.json:
```json
{
    "actor": "https://github.com/monien",
    "created_at": "2013-10-17T21:04:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15265#event-199640"
}
```



---

archive/issue_comments_190831.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nPedantic comments: you need a proper commit message on the patch, or the release manager will complain; and there is a failing doctest in the  <code> \\`_latex_\\` </code> method in `congroup_gamma.py` (typo?). I'm running a more thorough doctest cycle now.",
    "created_at": "2013-10-19T17:01:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190831",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:3" align="right">Comment 3</div>

Pedantic comments: you need a proper commit message on the patch, or the release manager will complain; and there is a failing doctest in the  <code> \`_latex_\` </code> method in `congroup_gamma.py` (typo?). I'm running a more thorough doctest cycle now.



---

archive/issue_comments_190832.json:
```json
{
    "body": "Reviewer: **David Loeffler**",
    "created_at": "2013-10-19T18:02:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190832",
    "user": "https://github.com/loefflerd"
}
```

Reviewer: **David Loeffler**



---

archive/issue_comments_190833.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nOK, here's something a bit more important. The LaTeX display for Farey symbols doesn't work in the notebook: instead of rendering the Farey symbol it prints a little box with the raw LaTeX code in it. The problem is that the notebook uses MathJax for its latex rendering, and xypic is not supported by MathJax. I did warn you about this some while back.\n\nOther than that the new code looks fine.",
    "created_at": "2013-10-19T18:02:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190833",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:4" align="right">Comment 4</div>

OK, here's something a bit more important. The LaTeX display for Farey symbols doesn't work in the notebook: instead of rendering the Farey symbol it prints a little box with the raw LaTeX code in it. The problem is that the notebook uses MathJax for its latex rendering, and xypic is not supported by MathJax. I did warn you about this some while back.

Other than that the new code looks fine.



---

archive/issue_comments_190834.json:
```json
{
    "body": "Work Issues: **LaTeX display doesn't work**",
    "created_at": "2013-10-19T18:02:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190834",
    "user": "https://github.com/loefflerd"
}
```

Work Issues: **LaTeX display doesn't work**



---

archive/issue_events_199641.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2013-10-19T18:02:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15265#event-199641"
}
```



---

archive/issue_events_199642.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2013-10-19T18:02:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15265#event-199642"
}
```



---

archive/issue_comments_190835.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nI do understand that the notebook (mathjax) currently does not support xymatrix. There are some attempts to make xymatrix also work for mathjax which would cure this problem. For the time being the situation is not very different from the one for using tikz with graphs. So the usual story: \n\n```\nlatex.add_to_preamble('\\usepackage[all]{xy}')\nlatex.mathjax_avoid_list('xymatrix'). \n```\nThen \n\n```\nview(FareySymbol(Gamma0(23)), engine='pdflatex', tightpage=True)\n```\ndoes produce a latex view of the Farey symbol. I would hope that xymatrix would be included in in mathjax sooner than later. Please have a look at http://sonoisa.github.io/xyjax/xyjax.html. One could of course check wether the latex is produced in a notebook or \nnot but that might lead to inconsistencies for the user.\n\nI'll fix the (minor) problems  tomorrow. Thanks for the prompt review.",
    "created_at": "2013-10-19T19:38:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190835",
    "user": "https://github.com/monien"
}
```

<div id="comment:5" align="right">Comment 5</div>

I do understand that the notebook (mathjax) currently does not support xymatrix. There are some attempts to make xymatrix also work for mathjax which would cure this problem. For the time being the situation is not very different from the one for using tikz with graphs. So the usual story: 

```
latex.add_to_preamble('\usepackage[all]{xy}')
latex.mathjax_avoid_list('xymatrix'). 
```
Then 

```
view(FareySymbol(Gamma0(23)), engine='pdflatex', tightpage=True)
```
does produce a latex view of the Farey symbol. I would hope that xymatrix would be included in in mathjax sooner than later. Please have a look at http://sonoisa.github.io/xyjax/xyjax.html. One could of course check wether the latex is produced in a notebook or 
not but that might lead to inconsistencies for the user.

I'll fix the (minor) problems  tomorrow. Thanks for the prompt review.



---

archive/issue_comments_190836.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\n* Fixed typo in `_latex_` in `congroup.py`.\n* Added proper commit message",
    "created_at": "2013-10-19T22:49:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190836",
    "user": "https://github.com/monien"
}
```

<div id="comment:6" align="right">Comment 6</div>

* Fixed typo in `_latex_` in `congroup.py`.
* Added proper commit message



---

archive/issue_comments_190837.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nI'm not sure that the comparison with using tikz for graphs is a fair one. There's clearly no hope of getting standard LaTeX to render graphs, so it's reasonable to require an extra package. On the other hand, one can produce a viable approximation to a Farey symbol without using any extra packages, as in my recent ticket #14971; this may not look quite so nice as your version, but it avoids these compatibility issues.\n\nCan you add a doctest illustrating your changes to arithgroup_element.acton?",
    "created_at": "2013-10-20T13:15:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190837",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:7" align="right">Comment 7</div>

I'm not sure that the comparison with using tikz for graphs is a fair one. There's clearly no hope of getting standard LaTeX to render graphs, so it's reasonable to require an extra package. On the other hand, one can produce a viable approximation to a Farey symbol without using any extra packages, as in my recent ticket #14971; this may not look quite so nice as your version, but it avoids these compatibility issues.

Can you add a doctest illustrating your changes to arithgroup_element.acton?



---

archive/issue_comments_190838.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nI have added two doctests to arithgroup_element.acton. I do understand your concern about the latex. The question here is:\nIs the graph for the Farey symbol just some equation or a graph. I would opt for the latter. \n\nI have modified the `_latex_` of the Farey symbol  so that it does work with sagemath cloud. \nTo illustrate that it is fairly easy to use the current version of the latex output (one thing which \nhas been bugging me for a long time is the extra brackets in the latex output in a sage worksheet) I included two examples\nhow to use it.\n\nThe only other alternative I see is to add yet another property to the Farey symbol like graph() or the like to keep the nice\nlatex format.",
    "created_at": "2013-10-21T12:02:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190838",
    "user": "https://github.com/monien"
}
```

<div id="comment:8" align="right">Comment 8</div>

I have added two doctests to arithgroup_element.acton. I do understand your concern about the latex. The question here is:
Is the graph for the Farey symbol just some equation or a graph. I would opt for the latter. 

I have modified the `_latex_` of the Farey symbol  so that it does work with sagemath cloud. 
To illustrate that it is fairly easy to use the current version of the latex output (one thing which 
has been bugging me for a long time is the extra brackets in the latex output in a sage worksheet) I included two examples
how to use it.

The only other alternative I see is to add yet another property to the Farey symbol like graph() or the like to keep the nice
latex format.



---

archive/issue_comments_190839.json:
```json
{
    "body": "latex as would produced by my new latex version",
    "created_at": "2013-10-21T12:04:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190839",
    "user": "https://github.com/monien"
}
```

latex as would produced by my new latex version



---

archive/issue_comments_190840.json:
```json
{
    "body": "Attachment: **[test latex for Farey symbols.tiff.gz](https://github.com/sagemath/sage/files/ticket15265/408e78cd742d2ebb3857da9eb4c8969a.gz)**\n\nuse in sage worksheet",
    "created_at": "2013-10-21T12:04:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190840",
    "user": "https://github.com/monien"
}
```

Attachment: **[test latex for Farey symbols.tiff.gz](https://github.com/sagemath/sage/files/ticket15265/408e78cd742d2ebb3857da9eb4c8969a.gz)**

use in sage worksheet



---

archive/issue_comments_190841.json:
```json
{
    "body": "Attachment: **[test new Farey symbols -- Sage.pdf.gz](https://github.com/sagemath/sage/files/ticket15265/6d207eac3dbc8129f1fe19dba763e8a3.gz)**\n\nAttachment: **[farey.patch.gz](https://github.com/sagemath/sage/files/ticket15265/farey.patch.gz)**\n\nFarey symbol enhancement",
    "created_at": "2013-10-21T14:10:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190841",
    "user": "https://github.com/monien"
}
```

Attachment: **[test new Farey symbols -- Sage.pdf.gz](https://github.com/sagemath/sage/files/ticket15265/6d207eac3dbc8129f1fe19dba763e8a3.gz)**

Attachment: **[farey.patch.gz](https://github.com/sagemath/sage/files/ticket15265/farey.patch.gz)**

Farey symbol enhancement



---

archive/issue_comments_190842.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nJust so that I understand correctly, there are two potential LaTeX outputs, one with (here) and one without xy (at #14971)? How about you do\n\n```\n   if 'xymatrix' in latex.mathjax_avoid_list():\n       output_with_xy()\n   else:\n       output_without_xy()\n```\nSince xy is in the default latex preamble we should probably add it to the avoid list by default, but that would be for another ticket...",
    "created_at": "2013-11-22T15:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190842",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:9" align="right">Comment 9</div>

Just so that I understand correctly, there are two potential LaTeX outputs, one with (here) and one without xy (at #14971)? How about you do

```
   if 'xymatrix' in latex.mathjax_avoid_list():
       output_with_xy()
   else:
       output_without_xy()
```
Since xy is in the default latex preamble we should probably add it to the avoid list by default, but that would be for another ticket...



---

archive/issue_comments_190843.json:
```json
{
    "body": "Branch: **[u/hmonien/ticket/15265](https://github.com/sagemath/sagetrac-mirror/tree/u/hmonien/ticket/15265)**",
    "created_at": "2014-01-10T10:13:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190843",
    "user": "https://github.com/monien"
}
```

Branch: **[u/hmonien/ticket/15265](https://github.com/sagemath/sagetrac-mirror/tree/u/hmonien/ticket/15265)**



---

archive/issue_comments_190844.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nAdded modified version of David's latex for FareySymbol.",
    "created_at": "2014-01-10T11:46:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190844",
    "user": "https://github.com/monien"
}
```

<div id="comment:11" align="right">Comment 11</div>

Added modified version of David's latex for FareySymbol.



---

archive/issue_comments_190845.json:
```json
{
    "body": "Commit: **[119c796](https://github.com/sagemath/sagetrac-mirror/commit/119c79638ecf2c368d66dc84da2b35c01c9470b9)**",
    "created_at": "2014-01-10T11:49:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190845",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[119c796](https://github.com/sagemath/sagetrac-mirror/commit/119c79638ecf2c368d66dc84da2b35c01c9470b9)**



---

archive/issue_comments_190846.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/119c79638ecf2c368d66dc84da2b35c01c9470b9\">119c796</a></td><td><code>Version with modified latex for FareySymbol.</code></td></tr></table>\n",
    "created_at": "2014-01-10T11:49:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190846",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12" align="right">Comment 12</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/119c79638ecf2c368d66dc84da2b35c01c9470b9">119c796</a></td><td><code>Version with modified latex for FareySymbol.</code></td></tr></table>




---

archive/issue_comments_190847.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nWe did some parallel work. Hope it's ok for you to base the review on my branch (to which I already made some small changes).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9da738a7dd19991eae83c82b0dcd2b03c7b616d6\">9da738a</a></td><td><code>trac 15265: improvements for FareySymbol.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/119c79638ecf2c368d66dc84da2b35c01c9470b9\">119c796</a></td><td><code>Version with modified latex for FareySymbol.</code></td></tr></table>\n",
    "created_at": "2014-01-10T12:01:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190847",
    "user": "https://github.com/sagetrac-mraum"
}
```

<div id="comment:13" align="right">Comment 13</div>

We did some parallel work. Hope it's ok for you to base the review on my branch (to which I already made some small changes).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9da738a7dd19991eae83c82b0dcd2b03c7b616d6">9da738a</a></td><td><code>trac 15265: improvements for FareySymbol.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/119c79638ecf2c368d66dc84da2b35c01c9470b9">119c796</a></td><td><code>Version with modified latex for FareySymbol.</code></td></tr></table>




---

archive/issue_comments_190848.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nAnother try to change the attached commit.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9da738a7dd19991eae83c82b0dcd2b03c7b616d6\">9da738a</a></td><td><code>trac 15265: improvements for FareySymbol.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/119c79638ecf2c368d66dc84da2b35c01c9470b9\">119c796</a></td><td><code>Version with modified latex for FareySymbol.</code></td></tr></table>\n",
    "created_at": "2014-01-10T12:05:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190848",
    "user": "https://github.com/sagetrac-mraum"
}
```

<div id="comment:14" align="right">Comment 14</div>

Another try to change the attached commit.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9da738a7dd19991eae83c82b0dcd2b03c7b616d6">9da738a</a></td><td><code>trac 15265: improvements for FareySymbol.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/119c79638ecf2c368d66dc84da2b35c01c9470b9">119c796</a></td><td><code>Version with modified latex for FareySymbol.</code></td></tr></table>




---

archive/issue_comments_190849.json:
```json
{
    "body": "Changed commit from **[119c796](https://github.com/sagemath/sagetrac-mirror/commit/119c79638ecf2c368d66dc84da2b35c01c9470b9)** to **[52108f0](https://github.com/sagemath/sagetrac-mirror/commit/52108f0ba86531f90526c3b1978f3c43bb162956)**",
    "created_at": "2014-01-10T12:07:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190849",
    "user": "https://github.com/sagetrac-mraum"
}
```

Changed commit from **[119c796](https://github.com/sagemath/sagetrac-mirror/commit/119c79638ecf2c368d66dc84da2b35c01c9470b9)** to **[52108f0](https://github.com/sagemath/sagetrac-mirror/commit/52108f0ba86531f90526c3b1978f3c43bb162956)**



---

archive/issue_comments_190850.json:
```json
{
    "body": "Changed branch from **[u/hmonien/ticket/15265](https://github.com/sagemath/sagetrac-mirror/tree/u/hmonien/ticket/15265)** to **[u/mraum/ticket/15265](https://github.com/sagemath/sagetrac-mirror/tree/u/mraum/ticket/15265)**",
    "created_at": "2014-01-10T12:07:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190850",
    "user": "https://github.com/sagetrac-mraum"
}
```

Changed branch from **[u/hmonien/ticket/15265](https://github.com/sagemath/sagetrac-mirror/tree/u/hmonien/ticket/15265)** to **[u/mraum/ticket/15265](https://github.com/sagemath/sagetrac-mirror/tree/u/mraum/ticket/15265)**



---

archive/issue_comments_190851.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nSorry for that, I'm not yet used to the new Trac system. I'm now changing the branch.",
    "created_at": "2014-01-10T12:07:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190851",
    "user": "https://github.com/sagetrac-mraum"
}
```

<div id="comment:15" align="right">Comment 15</div>

Sorry for that, I'm not yet used to the new Trac system. I'm now changing the branch.



---

archive/issue_comments_190852.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/248d2bc6718ad4102e0a6a57851f3a5ae2cd47af\">248d2bc</a></td><td><code>trac 15265: Add some further examples and one test to `_acton_` of elements of arithmetic groups.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/961251aa635913379c05197276e5e3ad238d1c97\">961251a</a></td><td><code>trac 15265: Minor changes to farey.cpp and farey.hpp.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d82a0b6a16a65dd789825a71b435316a6334a7bf\">d82a0b6</a></td><td><code>trac 15265: Minor changes to sl2z.cpp and sl2z.hpp.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d78f7c0811682fbae3e9adb4b6e796241bd8b67\">7d78f7c</a></td><td><code>trac 15265: Minor changes to farey_symbol.pyx</code></td></tr></table>\n",
    "created_at": "2014-01-14T21:24:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190852",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16" align="right">Comment 16</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/248d2bc6718ad4102e0a6a57851f3a5ae2cd47af">248d2bc</a></td><td><code>trac 15265: Add some further examples and one test to `_acton_` of elements of arithmetic groups.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/961251aa635913379c05197276e5e3ad238d1c97">961251a</a></td><td><code>trac 15265: Minor changes to farey.cpp and farey.hpp.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d82a0b6a16a65dd789825a71b435316a6334a7bf">d82a0b6</a></td><td><code>trac 15265: Minor changes to sl2z.cpp and sl2z.hpp.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d78f7c0811682fbae3e9adb4b6e796241bd8b67">7d78f7c</a></td><td><code>trac 15265: Minor changes to farey_symbol.pyx</code></td></tr></table>




---

archive/issue_comments_190853.json:
```json
{
    "body": "Changed commit from **[52108f0](https://github.com/sagemath/sagetrac-mirror/commit/52108f0ba86531f90526c3b1978f3c43bb162956)** to **[7d78f7c](https://github.com/sagemath/sagetrac-mirror/commit/7d78f7c0811682fbae3e9adb4b6e796241bd8b67)**",
    "created_at": "2014-01-14T21:24:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190853",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[52108f0](https://github.com/sagemath/sagetrac-mirror/commit/52108f0ba86531f90526c3b1978f3c43bb162956)** to **[7d78f7c](https://github.com/sagemath/sagetrac-mirror/commit/7d78f7c0811682fbae3e9adb4b6e796241bd8b67)**



---

archive/issue_comments_190854.json:
```json
{
    "body": "Changed reviewer from **David Loeffler** to **David Loeffler, Martin Raum**",
    "created_at": "2014-01-14T21:28:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190854",
    "user": "https://github.com/sagetrac-mraum"
}
```

Changed reviewer from **David Loeffler** to **David Loeffler, Martin Raum**



---

archive/issue_comments_190855.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nHartmut, could you review the few changes that I made to your code? I have the following questions/comments, which you could help me with:\n\nreference for rademacher_matrix in farey.cpp?\nfarey.cpp:FareySymbol(istream& is) why not \"is >> *this\" ?\nfarey.cpp:370 : it seems that x will always have length 1.\nfarey.cpp:129 I understand this is tempting, but PRETTY_FUNCTION is gcc only.\nfarey_symbol.pyx:plot rgbcolor option does not apply to Dedekind tesselation.  Add one example each\n\nI still need to test the code, but hopefully I'll have time for this tomorrow.",
    "created_at": "2014-01-14T21:28:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190855",
    "user": "https://github.com/sagetrac-mraum"
}
```

<div id="comment:17" align="right">Comment 17</div>

Hartmut, could you review the few changes that I made to your code? I have the following questions/comments, which you could help me with:

reference for rademacher_matrix in farey.cpp?
farey.cpp:FareySymbol(istream& is) why not "is >> *this" ?
farey.cpp:370 : it seems that x will always have length 1.
farey.cpp:129 I understand this is tempting, but PRETTY_FUNCTION is gcc only.
farey_symbol.pyx:plot rgbcolor option does not apply to Dedekind tesselation.  Add one example each

I still need to test the code, but hopefully I'll have time for this tomorrow.



---

archive/issue_comments_190856.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be4148aab60ab735bd0a361a735cba2d5e47b704\">be4148a</a></td><td><code>trac 15265: Additional change to farey.cpp.</code></td></tr></table>\n",
    "created_at": "2014-01-14T21:31:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190856",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18" align="right">Comment 18</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be4148aab60ab735bd0a361a735cba2d5e47b704">be4148a</a></td><td><code>trac 15265: Additional change to farey.cpp.</code></td></tr></table>




---

archive/issue_comments_190857.json:
```json
{
    "body": "Changed commit from **[7d78f7c](https://github.com/sagemath/sagetrac-mirror/commit/7d78f7c0811682fbae3e9adb4b6e796241bd8b67)** to **[be4148a](https://github.com/sagemath/sagetrac-mirror/commit/be4148aab60ab735bd0a361a735cba2d5e47b704)**",
    "created_at": "2014-01-14T21:31:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190857",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7d78f7c](https://github.com/sagemath/sagetrac-mirror/commit/7d78f7c0811682fbae3e9adb4b6e796241bd8b67)** to **[be4148a](https://github.com/sagemath/sagetrac-mirror/commit/be4148aab60ab735bd0a361a735cba2d5e47b704)**



---

archive/issue_comments_190858.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nMartin,\n\n- the reference for the Rademacher matrix  is http://www.jstor.org/stable/2371313 .\n- what did you want to say about is >> *this?\n- fair enough and true: len(x)==1 here\n- PRETTY_FUNCTION is a leftover from testing \n- true, what is a consistent naming scheme?\n- I liked the format \"sting\" ;-)\n\nall the changes seem to be okay. I think there was one more test for odd and even groups which try to remember ... .",
    "created_at": "2014-01-14T22:36:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190858",
    "user": "https://github.com/monien"
}
```

<div id="comment:19" align="right">Comment 19</div>

Martin,

- the reference for the Rademacher matrix  is http://www.jstor.org/stable/2371313 .
- what did you want to say about is >> *this?
- fair enough and true: len(x)==1 here
- PRETTY_FUNCTION is a leftover from testing 
- true, what is a consistent naming scheme?
- I liked the format "sting" ;-)

all the changes seem to be okay. I think there was one more test for odd and even groups which try to remember ... .



---

archive/issue_comments_190859.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f24bf982ce00c4227cc20394c898dc0d078dcf96\">f24bf98</a></td><td><code>trac 15265: various changes, finishing review.</code></td></tr></table>\n",
    "created_at": "2014-01-15T10:36:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190859",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20" align="right">Comment 20</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f24bf982ce00c4227cc20394c898dc0d078dcf96">f24bf98</a></td><td><code>trac 15265: various changes, finishing review.</code></td></tr></table>




---

archive/issue_comments_190860.json:
```json
{
    "body": "Changed commit from **[be4148a](https://github.com/sagemath/sagetrac-mirror/commit/be4148aab60ab735bd0a361a735cba2d5e47b704)** to **[f24bf98](https://github.com/sagemath/sagetrac-mirror/commit/f24bf982ce00c4227cc20394c898dc0d078dcf96)**",
    "created_at": "2014-01-15T10:36:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190860",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[be4148a](https://github.com/sagemath/sagetrac-mirror/commit/be4148aab60ab735bd0a361a735cba2d5e47b704)** to **[f24bf98](https://github.com/sagemath/sagetrac-mirror/commit/f24bf982ce00c4227cc20394c898dc0d078dcf96)**



---

archive/issue_comments_190861.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nOk, I made all necessary changes. Can you have a look?\n\nJust one, last question: Why do you actually use extern \"C\"? farey_symbols.pyx is translated to a C++ file, so that shouldn't be necessary.",
    "created_at": "2014-01-15T10:37:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190861",
    "user": "https://github.com/sagetrac-mraum"
}
```

<div id="comment:21" align="right">Comment 21</div>

Ok, I made all necessary changes. Can you have a look?

Just one, last question: Why do you actually use extern "C"? farey_symbols.pyx is translated to a C++ file, so that shouldn't be necessary.



---

archive/issue_comments_190862.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nThis was added by somebody - not me - in some previous version of SAGE to have it working on some particular machine. Otherwise everything looks fine now.",
    "created_at": "2014-01-15T12:20:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190862",
    "user": "https://github.com/monien"
}
```

<div id="comment:22" align="right">Comment 22</div>

This was added by somebody - not me - in some previous version of SAGE to have it working on some particular machine. Otherwise everything looks fine now.



---

archive/issue_comments_190863.json:
```json
{
    "body": "Changed work issues from **LaTeX display doesn't work** to none",
    "created_at": "2014-01-15T16:16:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190863",
    "user": "https://github.com/sagetrac-mraum"
}
```

Changed work issues from **LaTeX display doesn't work** to none



---

archive/issue_comments_190864.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nIt's not wrong, and so let's keep it so that we don't break any architecture.",
    "created_at": "2014-01-15T16:16:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190864",
    "user": "https://github.com/sagetrac-mraum"
}
```

<div id="comment:23" align="right">Comment 23</div>

It's not wrong, and so let's keep it so that we don't break any architecture.



---

archive/issue_events_199643.json:
```json
{
    "actor": "https://github.com/sagetrac-mraum",
    "created_at": "2014-01-15T16:16:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15265#event-199643"
}
```



---

archive/issue_events_199644.json:
```json
{
    "actor": "https://github.com/sagetrac-mraum",
    "created_at": "2014-01-15T16:16:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15265#event-199644"
}
```



---

archive/issue_events_199645.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-01-16T05:10:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15265#event-199645"
}
```



---

archive/issue_events_199646.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f3d41ff59add6db35d86e3519f7552f06acc4307",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-01-16T05:10:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15265#event-199646"
}
```



---

archive/issue_comments_190865.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nSee #15719 for a documentation issue",
    "created_at": "2014-01-23T18:02:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15265#issuecomment-190865",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:25" align="right">Comment 25</div>

See #15719 for a documentation issue
