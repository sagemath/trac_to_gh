# Issue 15094: QSym: internal coproduct, Frobenius, lambda-of-monomials, documentation fixes

archive/issues_014857.json:
```json
{
    "body": "The patch does the following:\n\n- Implement the internal coproduct on QSym, the ring of quasi-symmetric functions. (There is no reasonable internal product on QSym.)\n\n- Implement the Frobenius=Adams endomorphisms on QSym. (There seems to be no Verschiebung.)\n\n- Add a method that computes the lambda-ring operations at the monomial basis elements. This will be very useful later when we implement Hazewinkel's polynomial basis.\n\n- Fix errors in the docstrings in `sage/combinat/ncsf_qsym/qsym.py`. The fundamental basis was defined incorrectly. The coproduct was claimed to be inherited from the polynomial ring (which was wrong). The finitely-many-variables case was moved from the beginning to the end of the introduction because it is not implemented in Sage. Shuffles were replaced by stuffles in the definition of the product on the monomial basis.\n\nThere are some obvious ways to go from here (corresponding changes on NSym, the Hazewinkel basis, possibly optimizing the dual immaculates etc.) but I am done for now.\n\nThe #14775 dependency is only because of a reference in the docstrings.\n\nApply:\n\n* [attachment:trac_15094-rebased-QSym-dg.patch\u200b]\n* [attachment:trac_15094-review-ts.patch]\n* [attachment:trac_15094-last-changes-dg.patch]\n\n**CC:**  sage-combinat @zabrocki @saliola chrisjamesberg @jbandlow\n\n**Keywords:** sage-combinat, qsym, quasi-symmetric functions\n\n**Reviewer:** Mike Zabrocki, Travis Scrimshaw\n\n**Author:** Darij Grinberg\n\n**Merged:** sage-5.13.beta0\n\n**Dependencies:** #14775, #13505\n\nIssue created by migration from https://trac.sagemath.org/ticket/15094\n\n",
    "closed_at": "2013-10-02T06:36:40Z",
    "created_at": "2013-08-24T14:11:59Z",
    "labels": [
        "component: combinatorics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.13",
    "title": "QSym: internal coproduct, Frobenius, lambda-of-monomials, documentation fixes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15094",
    "user": "https://github.com/darijgr"
}
```
The patch does the following:

- Implement the internal coproduct on QSym, the ring of quasi-symmetric functions. (There is no reasonable internal product on QSym.)

- Implement the Frobenius=Adams endomorphisms on QSym. (There seems to be no Verschiebung.)

- Add a method that computes the lambda-ring operations at the monomial basis elements. This will be very useful later when we implement Hazewinkel's polynomial basis.

- Fix errors in the docstrings in `sage/combinat/ncsf_qsym/qsym.py`. The fundamental basis was defined incorrectly. The coproduct was claimed to be inherited from the polynomial ring (which was wrong). The finitely-many-variables case was moved from the beginning to the end of the introduction because it is not implemented in Sage. Shuffles were replaced by stuffles in the definition of the product on the monomial basis.

There are some obvious ways to go from here (corresponding changes on NSym, the Hazewinkel basis, possibly optimizing the dual immaculates etc.) but I am done for now.

The #14775 dependency is only because of a reference in the docstrings.

Apply:

* [attachment:trac_15094-rebased-QSym-dg.patch​]
* [attachment:trac_15094-review-ts.patch]
* [attachment:trac_15094-last-changes-dg.patch]

**CC:**  sage-combinat @zabrocki @saliola chrisjamesberg @jbandlow

**Keywords:** sage-combinat, qsym, quasi-symmetric functions

**Reviewer:** Mike Zabrocki, Travis Scrimshaw

**Author:** Darij Grinberg

**Merged:** sage-5.13.beta0

**Dependencies:** #14775, #13505

Issue created by migration from https://trac.sagemath.org/ticket/15094





---

archive/issue_events_135130.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2013-08-24T21:55:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135130"
}
```



---

archive/issue_comments_189360.json:
```json
{
    "body": "**Author:** Darij Grinberg",
    "created_at": "2013-08-24T21:55:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189360",
    "user": "https://github.com/darijgr"
}
```

**Author:** Darij Grinberg



---

archive/issue_comments_189361.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,13 @@\n-I am talking about the docstrings in `sage/combinat/ncsf_qsym/qsym.py`, not about the manuals written later. The fundamental basis is defined incorrectly; the coproduct is *not* inherited from the polynomial ring; and it is better not to begin the introduction with the finitely-many-variables case since that case isn't implemented in Sage. I'm working on a patch.\n+The patch does the following:\n+\n+- Implement the internal coproduct on QSym, the ring of quasi-symmetric functions. (There is no reasonable internal product on QSym.)\n+\n+- Implement the Frobenius=Adams endomorphisms on QSym. (There seems to be no Verschiebung.)\n+\n+- Add a method that computes the lambda-ring operations at the monomial basis elements. This will be very useful later when we implement Hazewinkel's polynomial basis.\n+\n+- Fix errors in the docstrings in `sage/combinat/ncsf_qsym/qsym.py`. The fundamental basis was defined incorrectly. The coproduct was claimed to be inherited from the polynomial ring (which was wrong). The finitely-many-variables case was moved from the beginning to the end of the introduction because it is not implemented in Sage. Shuffles were replaced by stuffles in the definition of the product on the monomial basis.\n+\n+There are some obvious ways to go from here (corresponding changes on NSym, the Hazewinkel basis, possibly optimizing the dual immaculates etc.) but I am done for now.\n+\n+The #14775 dependency is only because of a reference in the docstrings.\n``````\n",
    "created_at": "2013-08-24T21:55:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189361",
    "user": "https://github.com/darijgr"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,13 @@
-I am talking about the docstrings in `sage/combinat/ncsf_qsym/qsym.py`, not about the manuals written later. The fundamental basis is defined incorrectly; the coproduct is *not* inherited from the polynomial ring; and it is better not to begin the introduction with the finitely-many-variables case since that case isn't implemented in Sage. I'm working on a patch.
+The patch does the following:
+
+- Implement the internal coproduct on QSym, the ring of quasi-symmetric functions. (There is no reasonable internal product on QSym.)
+
+- Implement the Frobenius=Adams endomorphisms on QSym. (There seems to be no Verschiebung.)
+
+- Add a method that computes the lambda-ring operations at the monomial basis elements. This will be very useful later when we implement Hazewinkel's polynomial basis.
+
+- Fix errors in the docstrings in `sage/combinat/ncsf_qsym/qsym.py`. The fundamental basis was defined incorrectly. The coproduct was claimed to be inherited from the polynomial ring (which was wrong). The finitely-many-variables case was moved from the beginning to the end of the introduction because it is not implemented in Sage. Shuffles were replaced by stuffles in the definition of the product on the monomial basis.
+
+There are some obvious ways to go from here (corresponding changes on NSym, the Hazewinkel basis, possibly optimizing the dual immaculates etc.) but I am done for now.
+
+The #14775 dependency is only because of a reference in the docstrings.
``````




---

archive/attachments_020221.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_15094-qsym_doc-dg.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket15094/trac_15094-qsym_doc-dg.patch",
    "created_at": "2013-08-24T21:55:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/darijgr"
}
```



---

archive/issue_comments_189362.json:
```json
{
    "body": "<a id='comment:1'></a>\n",
    "created_at": "2013-08-24T21:55:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189362",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:1'></a>




---

archive/issue_events_135131.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2013-08-24T21:55:48Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "rename": {
        "from": "QSym: bad documentation",
        "to": "QSym: internal coproduct, Frobenius, lambda-of-monomials, documentation fixes"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135131"
}
```



---

archive/issue_comments_189363.json:
```json
{
    "body": "**Dependencies:** #14775",
    "created_at": "2013-08-24T21:55:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189363",
    "user": "https://github.com/darijgr"
}
```

**Dependencies:** #14775



---

archive/issue_comments_189364.json:
```json
{
    "body": "<a id='comment:2'></a>\nI have an initial review patch (not done yet) and without removing a few accented characters I was unable to compile the documentation.  I cannot figure out why some of the doc strings do not appear in the documentation files (e.g. anything in `Bases.ElementMethods`).  This problem seems to be a pre-existing condition, but I can't read the docstrings easily without fixing it.\n\nI haven't played with the functionality, but just a comment about the math:  If Adams / Frobenius is defined on QSym should Verschiebung be defined on NSym?  Just a thought.",
    "created_at": "2013-08-25T14:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189364",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:2'></a>
I have an initial review patch (not done yet) and without removing a few accented characters I was unable to compile the documentation.  I cannot figure out why some of the doc strings do not appear in the documentation files (e.g. anything in `Bases.ElementMethods`).  This problem seems to be a pre-existing condition, but I can't read the docstrings easily without fixing it.

I haven't played with the functionality, but just a comment about the math:  If Adams / Frobenius is defined on QSym should Verschiebung be defined on NSym?  Just a thought.



---

archive/issue_comments_189365.json:
```json
{
    "body": "<a id='comment:3'></a>\nThanks for looking into this! I copypasted the accents from the Windows host (no idea how to generate them in Ubuntu), so I'm not surprised they were causing issues; sorry for that. As for `[Mal-These]`, I prefer long identifiers to avoid collision, but if `[Mal]` is unique (and stays so until the merge) that's fine with me.\n\nYes, there are Verschiebungen on NSym, to be implemented in a later patch.",
    "created_at": "2013-08-25T14:41:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189365",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:3'></a>
Thanks for looking into this! I copypasted the accents from the Windows host (no idea how to generate them in Ubuntu), so I'm not surprised they were causing issues; sorry for that. As for `[Mal-These]`, I prefer long identifiers to avoid collision, but if `[Mal]` is unique (and stays so until the merge) that's fine with me.

Yes, there are Verschiebungen on NSym, to be implemented in a later patch.



---

archive/issue_comments_189366.json:
```json
{
    "body": "<a id='comment:4'></a>\nI don't think that identifiers need to be long to be unique.  Maybe it is the hyphen, but the `[Mal-These]` was causing very awkward formatting in the documentation.  Probably `[MalThese]` or `[Mal93]` are fine.\n\nI will continue to look at the code. Please see if you can figure out why the documentation for `ElementMethods` including `frobenius` and `internal_coproduct` do not appear.",
    "created_at": "2013-08-25T15:16:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189366",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:4'></a>
I don't think that identifiers need to be long to be unique.  Maybe it is the hyphen, but the `[Mal-These]` was causing very awkward formatting in the documentation.  Probably `[MalThese]` or `[Mal93]` are fine.

I will continue to look at the code. Please see if you can figure out why the documentation for `ElementMethods` including `frobenius` and `internal_coproduct` do not appear.



---

archive/issue_comments_189367.json:
```json
{
    "body": "<a id='comment:5'></a>\nI've no idea; I'm not able to reasonably view the docs on my Ubuntu at all (neither html nor pdf which doesn't even compile) so I'm working more or less blindly as far as the markup goes.",
    "created_at": "2013-08-25T15:26:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189367",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:5'></a>
I've no idea; I'm not able to reasonably view the docs on my Ubuntu at all (neither html nor pdf which doesn't even compile) so I'm working more or less blindly as far as the markup goes.



---

archive/issue_comments_189368.json:
```json
{
    "body": "<a id='comment:6'></a>\nHi Darij,\nI've finished reviewing this patch.  I have an additional handful of minor doc changes (which are harder to track down because they don't appear in the html file).\n\nI added the dependency of #13505 because it modifies qsym.py and this patch will come after and so needs to be rebased.  Can you fold the patches and rebase against it (and #14101)?  I will upload a new version in a minute.\n\nThe reason why the documentation does not appear is that `class QuasiSymmetricFunctions -> class Bases -> class ElementMethods` is nested too far and there is a bug that prevents the documentation from being compiled.  Nicolas and others are working on a patch in #9107 to make the documentation in nested classes appear.\n\nThe strangest thing I found in the documentation is that the word `itself` was replaced by `itQuasiSymmetricFunctions`.  I cannot explain that.",
    "created_at": "2013-08-27T11:48:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189368",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:6'></a>
Hi Darij,
I've finished reviewing this patch.  I have an additional handful of minor doc changes (which are harder to track down because they don't appear in the html file).

I added the dependency of #13505 because it modifies qsym.py and this patch will come after and so needs to be rebased.  Can you fold the patches and rebase against it (and #14101)?  I will upload a new version in a minute.

The reason why the documentation does not appear is that `class QuasiSymmetricFunctions -> class Bases -> class ElementMethods` is nested too far and there is a bug that prevents the documentation from being compiled.  Nicolas and others are working on a patch in #9107 to make the documentation in nested classes appear.

The strangest thing I found in the documentation is that the word `itself` was replaced by `itQuasiSymmetricFunctions`.  I cannot explain that.



---

archive/issue_events_135132.json:
```json
{
    "actor": "https://github.com/zabrocki",
    "created_at": "2013-08-27T11:48:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135132"
}
```



---

archive/issue_events_135133.json:
```json
{
    "actor": "https://github.com/zabrocki",
    "created_at": "2013-08-27T11:48:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135133"
}
```



---

archive/issue_comments_189369.json:
```json
{
    "body": "**Changing dependencies** from \"#14775\" to \"#14775, #13505\".",
    "created_at": "2013-08-27T11:48:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189369",
    "user": "https://github.com/zabrocki"
}
```

**Changing dependencies** from "#14775" to "#14775, #13505".



---

archive/attachments_020222.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_15094_review-mz.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket15094/trac_15094_review-mz.patch",
    "created_at": "2013-08-27T22:55:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/darijgr"
}
```



---

archive/issue_comments_189370.json:
```json
{
    "body": "<a id='comment:7'></a>\nThanks for the update. Commenting as I'm reading through it:\n\nSorry for the trac syntax in the docstrings; that was stupid of me.\n\nI've changed\n\n```\n\t                This example demonstrates the non-commutativity of the internal \n\t                coproduct::\n```\ninto\n\n```\n                This is confirmed by the following Sage computation (incidentally\n                demonstrating the non-cocommutativity of the internal\n                coproduct)::\n```\n\nIn contexts like\n\n```\nElement methods of the ``Monomial`` basis of ``QuasiSymmetricFunctions.``\n```\nthe period should be outside of the verbatim mode.\n\nI added a link to Gessel's paper in the reference list.\n\nReplaced \"degree of the power series\" by \"total degree of the power series\".\n\n\"the product by the realization within the polynomial ring\" replaced by \"the product on the realization within the ring of power series\".\n\nThe next paragraph now reads\n\n```\n    There is a coproduct on `\\mathrm{QSym}` as well, which in the Monomial \n    basis acts by cutting the composition into a left half and a right\n    half. The coproduct is not co-commutative::\n```",
    "created_at": "2013-08-27T22:55:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189370",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:7'></a>
Thanks for the update. Commenting as I'm reading through it:

Sorry for the trac syntax in the docstrings; that was stupid of me.

I've changed

```
	                This example demonstrates the non-commutativity of the internal 
	                coproduct::
```
into

```
                This is confirmed by the following Sage computation (incidentally
                demonstrating the non-cocommutativity of the internal
                coproduct)::
```

In contexts like

```
Element methods of the ``Monomial`` basis of ``QuasiSymmetricFunctions.``
```
the period should be outside of the verbatim mode.

I added a link to Gessel's paper in the reference list.

Replaced "degree of the power series" by "total degree of the power series".

"the product by the realization within the polynomial ring" replaced by "the product on the realization within the ring of power series".

The next paragraph now reads

```
    There is a coproduct on `\mathrm{QSym}` as well, which in the Monomial 
    basis acts by cutting the composition into a left half and a right
    half. The coproduct is not co-commutative::
```



---

archive/attachments_020223.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_15094-not_rebased.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket15094/trac_15094-not_rebased.patch",
    "created_at": "2013-08-27T23:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/darijgr"
}
```



---

archive/issue_comments_189371.json:
```json
{
    "body": "qfolded but not yet rebased. backup version in case mpatch fucks up",
    "created_at": "2013-08-27T23:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189371",
    "user": "https://github.com/darijgr"
}
```

qfolded but not yet rebased. backup version in case mpatch fucks up



---

archive/issue_comments_189372.json:
```json
{
    "body": "<a id='comment:8'></a>\nRebased. Positive review then?",
    "created_at": "2013-08-27T23:29:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189372",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:8'></a>
Rebased. Positive review then?



---

archive/issue_comments_189373.json:
```json
{
    "body": "<a id='comment:9'></a>\npatchbot:\n\napply trac_15094-rebased-QSym-dg.patch\u200b",
    "created_at": "2013-08-27T23:30:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189373",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:9'></a>
patchbot:

apply trac_15094-rebased-QSym-dg.patch​



---

archive/issue_comments_189374.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,3 +11,5 @@\n There are some obvious ways to go from here (corresponding changes on NSym, the Hazewinkel basis, possibly optimizing the dual immaculates etc.) but I am done for now.\n \n The #14775 dependency is only because of a reference in the docstrings.\n+\n+* Apply: [attachment:trac_15094-rebased-QSym-dg.patch\u200b]\n``````\n",
    "created_at": "2013-08-27T23:30:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189374",
    "user": "https://github.com/darijgr"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,3 +11,5 @@
 There are some obvious ways to go from here (corresponding changes on NSym, the Hazewinkel basis, possibly optimizing the dual immaculates etc.) but I am done for now.
 
 The #14775 dependency is only because of a reference in the docstrings.
+
+* Apply: [attachment:trac_15094-rebased-QSym-dg.patch​]
``````




---

archive/issue_events_135134.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2013-08-27T23:30:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135134"
}
```



---

archive/issue_events_135135.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2013-08-27T23:30:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135135"
}
```



---

archive/issue_comments_189375.json:
```json
{
    "body": "<a id='comment:11'></a>\nI am getting 9 doctests failing\n\nPlease check, but I think that you need to add the line\n\n```\nfrom sage.combinat.ncsf_qsym.combinatorics import compositions_order\n```",
    "created_at": "2013-08-28T01:50:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189375",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:11'></a>
I am getting 9 doctests failing

Please check, but I think that you need to add the line

```
from sage.combinat.ncsf_qsym.combinatorics import compositions_order
```



---

archive/attachments_020224.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_15094-rebased-QSym-dg.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket15094/trac_15094-rebased-QSym-dg.patch",
    "created_at": "2013-08-28T01:55:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/darijgr"
}
```



---

archive/issue_comments_189376.json:
```json
{
    "body": "qfolded & rebased",
    "created_at": "2013-08-28T01:55:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189376",
    "user": "https://github.com/darijgr"
}
```

qfolded & rebased



---

archive/issue_comments_189377.json:
```json
{
    "body": "<a id='comment:12'></a>\nOops! Thanks for catching this creepy issue (I see where it came from; it shows rebasing is not as simple as merging diffs). The tests (well, those in the ncsf_qsym subfolder) pass now.",
    "created_at": "2013-08-28T01:56:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189377",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:12'></a>
Oops! Thanks for catching this creepy issue (I see where it came from; it shows rebasing is not as simple as merging diffs). The tests (well, those in the ncsf_qsym subfolder) pass now.



---

archive/issue_events_135136.json:
```json
{
    "actor": "https://github.com/zabrocki",
    "created_at": "2013-08-28T02:00:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135136"
}
```



---

archive/issue_events_135137.json:
```json
{
    "actor": "https://github.com/zabrocki",
    "created_at": "2013-08-28T02:00:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135137"
}
```



---

archive/issue_comments_189378.json:
```json
{
    "body": "<a id='comment:13'></a>\nI also checked and adding that line everything passes.",
    "created_at": "2013-08-28T02:00:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189378",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:13'></a>
I also checked and adding that line everything passes.



---

archive/issue_comments_189379.json:
```json
{
    "body": "<a id='comment:14'></a>\nThank you again!",
    "created_at": "2013-08-28T02:01:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189379",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:14'></a>
Thank you again!



---

archive/issue_events_135138.json:
```json
{
    "actor": "https://github.com/zabrocki",
    "created_at": "2013-08-28T02:04:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "label": "bug",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135138"
}
```



---

archive/issue_events_135139.json:
```json
{
    "actor": "https://github.com/zabrocki",
    "created_at": "2013-08-28T02:04:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135139"
}
```



---

archive/issue_comments_189380.json:
```json
{
    "body": "**Reviewer:** Mike Zabrocki",
    "created_at": "2013-08-28T02:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189380",
    "user": "https://github.com/zabrocki"
}
```

**Reviewer:** Mike Zabrocki



---

archive/issue_events_135140.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-09-08T16:34:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135140"
}
```



---

archive/issue_events_135141.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-09-08T16:34:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135141"
}
```



---

archive/issue_comments_189381.json:
```json
{
    "body": "**Changing reviewer** from \"Mike Zabrocki\" to \"Mike Zabrocki, Travis Scrimshaw\".",
    "created_at": "2013-09-08T16:34:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189381",
    "user": "https://github.com/tscrim"
}
```

**Changing reviewer** from "Mike Zabrocki" to "Mike Zabrocki, Travis Scrimshaw".



---

archive/attachments_020225.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_15094-review-ts.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket15094/trac_15094-review-ts.patch",
    "created_at": "2013-09-08T16:34:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/tscrim"
}
```



---

archive/issue_comments_189382.json:
```json
{
    "body": "<a id='comment:16'></a>\nI got some docbuilder warnings and there some doc formatting issues. Here's a review patch which fixes these as well as makes one notational change from `\\mathbf{k}` to `R` since the former commonly denotes a field but we often consider (almost) arbitrary rings such as `\\ZZ`.",
    "created_at": "2013-09-08T16:34:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189382",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>
I got some docbuilder warnings and there some doc formatting issues. Here's a review patch which fixes these as well as makes one notational change from `\mathbf{k}` to `R` since the former commonly denotes a field but we often consider (almost) arbitrary rings such as `\ZZ`.



---

archive/issue_comments_189383.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -12,4 +12,7 @@\n \n The #14775 dependency is only because of a reference in the docstrings.\n \n-* Apply: [attachment:trac_15094-rebased-QSym-dg.patch\u200b]\n+Apply:\n+\n+* [attachment:trac_15094-rebased-QSym-dg.patch\u200b]\n+* [attachment:trac_15094-review-ts.patch]\n``````\n",
    "created_at": "2013-09-08T16:34:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189383",
    "user": "https://github.com/tscrim"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -12,4 +12,7 @@
 
 The #14775 dependency is only because of a reference in the docstrings.
 
-* Apply: [attachment:trac_15094-rebased-QSym-dg.patch​]
+Apply:
+
+* [attachment:trac_15094-rebased-QSym-dg.patch​]
+* [attachment:trac_15094-review-ts.patch]
``````




---

archive/issue_comments_189384.json:
```json
{
    "body": "<a id='comment:17'></a>\nFor patchbot:\n\nApply: trac_15094-rebased-QSym-dg.patch\u200b, trac_15094-review-ts.patch",
    "created_at": "2013-09-08T16:34:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189384",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:17'></a>
For patchbot:

Apply: trac_15094-rebased-QSym-dg.patch​, trac_15094-review-ts.patch



---

archive/issue_events_135142.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-09-08T16:34:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135142"
}
```



---

archive/issue_events_135143.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-09-08T16:34:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135143"
}
```



---

archive/attachments_020226.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_15094-last-changes-dg.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket15094/trac_15094-last-changes-dg.patch",
    "created_at": "2013-09-08T16:44:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/darijgr"
}
```



---

archive/issue_comments_189385.json:
```json
{
    "body": "",
    "created_at": "2013-09-08T16:44:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189385",
    "user": "https://github.com/darijgr"
}
```





---

archive/issue_comments_189386.json:
```json
{
    "body": "<a id='comment:18'></a>\nNice changes; here's just a couple of typos fixed. I'm setting it to positive review, OK?\n\nFor patchbot:\n\nApply: trac_15094-rebased-QSym-dg.patch\u200b, trac_15094-review-ts.patch trac_15094-last-changes-dg.patch",
    "created_at": "2013-09-08T16:46:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189386",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:18'></a>
Nice changes; here's just a couple of typos fixed. I'm setting it to positive review, OK?

For patchbot:

Apply: trac_15094-rebased-QSym-dg.patch​, trac_15094-review-ts.patch trac_15094-last-changes-dg.patch



---

archive/issue_events_135144.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2013-09-08T16:46:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135144"
}
```



---

archive/issue_events_135145.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2013-09-08T16:46:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135145"
}
```



---

archive/issue_comments_189387.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -16,3 +16,4 @@\n \n * [attachment:trac_15094-rebased-QSym-dg.patch\u200b]\n * [attachment:trac_15094-review-ts.patch]\n+* [attachment:trac_15094-last-changes-dg.patch]\n``````\n",
    "created_at": "2013-09-08T16:46:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189387",
    "user": "https://github.com/darijgr"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -16,3 +16,4 @@
 
 * [attachment:trac_15094-rebased-QSym-dg.patch​]
 * [attachment:trac_15094-review-ts.patch]
+* [attachment:trac_15094-last-changes-dg.patch]
``````




---

archive/issue_events_135146.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-09-26T15:47:44Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135146"
}
```



---

archive/issue_events_135147.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-09-26T15:47:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "milestone": "sage-5.13",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135147"
}
```



---

archive/issue_comments_189388.json:
```json
{
    "body": "**Merged:** sage-5.13.beta0",
    "created_at": "2013-10-02T06:36:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15094#issuecomment-189388",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.13.beta0



---

archive/issue_events_135148.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-02T06:36:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135148"
}
```



---

archive/issue_events_135149.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-02T06:36:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15094",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15094#event-135149"
}
```
