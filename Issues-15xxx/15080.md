# Issue 15080: Build also wide version of ncurses

archive/issues_014843.json:
```json
{
    "body": "Curses optionally supports wchar versions, the library will be called `libncursesw.so`. Python wants the wide version for its curses module, so we should build it as well.\n\nUpdated spkg: http://boxen.math.washington.edu/home/vbraun/spkg/ncurses-5.9.p1.spkg\n\nApply [attachment:trac_15080.patch]\n\nCC:  jpflori\n\nReviewer: Jean-Pierre Flori\n\nAuthor: Volker Braun\n\nResolution: duplicate\n\nIssue created by migration from https://trac.sagemath.org/ticket/15080\n\n",
    "closed_at": "2013-11-06T12:55:43Z",
    "created_at": "2013-08-22T15:17:42Z",
    "labels": [
        "component: build",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Build also wide version of ncurses",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15080",
    "user": "https://github.com/vbraun"
}
```
Curses optionally supports wchar versions, the library will be called `libncursesw.so`. Python wants the wide version for its curses module, so we should build it as well.

Updated spkg: http://boxen.math.washington.edu/home/vbraun/spkg/ncurses-5.9.p1.spkg

Apply [attachment:trac_15080.patch]

CC:  jpflori

Reviewer: Jean-Pierre Flori

Author: Volker Braun

Resolution: duplicate

Issue created by migration from https://trac.sagemath.org/ticket/15080





---

archive/issue_comments_201962.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n Curses optionally supports wchar versions, the library will be called \\`libncursesw.so\\`. Python wants the wide version for its curses module, so we should build it as well.\n+\n+Updated spkg: http://boxen.math.washington.edu/home/vbraun/spkg/ncurses-5.9.p1.spkg\n \n Author: Volker Braun\n \n```\n",
    "created_at": "2013-08-22T15:19:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201962",
    "user": "https://github.com/vbraun"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,6 @@
 Curses optionally supports wchar versions, the library will be called \`libncursesw.so\`. Python wants the wide version for its curses module, so we should build it as well.
+
+Updated spkg: http://boxen.math.washington.edu/home/vbraun/spkg/ncurses-5.9.p1.spkg
 
 Author: Volker Braun
 
```




---

archive/issue_comments_201963.json:
```json
{
    "body": "<a id='comment:2'></a>It seems that Python will fall back to narrow curses if necessary. But if the distribution provides a wide curses then it will be preferred over the narrow one. On my Fedora 19 install, this leads to (with the old ncurses spkg):\n\n```\nbuilding '_curses' extension\ngcc -pthread -fPIC -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -I/home/vbraun/opt/sage-5.12.beta3/local/include -I. -IInclude -I./Include -I/usr/local/include -I/home/vbraun/opt/sage-5.12.beta3/spkg/build/python-2.7.5.p1/src/Include -I/home/vbraun/opt/sage-5.12.beta3/spkg/build/python-2.7.5.p1/src -c /home/vbraun/opt/sage-5.12.beta3/spkg/build/python-2.7.5.p1/src/Modules/_cursesmodule.c -o build/temp.linux-x86_64-2.7/home/vbraun/opt/sage-5.12.beta3/spkg/build/python-2.7.5.p1/src/Modules/_cursesmodule.o\ngcc -pthread -shared -L/home/vbraun/opt/sage-5.12.beta3/local/lib -L/home/vbraun/opt/sage-5.12.beta3/local/lib build/temp.linux-x86_64-2.7/home/vbraun/opt/sage-5.12.beta3/spkg/build/python-2.7.5.p1/src/Modules/_cursesmodule.o -L/home/vbraun/opt/sage-5.12.beta3/local/lib -L/usr/local/lib -L. -lncursesw -lpython2.7 -o build/lib.linux-x86_64-2.7/_curses.so\n*** WARNING: renaming \"_curses\" since importing it failed: /lib64/libncursesw.so.5: undefined symbol: _nc_putchar\n```\nand it will succeed with the new spkg.",
    "created_at": "2013-08-22T15:24:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201963",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:2'></a>It seems that Python will fall back to narrow curses if necessary. But if the distribution provides a wide curses then it will be preferred over the narrow one. On my Fedora 19 install, this leads to (with the old ncurses spkg):

```
building '_curses' extension
gcc -pthread -fPIC -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -I/home/vbraun/opt/sage-5.12.beta3/local/include -I. -IInclude -I./Include -I/usr/local/include -I/home/vbraun/opt/sage-5.12.beta3/spkg/build/python-2.7.5.p1/src/Include -I/home/vbraun/opt/sage-5.12.beta3/spkg/build/python-2.7.5.p1/src -c /home/vbraun/opt/sage-5.12.beta3/spkg/build/python-2.7.5.p1/src/Modules/_cursesmodule.c -o build/temp.linux-x86_64-2.7/home/vbraun/opt/sage-5.12.beta3/spkg/build/python-2.7.5.p1/src/Modules/_cursesmodule.o
gcc -pthread -shared -L/home/vbraun/opt/sage-5.12.beta3/local/lib -L/home/vbraun/opt/sage-5.12.beta3/local/lib build/temp.linux-x86_64-2.7/home/vbraun/opt/sage-5.12.beta3/spkg/build/python-2.7.5.p1/src/Modules/_cursesmodule.o -L/home/vbraun/opt/sage-5.12.beta3/local/lib -L/usr/local/lib -L. -lncursesw -lpython2.7 -o build/lib.linux-x86_64-2.7/_curses.so
*** WARNING: renaming "_curses" since importing it failed: /lib64/libncursesw.so.5: undefined symbol: _nc_putchar
```
and it will succeed with the new spkg.



---

archive/issue_comments_201964.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-10-10T10:50:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201964",
    "user": "https://github.com/vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_201965.json:
```json
{
    "body": "<a id='comment:4'></a>Just a few random remarks: why use [This is the Trac macro * * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros# -macro) rather than plain [ ] for testing?\nCould you mention the ticket number in SPKG.txt?\nI know it may seem overkill but it always nice to have all info available at once...",
    "created_at": "2013-10-21T11:43:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201965",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:4'></a>Just a few random remarks: why use [This is the Trac macro * * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros# -macro) rather than plain [ ] for testing?
Could you mention the ticket number in SPKG.txt?
I know it may seem overkill but it always nice to have all info available at once...



---

archive/issue_comments_201966.json:
```json
{
    "body": "<a id='comment:5'></a>Otherwise looks fine.\nI'll still have to work on top of that to solve the Solaris problems I reported at #15268 (disable ada and use lmonade fix for CPPFLAGS vs CFLAGS).",
    "created_at": "2013-10-21T11:44:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201966",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:5'></a>Otherwise looks fine.
I'll still have to work on top of that to solve the Solaris problems I reported at #15268 (disable ada and use lmonade fix for CPPFLAGS vs CFLAGS).



---

archive/issue_comments_201967.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:4 jpflori]:\n> Could you mention the ticket number in SPKG.txt?\n\n\nIMHO we should delete the duplicate changelog keeping as soon as we have a working git version. Its just a stupid waste of developer time.",
    "created_at": "2013-10-21T11:58:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201967",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:6'></a>Replying to [comment:4 jpflori]:
> Could you mention the ticket number in SPKG.txt?


IMHO we should delete the duplicate changelog keeping as soon as we have a working git version. Its just a stupid waste of developer time.



---

archive/issue_comments_201968.json:
```json
{
    "body": "<a id='comment:7'></a>Updated spkg at same place",
    "created_at": "2013-10-21T12:06:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201968",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'></a>Updated spkg at same place



---

archive/issue_comments_201969.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-10-22T22:55:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201969",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_201970.json:
```json
{
    "body": "<a id='comment:9'></a>`$SAGE_LOCAL/bin/.hgignore` needs to be updated:\n\n```\n$ hg status\n? ncursesw5-config\n```",
    "created_at": "2013-10-23T14:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201970",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>`$SAGE_LOCAL/bin/.hgignore` needs to be updated:

```
$ hg status
? ncursesw5-config
```



---

archive/issue_comments_201971.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-10-23T14:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201971",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_201972.json:
```json
{
    "body": "Attachment [trac_15080.patch](tarball://root/attachments/some-uuid/ticket15080/trac_15080.patch) by jpflori created at 2013-10-29 21:39:27\n\nupdate hgignore",
    "created_at": "2013-10-29T21:39:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201972",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Attachment [trac_15080.patch](tarball://root/attachments/some-uuid/ticket15080/trac_15080.patch) by jpflori created at 2013-10-29 21:39:27

update hgignore



---

archive/issue_comments_201973.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+Curses optionally supports wchar versions, the library will be called \\`libncursesw.so\\`. Python wants the wide version for its curses module, so we should build it as well.\n \n+Updated spkg: http://boxen.math.washington.edu/home/vbraun/spkg/ncurses-5.9.p1.spkg\n+\n+Apply [attachment:trac_15080.patch]\n \n Author: Volker Braun\n \n```\n",
    "created_at": "2013-10-29T21:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201973",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,8 @@
+Curses optionally supports wchar versions, the library will be called \`libncursesw.so\`. Python wants the wide version for its curses module, so we should build it as well.
 
+Updated spkg: http://boxen.math.washington.edu/home/vbraun/spkg/ncurses-5.9.p1.spkg
+
+Apply [attachment:trac_15080.patch]
 
 Author: Volker Braun
 
```




---

archive/issue_comments_201974.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-10-29T21:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201974",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_201975.json:
```json
{
    "body": "<a id='comment:10'></a>Apply [attachment:trac_15080.patch]",
    "created_at": "2013-10-29T21:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201975",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:10'></a>Apply [attachment:trac_15080.patch]



---

archive/issue_comments_201976.json:
```json
{
    "body": "<a id='comment:11'></a>`.hgignore` is good.",
    "created_at": "2013-11-01T16:46:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201976",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>`.hgignore` is good.



---

archive/issue_comments_201977.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-11-01T16:46:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201977",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_201978.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-11-04T07:22:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201978",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_201979.json:
```json
{
    "body": "<a id='comment:13'></a>This fails to build on Solaris SPARC due to invalid `CFLAGS`:\n\n```\n/home/buildbot/build/sage/mark-1/mark_full/build/sage-5.13.beta3/local/bin/g++ -I../c++ -I../include -I../../c++ -DHAVE_CONFIG_H   -D__EXTENSIONS__ -D_XOPEN_SOURCE_EXTENDED -D_FILE_OFFSET_BITS=64  -DNDEBUG -I. -I../include -I../../c++/../include -I/home/buildbot/build/sage/mark-1/mark_full/build/sage-5.13.beta3/local/include  -fPIC -c ../../c++/cursesf.cc -o ../obj_s/cursesf.o\n/home/buildbot/build/sage/mark-1/mark_full/build/sage-5.13.beta3/local/bin/g++ -I../c++ -I../include -I../../c++ -DHAVE_CONFIG_H   -D__EXTENSIONS__ -D_XOPEN_SOURCE_EXTENDED -D_FILE_OFFSET_BITS=64  -DNDEBUG -I. -I../include -I../../c++/../include -I/home/buildbot/build/sage/mark-1/mark_full/build/sage-5.13.beta3/local/include  -fPIC -c ../../c++/cursesm.cc -o ../obj_s/cursesm.o\nIn file included from /home/buildbot/build/sage/mark-1/mark_full/build/sage-5.13.beta3/local/lib/gcc/sparc-sun-solaris2.10/4.7.3/include-fixed/iso/stdlib_iso.h:39:0,\n                 from /usr/include/stdlib.h:18,\n                 from ../../c++/internal.h:53,\n                 from ../../c++/cursesf.cc:34:\n/home/buildbot/build/sage/mark-1/mark_full/build/sage-5.13.beta3/local/lib/gcc/sparc-sun-solaris2.10/4.7.3/include-fixed/sys/feature_tests.h:341:2: error: #error \"Compiler or options invalid for pre-UNIX 03 X/Open applications \tand pre-2001 POSIX applications\"\n```",
    "created_at": "2013-11-04T07:22:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201979",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>This fails to build on Solaris SPARC due to invalid `CFLAGS`:

```
/home/buildbot/build/sage/mark-1/mark_full/build/sage-5.13.beta3/local/bin/g++ -I../c++ -I../include -I../../c++ -DHAVE_CONFIG_H   -D__EXTENSIONS__ -D_XOPEN_SOURCE_EXTENDED -D_FILE_OFFSET_BITS=64  -DNDEBUG -I. -I../include -I../../c++/../include -I/home/buildbot/build/sage/mark-1/mark_full/build/sage-5.13.beta3/local/include  -fPIC -c ../../c++/cursesf.cc -o ../obj_s/cursesf.o
/home/buildbot/build/sage/mark-1/mark_full/build/sage-5.13.beta3/local/bin/g++ -I../c++ -I../include -I../../c++ -DHAVE_CONFIG_H   -D__EXTENSIONS__ -D_XOPEN_SOURCE_EXTENDED -D_FILE_OFFSET_BITS=64  -DNDEBUG -I. -I../include -I../../c++/../include -I/home/buildbot/build/sage/mark-1/mark_full/build/sage-5.13.beta3/local/include  -fPIC -c ../../c++/cursesm.cc -o ../obj_s/cursesm.o
In file included from /home/buildbot/build/sage/mark-1/mark_full/build/sage-5.13.beta3/local/lib/gcc/sparc-sun-solaris2.10/4.7.3/include-fixed/iso/stdlib_iso.h:39:0,
                 from /usr/include/stdlib.h:18,
                 from ../../c++/internal.h:53,
                 from ../../c++/cursesf.cc:34:
/home/buildbot/build/sage/mark-1/mark_full/build/sage-5.13.beta3/local/lib/gcc/sparc-sun-solaris2.10/4.7.3/include-fixed/sys/feature_tests.h:341:2: error: #error "Compiler or options invalid for pre-UNIX 03 X/Open applications 	and pre-2001 POSIX applications"
```



---

archive/issue_comments_201980.json:
```json
{
    "body": "<a id='comment:14'></a>Hum, sure, I forgot about #15268 which deals with my ada issue and the xopen_source_extended one.\nI'll provide an updated spkg there.",
    "created_at": "2013-11-04T08:54:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201980",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:14'></a>Hum, sure, I forgot about #15268 which deals with my ada issue and the xopen_source_extended one.
I'll provide an updated spkg there.



---

archive/issue_comments_201981.json:
```json
{
    "body": "<a id='comment:15'></a>Spkg uploaded at #15268, based on the one here.",
    "created_at": "2013-11-04T10:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201981",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:15'></a>Spkg uploaded at #15268, based on the one here.



---

archive/issue_events_043386.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-11-04T17:10:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15080#event-43386"
}
```



---

archive/issue_comments_201982.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-11-04T17:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201982",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_201983.json:
```json
{
    "body": "<a id='comment:16'></a>So let's close this ticket, further work at #15268.",
    "created_at": "2013-11-04T17:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201983",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'></a>So let's close this ticket, further work at #15268.



---

archive/issue_events_043387.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-11-06T12:55:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15080#event-43387"
}
```



---

archive/issue_comments_201984.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2013-11-06T12:55:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201984",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: duplicate



---

archive/issue_comments_201985.json:
```json
{
    "body": "<a id='comment:18'></a>Volker: On your Red Hat, with what got readline linked?\nI'm currently looking into Python's install scripts and it seems fishy Python ended up wanting to uses ncursesw on top of ncurses unless readline was linked to it already.",
    "created_at": "2013-11-06T22:14:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201985",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:18'></a>Volker: On your Red Hat, with what got readline linked?
I'm currently looking into Python's install scripts and it seems fishy Python ended up wanting to uses ncursesw on top of ncurses unless readline was linked to it already.



---

archive/issue_comments_201986.json:
```json
{
    "body": "<a id='comment:19'></a>Or not if readline was only linked to tinfo or even to nothing as seems to be the case on Red Hat...",
    "created_at": "2013-11-06T22:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201986",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:19'></a>Or not if readline was only linked to tinfo or even to nothing as seems to be the case on Red Hat...



---

archive/issue_comments_201987.json:
```json
{
    "body": "<a id='comment:20'></a>Ok think I got it, more work for me.\nAs a consequence the ticket here should not really be necessary anymore but won't hurt...",
    "created_at": "2013-11-06T22:19:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201987",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:20'></a>Ok think I got it, more work for me.
As a consequence the ticket here should not really be necessary anymore but won't hurt...



---

archive/issue_comments_201988.json:
```json
{
    "body": "<a id='comment:21'></a>For the record, readline is just linking to the standard ncurses on Fedora 19. It is only the Python curses module that links in ncursesw:\n\n```\n(sage-sh) vbraun@localhost:sage-5.12$ ldd local/lib/python2.7/lib-dynload/_curses.so\n\tlinux-vdso.so.1 =>  (0x00007fff433a7000)\n\tlibncursesw.so.5 => /home/vbraun/Code/sage/local/lib/libncursesw.so.5 (0x00007f5842950000)\n\tlibpython2.7.so.1.0 => /home/vbraun/Code/sage/local/lib/libpython2.7.so.1.0 (0x00007f5842547000)\n\tlibpthread.so.0 => /lib64/libpthread.so.0 (0x00007f58422fe000)\n\tlibc.so.6 => /lib64/libc.so.6 (0x00007f5841f3d000)\n\tlibtinfow.so.5 => /home/vbraun/Code/sage/local/lib/libtinfow.so.5 (0x00007f5841d09000)\n\tlibdl.so.2 => /lib64/libdl.so.2 (0x00007f5841b05000)\n\tlibutil.so.1 => /lib64/libutil.so.1 (0x00007f5841902000)\n\tlibm.so.6 => /lib64/libm.so.6 (0x00007f58415ff000)\n\t/lib64/ld-linux-x86-64.so.2 (0x0000003895000000)\n(sage-sh) vbraun@localhost:sage-5.12$ ldd local/lib/libreadline.so\n\tlinux-vdso.so.1 =>  (0x00007fff75dd2000)\n\tlibtinfo.so.5 => /home/vbraun/opt/sage-5.12/local/lib/libtinfo.so.5 (0x00007faefecae000)\n\tlibc.so.6 => /lib64/libc.so.6 (0x00007faefe8bf000)\n\t/lib64/ld-linux-x86-64.so.2 (0x0000003895000000)\n(sage-sh) vbraun@localhost:sage-5.12$ ldd local/lib/libtinfo.so\n\tlinux-vdso.so.1 =>  (0x00007fff1d969000)\n\tlibc.so.6 => /lib64/libc.so.6 (0x00007f9872a87000)\n\t/lib64/ld-linux-x86-64.so.2 (0x0000003895000000)\n```",
    "created_at": "2013-11-06T23:06:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201988",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'></a>For the record, readline is just linking to the standard ncurses on Fedora 19. It is only the Python curses module that links in ncursesw:

```
(sage-sh) vbraun@localhost:sage-5.12$ ldd local/lib/python2.7/lib-dynload/_curses.so
	linux-vdso.so.1 =>  (0x00007fff433a7000)
	libncursesw.so.5 => /home/vbraun/Code/sage/local/lib/libncursesw.so.5 (0x00007f5842950000)
	libpython2.7.so.1.0 => /home/vbraun/Code/sage/local/lib/libpython2.7.so.1.0 (0x00007f5842547000)
	libpthread.so.0 => /lib64/libpthread.so.0 (0x00007f58422fe000)
	libc.so.6 => /lib64/libc.so.6 (0x00007f5841f3d000)
	libtinfow.so.5 => /home/vbraun/Code/sage/local/lib/libtinfow.so.5 (0x00007f5841d09000)
	libdl.so.2 => /lib64/libdl.so.2 (0x00007f5841b05000)
	libutil.so.1 => /lib64/libutil.so.1 (0x00007f5841902000)
	libm.so.6 => /lib64/libm.so.6 (0x00007f58415ff000)
	/lib64/ld-linux-x86-64.so.2 (0x0000003895000000)
(sage-sh) vbraun@localhost:sage-5.12$ ldd local/lib/libreadline.so
	linux-vdso.so.1 =>  (0x00007fff75dd2000)
	libtinfo.so.5 => /home/vbraun/opt/sage-5.12/local/lib/libtinfo.so.5 (0x00007faefecae000)
	libc.so.6 => /lib64/libc.so.6 (0x00007faefe8bf000)
	/lib64/ld-linux-x86-64.so.2 (0x0000003895000000)
(sage-sh) vbraun@localhost:sage-5.12$ ldd local/lib/libtinfo.so
	linux-vdso.so.1 =>  (0x00007fff1d969000)
	libc.so.6 => /lib64/libc.so.6 (0x00007f9872a87000)
	/lib64/ld-linux-x86-64.so.2 (0x0000003895000000)
```



---

archive/issue_comments_201989.json:
```json
{
    "body": "<a id='comment:22'></a>Can you ldd /lib64/libncursew... please?",
    "created_at": "2013-11-07T10:05:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201989",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:22'></a>Can you ldd /lib64/libncursew... please?



---

archive/issue_comments_201990.json:
```json
{
    "body": "<a id='comment:23'></a>For future ref, and so that i don't waste 5 minutes each time looking for it: http://bugs.python.org/issue7384.",
    "created_at": "2013-11-07T10:14:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201990",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:23'></a>For future ref, and so that i don't waste 5 minutes each time looking for it: http://bugs.python.org/issue7384.



---

archive/issue_comments_201991.json:
```json
{
    "body": "<a id='comment:24'></a>\n```\n$ cat /lib64/libncursesw.so\nINPUT(libncursesw.so.5 -ltinfo)\n\n$ ldd /lib64/libncursesw.so.5\n\tlinux-vdso.so.1 =>  (0x00007fff817fe000)\n\tlibc.so.6 => /lib64/libc.so.6 (0x0000003895800000)\n\tlibdl.so.2 => /lib64/libdl.so.2 (0x0000003895c00000)\n\tlibtinfo.so.5 => /lib64/libtinfo.so.5 (0x00000038adc00000)\n\t/lib64/ld-linux-x86-64.so.2 (0x0000003895000000)\n```",
    "created_at": "2013-11-07T22:30:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15080#issuecomment-201991",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:24'></a>
```
$ cat /lib64/libncursesw.so
INPUT(libncursesw.so.5 -ltinfo)

$ ldd /lib64/libncursesw.so.5
	linux-vdso.so.1 =>  (0x00007fff817fe000)
	libc.so.6 => /lib64/libc.so.6 (0x0000003895800000)
	libdl.so.2 => /lib64/libdl.so.2 (0x0000003895c00000)
	libtinfo.so.5 => /lib64/libtinfo.so.5 (0x00000038adc00000)
	/lib64/ld-linux-x86-64.so.2 (0x0000003895000000)
```
