# Issue 15029: Implement similarity classes over principal ideal local rings of length two

archive/issues_014792.json:
```json
{
    "body": "In the paper Similarity of matrices over local rings of length two [http://arxiv.org/abs/1212.6157](http://arxiv.org/abs/1212.6157), the similarity classes of n x n matrices with entries in a principal ideal local ring of length two are computed for n = 2, 3, 4. These calculations are being implemented in sage.\n\nApply:\n\n* [attachment:trac_15029-additions-similarity_class_type-ap.patch]\n* [attachment:trac_15029-review-ts.patch]\n\nAssignee: @amritanshu-prasad\n\nCC:  sage-combinat @tscrim\n\nKeywords: similarity classs, matrices, local rings\n\nReviewer: Travis Scrimshaw\n\nAuthor: Amritanshu Prasad\n\nMerged: sage-5.13.beta0\n\nDependencies: #14907\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/15029\n\n",
    "closed_at": "2013-10-02T06:36:31Z",
    "created_at": "2013-08-10T03:47:54Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.13",
    "title": "Implement similarity classes over principal ideal local rings of length two",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15029",
    "user": "https://github.com/amritanshu-prasad"
}
```
In the paper Similarity of matrices over local rings of length two [http://arxiv.org/abs/1212.6157](http://arxiv.org/abs/1212.6157), the similarity classes of n x n matrices with entries in a principal ideal local ring of length two are computed for n = 2, 3, 4. These calculations are being implemented in sage.

Apply:

* [attachment:trac_15029-additions-similarity_class_type-ap.patch]
* [attachment:trac_15029-review-ts.patch]

Assignee: @amritanshu-prasad

CC:  sage-combinat @tscrim

Keywords: similarity classs, matrices, local rings

Reviewer: Travis Scrimshaw

Author: Amritanshu Prasad

Merged: sage-5.13.beta0

Dependencies: #14907

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/15029





---

archive/issue_comments_201222.json:
```json
{
    "body": "Attachment [trac_15029_similarity_local_rings-ap.patch](tarball://root/attachments/some-uuid/ticket15029/trac_15029_similarity_local_rings-ap.patch) by @amritanshu-prasad created at 2013-08-10 04:36:06",
    "created_at": "2013-08-10T04:36:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15029#issuecomment-201222",
    "user": "https://github.com/amritanshu-prasad"
}
```

Attachment [trac_15029_similarity_local_rings-ap.patch](tarball://root/attachments/some-uuid/ticket15029/trac_15029_similarity_local_rings-ap.patch) by @amritanshu-prasad created at 2013-08-10 04:36:06



---

archive/issue_comments_201223.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-08-10T04:40:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15029#issuecomment-201223",
    "user": "https://github.com/amritanshu-prasad"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_201224.json:
```json
{
    "body": "<a id='comment:2'></a>Hey Amri,\n\nIt seems like you've created 2 classes which are basically computing a few methods and don't contain helper methods. I would instead move these to (module-level) functions in `similarity_class_type.py` which take the `data, q, selftranspose, invertible` as arguments since there is:\n\n- no complicated internal state across multiple functions,\n- no complicated/expensive standardization or preparation needed on the inputs,\n- no element classes,\n- no classes inheriting from these.\n\nTwo other minor points:\n\n- Could you use the arXiv autolink format: `:arxiv.org:`1212.6157``?\n- Could you remove the `[mq]:...` line from the patch header by doing a `qrefresh -e`?\n\nThanks,\n\nTravis",
    "created_at": "2013-08-15T05:19:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15029#issuecomment-201224",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:2'></a>Hey Amri,

It seems like you've created 2 classes which are basically computing a few methods and don't contain helper methods. I would instead move these to (module-level) functions in `similarity_class_type.py` which take the `data, q, selftranspose, invertible` as arguments since there is:

- no complicated internal state across multiple functions,
- no complicated/expensive standardization or preparation needed on the inputs,
- no element classes,
- no classes inheriting from these.

Two other minor points:

- Could you use the arXiv autolink format: `:arxiv.org:`1212.6157``?
- Could you remove the `[mq]:...` line from the patch header by doing a `qrefresh -e`?

Thanks,

Travis



---

archive/issue_comments_201225.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-08-15T17:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15029#issuecomment-201225",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_201226.json:
```json
{
    "body": "Attachment [trac_15029-additions-similarity_class_type-ap.patch](tarball://root/attachments/some-uuid/ticket15029/trac_15029-additions-similarity_class_type-ap.patch) by @amritanshu-prasad created at 2013-09-09 10:07:00\n\nAdded functions for similarity over principal ideal local rings of length two",
    "created_at": "2013-09-09T10:07:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15029#issuecomment-201226",
    "user": "https://github.com/amritanshu-prasad"
}
```

Attachment [trac_15029-additions-similarity_class_type-ap.patch](tarball://root/attachments/some-uuid/ticket15029/trac_15029-additions-similarity_class_type-ap.patch) by @amritanshu-prasad created at 2013-09-09 10:07:00

Added functions for similarity over principal ideal local rings of length two



---

archive/issue_comments_201227.json:
```json
{
    "body": "<a id='comment:4'></a>As suggested, similarity classes for principal ideal local rings of length two is now implemented as functions in the module similarity_class_type.py\n\nSorry for all the whitespace changes; please ignore them.\n\nApply: trac_15029-additions-similarity_class_type-ap.patch",
    "created_at": "2013-09-09T10:12:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15029#issuecomment-201227",
    "user": "https://github.com/amritanshu-prasad"
}
```

<a id='comment:4'></a>As suggested, similarity classes for principal ideal local rings of length two is now implemented as functions in the module similarity_class_type.py

Sorry for all the whitespace changes; please ignore them.

Apply: trac_15029-additions-similarity_class_type-ap.patch



---

archive/issue_comments_201228.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-09-09T10:12:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15029#issuecomment-201228",
    "user": "https://github.com/amritanshu-prasad"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_201229.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n In the paper Similarity of matrices over local rings of length two [http://arxiv.org/abs/1212.6157](http://arxiv.org/abs/1212.6157), the similarity classes of n x n matrices with entries in a principal ideal local ring of length two are computed for n = 2, 3, 4. These calculations are being implemented in sage.\n+\n+Apply:\n+\n+* [attachment:trac_15029-additions-similarity_class_type-ap.patch]\n+* [attachment:trac_15029-review-ts.patch]\n \n Author: Amritanshu Prasad\n \n```\n",
    "created_at": "2013-09-09T16:05:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15029#issuecomment-201229",
    "user": "https://github.com/tscrim"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,9 @@
 In the paper Similarity of matrices over local rings of length two [http://arxiv.org/abs/1212.6157](http://arxiv.org/abs/1212.6157), the similarity classes of n x n matrices with entries in a principal ideal local ring of length two are computed for n = 2, 3, 4. These calculations are being implemented in sage.
+
+Apply:
+
+* [attachment:trac_15029-additions-similarity_class_type-ap.patch]
+* [attachment:trac_15029-review-ts.patch]
 
 Author: Amritanshu Prasad
 
```




---

archive/issue_comments_201230.json:
```json
{
    "body": "<a id='comment:6'></a>Attachment [trac_15029-review-ts.patch](tarball://root/attachments/some-uuid/ticket15029/trac_15029-review-ts.patch) by @tscrim created at 2013-09-09 16:05:31\n\nHey Amri,\n\nHere's a review patch which does a few things:\n\n- Changes the name of the functions `*2` to `*_length_two` to be a little more explicit.\n- Adds `INPUT:` blocks to some of the functions.\n- Fixes some docstring mistakes I didn't catch the first time around in the whole file. I also converted it to use Sage's macro for finite fields `\\GF{q}`.\n\nIf you're happy with my changes, go ahead and set this to positive review.\n\nThanks for your work on this,\n\nTravis",
    "created_at": "2013-09-09T16:05:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15029#issuecomment-201230",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>Attachment [trac_15029-review-ts.patch](tarball://root/attachments/some-uuid/ticket15029/trac_15029-review-ts.patch) by @tscrim created at 2013-09-09 16:05:31

Hey Amri,

Here's a review patch which does a few things:

- Changes the name of the functions `*2` to `*_length_two` to be a little more explicit.
- Adds `INPUT:` blocks to some of the functions.
- Fixes some docstring mistakes I didn't catch the first time around in the whole file. I also converted it to use Sage's macro for finite fields `\GF{q}`.

If you're happy with my changes, go ahead and set this to positive review.

Thanks for your work on this,

Travis



---

archive/issue_comments_201231.json:
```json
{
    "body": "<a id='comment:7'></a>For patchbot:\n\nApply: trac_15029-additions-similarity_class_type-ap.patch\u200b, trac_15029-review-ts.patch\u200b",
    "created_at": "2013-09-09T16:05:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15029#issuecomment-201231",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>For patchbot:

Apply: trac_15029-additions-similarity_class_type-ap.patch​, trac_15029-review-ts.patch​



---

archive/issue_comments_201232.json:
```json
{
    "body": "<a id='comment:8'></a>Thanks Travis, for the considerable work. It looks great now.\n\nAmri.",
    "created_at": "2013-09-10T04:29:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15029#issuecomment-201232",
    "user": "https://github.com/amritanshu-prasad"
}
```

<a id='comment:8'></a>Thanks Travis, for the considerable work. It looks great now.

Amri.



---

archive/issue_comments_201233.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-09-10T04:29:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15029#issuecomment-201233",
    "user": "https://github.com/amritanshu-prasad"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_043202.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-09-26T15:47:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15029",
    "milestone": "sage-5.13",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15029#event-43202"
}
```



---

archive/issue_comments_201234.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-10-02T06:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15029#issuecomment-201234",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_043203.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-02T06:36:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15029",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15029#event-43203"
}
```
