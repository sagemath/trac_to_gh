# Issue 15465: Allow using Sage without dev/git

archive/issues_015228.json:
```json
{
    "body": "For binary builds / system-wide installs and perhaps tarballs we should not require the git repository. This ticket fixes two doctests for that use case.\n\nThat is, to remove the development functionality you can now \n* delete `SAGE_SRC/sage/dev`\n* delete `SAGE_ROOT/.git`\nand all doctests still pass\n\n\nReviewer: R. Andrew Ohana\n\nAuthor: Volker Braun\n\nBranch: u/vbraun/run_without_git\n\nDependencies: #14482\n\nCommit: 24e5a7388f98b535ae84aa5753439e0128994473\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/15465\n\n",
    "closed_at": "2013-12-16T14:09:00Z",
    "created_at": "2013-11-28T18:45:00Z",
    "labels": [
        "component: misc",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.0",
    "title": "Allow using Sage without dev/git",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15465",
    "user": "https://github.com/vbraun"
}
```
For binary builds / system-wide installs and perhaps tarballs we should not require the git repository. This ticket fixes two doctests for that use case.

That is, to remove the development functionality you can now 
* delete `SAGE_SRC/sage/dev`
* delete `SAGE_ROOT/.git`
and all doctests still pass


Reviewer: R. Andrew Ohana

Author: Volker Braun

Branch: u/vbraun/run_without_git

Dependencies: #14482

Commit: 24e5a7388f98b535ae84aa5753439e0128994473

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/15465





---

archive/issue_comments_243363.json:
```json
{
    "body": "Changing branch from \"\" to \"u/vbraun/run_without_git\"",
    "created_at": "2013-11-28T18:48:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15465#issuecomment-243363",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "" to "u/vbraun/run_without_git"



---

archive/issue_comments_243364.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                         |                                                         |\n|---------------------------------------------------------------------------------------------------------|---------------------------------------------------------|\n|[067dfc6](https://github.com/sagemath/sagetrac-mirror/commit/067dfc6)|Relax the cmdline test of \"sage -dev\", it may be disabled|\n|[fa29095](https://github.com/sagemath/sagetrac-mirror/commit/fa29095)|Merging latest dev scripts to avoid conflict in sage-dev|\n|[713737f](https://github.com/sagemath/sagetrac-mirror/commit/713737f)|fall back to doctesting all files if new files cannot be identified|\n|[946b5b4](https://github.com/sagemath/sagetrac-mirror/commit/946b5b4)|fix the commandline sage -dev script|\n|[2941308](https://github.com/sagemath/sagetrac-mirror/commit/2941308)|Use a DoctestSageDevWrapper for the global dev object during doctests|\n|[6a512d6](https://github.com/sagemath/sagetrac-mirror/commit/6a512d6)|Explicitly specify the key type in ssh-keygen (requried for Sun SSH)|\n|[702d7af](https://github.com/sagemath/sagetrac-mirror/commit/702d7af)|do not suggest force push|",
    "created_at": "2013-11-28T20:12:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15465#issuecomment-243364",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                         |                                                         |
|---------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
|[067dfc6](https://github.com/sagemath/sagetrac-mirror/commit/067dfc6)|Relax the cmdline test of "sage -dev", it may be disabled|
|[fa29095](https://github.com/sagemath/sagetrac-mirror/commit/fa29095)|Merging latest dev scripts to avoid conflict in sage-dev|
|[713737f](https://github.com/sagemath/sagetrac-mirror/commit/713737f)|fall back to doctesting all files if new files cannot be identified|
|[946b5b4](https://github.com/sagemath/sagetrac-mirror/commit/946b5b4)|fix the commandline sage -dev script|
|[2941308](https://github.com/sagemath/sagetrac-mirror/commit/2941308)|Use a DoctestSageDevWrapper for the global dev object during doctests|
|[6a512d6](https://github.com/sagemath/sagetrac-mirror/commit/6a512d6)|Explicitly specify the key type in ssh-keygen (requried for Sun SSH)|
|[702d7af](https://github.com/sagemath/sagetrac-mirror/commit/702d7af)|do not suggest force push|



---

archive/issue_comments_243365.json:
```json
{
    "body": "Changing commit from \"\" to \"067dfc6b5c4b25a64d23c97b48eaa7ce279146b9\"",
    "created_at": "2013-11-28T20:12:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15465#issuecomment-243365",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "067dfc6b5c4b25a64d23c97b48eaa7ce279146b9"



---

archive/issue_comments_243366.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#14482\"",
    "created_at": "2013-11-28T20:15:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15465#issuecomment-243366",
    "user": "https://github.com/vbraun"
}
```

Changing dependencies from "" to "#14482"



---

archive/issue_comments_243367.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-11-28T20:15:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15465#issuecomment-243367",
    "user": "https://github.com/vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_243368.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                         |                             |\n|---------------------------------------------------------------------------------------------------------|-----------------------------|\n|[24e5a73](https://github.com/sagemath/sagetrac-mirror/commit/24e5a73)|better to ask for forgiveness|",
    "created_at": "2013-11-29T12:58:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15465#issuecomment-243368",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                         |                             |
|---------------------------------------------------------------------------------------------------------|-----------------------------|
|[24e5a73](https://github.com/sagemath/sagetrac-mirror/commit/24e5a73)|better to ask for forgiveness|



---

archive/issue_comments_243369.json:
```json
{
    "body": "Changing commit from \"067dfc6b5c4b25a64d23c97b48eaa7ce279146b9\" to \"24e5a7388f98b535ae84aa5753439e0128994473\"",
    "created_at": "2013-11-29T12:58:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15465#issuecomment-243369",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "067dfc6b5c4b25a64d23c97b48eaa7ce279146b9" to "24e5a7388f98b535ae84aa5753439e0128994473"



---

archive/issue_comments_243370.json:
```json
{
    "body": "<a id='comment:5'></a>\nBecause of the lazy import of the `dev` object, asking for forgiveness won't work.",
    "created_at": "2013-12-01T04:48:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15465#issuecomment-243370",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:5'></a>
Because of the lazy import of the `dev` object, asking for forgiveness won't work.



---

archive/issue_comments_243371.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-12-01T04:49:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15465#issuecomment-243371",
    "user": "https://github.com/ohanar"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_243372.json:
```json
{
    "body": "Changing reviewer from \"\" to \"R. Andrew Ohana\"",
    "created_at": "2013-12-01T04:49:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15465#issuecomment-243372",
    "user": "https://github.com/ohanar"
}
```

Changing reviewer from "" to "R. Andrew Ohana"



---

archive/issue_events_059296.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2013-12-01T04:52:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "milestone": "sage-6.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15465#event-59296"
}
```



---

archive/issue_events_059297.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "rename": {
        "from": "Allow using Sage without git repository",
        "to": "Allow using Sage without dev/git"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15465#event-59297"
}
```



---

archive/issue_comments_243373.json:
```json
{
    "body": "<a id='comment:8'></a>\nThe idea is to delete the `src/sage/dev` directory if development is not possible (e.g. because of file permissions). Just not importing `dev` is not a solution as the dev doctests are still around (and will all fail).",
    "created_at": "2013-12-01T15:39:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15465#issuecomment-243373",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'></a>
The idea is to delete the `src/sage/dev` directory if development is not possible (e.g. because of file permissions). Just not importing `dev` is not a solution as the dev doctests are still around (and will all fail).



---

archive/issue_comments_243374.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,7 @@\n-For binary builds and perhaps tarballs we should not require the git repository. This ticket fixes two doctests for that use case.\n+For binary builds / system-wide installs and perhaps tarballs we should not require the git repository. This ticket fixes two doctests for that use case.\n+\n+That is, to remove the development functionality you can now \n+* delete `SAGE_SRC/sage/dev`\n+* delete `SAGE_ROOT/.git`\n+and all doctests still pass\n+\n``````\n",
    "created_at": "2013-12-01T15:39:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15465#issuecomment-243374",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,7 @@
-For binary builds and perhaps tarballs we should not require the git repository. This ticket fixes two doctests for that use case.
+For binary builds / system-wide installs and perhaps tarballs we should not require the git repository. This ticket fixes two doctests for that use case.
+
+That is, to remove the development functionality you can now 
+* delete `SAGE_SRC/sage/dev`
+* delete `SAGE_ROOT/.git`
+and all doctests still pass
+
``````




---

archive/issue_comments_243375.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-12-01T15:40:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15465#issuecomment-243375",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_243376.json:
```json
{
    "body": "<a id='comment:10'></a>\nok, in that case, this seems fine",
    "created_at": "2013-12-06T21:42:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15465#issuecomment-243376",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:10'></a>
ok, in that case, this seems fine



---

archive/issue_comments_243377.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-12-06T21:42:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15465#issuecomment-243377",
    "user": "https://github.com/ohanar"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_059298.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-12-16T14:09:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15465#event-59298"
}
```



---

archive/issue_comments_243378.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-12-16T14:09:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15465#issuecomment-243378",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
