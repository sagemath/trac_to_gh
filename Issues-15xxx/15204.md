# Issue 15204: Fix gap cyclotomics to sage

archive/issues_014967.json:
```json
{
    "body": "Current gap expects a particular method of `_n()` which is provided by `CyclotomicField` but not by others, in particular `UniversalCyclotomicField`. \n\n```\nsage: libgap.E(3).sage(ring=UniversalCyclotomicField())\nAttributeError: 'UniversalCyclotomicField_with_category' object has no attribute '_n'\n```\nThis ticket fixes this by catching this exception and converting through the `CyclotomicField`.\n\n**Assignee:** @tscrim\n\n**Reviewer:** Fr\u00e9d\u00e9ric Chapoton\n\n**Author:** Travis Scrimshaw\n\n**Merged:** sage-5.12.rc0\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/15204\n\n",
    "closed_at": "2013-10-01T07:18:20Z",
    "created_at": "2013-09-17T19:20:43Z",
    "labels": [
        "component: interfaces",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.12",
    "title": "Fix gap cyclotomics to sage",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15204",
    "user": "https://github.com/tscrim"
}
```
Current gap expects a particular method of `_n()` which is provided by `CyclotomicField` but not by others, in particular `UniversalCyclotomicField`. 

```
sage: libgap.E(3).sage(ring=UniversalCyclotomicField())
AttributeError: 'UniversalCyclotomicField_with_category' object has no attribute '_n'
```
This ticket fixes this by catching this exception and converting through the `CyclotomicField`.

**Assignee:** @tscrim

**Reviewer:** Frédéric Chapoton

**Author:** Travis Scrimshaw

**Merged:** sage-5.12.rc0

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/15204





---

archive/issue_comments_244977.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2013-09-17T19:25:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-244977",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_244978.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,7 @@\n-Current gap expects a particular method of `_n()` which is provided by `CyclotomicField` but not by others, in particular `UniversalCyclotomicField`. Fixes this by catching this exception and converting through the `CyclotomicField`.\n+Current gap expects a particular method of `_n()` which is provided by `CyclotomicField` but not by others, in particular `UniversalCyclotomicField`. \n+\n+```\n+sage: libgap.E(3).sage(ring=UniversalCyclotomicField())\n+AttributeError: 'UniversalCyclotomicField_with_category' object has no attribute '_n'\n+```\n+This ticket fixes this by catching this exception and converting through the `CyclotomicField`.\n``````\n",
    "created_at": "2013-09-17T19:25:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-244978",
    "user": "https://github.com/tscrim"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,7 @@
-Current gap expects a particular method of `_n()` which is provided by `CyclotomicField` but not by others, in particular `UniversalCyclotomicField`. Fixes this by catching this exception and converting through the `CyclotomicField`.
+Current gap expects a particular method of `_n()` which is provided by `CyclotomicField` but not by others, in particular `UniversalCyclotomicField`. 
+
+```
+sage: libgap.E(3).sage(ring=UniversalCyclotomicField())
+AttributeError: 'UniversalCyclotomicField_with_category' object has no attribute '_n'
+```
+This ticket fixes this by catching this exception and converting through the `CyclotomicField`.
``````




---

archive/issue_comments_244979.json:
```json
{
    "body": "<a id='comment:2'></a>\n\n```\nthat :trac:`12345` is fixed\n```\n\nreally ?",
    "created_at": "2013-09-17T19:30:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-244979",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>

```
that :trac:`12345` is fixed
```

really ?



---

archive/attachments_020324.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_15204-fix_gap_cyclotomics-ts.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket15204/trac_15204-fix_gap_cyclotomics-ts.patch",
    "created_at": "2013-09-17T19:34:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/tscrim"
}
```



---

archive/issue_comments_244980.json:
```json
{
    "body": "",
    "created_at": "2013-09-17T19:34:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-244980",
    "user": "https://github.com/tscrim"
}
```





---

archive/issue_comments_244981.json:
```json
{
    "body": "<a id='comment:3'></a>\n*waves hand* That's not the placeholder you're looking for.",
    "created_at": "2013-09-17T19:34:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-244981",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>
*waves hand* That's not the placeholder you're looking for.



---

archive/issue_comments_244982.json:
```json
{
    "body": "<a id='comment:4'></a>\nHello Travis :)\n\nNow that we are trusted again, I am afraid there is no longer any patchbot around for the mercurial tickets. At least the only active one (except my own one) seems to work only on git tickets.\n\nI will try to find time to run my patchbot on this ticket. It takes me around 90m per ticket... Maybe you could run a patchbot too ?\n\nFrederic",
    "created_at": "2013-09-17T20:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-244982",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
Hello Travis :)

Now that we are trusted again, I am afraid there is no longer any patchbot around for the mercurial tickets. At least the only active one (except my own one) seems to work only on git tickets.

I will try to find time to run my patchbot on this ticket. It takes me around 90m per ticket... Maybe you could run a patchbot too ?

Frederic



---

archive/issue_comments_244983.json:
```json
{
    "body": "<a id='comment:5'></a>\nok, looks good to me.",
    "created_at": "2013-09-18T19:47:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-244983",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
ok, looks good to me.



---

archive/issue_comments_244984.json:
```json
{
    "body": "**Reviewer:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2013-09-18T19:47:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-244984",
    "user": "https://github.com/fchapoton"
}
```

**Reviewer:** Frédéric Chapoton



---

archive/issue_comments_244985.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2013-09-18T19:47:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-244985",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_244986.json:
```json
{
    "body": "<a id='comment:6'></a>\nThanks Frederic.",
    "created_at": "2013-09-18T21:36:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-244986",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
Thanks Frederic.



---

archive/issue_comments_244987.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2013-10-01T07:18:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-244987",
    "user": "https://github.com/jdemeyer"
}
```

**Resolution:** fixed



---

archive/issue_events_050328.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-01T07:18:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15204#event-50328"
}
```



---

archive/issue_comments_244988.json:
```json
{
    "body": "**Merged:** sage-5.12.rc0",
    "created_at": "2013-10-01T07:18:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-244988",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.12.rc0
