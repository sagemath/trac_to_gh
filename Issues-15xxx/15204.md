# Issue 15204: Fix gap cyclotomics to sage

archive/issues_014967.json:
```json
{
    "body": "Current gap expects a particular method of `_n()` which is provided by `CyclotomicField` but not by others, in particular `UniversalCyclotomicField`. \n\n```\nsage: libgap.E(3).sage(ring=UniversalCyclotomicField())\nAttributeError: 'UniversalCyclotomicField_with_category' object has no attribute '_n'\n```\nThis ticket fixes this by catching this exception and converting through the `CyclotomicField`.\n\n**Assignee:** @tscrim\n\n**Reviewer:** Fr\u00e9d\u00e9ric Chapoton\n\n**Author:** Travis Scrimshaw\n\n**Merged:** sage-5.12.rc0\n\nIssue created by migration from https://trac.sagemath.org/ticket/15204\n\n",
    "closed_at": "2013-10-01T07:18:20Z",
    "created_at": "2013-09-17T19:20:43Z",
    "labels": [
        "component: interfaces",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.12",
    "title": "Fix gap cyclotomics to sage",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15204",
    "user": "https://github.com/tscrim"
}
```
Current gap expects a particular method of `_n()` which is provided by `CyclotomicField` but not by others, in particular `UniversalCyclotomicField`. 

```
sage: libgap.E(3).sage(ring=UniversalCyclotomicField())
AttributeError: 'UniversalCyclotomicField_with_category' object has no attribute '_n'
```
This ticket fixes this by catching this exception and converting through the `CyclotomicField`.

**Assignee:** @tscrim

**Reviewer:** Frédéric Chapoton

**Author:** Travis Scrimshaw

**Merged:** sage-5.12.rc0

Issue created by migration from https://trac.sagemath.org/ticket/15204





---

archive/issue_events_136393.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-09-17T19:25:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15204#event-136393"
}
```



---

archive/issue_comments_191248.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,7 @@\n-Current gap expects a particular method of `_n()` which is provided by `CyclotomicField` but not by others, in particular `UniversalCyclotomicField`. Fixes this by catching this exception and converting through the `CyclotomicField`.\n+Current gap expects a particular method of `_n()` which is provided by `CyclotomicField` but not by others, in particular `UniversalCyclotomicField`. \n+\n+```\n+sage: libgap.E(3).sage(ring=UniversalCyclotomicField())\n+AttributeError: 'UniversalCyclotomicField_with_category' object has no attribute '_n'\n+```\n+This ticket fixes this by catching this exception and converting through the `CyclotomicField`.\n``````\n",
    "created_at": "2013-09-17T19:25:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-191248",
    "user": "https://github.com/tscrim"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,7 @@
-Current gap expects a particular method of `_n()` which is provided by `CyclotomicField` but not by others, in particular `UniversalCyclotomicField`. Fixes this by catching this exception and converting through the `CyclotomicField`.
+Current gap expects a particular method of `_n()` which is provided by `CyclotomicField` but not by others, in particular `UniversalCyclotomicField`. 
+
+```
+sage: libgap.E(3).sage(ring=UniversalCyclotomicField())
+AttributeError: 'UniversalCyclotomicField_with_category' object has no attribute '_n'
+```
+This ticket fixes this by catching this exception and converting through the `CyclotomicField`.
``````




---

archive/issue_comments_191249.json:
```json
{
    "body": "<a id='comment:2'></a>\n\n```\nthat :trac:`12345` is fixed\n```\n\nreally ?",
    "created_at": "2013-09-17T19:30:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-191249",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>

```
that :trac:`12345` is fixed
```

really ?



---

archive/attachments_020324.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_15204-fix_gap_cyclotomics-ts.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket15204/trac_15204-fix_gap_cyclotomics-ts.patch",
    "created_at": "2013-09-17T19:34:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/tscrim"
}
```



---

archive/issue_comments_191250.json:
```json
{
    "body": "",
    "created_at": "2013-09-17T19:34:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-191250",
    "user": "https://github.com/tscrim"
}
```





---

archive/issue_comments_191251.json:
```json
{
    "body": "<a id='comment:3'></a>\n*waves hand* That's not the placeholder you're looking for.",
    "created_at": "2013-09-17T19:34:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-191251",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>
*waves hand* That's not the placeholder you're looking for.



---

archive/issue_comments_191252.json:
```json
{
    "body": "<a id='comment:4'></a>\nHello Travis :)\n\nNow that we are trusted again, I am afraid there is no longer any patchbot around for the mercurial tickets. At least the only active one (except my own one) seems to work only on git tickets.\n\nI will try to find time to run my patchbot on this ticket. It takes me around 90m per ticket... Maybe you could run a patchbot too ?\n\nFrederic",
    "created_at": "2013-09-17T20:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-191252",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
Hello Travis :)

Now that we are trusted again, I am afraid there is no longer any patchbot around for the mercurial tickets. At least the only active one (except my own one) seems to work only on git tickets.

I will try to find time to run my patchbot on this ticket. It takes me around 90m per ticket... Maybe you could run a patchbot too ?

Frederic



---

archive/issue_comments_191253.json:
```json
{
    "body": "<a id='comment:5'></a>\nok, looks good to me.",
    "created_at": "2013-09-18T19:47:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-191253",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
ok, looks good to me.



---

archive/issue_comments_191254.json:
```json
{
    "body": "**Reviewer:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2013-09-18T19:47:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-191254",
    "user": "https://github.com/fchapoton"
}
```

**Reviewer:** Frédéric Chapoton



---

archive/issue_events_136394.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-09-18T19:47:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15204#event-136394"
}
```



---

archive/issue_events_136395.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-09-18T19:47:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15204#event-136395"
}
```



---

archive/issue_comments_191255.json:
```json
{
    "body": "<a id='comment:6'></a>\nThanks Frederic.",
    "created_at": "2013-09-18T21:36:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-191255",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
Thanks Frederic.



---

archive/issue_events_136396.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-01T07:18:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15204#event-136396"
}
```



---

archive/issue_events_136397.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-01T07:18:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15204#event-136397"
}
```



---

archive/issue_comments_191256.json:
```json
{
    "body": "**Merged:** sage-5.12.rc0",
    "created_at": "2013-10-01T07:18:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15204",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15204#issuecomment-191256",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.12.rc0
