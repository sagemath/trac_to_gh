# Issue 15468: update to latest upstream git

archive/issues_015231.json:
```json
{
    "body": "The git self-tests fail on OSX 10.8, 10.9 because of braindamage in Apple's regex library. This is worked around in upstream git, so just update to the latest and greatest:\n\n```\n*** t0070-fundamental.sh ***\nok 1 - character classes (isspace, isalpha etc.)\nok 2 - mktemp to nonexistent directory prints filename\nok 3 - mktemp to unwritable directory prints filename\nnot ok - 4 check for a bug in the regex routines\n#\t\n#\t\t# if this test fails, re-build git with NO_REGEX=1\n#\t\ttest-regex\n#\t\n# failed 1 among 4 test(s)\n1..4\nmake[5]: *** [t0070-fundamental.sh] Error 1\nmake[4]: *** [test] Error 2\nmake[3]: *** [test] Error 2\nError running git's combined build/test suite.\n```\n\nUpstream tarball: https://www.kernel.org/pub/software/scm/git/git-1.8.4.4.tar.bz2\n\nCC:  @haraldschilly\n\nReviewer: R. Andrew Ohana\n\nAuthor: Volker Braun\n\nBranch: u/vbraun/git_1_8_4_4\n\nDependencies: #14482\n\nCommit: f6fcc98dffa65e6e9ce165aff1fa6929325278bb\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/15468\n\n",
    "closed_at": "2013-12-16T14:09:18Z",
    "created_at": "2013-11-29T17:03:11Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.0",
    "title": "update to latest upstream git",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15468",
    "user": "https://github.com/vbraun"
}
```
The git self-tests fail on OSX 10.8, 10.9 because of braindamage in Apple's regex library. This is worked around in upstream git, so just update to the latest and greatest:

```
*** t0070-fundamental.sh ***
ok 1 - character classes (isspace, isalpha etc.)
ok 2 - mktemp to nonexistent directory prints filename
ok 3 - mktemp to unwritable directory prints filename
not ok - 4 check for a bug in the regex routines
#	
#		# if this test fails, re-build git with NO_REGEX=1
#		test-regex
#	
# failed 1 among 4 test(s)
1..4
make[5]: *** [t0070-fundamental.sh] Error 1
make[4]: *** [test] Error 2
make[3]: *** [test] Error 2
Error running git's combined build/test suite.
```

Upstream tarball: https://www.kernel.org/pub/software/scm/git/git-1.8.4.4.tar.bz2

CC:  @haraldschilly

Reviewer: R. Andrew Ohana

Author: Volker Braun

Branch: u/vbraun/git_1_8_4_4

Dependencies: #14482

Commit: f6fcc98dffa65e6e9ce165aff1fa6929325278bb

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/15468





---

archive/issue_comments_246770.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -18,6 +18,8 @@\n Error running git's combined build/test suite.\n ```\n \n+Upstream tarball: https://www.kernel.org/pub/software/scm/git/git-1.8.4.tar.bz2\n+\n Author: Volker Braun\n \n Comment: 1\n``````\n",
    "created_at": "2013-11-29T17:27:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15468#issuecomment-246770",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -18,6 +18,8 @@
 Error running git's combined build/test suite.
 ```
 
+Upstream tarball: https://www.kernel.org/pub/software/scm/git/git-1.8.4.tar.bz2
+
 Author: Volker Braun
 
 Comment: 1
``````




---

archive/issue_comments_246771.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,24 @@\n+The git self-tests fail on OSX 10.8, 10.9 because of braindamage in Apple's regex library. This is worked around in upstream git, so just update to the latest and greatest:\n \n+```\n+*** t0070-fundamental.sh ***\n+ok 1 - character classes (isspace, isalpha etc.)\n+ok 2 - mktemp to nonexistent directory prints filename\n+ok 3 - mktemp to unwritable directory prints filename\n+not ok - 4 check for a bug in the regex routines\n+#\t\n+#\t\t# if this test fails, re-build git with NO_REGEX=1\n+#\t\ttest-regex\n+#\t\n+# failed 1 among 4 test(s)\n+1..4\n+make[5]: *** [t0070-fundamental.sh] Error 1\n+make[4]: *** [test] Error 2\n+make[3]: *** [test] Error 2\n+Error running git's combined build/test suite.\n+```\n+\n+Upstream tarball: https://www.kernel.org/pub/software/scm/git/git-1.8.4.4.tar.bz2\n \n Author: Volker Braun\n \n``````\n",
    "created_at": "2013-11-29T17:30:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15468#issuecomment-246771",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,24 @@
+The git self-tests fail on OSX 10.8, 10.9 because of braindamage in Apple's regex library. This is worked around in upstream git, so just update to the latest and greatest:
 
+```
+*** t0070-fundamental.sh ***
+ok 1 - character classes (isspace, isalpha etc.)
+ok 2 - mktemp to nonexistent directory prints filename
+ok 3 - mktemp to unwritable directory prints filename
+not ok - 4 check for a bug in the regex routines
+#	
+#		# if this test fails, re-build git with NO_REGEX=1
+#		test-regex
+#	
+# failed 1 among 4 test(s)
+1..4
+make[5]: *** [t0070-fundamental.sh] Error 1
+make[4]: *** [test] Error 2
+make[3]: *** [test] Error 2
+Error running git's combined build/test suite.
+```
+
+Upstream tarball: https://www.kernel.org/pub/software/scm/git/git-1.8.4.4.tar.bz2
 
 Author: Volker Braun
 
``````




---

archive/issue_comments_246772.json:
```json
{
    "body": "Changing branch from \"\" to \"u/vbraun/git_1_8_4_4\"",
    "created_at": "2013-11-29T17:31:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15468#issuecomment-246772",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "" to "u/vbraun/git_1_8_4_4"



---

archive/issue_comments_246773.json:
```json
{
    "body": "Changing commit from \"\" to \"f3df29449a252f80e1f4d08e26a837bf1846d7f4\"",
    "created_at": "2013-11-29T17:59:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15468#issuecomment-246773",
    "user": "https://github.com/vbraun"
}
```

Changing commit from "" to "f3df29449a252f80e1f4d08e26a837bf1846d7f4"



---

archive/issue_comments_246774.json:
```json
{
    "body": "<a id='comment:4'></a>New commits:",
    "created_at": "2013-11-29T17:59:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15468#issuecomment-246774",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:4'></a>New commits:



---

archive/issue_comments_246775.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-11-29T17:59:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15468#issuecomment-246775",
    "user": "https://github.com/vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_246776.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#14482\"",
    "created_at": "2013-11-29T19:12:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15468#issuecomment-246776",
    "user": "https://github.com/vbraun"
}
```

Changing dependencies from "" to "#14482"



---

archive/issue_comments_246777.json:
```json
{
    "body": "<a id='comment:5'></a>The update breaks some sage-dev doctests. Fixing...",
    "created_at": "2013-11-29T19:12:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15468#issuecomment-246777",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:5'></a>The update breaks some sage-dev doctests. Fixing...



---

archive/issue_comments_246778.json:
```json
{
    "body": "Changing commit from \"f3df29449a252f80e1f4d08e26a837bf1846d7f4\" to \"f6fcc98dffa65e6e9ce165aff1fa6929325278bb\"",
    "created_at": "2013-11-29T19:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15468#issuecomment-246778",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f3df29449a252f80e1f4d08e26a837bf1846d7f4" to "f6fcc98dffa65e6e9ce165aff1fa6929325278bb"



---

archive/issue_comments_246779.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-29T19:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15468#issuecomment-246779",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_246780.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-12-01T04:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15468#issuecomment-246780",
    "user": "https://github.com/ohanar"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_246781.json:
```json
{
    "body": "<a id='comment:7'></a>Other than being slightly dated (1.8.5 came out a few days ago), this seems fine.",
    "created_at": "2013-12-01T04:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15468#issuecomment-246781",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:7'></a>Other than being slightly dated (1.8.5 came out a few days ago), this seems fine.



---

archive/issue_comments_246782.json:
```json
{
    "body": "Changing reviewer from \"\" to \"R. Andrew Ohana\"",
    "created_at": "2013-12-01T04:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15468#issuecomment-246782",
    "user": "https://github.com/ohanar"
}
```

Changing reviewer from "" to "R. Andrew Ohana"



---

archive/issue_events_045120.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2013-12-01T04:40:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "milestone": "sage-6.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15468#event-45120"
}
```



---

archive/issue_comments_246783.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-12-16T14:09:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15468#issuecomment-246783",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_045121.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-12-16T14:09:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15468#event-45121"
}
```



---

archive/issue_comments_246784.json:
```json
{
    "body": "<a id='comment:10'></a>Harald: please mirror tarball...",
    "created_at": "2013-12-16T17:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15468#issuecomment-246784",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'></a>Harald: please mirror tarball...



---

archive/issue_comments_246785.json:
```json
{
    "body": "<a id='comment:11'></a>I'm not sure where to put this: the packages in \"standard\" are updated for every new release. There are also git packages in \"optional\" and \"experimental\" and the new \"upstream/git\".\n\nI think we can get rid of the ones in optional and experimental and you mean to replace the one in upstream/git ?",
    "created_at": "2013-12-16T17:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15468#issuecomment-246785",
    "user": "https://github.com/haraldschilly"
}
```

<a id='comment:11'></a>I'm not sure where to put this: the packages in "standard" are updated for every new release. There are also git packages in "optional" and "experimental" and the new "upstream/git".

I think we can get rid of the ones in optional and experimental and you mean to replace the one in upstream/git ?



---

archive/issue_comments_246786.json:
```json
{
    "body": "<a id='comment:12'></a>This ticket is not a spkg, just a new-style tarball. Should go into upstream. We should probably keep the old git spkg in \"standard\" for a while if Sage 5 users need it.",
    "created_at": "2013-12-16T18:10:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15468#issuecomment-246786",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:12'></a>This ticket is not a spkg, just a new-style tarball. Should go into upstream. We should probably keep the old git spkg in "standard" for a while if Sage 5 users need it.
