# Issue 15410: Simplify cythonization of many sage extensions.

archive/issues_015173.json:
```json
{
    "body": "No need to enumerate modules if we don't use special flags.\n\n**Branch/Commit:** [0681b66835d257628a3d2f08a8eadad12d21e846](https://github.com/sagemath/sagetrac-mirror/commit/0681b66835d257628a3d2f08a8eadad12d21e846)\n\n**Reviewer:** Nathann Cohen, Jean-Pierre Flori\n\n**Author:** Robert Bradshaw, Jeroen Demeyer\n\nIssue created by migration from https://trac.sagemath.org/ticket/15410\n\n",
    "closed_at": "2015-07-02T20:09:22Z",
    "created_at": "2013-11-13T08:20:06Z",
    "labels": [
        "component: build",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "title": "Simplify cythonization of many sage extensions.",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/15410",
    "user": "https://github.com/robertwb"
}
```
No need to enumerate modules if we don't use special flags.

**Branch/Commit:** [0681b66835d257628a3d2f08a8eadad12d21e846](https://github.com/sagemath/sagetrac-mirror/commit/0681b66835d257628a3d2f08a8eadad12d21e846)

**Reviewer:** Nathann Cohen, Jean-Pierre Flori

**Author:** Robert Bradshaw, Jeroen Demeyer

Issue created by migration from https://trac.sagemath.org/ticket/15410





---

archive/issue_comments_194101.json:
```json
{
    "body": "**Branch:** [u/robertwb/ticket/15410](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/ticket/15410)",
    "created_at": "2013-11-13T08:20:25Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194101",
    "user": "https://github.com/robertwb"
}
```

**Branch:** [u/robertwb/ticket/15410](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/ticket/15410)



---

archive/issue_comments_194102.json:
```json
{
    "body": "**Commit:** [94f5a9ffdfd0b3784f75cbac46eef382d7273ea4](https://github.com/sagemath/sagetrac-mirror/commit/94f5a9ffdfd0b3784f75cbac46eef382d7273ea4)",
    "created_at": "2013-11-13T08:20:49Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194102",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [94f5a9ffdfd0b3784f75cbac46eef382d7273ea4](https://github.com/sagemath/sagetrac-mirror/commit/94f5a9ffdfd0b3784f75cbac46eef382d7273ea4)



---

archive/issue_comments_194103.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td>[94f5a9f](https://github.com/sagemath/sagetrac-mirror/commit/94f5a9f)</td><td><code>Simplify cythonization of sage/structure</code></td></tr></table>\n",
    "created_at": "2013-11-13T08:20:49Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194103",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td>[94f5a9f](https://github.com/sagemath/sagetrac-mirror/commit/94f5a9f)</td><td><code>Simplify cythonization of sage/structure</code></td></tr></table>




---

archive/issue_events_135983.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2013-11-13T08:22:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-135983"
}
```



---

archive/issue_comments_194104.json:
```json
{
    "body": "**Changing commit** from \"[94f5a9ffdfd0b3784f75cbac46eef382d7273ea4](https://github.com/sagemath/sagetrac-mirror/commit/94f5a9ffdfd0b3784f75cbac46eef382d7273ea4)\" to \"[52199847e6ece596afd1ed00bc537cb4c6bb217f](https://github.com/sagemath/sagetrac-mirror/commit/52199847e6ece596afd1ed00bc537cb4c6bb217f)\".",
    "created_at": "2013-11-13T09:02:57Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194104",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[94f5a9ffdfd0b3784f75cbac46eef382d7273ea4](https://github.com/sagemath/sagetrac-mirror/commit/94f5a9ffdfd0b3784f75cbac46eef382d7273ea4)" to "[52199847e6ece596afd1ed00bc537cb4c6bb217f](https://github.com/sagemath/sagetrac-mirror/commit/52199847e6ece596afd1ed00bc537cb4c6bb217f)".



---

archive/issue_comments_194105.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td>[5219984](https://github.com/sagemath/sagetrac-mirror/commit/5219984)</td><td><code>Simplify category, coding, and ext cythonization.</code></td></tr><tr><td>[708ee36](https://github.com/sagemath/sagetrac-mirror/commit/708ee36)</td><td><code>Simplify geometry, games, functions, crypto cythonization.</code></td></tr><tr><td>[d5bb198](https://github.com/sagemath/sagetrac-mirror/commit/d5bb198)</td><td><code>Simplify graphs, groups cythonization.</code></td></tr><tr><td>[ee6bff2](https://github.com/sagemath/sagetrac-mirror/commit/ee6bff2)</td><td><code>Simplify cythonization for media, matroids, and misc.</code></td></tr></table>\n",
    "created_at": "2013-11-13T09:02:57Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194105",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td>[5219984](https://github.com/sagemath/sagetrac-mirror/commit/5219984)</td><td><code>Simplify category, coding, and ext cythonization.</code></td></tr><tr><td>[708ee36](https://github.com/sagemath/sagetrac-mirror/commit/708ee36)</td><td><code>Simplify geometry, games, functions, crypto cythonization.</code></td></tr><tr><td>[d5bb198](https://github.com/sagemath/sagetrac-mirror/commit/d5bb198)</td><td><code>Simplify graphs, groups cythonization.</code></td></tr><tr><td>[ee6bff2](https://github.com/sagemath/sagetrac-mirror/commit/ee6bff2)</td><td><code>Simplify cythonization for media, matroids, and misc.</code></td></tr></table>




---

archive/issue_comments_194106.json:
```json
{
    "body": "**Changing commit** from \"[52199847e6ece596afd1ed00bc537cb4c6bb217f](https://github.com/sagemath/sagetrac-mirror/commit/52199847e6ece596afd1ed00bc537cb4c6bb217f)\" to \"[7caecd0ddf6973cb7267f46c2d51198685286ce7](https://github.com/sagemath/sagetrac-mirror/commit/7caecd0ddf6973cb7267f46c2d51198685286ce7)\".",
    "created_at": "2013-11-13T09:10:46Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194106",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[52199847e6ece596afd1ed00bc537cb4c6bb217f](https://github.com/sagemath/sagetrac-mirror/commit/52199847e6ece596afd1ed00bc537cb4c6bb217f)" to "[7caecd0ddf6973cb7267f46c2d51198685286ce7](https://github.com/sagemath/sagetrac-mirror/commit/7caecd0ddf6973cb7267f46c2d51198685286ce7)".



---

archive/issue_comments_194107.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td>[7caecd0](https://github.com/sagemath/sagetrac-mirror/commit/7caecd0)</td><td><code>Trivial cythonization simplification.</code></td></tr></table>\n",
    "created_at": "2013-11-13T09:10:46Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194107",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td>[7caecd0](https://github.com/sagemath/sagetrac-mirror/commit/7caecd0)</td><td><code>Trivial cythonization simplification.</code></td></tr></table>




---

archive/issue_events_135984.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2013-11-13T09:11:35Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "rename": {
        "from": "Simplify cythonization of sage/structure.",
        "to": "Simplify cythonization of many sage extensions."
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-135984"
}
```



---

archive/issue_comments_194108.json:
```json
{
    "body": "<a id='comment:7'></a>\nHmmmm... Looks like the 'gmp' dependency in `sage.quadratic_forms.count_local_2` was useless ?\n\nNathann",
    "created_at": "2013-11-13T15:37:37Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194108",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>
Hmmmm... Looks like the 'gmp' dependency in `sage.quadratic_forms.count_local_2` was useless ?

Nathann



---

archive/issue_comments_194109.json:
```json
{
    "body": "**Changing commit** from \"[7caecd0ddf6973cb7267f46c2d51198685286ce7](https://github.com/sagemath/sagetrac-mirror/commit/7caecd0ddf6973cb7267f46c2d51198685286ce7)\" to \"[7703d9e6accea302f46d66200b0b57a5ae5a9446](https://github.com/sagemath/sagetrac-mirror/commit/7703d9e6accea302f46d66200b0b57a5ae5a9446)\".",
    "created_at": "2013-11-13T18:45:37Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194109",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7caecd0ddf6973cb7267f46c2d51198685286ce7](https://github.com/sagemath/sagetrac-mirror/commit/7caecd0ddf6973cb7267f46c2d51198685286ce7)" to "[7703d9e6accea302f46d66200b0b57a5ae5a9446](https://github.com/sagemath/sagetrac-mirror/commit/7703d9e6accea302f46d66200b0b57a5ae5a9446)".



---

archive/issue_comments_194110.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td>[7703d9e](https://github.com/sagemath/sagetrac-mirror/commit/7703d9e)</td><td><code>Add missing gmp library dependency.</code></td></tr></table>\n",
    "created_at": "2013-11-13T18:45:37Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194110",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td>[7703d9e](https://github.com/sagemath/sagetrac-mirror/commit/7703d9e)</td><td><code>Add missing gmp library dependency.</code></td></tr></table>




---

archive/issue_comments_194111.json:
```json
{
    "body": "<a id='comment:9'></a>\nEventually this will be inferred from the cimports (e.g. of integer_ring). There's a mess of includes and pxi files that needs to be sorted out before that can happen...",
    "created_at": "2013-11-13T18:48:22Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194111",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:9'></a>
Eventually this will be inferred from the cimports (e.g. of integer_ring). There's a mess of includes and pxi files that needs to be sorted out before that can happen...



---

archive/issue_comments_194112.json:
```json
{
    "body": "**Reviewer:** Nathann Cohen",
    "created_at": "2013-11-14T10:08:43Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194112",
    "user": "https://github.com/nathanncohen"
}
```

**Reviewer:** Nathann Cohen



---

archive/issue_events_135985.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-11-14T10:08:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-135985"
}
```



---

archive/issue_events_135986.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-11-14T10:08:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-135986"
}
```



---

archive/issue_comments_194113.json:
```json
{
    "body": "<a id='comment:10'></a>\nHmmmmmm... Well I applied your three patches, deleted the build/ directory, built Sage again and passes all long tests. I got the following errors, and I believe that none of them comes from your commits \n\n```\n----------------------------------------------------------------------\nsage -t --long misc/trace.py  # 2 doctests failed\nsage -t --long misc/interpreter.py  # 1 doctest failed\nsage -t --long combinat/sf/sfa.py  # 1 doctest failed\nsage -t --long calculus/desolvers.py  # 8 doctests failed\nsage -t --long libs/symmetrica/symmetrica.pxi  # 1 doctest failed\nsage -t --long dev/sagedev.py  # 5 doctests failed\nsage -t --long dev/patch.py  # 6 doctests failed\nsage -t --long tests/cmdline.py  # 14 doctests failed\nsage -t --long tests/interrupt.pyx  # Time out\nsage -t --long /home/ncohen/.Sage/src/doc/en/constructions/calculus.rst  # 4 doctests failed\nsage -t --long /home/ncohen/.Sage/src/doc/en/prep/Quickstarts/Differential-Equations.rst  # 2 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 7355.7 seconds\n    cpu time: 4916.7 seconds\n    cumulative wall time: 5432.8 seconds\n```\n\nSoooooooo well. I'd say \"good to go\" `:-)`\n\nNathann",
    "created_at": "2013-11-14T10:08:43Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194113",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>
Hmmmmmm... Well I applied your three patches, deleted the build/ directory, built Sage again and passes all long tests. I got the following errors, and I believe that none of them comes from your commits 

```
----------------------------------------------------------------------
sage -t --long misc/trace.py  # 2 doctests failed
sage -t --long misc/interpreter.py  # 1 doctest failed
sage -t --long combinat/sf/sfa.py  # 1 doctest failed
sage -t --long calculus/desolvers.py  # 8 doctests failed
sage -t --long libs/symmetrica/symmetrica.pxi  # 1 doctest failed
sage -t --long dev/sagedev.py  # 5 doctests failed
sage -t --long dev/patch.py  # 6 doctests failed
sage -t --long tests/cmdline.py  # 14 doctests failed
sage -t --long tests/interrupt.pyx  # Time out
sage -t --long /home/ncohen/.Sage/src/doc/en/constructions/calculus.rst  # 4 doctests failed
sage -t --long /home/ncohen/.Sage/src/doc/en/prep/Quickstarts/Differential-Equations.rst  # 2 doctests failed
----------------------------------------------------------------------
Total time for all tests: 7355.7 seconds
    cpu time: 4916.7 seconds
    cumulative wall time: 5432.8 seconds
```

Soooooooo well. I'd say "good to go" `:-)`

Nathann



---

archive/issue_comments_194114.json:
```json
{
    "body": "**Author:** Robert Bradshaw",
    "created_at": "2013-11-14T11:05:25Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194114",
    "user": "https://github.com/jdemeyer"
}
```

**Author:** Robert Bradshaw



---

archive/issue_events_135987.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-11-14T11:05:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "milestone": "sage-5.13",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-135987"
}
```



---

archive/issue_events_135988.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-11-14T11:05:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "milestone": "sage-6.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-135988"
}
```



---

archive/issue_events_135989.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2013-12-17T18:39:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "milestone": "sage-6.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-135989"
}
```



---

archive/issue_events_135990.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2013-12-17T18:39:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-135990"
}
```



---

archive/issue_events_135991.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-12-20T14:09:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-135991"
}
```



---

archive/issue_events_135992.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-12-20T14:09:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-135992"
}
```



---

archive/issue_comments_194115.json:
```json
{
    "body": "<a id='comment:13'></a>\nI'm having problems with this ticket, it works on an incremental build but not in a full rebuild. Dies in conway polynomials: http://build.sagemath.org/sage/builders/%20%20fast%20Volker%20Desktop%20%28Fedora%2019%20x86_64%29%20full/builds/5/steps/compile_1/logs/conway",
    "created_at": "2013-12-20T14:09:28Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194115",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:13'></a>
I'm having problems with this ticket, it works on an incremental build but not in a full rebuild. Dies in conway polynomials: http://build.sagemath.org/sage/builders/%20%20fast%20Volker%20Desktop%20%28Fedora%2019%20x86_64%29%20full/builds/5/steps/compile_1/logs/conway



---

archive/issue_comments_194116.json:
```json
{
    "body": "<a id='comment:14'></a>\nwhile there is no *need* to enumerate files, the proposed wildcarding has been flagged as bad practice outside the sage/distutils world. see http://www.gnu.org/software/automake/manual/html_node/Wildcards.html for an explanation. or just view the explicit listing of files as an extra integrity check similar to docchecks. you get the idea...\n\npython distutils requires a lot of overhead in file lists, which is bad. but wildcards are worse.\n\nthis ticket does not improve anything. better leave it like that (YMMV).",
    "created_at": "2014-01-08T12:05:55Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194116",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

<a id='comment:14'></a>
while there is no *need* to enumerate files, the proposed wildcarding has been flagged as bad practice outside the sage/distutils world. see http://www.gnu.org/software/automake/manual/html_node/Wildcards.html for an explanation. or just view the explicit listing of files as an extra integrity check similar to docchecks. you get the idea...

python distutils requires a lot of overhead in file lists, which is bad. but wildcards are worse.

this ticket does not improve anything. better leave it like that (YMMV).



---

archive/issue_comments_194117.json:
```json
{
    "body": "<a id='comment:15'></a>\nFrom your link:\n\n*Still, these are philosophical objections, and as such you may disagree, or find enough value in wildcards to dismiss all of them. Before you start writing a patch against Automake to teach it about wildcards, let\u2019s see the main technical issue: portability.*\n\nYou can guess where I fall :). \n\nPortability is not an issue here. The main downside is someone might forget to add/commit the file, but here this is no worse than we are with .py files, and I would say that this inconsistency is bad (.pyx files should be as similar to .py files as possible). Would you propose enumerating the .py files somewhere as an enhancement?",
    "created_at": "2014-01-11T01:53:07Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194117",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:15'></a>
From your link:

*Still, these are philosophical objections, and as such you may disagree, or find enough value in wildcards to dismiss all of them. Before you start writing a patch against Automake to teach it about wildcards, let’s see the main technical issue: portability.*

You can guess where I fall :). 

Portability is not an issue here. The main downside is someone might forget to add/commit the file, but here this is no worse than we are with .py files, and I would say that this inconsistency is bad (.pyx files should be as similar to .py files as possible). Would you propose enumerating the .py files somewhere as an enhancement?



---

archive/issue_comments_194118.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [@robertwb](#comment%3A15):\n> Would you propose enumerating the .py files somewhere as an enhancement? \n\nyes.\n\nwhen i implemented the make/autotools based build system (#15039), i started off with wildcards (which are not a portability issue, since GNU make is a requirement in various other places). only later, i considered integrity/sanity more important than having random files processed/installed/distributed. so I switched over to explicit lists.\n\nunlike distutils, autotools provides some integrity checks ('distcheck') out of the box, i didn't want to miss them. i cant help to note that enhancing/replacing distutils would be far superior to getting rid of the existing file lists.",
    "created_at": "2014-01-11T09:49:48Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194118",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

<a id='comment:16'></a>
Replying to [@robertwb](#comment%3A15):
> Would you propose enumerating the .py files somewhere as an enhancement? 

yes.

when i implemented the make/autotools based build system (#15039), i started off with wildcards (which are not a portability issue, since GNU make is a requirement in various other places). only later, i considered integrity/sanity more important than having random files processed/installed/distributed. so I switched over to explicit lists.

unlike distutils, autotools provides some integrity checks ('distcheck') out of the box, i didn't want to miss them. i cant help to note that enhancing/replacing distutils would be far superior to getting rid of the existing file lists.



---

archive/issue_comments_194119.json:
```json
{
    "body": "<a id='comment:17'></a>\nThe main reason for autotools requiring explicit file lists is that there is no reliable introspection in C/C++. This is very different in Python. There are certainly pros and cons to wildcards, but just because autotools is doing it doesn't count as an argument IMHO.",
    "created_at": "2014-01-11T17:18:24Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194119",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:17'></a>
The main reason for autotools requiring explicit file lists is that there is no reliable introspection in C/C++. This is very different in Python. There are certainly pros and cons to wildcards, but just because autotools is doing it doesn't count as an argument IMHO.



---

archive/issue_comments_194120.json:
```json
{
    "body": "<a id='comment:18'></a>\nautotools (in combination with GNU make) works with wildcards, but it will not end up smarter than distutils with wildcards. reliable introspection should not be used to decide which files belong to a project.\n\nsage (the library) has tests for every implemented function, no matter how trivisl it is. not checking whether all files are present does not seem to fit. if you are not convinced, go ahead and delete the lists.",
    "created_at": "2014-01-11T18:02:24Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194120",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

<a id='comment:18'></a>
autotools (in combination with GNU make) works with wildcards, but it will not end up smarter than distutils with wildcards. reliable introspection should not be used to decide which files belong to a project.

sage (the library) has tests for every implemented function, no matter how trivisl it is. not checking whether all files are present does not seem to fit. if you are not convinced, go ahead and delete the lists.



---

archive/issue_comments_194121.json:
```json
{
    "body": "<a id='comment:19'></a>\nI'm unable to reproduce this issue with a full rebuild (and your logs are gone). Are you still seeing this?",
    "created_at": "2014-01-25T22:48:06Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194121",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:19'></a>
I'm unable to reproduce this issue with a full rebuild (and your logs are gone). Are you still seeing this?



---

archive/issue_events_135993.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-135993"
}
```



---

archive/issue_events_135994.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-135994"
}
```



---

archive/issue_comments_194122.json:
```json
{
    "body": "<a id='comment:21'></a>\nShould we go on with this ticket?\nThat is use wildcards and move dependency tracking ot the cython file themselves?",
    "created_at": "2014-02-20T16:41:52Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194122",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:21'></a>
Should we go on with this ticket?
That is use wildcards and move dependency tracking ot the cython file themselves?



---

archive/issue_events_135995.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-135995"
}
```



---

archive/issue_events_135996.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-135996"
}
```



---

archive/issue_events_135997.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-135997"
}
```



---

archive/issue_events_135998.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-135998"
}
```



---

archive/issue_comments_194123.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n No need to enumerate modules.\n+\n+See also #7987.\n``````\n",
    "created_at": "2015-04-13T07:25:55Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194123",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 No need to enumerate modules.
+
+See also #7987.
``````




---

archive/issue_events_135999.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-04-13T11:16:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "label": "bug",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-135999"
}
```



---

archive/issue_events_136000.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-04-13T11:16:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-136000"
}
```



---

archive/issue_events_136001.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-04-13T11:16:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-136001"
}
```



---

archive/issue_events_136002.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-04-13T11:16:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "milestone": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-136002"
}
```



---

archive/issue_comments_194124.json:
```json
{
    "body": "**Changing author** from \"Robert Bradshaw\" to \"Robert Bradshaw, Jeroen Demeyer\".",
    "created_at": "2015-06-24T11:43:59Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194124",
    "user": "https://github.com/jdemeyer"
}
```

**Changing author** from "Robert Bradshaw" to "Robert Bradshaw, Jeroen Demeyer".



---

archive/issue_comments_194125.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1 @@\n-No need to enumerate modules.\n-\n-See also #7987.\n+No need to enumerate modules if we don't use special flags.\n``````\n",
    "created_at": "2015-06-24T11:43:59Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194125",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1 @@
-No need to enumerate modules.
-
-See also #7987.
+No need to enumerate modules if we don't use special flags.
``````




---

archive/issue_events_136003.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-24T11:43:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "milestone": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-136003"
}
```



---

archive/issue_events_136004.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-24T11:43:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-136004"
}
```



---

archive/issue_comments_194126.json:
```json
{
    "body": "<a id='comment:26'></a>\nI'm rebooting this ticket to handle only the *trivial* cases (where no additional libraries or compiler flags need to be added).",
    "created_at": "2015-06-24T11:43:59Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194126",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:26'></a>
I'm rebooting this ticket to handle only the *trivial* cases (where no additional libraries or compiler flags need to be added).



---

archive/issue_comments_194127.json:
```json
{
    "body": "**Changing branch** from \"[u/robertwb/ticket/15410](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/ticket/15410)\" to \"[u/jdemeyer/ticket/15410](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/15410)\".",
    "created_at": "2015-06-24T12:09:02Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194127",
    "user": "https://github.com/jdemeyer"
}
```

**Changing branch** from "[u/robertwb/ticket/15410](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/ticket/15410)" to "[u/jdemeyer/ticket/15410](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/15410)".



---

archive/issue_comments_194128.json:
```json
{
    "body": "<a id='comment:28'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0681b66835d257628a3d2f08a8eadad12d21e846\">0681b66</a></td><td><code>Simplify cythonization of many Cython extensions</code></td></tr></table>\n",
    "created_at": "2015-06-24T12:15:53Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194128",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0681b66835d257628a3d2f08a8eadad12d21e846">0681b66</a></td><td><code>Simplify cythonization of many Cython extensions</code></td></tr></table>




---

archive/issue_events_136005.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-24T12:15:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-136005"
}
```



---

archive/issue_events_136006.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-24T12:15:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-136006"
}
```



---

archive/issue_comments_194129.json:
```json
{
    "body": "**Changing commit** from \"[7703d9e6accea302f46d66200b0b57a5ae5a9446](https://github.com/sagemath/sagetrac-mirror/commit/7703d9e6accea302f46d66200b0b57a5ae5a9446)\" to \"[0681b66835d257628a3d2f08a8eadad12d21e846](https://github.com/sagemath/sagetrac-mirror/commit/0681b66835d257628a3d2f08a8eadad12d21e846)\".",
    "created_at": "2015-06-24T12:15:53Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194129",
    "user": "https://github.com/jdemeyer"
}
```

**Changing commit** from "[7703d9e6accea302f46d66200b0b57a5ae5a9446](https://github.com/sagemath/sagetrac-mirror/commit/7703d9e6accea302f46d66200b0b57a5ae5a9446)" to "[0681b66835d257628a3d2f08a8eadad12d21e846](https://github.com/sagemath/sagetrac-mirror/commit/0681b66835d257628a3d2f08a8eadad12d21e846)".



---

archive/issue_events_136007.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2015-07-01T12:28:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-136007"
}
```



---

archive/issue_events_136008.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2015-07-01T12:28:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-136008"
}
```



---

archive/issue_comments_194130.json:
```json
{
    "body": "**Changing reviewer** from \"Nathann Cohen\" to \"Nathann Cohen, Jean-Pierre Flori\".",
    "created_at": "2015-07-01T12:28:12Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194130",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing reviewer** from "Nathann Cohen" to "Nathann Cohen, Jean-Pierre Flori".



---

archive/issue_comments_194131.json:
```json
{
    "body": "<a id='comment:30'></a>\nSee #15412 for a very similar ticket.",
    "created_at": "2015-07-01T13:44:18Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194131",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>
See #15412 for a very similar ticket.



---

archive/issue_comments_194132.json:
```json
{
    "body": "**Changing branch** from \"[u/jdemeyer/ticket/15410](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/15410)\" to \"[0681b66835d257628a3d2f08a8eadad12d21e846](https://github.com/sagemath/sagetrac-mirror/commit/0681b66835d257628a3d2f08a8eadad12d21e846)\".",
    "created_at": "2015-07-02T20:09:22Z",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15410#issuecomment-194132",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jdemeyer/ticket/15410](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/15410)" to "[0681b66835d257628a3d2f08a8eadad12d21e846](https://github.com/sagemath/sagetrac-mirror/commit/0681b66835d257628a3d2f08a8eadad12d21e846)".



---

archive/issue_events_136009.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-02T20:09:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-136009"
}
```



---

archive/issue_events_136010.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "525be4e53cf4e7869792e7d97e7999588989656e",
    "created_at": "2015-07-02T20:09:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15410",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15410#event-136010"
}
```
