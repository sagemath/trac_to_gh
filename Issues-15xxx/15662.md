# Issue 15662: Ihara zeta function of graphs

archive/issues_015425.json:
```json
{
    "assignees": [],
    "body": "Let us implement the zeta function of graphs\n\nKeywords: **zeta function**\n\nBranch/Commit: **[public/15662](https://github.com/sagemath/sagetrac-mirror/tree/public/15662) @ [10181d9](https://github.com/sagemath/sagetrac-mirror/commit/10181d9dba18f37b031d3761bcfdcfc75bf4a8cf)**\n\nReviewer: **Nathann Cohen**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15662_\n\n",
    "closed_at": "2014-01-17T04:16:19Z",
    "created_at": "2014-01-10T21:10:58Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Ihara zeta function of graphs",
    "type": "issue",
    "updated_at": "2014-01-17T04:16:19Z",
    "url": "https://github.com/sagemath/sage/issues/15662",
    "user": "https://github.com/fchapoton"
}
```
Let us implement the zeta function of graphs

Keywords: **zeta function**

Branch/Commit: **[public/15662](https://github.com/sagemath/sagetrac-mirror/tree/public/15662) @ [10181d9](https://github.com/sagemath/sagetrac-mirror/commit/10181d9dba18f37b031d3761bcfdcfc75bf4a8cf)**

Reviewer: **Nathann Cohen**

Author: **Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/15662_





---

archive/issue_events_198652.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-01-10T21:10:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15662#event-198652"
}
```



---

archive/issue_events_198653.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-01-10T21:10:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15662#event-198653"
}
```



---

archive/issue_events_198654.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-01-10T21:10:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15662#event-198654"
}
```



---

archive/issue_events_198655.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-01-10T21:10:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15662#event-198655"
}
```



---

archive/issue_comments_199384.json:
```json
{
    "body": "Author: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2014-01-10T21:21:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199384",
    "user": "https://github.com/fchapoton"
}
```

Author: **Frédéric Chapoton**



---

archive/issue_comments_199385.json:
```json
{
    "body": "Commit: **[b2c1e31](https://github.com/sagemath/sagetrac-mirror/commit/b2c1e310c03477183cb3e793103711989955eb57)**",
    "created_at": "2014-01-10T21:21:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199385",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[b2c1e31](https://github.com/sagemath/sagetrac-mirror/commit/b2c1e310c03477183cb3e793103711989955eb57)**



---

archive/issue_events_198656.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-01-10T21:21:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15662#event-198656"
}
```



---

archive/issue_comments_199386.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2c1e310c03477183cb3e793103711989955eb57\">b2c1e31</a></td><td><code>trac #15662 implement Ihara zeta function of graphs</code></td></tr></table>\n",
    "created_at": "2014-01-10T21:21:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199386",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'>Comment 1:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2c1e310c03477183cb3e793103711989955eb57">b2c1e31</a></td><td><code>trac #15662 implement Ihara zeta function of graphs</code></td></tr></table>




---

archive/issue_comments_199387.json:
```json
{
    "body": "Branch: **[u/chapoton/15662](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/15662)**",
    "created_at": "2014-01-10T21:21:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199387",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/15662](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/15662)**



---

archive/issue_comments_199388.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nYo !\n\nWikipedia says \"a zeta function\", and you cite a paper saying that there are many zeta functions defined on graph. Why shouldn't this method be renamed to `ihara_zeta_function` instead ?\n\nBesides, I don't understand what you do with the edges of your graph : why do you inverse the first and second coordinate ? (you cannot even assume that the vertices are integers when you write code for graphs. So if you want to ensure that they are sorted in some way ....)\n\nNathann",
    "created_at": "2014-01-14T10:11:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199388",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:2'>Comment 2:</a>
Yo !

Wikipedia says "a zeta function", and you cite a paper saying that there are many zeta functions defined on graph. Why shouldn't this method be renamed to `ihara_zeta_function` instead ?

Besides, I don't understand what you do with the edges of your graph : why do you inverse the first and second coordinate ? (you cannot even assume that the vertices are integers when you write code for graphs. So if you want to ensure that they are sorted in some way ....)

Nathann



---

archive/issue_events_198657.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-14T10:12:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15662#event-198657"
}
```



---

archive/issue_events_198658.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-14T10:12:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15662#event-198658"
}
```



---

archive/issue_comments_199389.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nHello,\n\n1) I am not quite sure about the name indeed. I would say that this is usually called the zeta function of a graph. But there are variants, some of them called weighted zeta functions. I think keeping the name starting with zeta is good for TAB completion.\n\n2) The algorithm needs to duplicate every edge, by orienting the original one in a chosen direction, and the new one in the other direction. I take as orientation the one given by self.edges(). I then use the shift by the number of edges as the bijection between original edges and their duplicate-reverse.\n\n3) Some people had needed that function and used another way to do it : see http://mathoverflow.net/questions/122682/ihara-zeta-function-graph-theory-coefficients-using-a-line-graph",
    "created_at": "2014-01-14T11:12:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199389",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'>Comment 4:</a>
Hello,

1) I am not quite sure about the name indeed. I would say that this is usually called the zeta function of a graph. But there are variants, some of them called weighted zeta functions. I think keeping the name starting with zeta is good for TAB completion.

2) The algorithm needs to duplicate every edge, by orienting the original one in a chosen direction, and the new one in the other direction. I take as orientation the one given by self.edges(). I then use the shift by the number of edges as the bijection between original edges and their duplicate-reverse.

3) Some people had needed that function and used another way to do it : see http://mathoverflow.net/questions/122682/ihara-zeta-function-graph-theory-coefficients-using-a-line-graph



---

archive/issue_comments_199390.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nYoooooooooooo !\n\n> 1) I am not quite sure about the name indeed. I would say that this is usually called the zeta function of a graph. But there are variants, some of them called weighted zeta functions. I think keeping the name starting with zeta is good for TAB completion.\n\nHmmmmm... Well, if the terminology isn't even set, should it become a Graph method ? I am trying to keep my graph functions out of the graph class when I believe that their are not of very wide use.\n\nWhen you type \"zeta function graphs\" in Google (http://goo.gl/SM8aLb) the first result I get is the following :\nhttp://math.ucsd.edu/~aterras/snowbird.pdf\n\nWhich hints that there may be quite a lot of Zeta functions defined on graphs. And they do mention the one you implement, saying that it may be weighted too. What about `.zeta_ihara` if you want the name to begin with `zeta` ?\n\n> 2) The algorithm needs to duplicate every edge, by orienting the original one in a chosen direction, and the new one in the other direction.\n\nLike when you do `DiGraph(a_graph)` ?\n\n> I take as orientation the one given by self.edges(). I then use the shift by the number of edges as the bijection between original edges and their duplicate-reverse.\n\nOh. Well, I still do not understand what your two loops exactly do, but it looks like you are computing a bit too much. It feels like you are interested in the edges which share a vertex, except when they represent the same edge.\n\n...\n\nHey, aren't you just computing the adjacency matrix of the line graph, which can be obtained by `G.line_graph().adjacency_matrix()` ?\n\nNathann",
    "created_at": "2014-01-14T11:37:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199390",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'>Comment 5:</a>
Yoooooooooooo !

> 1) I am not quite sure about the name indeed. I would say that this is usually called the zeta function of a graph. But there are variants, some of them called weighted zeta functions. I think keeping the name starting with zeta is good for TAB completion.

Hmmmmm... Well, if the terminology isn't even set, should it become a Graph method ? I am trying to keep my graph functions out of the graph class when I believe that their are not of very wide use.

When you type "zeta function graphs" in Google (http://goo.gl/SM8aLb) the first result I get is the following :
http://math.ucsd.edu/~aterras/snowbird.pdf

Which hints that there may be quite a lot of Zeta functions defined on graphs. And they do mention the one you implement, saying that it may be weighted too. What about `.zeta_ihara` if you want the name to begin with `zeta` ?

> 2) The algorithm needs to duplicate every edge, by orienting the original one in a chosen direction, and the new one in the other direction.

Like when you do `DiGraph(a_graph)` ?

> I take as orientation the one given by self.edges(). I then use the shift by the number of edges as the bijection between original edges and their duplicate-reverse.

Oh. Well, I still do not understand what your two loops exactly do, but it looks like you are computing a bit too much. It feels like you are interested in the edges which share a vertex, except when they represent the same edge.

...

Hey, aren't you just computing the adjacency matrix of the line graph, which can be obtained by `G.line_graph().adjacency_matrix()` ?

Nathann



---

archive/issue_comments_199391.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nOkay I read the Mathoverflow thread a bit, and I think that the shortest way for you is to do this :\n\n```\nlabeled_g = Graph()\nlabeled_g.add_edges([(u,v,i) for i,(u,v) in enumerate(g.edges(labels=False))]) # faster than giving the edges when the graph is being built. Don't ask.\nfor v in labeled_g:\n    for vv,u,i in labeled_g.edges_incident(v):\n        if v != vv: raise RuntimeError(\"Should Not Happen\")\n        # do what you have to, now that you know the labels of your edges.\n```",
    "created_at": "2014-01-14T12:22:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199391",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:6'>Comment 6:</a>
Okay I read the Mathoverflow thread a bit, and I think that the shortest way for you is to do this :

```
labeled_g = Graph()
labeled_g.add_edges([(u,v,i) for i,(u,v) in enumerate(g.edges(labels=False))]) # faster than giving the edges when the graph is being built. Don't ask.
for v in labeled_g:
    for vv,u,i in labeled_g.edges_incident(v):
        if v != vv: raise RuntimeError("Should Not Happen")
        # do what you have to, now that you know the labels of your edges.
```



---

archive/issue_comments_199392.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55235f6a0d30333d2704303fbbeee7f8679114ec\">55235f6</a></td><td><code>trac #15662 better algo and better doc</code></td></tr></table>\n",
    "created_at": "2014-01-14T17:20:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199392",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:7'>Comment 7:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55235f6a0d30333d2704303fbbeee7f8679114ec">55235f6</a></td><td><code>trac #15662 better algo and better doc</code></td></tr></table>




---

archive/issue_comments_199393.json:
```json
{
    "body": "Changed commit from **[b2c1e31](https://github.com/sagemath/sagetrac-mirror/commit/b2c1e310c03477183cb3e793103711989955eb57)** to **[55235f6](https://github.com/sagemath/sagetrac-mirror/commit/55235f6a0d30333d2704303fbbeee7f8679114ec)**",
    "created_at": "2014-01-14T17:20:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199393",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b2c1e31](https://github.com/sagemath/sagetrac-mirror/commit/b2c1e310c03477183cb3e793103711989955eb57)** to **[55235f6](https://github.com/sagemath/sagetrac-mirror/commit/55235f6a0d30333d2704303fbbeee7f8679114ec)**



---

archive/issue_comments_199394.json:
```json
{
    "body": "Changed branch from **[u/chapoton/15662](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/15662)** to **[public/15662](https://github.com/sagemath/sagetrac-mirror/tree/public/15662)**",
    "created_at": "2014-01-14T18:41:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199394",
    "user": "https://github.com/nathanncohen"
}
```

Changed branch from **[u/chapoton/15662](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/15662)** to **[public/15662](https://github.com/sagemath/sagetrac-mirror/tree/public/15662)**



---

archive/issue_comments_199395.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nHelloooooooo Frederic !\n\nThank you for this patch. I personally find it clearer, and at least it should be faster. I also added a small commit to this patch (sorry, I just cannot not remove a 'if' when I see a way `:-P`).\n\nI still have a few questions : is it really the *inverse* of the Ihara function (as the documentation claims) or is that a mistake ?\n- If it is can you fix it in the docstring and in the function index at the top of the file\n- If not, shouldn't it appear in the function's name too ?\n\nI cannot check from the Wikipedia page that the polynomial you implemented is indeed what it should be. Of course this is mainly because I don't get a word of what this polynomial represents, but I would like to check the correction anyway `^^;`\nCould you help me a bit with that ? `:-P`\n\nThaaaaaaaaanks !\n\nNathann",
    "created_at": "2014-01-14T18:41:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199395",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'>Comment 8:</a>
Helloooooooo Frederic !

Thank you for this patch. I personally find it clearer, and at least it should be faster. I also added a small commit to this patch (sorry, I just cannot not remove a 'if' when I see a way `:-P`).

I still have a few questions : is it really the *inverse* of the Ihara function (as the documentation claims) or is that a mistake ?
- If it is can you fix it in the docstring and in the function index at the top of the file
- If not, shouldn't it appear in the function's name too ?

I cannot check from the Wikipedia page that the polynomial you implemented is indeed what it should be. Of course this is mainly because I don't get a word of what this polynomial represents, but I would like to check the correction anyway `^^;`
Could you help me a bit with that ? `:-P`

Thaaaaaaaaanks !

Nathann



---

archive/issue_comments_199396.json:
```json
{
    "body": "Changed commit from **[55235f6](https://github.com/sagemath/sagetrac-mirror/commit/55235f6a0d30333d2704303fbbeee7f8679114ec)** to none",
    "created_at": "2014-01-14T18:41:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199396",
    "user": "https://github.com/nathanncohen"
}
```

Changed commit from **[55235f6](https://github.com/sagemath/sagetrac-mirror/commit/55235f6a0d30333d2704303fbbeee7f8679114ec)** to none



---

archive/issue_events_198659.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-14T18:41:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15662#event-198659"
}
```



---

archive/issue_events_198660.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-14T18:41:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15662#event-198660"
}
```



---

archive/issue_comments_199397.json:
```json
{
    "body": "Commit: **[232c482](https://github.com/sagemath/sagetrac-mirror/commit/232c4824582e31b896a820778b94ae334276129d)**",
    "created_at": "2014-01-14T18:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199397",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[232c482](https://github.com/sagemath/sagetrac-mirror/commit/232c4824582e31b896a820778b94ae334276129d)**



---

archive/issue_comments_199398.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2c1e310c03477183cb3e793103711989955eb57\">b2c1e31</a></td><td><code>trac #15662 implement Ihara zeta function of graphs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55235f6a0d30333d2704303fbbeee7f8679114ec\">55235f6</a></td><td><code>trac #15662 better algo and better doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/232c4824582e31b896a820778b94ae334276129d\">232c482</a></td><td><code>trac #15662: Removing a 'if' in the algorithm</code></td></tr></table>\n",
    "created_at": "2014-01-14T18:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199398",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2c1e310c03477183cb3e793103711989955eb57">b2c1e31</a></td><td><code>trac #15662 implement Ihara zeta function of graphs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55235f6a0d30333d2704303fbbeee7f8679114ec">55235f6</a></td><td><code>trac #15662 better algo and better doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/232c4824582e31b896a820778b94ae334276129d">232c482</a></td><td><code>trac #15662: Removing a 'if' in the algorithm</code></td></tr></table>




---

archive/issue_comments_199399.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/403fd968aefe0eaf3b9e72f4ec79ba8ac7d9aad5\">403fd96</a></td><td><code>trac #15662 added more doc and changed name again</code></td></tr></table>\n",
    "created_at": "2014-01-14T19:24:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199399",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/403fd968aefe0eaf3b9e72f4ec79ba8ac7d9aad5">403fd96</a></td><td><code>trac #15662 added more doc and changed name again</code></td></tr></table>




---

archive/issue_comments_199400.json:
```json
{
    "body": "Changed commit from **[232c482](https://github.com/sagemath/sagetrac-mirror/commit/232c4824582e31b896a820778b94ae334276129d)** to **[403fd96](https://github.com/sagemath/sagetrac-mirror/commit/403fd968aefe0eaf3b9e72f4ec79ba8ac7d9aad5)**",
    "created_at": "2014-01-14T19:24:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199400",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[232c482](https://github.com/sagemath/sagetrac-mirror/commit/232c4824582e31b896a820778b94ae334276129d)** to **[403fd96](https://github.com/sagemath/sagetrac-mirror/commit/403fd968aefe0eaf3b9e72f4ec79ba8ac7d9aad5)**



---

archive/issue_comments_199401.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nHello Nathann,\n\nthanks for your interest and your help.\n\nI have added to the doc one more reference where you can find the exact definition I am using.\n\nYou can also look at slide 9/10 in http://math.ucsd.edu/~aterras/ihara%20zeta%20and%20QC.pdf for the definition in short\n\nYou can also find examples of values in there : http://www.ams.org/journals/bull/2014-51-01/S0273-0979-2013-01426-5/S0273-0979-2013-01426-5.pdf",
    "created_at": "2014-01-14T19:27:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199401",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'>Comment 11:</a>
Hello Nathann,

thanks for your interest and your help.

I have added to the doc one more reference where you can find the exact definition I am using.

You can also look at slide 9/10 in http://math.ucsd.edu/~aterras/ihara%20zeta%20and%20QC.pdf for the definition in short

You can also find examples of values in there : http://www.ams.org/journals/bull/2014-51-01/S0273-0979-2013-01426-5/S0273-0979-2013-01426-5.pdf



---

archive/issue_comments_199402.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nHelloooooooooo !!\n\nThanks for this pointer toward the definition we use ! I tried to compare what \u200bhttp://www.ams.org/journals/bull/2014-51-01/S0273-0979-2013-01426-5/S0273-0979-2013-01426-5.pdf gets for K_4 and it looks like what Sage's implementation gives is not the same ?...  (we have a `(t + 1)^2 * (t - 1)^3`,they do not).\n\nNathann",
    "created_at": "2014-01-15T09:20:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199402",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'>Comment 12:</a>
Helloooooooooo !!

Thanks for this pointer toward the definition we use ! I tried to compare what ​http://www.ams.org/journals/bull/2014-51-01/S0273-0979-2013-01426-5/S0273-0979-2013-01426-5.pdf gets for K_4 and it looks like what Sage's implementation gives is not the same ?...  (we have a `(t + 1)^2 * (t - 1)^3`,they do not).

Nathann



---

archive/issue_comments_199403.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nMaybe just a matter of factorisation ? They do not give a fully factorised form, but some ad-hoc hand-made factorisation.",
    "created_at": "2014-01-15T10:36:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199403",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'>Comment 13:</a>
Maybe just a matter of factorisation ? They do not give a fully factorised form, but some ad-hoc hand-made factorisation.



---

archive/issue_comments_199404.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\n> Maybe just a matter of factorisation ? They do not give a fully factorised form, but some ad-hoc hand-made factorisation.\n\nThey are different.\n\n```\nsage: g = graphs.CompleteGraph(4)             \nsage: p1 = g.ihara_zeta_function()            \nsage: ring = PolynomialRing(ZZ, 't')\nsage: g = graphs.CompleteGraph(4)   \nsage: ring = PolynomialRing(ZZ, 't')\nsage: t = ring.gen()\nsage: p1 = g.ihara_zeta_function()  \nsage: p2 = (1-t^2)*(1-t)*(1-2*t)*(1+t+2*t^2)^3\nsage: p1 == p2\nFalse\n```",
    "created_at": "2014-01-15T10:41:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199404",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'>Comment 14:</a>
> Maybe just a matter of factorisation ? They do not give a fully factorised form, but some ad-hoc hand-made factorisation.

They are different.

```
sage: g = graphs.CompleteGraph(4)             
sage: p1 = g.ihara_zeta_function()            
sage: ring = PolynomialRing(ZZ, 't')
sage: g = graphs.CompleteGraph(4)   
sage: ring = PolynomialRing(ZZ, 't')
sage: t = ring.gen()
sage: p1 = g.ihara_zeta_function()  
sage: p2 = (1-t^2)*(1-t)*(1-2*t)*(1+t+2*t^2)^3
sage: p1 == p2
False
```



---

archive/issue_comments_199405.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nTheir answer does not have the right degree. Maybe a typo in the article ?\n\nFor K5, there is a value in http://math.ucsd.edu/~aterras/snowbird.pdf, which also does not agree with ours (just missing a power in some factor), and also does not have the right degree. Another typo ?\n\nEither we are wrong or we need to find a more serious place to look for the correct values.",
    "created_at": "2014-01-15T11:06:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199405",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:15'>Comment 15:</a>
Their answer does not have the right degree. Maybe a typo in the article ?

For K5, there is a value in http://math.ucsd.edu/~aterras/snowbird.pdf, which also does not agree with ours (just missing a power in some factor), and also does not have the right degree. Another typo ?

Either we are wrong or we need to find a more serious place to look for the correct values.



---

archive/issue_comments_199406.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nYooooooooo !\n\n> Their answer does not have the right degree. Maybe a typo in the article ?\n\nNoooooooo idea `O_o`\n\n> For K5, there is a value in http://math.ucsd.edu/~aterras/snowbird.pdf, which also does not agree with ours (just missing a power in some factor), and also does not have the right degree. Another typo ?\n> \n> Either we are wrong or we need to find a more serious place to look for the correct values.\n\nHmmm... May be worth sending them an email to ask. They may like to learn that this is being implemented somewhere by the way `;-)`\n\nNathann",
    "created_at": "2014-01-15T11:08:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199406",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:16'>Comment 16:</a>
Yooooooooo !

> Their answer does not have the right degree. Maybe a typo in the article ?

Noooooooo idea `O_o`

> For K5, there is a value in http://math.ucsd.edu/~aterras/snowbird.pdf, which also does not agree with ours (just missing a power in some factor), and also does not have the right degree. Another typo ?
> 
> Either we are wrong or we need to find a more serious place to look for the correct values.

Hmmm... May be worth sending them an email to ask. They may like to learn that this is being implemented somewhere by the way `;-)`

Nathann



---

archive/issue_comments_199407.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nSorry, I guess my argument about the degree is wrong.. It is not necessarily twice the number of edges..",
    "created_at": "2014-01-15T11:10:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199407",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'>Comment 17:</a>
Sorry, I guess my argument about the degree is wrong.. It is not necessarily twice the number of edges..



---

archive/issue_comments_199408.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nyou forgot the power of `(1-t^2)` when checking the K4 result in the Bull. AMS paper:\n\n```\nsage: g=graphs.CompleteGraph(4)\nsage: p1=g.ihara_zeta_function()\nsage: p2=(1-t^2)**2*(1-t)*(1-2*t)*(1+t+2*t^2)^3\nsage: p1==p2\nTrue\n```",
    "created_at": "2014-01-15T11:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199408",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'>Comment 18:</a>
you forgot the power of `(1-t^2)` when checking the K4 result in the Bull. AMS paper:

```
sage: g=graphs.CompleteGraph(4)
sage: p1=g.ihara_zeta_function()
sage: p2=(1-t^2)**2*(1-t)*(1-2*t)*(1+t+2*t^2)^3
sage: p1==p2
True
```



---

archive/issue_comments_199409.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nOh. Sorry `O_o`\n\nI am trying to load the paper again but the ams's website is in a bad mood. Does the value for K_5 coincide with the snowbird paper too ? If so we just need to update the one-line description of the method in graph.py (which does not match the one in the function's docstring) and the patch can go !\n\nNathann",
    "created_at": "2014-01-15T11:23:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199409",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:19'>Comment 19:</a>
Oh. Sorry `O_o`

I am trying to load the paper again but the ams's website is in a bad mood. Does the value for K_5 coincide with the snowbird paper too ? If so we just need to update the one-line description of the method in graph.py (which does not match the one in the function's docstring) and the patch can go !

Nathann



---

archive/issue_comments_199410.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nNathann, it seems that you have not pulled the latest version (done yesterday evening) which corrects the names and minor details !\n\nI really think that the results are correct. The only discrepancy with all the results in the literature is in the case of K5, where several people seems to have copy-pasted the same result. This could very-well be wrong everywhere.",
    "created_at": "2014-01-15T13:35:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199410",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:20'>Comment 20:</a>
Nathann, it seems that you have not pulled the latest version (done yesterday evening) which corrects the names and minor details !

I really think that the results are correct. The only discrepancy with all the results in the literature is in the case of K5, where several people seems to have copy-pasted the same result. This could very-well be wrong everywhere.



---

archive/issue_comments_199411.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nYoooooooo !\n\n> Nathann, it seems that you have not pulled the latest version (done yesterday evening) which corrects the names and minor details !\n\n`T_T`\n\nSorry again. I had noted somewhere in my head that this had to be done, and forgot that you had changed the name of the function since. Sorry for this second wrong information `:-P`\n\n> I really think that the results are correct. The only discrepancy with all the results in the literature is in the case of K5, where several people seems to have copy-pasted the same result. This could very-well be wrong everywhere.\n\nOkayokay. Positive review then. What would you think of sending an email to those guys to ask them what they think of it ? It's good to let them know this is available somewhere, and can either let us fix a bug here or let them fix a bug in their paper.\n\nThanks for this patch ! Sorry for the long review and errors `^^;`\n\nNathann",
    "created_at": "2014-01-15T13:39:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199411",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:21'>Comment 21:</a>
Yoooooooo !

> Nathann, it seems that you have not pulled the latest version (done yesterday evening) which corrects the names and minor details !

`T_T`

Sorry again. I had noted somewhere in my head that this had to be done, and forgot that you had changed the name of the function since. Sorry for this second wrong information `:-P`

> I really think that the results are correct. The only discrepancy with all the results in the literature is in the case of K5, where several people seems to have copy-pasted the same result. This could very-well be wrong everywhere.

Okayokay. Positive review then. What would you think of sending an email to those guys to ask them what they think of it ? It's good to let them know this is available somewhere, and can either let us fix a bug here or let them fix a bug in their paper.

Thanks for this patch ! Sorry for the long review and errors `^^;`

Nathann



---

archive/issue_comments_199412.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2014-01-15T13:39:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199412",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_events_198661.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-15T13:39:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15662#event-198661"
}
```



---

archive/issue_events_198662.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-15T13:39:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15662#event-198662"
}
```



---

archive/issue_comments_199413.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nThanks for the review !",
    "created_at": "2014-01-15T14:29:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199413",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:22'>Comment 22:</a>
Thanks for the review !



---

archive/issue_comments_199414.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nMerge conflict... please merge in 6.1.beta5 & resolve.",
    "created_at": "2014-01-16T05:32:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199414",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:23'>Comment 23:</a>
Merge conflict... please merge in 6.1.beta5 & resolve.



---

archive/issue_comments_199415.json:
```json
{
    "body": "Changed commit from **[403fd96](https://github.com/sagemath/sagetrac-mirror/commit/403fd968aefe0eaf3b9e72f4ec79ba8ac7d9aad5)** to **[10181d9](https://github.com/sagemath/sagetrac-mirror/commit/10181d9dba18f37b031d3761bcfdcfc75bf4a8cf)**",
    "created_at": "2014-01-16T08:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199415",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[403fd96](https://github.com/sagemath/sagetrac-mirror/commit/403fd968aefe0eaf3b9e72f4ec79ba8ac7d9aad5)** to **[10181d9](https://github.com/sagemath/sagetrac-mirror/commit/10181d9dba18f37b031d3761bcfdcfc75bf4a8cf)**



---

archive/issue_comments_199416.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10181d9dba18f37b031d3761bcfdcfc75bf4a8cf\">10181d9</a></td><td><code>trac #15662: Rebase on 6.1.beta5</code></td></tr></table>\n",
    "created_at": "2014-01-16T08:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199416",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:24'>Comment 24:</a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10181d9dba18f37b031d3761bcfdcfc75bf4a8cf">10181d9</a></td><td><code>trac #15662: Rebase on 6.1.beta5</code></td></tr></table>




---

archive/issue_events_198663.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2014-01-16T08:27:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15662#event-198663"
}
```



---

archive/issue_events_198664.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2014-01-16T08:27:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15662#event-198664"
}
```



---

archive/issue_events_198665.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-16T08:27:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15662#event-198665"
}
```



---

archive/issue_events_198666.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-16T08:27:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15662#event-198666"
}
```



---

archive/issue_comments_199417.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nDone. It conflicted with `kirchhoff_symanzik_polynomial`.\n\nNathann",
    "created_at": "2014-01-16T08:27:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15662#issuecomment-199417",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:25'>Comment 25:</a>
Done. It conflicted with `kirchhoff_symanzik_polynomial`.

Nathann



---

archive/issue_events_198667.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-01-17T04:16:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15662#event-198667"
}
```



---

archive/issue_events_198668.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "49117498682782bf6843527d79fbfa9cb61c40ee",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-01-17T04:16:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15662",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15662#event-198668"
}
```
