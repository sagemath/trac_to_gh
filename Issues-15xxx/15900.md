# Issue 15900: Move local/share/texmf/tex/generic/sagetex to local/share/texmf/tex/latex/sagetex

archive/issues_015663.json:
```json
{
    "assignees": [],
    "body": "The TeX directory structure (TDS) reserves \"generic\" for macro files that do \"not rely on any particular format\" (cf. `http://tug.org/tds/tds.html#Macros`). This does certainly not apply to sagetex, which is clearly a latex package. Therefore, `local/share/texmf/tex/generic/sagetex` should be moved to `local/share/texmf/tex/latex/sagetex` and the documentation should be adapted to reflect this fact.\n\nApart from violating the TDS, this is also annoying: on my system, a prepackaged version of sagetex.sty comes with the package texlive-latex-extra (version 2009-10ubuntu1). While outdated, it is installed in a TDS compliant location (`/usr/share/texmf-texlive/tex/latex/sagetex/sagetex.sty`).\n\nThe standard search path for `_latex_` is (removed non-pertinent items and\ninserted line breaks as separators)\n\n```\n$kpsepath -n latex tex |tr ':' '\\n'\n  .\n  /home/[...]/texmf/tex/latex//\n  !!/usr/local/share/texmf/tex/latex//\n  !!/usr/share/texmf/tex/latex//\n  /home/[...]/texmf/tex/generic//\n  !!/usr/share/texmf/tex/generic//\n```\n\nwhich means that the systems version of sagetex.sty is given\nprecedence over that in my homedirectory resulting from\n`cp -R SAGE_ROOT/local/share/texmf/tex TEXMFHOME`\nas recommended by\n`http://www.sagemath.org/doc/installation/sagetex.html`\n\nI'd like to push a git branch correcting the problem, but sagetex seems to be developed outside the sage git respository?\n\nCC:  @dkrenn @dandrake\n\nKeywords: **sagetex, directory structure**\n\nBranch/Commit: **[c965348](https://github.com/sagemath/sagetrac-mirror/commit/c965348bfd957f3a7e4062006d10b85698d81dcb)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Paul Masson**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15900_\n\n",
    "closed_at": "2017-03-10T23:12:47Z",
    "created_at": "2014-03-06T15:05:12Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20user%20interface",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Move local/share/texmf/tex/generic/sagetex to local/share/texmf/tex/latex/sagetex",
    "type": "issue",
    "updated_at": "2017-03-10T23:12:47Z",
    "url": "https://github.com/sagemath/sage/issues/15900",
    "user": "https://github.com/cheuberg"
}
```
The TeX directory structure (TDS) reserves "generic" for macro files that do "not rely on any particular format" (cf. `http://tug.org/tds/tds.html#Macros`). This does certainly not apply to sagetex, which is clearly a latex package. Therefore, `local/share/texmf/tex/generic/sagetex` should be moved to `local/share/texmf/tex/latex/sagetex` and the documentation should be adapted to reflect this fact.

Apart from violating the TDS, this is also annoying: on my system, a prepackaged version of sagetex.sty comes with the package texlive-latex-extra (version 2009-10ubuntu1). While outdated, it is installed in a TDS compliant location (`/usr/share/texmf-texlive/tex/latex/sagetex/sagetex.sty`).

The standard search path for `_latex_` is (removed non-pertinent items and
inserted line breaks as separators)

```
$kpsepath -n latex tex |tr ':' '\n'
  .
  /home/[...]/texmf/tex/latex//
  !!/usr/local/share/texmf/tex/latex//
  !!/usr/share/texmf/tex/latex//
  /home/[...]/texmf/tex/generic//
  !!/usr/share/texmf/tex/generic//
```

which means that the systems version of sagetex.sty is given
precedence over that in my homedirectory resulting from
`cp -R SAGE_ROOT/local/share/texmf/tex TEXMFHOME`
as recommended by
`http://www.sagemath.org/doc/installation/sagetex.html`

I'd like to push a git branch correcting the problem, but sagetex seems to be developed outside the sage git respository?

CC:  @dkrenn @dandrake

Keywords: **sagetex, directory structure**

Branch/Commit: **[c965348](https://github.com/sagemath/sagetrac-mirror/commit/c965348bfd957f3a7e4062006d10b85698d81dcb)**

Reviewer: **Frédéric Chapoton**

Author: **Paul Masson**

_Issue created by migration from https://trac.sagemath.org/ticket/15900_





---

archive/issue_events_209490.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2014-03-06T15:05:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15900#event-209490"
}
```



---

archive/issue_events_209491.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2014-03-06T15:05:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20user%20interface",
    "label_color": "000080",
    "label_name": "component: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15900#event-209491"
}
```



---

archive/issue_events_209492.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2014-03-06T15:05:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15900#event-209492"
}
```



---

archive/issue_events_209493.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2014-03-06T15:05:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15900#event-209493"
}
```



---

archive/issue_comments_203884.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\n[Here is the web page for sagetex](https://bitbucket.org/ddrake/sagetex). You could submit a pull request there, and meanwhile fix whatever needs fixing in the Sage library. (Maybe the Sage tutorial is the only place that needs modification? Edit: and the installation guide.)\n\ncc'ing ddrake, who wrote and maintains sagetex.",
    "created_at": "2014-03-06T17:55:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15900#issuecomment-203884",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:2" align="right">Comment 2</div>

[Here is the web page for sagetex](https://bitbucket.org/ddrake/sagetex). You could submit a pull request there, and meanwhile fix whatever needs fixing in the Sage library. (Maybe the Sage tutorial is the only place that needs modification? Edit: and the installation guide.)

cc'ing ddrake, who wrote and maintains sagetex.



---

archive/issue_comments_203885.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nThis'll be easy to fix.\n\nTwo other notes...first, please try to update your TeX distribution! The sagetex.sty in the 2009 distribution has caused no end of trouble. It's necessary to keep the LaTeX and Python sides of SageTeX synchronized. Second, I guess I should move SageTeX over to github, since that's what all the cool kids are using.",
    "created_at": "2014-03-07T14:19:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15900#issuecomment-203885",
    "user": "https://github.com/dandrake"
}
```

<div id="comment:3" align="right">Comment 3</div>

This'll be easy to fix.

Two other notes...first, please try to update your TeX distribution! The sagetex.sty in the 2009 distribution has caused no end of trouble. It's necessary to keep the LaTeX and Python sides of SageTeX synchronized. Second, I guess I should move SageTeX over to github, since that's what all the cool kids are using.



---

archive/issue_comments_203886.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nOkay, I've made the fix and pushed it to bitbucket. If someone else wants to make a spkg, that's fine with me -- I'm busy this week and won't be able to work on it until next week.",
    "created_at": "2014-03-10T13:34:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15900#issuecomment-203886",
    "user": "https://github.com/dandrake"
}
```

<div id="comment:4" align="right">Comment 4</div>

Okay, I've made the fix and pushed it to bitbucket. If someone else wants to make a spkg, that's fine with me -- I'm busy this week and won't be able to work on it until next week.



---

archive/issue_comments_203887.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nReplying to [@dandrake](#comment%3A3):\n> It's necessary to keep the LaTeX and Python sides of SageTeX synchronized. Second, I guess I should move SageTeX over to github, since that's what all the cool kids are using.\n\nIt would be really nice to see sagetex fully inside the sage repository (so also on trac, which is IMHO mirrored on github).",
    "created_at": "2014-03-13T15:41:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15900#issuecomment-203887",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:5" align="right">Comment 5</div>

Replying to [@dandrake](#comment%3A3):
> It's necessary to keep the LaTeX and Python sides of SageTeX synchronized. Second, I guess I should move SageTeX over to github, since that's what all the cool kids are using.

It would be really nice to see sagetex fully inside the sage repository (so also on trac, which is IMHO mirrored on github).



---

archive/issue_events_209494.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15900#event-209494"
}
```



---

archive/issue_events_209495.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15900#event-209495"
}
```



---

archive/issue_events_209496.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15900#event-209496"
}
```



---

archive/issue_events_209497.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15900#event-209497"
}
```



---

archive/issue_comments_203888.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,8 +17,8 @@\n \n which means that the systems version of sagetex.sty is given\n precedence over that in my homedirectory resulting from\n-\t`cp -R SAGE_ROOT/local/share/texmf/tex TEXMFHOME`\n+`cp -R SAGE_ROOT/local/share/texmf/tex TEXMFHOME`\n as recommended by\n-\t`http://www.sagemath.org/doc/installation/sagetex.html`\n+`http://www.sagemath.org/doc/installation/sagetex.html`\n \n I'd like to push a git branch correcting the problem, but sagetex seems to be developed outside the sage git respository?\n``````\n",
    "created_at": "2015-09-06T13:10:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15900#issuecomment-203888",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,8 +17,8 @@
 
 which means that the systems version of sagetex.sty is given
 precedence over that in my homedirectory resulting from
-	`cp -R SAGE_ROOT/local/share/texmf/tex TEXMFHOME`
+`cp -R SAGE_ROOT/local/share/texmf/tex TEXMFHOME`
 as recommended by
-	`http://www.sagemath.org/doc/installation/sagetex.html`
+`http://www.sagemath.org/doc/installation/sagetex.html`
 
 I'd like to push a git branch correcting the problem, but sagetex seems to be developed outside the sage git respository?
``````




---

archive/issue_comments_203889.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nSee #22499 which might make this easier, as per [comment:5](#comment%3A5).",
    "created_at": "2017-03-02T18:27:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15900#issuecomment-203889",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:9" align="right">Comment 9</div>

See #22499 which might make this easier, as per [comment:5](#comment%3A5).



---

archive/issue_comments_203890.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nThis was fixed some time ago upstream and integrated into Sage. As of at least 7.6.beta5 the directory correctly reads \"latex\" instead of \"generic\".\n\nPushing a branch to update the documentation where needed.",
    "created_at": "2017-03-03T03:23:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15900#issuecomment-203890",
    "user": "https://github.com/paulmasson"
}
```

<div id="comment:10" align="right">Comment 10</div>

This was fixed some time ago upstream and integrated into Sage. As of at least 7.6.beta5 the directory correctly reads "latex" instead of "generic".

Pushing a branch to update the documentation where needed.



---

archive/issue_comments_203891.json:
```json
{
    "body": "Branch: **[u/paulmasson/15900](https://github.com/sagemath/sagetrac-mirror/tree/u/paulmasson/15900)**",
    "created_at": "2017-03-03T03:24:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15900#issuecomment-203891",
    "user": "https://github.com/paulmasson"
}
```

Branch: **[u/paulmasson/15900](https://github.com/sagemath/sagetrac-mirror/tree/u/paulmasson/15900)**



---

archive/issue_events_209498.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2017-03-03T03:24:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15900#event-209498"
}
```



---

archive/issue_events_209499.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2017-03-03T03:24:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "milestone_number": null,
    "milestone_title": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15900#event-209499"
}
```



---

archive/issue_comments_203892.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c965348bfd957f3a7e4062006d10b85698d81dcb\">c965348</a></td><td><code>Update sagetex location</code></td></tr></table>\n",
    "created_at": "2017-03-03T03:24:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15900#issuecomment-203892",
    "user": "https://github.com/paulmasson"
}
```

<div id="comment:12" align="right">Comment 12</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c965348bfd957f3a7e4062006d10b85698d81dcb">c965348</a></td><td><code>Update sagetex location</code></td></tr></table>




---

archive/issue_comments_203893.json:
```json
{
    "body": "Commit: **[c965348](https://github.com/sagemath/sagetrac-mirror/commit/c965348bfd957f3a7e4062006d10b85698d81dcb)**",
    "created_at": "2017-03-03T03:24:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15900#issuecomment-203893",
    "user": "https://github.com/paulmasson"
}
```

Commit: **[c965348](https://github.com/sagemath/sagetrac-mirror/commit/c965348bfd957f3a7e4062006d10b85698d81dcb)**



---

archive/issue_events_209500.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2017-03-03T03:24:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15900#event-209500"
}
```



---

archive/issue_comments_203894.json:
```json
{
    "body": "Author: **Paul Masson**",
    "created_at": "2017-03-03T03:25:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15900#issuecomment-203894",
    "user": "https://github.com/paulmasson"
}
```

Author: **Paul Masson**



---

archive/issue_comments_203895.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nlgtm",
    "created_at": "2017-03-08T13:46:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15900#issuecomment-203895",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:14" align="right">Comment 14</div>

lgtm



---

archive/issue_events_209501.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-03-08T13:46:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15900#event-209501"
}
```



---

archive/issue_events_209502.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-03-08T13:46:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15900#event-209502"
}
```



---

archive/issue_comments_203896.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2017-03-08T13:46:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15900#issuecomment-203896",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_events_209503.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-03-10T23:12:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15900#event-209503"
}
```



---

archive/issue_events_209504.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6c94abe47e0697d9c20606af8e9b4652368a81da",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-03-10T23:12:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15900#event-209504"
}
```



---

archive/issue_comments_203897.json:
```json
{
    "body": "Changed branch from **[u/paulmasson/15900](https://github.com/sagemath/sagetrac-mirror/tree/u/paulmasson/15900)** to **[c965348](https://github.com/sagemath/sagetrac-mirror/commit/c965348bfd957f3a7e4062006d10b85698d81dcb)**",
    "created_at": "2017-03-10T23:12:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15900#issuecomment-203897",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/paulmasson/15900](https://github.com/sagemath/sagetrac-mirror/tree/u/paulmasson/15900)** to **[c965348](https://github.com/sagemath/sagetrac-mirror/commit/c965348bfd957f3a7e4062006d10b85698d81dcb)**
