# Issue 15642: Use mirrors for tarballs

archive/issues_015405.json:
```json
{
    "assignees": [],
    "body": "This ticket rewrites the `sage-download-file` script in pure Python. It is, first of all, a drop-in replacement of the current script. But it is now also aware of our tarballs, so you can just write e.g.\n\n```\nsage-download-file sympy-0.7.4.tar.gz\n```\nand it will download that tarball from the fastest mirror and verify its checksum.\n\nCC:  @ohanar @sagetrac-tmonteil @haraldschilly\n\nBranch/Commit: **[d79364b](https://github.com/sagemath/sagetrac-mirror/commit/d79364b9fc5131199eaed14340582715f2f937fb)**\n\nReviewer: **Volker Braun**\n\nAuthor: **Volker Braun**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15642_\n\n",
    "closed_at": "2015-05-13T20:11:27Z",
    "created_at": "2014-01-07T08:44:19Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Use mirrors for tarballs",
    "type": "issue",
    "updated_at": "2015-05-13T20:11:27Z",
    "url": "https://github.com/sagemath/sage/issues/15642",
    "user": "https://github.com/vbraun"
}
```
This ticket rewrites the `sage-download-file` script in pure Python. It is, first of all, a drop-in replacement of the current script. But it is now also aware of our tarballs, so you can just write e.g.

```
sage-download-file sympy-0.7.4.tar.gz
```
and it will download that tarball from the fastest mirror and verify its checksum.

CC:  @ohanar @sagetrac-tmonteil @haraldschilly

Branch/Commit: **[d79364b](https://github.com/sagemath/sagetrac-mirror/commit/d79364b9fc5131199eaed14340582715f2f937fb)**

Reviewer: **Volker Braun**

Author: **Volker Braun**

_Issue created by migration from https://trac.sagemath.org/ticket/15642_





---

archive/issue_events_205680.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-01-07T08:44:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205680"
}
```



---

archive/issue_events_205681.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-01-07T08:44:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205681"
}
```



---

archive/issue_comments_199036.json:
```json
{
    "body": "Branch: **[u/vbraun/use_mirrors_for_tarballs](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/use_mirrors_for_tarballs)**",
    "created_at": "2014-01-11T21:52:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199036",
    "user": "https://github.com/vbraun"
}
```

Branch: **[u/vbraun/use_mirrors_for_tarballs](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/use_mirrors_for_tarballs)**



---

archive/issue_comments_199037.json:
```json
{
    "body": "Commit: **[dd4abcb](https://github.com/sagemath/sagetrac-mirror/commit/dd4abcb7757c17e5a7bae9cf347c9d34e154503d)**",
    "created_at": "2014-01-13T06:14:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199037",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[dd4abcb](https://github.com/sagemath/sagetrac-mirror/commit/dd4abcb7757c17e5a7bae9cf347c9d34e154503d)**



---

archive/issue_comments_199038.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39679681f304dcdf6df195fbc71254cebd395444\">3967968</a></td><td><code>Merge tag '6.1.beta4' into 'u/vbraun/use_mirrors_for_tarballs'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd4abcb7757c17e5a7bae9cf347c9d34e154503d\">dd4abcb</a></td><td><code>py3 fix, also try testing packages</code></td></tr></table>\n",
    "created_at": "2014-01-13T06:14:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199038",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2" align="right">Comment 2</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39679681f304dcdf6df195fbc71254cebd395444">3967968</a></td><td><code>Merge tag '6.1.beta4' into 'u/vbraun/use_mirrors_for_tarballs'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd4abcb7757c17e5a7bae9cf347c9d34e154503d">dd4abcb</a></td><td><code>py3 fix, also try testing packages</code></td></tr></table>




---

archive/issue_events_205682.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-01-13T06:15:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205682"
}
```



---

archive/issue_events_205683.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-01-13T06:15:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205683"
}
```



---

archive/issue_events_205684.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-01-13T06:15:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205684"
}
```



---

archive/issue_comments_199039.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,6 @@\n+This ticket rewrites the `sage-download-file` script in pure Python. It is, first of all, a drop-in replacement of the current script. But it is now also aware of our tarballs, so you can just write e.g.\n \n+```\n+sage-download-file sympy-0.7.4.tar.gz\n+```\n+and it will download that tarball from the fastest mirror and verify its checksum.\n``````\n",
    "created_at": "2014-01-13T06:19:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199039",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,6 @@
+This ticket rewrites the `sage-download-file` script in pure Python. It is, first of all, a drop-in replacement of the current script. But it is now also aware of our tarballs, so you can just write e.g.
 
+```
+sage-download-file sympy-0.7.4.tar.gz
+```
+and it will download that tarball from the fastest mirror and verify its checksum.
``````




---

archive/issue_comments_199040.json:
```json
{
    "body": "Changed commit from **[dd4abcb](https://github.com/sagemath/sagetrac-mirror/commit/dd4abcb7757c17e5a7bae9cf347c9d34e154503d)** to **[b1ef0b6](https://github.com/sagemath/sagetrac-mirror/commit/b1ef0b663cff6fdbcb2ae9cefad7d72c14605b49)**",
    "created_at": "2014-01-13T19:17:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199040",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dd4abcb](https://github.com/sagemath/sagetrac-mirror/commit/dd4abcb7757c17e5a7bae9cf347c9d34e154503d)** to **[b1ef0b6](https://github.com/sagemath/sagetrac-mirror/commit/b1ef0b663cff6fdbcb2ae9cefad7d72c14605b49)**



---

archive/issue_comments_199041.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1ef0b663cff6fdbcb2ae9cefad7d72c14605b49\">b1ef0b6</a></td><td><code>prefer SAGE_DISTFILES for upstream directory</code></td></tr></table>\n",
    "created_at": "2014-01-13T19:17:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199041",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5" align="right">Comment 5</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1ef0b663cff6fdbcb2ae9cefad7d72c14605b49">b1ef0b6</a></td><td><code>prefer SAGE_DISTFILES for upstream directory</code></td></tr></table>




---

archive/issue_comments_199042.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nI would replace the regex in `_parse_name` with something like\n\n```\n(?P<base>(?:[^-]|-(?!\\d))*)-(?P<version>.*)\\.(?P<ext>tar.*|zip|tgz)\n```\n(We may as well support more general package names, even if our restrictive naming convention doesn't allow it at the moment.)",
    "created_at": "2014-01-14T09:52:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199042",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:6" align="right">Comment 6</div>

I would replace the regex in `_parse_name` with something like

```
(?P<base>(?:[^-]|-(?!\d))*)-(?P<version>.*)\.(?P<ext>tar.*|zip|tgz)
```
(We may as well support more general package names, even if our restrictive naming convention doesn't allow it at the moment.)



---

archive/issue_comments_199043.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd155cf944bcdede7c6489fc489511703c10c8ad\">cd155cf</a></td><td><code>more general tarball regex</code></td></tr></table>\n",
    "created_at": "2014-01-15T16:37:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199043",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7" align="right">Comment 7</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd155cf944bcdede7c6489fc489511703c10c8ad">cd155cf</a></td><td><code>more general tarball regex</code></td></tr></table>




---

archive/issue_comments_199044.json:
```json
{
    "body": "Changed commit from **[b1ef0b6](https://github.com/sagemath/sagetrac-mirror/commit/b1ef0b663cff6fdbcb2ae9cefad7d72c14605b49)** to **[cd155cf](https://github.com/sagemath/sagetrac-mirror/commit/cd155cf944bcdede7c6489fc489511703c10c8ad)**",
    "created_at": "2014-01-15T16:37:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199044",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b1ef0b6](https://github.com/sagemath/sagetrac-mirror/commit/b1ef0b663cff6fdbcb2ae9cefad7d72c14605b49)** to **[cd155cf](https://github.com/sagemath/sagetrac-mirror/commit/cd155cf944bcdede7c6489fc489511703c10c8ad)**



---

archive/issue_comments_199045.json:
```json
{
    "body": "Author: **Volker Braun**",
    "created_at": "2014-01-21T09:05:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199045",
    "user": "https://github.com/ohanar"
}
```

Author: **Volker Braun**



---

archive/issue_comments_199046.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nI added a few extra commits to resolve a couple of small bugs I noticed. Pending someone signing off on those, and testing on various versions of python, this looks good to me.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f647251e0ab3ac78220005f48c2883f16a94a974\">f647251</a></td><td><code>remove commented out old code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/905df0918db48496ca824879cdb22da2d683f54c\">905df09</a></td><td><code>rework environment stuff a bit</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/991de268a9fd9bc0ff4bd94295d8b6cfbe78015e\">991de26</a></td><td><code>don't actually write unsorted mirror list to disk</code></td></tr></table>\n",
    "created_at": "2014-01-21T09:05:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199046",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:8" align="right">Comment 8</div>

I added a few extra commits to resolve a couple of small bugs I noticed. Pending someone signing off on those, and testing on various versions of python, this looks good to me.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f647251e0ab3ac78220005f48c2883f16a94a974">f647251</a></td><td><code>remove commented out old code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/905df0918db48496ca824879cdb22da2d683f54c">905df09</a></td><td><code>rework environment stuff a bit</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/991de268a9fd9bc0ff4bd94295d8b6cfbe78015e">991de26</a></td><td><code>don't actually write unsorted mirror list to disk</code></td></tr></table>




---

archive/issue_comments_199047.json:
```json
{
    "body": "Changed branch from **[u/vbraun/use_mirrors_for_tarballs](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/use_mirrors_for_tarballs)** to **[u/ohanar/use_mirrors_for_tarballs](https://github.com/sagemath/sagetrac-mirror/tree/u/ohanar/use_mirrors_for_tarballs)**",
    "created_at": "2014-01-21T09:05:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199047",
    "user": "https://github.com/ohanar"
}
```

Changed branch from **[u/vbraun/use_mirrors_for_tarballs](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/use_mirrors_for_tarballs)** to **[u/ohanar/use_mirrors_for_tarballs](https://github.com/sagemath/sagetrac-mirror/tree/u/ohanar/use_mirrors_for_tarballs)**



---

archive/issue_comments_199048.json:
```json
{
    "body": "Changed commit from **[cd155cf](https://github.com/sagemath/sagetrac-mirror/commit/cd155cf944bcdede7c6489fc489511703c10c8ad)** to **[991de26](https://github.com/sagemath/sagetrac-mirror/commit/991de268a9fd9bc0ff4bd94295d8b6cfbe78015e)**",
    "created_at": "2014-01-21T09:05:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199048",
    "user": "https://github.com/ohanar"
}
```

Changed commit from **[cd155cf](https://github.com/sagemath/sagetrac-mirror/commit/cd155cf944bcdede7c6489fc489511703c10c8ad)** to **[991de26](https://github.com/sagemath/sagetrac-mirror/commit/991de268a9fd9bc0ff4bd94295d8b6cfbe78015e)**



---

archive/issue_events_205685.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205685"
}
```



---

archive/issue_events_205686.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205686"
}
```



---

archive/issue_events_205687.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-02-04T08:03:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205687"
}
```



---

archive/issue_events_205688.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-02-04T08:03:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205688"
}
```



---

archive/issue_comments_199049.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nWhy remove the possibility to use the system `curl` or `wget` programs? That seems like an unneeded regression to me.",
    "created_at": "2014-02-04T08:03:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199049",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">Comment 10</div>

Why remove the possibility to use the system `curl` or `wget` programs? That seems like an unneeded regression to me.



---

archive/issue_comments_199050.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nWe only need **one** way to download files. There is no point in having untested (hence broken) code laying around \"just in case\". There is no use case, just clutter laying around.",
    "created_at": "2014-02-04T22:36:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199050",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:11" align="right">Comment 11</div>

We only need **one** way to download files. There is no point in having untested (hence broken) code laying around "just in case". There is no use case, just clutter laying around.



---

archive/issue_comments_199051.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nReplying to [@vbraun](#comment%3A11):\n> There is no use case\n\nThe use case is building from git on systems without Python installed.",
    "created_at": "2014-02-05T15:33:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199051",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">Comment 12</div>

Replying to [@vbraun](#comment%3A11):
> There is no use case

The use case is building from git on systems without Python installed.



---

archive/issue_comments_199052.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nPer the discussion on sage-devel, Python is a requirement. Sooner or later Sage won't build without Python with or without this ticket.",
    "created_at": "2014-02-05T15:55:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199052",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:13" align="right">Comment 13</div>

Per the discussion on sage-devel, Python is a requirement. Sooner or later Sage won't build without Python with or without this ticket.



---

archive/issue_comments_199053.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nReplying to [@vbraun](#comment%3A13):\n> Per the discussion on sage-devel, Python is a requirement.\n\nThat would require at least a change to the documentation.",
    "created_at": "2014-02-06T10:19:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199053",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">Comment 14</div>

Replying to [@vbraun](#comment%3A13):
> Per the discussion on sage-devel, Python is a requirement.

That would require at least a change to the documentation.



---

archive/issue_comments_199054.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nReplying to [@vbraun](#comment%3A13):\n> Sooner or later Sage won't build without Python with or without this ticket.\n\nSure, but why break building on systems without Python on this ticket? It is absolutely trivial to keep supporting without Python for now (just keep the shell part of the script). It seems you're breaking stuff for no reason.",
    "created_at": "2014-02-06T10:22:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199054",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">Comment 15</div>

Replying to [@vbraun](#comment%3A13):
> Sooner or later Sage won't build without Python with or without this ticket.

Sure, but why break building on systems without Python on this ticket? It is absolutely trivial to keep supporting without Python for now (just keep the shell part of the script). It seems you're breaking stuff for no reason.



---

archive/issue_comments_199055.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nSo would it make you feel better if we wait with this ticket and merge it only after another change broke building without Python?",
    "created_at": "2014-02-06T10:34:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199055",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:16" align="right">Comment 16</div>

So would it make you feel better if we wait with this ticket and merge it only after another change broke building without Python?



---

archive/issue_comments_199056.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nReplying to [@vbraun](#comment%3A16):\n> So would it make you feel better if we wait with this ticket and merge it only after another change broke building without Python?\n\nEssentially yes. I agree with breaking building without Python, but not breaking just for the sake of it.",
    "created_at": "2014-02-06T16:44:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199056",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">Comment 17</div>

Replying to [@vbraun](#comment%3A16):
> So would it make you feel better if we wait with this ticket and merge it only after another change broke building without Python?

Essentially yes. I agree with breaking building without Python, but not breaking just for the sake of it.



---

archive/issue_events_205689.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205689"
}
```



---

archive/issue_events_205690.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205690"
}
```



---

archive/issue_events_205691.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205691"
}
```



---

archive/issue_events_205692.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205692"
}
```



---

archive/issue_comments_199057.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nI would say this is not breaking building without Python for the sake of breaking, but for the sake of moving the build system to a language that all Sage developers understand (and therefore can make further improvements).",
    "created_at": "2014-11-05T23:38:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199057",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:21" align="right">Comment 21</div>

I would say this is not breaking building without Python for the sake of breaking, but for the sake of moving the build system to a language that all Sage developers understand (and therefore can make further improvements).



---

archive/issue_comments_199058.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nCurrently in Sage, we have a Python script to download stuff with a shell-script wrapper to handle the case where Python in Sage is not yet installed. I would rather keep the shell-script wrapper and only modify the Python script.",
    "created_at": "2014-11-06T07:21:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199058",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">Comment 22</div>

Currently in Sage, we have a Python script to download stuff with a shell-script wrapper to handle the case where Python in Sage is not yet installed. I would rather keep the shell-script wrapper and only modify the Python script.



---

archive/issue_comments_199059.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nWhy have a shell script here-document a fortran program which runs a python script? Just so that we can build Sage without Python for a few more months? The decision is made, Python is a built-time requirement.",
    "created_at": "2014-11-06T09:45:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199059",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:23" align="right">Comment 23</div>

Why have a shell script here-document a fortran program which runs a python script? Just so that we can build Sage without Python for a few more months? The decision is made, Python is a built-time requirement.



---

archive/issue_comments_199060.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nReplying to [@vbraun](#comment%3A23):\n> The decision is made\n\nI don't recall that discussion...\n\nLet me repeat what I said above:\n\nWhy break building on systems without Python on this ticket? It is absolutely trivial to keep support for building without Python for now (just keep the shell part of the script). It seems you're breaking stuff for no reason. I don't mind breaking building without Python if there is a good reason, but not breaking just for the sake of it.",
    "created_at": "2014-11-06T10:21:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199060",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">Comment 24</div>

Replying to [@vbraun](#comment%3A23):
> The decision is made

I don't recall that discussion...

Let me repeat what I said above:

Why break building on systems without Python on this ticket? It is absolutely trivial to keep support for building without Python for now (just keep the shell part of the script). It seems you're breaking stuff for no reason. I don't mind breaking building without Python if there is a good reason, but not breaking just for the sake of it.



---

archive/issue_comments_199061.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nYou are going to say the same thing all the time, why rely on a Python script here when you could just as well have an additional shell script to provide a fall back. The answer is: fewer moving parts = less bugs.",
    "created_at": "2014-11-06T11:15:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199061",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:25" align="right">Comment 25</div>

You are going to say the same thing all the time, why rely on a Python script here when you could just as well have an additional shell script to provide a fall back. The answer is: fewer moving parts = less bugs.



---

archive/issue_comments_199062.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nThis is not about python as a requirement nor the curl and wget fallbacks, but i see the benefit of being able to set a `URL_GRABBER` variable that calls some fetcher with more robust options, as discussed on [this sage-devel thread](http://comments.gmane.org/gmane.comp.mathematics.sage.devel/75369).",
    "created_at": "2014-11-06T15:02:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199062",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:26" align="right">Comment 26</div>

This is not about python as a requirement nor the curl and wget fallbacks, but i see the benefit of being able to set a `URL_GRABBER` variable that calls some fetcher with more robust options, as discussed on [this sage-devel thread](http://comments.gmane.org/gmane.comp.mathematics.sage.devel/75369).



---

archive/issue_comments_199063.json:
```json
{
    "body": "Changed branch from **[u/ohanar/use_mirrors_for_tarballs](https://github.com/sagemath/sagetrac-mirror/tree/u/ohanar/use_mirrors_for_tarballs)** to **[u/vbraun/use_mirrors_for_tarballs](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/use_mirrors_for_tarballs)**",
    "created_at": "2015-05-04T14:27:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199063",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/ohanar/use_mirrors_for_tarballs](https://github.com/sagemath/sagetrac-mirror/tree/u/ohanar/use_mirrors_for_tarballs)** to **[u/vbraun/use_mirrors_for_tarballs](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/use_mirrors_for_tarballs)**



---

archive/issue_events_205693.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-04T14:38:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205693"
}
```



---

archive/issue_events_205694.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-04T14:38:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205694"
}
```



---

archive/issue_events_205695.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-04T14:38:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205695"
}
```



---

archive/issue_events_205696.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-04T14:38:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205696"
}
```



---

archive/issue_comments_199064.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nWe must use the mirrors very soon, the centrally-hosted packages will go away.\n\nThe downloading script still needs to be called from sage-spkg, when that is finished we must merge this ticket asap.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/74ac9229132583c3636e551e36aa0a53a23dbc8b\">74ac922</a></td><td><code>Merge 6.7.beta3 into #15642</code></td></tr></table>\n",
    "created_at": "2015-05-04T14:38:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199064",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:28" align="right">Comment 28</div>

We must use the mirrors very soon, the centrally-hosted packages will go away.

The downloading script still needs to be called from sage-spkg, when that is finished we must merge this ticket asap.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/74ac9229132583c3636e551e36aa0a53a23dbc8b">74ac922</a></td><td><code>Merge 6.7.beta3 into #15642</code></td></tr></table>




---

archive/issue_comments_199065.json:
```json
{
    "body": "Changed commit from **[991de26](https://github.com/sagemath/sagetrac-mirror/commit/991de268a9fd9bc0ff4bd94295d8b6cfbe78015e)** to **[74ac922](https://github.com/sagemath/sagetrac-mirror/commit/74ac9229132583c3636e551e36aa0a53a23dbc8b)**",
    "created_at": "2015-05-04T14:38:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199065",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[991de26](https://github.com/sagemath/sagetrac-mirror/commit/991de268a9fd9bc0ff4bd94295d8b6cfbe78015e)** to **[74ac922](https://github.com/sagemath/sagetrac-mirror/commit/74ac9229132583c3636e551e36aa0a53a23dbc8b)**



---

archive/issue_comments_199066.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9c0318daf085da3f96a66a8450721b5dfe800a2\">d9c0318</a></td><td><code>Merge 6.7.beta4 into #15642</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4f9892ffa9c1bd83be490253a9abbd3a5c9e4cc\">a4f9892</a></td><td><code>Ignore the single ftp-only mirror for now</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33bf83f60c6332bd06d19c177638b00e0e918354\">33bf83f</a></td><td><code>Use the new sage-download-file script to download all packages</code></td></tr></table>\n",
    "created_at": "2015-05-09T00:49:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199066",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29" align="right">Comment 29</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9c0318daf085da3f96a66a8450721b5dfe800a2">d9c0318</a></td><td><code>Merge 6.7.beta4 into #15642</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4f9892ffa9c1bd83be490253a9abbd3a5c9e4cc">a4f9892</a></td><td><code>Ignore the single ftp-only mirror for now</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33bf83f60c6332bd06d19c177638b00e0e918354">33bf83f</a></td><td><code>Use the new sage-download-file script to download all packages</code></td></tr></table>




---

archive/issue_comments_199067.json:
```json
{
    "body": "Changed commit from **[74ac922](https://github.com/sagemath/sagetrac-mirror/commit/74ac9229132583c3636e551e36aa0a53a23dbc8b)** to **[33bf83f](https://github.com/sagemath/sagetrac-mirror/commit/33bf83f60c6332bd06d19c177638b00e0e918354)**",
    "created_at": "2015-05-09T00:49:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199067",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[74ac922](https://github.com/sagemath/sagetrac-mirror/commit/74ac9229132583c3636e551e36aa0a53a23dbc8b)** to **[33bf83f](https://github.com/sagemath/sagetrac-mirror/commit/33bf83f60c6332bd06d19c177638b00e0e918354)**



---

archive/issue_events_205697.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-09T08:24:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205697"
}
```



---

archive/issue_events_205698.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-09T08:24:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205698"
}
```



---

archive/issue_comments_199068.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7afa48370ccba8b406a3f820b76ff522bea600c\">a7afa48</a></td><td><code>Add a SAGE_MIRROR environment variable</code></td></tr></table>\n",
    "created_at": "2015-05-09T09:45:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199068",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31" align="right">Comment 31</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7afa48370ccba8b406a3f820b76ff522bea600c">a7afa48</a></td><td><code>Add a SAGE_MIRROR environment variable</code></td></tr></table>




---

archive/issue_comments_199069.json:
```json
{
    "body": "Changed commit from **[33bf83f](https://github.com/sagemath/sagetrac-mirror/commit/33bf83f60c6332bd06d19c177638b00e0e918354)** to **[a7afa48](https://github.com/sagemath/sagetrac-mirror/commit/a7afa48370ccba8b406a3f820b76ff522bea600c)**",
    "created_at": "2015-05-09T09:45:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199069",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[33bf83f](https://github.com/sagemath/sagetrac-mirror/commit/33bf83f60c6332bd06d19c177638b00e0e918354)** to **[a7afa48](https://github.com/sagemath/sagetrac-mirror/commit/a7afa48370ccba8b406a3f820b76ff522bea600c)**



---

archive/issue_comments_199070.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nThe buildbot will set `SAGE_MIRROR` to its own so it doesn't have to wait for the mirrors to catch up.",
    "created_at": "2015-05-09T10:12:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199070",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:32" align="right">Comment 32</div>

The buildbot will set `SAGE_MIRROR` to its own so it doesn't have to wait for the mirrors to catch up.



---

archive/issue_events_205699.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-05-09T11:39:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205699"
}
```



---

archive/issue_events_205700.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-05-09T11:39:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205700"
}
```



---

archive/issue_comments_199071.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\n\"Usage\" doesn't match implementation: `--fastest-mirror` vs. `--print-fastest-mirror`.",
    "created_at": "2015-05-09T12:25:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199071",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:34" align="right">Comment 34</div>

"Usage" doesn't match implementation: `--fastest-mirror` vs. `--print-fastest-mirror`.



---

archive/issue_events_205701.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-05-09T12:25:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205701"
}
```



---

archive/issue_events_205702.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-05-09T12:25:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205702"
}
```



---

archive/issue_comments_199072.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a06850aa7e90080cd1841ce7a4aea46da25ccc1\">9a06850</a></td><td><code>fix usage doc</code></td></tr></table>\n",
    "created_at": "2015-05-09T12:30:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199072",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35" align="right">Comment 35</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a06850aa7e90080cd1841ce7a4aea46da25ccc1">9a06850</a></td><td><code>fix usage doc</code></td></tr></table>




---

archive/issue_comments_199073.json:
```json
{
    "body": "Changed commit from **[a7afa48](https://github.com/sagemath/sagetrac-mirror/commit/a7afa48370ccba8b406a3f820b76ff522bea600c)** to **[9a06850](https://github.com/sagemath/sagetrac-mirror/commit/9a06850aa7e90080cd1841ce7a4aea46da25ccc1)**",
    "created_at": "2015-05-09T12:30:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199073",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a7afa48](https://github.com/sagemath/sagetrac-mirror/commit/a7afa48370ccba8b406a3f820b76ff522bea600c)** to **[9a06850](https://github.com/sagemath/sagetrac-mirror/commit/9a06850aa7e90080cd1841ce7a4aea46da25ccc1)**



---

archive/issue_comments_199074.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nThanks, fixed",
    "created_at": "2015-05-09T12:30:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199074",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:36" align="right">Comment 36</div>

Thanks, fixed



---

archive/issue_events_205703.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-09T12:30:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205703"
}
```



---

archive/issue_events_205704.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-09T12:30:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205704"
}
```



---

archive/issue_comments_199075.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nNot entirely clear to me why you use `.startswith()` though... ;-)\n\n(Ok, it does support `--print-fastest-mirror-and-drop-me-a-beer`, but I'm still waiting...)",
    "created_at": "2015-05-09T12:34:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199075",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:37" align="right">Comment 37</div>

Not entirely clear to me why you use `.startswith()` though... ;-)

(Ok, it does support `--print-fastest-mirror-and-drop-me-a-beer`, but I'm still waiting...)



---

archive/issue_comments_199076.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nCould we please suppress the tracebacks on errors like 404?",
    "created_at": "2015-05-09T12:37:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199076",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:38" align="right">Comment 38</div>

Could we please suppress the tracebacks on errors like 404?



---

archive/issue_comments_199077.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nAs you said, using startswith() is a cheap emulation of argparse so `--quiet=...` works. The point is to be compatible with Python 2.6, of course, so we can't use argparse.",
    "created_at": "2015-05-09T12:43:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199077",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:39" align="right">Comment 39</div>

As you said, using startswith() is a cheap emulation of argparse so `--quiet=...` works. The point is to be compatible with Python 2.6, of course, so we can't use argparse.



---

archive/issue_comments_199078.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nMirror layout fixes, part I:\n\n```diff\ndiff --git a/src/bin/sage-spkg b/src/bin/sage-spkg\nindex d25542c..0eb2f8a 100755\n--- a/src/bin/sage-spkg\n+++ b/src/bin/sage-spkg\n@@ -367,9 +367,9 @@ if [ ! -f \"$PKG_SRC\" ]; then\n                 echo \">>> Checking online list of $repo packages.\"\n                 # File inside DOT_SAGE should be writable\n                 repolist=\"${DOT_SAGE}/${repo}.list\"\n-                sage-download-file \"$MIRROR/$repo/list\" $repolist\n+                sage-download-file \"$MIRROR/spkg/$repo/list\" $repolist\n                 if [ $? -ne 0 ]; then\n-                    echo >&2 \"Error: failed to download $MIRROR/$repo/list, aborting\"\n+                    echo >&2 \"Error: failed to download $MIRROR/spkg/$repo/list, aborting\"\n                     rm -f $repolist\n                     exit 1\n                 fi\n@@ -386,7 +386,7 @@ if [ ! -f \"$PKG_SRC\" ]; then\n \n                     # If INFO is set, try downloading only the .txt file\n                     if [ $INFO -eq 1 ]; then\n-                        PKG_URL=\"$MIRROR/$repo/$pkg.txt\"\n+                        PKG_URL=\"$MIRROR/spkg/$repo/$pkg.txt\"\n                         sage-download-file \"$PKG_URL\" && exit 0\n                         # If the download failed (for whatever reason),\n                         # fall through and use the .spkg file.\n@@ -416,7 +416,7 @@ if [ ! -f \"$PKG_SRC\" ]; then\n                             esac\n                         fi\n                     fi\n-                    PKG_URL=\"$MIRROR/$repo/$pkg.spkg\"\n+                    PKG_URL=\"$MIRROR/spkg/$repo/$pkg.spkg\"\n                     break\n                 fi\n             done\n```\n(Try e.g. `./sage -i foobar`.)",
    "created_at": "2015-05-09T13:01:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199078",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:40" align="right">Comment 40</div>

Mirror layout fixes, part I:

```diff
diff --git a/src/bin/sage-spkg b/src/bin/sage-spkg
index d25542c..0eb2f8a 100755
--- a/src/bin/sage-spkg
+++ b/src/bin/sage-spkg
@@ -367,9 +367,9 @@ if [ ! -f "$PKG_SRC" ]; then
                 echo ">>> Checking online list of $repo packages."
                 # File inside DOT_SAGE should be writable
                 repolist="${DOT_SAGE}/${repo}.list"
-                sage-download-file "$MIRROR/$repo/list" $repolist
+                sage-download-file "$MIRROR/spkg/$repo/list" $repolist
                 if [ $? -ne 0 ]; then
-                    echo >&2 "Error: failed to download $MIRROR/$repo/list, aborting"
+                    echo >&2 "Error: failed to download $MIRROR/spkg/$repo/list, aborting"
                     rm -f $repolist
                     exit 1
                 fi
@@ -386,7 +386,7 @@ if [ ! -f "$PKG_SRC" ]; then
 
                     # If INFO is set, try downloading only the .txt file
                     if [ $INFO -eq 1 ]; then
-                        PKG_URL="$MIRROR/$repo/$pkg.txt"
+                        PKG_URL="$MIRROR/spkg/$repo/$pkg.txt"
                         sage-download-file "$PKG_URL" && exit 0
                         # If the download failed (for whatever reason),
                         # fall through and use the .spkg file.
@@ -416,7 +416,7 @@ if [ ! -f "$PKG_SRC" ]; then
                             esac
                         fi
                     fi
-                    PKG_URL="$MIRROR/$repo/$pkg.spkg"
+                    PKG_URL="$MIRROR/spkg/$repo/$pkg.spkg"
                     break
                 fi
             done
```
(Try e.g. `./sage -i foobar`.)



---

archive/issue_comments_199079.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\n... we'd better use a variable like `MIRROR_PACKAGE_FOLDER` or whatever there.",
    "created_at": "2015-05-09T13:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199079",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:41" align="right">Comment 41</div>

... we'd better use a variable like `MIRROR_PACKAGE_FOLDER` or whatever there.



---

archive/issue_comments_199080.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nhow about you just push that to trac, I'm not going to type that in for you",
    "created_at": "2015-05-09T13:04:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199080",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:42" align="right">Comment 42</div>

how about you just push that to trac, I'm not going to type that in for you



---

archive/issue_comments_199081.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nThere are still issues we have to fix w.r.t. `MIRROR` vs. `SAGE_SERVER`.",
    "created_at": "2015-05-09T13:05:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199081",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:43" align="right">Comment 43</div>

There are still issues we have to fix w.r.t. `MIRROR` vs. `SAGE_SERVER`.



---

archive/issue_comments_199082.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9e66acabedfe0ae55b961482bfa4ec3515257ec\">d9e66ac</a></td><td><code>no backtrace on IOError</code></td></tr></table>\n",
    "created_at": "2015-05-09T13:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199082",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44" align="right">Comment 44</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9e66acabedfe0ae55b961482bfa4ec3515257ec">d9e66ac</a></td><td><code>no backtrace on IOError</code></td></tr></table>




---

archive/issue_comments_199083.json:
```json
{
    "body": "Changed commit from **[9a06850](https://github.com/sagemath/sagetrac-mirror/commit/9a06850aa7e90080cd1841ce7a4aea46da25ccc1)** to **[d9e66ac](https://github.com/sagemath/sagetrac-mirror/commit/d9e66acabedfe0ae55b961482bfa4ec3515257ec)**",
    "created_at": "2015-05-09T13:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199083",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9a06850](https://github.com/sagemath/sagetrac-mirror/commit/9a06850aa7e90080cd1841ce7a4aea46da25ccc1)** to **[d9e66ac](https://github.com/sagemath/sagetrac-mirror/commit/d9e66acabedfe0ae55b961482bfa4ec3515257ec)**



---

archive/issue_comments_199084.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">Comment 45</div>\n\nSAGE_SERVER is used elsewhere, its where the docs are hosted etc.",
    "created_at": "2015-05-09T13:09:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199084",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:45" align="right">Comment 45</div>

SAGE_SERVER is used elsewhere, its where the docs are hosted etc.



---

archive/issue_comments_199085.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">Comment 46</div>\n\nReplying to [@vbraun](#comment%3A42):\n> how about you just push that to trac, I'm not going to type that in for you\n\nThat's not something I expect you to merge; it just shows errors in the current code.  As said, we should IMHO use a variable for that.  (I'm not doing your work either... ;-) )",
    "created_at": "2015-05-09T13:09:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199085",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:46" align="right">Comment 46</div>

Replying to [@vbraun](#comment%3A42):
> how about you just push that to trac, I'm not going to type that in for you

That's not something I expect you to merge; it just shows errors in the current code.  As said, we should IMHO use a variable for that.  (I'm not doing your work either... ;-) )



---

archive/issue_comments_199086.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">Comment 47</div>\n\nReplying to [@vbraun](#comment%3A45):\n> SAGE_SERVER is used elsewhere, its where the docs are hosted etc.\n\nIt's still in an error message in `sage-spkg`, although `MIRROR` was used.",
    "created_at": "2015-05-09T13:13:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199086",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:47" align="right">Comment 47</div>

Replying to [@vbraun](#comment%3A45):
> SAGE_SERVER is used elsewhere, its where the docs are hosted etc.

It's still in an error message in `sage-spkg`, although `MIRROR` was used.



---

archive/issue_comments_199087.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">Comment 48</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30b1647e7b6a527e72daa7835f26a710306a6099\">30b1647</a></td><td><code>fix mirror uri</code></td></tr></table>\n",
    "created_at": "2015-05-09T13:14:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199087",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:48" align="right">Comment 48</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30b1647e7b6a527e72daa7835f26a710306a6099">30b1647</a></td><td><code>fix mirror uri</code></td></tr></table>




---

archive/issue_comments_199088.json:
```json
{
    "body": "Changed commit from **[d9e66ac](https://github.com/sagemath/sagetrac-mirror/commit/d9e66acabedfe0ae55b961482bfa4ec3515257ec)** to **[30b1647](https://github.com/sagemath/sagetrac-mirror/commit/30b1647e7b6a527e72daa7835f26a710306a6099)**",
    "created_at": "2015-05-09T13:14:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199088",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d9e66ac](https://github.com/sagemath/sagetrac-mirror/commit/d9e66acabedfe0ae55b961482bfa4ec3515257ec)** to **[30b1647](https://github.com/sagemath/sagetrac-mirror/commit/30b1647e7b6a527e72daa7835f26a710306a6099)**



---

archive/issue_comments_199089.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">Comment 49</div>\n\nFixed",
    "created_at": "2015-05-09T13:15:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199089",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:49" align="right">Comment 49</div>

Fixed



---

archive/issue_comments_199090.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">Comment 50</div>\n\nReplying to [@vbraun](#comment%3A49):\n> Fixed\n\nOk, but there's an extra slash (`MIRROR` already has a trailing one).",
    "created_at": "2015-05-09T13:33:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199090",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:50" align="right">Comment 50</div>

Replying to [@vbraun](#comment%3A49):
> Fixed

Ok, but there's an extra slash (`MIRROR` already has a trailing one).



---

archive/issue_comments_199091.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">Comment 51</div>\n\nthe official mirror list may or may not have a slash at the end",
    "created_at": "2015-05-09T13:40:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199091",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:51" align="right">Comment 51</div>

the official mirror list may or may not have a slash at the end



---

archive/issue_comments_199092.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">Comment 52</div>\n\nFTP doesn't seem to work (hangs after receiving the file).\n\nTry for example\n\n```sh\n./sage --sh -c 'sage-download-file ftp://ftp.fu-berlin.de/unix/misc/sage/spkg/optional/list'\n```",
    "created_at": "2015-05-09T13:41:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199092",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:52" align="right">Comment 52</div>

FTP doesn't seem to work (hangs after receiving the file).

Try for example

```sh
./sage --sh -c 'sage-download-file ftp://ftp.fu-berlin.de/unix/misc/sage/spkg/optional/list'
```



---

archive/issue_comments_199093.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">Comment 53</div>\n\nCorrect, FTP is not allowed",
    "created_at": "2015-05-09T13:48:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199093",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:53" align="right">Comment 53</div>

Correct, FTP is not allowed



---

archive/issue_comments_199094.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">Comment 54</div>\n\nReplying to [@vbraun](#comment%3A51):\n> the official mirror list may or may not have a slash at the end\n\nA matter of what your script outputs...\n\n\n\n\nSo, what about `SAGE_SERVER` to specify a mirror?  While `$SOMEBODY` partially broke that anyway by hardcoding the incompatible `packages/` subfolder, we should IMHO still (or again) support that.  (At least `sage-list-packages` also needs to get fixed, preferably on a separate ticket I'd say.)",
    "created_at": "2015-05-09T13:55:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199094",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:54" align="right">Comment 54</div>

Replying to [@vbraun](#comment%3A51):
> the official mirror list may or may not have a slash at the end

A matter of what your script outputs...




So, what about `SAGE_SERVER` to specify a mirror?  While `$SOMEBODY` partially broke that anyway by hardcoding the incompatible `packages/` subfolder, we should IMHO still (or again) support that.  (At least `sage-list-packages` also needs to get fixed, preferably on a separate ticket I'd say.)



---

archive/issue_comments_199095.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">Comment 55</div>\n\nReplying to [@vbraun](#comment%3A53):\n> Correct, FTP is not allowed\n\n\n```\nThe single mandatory argument can be a http:// or ftp:// url or a\ntarball filename.\n```\n\n```python\n    if url.startswith('http://') or url.startswith('https://') or url.startswith('ftp://'):\n        http_download(url, destination, progress=progress, ignore_errors=True)\n```",
    "created_at": "2015-05-09T13:58:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199095",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:55" align="right">Comment 55</div>

Replying to [@vbraun](#comment%3A53):
> Correct, FTP is not allowed


```
The single mandatory argument can be a http:// or ftp:// url or a
tarball filename.
```

```python
    if url.startswith('http://') or url.startswith('https://') or url.startswith('ftp://'):
        http_download(url, destination, progress=progress, ignore_errors=True)
```



---

archive/issue_comments_199096.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">Comment 56</div>\n\nI don't really like the SAGE_SERVER name (could refer anything, sage cell server), but historically that was where the official mirror list was and thats what I wanted to keep",
    "created_at": "2015-05-09T14:08:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199096",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:56" align="right">Comment 56</div>

I don't really like the SAGE_SERVER name (could refer anything, sage cell server), but historically that was where the official mirror list was and thats what I wanted to keep



---

archive/issue_comments_199097.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">Comment 57</div>\n\nAlso, IMHO we should just phase out old-style spkgs. As long as we have to drag along that technical debt its very hard to clean up scripts.",
    "created_at": "2015-05-09T14:10:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199097",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:57" align="right">Comment 57</div>

Also, IMHO we should just phase out old-style spkgs. As long as we have to drag along that technical debt its very hard to clean up scripts.



---

archive/issue_comments_199098.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">Comment 58</div>\n\nReplying to [@vbraun](#comment%3A56):\n> I don't really like the SAGE_SERVER name (could refer anything, sage cell server), but historically that was where the official mirror list was and thats what I wanted to keep\n\n?  Before the breakage, setting `SAGE_SERVER` to e.g. `http://mirror.switch.ch/mirror/sagemath/` worked, for example with `sage --optional` and -- long time ago -- with `sage --upgrade`.\n\n\nDeprecate it, later use `SAGE_MIRROR` for package download purposes?",
    "created_at": "2015-05-09T14:16:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199098",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:58" align="right">Comment 58</div>

Replying to [@vbraun](#comment%3A56):
> I don't really like the SAGE_SERVER name (could refer anything, sage cell server), but historically that was where the official mirror list was and thats what I wanted to keep

?  Before the breakage, setting `SAGE_SERVER` to e.g. `http://mirror.switch.ch/mirror/sagemath/` worked, for example with `sage --optional` and -- long time ago -- with `sage --upgrade`.


Deprecate it, later use `SAGE_MIRROR` for package download purposes?



---

archive/issue_comments_199099.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">Comment 59</div>\n\nReplying to [@vbraun](#comment%3A57):\n> Also, IMHO we should just phase out old-style spkgs.\n\nI'm all against that.  The worst decision was to hardcode package metadata (solely!) into specific Sage releases, while that data doesn't even show whether a package is optional, experimental, or whatever.  (It's pretty easy to *create* \"old-style\" packages from that though... ;-) )\n\nIn my opinion the main reason we should (still) support real spkgs is that anybody can easily create and offer such self-contained packages to others, and installing and using them doesn't artificially depend on the Sage version.  (Whether they'll work of course depends on a couple of things.)\n\nThey're also often much more convenient for testing.\n \n\n\n\n> As long as we have to drag along that technical debt its very hard to clean up scripts.\n\nPerhaps with the exception of left-over old-style standard packages, I don't see a problem.",
    "created_at": "2015-05-09T14:37:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199099",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:59" align="right">Comment 59</div>

Replying to [@vbraun](#comment%3A57):
> Also, IMHO we should just phase out old-style spkgs.

I'm all against that.  The worst decision was to hardcode package metadata (solely!) into specific Sage releases, while that data doesn't even show whether a package is optional, experimental, or whatever.  (It's pretty easy to *create* "old-style" packages from that though... ;-) )

In my opinion the main reason we should (still) support real spkgs is that anybody can easily create and offer such self-contained packages to others, and installing and using them doesn't artificially depend on the Sage version.  (Whether they'll work of course depends on a couple of things.)

They're also often much more convenient for testing.
 



> As long as we have to drag along that technical debt its very hard to clean up scripts.

Perhaps with the exception of left-over old-style standard packages, I don't see a problem.



---

archive/issue_comments_199100.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">Comment 60</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27b71e517fef3594dffe282b99c2538d02ebf5a8\">27b71e5</a></td><td><code>remove ftp from docs for now</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a103ab5dd842e5a6f24970a42649e4df8935a9da\">a103ab5</a></td><td><code>Use SAGE_SERVER instead of SAGE_MIRROR</code></td></tr></table>\n",
    "created_at": "2015-05-09T14:39:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199100",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:60" align="right">Comment 60</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27b71e517fef3594dffe282b99c2538d02ebf5a8">27b71e5</a></td><td><code>remove ftp from docs for now</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a103ab5dd842e5a6f24970a42649e4df8935a9da">a103ab5</a></td><td><code>Use SAGE_SERVER instead of SAGE_MIRROR</code></td></tr></table>




---

archive/issue_comments_199101.json:
```json
{
    "body": "Changed commit from **[30b1647](https://github.com/sagemath/sagetrac-mirror/commit/30b1647e7b6a527e72daa7835f26a710306a6099)** to **[a103ab5](https://github.com/sagemath/sagetrac-mirror/commit/a103ab5dd842e5a6f24970a42649e4df8935a9da)**",
    "created_at": "2015-05-09T14:39:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199101",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[30b1647](https://github.com/sagemath/sagetrac-mirror/commit/30b1647e7b6a527e72daa7835f26a710306a6099)** to **[a103ab5](https://github.com/sagemath/sagetrac-mirror/commit/a103ab5dd842e5a6f24970a42649e4df8935a9da)**



---

archive/issue_comments_199102.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">Comment 61</div>\n\nReplying to [@nexttime](#comment%3A59):\n> Whether they'll work of course depends on a couple of things.\n\nEven if they work in principle you can't do that much with them as there is no dependency management. Its just an all-out shitty solution for everyone.",
    "created_at": "2015-05-09T14:42:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199102",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:61" align="right">Comment 61</div>

Replying to [@nexttime](#comment%3A59):
> Whether they'll work of course depends on a couple of things.

Even if they work in principle you can't do that much with them as there is no dependency management. Its just an all-out shitty solution for everyone.



---

archive/issue_comments_199103.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">Comment 62</div>\n\nSAGE_SERVER must of course then not be set by default...",
    "created_at": "2015-05-09T14:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199103",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:62" align="right">Comment 62</div>

SAGE_SERVER must of course then not be set by default...



---

archive/issue_comments_199104.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">Comment 63</div>\n\nDoes any mirror have `packages/`?  Will they at some point?\n\nOtherwise `s|SAGE_SERVER/packages/|SAGE_SERVER/spkg/|` in the docs.",
    "created_at": "2015-05-09T15:03:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199104",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:63" align="right">Comment 63</div>

Does any mirror have `packages/`?  Will they at some point?

Otherwise `s|SAGE_SERVER/packages/|SAGE_SERVER/spkg/|` in the docs.



---

archive/issue_comments_199105.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">Comment 64</div>\n\nAFAIK there will only ever be /spkg/ on the mirrors",
    "created_at": "2015-05-09T15:14:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199105",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:64" align="right">Comment 64</div>

AFAIK there will only ever be /spkg/ on the mirrors



---

archive/issue_comments_199106.json:
```json
{
    "body": "Changed commit from **[a103ab5](https://github.com/sagemath/sagetrac-mirror/commit/a103ab5dd842e5a6f24970a42649e4df8935a9da)** to **[a259f27](https://github.com/sagemath/sagetrac-mirror/commit/a259f27b95e1b69fbdde1a4b0e8496996cd427fe)**",
    "created_at": "2015-05-09T15:16:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199106",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a103ab5](https://github.com/sagemath/sagetrac-mirror/commit/a103ab5dd842e5a6f24970a42649e4df8935a9da)** to **[a259f27](https://github.com/sagemath/sagetrac-mirror/commit/a259f27b95e1b69fbdde1a4b0e8496996cd427fe)**



---

archive/issue_comments_199107.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">Comment 65</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a259f27b95e1b69fbdde1a4b0e8496996cd427fe\">a259f27</a></td><td><code>rename SAGE_SERVER/packages to SAGE_SERVER/spkg</code></td></tr></table>\n",
    "created_at": "2015-05-09T15:16:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199107",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:65" align="right">Comment 65</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a259f27b95e1b69fbdde1a4b0e8496996cd427fe">a259f27</a></td><td><code>rename SAGE_SERVER/packages to SAGE_SERVER/spkg</code></td></tr></table>




---

archive/issue_comments_199108.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">Comment 66</div>\n\nReplying to [@nexttime](#comment%3A63):\n> Does any mirror have `packages/`?  Will they at some point?\n> \n> Otherwise `s|SAGE_SERVER/packages/|SAGE_SERVER/spkg/|` in the docs.\n\nShould we fix this here, since we now touch `sage-list-packages` anyway?\n\n```\nSAGE_SERVER=\"http://mirror.switch.ch/mirror/sagemath/\" ./sage --optional\nUsing Sage Server http://mirror.switch.ch/mirror/sagemath/packages\nHTTP Error 404: Not Found\n\n\n\n********************************************************************************\n\n\n\nError contacting http://mirror.switch.ch/mirror/sagemath/packages/optional/list. Try using an alternative server.\nFor example, from the bash prompt try typing\n\n   export SAGE_SERVER=http://sage.scipy.org/sage/\n\nthen try again.\n\n\n\n********************************************************************************\n```\n\n([http://sage.scipy.org/sage/](http://sage.scipy.org/sage/) is btw. a joke...)",
    "created_at": "2015-05-09T15:17:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199108",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:66" align="right">Comment 66</div>

Replying to [@nexttime](#comment%3A63):
> Does any mirror have `packages/`?  Will they at some point?
> 
> Otherwise `s|SAGE_SERVER/packages/|SAGE_SERVER/spkg/|` in the docs.

Should we fix this here, since we now touch `sage-list-packages` anyway?

```
SAGE_SERVER="http://mirror.switch.ch/mirror/sagemath/" ./sage --optional
Using Sage Server http://mirror.switch.ch/mirror/sagemath/packages
HTTP Error 404: Not Found



********************************************************************************



Error contacting http://mirror.switch.ch/mirror/sagemath/packages/optional/list. Try using an alternative server.
For example, from the bash prompt try typing

   export SAGE_SERVER=http://sage.scipy.org/sage/

then try again.



********************************************************************************
```

([http://sage.scipy.org/sage/](http://sage.scipy.org/sage/) is btw. a joke...)



---

archive/issue_comments_199109.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">Comment 67</div>\n\nConcurrent posting (luckily not pushing)...",
    "created_at": "2015-05-09T15:18:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199109",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:67" align="right">Comment 67</div>

Concurrent posting (luckily not pushing)...



---

archive/issue_comments_199110.json:
```json
{
    "body": "Changed commit from **[a259f27](https://github.com/sagemath/sagetrac-mirror/commit/a259f27b95e1b69fbdde1a4b0e8496996cd427fe)** to **[d79364b](https://github.com/sagemath/sagetrac-mirror/commit/d79364b9fc5131199eaed14340582715f2f937fb)**",
    "created_at": "2015-05-09T15:24:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199110",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a259f27](https://github.com/sagemath/sagetrac-mirror/commit/a259f27b95e1b69fbdde1a4b0e8496996cd427fe)** to **[d79364b](https://github.com/sagemath/sagetrac-mirror/commit/d79364b9fc5131199eaed14340582715f2f937fb)**



---

archive/issue_comments_199111.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">Comment 68</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d79364b9fc5131199eaed14340582715f2f937fb\">d79364b</a></td><td><code>fix sage-list-packages</code></td></tr></table>\n",
    "created_at": "2015-05-09T15:24:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199111",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:68" align="right">Comment 68</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d79364b9fc5131199eaed14340582715f2f937fb">d79364b</a></td><td><code>fix sage-list-packages</code></td></tr></table>




---

archive/issue_comments_199112.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">Comment 69</div>\n\nThe whole listing of packages is also made hideously complicated by mashing old and new style packages together...",
    "created_at": "2015-05-09T15:26:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199112",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:69" align="right">Comment 69</div>

The whole listing of packages is also made hideously complicated by mashing old and new style packages together...



---

archive/issue_comments_199113.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">Comment 70</div>\n\nI thought of just adding a further `try: ... except HTTPError: ...`, in case `sagemath.org/packages/` remains for a while.  (IIRC it had *both* for a while.)\n\n`PKG_SERVER` is superfluous anyway; I'd simply use `os.environ['SAGE_SERVER']` there.",
    "created_at": "2015-05-09T15:29:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199113",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:70" align="right">Comment 70</div>

I thought of just adding a further `try: ... except HTTPError: ...`, in case `sagemath.org/packages/` remains for a while.  (IIRC it had *both* for a while.)

`PKG_SERVER` is superfluous anyway; I'd simply use `os.environ['SAGE_SERVER']` there.



---

archive/issue_comments_199114.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">Comment 71</div>\n\nReplying to [@vbraun](#comment%3A69):\n> The whole listing of packages is also made hideously complicated by mashing old and new style packages together...\n\nAs I said, in principle only the old standard packages disturb a bit; otherwise it's just a matter of syncing.\n\nI was actually working on that a few days ago (#16759).",
    "created_at": "2015-05-09T15:33:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199114",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:71" align="right">Comment 71</div>

Replying to [@vbraun](#comment%3A69):
> The whole listing of packages is also made hideously complicated by mashing old and new style packages together...

As I said, in principle only the old standard packages disturb a bit; otherwise it's just a matter of syncing.

I was actually working on that a few days ago (#16759).



---

archive/issue_comments_199115.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">Comment 72</div>\n\nQuoting [jdemeyer](https://github.com/sagemath/sage/issues/16759#comment:2):\n> Replying to [jhpalmieri](https://github.com/sagemath/sage/issues/16759#comment:1):\n> > It also looks like `sage --standard` is broken: it is using old package information.\n\n> I would say that `sage --standard` is doing the right thing, but somehow `http://www.sagemath.org/packages/standard/` is no longer updated. The right solution is updating the website script to take into account the new git-style packages (which is certainly a different issue than the one this ticket is about).",
    "created_at": "2015-05-09T15:42:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199115",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:72" align="right">Comment 72</div>

Quoting [jdemeyer](https://github.com/sagemath/sage/issues/16759#comment:2):
> Replying to [jhpalmieri](https://github.com/sagemath/sage/issues/16759#comment:1):
> > It also looks like `sage --standard` is broken: it is using old package information.

> I would say that `sage --standard` is doing the right thing, but somehow `http://www.sagemath.org/packages/standard/` is no longer updated. The right solution is updating the website script to take into account the new git-style packages (which is certainly a different issue than the one this ticket is about).



---

archive/issue_comments_199116.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">Comment 73</div>\n\nSince I'm CCed: There is currently a move of the whole infrastructure going on. Before that I tried to keep everything compatible with the original system from a long time ago. That's no longer possible. Long story short: the website and the binary-files need to be untangled and that means there are no longer chains of symlink-aliases. Hence, don't use the `/mirror` subdirectory of the website and I hope the essence of this ticket is to get rid of this old dependence. The only mirror related aspect is the `mirror_list` file for the base URLs.",
    "created_at": "2015-05-09T16:06:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199116",
    "user": "https://github.com/haraldschilly"
}
```

<div id="comment:73" align="right">Comment 73</div>

Since I'm CCed: There is currently a move of the whole infrastructure going on. Before that I tried to keep everything compatible with the original system from a long time ago. That's no longer possible. Long story short: the website and the binary-files need to be untangled and that means there are no longer chains of symlink-aliases. Hence, don't use the `/mirror` subdirectory of the website and I hope the essence of this ticket is to get rid of this old dependence. The only mirror related aspect is the `mirror_list` file for the base URLs.



---

archive/issue_comments_199117.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">Comment 74</div>\n\nReplying to [@haraldschilly](#comment%3A73):\n> Since I'm CCed: There is currently a move of the whole infrastructure going on. Before that I tried to keep everything compatible with the original system from a long time ago. That's no longer possible. Long story short: the website and the binary-files need to be untangled and that means there are no longer chains of symlink-aliases. Hence, don't use the `/mirror` subdirectory of the website and I hope the essence of this ticket is to get rid of this old dependence. The only mirror related aspect is the `mirror_list` file for the base URLs.\n\nWell, the Sage scripts never used the `mirror/` folder.  The problematic part here is the structure below the base URL; `spkg/` was changed to `packages` on sagemath.org, but the mirrors all have the classical structure (plus `upstream/` below `spkg/`).\n\nThe new thing on this ticket is also that we now use [http://www.sagemath.org/mirror_list](http://www.sagemath.org/mirror_list) (currently hardcoded) again, which is periodically generated by a script on the server (or at least used to be).",
    "created_at": "2015-05-09T16:39:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199117",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:74" align="right">Comment 74</div>

Replying to [@haraldschilly](#comment%3A73):
> Since I'm CCed: There is currently a move of the whole infrastructure going on. Before that I tried to keep everything compatible with the original system from a long time ago. That's no longer possible. Long story short: the website and the binary-files need to be untangled and that means there are no longer chains of symlink-aliases. Hence, don't use the `/mirror` subdirectory of the website and I hope the essence of this ticket is to get rid of this old dependence. The only mirror related aspect is the `mirror_list` file for the base URLs.

Well, the Sage scripts never used the `mirror/` folder.  The problematic part here is the structure below the base URL; `spkg/` was changed to `packages` on sagemath.org, but the mirrors all have the classical structure (plus `upstream/` below `spkg/`).

The new thing on this ticket is also that we now use [http://www.sagemath.org/mirror_list](http://www.sagemath.org/mirror_list) (currently hardcoded) again, which is periodically generated by a script on the server (or at least used to be).



---

archive/issue_comments_199118.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">Comment 75</div>\n\nHarald, also note Jeroen's comment I quoted [above](#comment%3A72).\n\nMeanwhile, it's not just standard packages, but also optional packages, of which (only) some now have the \"new style\", i.e., the data of newer ones is hardcoded into the Sage releases, while obsolete \"old-style\" packages remain in `spkg/optional/list` (and `spkg/optional/`).\n\n`./sage --optional` shows some examples of optional packages which became standard:\n\n```\nOptional packages:\n\n...\ngit-1.7.12.2.p0 ........................ installed version: 2.3.0\n...\npyzmq-2.1.11.p1 ........................ installed version: 14.3.0\n...\nzeromq-3.2.0.p0 ........................ installed version: 4.0.5\n```\n\nThere are other still optional packages where `sage -i ...` would install newer versions than listed by `sage --optional` because the \"local metadata\" (`$SAGE_ROOT/build/pkgs/<package>/package-version.txt`) differs from what `spkg/optional/list` gives.  (Same issue as with our current standard packages.)\n\nA more funny one is TOPCOM:\n\n`./sage -i TOPCOM` installs the \"legacy\" spkg, while `./sage -i topcom` installs the \"new-style\" spkg.  (The package versions are currently still the same though, modulo a `.p0` for the \"new-style\" one.)",
    "created_at": "2015-05-09T17:14:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199118",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:75" align="right">Comment 75</div>

Harald, also note Jeroen's comment I quoted [above](#comment%3A72).

Meanwhile, it's not just standard packages, but also optional packages, of which (only) some now have the "new style", i.e., the data of newer ones is hardcoded into the Sage releases, while obsolete "old-style" packages remain in `spkg/optional/list` (and `spkg/optional/`).

`./sage --optional` shows some examples of optional packages which became standard:

```
Optional packages:

...
git-1.7.12.2.p0 ........................ installed version: 2.3.0
...
pyzmq-2.1.11.p1 ........................ installed version: 14.3.0
...
zeromq-3.2.0.p0 ........................ installed version: 4.0.5
```

There are other still optional packages where `sage -i ...` would install newer versions than listed by `sage --optional` because the "local metadata" (`$SAGE_ROOT/build/pkgs/<package>/package-version.txt`) differs from what `spkg/optional/list` gives.  (Same issue as with our current standard packages.)

A more funny one is TOPCOM:

`./sage -i TOPCOM` installs the "legacy" spkg, while `./sage -i topcom` installs the "new-style" spkg.  (The package versions are currently still the same though, modulo a `.p0` for the "new-style" one.)



---

archive/issue_comments_199119.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">Comment 76</div>\n\nWe definitely should not check sagemath.org/packages any more, I've already changed the release management scripts to no longer put the tarballs there.",
    "created_at": "2015-05-09T18:08:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199119",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:76" align="right">Comment 76</div>

We definitely should not check sagemath.org/packages any more, I've already changed the release management scripts to no longer put the tarballs there.



---

archive/issue_comments_199120.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">Comment 77</div>\n\nReplying to [@vbraun](#comment%3A76):\n> We definitely should not check sagemath.org/packages any more, I've already changed the release management scripts to no longer put the tarballs there.\n\nOk, `sagemath.org/spkg/`* gave a 404 for a while, but apparently works again.",
    "created_at": "2015-05-09T18:30:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199120",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:77" align="right">Comment 77</div>

Replying to [@vbraun](#comment%3A76):
> We definitely should not check sagemath.org/packages any more, I've already changed the release management scripts to no longer put the tarballs there.

Ok, `sagemath.org/spkg/`* gave a 404 for a while, but apparently works again.



---

archive/issue_comments_199121.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">Comment 78</div>\n\n**Note for other reviewers:**  So far I'm ok with the changes/corrections made, but haven't yet tested thoroughly enough (I think).\n\nWhile I don't like completely changing the previously *generic* character of `sage-download-file` (nor removing the \"shell fallback\" with e.g. `wget` or `curl` if Python isn't available or functional), I strongly doubt we could convince the author or the RM to change that back to how it was.\n\nFTP support (probably with Python3) and e.g. usage of a static mirror list (perhaps to be shipped with Sage) is something for follow-up tickets; the broken behaviour of `sage-list-packages` is (or will be) dealt with at #16759, which depends on *this* ticket.\n\n\n\n\nW.r.t. the threat of losing sagemath.org for downloads:  [According to William](http://article.gmane.org/gmane.comp.mathematics.sage.devel/79645), *\"soon\" is not **that** soon*.",
    "created_at": "2015-05-10T15:03:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199121",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:78" align="right">Comment 78</div>

**Note for other reviewers:**  So far I'm ok with the changes/corrections made, but haven't yet tested thoroughly enough (I think).

While I don't like completely changing the previously *generic* character of `sage-download-file` (nor removing the "shell fallback" with e.g. `wget` or `curl` if Python isn't available or functional), I strongly doubt we could convince the author or the RM to change that back to how it was.

FTP support (probably with Python3) and e.g. usage of a static mirror list (perhaps to be shipped with Sage) is something for follow-up tickets; the broken behaviour of `sage-list-packages` is (or will be) dealt with at #16759, which depends on *this* ticket.




W.r.t. the threat of losing sagemath.org for downloads:  [According to William](http://article.gmane.org/gmane.comp.mathematics.sage.devel/79645), *"soon" is not **that** soon*.



---

archive/issue_comments_199122.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">Comment 79</div>\n\nI don't mind if you rewrite the functionality in bash fwiw. I would consider it utterly retarded and backward, but as long as it works and you are committed to maintaining that solution then that would be fine with me.",
    "created_at": "2015-05-10T15:06:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199122",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:79" align="right">Comment 79</div>

I don't mind if you rewrite the functionality in bash fwiw. I would consider it utterly retarded and backward, but as long as it works and you are committed to maintaining that solution then that would be fine with me.



---

archive/issue_comments_199123.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">Comment 80</div>\n\nReplying to [@nexttime](#comment%3A77):\n> Ok, `sagemath.org/spkg/`* gave a 404 for a while, but apparently works again.\n\nUhm, to reduce that confusion a little bit: The source of this inconsistency is that right now most of the old infrastructure is still running, including the currently \"old\" website. I would suggest to wait until the \"new\" website is operational. Then, any bugs in scripts relying on the website will be obvious (and fixes to the new website visible immediately).\n\nThe reason why this is a bit slow is, because there are many links assuming certain subdirectories (for documentation and e.g. /mirror/) and my time is limited. I could report back once the DNS entry has switched to the new page.\n\nPS: \"new\" just means, that there are minor changes like an additional mirror, publications etc. The current \"old\" website is an older fork of the website with some other patches. Hence this diverged and there is no need to support the old one any more.",
    "created_at": "2015-05-10T15:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199123",
    "user": "https://github.com/haraldschilly"
}
```

<div id="comment:80" align="right">Comment 80</div>

Replying to [@nexttime](#comment%3A77):
> Ok, `sagemath.org/spkg/`* gave a 404 for a while, but apparently works again.

Uhm, to reduce that confusion a little bit: The source of this inconsistency is that right now most of the old infrastructure is still running, including the currently "old" website. I would suggest to wait until the "new" website is operational. Then, any bugs in scripts relying on the website will be obvious (and fixes to the new website visible immediately).

The reason why this is a bit slow is, because there are many links assuming certain subdirectories (for documentation and e.g. /mirror/) and my time is limited. I could report back once the DNS entry has switched to the new page.

PS: "new" just means, that there are minor changes like an additional mirror, publications etc. The current "old" website is an older fork of the website with some other patches. Hence this diverged and there is no need to support the old one any more.



---

archive/issue_comments_199124.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">Comment 81</div>\n\nReplying to [@haraldschilly](#comment%3A80):\n> I could report back once the DNS entry has switched to the new page.\n\nETA Hausnummer?\n\n\n> PS: \"new\" just means, that there are minor changes like an additional mirror, publications etc. The current \"old\" website is an older fork of the website with some other patches. Hence this diverged and there is no need to support the old one any more.\n\nCould we already test the new one (using its unofficial address) w.r.t. download stuff / package (and mirror) lists?",
    "created_at": "2015-05-10T15:26:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199124",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:81" align="right">Comment 81</div>

Replying to [@haraldschilly](#comment%3A80):
> I could report back once the DNS entry has switched to the new page.

ETA Hausnummer?


> PS: "new" just means, that there are minor changes like an additional mirror, publications etc. The current "old" website is an older fork of the website with some other patches. Hence this diverged and there is no need to support the old one any more.

Could we already test the new one (using its unofficial address) w.r.t. download stuff / package (and mirror) lists?



---

archive/issue_comments_199125.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">Comment 82</div>\n\nThe attached branch will only use www.sagemath.org to download the mirror list, so once we have merged it there are a lot fewer things that could break.",
    "created_at": "2015-05-10T15:32:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199125",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:82" align="right">Comment 82</div>

The attached branch will only use www.sagemath.org to download the mirror list, so once we have merged it there are a lot fewer things that could break.



---

archive/issue_comments_199126.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">Comment 83</div>\n\nReplying to [@nexttime](#comment%3A81):\n> ETA Hausnummer?\n\nFriday. It's tedious stupid work, so maybe I'm already whining more about it than it will actually take to work on.\n\n> Could we already test the new one (using its unofficial address) w.r.t. download stuff / package (and mirror) lists?\n\nNo, Github resolves the inofficial URL to the official one and I don't want to mess with this around even more.",
    "created_at": "2015-05-10T15:33:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199126",
    "user": "https://github.com/haraldschilly"
}
```

<div id="comment:83" align="right">Comment 83</div>

Replying to [@nexttime](#comment%3A81):
> ETA Hausnummer?

Friday. It's tedious stupid work, so maybe I'm already whining more about it than it will actually take to work on.

> Could we already test the new one (using its unofficial address) w.r.t. download stuff / package (and mirror) lists?

No, Github resolves the inofficial URL to the official one and I don't want to mess with this around even more.



---

archive/issue_comments_199127.json:
```json
{
    "body": "<div id=\"comment:84\" align=\"right\">Comment 84</div>\n\nReplying to [@vbraun](#comment%3A82):\n> The attached branch will only use www.sagemath.org to download the mirror list ...\n\nYes, it's just one file, and as already mentioned: the full list could easily be hardcoded as a backup into Sage to remove that SPOF. Ticket for later please :-)",
    "created_at": "2015-05-10T15:35:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199127",
    "user": "https://github.com/haraldschilly"
}
```

<div id="comment:84" align="right">Comment 84</div>

Replying to [@vbraun](#comment%3A82):
> The attached branch will only use www.sagemath.org to download the mirror list ...

Yes, it's just one file, and as already mentioned: the full list could easily be hardcoded as a backup into Sage to remove that SPOF. Ticket for later please :-)



---

archive/issue_comments_199128.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">Comment 85</div>\n\nReplying to [@vbraun](#comment%3A82):\n> once we have merged it there are a lot fewer things that could break.\n\nProvided the mirrors can still sync...\n\n\n\n\nIn principle we could already include a snapshot of `mirror_list` into the git tree (in `$SAGE_ROOT/`?  in more human-readable form?).  The dynamic one should rather be located in `$SAGE_ROOT/local/var/{lib,tmp}/sage/`, say, not `$SAGE_DIST_FILES/` (defaults to `$SAGE_ROOT/upstream/`).",
    "created_at": "2015-05-10T16:25:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199128",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:85" align="right">Comment 85</div>

Replying to [@vbraun](#comment%3A82):
> once we have merged it there are a lot fewer things that could break.

Provided the mirrors can still sync...




In principle we could already include a snapshot of `mirror_list` into the git tree (in `$SAGE_ROOT/`?  in more human-readable form?).  The dynamic one should rather be located in `$SAGE_ROOT/local/var/{lib,tmp}/sage/`, say, not `$SAGE_DIST_FILES/` (defaults to `$SAGE_ROOT/upstream/`).



---

archive/issue_comments_199129.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">Comment 86</div>\n\nNothing else needs the mirror list so why put it in a separate file? In any case, this question should be dealt with in a separate ticket.",
    "created_at": "2015-05-10T20:12:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199129",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:86" align="right">Comment 86</div>

Nothing else needs the mirror list so why put it in a separate file? In any case, this question should be dealt with in a separate ticket.



---

archive/issue_comments_199130.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">Comment 87</div>\n\nReplying to [@vbraun](#comment%3A86):\n> Nothing else needs the mirror list\n\nHuman users perhaps?\n\n> so why put it in a separate file?\n\nYou're right, all package metadata should be moved into `sage-spkg` as well.",
    "created_at": "2015-05-10T20:26:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199130",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:87" align="right">Comment 87</div>

Replying to [@vbraun](#comment%3A86):
> Nothing else needs the mirror list

Human users perhaps?

> so why put it in a separate file?

You're right, all package metadata should be moved into `sage-spkg` as well.



---

archive/issue_comments_199131.json:
```json
{
    "body": "<div id=\"comment:88\" align=\"right\">Comment 88</div>\n\nThere are many packages but only one mirror list. Your argument is invalid.\n\nNot to mention the question of what file format, custom = crap, json = not exactly human-readable, yaml = not necessarily available in the System python, is it supposed to be readable from a shell script, ...",
    "created_at": "2015-05-11T08:05:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199131",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:88" align="right">Comment 88</div>

There are many packages but only one mirror list. Your argument is invalid.

Not to mention the question of what file format, custom = crap, json = not exactly human-readable, yaml = not necessarily available in the System python, is it supposed to be readable from a shell script, ...



---

archive/issue_comments_199132.json:
```json
{
    "body": "<div id=\"comment:89\" align=\"right\">Comment 89</div>\n\nPlain text, one URL per line, preferably in the top-level folder.  What's the problem?\n\nAny human and any kind of script can easily read such.  (If you want to add further data such as organization, location etc., just put that after each URL, seperated by whitespace, but I wouldn't even do that.  We don't have to process that.  Blank lines and comment lines starting with `#` at the first position would IMHO be ok, too, but that's not really needed.  Order of the mirrors doesn't matter for our purposes either, although we could keep them sorted by continent, say.) \n\nI thought we had postponed that to a follow-up ticket.",
    "created_at": "2015-05-11T08:48:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199132",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:89" align="right">Comment 89</div>

Plain text, one URL per line, preferably in the top-level folder.  What's the problem?

Any human and any kind of script can easily read such.  (If you want to add further data such as organization, location etc., just put that after each URL, seperated by whitespace, but I wouldn't even do that.  We don't have to process that.  Blank lines and comment lines starting with `#` at the first position would IMHO be ok, too, but that's not really needed.  Order of the mirrors doesn't matter for our purposes either, although we could keep them sorted by continent, say.) 

I thought we had postponed that to a follow-up ticket.



---

archive/issue_comments_199133.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">Comment 90</div>\n\nReplying to [@nexttime](#comment%3A89):\n> I thought we had postponed that to a follow-up ticket.\n\nWe have, but you keep bringing it up.",
    "created_at": "2015-05-11T09:06:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199133",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:90" align="right">Comment 90</div>

Replying to [@nexttime](#comment%3A89):
> I thought we had postponed that to a follow-up ticket.

We have, but you keep bringing it up.



---

archive/issue_comments_199134.json:
```json
{
    "body": "<div id=\"comment:91\" align=\"right\">Comment 91</div>\n\nReplying to [@vbraun](#comment%3A90):\n> you keep bringing it up.\n\nNot me, [Harald](#comment%3A84) did.",
    "created_at": "2015-05-11T09:22:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199134",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:91" align="right">Comment 91</div>

Replying to [@vbraun](#comment%3A90):
> you keep bringing it up.

Not me, [Harald](#comment%3A84) did.



---

archive/issue_comments_199135.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">Comment 92</div>\n\nReplying to [@nexttime](#comment%3A81):\n> Replying to [@haraldschilly](#comment%3A80):\n> > I could report back once the DNS entry has switched to the new page.\n\n> \n> ETA Hausnummer?\n\nYay! 2 days ahead of schedule! I fixed all the obviously broken links and there are just two minor details left.",
    "created_at": "2015-05-13T19:16:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199135",
    "user": "https://github.com/haraldschilly"
}
```

<div id="comment:92" align="right">Comment 92</div>

Replying to [@nexttime](#comment%3A81):
> Replying to [@haraldschilly](#comment%3A80):
> > I could report back once the DNS entry has switched to the new page.

> 
> ETA Hausnummer?

Yay! 2 days ahead of schedule! I fixed all the obviously broken links and there are just two minor details left.



---

archive/issue_comments_199136.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2015-05-13T19:17:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199136",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Volker Braun**



---

archive/issue_events_205705.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-13T19:17:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205705"
}
```



---

archive/issue_events_205706.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-13T19:17:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205706"
}
```



---

archive/issue_comments_199137.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">Comment 94</div>\n\nReplying to [@haraldschilly](#comment%3A92):\n> Replying to [@nexttime](#comment%3A81):\n> > Replying to [@haraldschilly](#comment%3A80):\n> > > I could report back once the DNS entry has switched to the new page.\n\n> > \n> > ETA Hausnummer?\n\n> \n> Yay! 2 days ahead of schedule! I fixed all the obviously broken links and there are just two minor details left.\n\nsagemath.org no longer serves packages (especially not the upstream tarballs); is that intentional, or will it again?  (Cf. [sage-release](http://thread.gmane.org/gmane.comp.mathematics.sage.release/2834).)",
    "created_at": "2015-05-13T19:32:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199137",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:94" align="right">Comment 94</div>

Replying to [@haraldschilly](#comment%3A92):
> Replying to [@nexttime](#comment%3A81):
> > Replying to [@haraldschilly](#comment%3A80):
> > > I could report back once the DNS entry has switched to the new page.

> > 
> > ETA Hausnummer?

> 
> Yay! 2 days ahead of schedule! I fixed all the obviously broken links and there are just two minor details left.

sagemath.org no longer serves packages (especially not the upstream tarballs); is that intentional, or will it again?  (Cf. [sage-release](http://thread.gmane.org/gmane.comp.mathematics.sage.release/2834).)



---

archive/issue_comments_199138.json:
```json
{
    "body": "Changed branch from **[u/vbraun/use_mirrors_for_tarballs](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/use_mirrors_for_tarballs)** to **[d79364b](https://github.com/sagemath/sagetrac-mirror/commit/d79364b9fc5131199eaed14340582715f2f937fb)**",
    "created_at": "2015-05-13T20:11:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15642#issuecomment-199138",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/use_mirrors_for_tarballs](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/use_mirrors_for_tarballs)** to **[d79364b](https://github.com/sagemath/sagetrac-mirror/commit/d79364b9fc5131199eaed14340582715f2f937fb)**



---

archive/issue_events_205707.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-13T20:11:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205707"
}
```



---

archive/issue_events_205708.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "99282a4ff7708ac4bcc0e15e9df55c64c6320f41",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-05-13T20:11:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15642",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15642#event-205708"
}
```
