# Issue 15862: Mutability of tableaux part I: lists of tuples instead of lists of lists

archive/issues_015625.json:
```json
{
    "assignees": [],
    "body": "Tableaux in Sage used to be implemented as lists of lists. The outer list was wrapped in a `CombinatorialObject`, which made it immutable (at least without accessing underscored attributes). The inner lists, however, could be easily mutated; for example:\n\n```\nsage: T = Tableau([[1,2],[2]])\nsage: t0 = T[0]\nsage: t0[1] = 3 \nsage: T\n[[1, 3], [2]]\n```\nThis kind of mutability was likely not intended. I, personally, have only ever triggered it by accident.\n\nThe present branch replaces the inner lists in the implementation of tableaux and skew tableaux by tuples. As a consequence, tableaux become completely (rather than just shallowly) immutable (unless their entries themselves are mutable, which can be blamed on the user). They are still printed as lists of lists, but this is just a `_repr_` issue.\n\nThe branch also makes some optimizations and corrections.\n\n---\n\nOld description:\n\nTableaux in Sage are mutable objects, at least indirectly:\n\n```\nsage: T = Tableau([[1,2],[2]])\nsage: t0 = T[0]\nsage: t0[1] = 3 \nsage: T\n[[1, 3], [2]]\n```\nThis in itself is probably not a bug, although not the kind of behavior I like either (what exactly is sped up by mutability of tableaux?). But there are things which probably are bugs given this behavior:\n\n1. Tableaux are hashed by reference:\n\n```\nsage: T = Tableau([[1,2],[2]])\nsage: hash(T)\n-7723024261707595164\nsage: T[0][1] = 4\nsage: hash(T)\n-7723024261707595164\n```\n\n2. Line 311 of `sage/combinat/tableau.py` says:\n\n```\n            # Since we are (suppose to be) immutable, we can share the underlying data\n```\nBut we are not immutable. This comment line is supposed to provide justification for initializing the tableau as a `CombinatorialObject`, but the docstring of `CombinatorialObject` says that \"CombinatorialObjects are shallowly immutable, and the intention is that they are semantically immutable\". The latter is not satisfied for tableaux.\n\nIf we want tableaux to be mutable, why wrap them inside such a class? If we want them to be immutable, wouldn't it be right to encode them as CombinatorialObjects of CombinatorialObjects? Or is the speed cost for this too steep? And, finally, what is it that CombinatorialObject does that tuple does not?\n\nAnd, on a related note, does Sage provide a class for immutable dictionaries? (I'm still hell-bent on implementing arbitrary-shaped tableaux.)\n\n3. Mutating tableaux poisons type judgments (or what passes for type judgments in Sage):\n\n```\nsage: T = StandardTableau([[1,2],[3]])\nsage: T[0][1] = 5\nsage: isinstance(T, StandardTableau)\nTrue\n```\n\n4. There is some action at a distance (although fortunately rare):\n\n```\nsage: T = SkewTableau([[1,2],[3]])\nsage: S = T.to_tableau()  # Tableau(S) doesn't work, wondering if it should?\nsage: S\n[[1, 2], [3]]\nsage: T\n[[1, 2], [3]]\nsage: T[0][1] = 5\nsage: S\n[[1, 5], [3]]\nsage: T\n[[1, 5], [3]]\n```\n\n5. How would I define Loday's Hopf algebra of tableaux if tableaux are mutable?\n\nCC:  @anneschilling @tscrim @nthiery @stumpc5 @AndrewAtLarge @zabrocki @sagetrac-sage-combinat @hivert @sagetrac-jpswanson\n\nKeywords: **tableaux, sage-combinat, mutability, days64**\n\nBranch/Commit: **[`430003d`](https://github.com/sagemath/sagetrac-mirror/commit/430003da7a7b6d3afc60e385f3d6e812b3864f25)**\n\nStopgaps: **#17997**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Josh Swanson, Jan Keitel, Darij Grinberg**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15862_\n\n",
    "closed_at": "2015-04-14T19:44:14Z",
    "created_at": "2014-02-25T21:55:23Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Mutability of tableaux part I: lists of tuples instead of lists of lists",
    "type": "issue",
    "updated_at": "2015-04-14T19:44:14Z",
    "url": "https://github.com/sagemath/sage/issues/15862",
    "user": "https://github.com/darijgr"
}
```
Tableaux in Sage used to be implemented as lists of lists. The outer list was wrapped in a `CombinatorialObject`, which made it immutable (at least without accessing underscored attributes). The inner lists, however, could be easily mutated; for example:

```
sage: T = Tableau([[1,2],[2]])
sage: t0 = T[0]
sage: t0[1] = 3 
sage: T
[[1, 3], [2]]
```
This kind of mutability was likely not intended. I, personally, have only ever triggered it by accident.

The present branch replaces the inner lists in the implementation of tableaux and skew tableaux by tuples. As a consequence, tableaux become completely (rather than just shallowly) immutable (unless their entries themselves are mutable, which can be blamed on the user). They are still printed as lists of lists, but this is just a `_repr_` issue.

The branch also makes some optimizations and corrections.

---

Old description:

Tableaux in Sage are mutable objects, at least indirectly:

```
sage: T = Tableau([[1,2],[2]])
sage: t0 = T[0]
sage: t0[1] = 3 
sage: T
[[1, 3], [2]]
```
This in itself is probably not a bug, although not the kind of behavior I like either (what exactly is sped up by mutability of tableaux?). But there are things which probably are bugs given this behavior:

1. Tableaux are hashed by reference:

```
sage: T = Tableau([[1,2],[2]])
sage: hash(T)
-7723024261707595164
sage: T[0][1] = 4
sage: hash(T)
-7723024261707595164
```

2. Line 311 of `sage/combinat/tableau.py` says:

```
            # Since we are (suppose to be) immutable, we can share the underlying data
```
But we are not immutable. This comment line is supposed to provide justification for initializing the tableau as a `CombinatorialObject`, but the docstring of `CombinatorialObject` says that "CombinatorialObjects are shallowly immutable, and the intention is that they are semantically immutable". The latter is not satisfied for tableaux.

If we want tableaux to be mutable, why wrap them inside such a class? If we want them to be immutable, wouldn't it be right to encode them as CombinatorialObjects of CombinatorialObjects? Or is the speed cost for this too steep? And, finally, what is it that CombinatorialObject does that tuple does not?

And, on a related note, does Sage provide a class for immutable dictionaries? (I'm still hell-bent on implementing arbitrary-shaped tableaux.)

3. Mutating tableaux poisons type judgments (or what passes for type judgments in Sage):

```
sage: T = StandardTableau([[1,2],[3]])
sage: T[0][1] = 5
sage: isinstance(T, StandardTableau)
True
```

4. There is some action at a distance (although fortunately rare):

```
sage: T = SkewTableau([[1,2],[3]])
sage: S = T.to_tableau()  # Tableau(S) doesn't work, wondering if it should?
sage: S
[[1, 2], [3]]
sage: T
[[1, 2], [3]]
sage: T[0][1] = 5
sage: S
[[1, 5], [3]]
sage: T
[[1, 5], [3]]
```

5. How would I define Loday's Hopf algebra of tableaux if tableaux are mutable?

CC:  @anneschilling @tscrim @nthiery @stumpc5 @AndrewAtLarge @zabrocki @sagetrac-sage-combinat @hivert @sagetrac-jpswanson

Keywords: **tableaux, sage-combinat, mutability, days64**

Branch/Commit: **[`430003d`](https://github.com/sagemath/sagetrac-mirror/commit/430003da7a7b6d3afc60e385f3d6e812b3864f25)**

Stopgaps: **#17997**

Reviewer: **Travis Scrimshaw**

Author: **Josh Swanson, Jan Keitel, Darij Grinberg**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/15862_





---

archive/issue_events_227501.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2014-02-25T21:55:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15862#event-227501"
}
```



---

archive/issue_events_227502.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2014-02-25T21:55:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15862#event-227502"
}
```



---

archive/issue_events_227503.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2014-02-25T21:55:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15862#event-227503"
}
```



---

archive/issue_events_227504.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2014-02-25T21:55:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15862#event-227504"
}
```



---

archive/issue_comments_200707.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -35,7 +35,7 @@\n \n ```\n sage: T = StandardTableau([[1,2],[3]])\n-sage: T[0][1] = 2\n+sage: T[0][1] = 5\n sage: isinstance(T, StandardTableau)\n True\n ```\n``````\n",
    "created_at": "2014-02-25T21:56:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200707",
    "user": "https://github.com/darijgr"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -35,7 +35,7 @@
 
 ```
 sage: T = StandardTableau([[1,2],[3]])
-sage: T[0][1] = 2
+sage: T[0][1] = 5
 sage: isinstance(T, StandardTableau)
 True
 ```
``````




---

archive/issue_comments_200708.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThis is definitely an issue. My first thought is to convert all of the sublists (rows) of the tableaux as tuples and upon calling `_repr_`, convert them back to lists. I'll think more about this today.",
    "created_at": "2014-02-26T15:45:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200708",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:2" align="right">comment:2</div>

This is definitely an issue. My first thought is to convert all of the sublists (rows) of the tableaux as tuples and upon calling `_repr_`, convert them back to lists. I'll think more about this today.



---

archive/issue_comments_200709.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAny results? I'm also in favor in tuples. Do you think there will be a speed regression to this? It seems to me that we are not making any use of the deep mutability of tableaux, so I wouldn't expect that to happen.",
    "created_at": "2014-02-28T19:50:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200709",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:3" align="right">comment:3</div>

Any results? I'm also in favor in tuples. Do you think there will be a speed regression to this? It seems to me that we are not making any use of the deep mutability of tableaux, so I wouldn't expect that to happen.



---

archive/issue_comments_200710.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nSorry, I let this one drop off my radar. Here's the block that we should look at IMO (lines 315-318 in `tableau.py`)\n\n```python\n# CombinatorialObject verifies that t is a list\n# We must verify t is a list of lists\nif not all(isinstance(row, list) for row in t):\n    raise ValueError(\"A tableau must be a list of lists.\")\n```\nThe first part of the comment is bogus, `CombinatorialObject` verifies that `t` acts like a list:\n\n```\nsage: CombinatorialObject((1,2,3))\n[1, 2, 3]\n```\nand from it's doc:\n\n```\n- ``l`` -- a list or any object that can be convert to a list by ``list``\n```\nThe part we need to look it is should we just do something like `t = map(tuple, t)` for the tableau input and let that error out?\n\nOverall, there will be speed regression in the printing of tableaux. Here's what I would do for the `_repr_()`:\n\n```python\ndef _repr_(self):\n    return repr(map(list, self._list))\n```\nand here are some sample timings:\n\n```\nsage: L = [(1,2)]*5\nsage: %timeit repr(L)\n100000 loops, best of 3: 14.5 us per loop\nsage: %timeit repr(map(list, L))\n10000 loops, best of 3: 17.2 us per loop\nsage: L = [(1,2)]*20\nsage: %timeit repr(L)\n10000 loops, best of 3: 48.7 us per loop\nsage: %timeit repr(map(list, L))\n10000 loops, best of 3: 62 us per loop\nsage: L = [(1,2,3,4)]*100\nsage: %timeit repr(L)\n1000 loops, best of 3: 332 us per loop\nsage: %timeit repr(map(list, L))\n1000 loops, best of 3: 401 us per loop\n```\nSo it's about 10-20% slowdown.\n(FYI `repr(L)` seems to be ever so slightly faster than `L.__repr__()`.)\nSo perhaps we should make them all `CombinatorialObject` instead of `tuple`...?\n\nThe other option to this would be having `__getitem__()` and the like return tuples or copies of the lists. I'm worried this might also result in a slowdown in code that is called significantly more often.\n\nFor point 2., that shared data comment is about creating a tableau from another tableau. I use `Family` when I want immutable dictionaries, although I would still use a list of list (type) approach to arbitrary shaped tableaux.",
    "created_at": "2014-03-03T15:47:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200710",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:4" align="right">comment:4</div>

Sorry, I let this one drop off my radar. Here's the block that we should look at IMO (lines 315-318 in `tableau.py`)

```python
# CombinatorialObject verifies that t is a list
# We must verify t is a list of lists
if not all(isinstance(row, list) for row in t):
    raise ValueError("A tableau must be a list of lists.")
```
The first part of the comment is bogus, `CombinatorialObject` verifies that `t` acts like a list:

```
sage: CombinatorialObject((1,2,3))
[1, 2, 3]
```
and from it's doc:

```
- ``l`` -- a list or any object that can be convert to a list by ``list``
```
The part we need to look it is should we just do something like `t = map(tuple, t)` for the tableau input and let that error out?

Overall, there will be speed regression in the printing of tableaux. Here's what I would do for the `_repr_()`:

```python
def _repr_(self):
    return repr(map(list, self._list))
```
and here are some sample timings:

```
sage: L = [(1,2)]*5
sage: %timeit repr(L)
100000 loops, best of 3: 14.5 us per loop
sage: %timeit repr(map(list, L))
10000 loops, best of 3: 17.2 us per loop
sage: L = [(1,2)]*20
sage: %timeit repr(L)
10000 loops, best of 3: 48.7 us per loop
sage: %timeit repr(map(list, L))
10000 loops, best of 3: 62 us per loop
sage: L = [(1,2,3,4)]*100
sage: %timeit repr(L)
1000 loops, best of 3: 332 us per loop
sage: %timeit repr(map(list, L))
1000 loops, best of 3: 401 us per loop
```
So it's about 10-20% slowdown.
(FYI `repr(L)` seems to be ever so slightly faster than `L.__repr__()`.)
So perhaps we should make them all `CombinatorialObject` instead of `tuple`...?

The other option to this would be having `__getitem__()` and the like return tuples or copies of the lists. I'm worried this might also result in a slowdown in code that is called significantly more often.

For point 2., that shared data comment is about creating a tableau from another tableau. I use `Family` when I want immutable dictionaries, although I would still use a list of list (type) approach to arbitrary shaped tableaux.



---

archive/issue_comments_200711.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\n`t = map(tuple, t)` sounds like a good idea to me. The immutability of the outer list is handled by `CombinatorialObject`, so we only need to care about the inner ones.\n\nIs `_repr_` slowdown important? That is, is `_repr_` used in any non-IO contexts such as hashing and caching? (I know it sometimes is; the question whether it is here.)\n\nIs `_repr_` the only thing that gets slowed down if we replace the (inner) lists by tuples? I'd say it should be, because any method on tableaux that needs to mess around with rows as lists currently needs to clone them before doing so, and experiments tell me that `t[:]` is considerably faster when `t` is a tuple than when `t` is a list:\n\n```\nsage: g = tuple(range(15))\nsage: %timeit g[:]\n10000000 loops, best of 3: 73.4 ns per loop\nsage: g = range(15)\nsage: %timeit g[:]\n1000000 loops, best of 3: 197 ns per loop\nsage: g = tuple(range(3))\nsage: %timeit g[:]\n10000000 loops, best of 3: 73.4 ns per loop\nsage: g = range(3)\nsage: %timeit g[:]\n10000000 loops, best of 3: 158 ns per loop\n```\n\n***\n\nThis might and not might be related, but do you have any idea where the slowdowns in [#14711 comment:107](https://github.com/sagemath/sage/issues/14711#comment:107) come from? (I'm aware that running all doctests in series is not the scientific way of assessing performance, but I'm still worried about tableaux getting slower...)",
    "created_at": "2014-03-05T18:38:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200711",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:5" align="right">comment:5</div>

`t = map(tuple, t)` sounds like a good idea to me. The immutability of the outer list is handled by `CombinatorialObject`, so we only need to care about the inner ones.

Is `_repr_` slowdown important? That is, is `_repr_` used in any non-IO contexts such as hashing and caching? (I know it sometimes is; the question whether it is here.)

Is `_repr_` the only thing that gets slowed down if we replace the (inner) lists by tuples? I'd say it should be, because any method on tableaux that needs to mess around with rows as lists currently needs to clone them before doing so, and experiments tell me that `t[:]` is considerably faster when `t` is a tuple than when `t` is a list:

```
sage: g = tuple(range(15))
sage: %timeit g[:]
10000000 loops, best of 3: 73.4 ns per loop
sage: g = range(15)
sage: %timeit g[:]
1000000 loops, best of 3: 197 ns per loop
sage: g = tuple(range(3))
sage: %timeit g[:]
10000000 loops, best of 3: 73.4 ns per loop
sage: g = range(3)
sage: %timeit g[:]
10000000 loops, best of 3: 158 ns per loop
```

***

This might and not might be related, but do you have any idea where the slowdowns in [#14711 comment:107](https://github.com/sagemath/sage/issues/14711#comment:107) come from? (I'm aware that running all doctests in series is not the scientific way of assessing performance, but I'm still worried about tableaux getting slower...)



---

archive/issue_comments_200712.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nCurrently the `_repr_` is used to create the hash for `CombinatorialObject`. We might be better served storing `CombinatorialObject` as a tuple instead of a list and just using the default hash. (Also you can think of `CombinatorialObject` as the `SageObject` equivalent to a python tuple.)\n\nIn regards to #14711 and from what I understand of Simon's comment, it is about the creation of the parent object `Tableaux()` and is not a slowdown per-say. More specifically, it's about the weakly referenced `Tableaux()` parent having to be recreated during Sage's startup since the morphisms which hold a weak reference to it are being recreated. So once you do hold a strong reference to `Tableaux()`, it won't be destroyed/recreated (of course unless you delete the strong reference as well). Moreover, although the relative value is high, the absolute value is still low so I don't think it's affecting things much.",
    "created_at": "2014-03-05T23:40:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200712",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">comment:6</div>

Currently the `_repr_` is used to create the hash for `CombinatorialObject`. We might be better served storing `CombinatorialObject` as a tuple instead of a list and just using the default hash. (Also you can think of `CombinatorialObject` as the `SageObject` equivalent to a python tuple.)

In regards to #14711 and from what I understand of Simon's comment, it is about the creation of the parent object `Tableaux()` and is not a slowdown per-say. More specifically, it's about the weakly referenced `Tableaux()` parent having to be recreated during Sage's startup since the morphisms which hold a weak reference to it are being recreated. So once you do hold a strong reference to `Tableaux()`, it won't be destroyed/recreated (of course unless you delete the strong reference as well). Moreover, although the relative value is high, the absolute value is still low so I don't think it's affecting things much.



---

archive/issue_comments_200713.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI haven't looked seriously at the code recently so this is just a random thought. A priori, the general plan for this kind of object is to move from `CombinatorialObject` to `ClonableList` or one of its friends. Maybe a `ClonableList` of tuples, or even a Clonable array of arrays of C ints.\n\nCheers,\n                          Nicolas",
    "created_at": "2014-03-07T12:45:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200713",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:7" align="right">comment:7</div>

I haven't looked seriously at the code recently so this is just a random thought. A priori, the general plan for this kind of object is to move from `CombinatorialObject` to `ClonableList` or one of its friends. Maybe a `ClonableList` of tuples, or even a Clonable array of arrays of C ints.

Cheers,
                          Nicolas



---

archive/issue_comments_200714.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n`@`Nicolas: Thank you. Can you remind me how `ClonableList` differs from `CombinatorialObject`? Does it allow mutation at clone time?\n\nCurrently tableaux can have non-integer entries, and this is both useful and used (e.g. for skew tableaux). So I'm not convinced of switching to C ints.\n\n@tscrim: Apparently combinatorial objects hash like this:\n\n```\n        if self._hash is None:\n            self._hash = str(self._list).__hash__()\n        return self._hash\n```\nSo the `__repr__` is not used, but rather the list is taken into a string and the latter is hashed. I assume this won't take any longer with tuples? Or am I looking at the wrong hash function?\n\nThanks also for your comments on #14711, though they're still somewhat over my head. What morphisms hold a weak reference to `Tableaux()`?",
    "created_at": "2014-03-07T16:50:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200714",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:8" align="right">comment:8</div>

`@`Nicolas: Thank you. Can you remind me how `ClonableList` differs from `CombinatorialObject`? Does it allow mutation at clone time?

Currently tableaux can have non-integer entries, and this is both useful and used (e.g. for skew tableaux). So I'm not convinced of switching to C ints.

@tscrim: Apparently combinatorial objects hash like this:

```
        if self._hash is None:
            self._hash = str(self._list).__hash__()
        return self._hash
```
So the `__repr__` is not used, but rather the list is taken into a string and the latter is hashed. I assume this won't take any longer with tuples? Or am I looking at the wrong hash function?

Thanks also for your comments on #14711, though they're still somewhat over my head. What morphisms hold a weak reference to `Tableaux()`?



---

archive/issue_comments_200715.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@darijgr](#comment:8):\n> `@`Nicolas: Thank you. Can you remind me how `ClonableList` differs from `CombinatorialObject`? Does it allow mutation at clone time?\n\nOne is that `ClonableList` is cythonized\n\n> Currently tableaux can have non-integer entries, and this is both useful and used (e.g. for skew tableaux). So I'm not convinced of switching to C ints.\n\nI would not switch to C ints since we I believe the crystals of tableaux are filled with wrappers around ints. In either case, it is very conceivable to me that we would want non C ints as entries.\n\n> @tscrim: Apparently combinatorial objects hash like this:\n> \n> ```\n>         if self._hash is None:\n>             self._hash = str(self._list).__hash__()\n>         return self._hash\n> ```\n> So the `__repr__` is not used, but rather the list is taken into a string and the latter is hashed. I assume this won't take any longer with tuples? Or am I looking at the wrong hash function?\n\nThe `__str__()` ends up calling the `__repr__()`, and then the resulting string is hashed since we can't just hash lists. For tuples, we can just call `hash(self._list)`.\n\n> Thanks also for your comments on #14711, though they're still somewhat over my head. What morphisms hold a weak reference to `Tableaux()`?\n\n*shrugs* Actually those parents aren't being recreated on startup, I misremembered / misread Simon's comment. It's about when running all tests. There might be some dependency cycle (perhaps directly in the morphism, but maybe not) which creates a tableau (and hence `Tableaux()`) that becomes completely weakly referenced with #14711 and so it gets garbage collected. *shrugs* IDK, it would require some detailed searching and analysis.",
    "created_at": "2014-03-10T02:26:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200715",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@darijgr](#comment:8):
> `@`Nicolas: Thank you. Can you remind me how `ClonableList` differs from `CombinatorialObject`? Does it allow mutation at clone time?

One is that `ClonableList` is cythonized

> Currently tableaux can have non-integer entries, and this is both useful and used (e.g. for skew tableaux). So I'm not convinced of switching to C ints.

I would not switch to C ints since we I believe the crystals of tableaux are filled with wrappers around ints. In either case, it is very conceivable to me that we would want non C ints as entries.

> @tscrim: Apparently combinatorial objects hash like this:
> 
> ```
>         if self._hash is None:
>             self._hash = str(self._list).__hash__()
>         return self._hash
> ```
> So the `__repr__` is not used, but rather the list is taken into a string and the latter is hashed. I assume this won't take any longer with tuples? Or am I looking at the wrong hash function?

The `__str__()` ends up calling the `__repr__()`, and then the resulting string is hashed since we can't just hash lists. For tuples, we can just call `hash(self._list)`.

> Thanks also for your comments on #14711, though they're still somewhat over my head. What morphisms hold a weak reference to `Tableaux()`?

*shrugs* Actually those parents aren't being recreated on startup, I misremembered / misread Simon's comment. It's about when running all tests. There might be some dependency cycle (perhaps directly in the morphism, but maybe not) which creates a tableau (and hence `Tableaux()`) that becomes completely weakly referenced with #14711 and so it gets garbage collected. *shrugs* IDK, it would require some detailed searching and analysis.



---

archive/issue_events_227505.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15862#event-227505"
}
```



---

archive/issue_events_227506.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15862#event-227506"
}
```



---

archive/issue_events_227507.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15862#event-227507"
}
```



---

archive/issue_events_227508.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15862#event-227508"
}
```



---

archive/issue_comments_200716.json:
```json
{
    "body": "Branch: **[public/15862](https://github.com/sagemath/sagetrac-mirror/tree/public/15862)**",
    "created_at": "2015-03-18T23:36:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200716",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

Branch: **[public/15862](https://github.com/sagemath/sagetrac-mirror/tree/public/15862)**



---

archive/issue_comments_200717.json:
```json
{
    "body": "Commit: **[`f300f91`](https://github.com/sagemath/sagetrac-mirror/commit/f300f91c2d64e054c50e53cfeb15758403ed64fb)**",
    "created_at": "2015-03-18T23:36:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200717",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

Commit: **[`f300f91`](https://github.com/sagemath/sagetrac-mirror/commit/f300f91c2d64e054c50e53cfeb15758403ed64fb)**



---

archive/issue_comments_200718.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5228b887d8477a0d1dbff250bf11814dcdb1c975\"><code>5228b88</code></a></td><td><code>crystal fixups</code></td></tr></table>\n",
    "created_at": "2015-03-19T00:26:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200718",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5228b887d8477a0d1dbff250bf11814dcdb1c975"><code>5228b88</code></a></td><td><code>crystal fixups</code></td></tr></table>




---

archive/issue_comments_200719.json:
```json
{
    "body": "Changed commit from **[`f300f91`](https://github.com/sagemath/sagetrac-mirror/commit/f300f91c2d64e054c50e53cfeb15758403ed64fb)** to **[`5228b88`](https://github.com/sagemath/sagetrac-mirror/commit/5228b887d8477a0d1dbff250bf11814dcdb1c975)**",
    "created_at": "2015-03-19T00:26:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200719",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f300f91`](https://github.com/sagemath/sagetrac-mirror/commit/f300f91c2d64e054c50e53cfeb15758403ed64fb)** to **[`5228b88`](https://github.com/sagemath/sagetrac-mirror/commit/5228b887d8477a0d1dbff250bf11814dcdb1c975)**



---

archive/issue_comments_200720.json:
```json
{
    "body": "Stopgaps: **#17997**",
    "created_at": "2015-03-19T01:01:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200720",
    "user": "https://github.com/sagetrac-jpswanson"
}
```

Stopgaps: **#17997**



---

archive/issue_comments_200721.json:
```json
{
    "body": "Changed commit from **[`5228b88`](https://github.com/sagemath/sagetrac-mirror/commit/5228b887d8477a0d1dbff250bf11814dcdb1c975)** to **[`70c1fa4`](https://github.com/sagemath/sagetrac-mirror/commit/70c1fa4f3b7d15dd3677dd32d1156f7dcff5a124)**",
    "created_at": "2015-03-19T01:03:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200721",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5228b88`](https://github.com/sagemath/sagetrac-mirror/commit/5228b887d8477a0d1dbff250bf11814dcdb1c975)** to **[`70c1fa4`](https://github.com/sagemath/sagetrac-mirror/commit/70c1fa4f3b7d15dd3677dd32d1156f7dcff5a124)**



---

archive/issue_comments_200722.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70c1fa4f3b7d15dd3677dd32d1156f7dcff5a124\"><code>70c1fa4</code></a></td><td><code>more changes</code></td></tr></table>\n",
    "created_at": "2015-03-19T01:03:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200722",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70c1fa4f3b7d15dd3677dd32d1156f7dcff5a124"><code>70c1fa4</code></a></td><td><code>more changes</code></td></tr></table>




---

archive/issue_comments_200723.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/060642f29f21f18833ea088552a99bc433342565\"><code>060642f</code></a></td><td><code>infinite crystal stopgap, see #17997</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f6ab7d449a8eaa9d55829e7c25043181325e482\"><code>9f6ab7d</code></a></td><td><code>Fixed minor merge conflict</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/014e04b8bf035322ade1273b06505fa465f8ae2e\"><code>014e04b</code></a></td><td><code>All combinat doctests now pass, except for one TestSuite in ribbon_tableau.py</code></td></tr></table>\n",
    "created_at": "2015-03-19T09:32:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200723",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/060642f29f21f18833ea088552a99bc433342565"><code>060642f</code></a></td><td><code>infinite crystal stopgap, see #17997</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f6ab7d449a8eaa9d55829e7c25043181325e482"><code>9f6ab7d</code></a></td><td><code>Fixed minor merge conflict</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/014e04b8bf035322ade1273b06505fa465f8ae2e"><code>014e04b</code></a></td><td><code>All combinat doctests now pass, except for one TestSuite in ribbon_tableau.py</code></td></tr></table>




---

archive/issue_comments_200724.json:
```json
{
    "body": "Changed commit from **[`70c1fa4`](https://github.com/sagemath/sagetrac-mirror/commit/70c1fa4f3b7d15dd3677dd32d1156f7dcff5a124)** to **[`014e04b`](https://github.com/sagemath/sagetrac-mirror/commit/014e04b8bf035322ade1273b06505fa465f8ae2e)**",
    "created_at": "2015-03-19T09:32:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200724",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`70c1fa4`](https://github.com/sagemath/sagetrac-mirror/commit/70c1fa4f3b7d15dd3677dd32d1156f7dcff5a124)** to **[`014e04b`](https://github.com/sagemath/sagetrac-mirror/commit/014e04b8bf035322ade1273b06505fa465f8ae2e)**



---

archive/issue_comments_200725.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b084115c1db195bad75112b94bf765255249d983\"><code>b084115</code></a></td><td><code>Clean up a bit and fix remaining failing doctest.</code></td></tr></table>\n",
    "created_at": "2015-03-19T17:25:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200725",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b084115c1db195bad75112b94bf765255249d983"><code>b084115</code></a></td><td><code>Clean up a bit and fix remaining failing doctest.</code></td></tr></table>




---

archive/issue_comments_200726.json:
```json
{
    "body": "Changed commit from **[`014e04b`](https://github.com/sagemath/sagetrac-mirror/commit/014e04b8bf035322ade1273b06505fa465f8ae2e)** to **[`b084115`](https://github.com/sagemath/sagetrac-mirror/commit/b084115c1db195bad75112b94bf765255249d983)**",
    "created_at": "2015-03-19T17:25:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200726",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`014e04b`](https://github.com/sagemath/sagetrac-mirror/commit/014e04b8bf035322ade1273b06505fa465f8ae2e)** to **[`b084115`](https://github.com/sagemath/sagetrac-mirror/commit/b084115c1db195bad75112b94bf765255249d983)**



---

archive/issue_comments_200727.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThis is a bit ugly at the moment:\n\n```\nsage: t = Tableau([[1,2],[3]])\nsage: list(t)\n[(1, 2), (3,)]\nsage: t.to_list()\n[[1, 2], [3]]\n```\n\nThe first calls the iterator, while the second returns an actual copy with the tuples converted to lists.",
    "created_at": "2015-03-19T17:35:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200727",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

<div id="comment:19" align="right">comment:19</div>

This is a bit ugly at the moment:

```
sage: t = Tableau([[1,2],[3]])
sage: list(t)
[(1, 2), (3,)]
sage: t.to_list()
[[1, 2], [3]]
```

The first calls the iterator, while the second returns an actual copy with the tuples converted to lists.



---

archive/issue_comments_200728.json:
```json
{
    "body": "Changed commit from **[`b084115`](https://github.com/sagemath/sagetrac-mirror/commit/b084115c1db195bad75112b94bf765255249d983)** to **[`b0ee04a`](https://github.com/sagemath/sagetrac-mirror/commit/b0ee04a6dfa11a91670d4b7487663e747d9b5894)**",
    "created_at": "2015-03-19T19:37:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200728",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b084115`](https://github.com/sagemath/sagetrac-mirror/commit/b084115c1db195bad75112b94bf765255249d983)** to **[`b0ee04a`](https://github.com/sagemath/sagetrac-mirror/commit/b0ee04a6dfa11a91670d4b7487663e747d9b5894)**



---

archive/issue_comments_200729.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0ee04a6dfa11a91670d4b7487663e747d9b5894\"><code>b0ee04a</code></a></td><td><code>Put ._list back in</code></td></tr></table>\n",
    "created_at": "2015-03-19T19:37:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200729",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0ee04a6dfa11a91670d4b7487663e747d9b5894"><code>b0ee04a</code></a></td><td><code>Put ._list back in</code></td></tr></table>




---

archive/issue_comments_200730.json:
```json
{
    "body": "Changed commit from **[`b0ee04a`](https://github.com/sagemath/sagetrac-mirror/commit/b0ee04a6dfa11a91670d4b7487663e747d9b5894)** to **[`1ff725b`](https://github.com/sagemath/sagetrac-mirror/commit/1ff725b05de3ee0c846c1cb2b3e4bf8e6ca82dfd)**",
    "created_at": "2015-03-20T03:28:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200730",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b0ee04a`](https://github.com/sagemath/sagetrac-mirror/commit/b0ee04a6dfa11a91670d4b7487663e747d9b5894)** to **[`1ff725b`](https://github.com/sagemath/sagetrac-mirror/commit/1ff725b05de3ee0c846c1cb2b3e4bf8e6ca82dfd)**



---

archive/issue_comments_200731.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ff725b05de3ee0c846c1cb2b3e4bf8e6ca82dfd\"><code>1ff725b</code></a></td><td><code>additional tangential changes</code></td></tr></table>\n",
    "created_at": "2015-03-20T03:28:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200731",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ff725b05de3ee0c846c1cb2b3e4bf8e6ca82dfd"><code>1ff725b</code></a></td><td><code>additional tangential changes</code></td></tr></table>




---

archive/issue_events_227509.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2015-03-20T04:23:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15862#event-227509"
}
```



---

archive/issue_comments_200732.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nDo we have doctests for the issues mentioned in the OP?",
    "created_at": "2015-03-20T04:23:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200732",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:23" align="right">comment:23</div>

Do we have doctests for the issues mentioned in the OP?



---

archive/issue_comments_200733.json:
```json
{
    "body": "Changed commit from **[`1ff725b`](https://github.com/sagemath/sagetrac-mirror/commit/1ff725b05de3ee0c846c1cb2b3e4bf8e6ca82dfd)** to **[`486a8cd`](https://github.com/sagemath/sagetrac-mirror/commit/486a8cd4939ce6008a19008679a29a99b0c2cd80)**",
    "created_at": "2015-03-20T05:08:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200733",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1ff725b`](https://github.com/sagemath/sagetrac-mirror/commit/1ff725b05de3ee0c846c1cb2b3e4bf8e6ca82dfd)** to **[`486a8cd`](https://github.com/sagemath/sagetrac-mirror/commit/486a8cd4939ce6008a19008679a29a99b0c2cd80)**



---

archive/issue_comments_200734.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5846a512dc255a7a324f56206ac190986aa0787\"><code>c5846a5</code></a></td><td><code>15862: Add mutability doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/486a8cd4939ce6008a19008679a29a99b0c2cd80\"><code>486a8cd</code></a></td><td><code>Merge branch 'public/15862' of trac.sagemath.org:sage into t/15862/public/15862</code></td></tr></table>\n",
    "created_at": "2015-03-20T05:08:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200734",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5846a512dc255a7a324f56206ac190986aa0787"><code>c5846a5</code></a></td><td><code>15862: Add mutability doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/486a8cd4939ce6008a19008679a29a99b0c2cd80"><code>486a8cd</code></a></td><td><code>Merge branch 'public/15862' of trac.sagemath.org:sage into t/15862/public/15862</code></td></tr></table>




---

archive/issue_comments_200735.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nWe do now.",
    "created_at": "2015-03-20T05:09:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200735",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

<div id="comment:25" align="right">comment:25</div>

We do now.



---

archive/issue_comments_200736.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d6f606e435fbbb3c2d0397c0f90f9e556ec9d2b\"><code>8d6f606</code></a></td><td><code>remove uses of to_list methods that were not actively using its listness</code></td></tr></table>\n",
    "created_at": "2015-03-20T15:02:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200736",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d6f606e435fbbb3c2d0397c0f90f9e556ec9d2b"><code>8d6f606</code></a></td><td><code>remove uses of to_list methods that were not actively using its listness</code></td></tr></table>




---

archive/issue_comments_200737.json:
```json
{
    "body": "Changed commit from **[`486a8cd`](https://github.com/sagemath/sagetrac-mirror/commit/486a8cd4939ce6008a19008679a29a99b0c2cd80)** to **[`8d6f606`](https://github.com/sagemath/sagetrac-mirror/commit/8d6f606e435fbbb3c2d0397c0f90f9e556ec9d2b)**",
    "created_at": "2015-03-20T15:02:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200737",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`486a8cd`](https://github.com/sagemath/sagetrac-mirror/commit/486a8cd4939ce6008a19008679a29a99b0c2cd80)** to **[`8d6f606`](https://github.com/sagemath/sagetrac-mirror/commit/8d6f606e435fbbb3c2d0397c0f90f9e556ec9d2b)**



---

archive/issue_comments_200738.json:
```json
{
    "body": "Changed commit from **[`8d6f606`](https://github.com/sagemath/sagetrac-mirror/commit/8d6f606e435fbbb3c2d0397c0f90f9e556ec9d2b)** to **[`b72dde0`](https://github.com/sagemath/sagetrac-mirror/commit/b72dde06c699f51145cb751c643e45f46f371b32)**",
    "created_at": "2015-03-20T15:31:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200738",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8d6f606`](https://github.com/sagemath/sagetrac-mirror/commit/8d6f606e435fbbb3c2d0397c0f90f9e556ec9d2b)** to **[`b72dde0`](https://github.com/sagemath/sagetrac-mirror/commit/b72dde06c699f51145cb751c643e45f46f371b32)**



---

archive/issue_comments_200739.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b72dde06c699f51145cb751c643e45f46f371b32\"><code>b72dde0</code></a></td><td><code>speeding up SemistandardTableaux containment test (30% on a 4x5 tableau)</code></td></tr></table>\n",
    "created_at": "2015-03-20T15:31:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200739",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b72dde06c699f51145cb751c643e45f46f371b32"><code>b72dde0</code></a></td><td><code>speeding up SemistandardTableaux containment test (30% on a 4x5 tableau)</code></td></tr></table>




---

archive/issue_comments_200740.json:
```json
{
    "body": "Changed commit from **[`b72dde0`](https://github.com/sagemath/sagetrac-mirror/commit/b72dde06c699f51145cb751c643e45f46f371b32)** to **[`3ca3e47`](https://github.com/sagemath/sagetrac-mirror/commit/3ca3e47fdb929bc96cbebd48affe73f8265c4a77)**",
    "created_at": "2015-03-20T15:34:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200740",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b72dde0`](https://github.com/sagemath/sagetrac-mirror/commit/b72dde06c699f51145cb751c643e45f46f371b32)** to **[`3ca3e47`](https://github.com/sagemath/sagetrac-mirror/commit/3ca3e47fdb929bc96cbebd48affe73f8265c4a77)**



---

archive/issue_comments_200741.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ca3e47fdb929bc96cbebd48affe73f8265c4a77\"><code>3ca3e47</code></a></td><td><code>same without bug</code></td></tr></table>\n",
    "created_at": "2015-03-20T15:34:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200741",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ca3e47fdb929bc96cbebd48affe73f8265c4a77"><code>3ca3e47</code></a></td><td><code>same without bug</code></td></tr></table>




---

archive/issue_comments_200742.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c80150141317bea76b8c4809203cbcc20e08ef45\"><code>c801501</code></a></td><td><code>getting rid of an older bug too</code></td></tr></table>\n",
    "created_at": "2015-03-20T15:39:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200742",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c80150141317bea76b8c4809203cbcc20e08ef45"><code>c801501</code></a></td><td><code>getting rid of an older bug too</code></td></tr></table>




---

archive/issue_comments_200743.json:
```json
{
    "body": "Changed commit from **[`3ca3e47`](https://github.com/sagemath/sagetrac-mirror/commit/3ca3e47fdb929bc96cbebd48affe73f8265c4a77)** to **[`c801501`](https://github.com/sagemath/sagetrac-mirror/commit/c80150141317bea76b8c4809203cbcc20e08ef45)**",
    "created_at": "2015-03-20T15:39:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200743",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3ca3e47`](https://github.com/sagemath/sagetrac-mirror/commit/3ca3e47fdb929bc96cbebd48affe73f8265c4a77)** to **[`c801501`](https://github.com/sagemath/sagetrac-mirror/commit/c80150141317bea76b8c4809203cbcc20e08ef45)**



---

archive/issue_comments_200744.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5853cac4ca37dde8345e93f155833df109f2af6b\"><code>5853cac</code></a></td><td><code>microoptimization (0%--10% in my use cases) on StandardTableaux containment</code></td></tr></table>\n",
    "created_at": "2015-03-20T15:49:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200744",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5853cac4ca37dde8345e93f155833df109f2af6b"><code>5853cac</code></a></td><td><code>microoptimization (0%--10% in my use cases) on StandardTableaux containment</code></td></tr></table>




---

archive/issue_comments_200745.json:
```json
{
    "body": "Changed commit from **[`c801501`](https://github.com/sagemath/sagetrac-mirror/commit/c80150141317bea76b8c4809203cbcc20e08ef45)** to **[`5853cac`](https://github.com/sagemath/sagetrac-mirror/commit/5853cac4ca37dde8345e93f155833df109f2af6b)**",
    "created_at": "2015-03-20T15:49:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200745",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c801501`](https://github.com/sagemath/sagetrac-mirror/commit/c80150141317bea76b8c4809203cbcc20e08ef45)** to **[`5853cac`](https://github.com/sagemath/sagetrac-mirror/commit/5853cac4ca37dde8345e93f155833df109f2af6b)**



---

archive/issue_comments_200746.json:
```json
{
    "body": "Changed keywords from **tableaux, sage-combinat, mutability** to **tableaux, sage-combinat, mutability, days64**",
    "created_at": "2015-03-20T16:07:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200746",
    "user": "https://github.com/darijgr"
}
```

Changed keywords from **tableaux, sage-combinat, mutability** to **tableaux, sage-combinat, mutability, days64**



---

archive/issue_comments_200747.json:
```json
{
    "body": "Work Issues: **see if skew tableaux have gotten slower**",
    "created_at": "2015-03-20T16:07:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200747",
    "user": "https://github.com/darijgr"
}
```

Work Issues: **see if skew tableaux have gotten slower**



---

archive/issue_comments_200748.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nJust for the record: Part II of this project, i.e. changing the parent from CombinatorialObject to ClonableList, can be found at `public/TransitionClonable`.",
    "created_at": "2015-03-20T20:44:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200748",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

<div id="comment:32" align="right">comment:32</div>

Just for the record: Part II of this project, i.e. changing the parent from CombinatorialObject to ClonableList, can be found at `public/TransitionClonable`.



---

archive/issue_comments_200749.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d45f2cc6dc926570505848d5d72bd3317919156a\"><code>d45f2cc</code></a></td><td><code>optimize `__init__` of semistandard tableaux</code></td></tr></table>\n",
    "created_at": "2015-03-20T21:23:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200749",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d45f2cc6dc926570505848d5d72bd3317919156a"><code>d45f2cc</code></a></td><td><code>optimize `__init__` of semistandard tableaux</code></td></tr></table>




---

archive/issue_comments_200750.json:
```json
{
    "body": "Changed commit from **[`5853cac`](https://github.com/sagemath/sagetrac-mirror/commit/5853cac4ca37dde8345e93f155833df109f2af6b)** to **[`d45f2cc`](https://github.com/sagemath/sagetrac-mirror/commit/d45f2cc6dc926570505848d5d72bd3317919156a)**",
    "created_at": "2015-03-20T21:23:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200750",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5853cac`](https://github.com/sagemath/sagetrac-mirror/commit/5853cac4ca37dde8345e93f155833df109f2af6b)** to **[`d45f2cc`](https://github.com/sagemath/sagetrac-mirror/commit/d45f2cc6dc926570505848d5d72bd3317919156a)**



---

archive/issue_comments_200751.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/328b3d73ae89e748fe25a69ea11a14efc7fa04b3\"><code>328b3d7</code></a></td><td><code>speeding up is_semistandard on skew tableaux by about 10x</code></td></tr></table>\n",
    "created_at": "2015-03-20T21:31:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200751",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/328b3d73ae89e748fe25a69ea11a14efc7fa04b3"><code>328b3d7</code></a></td><td><code>speeding up is_semistandard on skew tableaux by about 10x</code></td></tr></table>




---

archive/issue_comments_200752.json:
```json
{
    "body": "Changed commit from **[`d45f2cc`](https://github.com/sagemath/sagetrac-mirror/commit/d45f2cc6dc926570505848d5d72bd3317919156a)** to **[`328b3d7`](https://github.com/sagemath/sagetrac-mirror/commit/328b3d73ae89e748fe25a69ea11a14efc7fa04b3)**",
    "created_at": "2015-03-20T21:31:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200752",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d45f2cc`](https://github.com/sagemath/sagetrac-mirror/commit/d45f2cc6dc926570505848d5d72bd3317919156a)** to **[`328b3d7`](https://github.com/sagemath/sagetrac-mirror/commit/328b3d73ae89e748fe25a69ea11a14efc7fa04b3)**



---

archive/issue_comments_200753.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9734a30c036d11d03b777f8622b7ed9c0fcf53c\"><code>c9734a3</code></a></td><td><code>ridding tableau.py of flatten, making things faster again</code></td></tr></table>\n",
    "created_at": "2015-03-20T21:47:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200753",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9734a30c036d11d03b777f8622b7ed9c0fcf53c"><code>c9734a3</code></a></td><td><code>ridding tableau.py of flatten, making things faster again</code></td></tr></table>




---

archive/issue_comments_200754.json:
```json
{
    "body": "Changed commit from **[`328b3d7`](https://github.com/sagemath/sagetrac-mirror/commit/328b3d73ae89e748fe25a69ea11a14efc7fa04b3)** to **[`c9734a3`](https://github.com/sagemath/sagetrac-mirror/commit/c9734a30c036d11d03b777f8622b7ed9c0fcf53c)**",
    "created_at": "2015-03-20T21:47:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200754",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`328b3d7`](https://github.com/sagemath/sagetrac-mirror/commit/328b3d73ae89e748fe25a69ea11a14efc7fa04b3)** to **[`c9734a3`](https://github.com/sagemath/sagetrac-mirror/commit/c9734a30c036d11d03b777f8622b7ed9c0fcf53c)**



---

archive/issue_comments_200755.json:
```json
{
    "body": "Changed commit from **[`c9734a3`](https://github.com/sagemath/sagetrac-mirror/commit/c9734a30c036d11d03b777f8622b7ed9c0fcf53c)** to **[`b68a79b`](https://github.com/sagemath/sagetrac-mirror/commit/b68a79bb77a411d030f3868b5951e80a3a60b756)**",
    "created_at": "2015-03-20T22:00:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200755",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c9734a3`](https://github.com/sagemath/sagetrac-mirror/commit/c9734a30c036d11d03b777f8622b7ed9c0fcf53c)** to **[`b68a79b`](https://github.com/sagemath/sagetrac-mirror/commit/b68a79bb77a411d030f3868b5951e80a3a60b756)**



---

archive/issue_comments_200756.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b68a79bb77a411d030f3868b5951e80a3a60b756\"><code>b68a79b</code></a></td><td><code>a few more optimizations</code></td></tr></table>\n",
    "created_at": "2015-03-20T22:00:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200756",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b68a79bb77a411d030f3868b5951e80a3a60b756"><code>b68a79b</code></a></td><td><code>a few more optimizations</code></td></tr></table>




---

archive/issue_comments_200757.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ce201e1e63a6145bc5009f0b32553a33f4781e3\"><code>9ce201e</code></a></td><td><code>one less to_word</code></td></tr></table>\n",
    "created_at": "2015-03-20T22:04:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200757",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ce201e1e63a6145bc5009f0b32553a33f4781e3"><code>9ce201e</code></a></td><td><code>one less to_word</code></td></tr></table>




---

archive/issue_comments_200758.json:
```json
{
    "body": "Changed commit from **[`b68a79b`](https://github.com/sagemath/sagetrac-mirror/commit/b68a79bb77a411d030f3868b5951e80a3a60b756)** to **[`9ce201e`](https://github.com/sagemath/sagetrac-mirror/commit/9ce201e1e63a6145bc5009f0b32553a33f4781e3)**",
    "created_at": "2015-03-20T22:04:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200758",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b68a79b`](https://github.com/sagemath/sagetrac-mirror/commit/b68a79bb77a411d030f3868b5951e80a3a60b756)** to **[`9ce201e`](https://github.com/sagemath/sagetrac-mirror/commit/9ce201e1e63a6145bc5009f0b32553a33f4781e3)**



---

archive/issue_comments_200759.json:
```json
{
    "body": "Changed commit from **[`9ce201e`](https://github.com/sagemath/sagetrac-mirror/commit/9ce201e1e63a6145bc5009f0b32553a33f4781e3)** to **[`81d3af3`](https://github.com/sagemath/sagetrac-mirror/commit/81d3af343fd81cce2acc38454fc427c8e3ea80af)**",
    "created_at": "2015-03-20T22:12:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200759",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9ce201e`](https://github.com/sagemath/sagetrac-mirror/commit/9ce201e1e63a6145bc5009f0b32553a33f4781e3)** to **[`81d3af3`](https://github.com/sagemath/sagetrac-mirror/commit/81d3af343fd81cce2acc38454fc427c8e3ea80af)**



---

archive/issue_comments_200760.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93c6448df90f2c07536bc2898aa2e55d7203a5ce\"><code>93c6448</code></a></td><td><code>an even more hands-off approach to testing iterability</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81d3af343fd81cce2acc38454fc427c8e3ea80af\"><code>81d3af3</code></a></td><td><code>Merge branch 'public/15862' of git://trac.sagemath.org/sage into tableau_verynew</code></td></tr></table>\n",
    "created_at": "2015-03-20T22:12:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200760",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93c6448df90f2c07536bc2898aa2e55d7203a5ce"><code>93c6448</code></a></td><td><code>an even more hands-off approach to testing iterability</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81d3af343fd81cce2acc38454fc427c8e3ea80af"><code>81d3af3</code></a></td><td><code>Merge branch 'public/15862' of git://trac.sagemath.org/sage into tableau_verynew</code></td></tr></table>




---

archive/issue_comments_200761.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcf411cedf1410f9fff2516d9fe92614408346ca\"><code>fcf411c</code></a></td><td><code>last edits</code></td></tr></table>\n",
    "created_at": "2015-03-20T22:23:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200761",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcf411cedf1410f9fff2516d9fe92614408346ca"><code>fcf411c</code></a></td><td><code>last edits</code></td></tr></table>




---

archive/issue_comments_200762.json:
```json
{
    "body": "Changed commit from **[`81d3af3`](https://github.com/sagemath/sagetrac-mirror/commit/81d3af343fd81cce2acc38454fc427c8e3ea80af)** to **[`fcf411c`](https://github.com/sagemath/sagetrac-mirror/commit/fcf411cedf1410f9fff2516d9fe92614408346ca)**",
    "created_at": "2015-03-20T22:23:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200762",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`81d3af3`](https://github.com/sagemath/sagetrac-mirror/commit/81d3af343fd81cce2acc38454fc427c8e3ea80af)** to **[`fcf411c`](https://github.com/sagemath/sagetrac-mirror/commit/fcf411cedf1410f9fff2516d9fe92614408346ca)**



---

archive/issue_comments_200763.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nThis is ready for review.\n\nThere are minor slowdowns in `skew_tableau.py` left, relating to the tuple-cast in its initialization. I don't know if they are avoidable.",
    "created_at": "2015-03-20T22:24:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200763",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:40" align="right">comment:40</div>

This is ready for review.

There are minor slowdowns in `skew_tableau.py` left, relating to the tuple-cast in its initialization. I don't know if they are avoidable.



---

archive/issue_comments_200764.json:
```json
{
    "body": "Changed commit from **[`fcf411c`](https://github.com/sagemath/sagetrac-mirror/commit/fcf411cedf1410f9fff2516d9fe92614408346ca)** to **[`4520047`](https://github.com/sagemath/sagetrac-mirror/commit/45200478b6aca2e3908fca800d89d1c801d1bc26)**",
    "created_at": "2015-03-21T01:00:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200764",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fcf411c`](https://github.com/sagemath/sagetrac-mirror/commit/fcf411cedf1410f9fff2516d9fe92614408346ca)** to **[`4520047`](https://github.com/sagemath/sagetrac-mirror/commit/45200478b6aca2e3908fca800d89d1c801d1bc26)**



---

archive/issue_comments_200765.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45200478b6aca2e3908fca800d89d1c801d1bc26\"><code>4520047</code></a></td><td><code>put checking into `__init__` and normalization into __classcall_private__</code></td></tr></table>\n",
    "created_at": "2015-03-21T01:00:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200765",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45200478b6aca2e3908fca800d89d1c801d1bc26"><code>4520047</code></a></td><td><code>put checking into `__init__` and normalization into __classcall_private__</code></td></tr></table>




---

archive/issue_comments_200766.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c19ad3b91b48d504e5acb68b06da2e6cb56762d\"><code>8c19ad3</code></a></td><td><code>so normalizaton is necessary in the init too</code></td></tr></table>\n",
    "created_at": "2015-03-21T01:30:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200766",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c19ad3b91b48d504e5acb68b06da2e6cb56762d"><code>8c19ad3</code></a></td><td><code>so normalizaton is necessary in the init too</code></td></tr></table>




---

archive/issue_comments_200767.json:
```json
{
    "body": "Changed commit from **[`4520047`](https://github.com/sagemath/sagetrac-mirror/commit/45200478b6aca2e3908fca800d89d1c801d1bc26)** to **[`8c19ad3`](https://github.com/sagemath/sagetrac-mirror/commit/8c19ad3b91b48d504e5acb68b06da2e6cb56762d)**",
    "created_at": "2015-03-21T01:30:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200767",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4520047`](https://github.com/sagemath/sagetrac-mirror/commit/45200478b6aca2e3908fca800d89d1c801d1bc26)** to **[`8c19ad3`](https://github.com/sagemath/sagetrac-mirror/commit/8c19ad3b91b48d504e5acb68b06da2e6cb56762d)**



---

archive/issue_comments_200768.json:
```json
{
    "body": "Changed commit from **[`8c19ad3`](https://github.com/sagemath/sagetrac-mirror/commit/8c19ad3b91b48d504e5acb68b06da2e6cb56762d)** to **[`430003d`](https://github.com/sagemath/sagetrac-mirror/commit/430003da7a7b6d3afc60e385f3d6e812b3864f25)**",
    "created_at": "2015-03-21T01:33:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200768",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8c19ad3`](https://github.com/sagemath/sagetrac-mirror/commit/8c19ad3b91b48d504e5acb68b06da2e6cb56762d)** to **[`430003d`](https://github.com/sagemath/sagetrac-mirror/commit/430003da7a7b6d3afc60e385f3d6e812b3864f25)**



---

archive/issue_comments_200769.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/430003da7a7b6d3afc60e385f3d6e812b3864f25\"><code>430003d</code></a></td><td><code>actually, probably no need for normalization in __classcall_private__</code></td></tr></table>\n",
    "created_at": "2015-03-21T01:33:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200769",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/430003da7a7b6d3afc60e385f3d6e812b3864f25"><code>430003d</code></a></td><td><code>actually, probably no need for normalization in __classcall_private__</code></td></tr></table>




---

archive/issue_comments_200770.json:
```json
{
    "body": "Author: **Josh Swanson, Jan Keitel, Darij Grinberg**",
    "created_at": "2015-03-21T08:46:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200770",
    "user": "https://github.com/darijgr"
}
```

Author: **Josh Swanson, Jan Keitel, Darij Grinberg**



---

archive/issue_comments_200771.json:
```json
{
    "body": "Changed work issues from **see if skew tableaux have gotten slower** to none",
    "created_at": "2015-03-21T08:46:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200771",
    "user": "https://github.com/darijgr"
}
```

Changed work issues from **see if skew tableaux have gotten slower** to none



---

archive/issue_comments_200772.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,22 @@\n+Tableaux in Sage used to be implemented as lists of lists. The outer list was wrapped in a `CombinatorialObject`, which made it immutable (at least without accessing underscored attributes). The inner lists, however, could be easily mutated; for example:\n+\n+```\n+sage: T = Tableau([[1,2],[2]])\n+sage: t0 = T[0]\n+sage: t0[1] = 3 \n+sage: T\n+[[1, 3], [2]]\n+```\n+This kind of mutability was likely not intended. I, personally, have only ever triggered it by accident.\n+\n+The present branch replaces the inner lists in the implementation of tableaux and skew tableaux by tuples. As a consequence, tableaux become completely (rather than just shallowly) immutable (unless their entries themselves are mutable, which can be blamed on the user). They are still printed as lists of lists, but this is just a `_repr_` issue.\n+\n+The branch also makes some optimizations and corrections.\n+\n+---\n+\n+Old description:\n+\n Tableaux in Sage are mutable objects, at least indirectly:\n \n ```\n``````\n",
    "created_at": "2015-03-21T08:58:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200772",
    "user": "https://github.com/darijgr"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,22 @@
+Tableaux in Sage used to be implemented as lists of lists. The outer list was wrapped in a `CombinatorialObject`, which made it immutable (at least without accessing underscored attributes). The inner lists, however, could be easily mutated; for example:
+
+```
+sage: T = Tableau([[1,2],[2]])
+sage: t0 = T[0]
+sage: t0[1] = 3 
+sage: T
+[[1, 3], [2]]
+```
+This kind of mutability was likely not intended. I, personally, have only ever triggered it by accident.
+
+The present branch replaces the inner lists in the implementation of tableaux and skew tableaux by tuples. As a consequence, tableaux become completely (rather than just shallowly) immutable (unless their entries themselves are mutable, which can be blamed on the user). They are still printed as lists of lists, but this is just a `_repr_` issue.
+
+The branch also makes some optimizations and corrections.
+
+---
+
+Old description:
+
 Tableaux in Sage are mutable objects, at least indirectly:
 
 ```
``````




---

archive/issue_events_227510.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2015-03-21T08:58:30Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "title_is": "Mutability of tableaux part I: lists of tuples instead of lists of lists",
    "title_was": "Mutability of tableaux, for the n-th time",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15862#event-227510"
}
```



---

archive/issue_events_227511.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-03-23T22:22:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15862#event-227511"
}
```



---

archive/issue_events_227512.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-03-23T22:22:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15862#event-227512"
}
```



---

archive/issue_comments_200773.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2015-03-23T22:22:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200773",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_200774.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nLGTM.",
    "created_at": "2015-03-23T22:22:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200774",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:47" align="right">comment:47</div>

LGTM.



---

archive/issue_comments_200775.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nThank you, Travis!",
    "created_at": "2015-03-23T22:37:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200775",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:48" align="right">comment:48</div>

Thank you, Travis!



---

archive/issue_events_227513.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-14T19:44:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15862#event-227513"
}
```



---

archive/issue_events_227514.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4d56833c09cf3a4d509f9026382095ce7753d944",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-04-14T19:44:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15862#event-227514"
}
```



---

archive/issue_comments_200776.json:
```json
{
    "body": "Changed branch from **[public/15862](https://github.com/sagemath/sagetrac-mirror/tree/public/15862)** to **[`430003d`](https://github.com/sagemath/sagetrac-mirror/commit/430003da7a7b6d3afc60e385f3d6e812b3864f25)**",
    "created_at": "2015-04-14T19:44:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15862#issuecomment-200776",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/15862](https://github.com/sagemath/sagetrac-mirror/tree/public/15862)** to **[`430003d`](https://github.com/sagemath/sagetrac-mirror/commit/430003da7a7b6d3afc60e385f3d6e812b3864f25)**
