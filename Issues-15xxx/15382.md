# Issue 15382: Implementing Macaulay Resultant (sage days 55)

archive/issues_015145.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nTrying to Implement Macaulay Resultant for universal polynomials as well as polynomials with coefficients  in a field k. Newest version of patch is .3.patch\n\nComponent: **algebraic geometry**\n\nKeywords: **Macaulay Resultant sage-days55**\n\nAuthor: **Soli Vishkautsan, Hao Chen**\n\nBranch/Commit: **[`db145e3`](https://github.com/sagemath/sagetrac-mirror/commit/db145e34be5d524b10f1504e5892e256dd921d05)**\n\nReviewer: **Ben Hutz**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15382_\n\n",
    "closed_at": "2014-07-12T05:12:05Z",
    "created_at": "2013-11-08T19:46:30Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implementing Macaulay Resultant (sage days 55)",
    "type": "issue",
    "updated_at": "2014-07-12T05:12:05Z",
    "url": "https://github.com/sagemath/sage/issues/15382",
    "user": "https://github.com/sagetrac-haochen-uw"
}
```
<div id="comment:0"></div>

Trying to Implement Macaulay Resultant for universal polynomials as well as polynomials with coefficients  in a field k. Newest version of patch is .3.patch

Component: **algebraic geometry**

Keywords: **Macaulay Resultant sage-days55**

Author: **Soli Vishkautsan, Hao Chen**

Branch/Commit: **[`db145e3`](https://github.com/sagemath/sagetrac-mirror/commit/db145e34be5d524b10f1504e5892e256dd921d05)**

Reviewer: **Ben Hutz**

_Issue created by migration from https://trac.sagemath.org/ticket/15382_





---

archive/issue_events_216829.json:
```json
{
    "actor": "https://github.com/sagetrac-haochen-uw",
    "created_at": "2013-11-08T19:46:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216829"
}
```



---

archive/issue_events_216830.json:
```json
{
    "actor": "https://github.com/sagetrac-haochen-uw",
    "created_at": "2013-11-08T19:46:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
    "label_color": "0000ff",
    "label_name": "c: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216830"
}
```



---

archive/issue_events_216831.json:
```json
{
    "actor": "https://github.com/sagetrac-haochen-uw",
    "created_at": "2013-11-08T19:46:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216831"
}
```



---

archive/issue_comments_191052.json:
```json
{
    "body": "Attachment: **[trac-15382-macaulay-resultant.patch.gz](https://github.com/sagemath/sage/files/ticket15382/trac-15382-macaulay-resultant.patch.gz)**\n\npatch for macaulay resultant",
    "created_at": "2013-11-10T00:22:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191052",
    "user": "https://github.com/sagetrac-haochen-uw"
}
```

Attachment: **[trac-15382-macaulay-resultant.patch.gz](https://github.com/sagemath/sage/files/ticket15382/trac-15382-macaulay-resultant.patch.gz)**

patch for macaulay resultant



---

archive/issue_comments_191053.json:
```json
{
    "body": "Changed keywords from **Macaulay Resultant** to **Macaulay Resultant sage-days55**",
    "created_at": "2013-11-10T00:24:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191053",
    "user": "https://github.com/sagetrac-haochen-uw"
}
```

Changed keywords from **Macaulay Resultant** to **Macaulay Resultant sage-days55**



---

archive/issue_comments_191054.json:
```json
{
    "body": "added tests",
    "created_at": "2013-11-10T15:54:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191054",
    "user": "https://github.com/sagetrac-haochen-uw"
}
```

added tests



---

archive/issue_comments_191055.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nAttachment: **[trac-15382-macaulay-resultant.2.patch.gz](https://github.com/sagemath/sage/files/ticket15382/trac-15382-macaulay-resultant.2.patch.gz)**",
    "created_at": "2013-11-10T16:01:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191055",
    "user": "https://github.com/sagetrac-haochen-uw"
}
```

<div id="comment:2" align="right">comment:2</div>

Attachment: **[trac-15382-macaulay-resultant.2.patch.gz](https://github.com/sagemath/sage/files/ticket15382/trac-15382-macaulay-resultant.2.patch.gz)**



---

archive/issue_comments_191056.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Trying to Implemet Macaulay Resultant for universal polynomials as well as polynomials with coefficients  in a field k.\n+Trying to Implement Macaulay Resultant for universal polynomials as well as polynomials with coefficients  in a field k. Newest version of patch: [https://github.com/sagemath/sage/files/ticket15382/trac-15382-macaulay-resultant.2.patch.gz](https://github.com/sagemath/sage/files/ticket15382/trac-15382-macaulay-resultant.2.patch.gz)\n``````\n",
    "created_at": "2013-11-10T16:01:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191056",
    "user": "https://github.com/sagetrac-haochen-uw"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Trying to Implemet Macaulay Resultant for universal polynomials as well as polynomials with coefficients  in a field k.
+Trying to Implement Macaulay Resultant for universal polynomials as well as polynomials with coefficients  in a field k. Newest version of patch: [https://github.com/sagemath/sage/files/ticket15382/trac-15382-macaulay-resultant.2.patch.gz](https://github.com/sagemath/sage/files/ticket15382/trac-15382-macaulay-resultant.2.patch.gz)
``````




---

archive/issue_events_216832.json:
```json
{
    "actor": "https://github.com/sagetrac-haochen-uw",
    "created_at": "2013-11-10T16:02:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216832"
}
```



---

archive/issue_comments_191057.json:
```json
{
    "body": "Attachment: **[trac-15382-macaulay-resultant.3.patch.gz](https://github.com/sagemath/sage/files/ticket15382/trac-15382-macaulay-resultant.3.patch.gz)**",
    "created_at": "2013-11-10T16:32:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191057",
    "user": "https://github.com/sagetrac-haochen-uw"
}
```

Attachment: **[trac-15382-macaulay-resultant.3.patch.gz](https://github.com/sagemath/sage/files/ticket15382/trac-15382-macaulay-resultant.3.patch.gz)**



---

archive/issue_comments_191058.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Trying to Implement Macaulay Resultant for universal polynomials as well as polynomials with coefficients  in a field k. Newest version of patch: [https://github.com/sagemath/sage/files/ticket15382/trac-15382-macaulay-resultant.2.patch.gz](https://github.com/sagemath/sage/files/ticket15382/trac-15382-macaulay-resultant.2.patch.gz)\n+Trying to Implement Macaulay Resultant for universal polynomials as well as polynomials with coefficients  in a field k. Newest version of patch is .3.patch\n``````\n",
    "created_at": "2013-11-10T16:33:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191058",
    "user": "https://github.com/sagetrac-haochen-uw"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Trying to Implement Macaulay Resultant for universal polynomials as well as polynomials with coefficients  in a field k. Newest version of patch: [https://github.com/sagemath/sage/files/ticket15382/trac-15382-macaulay-resultant.2.patch.gz](https://github.com/sagemath/sage/files/ticket15382/trac-15382-macaulay-resultant.2.patch.gz)
+Trying to Implement Macaulay Resultant for universal polynomials as well as polynomials with coefficients  in a field k. Newest version of patch is .3.patch
``````




---

archive/issue_comments_191059.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\n[https://github.com/sagemath/sage/files/ticket15382/trac-15382-macaulay-resultant.3.patch.gz](https://github.com/sagemath/sage/files/ticket15382/trac-15382-macaulay-resultant.3.patch.gz) changed function names to lower case and put names into global\nname space.",
    "created_at": "2013-11-10T16:34:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191059",
    "user": "https://github.com/sagetrac-haochen-uw"
}
```

<div id="comment:5" align="right">comment:5</div>

[https://github.com/sagemath/sage/files/ticket15382/trac-15382-macaulay-resultant.3.patch.gz](https://github.com/sagemath/sage/files/ticket15382/trac-15382-macaulay-resultant.3.patch.gz) changed function names to lower case and put names into global
name space.



---

archive/issue_events_216833.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2013-11-15T15:30:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216833"
}
```



---

archive/issue_events_216834.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2013-11-15T15:30:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216834"
}
```



---

archive/issue_comments_191060.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI haven't had a chance to look at the algorithm yet, but I browsed through the code in the patch and there a couple things.\n\n1) Instead of adding .n.patch for each new version, unless the new version is drastically different simply replace the previous patch with the new one.\n\n2) add a comment \"apply patch.name\" to specify which patch should be applied\n\nActually in the code:\n\n3)Replace the 'assert' which are raising AssertionError, with a 'raise' statement and something more meaning full like TypeError or ValueError\n\n4) The monomials() function takes as input the ring it is creating the monomials over. This seems like it should be a member function of the appropriate polynomial ring class instead of a stand-alone function (assuming it isn't already implemented).\n\n5) I'm still debating whether I think macalauy_resultant should also be a member function of some polynomial ring. I'm inclined to say it should be (since resultant() is) but I'm open to arguments against.\n\n6) It appears you can pass in a bunch of polynomials from all different polynomial rings and it won't detect the problem (you just get the parent of the first flist element).\n\nThat's all for now. I still need actually look at the algorithm...",
    "created_at": "2013-11-15T15:30:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191060",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:6" align="right">comment:6</div>

I haven't had a chance to look at the algorithm yet, but I browsed through the code in the patch and there a couple things.

1) Instead of adding .n.patch for each new version, unless the new version is drastically different simply replace the previous patch with the new one.

2) add a comment "apply patch.name" to specify which patch should be applied

Actually in the code:

3)Replace the 'assert' which are raising AssertionError, with a 'raise' statement and something more meaning full like TypeError or ValueError

4) The monomials() function takes as input the ring it is creating the monomials over. This seems like it should be a member function of the appropriate polynomial ring class instead of a stand-alone function (assuming it isn't already implemented).

5) I'm still debating whether I think macalauy_resultant should also be a member function of some polynomial ring. I'm inclined to say it should be (since resultant() is) but I'm open to arguments against.

6) It appears you can pass in a bunch of polynomials from all different polynomial rings and it won't detect the problem (you just get the parent of the first flist element).

That's all for now. I still need actually look at the algorithm...



---

archive/issue_comments_191061.json:
```json
{
    "body": "Branch: **[u/wishcow/ticket/15382](https://github.com/sagemath/sagetrac-mirror/tree/u/wishcow/ticket/15382)**",
    "created_at": "2013-11-29T14:41:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191061",
    "user": "https://github.com/sagetrac-wishcow"
}
```

Branch: **[u/wishcow/ticket/15382](https://github.com/sagemath/sagetrac-mirror/tree/u/wishcow/ticket/15382)**



---

archive/issue_comments_191062.json:
```json
{
    "body": "Commit: **[`32fa6c1`](https://github.com/sagemath/sagetrac-mirror/commit/32fa6c14411947b49bf32c3b6be176575bade538)**",
    "created_at": "2013-11-29T15:22:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191062",
    "user": "https://github.com/sagetrac-wishcow"
}
```

Commit: **[`32fa6c1`](https://github.com/sagemath/sagetrac-mirror/commit/32fa6c14411947b49bf32c3b6be176575bade538)**



---

archive/issue_comments_191063.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAdded a branch including all the code in trac-15382-macaulay-resultant.3.patch\u200b.\nI am unable to delete extraneous patches, as we do not have permission to do so.\n\n---\nNew commits:\n<table><tr><td><code>[32fa6c1](https://github.com/sagemath/sagetrac-mirror/commit/32fa6c1)</code></td><td><code>trac 15382</code></td></tr></table>\n",
    "created_at": "2013-11-29T15:22:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191063",
    "user": "https://github.com/sagetrac-wishcow"
}
```

<div id="comment:8" align="right">comment:8</div>

Added a branch including all the code in trac-15382-macaulay-resultant.3.patch​.
I am unable to delete extraneous patches, as we do not have permission to do so.

---
New commits:
<table><tr><td><code>[32fa6c1](https://github.com/sagemath/sagetrac-mirror/commit/32fa6c1)</code></td><td><code>trac 15382</code></td></tr></table>




---

archive/issue_comments_191064.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nok. I looked at the algorithm today and it looks fine. I also ran some tests comparing against the `primes_of_bad_reduction` function for projective morphisms and the results match (well, at least the primes match).\n\nIn additional to my previous comments, I have two suggestions to make this faster and one other comment\n\n1) It seems like you could combine these two loops:\n* for mon in mon_d:\n* for f in newflist:\n\n2) It also seems like you could always just work with the vector of exponents instead of converting back and forth to monomials with mon_d; i.e. don't use mon_d at all, just use degs.\n\n3) You have a monomials() function, yet you don't use it in the main macaulay_resultant function. Although with (2) you don't need it anyway. You may however want to use some kind of iterator instead of making lists of monomials since you don't need to keep them around after you've used it. I'm sure `WeightedIntegerVectors` has an iterator of some kind.\n\nIt would be nice if there were a few comments in the code for `macaulay_resultant` so that it is easier to follow.",
    "created_at": "2013-11-29T17:09:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191064",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:9" align="right">comment:9</div>

ok. I looked at the algorithm today and it looks fine. I also ran some tests comparing against the `primes_of_bad_reduction` function for projective morphisms and the results match (well, at least the primes match).

In additional to my previous comments, I have two suggestions to make this faster and one other comment

1) It seems like you could combine these two loops:
* for mon in mon_d:
* for f in newflist:

2) It also seems like you could always just work with the vector of exponents instead of converting back and forth to monomials with mon_d; i.e. don't use mon_d at all, just use degs.

3) You have a monomials() function, yet you don't use it in the main macaulay_resultant function. Although with (2) you don't need it anyway. You may however want to use some kind of iterator instead of making lists of monomials since you don't need to keep them around after you've used it. I'm sure `WeightedIntegerVectors` has an iterator of some kind.

It would be nice if there were a few comments in the code for `macaulay_resultant` so that it is easier to follow.



---

archive/issue_comments_191065.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nAnother issue is that macaulay_resultant() returns an element of the fraction field of the polynomial ring instead of a polynomial.",
    "created_at": "2013-11-30T21:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191065",
    "user": "https://github.com/sagetrac-wishcow"
}
```

<div id="comment:10" align="right">comment:10</div>

Another issue is that macaulay_resultant() returns an element of the fraction field of the polynomial ring instead of a polynomial.



---

archive/issue_comments_191066.json:
```json
{
    "body": "Changed commit from **[`32fa6c1`](https://github.com/sagemath/sagetrac-mirror/commit/32fa6c14411947b49bf32c3b6be176575bade538)** to **[`94bcf0e`](https://github.com/sagemath/sagetrac-mirror/commit/94bcf0ec174e1ba5f697d4bf2e446d8b57874a32)**",
    "created_at": "2013-12-03T14:29:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191066",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`32fa6c1`](https://github.com/sagemath/sagetrac-mirror/commit/32fa6c14411947b49bf32c3b6be176575bade538)** to **[`94bcf0e`](https://github.com/sagemath/sagetrac-mirror/commit/94bcf0ec174e1ba5f697d4bf2e446d8b57874a32)**



---

archive/issue_comments_191067.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><code>[94bcf0e](https://github.com/sagemath/sagetrac-mirror/commit/94bcf0e)</code></td><td><code>finished implementing minor performance improvements. There is still a failed test to take care of.</code></td></tr><tr><td><code>[c903dc8](https://github.com/sagemath/sagetrac-mirror/commit/c903dc8)</code></td><td><code>minor changes</code></td></tr><tr><td><code>[d48a13b](https://github.com/sagemath/sagetrac-mirror/commit/d48a13b)</code></td><td><code>some fixes to performance issues</code></td></tr><tr><td><code>[96b81c3](https://github.com/sagemath/sagetrac-mirror/commit/96b81c3)</code></td><td><code>improve performance of macaulay_resultant</code></td></tr></table>\n",
    "created_at": "2013-12-03T14:29:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191067",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><code>[94bcf0e](https://github.com/sagemath/sagetrac-mirror/commit/94bcf0e)</code></td><td><code>finished implementing minor performance improvements. There is still a failed test to take care of.</code></td></tr><tr><td><code>[c903dc8](https://github.com/sagemath/sagetrac-mirror/commit/c903dc8)</code></td><td><code>minor changes</code></td></tr><tr><td><code>[d48a13b](https://github.com/sagemath/sagetrac-mirror/commit/d48a13b)</code></td><td><code>some fixes to performance issues</code></td></tr><tr><td><code>[96b81c3](https://github.com/sagemath/sagetrac-mirror/commit/96b81c3)</code></td><td><code>improve performance of macaulay_resultant</code></td></tr></table>




---

archive/issue_comments_191068.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI merged the for loops as much as possible. This produced about a 25% improvement in performance, not much considering the work. The main problem is that for now we can't avoid working with actual monomials yet (I got rid of the bi-directional translation between vectors and monomials as much as I possibly could). The ring of polynomials is not equipped to work with vectors instead of monomials, for example in retrieving the coefficients.\n\nThe doctests fail on one test in a very strange way. Please let me know if you have any idea how to fix it.",
    "created_at": "2013-12-03T14:35:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191068",
    "user": "https://github.com/sagetrac-wishcow"
}
```

<div id="comment:12" align="right">comment:12</div>

I merged the for loops as much as possible. This produced about a 25% improvement in performance, not much considering the work. The main problem is that for now we can't avoid working with actual monomials yet (I got rid of the bi-directional translation between vectors and monomials as much as I possibly could). The ring of polynomials is not equipped to work with vectors instead of monomials, for example in retrieving the coefficients.

The doctests fail on one test in a very strange way. Please let me know if you have any idea how to fix it.



---

archive/issue_comments_191069.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThe doctest failure is simply a typo. You have \"equal to number\" instead of \"equal number\".\n\nActually, polynomial rings *are* equipped to work with exponent vectors in place of monomials. You can get a coefficient with\n\n```\nR.<x,y,z>=PolynomialRing(QQ)\nf=2*x^3 + 3*x*y*z + 4*y^3 + 5*y^2+z\nf[[0,3,0]]\n```\n\nYou should also look back up at comment 6 again as issues (3)-(6) still need to be addressed.",
    "created_at": "2013-12-04T18:39:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191069",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:13" align="right">comment:13</div>

The doctest failure is simply a typo. You have "equal to number" instead of "equal number".

Actually, polynomial rings *are* equipped to work with exponent vectors in place of monomials. You can get a coefficient with

```
R.<x,y,z>=PolynomialRing(QQ)
f=2*x^3 + 3*x*y*z + 4*y^3 + 5*y^2+z
f[[0,3,0]]
```

You should also look back up at comment 6 again as issues (3)-(6) still need to be addressed.



---

archive/issue_comments_191070.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\n1. Thanks! You don't know how much time I spent trying to figure out why the test failed :P\n2. thanks for the pointer about the exponent vectors!\n3. I am working on the other comments, don't worry :)",
    "created_at": "2013-12-04T19:31:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191070",
    "user": "https://github.com/sagetrac-wishcow"
}
```

<div id="comment:14" align="right">comment:14</div>

1. Thanks! You don't know how much time I spent trying to figure out why the test failed :P
2. thanks for the pointer about the exponent vectors!
3. I am working on the other comments, don't worry :)



---

archive/issue_comments_191071.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><code>[a9da359](https://github.com/sagemath/sagetrac-mirror/commit/a9da359)</code></td><td><code>minor changes to comments</code></td></tr><tr><td><code>[60d531c](https://github.com/sagemath/sagetrac-mirror/commit/60d531c)</code></td><td><code>removed all usage of actual monomials, only using degree-lists now.</code></td></tr></table>\n",
    "created_at": "2013-12-05T09:26:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191071",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><code>[a9da359](https://github.com/sagemath/sagetrac-mirror/commit/a9da359)</code></td><td><code>minor changes to comments</code></td></tr><tr><td><code>[60d531c](https://github.com/sagemath/sagetrac-mirror/commit/60d531c)</code></td><td><code>removed all usage of actual monomials, only using degree-lists now.</code></td></tr></table>




---

archive/issue_comments_191072.json:
```json
{
    "body": "Changed commit from **[`94bcf0e`](https://github.com/sagemath/sagetrac-mirror/commit/94bcf0ec174e1ba5f697d4bf2e446d8b57874a32)** to **[`a9da359`](https://github.com/sagemath/sagetrac-mirror/commit/a9da35924d555a5d79e0d5d36587adebcdeffff6)**",
    "created_at": "2013-12-05T09:26:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191072",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`94bcf0e`](https://github.com/sagemath/sagetrac-mirror/commit/94bcf0ec174e1ba5f697d4bf2e446d8b57874a32)** to **[`a9da359`](https://github.com/sagemath/sagetrac-mirror/commit/a9da35924d555a5d79e0d5d36587adebcdeffff6)**



---

archive/issue_comments_191073.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nOK, I made the change to exponent-vectors for extracting the coefficients of the polynomial. The code is much cleaner now, but sadly, it actually works a little slower now. I cannot really explain why this is happening, since doing\u00a0`f[[0,3,0]]`\u00a0is faster than doing\u00a0`f.monomial_coefficient(y^3)`. In any case, if you have more performance-improving suggestions, let me know.",
    "created_at": "2013-12-05T09:30:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191073",
    "user": "https://github.com/sagetrac-wishcow"
}
```

<div id="comment:16" align="right">comment:16</div>

OK, I made the change to exponent-vectors for extracting the coefficients of the polynomial. The code is much cleaner now, but sadly, it actually works a little slower now. I cannot really explain why this is happening, since doing `f[[0,3,0]]` is faster than doing `f.monomial_coefficient(y^3)`. In any case, if you have more performance-improving suggestions, let me know.



---

archive/issue_events_216835.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216835"
}
```



---

archive/issue_events_216836.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216836"
}
```



---

archive/issue_events_216837.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216837"
}
```



---

archive/issue_events_216838.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216838"
}
```



---

archive/issue_comments_191074.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a81f7283ffdcd556512713d076a619422c202cce\"><code>a81f728</code></a></td><td><code>trac 15382</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e08b29cb17ad20ac7e33ba5917ff3c1c34d99fdc\"><code>e08b29c</code></a></td><td><code>improve performance of macaulay_resultant</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95639b7dce4a4fb4c425f2d39a73f309a18bf731\"><code>95639b7</code></a></td><td><code>some fixes to performance issues</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d258bf8cab6d5700c90051df7d707db9488035d7\"><code>d258bf8</code></a></td><td><code>minor changes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca921413390ce2ca579e69031a1f7f9731a025dd\"><code>ca92141</code></a></td><td><code>finished implementing minor performance improvements. There is still a failed test to take care of.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ece4d94f266db4a0c16f54079c9a342c4c336f0\"><code>3ece4d9</code></a></td><td><code>removed all usage of actual monomials, only using degree-lists now.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c99a01a11eeb03a428c5024c4dc4cd1d14e6522e\"><code>c99a01a</code></a></td><td><code>minor changes to comments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b206fb285fc69225eba501ff5162490f1d9506a0\"><code>b206fb2</code></a></td><td><code>moved macaulay_resultant to MPolynomialRing_generic class; deleted macaulay_resultant.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6e898513b51b865e7574f5534c0c9bc0051addc\"><code>e6e8985</code></a></td><td><code>Merged all.py to fix conflict</code></td></tr></table>\n",
    "created_at": "2014-07-08T15:00:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191074",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a81f7283ffdcd556512713d076a619422c202cce"><code>a81f728</code></a></td><td><code>trac 15382</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e08b29cb17ad20ac7e33ba5917ff3c1c34d99fdc"><code>e08b29c</code></a></td><td><code>improve performance of macaulay_resultant</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95639b7dce4a4fb4c425f2d39a73f309a18bf731"><code>95639b7</code></a></td><td><code>some fixes to performance issues</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d258bf8cab6d5700c90051df7d707db9488035d7"><code>d258bf8</code></a></td><td><code>minor changes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca921413390ce2ca579e69031a1f7f9731a025dd"><code>ca92141</code></a></td><td><code>finished implementing minor performance improvements. There is still a failed test to take care of.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ece4d94f266db4a0c16f54079c9a342c4c336f0"><code>3ece4d9</code></a></td><td><code>removed all usage of actual monomials, only using degree-lists now.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c99a01a11eeb03a428c5024c4dc4cd1d14e6522e"><code>c99a01a</code></a></td><td><code>minor changes to comments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b206fb285fc69225eba501ff5162490f1d9506a0"><code>b206fb2</code></a></td><td><code>moved macaulay_resultant to MPolynomialRing_generic class; deleted macaulay_resultant.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6e898513b51b865e7574f5534c0c9bc0051addc"><code>e6e8985</code></a></td><td><code>Merged all.py to fix conflict</code></td></tr></table>




---

archive/issue_comments_191075.json:
```json
{
    "body": "Changed commit from **[`a9da359`](https://github.com/sagemath/sagetrac-mirror/commit/a9da35924d555a5d79e0d5d36587adebcdeffff6)** to **[`e6e8985`](https://github.com/sagemath/sagetrac-mirror/commit/e6e898513b51b865e7574f5534c0c9bc0051addc)**",
    "created_at": "2014-07-08T15:00:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191075",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a9da359`](https://github.com/sagemath/sagetrac-mirror/commit/a9da35924d555a5d79e0d5d36587adebcdeffff6)** to **[`e6e8985`](https://github.com/sagemath/sagetrac-mirror/commit/e6e898513b51b865e7574f5534c0c9bc0051addc)**



---

archive/issue_comments_191076.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c27d8026caf3bfcac9e7a442c841db6dbf432c40\"><code>c27d802</code></a></td><td><code>deleted macaulay_resultant.py</code></td></tr></table>\n",
    "created_at": "2014-07-08T17:19:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191076",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c27d8026caf3bfcac9e7a442c841db6dbf432c40"><code>c27d802</code></a></td><td><code>deleted macaulay_resultant.py</code></td></tr></table>




---

archive/issue_comments_191077.json:
```json
{
    "body": "Changed commit from **[`e6e8985`](https://github.com/sagemath/sagetrac-mirror/commit/e6e898513b51b865e7574f5534c0c9bc0051addc)** to **[`c27d802`](https://github.com/sagemath/sagetrac-mirror/commit/c27d8026caf3bfcac9e7a442c841db6dbf432c40)**",
    "created_at": "2014-07-08T17:19:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191077",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e6e8985`](https://github.com/sagemath/sagetrac-mirror/commit/e6e898513b51b865e7574f5534c0c9bc0051addc)** to **[`c27d802`](https://github.com/sagemath/sagetrac-mirror/commit/c27d8026caf3bfcac9e7a442c841db6dbf432c40)**



---

archive/issue_comments_191078.json:
```json
{
    "body": "Changed commit from **[`c27d802`](https://github.com/sagemath/sagetrac-mirror/commit/c27d8026caf3bfcac9e7a442c841db6dbf432c40)** to **[`2a15c39`](https://github.com/sagemath/sagetrac-mirror/commit/2a15c39fe2d10a6eace8d5250291dabae008822c)**",
    "created_at": "2014-07-08T17:30:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191078",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c27d802`](https://github.com/sagemath/sagetrac-mirror/commit/c27d8026caf3bfcac9e7a442c841db6dbf432c40)** to **[`2a15c39`](https://github.com/sagemath/sagetrac-mirror/commit/2a15c39fe2d10a6eace8d5250291dabae008822c)**



---

archive/issue_comments_191079.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a15c39fe2d10a6eace8d5250291dabae008822c\"><code>2a15c39</code></a></td><td><code>fixed failed doctest</code></td></tr></table>\n",
    "created_at": "2014-07-08T17:30:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191079",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a15c39fe2d10a6eace8d5250291dabae008822c"><code>2a15c39</code></a></td><td><code>fixed failed doctest</code></td></tr></table>




---

archive/issue_comments_191080.json:
```json
{
    "body": "Changed commit from **[`2a15c39`](https://github.com/sagemath/sagetrac-mirror/commit/2a15c39fe2d10a6eace8d5250291dabae008822c)** to **[`8baa098`](https://github.com/sagemath/sagetrac-mirror/commit/8baa0984e422ce04713bda0f5be32d2bdf7d12d6)**",
    "created_at": "2014-07-09T18:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191080",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2a15c39`](https://github.com/sagemath/sagetrac-mirror/commit/2a15c39fe2d10a6eace8d5250291dabae008822c)** to **[`8baa098`](https://github.com/sagemath/sagetrac-mirror/commit/8baa0984e422ce04713bda0f5be32d2bdf7d12d6)**



---

archive/issue_comments_191081.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e5467fe94099e8a75fdb2fe513dbf2be6feefda\"><code>7e5467f</code></a></td><td><code>fixed another doctest in macaulay_resultant</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b23abd31996936f56afbbf94b3b87a4ddbde9a3\"><code>7b23abd</code></a></td><td><code>added macaulay resultant to multivariate polynomial class</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8baa0984e422ce04713bda0f5be32d2bdf7d12d6\"><code>8baa098</code></a></td><td><code>improved docs and general cleanup</code></td></tr></table>\n",
    "created_at": "2014-07-09T18:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191081",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e5467fe94099e8a75fdb2fe513dbf2be6feefda"><code>7e5467f</code></a></td><td><code>fixed another doctest in macaulay_resultant</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b23abd31996936f56afbbf94b3b87a4ddbde9a3"><code>7b23abd</code></a></td><td><code>added macaulay resultant to multivariate polynomial class</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8baa0984e422ce04713bda0f5be32d2bdf7d12d6"><code>8baa098</code></a></td><td><code>improved docs and general cleanup</code></td></tr></table>




---

archive/issue_events_216839.json:
```json
{
    "actor": "https://github.com/sagetrac-wishcow",
    "created_at": "2014-07-09T18:46:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216839"
}
```



---

archive/issue_events_216840.json:
```json
{
    "actor": "https://github.com/sagetrac-wishcow",
    "created_at": "2014-07-09T18:46:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216840"
}
```



---

archive/issue_comments_191082.json:
```json
{
    "body": "Changed branch from **[u/wishcow/ticket/15382](https://github.com/sagemath/sagetrac-mirror/tree/u/wishcow/ticket/15382)** to **[u/bhutz/ticket/15382](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/ticket/15382)**",
    "created_at": "2014-07-09T22:09:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191082",
    "user": "https://github.com/bhutz"
}
```

Changed branch from **[u/wishcow/ticket/15382](https://github.com/sagemath/sagetrac-mirror/tree/u/wishcow/ticket/15382)** to **[u/bhutz/ticket/15382](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/ticket/15382)**



---

archive/issue_comments_191083.json:
```json
{
    "body": "Changed commit from **[`8baa098`](https://github.com/sagemath/sagetrac-mirror/commit/8baa0984e422ce04713bda0f5be32d2bdf7d12d6)** to **[`97ee6f2`](https://github.com/sagemath/sagetrac-mirror/commit/97ee6f284baa43bc348c42a8b0a4ca254024e5f5)**",
    "created_at": "2014-07-09T22:14:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191083",
    "user": "https://github.com/bhutz"
}
```

Changed commit from **[`8baa098`](https://github.com/sagemath/sagetrac-mirror/commit/8baa0984e422ce04713bda0f5be32d2bdf7d12d6)** to **[`97ee6f2`](https://github.com/sagemath/sagetrac-mirror/commit/97ee6f284baa43bc348c42a8b0a4ca254024e5f5)**



---

archive/issue_comments_191084.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nThe docbuild issue was from making duplicate references. You only need to declare the references once. I fixed that and some minor formatting/doc issues.\n\nAs for testing: The functionality is working successfully, but there are two issues to address:\n\n1) the `assert` statements need to be switched to `raiseerror` so that is raises the appropriate error on failure (not just asserterror)\n\n2) I think the speed can be greatly improved on average by changing the way the matrix is built. Currently, all possible monomials are generated and then each entry in the matrix is filled in by checking the coefficient of that monomial in the polynomials. Since I would expect 'most' polynomials to be sparse, it should be more efficient to start with a matrix of all 0s and fill in only those entries corresponding to appropriate monomials in the polynomials.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/97ee6f284baa43bc348c42a8b0a4ca254024e5f5\"><code>97ee6f2</code></a></td><td><code>15382: fixed some minor doc issues</code></td></tr></table>\n",
    "created_at": "2014-07-09T22:14:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191084",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:25" align="right">comment:25</div>

The docbuild issue was from making duplicate references. You only need to declare the references once. I fixed that and some minor formatting/doc issues.

As for testing: The functionality is working successfully, but there are two issues to address:

1) the `assert` statements need to be switched to `raiseerror` so that is raises the appropriate error on failure (not just asserterror)

2) I think the speed can be greatly improved on average by changing the way the matrix is built. Currently, all possible monomials are generated and then each entry in the matrix is filled in by checking the coefficient of that monomial in the polynomials. Since I would expect 'most' polynomials to be sparse, it should be more efficient to start with a matrix of all 0s and fill in only those entries corresponding to appropriate monomials in the polynomials.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/97ee6f284baa43bc348c42a8b0a4ca254024e5f5"><code>97ee6f2</code></a></td><td><code>15382: fixed some minor doc issues</code></td></tr></table>




---

archive/issue_events_216841.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2014-07-09T22:14:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216841"
}
```



---

archive/issue_events_216842.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2014-07-09T22:14:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216842"
}
```



---

archive/issue_comments_191085.json:
```json
{
    "body": "Reviewer: **Ben Hutz**",
    "created_at": "2014-07-09T22:14:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191085",
    "user": "https://github.com/bhutz"
}
```

Reviewer: **Ben Hutz**



---

archive/issue_comments_191086.json:
```json
{
    "body": "Changed branch from **[u/bhutz/ticket/15382](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/ticket/15382)** to **[u/wishcow/ticket/15382](https://github.com/sagemath/sagetrac-mirror/tree/u/wishcow/ticket/15382)**",
    "created_at": "2014-07-11T09:31:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191086",
    "user": "https://github.com/sagetrac-wishcow"
}
```

Changed branch from **[u/bhutz/ticket/15382](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/ticket/15382)** to **[u/wishcow/ticket/15382](https://github.com/sagemath/sagetrac-mirror/tree/u/wishcow/ticket/15382)**



---

archive/issue_comments_191087.json:
```json
{
    "body": "Changed commit from **[`97ee6f2`](https://github.com/sagemath/sagetrac-mirror/commit/97ee6f284baa43bc348c42a8b0a4ca254024e5f5)** to **[`f1ec984`](https://github.com/sagemath/sagetrac-mirror/commit/f1ec984c85ef10089392f32385745f629a4fb29f)**",
    "created_at": "2014-07-11T09:33:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191087",
    "user": "https://github.com/sagetrac-wishcow"
}
```

Changed commit from **[`97ee6f2`](https://github.com/sagemath/sagetrac-mirror/commit/97ee6f284baa43bc348c42a8b0a4ca254024e5f5)** to **[`f1ec984`](https://github.com/sagemath/sagetrac-mirror/commit/f1ec984c85ef10089392f32385745f629a4fb29f)**



---

archive/issue_comments_191088.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1ec984c85ef10089392f32385745f629a4fb29f\"><code>f1ec984</code></a></td><td><code>replaced assert with raise. cleaned up for loops. added reverse lookup of monomials</code></td></tr></table>\n",
    "created_at": "2014-07-11T09:33:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191088",
    "user": "https://github.com/sagetrac-wishcow"
}
```

<div id="comment:27"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1ec984c85ef10089392f32385745f629a4fb29f"><code>f1ec984</code></a></td><td><code>replaced assert with raise. cleaned up for loops. added reverse lookup of monomials</code></td></tr></table>




---

archive/issue_events_216843.json:
```json
{
    "actor": "https://github.com/sagetrac-wishcow",
    "created_at": "2014-07-11T09:33:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216843"
}
```



---

archive/issue_events_216844.json:
```json
{
    "actor": "https://github.com/sagetrac-wishcow",
    "created_at": "2014-07-11T09:33:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216844"
}
```



---

archive/issue_comments_191089.json:
```json
{
    "body": "Changed branch from **[u/wishcow/ticket/15382](https://github.com/sagemath/sagetrac-mirror/tree/u/wishcow/ticket/15382)** to **[u/bhutz/ticket/15382](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/ticket/15382)**",
    "created_at": "2014-07-11T16:17:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191089",
    "user": "https://github.com/bhutz"
}
```

Changed branch from **[u/wishcow/ticket/15382](https://github.com/sagemath/sagetrac-mirror/tree/u/wishcow/ticket/15382)** to **[u/bhutz/ticket/15382](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/ticket/15382)**



---

archive/issue_comments_191090.json:
```json
{
    "body": "Changed commit from **[`f1ec984`](https://github.com/sagemath/sagetrac-mirror/commit/f1ec984c85ef10089392f32385745f629a4fb29f)** to **[`db145e3`](https://github.com/sagemath/sagetrac-mirror/commit/db145e34be5d524b10f1504e5892e256dd921d05)**",
    "created_at": "2014-07-11T16:22:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191090",
    "user": "https://github.com/bhutz"
}
```

Changed commit from **[`f1ec984`](https://github.com/sagemath/sagetrac-mirror/commit/f1ec984c85ef10089392f32385745f629a4fb29f)** to **[`db145e3`](https://github.com/sagemath/sagetrac-mirror/commit/db145e34be5d524b10f1504e5892e256dd921d05)**



---

archive/issue_events_216845.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2014-07-11T16:22:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216845"
}
```



---

archive/issue_events_216846.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2014-07-11T16:22:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216846"
}
```



---

archive/issue_comments_191091.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nThis looks good to me. I just removed some trailing whitespaces and reformatted the author note.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db145e34be5d524b10f1504e5892e256dd921d05\"><code>db145e3</code></a></td><td><code>removed trailing whitespaces</code></td></tr></table>\n",
    "created_at": "2014-07-11T16:22:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191091",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:29" align="right">comment:29</div>

This looks good to me. I just removed some trailing whitespaces and reformatted the author note.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db145e34be5d524b10f1504e5892e256dd921d05"><code>db145e3</code></a></td><td><code>removed trailing whitespaces</code></td></tr></table>




---

archive/issue_events_216847.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-12T01:46:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216847"
}
```



---

archive/issue_comments_191092.json:
```json
{
    "body": "Changed branch from **[u/bhutz/ticket/15382](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/ticket/15382)** to **[`db145e3`](https://github.com/sagemath/sagetrac-mirror/commit/db145e34be5d524b10f1504e5892e256dd921d05)**",
    "created_at": "2014-07-12T05:12:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15382#issuecomment-191092",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/bhutz/ticket/15382](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/ticket/15382)** to **[`db145e3`](https://github.com/sagemath/sagetrac-mirror/commit/db145e34be5d524b10f1504e5892e256dd921d05)**



---

archive/issue_events_216848.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-12T05:12:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216848"
}
```



---

archive/issue_events_216849.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f714ac393a841e04274c403a0ac5a6648b55b7fa",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-07-12T05:12:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15382",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15382#event-216849"
}
```
