# Issue 15679: Fixes for Singular on Cygwin64.

archive/issues_015442.json:
```json
{
    "body": "It seems ld on Cygwin64 does not look for .so extension and so fails to find libsingular.so.\nIndeed Singular is ill configured on Cygwin64.\n\nThis also disables omGetBacktrace on Cygwin64 as it seems to be broken.\n\nThe fixes here are jsut temporary as Singular4 build system is quite different anyway.\n\nCC:  @kcrisman @dimpase @tscrim @vbraun\n\nKeywords: singular cygwin spkg\n\nBranch/Commit: [3a7220348f2b5befd5f382fc5a818b9275f78f41](https://github.com/sagemath/sagetrac-mirror/commit/3a7220348f2b5befd5f382fc5a818b9275f78f41)\n\nReviewer: Volker Braun\n\nAuthor: Jean-Pierre Flori\n\nDependencies: #14333\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/15679\n\n",
    "closed_at": "2014-04-15T23:19:36Z",
    "created_at": "2014-01-15T10:03:35Z",
    "labels": [
        "component: porting: cygwin",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "Fixes for Singular on Cygwin64.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15679",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```
It seems ld on Cygwin64 does not look for .so extension and so fails to find libsingular.so.
Indeed Singular is ill configured on Cygwin64.

This also disables omGetBacktrace on Cygwin64 as it seems to be broken.

The fixes here are jsut temporary as Singular4 build system is quite different anyway.

CC:  @kcrisman @dimpase @tscrim @vbraun

Keywords: singular cygwin spkg

Branch/Commit: [3a7220348f2b5befd5f382fc5a818b9275f78f41](https://github.com/sagemath/sagetrac-mirror/commit/3a7220348f2b5befd5f382fc5a818b9275f78f41)

Reviewer: Volker Braun

Author: Jean-Pierre Flori

Dependencies: #14333

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/15679





---

archive/issue_events_052517.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "rename": {
        "from": "ld cannot find libsingular on Cygwin64.",
        "to": "Fixes for Singular on Cygwin64."
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15679#event-52517"
}
```



---

archive/issue_comments_256914.json:
```json
{
    "body": "Changing author from \"\" to \"Jean-Pierre Flori\"",
    "created_at": "2014-01-18T22:42:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256914",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing author from "" to "Jean-Pierre Flori"



---

archive/issue_comments_256915.json:
```json
{
    "body": "Changing keywords from \"\" to \"singulat cygwin spkg\".",
    "created_at": "2014-01-18T22:42:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256915",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing keywords from "" to "singulat cygwin spkg".



---

archive/issue_comments_256916.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,6 @@\n It seems ld on Cygwin64 does not look for .so extension and so fails to find libsingular.so.\n+Indeed Singular is ill configured on Cygwin64.\n+\n+This also disables omGetBacktrace on Cygwin64 as it seems to be broken.\n+\n+The fixes here are jsut temporary as Singular4 build system is quite different anyway.\n``````\n",
    "created_at": "2014-01-18T22:42:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256916",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,6 @@
 It seems ld on Cygwin64 does not look for .so extension and so fails to find libsingular.so.
+Indeed Singular is ill configured on Cygwin64.
+
+This also disables omGetBacktrace on Cygwin64 as it seems to be broken.
+
+The fixes here are jsut temporary as Singular4 build system is quite different anyway.
``````




---

archive/issue_comments_256917.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jpflori/ticket/15679\"",
    "created_at": "2014-01-18T22:42:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256917",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing branch from "" to "u/jpflori/ticket/15679"



---

archive/issue_comments_256918.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#14333\"",
    "created_at": "2014-01-18T22:42:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256918",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing dependencies from "" to "#14333"



---

archive/issue_comments_256919.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[1753f06](https://github.com/sagemath/sagetrac-mirror/commit/1753f06bb356908e5d3317f4d92c00421bde93ba)|`Update Singular to version 3-1-6.`|\n|[536a31f](https://github.com/sagemath/sagetrac-mirror/commit/536a31f920117a8d048447f6b7a7477bcffc213a)|`Update Singular function interface to API changes in Singular 3.1.6.`|\n|[dd46991](https://github.com/sagemath/sagetrac-mirror/commit/dd469911d19ed7080fecdb90f8773c487c744a9b)|`Remove description of deleted patches.`|\n|[358356b](https://github.com/sagemath/sagetrac-mirror/commit/358356ba3f910eb9b9f00b3234ad136997deb5a8)|`Merge remote-tracking branch 'trac/u/jpflori/ticket/14333' into ticket/15679`|\n|[ce90565](https://github.com/sagemath/sagetrac-mirror/commit/ce905651bef34b035148f828482778d7fe0f00b6)|`Fix Singular build on Cygwin64.`|",
    "created_at": "2014-01-18T22:42:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256919",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[1753f06](https://github.com/sagemath/sagetrac-mirror/commit/1753f06bb356908e5d3317f4d92c00421bde93ba)|`Update Singular to version 3-1-6.`|
|[536a31f](https://github.com/sagemath/sagetrac-mirror/commit/536a31f920117a8d048447f6b7a7477bcffc213a)|`Update Singular function interface to API changes in Singular 3.1.6.`|
|[dd46991](https://github.com/sagemath/sagetrac-mirror/commit/dd469911d19ed7080fecdb90f8773c487c744a9b)|`Remove description of deleted patches.`|
|[358356b](https://github.com/sagemath/sagetrac-mirror/commit/358356ba3f910eb9b9f00b3234ad136997deb5a8)|`Merge remote-tracking branch 'trac/u/jpflori/ticket/14333' into ticket/15679`|
|[ce90565](https://github.com/sagemath/sagetrac-mirror/commit/ce905651bef34b035148f828482778d7fe0f00b6)|`Fix Singular build on Cygwin64.`|



---

archive/issue_comments_256920.json:
```json
{
    "body": "Changing commit from \"\" to \"ce905651bef34b035148f828482778d7fe0f00b6\"",
    "created_at": "2014-01-18T22:42:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256920",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "ce905651bef34b035148f828482778d7fe0f00b6"



---

archive/issue_comments_256921.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-01-18T22:43:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256921",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_256922.json:
```json
{
    "body": "Changing keywords from \"singulat cygwin spkg\" to \"singular cygwin spkg\".",
    "created_at": "2014-01-18T22:43:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256922",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing keywords from "singulat cygwin spkg" to "singular cygwin spkg".



---

archive/issue_comments_256923.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[b19dde1](https://github.com/sagemath/sagetrac-mirror/commit/b19dde1ec37019189d4e986f7de1260846f0b429)|`Moved patch for Singular went untracked.`|",
    "created_at": "2014-01-18T23:12:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256923",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[b19dde1](https://github.com/sagemath/sagetrac-mirror/commit/b19dde1ec37019189d4e986f7de1260846f0b429)|`Moved patch for Singular went untracked.`|



---

archive/issue_comments_256924.json:
```json
{
    "body": "Changing commit from \"ce905651bef34b035148f828482778d7fe0f00b6\" to \"b19dde1ec37019189d4e986f7de1260846f0b429\"",
    "created_at": "2014-01-18T23:12:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256924",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ce905651bef34b035148f828482778d7fe0f00b6" to "b19dde1ec37019189d4e986f7de1260846f0b429"



---

archive/issue_events_052518.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15679#event-52518"
}
```



---

archive/issue_comments_256925.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-02-06T12:02:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256925",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_256926.json:
```json
{
    "body": "<a id='comment:6'></a>\nThe changes to src/sage/libs/singular/function.pyx mean that I can't rebuild sage with OS X 9.1.  The key error messages are \n\n```\nsage/libs/singular/function.cpp:11286:90: error: invalid conversion from 'sleftv*' to 'int' [-fpermissive]\nsage/libs/singular/function.cpp:11323:38: error: no matching function for call to 'sleftv::Copy(sleftv**)'\n```",
    "created_at": "2014-02-06T12:02:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256926",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

<a id='comment:6'></a>
The changes to src/sage/libs/singular/function.pyx mean that I can't rebuild sage with OS X 9.1.  The key error messages are 

```
sage/libs/singular/function.cpp:11286:90: error: invalid conversion from 'sleftv*' to 'int' [-fpermissive]
sage/libs/singular/function.cpp:11323:38: error: no matching function for call to 'sleftv::Copy(sleftv**)'
```



---

archive/issue_comments_256927.json:
```json
{
    "body": "<a id='comment:7'></a>\nI don't think this ticket modified that file, did it?",
    "created_at": "2014-02-06T13:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256927",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:7'></a>
I don't think this ticket modified that file, did it?



---

archive/issue_comments_256928.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2014-02-06T13:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256928",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_comments_256929.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [jpflori](#comment%3A7):\n> I don't think this ticket modified that file, did it?\n\n\n[https://github.com/sagemath/sagetrac-mirror/commit/536a31f920117a8d048447f6b7a7477bcffc213a](https://github.com/sagemath/sagetrac-mirror/commit/536a31f920117a8d048447f6b7a7477bcffc213a) says so.",
    "created_at": "2014-02-06T15:14:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256929",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

<a id='comment:8'></a>
Replying to [jpflori](#comment%3A7):
> I don't think this ticket modified that file, did it?


[https://github.com/sagemath/sagetrac-mirror/commit/536a31f920117a8d048447f6b7a7477bcffc213a](https://github.com/sagemath/sagetrac-mirror/commit/536a31f920117a8d048447f6b7a7477bcffc213a) says so.



---

archive/issue_comments_256930.json:
```json
{
    "body": "<a id='comment:9'></a>\nThat's #14333.",
    "created_at": "2014-02-06T15:21:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256930",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:9'></a>
That's #14333.



---

archive/issue_comments_256931.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [jpflori](#comment%3A9):\n> That's #14333.\n\n\nAh.  I didn't understand that a commit could be listed under two tickets.  Having found the commit, I think I just searched for tickets in which you were an author and the summary contained singular.\n\nI see now that the problem I had has been picked up in sage-release.  Sorry for bothering you.",
    "created_at": "2014-02-06T16:12:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256931",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

<a id='comment:10'></a>
Replying to [jpflori](#comment%3A9):
> That's #14333.


Ah.  I didn't understand that a commit could be listed under two tickets.  Having found the commit, I think I just searched for tickets in which you were an author and the summary contained singular.

I see now that the problem I had has been picked up in sage-release.  Sorry for bothering you.



---

archive/issue_comments_256932.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|\n|[3a72203](https://github.com/sagemath/sagetrac-mirror/commit/3a7220348f2b5befd5f382fc5a818b9275f78f41)|`Merge remote-tracking branch 'trac/develop' into ticket/15679`|",
    "created_at": "2014-02-10T10:57:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256932",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|
|[3a72203](https://github.com/sagemath/sagetrac-mirror/commit/3a7220348f2b5befd5f382fc5a818b9275f78f41)|`Merge remote-tracking branch 'trac/develop' into ticket/15679`|



---

archive/issue_comments_256933.json:
```json
{
    "body": "Changing commit from \"b19dde1ec37019189d4e986f7de1260846f0b429\" to \"3a7220348f2b5befd5f382fc5a818b9275f78f41\"",
    "created_at": "2014-02-10T10:57:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256933",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b19dde1ec37019189d4e986f7de1260846f0b429" to "3a7220348f2b5befd5f382fc5a818b9275f78f41"



---

archive/issue_comments_256934.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2014-02-10T10:57:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256934",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_256935.json:
```json
{
    "body": "<a id='comment:13'></a>\nThis one is also Cygwin64 specific.",
    "created_at": "2014-04-15T08:56:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256935",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:13'></a>
This one is also Cygwin64 specific.



---

archive/issue_comments_256936.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Volker Braun\"",
    "created_at": "2014-04-15T09:48:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256936",
    "user": "https://github.com/vbraun"
}
```

Changing reviewer from "" to "Volker Braun"



---

archive/issue_comments_256937.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-04-15T09:48:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256937",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_256938.json:
```json
{
    "body": "Changing branch from \"u/jpflori/ticket/15679\" to \"3a7220348f2b5befd5f382fc5a818b9275f78f41\"",
    "created_at": "2014-04-15T23:19:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256938",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jpflori/ticket/15679" to "3a7220348f2b5befd5f382fc5a818b9275f78f41"



---

archive/issue_comments_256939.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-04-15T23:19:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15679#issuecomment-256939",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_052519.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-15T23:19:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15679",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15679#event-52519"
}
```
