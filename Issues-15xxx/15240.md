# Issue 15240: Switch lattice polytopes to point collections

archive/issues_015003.json:
```json
{
    "assignees": [],
    "body": "The goals of this ticket are:\n* make the code of `LatticePolytope` less interdependent for easier maintenance and backend switch;\n* use `PointCollection` container internally to unify it with other classes for toric geometry (`Cone` and `Fan`);\n* deprecate current methods returning points as matrices so that their output can be changed in the future.\n\nOne of the easiest to discover change is the deprecation of the polytope-from-matrix constructor:\n\n```\nsage: LatticePolytope(identity_matrix(3))\n/home/novoselt/sage.git/src/bin/sage-ipython:1: DeprecationWarning: constructing lattice polytopes from matrices is deprecated!\nSee http://trac.sagemath.org/15240 for details.\n  #!/usr/bin/env python\n2-d lattice polytope in 3-d lattice M\n```\nTo get the same result without the deprecation warning one has to do\n\n```\nsage: LatticePolytope(identity_matrix(3).columns())\n```\n\nIn most cases users had to pack points into a column matrix and then\ncall the lattice polytope constructor. Now they can just omit the packing step.\n\nNote that matrices will eventually be accepted again as valid input\nsince they are \"iterables of iterables\", but **rows** of a matrix will\nbe viewed as points, not **columns**.\n\n\nCC:  @vbraun\n\nKeywords: **toric sd53**\n\nBranch: **[e5c9506](https://github.com/sagemath/sagetrac-mirror/commit/e5c95061922498ae02ac202e70dda4c82bb8dabe)**\n\nReviewer: **Volker Braun**\n\nAuthor: **Andrey Novoseltsev**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15240_\n\n",
    "closed_at": "2014-04-13T19:33:34Z",
    "created_at": "2013-09-30T08:40:20Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Switch lattice polytopes to point collections",
    "type": "issue",
    "updated_at": "2014-04-25T17:01:09Z",
    "url": "https://github.com/sagemath/sage/issues/15240",
    "user": "https://github.com/novoselt"
}
```
The goals of this ticket are:
* make the code of `LatticePolytope` less interdependent for easier maintenance and backend switch;
* use `PointCollection` container internally to unify it with other classes for toric geometry (`Cone` and `Fan`);
* deprecate current methods returning points as matrices so that their output can be changed in the future.

One of the easiest to discover change is the deprecation of the polytope-from-matrix constructor:

```
sage: LatticePolytope(identity_matrix(3))
/home/novoselt/sage.git/src/bin/sage-ipython:1: DeprecationWarning: constructing lattice polytopes from matrices is deprecated!
See http://trac.sagemath.org/15240 for details.
  #!/usr/bin/env python
2-d lattice polytope in 3-d lattice M
```
To get the same result without the deprecation warning one has to do

```
sage: LatticePolytope(identity_matrix(3).columns())
```

In most cases users had to pack points into a column matrix and then
call the lattice polytope constructor. Now they can just omit the packing step.

Note that matrices will eventually be accepted again as valid input
since they are "iterables of iterables", but **rows** of a matrix will
be viewed as points, not **columns**.


CC:  @vbraun

Keywords: **toric sd53**

Branch: **[e5c9506](https://github.com/sagemath/sagetrac-mirror/commit/e5c95061922498ae02ac202e70dda4c82bb8dabe)**

Reviewer: **Volker Braun**

Author: **Andrey Novoseltsev**

_Issue created by migration from https://trac.sagemath.org/ticket/15240_





---

archive/issue_events_199259.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2013-09-30T08:40:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "milestone_number": null,
    "milestone_title": "sage-6.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15240#event-199259"
}
```



---

archive/issue_events_199260.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2013-09-30T08:40:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "component: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15240#event-199260"
}
```



---

archive/issue_events_199261.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2013-09-30T08:40:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15240#event-199261"
}
```



---

archive/issue_events_199262.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2013-09-30T08:40:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15240#event-199262"
}
```



---

archive/issue_comments_190441.json:
```json
{
    "body": "Changed branch from **[/u/novoselt/lp2pc](https://github.com/sagemath/sagetrac-mirror/tree//u/novoselt/lp2pc)** to **[u/novoselt/lp2pc](https://github.com/sagemath/sagetrac-mirror/tree/u/novoselt/lp2pc)**",
    "created_at": "2013-09-30T08:43:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190441",
    "user": "https://github.com/novoselt"
}
```

Changed branch from **[/u/novoselt/lp2pc](https://github.com/sagemath/sagetrac-mirror/tree//u/novoselt/lp2pc)** to **[u/novoselt/lp2pc](https://github.com/sagemath/sagetrac-mirror/tree/u/novoselt/lp2pc)**



---

archive/issue_comments_190442.json:
```json
{
    "body": "Commit: **[dbf840e](https://github.com/sagemath/sagetrac-mirror/commit/dbf840e69f45bfa15cec6ceb774f91dccb5a5d16)**",
    "created_at": "2013-09-30T10:37:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190442",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[dbf840e](https://github.com/sagemath/sagetrac-mirror/commit/dbf840e69f45bfa15cec6ceb774f91dccb5a5d16)**



---

archive/issue_comments_190443.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td>[changeset:dbf840e]</td><td><code>Deprecated vertices().</code></td></tr><tr><td>[changeset:4f7a367]</td><td><code>Turn off points precomputing for reflexive polytopes.</code></td></tr></table>\n",
    "created_at": "2013-09-30T10:37:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190443",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td>[changeset:dbf840e]</td><td><code>Deprecated vertices().</code></td></tr><tr><td>[changeset:4f7a367]</td><td><code>Turn off points precomputing for reflexive polytopes.</code></td></tr></table>




---

archive/issue_comments_190444.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td>[changeset:00a1a86]</td><td><code>Deprecate constructing lattice polytopes from matrices as well.</code></td></tr><tr><td>[changeset:61ab3a1]</td><td><code>Deprecated points() and fixed doctests.</code></td></tr><tr><td>[changeset:06348e4]</td><td><code>Made doctests pass again.</code></td></tr></table>\n",
    "created_at": "2013-10-02T12:34:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190444",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'>Comment 3:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td>[changeset:00a1a86]</td><td><code>Deprecate constructing lattice polytopes from matrices as well.</code></td></tr><tr><td>[changeset:61ab3a1]</td><td><code>Deprecated points() and fixed doctests.</code></td></tr><tr><td>[changeset:06348e4]</td><td><code>Made doctests pass again.</code></td></tr></table>




---

archive/issue_comments_190445.json:
```json
{
    "body": "Changed commit from **[dbf840e](https://github.com/sagemath/sagetrac-mirror/commit/dbf840e69f45bfa15cec6ceb774f91dccb5a5d16)** to **[00a1a86](https://github.com/sagemath/sagetrac-mirror/commit/00a1a86f935993a6d3891a570cb16dc53d57cc8f)**",
    "created_at": "2013-10-02T12:34:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190445",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dbf840e](https://github.com/sagemath/sagetrac-mirror/commit/dbf840e69f45bfa15cec6ceb774f91dccb5a5d16)** to **[00a1a86](https://github.com/sagemath/sagetrac-mirror/commit/00a1a86f935993a6d3891a570cb16dc53d57cc8f)**



---

archive/issue_comments_190446.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nHey Volker - I think it would be nice to deprecate in this ticket everything that we don't want to keep except for the way how faces are handled (which I'd rather do in a follow up ticket). So far I've deprecated constructing polytopes from matrices, perhaps constructing them from files should be deprecated as well and handled by separate functions?\n\nWhat about \"desc\"? I'd like to print polytopes similar to cones/fans: \"3-d lattice polytope in 4-d lattice N\", perhaps with \"lattice\" replaced by \"reflexive\" automatically and with the index for 2- and 3-d cases. Should then \"desc\" be gone and those who really want can use Sage standard \"rename\"?\n\nAlso, I am not sure what the output of \"normal_form\" should be - keeping it as a matrix does not seem a good choice. Maybe the corresponding polytope in `ToricLattice(dim).dual()`? Then polytopes from built-in lists will return themselves and be equal to their normal form.\n\n`projective_space` and `octahedron(2)` better disappear as well, not sure how did I come up with \"octa\" for vertices other than 8!",
    "created_at": "2013-10-07T04:32:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190446",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:4'>Comment 4:</a>
Hey Volker - I think it would be nice to deprecate in this ticket everything that we don't want to keep except for the way how faces are handled (which I'd rather do in a follow up ticket). So far I've deprecated constructing polytopes from matrices, perhaps constructing them from files should be deprecated as well and handled by separate functions?

What about "desc"? I'd like to print polytopes similar to cones/fans: "3-d lattice polytope in 4-d lattice N", perhaps with "lattice" replaced by "reflexive" automatically and with the index for 2- and 3-d cases. Should then "desc" be gone and those who really want can use Sage standard "rename"?

Also, I am not sure what the output of "normal_form" should be - keeping it as a matrix does not seem a good choice. Maybe the corresponding polytope in `ToricLattice(dim).dual()`? Then polytopes from built-in lists will return themselves and be equal to their normal form.

`projective_space` and `octahedron(2)` better disappear as well, not sure how did I come up with "octa" for vertices other than 8!



---

archive/issue_comments_190447.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td>[changeset:9e2512e]</td><td><code>Deprecate projective_space polytope.</code></td></tr></table>\n",
    "created_at": "2013-10-07T05:48:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190447",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td>[changeset:9e2512e]</td><td><code>Deprecate projective_space polytope.</code></td></tr></table>




---

archive/issue_comments_190448.json:
```json
{
    "body": "Changed commit from **[00a1a86](https://github.com/sagemath/sagetrac-mirror/commit/00a1a86f935993a6d3891a570cb16dc53d57cc8f)** to **[9e2512e](https://github.com/sagemath/sagetrac-mirror/commit/9e2512e40f2f3428b63e7dc46170a207bcf36ccc)**",
    "created_at": "2013-10-07T05:48:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190448",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[00a1a86](https://github.com/sagemath/sagetrac-mirror/commit/00a1a86f935993a6d3891a570cb16dc53d57cc8f)** to **[9e2512e](https://github.com/sagemath/sagetrac-mirror/commit/9e2512e40f2f3428b63e7dc46170a207bcf36ccc)**



---

archive/issue_comments_190449.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nReplying to [@novoselt](#comment%3A4):\n> Hey Volker - I think it would be nice to deprecate in this ticket everything that we don't want to keep except for the way how faces are handled (which I'd rather do in a follow up ticket).\n\nSounds good!\n\n> What about \"desc\"? I'd like to print polytopes similar to cones/fans: \"3-d lattice polytope in 4-d lattice N\", perhaps with \"lattice\" replaced by \"reflexive\" automatically and with the index for 2- and 3-d cases. Should then \"desc\" be gone and those who really want can use Sage standard \"rename\"?\n\n+1\n\n> Also, I am not sure what the output of \"normal_form\" should be - keeping it as a matrix does not seem a good choice.\n\nA matrix isn't totally strange, after all the normal form is a version of hermite normal form together with permutation of vertices.\n\nIf you want to return it as another `LatticePolytope` then the constructor should keep the vertices in the specified order. The ambient lattice should be the same as the lattice of the original polytope, imho.\n\n> `projective_space` and `octahedron(2)` better disappear as well, not sure how did I come up with \"octa\" for vertices other than 8!\n\nShould probably be `cross_polytope` ;-)",
    "created_at": "2013-10-07T10:34:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190449",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:6'>Comment 6:</a>
Replying to [@novoselt](#comment%3A4):
> Hey Volker - I think it would be nice to deprecate in this ticket everything that we don't want to keep except for the way how faces are handled (which I'd rather do in a follow up ticket).

Sounds good!

> What about "desc"? I'd like to print polytopes similar to cones/fans: "3-d lattice polytope in 4-d lattice N", perhaps with "lattice" replaced by "reflexive" automatically and with the index for 2- and 3-d cases. Should then "desc" be gone and those who really want can use Sage standard "rename"?

+1

> Also, I am not sure what the output of "normal_form" should be - keeping it as a matrix does not seem a good choice.

A matrix isn't totally strange, after all the normal form is a version of hermite normal form together with permutation of vertices.

If you want to return it as another `LatticePolytope` then the constructor should keep the vertices in the specified order. The ambient lattice should be the same as the lattice of the original polytope, imho.

> `projective_space` and `octahedron(2)` better disappear as well, not sure how did I come up with "octa" for vertices other than 8!

Should probably be `cross_polytope` ;-)



---

archive/issue_comments_190450.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@vbraun](#comment%3A6):\n> Replying to [@novoselt](#comment%3A4):\n> > Also, I am not sure what the output of \"normal_form\" should be - keeping it as a matrix does not seem a good choice.\n\n> \n> A matrix isn't totally strange, after all the normal form is a version of hermite normal form together with permutation of vertices.\n> \n> If you want to return it as another `LatticePolytope` then the constructor should keep the vertices in the specified order. The ambient lattice should be the same as the lattice of the original polytope, imho.\n\nI always want to preserve order, especially when the input consists of vertices rather than spanning points ;-) The issue with the same lattice as the original one is that normal forms of equivalent polytopes in different lattices will compare as different, which seems a bit counterintuitive with respect to index, i.e. with my default lattice choice we would have for any 2- or 3-d reflexive polytope\n\n```\nsage: p.normal_form() == ReflexivePolytope(p.dim(), p.index())\nTrue\n```\nOn the other hand starting with a polytope in N and getting as its normal form something in M isn't great either... So maybe a matrix is the way to go. Perhaps with vertices as rows rather than columns?\n\nSpeaking of `index` - are you OK with the name or something like `db_index` would be better? I definitely find it very useful, but the meaning of `index` for morphisms and cones is completely different and there are \"more mathematical\" indices associated to polytopes, like Gorenstein one.",
    "created_at": "2013-10-07T14:38:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190450",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@vbraun](#comment%3A6):
> Replying to [@novoselt](#comment%3A4):
> > Also, I am not sure what the output of "normal_form" should be - keeping it as a matrix does not seem a good choice.

> 
> A matrix isn't totally strange, after all the normal form is a version of hermite normal form together with permutation of vertices.
> 
> If you want to return it as another `LatticePolytope` then the constructor should keep the vertices in the specified order. The ambient lattice should be the same as the lattice of the original polytope, imho.

I always want to preserve order, especially when the input consists of vertices rather than spanning points ;-) The issue with the same lattice as the original one is that normal forms of equivalent polytopes in different lattices will compare as different, which seems a bit counterintuitive with respect to index, i.e. with my default lattice choice we would have for any 2- or 3-d reflexive polytope

```
sage: p.normal_form() == ReflexivePolytope(p.dim(), p.index())
True
```
On the other hand starting with a polytope in N and getting as its normal form something in M isn't great either... So maybe a matrix is the way to go. Perhaps with vertices as rows rather than columns?

Speaking of `index` - are you OK with the name or something like `db_index` would be better? I definitely find it very useful, but the meaning of `index` for morphisms and cones is completely different and there are "more mathematical" indices associated to polytopes, like Gorenstein one.



---

archive/issue_comments_190451.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nHaving normal forms compare different if they live in different lattices would be fine with me, for the record.\n\nAs for the index, how about `.label()` or `.id()`? It could return a pair of (dim, index) that would be valid input for ReflexivePolytope",
    "created_at": "2013-10-07T14:49:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190451",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'>Comment 8:</a>
Having normal forms compare different if they live in different lattices would be fine with me, for the record.

As for the index, how about `.label()` or `.id()`? It could return a pair of (dim, index) that would be valid input for ReflexivePolytope



---

archive/issue_events_199263.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2013-12-17T18:39:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "milestone_number": null,
    "milestone_title": "sage-6.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15240#event-199263"
}
```



---

archive/issue_events_199264.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2013-12-17T18:39:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15240#event-199264"
}
```



---

archive/issue_events_199265.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15240#event-199265"
}
```



---

archive/issue_events_199266.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15240#event-199266"
}
```



---

archive/issue_comments_190452.json:
```json
{
    "body": "Changed commit from **[9e2512e](https://github.com/sagemath/sagetrac-mirror/commit/9e2512e40f2f3428b63e7dc46170a207bcf36ccc)** to **[75e66b5](https://github.com/sagemath/sagetrac-mirror/commit/75e66b5a9e1cfe50b6d7b7f1ea1e7c339fb85d95)**",
    "created_at": "2014-03-26T23:17:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190452",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9e2512e](https://github.com/sagemath/sagetrac-mirror/commit/9e2512e40f2f3428b63e7dc46170a207bcf36ccc)** to **[75e66b5](https://github.com/sagemath/sagetrac-mirror/commit/75e66b5a9e1cfe50b6d7b7f1ea1e7c339fb85d95)**



---

archive/issue_comments_190453.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75e66b5a9e1cfe50b6d7b7f1ea1e7c339fb85d95\">75e66b5</a></td><td><code>Merge 6.2.beta5 into lp2pc</code></td></tr></table>\n",
    "created_at": "2014-03-26T23:17:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190453",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75e66b5a9e1cfe50b6d7b7f1ea1e7c339fb85d95">75e66b5</a></td><td><code>Merge 6.2.beta5 into lp2pc</code></td></tr></table>




---

archive/issue_comments_190454.json:
```json
{
    "body": "Changed commit from **[75e66b5](https://github.com/sagemath/sagetrac-mirror/commit/75e66b5a9e1cfe50b6d7b7f1ea1e7c339fb85d95)** to **[df1722a](https://github.com/sagemath/sagetrac-mirror/commit/df1722a8fb4166be0bcc5401995094a6a70a4d20)**",
    "created_at": "2014-03-27T00:23:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190454",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[75e66b5](https://github.com/sagemath/sagetrac-mirror/commit/75e66b5a9e1cfe50b6d7b7f1ea1e7c339fb85d95)** to **[df1722a](https://github.com/sagemath/sagetrac-mirror/commit/df1722a8fb4166be0bcc5401995094a6a70a4d20)**



---

archive/issue_comments_190455.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df1722a8fb4166be0bcc5401995094a6a70a4d20\">df1722a</a></td><td><code>Adjust new calls to deprecated functions and remove <TAB> from merging.</code></td></tr></table>\n",
    "created_at": "2014-03-27T00:23:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190455",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'>Comment 12:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df1722a8fb4166be0bcc5401995094a6a70a4d20">df1722a</a></td><td><code>Adjust new calls to deprecated functions and remove <TAB> from merging.</code></td></tr></table>




---

archive/issue_comments_190456.json:
```json
{
    "body": "Changed commit from **[df1722a](https://github.com/sagemath/sagetrac-mirror/commit/df1722a8fb4166be0bcc5401995094a6a70a4d20)** to **[9658e0c](https://github.com/sagemath/sagetrac-mirror/commit/9658e0c79e2c929a63bfe6621adddb0267c50e87)**",
    "created_at": "2014-03-28T00:17:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190456",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[df1722a](https://github.com/sagemath/sagetrac-mirror/commit/df1722a8fb4166be0bcc5401995094a6a70a4d20)** to **[9658e0c](https://github.com/sagemath/sagetrac-mirror/commit/9658e0c79e2c929a63bfe6621adddb0267c50e87)**



---

archive/issue_comments_190457.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9658e0c79e2c929a63bfe6621adddb0267c50e87\">9658e0c</a></td><td><code>Changed `_repr_`, deprecated desc, simplified error messages, fixed doctests.</code></td></tr></table>\n",
    "created_at": "2014-03-28T00:17:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190457",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'>Comment 13:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9658e0c79e2c929a63bfe6621adddb0267c50e87">9658e0c</a></td><td><code>Changed `_repr_`, deprecated desc, simplified error messages, fixed doctests.</code></td></tr></table>




---

archive/issue_comments_190458.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nPicking up the previous discussion, I think using `PointCollection` for `normal_form` is a good choice with the lattice being the same as the lattice of the polytope. Then for polytopes in normal form `p.vertices() == p.normal_form()` without any extra remarks. The index for 2 and 3 dimensions will mean matching these normal forms but ignoring lattices.",
    "created_at": "2014-03-28T20:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190458",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:14'>Comment 14:</a>
Picking up the previous discussion, I think using `PointCollection` for `normal_form` is a good choice with the lattice being the same as the lattice of the polytope. Then for polytopes in normal form `p.vertices() == p.normal_form()` without any extra remarks. The index for 2 and 3 dimensions will mean matching these normal forms but ignoring lattices.



---

archive/issue_comments_190459.json:
```json
{
    "body": "Changed commit from **[9658e0c](https://github.com/sagemath/sagetrac-mirror/commit/9658e0c79e2c929a63bfe6621adddb0267c50e87)** to **[31308ea](https://github.com/sagemath/sagetrac-mirror/commit/31308ea374726a3e98c39164f58dbcb53089ef79)**",
    "created_at": "2014-03-28T22:57:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190459",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9658e0c](https://github.com/sagemath/sagetrac-mirror/commit/9658e0c79e2c929a63bfe6621adddb0267c50e87)** to **[31308ea](https://github.com/sagemath/sagetrac-mirror/commit/31308ea374726a3e98c39164f58dbcb53089ef79)**



---

archive/issue_comments_190460.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31308ea374726a3e98c39164f58dbcb53089ef79\">31308ea</a></td><td><code>Deprecate normal_form and fix doctests.</code></td></tr></table>\n",
    "created_at": "2014-03-28T22:57:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190460",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:15'>Comment 15:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31308ea374726a3e98c39164f58dbcb53089ef79">31308ea</a></td><td><code>Deprecate normal_form and fix doctests.</code></td></tr></table>




---

archive/issue_comments_190461.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2080f3cf0365f4b568ce1129f3d0dc448fe80f11\">2080f3c</a></td><td><code>Deprecate octahedron.</code></td></tr></table>\n",
    "created_at": "2014-04-07T21:26:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190461",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'>Comment 16:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2080f3cf0365f4b568ce1129f3d0dc448fe80f11">2080f3c</a></td><td><code>Deprecate octahedron.</code></td></tr></table>




---

archive/issue_comments_190462.json:
```json
{
    "body": "Changed commit from **[31308ea](https://github.com/sagemath/sagetrac-mirror/commit/31308ea374726a3e98c39164f58dbcb53089ef79)** to **[2080f3c](https://github.com/sagemath/sagetrac-mirror/commit/2080f3cf0365f4b568ce1129f3d0dc448fe80f11)**",
    "created_at": "2014-04-07T21:26:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190462",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[31308ea](https://github.com/sagemath/sagetrac-mirror/commit/31308ea374726a3e98c39164f58dbcb53089ef79)** to **[2080f3c](https://github.com/sagemath/sagetrac-mirror/commit/2080f3cf0365f4b568ce1129f3d0dc448fe80f11)**



---

archive/issue_comments_190463.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c495aa106c7d02af71c42f021e847f4519ff2ea0\">c495aa1</a></td><td><code>Merge branch 6.2.beta7 into lp2pc to take advantage of improved deprecation.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6988767556a4ebe1a191968b0fc6925fd25d08b4\">6988767</a></td><td><code>sed -i \"s/lattice_polytope.octahedron(3)/lattice_polytope.cross_polytope(3)/\" `grep -rl \"octahedron(3)\" src/sage`</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b06d099d99eb197144c97e5d0c4abd08aee030c0\">b06d099</a></td><td><code>Fixed octahedron(n) calls for n!=3 in sage/geometry.</code></td></tr></table>\n",
    "created_at": "2014-04-10T00:05:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190463",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'>Comment 17:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c495aa106c7d02af71c42f021e847f4519ff2ea0">c495aa1</a></td><td><code>Merge branch 6.2.beta7 into lp2pc to take advantage of improved deprecation.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6988767556a4ebe1a191968b0fc6925fd25d08b4">6988767</a></td><td><code>sed -i "s/lattice_polytope.octahedron(3)/lattice_polytope.cross_polytope(3)/" `grep -rl "octahedron(3)" src/sage`</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b06d099d99eb197144c97e5d0c4abd08aee030c0">b06d099</a></td><td><code>Fixed octahedron(n) calls for n!=3 in sage/geometry.</code></td></tr></table>




---

archive/issue_comments_190464.json:
```json
{
    "body": "Changed commit from **[2080f3c](https://github.com/sagemath/sagetrac-mirror/commit/2080f3cf0365f4b568ce1129f3d0dc448fe80f11)** to **[b06d099](https://github.com/sagemath/sagetrac-mirror/commit/b06d099d99eb197144c97e5d0c4abd08aee030c0)**",
    "created_at": "2014-04-10T00:05:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190464",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2080f3c](https://github.com/sagemath/sagetrac-mirror/commit/2080f3cf0365f4b568ce1129f3d0dc448fe80f11)** to **[b06d099](https://github.com/sagemath/sagetrac-mirror/commit/b06d099d99eb197144c97e5d0c4abd08aee030c0)**



---

archive/issue_comments_190465.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e4ac313265add64779afeac4310de77e787aab8\">0e4ac31</a></td><td><code>Fixed octahedron(2) calls sage/schemes/toric</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9cbcfc4d84c16f28f4b953e1b5e1a53ff5420a80\">9cbcfc4</a></td><td><code>Fix the last broken doctests.</code></td></tr></table>\n",
    "created_at": "2014-04-11T19:28:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190465",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'>Comment 18:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e4ac313265add64779afeac4310de77e787aab8">0e4ac31</a></td><td><code>Fixed octahedron(2) calls sage/schemes/toric</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9cbcfc4d84c16f28f4b953e1b5e1a53ff5420a80">9cbcfc4</a></td><td><code>Fix the last broken doctests.</code></td></tr></table>




---

archive/issue_comments_190466.json:
```json
{
    "body": "Changed commit from **[b06d099](https://github.com/sagemath/sagetrac-mirror/commit/b06d099d99eb197144c97e5d0c4abd08aee030c0)** to **[9cbcfc4](https://github.com/sagemath/sagetrac-mirror/commit/9cbcfc4d84c16f28f4b953e1b5e1a53ff5420a80)**",
    "created_at": "2014-04-11T19:28:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190466",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b06d099](https://github.com/sagemath/sagetrac-mirror/commit/b06d099d99eb197144c97e5d0c4abd08aee030c0)** to **[9cbcfc4](https://github.com/sagemath/sagetrac-mirror/commit/9cbcfc4d84c16f28f4b953e1b5e1a53ff5420a80)**



---

archive/issue_comments_190467.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nOK, I better stop given that a few thousands lines are affected already. Except for `lattice_polytope.py` they are mostly doctest fixes due to deprecated `octahedron` and changed representation.\n\nThe main thing that is left is fix the mess with polytope faces, but that definitely should be a separate ticket.",
    "created_at": "2014-04-11T19:33:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190467",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:19'>Comment 19:</a>
OK, I better stop given that a few thousands lines are affected already. Except for `lattice_polytope.py` they are mostly doctest fixes due to deprecated `octahedron` and changed representation.

The main thing that is left is fix the mess with polytope faces, but that definitely should be a separate ticket.



---

archive/issue_events_199267.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2014-04-11T19:33:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15240#event-199267"
}
```



---

archive/issue_comments_190468.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2014-04-11T19:38:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190468",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Volker Braun**



---

archive/issue_comments_190469.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nConflicts with the already-merged #15990, either resolve now or with the next beta",
    "created_at": "2014-04-11T19:43:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190469",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'>Comment 21:</a>
Conflicts with the already-merged #15990, either resolve now or with the next beta



---

archive/issue_comments_190470.json:
```json
{
    "body": "Changed commit from **[9cbcfc4](https://github.com/sagemath/sagetrac-mirror/commit/9cbcfc4d84c16f28f4b953e1b5e1a53ff5420a80)** to **[46ce7c7](https://github.com/sagemath/sagetrac-mirror/commit/46ce7c78478e6ca449a6c3a5f045b598c47946c3)**",
    "created_at": "2014-04-11T20:06:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190470",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9cbcfc4](https://github.com/sagemath/sagetrac-mirror/commit/9cbcfc4d84c16f28f4b953e1b5e1a53ff5420a80)** to **[46ce7c7](https://github.com/sagemath/sagetrac-mirror/commit/46ce7c78478e6ca449a6c3a5f045b598c47946c3)**



---

archive/issue_comments_190471.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb091606a87eb23e0961d85a7f87b330ee2d6c85\">eb09160</a></td><td><code>trac #11726 implement floordiv for laurent polys in one variable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e27a420b0684591d56e5b9eee6c56a3c1c543fed\">e27a420</a></td><td><code>trac #11726 one failing doctest corrected</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba866ef03336d32f846a914f478da5209913fb09\">ba866ef</a></td><td><code>Merge branch 'public/ticket/11726' into raise-plus</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86261b11d9dba55604b5931c4494daffca1e4856\">86261b1</a></td><td><code>Improve count_points</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55cdcf39b1b37f443ba441a2a861b69e8ab726f5\">55cdcf3</a></td><td><code>Refactor point counting code for hyperelliptic curves.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc7a56981dac741302fb1b540cdf448a759347f2\">fc7a569</a></td><td><code>First bunch of fixes and missing examples.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/63bf717e1ecb11767db4dfd49af4e03ae291129e\">63bf717</a></td><td><code>Rebase on top of #15108.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8029bc64eb47fe659c3b06df7fa2caad5be8d40e\">8029bc6</a></td><td><code>Merge remote-tracking branch 'trac/develop' into ticket/15148</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/136948a88bbf731a916184b91adf52fb93daa0d4\">136948a</a></td><td><code>Merge branch 'u/jpflori/ticket/15148' into raise-plus</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46ce7c78478e6ca449a6c3a5f045b598c47946c3\">46ce7c7</a></td><td><code>Merge commit '136948a88bbf731a916184b91adf52fb93daa0d4' into lp2pc</code></td></tr></table>\n",
    "created_at": "2014-04-11T20:06:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190471",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:22'>Comment 22:</a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb091606a87eb23e0961d85a7f87b330ee2d6c85">eb09160</a></td><td><code>trac #11726 implement floordiv for laurent polys in one variable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e27a420b0684591d56e5b9eee6c56a3c1c543fed">e27a420</a></td><td><code>trac #11726 one failing doctest corrected</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba866ef03336d32f846a914f478da5209913fb09">ba866ef</a></td><td><code>Merge branch 'public/ticket/11726' into raise-plus</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86261b11d9dba55604b5931c4494daffca1e4856">86261b1</a></td><td><code>Improve count_points</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55cdcf39b1b37f443ba441a2a861b69e8ab726f5">55cdcf3</a></td><td><code>Refactor point counting code for hyperelliptic curves.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc7a56981dac741302fb1b540cdf448a759347f2">fc7a569</a></td><td><code>First bunch of fixes and missing examples.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/63bf717e1ecb11767db4dfd49af4e03ae291129e">63bf717</a></td><td><code>Rebase on top of #15108.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8029bc64eb47fe659c3b06df7fa2caad5be8d40e">8029bc6</a></td><td><code>Merge remote-tracking branch 'trac/develop' into ticket/15148</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/136948a88bbf731a916184b91adf52fb93daa0d4">136948a</a></td><td><code>Merge branch 'u/jpflori/ticket/15148' into raise-plus</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46ce7c78478e6ca449a6c3a5f045b598c47946c3">46ce7c7</a></td><td><code>Merge commit '136948a88bbf731a916184b91adf52fb93daa0d4' into lp2pc</code></td></tr></table>




---

archive/issue_comments_190472.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nOK, I've done \n\n```\ngit merge 136948a88bbf731a916184b91adf52fb93daa0d4\n```\nwhich is the commit listed as \"branch\" on #15990 and then resolved the conflict. Was it the way to go?",
    "created_at": "2014-04-11T20:08:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190472",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:23'>Comment 23:</a>
OK, I've done 

```
git merge 136948a88bbf731a916184b91adf52fb93daa0d4
```
which is the commit listed as "branch" on #15990 and then resolved the conflict. Was it the way to go?



---

archive/issue_comments_190473.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nWhen I click on commits on trac, then my two merges with betas are shown as single commits, while this resent change shows also other stuff - what is the difference between merging \"develop\" and other commits into my branch?",
    "created_at": "2014-04-11T20:10:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190473",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:24'>Comment 24:</a>
When I click on commits on trac, then my two merges with betas are shown as single commits, while this resent change shows also other stuff - what is the difference between merging "develop" and other commits into my branch?



---

archive/issue_comments_190474.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nThe betas that you merged are (by definition) already released, so in the trac view they (that is, the second parent of the merge) is excluded. But the ticket that you merged in is not yet released in a beta, so its entire history is shown as well. When I release the next beta containing #15990 then it will be removed from the trac view.",
    "created_at": "2014-04-11T21:35:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190474",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:25'>Comment 25:</a>
The betas that you merged are (by definition) already released, so in the trac view they (that is, the second parent of the merge) is excluded. But the ticket that you merged in is not yet released in a beta, so its entire history is shown as well. When I release the next beta containing #15990 then it will be removed from the trac view.



---

archive/issue_comments_190475.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\n\n```\n  File \"/home/buildbot/build/sage/eno-1/sage_git/build/local/lib/python2.7/site-packages/sage/geometry/lattice_polytope.py\", line 1058\n    result = stdout.read()\n         ^\nSyntaxError: invalid syntax\n```",
    "created_at": "2014-04-11T22:41:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190475",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:26'>Comment 26:</a>

```
  File "/home/buildbot/build/sage/eno-1/sage_git/build/local/lib/python2.7/site-packages/sage/geometry/lattice_polytope.py", line 1058
    result = stdout.read()
         ^
SyntaxError: invalid syntax
```



---

archive/issue_comments_190476.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e5c95061922498ae02ac202e70dda4c82bb8dabe\">e5c9506</a></td><td><code>I couldn't count parentheses correctly during merge resolution.</code></td></tr></table>\n",
    "created_at": "2014-04-11T23:17:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190476",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:27'>Comment 27:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e5c95061922498ae02ac202e70dda4c82bb8dabe">e5c9506</a></td><td><code>I couldn't count parentheses correctly during merge resolution.</code></td></tr></table>




---

archive/issue_comments_190477.json:
```json
{
    "body": "Changed commit from **[46ce7c7](https://github.com/sagemath/sagetrac-mirror/commit/46ce7c78478e6ca449a6c3a5f045b598c47946c3)** to **[e5c9506](https://github.com/sagemath/sagetrac-mirror/commit/e5c95061922498ae02ac202e70dda4c82bb8dabe)**",
    "created_at": "2014-04-11T23:17:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190477",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[46ce7c7](https://github.com/sagemath/sagetrac-mirror/commit/46ce7c78478e6ca449a6c3a5f045b598c47946c3)** to **[e5c9506](https://github.com/sagemath/sagetrac-mirror/commit/e5c95061922498ae02ac202e70dda4c82bb8dabe)**



---

archive/issue_events_199268.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-13T19:33:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15240#event-199268"
}
```



---

archive/issue_events_199269.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e6170158b880de5638996520e21503d44fd43f3b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-04-13T19:33:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15240#event-199269"
}
```



---

archive/issue_comments_190478.json:
```json
{
    "body": "Changed branch from **[u/novoselt/lp2pc](https://github.com/sagemath/sagetrac-mirror/tree/u/novoselt/lp2pc)** to **[e5c9506](https://github.com/sagemath/sagetrac-mirror/commit/e5c95061922498ae02ac202e70dda4c82bb8dabe)**",
    "created_at": "2014-04-13T19:33:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190478",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/novoselt/lp2pc](https://github.com/sagemath/sagetrac-mirror/tree/u/novoselt/lp2pc)** to **[e5c9506](https://github.com/sagemath/sagetrac-mirror/commit/e5c95061922498ae02ac202e70dda4c82bb8dabe)**



---

archive/issue_comments_190479.json:
```json
{
    "body": "Changed commit from **[e5c9506](https://github.com/sagemath/sagetrac-mirror/commit/e5c95061922498ae02ac202e70dda4c82bb8dabe)** to none",
    "created_at": "2014-04-14T05:51:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190479",
    "user": "https://github.com/novoselt"
}
```

Changed commit from **[e5c9506](https://github.com/sagemath/sagetrac-mirror/commit/e5c95061922498ae02ac202e70dda4c82bb8dabe)** to none



---

archive/issue_comments_190480.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nWow, looks like tachyons are real, thanks Volker!",
    "created_at": "2014-04-14T05:51:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190480",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:29'>Comment 29:</a>
Wow, looks like tachyons are real, thanks Volker!



---

archive/issue_comments_190481.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nHi!\n\nDo you mind editing the ticket description so that users can easily find what's the current alternative to constructing lattice polytopes from a matrix?\n\nThanks!\n                                   Nicolas",
    "created_at": "2014-04-25T14:23:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190481",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:30'>Comment 30:</a>
Hi!

Do you mind editing the ticket description so that users can easily find what's the current alternative to constructing lattice polytopes from a matrix?

Thanks!
                                   Nicolas



---

archive/issue_comments_190482.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,20 @@\n The goals of this ticket are:\n * make the code of `LatticePolytope` less interdependent for easier maintenance and backend switch;\n * use `PointCollection` container internally to unify it with other classes for toric geometry (`Cone` and `Fan`);\n-* deprecate current methods returning points as matrices so that their output can be changed in the future. \n+* deprecate current methods returning points as matrices so that their output can be changed in the future.\n+\n+One of the easiest to discover changes is deprecation of polytope-from-matrix constructor:\n+\n+```\n+sage: LatticePolytope(identity_matrix(3))\n+/home/novoselt/sage.git/src/bin/sage-ipython:1: DeprecationWarning: constructing lattice polytopes from matrices is deprecated!\n+See http://trac.sagemath.org/15240 for details.\n+  #!/usr/bin/env python\n+2-d lattice polytope in 3-d lattice M\n+```\n+to get the same result without the deprecation warning one has to do\n+\n+```\n+sage: LatticePolytope(identity_matrix(3).columns())\n+```\n+although it in most cases users had to pack points into a column matrix and then call lattice polytope constructor. Now they can just omit the packing step. Note that matrices will eventually be accepted again as valid input since they are \"iterables of iterables\", but **rows** of a matrix will be viewed as points, not **columns**.\n``````\n",
    "created_at": "2014-04-25T16:46:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190482",
    "user": "https://github.com/novoselt"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,20 @@
 The goals of this ticket are:
 * make the code of `LatticePolytope` less interdependent for easier maintenance and backend switch;
 * use `PointCollection` container internally to unify it with other classes for toric geometry (`Cone` and `Fan`);
-* deprecate current methods returning points as matrices so that their output can be changed in the future. 
+* deprecate current methods returning points as matrices so that their output can be changed in the future.
+
+One of the easiest to discover changes is deprecation of polytope-from-matrix constructor:
+
+```
+sage: LatticePolytope(identity_matrix(3))
+/home/novoselt/sage.git/src/bin/sage-ipython:1: DeprecationWarning: constructing lattice polytopes from matrices is deprecated!
+See http://trac.sagemath.org/15240 for details.
+  #!/usr/bin/env python
+2-d lattice polytope in 3-d lattice M
+```
+to get the same result without the deprecation warning one has to do
+
+```
+sage: LatticePolytope(identity_matrix(3).columns())
+```
+although it in most cases users had to pack points into a column matrix and then call lattice polytope constructor. Now they can just omit the packing step. Note that matrices will eventually be accepted again as valid input since they are "iterables of iterables", but **rows** of a matrix will be viewed as points, not **columns**.
``````




---

archive/issue_comments_190483.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nDone. Any ideas why do I have\n\n```\n  #!/usr/bin/env python\n```\nin the end of the warning?..",
    "created_at": "2014-04-25T16:46:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190483",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:31'>Comment 31:</a>
Done. Any ideas why do I have

```
  #!/usr/bin/env python
```
in the end of the warning?..



---

archive/issue_comments_190484.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nThanks!\n\nNo clue about the warning.",
    "created_at": "2014-04-25T17:01:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190484",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:32'>Comment 32:</a>
Thanks!

No clue about the warning.



---

archive/issue_comments_190485.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,7 +3,7 @@\n * use `PointCollection` container internally to unify it with other classes for toric geometry (`Cone` and `Fan`);\n * deprecate current methods returning points as matrices so that their output can be changed in the future.\n \n-One of the easiest to discover changes is deprecation of polytope-from-matrix constructor:\n+One of the easiest to discover change is the deprecation of the polytope-from-matrix constructor:\n \n ```\n sage: LatticePolytope(identity_matrix(3))\n@@ -12,9 +12,16 @@\n   #!/usr/bin/env python\n 2-d lattice polytope in 3-d lattice M\n ```\n-to get the same result without the deprecation warning one has to do\n+To get the same result without the deprecation warning one has to do\n \n ```\n sage: LatticePolytope(identity_matrix(3).columns())\n ```\n-although it in most cases users had to pack points into a column matrix and then call lattice polytope constructor. Now they can just omit the packing step. Note that matrices will eventually be accepted again as valid input since they are \"iterables of iterables\", but **rows** of a matrix will be viewed as points, not **columns**.\n+\n+In most cases users had to pack points into a column matrix and then\n+call the lattice polytope constructor. Now they can just omit the packing step.\n+\n+Note that matrices will eventually be accepted again as valid input\n+since they are \"iterables of iterables\", but **rows** of a matrix will\n+be viewed as points, not **columns**.\n+\n``````\n",
    "created_at": "2014-04-25T17:01:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15240#issuecomment-190485",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,7 +3,7 @@
 * use `PointCollection` container internally to unify it with other classes for toric geometry (`Cone` and `Fan`);
 * deprecate current methods returning points as matrices so that their output can be changed in the future.
 
-One of the easiest to discover changes is deprecation of polytope-from-matrix constructor:
+One of the easiest to discover change is the deprecation of the polytope-from-matrix constructor:
 
 ```
 sage: LatticePolytope(identity_matrix(3))
@@ -12,9 +12,16 @@
   #!/usr/bin/env python
 2-d lattice polytope in 3-d lattice M
 ```
-to get the same result without the deprecation warning one has to do
+To get the same result without the deprecation warning one has to do
 
 ```
 sage: LatticePolytope(identity_matrix(3).columns())
 ```
-although it in most cases users had to pack points into a column matrix and then call lattice polytope constructor. Now they can just omit the packing step. Note that matrices will eventually be accepted again as valid input since they are "iterables of iterables", but **rows** of a matrix will be viewed as points, not **columns**.
+
+In most cases users had to pack points into a column matrix and then
+call the lattice polytope constructor. Now they can just omit the packing step.
+
+Note that matrices will eventually be accepted again as valid input
+since they are "iterables of iterables", but **rows** of a matrix will
+be viewed as points, not **columns**.
+
``````

