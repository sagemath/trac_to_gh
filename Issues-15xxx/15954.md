# Issue 15954: Polyring_FpT_coerce cannot handle polynomial_modn_dense_ntl

archive/issues_015717.json:
```json
{
    "body": "\n```\nsage: R.<x> = PolynomialRing(Integers(101), implementation='NTL')\nsage: 1/x\n---------------------------------------------------------------------------\nNotImplementedError                       Traceback (most recent call last)\n<ipython-input-2-3e814ccafd34> in <module>()\n----> 1 Integer(1)/x\n\n/usr/local/src/sage-config/src/sage/rings/integer.pyx in sage.rings.integer.Integer.__div__ (build/cythonized/sage/rings/integer.c:13187)()\n   1874             return y\n   1875 \n-> 1876         return coercion_model.bin_op(left, right, operator.div)\n   1877 \n   1878     cpdef _div_(self, right):\n\n/usr/local/src/sage-config/src/sage/structure/coerce.pyx in sage.structure.coerce.CoercionModel_cache_maps.bin_op (build/cythonized/sage/structure/coerce.c:9515)()\n   1079         try:\n   1080             xy = self.canonical_coercion(x,y)\n-> 1081             return PyObject_CallObject(op, xy)\n   1082         except TypeError as err:\n   1083             if xy is not None:\n\n/usr/local/src/sage-config/src/sage/rings/polynomial/polynomial_element.pyx in sage.rings.polynomial.polynomial_element.Polynomial.__div__ (build/cythonized/sage/rings/polynomial/polynomial_element.c:23976)()\n   2121 \n   2122     def __div__(left, right):\n-> 2123         return PyNumber_TrueDivide(left, right)\n   2124 \n   2125     def __pow__(left, right, modulus):\n\n/usr/local/src/sage-config/src/sage/rings/polynomial/polynomial_element.pyx in sage.rings.polynomial.polynomial_element.Polynomial.__truediv__ (build/cythonized/sage/rings/polynomial/polynomial_element.c:23681)()\n   2103         # Same parents => bypass coercion\n   2104         if have_same_parent(left, right):\n-> 2105             return (<Element>left)._div_(right)\n   2106 \n   2107         # Try division of polynomial by a scalar\n\n/usr/local/src/sage-config/src/sage/structure/element.pyx in sage.structure.element.RingElement._div_ (build/cythonized/sage/structure/element.c:17628)()\n   2476         except AttributeError:\n   2477             raise bin_op_exception('/', self, other)\n-> 2478         return frac(self, other)\n   2479 \n   2480     def __invert__(self):\n\n/usr/local/src/sage-config/src/sage/structure/parent.pyx in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9433)()\n    917                 return mor._call_(x)\n    918             else:\n--> 919                 return mor._call_with_args(x, args, kwds)\n    920 \n    921         raise TypeError(\"No conversion defined from %s to %s\"%(R, self))\n\n/usr/local/src/sage-config/src/sage/rings/fraction_field_FpT.pyx in sage.rings.fraction_field_FpT.Polyring_FpT_coerce._call_with_args (build/cythonized/sage/rings/fraction_field_FpT.cpp:12573)()\n   1132             x = <Polynomial_zmod_flint?> _x\n   1133         except TypeError:\n-> 1134             raise NotImplementedError('Fraction fields not implemented for this type.')\n   1135         cdef FpTElement ans = <FpTElement>FpTElement.__new__(FpTElement)\n   1136         ans._parent = self.codomain()\n\nNotImplementedError: Fraction fields not implemented for this type.\n```\nThis makes NTL modpolys unusable in fractions.\n\nReviewer: Karl-Dieter Crisman\n\nAuthor: Ralf Stephan\n\nBranch: u/rws/polyring_fpt_coerce_cannot_handle_polynomial_modn_dense_ntl\n\nStatus: needs_info\n\nCommit: ded2b6d096862fb26e5427ab590ec0686a3dd6e2\n\nIssue created by migration from https://trac.sagemath.org/ticket/15954\n\n",
    "created_at": "2014-03-16T16:43:25Z",
    "labels": [
        "component: coercion",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Polyring_FpT_coerce cannot handle polynomial_modn_dense_ntl",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15954",
    "user": "https://github.com/rwst"
}
```

```
sage: R.<x> = PolynomialRing(Integers(101), implementation='NTL')
sage: 1/x
---------------------------------------------------------------------------
NotImplementedError                       Traceback (most recent call last)
<ipython-input-2-3e814ccafd34> in <module>()
----> 1 Integer(1)/x

/usr/local/src/sage-config/src/sage/rings/integer.pyx in sage.rings.integer.Integer.__div__ (build/cythonized/sage/rings/integer.c:13187)()
   1874             return y
   1875 
-> 1876         return coercion_model.bin_op(left, right, operator.div)
   1877 
   1878     cpdef _div_(self, right):

/usr/local/src/sage-config/src/sage/structure/coerce.pyx in sage.structure.coerce.CoercionModel_cache_maps.bin_op (build/cythonized/sage/structure/coerce.c:9515)()
   1079         try:
   1080             xy = self.canonical_coercion(x,y)
-> 1081             return PyObject_CallObject(op, xy)
   1082         except TypeError as err:
   1083             if xy is not None:

/usr/local/src/sage-config/src/sage/rings/polynomial/polynomial_element.pyx in sage.rings.polynomial.polynomial_element.Polynomial.__div__ (build/cythonized/sage/rings/polynomial/polynomial_element.c:23976)()
   2121 
   2122     def __div__(left, right):
-> 2123         return PyNumber_TrueDivide(left, right)
   2124 
   2125     def __pow__(left, right, modulus):

/usr/local/src/sage-config/src/sage/rings/polynomial/polynomial_element.pyx in sage.rings.polynomial.polynomial_element.Polynomial.__truediv__ (build/cythonized/sage/rings/polynomial/polynomial_element.c:23681)()
   2103         # Same parents => bypass coercion
   2104         if have_same_parent(left, right):
-> 2105             return (<Element>left)._div_(right)
   2106 
   2107         # Try division of polynomial by a scalar

/usr/local/src/sage-config/src/sage/structure/element.pyx in sage.structure.element.RingElement._div_ (build/cythonized/sage/structure/element.c:17628)()
   2476         except AttributeError:
   2477             raise bin_op_exception('/', self, other)
-> 2478         return frac(self, other)
   2479 
   2480     def __invert__(self):

/usr/local/src/sage-config/src/sage/structure/parent.pyx in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9433)()
    917                 return mor._call_(x)
    918             else:
--> 919                 return mor._call_with_args(x, args, kwds)
    920 
    921         raise TypeError("No conversion defined from %s to %s"%(R, self))

/usr/local/src/sage-config/src/sage/rings/fraction_field_FpT.pyx in sage.rings.fraction_field_FpT.Polyring_FpT_coerce._call_with_args (build/cythonized/sage/rings/fraction_field_FpT.cpp:12573)()
   1132             x = <Polynomial_zmod_flint?> _x
   1133         except TypeError:
-> 1134             raise NotImplementedError('Fraction fields not implemented for this type.')
   1135         cdef FpTElement ans = <FpTElement>FpTElement.__new__(FpTElement)
   1136         ans._parent = self.codomain()

NotImplementedError: Fraction fields not implemented for this type.
```
This makes NTL modpolys unusable in fractions.

Reviewer: Karl-Dieter Crisman

Author: Ralf Stephan

Branch: u/rws/polyring_fpt_coerce_cannot_handle_polynomial_modn_dense_ntl

Status: needs_info

Commit: ded2b6d096862fb26e5427ab590ec0686a3dd6e2

Issue created by migration from https://trac.sagemath.org/ticket/15954





---

archive/issue_events_046921.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15954#event-46921"
}
```



---

archive/issue_comments_258305.json:
```json
{
    "body": "<a id='comment:2'></a>The error happens when (in `Polyring_FpT_coerce._call_with_args`) the argument is converted to `Polynomial_zmod_flint`. As the whole file `fraction_field_FpT.pyx` is using flint, must we implement it completely via ntl, or does it suffice to fix that single conversion?",
    "created_at": "2014-06-05T13:09:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258305",
    "user": "https://github.com/rwst"
}
```

<a id='comment:2'></a>The error happens when (in `Polyring_FpT_coerce._call_with_args`) the argument is converted to `Polynomial_zmod_flint`. As the whole file `fraction_field_FpT.pyx` is using flint, must we implement it completely via ntl, or does it suffice to fix that single conversion?



---

archive/issue_comments_258306.json:
```json
{
    "body": "Changing branch from \"\" to \"u/rws/polyring_fpt_coerce_cannot_handle_polynomial_modn_dense_ntl\"",
    "created_at": "2014-06-05T14:38:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258306",
    "user": "https://github.com/rwst"
}
```

Changing branch from "" to "u/rws/polyring_fpt_coerce_cannot_handle_polynomial_modn_dense_ntl"



---

archive/issue_comments_258307.json:
```json
{
    "body": "<a id='comment:4'></a>As no conversion seems possible, a better error message is displayed.\n\n---\nNew commits:",
    "created_at": "2014-06-05T14:40:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258307",
    "user": "https://github.com/rwst"
}
```

<a id='comment:4'></a>As no conversion seems possible, a better error message is displayed.

---
New commits:



---

archive/issue_comments_258308.json:
```json
{
    "body": "Changing author from \"\" to \"Ralf Stephan\"",
    "created_at": "2014-06-05T14:40:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258308",
    "user": "https://github.com/rwst"
}
```

Changing author from "" to "Ralf Stephan"



---

archive/issue_comments_258309.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-06-05T14:40:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258309",
    "user": "https://github.com/rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_258310.json:
```json
{
    "body": "Changing commit from \"\" to \"7d0e789a5b4b3d6b5f08aaa8d92f45dd3dbd0331\"",
    "created_at": "2014-06-05T14:40:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258310",
    "user": "https://github.com/rwst"
}
```

Changing commit from "" to "7d0e789a5b4b3d6b5f08aaa8d92f45dd3dbd0331"



---

archive/issue_comments_258311.json:
```json
{
    "body": "Changing commit from \"7d0e789a5b4b3d6b5f08aaa8d92f45dd3dbd0331\" to \"8d446c13b45ed337bbe0f8be779230e383675be8\"",
    "created_at": "2014-07-12T07:32:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258311",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7d0e789a5b4b3d6b5f08aaa8d92f45dd3dbd0331" to "8d446c13b45ed337bbe0f8be779230e383675be8"



---

archive/issue_comments_258312.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-12T07:32:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258312",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_046922.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15954#event-46922"
}
```



---

archive/issue_events_046923.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15954#event-46923"
}
```



---

archive/issue_comments_258313.json:
```json
{
    "body": "Changing commit from \"8d446c13b45ed337bbe0f8be779230e383675be8\" to \"ded2b6d096862fb26e5427ab590ec0686a3dd6e2\"",
    "created_at": "2014-08-20T14:20:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258313",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8d446c13b45ed337bbe0f8be779230e383675be8" to "ded2b6d096862fb26e5427ab590ec0686a3dd6e2"



---

archive/issue_comments_258314.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-08-20T14:20:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258314",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_258315.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Karl-Dieter Crisman\"",
    "created_at": "2015-05-21T16:02:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258315",
    "user": "https://github.com/kcrisman"
}
```

Changing reviewer from "" to "Karl-Dieter Crisman"



---

archive/issue_comments_258316.json:
```json
{
    "body": "<a id='comment:8'></a>I like this in general but it's really more than just the fractions, it's when you make the field, so it should also show up here, or maybe even when you make the fraction field, I don't know?\n\n```\nsage: R.<x> = PolynomialRing(Integers(101), implementation='ntl')\nsage: R.fraction_field()\nFraction Field of Univariate Polynomial Ring in x over Ring of integers modulo 101 (using NTL)\nsage: K = R.fraction_field()\nsage: K\nFraction Field of Univariate Polynomial Ring in x over Ring of integers modulo 101 (using NTL)\nsage: K(1)\n1\nsage: K(2)\n2\nsage: K(x)\nTypeError: Cannot convert sage.rings.polynomial.polynomial_modn_dense_ntl.Polynomial_dense_mod_p to sage.rings.polynomial.polynomial_zmod_flint.Polynomial_zmod_flint\n```",
    "created_at": "2015-05-21T16:02:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258316",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>I like this in general but it's really more than just the fractions, it's when you make the field, so it should also show up here, or maybe even when you make the fraction field, I don't know?

```
sage: R.<x> = PolynomialRing(Integers(101), implementation='ntl')
sage: R.fraction_field()
Fraction Field of Univariate Polynomial Ring in x over Ring of integers modulo 101 (using NTL)
sage: K = R.fraction_field()
sage: K
Fraction Field of Univariate Polynomial Ring in x over Ring of integers modulo 101 (using NTL)
sage: K(1)
1
sage: K(2)
2
sage: K(x)
TypeError: Cannot convert sage.rings.polynomial.polynomial_modn_dense_ntl.Polynomial_dense_mod_p to sage.rings.polynomial.polynomial_zmod_flint.Polynomial_zmod_flint
```



---

archive/issue_comments_258317.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-21T16:02:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258317",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_258318.json:
```json
{
    "body": "<a id='comment:9'></a>The issue was resolved independently. In 8.2.beta2 we now get:\n\n```\nsage: R.<x> = PolynomialRing(Integers(101), implementation='NTL')\nsage: 1/x\n...\nNotImplementedError: Fraction fields not implemented for this type.\n```",
    "created_at": "2018-01-15T08:27:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258318",
    "user": "https://github.com/rwst"
}
```

<a id='comment:9'></a>The issue was resolved independently. In 8.2.beta2 we now get:

```
sage: R.<x> = PolynomialRing(Integers(101), implementation='NTL')
sage: 1/x
...
NotImplementedError: Fraction fields not implemented for this type.
```



---

archive/issue_events_046924.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-01-15T08:27:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15954#event-46924"
}
```



---

archive/issue_events_046925.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2018-01-15T08:27:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15954#event-46925"
}
```



---

archive/issue_comments_258319.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2018-01-15T08:27:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258319",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_258320.json:
```json
{
    "body": "<a id='comment:10'></a>I get a failure already on the first line:\n\n```\nsage: R.<x> = PolynomialRing(Integers(101), implementation='ntl')\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-2-d6c1b40b741c> in <module>()\n----> 1 R = PolynomialRing(Integers(Integer(101)), implementation='ntl', names=('x',)); (x,) = R._first_ngens(1)\n\n/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring_constructor.pyc in PolynomialRing(base_ring, *args, **kwds)\n    648         return _multi_variate(base_ring, names, **kwds)\n    649     else:\n--> 650         return _single_variate(base_ring, names, **kwds)\n    651 \n    652 \n\n/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring_constructor.pyc in _single_variate(base_ring, name, sparse, implementation, order)\n    734         else:\n    735             constructor = polynomial_ring.PolynomialRing_commutative\n--> 736         implementation_names = constructor._implementation_names(implementation, base_ring, sparse)\n    737         implementation = implementation_names[0]\n    738 \n\n/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring.pyc in _implementation_names(cls, implementation, base_ring, sparse)\n    504         if names is NotImplemented:\n    505             raise ValueError(\"unknown implementation %r for %s polynomial rings over %r\" %\n--> 506                     (implementation, \"sparse\" if sparse else \"dense\", base_ring))\n    507         assert isinstance(names, list)\n    508         assert implementation in names\n\nValueError: unknown implementation 'ntl' for dense polynomial rings over Ring of integers modulo 101\n```",
    "created_at": "2018-01-15T14:19:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258320",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>I get a failure already on the first line:

```
sage: R.<x> = PolynomialRing(Integers(101), implementation='ntl')
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-2-d6c1b40b741c> in <module>()
----> 1 R = PolynomialRing(Integers(Integer(101)), implementation='ntl', names=('x',)); (x,) = R._first_ngens(1)

/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring_constructor.pyc in PolynomialRing(base_ring, *args, **kwds)
    648         return _multi_variate(base_ring, names, **kwds)
    649     else:
--> 650         return _single_variate(base_ring, names, **kwds)
    651 
    652 

/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring_constructor.pyc in _single_variate(base_ring, name, sparse, implementation, order)
    734         else:
    735             constructor = polynomial_ring.PolynomialRing_commutative
--> 736         implementation_names = constructor._implementation_names(implementation, base_ring, sparse)
    737         implementation = implementation_names[0]
    738 

/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring.pyc in _implementation_names(cls, implementation, base_ring, sparse)
    504         if names is NotImplemented:
    505             raise ValueError("unknown implementation %r for %s polynomial rings over %r" %
--> 506                     (implementation, "sparse" if sparse else "dense", base_ring))
    507         assert isinstance(names, list)
    508         assert implementation in names

ValueError: unknown implementation 'ntl' for dense polynomial rings over Ring of integers modulo 101
```



---

archive/issue_comments_258321.json:
```json
{
    "body": "<a id='comment:11'></a>They changed the keyword to `NTL` without matching lower case. With that I get an informative error message.",
    "created_at": "2018-01-15T16:54:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258321",
    "user": "https://github.com/rwst"
}
```

<a id='comment:11'></a>They changed the keyword to `NTL` without matching lower case. With that I get an informative error message.



---

archive/issue_comments_258322.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,28 +1,61 @@\n \n ```\n-sage: R.<x> = PolynomialRing(Integers(101), implementation='ntl')\n+sage: R.<x> = PolynomialRing(Integers(101), implementation='NTL')\n sage: 1/x\n ---------------------------------------------------------------------------\n-TypeError                                 Traceback (most recent call last)\n-<ipython-input-50-fd72f6c47fe6> in <module>()\n+NotImplementedError                       Traceback (most recent call last)\n+<ipython-input-2-3e814ccafd34> in <module>()\n ----> 1 Integer(1)/x\n \n-/home/ralf/sage/local/lib/python2.7/site-packages/sage/structure/element.so in sage.structure.element.RingElement.__div__ (sage/structure/element.c:15915)()\n+/usr/local/src/sage-config/src/sage/rings/integer.pyx in sage.rings.integer.Integer.__div__ (build/cythonized/sage/rings/integer.c:13187)()\n+   1874             return y\n+   1875 \n+-> 1876         return coercion_model.bin_op(left, right, operator.div)\n+   1877 \n+   1878     cpdef _div_(self, right):\n \n-/home/ralf/sage/local/lib/python2.7/site-packages/sage/structure/coerce.so in sage.structure.coerce.CoercionModel_cache_maps.bin_op (sage/structure/coerce.c:7514)()\n+/usr/local/src/sage-config/src/sage/structure/coerce.pyx in sage.structure.coerce.CoercionModel_cache_maps.bin_op (build/cythonized/sage/structure/coerce.c:9515)()\n+   1079         try:\n+   1080             xy = self.canonical_coercion(x,y)\n+-> 1081             return PyObject_CallObject(op, xy)\n+   1082         except TypeError as err:\n+   1083             if xy is not None:\n \n-/home/ralf/sage/local/lib/python2.7/site-packages/sage/structure/coerce.so in sage.structure.coerce.CoercionModel_cache_maps.bin_op (sage/structure/coerce.c:7459)()\n+/usr/local/src/sage-config/src/sage/rings/polynomial/polynomial_element.pyx in sage.rings.polynomial.polynomial_element.Polynomial.__div__ (build/cythonized/sage/rings/polynomial/polynomial_element.c:23976)()\n+   2121 \n+   2122     def __div__(left, right):\n+-> 2123         return PyNumber_TrueDivide(left, right)\n+   2124 \n+   2125     def __pow__(left, right, modulus):\n \n-/home/ralf/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_element.so in sage.rings.polynomial.polynomial_element.Polynomial.__div__ (sage/rings/polynomial/polynomial_element.c:17669)()\n+/usr/local/src/sage-config/src/sage/rings/polynomial/polynomial_element.pyx in sage.rings.polynomial.polynomial_element.Polynomial.__truediv__ (build/cythonized/sage/rings/polynomial/polynomial_element.c:23681)()\n+   2103         # Same parents => bypass coercion\n+   2104         if have_same_parent(left, right):\n+-> 2105             return (<Element>left)._div_(right)\n+   2106 \n+   2107         # Try division of polynomial by a scalar\n \n-/home/ralf/sage/local/lib/python2.7/site-packages/sage/structure/element.so in sage.structure.element.RingElement.__div__ (sage/structure/element.c:15897)()\n+/usr/local/src/sage-config/src/sage/structure/element.pyx in sage.structure.element.RingElement._div_ (build/cythonized/sage/structure/element.c:17628)()\n+   2476         except AttributeError:\n+   2477             raise bin_op_exception('/', self, other)\n+-> 2478         return frac(self, other)\n+   2479 \n+   2480     def __invert__(self):\n \n-/home/ralf/sage/local/lib/python2.7/site-packages/sage/structure/element.so in sage.structure.element.RingElement._div_ (sage/structure/element.c:16030)()\n+/usr/local/src/sage-config/src/sage/structure/parent.pyx in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9433)()\n+    917                 return mor._call_(x)\n+    918             else:\n+--> 919                 return mor._call_with_args(x, args, kwds)\n+    920 \n+    921         raise TypeError(\"No conversion defined from %s to %s\"%(R, self))\n \n-/home/ralf/sage/local/lib/python2.7/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:8852)()\n+/usr/local/src/sage-config/src/sage/rings/fraction_field_FpT.pyx in sage.rings.fraction_field_FpT.Polyring_FpT_coerce._call_with_args (build/cythonized/sage/rings/fraction_field_FpT.cpp:12573)()\n+   1132             x = <Polynomial_zmod_flint?> _x\n+   1133         except TypeError:\n+-> 1134             raise NotImplementedError('Fraction fields not implemented for this type.')\n+   1135         cdef FpTElement ans = <FpTElement>FpTElement.__new__(FpTElement)\n+   1136         ans._parent = self.codomain()\n \n-/home/ralf/sage/local/lib/python2.7/site-packages/sage/rings/fraction_field_FpT.so in sage.rings.fraction_field_FpT.Polyring_FpT_coerce._call_with_args (sage/rings/fraction_field_FpT.cpp:12184)()\n-\n-TypeError: Cannot convert sage.rings.polynomial.polynomial_modn_dense_ntl.Polynomial_dense_mod_p to sage.rings.polynomial.polynomial_zmod_flint.Polynomial_zmod_flint\n+NotImplementedError: Fraction fields not implemented for this type.\n ```\n This makes NTL modpolys unusable in fractions.\n``````\n",
    "created_at": "2018-01-15T18:00:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258322",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,28 +1,61 @@
 
 ```
-sage: R.<x> = PolynomialRing(Integers(101), implementation='ntl')
+sage: R.<x> = PolynomialRing(Integers(101), implementation='NTL')
 sage: 1/x
 ---------------------------------------------------------------------------
-TypeError                                 Traceback (most recent call last)
-<ipython-input-50-fd72f6c47fe6> in <module>()
+NotImplementedError                       Traceback (most recent call last)
+<ipython-input-2-3e814ccafd34> in <module>()
 ----> 1 Integer(1)/x
 
-/home/ralf/sage/local/lib/python2.7/site-packages/sage/structure/element.so in sage.structure.element.RingElement.__div__ (sage/structure/element.c:15915)()
+/usr/local/src/sage-config/src/sage/rings/integer.pyx in sage.rings.integer.Integer.__div__ (build/cythonized/sage/rings/integer.c:13187)()
+   1874             return y
+   1875 
+-> 1876         return coercion_model.bin_op(left, right, operator.div)
+   1877 
+   1878     cpdef _div_(self, right):
 
-/home/ralf/sage/local/lib/python2.7/site-packages/sage/structure/coerce.so in sage.structure.coerce.CoercionModel_cache_maps.bin_op (sage/structure/coerce.c:7514)()
+/usr/local/src/sage-config/src/sage/structure/coerce.pyx in sage.structure.coerce.CoercionModel_cache_maps.bin_op (build/cythonized/sage/structure/coerce.c:9515)()
+   1079         try:
+   1080             xy = self.canonical_coercion(x,y)
+-> 1081             return PyObject_CallObject(op, xy)
+   1082         except TypeError as err:
+   1083             if xy is not None:
 
-/home/ralf/sage/local/lib/python2.7/site-packages/sage/structure/coerce.so in sage.structure.coerce.CoercionModel_cache_maps.bin_op (sage/structure/coerce.c:7459)()
+/usr/local/src/sage-config/src/sage/rings/polynomial/polynomial_element.pyx in sage.rings.polynomial.polynomial_element.Polynomial.__div__ (build/cythonized/sage/rings/polynomial/polynomial_element.c:23976)()
+   2121 
+   2122     def __div__(left, right):
+-> 2123         return PyNumber_TrueDivide(left, right)
+   2124 
+   2125     def __pow__(left, right, modulus):
 
-/home/ralf/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_element.so in sage.rings.polynomial.polynomial_element.Polynomial.__div__ (sage/rings/polynomial/polynomial_element.c:17669)()
+/usr/local/src/sage-config/src/sage/rings/polynomial/polynomial_element.pyx in sage.rings.polynomial.polynomial_element.Polynomial.__truediv__ (build/cythonized/sage/rings/polynomial/polynomial_element.c:23681)()
+   2103         # Same parents => bypass coercion
+   2104         if have_same_parent(left, right):
+-> 2105             return (<Element>left)._div_(right)
+   2106 
+   2107         # Try division of polynomial by a scalar
 
-/home/ralf/sage/local/lib/python2.7/site-packages/sage/structure/element.so in sage.structure.element.RingElement.__div__ (sage/structure/element.c:15897)()
+/usr/local/src/sage-config/src/sage/structure/element.pyx in sage.structure.element.RingElement._div_ (build/cythonized/sage/structure/element.c:17628)()
+   2476         except AttributeError:
+   2477             raise bin_op_exception('/', self, other)
+-> 2478         return frac(self, other)
+   2479 
+   2480     def __invert__(self):
 
-/home/ralf/sage/local/lib/python2.7/site-packages/sage/structure/element.so in sage.structure.element.RingElement._div_ (sage/structure/element.c:16030)()
+/usr/local/src/sage-config/src/sage/structure/parent.pyx in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9433)()
+    917                 return mor._call_(x)
+    918             else:
+--> 919                 return mor._call_with_args(x, args, kwds)
+    920 
+    921         raise TypeError("No conversion defined from %s to %s"%(R, self))
 
-/home/ralf/sage/local/lib/python2.7/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:8852)()
+/usr/local/src/sage-config/src/sage/rings/fraction_field_FpT.pyx in sage.rings.fraction_field_FpT.Polyring_FpT_coerce._call_with_args (build/cythonized/sage/rings/fraction_field_FpT.cpp:12573)()
+   1132             x = <Polynomial_zmod_flint?> _x
+   1133         except TypeError:
+-> 1134             raise NotImplementedError('Fraction fields not implemented for this type.')
+   1135         cdef FpTElement ans = <FpTElement>FpTElement.__new__(FpTElement)
+   1136         ans._parent = self.codomain()
 
-/home/ralf/sage/local/lib/python2.7/site-packages/sage/rings/fraction_field_FpT.so in sage.rings.fraction_field_FpT.Polyring_FpT_coerce._call_with_args (sage/rings/fraction_field_FpT.cpp:12184)()
-
-TypeError: Cannot convert sage.rings.polynomial.polynomial_modn_dense_ntl.Polynomial_dense_mod_p to sage.rings.polynomial.polynomial_zmod_flint.Polynomial_zmod_flint
+NotImplementedError: Fraction fields not implemented for this type.
 ```
 This makes NTL modpolys unusable in fractions.
``````




---

archive/issue_comments_258323.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [rws](#comment%3A9):\n> The issue was resolved independently.\n\n\nWhich issue was \"solved\"? It still doesn't work.",
    "created_at": "2018-01-15T18:00:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258323",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>Replying to [rws](#comment%3A9):
> The issue was resolved independently.


Which issue was "solved"? It still doesn't work.



---

archive/issue_comments_258324.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2018-01-15T18:00:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258324",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_events_046926.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-15T18:01:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15954#event-46926"
}
```



---

archive/issue_events_046927.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-15T18:01:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15954#event-46927"
}
```



---

archive/issue_comments_258325.json:
```json
{
    "body": "<a id='comment:15'></a>Well I opened the issue and after that decided to be satisfied with a good error. But hijack away...I don't claim ownership.",
    "created_at": "2018-01-15T18:59:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258325",
    "user": "https://github.com/rwst"
}
```

<a id='comment:15'></a>Well I opened the issue and after that decided to be satisfied with a good error. But hijack away...I don't claim ownership.



---

archive/issue_comments_258326.json:
```json
{
    "body": "<a id='comment:16'></a>I don't personally care... but changing the error message does not fix the issue.",
    "created_at": "2018-01-15T20:51:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-258326",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>I don't personally care... but changing the error message does not fix the issue.
