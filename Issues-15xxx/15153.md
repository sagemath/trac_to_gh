# Issue 15153: Check embedding morphism when comparing two toric varieties

archive/issues_014916.json:
```json
{
    "assignees": [],
    "body": "At the moment two toric varieties are taken to be equal if *their fans are the same, names of variables are the same and stored in the same order,          and base fields are the same*, independent of whether they have the same embedding morphism or not.\n\nWhat does that imply? Since ToricDivisorGroup inherits from UniqueRepresentation, two toric varieties that only differ in their embedding will share the same ToricDivisorGroup object and therefore a ToricDivisor created by a variety will reference the variety that first created its ToricDivisorGroup object, independent of whether that's correct or not.\n\nAs a consequence, we have the following behavior:\n\n```\nsage: P2 = toric_varieties.P(2)\nsage: variety1 = P2.affine_patch(2)\nsage: variety2 = ToricVariety(variety1.fan())\nsage: variety1 == variety2\nTrue\nsage: div1 = variety1.divisor(Cone([(1,0)]))\nsage: div2 = variety2.divisor(Cone([(1,0)]))\nsage: div1.scheme().embedding_morphism()\nScheme morphism:\n  From: 2-d affine toric variety\n  To:   2-d CPR-Fano toric variety covered by 3 affine patches\n  Defn: Defined on coordinates by sending [z0 : z1] to\n        [z0 : z1 : 1]\nsage: div2.scheme().embedding_morphism() # should produce an exception\nScheme morphism:\n  From: 2-d affine toric variety\n  To:   2-d CPR-Fano toric variety covered by 3 affine patches\n  Defn: Defined on coordinates by sending [z0 : z1] to\n        [z0 : z1 : 1]\nsage: div2.scheme() is variety2\nFalse\nsage: div2.scheme() is variety1\nTrue\n```\nWhile this set-up might seem highly artificial, in the context of toric fibrations in #12892 one naturally gets fiber varieties that only differ in their embedding.\n\nUnless there are arguments against it, I therefore suggest to extend `ToricVariety_field.__cmp__` to include the embedding morphism.\n\nDepends on #12892\n\nCC:  @vbraun @novoselt\n\nKeywords: **toric**\n\nBranch/Commit: **[u/jkeitel/toric_variety_cmp](https://github.com/sagemath/sagetrac-mirror/tree/u/jkeitel/toric_variety_cmp) @ [545f468](https://github.com/sagemath/sagetrac-mirror/commit/545f468f36ee3141dbc974821a0938061a87bad7)**\n\nWork Issues: **clarify documentation**\n\nAuthor: **Jan Keitel**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/15153_\n\n",
    "created_at": "2013-09-04T07:35:52Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20algebraic%20geometry",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Check embedding morphism when comparing two toric varieties",
    "type": "issue",
    "updated_at": "2022-12-29T01:28:25Z",
    "url": "https://github.com/sagemath/sage/issues/15153",
    "user": "https://github.com/sagetrac-jkeitel"
}
```
At the moment two toric varieties are taken to be equal if *their fans are the same, names of variables are the same and stored in the same order,          and base fields are the same*, independent of whether they have the same embedding morphism or not.

What does that imply? Since ToricDivisorGroup inherits from UniqueRepresentation, two toric varieties that only differ in their embedding will share the same ToricDivisorGroup object and therefore a ToricDivisor created by a variety will reference the variety that first created its ToricDivisorGroup object, independent of whether that's correct or not.

As a consequence, we have the following behavior:

```
sage: P2 = toric_varieties.P(2)
sage: variety1 = P2.affine_patch(2)
sage: variety2 = ToricVariety(variety1.fan())
sage: variety1 == variety2
True
sage: div1 = variety1.divisor(Cone([(1,0)]))
sage: div2 = variety2.divisor(Cone([(1,0)]))
sage: div1.scheme().embedding_morphism()
Scheme morphism:
  From: 2-d affine toric variety
  To:   2-d CPR-Fano toric variety covered by 3 affine patches
  Defn: Defined on coordinates by sending [z0 : z1] to
        [z0 : z1 : 1]
sage: div2.scheme().embedding_morphism() # should produce an exception
Scheme morphism:
  From: 2-d affine toric variety
  To:   2-d CPR-Fano toric variety covered by 3 affine patches
  Defn: Defined on coordinates by sending [z0 : z1] to
        [z0 : z1 : 1]
sage: div2.scheme() is variety2
False
sage: div2.scheme() is variety1
True
```
While this set-up might seem highly artificial, in the context of toric fibrations in #12892 one naturally gets fiber varieties that only differ in their embedding.

Unless there are arguments against it, I therefore suggest to extend `ToricVariety_field.__cmp__` to include the embedding morphism.

Depends on #12892

CC:  @vbraun @novoselt

Keywords: **toric**

Branch/Commit: **[u/jkeitel/toric_variety_cmp](https://github.com/sagemath/sagetrac-mirror/tree/u/jkeitel/toric_variety_cmp) @ [545f468](https://github.com/sagemath/sagetrac-mirror/commit/545f468f36ee3141dbc974821a0938061a87bad7)**

Work Issues: **clarify documentation**

Author: **Jan Keitel**

_Issue created by migration from https://trac.sagemath.org/ticket/15153_





---

archive/issue_events_190861.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2013-09-04T07:35:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebraic%20geometry",
    "label_color": "0000ff",
    "label_name": "component: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190861"
}
```



---

archive/issue_events_190862.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2013-09-04T07:35:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190862"
}
```



---

archive/issue_events_190863.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2013-09-04T07:35:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190863"
}
```



---

archive/issue_comments_188947.json:
```json
{
    "body": "Branch: **[u/jkeitel/toric_variety_cmp](https://github.com/sagemath/sagetrac-mirror/tree/u/jkeitel/toric_variety_cmp)**",
    "created_at": "2013-09-04T08:06:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188947",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

Branch: **[u/jkeitel/toric_variety_cmp](https://github.com/sagemath/sagetrac-mirror/tree/u/jkeitel/toric_variety_cmp)**



---

archive/issue_comments_188948.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td>[changeset:7018757]</td><td><code>Changed ToricVariety_field.__cmp__ to include embeddings.</code></td></tr></table>\n",
    "created_at": "2013-09-04T08:07:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188948",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td>[changeset:7018757]</td><td><code>Changed ToricVariety_field.__cmp__ to include embeddings.</code></td></tr></table>




---

archive/issue_comments_188949.json:
```json
{
    "body": "Commit: **[7018757](https://github.com/sagemath/sagetrac-mirror/commit/701875760f69d760a3e556c9cb444b5bbce087e5)**",
    "created_at": "2013-09-04T08:07:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188949",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[7018757](https://github.com/sagemath/sagetrac-mirror/commit/701875760f69d760a3e556c9cb444b5bbce087e5)**



---

archive/issue_comments_188950.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nI've pushed a small patch and would be grateful for any comments. Thank you!",
    "created_at": "2013-09-04T08:11:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188950",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

<a id='comment:3'>Comment 3:</a>
I've pushed a small patch and would be grateful for any comments. Thank you!



---

archive/issue_events_190864.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2013-09-04T08:11:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190864"
}
```



---

archive/issue_comments_188951.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nI think thats not good enough, sometimes we set the `_embedding_morphism` attribute directly. This would then change the already-cached class. The proper way would be a derived class for toric variety with embedding, and then make those unique.",
    "created_at": "2013-09-04T09:50:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188951",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:4'>Comment 4:</a>
I think thats not good enough, sometimes we set the `_embedding_morphism` attribute directly. This would then change the already-cached class. The proper way would be a derived class for toric variety with embedding, and then make those unique.



---

archive/issue_comments_188952.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nWe definitely want to have isomorphic varieties with different embedding and varieties probably have to be unique as well. Should then `embedding_morphism` become a part of the constructor (with default value `None`) and setting it generate a new instance? I am not sure if a derived class will simplify the situation here.",
    "created_at": "2013-09-04T19:34:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188952",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:5'>Comment 5:</a>
We definitely want to have isomorphic varieties with different embedding and varieties probably have to be unique as well. Should then `embedding_morphism` become a part of the constructor (with default value `None`) and setting it generate a new instance? I am not sure if a derived class will simplify the situation here.



---

archive/issue_comments_188953.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nReplying to [@novoselt](#comment%3A5):\n> We definitely want to have isomorphic varieties with different embedding and varieties probably have to be unique as well. Should then `embedding_morphism` become a part of the constructor (with default value `None`) and setting it generate a new instance? I am not sure if a derived class will simplify the situation here.\n\nThis sounds good to me, but then again I am not sure that I understood how Volker's suggestion would have solved the problem. Whenever you're allowed to modify `._embedding_morphism` you have to make sure you throw out all UniqueRepresentations you are referring to, don't you? So creating a new ToricVariety sounds like a clean solution.\n\nIn any case, I just realized that the patch also needs some additional work. Several of the ToricMorphisms inherit directly from SchemeMorphism and inherit their `__cmp__` directly from Element, which seems to access its parent (i.e. the ToricVariety) and therefore causes a RecursionError. How can one circumvent that? Come up with `__cmp__` methods (maybe such as comparing `_fan_morphism`) for the ToricMorphism classes?",
    "created_at": "2013-09-04T20:13:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188953",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

<a id='comment:6'>Comment 6:</a>
Replying to [@novoselt](#comment%3A5):
> We definitely want to have isomorphic varieties with different embedding and varieties probably have to be unique as well. Should then `embedding_morphism` become a part of the constructor (with default value `None`) and setting it generate a new instance? I am not sure if a derived class will simplify the situation here.

This sounds good to me, but then again I am not sure that I understood how Volker's suggestion would have solved the problem. Whenever you're allowed to modify `._embedding_morphism` you have to make sure you throw out all UniqueRepresentations you are referring to, don't you? So creating a new ToricVariety sounds like a clean solution.

In any case, I just realized that the patch also needs some additional work. Several of the ToricMorphisms inherit directly from SchemeMorphism and inherit their `__cmp__` directly from Element, which seems to access its parent (i.e. the ToricVariety) and therefore causes a RecursionError. How can one circumvent that? Come up with `__cmp__` methods (maybe such as comparing `_fan_morphism`) for the ToricMorphism classes?



---

archive/issue_events_190865.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2013-09-04T20:13:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190865"
}
```



---

archive/issue_events_190866.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2013-09-04T20:13:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190866"
}
```



---

archive/issue_comments_188954.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nI basically agree that we should make `embedding_morphism` part of the constructor. The only design question is whether we always want to have a `embedding_morphism()` method that then raises an exception by default. Alternatively, we could have a simple mixin class that just tracks the embedding morphism part. Then you'd have to define\n\n```\nclass ToricVarietyWithEmbedding_class(Embedding_mixin, ToricVariety_class):\n    pass\n```\nand similarly for AffineToricVariety, !CPRFanoToricVariety. Its a few extra lines over the plain approach where everything has a `embedding_morphism()` method but with the advantage that you wouldn't have the extra method if you don't need it.",
    "created_at": "2013-09-04T20:39:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188954",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'>Comment 7:</a>
I basically agree that we should make `embedding_morphism` part of the constructor. The only design question is whether we always want to have a `embedding_morphism()` method that then raises an exception by default. Alternatively, we could have a simple mixin class that just tracks the embedding morphism part. Then you'd have to define

```
class ToricVarietyWithEmbedding_class(Embedding_mixin, ToricVariety_class):
    pass
```
and similarly for AffineToricVariety, !CPRFanoToricVariety. Its a few extra lines over the plain approach where everything has a `embedding_morphism()` method but with the advantage that you wouldn't have the extra method if you don't need it.



---

archive/issue_comments_188955.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nI think with subclasses `__cmp__` of the parent class will have to return 0 only if both elements have exactly they type of the parent class, i.e. not are just instances of the parent class. This seem cumbersome to me, so I'd rather have always have this \"extra\" method returning either `None` or throwing an exception if it was not set in the constructor.",
    "created_at": "2013-09-04T21:31:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188955",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:8'>Comment 8:</a>
I think with subclasses `__cmp__` of the parent class will have to return 0 only if both elements have exactly they type of the parent class, i.e. not are just instances of the parent class. This seem cumbersome to me, so I'd rather have always have this "extra" method returning either `None` or throwing an exception if it was not set in the constructor.



---

archive/issue_comments_188956.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nEither way you'll have to return 0 only if the embeddings are the same. So for all purposes the variety with and without embedding are distinct, and we may just as well make the types different by making the embedding case a subclass. Also, it would be nice if `_repr_` would distinguish the case with and without embedding so there is not too much of a surprise if they do not compare as equal.",
    "created_at": "2013-09-04T21:37:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188956",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:9'>Comment 9:</a>
Either way you'll have to return 0 only if the embeddings are the same. So for all purposes the variety with and without embedding are distinct, and we may just as well make the types different by making the embedding case a subclass. Also, it would be nice if `_repr_` would distinguish the case with and without embedding so there is not too much of a surprise if they do not compare as equal.



---

archive/issue_comments_188957.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nTo always compare embeddings varieties without embedding should be aware of there existence, in which case it really seems to me that they are of the same class, but with different values of attributes.\n\nAdjusting `_repr_` is a great idea!",
    "created_at": "2013-09-04T21:41:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188957",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:10'>Comment 10:</a>
To always compare embeddings varieties without embedding should be aware of there existence, in which case it really seems to me that they are of the same class, but with different values of attributes.

Adjusting `_repr_` is a great idea!



---

archive/issue_comments_188958.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nOkay, if I understand correctly, then regardless of how it is implemented, one would want to have\n1. An argument `embedding_morphism` in the constructor of `ToricVariety,CPRFanoToricVariety` and replace all accesses to `._embedding_morphism` by creating new varieties.\n2. A distinction between cases with and without embedding in `_repr_`.\n\nHowever, I am still not sure how to deal with the comparison of two varieties with embedding. I suppose one really only wants to morphisms to be equal if they have equal domains and codomains. As mentioned above, however, this leads to an infinite recursion loop. Should one implement some sort of comparison method for the morphisms that does not check equality of domains or is there another more elegant way around this problem?",
    "created_at": "2013-09-05T07:36:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188958",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

<a id='comment:11'>Comment 11:</a>
Okay, if I understand correctly, then regardless of how it is implemented, one would want to have
1. An argument `embedding_morphism` in the constructor of `ToricVariety,CPRFanoToricVariety` and replace all accesses to `._embedding_morphism` by creating new varieties.
2. A distinction between cases with and without embedding in `_repr_`.

However, I am still not sure how to deal with the comparison of two varieties with embedding. I suppose one really only wants to morphisms to be equal if they have equal domains and codomains. As mentioned above, however, this leads to an infinite recursion loop. Should one implement some sort of comparison method for the morphisms that does not check equality of domains or is there another more elegant way around this problem?



---

archive/issue_comments_188959.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nThe alternative would be to have a way to compare the varieties ignoring their embedding, and only compare domain/codomain of morphisms ignoring the embedding. This is where the separate classes shine as you can just call the base `ToricVariety_field.__cmp__(self, other)` directly. If its all munged into one class then you have to invent yet another method `compare_without_embedding()` or so.\n\nBut, as you said, one can also just make put comparison of morphisms into a method \n`compare(self, other, ignore_domain=False, ignore_codomain=False)`.",
    "created_at": "2013-09-05T10:48:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188959",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:12'>Comment 12:</a>
The alternative would be to have a way to compare the varieties ignoring their embedding, and only compare domain/codomain of morphisms ignoring the embedding. This is where the separate classes shine as you can just call the base `ToricVariety_field.__cmp__(self, other)` directly. If its all munged into one class then you have to invent yet another method `compare_without_embedding()` or so.

But, as you said, one can also just make put comparison of morphisms into a method 
`compare(self, other, ignore_domain=False, ignore_codomain=False)`.



---

archive/issue_comments_188960.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nThat actually sounds very nice. Having two separate classes may really be the cleanest option. I think one would have to have to `compare` methods for ToricVariety anyway because of the following scenario:\n\nLet f_i be the embedding of A_i into B_i. When comparing f_1 to f_2 the `SchemeMorphism_something.__cmp__` method must use the old `ToricVariety_field.__cmp__` method to avoid falling into an infinite loop.\n\nUnless there are objections, I think I'll try and implement something along these lines and push it here once there is some progress. \n\nThanks for all the help so far!",
    "created_at": "2013-09-05T11:49:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188960",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

<a id='comment:13'>Comment 13:</a>
That actually sounds very nice. Having two separate classes may really be the cleanest option. I think one would have to have to `compare` methods for ToricVariety anyway because of the following scenario:

Let f_i be the embedding of A_i into B_i. When comparing f_1 to f_2 the `SchemeMorphism_something.__cmp__` method must use the old `ToricVariety_field.__cmp__` method to avoid falling into an infinite loop.

Unless there are objections, I think I'll try and implement something along these lines and push it here once there is some progress. 

Thanks for all the help so far!



---

archive/issue_comments_188961.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nMy problems with extra classes just for the sake of embedding:\n* need to have these extra classes for every flavour (toric, affine toric, CPRFano, maybe others later) - not difficult, but annoying;\n* anything that constructs a new toric variety should properly handle the class - of course, this may have to be done anyway to properly handle embedding attribute;\n* more serious: comparison of varieties without embedding is unclear to me: if `X` is just a variety and `Y` is the same but embedded (and realized by an extra class), then `cmp(X, Y)` will call `X.__cmp__(Y)`. This should just compare varieties by themselves and they are equal. On the other hand `Y.__cmp__(X)` will take into account embeddings, so they are not equal, which is bad. To fix it, the first method already should be aware of the embedding and take it into account.\n\nNote that `==` in general for toric framework means \"Sage-equal\" (and in fact should be the same as `is` if varieties are made unique). This more or less was how this ticket appeared - this sense is not handled correctly and it breaks technical things. If one wants more mathematical equality, probably the correct way is to call already existing (or not?-) `is_isomorphic`, which clearly should not take into account embedding.\n\nA possible solution to recursion is to not call embedding comparison/equality in `__cmp__` of toric varieties, but rather check that domains/codomains are the same in our internal sense and then check the defining map of the embedding to be the same, i.e. its data apart from domain/codomain. This should make it possible to compare embedding morphisms directly too.",
    "created_at": "2013-09-05T15:02:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188961",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:14'>Comment 14:</a>
My problems with extra classes just for the sake of embedding:
* need to have these extra classes for every flavour (toric, affine toric, CPRFano, maybe others later) - not difficult, but annoying;
* anything that constructs a new toric variety should properly handle the class - of course, this may have to be done anyway to properly handle embedding attribute;
* more serious: comparison of varieties without embedding is unclear to me: if `X` is just a variety and `Y` is the same but embedded (and realized by an extra class), then `cmp(X, Y)` will call `X.__cmp__(Y)`. This should just compare varieties by themselves and they are equal. On the other hand `Y.__cmp__(X)` will take into account embeddings, so they are not equal, which is bad. To fix it, the first method already should be aware of the embedding and take it into account.

Note that `==` in general for toric framework means "Sage-equal" (and in fact should be the same as `is` if varieties are made unique). This more or less was how this ticket appeared - this sense is not handled correctly and it breaks technical things. If one wants more mathematical equality, probably the correct way is to call already existing (or not?-) `is_isomorphic`, which clearly should not take into account embedding.

A possible solution to recursion is to not call embedding comparison/equality in `__cmp__` of toric varieties, but rather check that domains/codomains are the same in our internal sense and then check the defining map of the embedding to be the same, i.e. its data apart from domain/codomain. This should make it possible to compare embedding morphisms directly too.



---

archive/issue_comments_188962.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nYou just have to add\n\n```python\nclass FooToricVarietyWithEmbedding_class(Embedding_mixin, FooToricVariety_class):\n    pass\n```\nfor each subclass of toric variety. I don't think its too much effort. There are further tricks with dynamic classes and categories if you really want to avoid it, but at this point I don't think its worth it since there are not going to be that many subclasses of toric variety.\n\nAs for comparison, I think it should just always be unequal if the types differ. So an AffineToricVariety is always different from a ToricVariety, and a variety with embedding is always different from a variety without embedding. The `==` comparison implicitly means: can be interchanged freely for the purposes of caching. This can be implemented easily in the base class without knowing about the embedding:\n\n```python\n    def __init__(self, other):   # in ToricVariety_field\n        c = cmp(self.__class__, other.__class__)\n        if c != 0:\n            return c\n        ...\n```",
    "created_at": "2013-09-05T15:19:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188962",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:15'>Comment 15:</a>
You just have to add

```python
class FooToricVarietyWithEmbedding_class(Embedding_mixin, FooToricVariety_class):
    pass
```
for each subclass of toric variety. I don't think its too much effort. There are further tricks with dynamic classes and categories if you really want to avoid it, but at this point I don't think its worth it since there are not going to be that many subclasses of toric variety.

As for comparison, I think it should just always be unequal if the types differ. So an AffineToricVariety is always different from a ToricVariety, and a variety with embedding is always different from a variety without embedding. The `==` comparison implicitly means: can be interchanged freely for the purposes of caching. This can be implemented easily in the base class without knowing about the embedding:

```python
    def __init__(self, other):   # in ToricVariety_field
        c = cmp(self.__class__, other.__class__)
        if c != 0:
            return c
        ...
```



---

archive/issue_comments_188963.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nOK, hard to argue ;-) Although new classes probably have to include docstrings with doctests.",
    "created_at": "2013-09-05T15:26:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188963",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:16'>Comment 16:</a>
OK, hard to argue ;-) Although new classes probably have to include docstrings with doctests.



---

archive/issue_comments_188964.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Recent commits:\n|                   |                                                                  |\n|-------------------|------------------------------------------------------------------|\n|[changeset:8e5bc66]|Even more doctests and docstrings for ToricMorphism and Varieties.|\n|[changeset:4c5b0e2]|Refactored and improved docstrings and doctests.|\n|[changeset:57bb28f]|Fixed doctests.|\n|[changeset:700e725]|Added and modified comparisons between toric morphisms.|\n|[changeset:ef8cf94]|Added ToricEmbedding_Mixin and two subclasses.|",
    "created_at": "2013-09-06T09:56:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188964",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'>Comment 17:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Recent commits:
|                   |                                                                  |
|-------------------|------------------------------------------------------------------|
|[changeset:8e5bc66]|Even more doctests and docstrings for ToricMorphism and Varieties.|
|[changeset:4c5b0e2]|Refactored and improved docstrings and doctests.|
|[changeset:57bb28f]|Fixed doctests.|
|[changeset:700e725]|Added and modified comparisons between toric morphisms.|
|[changeset:ef8cf94]|Added ToricEmbedding_Mixin and two subclasses.|



---

archive/issue_comments_188965.json:
```json
{
    "body": "Changed commit from **[7018757](https://github.com/sagemath/sagetrac-mirror/commit/701875760f69d760a3e556c9cb444b5bbce087e5)** to **[8e5bc66](https://github.com/sagemath/sagetrac-mirror/commit/8e5bc665f368c6e1066c157d516de496825b6365)**",
    "created_at": "2013-09-06T09:56:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188965",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7018757](https://github.com/sagemath/sagetrac-mirror/commit/701875760f69d760a3e556c9cb444b5bbce087e5)** to **[8e5bc66](https://github.com/sagemath/sagetrac-mirror/commit/8e5bc665f368c6e1066c157d516de496825b6365)**



---

archive/issue_comments_188966.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nOkay, I've tried to implement your suggestions. Although the (modified) doc tests run I am sure that there are mistakes / things that could be done more elegantly in my patch and I'd very much appreciate your comments.\n\nMaybe a couple of things right away:\n- I couldn't figure out how to use super to initialize both `EmbeddedToricVariety_Mixin, ToricVariety_field` in the constructor of `ToricVarietyWithEmbedding_field` and analogously for the Fano case.\n- Another problem with super: I could not replace `ToricVariety_field.__cmp__(self, right)` by some construction like `super(self.__class__, self)` in `EmbeddedToricVariety_Mixin` despite comments and help from Volker. (Apparently I don't properly understand how multiple inheritance works in python)\n- variety.affine_patch(i) now returns patches whose embedding morphisms are given by Morphisms defined through FanMorphisms instead of polynomal ones, but one can of course get the old representation via `patch.embedding_morphism().as_polynomial_map()`\n\nAlso, the morphisms in #12892 will need to implement short `__cmp__` methods just as I did for the two morphism classes in the above patch.\n\nMany thanks already!",
    "created_at": "2013-09-06T10:52:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188966",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

<a id='comment:18'>Comment 18:</a>
Okay, I've tried to implement your suggestions. Although the (modified) doc tests run I am sure that there are mistakes / things that could be done more elegantly in my patch and I'd very much appreciate your comments.

Maybe a couple of things right away:
- I couldn't figure out how to use super to initialize both `EmbeddedToricVariety_Mixin, ToricVariety_field` in the constructor of `ToricVarietyWithEmbedding_field` and analogously for the Fano case.
- Another problem with super: I could not replace `ToricVariety_field.__cmp__(self, right)` by some construction like `super(self.__class__, self)` in `EmbeddedToricVariety_Mixin` despite comments and help from Volker. (Apparently I don't properly understand how multiple inheritance works in python)
- variety.affine_patch(i) now returns patches whose embedding morphisms are given by Morphisms defined through FanMorphisms instead of polynomal ones, but one can of course get the old representation via `patch.embedding_morphism().as_polynomial_map()`

Also, the morphisms in #12892 will need to implement short `__cmp__` methods just as I did for the two morphism classes in the above patch.

Many thanks already!



---

archive/issue_comments_188967.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td>[changeset:5d2af08]</td><td><code>Added one missing docstring.</code></td></tr><tr><td>[changeset:e900b93]</td><td><code>Added comparison methods for the two additional Morphisms.</code></td></tr><tr><td>[changeset:2266b0a]</td><td><code>Fixed remaining failing doctests for toric morphisms.</code></td></tr><tr><td>[changeset:9fd066a]</td><td><code>Work on orbit closure and related doctests.</code></td></tr><tr><td>[changeset:7b6f746]</td><td><code>Merged some toric comparison methods.</code></td></tr><tr><td>[changeset:c335758]</td><td><code>resolved conflict with Trac #14891</code></td></tr><tr><td>[changeset:19e832a]</td><td><code>Trac #12892: Move fibration methods to subclass of dominant morphisms</code></td></tr><tr><td>[changeset:1142feb]</td><td><code>Trac #12892: Reviewer changes to toric morphisms.</code></td></tr><tr><td>[changeset:78dc617]</td><td><code>Trac #12892: Pull back toric divisors via toric morphisms</code></td></tr><tr><td>[changeset:7fb4df5]</td><td><code>Trac #12892: Toric fibration fiber</code></td></tr></table>\n",
    "created_at": "2013-09-24T15:47:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188967",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'>Comment 19:</a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td>[changeset:5d2af08]</td><td><code>Added one missing docstring.</code></td></tr><tr><td>[changeset:e900b93]</td><td><code>Added comparison methods for the two additional Morphisms.</code></td></tr><tr><td>[changeset:2266b0a]</td><td><code>Fixed remaining failing doctests for toric morphisms.</code></td></tr><tr><td>[changeset:9fd066a]</td><td><code>Work on orbit closure and related doctests.</code></td></tr><tr><td>[changeset:7b6f746]</td><td><code>Merged some toric comparison methods.</code></td></tr><tr><td>[changeset:c335758]</td><td><code>resolved conflict with Trac #14891</code></td></tr><tr><td>[changeset:19e832a]</td><td><code>Trac #12892: Move fibration methods to subclass of dominant morphisms</code></td></tr><tr><td>[changeset:1142feb]</td><td><code>Trac #12892: Reviewer changes to toric morphisms.</code></td></tr><tr><td>[changeset:78dc617]</td><td><code>Trac #12892: Pull back toric divisors via toric morphisms</code></td></tr><tr><td>[changeset:7fb4df5]</td><td><code>Trac #12892: Toric fibration fiber</code></td></tr></table>




---

archive/issue_comments_188968.json:
```json
{
    "body": "Changed commit from **[8e5bc66](https://github.com/sagemath/sagetrac-mirror/commit/8e5bc665f368c6e1066c157d516de496825b6365)** to **[5d2af08](https://github.com/sagemath/sagetrac-mirror/commit/5d2af08b19f1cd853db456a35fc724988ed96e84)**",
    "created_at": "2013-09-24T15:47:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188968",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8e5bc66](https://github.com/sagemath/sagetrac-mirror/commit/8e5bc665f368c6e1066c157d516de496825b6365)** to **[5d2af08](https://github.com/sagemath/sagetrac-mirror/commit/5d2af08b19f1cd853db456a35fc724988ed96e84)**



---

archive/issue_events_190867.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2013-09-24T15:50:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190867"
}
```



---

archive/issue_events_190868.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2013-09-24T15:50:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190868"
}
```



---

archive/issue_comments_188969.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nHi,\n\nI've now included the toric morphisms introduced by #12892 and implemented comparison methods for them. I realize that my git usage wasn't that great - many commits and an unnecessary merge. Won't happen again!\n\nI'd still appreciate comments on the patch.\n\nRegards,\nJan",
    "created_at": "2013-09-24T15:50:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188969",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

<a id='comment:20'>Comment 20:</a>
Hi,

I've now included the toric morphisms introduced by #12892 and implemented comparison methods for them. I realize that my git usage wasn't that great - many commits and an unnecessary merge. Won't happen again!

I'd still appreciate comments on the patch.

Regards,
Jan



---

archive/issue_comments_188970.json:
```json
{
    "body": "Dependencies: **#12892**",
    "created_at": "2013-09-24T15:50:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188970",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

Dependencies: **#12892**



---

archive/issue_comments_188971.json:
```json
{
    "body": "Author: **Jan Keitel**",
    "created_at": "2013-09-24T15:50:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188971",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

Author: **Jan Keitel**



---

archive/issue_comments_188972.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nI am confused by this branch (which is very likely to be my problem) - I try to look at changes since the last Voker's commit and the very last one, but there is a lot of changes to makefile and other general stuff. If I try to start with the next commit, it seems that some embedding-related changes were already done before. So - how do I look at changes related to this ticket only?",
    "created_at": "2013-09-28T17:43:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188972",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:21'>Comment 21:</a>
I am confused by this branch (which is very likely to be my problem) - I try to look at changes since the last Voker's commit and the very last one, but there is a lot of changes to makefile and other general stuff. If I try to start with the next commit, it seems that some embedding-related changes were already done before. So - how do I look at changes related to this ticket only?



---

archive/issue_comments_188973.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nThis is very likely due to my poor handling of git. I wanted to carry over code from the previous patch for the comparison method, but I had already merged an update from the master branch into that. When I therefore merged the comparison method code into Volker's fibrations, it included the changes unrelated to my patch.\nIn the future, I won't do that anymore, but in the mean time you'll probably just have to ignore the changes to the makefile. Sorry about that!",
    "created_at": "2013-09-28T17:49:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188973",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

<a id='comment:22'>Comment 22:</a>
This is very likely due to my poor handling of git. I wanted to carry over code from the previous patch for the comparison method, but I had already merged an update from the master branch into that. When I therefore merged the comparison method code into Volker's fibrations, it included the changes unrelated to my patch.
In the future, I won't do that anymore, but in the mean time you'll probably just have to ignore the changes to the makefile. Sorry about that!



---

archive/issue_comments_188974.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td>[changeset:77e7d0f]</td><td><code>One last doctest.</code></td></tr><tr><td>[changeset:bd41e39]</td><td><code>Fixed docstrings, refactored and adapted generic fiber.</code></td></tr><tr><td>[changeset:a526b58]</td><td><code>Merged Andrey reviewer changes to toric fibrations.</code></td></tr><tr><td>[changeset:e79e840]</td><td><code>Added a long fibration example. One doctest failure due to fan isomorphism bug.</code></td></tr><tr><td>[changeset:6b4b318]</td><td><code>Treat generic fiber correctly as a fiber component.</code></td></tr><tr><td>[changeset:317dd40]</td><td><code>Fixes to deal with maps between sublattices and virtual rays.</code></td></tr><tr><td>[changeset:943e71b]</td><td><code>Use span instead of submodule to deal with rational preimages</code></td></tr><tr><td>[changeset:1949102]</td><td><code>Throw ValueError instead of TypeError for complicated morphisms.</code></td></tr><tr><td>[changeset:363f57b]</td><td><code>Doctests pass, still looking at code.</code></td></tr><tr><td>[changeset:f0aedcd]</td><td><code>Make fiber_generic return component count, doctests not adjusted yet.</code></td></tr></table>\n",
    "created_at": "2013-09-29T13:25:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188974",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:23'>Comment 23:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td>[changeset:77e7d0f]</td><td><code>One last doctest.</code></td></tr><tr><td>[changeset:bd41e39]</td><td><code>Fixed docstrings, refactored and adapted generic fiber.</code></td></tr><tr><td>[changeset:a526b58]</td><td><code>Merged Andrey reviewer changes to toric fibrations.</code></td></tr><tr><td>[changeset:e79e840]</td><td><code>Added a long fibration example. One doctest failure due to fan isomorphism bug.</code></td></tr><tr><td>[changeset:6b4b318]</td><td><code>Treat generic fiber correctly as a fiber component.</code></td></tr><tr><td>[changeset:317dd40]</td><td><code>Fixes to deal with maps between sublattices and virtual rays.</code></td></tr><tr><td>[changeset:943e71b]</td><td><code>Use span instead of submodule to deal with rational preimages</code></td></tr><tr><td>[changeset:1949102]</td><td><code>Throw ValueError instead of TypeError for complicated morphisms.</code></td></tr><tr><td>[changeset:363f57b]</td><td><code>Doctests pass, still looking at code.</code></td></tr><tr><td>[changeset:f0aedcd]</td><td><code>Make fiber_generic return component count, doctests not adjusted yet.</code></td></tr></table>




---

archive/issue_comments_188975.json:
```json
{
    "body": "Changed commit from **[5d2af08](https://github.com/sagemath/sagetrac-mirror/commit/5d2af08b19f1cd853db456a35fc724988ed96e84)** to **[77e7d0f](https://github.com/sagemath/sagetrac-mirror/commit/77e7d0f990e0560a6ced0fb1e8b66fb4b327fab2)**",
    "created_at": "2013-09-29T13:25:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188975",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5d2af08](https://github.com/sagemath/sagetrac-mirror/commit/5d2af08b19f1cd853db456a35fc724988ed96e84)** to **[77e7d0f](https://github.com/sagemath/sagetrac-mirror/commit/77e7d0f990e0560a6ced0fb1e8b66fb4b327fab2)**



---

archive/issue_comments_188976.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nOkay, I think this should now work with all the changes Andrey made while reviewing #12892.",
    "created_at": "2013-09-29T13:27:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188976",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

<a id='comment:24'>Comment 24:</a>
Okay, I think this should now work with all the changes Andrey made while reviewing #12892.



---

archive/issue_events_190869.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2013-12-17T18:39:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "milestone_number": null,
    "milestone_title": "sage-6.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190869"
}
```



---

archive/issue_events_190870.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2013-12-17T18:39:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190870"
}
```



---

archive/issue_events_190871.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190871"
}
```



---

archive/issue_events_190872.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190872"
}
```



---

archive/issue_comments_188977.json:
```json
{
    "body": "Work Issues: **rebase**",
    "created_at": "2014-04-14T09:12:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188977",
    "user": "https://github.com/rwst"
}
```

Work Issues: **rebase**



---

archive/issue_events_190873.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-04-14T09:12:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190873"
}
```



---

archive/issue_events_190874.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-04-14T09:12:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190874"
}
```



---

archive/issue_comments_188978.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nDoes not merge cleanly. Please rebase.",
    "created_at": "2014-04-14T09:12:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188978",
    "user": "https://github.com/rwst"
}
```

<a id='comment:27'>Comment 27:</a>
Does not merge cleanly. Please rebase.



---

archive/issue_comments_188979.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c940991867cfc06acd0af4fb6aabdad3b87849b6\">c940991</a></td><td><code>Merging develop into #15153</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed766bbfb46f138f6eb32c36e811535561385f94\">ed766bb</a></td><td><code>Extended the comparison methods.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3dc32b97fde98036c25a70ff00728dbe86c477c8\">3dc32b9</a></td><td><code>Added docstrings.</code></td></tr></table>\n",
    "created_at": "2014-05-06T14:34:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188979",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:28'>Comment 28:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c940991867cfc06acd0af4fb6aabdad3b87849b6">c940991</a></td><td><code>Merging develop into #15153</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed766bbfb46f138f6eb32c36e811535561385f94">ed766bb</a></td><td><code>Extended the comparison methods.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3dc32b97fde98036c25a70ff00728dbe86c477c8">3dc32b9</a></td><td><code>Added docstrings.</code></td></tr></table>




---

archive/issue_comments_188980.json:
```json
{
    "body": "Changed commit from **[77e7d0f](https://github.com/sagemath/sagetrac-mirror/commit/77e7d0f990e0560a6ced0fb1e8b66fb4b327fab2)** to **[3dc32b9](https://github.com/sagemath/sagetrac-mirror/commit/3dc32b97fde98036c25a70ff00728dbe86c477c8)**",
    "created_at": "2014-05-06T14:34:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188980",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[77e7d0f](https://github.com/sagemath/sagetrac-mirror/commit/77e7d0f990e0560a6ced0fb1e8b66fb4b327fab2)** to **[3dc32b9](https://github.com/sagemath/sagetrac-mirror/commit/3dc32b97fde98036c25a70ff00728dbe86c477c8)**



---

archive/issue_comments_188981.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7fe6c63185748a6ad159d8cab3bbc19b7e4af1b8\">7fe6c63</a></td><td><code>Fixed base_field regression.</code></td></tr></table>\n",
    "created_at": "2014-05-06T14:39:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188981",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:29'>Comment 29:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7fe6c63185748a6ad159d8cab3bbc19b7e4af1b8">7fe6c63</a></td><td><code>Fixed base_field regression.</code></td></tr></table>




---

archive/issue_comments_188982.json:
```json
{
    "body": "Changed commit from **[3dc32b9](https://github.com/sagemath/sagetrac-mirror/commit/3dc32b97fde98036c25a70ff00728dbe86c477c8)** to **[7fe6c63](https://github.com/sagemath/sagetrac-mirror/commit/7fe6c63185748a6ad159d8cab3bbc19b7e4af1b8)**",
    "created_at": "2014-05-06T14:39:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188982",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3dc32b9](https://github.com/sagemath/sagetrac-mirror/commit/3dc32b97fde98036c25a70ff00728dbe86c477c8)** to **[7fe6c63](https://github.com/sagemath/sagetrac-mirror/commit/7fe6c63185748a6ad159d8cab3bbc19b7e4af1b8)**



---

archive/issue_comments_188983.json:
```json
{
    "body": "Changed commit from **[7fe6c63](https://github.com/sagemath/sagetrac-mirror/commit/7fe6c63185748a6ad159d8cab3bbc19b7e4af1b8)** to **[db1d9af](https://github.com/sagemath/sagetrac-mirror/commit/db1d9af332ea67a928ce18b7d09ab2ece075eeb7)**",
    "created_at": "2014-05-06T14:42:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188983",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7fe6c63](https://github.com/sagemath/sagetrac-mirror/commit/7fe6c63185748a6ad159d8cab3bbc19b7e4af1b8)** to **[db1d9af](https://github.com/sagemath/sagetrac-mirror/commit/db1d9af332ea67a928ce18b7d09ab2ece075eeb7)**



---

archive/issue_comments_188984.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db1d9af332ea67a928ce18b7d09ab2ece075eeb7\">db1d9af</a></td><td><code>Fixed a couple of regressions introduced in the merge</code></td></tr></table>\n",
    "created_at": "2014-05-06T14:42:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188984",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:30'>Comment 30:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db1d9af332ea67a928ce18b7d09ab2ece075eeb7">db1d9af</a></td><td><code>Fixed a couple of regressions introduced in the merge</code></td></tr></table>




---

archive/issue_comments_188985.json:
```json
{
    "body": "Changed work issues from **rebase** to none",
    "created_at": "2014-05-06T14:52:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188985",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

Changed work issues from **rebase** to none



---

archive/issue_comments_188986.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nI have rebased the patch against 6.2.rc2 and added the remaining doctests. All doctests pass for me and the documentation builds.",
    "created_at": "2014-05-06T14:52:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188986",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

<a id='comment:31'>Comment 31:</a>
I have rebased the patch against 6.2.rc2 and added the remaining doctests. All doctests pass for me and the documentation builds.



---

archive/issue_events_190875.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2014-05-06T14:52:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190875"
}
```



---

archive/issue_events_190876.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2014-05-06T14:52:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190876"
}
```



---

archive/issue_events_190877.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190877"
}
```



---

archive/issue_events_190878.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190878"
}
```



---

archive/issue_events_190879.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-13T06:09:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190879"
}
```



---

archive/issue_events_190880.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-13T06:09:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190880"
}
```



---

archive/issue_comments_188987.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\npatchbot:\n\n```\nsage -t --long src/sage/schemes/generic/algebraic_scheme.py  # 10 doctests failed\n```",
    "created_at": "2014-05-13T06:09:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188987",
    "user": "https://github.com/rwst"
}
```

<a id='comment:33'>Comment 33:</a>
patchbot:

```
sage -t --long src/sage/schemes/generic/algebraic_scheme.py  # 10 doctests failed
```



---

archive/issue_comments_188988.json:
```json
{
    "body": "Changed commit from **[db1d9af](https://github.com/sagemath/sagetrac-mirror/commit/db1d9af332ea67a928ce18b7d09ab2ece075eeb7)** to **[545f468](https://github.com/sagemath/sagetrac-mirror/commit/545f468f36ee3141dbc974821a0938061a87bad7)**",
    "created_at": "2014-05-13T07:59:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188988",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[db1d9af](https://github.com/sagemath/sagetrac-mirror/commit/db1d9af332ea67a928ce18b7d09ab2ece075eeb7)** to **[545f468](https://github.com/sagemath/sagetrac-mirror/commit/545f468f36ee3141dbc974821a0938061a87bad7)**



---

archive/issue_comments_188989.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e956692fbb24dbcad3090610e61b57d5871d029\">9e95669</a></td><td><code>Merge branch 'develop' into toric_variety_cmp</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/545f468f36ee3141dbc974821a0938061a87bad7\">545f468</a></td><td><code>Trivial doctest fixes.</code></td></tr></table>\n",
    "created_at": "2014-05-13T07:59:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188989",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:34'>Comment 34:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e956692fbb24dbcad3090610e61b57d5871d029">9e95669</a></td><td><code>Merge branch 'develop' into toric_variety_cmp</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/545f468f36ee3141dbc974821a0938061a87bad7">545f468</a></td><td><code>Trivial doctest fixes.</code></td></tr></table>




---

archive/issue_events_190881.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2014-05-13T08:02:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190881"
}
```



---

archive/issue_events_190882.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2014-05-13T08:02:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190882"
}
```



---

archive/issue_comments_188990.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nThank you for that, I don't know how I missed this - I thought I ran all the tests in /schemes/. In any case, it was just a few trivial changes and this time I ran long doctests on all of sage. Some dev script failures, but these might be due to the machine I was running the tests on, so I'm putting this back to needs review.",
    "created_at": "2014-05-13T08:02:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188990",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

<a id='comment:35'>Comment 35:</a>
Thank you for that, I don't know how I missed this - I thought I ran all the tests in /schemes/. In any case, it was just a few trivial changes and this time I ran long doctests on all of sage. Some dev script failures, but these might be due to the machine I was running the tests on, so I'm putting this back to needs review.



---

archive/issue_comments_188991.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nThere are some docstrings with no input/output, which is fine since there is a reference to another docstring, but there are also no examples. Shouldn't they be added so that e.g. `TestSuite` is applied to resulting classes?",
    "created_at": "2014-05-13T18:16:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188991",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:36'>Comment 36:</a>
There are some docstrings with no input/output, which is fine since there is a reference to another docstring, but there are also no examples. Shouldn't they be added so that e.g. `TestSuite` is applied to resulting classes?



---

archive/issue_events_190883.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2014-05-13T22:38:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190883"
}
```



---

archive/issue_events_190884.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2014-05-13T22:38:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190884"
}
```



---

archive/issue_comments_188992.json:
```json
{
    "body": "Work Issues: **clarify documentation**",
    "created_at": "2014-05-13T22:38:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188992",
    "user": "https://github.com/novoselt"
}
```

Work Issues: **clarify documentation**



---

archive/issue_comments_188993.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nThere are multiple references to \"the criteria of :class:`ToricEmbedding<ToricEmbedding_Mixin>`\" yet upon looking into docstrings of that class these criteria are not clear. There are also tests where it seems that the same morphisms are constructed, yet they compare unequal. Would be nice to have a precise definition of what is considered an embedding morphism and why it is necessary to compare equal morphisms as unequal.",
    "created_at": "2014-05-13T22:38:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/15153#issuecomment-188993",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:37'>Comment 37:</a>
There are multiple references to "the criteria of :class:`ToricEmbedding<ToricEmbedding_Mixin>`" yet upon looking into docstrings of that class these criteria are not clear. There are also tests where it seems that the same morphisms are constructed, yet they compare unequal. Would be nice to have a precise definition of what is considered an embedding morphism and why it is necessary to compare equal morphisms as unequal.



---

archive/issue_events_190885.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190885"
}
```



---

archive/issue_events_190886.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190886"
}
```



---

archive/issue_events_190887.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:28:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/15153",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/15153#event-190887"
}
```
