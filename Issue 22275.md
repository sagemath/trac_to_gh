# Issue 22275: sage -sws2rst does not display code block properly

Issue created by migration from https://trac.sagemath.org/ticket/22512

Original creator: tmonteil

Original creation time: 2017-03-03 22:30:48

CC:  simonking jdemeyer dimpase chapoton

In rst, block of code are written as:



```
sage: def plop():
....:     return 'plop'
```



Currently, `sage -sws2rst` will output the old-style:


```
sage: def plop():
...       return 'plop'
```


This causes issues with other parsers. The culprit is in sagenb, `sagenb/misc/worksheet2rst.py` which is maintained in github.

Since i do not have a github account, you can pull the commit at:
http://tmpsagenb.metelu.net/sagenb.git or get the git-formatted patch in attachment.


---

Attachment


---

Comment by tmonteil created at 2017-03-03 22:37:56

Changing keywords from "" to "days84".


---

Comment by tmonteil created at 2017-03-03 22:37:56

Changing status from new to needs_review.


---

Comment by dimpase created at 2017-03-04 08:21:38

Why can't you make a proper git branch here on trac? (no, you do not need a github account for this!).
See http://doc.sagemath.org/html/en/developer/manual_git.html#the-trac-server
(where you can safely ignore anything related to github).


---

Comment by tmonteil created at 2017-03-04 08:34:39

Replying to [comment:3 dimpase]:
> Why can't you make a proper git branch here on trac? (no, you do not need a github account for this!).

Simply because the file i modified is not part of Sage source code, but part of sagenb source code which is maintained on github only.


---

Comment by dimpase created at 2017-03-04 09:53:44

Changing status from needs_review to needs_work.


---

Comment by SimonKing created at 2017-03-04 10:00:34

I think instead of insulting the author, it would be better to try to find a solution.

If the development of the sage notebook is not part of sage development any longer, then the notebook developers should of course be made aware of the proposed fix. And since the notebook development takes place on a seemingly problematic platform then at least the notebook developers should provide a different way of communicating the fix to them.


---

Comment by dimpase created at 2017-03-04 10:14:06

so I  am mad and work on a problematic platform?

please, really, I have enough cockroaches in my own head to take care of...

some people who are privileged to have fixed jobs have much too much time on their hands to partake in crackpot theories, that's all I can say.


---

Comment by tmonteil created at 2017-03-04 11:31:07

I will not enter personal attacks. Let me just point out that i conformed to "the github way" as close as possible, by providing a pull request. I also provided an attached self-contained patch, in case.


```
git pull http://tmpsagenb.metelu.net/sagenb.git master
```


is probably shorter to type than the previous comments, and i guess it is not much longer than an internal github pull.

I did that already when contributing to other repositories (e.g. rst2ipynb recently), and it did not cause any problem to the maintainer. If i had to get a github account to contribute to sagenb, then i won't consider it only as a "seemingly problematic platform".

If it is an issue, i can provide certified https on demand. The sha256sum of the commit is 2cb350173d08ac534485918f08bca849e4ac6126.


---

Comment by dimpase created at 2017-03-04 11:59:12

Replying to [comment:8 tmonteil]:
> I will not enter personal attacks. Let me just point out that i conformed to "the github way" as close as possible, by providing a pull request. I also p

you are conducting a personal attack on people who would need to jump various hoops to accommodate you. Where on Earth do you get this sense of entitlement?
We are not your servants.




rovided an attached self-contained patch, in case.
> 
> {{{
> git pull http://tmpsagenb.metelu.net/sagenb.git master
> }}}
> 
> is probably shorter to type than the previous comments, and i guess it is not much longer than an internal github pull.
> 
> I did that already when contributing to other repositories (e.g. rst2ipynb recently), and it did not cause any problem to the maintainer. If i had to get a github account to contribute to sagenb, then i won't consider it only as a "seemingly problematic platform".
> 
> If it is an issue, i can provide certified https on demand. The sha256sum of the commit is 2cb350173d08ac534485918f08bca849e4ac6126.
>


---

Comment by dimpase created at 2017-05-11 16:43:52

Changing status from needs_work to positive_review.


---

Comment by dimpase created at 2017-05-11 16:44:48

This is [merged](https://github.com/sagemath/sagenb/commit/b6fb4c9bac183d6ffa1a172e8c953dc074e1c863) in sagenb github repo.


---

Comment by tmonteil created at 2017-05-11 16:48:09

Thanks !


---

Comment by vbraun created at 2017-05-21 10:49:00

Resolution: fixed
