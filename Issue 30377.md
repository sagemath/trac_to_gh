# Issue 30377: Set size, font, and opacity for text3d in Three.js viewer

Issue created by migration from https://trac.sagemath.org/ticket/30614

Original creator: @jcamp0x2a

Original creation time: 2020-09-19 19:06:22

Keywords: threejs text text3d size font opacity bold italic

This ticket proposes allowing the user to customize the size, font, and opacity as well as the bold/italic styling for [text3d](https://doc.sagemath.org/html/en/reference/plot3d/sage/plot/plot3d/shapes2.html#sage.plot.plot3d.shapes2.text3d) displayed in the Three.js viewer.

Additionally, the font option should support CSS font fallback by providing an array of font names or a string of comma-separated font names.


---

Comment by @jcamp0x2a created at 2020-09-19 19:08:50

New commits:


---

Comment by @jcamp0x2a created at 2020-09-19 19:08:50

Changing status from new to needs_review.


---

Comment by egourgoulhon created at 2020-09-21 11:49:10

That's very nice! Thank you. 
Everything looks good to me.

PS: what about changing the fonts in the axes labels? (in a separate ticket I guess)


---

Comment by egourgoulhon created at 2020-09-21 11:49:10

Changing status from needs_review to positive_review.


---

Comment by egourgoulhon created at 2020-09-21 11:49:10

Changing priority from minor to major.


---

Comment by egourgoulhon created at 2020-09-21 11:50:55

Since we have not entered in the rc cycle yet, it may be still possible to have this in Sage 9.2.


---

Comment by @jcamp0x2a created at 2020-09-21 19:09:05

Replying to [comment:2 egourgoulhon]:
> That's very nice! Thank you. 
> Everything looks good to me.
> 
> PS: what about changing the fonts in the axes labels? (in a separate ticket I guess)

Thanks for reviewing this, Eric! I have created #30628 for the axes labels with a few questions posed there regarding the scope.


---

Comment by @jcamp0x2a created at 2020-09-22 16:53:13

Changing status from positive_review to needs_work.


---

Comment by @jcamp0x2a created at 2020-09-22 16:53:13

I was unaware of the similar options in 2D plotting, so I'm going to go back and rename these new parameters to be consistent with their 2D counterparts. I'll also make sure the options get passed along when going from 2D->3D using `text.plot3d()`.


---

Comment by git created at 2020-09-23 00:44:25

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @jcamp0x2a created at 2020-09-23 00:48:37

Changing status from needs_work to needs_review.


---

Comment by @jcamp0x2a created at 2020-09-23 00:48:37

I've pushed a commit that:

- Renames font options to be consistent with 2D options: `fontfamily`, `fontsize`, `fontstyle`, and `fontweight` (although `fontfamily` doesn't seem to exist in 2D text)
- Supports the same integer and keyword weights as 2D text: `book`, `extra bold`, etc.
- Supports the same keyword sizes as 2D text: `large`, `x-large`, etc.
- Makes sure font options carry over from 2D text when calling `plot3d` on the text


---

Comment by egourgoulhon created at 2020-09-23 07:58:07

Changing status from needs_review to positive_review.


---

Comment by egourgoulhon created at 2020-09-23 07:58:07

Replying to [comment:7 gh-jcamp0x2a]:
> I've pushed a commit that:
> 
> - Renames font options to be consistent with 2D options: `fontfamily`, `fontsize`, `fontstyle`, and `fontweight` (although `fontfamily` doesn't seem to exist in 2D text)
> - Supports the same integer and keyword weights as 2D text: `book`, `extra bold`, etc.
> - Supports the same keyword sizes as 2D text: `large`, `x-large`, etc.
> - Makes sure font options carry over from 2D text when calling `plot3d` on the text

Thanks for taking this into account. It's indeed important to have consistency with 2D nomenclature.

PS: your doctest examples are really nice!


---

Comment by @jcamp0x2a created at 2020-09-26 22:10:50

Replying to [comment:8 egourgoulhon]:
> Replying to [comment:7 gh-jcamp0x2a]:
> > I've pushed a commit that:
> > 
> > - Renames font options to be consistent with 2D options: `fontfamily`, `fontsize`, `fontstyle`, and `fontweight` (although `fontfamily` doesn't seem to exist in 2D text)
> > - Supports the same integer and keyword weights as 2D text: `book`, `extra bold`, etc.
> > - Supports the same keyword sizes as 2D text: `large`, `x-large`, etc.
> > - Makes sure font options carry over from 2D text when calling `plot3d` on the text
> 
> Thanks for taking this into account. It's indeed important to have consistency with 2D nomenclature.
> 
> PS: your doctest examples are really nice!

Thank you for saying so :) and for your time reviewing this ticket, Eric. Most appreciated!


---

Comment by egourgoulhon created at 2020-09-29 21:16:23

Replying to [comment:9 gh-jcamp0x2a]:
> 
> Thank you for saying so :) and for your time reviewing this ticket, Eric. Most appreciated!

You're welcome. I am now looking forward to #30628 ;-)


---

Comment by vbraun created at 2020-10-05 20:13:11

Resolution: fixed
