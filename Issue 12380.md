# Issue 12380: degree of polynomial_element is of type int

archive/issues_012380.json:
```json
{
    "body": "Assignee: malb\n\nKeywords: degree, polynomial\n\nThe degree of a polynomial over `RDF` is of type `int` and not a sage Integer.\n\n\n```\nsage: R.<x> = RDF[]\nsage: type(x.degree())\n<type 'int'>\nsage: x.degree().divides(6)\nError\n```\n\n\nThis is not consistent with polynomials over other rings:\n\n\n```\nsage: R.<x> = QQ[]\nsage: type(x.degree())\n<type 'sage.rings.integer.Integer'>\nsage: x.degree().divides(6)\nTrue\n```\n\n\nThe attached patch fixes this.\n\nIssue created by migration from https://trac.sagemath.org/ticket/12552\n\n",
    "created_at": "2012-02-20T20:00:11Z",
    "labels": [
        "commutative algebra",
        "trivial",
        "bug"
    ],
    "title": "degree of polynomial_element is of type int",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12380",
    "user": "saraedum"
}
```
Assignee: malb

Keywords: degree, polynomial

The degree of a polynomial over `RDF` is of type `int` and not a sage Integer.


```
sage: R.<x> = RDF[]
sage: type(x.degree())
<type 'int'>
sage: x.degree().divides(6)
Error
```


This is not consistent with polynomials over other rings:


```
sage: R.<x> = QQ[]
sage: type(x.degree())
<type 'sage.rings.integer.Integer'>
sage: x.degree().divides(6)
True
```


The attached patch fixes this.

Issue created by migration from https://trac.sagemath.org/ticket/12552





---

archive/issue_comments_145923.json:
```json
{
    "body": "Attachment [trac_12552.patch](tarball://root/attachments/some-uuid/ticket12552/trac_12552.patch) by saraedum created at 2012-02-20 20:03:22",
    "created_at": "2012-02-20T20:03:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12380#issuecomment-145923",
    "user": "saraedum"
}
```

Attachment [trac_12552.patch](tarball://root/attachments/some-uuid/ticket12552/trac_12552.patch) by saraedum created at 2012-02-20 20:03:22



---

archive/issue_comments_145924.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-02-20T20:40:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12380#issuecomment-145924",
    "user": "saraedum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_145925.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-02-20T20:51:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12380#issuecomment-145925",
    "user": "robertwb"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_145926.json:
```json
{
    "body": "IIRC, this was a design decision for speed (though it could be revisited). We should at least be consistent between all the polynomial types.\n\nAs an aside, note that Integer(x) is preferable to ZZ(x).",
    "created_at": "2012-02-20T20:51:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12380#issuecomment-145926",
    "user": "robertwb"
}
```

IIRC, this was a design decision for speed (though it could be revisited). We should at least be consistent between all the polynomial types.

As an aside, note that Integer(x) is preferable to ZZ(x).



---

archive/issue_comments_145927.json:
```json
{
    "body": "Please make it clear whether the patch or the git branch should be merged. In the latter case, change the milestone to sage-6.0.",
    "created_at": "2013-08-19T06:36:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12380#issuecomment-145927",
    "user": "jdemeyer"
}
```

Please make it clear whether the patch or the git branch should be merged. In the latter case, change the milestone to sage-6.0.



---

archive/issue_comments_145928.json:
```json
{
    "body": "This is a potential performance regression, How about using smallInteger() https://github.com/sagemath/sage/blob/master/src/sage/rings/integer.pxd#L33",
    "created_at": "2013-08-22T04:53:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12380#issuecomment-145928",
    "user": "robertwb"
}
```

This is a potential performance regression, How about using smallInteger() https://github.com/sagemath/sage/blob/master/src/sage/rings/integer.pxd#L33



---

archive/issue_comments_145929.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-02-26T02:08:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12380#issuecomment-145929",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_145930.json:
```json
{
    "body": "Replying to [comment:6 robertwb]:\n> This is a potential performance regression, How about using smallInteger() https://github.com/sagemath/sage/blob/master/src/sage/rings/integer.pxd#L33\n\nI updated the code to use `smallInteger()`. Is this what you had in mind? (I did not run doctests yet.)",
    "created_at": "2014-02-26T02:09:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12380#issuecomment-145930",
    "user": "saraedum"
}
```

Replying to [comment:6 robertwb]:
> This is a potential performance regression, How about using smallInteger() https://github.com/sagemath/sage/blob/master/src/sage/rings/integer.pxd#L33

I updated the code to use `smallInteger()`. Is this what you had in mind? (I did not run doctests yet.)



---

archive/issue_comments_145931.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-02-26T02:09:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12380#issuecomment-145931",
    "user": "saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_145932.json:
```json
{
    "body": "Long tests pass in rings/. `degree()` takes 1.4x longer time, IMHO not relevant. Premature optimization is the root of all evil -- Don Knuth. If there are really badly affected cases write something like `fast_degree()`.",
    "created_at": "2014-04-05T14:35:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12380#issuecomment-145932",
    "user": "rws"
}
```

Long tests pass in rings/. `degree()` takes 1.4x longer time, IMHO not relevant. Premature optimization is the root of all evil -- Don Knuth. If there are really badly affected cases write something like `fast_degree()`.



---

archive/issue_comments_145933.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-04-05T14:36:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12380#issuecomment-145933",
    "user": "rws"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_145934.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-04-07T17:23:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12380#issuecomment-145934",
    "user": "vbraun"
}
```

Resolution: fixed
