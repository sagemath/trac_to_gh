# Issue 12380: degree of polynomial_element is of type int

Issue created by migration from https://trac.sagemath.org/ticket/12552

Original creator: saraedum

Original creation time: 2012-02-20 20:00:11

Assignee: malb

Keywords: degree, polynomial

The degree of a polynomial over `RDF` is of type `int` and not a sage Integer.


```
sage: R.<x> = RDF[]
sage: type(x.degree())
<type 'int'>
sage: x.degree().divides(6)
Error
```


This is not consistent with polynomials over other rings:


```
sage: R.<x> = QQ[]
sage: type(x.degree())
<type 'sage.rings.integer.Integer'>
sage: x.degree().divides(6)
True
```


The attached patch fixes this.


---

Attachment


---

Comment by saraedum created at 2012-02-20 20:40:23

Changing status from new to needs_review.


---

Comment by robertwb created at 2012-02-20 20:51:13

Changing status from needs_review to needs_work.


---

Comment by robertwb created at 2012-02-20 20:51:13

IIRC, this was a design decision for speed (though it could be revisited). We should at least be consistent between all the polynomial types.

As an aside, note that Integer(x) is preferable to ZZ(x).


---

Comment by jdemeyer created at 2013-08-19 06:36:00

Please make it clear whether the patch or the git branch should be merged. In the latter case, change the milestone to sage-6.0.


---

Comment by robertwb created at 2013-08-22 04:53:38

This is a potential performance regression, How about using smallInteger() https://github.com/sagemath/sage/blob/master/src/sage/rings/integer.pxd#L33


---

Comment by git created at 2014-02-26 02:08:35

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by saraedum created at 2014-02-26 02:09:45

Replying to [comment:6 robertwb]:
> This is a potential performance regression, How about using smallInteger() https://github.com/sagemath/sage/blob/master/src/sage/rings/integer.pxd#L33

I updated the code to use `smallInteger()`. Is this what you had in mind? (I did not run doctests yet.)


---

Comment by saraedum created at 2014-02-26 02:09:45

Changing status from needs_work to needs_review.


---

Comment by rws created at 2014-04-05 14:35:36

Long tests pass in rings/. `degree()` takes 1.4x longer time, IMHO not relevant. Premature optimization is the root of all evil -- Don Knuth. If there are really badly affected cases write something like `fast_degree()`.


---

Comment by rws created at 2014-04-05 14:36:17

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-04-07 17:23:23

Resolution: fixed
