# Issue 29523: prime_range should allow a step

Issue created by migration from https://trac.sagemath.org/ticket/29760

Original creator: kedlaya

Original creation time: 2020-05-30 00:11:36

CC:  @davewittemorris

Is there any reason *not* to implement the following?

```
sage: prime_range(11, 100, 10)
[11, 31, 61, 71]
```

For this ticket, I have in mind the easy fix of running the same internal algorithm and retaining only the answers in the desired congruence class; that is, `prime_range(x, y, z)` would be equivalent to

```
p for p in prime_range(x, y) if (p-x)%z == 0
```

A more advanced (and more efficient) version would be to change the underlying algorithm.


---

Comment by kedlaya created at 2020-09-19 20:20:59

Upon further reflection, maybe I should also be asking for this in the `primes` iterator.


---

Comment by mkoeppe created at 2021-02-13 20:51:01

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.


---

Comment by roed created at 2021-04-26 21:47:45

Changing status from new to needs_review.


---

Comment by roed created at 2021-04-26 21:47:45

Dependence on #31548 is in order to have FLINT's `ulong_extras`.
----
Last 10 new commits:


---

Comment by roed created at 2021-04-26 21:56:06

The changes in this ticket are all in `sage/rings/fast_arith.p*` and `sage/arith/misc.py`.


---

Comment by git created at 2021-04-26 21:56:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by kedlaya created at 2021-05-12 01:46:28

Looks fine modulo the dependence on #31548.


---

Comment by mkoeppe created at 2021-07-19 00:44:56

Setting a new milestone for this ticket based on a cursory review.


---

Comment by mmezzarobba created at 2021-09-18 09:58:35

needs rebase, dependency too


---

Comment by mmezzarobba created at 2021-09-18 09:58:35

Changing status from needs_review to needs_work.
