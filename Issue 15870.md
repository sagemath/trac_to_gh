# Issue 15870: unified sequence/lazy list objects in category tree

archive/issues_015870.json:
```json
{
    "body": "CC:  matthieudien @videlec @nthiery @mantepse\n\nSeveral (maybe specialized) implementations of lazy lists exist. This meta ticket can be considered closed when\n\n* the `class Sequence` has a parent from the category `Sets` implemented, maybe with renaming to `FiniteSequence` (#15852)\n* implementation of `class InfiniteSequence`\n* let both use `sage.misc.lazy_list` (as default implementation? do benchmark)\n* refactor code in `combinat.species.*stream` to use `Sequence`\n* how does the hypothetical `combinat.species.series.LazyPowerSeries` (#6800) fit in?\n\nMajor improvements in `combinat.species.*stream` are planned in #15673.\n\nIssue created by migration from https://trac.sagemath.org/ticket/16107\n\n",
    "created_at": "2014-04-09T07:07:25Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "unified sequence/lazy list objects in category tree",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15870",
    "user": "https://github.com/rwst"
}
```
CC:  matthieudien @videlec @nthiery @mantepse

Several (maybe specialized) implementations of lazy lists exist. This meta ticket can be considered closed when

* the `class Sequence` has a parent from the category `Sets` implemented, maybe with renaming to `FiniteSequence` (#15852)
* implementation of `class InfiniteSequence`
* let both use `sage.misc.lazy_list` (as default implementation? do benchmark)
* refactor code in `combinat.species.*stream` to use `Sequence`
* how does the hypothetical `combinat.species.series.LazyPowerSeries` (#6800) fit in?

Major improvements in `combinat.species.*stream` are planned in #15673.

Issue created by migration from https://trac.sagemath.org/ticket/16107





---

archive/issue_comments_205765.json:
```json
{
    "body": "Fot the last point : I did a benchmark between it and the current implementation and [ticket:6800 #6800] was really slow (and have some bugs).\n\nFor now, I have to do a benchmark between [ticket:15673 #15673] and another implementation, so I willl look for look for other points",
    "created_at": "2014-04-09T10:01:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205765",
    "user": "https://github.com/MatthieuDien"
}
```

Fot the last point : I did a benchmark between it and the current implementation and [ticket:6800 #6800] was really slow (and have some bugs).

For now, I have to do a benchmark between [ticket:15673 #15673] and another implementation, so I willl look for look for other points



---

archive/issue_comments_205766.json:
```json
{
    "body": "Changing keywords from \"\" to \"days57\".",
    "created_at": "2014-04-09T10:02:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205766",
    "user": "https://github.com/MatthieuDien"
}
```

Changing keywords from "" to "days57".



---

archive/issue_comments_205767.json:
```json
{
    "body": "After some tests, `sage.misc.lazy_list` seems to be faster than `sage.structure.sequence` and `sage.combinat.species.*stream` because it it cythonized.\n\nWe will try to do an implementation of `sage.combinat.species.series_stream` over `sage.misc.lazy_list`",
    "created_at": "2014-04-09T22:18:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205767",
    "user": "https://github.com/MatthieuDien"
}
```

After some tests, `sage.misc.lazy_list` seems to be faster than `sage.structure.sequence` and `sage.combinat.species.*stream` because it it cythonized.

We will try to do an implementation of `sage.combinat.species.series_stream` over `sage.misc.lazy_list`



---

archive/issue_events_047447.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15870#event-47447"
}
```



---

archive/issue_comments_205768.json:
```json
{
    "body": "I think you meant to add #16137, since #16107 is this ticket.",
    "created_at": "2014-06-10T11:59:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205768",
    "user": "https://github.com/mantepse"
}
```

I think you meant to add #16137, since #16107 is this ticket.



---

archive/issue_events_047448.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15870#event-47448"
}
```



---

archive/issue_events_047449.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15870#event-47449"
}
```



---

archive/issue_comments_205769.json:
```json
{
    "body": "Changing keywords from \"days57\" to \"days57, \tLazyPowerSeries\".",
    "created_at": "2014-12-16T10:02:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205769",
    "user": "https://github.com/mantepse"
}
```

Changing keywords from "days57" to "days57, 	LazyPowerSeries".



---

archive/issue_comments_205770.json:
```json
{
    "body": "I've updated the description. Please add here what else should be done; maybe something in words? ...or for lazy power series?",
    "created_at": "2016-01-11T18:49:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205770",
    "user": "https://github.com/dkrenn"
}
```

I've updated the description. Please add here what else should be done; maybe something in words? ...or for lazy power series?



---

archive/issue_comments_205771.json:
```json
{
    "body": "I am thinking about implementing InfiniteSequences and have the following design issue with the two possibilites (it is not restricted to the infinite sequences, but is similar for other classes like words, stream in the species, etc., as well):\n\n1. make `lazy_list_generic` a base class of `InfiniteSequence`\n\n2. make an attribute `values` (or similar) in the class `InfiniteSequence` which will be an instance of `lazy_list_generic`\n\nBoth have advantages and disadvantages:\n\n- `Sequence` uses list as a base class, thus `InfiniteSequence` should use `lazy_list`\n- With 1. you can only use `lazy_list_generic`, but no derived class like `lazy_list_iterator` directly; you have to create a `lazy_list_generic` which tracks the other (as its `master` attribute; is already implemented since used with slices)\n- With 2. you need to write methods for all the things you like from the lazy lists (like building slices etc.). And even then, it is not a lazy list, but just behaves like one.\n\nWhat do you think?",
    "created_at": "2016-01-11T19:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205771",
    "user": "https://github.com/dkrenn"
}
```

I am thinking about implementing InfiniteSequences and have the following design issue with the two possibilites (it is not restricted to the infinite sequences, but is similar for other classes like words, stream in the species, etc., as well):

1. make `lazy_list_generic` a base class of `InfiniteSequence`

2. make an attribute `values` (or similar) in the class `InfiniteSequence` which will be an instance of `lazy_list_generic`

Both have advantages and disadvantages:

- `Sequence` uses list as a base class, thus `InfiniteSequence` should use `lazy_list`
- With 1. you can only use `lazy_list_generic`, but no derived class like `lazy_list_iterator` directly; you have to create a `lazy_list_generic` which tracks the other (as its `master` attribute; is already implemented since used with slices)
- With 2. you need to write methods for all the things you like from the lazy lists (like building slices etc.). And even then, it is not a lazy list, but just behaves like one.

What do you think?



---

archive/issue_comments_205772.json:
```json
{
    "body": "I just realized that `sage.combinat.species.series_stream` actually implements streams of coefficients of lazy power series.  I'll have to experiment there, too,...\n\nShould `InfiniteSequence` be the same?  What is the algebraic structure?",
    "created_at": "2016-01-12T08:06:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205772",
    "user": "https://github.com/mantepse"
}
```

I just realized that `sage.combinat.species.series_stream` actually implements streams of coefficients of lazy power series.  I'll have to experiment there, too,...

Should `InfiniteSequence` be the same?  What is the algebraic structure?



---

archive/issue_comments_205773.json:
```json
{
    "body": "Replying to [comment:16 dkrenn]:\n> - With 1. you can only use `lazy_list_generic`, but no derived class like `lazy_list_iterator` directly; you have to create a `lazy_list_generic` which tracks the other (as its `master` attribute; is already implemented since used with slices)\n\nCould you explain?  What does it mean that you cannot use a derived class directly?",
    "created_at": "2016-01-12T08:09:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205773",
    "user": "https://github.com/mantepse"
}
```

Replying to [comment:16 dkrenn]:
> - With 1. you can only use `lazy_list_generic`, but no derived class like `lazy_list_iterator` directly; you have to create a `lazy_list_generic` which tracks the other (as its `master` attribute; is already implemented since used with slices)

Could you explain?  What does it mean that you cannot use a derived class directly?



---

archive/issue_comments_205774.json:
```json
{
    "body": "Replying to [comment:18 mantepse]:\n> Replying to [comment:16 dkrenn]:\n> > - With 1. you can only use `lazy_list_generic`, but no derived class like `lazy_list_iterator` directly; you have to create a `lazy_list_generic` which tracks the other (as its `master` attribute; is already implemented since used with slices)\n> \n> Could you explain?  What does it mean that you cannot use a derived class directly?\n\n\n```\nclass InfiniteSequence(SageObject, lazy_list_generic)\n```\n\nBut when using the factory `lazy_list`, I may get a `lazy_list_iterator` or similar, so AFAIK I cannot use it in `InfiniteSequence` directly. I need to do either\n- create `class InfiniteSequenceIterator(InfiniteSequence, lazy_list_iterator)` (and have to do this for all possible `lazy_list_*` or\n- create a `lazy_list_generic` (`InfiniteSequence`), which uses the data of the `lazy_list_iterator`, i.e., tracks `lazy_list_iterator`. Thus having always two `lazy_list_*` instances instantiated.",
    "created_at": "2016-01-12T08:19:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205774",
    "user": "https://github.com/dkrenn"
}
```

Replying to [comment:18 mantepse]:
> Replying to [comment:16 dkrenn]:
> > - With 1. you can only use `lazy_list_generic`, but no derived class like `lazy_list_iterator` directly; you have to create a `lazy_list_generic` which tracks the other (as its `master` attribute; is already implemented since used with slices)
> 
> Could you explain?  What does it mean that you cannot use a derived class directly?


```
class InfiniteSequence(SageObject, lazy_list_generic)
```

But when using the factory `lazy_list`, I may get a `lazy_list_iterator` or similar, so AFAIK I cannot use it in `InfiniteSequence` directly. I need to do either
- create `class InfiniteSequenceIterator(InfiniteSequence, lazy_list_iterator)` (and have to do this for all possible `lazy_list_*` or
- create a `lazy_list_generic` (`InfiniteSequence`), which uses the data of the `lazy_list_iterator`, i.e., tracks `lazy_list_iterator`. Thus having always two `lazy_list_*` instances instantiated.



---

archive/issue_comments_205775.json:
```json
{
    "body": "Replying to [comment:17 mantepse]:\n> I just realized that `sage.combinat.species.series_stream` actually implements streams of coefficients of lazy power series.  I'll have to experiment there, too,...\n> \n> Should `InfiniteSequence` be the same?  What is the algebraic structure?\n\nNo algebraic strcture (due to the discussion on #15852 about (finite) sequences).",
    "created_at": "2016-01-12T08:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205775",
    "user": "https://github.com/dkrenn"
}
```

Replying to [comment:17 mantepse]:
> I just realized that `sage.combinat.species.series_stream` actually implements streams of coefficients of lazy power series.  I'll have to experiment there, too,...
> 
> Should `InfiniteSequence` be the same?  What is the algebraic structure?

No algebraic strcture (due to the discussion on #15852 about (finite) sequences).



---

archive/issue_comments_205776.json:
```json
{
    "body": "Replying to [comment:20 dkrenn]:\n> Replying to [comment:17 mantepse]:\n\n> > Should `InfiniteSequence` be the same?  What is the algebraic structure?\n> \n> No algebraic strcture (due to the discussion on #15852 about (finite) sequences).\n\nAh, but then what is the difference between `lazy_list` and `InfiniteSequence`?",
    "created_at": "2016-01-12T08:26:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205776",
    "user": "https://github.com/mantepse"
}
```

Replying to [comment:20 dkrenn]:
> Replying to [comment:17 mantepse]:

> > Should `InfiniteSequence` be the same?  What is the algebraic structure?
> 
> No algebraic strcture (due to the discussion on #15852 about (finite) sequences).

Ah, but then what is the difference between `lazy_list` and `InfiniteSequence`?



---

archive/issue_comments_205777.json:
```json
{
    "body": "Replying to [comment:21 mantepse]:\n> Replying to [comment:20 dkrenn]:\n> > Replying to [comment:17 mantepse]:\n> \n> > > Should `InfiniteSequence` be the same?  What is the algebraic structure?\n> > \n> > No algebraic strcture (due to the discussion on #15852 about (finite) sequences).\n> \n> Ah, but then what is the difference between `lazy_list` and `InfiniteSequence`?\n\nSequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.",
    "created_at": "2016-01-12T08:29:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205777",
    "user": "https://github.com/dkrenn"
}
```

Replying to [comment:21 mantepse]:
> Replying to [comment:20 dkrenn]:
> > Replying to [comment:17 mantepse]:
> 
> > > Should `InfiniteSequence` be the same?  What is the algebraic structure?
> > 
> > No algebraic strcture (due to the discussion on #15852 about (finite) sequences).
> 
> Ah, but then what is the difference between `lazy_list` and `InfiniteSequence`?

Sequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.



---

archive/issue_comments_205778.json:
```json
{
    "body": "Replying to [comment:22 dkrenn]:\n> > Ah, but then what is the difference between `lazy_list` and `InfiniteSequence`?\n> \n> Sequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.\n\nOK, so in particular this answers my question: a stream of coefficients should not inherit from `lazy_list_generic` :-)  (and thanks for pointing out that `lazy_list` is not a class!)",
    "created_at": "2016-01-12T08:33:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205778",
    "user": "https://github.com/mantepse"
}
```

Replying to [comment:22 dkrenn]:
> > Ah, but then what is the difference between `lazy_list` and `InfiniteSequence`?
> 
> Sequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.

OK, so in particular this answers my question: a stream of coefficients should not inherit from `lazy_list_generic` :-)  (and thanks for pointing out that `lazy_list` is not a class!)



---

archive/issue_comments_205779.json:
```json
{
    "body": "Replying to [comment:23 mantepse]:\n> Replying to [comment:22 dkrenn]:\n> > > Ah, but then what is the difference between `lazy_list` and `InfiniteSequence`?\n> > \n> > Sequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.\n> \n> OK, so in particular this answers my question: a stream of coefficients should not inherit from `lazy_list_generic` :-)  (and thanks for pointing out that `lazy_list` is not a class!)\n\nSo your question back to you: What characterizes a stream on your sense?\nAnd why not using `lazy_list_generic` as base? (To point this out: It works; has advantages and disadvantages).",
    "created_at": "2016-01-12T08:38:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205779",
    "user": "https://github.com/dkrenn"
}
```

Replying to [comment:23 mantepse]:
> Replying to [comment:22 dkrenn]:
> > > Ah, but then what is the difference between `lazy_list` and `InfiniteSequence`?
> > 
> > Sequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.
> 
> OK, so in particular this answers my question: a stream of coefficients should not inherit from `lazy_list_generic` :-)  (and thanks for pointing out that `lazy_list` is not a class!)

So your question back to you: What characterizes a stream on your sense?
And why not using `lazy_list_generic` as base? (To point this out: It works; has advantages and disadvantages).



---

archive/issue_comments_205780.json:
```json
{
    "body": "> > > Sequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.\n> > \n> > OK, so in particular this answers my question: a stream of coefficients should not inherit from `lazy_list_generic` :-)  (and thanks for pointing out that `lazy_list` is not a class!)\n> \n> So your question back to you: What characterizes a stream on your sense?\n> And why not using `lazy_list_generic` as base? (To point this out: It works; has advantages and disadvantages).\n\n(I assume you mean stream of coefficients?)\n\nI want both a common universe and an algebraic structure: all coefficients are from a ring - in particular, I absolutely need a (recognisable!) zero.",
    "created_at": "2016-01-12T08:49:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205780",
    "user": "https://github.com/mantepse"
}
```

> > > Sequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.
> > 
> > OK, so in particular this answers my question: a stream of coefficients should not inherit from `lazy_list_generic` :-)  (and thanks for pointing out that `lazy_list` is not a class!)
> 
> So your question back to you: What characterizes a stream on your sense?
> And why not using `lazy_list_generic` as base? (To point this out: It works; has advantages and disadvantages).

(I assume you mean stream of coefficients?)

I want both a common universe and an algebraic structure: all coefficients are from a ring - in particular, I absolutely need a (recognisable!) zero.



---

archive/issue_comments_205781.json:
```json
{
    "body": "Replying to [comment:25 mantepse]:\n> > > > Sequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.\n> > > \n> > > OK, so in particular this answers my question: a stream of coefficients should not inherit from `lazy_list_generic` :-)  (and thanks for pointing out that `lazy_list` is not a class!)\n> > \n> > So your question back to you: What characterizes a stream on your sense?\n> > And why not using `lazy_list_generic` as base? (To point this out: It works; has advantages and disadvantages).\n> \n> (I assume you mean stream of coefficients?)\n\nYes.\n\n> I want both a common universe and an algebraic structure: all coefficients are from a ring - in particular, I absolutely need a (recognisable!) zero.\n\nWhat operations are allowed on streams then? (I assume point-wise addition; what do you need multiplication for?)",
    "created_at": "2016-01-12T08:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205781",
    "user": "https://github.com/dkrenn"
}
```

Replying to [comment:25 mantepse]:
> > > > Sequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.
> > > 
> > > OK, so in particular this answers my question: a stream of coefficients should not inherit from `lazy_list_generic` :-)  (and thanks for pointing out that `lazy_list` is not a class!)
> > 
> > So your question back to you: What characterizes a stream on your sense?
> > And why not using `lazy_list_generic` as base? (To point this out: It works; has advantages and disadvantages).
> 
> (I assume you mean stream of coefficients?)

Yes.

> I want both a common universe and an algebraic structure: all coefficients are from a ring - in particular, I absolutely need a (recognisable!) zero.

What operations are allowed on streams then? (I assume point-wise addition; what do you need multiplication for?)



---

archive/issue_comments_205782.json:
```json
{
    "body": "Replying to [comment:25 mantepse]:\n> I want both a common universe and an algebraic structure: all coefficients are from a ring - in particular, I absolutely need a (recognisable!) zero.\n\nSo your streams seem to be a more specialized than my sequences. In this way, would it be an option for you that streams have sequences as a base class?\nIs a stream of you a Sage `Element`? (I would guess so).",
    "created_at": "2016-01-12T09:02:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205782",
    "user": "https://github.com/dkrenn"
}
```

Replying to [comment:25 mantepse]:
> I want both a common universe and an algebraic structure: all coefficients are from a ring - in particular, I absolutely need a (recognisable!) zero.

So your streams seem to be a more specialized than my sequences. In this way, would it be an option for you that streams have sequences as a base class?
Is a stream of you a Sage `Element`? (I would guess so).



---

archive/issue_comments_205783.json:
```json
{
    "body": "> What operations are allowed on streams then? (I assume point-wise addition; what do you need multiplication for?)\n\nWell, I really want to keep them relatively general, mainly because I won't gain anything by requiring certain operation.  I do think that it makes sense to require that the coefficients are from a (possibly noncommutative) ring.  I can't think of any applications where we do not have this.  I need the recognisable zero to be able to do the trick with recursive definition.\n\n> So your streams seem to be a more specialized than my sequences. In this way, would it be an option for you that streams have sequences as a base class?\n\nYes, certainly.\n\n> Is a stream of you a Sage `Element`? (I would guess so).\n\nYes.",
    "created_at": "2016-01-12T14:23:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15870#issuecomment-205783",
    "user": "https://github.com/mantepse"
}
```

> What operations are allowed on streams then? (I assume point-wise addition; what do you need multiplication for?)

Well, I really want to keep them relatively general, mainly because I won't gain anything by requiring certain operation.  I do think that it makes sense to require that the coefficients are from a (possibly noncommutative) ring.  I can't think of any applications where we do not have this.  I need the recognisable zero to be able to do the trick with recursive definition.

> So your streams seem to be a more specialized than my sequences. In this way, would it be an option for you that streams have sequences as a base class?

Yes, certainly.

> Is a stream of you a Sage `Element`? (I would guess so).

Yes.
