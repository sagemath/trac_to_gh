# Issue 14334: Add support for "huge" packages

Issue created by migration from https://trac.sagemath.org/ticket/14538

Original creator: jdemeyer

Original creation time: 2013-05-06 12:31:30

Assignee: mvngu, schilly

CC:  vbraun schilly leif

Apparently, there is a list of [huge packages](http://www.sagemath.org/sagedb/).
But these packages are not automatically searched when doing `sage -i`:

```
jdemeyer@tamiyo:/usr/local/src/sage-5.9.beta5$ ./sage -i stein-watkins-ecdb.spkg
Attempting to download package stein-watkins-ecdb
>>> Checking online list of optional packages.
[.]
>>> Checking online list of experimental packages.
[.]
>>> Checking online list of standard packages.
[.]
>>> Checking online list of archive packages.
[.]
Error: could not find a package matching stein-watkins-ecdb in http://www.sagemath.org/packages
```


We should
1. add server-side support to make the page look like the other package pages.
2. change the `spkg/bin/sage-spkg` script to support these packages.


---

Comment by jdemeyer created at 2013-05-07 09:28:53

Changing status from new to needs_review.


---

Attachment


---

Comment by jdemeyer created at 2013-05-07 09:34:09

This works now:

```
$ export SAGE_SERVER='http://mirror.switch.ch/mirror/sagemath/'
$ ./sage -i 4ti2
Attempting to download package 4ti2
>>> Checking online list of optional packages.
[.]
>>> Found 4ti2-1.3.2.p1
>>> Downloading http://mirror.switch.ch/mirror/sagemath/spkg/optional/4ti2-1.3.2.p1.spkg.
...
$ ./sage -i stein-watkins-ecdb
Attempting to download package stein-watkins-ecdb
>>> Checking online list of optional packages.
[.]
>>> Checking online list of experimental packages.
[.]
>>> Checking online list of standard packages.
[.]
>>> Checking online list of huge packages.
[.]
>>> Found stein-watkins-ecdb
>>> Downloading http://www.sagemath.org/spkg/huge/stein-watkins-ecdb.spkg.
...
$ ./sage --info stein-watkins-ecdb
Attempting to get on-line info for package stein-watkins-ecdb
>>> Checking online list of optional packages.
[.]
>>> Checking online list of experimental packages.
[.]
>>> Checking online list of standard packages.
[.]
>>> Checking online list of huge packages.
[.]
>>> Found stein-watkins-ecdb
# stein-watkins-ecdb
```



---

Comment by vbraun created at 2013-05-07 09:49:22

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2013-05-07 09:49:22

Thanks, looks good to me!


---

Comment by jdemeyer created at 2013-05-08 07:45:11

Resolution: fixed


---

Comment by leif created at 2013-05-09 01:28:32

I don't like the hardcoding of `www.sagemath.org` for huge spkgs.

Everyone is free to "mirror" whatever he/she likes, and especially for huge spkgs [unfortunately still manually] choosing an (alternate) near/fast server certainly makes even more sense.

(I know one could still specify the full URL to the spkg and just do `sage -i <URL>`, but that was possible before anyway.)

----

Is there at all a way (i.e., an option to `sage`) to list all available/archive[d]/huge spkgs?

IMHO `sage --optional` (which I don't like anyway, just like `--experimental`, so I wouldn't like `sage --huge` either) should [now] list huge spkgs as well, of course with a remark (or as a separate list/category).


---

Comment by dimpase created at 2013-05-16 14:17:37

test, please ignore


---

Comment by leif created at 2013-05-16 14:20:14

Replying to [comment:7 dimpase]:
> test, please ignore

done
