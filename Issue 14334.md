# Issue 14334: Add support for "huge" packages

archive/issues_014334.json:
```json
{
    "body": "Assignee: mvngu, schilly\n\nCC:  vbraun schilly leif\n\nApparently, there is a list of [huge packages](http://www.sagemath.org/sagedb/).\nBut these packages are not automatically searched when doing `sage -i`:\n\n```\njdemeyer@tamiyo:/usr/local/src/sage-5.9.beta5$ ./sage -i stein-watkins-ecdb.spkg\nAttempting to download package stein-watkins-ecdb\n>>> Checking online list of optional packages.\n[.]\n>>> Checking online list of experimental packages.\n[.]\n>>> Checking online list of standard packages.\n[.]\n>>> Checking online list of archive packages.\n[.]\nError: could not find a package matching stein-watkins-ecdb in http://www.sagemath.org/packages\n```\n\n\nWe should\n1. add server-side support to make the page look like the other package pages.\n2. change the `spkg/bin/sage-spkg` script to support these packages.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14538\n\n",
    "created_at": "2013-05-06T12:31:30Z",
    "labels": [
        "website/wiki",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.10",
    "title": "Add support for \"huge\" packages",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14334",
    "user": "jdemeyer"
}
```
Assignee: mvngu, schilly

CC:  vbraun schilly leif

Apparently, there is a list of [huge packages](http://www.sagemath.org/sagedb/).
But these packages are not automatically searched when doing `sage -i`:

```
jdemeyer@tamiyo:/usr/local/src/sage-5.9.beta5$ ./sage -i stein-watkins-ecdb.spkg
Attempting to download package stein-watkins-ecdb
>>> Checking online list of optional packages.
[.]
>>> Checking online list of experimental packages.
[.]
>>> Checking online list of standard packages.
[.]
>>> Checking online list of archive packages.
[.]
Error: could not find a package matching stein-watkins-ecdb in http://www.sagemath.org/packages
```


We should
1. add server-side support to make the page look like the other package pages.
2. change the `spkg/bin/sage-spkg` script to support these packages.

Issue created by migration from https://trac.sagemath.org/ticket/14538





---

archive/issue_comments_181057.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-05-07T09:28:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14334#issuecomment-181057",
    "user": "jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_181058.json:
```json
{
    "body": "Attachment [14538_spkg_huge.patch](tarball://root/attachments/some-uuid/ticket14538/14538_spkg_huge.patch) by jdemeyer created at 2013-05-07 09:31:31",
    "created_at": "2013-05-07T09:31:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14334#issuecomment-181058",
    "user": "jdemeyer"
}
```

Attachment [14538_spkg_huge.patch](tarball://root/attachments/some-uuid/ticket14538/14538_spkg_huge.patch) by jdemeyer created at 2013-05-07 09:31:31



---

archive/issue_comments_181059.json:
```json
{
    "body": "This works now:\n\n```\n$ export SAGE_SERVER='http://mirror.switch.ch/mirror/sagemath/'\n$ ./sage -i 4ti2\nAttempting to download package 4ti2\n>>> Checking online list of optional packages.\n[.]\n>>> Found 4ti2-1.3.2.p1\n>>> Downloading http://mirror.switch.ch/mirror/sagemath/spkg/optional/4ti2-1.3.2.p1.spkg.\n...\n$ ./sage -i stein-watkins-ecdb\nAttempting to download package stein-watkins-ecdb\n>>> Checking online list of optional packages.\n[.]\n>>> Checking online list of experimental packages.\n[.]\n>>> Checking online list of standard packages.\n[.]\n>>> Checking online list of huge packages.\n[.]\n>>> Found stein-watkins-ecdb\n>>> Downloading http://www.sagemath.org/spkg/huge/stein-watkins-ecdb.spkg.\n...\n$ ./sage --info stein-watkins-ecdb\nAttempting to get on-line info for package stein-watkins-ecdb\n>>> Checking online list of optional packages.\n[.]\n>>> Checking online list of experimental packages.\n[.]\n>>> Checking online list of standard packages.\n[.]\n>>> Checking online list of huge packages.\n[.]\n>>> Found stein-watkins-ecdb\n# stein-watkins-ecdb\n```\n",
    "created_at": "2013-05-07T09:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14334#issuecomment-181059",
    "user": "jdemeyer"
}
```

This works now:

```
$ export SAGE_SERVER='http://mirror.switch.ch/mirror/sagemath/'
$ ./sage -i 4ti2
Attempting to download package 4ti2
>>> Checking online list of optional packages.
[.]
>>> Found 4ti2-1.3.2.p1
>>> Downloading http://mirror.switch.ch/mirror/sagemath/spkg/optional/4ti2-1.3.2.p1.spkg.
...
$ ./sage -i stein-watkins-ecdb
Attempting to download package stein-watkins-ecdb
>>> Checking online list of optional packages.
[.]
>>> Checking online list of experimental packages.
[.]
>>> Checking online list of standard packages.
[.]
>>> Checking online list of huge packages.
[.]
>>> Found stein-watkins-ecdb
>>> Downloading http://www.sagemath.org/spkg/huge/stein-watkins-ecdb.spkg.
...
$ ./sage --info stein-watkins-ecdb
Attempting to get on-line info for package stein-watkins-ecdb
>>> Checking online list of optional packages.
[.]
>>> Checking online list of experimental packages.
[.]
>>> Checking online list of standard packages.
[.]
>>> Checking online list of huge packages.
[.]
>>> Found stein-watkins-ecdb
# stein-watkins-ecdb
```




---

archive/issue_comments_181060.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-05-07T09:49:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14334#issuecomment-181060",
    "user": "vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_181061.json:
```json
{
    "body": "Thanks, looks good to me!",
    "created_at": "2013-05-07T09:49:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14334#issuecomment-181061",
    "user": "vbraun"
}
```

Thanks, looks good to me!



---

archive/issue_comments_181062.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-05-08T07:45:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14334#issuecomment-181062",
    "user": "jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_181063.json:
```json
{
    "body": "I don't like the hardcoding of `www.sagemath.org` for huge spkgs.\n\nEveryone is free to \"mirror\" whatever he/she likes, and especially for huge spkgs [unfortunately still manually] choosing an (alternate) near/fast server certainly makes even more sense.\n\n(I know one could still specify the full URL to the spkg and just do `sage -i <URL>`, but that was possible before anyway.)\n\n----\n\nIs there at all a way (i.e., an option to `sage`) to list all available/archive[d]/huge spkgs?\n\nIMHO `sage --optional` (which I don't like anyway, just like `--experimental`, so I wouldn't like `sage --huge` either) should [now] list huge spkgs as well, of course with a remark (or as a separate list/category).",
    "created_at": "2013-05-09T01:28:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14334#issuecomment-181063",
    "user": "leif"
}
```

I don't like the hardcoding of `www.sagemath.org` for huge spkgs.

Everyone is free to "mirror" whatever he/she likes, and especially for huge spkgs [unfortunately still manually] choosing an (alternate) near/fast server certainly makes even more sense.

(I know one could still specify the full URL to the spkg and just do `sage -i <URL>`, but that was possible before anyway.)

----

Is there at all a way (i.e., an option to `sage`) to list all available/archive[d]/huge spkgs?

IMHO `sage --optional` (which I don't like anyway, just like `--experimental`, so I wouldn't like `sage --huge` either) should [now] list huge spkgs as well, of course with a remark (or as a separate list/category).



---

archive/issue_comments_181064.json:
```json
{
    "body": "test, please ignore",
    "created_at": "2013-05-16T14:17:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14334#issuecomment-181064",
    "user": "dimpase"
}
```

test, please ignore



---

archive/issue_comments_181065.json:
```json
{
    "body": "Replying to [comment:7 dimpase]:\n> test, please ignore\n\ndone",
    "created_at": "2013-05-16T14:20:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14334#issuecomment-181065",
    "user": "leif"
}
```

Replying to [comment:7 dimpase]:
> test, please ignore

done
