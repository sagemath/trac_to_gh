# Issue 27147: Apply Cysignals fix for Cygwin exception handler on sigaltstack

Issue created by migration from https://trac.sagemath.org/ticket/27384

Original creator: embray

Original creation time: 2019-02-28 10:54:46

CC:  jdemeyer

This adds a version of the patch from https://github.com/sagemath/cysignals/pull/108 modified to apply to cysignals 1.8.1.

Since the issue only affects Cygwin I thought for now it would be easier (as in #27267) to apply the patch locally, rather than wait on Jeroen to approve the upstream PR, make a new release of cysignals, and make Sage depend on that release.

This fix certainly resolves the blocker issue well-enough for me for the time being.


---

Comment by embray created at 2019-02-28 10:56:58

New commits:


---

Comment by embray created at 2019-02-28 10:56:58

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2019-02-28 11:04:42

Don't you need https://github.com/sagemath/cysignals/commit/8913e0b66a9acea11a5971868d748cde368ae29b also?

It's not a big deal to make a new cysignals release, just not right now.


---

Comment by embray created at 2019-02-28 11:13:50

Replying to [comment:2 jdemeyer]:
> Don't you need https://github.com/sagemath/cysignals/commit/8913e0b66a9acea11a5971868d748cde368ae29b also?

I thought so at first too, but the change that that was fixing was after 1.8.1 so it's not relevant right now (I will need it for any future cysignals update in Sage)

> It's not a big deal to make a new cysignals release, just not right now.

I know it's not a big deal.  But as I explained (and I think you're agreeing) it's easier to just include the patch in the Sage SPKG for now.


---

Comment by jdemeyer created at 2019-03-10 21:37:25

Can this be closed in favour of #27070?


---

Comment by jdemeyer created at 2019-03-10 21:37:25

Resolution: duplicate


---

Comment by embray created at 2019-03-11 12:11:45

Sure, as long as Cysignals 1.10 includes the fix (and doesn't break anything else).  I will review the changelog to make sure there isn't anything else suspect.


---

Comment by embray created at 2019-03-11 12:12:01

Resolution changed from duplicate to wontfix
