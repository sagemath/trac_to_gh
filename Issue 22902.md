# Issue 22902: Graphic Matroid class

archive/issues_022902.json:
```json
{
    "body": "CC:  stefan yomcat @tscrim\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/23139\n\n",
    "created_at": "2017-06-05T01:02:07Z",
    "labels": [
        "PLEASE CHANGE",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Graphic Matroid class",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22902",
    "user": "zgershkoff"
}
```
CC:  stefan yomcat @tscrim



Issue created by migration from https://trac.sagemath.org/ticket/23139





---

archive/issue_comments_320349.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to matroid theory.",
    "created_at": "2017-06-05T05:36:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320349",
    "user": "@tscrim"
}
```

Changing component from PLEASE CHANGE to matroid theory.



---

archive/issue_comments_320350.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2017-06-05T05:36:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320350",
    "user": "@tscrim"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_320351.json:
```json
{
    "body": "I'm uploading my progress for visibility's sake. I still need to implement Whitney switching, make an override for `_has_minor()`, and write the documentation and examples, among other things.\n----\nNew commits:",
    "created_at": "2017-06-05T22:31:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320351",
    "user": "zgershkoff"
}
```

I'm uploading my progress for visibility's sake. I still need to implement Whitney switching, make an override for `_has_minor()`, and write the documentation and examples, among other things.
----
New commits:



---

archive/issue_comments_320352.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-06T03:01:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320352",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320353.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-07T04:34:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320353",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320354.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-08T00:11:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320354",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320355.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-09T00:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320355",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320356.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-19T20:21:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320356",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320357.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-20T17:47:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320357",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320358.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-21T01:55:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320358",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320359.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-21T04:43:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320359",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320360.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-21T05:28:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320360",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320361.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-26T02:20:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320361",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320362.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-28T03:32:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320362",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320363.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-28T03:51:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320363",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320364.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-30T03:37:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320364",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320365.json:
```json
{
    "body": "It looks like all the merging might have caused some isses. I'm going to try upgrading my [SageMath](SageMath) installation and merging again. We'll see if that fixes it.",
    "created_at": "2017-06-30T03:55:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320365",
    "user": "zgershkoff"
}
```

It looks like all the merging might have caused some isses. I'm going to try upgrading my [SageMath](SageMath) installation and merging again. We'll see if that fixes it.



---

archive/issue_comments_320366.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-30T03:58:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320366",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320367.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-03T04:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320367",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320368.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2017-07-03T18:09:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320368",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_320369.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-03T23:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320369",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320370.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-04T03:55:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320370",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320371.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-04T21:48:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320371",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320372.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-05T00:23:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320372",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320373.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-05T00:30:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320373",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320374.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-06T03:36:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320374",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320375.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-06T03:53:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320375",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320376.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-07T00:43:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320376",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320377.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-07T03:41:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320377",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320378.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-07T04:10:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320378",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320379.json:
```json
{
    "body": "In the last commit, my editor removed a bunch of extra whitespace from lines.\n\nAnyway, that's the last method I intended to add. It will be ready for review once I fix has_minor() and write documentation.",
    "created_at": "2017-07-07T04:16:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320379",
    "user": "zgershkoff"
}
```

In the last commit, my editor removed a bunch of extra whitespace from lines.

Anyway, that's the last method I intended to add. It will be ready for review once I fix has_minor() and write documentation.



---

archive/issue_comments_320380.json:
```json
{
    "body": "This conflicts with #23382.",
    "created_at": "2017-07-07T08:46:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320380",
    "user": "@jdemeyer"
}
```

This conflicts with #23382.



---

archive/issue_comments_320381.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-07T21:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320381",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320382.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-08T01:58:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320382",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320383.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-08T02:04:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320383",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320384.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-10T02:24:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320384",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320385.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-10T02:33:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320385",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320386.json:
```json
{
    "body": "All methods work now. I'll set to needs review after merging in #23382.",
    "created_at": "2017-07-10T02:34:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320386",
    "user": "zgershkoff"
}
```

All methods work now. I'll set to needs review after merging in #23382.



---

archive/issue_comments_320387.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-10T03:01:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320387",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320388.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-10T19:33:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320388",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320389.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-11T00:01:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320389",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320390.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-07-11T00:02:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320390",
    "user": "zgershkoff"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_320391.json:
```json
{
    "body": "Should be all set now.",
    "created_at": "2017-07-11T00:02:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320391",
    "user": "zgershkoff"
}
```

Should be all set now.



---

archive/issue_comments_320392.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-11T17:07:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320392",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320393.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-11T17:30:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320393",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320394.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-12T01:39:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320394",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320395.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-07-26T22:38:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320395",
    "user": "Stefan"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_320396.json:
```json
{
    "body": "I have a lot of (mostly minor) comments. They are broken down by file and by line. The functions graphic_extensions and graphic_coextensions need the most work, I think.\n\n\n```\nComments for Trac:23139\n\ngraphicmatroid.py\n=================\n\nl.22 include a \"regular_matroid\" method that returns the RegularMatroid\nassociated with M(G). Use this in the Matroid constructor function too.\nDo this on a new ticket.\n\nl.82 remove Stefan van Zwam\n\nl.108 include OUTPUT block.\n\nl.108ish include documentation explaining the treatment of disconnected\ngraphs (maybe as ..NOTE:: or ..WARNING:: block?). Change the examples\nblock as follows (example stolen from the __init__ method)\n\n EXAMPLES::\n\n sage: from sage.matroids.advanced import *\n sage: M = GraphicMatroid(graphs.BullGraph()); M\n Graphic matroid of rank 4 on 5 elements\n sage: N = GraphicMatroid(graphs.CompleteBipartiteGraph(3,3)); N\n Graphic matroid of rank 5 on 9 elements\n\n A disconnected input will get converted to a connected graph internally::\n\n sage: G1 = graphs.CycleGraph(3); G2 = graphs.DiamondGraph()\n sage: G = G1.disjoint_union(G2) \n sage: len(G) \n 7\n sage: G.is_connected()\n False\n sage: M = GraphicMatroid(G)\n sage: M\n Graphic matroid of rank 5 on 8 elements\n sage: H = M.graph()\n sage: H\n Looped multi-graph on 6 vertices\n sage: H.is_connected()\n True\n sage: M.is_connected()\n False\n\n You can still locate an edge using the vertices of the input graph::\n\n sage: G1 = graphs.CycleGraph(3); G2 = graphs.DiamondGraph()\n sage: G = G1.disjoint_union(G2)\n sage: M = Matroid(G)\n sage: H = M.graph()\n sage: vm = M.vertex_map()\n sage: (u, v, l) = G.random_edge()\n sage: H.has_edge(vm[u], vm[v])\n True\n\nl. 343 We made a choice for testing equality: the underlying graphs need\nto be the same. Document this here, with plenty of examples of things\nthat either do or do not compare as equal! Include: isomorphic graphs,\nsame edge labels, different vertex labels; disconnected matroids with\ndifferent graph presentations; etc.\n\n A more subtle example where the vertex labels differ::\n\n sage: G1 = Graph([(0,1,0),(0,2,1),(1,2,2)])\n sage: G2 = Graph([(3,4,3),(3,5,4),(4,5,5),(4,6,6),(5,6,7)])\n sage: G = G1.disjoint_union(G2)\n sage: H = G2.disjoint_union(G1)\n sage: Matroid(G) == Matroid(H)\n False\n sage: Matroid(G).equals(Matroid(H))\n True\n\nl. 499 Include examples where N is not 3-connected.\n\nl. 533 space missing\n\nl. 733 slightly more efficient (only one \"set\" data structure gets\ncreated):\n\n vertices = set([u for (u, v, l) in edges]) vertices.union_update([v for (u, v, l) in edges])\n\nl. 793 subset of ``X``\n\nl. 830 This check slows things down unnecessarily. Instead, add an\n\"else\" statement to the for loop of l. 838 (if the loop finishes\nnormally, i.e. the set was a forest, the else statement will be executed)\n\nl. 966, 1001 and numerous other places: when using keyword arguments,\ndon't put spaces around = see\nhttps://www.python.org/dev/peps/pep-0008/#other-recommendations\n\nl. 1015 instead of reverting to abstract matroid isomorphism, maybe try\nto convert to a RegularMatroid instead? The same would be wise if N is a\nGraphicMatroid but 3-connectivity fails (then convert both to\nRegularMatroid instances simultaneously).\n\nl. 1054: this should probably be the only line of code for this method.\nReverting to the abstract Matroid class is worse than just always\ncarrying out this command, imho.\n\nl. 1178: This can be a one-liner:\n\n return [(self._groundset_edge_map[x][0], self._groundset_edge_map[x][1], x) for x in X]\n\nl. 1233 spaces again\n\nl. 1234 Documentation needs improvement. You need to mention explicitly\nthe behavior when the vertex label is new. And when both labels are new,\nthe new graph will do one of its automatic merges, which should be\ndocumented. Example:\n\n sage: M = Matroid(graphs.PetersenGraph())\n sage: M.graphic_extension('a', 'b', 'c').graph().vertices()\n [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 'b']\n\nNote no vertex 'a' exists. One way to reduce user error going\nundetected, would be to require that 'u' is a vertex of the current\ngraph.\n\nl. 1266 This comment is wrong l. 1275 same\n\nl. 1282 add an option \"simple=False\". If true, no parallel edges are\nadded.\n\nl. 1285 add a paragraph explaining this function. Specifically, mention\nthat it does not take 2-isomorphism into account, and only extends the\ncurrent graph representation.\n\nl. 1325 the argument to \"issubset\" does not need to be a set, can just\nbe an iterable.\n\nl. 1344 instead of this, research and use the \"yield\" command.\n\nl. 1348 explain what happens if X is None.\n\nl. 1360 coextended\n\nl. 1429 I don't trust this line. e.g.:\n\nsage: M = Matroid(Graph())\nsage: N = M.graphic_coextension(0)\nsage: N\nGraphic matroid of rank 0 on 1 elements\n\nThat's not what you meant, right?\n\nl. 1433 maybe have an optional argument for the new vertex label?\n\nl. 1435 no need for named vertices\n\nl. 1440 maybe another argument cosimple=False? If set to True, only do\nthe vertex splits that have >= two edges on each side.\n\nl. 1442 Again, write more documentation about what this does, and how it\nhandles low connectivity.\n\nl. 1456 Thinking about this, there are only two logical design choices\nthat I can see. Either the method returns \"every vertex split in every\npossible way\", or it returns \"one extension by a coloop, one copy of\neach coextension by a series element, and otherwise simple\ncoextensions.\" I'm inclined to prefer the latter: it seems to mimic the\nbehavior of the graphic_extensions method better, and fits the typical\nuse case of generating all non-isomorphic matroids up to a certain size.\nWhichever choice you make, go all the way. Right now, the method does\nsomething in-between (in l. 1537, if both u and v are in \"vertices\",\nonly one copy of the new edge will be created, attached to the latter).\n\nAlso: document clearly what the method does!\n\nl. 1522 see l. 1325\n\nl. 1528 again, use \"yield\" for more efficient code (in terms of memory\nconsumption). Especially important in the cographic case.\n\nl. 1531 again, perhaps add an optional argument for the new vertex label?\n\nl. 1537 if (u, v, l) is such an edge then the new edge will be attached\nto v. But we want to attach it to u if u is in the set \"vertices\" but v\nis not.\n\nl. 1550 this bit can be cleaner. Start with l. 1555: just pick an\nelement that will always be part of \"g\". Then iterate over all\npartitions of the rest.\n\nl. 1652 no \"set\" needed in argument for union\n\nl. 1659 can use \"pop()\" here\n\nl. 1800 no need for named arguments\n\nutilities.py:\n=============\n\nl. 728 spaces\n\nl. 739, 741 inconsistent capitalization\n\nlinear_matroid.pyx\n==================\n\nl. 504 as long as you're editing this line anyway, change \"it's\" to \"its\"\n\nconstructor.py\n==============\n\nHere, too, you should include an example that illustrate what happens to\ndisconnected graphs. You can reuse the one from above.\n```\n",
    "created_at": "2017-07-26T22:38:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320396",
    "user": "Stefan"
}
```

I have a lot of (mostly minor) comments. They are broken down by file and by line. The functions graphic_extensions and graphic_coextensions need the most work, I think.


```
Comments for Trac:23139

graphicmatroid.py
=================

l.22 include a "regular_matroid" method that returns the RegularMatroid
associated with M(G). Use this in the Matroid constructor function too.
Do this on a new ticket.

l.82 remove Stefan van Zwam

l.108 include OUTPUT block.

l.108ish include documentation explaining the treatment of disconnected
graphs (maybe as ..NOTE:: or ..WARNING:: block?). Change the examples
block as follows (example stolen from the __init__ method)

 EXAMPLES::

 sage: from sage.matroids.advanced import *
 sage: M = GraphicMatroid(graphs.BullGraph()); M
 Graphic matroid of rank 4 on 5 elements
 sage: N = GraphicMatroid(graphs.CompleteBipartiteGraph(3,3)); N
 Graphic matroid of rank 5 on 9 elements

 A disconnected input will get converted to a connected graph internally::

 sage: G1 = graphs.CycleGraph(3); G2 = graphs.DiamondGraph()
 sage: G = G1.disjoint_union(G2) 
 sage: len(G) 
 7
 sage: G.is_connected()
 False
 sage: M = GraphicMatroid(G)
 sage: M
 Graphic matroid of rank 5 on 8 elements
 sage: H = M.graph()
 sage: H
 Looped multi-graph on 6 vertices
 sage: H.is_connected()
 True
 sage: M.is_connected()
 False

 You can still locate an edge using the vertices of the input graph::

 sage: G1 = graphs.CycleGraph(3); G2 = graphs.DiamondGraph()
 sage: G = G1.disjoint_union(G2)
 sage: M = Matroid(G)
 sage: H = M.graph()
 sage: vm = M.vertex_map()
 sage: (u, v, l) = G.random_edge()
 sage: H.has_edge(vm[u], vm[v])
 True

l. 343 We made a choice for testing equality: the underlying graphs need
to be the same. Document this here, with plenty of examples of things
that either do or do not compare as equal! Include: isomorphic graphs,
same edge labels, different vertex labels; disconnected matroids with
different graph presentations; etc.

 A more subtle example where the vertex labels differ::

 sage: G1 = Graph([(0,1,0),(0,2,1),(1,2,2)])
 sage: G2 = Graph([(3,4,3),(3,5,4),(4,5,5),(4,6,6),(5,6,7)])
 sage: G = G1.disjoint_union(G2)
 sage: H = G2.disjoint_union(G1)
 sage: Matroid(G) == Matroid(H)
 False
 sage: Matroid(G).equals(Matroid(H))
 True

l. 499 Include examples where N is not 3-connected.

l. 533 space missing

l. 733 slightly more efficient (only one "set" data structure gets
created):

 vertices = set([u for (u, v, l) in edges]) vertices.union_update([v for (u, v, l) in edges])

l. 793 subset of ``X``

l. 830 This check slows things down unnecessarily. Instead, add an
"else" statement to the for loop of l. 838 (if the loop finishes
normally, i.e. the set was a forest, the else statement will be executed)

l. 966, 1001 and numerous other places: when using keyword arguments,
don't put spaces around = see
https://www.python.org/dev/peps/pep-0008/#other-recommendations

l. 1015 instead of reverting to abstract matroid isomorphism, maybe try
to convert to a RegularMatroid instead? The same would be wise if N is a
GraphicMatroid but 3-connectivity fails (then convert both to
RegularMatroid instances simultaneously).

l. 1054: this should probably be the only line of code for this method.
Reverting to the abstract Matroid class is worse than just always
carrying out this command, imho.

l. 1178: This can be a one-liner:

 return [(self._groundset_edge_map[x][0], self._groundset_edge_map[x][1], x) for x in X]

l. 1233 spaces again

l. 1234 Documentation needs improvement. You need to mention explicitly
the behavior when the vertex label is new. And when both labels are new,
the new graph will do one of its automatic merges, which should be
documented. Example:

 sage: M = Matroid(graphs.PetersenGraph())
 sage: M.graphic_extension('a', 'b', 'c').graph().vertices()
 [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 'b']

Note no vertex 'a' exists. One way to reduce user error going
undetected, would be to require that 'u' is a vertex of the current
graph.

l. 1266 This comment is wrong l. 1275 same

l. 1282 add an option "simple=False". If true, no parallel edges are
added.

l. 1285 add a paragraph explaining this function. Specifically, mention
that it does not take 2-isomorphism into account, and only extends the
current graph representation.

l. 1325 the argument to "issubset" does not need to be a set, can just
be an iterable.

l. 1344 instead of this, research and use the "yield" command.

l. 1348 explain what happens if X is None.

l. 1360 coextended

l. 1429 I don't trust this line. e.g.:

sage: M = Matroid(Graph())
sage: N = M.graphic_coextension(0)
sage: N
Graphic matroid of rank 0 on 1 elements

That's not what you meant, right?

l. 1433 maybe have an optional argument for the new vertex label?

l. 1435 no need for named vertices

l. 1440 maybe another argument cosimple=False? If set to True, only do
the vertex splits that have >= two edges on each side.

l. 1442 Again, write more documentation about what this does, and how it
handles low connectivity.

l. 1456 Thinking about this, there are only two logical design choices
that I can see. Either the method returns "every vertex split in every
possible way", or it returns "one extension by a coloop, one copy of
each coextension by a series element, and otherwise simple
coextensions." I'm inclined to prefer the latter: it seems to mimic the
behavior of the graphic_extensions method better, and fits the typical
use case of generating all non-isomorphic matroids up to a certain size.
Whichever choice you make, go all the way. Right now, the method does
something in-between (in l. 1537, if both u and v are in "vertices",
only one copy of the new edge will be created, attached to the latter).

Also: document clearly what the method does!

l. 1522 see l. 1325

l. 1528 again, use "yield" for more efficient code (in terms of memory
consumption). Especially important in the cographic case.

l. 1531 again, perhaps add an optional argument for the new vertex label?

l. 1537 if (u, v, l) is such an edge then the new edge will be attached
to v. But we want to attach it to u if u is in the set "vertices" but v
is not.

l. 1550 this bit can be cleaner. Start with l. 1555: just pick an
element that will always be part of "g". Then iterate over all
partitions of the rest.

l. 1652 no "set" needed in argument for union

l. 1659 can use "pop()" here

l. 1800 no need for named arguments

utilities.py:
=============

l. 728 spaces

l. 739, 741 inconsistent capitalization

linear_matroid.pyx
==================

l. 504 as long as you're editing this line anyway, change "it's" to "its"

constructor.py
==============

Here, too, you should include an example that illustrate what happens to
disconnected graphs. You can reuse the one from above.
```




---

archive/issue_comments_320397.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-29T06:10:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320397",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320398.json:
```json
{
    "body": "Thanks for the feedback. The line numbers have changed, of course, but here are some issues I had according to the line numbers in your comments.\n\n- l.22 When I first read \"do this in a new ticket\", I thought you meant adding the example in the constructor. I went ahead and made the `regular_matroid()` method. I think that's fine, since I use it now in `_is_isomorphic()` and `_has_minor()`.\n- l. 1456 I don't really follow this... Right now the method will (1) add a single coloop, (2), add edges in series to the relevant edges, and (3) split every vertex of degree 4 or greater in every way possible, as long as there are at least two edges on each side. I thought that (3) was precisely the (co)simple coextensions.\n- l. 1659 I don't think `pop()` is what I want here, since I use the set `vertices` later in the method and I don't want to modify it.",
    "created_at": "2017-07-29T06:21:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320398",
    "user": "zgershkoff"
}
```

Thanks for the feedback. The line numbers have changed, of course, but here are some issues I had according to the line numbers in your comments.

- l.22 When I first read "do this in a new ticket", I thought you meant adding the example in the constructor. I went ahead and made the `regular_matroid()` method. I think that's fine, since I use it now in `_is_isomorphic()` and `_has_minor()`.
- l. 1456 I don't really follow this... Right now the method will (1) add a single coloop, (2), add edges in series to the relevant edges, and (3) split every vertex of degree 4 or greater in every way possible, as long as there are at least two edges on each side. I thought that (3) was precisely the (co)simple coextensions.
- l. 1659 I don't think `pop()` is what I want here, since I use the set `vertices` later in the method and I don't want to modify it.



---

archive/issue_comments_320399.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-29T06:41:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320399",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320400.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-29T06:42:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320400",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320401.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-29T07:16:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320401",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320402.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-07-29T07:18:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320402",
    "user": "zgershkoff"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_320403.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-29T21:59:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320403",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320404.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-03T00:55:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320404",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320405.json:
```json
{
    "body": "It should be good to go now, except for any future merge conflicts.",
    "created_at": "2017-08-03T00:56:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320405",
    "user": "zgershkoff"
}
```

It should be good to go now, except for any future merge conflicts.



---

archive/issue_comments_320406.json:
```json
{
    "body": "A few more edits. Note that there's a merge conflict again!\n\n\n```\ngraphic_matroid.py\n==================\nl.116 ``instance'' should be singular\nl.382 ``must'' -> ``to be''\nl.531,564 missing OUTPUT blocks (check elsewhere too, please)\nl.1095 space\nl.1312 documentation does not match examples and behavior (``u`` can't be a new vertex)\nl.1349 add test showing the addition of a coloop to the empty graph.\n\nsage: M = Matroid(Graph())\nsage: M.graphic_extension(0,1,'a')\nGraphic matroid of rank 1 on 1 elements\n\nl.1561 It makes more sense to modify this method so that ``u`` is always a vertex of the graph, just as in graphic_extension\nl.1699 If is_cosimple=True, the empty graphic matroid should not have any coextensions.\n\n\nDOCTESTS:\n=========\n\navoid printing frozensets, as the order is not guaranteed to remain constant (it's a set after all).\nI had the following failures:\n\nsage -t --warn-long 15.0 src/sage/matroids/graphic_matroid.py\n**********************************************************************\nFile \"src/sage/matroids/graphic_matroid.py\", line 844, in sage.matroids.graphic_matroid.GraphicMatroid._max_coindependent\nFailed example:\n    N.max_coindependent([0,1,2,'a'])\nExpected:\n    frozenset({1, 2, 'a'})\nGot:\n    frozenset({'a', 1, 2})\n**********************************************************************\nFile \"src/sage/matroids/graphic_matroid.py\", line 961, in sage.matroids.graphic_matroid.GraphicMatroid._coclosure\nFailed example:\n    N._coclosure([3])\nExpected:\n    frozenset({3, 4, 'a'})\nGot:\n    frozenset({'a', 3, 4})\n**********************************************************************\n2 items had failures:\n   1 of   8 in sage.matroids.graphic_matroid.GraphicMatroid._coclosure\n   1 of   6 in sage.matroids.graphic_matroid.GraphicMatroid._max_coindependent\n    [334 tests, 2 failures, 1.46 s]\n```\n",
    "created_at": "2017-08-05T19:40:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320406",
    "user": "Stefan"
}
```

A few more edits. Note that there's a merge conflict again!


```
graphic_matroid.py
==================
l.116 ``instance'' should be singular
l.382 ``must'' -> ``to be''
l.531,564 missing OUTPUT blocks (check elsewhere too, please)
l.1095 space
l.1312 documentation does not match examples and behavior (``u`` can't be a new vertex)
l.1349 add test showing the addition of a coloop to the empty graph.

sage: M = Matroid(Graph())
sage: M.graphic_extension(0,1,'a')
Graphic matroid of rank 1 on 1 elements

l.1561 It makes more sense to modify this method so that ``u`` is always a vertex of the graph, just as in graphic_extension
l.1699 If is_cosimple=True, the empty graphic matroid should not have any coextensions.


DOCTESTS:
=========

avoid printing frozensets, as the order is not guaranteed to remain constant (it's a set after all).
I had the following failures:

sage -t --warn-long 15.0 src/sage/matroids/graphic_matroid.py
**********************************************************************
File "src/sage/matroids/graphic_matroid.py", line 844, in sage.matroids.graphic_matroid.GraphicMatroid._max_coindependent
Failed example:
    N.max_coindependent([0,1,2,'a'])
Expected:
    frozenset({1, 2, 'a'})
Got:
    frozenset({'a', 1, 2})
**********************************************************************
File "src/sage/matroids/graphic_matroid.py", line 961, in sage.matroids.graphic_matroid.GraphicMatroid._coclosure
Failed example:
    N._coclosure([3])
Expected:
    frozenset({3, 4, 'a'})
Got:
    frozenset({'a', 3, 4})
**********************************************************************
2 items had failures:
   1 of   8 in sage.matroids.graphic_matroid.GraphicMatroid._coclosure
   1 of   6 in sage.matroids.graphic_matroid.GraphicMatroid._max_coindependent
    [334 tests, 2 failures, 1.46 s]
```




---

archive/issue_comments_320407.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-08-05T19:40:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320407",
    "user": "Stefan"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_320408.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-06T00:13:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320408",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320409.json:
```json
{
    "body": "I changed `__init__()` so the empty graphic matroid will have a single vertex for its graph. This eliminates the need to test for empty graphs from the extension and coextension methods, and it solves the problem of not being able to extend and coextend in an empty matroid.",
    "created_at": "2017-08-06T00:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320409",
    "user": "zgershkoff"
}
```

I changed `__init__()` so the empty graphic matroid will have a single vertex for its graph. This eliminates the need to test for empty graphs from the extension and coextension methods, and it solves the problem of not being able to extend and coextend in an empty matroid.



---

archive/issue_comments_320410.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-08-06T00:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320410",
    "user": "zgershkoff"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_320411.json:
```json
{
    "body": "I'm still getting doctest errors. This is related to #23590. Perhaps you can change these so they don't mix strings and integers?\n\n\n```\n**********************************************************************\nFile \"src/sage/matroids/graphic_matroid.py\", line 860, in sage.matroids.graphic_matroid.GraphicMatroid._max_coindependent\nFailed example:\n    sorted(N.max_coindependent([0,1,2,'a']))\nExpected:\n    [1, 2, 'a']\nGot:\n    ['a', 1, 2]\n**********************************************************************\nFile \"src/sage/matroids/graphic_matroid.py\", line 977, in sage.matroids.graphic_matroid.GraphicMatroid._coclosure\nFailed example:\n    sorted(N._coclosure([3]))\nExpected:\n    [3, 4, 'a']\nGot:\n    ['a', 3, 4]\n**********************************************************************\n```\n\n\nAfter that you'll get a positive review.",
    "created_at": "2017-08-07T20:36:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320411",
    "user": "Stefan"
}
```

I'm still getting doctest errors. This is related to #23590. Perhaps you can change these so they don't mix strings and integers?


```
**********************************************************************
File "src/sage/matroids/graphic_matroid.py", line 860, in sage.matroids.graphic_matroid.GraphicMatroid._max_coindependent
Failed example:
    sorted(N.max_coindependent([0,1,2,'a']))
Expected:
    [1, 2, 'a']
Got:
    ['a', 1, 2]
**********************************************************************
File "src/sage/matroids/graphic_matroid.py", line 977, in sage.matroids.graphic_matroid.GraphicMatroid._coclosure
Failed example:
    sorted(N._coclosure([3]))
Expected:
    [3, 4, 'a']
Got:
    ['a', 3, 4]
**********************************************************************
```


After that you'll get a positive review.



---

archive/issue_comments_320412.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-08-07T20:36:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320412",
    "user": "Stefan"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_320413.json:
```json
{
    "body": "In fact, that might even completely break when we go to Python3. For mixing types with strings, it is best to use `str` as the key. Although that may not be the best in production code (as opposed to in doctests).",
    "created_at": "2017-08-07T20:45:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320413",
    "user": "@tscrim"
}
```

In fact, that might even completely break when we go to Python3. For mixing types with strings, it is best to use `str` as the key. Although that may not be the best in production code (as opposed to in doctests).



---

archive/issue_comments_320414.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-07T22:43:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320414",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320415.json:
```json
{
    "body": "I assume a general fix for that, if we need one, is outside the scope of this ticket.",
    "created_at": "2017-08-07T22:45:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320415",
    "user": "zgershkoff"
}
```

I assume a general fix for that, if we need one, is outside the scope of this ticket.



---

archive/issue_comments_320416.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-08-07T22:45:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320416",
    "user": "zgershkoff"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_320417.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-08-08T03:32:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320417",
    "user": "Stefan"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_320418.json:
```json
{
    "body": "It all looks good now. Setting it to positive review; I also edited the \"Authors\" field.",
    "created_at": "2017-08-08T03:32:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320418",
    "user": "Stefan"
}
```

It all looks good now. Setting it to positive review; I also edited the "Authors" field.



---

archive/issue_comments_320419.json:
```json
{
    "body": "See also patchbot \n\n```\nsage -t --long src/sage/algebras/orlik_solomon.py  # 7 doctests failed\n```\n",
    "created_at": "2017-08-16T20:38:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320419",
    "user": "@vbraun"
}
```

See also patchbot 

```
sage -t --long src/sage/algebras/orlik_solomon.py  # 7 doctests failed
```




---

archive/issue_comments_320420.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-08-16T20:38:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320420",
    "user": "@vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_320421.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-17T20:06:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320421",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320422.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-08-17T20:07:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320422",
    "user": "zgershkoff"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_320423.json:
```json
{
    "body": "I didn't realize those patchbot errors were relevant. Doctests pass in that file now.",
    "created_at": "2017-08-17T20:07:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320423",
    "user": "zgershkoff"
}
```

I didn't realize those patchbot errors were relevant. Doctests pass in that file now.



---

archive/issue_comments_320424.json:
```json
{
    "body": "Am I correct in my understanding that these tests were failing because you were constructing isomorphic-but-not-identical matroids? If so, that means this changes is backwards incompatible as the doctests indicate. Actually, perhaps to avoid backwards-incompatible changes, it is better for *un*labeled graphs with no multiple edges to have an ground set be the edge pairs.\n\nActually, I am not sure I understand why this change is needed as the groundset is `range(len(G.edges()))`:\n\n```diff\n@@ -359,7 +359,7 @@ class OrlikSolomonAlgebra(CombinatorialFreeModule):\n         TESTS::\n \n             sage: G = Graph([[1,2],[1,2],[2,3],[2,3],[1,3],[1,3]], multiedges=True)\n-            sage: M = Matroid(G)\n+            sage: M = Matroid(G, regular=True)\n             sage: sorted([sorted(c) for c in M.circuits()])\n             [[0, 1], [0, 2, 4], [0, 2, 5], [0, 3, 4],\n              [0, 3, 5], [1, 2, 4], [1, 2, 5], [1, 3, 4],\n```\n\n\nAlso, the doctest failure\n\n```\nAttributeError: 'GraphicMatroid' object has no attribute 'groundset_list'\n```\n\nindicates that there is an inconsistency with other types of matroids.\n\nSome other quick comments/questions:\n\n- Remove \"SageMath\" from the doc, especially where it is being used as an adjective.\n- Your `INPUT:` blocks should be of the form:\n  {{{\n- ``var_name`` -- some short description with no capitalization or period\n  }}}\n  Even if this is done is other matroid files, IMO it is good to try and follow Sage's documentation conventions.\n- For comments:\n  {{{\nif foo:\n    # It is easier to read and understand if the comments\n    # are at the next level\n  }}}\n- For PEP8, use, e.g., `Matroid(G, regular=True)`, not `Matroid(G, regular = True)`.\n- In `_coclosure`, you need a blankline after `INPUT`.\n- I hate tables of methods, so IMO, it should be killed with fire and holy water. Everything you need is included below, and they are a pain to maintain (because you have to do it manually). However, that is my personal opinion, and I won't say you need to remove it. Yet, what you are referencing are methods, not functions, so use `:meth:` instead of `:func:`.\n- `RegularMatroid` is not a module, but a class. So\n  {{{#!diff\n-:mod:`RegularMatroid <sage.matroids.linear_matroid.RegularMatroid>`\n+:class:`~sage.matroids.linear_matroid.RegularMatroid`\n  }}}\n- The leading tilde `~` just has the last object displayed in the doc, so you can do\n  {{{#!diff\n-:meth:`regular_matroid <sage.matroids.graphic_matroids.GraphicMatroid.regular_matroid>`\n+:meth:`~sage.matroids.graphic_matroids.GraphicMatroid.regular_matroid`\n  }}}\n- I think it would be good to add a `TestSuite(M).run()` in the `GraphicMatroid.__init__` method on some graphic matroid `M`.",
    "created_at": "2017-08-18T00:31:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320424",
    "user": "@tscrim"
}
```

Am I correct in my understanding that these tests were failing because you were constructing isomorphic-but-not-identical matroids? If so, that means this changes is backwards incompatible as the doctests indicate. Actually, perhaps to avoid backwards-incompatible changes, it is better for *un*labeled graphs with no multiple edges to have an ground set be the edge pairs.

Actually, I am not sure I understand why this change is needed as the groundset is `range(len(G.edges()))`:

```diff
@@ -359,7 +359,7 @@ class OrlikSolomonAlgebra(CombinatorialFreeModule):
         TESTS::
 
             sage: G = Graph([[1,2],[1,2],[2,3],[2,3],[1,3],[1,3]], multiedges=True)
-            sage: M = Matroid(G)
+            sage: M = Matroid(G, regular=True)
             sage: sorted([sorted(c) for c in M.circuits()])
             [[0, 1], [0, 2, 4], [0, 2, 5], [0, 3, 4],
              [0, 3, 5], [1, 2, 4], [1, 2, 5], [1, 3, 4],
```


Also, the doctest failure

```
AttributeError: 'GraphicMatroid' object has no attribute 'groundset_list'
```

indicates that there is an inconsistency with other types of matroids.

Some other quick comments/questions:

- Remove "SageMath" from the doc, especially where it is being used as an adjective.
- Your `INPUT:` blocks should be of the form:
  {{{
- ``var_name`` -- some short description with no capitalization or period
  }}}
  Even if this is done is other matroid files, IMO it is good to try and follow Sage's documentation conventions.
- For comments:
  {{{
if foo:
    # It is easier to read and understand if the comments
    # are at the next level
  }}}
- For PEP8, use, e.g., `Matroid(G, regular=True)`, not `Matroid(G, regular = True)`.
- In `_coclosure`, you need a blankline after `INPUT`.
- I hate tables of methods, so IMO, it should be killed with fire and holy water. Everything you need is included below, and they are a pain to maintain (because you have to do it manually). However, that is my personal opinion, and I won't say you need to remove it. Yet, what you are referencing are methods, not functions, so use `:meth:` instead of `:func:`.
- `RegularMatroid` is not a module, but a class. So
  {{{#!diff
-:mod:`RegularMatroid <sage.matroids.linear_matroid.RegularMatroid>`
+:class:`~sage.matroids.linear_matroid.RegularMatroid`
  }}}
- The leading tilde `~` just has the last object displayed in the doc, so you can do
  {{{#!diff
-:meth:`regular_matroid <sage.matroids.graphic_matroids.GraphicMatroid.regular_matroid>`
+:meth:`~sage.matroids.graphic_matroids.GraphicMatroid.regular_matroid`
  }}}
- I think it would be good to add a `TestSuite(M).run()` in the `GraphicMatroid.__init__` method on some graphic matroid `M`.



---

archive/issue_comments_320425.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2017-08-18T00:31:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320425",
    "user": "@tscrim"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_320426.json:
```json
{
    "body": "Replying to [comment:69 tscrim]:\n> Am I correct in my understanding that these tests were failing because you were constructing isomorphic-but-not-identical matroids?\nYes, but in two different ways. Some tests fail because the ground set labels are different, and some tests fail because it wants a `BasisExchangeMatroid` and gets a `GraphicMatroid`.\n\nAs I understand it, when the constructor takes a graph to make a `RegularMatroid`, it will use vertex tuples as ground set labels unless there are multiedges, where it will use integers instead. I think this is the right behavior for representing a graph with a matrix, since we lose the context of the graph, but I think it's unnecessary when we still have the graph attached to the matroid.\n\nThe method `groundset_list()` belongs to `BasisExchangeMatroid`, which is a superclass of `RegularMatroid`. It looks like other matroid classes don't have it, and it doesn't seem like it would translate easily since only `BasisExchangeMatroid`s have the attribute `_E`. When orlik-solomon.py was written, they were probably expecting a regular matroid, which is why I changed the test to give it one.\n\n> Actually, I am not sure I understand why this change is needed as the groundset is `range(len(G.edges()))`:\n> {{{#!diff\n> `@``@` -359,7 +359,7 `@``@` class OrlikSolomonAlgebra(CombinatorialFreeModule):\n>          TESTS::\n>  \n>              sage: G = Graph([[1,2],[1,2],[2,3],[2,3],[1,3],[1,3]], multiedges=True)\n> -            sage: M = Matroid(G)\n> +            sage: M = Matroid(G, regular=True)\n>              sage: sorted([sorted(c) for c in M.circuits()])\n>              [[0, 1], [0, 2, 4], [0, 2, 5], [0, 3, 4],\n>               [0, 3, 5], [1, 2, 4], [1, 2, 5], [1, 3, 4],\n> }}}\nThat particular change probably wasn't needed. I just went through and changed them all to be regular matroids.\n\nI'll look into the other documentation and spacing conventions, and make changes soon.",
    "created_at": "2017-08-18T19:00:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320426",
    "user": "zgershkoff"
}
```

Replying to [comment:69 tscrim]:
> Am I correct in my understanding that these tests were failing because you were constructing isomorphic-but-not-identical matroids?
Yes, but in two different ways. Some tests fail because the ground set labels are different, and some tests fail because it wants a `BasisExchangeMatroid` and gets a `GraphicMatroid`.

As I understand it, when the constructor takes a graph to make a `RegularMatroid`, it will use vertex tuples as ground set labels unless there are multiedges, where it will use integers instead. I think this is the right behavior for representing a graph with a matrix, since we lose the context of the graph, but I think it's unnecessary when we still have the graph attached to the matroid.

The method `groundset_list()` belongs to `BasisExchangeMatroid`, which is a superclass of `RegularMatroid`. It looks like other matroid classes don't have it, and it doesn't seem like it would translate easily since only `BasisExchangeMatroid`s have the attribute `_E`. When orlik-solomon.py was written, they were probably expecting a regular matroid, which is why I changed the test to give it one.

> Actually, I am not sure I understand why this change is needed as the groundset is `range(len(G.edges()))`:
> {{{#!diff
> `@``@` -359,7 +359,7 `@``@` class OrlikSolomonAlgebra(CombinatorialFreeModule):
>          TESTS::
>  
>              sage: G = Graph([[1,2],[1,2],[2,3],[2,3],[1,3],[1,3]], multiedges=True)
> -            sage: M = Matroid(G)
> +            sage: M = Matroid(G, regular=True)
>              sage: sorted([sorted(c) for c in M.circuits()])
>              [[0, 1], [0, 2, 4], [0, 2, 5], [0, 3, 4],
>               [0, 3, 5], [1, 2, 4], [1, 2, 5], [1, 3, 4],
> }}}
That particular change probably wasn't needed. I just went through and changed them all to be regular matroids.

I'll look into the other documentation and spacing conventions, and make changes soon.



---

archive/issue_comments_320427.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-20T01:03:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320427",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320428.json:
```json
{
    "body": "Not too sure what to do to fix the input blocks. The documentation I could find on the conventions http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings indicates that they're short with no capitalization at the beginning or punctuation at the end, unless they're long and verbose.",
    "created_at": "2017-08-20T01:07:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320428",
    "user": "zgershkoff"
}
```

Not too sure what to do to fix the input blocks. The documentation I could find on the conventions http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings indicates that they're short with no capitalization at the beginning or punctuation at the end, unless they're long and verbose.



---

archive/issue_comments_320429.json:
```json
{
    "body": "Replying to [comment:70 zgershkoff]:\n> Replying to [comment:69 tscrim]:\n> > Am I correct in my understanding that these tests were failing because you were constructing isomorphic-but-not-identical matroids?\n> Yes, but in two different ways. Some tests fail because the ground set labels are different, and some tests fail because it wants a `BasisExchangeMatroid` and gets a `GraphicMatroid`.\n> \n> As I understand it, when the constructor takes a graph to make a `RegularMatroid`, it will use vertex tuples as ground set labels unless there are multiedges, where it will use integers instead. I think this is the right behavior for representing a graph with a matrix, since we lose the context of the graph, but I think it's unnecessary when we still have the graph attached to the matroid.\n\nMy point about backwards incompatibility is still valid, as well as my recommendation about the groundset for *un*labeled (simple) graphs to try and alleviate the problem. You do loose the association between the groundset and the graph by not using the edges as the groundset for *un*labeled graphs. So I do not completely agree with your point.\n\n> The method `groundset_list()` belongs to `BasisExchangeMatroid`, which is a superclass of `RegularMatroid`. It looks like other matroid classes don't have it, and it doesn't seem like it would translate easily since only `BasisExchangeMatroid`s have the attribute `_E`. When orlik-solomon.py was written, they were probably expecting a regular matroid, which is why I changed the test to give it one.\n\nWell, it's not explicitly used within the code of the Orlik-Solomon algebras, but only for this method. If it is something only for `RegualrMatroid`, then we can just change the input to sort the groundset, which would be in line with what the OS code does.",
    "created_at": "2017-08-20T02:17:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320429",
    "user": "@tscrim"
}
```

Replying to [comment:70 zgershkoff]:
> Replying to [comment:69 tscrim]:
> > Am I correct in my understanding that these tests were failing because you were constructing isomorphic-but-not-identical matroids?
> Yes, but in two different ways. Some tests fail because the ground set labels are different, and some tests fail because it wants a `BasisExchangeMatroid` and gets a `GraphicMatroid`.
> 
> As I understand it, when the constructor takes a graph to make a `RegularMatroid`, it will use vertex tuples as ground set labels unless there are multiedges, where it will use integers instead. I think this is the right behavior for representing a graph with a matrix, since we lose the context of the graph, but I think it's unnecessary when we still have the graph attached to the matroid.

My point about backwards incompatibility is still valid, as well as my recommendation about the groundset for *un*labeled (simple) graphs to try and alleviate the problem. You do loose the association between the groundset and the graph by not using the edges as the groundset for *un*labeled graphs. So I do not completely agree with your point.

> The method `groundset_list()` belongs to `BasisExchangeMatroid`, which is a superclass of `RegularMatroid`. It looks like other matroid classes don't have it, and it doesn't seem like it would translate easily since only `BasisExchangeMatroid`s have the attribute `_E`. When orlik-solomon.py was written, they were probably expecting a regular matroid, which is why I changed the test to give it one.

Well, it's not explicitly used within the code of the Orlik-Solomon algebras, but only for this method. If it is something only for `RegualrMatroid`, then we can just change the input to sort the groundset, which would be in line with what the OS code does.



---

archive/issue_comments_320430.json:
```json
{
    "body": "Replying to [comment:72 zgershkoff]:\n> Not too sure what to do to fix the input blocks. The documentation I could find on the conventions http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings indicates that they're short with no capitalization at the beginning or punctuation at the end, unless they're long and verbose.\n\nFor example:\n\n```diff\n-        - `X` -- an object with Python's ``frozenset`` interface.\n+        - ``X`` -- an object with Python's ``frozenset`` interface\n```\n\n\n```diff\n-        - ``other`` -- A matroid.\n+        - ``other`` -- a matroid\n```\n\n\n```diff\n-        - ``contractions`` -- frozenset, subset of ``self.groundset()`` to be contracted\n-        -  ``deletions`` -- frozenset, subset of ``self.groundset()`` to be deleted\n+        - ``contractions`` -- frozenset; subset of ``self.groundset()`` to be contracted\n+        - ``deletions`` -- frozenset; subset of ``self.groundset()`` to be deleted\n```\n\n\n```diff\n-        - ``N`` - A matroid.\n-        - ``certificate`` - (default: ``False``) If ``True``, returns\n-          either ``False, None`` or\n-          ``True, (X, Y, dic) where ``N`` is isomorphic to ``self.minor(X, Y)``,\n-          and ``dic`` is an isomorphism between ``N`` and ``self.minor(X, Y)``.\n+        - ``N`` -- a matroid\n+        - ``certificate`` -- (default: ``False``) if ``True``, returns the certificate\n+          isomorphism from the minor of ``self`` to ``N``\n```\n\n(The data on the certificate should be in the `OUTPUT` block.)\n\n```diff\n-        - ``X`` -- An object with Python's ``frozenset`` interface containing\n-          a subset of ``self.groundset()``.\n+        - ``X`` -- an object with Python's ``frozenset`` interface containing\n+          a subset of ``self.groundset()``\n```\n\nThere are others. Also, remove the `INPUT:` when there is no (non-`self`) input.",
    "created_at": "2017-08-20T02:24:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320430",
    "user": "@tscrim"
}
```

Replying to [comment:72 zgershkoff]:
> Not too sure what to do to fix the input blocks. The documentation I could find on the conventions http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings indicates that they're short with no capitalization at the beginning or punctuation at the end, unless they're long and verbose.

For example:

```diff
-        - `X` -- an object with Python's ``frozenset`` interface.
+        - ``X`` -- an object with Python's ``frozenset`` interface
```


```diff
-        - ``other`` -- A matroid.
+        - ``other`` -- a matroid
```


```diff
-        - ``contractions`` -- frozenset, subset of ``self.groundset()`` to be contracted
-        -  ``deletions`` -- frozenset, subset of ``self.groundset()`` to be deleted
+        - ``contractions`` -- frozenset; subset of ``self.groundset()`` to be contracted
+        - ``deletions`` -- frozenset; subset of ``self.groundset()`` to be deleted
```


```diff
-        - ``N`` - A matroid.
-        - ``certificate`` - (default: ``False``) If ``True``, returns
-          either ``False, None`` or
-          ``True, (X, Y, dic) where ``N`` is isomorphic to ``self.minor(X, Y)``,
-          and ``dic`` is an isomorphism between ``N`` and ``self.minor(X, Y)``.
+        - ``N`` -- a matroid
+        - ``certificate`` -- (default: ``False``) if ``True``, returns the certificate
+          isomorphism from the minor of ``self`` to ``N``
```

(The data on the certificate should be in the `OUTPUT` block.)

```diff
-        - ``X`` -- An object with Python's ``frozenset`` interface containing
-          a subset of ``self.groundset()``.
+        - ``X`` -- an object with Python's ``frozenset`` interface containing
+          a subset of ``self.groundset()``
```

There are others. Also, remove the `INPUT:` when there is no (non-`self`) input.



---

archive/issue_comments_320431.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-20T19:48:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320431",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320432.json:
```json
{
    "body": "Travis, regarding backwards compatibility: would you be happy with the following compromise?\n\nCHANGE:\n\n* `Matroid(G)` returns `GraphicMatroid` instead of `RegularMatroid`\n* `matroids.CompleteGraphic()` returns `GraphicMatroid` instead of `RegularMatroid`\n* same for `matroids.Wheel()` if no field is given, `matroids.named_matroids.Terrahawk()`\n\nSTAY THE SAME:\n\n* default groundset generator for the `Matroid()` constructor function on input of a graph\n* groundsets for the special matroids mentioned above.\n\nEDIT: this way, the identity function on the groundset is an isomorphism, but the different classes don't overlap completely in their methods.",
    "created_at": "2017-08-21T21:28:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320432",
    "user": "Stefan"
}
```

Travis, regarding backwards compatibility: would you be happy with the following compromise?

CHANGE:

* `Matroid(G)` returns `GraphicMatroid` instead of `RegularMatroid`
* `matroids.CompleteGraphic()` returns `GraphicMatroid` instead of `RegularMatroid`
* same for `matroids.Wheel()` if no field is given, `matroids.named_matroids.Terrahawk()`

STAY THE SAME:

* default groundset generator for the `Matroid()` constructor function on input of a graph
* groundsets for the special matroids mentioned above.

EDIT: this way, the identity function on the groundset is an isomorphism, but the different classes don't overlap completely in their methods.



---

archive/issue_comments_320433.json:
```json
{
    "body": "Replying to [comment:76 Stefan]:\n> Travis, regarding backwards compatibility: would you be happy with the following compromise?\n> \n> CHANGE:\n> \n> * `Matroid(G)` returns `GraphicMatroid` instead of `RegularMatroid`\n> * `matroids.CompleteGraphic()` returns `GraphicMatroid` instead of `RegularMatroid`\n> * same for `matroids.Wheel()` if no field is given, `matroids.named_matroids.Terrahawk()`\n> \n> STAY THE SAME:\n> \n> * default groundset generator for the `Matroid()` constructor function on input of a graph\n> * groundsets for the special matroids mentioned above.\n\nThat was precisely what I was proposing (although I may have done so horribly). So, sorry, that is not much of a compromise. :P (Edit: I am saying I agree to this completely.)\n\nIMO, having the groundset being the edges is a little more clear.\n\n> EDIT: this way, the identity function on the groundset is an isomorphism, but the different classes don't overlap completely in their methods.\n\nThat is okay for now. We can fix things as we go along as we find the methods that are missing. I just pointed out `groundset_list` because it became relevant via the doctest (but I agree that it does not make sense beyond the `RegularMatroid` class).",
    "created_at": "2017-08-21T21:43:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320433",
    "user": "@tscrim"
}
```

Replying to [comment:76 Stefan]:
> Travis, regarding backwards compatibility: would you be happy with the following compromise?
> 
> CHANGE:
> 
> * `Matroid(G)` returns `GraphicMatroid` instead of `RegularMatroid`
> * `matroids.CompleteGraphic()` returns `GraphicMatroid` instead of `RegularMatroid`
> * same for `matroids.Wheel()` if no field is given, `matroids.named_matroids.Terrahawk()`
> 
> STAY THE SAME:
> 
> * default groundset generator for the `Matroid()` constructor function on input of a graph
> * groundsets for the special matroids mentioned above.

That was precisely what I was proposing (although I may have done so horribly). So, sorry, that is not much of a compromise. :P (Edit: I am saying I agree to this completely.)

IMO, having the groundset being the edges is a little more clear.

> EDIT: this way, the identity function on the groundset is an isomorphism, but the different classes don't overlap completely in their methods.

That is okay for now. We can fix things as we go along as we find the methods that are missing. I just pointed out `groundset_list` because it became relevant via the doctest (but I agree that it does not make sense beyond the `RegularMatroid` class).



---

archive/issue_comments_320434.json:
```json
{
    "body": "Imposing an order on the groundset is not important for most matroid classes; it becomes useful when the elements label columns of a matrix or something. I see no need to have it added to the GraphicMatroid class.",
    "created_at": "2017-08-21T21:51:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320434",
    "user": "Stefan"
}
```

Imposing an order on the groundset is not important for most matroid classes; it becomes useful when the elements label columns of a matrix or something. I see no need to have it added to the GraphicMatroid class.



---

archive/issue_comments_320435.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-23T02:44:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320435",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320436.json:
```json
{
    "body": "Maybe changing the type of `matroids.Wheel()` and `matroids.named_matroids.Terrahawk()` should be in another ticket?\n\n`matroids.CompleteGraphic()` automatically changed to `GraphicMatroid` when the constructor was changed, but the others look like a bit of work (`Wheel` in particular, since using `range(2n)` for the groundset doesn't assign labels to the edges in the best way, and since the cases when n is one of {0,1,2} will probably have to be handled separately.)",
    "created_at": "2017-08-23T02:50:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320436",
    "user": "zgershkoff"
}
```

Maybe changing the type of `matroids.Wheel()` and `matroids.named_matroids.Terrahawk()` should be in another ticket?

`matroids.CompleteGraphic()` automatically changed to `GraphicMatroid` when the constructor was changed, but the others look like a bit of work (`Wheel` in particular, since using `range(2n)` for the groundset doesn't assign labels to the edges in the best way, and since the cases when n is one of {0,1,2} will probably have to be handled separately.)



---

archive/issue_comments_320437.json:
```json
{
    "body": "Ok, save those for another ticket.",
    "created_at": "2017-08-23T02:52:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320437",
    "user": "Stefan"
}
```

Ok, save those for another ticket.



---

archive/issue_comments_320438.json:
```json
{
    "body": "Do you really want the (essentially useless) table of methods for that class that you have to manually maintain? There are not anywhere near enough methods to justify such a table. If you really insist on that ~~clutter~~ table, then at least make it automatic as what `graph.py` does (manually maintaining it is too much of a pain and easy to forget). However, that is not currently compatible with Cython if this ends up being Cythonized (which is something that might be a good followup ticket).",
    "created_at": "2017-08-23T03:50:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320438",
    "user": "@tscrim"
}
```

Do you really want the (essentially useless) table of methods for that class that you have to manually maintain? There are not anywhere near enough methods to justify such a table. If you really insist on that ~~clutter~~ table, then at least make it automatic as what `graph.py` does (manually maintaining it is too much of a pain and easy to forget). However, that is not currently compatible with Cython if this ends up being Cythonized (which is something that might be a good followup ticket).



---

archive/issue_comments_320439.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-24T23:49:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320439",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320440.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2017-08-24T23:50:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320440",
    "user": "zgershkoff"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_320441.json:
```json
{
    "body": "I don't mind removing it. The main reason to have it there is so a user can scroll past overrides like `is_valid`, but there aren't many of those.\n\nI can't get the documentation to build correctly on my machine. I'll probably have to delete sage and install it again. Before I do that, I'll try to get these tickets closed.",
    "created_at": "2017-08-24T23:50:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320441",
    "user": "zgershkoff"
}
```

I don't mind removing it. The main reason to have it there is so a user can scroll past overrides like `is_valid`, but there aren't many of those.

I can't get the documentation to build correctly on my machine. I'll probably have to delete sage and install it again. Before I do that, I'll try to get these tickets closed.



---

archive/issue_comments_320442.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-08-25T04:34:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320442",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_320443.json:
```json
{
    "body": "Thank you for all the changes and your work on this (including Stefan and his review).",
    "created_at": "2017-08-25T04:34:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320443",
    "user": "@tscrim"
}
```

Thank you for all the changes and your work on this (including Stefan and his review).



---

archive/issue_comments_320444.json:
```json
{
    "body": "Changing keywords from \"\" to \"days88, IMA coding sprints\".",
    "created_at": "2017-08-25T04:35:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320444",
    "user": "@tscrim"
}
```

Changing keywords from "" to "days88, IMA coding sprints".



---

archive/issue_comments_320445.json:
```json
{
    "body": "Removing this dependency (even though it's true) in case it's causing a problem for the release script.",
    "created_at": "2017-08-28T01:57:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320445",
    "user": "zgershkoff"
}
```

Removing this dependency (even though it's true) in case it's causing a problem for the release script.



---

archive/issue_comments_320446.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-08-28T19:35:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320446",
    "user": "@vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_320447.json:
```json
{
    "body": "On 32-bit:\n\n```\nFile \"src/sage/matroids/graphic_matroid.py\", line 591, in sage.matroids.graphic_matroid.GraphicMatroid._has_minor\nFailed example:\n    M._has_minor(N, certificate=True)\nExpected:\n    (True, (frozenset({3, 6, 8}), frozenset({2, 4, 5}), {0: 0, 1: 1, 2: 7}))\nGot:\n    (True, (frozenset({1, 5, 6}), frozenset({4, 7, 8}), {0: 2, 1: 0, 2: 3}))\n**********************************************************************\n1 item had failures:\n   1 of  18 in sage.matroids.graphic_matroid.GraphicMatroid._has_minor\n    [345 tests, 1 failure, 1.37 s]\n```\n",
    "created_at": "2017-08-28T19:35:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320447",
    "user": "@vbraun"
}
```

On 32-bit:

```
File "src/sage/matroids/graphic_matroid.py", line 591, in sage.matroids.graphic_matroid.GraphicMatroid._has_minor
Failed example:
    M._has_minor(N, certificate=True)
Expected:
    (True, (frozenset({3, 6, 8}), frozenset({2, 4, 5}), {0: 0, 1: 1, 2: 7}))
Got:
    (True, (frozenset({1, 5, 6}), frozenset({4, 7, 8}), {0: 2, 1: 0, 2: 3}))
**********************************************************************
1 item had failures:
   1 of  18 in sage.matroids.graphic_matroid.GraphicMatroid._has_minor
    [345 tests, 1 failure, 1.37 s]
```




---

archive/issue_comments_320448.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-28T20:10:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320448",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320449.json:
```json
{
    "body": "Everything passes on my end, but I changed that example to just count the elements instead of telling us what they are.",
    "created_at": "2017-08-28T20:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320449",
    "user": "zgershkoff"
}
```

Everything passes on my end, but I changed that example to just count the elements instead of telling us what they are.



---

archive/issue_comments_320450.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-08-28T20:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320450",
    "user": "zgershkoff"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_320451.json:
```json
{
    "body": "I think a better test is to verify that the certificate is an isomorphism:\n\n```\nsage: val, cert = M._has_minor(N1, certificate=True)\nsage: Mp = M.minor(cert[0], cert[1])\nsage: M.is_isomorphism(N1, cert[2])\nTrue\n```\n",
    "created_at": "2017-08-28T20:33:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320451",
    "user": "@tscrim"
}
```

I think a better test is to verify that the certificate is an isomorphism:

```
sage: val, cert = M._has_minor(N1, certificate=True)
sage: Mp = M.minor(cert[0], cert[1])
sage: M.is_isomorphism(N1, cert[2])
True
```




---

archive/issue_comments_320452.json:
```json
{
    "body": "Given that it's the hidden-from-end-users version of the method, I'm ok with either solution.",
    "created_at": "2017-08-28T20:57:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320452",
    "user": "Stefan"
}
```

Given that it's the hidden-from-end-users version of the method, I'm ok with either solution.



---

archive/issue_comments_320453.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-28T22:12:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320453",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320454.json:
```json
{
    "body": "I changed it so none of the certificates print in the tests, just in case they're different on some other system.",
    "created_at": "2017-08-28T22:13:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320454",
    "user": "zgershkoff"
}
```

I changed it so none of the certificates print in the tests, just in case they're different on some other system.



---

archive/issue_comments_320455.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-08-28T22:54:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320455",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_320456.json:
```json
{
    "body": "LGTM. Thanks.",
    "created_at": "2017-08-28T22:54:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320456",
    "user": "@tscrim"
}
```

LGTM. Thanks.



---

archive/issue_comments_320457.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-09-02T09:34:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22902#issuecomment-320457",
    "user": "@vbraun"
}
```

Resolution: fixed
