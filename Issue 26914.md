# Issue 26914: py3: fix doctests in vertex_separation.pyx

Issue created by migration from https://trac.sagemath.org/ticket/27151

Original creator: dcoudert

Original creation time: 2019-01-27 18:34:37

Keywords: py3, graph

Several failing doctests were caused by the impossibility to sort of list of `Set` (already in Python2).

```
sage: from sage.graphs.graph_decompositions.vertex_separation import vertex_separation, linear_ordering_to_path_decomposition
sage: g = graphs.PathGraph(5)
sage: pw, L = vertex_separation(g, algorithm="BAB"); pw
1
sage: h = linear_ordering_to_path_decomposition(g, L)
sage: sorted(h)
[{0, 1}, {3, 4}, {2, 3}, {1, 2}]
```

Since path decomposition is a graph whose vertices are `Set`, we get different results in py2 and py3.
=> we mark doctests as `# py2` and `# py3`.



Some doctests were due to a `max(None, <number>)`. With a proper initialization of the `cut_off` variable, we don't have this issue anymore.


Another doctest is fixed in #27027.


---

Comment by dcoudert created at 2019-01-27 18:36:43

Changing status from new to needs_review.


---

Comment by dcoudert created at 2019-01-27 18:36:43

The 10 failing doctests in py3 should be fixed with this ticket and #27027.
----
New commits:


---

Comment by vklein created at 2019-01-31 16:46:11

Hi !

I don't think all the `# py2` `# py3` are necessary.
For example for your two first modifications doing that :

```
sage: sorted(h.vertices(), key=str)
[{0, 1}, {1, 2}, {2, 3}, {3, 4}]
sage: sage: sorted(h.edges(labels=None), key=str)
[({0, 1}, {1, 2}), ({1, 2}, {2, 3}), ({2, 3}, {3, 4})]
```

give the same results in both py2 and py3.


---

Comment by git created at 2019-01-31 17:00:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2019-01-31 17:01:54

Very good idea. Thanks. I have changed 3 doctests. One pair of py2/py3 tags remains as I don't know how to avoid it.


---

Comment by vklein created at 2019-01-31 17:44:47

Changing status from needs_review to positive_review.


---

Comment by vklein created at 2019-01-31 17:44:47

Ok this looks fine.


---

Comment by vbraun created at 2019-02-04 23:01:59

Resolution: fixed
