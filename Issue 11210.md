# Issue 11210: subposet is too slow

Issue created by migration from https://trac.sagemath.org/ticket/11382

Original creator: hivert

Original creation time: 2011-05-26 09:13:27

Assignee: sage-combinat

CC:  sage-combinat

Keywords: poset subposet

A lot of unnecessary and redundant check are performed. See a more precise
analyze on
[this thread](http://groups.google.com/group/sage-combinat-devel/browse_thread/thread/545480705ce92eaa) of sage-combinat-devel

```
sage: P = cutting_poset(WeylGroup(['A',4]))
sage: P.cardinality()
24
```

Before:

```
sage: %timeit P.subposet(P.list()[1:])
5 loops, best of 3: 214 ms per loop
```

After:

```
sage: %timeit P.subposet(P.list()[1:])
25 loops, best of 3: 24.8 ms per loop
```

Here is another timing for a bigger poset:

```
sage: P = cutting_poset(WeylGroup(['A',4]))
sage: P.cardinality()
120
```

Before:

```
sage: %timeit P.subposet(P.list()[1:])
5 loops, best of 3: 28.8 s per loop
```

After:

```
sage: %timeit P.subposet(P.list()[1:])
5 loops, best of 3: 597 ms per loop
```



---

Comment by hivert created at 2011-05-29 10:12:10

Changing status from new to needs_review.


---

Comment by hivert created at 2011-05-31 14:52:23

Remove assignee sage-combinat.


---

Comment by hivert created at 2011-12-03 14:47:19

Set assignee to hivert.


---

Comment by hivert created at 2012-02-06 14:54:11

Changing keywords from "poset subposet" to "poset, subposet, Cernay2012".


---

Comment by nthiery created at 2012-02-08 14:00:59

We finalized the patch together with Florent. Positive review on the version I just uploaded, assuming the test pass (I am running them).


---

Attachment


---

Comment by hivert created at 2012-02-10 02:44:11

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-02-22 10:44:42

Resolution: fixed
