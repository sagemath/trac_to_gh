# Issue 33281: crystals.TensorProduct does not respect super crystals

Issue created by migration from https://trac.sagemath.org/ticket/33518

Original creator: tscrim

Original creation time: 2022-03-17 08:23:24

CC:  aschilling chapoton bsalisbury1 bump

Keywords: crystals

Compare:

```
sage: L = crystals.Letters(['A',[1,2]])

sage: T1 = tensor([L,L])
sage: type(T1)
<class 'sage.combinat.crystals.tensor_product.FullTensorProductOfSuperCrystals_with_category'>

sage: T2 = crystals.TensorProduct(L,L)
sage: type(T2)
<class 'sage.combinat.crystals.tensor_product.FullTensorProductOfCrystals_with_category'>
```

This can lead to mathematically wrong results. We add a special case for super crystals.


---

Comment by tscrim created at 2022-03-17 08:31:31

Changing status from new to needs_review.


---

Comment by tscrim created at 2022-03-17 08:31:31

New commits:


---

Comment by chapoton created at 2022-03-17 12:12:49

failures in src/sage/categories/loop_crystals.py


---

Comment by git created at 2022-03-18 00:19:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2022-03-18 00:20:14

This should fix it; those files now pass locally on my machine.


---

Comment by chapoton created at 2022-03-18 07:28:00

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2022-03-18 07:28:00

ok, good to go


---

Comment by tscrim created at 2022-03-18 07:30:56

Thank you.


---

Comment by vbraun created at 2022-03-27 15:43:38

Resolution: fixed
