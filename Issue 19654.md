# Issue 19654: improve coding style and documentation in projective schemes

Issue created by migration from https://trac.sagemath.org/ticket/19891

Original creator: bhutz

Original creation time: 2016-01-14 23:50:25

Assignee: bhutz

There are number of coding style issues and documentation issues in the projective scheme functionality such as

-  == False or == True 

- references to self in docs 

-  no single line description 

-  formatting of errors 

etc.


---

Comment by chapoton created at 2016-01-18 20:36:01

Please put this ticket in "needs_review". I have assumed that you forgot to do so.
Here are some points that I have seen at first reading.


```
+    See [Hutz-gr]
```

is wrong. The correct refererence syntax is `[Hutz-gr]_` with an underscore at the end. This happen at many places, for example also for `See [FMV]` and `[Silverman_ADS]` and `[Bruin-Molnar] and [Molnar]`.


```
`PGL(2,QQ)`
```

could be

```
`PGL(2,\QQ)`
```


This looks strange:

```
-        lift,lifted = blift(LG,Li,p,S=S)
+        lift,lifted = blift(LG,Li,p,S = S)
```


`Abelian variety` should keep its capital A


```
+        returns ``True`` if this map is a morphism.
```

should be

```
+        Return ``True`` if this map is a morphism.
```


`greens function` should be `Green's function`

`+        THis map must`
should be
`+        This map must`

typo `the subsgroup` at least twice

typo `post-critially`

typo `the the LLL`

duplicate reference `[Hutz_gr]` and `[Hutz-gr]` ?

typo `this projective spaces`
----
New commits:


---

Comment by git created at 2016-01-18 22:28:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bhutz created at 2016-01-18 22:33:11

Changing status from new to needs_review.


---

Comment by bhutz created at 2016-01-18 22:33:11

Thanks for taking a look at this, Frederic. Actually, I didn't put it as needs-review as I was going have my new students go over it this week to get used to the reviewing process since there are no significant/difficult changes here (and the references still weren't working correctly). Your review is much appreciated and any additional typos caught are important to fix. I've fixed the ones you found and I may as well set it to needs-review at this point.

That is good to know about the reference. I hadn't figured out yet why they were only linking for some of them, so you saved some time trying to determine what was happening.


---

Comment by rlmiller created at 2016-01-21 17:57:36

Ticket 19891

no period for input or output consistency

file endPN_automorphism_group. html
	- automorphism group QQ
Prime_lower_bound, formatting missing quotes
automorism fixing pair

whole file
	-  some out put and input capitalized others not, some punch at end , others not
        -  capitalize output

periods after all hyperlinked ref?

'''
file endPN_minimal_model.html''' 
- func minimal model example spacing
- func affine minimal example spacing

'''
file projective morphism.html'''

- func automosphism group need to link referencd [fmv] need link
-  func dyatomic polyomial references [mopa] need link
_? why trac ticket references?_
- func pgl minimal references need link 
- func minimal model references need link, is self necessary?
- input check, quotes or not seen both ways
- func multiplier spectra output qqbar fix( check all  too!)
- func normalize coordinates note formating, and gcd? base_ring?
- func nth iterate, to do formatinf and random question in example
- fun periodic points output self?
- func primes of bad reduction groebner capitalize
- check all output nones
- func wronskian_ideal capitalize jacobian
-  func all_rational preimages remove self
- function automrophism group link reference [fmv]
*file projective_point. html*

- func dehomogenize punctuation in description
- func nth iterate  kwds: Boolean, capitalize


---

Comment by rlmiller created at 2016-01-21 17:57:36

Changing status from needs_review to needs_work.


---

Comment by eisnerj created at 2016-01-27 16:21:37

Verify you meant to remove the dehomogenize step:



`@``@` -372,31 +372,30 `@``@` class SchemeMorphism_polynomial_projective_space(SchemeMorphism_polynomial):

Should these two errors match?:



`@``@` -2271,13 +2284,13 `@``@` class SchemeMorphism_polynomial_projective_space(SchemeMorphism_polynomial):

Check line breaks:



`@` -413,8 +415,10 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -850,9 +857,11 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

Grammar:



`@``@` -1501,8 +1514,10 `@``@` class SchemeMorphism_point_projective_field(SchemeMorphism_point_projective_ring

`@``@` -280,15 +280,16 `@``@` def automorphism_group_QQ_fixedpoints(rational_function, return_functions = Fals

Remove reference to self:



`@``@` -2659,16 +2680,18 `@``@` class SchemeMorphism_polynomial_projective_space(SchemeMorphism_polynomial):

`@``@` -3567,11 +3596,11 `@``@` class SchemeMorphism_polynomial_projective_space_field(SchemeMorphism_polynomial

`@``@` -973,7 +989,7 `@``@` class ProjectiveSpace_field(ProjectiveSpace_ring):

Make references hyperlinks:



`@``@` -4249,10 +4289,14 `@``@` class SchemeMorphism_polynomial_projective_space_finite_field(SchemeMorphism_pol

`@``@` -4291,14 +4335,15 `@``@` class SchemeMorphism_polynomial_projective_space_finite_field(SchemeMorphism_pol

`@``@` -2391,37 +2406,38 `@``@` class SchemeMorphism_polynomial_projective_space(SchemeMorphism_polynomial):

`@``@` -2360,8 +2374,9 `@``@` class SchemeMorphism_polynomial_projective_space(SchemeMorphism_polynomial):

Spacing Issues:



`@``@` -765,7 +764,7 `@``@` class SchemeMorphism_polynomial_projective_space(SchemeMorphism_polynomial):

`@``@` -803,16 +802,16 `@``@` class SchemeMorphism_polynomial_projective_space(SchemeMorphism_polynomial):

`@``@` -833,7 +832,7 `@``@` class SchemeMorphism_polynomial_projective_space(SchemeMorphism_polynomial):

`@``@` -4129,9 +4166,9 `@``@` class SchemeMorphism_polynomial_projective_space_finite_field(SchemeMorphism_pol

`@``@` -4159,7 +4199,7 `@``@` class SchemeMorphism_polynomial_projective_space_finite_field(SchemeMorphism_pol

`@``@` -45,9 +44,9 `@``@` def _fast_possible_periods(self,return_points=False):

`@``@` -102,59 +101,59 `@``@` def _fast_possible_periods(self,return_points=False):

`@``@` -182,58 +182,58 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -246,20 +246,20 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -293,58 +293,58 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -3010,12 +3039,14 `@``@` class SchemeMorphism_polynomial_projective_space(SchemeMorphism_polynomial):

`@``@` -565,53 +569,54 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -742,16 +749,16 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -759,8 +766,8 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -813,9 +820,9 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -882,20 +891,20 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -903,12 +912,12 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -1064,8 +1075,8 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -1075,8 +1086,8 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -1085,8 +1096,8 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -1176,14 +1187,14 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -1228,26 +1239,26 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -1262,30 +1273,31 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -1359,7 +1372,7 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -1368,10 +1381,10 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -1395,8 +1408,8 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -1406,7 +1419,7 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -1414,8 +1427,8 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):

`@``@` -1424,24 +1437,24 `@``@` class SchemeMorphism_point_projective_ring(SchemeMorphism_point):


---

Comment by git created at 2016-01-27 21:59:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bhutz created at 2016-01-27 22:02:58

Changing status from needs_work to needs_review.


---

Comment by rlmiller created at 2016-01-28 17:08:51

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-01-28 17:20:05

Merge conflict, try with the next beta


---

Comment by vbraun created at 2016-01-28 17:20:05

Changing status from positive_review to needs_work.


---

Comment by git created at 2016-01-28 20:58:25

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bhutz created at 2016-01-28 21:06:41

that still wasn't the right beta, I have it now and did another merge. Conflict resolved; am now testing.


---

Comment by git created at 2016-01-28 23:25:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bhutz created at 2016-01-28 23:25:49

Changing status from needs_work to needs_review.


---

Comment by bhutz created at 2016-01-28 23:25:49

conflict resolved


---

Comment by git created at 2016-01-29 22:58:49

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by rlmiller created at 2016-02-02 01:46:47

Changing status from needs_review to positive_review.


---

Comment by bhutz created at 2016-02-02 02:18:15

Fixed description and updated milestone.


---

Comment by vbraun created at 2016-02-02 20:40:58

PDF docs don't build: 

```
! Missing $ inserted.
<inserted text> 
                $
l.32465 \bibitem[Silverman_ADS]{Silverman_ADS}
                                              {\phantomsection\label{sage/sc...
```

You can't use underscores as bibitem keys


---

Comment by vbraun created at 2016-02-02 20:40:58

Changing status from positive_review to needs_work.


---

Comment by git created at 2016-02-02 20:55:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bhutz created at 2016-02-02 20:57:12

oops. Sorry, I forgot about the no underscores and obviously didn't build the pdf version.

The pdf docs compile now.


---

Comment by bhutz created at 2016-02-02 20:57:12

Changing status from needs_work to needs_review.


---

Comment by rlmiller created at 2016-02-03 17:07:36

Changing status from needs_review to positive_review.


---

Comment by rlmiller created at 2016-02-03 17:07:36

PDF's build.


---

Comment by jdemeyer created at 2016-02-05 14:20:40

Can you accept this small change to avoid a conflict with #20011?


---

Comment by jdemeyer created at 2016-02-05 14:20:40

Changing status from positive_review to needs_review.


---

Comment by bhutz created at 2016-02-05 15:12:27

Changing status from needs_review to positive_review.


---

Comment by bhutz created at 2016-02-05 15:12:27

yes, that is fine.


---

Comment by vbraun created at 2016-02-06 10:28:55

Resolution: fixed


---

Comment by jdemeyer created at 2016-03-22 13:38:26

What do you prefer: "Rebecca Lauren Miller" or "Rebecca Miller"?
