# Issue 34067: pep8 cleanup for one file in quadratic_forms

Issue created by migration from https://trac.sagemath.org/ticket/34304

Original creator: chapoton

Original creation time: 2022-08-08 12:35:13

CC:  tscrim klee slelievre dcoudert

also a few code and doc details


---

Comment by chapoton created at 2022-08-08 12:35:59

Changing status from new to needs_review.


---

Comment by chapoton created at 2022-08-08 12:35:59

New commits:


---

Comment by mkoeppe created at 2022-08-08 16:11:24


```
diff --git a/src/sage/quadratic_forms/quadratic_form.py b/src/sage/quadratic_forms/quadratic_form.py
index f5ac84b..e76e1ab 100644
--- a/src/sage/quadratic_forms/quadratic_form.py
+++ b/src/sage/quadratic_forms/quadratic_form.py
@@ -453,13 +453,13 @@ class QuadraticForm(SageObject):
...
+    from sage.quadratic_forms.local_representation_conditions import (
+        local_representation_conditions,
```

I think it's problematic that the imported name `local_representation_conditions` shadows the module name `sage.quadratic_forms.local_representation_conditions`


---

Comment by git created at 2022-08-08 18:01:05

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by chapoton created at 2022-08-08 18:02:00

ok, right. Now with a shorter filename


---

Comment by slelievre created at 2022-08-08 18:19:20

The `.. TODO::` block seems indented by 3 spaces instead of 4.


---

Comment by git created at 2022-08-08 19:18:15

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-08-08 19:19:52

voila


---

Comment by chapoton created at 2022-08-16 11:52:01

review, please?


---

Comment by klee created at 2022-08-16 12:49:47

You renamed `sage.quadratic_forms.quadratic_form__local_representation_conditions` to `sage.quadratic_forms.local_representation`.

There are many `sage.quadratic_forms.quadratic_form__xxx` modules in the same package. Hence your change make only one of those modules out of the naming pattern. 

Why only one module? Do you plan to change the name of other modules too?

If you plan to change them all, how about the pattern `sage.quadratic_forms._local_representation_conditions`? 

And I think we should keep the original name `local_representation_conditions` as the original author intended.


---

Comment by chapoton created at 2022-08-16 13:21:16

I changed only one filename to avoid controversy.

My first choice for the shorter name was indeed `local_representation_conditions` but objected in comment:2 so I picked a shorter one.

There are also many files in the folder that already do not follow the pattern `quadratic_form__xxx` so I am not breaking the pattern.


---

Comment by klee created at 2022-08-16 13:50:09

Replying to [comment:10 chapoton]:
> My first choice for the shorter name was indeed `local_representation_conditions` but objected in comment:2 so I picked a shorter one.

I understood. But dropping a word has danger of changing the meaning. So instead of dropping a part, I suggested to add the prefix `_`. Then this pattern may be applied to other similar files later...


---

Comment by chapoton created at 2022-08-16 14:56:47

Sorry, using the prefix `_` for a module name does not look like a good idea.

Let's try to choose another name, that would suit everybody..

Maybe `local_representation_criteria` ?


---

Comment by klee created at 2022-08-16 15:01:23

If the aim is to have a short name, how about

`qf__local_representation_conditions`

?


---

Comment by klee created at 2022-08-16 15:08:41

I think these modules `quadratic_form__xxx` are special in that they were created to provide class method definitions in separate files. So a slightly non-conventional naming is okay if it could satisfy the style checker. Like the prefix `qf__` :)


---

Comment by mkoeppe created at 2022-08-16 15:30:17

It may make sense to change it back to the original for this ticket, and open a separate ticket for doing all renames simultaneously.


---

Comment by tscrim created at 2022-08-17 00:05:09

My 2 cents.

I agree with Matthias in comment:15; we should rename all of them on one (separate) ticket.

I am +1 on removing `quadratic_form__` from all of the filenames as they are redundant with the folder name.

I am not so worried about comment:2; we have ways of resolving such conflicts with, e.g., `import foo as bar`. Yet, it would be good to avoid that for us humans who get confused.


---

Comment by klee created at 2022-08-17 03:06:46

Replying to [comment:15 mkoeppe]:
> It may make sense to change it back to the original for this ticket, and open a separate ticket for doing all renames simultaneously.

+1.


---

Comment by git created at 2022-08-17 06:38:50

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by chapoton created at 2022-08-17 06:41:38

ok, so here is a branch not renaming the modified file


---

Comment by klee created at 2022-08-17 07:03:41

LGTM.


---

Comment by klee created at 2022-08-17 07:03:41

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2022-08-30 19:04:34

Resolution: fixed
