# Issue 30391: Change font of axis labels in Three.js

Issue created by migration from https://trac.sagemath.org/ticket/30628

Original creator: @jcamp0x2a

Original creation time: 2020-09-21 18:54:08

Keywords: threejs axis axes labels font

#30614 allows the font for text3d to be changed in the Three.js viewer. This ticket proposes allowing the font for the viewer's axis labels to be changed as well.


---

Comment by @jcamp0x2a created at 2020-09-21 19:06:30

Changing status from new to needs_info.


---

Comment by @jcamp0x2a created at 2020-09-21 19:06:30

I can work on getting this into 9.3. A few questions I have:

1. Is it just the font family that needs to be changed, or should the size, bold, italic, and/or opacity be changeable as well?

2. Would this apply to all axes, or would there be value in adjusting each axis independently? 

3. Would this apply to only the axis label ("x", "y", "z") or also the coordinate labels?


---

Comment by paulmasson created at 2020-09-21 21:35:18

Users have been asking for LaTeX rendering as well, if you want to tackle that...


---

Comment by egourgoulhon created at 2020-09-22 08:34:01

Replying to [comment:3 paulmasson]:
> Users have been asking for LaTeX rendering as well, if you want to tackle that...

Indeed, LaTeX rendering would be wonderful!


---

Comment by egourgoulhon created at 2020-09-22 08:41:19

Replying to [comment:1 gh-jcamp0x2a]:
> I can work on getting this into 9.3. 

Thanks!

> A few questions I have:
> 
> 1. Is it just the font family that needs to be changed, or should the size, bold, italic, and/or opacity be changeable as well?

I would say that size, style, weight and opacity should be changeable as well, as they are for `text3d` and for 2D plots.

> 
> 2. Would this apply to all axes, or would there be value in adjusting each axis independently? 
> 

Independently sounds better. 

> 3. Would this apply to only the axis label ("x", "y", "z") or also the coordinate labels?

For 2D plots, one can change the size of the axis label independently from the size of the coordinate labels. It would be nice to be able to do so for 3D plots, but IMHO this feature is less important than 2 and 3 above.


---

Comment by @jcamp0x2a created at 2020-09-22 16:58:24

Replying to [comment:4 egourgoulhon]:
> Replying to [comment:3 paulmasson]:
> > Users have been asking for LaTeX rendering as well, if you want to tackle that...
> 
> Indeed, LaTeX rendering would be wonderful!

Yea, I recently told `@`slelievre I would return to #30226, too. :)


---

Comment by @jcamp0x2a created at 2020-09-22 17:25:18

I'm envisioning passing a dict of options named the same as those passed to text3d. Something along the lines of...


```python

# All axes labels and coodinate labels share the same options:
g.show(axes_label_opts=dict(fontsize=10, fontweight='bold', opacity=0.5))

# Each axis has its own options. They apply to their coordinate labels, too:
g.show(axes_label_opts=[dict(...), dict(...), dict(...)])

# Complete control of all labels:
g.show(axes_label_opts=..., coord_label_opts=...)
```


I think that will cover all use cases. Any objections to this? Perhaps a flatter structure like:


```python
g.show(xaxis_label_fontsize=10, ycoord_label_opacity=0.5)
```



---

Comment by egourgoulhon created at 2020-09-22 19:54:23

Replying to [comment:7 gh-jcamp0x2a]:
> I'm envisioning passing a dict of options named the same as those passed to text3d. Something along the lines of...
> 
> {{{
> #!python
> 
> # All axes labels and coodinate labels share the same options:
> g.show(axes_label_opts=dict(fontsize=10, fontweight='bold', opacity=0.5))
> 
> # Each axis has its own options. They apply to their coordinate labels, too:
> g.show(axes_label_opts=[dict(...), dict(...), dict(...)])
> 
> # Complete control of all labels:
> g.show(axes_label_opts=..., coord_label_opts=...)
> }}}
> 
> I think that will cover all use cases. Any objections to this? 

Looks good!

> Perhaps a flatter structure like:
> 
> {{{
> #!python
> g.show(xaxis_label_fontsize=10, ycoord_label_opacity=0.5)
> }}}

Why not, but this may require too much work. Also, I don't think we have this for 2D plots and maybe things should be consistent between 2D and 3D graphics.


---

Comment by @jcamp0x2a created at 2020-12-05 03:53:02

I've pushed a branch allowing the axis label text style to be customized. The same style can be applied to all axes, or each axis can be customized separately. 

The style for the coordinates is not presently customizable independently of the axis names. The axis name would need to be broken out into a separate label from the middle coordinate. That could be done in a follow-up ticket if there's demand for that level of customization.

I shall attach an example plot with each axis customized. It was generated using:


```python
sage: style = [dict(color='red', fontweight='bold'),
....:          dict(fontsize=20, fontfamily='Times New Roman, Georgia, serif'),
....:          dict(fontstyle='italic', opacity=0.5)]
sage: show(dodecahedron(), axes_labels_style=style)
```

----
New commits:


---

Comment by @jcamp0x2a created at 2020-12-05 03:53:02

Changing status from needs_info to needs_review.


---

Attachment


---

Comment by egourgoulhon created at 2020-12-07 10:17:37

Changing status from needs_review to positive_review.


---

Comment by egourgoulhon created at 2020-12-07 10:17:37

This is very nice! Thank you. 
I played a little bit with it and everything seems OK. So I am setting the ticket to positive review. Paul, do you agree?


---

Comment by vbraun created at 2020-12-14 23:52:51

Resolution: fixed
