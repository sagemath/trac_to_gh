# Issue 10661: include support for beta variables for partitions

Issue created by migration from Trac.

Original creator: pdehaye

Original creation time: 2011-02-01 22:13:35

Assignee: tbd

CC:  sage-combinat hivert benjaminfjones

things such as

sage: Partition(beta_numbers=([3,2],[4,0]))


---

Comment by pdehaye created at 2011-02-02 00:04:28

Changing component from PLEASE CHANGE to combinatorics.


---

Comment by pdehaye created at 2011-02-02 00:04:28

Changing assignee from tbd to sage-combinat.


---

Attachment


---

Comment by hivert created at 2011-02-04 09:06:12

Just a quick comment:

I've never heard those called beta number so my advice is to use the name "Frobenius coordinate". Maybe it's worth asking for a vote on `sage-combinat-devel`. 

Cheers,

Florent


---

Comment by benjaminfjones created at 2011-02-09 01:45:15

Patch applies cleanly to sage-4.6.2.alpha2.

I get a strange error when giving beta number sequences with the wrong number of elements:


```
sage: Partition(beta_numbers=([6,3,2],[4,1]))

    310         b = beta_numbers[1]
    311         if len(a) <> len(b):
--> 312             raise ValueError, '%s is not a valid partition, the sequences of coordinates need to be the same length'%beta_numbers
    313             # should add tests to see if a and b are sorted down, nonnegative and strictly decreasing
    314     r = len(a)

TypeError: not all arguments converted during string formatting
```


I was expecting to get a ValueError. I get the same strange error if I try:

```
sage: Partition(beta_numbers=([6,3,2],[4,1,-1]))
```



---

Attachment

addendum to the first patch


---

Comment by pdehaye created at 2011-05-31 12:05:47

Changing status from new to needs_review.


---

Comment by pdehaye created at 2011-05-31 12:05:47

This second patch is to be applied on top of the first. It uses the word "Frobenius coordinates" instead of "beta numbers" (as suggested by hivert ), and fixes the exceptions problem pointed out by benjaminfjones .


---

Comment by benjaminfjones created at 2011-06-08 05:34:58

The two patches apply cleanly to Sage-4.7. I verified that a descriptive `ValueError` is raised in the situation described above. I found one last little issue with the docstring for Partition. On lines 190 -- 193 of sage/combinat/partition.py there is a doctest which is repeated. I think it's ready for a positive review after that change.


---

Attachment

ready for positive review now...


---

Comment by benjaminfjones created at 2011-06-08 16:54:03

Changing status from needs_review to positive_review.


---

Comment by benjaminfjones created at 2011-06-08 16:58:43

Looks good. I'll give it a positive review. 

To the release manager, apply the 3 patches in the obvious order: 

1. trac_10724-partitions_beta_numbers-pod.patch
2. trac_10724-partitions_beta_numbers-pod-2.patch
3. trac_10724-partitions_beta_numbers-pod-3.patch


---

Comment by benjaminfjones created at 2011-06-08 17:01:15

Sorry, my [WikiFormatting](WikiFormatting) skills are weak.

To the release manager, apply the 3 patches in the obvious order:

 1. trac_10724-partitions_beta_numbers-pod.patch 
 1. trac_10724-partitions_beta_numbers-pod-2.patch 
 1. trac_10724-partitions_beta_numbers-pod-3.patch


---

Comment by jdemeyer created at 2011-06-18 09:08:48

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2011-06-18 09:08:48

This needs to be rebased to [sage-4.7.1.alpha3](http://boxen.math.washington.edu/home/release/sage-4.7.1.alpha3/) (which has not yet been released but is likely to be released as it is now).


---

Comment by jdemeyer created at 2011-06-18 09:34:59

Also: [attachment:trac_10724-partitions_beta_numbers-pod.patch] is not a proper hg changeset.  Patches should be made using `hg export tip` and not `hg diff`.


---

Comment by jdemeyer created at 2011-07-05 12:12:45

*ping*


---

Comment by benjaminfjones created at 2011-07-05 17:04:23

I rebased the 3 patches to 4.7.1.alpha3 and attached them as one *proper* patch.


---

Attachment

rebase to 4.7.1.alpha3


---

Comment by benjaminfjones created at 2011-07-05 17:05:50

Changing status from needs_work to positive_review.


---

Comment by pdehaye created at 2011-07-05 17:07:30

thanks!


---

Comment by jdemeyer created at 2011-07-22 12:50:01

Resolution: fixed
